[{"tags": ["c++", "vector"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1522281302, "post_id": 49545962, "comment_id": 86099374, "body": "Post some compilable code. And say exactly what you mean by &quot; I can&#39;t seem to print it right&quot;"}, {"owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522281685, "post_id": 49545962, "comment_id": 86099468, "body": "I added the rest of the code. The floats just won&#39;t output in the .exe window."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1522282287, "post_id": 49545962, "comment_id": 86099616, "body": "<code>class Character(){</code> -- Where in any C++ book or tutorial do you see a class defined with parentheses <code>()</code> like that?"}, {"owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282448, "post_id": 49545962, "comment_id": 86099657, "body": "I didn&#39;t copy and paste the code, I just typed essentially what I needed. It was just a typo on here."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1522282496, "post_id": 49545962, "comment_id": 86099672, "body": "@Damonlaws <i>I didn&#39;t copy and paste the code, I just typed essentially what I needed</i> -- Do <i>not</i> type in the code.  Actually copy and paste the exact code in the edit window.  If you get a compiler error, and you paste fake code, that wastes everyone&#39;s time."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1522282957, "post_id": 49545962, "comment_id": 86099779, "body": "Unrelated: <code>Character* ch = new Character;</code> could be <code>Character ch;</code> and save you from some some memory management headaches that you are completely ignoring."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522281908, "post_id": 49546029, "comment_id": 86099525, "body": "then would I set up the declaration like this? \tvector&lt;float&gt; position(3); But With that, I get the error &#39;expected a type identifier&#39;"}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282155, "post_id": 49546029, "comment_id": 86099594, "body": "@Damonlaws, Are you sure ?  What compiler are you using ?"}, {"owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282369, "post_id": 49546029, "comment_id": 86099639, "body": "I&#39;m using MSVC for visual studio 2017"}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282569, "post_id": 49546029, "comment_id": 86099682, "body": "@Damonslaws, there is nothing wrong with a declaration like <code>vector&lt;float&gt; position(3);</code>.  You must have other problems."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282688, "post_id": 49546029, "comment_id": 86099710, "body": "@Damonlaws -- Now do you see the issue of posting incorrect code that you&#39;re not actually compiling?  It now becomes a guessing game on what you&#39;re really trying to compile."}, {"owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282824, "post_id": 49546029, "comment_id": 86099748, "body": "It&#39;s not showing me any other problems. Just that one error."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282885, "post_id": 49546029, "comment_id": 86099764, "body": "@Damonlaws That one error could be caused by other lines being wrong."}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522282978, "post_id": 49546029, "comment_id": 86099787, "body": "@Damonlaws, Update your question to include the actual code you are using."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 1, "creation_date": 1522283134, "post_id": 49546029, "comment_id": 86099816, "body": "@Damonlaws Better still, pick one bug and build an example program that contains the bug, the whole bug, and nothing but the bug. If isolating the bug down to the bare essentials doesn&#39;t show you how to fix it, ask a question about that"}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "edited": false, "score": 0, "creation_date": 1522283656, "post_id": 49546029, "comment_id": 86099932, "body": "That compiles, but it doesn&#39;t link because you declared <code>Character::Character()</code> but didn&#39;t implement it."}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "reply_to_user": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "edited": false, "score": 0, "creation_date": 1522284036, "post_id": 49546029, "comment_id": 86100025, "body": "@Damonlaws, I updated my answer to include the constructor."}], "tags": [], "owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1523935980, "last_edit_date": 1523935980, "creation_date": 1522281760, "answer_id": 49546029, "question_id": 49545962, "link": "https://stackoverflow.com/questions/49545962/how-would-i-print-a-vector-of-floats/49546029#49546029", "title": "How Would I print A Vector of Floats?", "body": "<pre><code>position.reserve(3);\nfor (int i=0; i&lt;position.size(); i++) \n</code></pre>\n\n<p><code>reserve()</code> does not change the size of the <code>vector</code>.  So your <code>vector</code> stays empty, and the loop never runs.</p>\n\n<p>Also, you should call <code>srand()</code> only once, and generate the random value in the loop unless you want them all to be the same.</p>\n\n<hr>\n\n<pre><code>float f = rand() / (RAND_MAX + 1) + 12 + (rand() % 4);\n</code></pre>\n\n<p><code>rand()</code> returns an <code>int</code> smaller than <code>RAND_MAX</code>, so the division yields <code>0</code>. \n Hence you can replace that expression with :</p>\n\n<pre><code>float f = 12 + rand() % 4;\n</code></pre>\n\n<p>Since the right hand side is an <code>int</code>, f is going to be <code>12.0</code>, <code>13.0</code>, <code>14.0</code> or <code>15.0</code>.</p>\n\n<hr>\n\n<p>You could implement the constructor like this:</p>\n\n<pre><code>Character::Character()\n: position(3)\n{\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 9362826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5726506b5232a9c50860ce4be3817b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Yu Hua Guo", "link": "https://stackoverflow.com/users/9362826/yu-hua-guo"}, "is_accepted": true, "score": 3, "last_activity_date": 1522284328, "last_edit_date": 1522284328, "creation_date": 1522282892, "answer_id": 49546180, "question_id": 49545962, "link": "https://stackoverflow.com/questions/49545962/how-would-i-print-a-vector-of-floats/49546180#49546180", "title": "How Would I print A Vector of Floats?", "body": "<p>You can use a range-based for loop:</p>\n\n<pre><code>for (auto posit : position)\n{\n    cout &lt;&lt; posit &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Now, I'm pretty new to coding myself, but here's my attempt:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nclass Character\n{\nprivate:\n    vector&lt;float&gt; position;\n    float f;\n\npublic:\n    Character()\n    {\n        populateCharacter(5);\n    }\n\n    //I separated out the push and print as separate functions\n    void populateCharacter(int vectorSize)\n    {\n        for(int i = 0; i &lt; vectorSize; i++){\n            f = rand() / (RAND_MAX + 1) + 12 + (rand() % 4);\n            position.push_back(f);\n        }\n    }\n\n    void printCharacter()\n    {\n        cout &lt;&lt; \"Position: \"&lt;&lt;endl;\n\n        for (auto posit : position)\n        {\n            cout &lt;&lt; posit &lt;&lt; endl;\n        }\n    }\n};\n\nint main()\n{\n    Character* ch = new Character;\n\n    ch-&gt;printCharacter();\n    delete ch;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9073164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76043df1bd23f47223522e81edfdabd?s=128&d=identicon&r=PG&f=1", "display_name": "Damonlaws", "link": "https://stackoverflow.com/users/9073164/damonlaws"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 49546180, "answer_count": 2, "score": -3, "last_activity_date": 1523935980, "creation_date": 1522281184, "last_edit_date": 1522285431, "question_id": 49545962, "link": "https://stackoverflow.com/questions/49545962/how-would-i-print-a-vector-of-floats", "title": "How Would I print A Vector of Floats?", "body": "<p>I'm trying to make a vector to contain three floats, one representing x, one for y, and one for z. So for the moment, I added random integers into the vector, and now I'm trying to print it so I can see the position values, but I can't seem to print it right. Could someone please look over this code to see what I could be missing? Thank you</p>\n\n<p>Character.h</p>\n\n<pre><code>#include &lt;ctime&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Character\n{\n  public:\n    Character();\n\n    void printCharacter();\n\n    string firstName;\n    string lastName;\n    int healthPoints=rand() % 100;\n    vector&lt;float&gt; position;\n    float f = rand() / (RAND_MAX + 1) + 12 + (rand() % 4);\n};\n</code></pre>\n\n<p>Character.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"Character.h\"\n#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nvoid Character::printCharacter() \n{\n  cout &lt;&lt; \"Enter First Name\" &lt;&lt; endl;\n  cin &gt;&gt; firstName;\n  cout &lt;&lt; \"Enter Last Name\" &lt;&lt; endl;\n  cin &gt;&gt; lastName;\n  cout &lt;&lt; endl;\n  cout &lt;&lt; firstName &lt;&lt; \" \" &lt;&lt; lastName &lt;&lt; \": \" &lt;&lt; endl;\n  cout &lt;&lt; \"Health: \" &lt;&lt; healthPoints &lt;&lt; endl;\n  cout &lt;&lt; \"Position: \"&lt;&lt;endl;\n\n  for (auto i=0; i&lt;position.size(); i++) \n  { \n    srand(time(NULL));\n    position.push_back(f);\n    cout &lt;&lt; position[i] &lt;&lt; endl;\n  }\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"Character.h\"\n\nint main()\n{\n  Character* ch = new Character;\n\n  ch-&gt;printCharacter();\n  system(\"pause\");\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-asio"], "comments": [{"owner": {"reputation": 4783, "user_id": 3854787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WRLaI.jpg?s=128&g=1", "display_name": "C&#225;ssio Renan", "link": "https://stackoverflow.com/users/3854787/c%c3%a1ssio-renan"}, "edited": false, "score": 1, "creation_date": 1522280825, "post_id": 49545854, "comment_id": 86099257, "body": "This looks like a question more suited for <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering</a> than SO to me. The difference in scope from it and SO is a bit of a gray area for me, though, so I&#39;ll refrain from voting."}, {"owner": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "edited": false, "score": 0, "creation_date": 1522356674, "post_id": 49545854, "comment_id": 86137854, "body": "The co-routines are optional, you don&#39;t have to use to take an advantage of <code>asio::io_service</code>-based dispatch. Just make the event-handlers &quot;nullary&quot; function objects, and <code>post()</code> them to the <code>io_service</code> -- and they will be invoked asynchronously."}, {"owner": {"reputation": 115, "user_id": 7184212, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BDzIyqX7Vfw/AAAAAAAAAAI/AAAAAAAAUpY/_IVLiiuckdw/photo.jpg?sz=128", "display_name": "Nathan Owen", "link": "https://stackoverflow.com/users/7184212/nathan-owen"}, "reply_to_user": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "edited": false, "score": 0, "creation_date": 1522359869, "post_id": 49545854, "comment_id": 86139252, "body": "@IgorR.  Thanks, that was what I was hoping just not experienced with boost:asio."}, {"owner": {"reputation": 115, "user_id": 7184212, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BDzIyqX7Vfw/AAAAAAAAAAI/AAAAAAAAUpY/_IVLiiuckdw/photo.jpg?sz=128", "display_name": "Nathan Owen", "link": "https://stackoverflow.com/users/7184212/nathan-owen"}, "reply_to_user": {"reputation": 4783, "user_id": 3854787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WRLaI.jpg?s=128&g=1", "display_name": "C&#225;ssio Renan", "link": "https://stackoverflow.com/users/3854787/c%c3%a1ssio-renan"}, "edited": false, "score": 0, "creation_date": 1522359922, "post_id": 49545854, "comment_id": 86139277, "body": "@C&#225;ssioRenan Thanks, I will check out that stack exchange. I have not heard of it before."}], "answers": [{"tags": [], "owner": {"reputation": 1574, "user_id": 5515320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d29062b266eaaabb66a8febf8c6dc2c?s=128&d=identicon&r=PG&f=1", "display_name": "xlrg", "link": "https://stackoverflow.com/users/5515320/xlrg"}, "is_accepted": false, "score": 0, "last_activity_date": 1522822796, "creation_date": 1522822796, "answer_id": 49644091, "question_id": 49545854, "link": "https://stackoverflow.com/questions/49545854/rewriting-multi-threaded-event-driven-c-program-to-use-single-threaded-boost/49644091#49644091", "title": "Rewriting multi-threaded event-driven C++ program to use single-threaded boost::asio", "body": "<p>You could use <a href=\"https://www.boost.org/doc/libs/1_66_0/libs/fiber/doc/html/index.html\" rel=\"nofollow noreferrer\">boost.fiber</a> - it provides an API like std::thread.\nYou do not necessarily need boost.asio</p>\n"}], "owner": {"reputation": 115, "user_id": 7184212, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BDzIyqX7Vfw/AAAAAAAAAAI/AAAAAAAAUpY/_IVLiiuckdw/photo.jpg?sz=128", "display_name": "Nathan Owen", "link": "https://stackoverflow.com/users/7184212/nathan-owen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1522822796, "creation_date": 1522280302, "question_id": 49545854, "link": "https://stackoverflow.com/questions/49545854/rewriting-multi-threaded-event-driven-c-program-to-use-single-threaded-boost", "title": "Rewriting multi-threaded event-driven C++ program to use single-threaded boost::asio", "body": "<p>I am working on refactoring a large code base responsible for IO operations.  Currently the program is comprised of a number of threads, each of which waits for proprietary events to be received.  Events are posted to a global event queue and are received by all threads (a global event dispatcher calls an event handler function for every thread and that thread determines whether or not it should do something based on the event type and, if necessary, adds that event to its own work queue).</p>\n\n<p>This architecture has a lot of overhead, both due to having a lot of threads (around 12 on a single arm core) which are mostly sleeping and due to the work queues.  It also requires a few hundred different event classes which reduces maintainability.</p>\n\n<p>I would like to replace this event based architecture with a single threaded boost asio methodology but am unsure of what paradigm I should use to do this.  I think boost::io_service might be the best but perhaps coroutines, fibers, or something else would be better.</p>\n\n<p>Does anyone have any suggestions what boost::asio paradigm would result in the smoothest transition when moving away from an event queue?  I am looking for something that will improve code maintainability rather than making the code completely incomprehensible in exchange for reduced overhead.</p>\n\n<p>This looks promising, but the coroutine syntax is a bit scary and it is going to be hard to sell to the rest of my team:\n<a href=\"http://www.boost.org/doc/libs/1_57_0/libs/coroutine/doc/html/coroutine/motivation.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_57_0/libs/coroutine/doc/html/coroutine/motivation.html</a></p>\n"}, {"tags": ["c++", "templates", "structure", "variadic-templates", "cyclic"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8643925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740c988af86bb151ddfbe6f90aa28f6d?s=128&d=identicon&r=PG&f=1", "display_name": "CaTo", "link": "https://stackoverflow.com/users/8643925/cato"}, "edited": false, "score": 0, "creation_date": 1522362693, "post_id": 49545856, "comment_id": 86140239, "body": "what a beast, took me a bit to get it. Although, &#39;nodes arities&#39; of an edge must be all the same (uses array). Is there a way that an edge accepts nodes of different arity? Maybe template wrapping both zN and Is together?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 47, "user_id": 8643925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740c988af86bb151ddfbe6f90aa28f6d?s=128&d=identicon&r=PG&f=1", "display_name": "CaTo", "link": "https://stackoverflow.com/users/8643925/cato"}, "edited": false, "score": 0, "creation_date": 1522365638, "post_id": 49545856, "comment_id": 86141062, "body": "@cato the problem is that you rapidly approach &quot;need entire structure of graph to determine types of each node&quot; without some type erasure lubrication.  By using a max airity on the nullable lists we provide that.  There are other spots where you could apply type erasure instead."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1522280317, "creation_date": 1522280317, "answer_id": 49545856, "question_id": 49545703, "link": "https://stackoverflow.com/questions/49545703/circular-template-dependecy-of-variadic-class-templates/49545856#49545856", "title": "Circular template dependecy of variadic class templates", "body": "<p>You could encode the entire airity structure of the graph in the type system, but I doubt that is useful.</p>\n\n<p>Type erasure is always an option.   Ignoring that, you could use templates for both edge type and node type, and max airity.</p>\n\n<pre><code>template&lt;template&lt;class...&gt;class Z&gt;\nstruct ztemplate{\n  template&lt;class...Ts&gt;\n  using z=Z&lt;Ts...&gt;;\n};\ntemplate&lt;class zE, class Indexes&gt;\nclass Node;\nusing zNode=ztemplate&lt;Node&gt;;\ntemplate&lt;class zN, class Indexes, class Count&gt;\nclass Edge;\nusing zEdge=ztemplate&lt;Edge&gt;;\n\ntemplate&lt;class zE, std::size_t...Is&gt;\nclass Node&lt;zE,std::index_sequence&lt;Is...&gt;&gt;{\n  std::tuple&lt; std::list&lt; zE::template z&lt;zNode, std::index_sequence&lt;Is...&gt;, std::integral_constant&lt;std::size_t,Is&gt;&gt;... &gt; edges;\n};\ntemplate&lt;class zN, std::size_t...Is, std::size_t A&gt;\nclass Edge&lt;zN,std::index_sequence&lt;Is...&gt;, std::integral_constant&lt;std::size_t,A&gt;&gt;{\n  std::array&lt; zN::template z&lt;zEdge, std::index_sequence&lt;Is...&gt;&gt;*, A&gt; nodes;\n};\n</code></pre>\n\n<p>or somesuch.</p>\n"}], "owner": {"reputation": 47, "user_id": 8643925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740c988af86bb151ddfbe6f90aa28f6d?s=128&d=identicon&r=PG&f=1", "display_name": "CaTo", "link": "https://stackoverflow.com/users/8643925/cato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49545856, "answer_count": 1, "score": 0, "last_activity_date": 1522280317, "creation_date": 1522279304, "question_id": 49545703, "link": "https://stackoverflow.com/questions/49545703/circular-template-dependecy-of-variadic-class-templates", "title": "Circular template dependecy of variadic class templates", "body": "<p>I'm trying to build a 'non-centralized' graph structure where nodes and edges cross-point themselves. Quite similar to this: <a href=\"https://stackoverflow.com/questions/15330073/circular-template-reference-structure\">Circular template reference structure</a>.</p>\n\n<p>Although, I'm trying to support that nodes can hold several edges types of varying 'arity'. And that, reciprocally, edge's many nodes types.</p>\n\n<p>\u00bfIs there a way to achieve this with generic programming / metaprogramming without relaying on inheritance?</p>\n\n<p>The following approach that I tried highlights the problem:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;tuple&gt;\n#include &lt;list&gt;\n\nusing namespace std;\n\ntemplate&lt;class ...EdgeTypes&gt;\nclass node\n{\n  public:\n    std::tuple&lt;std::list&lt;EdgeTypes*&gt;...&gt; edges_;\n\n    template&lt;size_t I&gt;\n    using container_value_type_i = typename std::tuple_element&lt;I, decltype(edges_) &gt;::type::value_type;\n\n    template&lt; std::size_t I&gt;\n    void addEdge(const container_value_type_i&lt;I&gt;&amp; e)\n    { std::get&lt;I&gt;(edges_).push_back(e); }\n};\n\ntemplate&lt;template&lt;class...&gt; class ...V&gt;\nclass edge\n{\n\n  public:\n\n    std::tuple&lt;V&lt;edge&gt;*...&gt; vertices_;\n    //           ^^^^\n    // its forcing that all nodes have the same number of 'edges types' (one)\n    // and that they are of the same 'arity' as edge object\n\n    template&lt;size_t I&gt;\n    using vertex_type_i = typename std::tuple_element&lt;I, decltype(vertices_) &gt;::type;\n\n    template&lt; std::size_t I&gt;\n    void addNode(const vertex_type_i&lt;I&gt;&amp; e)\n    { std::get&lt;I&gt;(vertices_) = e; }\n\n};\n\nint main()\n{\n  edge&lt;node&gt; unary_edge;\n  edge&lt;node, node&gt; binary_edge;\n\n  node&lt;edge&lt;node&gt;&gt; unary_node_of_unary_edges;\n\n  unary_node_of_unary_edges.addEdge&lt;0&gt;(&amp;unary_edge);\n  unary_edge.addNode&lt;0&gt;(&amp;unary_node_of_unary_edges);\n\n  node&lt;edge&lt;node, node&gt;&gt; unary_node_of_binary_edges;\n\n  unary_node_of_binary_edges.addEdge&lt;0&gt;(&amp;binary_edge);\n\n  // This won't compile as edge type of node's edges are not the same as unary_edge\n  //unary_edge.addNode&lt;0&gt;(unary_node_of_binary_edges);\n\n  node&lt;edge&lt;node&gt;, edge&lt;node, node&gt;&gt; binary_node_of_unary_edges_and_binary_edges;\n\n  binary_node_of_unary_edges_and_binary_edges.addEdge&lt;0&gt;(&amp;unary_edge);\n  binary_node_of_unary_edges_and_binary_edges.addEdge&lt;1&gt;(&amp;binary_edge);\n\n  // This won't compile as nodes's edges are not all the same type\n  //unary_edge.addNode&lt;0&gt;(&amp;binary_node_of_unary_edges_and_binary_edges);\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "lua"], "comments": [{"owner": {"reputation": 651, "user_id": 6834680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OvYt2.png?s=128&g=1", "display_name": "Egor   Skriptunoff", "link": "https://stackoverflow.com/users/6834680/egor-skriptunoff"}, "edited": false, "score": 0, "creation_date": 1522321976, "post_id": 49545520, "comment_id": 86116358, "body": "In simple cases, a system should operate on a vector which contains all components (with system&#39;s type), each component should have ID of its entity and some internal data (such as rectangle dimensions). In non-simple cases, that shouldn&#39;t be a vector, but complex structure (such as 2D fast search tree). The idea is: a system should have all interesting components arranged in most convenient way for implementing system&#39;s logic."}, {"owner": {"reputation": 651, "user_id": 6834680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OvYt2.png?s=128&g=1", "display_name": "Egor   Skriptunoff", "link": "https://stackoverflow.com/users/6834680/egor-skriptunoff"}, "edited": false, "score": 0, "creation_date": 1522322056, "post_id": 49545520, "comment_id": 86116421, "body": "tldr: you should not iterate over entities."}], "owner": {"reputation": 67, "user_id": 6304149, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1ea55f5956f06f0c802ab6ad2b28a7c?s=128&d=identicon&r=PG&f=1", "display_name": "guavadrag0n", "link": "https://stackoverflow.com/users/6304149/guavadrag0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1522278218, "creation_date": 1522278096, "last_edit_date": 1522278218, "question_id": 49545520, "link": "https://stackoverflow.com/questions/49545520/ecs-handling-components-and-specifically-a-collision-component", "title": "ECS - Handling components and specifically, a collision component", "body": "<p>I'm working on a game in c++ and am implementing an ECS system.</p>\n\n<ol>\n<li><p>I have a class: EntityFactory that is used to create and store an entity in a vector. An entity consists of a map of components. When a system is doing logic, should I just iterate over each entity, and then each of its components, or should I store vectors that contain references to each component created?</p></li>\n<li><p>I have a component called \"CollisionComponent\". I'm a little confused as how to perform collision updates with the collision system. As pseudo code I was thinking this:</p></li>\n</ol>\n\n<p>I'm sorry if I formatted this wrong:</p>\n\n<pre><code>foreach(entity)\n\n   rect collide = getComponent&lt;CollisionComponent&gt;().bounds\n\n   for(loop through every other entity with collision component)\n\n       if(rect.intersects(otherEntity)\n          //do collide logic\n</code></pre>\n\n<p>I feel like this is an inefficient way to accomplish this task.</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["c++", "windows", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1522277575, "post_id": 49545402, "comment_id": 86098408, "body": "Why do not you keep using QClipBoard for windows?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522278255, "post_id": 49545402, "comment_id": 86098589, "body": "Calling <code>SendInput()</code> with <code>nInputs=1</code> is (almost always) a mistake. That defeats the purpose of using <code>SendInput()</code> instead of <code>keybd_event()</code>. Create an array of multiple <code>INPUT</code>s and pass the whole array to <code>SendInput()</code> at one time with <code>nInputs</code> set to the number of <code>INPUT</code>s in the array. And get rid of the <code>Sleep()</code> calls, they are not needed. If you need to check if a given key is already down, use <code>GetAsyncKeyState()</code>. Alternatively, try using <code>GetGUIThreadInfo()</code> to get the <code>HWND</code> that currently has input focus and then send it a <code>WM_COPY</code> message."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522278616, "post_id": 49545402, "comment_id": 86098685, "body": "Or, if the <code>HWND</code> is a standard Edit control, you can use a combination of <code>EM_GETSEL</code> and <code>WM_GETTEXT</code> to extract the selected text without going through the clipboard. Or, if the <code>HWND</code> is a standard RichEdit control, use a combination of <code>EM_EXGETSEL</code> and <code>EM_GETSELTEXT</code>.  Or, use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee684009.aspx\" rel=\"nofollow noreferrer\">UI Automation</a> instead."}, {"owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1522280506, "post_id": 49545402, "comment_id": 86099173, "body": "@eyllanesc, because QClipboard don&#39;t work on Windows in Selection mode. @RemyLebeau, thanks for explanation! Which solution will be more universal to get selection from any app, send <code>Ctrl + C</code> or send a <code>WM_COPY</code> message?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1522280556, "post_id": 49545402, "comment_id": 86099183, "body": "@\u0413\u0435\u043d\u0430\u0427\u0435\u0440\u043d\u044b\u0449\u0443\u043a So, why do you use the Qt tag?"}, {"owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1522280742, "post_id": 49545402, "comment_id": 86099233, "body": "@eyllanesc, because I don&#39;t know how to check with <code>GetAsyncKeyState()</code> if any button pressed from <code>QKeySequenceEdit</code>."}, {"owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522429896, "post_id": 49545402, "comment_id": 86164603, "body": "@RemyLebeau, Hmm... Sending shortcut with GetAsyncKeyState() looks like more universal solution for any app. But how I can get keys for GetAsyncKeyState() from QKeySequenceEdit?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522431269, "post_id": 49545402, "comment_id": 86165230, "body": "<a href=\"http://doc.qt.io/qt-5/qkeysequenceedit.html\" rel=\"nofollow noreferrer\"><code>QKeySequenceEdit</code></a> has a <a href=\"http://doc.qt.io/qt-5/qkeysequence.html\" rel=\"nofollow noreferrer\"><code>QKeySequence</code></a> which you can enumerate to get individual keys. Translate each key from a <a href=\"http://doc.qt.io/qt-5/qt.html#Key-enum\" rel=\"nofollow noreferrer\">Qt key code</a> to a <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731.aspx\" rel=\"nofollow noreferrer\">Windows virtual key code</a> to use when querying <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms646293.aspx\" rel=\"nofollow noreferrer\"><code>GetAsyncKeyState()</code></a> and sending with <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms646310.aspx\" rel=\"nofollow noreferrer\"><code>SendInput()</code></a>."}, {"owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522519781, "post_id": 49545402, "comment_id": 86189471, "body": "@RemyLebeau, but how I can translate Qt key code into Windows virtual key code?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522530195, "post_id": 49545402, "comment_id": 86192293, "body": "@Shatur95 create your own lookup table to map one to the other"}, {"owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522796464, "post_id": 49545402, "comment_id": 86288227, "body": "@RemyLebeau, thank you! I got it! But this method of obtaining the selected text has the disadvantage - previous clipboard is lost. I tried to save clipboard data to <code>QMimeType</code> before sending <code>Ctrl + C</code> and restore after sending, but it works strange: when I restoring clipboard data I sometimes don&#39;t get selected text (I get the clipboard that was before sending <code>Ctrl + C</code>), but without restoring clipboard data everything work properly. Why could this happen? Is QClipboard works asynchronously?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522798957, "post_id": 49545402, "comment_id": 86288912, "body": "@Shatur95: Not everything in a UI responds to <code>Ctrl+C</code> by copying something to the clipboard (and yes, copying is asynchronous, since <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20140213-00/?p=1773/\" rel=\"nofollow noreferrer\">keypress handling is asynchronous</a>, so generation of <code>WM_COPY</code> messages can be delayed). That is why I mentioned several alternatives that don&#39;t rely on using the Clipboard at all. Otherwise, you might consider monitoring the Clipboard for real-time changes via <code>AddClipboardFormatListener()</code> or <code>SetClipboardViewer()</code>, and then act on the Clipboard only if <code>Ctrl+C</code> actually causes a change."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "is_accepted": true, "score": 1, "last_activity_date": 1523891299, "creation_date": 1523891299, "answer_id": 49860645, "question_id": 49545402, "link": "https://stackoverflow.com/questions/49545402/get-selected-text-from-current-window-with-c-qt/49860645#49860645", "title": "Get selected text from current window with C++ \\ Qt", "body": "<p>My solution to get selected text:</p>\n\n<pre><code>QString MainWindow::selectedText()\n{\n    QString selectedText;\n#if defined(Q_OS_LINUX)\n    selectedText = QApplication::clipboard()-&gt;text(QClipboard::Selection);\n#elif defined(Q_OS_WIN) // Send Ctrl + C to get selected text\n    // Save original clipboard data\n    QVariant originalClipboard;\n    if (QApplication::clipboard()-&gt;mimeData()-&gt;hasImage())\n        originalClipboard = QApplication::clipboard()-&gt;image();\n    else\n        originalClipboard = QApplication::clipboard()-&gt;text();\n\n    // Wait until the hot key is pressed\n    while (GetAsyncKeyState(translateSelectedHotkey-&gt;currentNativeShortcut().key) || GetAsyncKeyState(VK_CONTROL)\n           || GetAsyncKeyState(VK_MENU) || GetAsyncKeyState(VK_SHIFT))\n        Sleep(50);\n\n    // Generate key sequence\n    INPUT copyText[4];\n\n    // Set the press of the \"Ctrl\" key\n    copyText[0].ki.wVk = VK_CONTROL;\n    copyText[0].ki.dwFlags = 0; // 0 for key press\n    copyText[0].type = INPUT_KEYBOARD;\n\n    // Set the press of the \"C\" key\n    copyText[1].ki.wVk = 'C';\n    copyText[1].ki.dwFlags = 0;\n    copyText[1].type = INPUT_KEYBOARD;\n\n    // Set the release of the \"C\" key\n    copyText[2].ki.wVk = 'C';\n    copyText[2].ki.dwFlags = KEYEVENTF_KEYUP;\n    copyText[2].type = INPUT_KEYBOARD;\n\n    // Set the release of the \"Ctrl\" key\n    copyText[3].ki.wVk = VK_CONTROL;\n    copyText[3].ki.dwFlags = KEYEVENTF_KEYUP;\n    copyText[3].type = INPUT_KEYBOARD;\n\n    // Send key sequence to system\n    SendInput(4, copyText, sizeof(INPUT));\n\n    // Wait for the clipboard to change\n    QEventLoop loop;\n    QTimer timer; // Add a timer for the case where the text is not selected\n    loop.connect(QApplication::clipboard(), &amp;QClipboard::changed, &amp;loop, &amp;QEventLoop::quit);\n    loop.connect(&amp;timer, &amp;QTimer::timeout, &amp;loop, &amp;QEventLoop::quit);\n    timer.start(1000);\n    loop.exec();\n\n    // Translate the text from the clipboard if the selected text was not copied\n    if (timer.isActive())\n        return QApplication::clipboard()-&gt;text();\n    else\n        timer.stop();\n\n    // Get clipboard data\n    selectedText = QApplication::clipboard()-&gt;text();\n\n    // Return original clipboard\n    if (originalClipboard.type() == QVariant::Image)\n        QApplication::clipboard()-&gt;setImage(originalClipboard.value&lt;QImage&gt;());\n    else\n        QApplication::clipboard()-&gt;setText(originalClipboard.toString());\n#endif\n    return selectedText;\n}\n</code></pre>\n\n<p>To set global shortcuts I used <a href=\"https://github.com/Skycoder42/QHotkey\" rel=\"nofollow noreferrer\">QHotkey</a>. From QHotkey I get native keycodes using the <code>currentNativeShortcut().key</code> method.</p>\n"}], "owner": {"reputation": 93, "user_id": 9224918, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CkTMPqeyf2I/AAAAAAAAAAI/AAAAAAAAAIU/VWc9W_3tt9E/photo.jpg?sz=128", "display_name": "Shatur95", "link": "https://stackoverflow.com/users/9224918/shatur95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 49860645, "answer_count": 1, "score": 1, "last_activity_date": 1523891299, "creation_date": 1522277390, "last_edit_date": 1522304455, "question_id": 49545402, "link": "https://stackoverflow.com/questions/49545402/get-selected-text-from-current-window-with-c-qt", "title": "Get selected text from current window with C++ \\ Qt", "body": "<p>I'm trying to get selected text from active window of another app in my Qt application.\nOn Linux I just use <code>QClipboard</code> in <code>Selection</code> mode.\nOn Windows I'm trying to send <kbd>Ctrl</kbd> + <kbd>C</kbd> to system:</p>\n\n<pre><code>INPUT copyText;\ncopyText.type = INPUT_KEYBOARD;\ncopyText.ki.wScan = 0;\ncopyText.ki.time = 0;\ncopyText.ki.dwExtraInfo = 0;\n\nSleep(200);\n// Press the \"Ctrl\" key\ncopyText.ki.wVk = VK_CONTROL;\ncopyText.ki.dwFlags = 0; // 0 for key press\nSendInput(1, &amp;copyText, sizeof(INPUT));\n\n// Press the \"C\" key\ncopyText.ki.wVk = 'C';\ncopyText.ki.dwFlags = 0; // 0 for key press\nSendInput(1, &amp;copyText, sizeof(INPUT));\n\nSleep(50);\n\n// Release the \"C\" key\ncopyText.ki.wVk = 'C';\ncopyText.ki.dwFlags = KEYEVENTF_KEYUP;\nSendInput(1, &amp;copyText, sizeof(INPUT));\n\n// Release the \"Ctrl\" key\ncopyText.ki.wVk = VK_CONTROL;\ncopyText.ki.dwFlags = KEYEVENTF_KEYUP;\nSendInput(1, &amp;copyText, sizeof(INPUT));\nSleep(50);\n</code></pre>\n\n<p>But this hack doesn't work properly - sometimes I don't get selection. I think it can be caused by a hot key that calls function with this code and some keys are still pressed while this code is running. How can I check if every key isn't pressed from QKeySequenceEdit? Or how can I check if no one key pressed?\nOr is there an easier way to get the selected text from the active window on Windows?</p>\n"}, {"tags": ["c++", "friend", "friend-function"], "comments": [{"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 2, "creation_date": 1522277259, "post_id": 49545322, "comment_id": 86098318, "body": "works in gcc 6.3:  <a href=\"https://ideone.com/uFov6b\" rel=\"nofollow noreferrer\">ideone.com/uFov6b</a>  Also, works in VS2017"}, {"owner": {"reputation": 9427, "user_id": 7703024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e363e0e11695395e04f814233b6274?s=128&d=identicon&r=PG", "display_name": "super", "link": "https://stackoverflow.com/users/7703024/super"}, "edited": false, "score": 0, "creation_date": 1522277290, "post_id": 49545322, "comment_id": 86098324, "body": "The code compiles <a href=\"https://wandbox.org/permlink/QGmek3InTQGDa90b\" rel=\"nofollow noreferrer\">just fine</a>, and that&#39;s not a compiler error."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522277466, "post_id": 49545322, "comment_id": 86098381, "body": "Can&#39;t reproduce in MSVS2015 or 2010"}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 1, "creation_date": 1522277514, "post_id": 49545322, "comment_id": 86098395, "body": "Have you actually built it? Those looks like Intellisense <i>errors</i> which is where the compiler is just guessing at things, but if you build it it should build fine."}, {"owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "edited": false, "score": 0, "creation_date": 1522279504, "post_id": 49545322, "comment_id": 86098911, "body": "If it&#39;s really an intellisense error: Intellisense (AKA Dumbisense) often is wrong (although it has become a lot better the last years). The occasional wrong wiggly lines in the code drawn by Intellisense are easy to ignore, but when the wrong errors show up in the error list, they become really confusing. That&#39;s why I never have Intellisense errors shown in the Error list (you can switch it off with the dropdown menu right to &quot;0 Messages&quot;"}, {"owner": {"reputation": 51, "user_id": 2179907, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uj3zC.jpg?s=128&g=1", "display_name": "Shoaib Khan", "link": "https://stackoverflow.com/users/2179907/shoaib-khan"}, "edited": false, "score": 0, "creation_date": 1522304711, "post_id": 49545322, "comment_id": 86105785, "body": "I&#39;m also using MVS10 and MVS15, 2 ERROR is generated there."}, {"owner": {"reputation": 51, "user_id": 2179907, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uj3zC.jpg?s=128&g=1", "display_name": "Shoaib Khan", "link": "https://stackoverflow.com/users/2179907/shoaib-khan"}, "edited": false, "score": 0, "creation_date": 1522307247, "post_id": 49545322, "comment_id": 86107030, "body": "Error is generated only MVS13 and MVS15, i used MVS10 error is not generated. It ran smooth.  Why is it so?"}], "owner": {"reputation": 51, "user_id": 2179907, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uj3zC.jpg?s=128&g=1", "display_name": "Shoaib Khan", "link": "https://stackoverflow.com/users/2179907/shoaib-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 653, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522277383, "creation_date": 1522276946, "last_edit_date": 1522277383, "question_id": 49545322, "link": "https://stackoverflow.com/questions/49545322/private-data-member-is-inaccessible-in-friend-function", "title": "Private Data member is inaccessible in Friend Function", "body": "<p>The private data member is inaccessible. Although i have declared function as friend of class. \nCan anyone help me. </p>\n\n<pre><code>    class ONE;\n    class TWO {\n    public:\n           void print(ONE&amp; x);\n    };\n\n    class ONE {\n    private:\n            int a, b;    \n    public:       \n            friend void TWO::print(ONE&amp; x);\n            ONE() : a(1), b(2) { }\n    };\n\n    void TWO::print(ONE&amp; x) {\n         cout &lt;&lt; \"a is \" &lt;&lt; x.a &lt;&lt; endl;\n         cout &lt;&lt; \"b is \" &lt;&lt; x.b &lt;&lt; endl;\n    }\n\n    int main() {\n        ONE xobj;\n        TWO yobj;\n        yobj.print(xobj);\n    }\n</code></pre>\n\n<p>Error Picture is attached. </p>\n\n<p><a href=\"https://i.stack.imgur.com/axAyk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axAyk.jpg\" alt=\"Private Data member inaccessible\"></a></p>\n"}, {"tags": ["c++", "c++11", "time", "clock", "chrono"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1522276916, "post_id": 49545296, "comment_id": 86098222, "body": "Related: <a href=\"https://stackoverflow.com/q/22387586/1896169\">stackoverflow.com/q/22387586/1896169</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 4, "creation_date": 1522277067, "post_id": 49545296, "comment_id": 86098272, "body": "<code>#include &lt;chrono&gt;</code> is the right place to start. <a href=\"http://en.cppreference.com/w/cpp/chrono/high_resolution_clock\" rel=\"nofollow noreferrer\">Take a look at <code>std::chrono::high_resolution_clock</code></a>"}, {"owner": {"reputation": 767718, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "edited": false, "score": 0, "creation_date": 1522303038, "post_id": 49545296, "comment_id": 86105115, "body": "Why the heck would you use <code>cin</code> and <code>printf</code> in the same code? That&#39;s just Jekyll and Hyde stuff and, yes, <code>printf</code> is the Hyde bit :-)"}, {"owner": {"reputation": 2309, "user_id": 8039858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05a1367657700f0980a87767d797273?s=128&d=identicon&r=PG&f=1", "display_name": "nullqube", "link": "https://stackoverflow.com/users/8039858/nullqube"}, "edited": false, "score": 0, "creation_date": 1522309288, "post_id": 49545296, "comment_id": 86108153, "body": "do u mean by within a timeout mechanism that after 10sec go by it&#39;s default?"}], "answers": [{"tags": [], "owner": {"reputation": 1384, "user_id": 4639195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RKBh6.png?s=128&g=1", "display_name": "cantordust", "link": "https://stackoverflow.com/users/4639195/cantordust"}, "is_accepted": false, "score": 5, "last_activity_date": 1522283317, "last_edit_date": 1522283317, "creation_date": 1522277405, "answer_id": 49545404, "question_id": 49545296, "link": "https://stackoverflow.com/questions/49545296/how-to-output-time-in-milliseconds-in-c/49545404#49545404", "title": "How to output time in milliseconds in c++?", "body": "<p>Something along these lines...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\nauto start(std::chrono::high_resolution_clock::now());\n\n// Code...\n\nauto end(std::chrono::high_resolution_clock::now());\nauto duration(std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end - start));\nstd::cout &lt;&lt; \"Duration: \" &lt;&lt; duration.count() &lt;&lt; \" ms\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2309, "user_id": 8039858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05a1367657700f0980a87767d797273?s=128&d=identicon&r=PG&f=1", "display_name": "nullqube", "link": "https://stackoverflow.com/users/8039858/nullqube"}, "is_accepted": false, "score": 5, "last_activity_date": 1522740987, "last_edit_date": 1522740987, "creation_date": 1522279028, "answer_id": 49545667, "question_id": 49545296, "link": "https://stackoverflow.com/questions/49545296/how-to-output-time-in-milliseconds-in-c/49545667#49545667", "title": "How to output time in milliseconds in c++?", "body": "<p>in C++11 and more recent Standard revisions:</p>\n\n<pre><code>#include &lt;chrono&gt;\nusing namespace std::chrono;\n\nauto start = high_resolution_clock::now();\n  // something to measure\nauto end = high_resolution_clock::now();\nduration&lt;double&gt; diff = end - start; // this is in ticks\nmilliseconds d = duration_cast&lt;milliseconds&gt;(diff); // ticks to time\n\nstd::cout &lt;&lt; diff.count() &lt;&lt; \"s\\n\";\nstd::cout &lt;&lt; d.count() &lt;&lt; \"ms\\n\";\n</code></pre>\n\n<p>in previous to that :</p>\n\n<pre><code>&lt;sys/time.h&gt;\n\nstruct timeval tp;\ngettimeofday(&amp;tp, NULL);\nlong int ms = tp.tv_sec * 1000 + tp.tv_usec / 1000;\n</code></pre>\n\n<p>Also you can use this simple snippet code to benchmark your code blocks :</p>\n\n<pre><code>using namespace std::chrono;\n\nclass benchmark {\n  public:\n  time_point&lt;high_resolution_clock&gt;  t0, t1;\n  unsigned int *d;\n  benchmark(unsigned int *res) : d(res) { \n                 t0 = high_resolution_clock::now();\n  }\n  ~benchmark() { t1 = high_resolution_clock::now();\n                  milliseconds dur = duration_cast&lt;milliseconds&gt;(t1 - t0);\n                  *d = dur.count();\n  }\n};\n\n// one way to use it can be :\n#define BENCH(TITLE,CODEBLOCK) \\\n  unsigned int __time__##__LINE__ = 0;  \\\n  { benchmark bench(&amp;__time__##__LINE__); \\\n      CODEBLOCK \\\n  } \\\n  printf(\"%s took %dms\\n\",(TITLE),__time__##__LINE__);\n\n\nint main(void) {\n  BENCH(\"TITLE\",{\n    for(int n = 0; n &lt; testcount; n++ )\n      int a = n % 3;\n  });\n  return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3617, "user_id": 5550963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7jAip.png?s=128&g=1", "display_name": "CEPB", "link": "https://stackoverflow.com/users/5550963/cepb"}, "is_accepted": false, "score": 0, "last_activity_date": 1522882341, "last_edit_date": 1522882341, "creation_date": 1522284006, "answer_id": 49546314, "question_id": 49545296, "link": "https://stackoverflow.com/questions/49545296/how-to-output-time-in-milliseconds-in-c/49546314#49546314", "title": "How to output time in milliseconds in c++?", "body": "<p>My suggestion with C++ is use C++ headers, for example <code>&lt;time.h&gt;</code>  is <code>&lt;ctime&gt;</code> and use C++ style instead of C.</p>\n\n<pre><code>#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    std::time_t result = std::time(nullptr);\n    std::cout &lt;&lt; std::ctime(&amp;result);\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>#include &lt;time.h&gt;\n#include &lt;stdio.h&gt; // this is &lt;iostream&gt; in C++\n\nint main()\n{\n    time_t result;\n    time(result);\n\n    printf(\"%d\\n\", result);\n}\n</code></pre>\n\n<p>and <code>stdio.h</code> should be called as <code>cstdio</code> in <code>C++</code> but is not necessary. Use <code>iostream</code> instead and use</p>\n\n<pre><code>std::cout &lt;&lt; \"Hello World!\"\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>pritnf(\"Hello world!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 767718, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "is_accepted": false, "score": 1, "last_activity_date": 1522307754, "creation_date": 1522307754, "answer_id": 49550116, "question_id": 49545296, "link": "https://stackoverflow.com/questions/49545296/how-to-output-time-in-milliseconds-in-c/49550116#49550116", "title": "How to output time in milliseconds in c++?", "body": "<p>The following complete program shows how this can be done, by using the <code>std::chrono</code> facilities added in C++11:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n\nint main(int argc, char *argv[]) {\n    // Check args.\n\n    if (argc != 2) {\n        std::cerr &lt;&lt; \"Usage: testprog &lt;sleepTime&gt;\" &lt;&lt; std::endl;\n        return 1;\n    }\n\n    // Create a millisecond sleep time from argument.\n\n    auto sleepTime = strtoul(argv[1], nullptr, 10);\n    sleepTime = sleepTime * 1234 + 1000;\n    std::cout &lt;&lt; \"Given '\" &lt;&lt; argv[1] &lt;&lt;\n        \"', should sleep for about \" &lt;&lt; sleepTime &lt;&lt;\n        \"ms ... \" &lt;&lt; std::flush;\n\n    // Get the start time, then wait for a bit.\n\n    auto startTime(std::chrono::high_resolution_clock::now());\n\n    std::this_thread::sleep_for(std::chrono::milliseconds(sleepTime));\n\n    // Get end time, work out and print duration.\n\n    auto endTime(std::chrono::high_resolution_clock::now());\n    auto duration(std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;\n        (endTime - startTime));\n    std::cout &lt;&lt; \"that took \" &lt;&lt; duration.count() &lt;&lt; \"ms.\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<hr>\n\n<p>Running this with the following <code>bash</code> test command:</p>\n\n<pre><code>for i in {0..10} ; do ./testprog $i ; done\n</code></pre>\n\n<p>gives you the results you would expect:</p>\n\n<pre><code>Given '0', should sleep for about 1000ms ... that took 1000ms.\nGiven '1', should sleep for about 2234ms ... that took 2235ms.\nGiven '2', should sleep for about 3468ms ... that took 3469ms.\nGiven '3', should sleep for about 4702ms ... that took 4703ms.\nGiven '4', should sleep for about 5936ms ... that took 5937ms.\nGiven '5', should sleep for about 7170ms ... that took 7170ms.\nGiven '6', should sleep for about 8404ms ... that took 8404ms.\nGiven '7', should sleep for about 9638ms ... that took 9638ms.\nGiven '8', should sleep for about 10872ms ... that took 10872ms.\nGiven '9', should sleep for about 12106ms ... that took 12106ms.\nGiven '10', should sleep for about 13340ms ... that took 13340ms.\n</code></pre>\n\n<hr>\n\n<p>The <em>important</em> lines in that code are really just the ones that get the start and end time-points then work out the duration between them. They can be boiled down to:</p>\n\n<pre><code>#include &lt;chrono&gt;\n\nauto startTime(std::chrono::high_resolution_clock::now());\n\n// Do whatever you want to time.\n\nauto endTime(std::chrono::high_resolution_clock::now());\nauto duration(std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;\n    (endTime - startTime));\nauto elapsedMs = duration.count();\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5934847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf142ae3d0a41a254a37b0931411554?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5934847/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1810, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1522882341, "creation_date": 1522276756, "last_edit_date": 1522290561, "question_id": 49545296, "link": "https://stackoverflow.com/questions/49545296/how-to-output-time-in-milliseconds-in-c", "title": "How to output time in milliseconds in c++?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;time.h&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\nusing namesapce chrono;\n\nint main() {\n  int f;\n  time_t start, end;\n  time (&amp;start);\n  cin &gt;&gt; f;\n  time (&amp;end);\n  double dif = difftime (end, start);\n  printf (\"Elapsed time is %.2lf seconds.\", dif );\n}\n</code></pre>\n\n<p>Hello everyone, I am currently working on a C++ assignment and I am essentially required to have the user input something within 10 seconds. I managed to find out how to count the time by the second but I need it to be by milliseconds because I have to find out how many milliseconds above 10 seconds was elapsed. I am not that experienced with C++ and would very much appreciate any suggestions that may help steer me in the right direction. Thanks a lot</p>\n"}, {"tags": ["c++", "image", "opencv"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1522281994, "post_id": 49545285, "comment_id": 86099550, "body": "Can you update with some code for a minimal working example? With your homography, you can warp a specific point by using <a href=\"https://docs.opencv.org/3.4.0/d2/de8/group__core__array.html#gad327659ac03e5fd6894b90025e6900a7\" rel=\"nofollow noreferrer\"><code>perspectiveTransform()</code></a>."}, {"owner": {"reputation": 345, "user_id": 6248669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2ca4c4e8845ce2ba963248f61f83e0c?s=128&d=identicon&r=PG&f=1", "display_name": "mereth", "link": "https://stackoverflow.com/users/6248669/mereth"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1522282879, "post_id": 49545285, "comment_id": 86099760, "body": "yes i found point in warped image, but what i&#39;d like to do after that is to find that point in final stitched blended image"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1522282939, "post_id": 49545285, "comment_id": 86099775, "body": "Please add your code."}, {"owner": {"reputation": 345, "user_id": 6248669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2ca4c4e8845ce2ba963248f61f83e0c?s=128&d=identicon&r=PG&f=1", "display_name": "mereth", "link": "https://stackoverflow.com/users/6248669/mereth"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1522283506, "post_id": 49545285, "comment_id": 86099903, "body": "i added my warping and blending code"}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1522399957, "post_id": 49545285, "comment_id": 86150195, "body": "I guess you could artificially put a small rectangle (say 3x3, or 5x5) of some colour that doesn&#39;t occur elsewhere in the image at the spot in the original and blend it, then look for the spot... if you wanted a really horrible method! Then blend again without the artificial rectangle."}, {"owner": {"reputation": 345, "user_id": 6248669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2ca4c4e8845ce2ba963248f61f83e0c?s=128&d=identicon&r=PG&f=1", "display_name": "mereth", "link": "https://stackoverflow.com/users/6248669/mereth"}, "edited": false, "score": 0, "creation_date": 1522412826, "post_id": 49545285, "comment_id": 86156225, "body": "that might work, i&#39;ll try this later today and i&#39;ll give an update"}, {"owner": {"reputation": 345, "user_id": 6248669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2ca4c4e8845ce2ba963248f61f83e0c?s=128&d=identicon&r=PG&f=1", "display_name": "mereth", "link": "https://stackoverflow.com/users/6248669/mereth"}, "edited": false, "score": 0, "creation_date": 1522434496, "post_id": 49545285, "comment_id": 86166725, "body": "with this method there is problem if the point is in the overlapped area, it disappears after the blending"}], "owner": {"reputation": 345, "user_id": 6248669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2ca4c4e8845ce2ba963248f61f83e0c?s=128&d=identicon&r=PG&f=1", "display_name": "mereth", "link": "https://stackoverflow.com/users/6248669/mereth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522395136, "creation_date": 1522276688, "last_edit_date": 1522395136, "question_id": 49545285, "link": "https://stackoverflow.com/questions/49545285/find-image-coordinates-after-blending", "title": "find image coordinates after blending", "body": "<p>I implemented stitching algorithm in OpenCV. What I want to do now is to find certain point from one of the original images in the final stitched image. I can find this point in image after it is warped, but then all images blend together and I want to find coordinates of this point.</p>\n\n<p>For example, I have this image with size <code>499x369</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p0XbP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0XbP.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now i warp this image and i want to find point(for example 255x185)</p>\n\n<p><a href=\"https://i.stack.imgur.com/ImeEk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ImeEk.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This warped image has size <code>475x372</code> and selected point from original image is at <code>232x184</code></p>\n\n<p>After this, I use OpenCV's MultiBand blending function and i blend 2 warped images together</p>\n\n<p><a href=\"https://i.stack.imgur.com/TLNJy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLNJy.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Is there some way that i could find that point after blending them together?</p>\n\n<p>CODE:</p>\n\n<p>Here i warp the images:</p>\n\n<pre><code>Ptr&lt;detail::RotationWarper&gt; warp = warper_-&gt;create(float(scale));\nwarp-&gt;warp(img, K, rotationMatrix, INTER_LINEAR, BORDER_REFLECT, img_warped);\n\n//now I can find where a certain point in warped image is \nwarp-&gt;warpPoint(Point, K, rotationMatrix);\n\n//now I blend the images\nblender_-&gt;prepare(corners, sizes);\nblender_-&gt;feed(img_warped_s, mask_warped, corners[img_idx]);\nblender_-&gt;blend(result, result_mask);\n</code></pre>\n\n<p>So result is the last image that i posted and i want to find that point in that image.</p>\n"}, {"tags": ["python", "c++", "docker", "build", "build-tools"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1522277094, "post_id": 49545119, "comment_id": 86098284, "body": "This may be too broad or too opinion based a question, I don&#39;t know. Personally I would want to have one install system (RPM) and I would probably keep the individual projects&#39; internal build systems and have an overarching <code>Makefile</code> to manage the cross project relationships because make is very flexible, powerful and portable."}, {"owner": {"reputation": 1758, "user_id": 8724882, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d88f8198fb4ae68267aced911e3533f9?s=128&d=identicon&r=PG&f=1", "display_name": "sandwood", "link": "https://stackoverflow.com/users/8724882/sandwood"}, "edited": false, "score": 0, "creation_date": 1524491934, "post_id": 49545119, "comment_id": 86982185, "body": "concerning the last bullet : I found actually better to have two repositories; but , since it is what you ask, what prevent you to have a unique one ?"}, {"owner": {"reputation": 1758, "user_id": 8724882, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d88f8198fb4ae68267aced911e3533f9?s=128&d=identicon&r=PG&f=1", "display_name": "sandwood", "link": "https://stackoverflow.com/users/8724882/sandwood"}, "edited": false, "score": 0, "creation_date": 1524492025, "post_id": 49545119, "comment_id": 86982245, "body": "I hope that when you said control version system, you do not refer to cvs but you actually use a more modern one . If not jump to svn or git immediatly !"}, {"owner": {"reputation": 1758, "user_id": 8724882, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d88f8198fb4ae68267aced911e3533f9?s=128&d=identicon&r=PG&f=1", "display_name": "sandwood", "link": "https://stackoverflow.com/users/8724882/sandwood"}, "edited": false, "score": 0, "creation_date": 1524492199, "post_id": 49545119, "comment_id": 86982379, "body": "Last but not least : I have worked  in a situation opposite to you, full of components depending of each others, built in one BIG (enormous) solution. The result is broken build every single 5 minutes and really hard to test in isolation."}, {"owner": {"reputation": 1758, "user_id": 8724882, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d88f8198fb4ae68267aced911e3533f9?s=128&d=identicon&r=PG&f=1", "display_name": "sandwood", "link": "https://stackoverflow.com/users/8724882/sandwood"}, "edited": false, "score": 0, "creation_date": 1524492329, "post_id": 49545119, "comment_id": 86982481, "body": "Finally, I would say that the key point is that each component must be managed / tested independantly, each one providing API and ABI stability ! Change required on interface must go first through a deprecation phase (6months or more) which gives time for other components to be updated."}], "owner": {"reputation": 63, "user_id": 4555751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4244821940a38220e726bc2408a07c66?s=128&d=identicon&r=PG&f=1", "display_name": "Ender", "link": "https://stackoverflow.com/users/4555751/ender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1522275715, "creation_date": 1522275715, "last_edit_date": 1592644375, "question_id": 49545119, "link": "https://stackoverflow.com/questions/49545119/build-tool-for-a-complex-c-python-project", "title": "Build tool for a complex C++/Python project", "body": "<h1>Context</h1>\n<p>I'm working on a project composed of multiple C++ and Python projects. A typical component is for instance composed of:</p>\n<ul>\n<li>Pure C++ library (depending on other native libraries)</li>\n<li>C/C++ Python binding (depending on the native libraries)</li>\n<li>Pure Python glue code (depending on other Python libraries and Python bindings)</li>\n</ul>\n<p>A component can depend of another components.</p>\n<h1>Current state</h1>\n<p>C++ components are build using CMake and produced RPM files. Python components are packaged using setuptool to Python wheels. Final application is packaged in a Docker image.</p>\n<p>As you can guess, this heterogeneous environment is very difficult to maintain:</p>\n<ul>\n<li>Dependency management is very difficult and error prone. C++ dependencies are managed using the RPM features. Python dependencies using setuptool.</li>\n<li>Build result deployment is hard. 2 servers are maintained, 1 for RPM repository and 1 for a Pypi repository</li>\n<li>Installation is difficult: Integrity between RPM and Python components are not guaranteed. Fetch and install the application is hard as there is no unified dependency management</li>\n<li>Version tagging in control version system is also difficult: you have to change the version in the Python and C++ project. We really need a single entry point.</li>\n</ul>\n<p>I'm sure some people out there have already encountered this kind of problem and I'm looking for a good and durable technical solution. We already tried to managed these projects using Maven (proof of concept) but our experience of this build system is not really positive: it lacks of flexibility and we've not found how to manage custom artifact (RPM, wheels) and the final installation.</p>\n<p>Do you have any ideas on how design a maintainable build system in this context?</p>\n"}, {"tags": ["c++", "language-lawyer"], "comments": [{"owner": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 0, "creation_date": 1522316538, "post_id": 49544937, "comment_id": 86112681, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7007817/a-confusing-detail-about-the-most-vexing-parse\">A confusing detail about the Most Vexing Parse</a>"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1522274945, "post_id": 49544966, "comment_id": 86097607, "body": "See now <i>this</i> is the most vexing parse."}, {"owner": {"reputation": 46708, "user_id": 179715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e240f1a5bb197450dfb8934dd55d9e3a?s=128&d=identicon&r=PG", "display_name": "jamesdlin", "link": "https://stackoverflow.com/users/179715/jamesdlin"}, "edited": false, "score": 1, "creation_date": 1522275108, "post_id": 49544966, "comment_id": 86097672, "body": "And see the comments to <a href=\"https://stackoverflow.com/a/6342009/179715\">stackoverflow.com/a/6342009/179715</a> for <i>why</i> it&#39;s parsed that way."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1522275208, "post_id": 49544966, "comment_id": 86097707, "body": "@LightnessRacesinOrbit Even more vexing: use <code>decltype</code> instead of <code>sizeof</code> and <a href=\"https://godbolt.org/g/dfNJ4E\" rel=\"nofollow noreferrer\">it&#39;s treated as an expression of type <code>int</code></a>. I&#39;m not certain that I&#39;m actually correct here, though <a href=\"https://godbolt.org/g/3gjgkv\" rel=\"nofollow noreferrer\">the warning gcc gives</a> seems to imply that my reasoning here was correct"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1522275335, "post_id": 49544966, "comment_id": 86097752, "body": "Lol. You may be, or may not be. I dunno. I gave up on this kind of thing a few years ago. Life&#39;s too short :) (In 2014 I might have said &quot;that kinda looks like a compiler bug to me&quot;)"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 1, "creation_date": 1522275846, "post_id": 49544966, "comment_id": 86097897, "body": "I agree it is particularly vexing that a type-id is allowed to contain function parameter names..."}, {"owner": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1522317133, "post_id": 49544966, "comment_id": 86113084, "body": "@Brian Redundant function parameter names have been allowed since ancient C as well, e.g. <code>typedef int (*FPTR)(int value);</code>, and they can be very useful for readability in some cases, e.g. <code>using log_func = double(double base, double value)</code>. It&#39;s also consistent with the fact that parameter names are sort of redundant anyway in a (non-defining) function/method declaration. It does compound to the MVP though."}], "tags": [], "owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "is_accepted": true, "score": 8, "last_activity_date": 1522274901, "creation_date": 1522274901, "answer_id": 49544966, "question_id": 49544937, "link": "https://stackoverflow.com/questions/49544937/why-is-inta-an-expression-and-intunsigneda-a-type-id-in-the-example-below/49544966#49544966", "title": "Why is int(a) an expression and int(unsigned(a)) a type-id in the example below?", "body": "<p><code>int(unsigned(a))</code> is parsed the same as <code>int(unsigned a)</code>, which is a function type</p>\n"}], "owner": {"reputation": 2371, "user_id": 2337207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7fc476ff5e931716b2b931179c3328e7?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2337207/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 49544966, "answer_count": 1, "score": 7, "last_activity_date": 1522343434, "creation_date": 1522274755, "last_edit_date": 1522343434, "question_id": 49544937, "link": "https://stackoverflow.com/questions/49544937/why-is-inta-an-expression-and-intunsigneda-a-type-id-in-the-example-below", "title": "Why is int(a) an expression and int(unsigned(a)) a type-id in the example below?", "body": "<p>In <a href=\"http://eel.is/c++draft/dcl.ambig.res#2\" rel=\"nofollow noreferrer\">[dcl.ambig.res]/2</a> we find the following:</p>\n\n<pre><code>void foo(signed char a) {\n    sizeof(int(a)); // expression\n    sizeof(int(unsigned(a))); // type-id (ill-formed)\n}\n</code></pre>\n\n<p>Why is <code>int(a)</code> an expression and <code>int(unsigned(a))</code> a type-id?</p>\n\n<p>At first sight I would say that both are expressions.</p>\n"}, {"tags": ["android", "c++", "arduino", "bluetooth-lowenergy", "ascii"], "comments": [{"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522275561, "post_id": 49544924, "comment_id": 86097828, "body": "I don&#39;t see a <code>writeCustomCharacteristic()</code> method in the framework. I do however see a <code>writeCharacteristic()</code>. Could you provide a reference to the method you are using?"}, {"owner": {"reputation": 121, "user_id": 5186878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BOB", "link": "https://stackoverflow.com/users/5186878/bob"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522275721, "post_id": 49544924, "comment_id": 86097868, "body": "@Barns I followed this link and added that function <a href=\"https://www.allaboutcircuits.com/projects/how-to-communicate-with-a-custom-ble-using-an-android-app/\" rel=\"nofollow noreferrer\">click here</a>"}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 1, "creation_date": 1522276221, "post_id": 49544924, "comment_id": 86098018, "body": "It would be helpful to everyone reading you question (both for people trying to provide a solution and looking for a solution) if you had provided this custom method in your post. Please edit your question and add the code you are using."}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1522333429, "post_id": 49544924, "comment_id": 86124872, "body": "Like I commented above. Please edit your post and add the code you are using to send the data. The link you provided may not exist in the years to come (or the code in the link may change), so posting the exact code you are using will help people in the future. In addition to that, external links are frown upon here at SO."}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 5186878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BOB", "link": "https://stackoverflow.com/users/5186878/bob"}, "edited": false, "score": 0, "creation_date": 1522284355, "post_id": 49545321, "comment_id": 86100111, "body": "I added the arduino code in my questions. Thank you for the help btw."}, {"owner": {"reputation": 121, "user_id": 5186878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BOB", "link": "https://stackoverflow.com/users/5186878/bob"}, "edited": false, "score": 0, "creation_date": 1522290180, "post_id": 49545321, "comment_id": 86101480, "body": "Thanks for the help, I figure it out, just need to change uint8 format to something :bigger.    mWriteCharacteristic.setValue(value,android.bluetooth.Blueto&zwnj;&#8203;othGattCharacteristi&zwnj;&#8203;c.FORMAT_UINT16,0);"}], "tags": [], "owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "is_accepted": true, "score": 1, "last_activity_date": 1522333633, "last_edit_date": 1522333633, "creation_date": 1522276931, "answer_id": 49545321, "question_id": 49544924, "link": "https://stackoverflow.com/questions/49544924/convert-ascii-table-char-into-ascii-table-decimals/49545321#49545321", "title": "Convert ASCII table char into ASCII table decimals", "body": "<p>You are having this issue because the code you are using to send your data (which you apparently have taken from an online tutorial) does not fit the size of the data you are sending. </p>\n\n<p>You are only receiving <code>255</code> because the code you are using to send your data is using the characteristic value format type sint8  <code>FORMAT_UINT8</code> (which the 255 obviously reflects), but the data you are sending (0xFFFF) is at least uint16, thus you should be using <code>FORMAT_UINT16</code> (the characteristic value format type for uint16).</p>\n\n<p>Please familiarize yourself with the Android Documentation: </p>\n\n<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html#writeCharacteristic(android.bluetooth.BluetoothGattCharacteristic)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html#writeCharacteristic(android.bluetooth.BluetoothGattCharacteristic)</a></p>\n\n<p>and also this link in order to better understand how to set the characteristics you will be sending</p>\n\n<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html</a></p>\n\n<p>In order to better understand the possibilities and limitations.</p>\n\n<p><strong>--Disclaimer--</strong></p>\n\n<p>Until you post the actual code you are using this answer is just an attempt to explain what you are experiencing. </p>\n"}], "owner": {"reputation": 121, "user_id": 5186878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BOB", "link": "https://stackoverflow.com/users/5186878/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 49545321, "answer_count": 1, "score": -1, "last_activity_date": 1522350412, "creation_date": 1522274697, "last_edit_date": 1522350412, "question_id": 49544924, "link": "https://stackoverflow.com/questions/49544924/convert-ascii-table-char-into-ascii-table-decimals", "title": "Convert ASCII table char into ASCII table decimals", "body": "<p>I am working with Arduino and Android. Trying to send data from Android phone to an ESP32 device using BLE. I am having issues receiving data from the Android side.</p>\n\n<p>For example, I would write to the ESP32 with the following Java code on Android:</p>\n\n<pre><code>mBluetoothLeService.writeCustomCharacteristic(0xFFFF);\n</code></pre>\n\n<p>where writeCustomCharacteristic() function is below:</p>\n\n<pre><code> public void writeCustomCharacteristic(int value) {\n    if (mBluetoothAdapter == null || mBluetoothGatt == null) {\n        Log.w(TAG, \"BluetoothAdapter not initialized\");\n        return;\n    }\n    /*check if the service is available on the device*/\n    BluetoothGattService mCustomService = mBluetoothGatt.getService(UUID.fromString(\"00001110-0000-1000-8000-00805f9b34fb\"));\n    if(mCustomService == null){\n        Log.w(TAG, \"Custom BLE Service not found\");\n        return;\n    }\n    /*get the read characteristic from the service*/\n    BluetoothGattCharacteristic mWriteCharacteristic = mCustomService.getCharacteristic(UUID.fromString(\"00000001-0000-1000-8000-00805f9b34fb\"));\n    mWriteCharacteristic.setValue(value,android.bluetooth.BluetoothGattCharacteristic.FORMAT_UINT8,0);\n    if(mBluetoothGatt.writeCharacteristic(mWriteCharacteristic) == false){\n        Log.w(TAG, \"Failed to write characteristic\");\n    }\n}\n</code></pre>\n\n<p>Now, on the Arduino side, I want to receive exactly 0xFFFF, but it gave me garbage characters.</p>\n\n<p>Following line is where ESP32 receives data, data is contained in rxValue:</p>\n\n<pre><code> class MyCallbacks: public BLECharacteristicCallbacks {\nvoid onWrite(BLECharacteristic *pCharacteristic) {\n  std::string rxValue = pCharacteristic-&gt;getValue();\n\n  if (rxValue.length() &gt; 0) {\n    Serial.println(\"*********\");\n    Serial.print(\"Received Value: \");\n    for (int i = 0; i &lt; rxValue.length(); i++)\n      Serial.print(rxValue[i]);\n\n    Serial.println();\n    Serial.println(\"*********\");\n  }\n}\n};\n</code></pre>\n\n<p>My question is, how do I translate that garbage character back into 0xFFFF?<br>\nI tried to do <code>int(rxValue[i])</code> or <code>byte(rxValue[i])</code>, but that only gave me 255, now how do I get the second byte?</p>\n\n<p>Also, rxValue[0] has the data, other indexes are null.</p>\n\n<p>writeCustomCharacteristic() function is the same as the tutorial, did not make any changes. \nHere is the <a href=\"https://github.com/nkolban/ESP32_BLE_Arduino/blob/master/examples/BLE_uart/BLE_uart.ino\" rel=\"nofollow noreferrer\">link</a> to the arduino code, it's from the esp32 library example.</p>\n\n<p><strong>Solution</strong>\nFollowing Barns's suggestion, I just change the data format to something bigger like FORMAT_UINT16 shown below.</p>\n\n<pre><code>mWriteCharacteristic.setValue(value,android.bluetooth.BluetoothGattCharacteristic.FORMAT_UINT16,0);\n</code></pre>\n\n<p>From this, I was able to receive actually data from android side.</p>\n"}, {"tags": ["c++", "flatbuffers"], "answers": [{"tags": [], "owner": {"reputation": 612, "user_id": 2427022, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/39e52454d2d6285752b7f1caf8ddcb8e?s=128&d=identicon&r=PG", "display_name": "Shivendra Agarwal", "link": "https://stackoverflow.com/users/2427022/shivendra-agarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1522298621, "last_edit_date": 1522298621, "creation_date": 1522298035, "answer_id": 49548099, "question_id": 49544819, "link": "https://stackoverflow.com/questions/49544819/part-of-flatbuffers-data-to-json/49548099#49548099", "title": "Part of flatbuffers data to json", "body": "<ol>\n<li>Weapon can be a string object instead of Weapon object. This string can be interpreted as a JSON.</li>\n<li>OR put a byte array as type of Weapon, to put any binary file stream.</li>\n<li>OR better use a flex-buffer in place of json for ease of json but still better efficiency.</li>\n</ol>\n\n<p>Or if you don't want to change your schema, and still want weapon as json:</p>\n\n<ol>\n<li>Convert the complete fb data into json using json conversion utility provided by flatc.</li>\n<li>Just pick  parse the weapon Node out of the complete json for your use.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1698, "user_id": 1802545, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4e0c54d3f5119424373069950921e918?s=128&d=identicon&r=PG", "display_name": "Michal Wegorek", "link": "https://stackoverflow.com/users/1802545/michal-wegorek"}, "edited": false, "score": 0, "creation_date": 1522697080, "post_id": 49559944, "comment_id": 86241897, "body": "Do you mean <code>flatbuffers::FlatBufferToString()</code>? This function is producing simplified json and I need valid json string"}, {"owner": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "reply_to_user": {"reputation": 1698, "user_id": 1802545, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4e0c54d3f5119424373069950921e918?s=128&d=identicon&r=PG", "display_name": "Michal Wegorek", "link": "https://stackoverflow.com/users/1802545/michal-wegorek"}, "edited": false, "score": 0, "creation_date": 1522710590, "post_id": 49559944, "comment_id": 86246976, "body": "@MichalWegorek yes that is the &quot;mini reflection&quot; version. What specifically do you need it to output differently? It may be easy to add."}, {"owner": {"reputation": 1698, "user_id": 1802545, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4e0c54d3f5119424373069950921e918?s=128&d=identicon&r=PG", "display_name": "Michal Wegorek", "link": "https://stackoverflow.com/users/1802545/michal-wegorek"}, "edited": false, "score": 0, "creation_date": 1522716172, "post_id": 49559944, "comment_id": 86248157, "body": "I need to serialize to a valid json. Note, function above produces invalid json."}], "tags": [], "owner": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "is_accepted": false, "score": 0, "last_activity_date": 1522337503, "creation_date": 1522337503, "answer_id": 49559944, "question_id": 49544819, "link": "https://stackoverflow.com/questions/49544819/part-of-flatbuffers-data-to-json/49559944#49559944", "title": "Part of flatbuffers data to json", "body": "<p>The function <code>GenerateText</code> that converts binary to JSON currently takes a buffer pointer, and not a root, so wouldn't work for your use case. However, such a function can easily be created if you have a look at the implementation of that function.</p>\n\n<p>Easier maybe is the new \"mini reflection\" functionality (see comments and functions is <code>minireflect.h</code>). This will allow you to generate JSON from any FlatBuffers table, without even needing the schema parser.</p>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 2427022, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/39e52454d2d6285752b7f1caf8ddcb8e?s=128&d=identicon&r=PG", "display_name": "Shivendra Agarwal", "link": "https://stackoverflow.com/users/2427022/shivendra-agarwal"}, "edited": false, "score": 0, "creation_date": 1527543224, "post_id": 49736528, "comment_id": 88156821, "body": "Is this pack api creating a copy of sub buffer?"}], "tags": [], "owner": {"reputation": 1698, "user_id": 1802545, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4e0c54d3f5119424373069950921e918?s=128&d=identicon&r=PG", "display_name": "Michal Wegorek", "link": "https://stackoverflow.com/users/1802545/michal-wegorek"}, "is_accepted": true, "score": 0, "last_activity_date": 1523287660, "creation_date": 1523287660, "answer_id": 49736528, "question_id": 49544819, "link": "https://stackoverflow.com/questions/49544819/part-of-flatbuffers-data-to-json/49736528#49736528", "title": "Part of flatbuffers data to json", "body": "<ol>\n<li>Compile you fbs file with <code>--gen-object-api</code></li>\n<li>This will produce <code>WeaponT</code> class and other <code>*T</code> classes</li>\n<li>Use <code>monster-&gt;weapon()-&gt;UnpackTo(..)</code> method to populate <code>WeaponT</code> instance</li>\n<li>Run <code>Weapon::Pack(fbb, &amp;weaponT)</code> to serialize back on a new fbb object</li>\n<li>Run <code>GenerateText</code> on fbb object created in a last step</li>\n</ol>\n"}], "owner": {"reputation": 1698, "user_id": 1802545, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4e0c54d3f5119424373069950921e918?s=128&d=identicon&r=PG", "display_name": "Michal Wegorek", "link": "https://stackoverflow.com/users/1802545/michal-wegorek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 49736528, "answer_count": 3, "score": 0, "last_activity_date": 1523287660, "creation_date": 1522274250, "question_id": 49544819, "link": "https://stackoverflow.com/questions/49544819/part-of-flatbuffers-data-to-json", "title": "Part of flatbuffers data to json", "body": "<p>Having binary data of serialized object <code>monster</code>, where <code>monster</code> type is:</p>\n\n<pre><code> table Monster {\n      name:string;\n      color:Color;\n      weapon:Weapon;       &lt;--- serialize to json only this, discard other properties\n}\n</code></pre>\n\n<p><strong>can I directly transform only <code>weapon</code>to json and discard other fields?</strong></p>\n\n<p><em>Note my binary data is of type <code>Monster</code>. It seems like the only way to serialize <code>weapon</code> is to build separate <code>Weapon</code> object from <code>monster-&gt;weapon</code> by recursively copying all properties and then calling json serialization functions.</em></p>\n"}, {"tags": ["c++", "java-native-interface", "clang", "undefined-symbol", "sanitizer"], "comments": [{"owner": {"reputation": 2782, "user_id": 104453, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69dcd277799bf98a2cd1c39dc48a82a3?s=128&d=identicon&r=PG", "display_name": "marcin", "link": "https://stackoverflow.com/users/104453/marcin"}, "edited": false, "score": 0, "creation_date": 1616177994, "post_id": 49544785, "comment_id": 117930817, "body": "a workaround for the error (based on <a href=\"https://stackoverflow.com/a/50621267/104453\">stackoverflow.com/a/50621267/104453</a>) is to to preload the shared library with the symbol: <code>LD_PRELOAD=$(clang -print-file-name=libclang_rt.ubsan_standalone-x86_64.so)</code>"}], "owner": {"reputation": 1539, "user_id": 833060, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4gGv8.jpg?s=128&g=1", "display_name": "Pascal Kesseli", "link": "https://stackoverflow.com/users/833060/pascal-kesseli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1522298199, "creation_date": 1522274017, "last_edit_date": 1522298199, "question_id": 49544785, "link": "https://stackoverflow.com/questions/49544785/clang-undefined-behavior-sanitizer-in-shared-library-jni-undefined-symbol", "title": "Clang undefined behavior sanitizer in shared library (JNI): &quot;undefined symbol: __ubsan_vptr_type_cache&quot;", "body": "<p>Our <code>clang++</code> build of executables with undefined behavior sanitizer works fine for executables when compiled as follows:</p>\n\n<pre><code>ccache clang++ -Qunused-arguments -fcolor-diagnostics -c -MMD -MP -std=c++11 --O1 -g3 -fPIC -fsanitize=address,undefined -fno-omit-frame-pointer -I /usr/lib/jvm/java-8-openjdk-amd64/include -I /usr/lib/jvm/java-8-openjdk-amd64/include/linux -o native/instrumen.o native/instrument.cpp\n</code></pre>\n\n<p>And linked to an executable as follows:</p>\n\n<pre><code>ccache clang++ -Qunused-arguments -fcolor-diagnostics -fsanitize=address,undefined -o cegis -Wl,--start-group native/instrument.o -Wl,--end-group\n</code></pre>\n\n<p>However, if we link it in a shared library as follows:</p>\n\n<pre><code>ccache clang++ -Qunused-arguments -fcolor-diagnostics -fsanitize=address,undefined -shared -o libsynth4j.so native/synth4j.o native/instrument.o ../lib/libinfo.a\n</code></pre>\n\n<p>We get the following error when trying to load the library from Java using JNI:</p>\n\n<pre><code>libsynth4j.so: undefined symbol: __ubsan_vptr_type_cache\n</code></pre>\n\n<p>Are there any additional considerations when creating shared libraries instead of executables using the clang undefined behaviour sanitizer? Our clang++ version is 3.7 running on Ubuntu Linux.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1522273127, "post_id": 49544598, "comment_id": 86096896, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming. Further reading: <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522273398, "post_id": 49544598, "comment_id": 86096995, "body": "The remainder is the last digit. You print the remainder, then you call the function recursively, so it prints the last digit before repeating."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1522273421, "post_id": 49544598, "comment_id": 86097004, "body": "It outputs everything in reverse because that&#39;s exactly what you asked it to do. Consider what you do <i>before</i> recursive call, and what may happen if you do it <i>after</i> instead."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1522279878, "post_id": 49544598, "comment_id": 86099005, "body": "Does the language guarantee the order of param eval?  &quot;decToBinary(val / 2, val % 2);&quot;   Try test case: asd = 0x222;"}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1522280241, "post_id": 49544598, "comment_id": 86099100, "body": "I think it is inappropriate to display the same result for different integer sizes (with the same value), int8_t, int16_t, int32_t, int64_t (and these same sized uintxx_t).  The 0&#39;s really are part of the integer, and should also be shown."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1522441164, "post_id": 49544598, "comment_id": 86169698, "body": "Found it. Your code has unspecified behavior. &quot;Paragraph 5.2.2.8: The order of evaluation of arguments is unspecified. &quot;  I think it means that the behavior of code can differ from one compiler to the other, but probably is consistent (though not necessarily what you want/need) on a particular compiler."}], "answers": [{"tags": [], "owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1522274565, "last_edit_date": 1522274565, "creation_date": 1522273761, "answer_id": 49544731, "question_id": 49544598, "link": "https://stackoverflow.com/questions/49544598/recursive-function-outputs-values-in-reverse/49544731#49544731", "title": "Recursive function outputs values in reverse", "body": "<p>You could do something like this:</p>\n\n<pre><code>void decToBinary(int val, int remainder)\n{\n    remainder = val % 2;\n    val /= 2;\n    if (val || remainder)\n    {\n        decToBinary(val, val);\n        cout &lt;&lt; remainder;\n    }\n}\n</code></pre>\n\n<p>You'll have to handle the 0 case separately.</p>\n"}], "owner": {"reputation": 59, "user_id": 4962676, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/281d343f9539d04bd8b4c5ed8b92e67a?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/4962676/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 49544731, "answer_count": 1, "score": 0, "last_activity_date": 1522274565, "creation_date": 1522273100, "question_id": 49544598, "link": "https://stackoverflow.com/questions/49544598/recursive-function-outputs-values-in-reverse", "title": "Recursive function outputs values in reverse", "body": "<p>I am writing a simple decimal to binary converter for a homework project and ran into an issue.</p>\n\n<p>The assignment specifically calls for the use of recursive functions, and I got the math and everything right - it's just that the function outputs everything in reverse:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid decToBinary(int, int);\n\nint main() {\n    int asd = 0;\n\n    cout &lt;&lt; \"Enter a non-negative intger value:  \";\n    cin &gt;&gt; asd;\n\n    cout &lt;&lt; \"Decimal \" &lt;&lt; asd &lt;&lt; \" = \";\n\n    decToBinary(asd, 0);\n\n    system(\"pause\");\n}\n\nvoid decToBinary(int val, int remainder) {\n    if (val == 0) {\n        cout &lt;&lt; remainder &lt;&lt; \" Binary\" &lt;&lt; endl;\n    } else {\n        cout &lt;&lt; remainder;\n        decToBinary(val / 2, val % 2);\n    }\n}\n</code></pre>\n\n<p>I am genuinely confused as to why this is. It seems to output everything in reverse, so for example instead of 13 being 1101 - it's 01011. The assignment requires that the remainder and the value be passed as arguments.</p>\n"}, {"tags": ["c++", "linux", "qt", "serial-port", "virtual-serial-port"], "comments": [{"owner": {"reputation": 397, "user_id": 3074135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b3e3f61a4b1259f63a840d57b97eb05?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Shienkov", "link": "https://stackoverflow.com/users/3074135/denis-shienkov"}, "edited": false, "score": 0, "creation_date": 1522305343, "post_id": 49544318, "comment_id": 86106103, "body": "It is better to use tty0tty anyway. And, yes, you need in qt-event loop, or, at least to use waitForXX() methods."}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1522291000, "last_edit_date": 1522291000, "creation_date": 1522289961, "answer_id": 49547001, "question_id": 49544318, "link": "https://stackoverflow.com/questions/49544318/using-linux-pseudoterminal-to-test-qserialport/49547001#49547001", "title": "Using Linux pseudoterminal to test QSerialPort", "body": "<p>Qt is executed inside an event loop so you need to wait for the communication to be processed, in Qt you should work asynchronously using the signals:</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QSerialPort&gt;\n\n#include &lt;iostream&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    QSerialPort master(\"/dev/ptmx\");\n    if(!master.open(QSerialPort::ReadWrite))\n        std::cout&lt;&lt;\"The master port was not opened\";\n\n    int master_fd = master.handle();\n\n    // get device name of slave pseudoterminal\n    constexpr size_t PTSNAME_BUFFER_LENGTH = 128;\n    char ptsname_buffer[PTSNAME_BUFFER_LENGTH];\n    if (ptsname_r(master_fd, ptsname_buffer, PTSNAME_BUFFER_LENGTH) != 0)\n        return -1;\n\n    // grant access to the slave\n    if (grantpt(master_fd) != 0)\n        return -1;\n\n    // unlock the slave\n    if (unlockpt(master_fd) != 0)\n        return -1;\n\n    // open slave\n    std::cout &lt;&lt; \"Slave pseudoterminal: \" &lt;&lt; ptsname_buffer &lt;&lt; std::endl;\n    QSerialPort slave(ptsname_buffer);\n    if(!slave.open(QSerialPort::ReadWrite))\n        std::cout&lt;&lt;\"The slave port was not opened\";\n\n    QObject::connect(&amp;slave, &amp;QSerialPort::readyRead, [&amp;](){\n        std::cout &lt;&lt; \"Received: \" &lt;&lt; slave.readAll().toStdString() &lt;&lt; std::endl;\n        a.quit();\n    });\n    // test communication\n    master.write(\"Hello World\");\n    return a.exec();\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Slave pseudoterminal: /dev/pts/3\nReceived: Hello World\n</code></pre>\n\n<p><em>Note: Do not use <a href=\"http://en.cppreference.com/w/cpp/thread/sleep_for\" rel=\"nofollow noreferrer\"><code>std::this_thread::sleep_for</code></a> since it is a blocking task that prevents the event loop from executing.</em></p>\n"}], "owner": {"reputation": 332, "user_id": 5633841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYJOv.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/5633841/dino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 2, "accepted_answer_id": 49547001, "answer_count": 1, "score": 3, "last_activity_date": 1522291000, "creation_date": 1522271786, "question_id": 49544318, "link": "https://stackoverflow.com/questions/49544318/using-linux-pseudoterminal-to-test-qserialport", "title": "Using Linux pseudoterminal to test QSerialPort", "body": "<p>I would like to test an application using Qt serial ports with a pseudoterminal. According to the man pages I implemented:</p>\n\n<pre><code>// open master\nQSerialPort master(\"/dev/ptmx\");\nmaster.open(QSerialPort::ReadWrite);\nint master_fd = master.handle();\n\n// get device name of slave pseudoterminal\nconstexpr size_t PTSNAME_BUFFER_LENGTH = 128;\nchar ptsname_buffer[PTSNAME_BUFFER_LENGTH];\nif (ptsname_r(master_fd, ptsname_buffer, PTSNAME_BUFFER_LENGTH) != 0)\n    return 0;\n\n// grant access to the slave\nif (grantpt(master_fd) != 0)\n    return 0;\n\n// unlock the slave\nif (unlockpt(master_fd) != 0)\n    return 0;\n\n// open slave\nstd::cout &lt;&lt; \"Slave pseudoterminal: \" &lt;&lt; ptsname_buffer &lt;&lt; std::endl;\nQSerialPort slave(ptsname_buffer);\nslave.open(QSerialPort::ReadWrite);\n\n// test communication\nmaster.write(\"Hello World\");\nstd::this_thread::sleep_for(std::chrono::milliseconds(500));\nstd::cout &lt;&lt; \"Received: \" &lt;&lt; slave.readAll().toStdString() &lt;&lt; std::endl;\n</code></pre>\n\n<p>Creating the slave device seems to work (in my case it is created at <code>/dev/pts/2</code>). However, the <code>slave.readAll()</code> command always returns an empty string.</p>\n\n<p>Is it possible to test the QSerialPort with a pseudoterminal?</p>\n"}, {"tags": ["c++", "c++11", "infinite-loop", "palindrome"], "comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 7, "creation_date": 1522271259, "post_id": 49544173, "comment_id": 86096087, "body": "<code>for(;;) { if(s.at(i) == &#39;\\n&#39; || i == s.size()-1) { break; }</code> neither <code>s</code> nor <code>i</code> are changing at all in that loop and this condition is your only way out...so how do you expect to break the loop?"}, {"owner": {"reputation": 81, "user_id": 9308817, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/118cf10343e545d746aa33a0a367f4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Rose", "link": "https://stackoverflow.com/users/9308817/rose"}, "reply_to_user": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 1, "creation_date": 1522271853, "post_id": 49544173, "comment_id": 86096341, "body": "That&#39;s what it was, it doesn&#39;t reverse the word at all, but that&#39;s a whole different question. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 9308817, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/118cf10343e545d746aa33a0a367f4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Rose", "link": "https://stackoverflow.com/users/9308817/rose"}, "edited": false, "score": 0, "creation_date": 1522272552, "post_id": 49544427, "comment_id": 86096672, "body": "I added new <code>int k(i)</code>and replaced <code>s.at(i)</code> with <code>s.at(k)</code>, and other similar. Thanks!"}], "tags": [], "owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "is_accepted": true, "score": 1, "last_activity_date": 1522272307, "creation_date": 1522272307, "answer_id": 49544427, "question_id": 49544173, "link": "https://stackoverflow.com/questions/49544173/why-do-i-get-stuck-in-an-infinite-loop-after-calling-a-function/49544427#49544427", "title": "Why do I get stuck in an infinite loop after calling a function?", "body": "<pre><code>for(;;) {\n    if(s.at(i) == '\\n' || i == s.size()-1) {\n        go_on == true;\n        break;\n    }\n    compare+=s.at(i);\n}\n</code></pre>\n\n<p>Your only way out is via that <code>if</code>, but you modify neither <code>s</code> nor <code>i</code> in the loop, so you'll never break!</p>\n"}], "owner": {"reputation": 81, "user_id": 9308817, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/118cf10343e545d746aa33a0a367f4a5?s=128&d=identicon&r=PG&f=1", "display_name": "Rose", "link": "https://stackoverflow.com/users/9308817/rose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 49544427, "answer_count": 1, "score": 1, "last_activity_date": 1522272307, "creation_date": 1522271164, "last_edit_date": 1522272212, "question_id": 49544173, "link": "https://stackoverflow.com/questions/49544173/why-do-i-get-stuck-in-an-infinite-loop-after-calling-a-function", "title": "Why do I get stuck in an infinite loop after calling a function?", "body": "<p>I'm supposed to make a function that receives two arguments: a sentence(<code>std::string</code>) and bunch of phrases(<code>std::vector&lt;std::string&gt;&gt;</code>). Now for all words in a sentence that are contained in the vector, I need to make their palindrome, and stick them together, e.g. compile -> compileelipmoc.\nI also need to make sure that input is available up until two ENTER's are pressed.\nThe problem occurs after calling the function, where I seem to get stuck in an infinite loop.\nWhy am I getting this infinite loop? </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\ntypedef std::vector&lt;std::string&gt; Vektor; \ntypedef std::string String;\n\nvoid ReverseString(String &amp;s1)\n{\nchar temp(0);\nfor(int i(0); i &lt; s1.size()/2; i++) {\n    temp = s1.at(i);\n    s1.at(i) = s1.at(s1.length()-1-i);\n    s1.at(s1.length()-1-i) = temp;\n}\n}\n\nvoid CreatePalindrome(String s, Vektor v)\n{\nbool white_space(true);\nbool go_on(false);\nString compare;\nfor(int i(0); i &lt; s.size(); i++) {\n    for(;;) {\n        if(s.at(i) == '\\n' || i == s.size()-1) {\n            go_on == true;\n            break;\n        }\n        compare+=s.at(i);\n    }\n    if(go_on) {\n        for(int j(0); j &lt; v.size(); j++) {\n            if(compare == v.at(j)) {\n                ReverseString(v.at(j));\n                if(i != s.size()-1) v.at(j)+=' ';\n                s.insert(i, v.at(j));\n            }\n        }\n    }\n    compare.clear();\n}\n}\n\nint main ()\n{\nString sentence, phrase;\nVektor v1;\nchar character(0);\nstd::cout &lt;&lt; \"Enter your sentence: \";\nstd::getline(std::cin, sentence);\nstd::cout &lt;&lt; \"Enter phrases: \";\nfor(;;) {\n    character = std::cin.get();\n    if(character == '\\n') break;\n    for(;;) {\n        phrase.push_back(character);\n        character = std::cin.get();\n        if(character == '\\n') break;\n    }\n    v1.push_back(phrase);\n    phrase.clear();\n}\nCreatePalindrome(sentence, v1);\nstd::cout &lt;&lt; \"After the transformation, the sentence is: \" &lt;&lt; sentence;\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "class", "lib"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user820304"}, "edited": false, "score": 3, "creation_date": 1522270771, "post_id": 49544041, "comment_id": 86095847, "body": "I strongly urge you to rethink your approach. This sounds like it may be better addressed through proper use of inheritance."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 1, "creation_date": 1522270789, "post_id": 49544041, "comment_id": 86095857, "body": "huh? you want to use the libray B without using library B? I am confused..."}, {"owner": {"reputation": 145, "user_id": 8559298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rXCCrIzQq14/AAAAAAAAAAI/AAAAAAAAAAs/LdvngLMZlDM/photo.jpg?sz=128", "display_name": "Panakotta00", "link": "https://stackoverflow.com/users/8559298/panakotta00"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1522271132, "post_id": 49544041, "comment_id": 86096033, "body": "@bolov eehh... i don&#39;t understand what you mean... i want t to have functions aviable only when two librarys are &quot;available&quot;"}, {"owner": {"reputation": 687, "user_id": 8785864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc539da405cd593d7539fc965d512950?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Gutierrez", "link": "https://stackoverflow.com/users/8785864/garrett-gutierrez"}, "edited": false, "score": 1, "creation_date": 1522271153, "post_id": 49544041, "comment_id": 86096044, "body": "I second the person saying to rethink your approach, but barring that you could use something like preprocessor conditions. <code>#ifdef USING_A</code> followed by the lines that use A, then <code>#else</code> followed by the lines the use B, followed by <code>#endif</code>. You can have one library that is compiled differently based on what flags you compile your project with, but this will probably mean code duplication and a general increase in complexity. If the difference in functionality is simple &amp; isolated this might suffice."}, {"owner": {"reputation": 145, "user_id": 8559298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rXCCrIzQq14/AAAAAAAAAAI/AAAAAAAAAAs/LdvngLMZlDM/photo.jpg?sz=128", "display_name": "Panakotta00", "link": "https://stackoverflow.com/users/8559298/panakotta00"}, "edited": false, "score": 0, "creation_date": 1522271261, "post_id": 49544041, "comment_id": 86096089, "body": "@Thebluefish ok... but how can do this &quot;better&quot;... is there a special preprocessor syntax?"}, {"owner": {"reputation": 3966, "user_id": 868546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c689f8a9d6a545795c89c6118f47db?s=128&d=identicon&r=PG", "display_name": "Drise", "link": "https://stackoverflow.com/users/868546/drise"}, "edited": false, "score": 0, "creation_date": 1522271492, "post_id": 49544041, "comment_id": 86096192, "body": "See <a href=\"https://stackoverflow.com/help/how-to-ask\">Spelling, grammar and punctuation are important!</a>."}, {"owner": {"reputation": 145, "user_id": 8559298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rXCCrIzQq14/AAAAAAAAAAI/AAAAAAAAAAs/LdvngLMZlDM/photo.jpg?sz=128", "display_name": "Panakotta00", "link": "https://stackoverflow.com/users/8559298/panakotta00"}, "reply_to_user": {"reputation": 3966, "user_id": 868546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c689f8a9d6a545795c89c6118f47db?s=128&d=identicon&r=PG", "display_name": "Drise", "link": "https://stackoverflow.com/users/868546/drise"}, "edited": false, "score": 0, "creation_date": 1522272164, "post_id": 49544041, "comment_id": 86096514, "body": "@Drise I try to improve myself... I apologize for that"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 8559298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rXCCrIzQq14/AAAAAAAAAAI/AAAAAAAAAAs/LdvngLMZlDM/photo.jpg?sz=128", "display_name": "Panakotta00", "link": "https://stackoverflow.com/users/8559298/panakotta00"}, "edited": false, "score": 0, "creation_date": 1522271800, "post_id": 49544181, "comment_id": 86096318, "body": "Thanks... i think, i can work with this... so i think, i must find a way around. Because, when i have 6 librarys wich can use eachother, this will be the hell, for me, and for my team."}], "tags": [], "owner": {"reputation": 15800, "user_id": 1274314, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gSYsp.jpg?s=128&g=1", "display_name": "TypeIA", "link": "https://stackoverflow.com/users/1274314/typeia"}, "is_accepted": true, "score": 5, "last_activity_date": 1522271203, "creation_date": 1522271203, "answer_id": 49544181, "question_id": 49544041, "link": "https://stackoverflow.com/questions/49544041/two-libraries-which-can-expand-each-other/49544181#49544181", "title": "Two libraries which can expand each other", "body": "<p>This is pretty common in system libraries, where optional features can be chosen at (library) compile time. With this approach, you would have one or more <code>#define</code> preprocessor macros guarding the optional features. Thus, in library A:</p>\n\n<pre><code>#ifdef USE_LIBRARY_B\n#include &lt;b/foo.h&gt;\nint A_optional_feature_using_B(void) { ... }\n#endif\n\n// rest of library A follows\n</code></pre>\n\n<p>At compile time you would either define <code>USE_LIBRARY_B</code> or not (and add any necessary linker flags of course). For example, with <code>gcc</code> on a UNIX-like platform:</p>\n\n<pre><code>$ gcc ... -DUSE_LIBRARY_B ...\n</code></pre>\n\n<p>Most commonly, something like <a href=\"https://www.gnu.org/software/autoconf/autoconf.html\" rel=\"noreferrer\"><code>autoconf</code></a> is used for UNIX environments to give the end-user an easy way to select the optional features. Thus, you might see:</p>\n\n<pre><code>me@pc:library_a$ ./configure --with-library-b\n</code></pre>\n\n<p>See the <code>autoconf</code> documentation for information on how to set something like that up.</p>\n\n<p>On Windows, you could do something similar (e.g., in Visual Studio, use different Project/Solution configurations that define the appropriate macros).</p>\n\n<hr>\n\n<p>The above gives you <em>compile-time only</em> control over the extra features. To allow the choice to be made at <em>runtime</em> so that the library can use B if present, you will need to use runtime dynamic linking. This is highly platform-specific. On Linux, use <a href=\"http://man7.org/linux/man-pages/man3/dlopen.3.html\" rel=\"noreferrer\"><code>libdl</code></a>. On Windows, use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684175(v=vs.85).aspx\" rel=\"noreferrer\"><code>LoadLibrary()</code></a> and friends. Here you will have to do a lot of extra coding to look for and load the optional library if present and to return appropriate error codes / exceptions if not present and functions requiring the optional library are called.</p>\n\n<hr>\n\n<p>If all this sounds like a pain in the rear, you're right, it is. If there is any reasonable way to adjust your strategy so that you don't have to do this, you will be better off. But for some use cases this <em>is</em> necessary and appropriate and if yours is so, then I hope the above gives you some starting points, and good luck.</p>\n"}], "owner": {"reputation": 145, "user_id": 8559298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rXCCrIzQq14/AAAAAAAAAAI/AAAAAAAAAAs/LdvngLMZlDM/photo.jpg?sz=128", "display_name": "Panakotta00", "link": "https://stackoverflow.com/users/8559298/panakotta00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49544181, "answer_count": 1, "score": 2, "last_activity_date": 1522271434, "creation_date": 1522270581, "last_edit_date": 1522271434, "question_id": 49544041, "link": "https://stackoverflow.com/questions/49544041/two-libraries-which-can-expand-each-other", "title": "Two libraries which can expand each other", "body": "<p>So I'm working on an Modular C++ library for me and my team. Here is my situation:</p>\n\n<p>I have a library <code>A</code> which contains a complex storage control <code>class a</code>. I have also a library <code>B</code> that is something like a interface to an complex protocol which contains an special response. Now, I want to have a function in class a, which CAN use <code>B</code>. This can be helpful for Program <code>X</code>, which uses <code>A</code> and <code>B</code>. But there is also Program <code>Y</code>, which will only use <code>A</code> and not the complex library <code>B</code>.</p>\n\n<p>How can I get this behavior in C++? Do I need macros, symbols or is there an other way to implement this easily so that I don't need to include an extra file in a Program? Which type of library is the better one?</p>\n"}, {"tags": ["c++", "eigen"], "answers": [{"tags": [], "owner": {"reputation": 21392, "user_id": 4770166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ar44f.jpg?s=128&g=1", "display_name": "RHertel", "link": "https://stackoverflow.com/users/4770166/rhertel"}, "is_accepted": false, "score": 1, "last_activity_date": 1522273388, "creation_date": 1522273388, "answer_id": 49544657, "question_id": 49543979, "link": "https://stackoverflow.com/questions/49543979/is-there-a-way-to-insert-row-column-in-matrix-eigen-c/49544657#49544657", "title": "Is there a way to insert row/column in matrix (Eigen C++)?", "body": "<p>The new matrix <code>B</code> can be constructed from the original matrix <code>A</code> by using the <a href=\"https://eigen.tuxfamily.org/dox/group__TutorialBlockOperations.html\" rel=\"nofollow noreferrer\">block operations</a> <code>.topRows()</code> and <code>.bottomRows()</code>:</p>\n\n<pre><code>  MatrixXd B = MatrixXd::Zero(4, 3);\n  B.topRows(2) = A.topRows(2);\n  B.bottomRows(1) =  A.bottomRows(1);\n</code></pre>\n\n<p>This will insert a row  of zeros between the second and third row. Analogous operations with <code>.rightCols()</code> and <code>.leftCols()</code> can be used to insert a column of zeros.</p>\n"}], "owner": {"reputation": 31, "user_id": 8421534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qA21m.jpg?s=128&g=1", "display_name": "Blurrrryy", "link": "https://stackoverflow.com/users/8421534/blurrrryy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522273388, "creation_date": 1522270370, "last_edit_date": 1522270527, "question_id": 49543979, "link": "https://stackoverflow.com/questions/49543979/is-there-a-way-to-insert-row-column-in-matrix-eigen-c", "title": "Is there a way to insert row/column in matrix (Eigen C++)?", "body": "<p>I am using the Eigen library in C++.<br>\nI need to insert a row and column to an existing matrix at specific index. </p>\n\n<p>For example, say I need to insert a 0 row and 0 column at the 2nd index...</p>\n\n<p>ORIGINAL MATRIX (A)  </p>\n\n<p>1 2 3<br>\n1 2 3<br>\n1 2 3  </p>\n\n<p>NEW MATRIX (B)  </p>\n\n<p>1 2 0 3<br>\n1 2 0 3<br>\n0 0 0 0<br>\n1 2 0 3  </p>\n\n<p>Thanks for the help in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522270661, "post_id": 49543977, "comment_id": 86095786, "body": "Arguments are always passed by value unless otherwise specified with a <code>&amp;</code>. I believe you may be confused about how scopes work in c++."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522270710, "post_id": 49543977, "comment_id": 86095819, "body": "In c++, <code>main</code> must always have the return type <code>int</code>. And your <code>return 0;</code> are sitting alone outside of a function scope. I assume they were meant to be at the end of <code>main</code>."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 1, "creation_date": 1522272584, "post_id": 49543977, "comment_id": 86096679, "body": "Suspect troll.."}, {"owner": {"reputation": 4562, "user_id": 9254539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b45538511384660bfaef5092e30b7ea?s=128&d=identicon&r=PG&f=1", "display_name": "BessieTheCookie", "link": "https://stackoverflow.com/users/9254539/bessiethecookie"}, "reply_to_user": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1522282125, "post_id": 49543977, "comment_id": 86099588, "body": "@MartinJames Or victim of some terrible C++ teaching."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 0, "last_activity_date": 1522270691, "creation_date": 1522270691, "answer_id": 49544071, "question_id": 49543977, "link": "https://stackoverflow.com/questions/49543977/how-i-can-know-if-the-function-passing-by-value-reference/49544071#49544071", "title": "How I can know if the function passing by value /reference?", "body": "<p>They're passing by value. You can just look at the signature, e.g. <code>foo(int x)</code> by value and <code>foo(int&amp; x)</code> by reference. So in your example, to modify the <em>out</em> parameters you'd use the signature</p>\n\n<pre><code>void sumAndDifference(int n1, int n2, int&amp; sum, int&amp; diff)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522273247, "post_id": 49544121, "comment_id": 86096930, "body": "Pointers and references are different.  You can pass by reference (your example) or you can pass by pointer: <code>int * sum, int * diff</code>.  One big difference is that a variable passed by reference refers to an existing variable (from the caller).  A pointer can point to anywhere in memory and may not point to a valid object."}, {"owner": {"reputation": 85, "user_id": 7494527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c2e8331765da742feeb8b3eac44e7d?s=128&d=identicon&r=PG&f=1", "display_name": "JP_99", "link": "https://stackoverflow.com/users/7494527/jp-99"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522273483, "post_id": 49544121, "comment_id": 86097020, "body": "@ThomasMatthews this is correct. Pointers can more than often lead to nothing."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522274138, "post_id": 49544121, "comment_id": 86097287, "body": "Your text and example don&#39;t correlate, &quot;pass a function by reference you need to use pointers&quot;.  In your example, you are using references not pointers."}], "tags": [], "owner": {"reputation": 85, "user_id": 7494527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c2e8331765da742feeb8b3eac44e7d?s=128&d=identicon&r=PG&f=1", "display_name": "JP_99", "link": "https://stackoverflow.com/users/7494527/jp-99"}, "is_accepted": false, "score": 0, "last_activity_date": 1522274207, "last_edit_date": 1522274207, "creation_date": 1522270912, "answer_id": 49544121, "question_id": 49543977, "link": "https://stackoverflow.com/questions/49543977/how-i-can-know-if-the-function-passing-by-value-reference/49544121#49544121", "title": "How I can know if the function passing by value /reference?", "body": "<p>First of all I fixed up your code.</p>\n\n<pre><code>  #include &lt;iostream&gt; \n\n    using namespace std;\n    void sumAndDifference (int n1, int n2, int sum, int diff) \n    { \n        sum = n1 + n2;\n        diff = n1 - n2;\n    }\n    void main () \n    {\n        int sum = 0, diff = 0, x = 200, y = 88;\n        sumAndDifference (x,y,sum, diff); //calling the function\n        cout &lt;&lt; \"\\n Sum is \" &lt;&lt; sum &lt;&lt; \"\\n Diff is \" &lt;&lt; diff;   \n    }\n   //&amp;&amp;\n    #include &lt;iostream&gt; \n\n    using namespace std;\n    void sumAndDifference (int n1, int n2,int sum, int diff)\n    {\n        sum = n1 + n2;\n        diff = n1 - n2;\n        cout &lt;&lt; \"\\n Sum is \" &lt;&lt; sum;    //print sum in the function\n        cout &lt;&lt; \"\\n Diff is \" &lt;&lt; diff;   // print diff in the function\n    }\n\n    void main ()\n    {\n        int sum = 0, diff = 0, x = 200, y = 88;\n        sumAndDifference (x,y, sum, diff);   //calling the function\n    }\n</code></pre>\n\n<p>Second of all, both functions presented here pass their arguments by value.\nExample of a function that passes arguments by reference could be</p>\n\n<pre><code>void SumAndDifference(int n1, int n2, int &amp;sum, int &amp;diff)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9552347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a49b8eb0e06aaa898ef44176709a00?s=128&d=identicon&r=PG&f=1", "display_name": "N.Essam", "link": "https://stackoverflow.com/users/9552347/n-essam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1522274207, "creation_date": 1522270365, "last_edit_date": 1522270640, "question_id": 49543977, "link": "https://stackoverflow.com/questions/49543977/how-i-can-know-if-the-function-passing-by-value-reference", "title": "How I can know if the function passing by value /reference?", "body": "<p>These two functions add and subtract two integers I need in this code how i can know that this function passing by value or not and what is the difference between printing the value in the body of function and the void main.</p>\n\n<pre><code>#include &lt;iostream&gt; \n\nusing namespace std;\nvoid sumAndDifference(int n1, int n2, int sum, int diff) {\n    sum = n1 + n2;\n    diff = n1 - n2;\n}\nvoid main() {\n    int sum = 0, diff = 0, x = 200, y = 88;\n    sumAndDifference(x, y, sum, diff); //calling the function\n    cout &lt;&lt; \"\\n Sum is \" &lt;&lt; sum &lt;&lt; \"\\n Diff is \" &lt;&lt; diff;\n}\nreturn 0;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>#include &lt;iostream&gt; \n\nusing namespace std;\nvoid sumAndDifference(int n1, int n2, int sum, int diff) {\n    sum = n1 + n2;\n    diff = n1 - n2;\n    cout &lt;&lt; \"\\n Sum is \" &lt;&lt; sum;    //print sum in the function\n    cout &lt;&lt; \"\\n Diff is \" &lt;&lt; diff;   // print diff in the function\n}\nvoid main() {\n    int sum = 0, diff = 0, x = 200, y = 88;\n    sumAndDifference(x, y, sum, diff);   //calling the function\n}\nreturn 0;\n</code></pre>\n"}, {"tags": ["c++", "macros", "include"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522270022, "post_id": 49543866, "comment_id": 86095435, "body": "Use <code>std::ifstream</code>. <code>#include</code> happens at preprocessing time (roughly at compile time); it can&#39;t happen at runtime"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1522270158, "post_id": 49543866, "comment_id": 86095512, "body": "I don&#39;t even understand how you intend to use such a function... replace all of your <code>#include</code> directives with <code>load()</code>? If you want to read the file as text that is very different than <code>#include</code>ing it"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1522270302, "post_id": 49543866, "comment_id": 86095592, "body": "You can use <code>xxd -i</code> to convert a file to a format suitable for use as data by a C or C++ compiler."}, {"owner": {"reputation": 75, "user_id": 9406675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5ed0e4b758842292de4fff76a381ba1?s=128&d=identicon&r=PG&f=1", "display_name": "Holden Perkins", "link": "https://stackoverflow.com/users/9406675/holden-perkins"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1522270608, "post_id": 49543866, "comment_id": 86095764, "body": "@CoryKramer The purpose would be able to get a file&#39;s contents as a string at compile time. OK yep a function like this wouldn&#39;t work as I&#39;ve written it. I&#39;ll just have to use const char* = #include&quot;filename&quot; where filename is a usable string and harcode the path as I need it."}, {"owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "edited": false, "score": 1, "creation_date": 1522270844, "post_id": 49543866, "comment_id": 86095881, "body": "Now I&#39;m a bit confused. What exactly do you want? You just want to include any file (without compilation) and assign it to a string, am I right? Then I think we misunderstood your question. If that is the case, please reword your question a bit to make it clearer."}, {"owner": {"reputation": 75, "user_id": 9406675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5ed0e4b758842292de4fff76a381ba1?s=128&d=identicon&r=PG&f=1", "display_name": "Holden Perkins", "link": "https://stackoverflow.com/users/9406675/holden-perkins"}, "edited": false, "score": 0, "creation_date": 1522270997, "post_id": 49543866, "comment_id": 86095956, "body": "Yes, that would be the implication of a function returning a string with the return statement including #include. ( if such a thing were possible as I proposed it, which I now know isn&#39;t)"}, {"owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "edited": false, "score": 0, "creation_date": 1522271260, "post_id": 49543866, "comment_id": 86096088, "body": "Ah, OK... then your question is a duplicate and has already sufficient answers here: <a href=\"https://stackoverflow.com/q/410980/2328447\">\u201c#include\u201d a text file in a C program as a char</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "is_accepted": false, "score": 1, "last_activity_date": 1522270422, "creation_date": 1522270422, "answer_id": 49543992, "question_id": 49543866, "link": "https://stackoverflow.com/questions/49543866/function-to-call-include-macro-from-a-string-variable-argument/49543992#49543992", "title": "Function to call #include macro from a string variable argument?", "body": "<p>This is absolutely impossible.</p>\n\n<p>The reason is - as Justin already said in a comment - that <code>#include</code> is evaluated at compile time.</p>\n\n<p>To include files during run time would require a complete compiler \"on board\" of the program. A lot of script languages support things like that, but C++ is a compiled language and works different: Compile and run time are strictly separated.</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 1, "last_activity_date": 1522272683, "last_edit_date": 1522272683, "creation_date": 1522270519, "answer_id": 49544023, "question_id": 49543866, "link": "https://stackoverflow.com/questions/49543866/function-to-call-include-macro-from-a-string-variable-argument/49544023#49544023", "title": "Function to call #include macro from a string variable argument?", "body": "<blockquote>\n  <p>I can't tell if it's flat out not possible</p>\n</blockquote>\n\n<p>I can. It's flat out not possible.</p>\n\n<p>Contents of the <code>filename_</code> string are not determined until runtime - the content is unknown when the pre processor is run. Pre-processor macros are processed before compilation (or as first step of compilation depending on your perspective).</p>\n\n<p>When the choice of the filename is determined at runtime, the file must also be read at runtime (for example using a <code>fstream</code>).</p>\n\n<blockquote>\n  <p>Also, the ideal is to have this as a compile time operation</p>\n</blockquote>\n\n<p>The latest time you can affect the choice of included file is when the preprocessor runs. What you can use to affect the file is a pre-processor macro:</p>\n\n<pre><code>#define filename_ \"path/to/file\"\n\n// ...\nreturn\n#include filename_\n;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1522271549, "post_id": 49544250, "comment_id": 86096229, "body": "<code>std::string</code> is not a null-terminated string, so there is no need to (nor should you) allocate room for a null terminator. And <a href=\"https://stackoverflow.com/questions/116038/\">there are ways</a> to read a whole file into a <code>std::string</code> without resorting to seeking the file."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1522271742, "last_edit_date": 1522271742, "creation_date": 1522271485, "answer_id": 49544250, "question_id": 49543866, "link": "https://stackoverflow.com/questions/49543866/function-to-call-include-macro-from-a-string-variable-argument/49544250#49544250", "title": "Function to call #include macro from a string variable argument?", "body": "<p>You cannot use <code>#include</code> to do what you want to do.</p>\n\n<p>The C++ way of implementing such a function is:</p>\n\n<ol>\n<li>Find out the size of the file.</li>\n<li>Allocate memory for the contents of the file.</li>\n<li>Read the contents of the file into the allocated memory.</li>\n<li>Return the contents of the file to the calling function.</li>\n</ol>\n\n<p>It will better to change the return type to <code>std::string</code> to ease the burden of dealing with dynamically allocated memory.</p>\n\n<pre><code>std::string load(const char* filename)\n{\n   std::string contents;\n\n   // Open the file\n   std::ifstream in(filename);\n\n   // If there is a problem in opening the file, deal with it.\n   if ( !in )\n   {\n      // Problem. Figure out what to do with it.\n   }\n\n   // Move to the end of the file.\n   in.seekg(0, std::ifstream::end);\n\n   auto size = in.tellg();\n\n   // Allocate memory for the contents.\n   // Add an additional character for the terminating null character.\n   contents.resize(size+1);\n\n   // Rewind the file.\n   in.seekg(0);\n\n   // Read the contents\n   auto n = in.read(contents.data(), size);\n   if ( n != size )\n   {\n      // Problem. Figure out what to do with it.\n   }\n\n   contents[size] = '\\0';\n   return contents;\n};\n</code></pre>\n\n<p><strong>PS</strong></p>\n\n<p>Using a terminating null character in the returned object is necessary only if you need to treat the contents of the returned object as a null terminated string for some reason. Otherwise, it maybe omitted.</p>\n"}, {"tags": [], "owner": {"reputation": 49387, "user_id": 1428679, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3eba7f8f9195a30d49bdbbdd594b1e4?s=128&d=identicon&r=PG", "display_name": "LSerni", "link": "https://stackoverflow.com/users/1428679/lserni"}, "is_accepted": false, "score": 1, "last_activity_date": 1522275740, "last_edit_date": 1592644375, "creation_date": 1522275740, "answer_id": 49545121, "question_id": 49543866, "link": "https://stackoverflow.com/questions/49543866/function-to-call-include-macro-from-a-string-variable-argument/49545121#49545121", "title": "Function to call #include macro from a string variable argument?", "body": "<h1>it is <em>theoretically</em> possible.</h1>\n<p>In practice, you're asking to write a PHP construct using C++. It can be done, as too many things can, <strong>but</strong> you need some awkward prerequisites.</p>\n<ul>\n<li><p>a <strong>compiler</strong> has to be linked into your executable. Because the operation you call &quot;hardcoding&quot; is essential for the code to be executed.</p>\n</li>\n<li><p>a (probably very fussy) <strong>linker</strong> again into your executable, to merge the new code and resolve any function calls etc. <em>in both directions</em>.</p>\n</li>\n</ul>\n<p>Also, the newly imported code would <em>not</em> be reachable by the rest of the program <em>which was not written (and certainly not compiled!) with that information in mind</em>. So you would need an entry point and a means of exchanging information. Then in this block of information you could even put pointers to code to be called.</p>\n<p><strong>Not all architectures and OSes will support this</strong>, because &quot;data&quot; and &quot;code&quot; are two concerns best left separate. Code is potentially harmful; think of it as nitric acid. External data is fluid and slippery, like glycerine. And handling nitroglycerine is, as I said, <em>possible</em>. Practical and safe are something completely different.</p>\n<p>Once the prerequisites were met, you would have two or three nice extra functions and could write:</p>\n<pre><code>void *load(const char* filename, void *data) {\n    // some &quot;don't load twice&quot; functionality is probably needed\n    void *code = compile_source(filename);\n    if (NULL == code) {\n        // a get_last_compiler_error() would be useful\n        return NULL;\n    }\n    if (EXIT_SUCCESS != invoke_code(code, data)) {\n        // a get_last_runtime_error() would also be useful\n        release_code(code);\n        return NULL;\n    }\n    // it is now the caller's responsibility to release the code.\n    return code;\n}\n</code></pre>\n<p>And of course <strong>it would be a security nightmare</strong>, with source code left lying around and being imported into a running application.</p>\n<p>Maintaining the code would be a different, but equally scary nightmare, because you'd be needing <em>two</em> toolchains - one to build the executable, one embedded inside said executable - and they wouldn't necessarily be automatically compatible. You'd be crying loud for all the bugs of the realm to come and rejoice.</p>\n<h1>What problem would be solved?</h1>\n<p>Implementing <code>require_once</code> in C++ might be fun, but <a href=\"https://meta.stackexchange.com/a/66378/293582\">you thought it could answer a problem you have</a>. <em>Which is it exactly?</em> Maybe it can be solved in a more C++ish way.</p>\n<p>A better alternative, considering also performances etc., to <strong>compile a loadable module</strong> beforehand, and load it at runtime.</p>\n<p>If you need to perform small tunings to the executable, place parameters into an external configuration file and provide a mechanism to reload it. Once the modules conform to a fixed specification, you can even provide &quot;plugins&quot; that weren't available when the executable was first developed.</p>\n"}], "owner": {"reputation": 75, "user_id": 9406675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5ed0e4b758842292de4fff76a381ba1?s=128&d=identicon&r=PG&f=1", "display_name": "Holden Perkins", "link": "https://stackoverflow.com/users/9406675/holden-perkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1522275740, "creation_date": 1522269947, "last_edit_date": 1522271889, "question_id": 49543866, "link": "https://stackoverflow.com/questions/49543866/function-to-call-include-macro-from-a-string-variable-argument", "title": "Function to call #include macro from a string variable argument?", "body": "<p>Is it possible to have a function like this:</p>\n\n<pre><code>const char* load(const char* filename_){\n    return\n    #include filename_\n    ;\n};\n</code></pre>\n\n<p>so you wouldn't have to hardcode the #include file?</p>\n\n<p>Maybe with a some macro?</p>\n\n<p>I'm drawing a blank, guys. I can't tell if it's flat out not possible or if it just has a weird solution. </p>\n\n<p>EDIT:</p>\n\n<p>Also, the ideal is to have this as a compile time operation, otherwise I know there's more standard ways to read a file. Hence thinking about #include in the first place.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1522269951, "post_id": 49543830, "comment_id": 86095399, "body": "<code>getAge</code> returns an integer - why do you want to modify a temporary value?"}, {"owner": {"reputation": 41, "user_id": 4385023, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001466658368/picture?type=large", "display_name": "Bryuki HK", "link": "https://stackoverflow.com/users/4385023/bryuki-hk"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522270115, "post_id": 49543830, "comment_id": 86095486, "body": "Ugh then I didn&#39;t quite understand the concept, I guess. I&#39;ll look into it."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522270368, "post_id": 49543830, "comment_id": 86095623, "body": "You probably want to add <code>setAge</code> and <code>setName</code> functions that actually change the values stored inside the <code>Dog</code> object"}, {"owner": {"reputation": 41, "user_id": 4385023, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001466658368/picture?type=large", "display_name": "Bryuki HK", "link": "https://stackoverflow.com/users/4385023/bryuki-hk"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522270726, "post_id": 49543830, "comment_id": 86095830, "body": "Our teacher recommended us to try doing that without setters for some reason . But I&#39;ll probably do that, thank you"}, {"owner": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "edited": false, "score": 0, "creation_date": 1522270745, "post_id": 49543830, "comment_id": 86095838, "body": "And I think you probably want to use the second version that gets a reference to the object stored in the vector, <code>Dog&amp; d2 = dogsInDynamicVector[i];</code> to modify the object in the vector rather than a copy of a <code>Dog</code> from the vector. I assume that <code>dogsInDynamicVector</code> is some kind of a collection class such as a <code>vector</code> that you want to update?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1522270823, "post_id": 49543830, "comment_id": 86095872, "body": "@BryukiHK Functions return by value unless the return type is a reference type. The <code>int</code> returned by <code>getAge()</code> is a copy of <code>age;</code>, not the same <code>int</code>. Changing that copy would not have any observable effect."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 7484210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ghd9L.jpg?s=128&g=1", "display_name": "0x400921FB54442D18", "link": "https://stackoverflow.com/users/7484210/0x400921fb54442d18"}, "is_accepted": false, "score": 0, "last_activity_date": 1522276396, "creation_date": 1522276396, "answer_id": 49545232, "question_id": 49543830, "link": "https://stackoverflow.com/questions/49543830/expression-is-not-modfiable/49545232#49545232", "title": "Expression is not modfiable", "body": "<p>You are using the getter/setter pattern wrong. Getter functions's purpose is to read the value, not modify it.<br><br>\nTo modify the value, you need to create a setter function for it, like this:</p>\n\n<pre><code>void setAge(int a) { age = a; }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4385023, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001466658368/picture?type=large", "display_name": "Bryuki HK", "link": "https://stackoverflow.com/users/4385023/bryuki-hk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522276396, "creation_date": 1522269762, "question_id": 49543830, "link": "https://stackoverflow.com/questions/49543830/expression-is-not-modfiable", "title": "Expression is not modfiable", "body": "<p>I have a repository full of dogs and I must update them. \nI have tried updating their age using this: </p>\n\n<pre><code>bool Repository::updateDogAge(const Dog&amp; d, const int&amp; ageToUpdate)\n{\n    {\n        Dog* dogsInDynamicVector = this-&gt;dogs.getAllElems();\n        if (dogsInDynamicVector == NULL)\n            return false;\n\n        for (int i = 0; i &lt; this-&gt;dogs.getSize(); i++)\n        {\n            Dog d2 = dogsInDynamicVector[i];\n            if (d2.getName() == d.getName())\n                d2.getAge() = ageToUpdate;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>but it gives me a compiler error at d2.getAge() that says it is not a modifiable value.\nAlso I tried changing their name using a similar function:</p>\n\n<pre><code> bool Repository::updateDogName(const Dog&amp; d, const std::string&amp; nameToUpdate)\n{\n    Dog* dogsInDynamicVector = this-&gt;dogs.getAllElems();\n    if (dogsInDynamicVector == NULL)\n        return false;\n\n    for (int i = 0; i &lt; this-&gt;dogs.getSize(); i++)\n    {\n        Dog&amp; d2 = dogsInDynamicVector[i];\n        if (d2.getName() == d.getName())\n            d2.getName() = nameToUpdate;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Despite the fact they are almost identical, this one doesn't give me an error, but it just doesn't change the value. \nThe getName is defined like this :</p>\n\n<pre><code>std::string getName() const { return name; }\n</code></pre>\n\n<p>and getAge:</p>\n\n<pre><code>int getAge() const { return age; }\n</code></pre>\n\n<p>Thank you! Sorry for the newbish question. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1522269554, "post_id": 49543742, "comment_id": 86095171, "body": "<code>delete[] dynMem;</code> is UB, since it was allocated with <code>new int;</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522269590, "post_id": 49543742, "comment_id": 86095190, "body": "&quot;Is it any way in c++ to check if dynamic allocated memory is deleted after the destructor is called? &quot; Not really. There are other tools, <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">valgrind being a popular and effective one</a>, used to detect memory leaks."}, {"owner": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "edited": false, "score": 1, "creation_date": 1522269831, "post_id": 49543742, "comment_id": 86095344, "body": "Don&#39;t use dynamic memory unless you need to.  When you do, use <code>std::shared_ptr&lt;&gt;</code> or <code>std::unique_ptr&lt;&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 8507446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71081484d736a8bb9d2d76e8e0648892?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Petroske", "link": "https://stackoverflow.com/users/8507446/joseph-petroske"}, "is_accepted": false, "score": 0, "last_activity_date": 1522269983, "creation_date": 1522269983, "answer_id": 49543882, "question_id": 49543742, "link": "https://stackoverflow.com/questions/49543742/check-if-destructor-is-destroying-all-the-dynamic-memory/49543882#49543882", "title": "Check if destructor is destroying all the dynamic memory?", "body": "<p>One useful tool to do this is valgrind. Valgrind is a hugely useful tool for checking for memory leaks.</p>\n\n<p>Do something like</p>\n\n<pre><code>valgrind --tool=memcheck your_program_name\n</code></pre>\n\n<p>This will run your program and you will be able to compare the number of memory allocations to the number of memory freed. This will give you a good idea of if you are leaking memory</p>\n"}], "owner": {"reputation": 65, "user_id": 9480736, "user_type": "registered", "profile_image": "https://graph.facebook.com/2049422241740671/picture?type=large", "display_name": "Iver Andreas Ugelvik", "link": "https://stackoverflow.com/users/9480736/iver-andreas-ugelvik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "closed_date": 1522274526, "answer_count": 1, "score": 0, "last_activity_date": 1522269983, "creation_date": 1522269419, "question_id": 49543742, "link": "https://stackoverflow.com/questions/49543742/check-if-destructor-is-destroying-all-the-dynamic-memory", "closed_reason": "Duplicate", "title": "Check if destructor is destroying all the dynamic memory?", "body": "<p>Is it any way in c++ to check if dynamic allocated memory is deleted after the destructor is called? As far as I am concerned, it is not possible to access the memory after the object. So how do I check that the memory is removed from the freespace \nExample:</p>\n\n<pre><code>//main file\n#include &lt;iostream&gt;\n#include \"kake.h\"\n\nusing namespace std;\n\nvoid test() {\n    Kake kjeks(2);\n    Kake cookie(kjeks);\n    cookie = kjeks;\n    cout &lt;&lt; kjeks.getDynMem() &lt;&lt; endl;\n    cout &lt;&lt; cookie.getDynMem() &lt;&lt; endl;\n}\n\n\nint main() {\n    test();\n    //Is the memory gone?\n    return 0;\n}\n\n//Kake class declaration\nclass Kake {\npublic:\n    Kake();\n    Kake(int ant);\n    ~Kake();\n    Kake(const Kake&amp; rhs);\n    Kake&amp; operator=(const Kake&amp; rhs);\n\n    int getAntall()const { return antall; }\n    int getDynMem() const { return *dynMem; }\n    int * getDynAddr() const { return dynMem; }\n\nprivate:\n    int antall;\n    int *dynMem;\n};\n\n//Kake implementation\n#include \"kake.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nKake::Kake():antall(0){}\nKake::Kake(int ant):antall(ant){\n    dynMem = new int;\n    *dynMem = 2;\n}\nKake::~Kake(){\n    delete[] dynMem;\n}\nKake::Kake(const Kake&amp; rhs):antall(rhs.antall){\n    dynMem = new int(rhs.getDynMem());\n\n}\nKake&amp; Kake::operator=(const Kake&amp; rhs){\n    dynMem = new int;\n    *dynMem = rhs.getDynMem();\n    antall = rhs.antall;\n\n    return *this;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 6, "creation_date": 1522269572, "post_id": 49543738, "comment_id": 86095181, "body": "If you meant a character literal, <code>&#39;a&#39;</code> is what you&#39;d need"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1522269852, "post_id": 49543738, "comment_id": 86095360, "body": "Warnings don&#39;t exist to look technically. Pay heed to them! And get a textbook to leran the basics. You can&#39;t learn C++ by obscure youtube videos, online tutorials or trial&amp;error."}], "answers": [{"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1522270662, "post_id": 49543841, "comment_id": 86095787, "body": "<code>if( x == &#39;a&#39; &amp;&amp; x == &#39;A&#39; )</code> is always false -- no single character can be both lower and uppercase &#39;a&#39; at the same time..."}, {"owner": {"reputation": 137, "user_id": 9469028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bd1OhzG00T0/AAAAAAAAAAI/AAAAAAAAAB8/LnzV0gpohS4/photo.jpg?sz=128", "display_name": "jleibman", "link": "https://stackoverflow.com/users/9469028/jleibman"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1522271108, "post_id": 49543841, "comment_id": 86096014, "body": "Sorry, i posted before noticing, i&#39;ll edit"}], "tags": [], "owner": {"reputation": 137, "user_id": 9469028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bd1OhzG00T0/AAAAAAAAAAI/AAAAAAAAAB8/LnzV0gpohS4/photo.jpg?sz=128", "display_name": "jleibman", "link": "https://stackoverflow.com/users/9469028/jleibman"}, "is_accepted": false, "score": 0, "last_activity_date": 1522271130, "last_edit_date": 1522271130, "creation_date": 1522269835, "answer_id": 49543841, "question_id": 49543738, "link": "https://stackoverflow.com/questions/49543738/how-to-cause-a-cin-to-cout-a-specific-value-if-a-particular-char-is-entered/49543841#49543841", "title": "How to cause a cin to cout a specific value if a particular char is entered", "body": "<p>I put it together in my IDE, and the only error it had was for the line</p>\n\n<pre><code>if( x == \"a\" )\n</code></pre>\n\n<p>which should instead be inside single quotes for characters</p>\n\n<pre><code>if( x == 'a' )\n</code></pre>\n\n<p>Also, I'm not sure if you intended to or not, but characters in most programming languages are case sensitive, so if you want both a and A to work, you'll instead need</p>\n\n<pre><code>if( x == 'a' || x == 'A' )\n</code></pre>\n\n<p>so it tries both cases</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9566446"}, "is_accepted": false, "score": 1, "last_activity_date": 1522270476, "creation_date": 1522270476, "answer_id": 49544008, "question_id": 49543738, "link": "https://stackoverflow.com/questions/49543738/how-to-cause-a-cin-to-cout-a-specific-value-if-a-particular-char-is-entered/49544008#49544008", "title": "How to cause a cin to cout a specific value if a particular char is entered", "body": "<p>it must be if (x=='a') not if (x== \"a\")</p>\n"}], "owner": {"reputation": 45, "user_id": 6246908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6ff0300f3ec989700feeb5e8bb31e62?s=128&d=identicon&r=PG&f=1", "display_name": "TGFoxy", "link": "https://stackoverflow.com/users/6246908/tgfoxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1522271212, "answer_count": 2, "score": -1, "last_activity_date": 1522271130, "creation_date": 1522269412, "question_id": 49543738, "link": "https://stackoverflow.com/questions/49543738/how-to-cause-a-cin-to-cout-a-specific-value-if-a-particular-char-is-entered", "closed_reason": "Not suitable for this site", "title": "How to cause a cin to cout a specific value if a particular char is entered", "body": "<p>I know this is probably something very stupid but I am just getting into C++ and am just messing around and was wondering, is there any particular reason why this code isn't working? </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cctype&gt;\n#include &lt;cmath&gt;\nusing namespace std;\n\nint main() {\n    char x;\n    cin &gt;&gt; x;\n    if (x == \"a\")\n    cout &lt;&lt; \"Hello\";\n}\n</code></pre>\n\n<p>I am trying to make something that when the letter \"a\" is input, it will display \"Hello\". Any help would be much appreciated, thanks guys!</p>\n"}, {"tags": ["c++", "qt", "touch", "qcombobox"], "comments": [{"owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1522401515, "post_id": 49543708, "comment_id": 86150808, "body": "Why Qt4? Such old version has very poor support of touch input. And widgets originally has no support for touch input - touch input is simulating clicks. It is much better to use <code>QtQuick</code> for touch apps."}, {"owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "reply_to_user": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "edited": false, "score": 0, "creation_date": 1531414841, "post_id": 49543708, "comment_id": 89598642, "body": "@DmitrySazonov my Qt version is actually 5.2, I must have tagged it incorrectly. When making the project, the widgets app was the only one that seemed to work with the beaglebone. The <code>QtQuick</code> apps all say my kit is not valid; I think they require Qt 5.7 or higher"}], "owner": {"reputation": 798, "user_id": 7926069, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/676fa367a40645d604de75ea6a7c3681?s=128&d=identicon&r=PG&f=1", "display_name": "Cobalt", "link": "https://stackoverflow.com/users/7926069/cobalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531414915, "creation_date": 1522269299, "last_edit_date": 1531414915, "question_id": 49543708, "link": "https://stackoverflow.com/questions/49543708/qcombobox-opens-no-matter-where-i-tap-touchscreen", "title": "QComboBox opens no matter where I tap (touchscreen)", "body": "<p>I have an otherwise working app that runs on a beaglebone black with a touch screen. I added a <code>QComboBox</code> to the app, and am experiencing some extremely strange behavior.</p>\n\n<p>Prior to opening the <code>QComboBox</code>, all widgets work normally. Once the user touches the combo box, every subsequent touch anywhere in the window reopens the combo box. Tapping outside the combo box dropdown causes the dropdown to disappear, but causes the app to stop accepting touch inputs. Therefore the app is completely bricked at this point. I know the screen is responding correctly because the cursor still moves when I click and I can still close the app by clicking the X. </p>\n\n<p>To ensure my existing code wasn't somehow causing this behavior, I replicated the situation in a new app consisting of just a <code>QComboBox</code>and a <code>QPushButton</code>.\nThe code for the test project is below, but I everything is autogenerated by qt except the slot for the button press, which just changes the background color of the button to red on click.</p>\n\n<p>My question is</p>\n\n<p>1) What the heck is going on?</p>\n\n<p>2) Does this happen for other people or is my Qt broken?</p>\n\n<p>3) How can I fix it?</p>\n\n<p>Here's the code for the test app:</p>\n\n<p>Test.pro:</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2018-03-28T15:03:35\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = Test\nTEMPLATE = app\n\n# The following define makes your compiler emit warnings if you use\n# any feature of Qt which has been marked as deprecated (the exact warnings\n# depend on your compiler). Please consult the documentation of the\n# deprecated API in order to know how to port your code away from it.\nDEFINES += QT_DEPRECATED_WARNINGS\n\n# You can also make your code fail to compile if you use deprecated APIs.\n# In order to do so, uncomment the following line.\n# You can also select to disable deprecated APIs only up to a certain \nversion of Qt.\n#DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs \ndeprecated before Qt 6.0.0\n\n\nSOURCES += \\\n    main.cpp \\\n    mainwindow.cpp\n\nHEADERS += \\\n    mainwindow.h\n\nFORMS += \\\n    mainwindow.ui\n\nunix {\n    target.path = /home/debian\n    INSTALLS += target\n}\n</code></pre>\n\n<p>Main.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include &lt;QApplication&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_pushButton_clicked();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_pushButton_clicked()\n{\n    ui-&gt;pushButton-&gt;setStyleSheet(\"QPushButton { background-color: red; } \");\n}\n</code></pre>\n\n<p>Here's how my test app looks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L5nrv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L5nrv.png\" alt=\"test app\"></a></p>\n"}, {"tags": ["c++", "arrays", "dynamic", "overloading", "operator-keyword"], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522269331, "post_id": 49543703, "comment_id": 86095057, "body": "<code>v</code> should be <code>const</code> since <code>operator+</code> is not suposed to modify its inputs and should return a <i>copy</i> of a new array"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 5867, "user_id": 9125195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fc90d1f6de6ff28c739b85bdb82f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sid S", "link": "https://stackoverflow.com/users/9125195/sid-s"}, "edited": false, "score": 0, "creation_date": 1522270029, "post_id": 49543703, "comment_id": 86095439, "body": "@SidS, I don&#39;t think so but I might be miscommunicating."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1522269843, "last_edit_date": 1522269843, "creation_date": 1522269288, "answer_id": 49543703, "question_id": 49543637, "link": "https://stackoverflow.com/questions/49543637/c-operator-overload/49543703#49543703", "title": "C++ operator + overload", "body": "<blockquote>\n  <p>How can I implement the problem to work for both the cases.</p>\n</blockquote>\n\n<p>You need to overload the function as a non-member function.</p>\n\n<pre><code>DynamicVector&amp; operator+(const TElement&amp; e, DynamicVector&amp; v);\n</code></pre>\n\n<p>Ideally, make both of them non-member functions.</p>\n\n<p>You can implement the second one using the first one.</p>\n\n<pre><code>DynamicVector&amp; operator+(const TElement&amp; e, DynamicVector&amp; v)\n{\n   return v + e;\n}\n</code></pre>\n\n<hr>\n\n<p>Suggestions for improvement.</p>\n\n<ol>\n<li>Add a non-const <code>operator+=</code> member function to <code>DynamicVector</code>.</li>\n<li>Allow <code>operator+</code> functions work with <code>const</code> objets.</li>\n</ol>\n\n<p>Member function.</p>\n\n<pre><code>DynamicVector&amp; DynamicVector::operator+=(const TElement&amp; e)\n{\n   if (this-&gt;size == this-&gt;capacity)\n     this-&gt;resize();\n   this-&gt;elems[this-&gt;size] = e;\n   this-&gt;size++;\n   return *this;\n}\n</code></pre>\n\n<p>Non-member functions.</p>\n\n<pre><code>DynamicVector operator+(DynamicVector const&amp; v,  TElement const&amp; e)\n{\n   DynamicVector copy(v);\n   return (copy += e);\n}\n\nDynamicVector operator+(TElement const&amp; e, DynamicVector const&amp; v)\n{\n   return v + e;\n}\n</code></pre>\n\n<p>With those changes the overloaded operators work just like fundamental types.</p>\n\n<pre><code>int i = 0;\ni += 3; // Modifies i\nint j = i + 10;  // Does not modify i. It creates a temporary.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1522269945, "post_id": 49543840, "comment_id": 86095396, "body": "We are thinking alike. Should we call our minds great minds? :) :)"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1522270834, "last_edit_date": 1522270834, "creation_date": 1522269826, "answer_id": 49543840, "question_id": 49543637, "link": "https://stackoverflow.com/questions/49543637/c-operator-overload/49543840#49543840", "title": "C++ operator + overload", "body": "<p>First off, <code>operator+</code> is not supposed to modify the left-hand object being added to.  It is supposed to return a new object that is a copy of the two inputs added together, eg:</p>\n\n<pre><code>DynamicVector DynamicVector::operator+(const TElement&amp; e) const\n{\n    DynamicVector tmp(*this);\n    if (tmp.size == tmp.capacity)\n      tmp.resize();\n    tmp.elems[tmp.size] = e;\n    tmp.size++;\n\n    /* NOTE: the above can be optimized to avoid unnecessary reallocations:\n\n    DynamicVector tmp;\n    tmp.capacity = size + 1; // or rounded up to some delta...\n    tmp.size = size + 1;\n    tmp.elems = new TElement[tmp.capacity];\n    std::copy(elems, elems + size, tmp.elems);\n    tmp.elems[size] = e;\n    */\n\n    return tmp;\n}\n</code></pre>\n\n<p>You are thinking of <code>operator+=</code> instead, which is supposed to modify the object being added to, and return a reference to it:</p>\n\n<pre><code>DynamicVector&amp; DynamicVector::operator+=(const TElement&amp; e)\n{\n    if (size == capacity)\n        resize();\n    elems[size] = e;\n    size++;\n    return *this;\n}\n</code></pre>\n\n<p>Now, that being said, to answer your question, you need to define a separate non-member overload of <code>operator+</code> to handle the case where <code>TElement</code> is on the left-hand side, eg:</p>\n\n<pre><code>DynamicVector operator+(const TElement&amp; e, const DynamicVector &amp;v)\n{\n    return v + e;\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>DynamicVector operator+(const TElement&amp; e, const DynamicVector &amp;v)\n{\n    DynamicVector tmp(v);\n    tmp += e;\n    return tmp;\n\n    /* alternatively:\n\n    return DynamicVector(v) += e;\n    */\n\n    /* NOTE: the above can be optimized to avoid unnecessary reallocations:\n\n    DynamicVector tmp;\n    tmp.capacity = v.size + 1; // or rounded up to some delta...\n    tmp.size = v.size + 1;\n    tmp.elems = new TElement[tmp.capacity];\n    std::copy(v.elems, v.elems + v.size, tmp.elems);\n    tmp.elems[v.size] = e;\n    return tmp;\n    */\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8908992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a24273d71dc50daa67ad729e186260?s=128&d=identicon&r=PG&f=1", "display_name": "Doull Owen", "link": "https://stackoverflow.com/users/8908992/doull-owen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522270834, "creation_date": 1522269029, "question_id": 49543637, "link": "https://stackoverflow.com/questions/49543637/c-operator-overload", "title": "C++ operator + overload", "body": "<p>I have a dynamic array and I need to make a function which overloads the operator + such that it should give you the possibility to add a new object element to the array in two ways:</p>\n\n<pre><code>array=array+element; and array=element+array;\n</code></pre>\n\n<p>Until now I have the function:</p>\n\n<pre><code>DynamicVector&amp; DynamicVector::operator+(const TElement&amp; e)\n{\nif (this-&gt;size == this-&gt;capacity)\n     this-&gt;resize();\nthis-&gt;elems[this-&gt;size] = e;\nthis-&gt;size++;\nreturn *this;\n}\n</code></pre>\n\n<p>But this only works for the first case, when we do <code>array=array+element;</code></p>\n\n<p>How can I implement the problem to work for both the cases.</p>\n"}, {"tags": ["c++", "memory-management", "garbage-collection"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1522269006, "post_id": 49543602, "comment_id": 86094879, "body": "Don&#39;t use <code>new</code> and <code>delete</code>."}, {"owner": {"reputation": 704, "user_id": 7595618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51cf59e6785bbd9f82f28e8cfc0f2935?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Borkland", "link": "https://stackoverflow.com/users/7595618/mike-borkland"}, "edited": false, "score": 1, "creation_date": 1522269065, "post_id": 49543602, "comment_id": 86094924, "body": "Why would you dynamically allocate memory using <code>new</code> and <code>delete</code> it within the same loop? Just create the objects locally on the stack. C++ isn&#39;t Java. You can create objects without using <code>new</code>."}, {"owner": {"reputation": 65, "user_id": 9150349, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214333004577279/picture?type=large", "display_name": "Mahdi GB", "link": "https://stackoverflow.com/users/9150349/mahdi-gb"}, "edited": false, "score": 0, "creation_date": 1522269262, "post_id": 49543602, "comment_id": 86095020, "body": "Yes but I would like to know better about new and delete functionality in c++ with respect to other memory management languages  like Java or c# that have garbage collector. Why do not these operators have overheads?"}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1522270055, "post_id": 49543602, "comment_id": 86095456, "body": "Why do you think they have no overhead? Why do you think not having GC would mean creating and deleting objects wouldn\u2019t be time consuming?"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1522270588, "post_id": 49543602, "comment_id": 86095753, "body": "In C++, the new/delete does not have the overhead of a GC, such as a background thread, and potentially memory locking, and generational organization.  However, there is overhead with the bookkeeping of the global store (typically, the heap, but that&#39;s an implementation detail) to allocate, construct, destruct, and deallocate the objects.  Stack based objects do not have the allocate &amp; deallocate overhead.  Is that the kind of &quot;time consuming&quot; you mean?"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1522271500, "post_id": 49543602, "comment_id": 86096197, "body": "In the GC case, the overhead is almost entirely paid on the deallocation side and can vary based on the proportion of objects that live for varying amounts of time; in the <code>new</code>/<code>delete</code> case, the overhead is roughly balanced between allocation and deallocation, and will be very consistent throughout the program. The total overhead is significant for both approaches, but you &quot;pay&quot; for that overhead in very different ways. Both are valuable strategies for different workloads -- beware anyone who is too dogmatic about saying any one strategy is <i>always</i> better than another."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522273631, "post_id": 49543602, "comment_id": 86097085, "body": "On many platforms, <code>new</code> and <code>delete</code> are more time consuming than declaring a local variable: 1) They call functions; 2) The <code>new</code> operator has to find a block of memory equal to or larger than the requested object; 3) Delete may append the variable to a memory pool.  With local variables, usually a stack pointer is incremented (very quick operation) or the a processor register is used."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522273712, "post_id": 49543602, "comment_id": 86097107, "body": "On embedded systems, one object is declared statically and reused.  This prevents memory fragmentation which could be devastating on critical systems (such as aerospace or medical device applications)."}], "answers": [{"comments": [{"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1522271295, "post_id": 49544096, "comment_id": 86096105, "body": "What does &quot;if your program contains a lot of long lived short objects go for GC&quot; mean? GC is actually best in the case where most (&gt;90%) of your objects are short lived, since the cost of collecting garbage is proportional to the number of <i>live</i> objects, not the number of objects that need to be collected."}, {"owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1522271927, "post_id": 49544096, "comment_id": 86096381, "body": "@DanielPryden, You&#39;re right, thanks for pointing that out, I have edited it."}, {"owner": {"reputation": 4562, "user_id": 9254539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b45538511384660bfaef5092e30b7ea?s=128&d=identicon&r=PG&f=1", "display_name": "BessieTheCookie", "link": "https://stackoverflow.com/users/9254539/bessiethecookie"}, "edited": false, "score": 0, "creation_date": 1522282332, "post_id": 49544096, "comment_id": 86099628, "body": "&quot;Avoid using Delete in CPP&quot; that is either completely wrong or you should explain it better. To me, you seem to be telling someone to never free dynamically allocated memory."}], "tags": [], "owner": {"reputation": 4696, "user_id": 4686729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwJfx.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/4686729/clint"}, "is_accepted": false, "score": 0, "last_activity_date": 1522271853, "last_edit_date": 1522271853, "creation_date": 1522270797, "answer_id": 49544096, "question_id": 49543602, "link": "https://stackoverflow.com/questions/49543602/are-using-a-lot-of-new-and-delete-operators-time-consuming-in-c/49544096#49544096", "title": "Are using a lot of new and delete operators time consuming in c++?", "body": "<p>Yes, If you have a for loop that creates and deletes objects within it, that is the best case scenarios but while coding a real time project that will not be the case.</p>\n\n<p>Especially if you have plans to translate the C++ to say example C#, where GC takes care of memory management, you will have to deal with the Pointers for Deleting objects first, you will also have to figure out the size of the garbage before deleting it. </p>\n\n<p>Some important points:</p>\n\n<ul>\n<li>Avoid using Delete in CPP</li>\n<li>C# (.Net) allocation is very efficient but freeing memory gets quiet complex</li>\n<li>If the program does not rely on Intensive performance go for languages that support GC</li>\n<li>If your program contains a lot of short lived Objects go for GC</li>\n<li>Look up RAII (Resource acquisition is initialization) which does not force you to manage resources explicitly </li>\n</ul>\n"}], "owner": {"reputation": 65, "user_id": 9150349, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214333004577279/picture?type=large", "display_name": "Mahdi GB", "link": "https://stackoverflow.com/users/9150349/mahdi-gb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522271853, "creation_date": 1522268864, "question_id": 49543602, "link": "https://stackoverflow.com/questions/49543602/are-using-a-lot-of-new-and-delete-operators-time-consuming-in-c", "title": "Are using a lot of new and delete operators time consuming in c++?", "body": "<p>Suppose we have a for loop. We create new objects and delete the objects inside it. C++ does not have any garbage collector, therefore new and delete objects is not time consuming a lot and does not have overhead like languages with memory management like C# and Java?</p>\n"}, {"tags": ["c++", "syntax", "integer", "language-lawyer", "literals"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522268905, "post_id": 49543516, "comment_id": 86094825, "body": "If you mean <code>0xe + 1</code>, I believe you must put a space before the <code>+</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522268938, "post_id": 49543516, "comment_id": 86094839, "body": "@RemyLebeau: It doesn&#39;t look like the e+ should be parsed as scientific notation, though; it looks like it should be parsed as <code>0xe + 1</code>, a hexidecimal integer constant plus a decimal integer constant."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522268966, "post_id": 49543516, "comment_id": 86094853, "body": "@user2357112 that is what the OP likely <i>wants</i>, but that is not how a compiler will <i>actually</i> parse it"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1522268987, "post_id": 49543516, "comment_id": 86094868, "body": "@RemyLebeau but exponential notation for hexadecimal float point literals is <code>p</code>,  not <code>e</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522269017, "post_id": 49543516, "comment_id": 86094894, "body": "@RemyLebeau: Reading the standard, so far it looks like the compiler <i>should</i> parse it the way geza expects."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522269045, "post_id": 49543516, "comment_id": 86094912, "body": "I believe the reason why this fails is related to <a href=\"https://stackoverflow.com/a/49045039/1896169\">this answer to a question of mine</a> or <a href=\"https://stackoverflow.com/q/38091427/1896169\">this question</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1522269251, "post_id": 49543516, "comment_id": 86095013, "body": "@Justin: Looks like the preprocessing-number thing answers it: the preprocessor tokenization rules are just kind of weird in a way that doesn&#39;t quite line up with the normal grammar."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 3, "creation_date": 1522292232, "post_id": 49543516, "comment_id": 86101969, "body": "<a href=\"http://eel.is/c++draft/lex.pptoken#4\" rel=\"nofollow noreferrer\">This note</a> seems pretty relevant."}], "answers": [{"comments": [{"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1522270219, "post_id": 49543761, "comment_id": 86095547, "body": "The section mention: <i>Preprocessing number tokens lexically include all integer literal tokens and all floating literal tokens.</i> and 0xe is a valid integer token, so why compiler accept 11+1 and not 0xe+1."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1522270364, "post_id": 49543761, "comment_id": 86095619, "body": "@Jean-BaptisteYun&#232;s: There&#39;s no way to interpret <code>11+1</code> as a single preprocessing number; <code>+</code> can only follow an <code>e</code>, <code>E</code>, <code>p</code>, or <code>P</code> in a preprocessing number."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1522271101, "post_id": 49543761, "comment_id": 86096010, "body": "Oh I see! That means that pp-number definition covers integral and float literal tokens but is more flexible and accept sligthly more than valid literals... My problem is that given pp-number definition doesn&#39;t accept 0x as prefix; did I missed something? Identifier-nondigit derivation of course! This definition of pp-number is very very strange..."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522273710, "post_id": 49543761, "comment_id": 86097106, "body": "I&#39;ve put a lot of thought into this because it leads to some surprising behavior in some cases. &quot;Fixing&quot; this in the preprocessing grammar is way more work than the benefit it brings, and it could have a notable negative impact on compile times."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1522302465, "post_id": 49543761, "comment_id": 86104899, "body": "@Justin: why? Parsing (just parsing, without value computation) integers/floats is easy and fast. We could have a separate pp-integer, and pp-float. Sure, it doesn&#39;t bring too much benefit, but the current behavior is weird. Presumably the standard already defines how to parse an integer or float, so the preprocessor could use the same definitions, so in the end, the standard would be a little bit simpler (there would be no need for pp-number)."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1522309237, "post_id": 49543761, "comment_id": 86108133, "body": "@geza One thing to note is how this plays out with UDLs; you can&#39;t write things like <code>123_myUdl.bar</code>. So I was investigating a solution for all cases. I thought about what possible change in the PP grammar would fix it, and everything I thought of got complicated fast. It may be that I&#39;m just not very good at dealing with grammars, though, and that there may be an easy solution. At any rate, I stopped investigating, because the benefit is not worth the amount of effort I would have to put in. If you are willing to put in the effort to rework the grammar, you might consider making a proposal."}, {"owner": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 1, "creation_date": 1522316167, "post_id": 49543761, "comment_id": 86112400, "body": "This behavior is commonly referred to as &quot;maximal munch&quot; (though &quot;greedy lexing&quot; would be clearer IMO). Also see <a href=\"https://stackoverflow.com/questions/47467296/why-do-user-defined-string-literals-and-integer-literals-have-different-behavior\">this answer</a>."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1522367283, "post_id": 49543761, "comment_id": 86141482, "body": "The <code>0x</code> prefix is covered by the <code>pp-number identifier-nondigit</code> rule, which lets arbitrary alphabetic characters and <code>_</code> appear anywhere within a pp-number (given this, I find it unfortunate that cosmetic intra-number separators were added to the language using <code>&#39;</code> instead of <code>_</code>)."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 15, "last_activity_date": 1522270794, "last_edit_date": 1522270794, "creation_date": 1522269474, "answer_id": 49543761, "question_id": 49543516, "link": "https://stackoverflow.com/questions/49543516/why-doesnt-0xe1-compile/49543761#49543761", "title": "Why doesn&#39;t &quot;0xe+1&quot; compile?", "body": "<p><code>0xe+1</code> is treated as a single <a href=\"http://eel.is/c++draft/lex.ppnumber\" rel=\"noreferrer\">\"preprocessing number\" preprocessing token</a>. This tokenization rule doesn't quite line up with the definition of numeric literals in the ordinary grammar; preprocessing numbers are defined as</p>\n\n<pre><code>pp-number:\n    digit\n    . digit\n    pp-number digit\n    pp-number identifier-nondigit\n    pp-number ' digit\n    pp-number ' nondigit\n    pp-number e sign\n    pp-number E sign\n    pp-number p sign\n    pp-number P sign\n    pp-number .\n</code></pre>\n\n<p>If the tokenization rules were based on the numeric literal definitions instead of the simpler \"preprocessing number\" definition, your expression would be tokenized as <code>0xe + 1</code>, but since the rules don't match up, you get a single <code>0xe+1</code> token, which is not a valid literal.</p>\n"}], "owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 4, "accepted_answer_id": 49543761, "answer_count": 1, "score": 24, "last_activity_date": 1528949039, "creation_date": 1522268537, "last_edit_date": 1528949039, "question_id": 49543516, "link": "https://stackoverflow.com/questions/49543516/why-doesnt-0xe1-compile", "title": "Why doesn&#39;t &quot;0xe+1&quot; compile?", "body": "<p>Look at this code snippet:</p>\n\n<pre><code>int a = 0xe+1;\n</code></pre>\n\n<p>Clang, gcc, icc don't compile this:</p>\n\n<pre><code>t.cpp:1:12: error: invalid suffix '+' on integer constant\n</code></pre>\n\n<p>MSVC successfully compiles.</p>\n\n<p>Which compiler is correct? If clang and gcc are correct, why is this happening?</p>\n\n<p>Note: if I add a space before <code>+</code>, the code compiles. If I change <code>0xe</code> to <code>0xf</code>, it compiles too. Maybe this has to do something with exponential notation (like <code>1.2e+3</code>)?</p>\n"}, {"tags": ["c++", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "is_accepted": false, "score": 0, "last_activity_date": 1522278448, "creation_date": 1522278448, "answer_id": 49545579, "question_id": 49543514, "link": "https://stackoverflow.com/questions/49543514/how-do-i-save-the-states-of-an-rnn-to-file-from-a-graph-in-tf/49545579#49545579", "title": "How do I save the states of an RNN to file from a Graph in TF?", "body": "<p>You have to get the values via the session, not after the fact. In your line</p>\n\n<pre><code>bundle-&gt;session-&gt;Run(run_options, input_tensors,\n                                  output_tensor_names, {}, &amp;outputs,\n                                  &amp;run_metadata)\n</code></pre>\n\n<p>You should not only request the result of the prediction, but also the state tensor. Note that the value of the state is not stored after the particular call to <code>session-&gt;Run</code>, only variables are stored, the state of the RNN is a computed value and dropped after the results you requested are returned.</p>\n\n<p>I don't use the c++ interface, so forgive me for giving a code example in python, hopefully it's still of use (I bet this isn't the first time you've had to put up with reading a python example), in python this would look like:</p>\n\n<pre><code>prediction, state = sess.run([prediction_tensor, state_tensor], feed_dict=...)\n</code></pre>\n"}], "owner": {"reputation": 2029, "user_id": 6539531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c6c0305da694dac3194f7d78c890b694?s=128&d=identicon&r=PG&f=1", "display_name": "sometimesiwritecode", "link": "https://stackoverflow.com/users/6539531/sometimesiwritecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522278448, "creation_date": 1522268530, "question_id": 49543514, "link": "https://stackoverflow.com/questions/49543514/how-do-i-save-the-states-of-an-rnn-to-file-from-a-graph-in-tf", "title": "How do I save the states of an RNN to file from a Graph in TF?", "body": "<p>The following code is from the tensorflow serving API:</p>\n\n<pre><code>// Implementation of Predict using the SavedModel SignatureDef format.\nStatus SavedModelPredict(const RunOptions&amp; run_options, ServerCore* core,\n                         const PredictRequest&amp; request,\n                         PredictResponse* response) {\n  // Validate signatures.\n  ServableHandle&lt;SavedModelBundle&gt; bundle;\n  TF_RETURN_IF_ERROR(core-&gt;GetServableHandle(request.model_spec(), &amp;bundle));\n\n  const string signature_name = request.model_spec().signature_name().empty()\n                                    ? kDefaultServingSignatureDefKey\n                                    : request.model_spec().signature_name();\n  auto iter = bundle-&gt;meta_graph_def.signature_def().find(signature_name);\n  if (iter == bundle-&gt;meta_graph_def.signature_def().end()) {\n    return errors::FailedPrecondition(strings::StrCat(\n        \"Serving signature key \\\"\", signature_name, \"\\\" not found.\"));\n  }\n  SignatureDef signature = iter-&gt;second;\n\n  MakeModelSpec(request.model_spec().name(), signature_name,\n                bundle.id().version, response-&gt;mutable_model_spec());\n\n  std::vector&lt;std::pair&lt;string, Tensor&gt;&gt; input_tensors;\n  std::vector&lt;string&gt; output_tensor_names;\n  std::vector&lt;string&gt; output_tensor_aliases;\n  TF_RETURN_IF_ERROR(PreProcessPrediction(signature, request, &amp;input_tensors,\n                                          &amp;output_tensor_names,\n                                          &amp;output_tensor_aliases));\n  std::vector&lt;Tensor&gt; outputs;\n  RunMetadata run_metadata;\n  TF_RETURN_IF_ERROR(bundle-&gt;session-&gt;Run(run_options, input_tensors,\n                                          output_tensor_names, {}, &amp;outputs,\n                                          &amp;run_metadata));\n\n  return PostProcessPredictionResult(signature, output_tensor_aliases, outputs,\n                                     response);\n}\n</code></pre>\n\n<p>This code runs a prediction with a stored model. In my case, this stored model is an RNN.</p>\n\n<p>After the following line where the prediction is actually run:</p>\n\n<pre><code>TF_RETURN_IF_ERROR(bundle-&gt;session-&gt;Run(run_options, input_tensors,\n                                      output_tensor_names, {}, &amp;outputs,\n                                      &amp;run_metadata));\n</code></pre>\n\n<p>I want to save the states of the RNN to a file/memory so that I can access them at a later date after each prediction. I assume these states can be accessed via the variable:</p>\n\n<pre><code>bundle-&gt;meta_graph_def\n</code></pre>\n\n<p>but am unclear on exactly how to access specifically the state values of the RNN and then to save them to a file.</p>\n"}, {"tags": ["c++", "geometry"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 2, "creation_date": 1522268669, "post_id": 49543508, "comment_id": 86094682, "body": "You have been in SO long enough to know that you need to show what you have tried and where you are stuck."}, {"owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1522268918, "post_id": 49543508, "comment_id": 86094832, "body": "I thought I was clear about that: I tried to implement both mentioned solutions, and I&#39;m stuck because the point are somehwat off. Say 3 meters out of 50 meters I mentioned. Likely because of the rotation these methods apply. I&#39;m stuck here because I want to find mentioned parallel segment so that the found line segment forms a rectangle."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522273827, "post_id": 49543508, "comment_id": 86097161, "body": "Why did you also fail to mention that you are provided with <code>y1</code> and <code>y2</code>? That&#39;s a vital piece of information otherwise, what we have here is simply a &quot;draw a rectangle given height and width&quot; problem"}, {"owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522274139, "post_id": 49543508, "comment_id": 86097289, "body": "@smac89 I think that should be clear by the second sentence: &quot;I&#39;m given two POINTS x1, x2&quot;. Though, I could name them p1, p2."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522274352, "post_id": 49543508, "comment_id": 86097372, "body": "Ahh yea, I missed that. Sorry"}, {"owner": {"reputation": 311, "user_id": 5224249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59eb31107d1217028e1a2d1fb874229b?s=128&d=identicon&r=PG&f=1", "display_name": "Y.S", "link": "https://stackoverflow.com/users/5224249/y-s"}, "edited": false, "score": 0, "creation_date": 1522316262, "post_id": 49543508, "comment_id": 86112471, "body": "The code I provided is not working outside of a relative coordinate system with X1 as origin. Since the dot product of the vector X1X2 has to be orthogonal with X2X3, Now if X1 is 0, X1X2 is equal to X2. I updated the parts depending on a relative origin, and added a seperate example using a relative origin."}], "answers": [{"comments": [{"owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "edited": false, "score": 0, "creation_date": 1522272923, "post_id": 49544143, "comment_id": 86096811, "body": "Thanks. Please see my updated question. The issue still exists. I&#39;ve added actual values used in my program."}], "tags": [], "owner": {"reputation": 311, "user_id": 5224249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59eb31107d1217028e1a2d1fb874229b?s=128&d=identicon&r=PG&f=1", "display_name": "Y.S", "link": "https://stackoverflow.com/users/5224249/y-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1522315993, "last_edit_date": 1522315993, "creation_date": 1522271026, "answer_id": 49544143, "question_id": 49543508, "link": "https://stackoverflow.com/questions/49543508/given-one-side-of-a-rectangle-calculate-the-others/49544143#49544143", "title": "Given one side of a rectangle calculate the others", "body": "<p><strong>General recommonendation:</strong></p>\n\n<p>If I were you I would build classes for the vectors, and build functions for the required operations, however this example should do what you wish.</p>\n\n<p><strong>Vectors, absolute and relative coordinates:</strong></p>\n\n<p>Important note: you are working with coordinates, and this is a really simplified approach to it. If the person providing you a solution is setting a given Point to 0/0, aka the Origin, you can't just Change this. I changed the code below to adjust to the changes you did to the Input provided.</p>\n\n<pre><code>double width = 35;\n\n// get coords from provided input\ndouble x1x=0, x1y=0, x2x=x, x2y=y;\n// x2x3 = Vector from point x2 to point x3, assume x value as 1\ndouble x2x3x = 1;\n// calculate y-value, using the fact that dot-product of orthogonal vectors is 0\ndouble x2x3y = x2x*x2x3x / (-1 * x2y);\n// calculate length of vector x2x3\ndouble length_e_vec_x2_x3 = sqrt(pow(x2x3x,2) + pow(x2x3y,2));\n// stretch vector to provided witdh\nx2x3x = x2x3x*width / length_e_vec_x2_x3;\nx2x3y = x2x3y*width / length_e_vec_x2_x3;\n// since x2x3 and x1x4 are equal, simple addition remains\ndouble x3x, x3y, x4x, x4y;\nx3x = x2x + x2x3x;\nx3y = x2y + x2x3y;\nx4x = x1x + x2x3x;\nx4y = x1y + x2x3y;\n\n// check results\ncout &lt;&lt; \"X1: \" &lt;&lt; x1x &lt;&lt; \"/\" &lt;&lt; x1y &lt;&lt; endl;\ncout &lt;&lt; \"X2: \" &lt;&lt; x2x &lt;&lt; \"/\" &lt;&lt; x2y &lt;&lt; endl;\ncout &lt;&lt; \"X3: \" &lt;&lt; x3x &lt;&lt; \"/\" &lt;&lt; x3y &lt;&lt; endl;\ncout &lt;&lt; \"X4: \" &lt;&lt; x4x &lt;&lt; \"/\" &lt;&lt; x4y &lt;&lt; endl;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>X1: 629434/5.4762e+06\nX2: 629443/5.47612e+06\nX3: 629500/5.47613e+06\nX4: 629491/5.4762e+06\n</code></pre>\n\n<p><strong>Verification</strong></p>\n\n<p>As mentioned in the comments of this code, the dot-product of two vectors will return 0 if those vectors are orthogonal to each other. By using this, one can verify the provided results.\nAdd this little amount of code to verify the results:</p>\n\n<pre><code>// verify results\ncout &lt;&lt; \"Dotproduct should be 0: \" &lt;&lt; (x2x*x2x3x)+(x2y*x2x3y) &lt;&lt; endl;\n</code></pre>\n\n<p><strong>Output of verification</strong></p>\n\n<pre><code>Dotproduct should be 0: 5.68434e-14\n</code></pre>\n\n<p>Which prints 0, so the code is doing what it should do.</p>\n\n<p><strong>Improvements</strong></p>\n\n<p>However since you use rather big Numbers, using a float instead of a double might help. Also converting x1 into the origin of your little system might improve it.\nFinally a more suitable datastructure would be appreciated.</p>\n\n<pre><code>// using x1 as origin:\ndouble x1x0 = 0, x1y0 = 0, x2x0 = x2x - x1x, x2y0 = x2y - x1y;\n\ndouble x2x3x0 = 1;\n// calculate y-value, using the fact that dot-product of orthogonal vectors is 0\ndouble x2x3y0 = x2x0*x2x3x0 / (-1 * x2y0);\n// calculate length of vector x2x3\ndouble length_e_vec_x2_x30 = sqrt(pow(x2x3x0, 2) + pow(x2x3y0, 2));\n// stretch vector to provided witdh\nx2x3x0 = x2x3x0*width / length_e_vec_x2_x30;\nx2x3y0 = x2x3y0*width / length_e_vec_x2_x30;\n// since x2x3 and x1x4 are equal, simple addition remains\ndouble x3x0, x3y0, x4x0, x4y0;\nx3x0 = x2x0 + x2x3x0;\nx3y0 = x2y0 + x2x3y0;\nx4x0 = x1x0 + x2x3x0;\nx4y0 = x1y0 + x2x3y0;\n\n// check results\ncout &lt;&lt; \"X1: \" &lt;&lt; x1x0 &lt;&lt; \"/\" &lt;&lt; x1y0 &lt;&lt; endl;\ncout &lt;&lt; \"X2: \" &lt;&lt; x2x0 &lt;&lt; \"/\" &lt;&lt; x2y0 &lt;&lt; endl;\ncout &lt;&lt; \"X3: \" &lt;&lt; x3x0 &lt;&lt; \"/\" &lt;&lt; x3y0 &lt;&lt; endl;\ncout &lt;&lt; \"X4: \" &lt;&lt; x4x0 &lt;&lt; \"/\" &lt;&lt; x4y0 &lt;&lt; endl;\n\n// verify results\ncout &lt;&lt; \"Dotproduct should be 0: \" &lt;&lt; (x2x0*x2x3x0) + (x2y0*x2x3y0) &lt;&lt; endl;\n\n// compare results (adding offset before comparing):\ncout &lt;&lt; \"X3 to X30: \" &lt;&lt; x3x0+x1x-x3x &lt;&lt; \"/\" &lt;&lt; x3y0+x1y-x3y &lt;&lt; endl;\ncout &lt;&lt; \"X4 to X40: \" &lt;&lt; x4x0 +x1x-x4x &lt;&lt; \"/\" &lt;&lt; x4y0 +x1y-x4y &lt;&lt; endl;\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>X1: 0/0\nX2: 8.84541/-76.5743\nX3: 65.4689/-70.0335\nX4: 56.6235/6.5408\nDotproduct should be 0: 5.68434e-14\nX3 to X30: 0/0\nX4 to X40: 0/0\n</code></pre>\n\n<p>Now the output using floats:</p>\n\n<pre><code>X1: 629434/5.4762e+06\nX2: 629443/5.47612e+06\nX3: 629500/5.47613e+06\nX4: 629491/5.4762e+06\nDotproduct should be 0: 0\nX1: 0/0\nX2: 8.8125/-77\nX3: 65.4428/-70.5188\nX4: 56.6303/6.48123\nDotproduct should be 0: 0\nX3 to X30: 0/0\nX4 to X40: 0/0\n</code></pre>\n\n<p>Building the whole thing less messy:</p>\n\n<pre><code>using namespace std;\n\nclass vector2D\n{\nprotected:\n    bool equal(vector2D&amp; param) { return this-&gt;X == param.X &amp;&amp; this-&gt;Y == param.Y; }\n    vector2D absAlVal() { return vector2D(abs(X), abs(Y)); }\n\npublic:\n    float X, Y;\n\n    vector2D(float x, float y) : X(x), Y(y) {};\n    vector2D() : X(0), Y(0) {};\n\n    vector2D operator+ (vector2D&amp; param) { return vector2D(this-&gt;X+param.X,this-&gt;Y+param.Y); }\n    vector2D operator- (vector2D&amp; param) { return vector2D(this-&gt;X - param.X, this-&gt;Y - param.Y); }\n    bool operator!=(vector2D&amp; param) { return this-&gt;equal(param); }\n\n\n    vector2D getUnitVector()\n    {\n        return vector2D(this-&gt;X / this-&gt;getLength(), this-&gt;Y / this-&gt;getLength());\n    }\n    bool parallel(vector2D&amp; param) { return (this-&gt;getUnitVector()).equal(param.getUnitVector()); }\n    bool colinear(vector2D&amp; param) { return (this-&gt;getUnitVector().absAlVal()).equal(param.getUnitVector().absAlVal()); }\n\n    float dotproduct(vector2D vec)\n    {\n        return this-&gt;X * vec.X + this-&gt;Y * vec.Y;\n    }\n    vector2D dotproduct(float scalar)\n    {\n        return vector2D(this-&gt;X * scalar, this-&gt;Y * scalar);\n    }\n    float getLength(void)\n    {\n        return sqrt(pow(this-&gt;X, 2) + pow(this-&gt;Y, 2));\n    }\n\n};\n\nvoid main()\n{\n    // get coords from provided input\n    float x1x = 629434.24373957072, x1y = 5476196.7595944777, x2x = 629443.08914538298, x2y = 5476120.1852802411;\n    float width = 35;\n\n    // Build vectors\n    vector2D X1 = vector2D(x1x, x1y), X2 = vector2D(x2x, x2y), X3, X4, X2X3, X1X2=X2-X1;\n    // assum x-direction for X2X3 is positive, chosing 1\n    X2X3.X = 1;\n    // calculate y-direction using dot-product\n    X2X3.Y = X1X2.X*X2X3.X / (-1 * X1X2.Y);\n    //check if assumtion is correct:\n    cout &lt;&lt; \"Evaluate wether vector has been build accordingly or not:\" &lt;&lt; endl;\n    cout &lt;&lt; \"Dotproduct of X1X2 * X2X3 should be 0 -&gt; Result:\" &lt;&lt; X1X2.dotproduct(X2X3) &lt;&lt; endl;\n    // stretch X2X3 to width\n    X2X3=X2X3.getUnitVector().dotproduct(width);\n\n    // Create X3 and X4 by simple addition:\n    X3 = X2 + X2X3;\n    X4 = X1 + X2X3;\n\n    // print Points:\n    cout &lt;&lt; \"Summary of Points X / Y coordinates:\" &lt;&lt; endl;\n    cout &lt;&lt; \"X1: \" &lt;&lt; X1.X &lt;&lt; \"/\" &lt;&lt; X1.Y &lt;&lt; endl;\n    cout &lt;&lt; \"X2: \" &lt;&lt; X2.X &lt;&lt; \"/\" &lt;&lt; X2.Y &lt;&lt; endl;\n    cout &lt;&lt; \"X3: \" &lt;&lt; X3.X &lt;&lt; \"/\" &lt;&lt; X3.Y &lt;&lt; endl;\n    cout &lt;&lt; \"X4: \" &lt;&lt; X4.X &lt;&lt; \"/\" &lt;&lt; X4.Y &lt;&lt; endl;\n    // compare sides\n    cout &lt;&lt; \"\\n\" &lt;&lt; \"Lenght of sides:\" &lt;&lt; endl;\n    cout &lt;&lt; \"X1X2: \" &lt;&lt; (X2 - X1).getLength() &lt;&lt; \" -&gt; should be same length as X3X4\" &lt;&lt; endl;\n    cout &lt;&lt; \"X2X3: \" &lt;&lt; (X3 - X2).getLength() &lt;&lt; \" -&gt; should be same length as X4X1 and with, which is:\" &lt;&lt; width &lt;&lt; endl;\n    cout &lt;&lt; \"X3X4: \" &lt;&lt; (X4 - X3).getLength() &lt;&lt; \" -&gt; should be same length as X1X2\" &lt;&lt; endl;\n    cout &lt;&lt; \"X4X1: \" &lt;&lt; (X1 - X4).getLength() &lt;&lt; \" -&gt; should be same length as X2X3, which is:\" &lt;&lt; width &lt;&lt; endl;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1522313427, "post_id": 49545573, "comment_id": 86110492, "body": "I think <code>hypot()</code> is to be preferred over <code>sqrt()</code>, see here <a href=\"http://coliru.stacked-crooked.com/a/0c36801163209d24\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/0c36801163209d24</a> and <a href=\"https://stackoverflow.com/a/32436148/2836621\">stackoverflow.com/a/32436148/2836621</a>"}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1522322183, "post_id": 49545573, "comment_id": 86116506, "body": "@MarkSetchell thanks for the advice; although I don&#39;t know how useful this is for OP&#39;s purposes given that it is a simple graphical application and doubles are being used"}], "tags": [], "owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "is_accepted": false, "score": 1, "last_activity_date": 1522322085, "last_edit_date": 1522322085, "creation_date": 1522278385, "answer_id": 49545573, "question_id": 49543508, "link": "https://stackoverflow.com/questions/49543508/given-one-side-of-a-rectangle-calculate-the-others/49545573#49545573", "title": "Given one side of a rectangle calculate the others", "body": "<p>Given a vector <code>(x, y)</code>, the direction <code>(y, -x)</code> is rotated by 90 degrees clockwise with respect to it. This is exactly the rotation we need to perform to obtain the direction of the side <code>x1 -&gt; x4</code> from <code>x1 -&gt; x2</code>.</p>\n\n<pre><code>// input point struct\nstruct point { double x, y; };\n\n// pass in output points by reference\nvoid calculate_other_points(\n   const point&amp; x1, const point&amp; x2, // input points x1 x2\n   double w,                         // input width\n   point&amp; x3, point&amp; x4)             // output points x3 x4\n{\n   // span vector x1 -&gt; x2\n   double dx = x2.x - x1.x,\n          dy = x2.y - x1.y;\n   // height\n   double h = hypot(dx, dy);\n\n   // perpendicular edge x1 -&gt; x4 or x2 -&gt; x3\n   double px =  dy * (w / h),\n          py = -dx * (w / h);\n\n   // add onto x1 / x2 to obtain x3 / x4\n   x4.x = x1.x + px; x4.y = x1.y + py;\n   x3.x = x2.x + px; x3.y = x2.y + py;\n}\n</code></pre>\n\n<p>Note that my code is similar in principle to that of the previous answer, but is somewhat more optimized, and (hopefully) fixes the direction issue.</p>\n"}], "owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 49544143, "answer_count": 2, "score": -2, "last_activity_date": 1522339015, "creation_date": 1522268507, "last_edit_date": 1522339015, "question_id": 49543508, "link": "https://stackoverflow.com/questions/49543508/given-one-side-of-a-rectangle-calculate-the-others", "title": "Given one side of a rectangle calculate the others", "body": "<p>I'm struggling with a problem I thought should be easy to solve: </p>\n\n<p>I'm given two points x1, x2 and a width value. How can I calculate two other points parallel to x1 and x2 so that it forms a rectangle?</p>\n\n<p>I tried answers from here <a href=\"https://i.stack.imgur.com/hkQwz.jpg\" rel=\"nofollow noreferrer\">1</a> and here <a href=\"https://i.stack.imgur.com/v7JIp.png\" rel=\"nofollow noreferrer\">2</a>. Though both solutions are off. </p>\n\n<p>As background: This is about projecting an image into real world coordinates. Therefore I need to find the parallel line to the line I'm provided with, so that the points of both lines create a rectangle. I do not want to apply a rotation on my own. </p>\n\n<p>Here is a drawing that shows what I want to achieve:\n<a href=\"https://i.stack.imgur.com/hkQwz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkQwz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In the example you see x1, x2 and the width I'm provided with. And I'm looking for x3 and x4 so that the points form a rectangle.</p>\n\n<p>I'm looking for a C++ implementation if possible.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hkQwz.jpg\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://gamedev.stackexchange.com/questions/86755/how-to-calculate-corner-positions-marks-of-a-rotated-tilted-rectangle\">https://gamedev.stackexchange.com/questions/86755/how-to-calculate-corner-positions-marks-of-a-rotated-tilted-rectangle</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/v7JIp.png\" rel=\"nofollow noreferrer\">2</a> <a href=\"https://stackoverflow.com/questions/1469149/calculating-vertices-of-a-rotated-rectangle\">Calculating vertices of a rotated rectangle</a></p>\n\n<p>Here is the code I've implemented. As you can see I'm using top right and top left coordinates that I'm provided with. But I'd rather find a line parallel to the provided points instead:</p>\n\n<pre><code>   double distance = 77.5;//[self normalizedDistanceWithCRS:crs p1:topLeft p2:topRight];\n\n    // calculate the rotated coordinates for bottom right and bottom left with provided height\n    double angle = atan2(sinuTL.y - sinuTR.y, sinuTL.x - sinuTR.x); //  * 180 / M_PI\n\n    double x = distance;\n    double y = height;\n    double xBRTrans = x*cos(angle) - y*sin(angle);\n    xBRTrans = sinuTL.x - xBRTrans;\n    double yBRTrans = x*sin(angle) + y*cos(angle);\n    yBRTrans = sinuTL.y - yBRTrans;\n\n    x = 0;\n    y = height;\n    double xBLTrans = x*cos(angle) - y*sin(angle);\n    xBLTrans += sinuTL.x;\n    double yBLTrans = x*sin(angle) + y*cos(angle);\n    yBLTrans = sinuTL.y - yBLTrans;\n</code></pre>\n\n<p>** Update **</p>\n\n<p>I've adapted the code from the solution provided below, The result is still not what I expect. The two points on the left are given, the two points on the right are calculated. You can see that there is an offset (the points should be at the corner of the building. Also ignore the blue point in the middle - it's meaningless to this question):</p>\n\n<p><a href=\"https://i.stack.imgur.com/v7JIp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v7JIp.png\" alt=\"enter image description here\"></a></p>\n\n<p>The code:</p>\n\n<pre><code>double height = 57;\n// get coords from provided input\ndouble x1x=629434.24373957072, x1y=5476196.7595944777, x2x=629443.08914538298, x2y=5476120.1852802411;\n// x2x3 = Vector from point x2 to point x3, assume x value as 1\ndouble x2x3x = 1;\n// calculate y-value, using the fact that dot-product of orthogonal vectors is 0\ndouble x2x3y = x2x*x2x3x / (-1 * x2y);\n// calculate length of vector x2x3\ndouble length_e_vec_x2_x3 = sqrt(pow(x2x3x,2) + pow(x2x3y,2));\n// stretch vector to provided witdh\nx2x3x = x2x3x*height / length_e_vec_x2_x3;\nx2x3y = x2x3y*height / length_e_vec_x2_x3;\n// since x2x3 and x1x4 are equal, simple addition remains\ndouble x3x, x3y, x4x, x4y;\nx3x = x2x + x2x3x;\nx3y = x2y + x2x3y;\nx4x = x1x + x2x3x;\nx4y = x1y + x2x3y;\n</code></pre>\n\n<p><strong><em>UPDATE</em></strong></p>\n\n<p>Actually, all answers and also my own code work as expected. I was unfortunately blindfolded and didn't notice the issue was due to an inappropriate geo projection used for this area. So the coordinates come from WGS84 long/lat, and before the calculation is done get converted into a sinusoidal projection and later back into WGS84. The sinusoidal projection preserves the area (equal area projection) - but distorts shapes within an area. And you cannot just add some meters, and later convert back. I should have realized this earlier and was looking at the wrong place. </p>\n\n<p>I'll choose the most elaborate answer as \"winner\". Though after testing I can say that all provided solutions actually work.  </p>\n"}, {"tags": ["c++", "winapi"], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1522271325, "post_id": 49543497, "comment_id": 86096119, "body": "Which <a href=\"https://stackoverflow.com/questions/15734528/client-rectangle-coordinates-on-screen#comment22378286_15734569\">returns an invalid rectangle on RTL systems</a>, as explained in a comment. Plus, when quoting, do provide attribution. <i>&quot;The MSDN example&quot;</i> is hardly sufficient."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522271997, "post_id": 49543497, "comment_id": 86096422, "body": "Consider using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd145046.aspx\" rel=\"nofollow noreferrer\"><code>MapWindowPoints()</code></a> instead. You can pass it a <code>RECT</code> and it will translate all 4 values at one time, as well as handle RTL translations: <code>MapWindowPoints(hwnd, NULL, (LPPOINT)&amp;rMyRect, 2);</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "is_accepted": true, "score": 1, "last_activity_date": 1522268455, "creation_date": 1522268455, "answer_id": 49543497, "question_id": 49543452, "link": "https://stackoverflow.com/questions/49543452/how-to-get-the-client-window-position-using-the-winapi/49543497#49543497", "title": "How to get the client window position using the WinApi?", "body": "<p>From the MSDN example:</p>\n\n<pre><code>RECT rMyRect;\n\nGetClientRect(hwnd, (LPRECT)&amp;rMyRect);\nClientToScreen(hwnd, (LPPOINT)&amp;rMyRect.left);\nClientToScreen(hwnd, (LPPOINT)&amp;rMyRect.right);\n</code></pre>\n"}], "owner": {"reputation": 983, "user_id": 8772958, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/56210f0212692ed235a23c0c3ec6be25?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/8772958/michael-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 0, "closed_date": 1522271044, "accepted_answer_id": 49543497, "answer_count": 1, "score": 1, "last_activity_date": 1522271862, "creation_date": 1522268259, "last_edit_date": 1522271862, "question_id": 49543452, "link": "https://stackoverflow.com/questions/49543452/how-to-get-the-client-window-position-using-the-winapi", "closed_reason": "Duplicate", "title": "How to get the client window position using the WinApi?", "body": "<p>With the following code, I am able to get the <code>RECT</code> of the client area of a window:</p>\n\n<pre><code>RECT pos;\nGetClientRect(handle, &amp;pos);\n</code></pre>\n\n<p>However, the <code>left</code> and <code>top</code> members are always <code>0</code>. This only returns information about the width and height of the client area of the window.  I am looking for the coordinates of the client area on the screen, not just its size.</p>\n\n<p>Using <code>GetWindowRect()</code> does not work, because it returns the window coordinates and not the client area. I want the <code>(left, top)</code> point to here:</p>\n\n<p><a href=\"https://i.imgur.com/o297oWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/o297oWd.png\" alt=\"image\"></a></p>\n\n<p>But instead it points here:</p>\n\n<p><a href=\"https://i.imgur.com/fWuO1On.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/fWuO1On.png\" alt=\"image\"></a></p>\n"}, {"tags": ["c++", "visual-studio", "class", "object", "visual-c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522268202, "post_id": 49543399, "comment_id": 86094414, "body": "<code>Bullet::Bullet()</code> needs to call a <code>BoxClass</code> constructor, but you aren&#39;t providing one. It will try to use a default <code>BoxClass</code> constructor but there isn&#39;t one."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1522268613, "post_id": 49543399, "comment_id": 86094651, "body": "An example of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that duplicates the error <a href=\"https://www.ideone.com/R4cDv5\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1522268945, "post_id": 49543399, "comment_id": 86094842, "body": "@Fran&#231;oisAndrieux Where and how do I put my BoxClass constructor in &quot;Bullet::Bullet()&quot;?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1522269117, "post_id": 49543399, "comment_id": 86094954, "body": "See this: <a href=\"https://stackoverflow.com/q/1226634/10077\">stackoverflow.com/q/1226634/10077</a>"}, {"owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1522269271, "post_id": 49543399, "comment_id": 86095026, "body": "@FredLarson I&#39;m not really proficient with pointers and the way that code is written."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1522269467, "post_id": 49543399, "comment_id": 86095120, "body": "Maybe this one is a little easier to swallow: <a href=\"https://stackoverflow.com/q/15777635/10077\">stackoverflow.com/q/15777635/10077</a>"}, {"owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1522270196, "post_id": 49543399, "comment_id": 86095534, "body": "@FredLarson Thank you so much! I added another constructor(a default one with no parameters) to &quot;BoxClass.cpp&quot; and &quot;BoxClass.h&quot; and in &quot;Bullet.cpp&quot; I wrote &quot;Bullet::Bullet() : BoxClass(){}&quot;"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522270278, "post_id": 49543399, "comment_id": 86095580, "body": "@JohnathanMaxwell Note that <code>BoxClass()</code> isn&#39;t needed in this case, it&#39;s the default behavior and implied if you don&#39;t specify any base constructor at all. Though it isn&#39;t wrong to have it."}, {"owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1522270415, "post_id": 49543399, "comment_id": 86095653, "body": "@Fran&#231;oisAndrieux Okay thanks, I made that change."}], "answers": [{"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 0, "last_activity_date": 1522270317, "last_edit_date": 1522270317, "creation_date": 1522269945, "answer_id": 49543864, "question_id": 49543399, "link": "https://stackoverflow.com/questions/49543399/no-default-instructer-exists-for-inherited-class-c/49543864#49543864", "title": "No default instructer exists for (inherited class) c++", "body": "<p>In c++, constructing a derived type implies that both the base and derived portions of the object must be constructed. This is done by calling the base's constructor before the derived type's constructor can begin.</p>\n\n<p>The default behavior is to use the base's default constructor. However you can indicate a different base constructor to use by adding it to the <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">member initialization list</a> and providing appropriate arguments for it.</p>\n\n<p>In your case, notice that a <code>BoxClass</code> only has one constructor which <em>must</em> be provided with an <code>x</code> and <code>y</code>, but a <code>Bullet</code> has no such construction argument. Perhaps some default values such as zeroes or ones might be appropriate, though I suspect you will want to add those arguments to your <code>Bullet</code> class. Here are a few example to illustrate how you could solve the problem.</p>\n\n<p>By asking for construction arguments for <code>Bullet</code> :</p>\n\n<pre><code>class Bullet : public BoxClass \n{\npublic:\n    //constructor\n    Bullet(int x, int y);\n\n};\n\nBullet::Bullet(int x, int y) : \n    BoxClass(x, y) // Indicates which BoxClass constructor to use\n{}\n</code></pre>\n\n<p>By providing arbitrary construction arguments to <code>BoxClass</code> :</p>\n\n<pre><code>class Bullet : public BoxClass \n{\npublic:\n    //constructor\n    Bullet();\n\n};\n\nBullet::Bullet() : \n    BoxClass(1, 1)\n{}\n</code></pre>\n\n<p>Or by adding a default constructor to BoxClass, such as by giving a default value to each of it's existing constructor's arguments :</p>\n\n<pre><code>class BoxClass \n{ \npublic:\n    // This constructor is now a default constructor\n    BoxClass(int x = 1, int y = 1);\n};\n\nclass Bullet : public BoxClass \n{\npublic:\n    //constructor\n    Bullet();\n\n};\n\nBullet::Bullet() // Uses the default BoxClass constructor\n{}\n</code></pre>\n\n<p>Which solution is best depends on your design goals, but I suspect the first one is likely to be more appropriate.</p>\n"}], "owner": {"reputation": 25, "user_id": 7719214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6b66b934ee78208ec687d554826ba184?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan Maxwell", "link": "https://stackoverflow.com/users/7719214/johnathan-maxwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 49543864, "answer_count": 1, "score": 1, "last_activity_date": 1522270317, "creation_date": 1522268077, "question_id": 49543399, "link": "https://stackoverflow.com/questions/49543399/no-default-instructer-exists-for-inherited-class-c", "title": "No default instructer exists for (inherited class) c++", "body": "<p><strong>Program's purpose:</strong> This program's purpose it to create a basic 2d game using only the consol. The program currently only creates a moveable box with the keys \"wasd\". I'm planning to incorperate bullets, enemy NPC's, barriers, and much more.</p>\n\n<p><strong>Problem:</strong>\nHello, for some reason my bullet constructor class in my \"Bullet.cpp\" file is showing up with the error \"error C2512: 'BoxClass': no appropriate default constructor available\". In \"Bullet.h\" I have \"<code>class Bullet : protected BoxClass</code>\". Why am I getting this error?</p>\n\n<p><strong>Other Question(s):</strong>\nAlso how should I group my headers? They're getting to become a large cluster.</p>\n\n<p><strong>Comments:</strong>\nI also realize my game loops shouldn't be in the \"BoxClass.cpp\". I'm going to fix that after I get my bullet class working. If I'm structuring anything else wrong or if you see an easier way of writing some of the same code just let me know.</p>\n\n<p>This is my first graphical game in c++!</p>\n\n<p><strong>ConsolApplication1.cpp:</strong></p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;windows.h&gt;\n#include \"BoxClass.h\"\n#include \"ConsolWindow.h\"\n#include \"Bullet.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n#define W_KEY 0x57\n#define S_KEY 0x53\n#define A_KEY 0x41\n#define D_KEY 0x44\n#define R_KEY 0x52\n\nint main() {\n    //variable declaration/definition\n    int right_Wall, speed_Var;\n\n    //Consol Size/Position\n    int half_screen_Size = (GetSystemMetrics(SM_CXSCREEN)/2);\n    Set_Consol_Size(half_screen_Size, GetSystemMetrics(SM_CYSCREEN));\n    Position_Consol(-6, 0);\n\n    while (1) {\n        cout &lt;&lt; \"Enter speed of rectangle/box\\nSpeed = \";\n        cin &gt;&gt; speed_Var;\n\n        BoxClass box1(4, 3);\n        box1.Print_Solid_Rectangle();\n\n        cout &lt;&lt; \"\\n\\nMove the rectangle with wasd\\n\\n\";\n\n\n        //Rectangle Movement\n        box1.Rectangle_Movement(speed_Var);\n    }\n    //exit\n    return 0;\n}\n</code></pre>\n\n<p><strong>BoxClass.cpp:</strong></p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"BoxClass.h\"\n#include \"ConsolWindow.h\"\n#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n#include &lt;Windows.h&gt;\nusing namespace std;\n\n#define W_KEY 0x57\n#define S_KEY 0x53\n#define A_KEY 0x41\n#define D_KEY 0x44\n#define R_KEY 0x52\n\n#define _NOT_MOVING 0\n#define _MOVING 1\n\n    //Non Moving Rectangle\n    void BoxClass::Print_Solid_Rectangle() {\n        //calc\n        boxSpacesWidth = (3 * recWidth) - 4;\n\n        //draw top of box\n        for (width = 1; width &lt; recWidth; width += 1) {\n            cout &lt;&lt; \"...\";\n        }\n        cout &lt;&lt; \"\\n\";\n\n        //draw sides\n        for (height = 1; height &lt; recHeight; height += 1) {\n            cout &lt;&lt; \":\";\n            height_Count++;\n\n            for (width = 1; width &lt; boxSpacesWidth; width += 1) {\n                cout &lt;&lt; \" \";\n            }\n\n            cout &lt;&lt; \":\\n\";\n        }\n\n        //draw bottom\n        cout &lt;&lt; \":\";\n\n        for (width = 1; width &lt; boxSpacesWidth; width += 1) {\n            cout &lt;&lt; \".\";\n        }\n        cout &lt;&lt; \":\\n\";\n    }\n\n    //Moving Rectangle\n    void BoxClass::Print_Rectangle_Moving(int x, int y, int horizontalSpaces, int verticleSpaces) {\n        //calc\n        boxSpacesWidth = (3 * x) - 4;\n        rightWall = ((x-1)*3) + horizontalSpaces;\n        retrieveX = (ceil((((x-1)*3)/2))+1)+horizontalSpaces;\n        retrieveY = verticleSpaces;\n        cout &lt;&lt; retrieveY&lt;&lt;endl;\n\n        //New Line\n        for (i = 1; i &lt;= verticleSpaces; i += 1) {\n            cout &lt;&lt; \"\\n\";\n        }\n\n        //draw top of box\n        for (width = 1; width &lt;= horizontalSpaces; width+=1) {\n            cout &lt;&lt; \" \";\n        }\n\n        for (width = 1; width &lt; x; width += 1) {\n            cout &lt;&lt; \"...\";\n        }\n        cout &lt;&lt; \"\\n\";\n\n        //draw sides\n        for (height = 1; height &lt; y; height += 1) {\n\n            for (width = 1; width &lt;= horizontalSpaces; width += 1) {\n                cout &lt;&lt; \" \";\n            }\n\n            cout &lt;&lt; \":\";\n            height_Count++;\n\n            for (width = 1; width &lt; boxSpacesWidth; width += 1) {\n                cout &lt;&lt; \" \";\n            }\n\n            cout &lt;&lt; \":\\n\";\n        }\n\n        //draw bottom\n        for (width = 1; width &lt;= horizontalSpaces; width += 1) {\n            cout &lt;&lt; \" \";\n        }\n\n        cout &lt;&lt; \":\";\n\n        for (width = 1; width &lt; boxSpacesWidth; width += 1) {\n            cout &lt;&lt; \".\";\n        }\n        cout &lt;&lt; \":\\n\";\n    }\n\n    void BoxClass::Rectangle_Movement(int speed) {\n        speed_Var = speed;\n\n        //Rectangle Movement\n        while (GetAsyncKeyState(VK_ESCAPE) == false) {\n\n            if (GetAsyncKeyState(R_KEY)) {\n                system(\"CLS\");\n                break;\n            }\n\n            if (GetAsyncKeyState(W_KEY)) {\n                if (verticleCount &gt; 0) {\n                    system(\"CLS\");\n                    verticleCount = verticleCount - speed_Var;\n                    Print_Rectangle_Moving(recWidth, recHeight, horizontalCount, verticleCount);\n                }\n            }\n\n            if (GetAsyncKeyState(S_KEY)) {\n                system(\"CLS\");\n                verticleCount = verticleCount + speed_Var;\n                Print_Rectangle_Moving(recWidth, recHeight, horizontalCount, verticleCount);\n            }\n\n            if (GetAsyncKeyState(A_KEY)) {\n                if (horizontalCount &gt; 0) {\n                    system(\"CLS\");\n                    horizontalCount = horizontalCount - (speed_Var*2);\n                    Print_Rectangle_Moving(recWidth, recHeight, horizontalCount, verticleCount);\n                }\n            }\n\n            if (GetAsyncKeyState(D_KEY)) {\n                if (rightWall &lt; 113) {\n                    system(\"CLS\");\n                    horizontalCount = horizontalCount + (speed_Var*2);\n                    Print_Rectangle_Moving(recWidth, recHeight, horizontalCount, verticleCount);\n                }\n            }\n\n            if (GetAsyncKeyState(VK_SPACE)) {\n\n            }\n        }\n    }\n\n    // constructor\n    BoxClass::BoxClass(int x, int y) {\n\n        //variable definition\n        height_Count = 1;\n\n        speed_Var = 1;\n        horizontalCount = 0; \n        verticleCount = 0;\n\n        recWidth = x;\n        recHeight = y;\n    };  \n</code></pre>\n\n<p><strong>BoxClass.h:</strong></p>\n\n<pre><code>#ifndef BOXCLASS_H\n#define BOXCLASS_H\n\n\nclass BoxClass {\n    unsigned short int width;\n    int height, i, recWidth, recHeight, rightWall;\n    float boxSpacesWidth, height_Count;\n\n    int width_Var, height_Var, position_Var;\n    int speed_Var = 1;\n    unsigned short int horizontalCount = 0, verticleCount = 0;\n\n\nprotected:\n    //retrieve values for bullet spawn location\n    int retrieveX, retrieveY;\n\npublic:\n    void Print_Rectangle_Moving(int x, int y, int horizontalSpaces, int verticleSpaces);\n\n    void Print_Solid_Rectangle();\n\n    void Rectangle_Movement(int speed);\n\n    // constructor\n    BoxClass(int x, int y);\n};\n\n#endif\n</code></pre>\n\n<p><strong>Bullet.cpp:</strong></p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"Bullet.h\"\n#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\n\nusing namespace std;\n\nvoid Bullet::Bullet_Draw_Collision() {\n\n    for (int height = 1; height &lt;= 2; height+=1) {\n        cout &lt;&lt; \"|\\n\";\n    }\n\n}\n\n\n\nBullet::Bullet() {\n}\n</code></pre>\n\n<p><strong>Bullet.h:</strong></p>\n\n<pre><code>#ifndef BULLET_H\n#define BULLET_H\n\n#include \"BoxClass.h\"\n\nclass Bullet : public BoxClass {\n\npublic:\n    void Bullet_Draw_Collision();\n\n    //constructor\n    Bullet();\n\n};\n#endif\n</code></pre>\n\n<p><strong>ConsolWindow.cpp:</strong></p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"ConsolWindow.h\"\n#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\nusing namespace std;\n\nint Find_Consol_Size() {\n    CONSOLE_SCREEN_BUFFER_INFO csbi;\n    int columns, rows;\n\n    GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &amp;csbi);\n    columns = csbi.srWindow.Right - csbi.srWindow.Left + 1;\n    rows = csbi.srWindow.Bottom - csbi.srWindow.Top + 1;\n\n    return columns;\n}\n\nvoid Set_Consol_Size(int x, int y) {\n    HWND console = GetConsoleWindow();\n    RECT r;\n    GetWindowRect(console, &amp;r);\n    MoveWindow(console, r.left, r.top, x, y, TRUE);\n}\n\nvoid Position_Consol(int x, int y) {\n    HWND consoleWindow = GetConsoleWindow();\n    SetWindowPos(consoleWindow, 0, x, y, 0, 0, SWP_NOSIZE | SWP_NOZORDER);\n}\n</code></pre>\n\n<p><strong>ConsolWindow.h:</strong></p>\n\n<pre><code>#ifndef CONSOLWINDOW_H\n#define CONSOLWINDOW_H\n\nint Find_Consol_Size();\nvoid Set_Consol_Size(int x, int y);\nvoid Position_Consol(int x, int y);\n\n#endif\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522267463, "post_id": 49543209, "comment_id": 86094011, "body": "You need to be more specific in your question. If something isn&#39;t working you need to explain exactly what isn&#39;t and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1522267479, "post_id": 49543209, "comment_id": 86094020, "body": "In <code>value &lt; rhs</code> do <code>value</code> and <code>rhs</code> have the same type?"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 2620694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GxR1r.jpg?s=128&g=1", "display_name": "demonFudgePies", "link": "https://stackoverflow.com/users/2620694/demonfudgepies"}, "is_accepted": false, "score": 2, "last_activity_date": 1522268019, "last_edit_date": 1522268019, "creation_date": 1522267785, "answer_id": 49543314, "question_id": 49543209, "link": "https://stackoverflow.com/questions/49543209/overloading-template-class-comparison-operators/49543314#49543314", "title": "Overloading template class comparison operators", "body": "<p>If you want both <code>A</code> objects to be parameterized with the same type <code>T</code>, remove the inner <code>template &lt;typename T&gt;</code> on the operator.</p>\n\n<p>Otherwise, if you want the operator to take an <code>A</code> with a different type parameter than <code>T</code>, change the inner <code>template &lt;typename T&gt;</code> to <code>template &lt;typename U&gt;</code>, and change <code>rhs</code> to <code>const A&lt;U&gt;&amp; rhs</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1522268171, "last_edit_date": 1592644375, "creation_date": 1522267792, "answer_id": 49543318, "question_id": 49543209, "link": "https://stackoverflow.com/questions/49543209/overloading-template-class-comparison-operators/49543318#49543318", "title": "Overloading template class comparison operators", "body": "<h1>You can't define nested templates with the same parameter names.</h1>\n<p>If your <code>operator&lt;</code> accepts an <code>A</code> object whose template parameter is a different type then the <code>A</code> object being compared to, you have to use different template parameter names:</p>\n<pre><code>template &lt;typename T&gt;\nclass A\n{\npublic:\n    template &lt;typename Other&gt;\n    bool operator&lt; (const A&lt;Other&gt;&amp; rhs) const {\n        return (value &lt; rhs.value);\n    }\nprivate:\n    T value;\n};\n</code></pre>\n<p>This will work as long as <code>T</code> and <code>Other</code> are types that are comparable with <code>&lt;</code>.</p>\n<p>However, if you are comparing two <code>A</code> objects that have the same template type, there is no need for <code>operator&lt;</code> to have its own template at all:</p>\n<pre><code>template &lt;typename T&gt;\nclass A\n{\npublic:\n    bool operator&lt; (const A&lt;T&gt;&amp; rhs) const {\n        return (value &lt; rhs.value);\n    }\nprivate:\n    T value;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1522268035, "creation_date": 1522268035, "answer_id": 49543386, "question_id": 49543209, "link": "https://stackoverflow.com/questions/49543209/overloading-template-class-comparison-operators/49543386#49543386", "title": "Overloading template class comparison operators", "body": "<p>If you want to support simple use cases, such as:</p>\n\n<pre><code>A&lt;int&gt; a = { some_value };\nA&lt;int&gt; b = { some_other_value } ;\n\nif ( a &lt; b ) { ... }\n</code></pre>\n\n<p>there is no need for the <code>operator&lt;</code> function to be member function template. You can simplify your code to:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass A\n{\n  public:\n    bool operator&lt;(const A&amp; rhs) const {\n        return (value &lt; rhs.value);\n    }\n  private:\n    T value;\n};\n</code></pre>\n\n<p>If you want to be able to use:</p>\n\n<pre><code>A&lt;int&gt; a = { some_value };\nA&lt;float&gt; b = { some_other_value } ;\n\nif ( a &lt; b ) { ... }\n</code></pre>\n\n<p>then the <code>operator&lt;</code> function needs to be a member function template. However, make sure that the two template parameter names are different. You can use:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass A\n{\n  public:\n    template &lt;typename T1&gt;\n    bool operator&lt;(const A&lt;T1&gt;&amp; rhs) const {\n        return (value &lt; rhs.value);\n    }  \n  private:\n    T value;\n};\n</code></pre>\n\n<p>That will work as long as <code>T</code> and <code>T1</code> support such an operation.</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 6181457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740e7fd6b59995c2c952491cd956dbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Sia", "link": "https://stackoverflow.com/users/6181457/sia"}, "is_accepted": false, "score": 0, "last_activity_date": 1522269419, "creation_date": 1522269419, "answer_id": 49543743, "question_id": 49543209, "link": "https://stackoverflow.com/questions/49543209/overloading-template-class-comparison-operators/49543743#49543743", "title": "Overloading template class comparison operators", "body": "<p>I am not sure if you want two different template parameters, or one. This is the solution with only one typename (I also added getter for value, just because I prefer to). You don't need inside definition of template and you need to compare the values of the instances, not just value and instance A.</p>\n\n<pre><code>template &lt;typename T&gt;\nclass A {\npublic:\n    bool operator &lt; (const A&lt;T&gt; &amp; rhs) const {\n        return (value &lt; rhs.getValue());\n    }\n\n   const T &amp; getValue() const{\n        return this -&gt; value;\n    }\nprivate:\n    T value;\n};\n</code></pre>\n\n<p>If you want two template arguments there, that is more complicated. Unless you have just few classes that need to work like this, you can do &lt; operator for each. Otherwise it could get messy and I am sure there would be nicer solution for what you want to do.</p>\n"}], "owner": {"reputation": 47, "user_id": 9128168, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c3c3f0ac567fe9e828378af77c829de6?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/9128168/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1522269419, "creation_date": 1522267325, "question_id": 49543209, "link": "https://stackoverflow.com/questions/49543209/overloading-template-class-comparison-operators", "title": "Overloading template class comparison operators", "body": "<p>I am having a ton of trouble with overloading comparison operators in C++. I don't think I am doing it correctly, any help is appreciated. I have provided a snippet of my class below.</p>\n\n<pre><code>template &lt;typename T&gt;\nclass A\n{\npublic:\n    template &lt;typename T&gt;\n    bool operator&lt;  (const A&lt;T&gt;&amp; rhs) const {\n        return (value &lt; rhs);\n    }\nprivate:\n    T value;\n};\n</code></pre>\n"}, {"tags": ["c++", "colors", "bitmap", "pixel"], "comments": [{"owner": {"reputation": 344, "user_id": 8877217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec886d4b5b1bdafa8b9ef5d452ba932e?s=128&d=identicon&r=PG&f=1", "display_name": "Sharad Khanna", "link": "https://stackoverflow.com/users/8877217/sharad-khanna"}, "edited": false, "score": 0, "creation_date": 1522266546, "post_id": 49542920, "comment_id": 86093496, "body": "Duplicate? <a href=\"https://stackoverflow.com/questions/10515646/get-pixel-color-fastest-way\" title=\"get pixel color fastest way\">stackoverflow.com/questions/10515646/&hellip;</a>"}, {"owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "reply_to_user": {"reputation": 344, "user_id": 8877217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec886d4b5b1bdafa8b9ef5d452ba932e?s=128&d=identicon&r=PG&f=1", "display_name": "Sharad Khanna", "link": "https://stackoverflow.com/users/8877217/sharad-khanna"}, "edited": false, "score": 0, "creation_date": 1522272029, "post_id": 49542920, "comment_id": 86096439, "body": "Using the following code from this post:  did not work correctly. I copy and pasted as is and used it with: <a href=\"https://www.w3schools.com/colors/colors_converter.asp\" rel=\"nofollow noreferrer\">w3schools.com/colors/colors_converter.asp</a> And It returned 0 results with multiple tests."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522269123, "post_id": 49543154, "comment_id": 86094959, "body": "I guess I should add I was trying to avoid getPixel() because I&#39;m scanning a large number of pixels and that would be very slow. I was attempting to extract the RGB data from the bits buffer, compare them and if it&#39;s true, return the x y cord of that pixel."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522274589, "post_id": 49543154, "comment_id": 86097461, "body": "GetDIBits will work if you apply the changes I suggested. You have to examine the bitmap&#39;s bit-count before proceeding. To compare different bitmaps they must have the same bit-count."}, {"owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522284591, "post_id": 49543154, "comment_id": 86100166, "body": "I&#39;ve made the edits to my original post. I&#39;m still getting crazy values. this is very hard to wrap my head around."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522288731, "post_id": 49543154, "comment_id": 86101128, "body": "You are reading the bits the wrong way. Also you have no error check and you are not properly cleaning up the resources properly as I had suggested - see edit."}, {"owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522359533, "post_id": 49543154, "comment_id": 86139119, "body": "Awesome, this has helped me out so much and the code is working. The last step now is to figure out how to turn the Y Axis upside down considering it seems as though the bitmap is built from the bottom up."}, {"owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522359915, "post_id": 49543154, "comment_id": 86139274, "body": "And I found another post where you have the inverted function as well. Thank you so much! this has been a headache."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "edited": false, "score": 0, "creation_date": 1522514288, "post_id": 49543154, "comment_id": 86187849, "body": "I made a mistake in the <code>for</code> loop for <code>y</code>. Bitmap starts from bottom, not top. See edit."}], "tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 1, "last_activity_date": 1522514235, "last_edit_date": 1522514235, "creation_date": 1522267152, "answer_id": 49543154, "question_id": 49542920, "link": "https://stackoverflow.com/questions/49542920/scan-bitmap-for-specific-pixel-color-and-give-x-y-location-in-c/49543154#49543154", "title": "Scan BitMap for Specific pixel color, and give x, y location in c++", "body": "<blockquote>\n  <p><code>hBitmap = (HBITMAP)SelectObject(hdcMemory, hBitmapOld);</code></p>\n</blockquote>\n\n<p>That's going to overwrite <code>hBitmap</code>, you don't want that. You should change that line to:</p>\n\n<pre><code>SelectObject(hdcMemory, hBitmapOld);\n</code></pre>\n\n<p>Then you can use <code>GetDIBits</code></p>\n\n<p>Also you have already copied the bitmap to memory dc. You can use <code>GetPixel</code> to obtain the color. There is no need to call <code>GetDIBits</code></p>\n\n<pre><code>HBITMAP hBitmapOld = (HBITMAP)SelectObject(hdcMemory, hBitmap);\nCOLORREF color = GetPixel(hdcMemory, x, y);\nBYTE red = GetRValue(color);\nBYTE green = GetGValue(color);\nBYTE blue = GetBValue(color);\n...\nSelectObject(hdcMemory, hBitmapOld);\nDeleteObject(hBitmap);\nDeleteDC(hdcMemory);\nRleaseDC(0, hdcSource);\n</code></pre>\n\n<p>When you are finished also call <code>DeleteObject(hBitmap)</code></p>\n\n<p>Using <code>GetDIBits</code>: 32-bit bitmap format is BGRA not RGBA, therefore the first byte is blue, not red. You should specifically request 32-bit bitmap or check the bit-count before treating the bits as 32-bit bitmap.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;Windows.h&gt;\n\nint main()\n{\n    HWND target = FindWindow(\"Notepad\", 0);\n    if(!target)\n    {\n        printf(\"error, no window\\n\");\n        return 0;\n    }\n\n    RECT rc;\n    GetWindowRect(target, &amp;rc);\n    int x = rc.left;\n    int y = rc.top;\n    int w = rc.right - rc.left;\n    int h = rc.bottom - rc.top;\n\n    int screen_w = GetSystemMetrics(SM_CXFULLSCREEN);\n    int screen_h = GetSystemMetrics(SM_CYFULLSCREEN);\n\n    HDC hdc = GetDC(HWND_DESKTOP);\n    HBITMAP hbitmap = CreateCompatibleBitmap(hdc, screen_w, screen_h);\n    HDC memdc = CreateCompatibleDC(hdc);\n    HGDIOBJ oldbmp = SelectObject(memdc, hbitmap);\n    BitBlt(memdc, 0, 0, w, h, hdc, x, y, CAPTUREBLT | SRCCOPY);\n    SelectObject(memdc, oldbmp);\n\n    BITMAPINFOHEADER infohdr = { sizeof(infohdr), w, h, 1, 32 };\n    int size = w * h * 4;\n    std::vector&lt;BYTE&gt; bits(size);\n    int res = GetDIBits(hdc, hbitmap, 0, h, &amp;bits[0], \n            (BITMAPINFO*)&amp;infohdr, DIB_RGB_COLORS);\n    if(res != h)\n    {\n        std::cout &lt;&lt; \"error\\n\";\n        return 0;\n    }\n\n    BYTE *ptr = bits.data();\n    //for(y = 0; y &lt; h; y++)\n    for(y = h - 1; y &gt;= 0; y--) //bitmaps bits start from bottom, not top\n    {\n        for(x = 0; x &lt; w; x++)\n        {\n            BYTE blu = ptr[0];\n            BYTE grn = ptr[1];\n            BYTE red = ptr[2];\n            ptr += 4;\n        }\n    }\n\n    SelectObject(memdc, oldbmp);\n    DeleteObject(hbitmap);\n    ReleaseDC(HWND_DESKTOP, hdc);\n    DeleteDC(memdc);\n\n    return 0;\n}\n</code></pre>\n\n<p>Note, the process should be DPI aware in case user is not using default DPI settings. </p>\n"}], "owner": {"reputation": 37, "user_id": 4784647, "user_type": "registered", "profile_image": "https://graph.facebook.com/838364966233662/picture?type=large", "display_name": "Billy Penley", "link": "https://stackoverflow.com/users/4784647/billy-penley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "accepted_answer_id": 49543154, "answer_count": 1, "score": 2, "last_activity_date": 1522514235, "creation_date": 1522266290, "last_edit_date": 1522283710, "question_id": 49542920, "link": "https://stackoverflow.com/questions/49542920/scan-bitmap-for-specific-pixel-color-and-give-x-y-location-in-c", "title": "Scan BitMap for Specific pixel color, and give x, y location in c++", "body": "<p>I simply want to scan a bitmap I have in memory for a specific color given the RGB values of a given pixel, and if found, give me the x, y cords of that pixel. I'm have code here that stores the bitmap of the given window in memory, and works fine. But when I try to retrieve where the pixel is with a red value of 60, i get all kinds of funky values.\nHere is my current code:</p>\n\n<pre><code>bool findColor(int x, int y, int w, int h, LPCSTR fname) {\nHWND window = FindWindow(0, (\"windownamehere\"));\nHDC hdcSource = GetDC(window);\nHDC hdcMemory = CreateCompatibleDC(hdcSource);\nint capX = GetDeviceCaps(hdcSource, HORZRES);\nint capY = GetDeviceCaps(hdcSource, VERTRES);\nHBITMAP hBitmap = CreateCompatibleBitmap(hdcSource, w, h);\nHBITMAP hBitmapOld = (HBITMAP)SelectObject(hdcMemory, hBitmap);\nBitBlt(hdcMemory, 0, 0, w, h, hdcSource, x, y, SRCCOPY);\nSelectObject(hdcMemory, hBitmapOld);\n//Added\nHDC hdc = GetDC(0);\nBITMAPINFO MyBMInfo = { 0 };\nMyBMInfo.bmiHeader.biSize = sizeof(MyBMInfo.bmiHeader);\nGetDIBits(hdcMemory, hBitmap, 0, 0, NULL, &amp;MyBMInfo, DIB_RGB_COLORS);\nBYTE* lpPixels = new BYTE[MyBMInfo.bmiHeader.biSizeImage];\nMyBMInfo.bmiHeader.biCompression = BI_RGB;\nGetDIBits(hdc, hBitmap, 0, MyBMInfo.bmiHeader.biHeight, (LPVOID)lpPixels, &amp;MyBMInfo, DIB_RGB_COLORS);\nBYTE red, blue, green;\nchar* pCurrPixel = (char*)lpPixels;\nfor (y = 0; y &lt; h; y++)\n{\n    for (x = 0; x &lt; w; x++)\n    {\n        red = pCurrPixel[0];\n        green = pCurrPixel[1];\n        blue = pCurrPixel[2];\n        if ((red == 134))\n            std::cout &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y;\n        pCurrPixel += 4;\n    }\n}\nSelectObject(hdcMemory, hBitmapOld);\nDeleteObject(hBitmap);\nDeleteDC(hdcSource);\nDeleteDC(hdcMemory);\nreturn false;\n}\n</code></pre>\n"}, {"tags": ["c++", "linker", "header-files", "header-only"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522265441, "post_id": 49542632, "comment_id": 86092887, "body": "I had a quick look at that library. File a bug report (an issue, since it&#39;s on github). It&#39;s unusable as a header-only library. There are a lot of functions that aren&#39;t marked as <code>inline</code> (<code>inline</code> just means that the definition can be in a header file without causing linker errors), so the linker will find multiple definitions and give you an error."}], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "edited": false, "score": 1, "creation_date": 1522265604, "post_id": 49542715, "comment_id": 86092984, "body": "Ah! Another day, another keyword finally making sense :D Thank you!"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "edited": false, "score": 0, "creation_date": 1522266102, "post_id": 49542715, "comment_id": 86093255, "body": "@Felix You&#39;re welcome.  You might want to raise an issue with the library about this."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "edited": false, "score": 0, "creation_date": 1522266202, "post_id": 49542715, "comment_id": 86093315, "body": "@Felix I have no idea what typo you are talking about ;)"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 1, "last_activity_date": 1522265458, "creation_date": 1522265458, "answer_id": 49542715, "question_id": 49542632, "link": "https://stackoverflow.com/questions/49542632/inclusion-of-a-header-only-library-to-multiple-files-producing-a-linker-error/49542715#49542715", "title": "Inclusion of a header-only library to multiple files producing a linker error", "body": "<blockquote>\n  <p>Is there something special about these functions?</p>\n</blockquote>\n\n<p>Yes, they were not marked as <code>inline</code> like all the other free functions in the <code>algorithm</code> namespace.  </p>\n\n<p>When you define a function in a header file you need to mark it as inline so that it can be defined in multiple translation units (included in multiple source files) without error. </p>\n"}], "owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 49542715, "answer_count": 1, "score": 1, "last_activity_date": 1522265530, "creation_date": 1522265124, "last_edit_date": 1522265530, "question_id": 49542632, "link": "https://stackoverflow.com/questions/49542632/inclusion-of-a-header-only-library-to-multiple-files-producing-a-linker-error", "title": "Inclusion of a header-only library to multiple files producing a linker error", "body": "<p>I'm using a header-only single-file \"library\" to load <code>.obj</code>-models from a file into a graphics program. A simple linker error has popped up:</p>\n\n<blockquote>\n  <p>LNK2005 \"Info here\" already defined in main.obj</p>\n</blockquote>\n\n<p>Now I know what this means and normally I'd proceed with moving the implementation to a separate file. However, this is a file provided by someone way smarter than I, and so relying on authority I'd expect the thing to work.</p>\n\n<p>It only complains about a vector multiplication operator overload and a single function among loads of other functions:</p>\n\n<pre><code>glm::vec3 operator*(const float&amp; left, const glm::vec3&amp; right){\n    return glm::vec3(right.x * left, right.y * left, right.z * left);\n}\n\nbool inTriangle(glm::vec3 point, glm::vec3 tri1, glm::vec3 tri2, glm::vec3 tri3)\n{\n    // Starting vars\n    glm::vec3 u = tri2 - tri1;\n    glm::vec3 v = tri3 - tri1;\n    glm::vec3 w = point - tri1;\n    glm::vec3 n = glm::cross(u, v);\n\n    float y = glm::dot(glm::cross(u, w), n) / glm::dot(n, n);\n    float b = glm::dot(glm::cross(u, w), n) / glm::dot(n, n);\n    float a = 1 - y - b;\n\n    // Projected point\n    glm::vec3  p = (a * tri1) + (b * tri2) + (y * tri3);\n\n    if (a &gt;= 0 &amp;&amp; a &lt;= 1\n        &amp;&amp; b &gt;= 0 &amp;&amp; b &lt;= 1\n        &amp;&amp; y &gt;= 0 &amp;&amp; y &lt;= 1)\n    {\n        return true;\n    }\n    else\n        return false;\n}\n</code></pre>\n\n<p>Is there something special about these functions?</p>\n\n<p>The file is from <a href=\"https://github.com/Bly7/OBJ-Loader\" rel=\"nofollow noreferrer\">OBJ Loader</a>, which I have modified just to use the <code>glm</code> vectors and utilities I'm currently using elsewhere.</p>\n"}, {"tags": ["c++", "linked-list", "runtime"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1522265247, "post_id": 49542566, "comment_id": 86092767, "body": "Please use a debugger <i>and draw the list</i>.  Edit the post with the results of your debugging session."}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 0, "creation_date": 1522265357, "post_id": 49542566, "comment_id": 86092841, "body": "<i>Can someone explain why &gt;l3=l3-&gt;next; leads to the error?</i>  Probably because <code>I3-&gt;next</code> is <code>nullptr</code> and you are attribuiting it to I3 and derreferencing it later"}, {"owner": {"reputation": 1, "user_id": 9565922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa54cbd6338b4c77b6ebfcd47238ddb3?s=128&d=identicon&r=PG&f=1", "display_name": "ukp", "link": "https://stackoverflow.com/users/9565922/ukp"}, "edited": false, "score": 0, "creation_date": 1522330832, "post_id": 49542566, "comment_id": 86122746, "body": "so how do you define the size of a linked list?"}], "answers": [{"tags": [], "owner": {"reputation": 1390, "user_id": 1115215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHpsz.jpg?s=128&g=1", "display_name": "WY Hsu", "link": "https://stackoverflow.com/users/1115215/wy-hsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1549615405, "creation_date": 1549615405, "answer_id": 54588673, "question_id": 49542566, "link": "https://stackoverflow.com/questions/49542566/debugging-linked-lists-in-c-program-to-add-two-numbers-can-someone-explain-wh/54588673#54588673", "title": "Debugging Linked Lists in c++ program to Add Two Numbers: Can someone explain why l3=l3-&gt;next; leads to the error?", "body": "<p>I myself have the same issue...</p>\n\n<h3>Reason</h3>\n\n<p>What the error message </p>\n\n<pre><code>member access within null pointer of type &gt;'struct ListNode'? \n</code></pre>\n\n<p>shows that your struct pointer tries to access a memory address <strong>which is <code>NULL</code></strong> right now. </p>\n\n<p>So it shows that it's a runtime error, which means that it happens at the runtime stage.</p>\n\n<h3>Solution</h3>\n\n<p>When you try to access the content where the pointer pointing at, make sure it's not <code>NULL</code>.</p>\n\n<pre><code>if( ListNodePtr != NULL){\n    ListNodePtr = ListNodePtr-&gt;next;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ListNodePtr = ListNodePtr ?  ListNodePtr-&gt;next : NULL;\n</code></pre>\n\n<p>Hope you nail down this problem on LeetCode.</p>\n"}], "owner": {"reputation": 1, "user_id": 9565922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa54cbd6338b4c77b6ebfcd47238ddb3?s=128&d=identicon&r=PG&f=1", "display_name": "ukp", "link": "https://stackoverflow.com/users/9565922/ukp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549615405, "creation_date": 1522264897, "last_edit_date": 1522265166, "question_id": 49542566, "link": "https://stackoverflow.com/questions/49542566/debugging-linked-lists-in-c-program-to-add-two-numbers-can-someone-explain-wh", "title": "Debugging Linked Lists in c++ program to Add Two Numbers: Can someone explain why l3=l3-&gt;next; leads to the error?", "body": "<p><strong>Context:</strong></p>\n\n<p>Input: (2 -> 4 -> 3) + (5 -> 6 -> 4) Output: 7 -> 0 -> 8. Explanation: 342 + 465 = 807. </p>\n\n<p>Get the following error:</p>\n\n<blockquote>\n  <p>Line 40: member access within\n  null pointer of type >'struct ListNode'? </p>\n</blockquote>\n\n<p>Don't understand what is wrong.. Can someone explain why >l3=l3->next; leads to the error?</p>\n\n<pre><code>/**\n     * Definition for singly-linked list.\n     * struct ListNode {\n     *     int val;\n     *     ListNode *next;\n     *     ListNode(int x) : val(x), next(NULL) {}\n     * };\n     */\n\n    class Solution {\n    public:\n        ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {\n            ListNode* l3;\n            ListNode dummy(INT_MIN);\n            l3= &amp;dummy;\n\n            //l3-&gt;val=3;\n            //l3=l3-&gt;next;\n            int i=0;\n            int n1=0;\n            while(l1)\n            {\n                n1+=(l1-&gt;val)*(pow(10,i));\n                l1=l1-&gt;next;\n                i++;       \n            }\n            int j=0;\n            int n2=0;\n            while(l2)\n            {\n                n2+=(l2-&gt;val)*(pow(10,j));\n                l2=l2-&gt;next;\n                j++;            \n            }\n            int n3=n1+n2;\n            while(n3)\n            {\n                l3-&gt;val=n3%10;\n                n3=n3/10;\n                cout&lt;&lt;l3-&gt;val&lt;&lt;endl;\n                cout&lt;&lt;dummy.next&lt;&lt;endl;\n                l3=l3-&gt;next;\n            }   \n\n            return dummy.next;\n\n        }\n    };\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 2, "creation_date": 1522266981, "post_id": 49542557, "comment_id": 86093721, "body": "Show us your code that demonstrates the problem, preferably reduced to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1522272781, "post_id": 49542557, "comment_id": 86096755, "body": "@HolyBlackCat: Agreed. Also see: <a href=\"https://stackoverflow.com/questions/8866904/differences-and-relationship-between-glactivetexture-and-glbindtexture\" title=\"differences and relationship between glactivetexture and glbindtexture\">stackoverflow.com/questions/8866904/&hellip;</a>"}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "edited": false, "score": 0, "creation_date": 1522273988, "post_id": 49542557, "comment_id": 86097224, "body": "Ok thanks, will put together an isolated example asap."}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1522321425, "post_id": 49542557, "comment_id": 86115968, "body": "@HolyBlackCat code example added."}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "reply_to_user": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "edited": false, "score": 0, "creation_date": 1522321482, "post_id": 49542557, "comment_id": 86116009, "body": "@Acorn thanks for suggestion unfortunately doesn&#39;t add anyhting in this case. Cheers"}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "edited": false, "score": 0, "creation_date": 1522321514, "post_id": 49542557, "comment_id": 86116038, "body": "Also curious if the orignal two downvoters have anything constructive to add? This isn&#39;t reddit o.0"}, {"owner": {"reputation": 4728, "user_id": 1288408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r09bq.jpg?s=128&g=1", "display_name": "Modus Tollens", "link": "https://stackoverflow.com/users/1288408/modus-tollens"}, "edited": false, "score": 0, "creation_date": 1522322063, "post_id": 49542557, "comment_id": 86116429, "body": "@lfgtm The downvotes happened before your edit and are probably related to the missing example."}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "reply_to_user": {"reputation": 4728, "user_id": 1288408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r09bq.jpg?s=128&g=1", "display_name": "Modus Tollens", "link": "https://stackoverflow.com/users/1288408/modus-tollens"}, "edited": false, "score": 0, "creation_date": 1522322180, "post_id": 49542557, "comment_id": 86116501, "body": "@ModusTollens Yes, before my edit, and a good hour before HolyBlackCat added something constructive. If it was the two users who commented, thats fine and fully warranted in which case I appologize and please ignore my passive aggessiveness ;)"}, {"owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "edited": false, "score": 0, "creation_date": 1522322472, "post_id": 49542557, "comment_id": 86116706, "body": "@lfgtm: don&#39;t take it personally, as soon as a question have the <code>c++</code> tag, either you invented teleportation or you get some down-votes. (exagerating, but not that much) (maybe teleportation would get closed anyway because of too broad and off-topic)"}, {"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "reply_to_user": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "edited": false, "score": 0, "creation_date": 1522322610, "post_id": 49542557, "comment_id": 86116789, "body": "@AdrianMaire thanks for the support :)... Just don&#39;t want the question to get closed without any input... which it came very close to doing. but yes appreciate I didn&#39;t give an example immediately."}], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "edited": false, "score": 0, "creation_date": 1522339430, "post_id": 49560106, "comment_id": 86129001, "body": "Yep this fixes it (and makes sense), thank you so much. And thanks for linking the 4.6 document."}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 3, "last_activity_date": 1522339732, "last_edit_date": 1522339732, "creation_date": 1522338054, "answer_id": 49560106, "question_id": 49542557, "link": "https://stackoverflow.com/questions/49542557/glactivetexture-default-behavior-not-as-anticipated/49560106#49560106", "title": "glActiveTexture default behavior not as anticipated", "body": "<p>The value which you have to set to the texture sampler uniform is the index of the texture unit and not the texture object.</p>\n\n<p>Change your code like this:</p>\n\n<pre><code>gl_-&gt;glActiveTexture(GL_TEXTURE1);\nglBindTexture(GL_TEXTURE_2D, calibrationTexture_);\n\n// this is wrong\n//SetUniform(\"quadTexture\", calibrationTexture_);\n\nSetUniform( \"quadTexture\", 1 ); // 1 because of GL_TEXTURE1\n</code></pre>\n\n<p><br/>\nSee <a href=\"https://www.khronos.org/registry/OpenGL/specs/gl/glspec46.compatibility.pdf\" rel=\"nofollow noreferrer\">OpenGL 4.6 API Compatibility Profile Specification; 7.10 Samplers; page 154</a>:</p>\n\n<blockquote>\n  <p>Samplers are special uniforms used in the OpenGL Shading Language to identify\n  the texture object used for each texture lookup. The value of a sampler indicates the texture image unit being accessed. Setting a sampler\u2019s value to <code>i</code> selects texture image unit number <code>i</code>. </p>\n</blockquote>\n\n<p><br/>\nNote, the \"name\" of the texture object is generted by</p>\n\n<pre><code>glGenTextures(1, &amp;calibrationTexture_);\n</code></pre>\n\n<p>This \"name\" (an integral number) is hardware and driver dependent.<br/>\nBut since there is only 1 texture objects generated in your code, there is a good chance that the value of the name is 1.  </p>\n\n<p>This means, when you set</p>\n\n<pre><code>gl_-&gt;glActiveTexture(GL_TEXTURE1);\n</code></pre>\n\n<p>your code works, because the value of <code>calibrationTexture_</code> is 1.</p>\n"}], "owner": {"reputation": 997, "user_id": 5903546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090029ba7b6c1adda964f65d37898526?s=128&d=identicon&r=PG&f=1", "display_name": "lfgtm", "link": "https://stackoverflow.com/users/5903546/lfgtm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 49560106, "answer_count": 1, "score": 2, "last_activity_date": 1522339732, "creation_date": 1522264864, "last_edit_date": 1522322063, "question_id": 49542557, "link": "https://stackoverflow.com/questions/49542557/glactivetexture-default-behavior-not-as-anticipated", "title": "glActiveTexture default behavior not as anticipated", "body": "<p>I would just like some clarification on defult OpenGL behavior. It is my understanding that the default active texture unit is 0 (<code>GL_TEXTURE0</code>), and unless explicitly changed via <code>glActiveTexture</code> will remain so.</p>\n\n<p>I ask this because I'm getting behavoir that I can't explain and is problematic. After loading and binding a texture to <code>GL_TEXTURE_2D</code> (assuming <code>GL_TEXTURE0</code> is active), I cannot display it until I set the active texture to <code>GL_TEXTURE1</code>. Even explicitly calling <code>glActiveTexture(GL_TEXTUREX)</code> before first binding it after loading it, and then repeating this call when I use it during the draw does nothing. Texture only displays if I call <code>glActiveTexture(GL_TEXTURE1)</code> before binding and assigning to a shader.</p>\n\n<p>This process is repeated when I attempt to use more textures with me having to explicitly set each <code>glActiveTexture(GL_TEXTURE...)</code> depending on the order in which I loaded and first bound the textures just before I bind them and assign them to shaders. Even if I 'm not drawing with the first texture I loaded, I still have to call <code>glActiveTexture(GL_TEXTURE2)</code>... rather than <code>GL_TEXTURE1</code>, or even better <code>GL_TEXTURE0</code> because I haven't even called <code>glActiveTexture(...)</code> up to that point. The latter which I thought is what should happen according to the GL spec.</p>\n\n<p><a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glActiveTexture.xhtml\" rel=\"nofollow noreferrer\">https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glActiveTexture.xhtml</a></p>\n\n<p>Is this a driver-ism? Thanks in advanced for any suggestions.</p>\n\n<p>Dell Precision M6800, nV K2200M, GL 4.1 &amp; 3.3.</p>\n\n<p>UPDATE: Isolated example.</p>\n\n<pre><code> #include &lt;Windows.h&gt;\n#include &lt;gl\\GL.h&gt;\n#include \"glext.h\"\n#include \"wglext.h\"\n\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n#include &lt;atlimage.h&gt;\n\nnamespace\n{\n    class GLFunc\n    {\n    public:\n        GLFunc()\n        {\n            glCreateProgram = (PFNGLCREATEPROGRAMPROC)wglGetProcAddress(\"glCreateProgram\");\n            glCreateShader = (PFNGLCREATESHADERPROC)wglGetProcAddress(\"glCreateShader\");\n            glShaderSource = (PFNGLSHADERSOURCEPROC)wglGetProcAddress(\"glShaderSource\");\n            glCompileShader = (PFNGLCOMPILESHADERPROC)wglGetProcAddress(\"glCompileShader\");\n            glAttachShader = (PFNGLATTACHSHADERPROC)wglGetProcAddress(\"glAttachShader\");\n            glDetachShader = (PFNGLDETACHSHADERPROC)wglGetProcAddress(\"glDetachShader\");\n            glLinkProgram = (PFNGLLINKPROGRAMPROC)wglGetProcAddress(\"glLinkProgram\");\n            glUseProgram = (PFNGLUSEPROGRAMPROC)wglGetProcAddress(\"glUseProgram\");\n            glGenFramebuffers = (PFNGLGENFRAMEBUFFERSPROC)wglGetProcAddress(\"glGenFramebuffers\");\n            glBindFramebuffer = (PFNGLBINDFRAMEBUFFERPROC)wglGetProcAddress(\"glBindFramebuffer\");\n            glGenRenderbuffers = (PFNGLGENRENDERBUFFERSPROC)wglGetProcAddress(\"glGenRenderbuffers\");\n            glBindRenderbuffer = (PFNGLBINDRENDERBUFFERPROC)wglGetProcAddress(\"glBindRenderbuffer\");\n            glRenderbufferStorage = (PFNGLRENDERBUFFERSTORAGEPROC)wglGetProcAddress(\"glRenderbufferStorage\");\n            glFramebufferRenderbuffer = (PFNGLFRAMEBUFFERRENDERBUFFERPROC)wglGetProcAddress(\"glFramebufferRenderbuffer\");\n            glFramebufferTexture = (PFNGLFRAMEBUFFERTEXTUREPROC)wglGetProcAddress(\"glFramebufferTexture\");\n            glDrawBuffers = (PFNGLDRAWBUFFERSPROC)wglGetProcAddress(\"glDrawBuffers\");\n            glCheckFramebufferStatus = (PFNGLCHECKFRAMEBUFFERSTATUSPROC)wglGetProcAddress(\"glCheckFramebufferStatus\");\n            glGenVertexArrays = (PFNGLGENVERTEXARRAYSPROC)wglGetProcAddress(\"glGenVertexArrays\");\n            glBindBuffer = (PFNGLBINDBUFFERPROC)wglGetProcAddress(\"glBindBuffer\");\n            glBufferData = (PFNGLBUFFERDATAPROC)wglGetProcAddress(\"glBufferData\");\n            glDeleteFramebuffers = (PFNGLDELETEFRAMEBUFFERSPROC)wglGetProcAddress(\"glDeleteFramebuffers\");\n            glDeleteRenderbuffers = (PFNGLDELETERENDERBUFFERSPROC)wglGetProcAddress(\"glDeleteRenderbuffers\");\n            glDeleteVertexArrays = (PFNGLDELETEVERTEXARRAYSPROC)wglGetProcAddress(\"glDeleteVertexArrays\");\n            glGetShaderiv = (PFNGLGETSHADERIVPROC)wglGetProcAddress(\"glGetShaderiv\");\n            glGetShaderInfoLog = (PFNGLGETSHADERINFOLOGPROC)wglGetProcAddress(\"glGetShaderInfoLog\");\n            glGetProgramiv = (PFNGLGETPROGRAMIVPROC)wglGetProcAddress(\"glGetProgramiv\");\n            glGetProgramInfoLog = (PFNGLGETPROGRAMINFOLOGPROC)wglGetProcAddress(\"glGetProgramInfoLog\");\n            glGenBuffers = (PFNGLGENBUFFERSPROC)wglGetProcAddress(\"glGenBuffers\");\n            glEnableVertexAttribArray = (PFNGLENABLEVERTEXATTRIBARRAYPROC)wglGetProcAddress(\"glEnableVertexAttribArray\");\n            glVertexAttribPointer = (PFNGLVERTEXATTRIBPOINTERPROC)wglGetProcAddress(\"glVertexAttribPointer\");\n            glBindVertexArray = (PFNGLBINDVERTEXARRAYPROC)wglGetProcAddress(\"glBindVertexArray\");\n            glGetUniformLocation = (PFNGLGETUNIFORMLOCATIONPROC)wglGetProcAddress(\"glGetUniformLocation\");\n            glUniformMatrix2fv = (PFNGLUNIFORMMATRIX2FVPROC)wglGetProcAddress(\"glUniformMatrix2fv\");\n            glUniformMatrix3fv = (PFNGLUNIFORMMATRIX3FVPROC)wglGetProcAddress(\"glUniformMatrix3fv\");\n            glUniformMatrix4fv = (PFNGLUNIFORMMATRIX4FVPROC)wglGetProcAddress(\"glUniformMatrix4fv\");\n            glUniform1f = (PFNGLUNIFORM1FPROC)wglGetProcAddress(\"glUniform1f\");\n            glUniform2f = (PFNGLUNIFORM2FPROC)wglGetProcAddress(\"glUniform2f\");\n            glUniform3f = (PFNGLUNIFORM3FPROC)wglGetProcAddress(\"glUniform3f\");\n            glUniform4f = (PFNGLUNIFORM4FPROC)wglGetProcAddress(\"glUniform4f\");\n            glUniform1i = (PFNGLUNIFORM1IPROC)wglGetProcAddress(\"glUniform1i\");\n            glUniform2i = (PFNGLUNIFORM2IPROC)wglGetProcAddress(\"glUniform2i\");\n            glUniform3i = (PFNGLUNIFORM3IPROC)wglGetProcAddress(\"glUniform3i\");\n            glUniform4i = (PFNGLUNIFORM4IPROC)wglGetProcAddress(\"glUniform4i\");\n            glActiveTexture = (PFNGLACTIVETEXTUREPROC)wglGetProcAddress(\"glActiveTexture\");\n            glDeleteShader = (PFNGLDELETESHADERPROC)wglGetProcAddress(\"glDeleteShader\");\n\n        }\n\n        PFNGLCREATEPROGRAMPROC glCreateProgram;\n        PFNGLCREATESHADERPROC glCreateShader;\n        PFNGLSHADERSOURCEPROC glShaderSource;\n        PFNGLCOMPILESHADERPROC glCompileShader;\n        PFNGLATTACHSHADERPROC glAttachShader;\n        PFNGLDETACHSHADERPROC glDetachShader;\n        PFNGLLINKPROGRAMPROC glLinkProgram;\n        PFNGLUSEPROGRAMPROC glUseProgram;\n        PFNGLGENFRAMEBUFFERSPROC glGenFramebuffers;\n        PFNGLBINDFRAMEBUFFERPROC glBindFramebuffer;\n        PFNGLGENRENDERBUFFERSPROC glGenRenderbuffers;\n        PFNGLBINDRENDERBUFFERPROC glBindRenderbuffer;\n        PFNGLRENDERBUFFERSTORAGEPROC glRenderbufferStorage;\n        PFNGLFRAMEBUFFERRENDERBUFFERPROC glFramebufferRenderbuffer;\n        PFNGLFRAMEBUFFERTEXTUREPROC glFramebufferTexture;\n        PFNGLDRAWBUFFERSPROC glDrawBuffers;\n        PFNGLCHECKFRAMEBUFFERSTATUSPROC glCheckFramebufferStatus;\n        PFNGLGENVERTEXARRAYSPROC glGenVertexArrays;\n        PFNGLBINDBUFFERPROC glBindBuffer;\n        PFNGLBUFFERDATAPROC glBufferData;\n        PFNGLDELETEFRAMEBUFFERSPROC glDeleteFramebuffers;\n        PFNGLDELETERENDERBUFFERSPROC glDeleteRenderbuffers;\n        PFNGLDELETEVERTEXARRAYSPROC glDeleteVertexArrays;\n        PFNGLGETSHADERIVPROC glGetShaderiv;\n        PFNGLGETSHADERINFOLOGPROC glGetShaderInfoLog;\n        PFNGLGETPROGRAMIVPROC glGetProgramiv;\n        PFNGLGETPROGRAMINFOLOGPROC glGetProgramInfoLog;\n        PFNGLGENBUFFERSPROC glGenBuffers;\n        PFNGLENABLEVERTEXATTRIBARRAYPROC glEnableVertexAttribArray;\n        PFNGLVERTEXATTRIBPOINTERPROC glVertexAttribPointer;\n        PFNGLBINDVERTEXARRAYPROC glBindVertexArray;\n        PFNGLGETUNIFORMLOCATIONPROC glGetUniformLocation;\n        PFNGLUNIFORMMATRIX2FVPROC glUniformMatrix2fv;\n        PFNGLUNIFORMMATRIX3FVPROC glUniformMatrix3fv;\n        PFNGLUNIFORMMATRIX4FVPROC glUniformMatrix4fv;\n        PFNGLUNIFORM1FPROC glUniform1f;\n        PFNGLUNIFORM2FPROC glUniform2f;\n        PFNGLUNIFORM3FPROC glUniform3f;\n        PFNGLUNIFORM4FPROC glUniform4f;\n        PFNGLUNIFORM1IPROC glUniform1i;\n        PFNGLUNIFORM2IPROC glUniform2i;\n        PFNGLUNIFORM3IPROC glUniform3i;\n        PFNGLUNIFORM4IPROC glUniform4i;\n        PFNGLACTIVETEXTUREPROC glActiveTexture;\n        PFNGLDELETESHADERPROC glDeleteShader;\n    };\n\n    static HGLRC hglrc_;\n    static GLFunc* gl_;\n\n    unsigned int points_;\n    unsigned int uvs_;\n    unsigned int indexes_;\n    unsigned int vao_;\n    unsigned int calibrationTexture_;\n\n    unsigned int vertexShader_;\n    unsigned int fragmentShader_;\n    unsigned int programID_;\n\n    struct Vector3\n    {\n        Vector3(float x, float y, float z)\n            :   x_(x), y_(y), z_(z)\n        {\n        }\n\n        float x_;\n        float y_;\n        float z_;\n    };\n\n    struct Vector2\n    {\n        Vector2(float x, float y)\n            : x_(x), y_(y)\n        {\n        }\n\n        float x_;\n        float y_;\n    };\n\n    struct Texture\n    {\n        Texture(unsigned int width, unsigned int height)\n            : width_(width), height_(height)\n        {\n            bits_.insert(bits_.end(), width*height * 3, 0);\n        }\n\n        unsigned char* GetTexel(unsigned int x, unsigned int y)\n        {\n            return &amp;bits_[((x * height_) + y)*3];\n        }\n\n        unsigned int width_;\n        unsigned int height_;\n        std::vector&lt;unsigned char&gt; bits_;\n    };\n\n    unsigned int CompileVertexShader(const std::string&amp; sourceCode)\n    {\n        GLint result = GL_FALSE;\n        GLuint vertexShaderID = gl_-&gt;glCreateShader(GL_VERTEX_SHADER);\n        const char* src = sourceCode.c_str();\n        gl_-&gt;glShaderSource(vertexShaderID, 1, &amp;src, NULL);\n        gl_-&gt;glCompileShader(vertexShaderID);\n\n        gl_-&gt;glGetShaderiv(vertexShaderID, GL_COMPILE_STATUS, &amp;result);\n        if (result == GL_FALSE)\n        {\n            int infoLogLength;\n            gl_-&gt;glGetShaderiv(vertexShaderID, GL_INFO_LOG_LENGTH, &amp;infoLogLength);\n            std::vector&lt;GLchar&gt; error(infoLogLength);\n            gl_-&gt;glGetShaderInfoLog(vertexShaderID, infoLogLength, &amp;infoLogLength, &amp;error[0]);\n            std::string errStr(&amp;error[0], error.size());\n            OutputDebugString(errStr.c_str());\n            return 0;\n        }\n        return vertexShaderID;\n    }\n\n    unsigned int CompileFragmentShader(const std::string&amp; sourceCode)\n    {\n        GLint result = GL_FALSE;\n        GLuint fragmentShaderID = gl_-&gt;glCreateShader(GL_FRAGMENT_SHADER);\n        const char* src = sourceCode.c_str();\n        gl_-&gt;glShaderSource(fragmentShaderID, 1, &amp;src, NULL);\n        gl_-&gt;glCompileShader(fragmentShaderID);\n\n        gl_-&gt;glGetShaderiv(fragmentShaderID, GL_COMPILE_STATUS, &amp;result);\n        if (result == GL_FALSE)\n        {\n            int infoLogLength;\n            gl_-&gt;glGetShaderiv(fragmentShaderID, GL_INFO_LOG_LENGTH, &amp;infoLogLength);\n            std::vector&lt;GLchar&gt; error(infoLogLength);\n            gl_-&gt;glGetShaderInfoLog(fragmentShaderID, infoLogLength, &amp;infoLogLength, &amp;error[0]);\n            std::string errStr(&amp;error[0], error.size());\n            OutputDebugString(errStr.c_str());\n            return 0;\n        }\n        return fragmentShaderID;\n    }\n\n    unsigned int LinkShaderProgram(unsigned int vertexShader, unsigned int fragmentShader)\n    {\n        // attempt to link the program...\n        GLint result = GL_FALSE;\n\n        unsigned int programID = gl_-&gt;glCreateProgram();\n        gl_-&gt;glAttachShader(programID, vertexShader);\n        gl_-&gt;glAttachShader(programID, fragmentShader);\n\n        gl_-&gt;glLinkProgram(programID);\n        gl_-&gt;glGetProgramiv(programID, GL_LINK_STATUS, &amp;result);\n        if (result == GL_FALSE)\n        {\n            int InfoLogLength;\n            gl_-&gt;glGetProgramiv(programID, GL_INFO_LOG_LENGTH, &amp;InfoLogLength);\n            std::vector&lt;GLchar&gt; error(InfoLogLength);\n            gl_-&gt;glGetProgramInfoLog(programID, InfoLogLength, &amp;InfoLogLength, &amp;error[0]);\n            std::string errStr(&amp;error[0], error.size());\n            OutputDebugString(errStr.c_str());\n            return 0;\n        }\n\n        gl_-&gt;glDetachShader(programID, vertexShader);\n        gl_-&gt;glDetachShader(programID, fragmentShader);\n\n        return programID;\n    }\n\n    void SetUniform(const std::string&amp; name, unsigned int ID)\n    {\n        int location = gl_-&gt;glGetUniformLocation(programID_, name.c_str());\n        if (location &lt; 0)\n            OutputDebugString(\"Unable to find uniform location :(\");\n        else\n            gl_-&gt;glUniform1i(location, ID);\n    }\n\n    std::shared_ptr&lt;Texture&gt; LoadTexture(const std::string&amp; filename)\n    {\n        CImage image;\n        image.Load(filename.c_str());\n        std::shared_ptr&lt;Texture&gt; texture(new Texture(image.GetWidth(), image.GetHeight()));\n        for (int y = image.GetHeight() - 1; y &gt;= 0; --y)\n        {\n            for (int x = 0; x &lt; image.GetWidth(); ++x)\n            {\n                unsigned char* target = texture-&gt;GetTexel(x, y);\n                unsigned char* source = reinterpret_cast&lt;unsigned char*&gt;(image.GetPixelAddress(x, y));\n                for ( unsigned int c = 0; c &lt; 3; ++c )\n                    *(target+c) = *(source+c);\n            }\n        }\n\n        return texture;\n    }\n\n}\n\nextern \"C\" __declspec(dllexport) int OpenGLInit(void* hdc)\n{\n    // We need to create a context or get an existing one that fits the supplied context.\n    // first check we have a valid device context\n    if (!hdc)\n        return 1;\n\n    HDC hDC = static_cast&lt;HDC&gt;(hdc);\n    if (!hDC)\n        return 2;\n\n    // we then need to get a valid DC...\n    PIXELFORMATDESCRIPTOR pfd;\n    memset(&amp;pfd, 0, sizeof(PIXELFORMATDESCRIPTOR));\n    pfd.nSize = sizeof(PIXELFORMATDESCRIPTOR);\n    pfd.nVersion = 1;\n    pfd.dwFlags = PFD_DOUBLEBUFFER | PFD_SUPPORT_OPENGL | PFD_DRAW_TO_WINDOW;\n    pfd.iPixelType = PFD_TYPE_RGBA;\n    pfd.cColorBits = 32;\n    pfd.cDepthBits = 32;\n    pfd.cStencilBits = 8;\n    pfd.iLayerType = PFD_MAIN_PLANE;\n\n    int nPixelFormat = ChoosePixelFormat(hDC, &amp;pfd);\n\n    if (nPixelFormat == 0)\n        return 3;\n\n    if (!SetPixelFormat(hDC, nPixelFormat, &amp;pfd))\n        return 4;\n\n    HGLRC tempContext = wglCreateContext(hDC);\n    wglMakeCurrent(hDC, tempContext);\n\n    int attribs[] =\n    {\n        WGL_CONTEXT_MAJOR_VERSION_ARB, 4,\n        WGL_CONTEXT_MINOR_VERSION_ARB, 1,\n        WGL_CONTEXT_FLAGS_ARB, 0,\n        0\n    };\n\n    PFNWGLCREATECONTEXTATTRIBSARBPROC wglCreateContextAttribsARB = (PFNWGLCREATECONTEXTATTRIBSARBPROC)wglGetProcAddress(\"wglCreateContextAttribsARB\");\n    if (wglCreateContextAttribsARB)\n    {\n        hglrc_ = wglCreateContextAttribsARB(hDC, 0, attribs);\n        wglMakeCurrent(NULL, NULL);\n        wglDeleteContext(tempContext);\n        if (!wglMakeCurrent(hDC, hglrc_))\n            return 5;\n    }\n\n    // Initialise the functions..\n    gl_ = new GLFunc();\n\n    // Cache the geometry for a quad\n    float v = 1.0f;\n\n    std::vector&lt;Vector3&gt; quadPoints = std::initializer_list&lt;Vector3&gt;({\n        Vector3(-v, -v, 0),\n        Vector3(v, -v, 0),\n        Vector3(v, v, 0),\n        Vector3(-v, v, 0)\n    });\n\n\n    std::vector&lt;Vector2&gt; quadUVs = std::initializer_list&lt;Vector2&gt;({\n        Vector2(0, 0),\n        Vector2(1.0f, 0),\n        Vector2(1.0f, 1.0f),\n        Vector2(0, 1.0f)\n    });\n\n    std::vector&lt;unsigned int&gt; quadIndexes = std::initializer_list&lt;unsigned int&gt;({\n        0, 1, 2, 2, 3, 0\n    });\n\n    gl_-&gt;glGenVertexArrays(1, &amp;vao_);\n    gl_-&gt;glBindVertexArray(vao_);\n\n    // Cache the points...\n    gl_-&gt;glGenBuffers(1, &amp;points_);\n    gl_-&gt;glBindBuffer(GL_ARRAY_BUFFER, points_);\n    gl_-&gt;glBufferData(GL_ARRAY_BUFFER, sizeof(float) * 3 * quadPoints.size(), &amp;quadPoints[0].x_, GL_STATIC_DRAW);\n    gl_-&gt;glEnableVertexAttribArray(0);\n    gl_-&gt;glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, 0);\n\n    // Cache the UVs...\n    gl_-&gt;glGenBuffers(1, &amp;uvs_);\n    gl_-&gt;glBindBuffer(GL_ARRAY_BUFFER, uvs_);\n    gl_-&gt;glBufferData(GL_ARRAY_BUFFER, sizeof(float) * quadUVs.size() * 2, &amp;quadUVs[0].x_, GL_STATIC_DRAW);\n    gl_-&gt;glEnableVertexAttribArray(1);\n    gl_-&gt;glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 0, 0);\n\n    // Cache the indexes...\n    gl_-&gt;glGenBuffers(1, &amp;indexes_);\n    gl_-&gt;glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexes_);\n    gl_-&gt;glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(unsigned int) * quadIndexes.size(), &amp;quadIndexes[0], GL_STATIC_DRAW);\n\n    gl_-&gt;glBindBuffer(GL_ARRAY_BUFFER, NULL);\n    gl_-&gt;glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, NULL);\n    gl_-&gt;glBindVertexArray(NULL);\n\n    // Load the texture...\n    std::shared_ptr&lt;Texture&gt; calibrationImage = LoadTexture(\"uvgrid.jpg\");\n\n    glGenTextures(1, &amp;calibrationTexture_);\n    glBindTexture(GL_TEXTURE_2D, calibrationTexture_);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, calibrationImage-&gt;width_, calibrationImage-&gt;height_, 0, GL_RGB, GL_UNSIGNED_BYTE, &amp;calibrationImage-&gt;bits_[0]);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glBindTexture(GL_TEXTURE_2D, NULL);\n\n    // Compile the shaders\n    const char* fragmentSource = R\"(\n    #version 410 core\n\n    uniform sampler2D quadTexture;\n    in vec2 UV;\n    out vec3 COLOUR;\n\n    void main()\n    {\n        //COLOUR = vec3(UV.st, 0);\n        COLOUR = texture(quadTexture, UV).bgr;\n    }\n    )\";\n\n    const char* vertexSource = R\"(\n    #version 410 core\n\n    in vec3 inP;\n    in vec2 inUV;\n    out vec2 UV;\n\n    void main()\n    {\n        gl_Position = vec4(inP, 1.0);\n        UV = inUV;\n    }\n    )\";\n\n    vertexShader_ = CompileVertexShader(vertexSource);\n    fragmentShader_ = CompileFragmentShader(fragmentSource);\n    programID_ = LinkShaderProgram(vertexShader_, fragmentShader_);\n\n    return 0;\n}\n\nextern \"C\" __declspec(dllexport) void OpenGLKill()\n{\n    wglDeleteContext(hglrc_);\n}\n\nextern \"C\" __declspec(dllexport) void OpenGLDraw(void* hdc, float rotation)\n{\n    HDC validHDC = static_cast&lt;HDC&gt;(hdc);\n\n    glClearColor(0.2f, 0.2f, 0.2f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    gl_-&gt;glUseProgram(programID_);\n    gl_-&gt;glBindVertexArray(vao_);\n    gl_-&gt;glBindBuffer(GL_ARRAY_BUFFER, uvs_);\n    gl_-&gt;glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexes_);\n\n    // Assign the texture...\n    gl_-&gt;glActiveTexture(GL_TEXTURE1);\n    glBindTexture(GL_TEXTURE_2D, calibrationTexture_);\n    SetUniform(\"quadTexture\", calibrationTexture_);\n\n    glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n\n    gl_-&gt;glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, NULL);\n    gl_-&gt;glBindVertexArray(NULL);\n    gl_-&gt;glUseProgram(NULL);\n\n    SwapBuffers(validHDC);\n}\n\nextern \"C\" __declspec(dllexport) void OpenGLResize(int width, int height)\n{\n    glViewport(0, 0, width, height);\n\n    //glMatrixMode(GL_PROJECTION);\n    //glLoadIdentity();\n    //glOrtho(width / static_cast&lt;float&gt;(height), -width / static_cast&lt;float&gt;(height), -1.0f, 1.0f, 0.1f, 100.0f);\n}\n</code></pre>\n\n<p>Full code including wpf client: <a href=\"https://github.com/spiroyster/wpfogl\" rel=\"nofollow noreferrer\">https://github.com/spiroyster/wpfogl</a>\n(branch \"GL4\").</p>\n\n<p>As previously stated I have to explicitly call <code>gl_-&gt;glActiveTexture(GL_TEXTURE1)</code> before binding the texture during the draw routine despite the fact that I have never previously set the active texture unit prior to this (and only one texture loaded in context). If I remove the line, i.e active texture unit is left to be <code>GL_TEXTURE0</code> it does not display the texture.</p>\n\n<p>This then follows for all subsequent textures I load... i.e have to set the active texture unit to say <code>GL_TEXTURE2</code> if it is the second texture I loaded during this instance/context.... this also happens even if I was to only use said texture.. i.e even though I'm only using the second texture for a draw (and not the first loaded texture) I still have to explicitly set active texture unit to be <code>GL_TEXTURE2</code>.</p>\n\n<p>Thanks in advanced for any contributions.</p>\n"}, {"tags": ["c++", "qt", "bar-chart"], "comments": [{"owner": {"reputation": 2821, "user_id": 1092803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3sAr.jpg?s=128&g=1", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1092803/gianluca"}, "edited": false, "score": 0, "creation_date": 1522318997, "post_id": 49542553, "comment_id": 86114349, "body": "Are you adding  <code>QT += charts</code> in your <code>.pro</code> file ?"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 2821, "user_id": 1092803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3sAr.jpg?s=128&g=1", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1092803/gianluca"}, "edited": false, "score": 0, "creation_date": 1522340964, "post_id": 49542553, "comment_id": 86129900, "body": "@Gianluca Ok so it turns out that fixed my linking problems. Didn&#39;t realize the pro file would need to be edited as well."}], "owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1522426585, "answer_count": 0, "score": 0, "last_activity_date": 1522318822, "creation_date": 1522264854, "last_edit_date": 1592644375, "question_id": 49542553, "link": "https://stackoverflow.com/questions/49542553/how-to-fix-any-undefined-reference-to-imp-z-errors-in-qt", "closed_reason": "Duplicate", "title": "How to fix any undefined reference to &#39;_imp__Z*&#39; errors in QT?", "body": "<p>I'm making a program that calculates a bunch of values based on user inputs and it's supposed to ouput a bar chart on those inputs. Initially my values were stored in QVectors, and the QBarSet class <code>append()</code> function only worked with QLists. After changing all the QVectors to QLists and fixing the <code>append()</code> error, i was met with 58 errors all being a variant of:</p>\n<pre><code>error: undefined reference to `_imp___ZN8QtCharts*'\n</code></pre>\n<p>the asterik indicating a number of different errors.</p>\n<h1><strong>sixthpage.cpp</strong></h1>\n<pre><code>#include &quot;sixthpage.h&quot;\n#include &quot;ui_sixthpage.h&quot;\n#include &quot;fifthpage.h&quot;\n#include &quot;thirdpage.h&quot;\n#include &quot;fourthpage.h&quot;\n#include &lt;QtWidgets/QApplication&gt;\n#include &lt;QtWidgets/QMainWindow&gt;\n#include &lt;QtCharts/QChartView&gt;\n#include &lt;QtCharts/QBarSeries&gt;\n#include &lt;QtCharts/QBarSet&gt;\n#include &lt;QtCharts/QLegend&gt;\n#include &lt;QtCharts/QBarCategoryAxis&gt;\n#include &lt;QList&gt;\n\nusing namespace QtCharts;\n\nsixthpage::sixthpage(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::sixthpage)\n{\n    ui-&gt;setupUi(this);\n    showMaximized();\n    FifthPage *fifthpage = new FifthPage();\n    ThirdPage *thirdpage = new ThirdPage();\n    FourthPage *fourthpage = new FourthPage();\n\n    QObject::connect(thirdpage,SIGNAL(economicData(QList&lt;double&gt;,QList&lt;double&gt;)),this, SLOT(showEconomicGraph(QList&lt;double&gt; normalizedKPI,QList&lt;double&gt; maxNormalizedKPI)));\n    QObject::connect(fourthpage,SIGNAL(enviornmentlaData(QList&lt;double&gt;,QList&lt;double&gt;)),this, SLOT(showEnviornmentalGraph(QList&lt;double&gt; normalizedKPI,QList&lt;double&gt; maxNormalizedKPI)));\n    QObject::connect(fifthpage,SIGNAL(socialData(QList&lt;double&gt;,QList&lt;double&gt;)),this, SLOT(showSocialGraph(QList&lt;double&gt; normalizedKPI,QList&lt;double&gt; maxNormalizedKPI)));\n}\n\nsixthpage::~sixthpage()\n{\n    delete ui;\n}\n\nvoid sixthpage::on_showGraph_clicked(QList&lt;double&gt; normalizedKPI, QList&lt;double&gt; maxNormalizedKPI)\n{\n    if(ui-&gt;radioButton-&gt;isCheckable())\n    {\n        showEconomicGraph(normalizedKPI, maxNormalizedKPI);\n    }\n\n    if(ui-&gt;radioButton_2-&gt;isCheckable())\n    {\n        showEnviornmentalGraph(normalizedKPI, maxNormalizedKPI);\n    }\n\n    if(ui-&gt;radioButton_3-&gt;isCheckable())\n    {\n        showSocialGraph(normalizedKPI, maxNormalizedKPI);\n    }\n\n\n}\n\nvoid sixthpage::showEconomicGraph(QList&lt;double&gt; normalizedKPI, QList&lt;double&gt; maxNormalizedKPI){\n\n    //int size = normalizedKPI.length();\n    QBarSet *set0 = new QBarSet(&quot;Normalized KPI Achievement&quot;);\n    QBarSet *set1 = new QBarSet(&quot;Max. Normalized KPI Achievement&quot;);\n\n    set0-&gt;append(normalizedKPI);\n    set1-&gt;append(maxNormalizedKPI);\n\n    QBarSeries *series = new QBarSeries();\n    series-&gt;append(set0);\n    series-&gt;append(set1);\n\n\n    QChart *chart = new QChart();\n    chart-&gt;addSeries(series);\n    chart-&gt;setTitle(&quot;Economic Sustainability&quot;);\n    chart-&gt;setAnimationOptions(QChart::SeriesAnimations);\n\n    QStringList categories;\n    categories &lt;&lt; &quot;X1&quot; &lt;&lt; &quot;X2&quot; &lt;&lt; &quot;X3&quot; &lt;&lt; &quot;X4&quot; &lt;&lt; &quot;X5&quot; &lt;&lt; &quot;X6&quot; &lt;&lt; &quot;X7&quot; &lt;&lt; &quot;X8&quot; &lt;&lt; &quot;X9&quot; &lt;&lt; &quot;X10&quot; &lt;&lt; &quot;X11&quot; &lt;&lt; &quot;X12&quot; &lt;&lt; &quot;X13&quot; &lt;&lt; &quot;X14&quot;;\n    QBarCategoryAxis *axis = new QBarCategoryAxis();\n    axis-&gt;append(categories);\n    chart-&gt;createDefaultAxes();\n    chart-&gt;setAxisX(axis, series);\n\n    chart-&gt;legend()-&gt;setVisible(true);\n    chart-&gt;legend()-&gt;setAlignment(Qt::AlignBottom);\n\n    QChartView *chartView = new QChartView(chart);\n    chartView-&gt;setRenderHint(QPainter::Antialiasing);\n\n}\n\n\nvoid sixthpage::showEnviornmentalGraph(QList&lt;double&gt; normalizedKPI, QList&lt;double&gt; maxNormalizedKPI){\n   // int size = normalizedKPI.length();\n    QBarSet *set0 = new QBarSet(&quot;Normalized KPI Achievement&quot;);\n    QBarSet *set1 = new QBarSet(&quot;Max. Normalized KPI Achievement&quot;);\n\n    set0-&gt;append(normalizedKPI);\n    set1-&gt;append(maxNormalizedKPI);\n\n    QBarSeries *series = new QBarSeries();\n    series-&gt;append(set0);\n    series-&gt;append(set1);\n\n\n    QChart *chart = new QChart();\n    chart-&gt;addSeries(series);\n    chart-&gt;setTitle(&quot;Enviornmental Sustainability&quot;);\n    chart-&gt;setAnimationOptions(QChart::SeriesAnimations);\n\n    QStringList categories;\n    categories &lt;&lt; &quot;X15&quot; &lt;&lt; &quot;X16&quot; &lt;&lt; &quot;X17&quot; &lt;&lt; &quot;X18&quot; &lt;&lt; &quot;X19&quot; &lt;&lt; &quot;X20&quot; &lt;&lt; &quot;X21&quot; &lt;&lt; &quot;X22&quot; &lt;&lt; &quot;X23&quot; &lt;&lt; &quot;X24&quot; &lt;&lt; &quot;X25&quot;;\n    QBarCategoryAxis *axis = new QBarCategoryAxis();\n    axis-&gt;append(categories);\n    chart-&gt;createDefaultAxes();\n    chart-&gt;setAxisX(axis, series);\n\n    chart-&gt;legend()-&gt;setVisible(true);\n    chart-&gt;legend()-&gt;setAlignment(Qt::AlignBottom);\n\n    QChartView *chartView = new QChartView(chart);\n    chartView-&gt;setRenderHint(QPainter::Antialiasing);\n}\n\n\nvoid sixthpage::showSocialGraph(QList&lt;double&gt; normalizedKPI, QList&lt;double&gt; maxNormalizedKPI){\n\n  //  int size = normalizedKPI.length();\n    QBarSet *set0 = new QBarSet(&quot;Normalized KPI Achievement&quot;);\n    QBarSet *set1 = new QBarSet(&quot;Max. Normalized KPI Achievement&quot;);\n\n    set0-&gt;append(normalizedKPI);\n    set1-&gt;append(maxNormalizedKPI);\n\n    QBarSeries *series = new QBarSeries();\n    series-&gt;append(set0);\n    series-&gt;append(set1);\n\n\n    QChart *chart = new QChart();\n    chart-&gt;addSeries(series);\n    chart-&gt;setTitle(&quot;Social Sustainability&quot;);\n    chart-&gt;setAnimationOptions(QChart::SeriesAnimations);\n\n    QStringList categories;\n    categories &lt;&lt; &quot;X26&quot; &lt;&lt; &quot;X27&quot; &lt;&lt; &quot;X28&quot; &lt;&lt; &quot;X29&quot; &lt;&lt; &quot;X30&quot; &lt;&lt; &quot;X31&quot; &lt;&lt; &quot;X32&quot; &lt;&lt; &quot;X33&quot; &lt;&lt; &quot;X34&quot; &lt;&lt; &quot;X35&quot; &lt;&lt; &quot;X36&quot; &lt;&lt; &quot;X37&quot;;\n    QBarCategoryAxis *axis = new QBarCategoryAxis();\n    axis-&gt;append(categories);\n    chart-&gt;createDefaultAxes();\n    chart-&gt;setAxisX(axis, series);\n\n    chart-&gt;legend()-&gt;setVisible(true);\n    chart-&gt;legend()-&gt;setAlignment(Qt::AlignBottom);\n\n    QChartView *chartView = new QChartView(chart);\n    chartView-&gt;setRenderHint(QPainter::Antialiasing);\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7ngDS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ngDS.png\" alt=\"Error Log\" /></a></p>\n<p>If someone could please tell me how to get rid of the undefined reference errors, I'd be very grateful. Also feel free to point out any other visible errors. I'm pretty new to QT so i'm having quite the hard time getting things done.</p>\n<p><strong>EDIT</strong></p>\n<p>This <a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">link</a> was labeled as a possible duplicate but it explains the general error of linking problems, which i already understand. What I want is for someone to explain how my errors specific to QtCharts can be resolved. I've added all the necessary files the documentation shows as well.</p>\n"}, {"tags": ["c++", "restbed"], "comments": [{"owner": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "edited": false, "score": 0, "creation_date": 1522267092, "post_id": 49542510, "comment_id": 86093774, "body": "see: <a href=\"https://stackoverflow.com/questions/3698441/how-to-use-an-older-version-of-gcc-in-linux\" title=\"how to use an older version of gcc in linux\">stackoverflow.com/questions/3698441/&hellip;</a>"}, {"owner": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "reply_to_user": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "edited": false, "score": 0, "creation_date": 1522333560, "post_id": 49542510, "comment_id": 86124973, "body": "Well, that didnt help, since compilation is not supporting such flags. I have edited and added the code snippet which checks for the version."}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "edited": false, "score": 0, "creation_date": 1523040206, "post_id": 49566411, "comment_id": 86411552, "body": "ok, thank you for the confirmation, we are using the devtool to fix this. please notify us, in case you decide to give a fix."}, {"owner": {"reputation": 6962, "user_id": 394663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Kt5ig.png?s=128&g=1", "display_name": "Ben Crowhurst", "link": "https://stackoverflow.com/users/394663/ben-crowhurst"}, "reply_to_user": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "edited": false, "score": 0, "creation_date": 1523150240, "post_id": 49566411, "comment_id": 86440380, "body": "We&#39;ve removed the specific compiler checking and replaced it with CMake CXX_Standard detection.  It might now compile but you may experience undefined behavior if your compiler has only partial C++11 support."}, {"owner": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "edited": false, "score": 0, "creation_date": 1523425954, "post_id": 49566411, "comment_id": 86550112, "body": "Wow, thank you for giving this feature. We will check and update you, really appreciate the support."}, {"owner": {"reputation": 6962, "user_id": 394663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Kt5ig.png?s=128&g=1", "display_name": "Ben Crowhurst", "link": "https://stackoverflow.com/users/394663/ben-crowhurst"}, "reply_to_user": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "edited": false, "score": 0, "creation_date": 1523446490, "post_id": 49566411, "comment_id": 86562847, "body": "Not at all.  What is Software if we can&#39;t all use it?   That being said, no guarantees it will function correctly without C++11 compliance."}], "tags": [], "owner": {"reputation": 6962, "user_id": 394663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Kt5ig.png?s=128&g=1", "display_name": "Ben Crowhurst", "link": "https://stackoverflow.com/users/394663/ben-crowhurst"}, "is_accepted": true, "score": 0, "last_activity_date": 1522365663, "creation_date": 1522365663, "answer_id": 49566411, "question_id": 49542510, "link": "https://stackoverflow.com/questions/49542510/restbed-not-able-to-compile-in-redhat-7/49566411#49566411", "title": "RestBed - Not able to compile in Redhat 7", "body": "<p>Restbed requires a compiler that supports C++11, with all the trimmings.</p>\n"}], "owner": {"reputation": 809, "user_id": 18657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55c2dc25e10f8df88435154d45c82a16?s=128&d=identicon&r=PG", "display_name": "Liju Mathew", "link": "https://stackoverflow.com/users/18657/liju-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 49566411, "answer_count": 1, "score": 0, "last_activity_date": 1522365663, "creation_date": 1522264640, "last_edit_date": 1522333677, "question_id": 49542510, "link": "https://stackoverflow.com/questions/49542510/restbed-not-able-to-compile-in-redhat-7", "title": "RestBed - Not able to compile in Redhat 7", "body": "<p>We are building our C++ application in RHEL7 and we need to use RestBed as a service and as a client.</p>\n\n<p>However, when tried to compile the source code, we are getting error on GCC that the version is &lt; 4.9.</p>\n\n<p>RedHat dont support GCC version > 4.8.5.</p>\n\n<p>So, what is the solution? Do we have a branch which works with GCC 4.8.5?</p>\n\n<p>EDIT:\nThe \"configuration.cmake\" has the below lines of code.</p>\n\n<pre><code>if ( ${CMAKE_CXX_COMPILER_ID} STREQUAL GNU )\n    if ( ${CMAKE_CXX_COMPILER_VERSION} VERSION_LESS 4.9 )\n        message( FATAL_ERROR \"\\nGCC version &lt; 4.9\\nYour systems default compiler is GCC. This project makes use of c++11 features present only in versions of gcc &gt;= 4.9. You can use a different compiler by re-running cmake with the command switch \\\"-D CMAKE_CXX_COMPILER=&lt;compiler&gt;\\\" \" )\n    else ( )\n        set( CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wno-non-virtual-dtor\" )\n    endif ( )\n</code></pre>\n\n<p>So, the code wont support the version by default I guess.</p>\n"}, {"tags": ["c++", "qt", "qt5", "qcustomplot"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1522271978, "creation_date": 1522271978, "answer_id": 49544365, "question_id": 49542472, "link": "https://stackoverflow.com/questions/49542472/how-to-get-global-coord-in-pixel-from-local-graphic-coord-qt-qcustomplot/49544365#49544365", "title": "How to get global coord in pixel from local graphic coord (Qt, QCustomPlot)", "body": "<p>The position of a widget is relative to the parent widget, if it does not have a parent it is relative to the screen. So it is important to establish a suitable parent, in this case a good option is to use as a parent to <code>ui-&gt;customPlot</code>.</p>\n\n<p>On the other hand, the <code>coordToPixel()</code> method requires that the widget be displayed, so a good option is to use <code>showEvent()</code>, also when changing the size of the window it would also change those coordinates so it will also use the <code>resizeEvent()</code>.</p>\n\n<p><strong>*.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n\n    button = new QPushButton(\"test\", ui-&gt;customPlot);\n    ...\n    ui-&gt;customPlot-&gt;replot();\n}\n\nvoid MainWindow::moveButtonFromCoord()\n{\n    double real_x = ui-&gt;customPlot-&gt;xAxis-&gt;coordToPixel(0);\n    double real_y = ui-&gt;customPlot-&gt;yAxis-&gt;coordToPixel(0);\n    QRect geo = button-&gt;geometry();\n    geo.moveCenter(QPoint(real_x, real_y));\n    button-&gt;setGeometry(geo);\n}\n\nvoid MainWindow::resizeEvent(QResizeEvent *event)\n{\n    moveButtonFromCoord();\n    QMainWindow::resizeEvent(event);\n}\n\nvoid MainWindow::showEvent(QShowEvent *event)\n{\n    moveButtonFromCoord();\n    QMainWindow::showEvent(event);\n}\n...\n</code></pre>\n\n<p>The complete example can be found in the following <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/49542472\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9374702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ppMdghy_jJI/AAAAAAAAAAI/AAAAAAAAAG4/W8pGXwgPgWI/photo.jpg?sz=128", "display_name": "K VARK", "link": "https://stackoverflow.com/users/9374702/k-vark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 49544365, "answer_count": 1, "score": 0, "last_activity_date": 1522345768, "creation_date": 1522264539, "last_edit_date": 1522345768, "question_id": 49542472, "link": "https://stackoverflow.com/questions/49542472/how-to-get-global-coord-in-pixel-from-local-graphic-coord-qt-qcustomplot", "title": "How to get global coord in pixel from local graphic coord (Qt, QCustomPlot)", "body": "<p>I want to convert local coords to global in pixels relative of window.</p>\n\n<p>I saw examples how to make from global to local. It`s use </p>\n\n<pre><code>ui-&gt;customPlot-&gt;xAxis-&gt;pixelToCord(0)\n</code></pre>\n\n<p>But </p>\n\n<pre><code>ui-&gt;customPlot-&gt;xAxis-&gt;coordToPixel(0)\n</code></pre>\n\n<p>Don't work.</p>\n\n<p>Here I use button to debug result. Red it's were button have to be. Blue it's were button it is.</p>\n\n<p>image link</p>\n\n<p><img src=\"https://i.stack.imgur.com/EJr4I.jpg\" alt=\"\"></p>\n\n<pre><code>void MainWindow::makePlot(){\n    // generate some data:\n    QVector&lt;double&gt; x(101), y(101); // initialize with entries 0..100\n    for (int i=0; i&lt;101; ++i)\n    {\n      x[i] = i/50.0 - 1; // x goes from -1 to 1\n      y[i] = x[i]*x[i]; // let's plot a quadratic function\n    }\n    // create graph and assign data to it:\n    ui-&gt;customPlot-&gt;addGraph();\n    ui-&gt;customPlot-&gt;graph(0)-&gt;setData(x, y);\n    // give the axes some labels:\n    ui-&gt;customPlot-&gt;xAxis-&gt;setLabel(\"x\");\n    ui-&gt;customPlot-&gt;yAxis-&gt;setLabel(\"y\");\n    // set axes ranges, so we see all data:\n    ui-&gt;customPlot-&gt;xAxis-&gt;setRange(-1, 1);\n    ui-&gt;customPlot-&gt;yAxis-&gt;setRange(0, 1);\n    ui-&gt;customPlot-&gt;replot();\n\n\n    double real_x = ui-&gt;customPlot-&gt;xAxis-&gt;coordToPixel(0) + ui-&gt;customPlot-&gt;x();\n    double real_y = ui-&gt;customPlot-&gt;yAxis-&gt;coordToPixel(0) + ui-&gt;customPlot-&gt;y();\n\n    QPoint real_cord(real_x, real_y);\n\n    button-&gt;setGeometry(QRect(real_cord, QSize(20,20)));\n\n}\n</code></pre>\n"}, {"tags": ["c++", "directx", "directxtk"], "comments": [{"owner": {"reputation": 1129, "user_id": 9404438, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zjofb.jpg?s=128&g=1", "display_name": "NIKHIL NEDIYODATH", "link": "https://stackoverflow.com/users/9404438/nikhil-nediyodath"}, "edited": false, "score": 0, "creation_date": 1522264573, "post_id": 49542451, "comment_id": 86092405, "body": "please share your code directly"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522264588, "post_id": 49542451, "comment_id": 86092414, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "is_accepted": true, "score": 2, "last_activity_date": 1522265278, "creation_date": 1522265278, "answer_id": 49542669, "question_id": 49542451, "link": "https://stackoverflow.com/questions/49542451/setting-up-directxtk-mouse-and-keyboard-gives-unresolved-external-symbol/49542669#49542669", "title": "Setting up DirectXTK mouse and keyboard gives Unresolved external symbol", "body": "<p>You still need to link to the DirectX Tool Kit static library. The tutorials assume you are making use of the NuGet package or have added a Reference to the DirectXTK project per the <a href=\"https://github.com/Microsoft/DirectXTK/wiki/Adding-the-DirectX-Tool-Kit\" rel=\"nofollow noreferrer\">Adding the DirectX Tool Kit</a> tutorial step which would add the static library to your project build.</p>\n"}], "owner": {"reputation": 49, "user_id": 7436657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/56d1f1902bd0e75c83c0e1b02f2813a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hamaro", "link": "https://stackoverflow.com/users/7436657/hamaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 49542669, "answer_count": 1, "score": -2, "last_activity_date": 1522265278, "creation_date": 1522264452, "last_edit_date": 1522264851, "question_id": 49542451, "link": "https://stackoverflow.com/questions/49542451/setting-up-directxtk-mouse-and-keyboard-gives-unresolved-external-symbol", "title": "Setting up DirectXTK mouse and keyboard gives Unresolved external symbol", "body": "<p>I follow the tutorial here: <a href=\"https://github.com/Microsoft/DirectXTK/wiki/Mouse-and-keyboard-input\" rel=\"nofollow noreferrer\">Mouse and keyboard input\n</a> I don't get any error if i delete everything that has to do with DirectX. If i use pointer insted then i get a error that says my inputhandler constructor was deleted. Any ideas?\n<a href=\"https://i.stack.imgur.com/oL3A0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oL3A0.jpg\" alt=\"Printscreen\"></a>\nh</p>\n\n<pre><code>   #pragma once\n\n#include &lt;Windows.h&gt;\n#include \"DirectXTK-master\\Inc\\Keyboard.h\"\n#include \"DirectXTK-master\\Inc\\Mouse.h\"\n\nclass InputHandler\n{\npublic:\n    InputHandler();\n\n    InputHandler(HWND wndHandle);\n    ~InputHandler();\n\n    void updateInput();\n\nprivate:\n    std::unique_ptr&lt;DirectX::Keyboard&gt; keyboard;\n    std::unique_ptr&lt;DirectX::Mouse&gt; mouse;\n\n};\n</code></pre>\n\n<p>cpp</p>\n\n<pre><code>#include \"InputHandler.h\"\n\n\n\nInputHandler::InputHandler()\n{\n}\n\n\nInputHandler::InputHandler(HWND wndHandle)\n{\n    keyboard = std::make_unique&lt;DirectX::Keyboard&gt;();\n    mouse = std::make_unique&lt;DirectX::Mouse&gt;();\n    mouse-&gt;SetWindow(wndHandle);\n}\n\nInputHandler::~InputHandler()\n{\n}\n\nvoid InputHandler::updateInput()\n{\n    auto kb = keyboard-&gt;GetState();\n    if (kb.Escape)\n        PostQuitMessage(0);\n\n    auto mouseState = mouse-&gt;GetState();\n}\n</code></pre>\n"}, {"tags": ["c++", "class", "memory", "reference", "field"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1522264471, "post_id": 49542443, "comment_id": 86092352, "body": "Look closely at <code>Referencer(int in) : num(in)</code>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522264533, "post_id": 49542443, "comment_id": 86092386, "body": "<code>in</code> is no longer in scope after you leave the constructor. Maybe you meant <code>int &amp; in</code> instead."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1522264552, "post_id": 49542443, "comment_id": 86092392, "body": "&quot;<i>My understanding is that the variable <code>longlived</code> has the same lifetime as the instance of <code>Referencer</code></i>&quot; Sure does. But.. Your <code>Referencer::num</code> doesn&#39;t reference <code>longlived</code>."}, {"owner": {"reputation": 119, "user_id": 8585383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3e6b5ac92fabfd058e5a96ceccc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "ShnitzelKiller", "link": "https://stackoverflow.com/users/8585383/shnitzelkiller"}, "edited": false, "score": 0, "creation_date": 1522264559, "post_id": 49542443, "comment_id": 86092396, "body": "welp, my mistake."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522264692, "post_id": 49542443, "comment_id": 86092470, "body": "For better understanding, try to do the same with a pointer..."}], "answers": [{"tags": [], "owner": {"reputation": 4562, "user_id": 9254539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b45538511384660bfaef5092e30b7ea?s=128&d=identicon&r=PG&f=1", "display_name": "BessieTheCookie", "link": "https://stackoverflow.com/users/9254539/bessiethecookie"}, "is_accepted": false, "score": 0, "last_activity_date": 1522282736, "creation_date": 1522282736, "answer_id": 49546162, "question_id": 49542443, "link": "https://stackoverflow.com/questions/49542443/reference-to-value-in-scope-produces-garbage/49546162#49546162", "title": "Reference to value in scope produces garbage", "body": "<p>The constructor of <code>Referencer</code> takes the argument by value. So <code>in</code> holds a copy of the value in <code>longlived</code>. You then initialized <code>num</code> to a reference to <code>in</code>, which get's destroyed as soon as the constructor returns.</p>\n\n<p>If you want <code>num</code> to hold a reference to the object used as the argument in the constructor, pass <code>in</code> by reference like <code>explicit Referencer(int &amp;in) : num(in) {}</code>.</p>\n"}], "owner": {"reputation": 119, "user_id": 8585383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3e6b5ac92fabfd058e5a96ceccc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "ShnitzelKiller", "link": "https://stackoverflow.com/users/8585383/shnitzelkiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1522282736, "creation_date": 1522264424, "question_id": 49542443, "link": "https://stackoverflow.com/questions/49542443/reference-to-value-in-scope-produces-garbage", "title": "Reference to value in scope produces garbage", "body": "<p>I want to write a class with a reference as a field, but am finding that even this simple code which initializes the reference and prints its value fails:</p>\n\n<pre><code>struct Referencer {\n    explicit Referencer(int in) : num(in) {}\n    void print() {\n        std::cout &lt;&lt; num &lt;&lt; std::endl;\n    }\n    int &amp;num;\n};\nint main() {\n    int longlived = 500;\n    Referencer ref(longlived);\n    ref.print();\n}\n</code></pre>\n\n<p>The result is garbage (no errors are thrown, nor does the program segfault). My understanding is that the variable <code>longlived</code> has the same lifetime as the instance of <code>Referencer</code>, as they are both declared in the stack and have the same scope. Therefore, the field <code>num</code> should point to valid stack memory when <code>ref.print()</code> is called. Why is this not the case?</p>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1522264674, "post_id": 49542376, "comment_id": 86092454, "body": "Find all the calls to RegisterWindowMessage"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 3, "creation_date": 1522265339, "post_id": 49542376, "comment_id": 86092825, "body": "You could try <code>GetClipboardFormatName</code>, since although it&#39;s not documented as such it appears that <code>RegisterWindowMessage</code> and <code>RegisterClipboardFormat</code> are actually the same function."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1522266448, "post_id": 49542376, "comment_id": 86093439, "body": "@JonathanPotter: <code>RegisterWindowMessage()</code> and <code>RegisterClipboardFormat()</code> are NOT the same function. They are not even related to each other, except for the fact that they <i>currently</i> share an atom table, but that is not contractual and should not be relied on"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1522267133, "post_id": 49542376, "comment_id": 86093797, "body": "@RemyLebeau Agreed but if it&#39;s for a temporary in-house debugging issue then it can&#39;t really hurt..."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 3, "creation_date": 1522267846, "post_id": 49542376, "comment_id": 86094231, "body": "@RemyLebeau - <i>are NOT the same function.</i> - currently (xp-win10) it is the exactly <i>same</i> function. both names resolved to the same address"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1522268558, "post_id": 49542376, "comment_id": 86094617, "body": "@RbMm: perhaps, but that is still an implementation detail that can be changed in the future"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1522268818, "post_id": 49542376, "comment_id": 86094777, "body": "@RemyLebeau - yes. but i only clarified that this 2 names resolved to the same function (if say call GetProcAddress for both)"}], "answers": [{"comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1522267946, "post_id": 49543193, "comment_id": 86094300, "body": "<i>currently share a single atom table</i> simply because it the same function currently"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1522267989, "post_id": 49543193, "comment_id": 86094325, "body": "Key phrase in context of this Q&amp;A: <i>&quot;I provide this information for diagnostic purposes&quot;</i>. It&#39;s enough to point out, that the concepts here are based on implementation details. Repeating it doesn&#39;t help any. A developer knows, what an implementation detail is. Everyone else will just ignore it the seventh time around. <i>&quot;This is documented on Raymond Chen&#39;s MSDN blog&quot;</i> should probably also be reworded. Even if literally correct, the terms <i>&quot;documented&quot;</i> and <i>&quot;MSDN&quot;</i> in the same sentence do suggest some sort of official nature."}, {"owner": {"reputation": 375, "user_id": 3153215, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/VKsIN.png?s=128&g=1", "display_name": "Ilia", "link": "https://stackoverflow.com/users/3153215/ilia"}, "edited": false, "score": 0, "creation_date": 1522338610, "post_id": 49543193, "comment_id": 86128429, "body": "@Remy, Thank you very much! It helped me a lot. I need this only for debugging and profiling, it will not remain in the release code."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 8, "last_activity_date": 1522268687, "last_edit_date": 1592644375, "creation_date": 1522267280, "answer_id": 49543193, "question_id": 49542376, "link": "https://stackoverflow.com/questions/49542376/find-original-name-of-a-message-obtained-by-registerwindowmessage-windows-api/49543193#49543193", "title": "Find original name of a message obtained by RegisterWindowMessage Windows API", "body": "<h1>There is no <em>official</em> API to get the name of a registered window message.</h1>\n<p>That being said, <code>RegisterWindowMessage()</code> and <code>RegisterClipboardFormat()</code> happen to <em>currently</em> share a single atom table (along with a few other API functions), so in <em>current</em> version of Windows, you can use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms649040.aspx\" rel=\"nofollow noreferrer\"><code>GetClipboardFormatName()</code></a> to get the name of a registered window message.</p>\n<p>This is described on Raymond Chen's blog on MSDN:</p>\n<p><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20171006-00/?p=97147\" rel=\"nofollow noreferrer\">How can I investigate the possibility of a lot of leaked window classes (RegisterClass)?</a></p>\n<blockquote>\n<p>It so happens that in current versions of Windows, registered class names, <strong>registered clipboard format names, and registered window message names all come from the same atom table</strong>. I wish to reiterate that this is <strong>an implementation detail</strong> which can change at any time, so don't take any dependencies on this. I provide this information for diagnostic purposes, which is what we have here.</p>\n<p>The customer can do this once they encounter the problem:</p>\n<pre><code>Foreach atom in (0xC000 .. 0xFFFF)\n  If (GetClipboardFormatName(atom, buffer, bufferSize))\n    Print buffer\n</code></pre>\n<p>This will print out the names of all the classes, <strong>clipboard formats, and registered window messages</strong>. There is room in the atom table for 16,384 atoms, and in practice there aren't more than a hundred or so, so if you see more than 15,000 entries, that's a really good sign that you're leaking classes.</p>\n</blockquote>\n<p><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20080430-00/?p=22523\" rel=\"nofollow noreferrer\">Some other places atoms (and the magical 0xC000) arise</a></p>\n<blockquote>\n<p>I'll start with registered window messages, created by the RegisterWindowMessage function. <strong>These are not officially atoms</strong>; they are just integers that happen to lie in the range 0xC000 to 0xFFFF, just like atoms. But yeah, <strong>internally, they're atoms</strong>. Of course, you shouldn't rely on it since it's not contractual. Think of it as a fantastic coincidence.</p>\n<p>Registered clipboard formats created by the RegisterClipboardFormat message are also <strong>not officially atoms</strong>; they're just UINTs. The numeric range for registered clipboard formats isn't even specified; that they hang out in the 0xC000 range is just <strong>an implementation detail</strong>. Someday, registered clipboard formats may have values like 0x1234, who knows.</p>\n</blockquote>\n<p>So, as I said, there is currently <strong>NO OFFICIAL API</strong> to get the name of a registered window message, but you can <em>currently</em> get around that by treating a registered window message the same as a registered clipboard format.  But using <code>GetClipboardFormatName()</code> in this manner <em>MAY</em> break in the future if the implementation of <code>RegisterWindowMessage()</code> ever changes.</p>\n"}], "owner": {"reputation": 375, "user_id": 3153215, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/VKsIN.png?s=128&g=1", "display_name": "Ilia", "link": "https://stackoverflow.com/users/3153215/ilia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 2, "accepted_answer_id": 49543193, "answer_count": 1, "score": 5, "last_activity_date": 1522268687, "creation_date": 1522264184, "last_edit_date": 1522267026, "question_id": 49542376, "link": "https://stackoverflow.com/questions/49542376/find-original-name-of-a-message-obtained-by-registerwindowmessage-windows-api", "title": "Find original name of a message obtained by RegisterWindowMessage Windows API", "body": "<p>While debugging the application in an attempt to improve performance, I found that it loses time in processing a message that is greater then 0xC000. This is obviously a message created by the <code>RegisterWindowMessage</code> API. However, the application uses more than two hundreds such messages; is there a way to find the original name of the message by its numerical value?</p>\n\n<p>The <code>GetAtomName</code> and <code>GlobalGetAtomName</code> fail with </p>\n\n<blockquote>\n  <p>ERROR_INVALID_HANDLE </p>\n</blockquote>\n\n<p>error.</p>\n"}, {"tags": ["c++", "json", "rapidjson"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "edited": false, "score": 0, "creation_date": 1522421644, "post_id": 49548248, "comment_id": 86160698, "body": "I tried printing out my C string and it did work, so that&#39;s good. I&#39;m a little confused on the part you said about parsing the C string. If I understand correctly, you store the json file as a C string and then parse it using &quot;document.Parse(json);&quot; Unless you meant &quot;No&quot; as in I wasn&#39;t doing anything incorrect. I tried asking if certain members exist &quot;document.hasMember(&quot;Amateur Ateur&quot;)&quot; but I&#39;m getting this error. Assertion failed: IsObject(), /rapidjson/document.h, line 1162"}, {"owner": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "edited": false, "score": 0, "creation_date": 1522425487, "post_id": 49548248, "comment_id": 86162614, "body": "So actually after testing with the sample json file in the tutorials, I&#39;ve gotten this to work! The only remaining issue is working with the file that I showed earlier. I need to be able to pick a specific object like &quot;Amateur Ateur&quot; and then be able to print it&#39;s name, text, and other things. Thanks so much for your help."}, {"owner": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "reply_to_user": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "edited": false, "score": 0, "creation_date": 1522426494, "post_id": 49548248, "comment_id": 86163060, "body": "Post a link to the entire JSON file. I have a feeling that isn&#39;t a top level object and is probably embed in an array or something. If you liked the answer then please accept it =D"}, {"owner": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "reply_to_user": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "edited": false, "score": 0, "creation_date": 1522428844, "post_id": 49548248, "comment_id": 86164102, "body": "updated my answer. This is an example to iterate over all member of the top level object."}, {"owner": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "edited": false, "score": 0, "creation_date": 1522432233, "post_id": 49548248, "comment_id": 86165725, "body": "Okay that works fine. I know I&#39;m asking for a lot of help but do you think maybe you could show me some sample code of how to name an object, and then get a specific value from it? Like for example, if I wanted to print the text of Amateur Ateur?"}], "tags": [], "owner": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1522428679, "last_edit_date": 1522428679, "creation_date": 1522298938, "answer_id": 49548248, "question_id": 49542209, "link": "https://stackoverflow.com/questions/49542209/i-need-help-using-rapidjson/49548248#49548248", "title": "I need help using RapidJSON", "body": "<p>Your post seems to ask multiple questions. Lets start from the beginning.</p>\n\n<blockquote>\n  <p>I believe I have stored the JSON as a C string correctly I just can't\n  really understand how to use the RapidJSON library to return the\n  values I want from each object.</p>\n</blockquote>\n\n<p>This is a big no no in software engineering. Never believe or assume. It will come back on release day and haunt you. Instead validate your assertion. Here are a few steps starting from the easy to the more involved.</p>\n\n<ol>\n<li><strong>Print out your C-String.</strong></li>\n</ol>\n\n<p>The easiest way to confirm the content of your variable, especially string data, is to simply print to the screen. Nothing easier then seeing your JSON data print to the screen to confirm you have read it in correctly. </p>\n\n<pre><code>std::cout.write(bytes, filesize);\n</code></pre>\n\n<ol start=\"2\">\n<li><strong>Breakpoint / Debugger</strong></li>\n</ol>\n\n<p>If you have some reason for not printing out your variable, then compile your code with debugging enabled and load in <code>GDB</code> if you're using <code>g++</code>, <code>lldb</code> if you're using <code>clang++</code>, or simply place a breakpoint in visual studio if you're using an VS or VSCode. Once at the breakpoint you can inspect the content of your variable. </p>\n\n<p>However, before we move on I wouldn't be helping you if I didn't point out that reading files in CPP is much much easier then the way you're reading. </p>\n\n<pre><code>    // Open File\n    std::ifstream in(\"AllCards.json\", std::ios::binary);\n    if(!in)\n        throw std::runtime_error(\"Failed to open file.\");\n\n    // dont skip on whitespace\n    std::noskipws(in);\n\n    // Read in content\n    std::istreambuf_iterator&lt;char&gt; head(in);\n    std::istreambuf_iterator&lt;char&gt; tail;\n    std::string data(head, tail);\n</code></pre>\n\n<p>At the end of the above code you now have all of the content from your file read into an <code>std::string</code> which wraps a null terminated or C-String. You can access that data by calling <code>.c_str()</code> on your string instances. If you do it this way you no longer have to worry about calling <code>new</code> or <code>delete[]</code> as the <code>std::string</code> class takes care of the buffer for you. Just make sure it hangs around as long as you're using it in RapidJSON.</p>\n\n<blockquote>\n  <p>This is the code for storing the JSON as a C string and then parsing\n  it in case I am doing something incorrect here.</p>\n</blockquote>\n\n<p>No. according the the rapid JSON documentation you create a document object and have it parse the string.</p>\n\n<pre><code>Document d;\nd.Parse(data.c_str());\n</code></pre>\n\n<p>However, that just creates the element for querying the document. You can ask the document if specific items exist (<code>d.hasMember(\"\")</code>), ask for a string typed members content <code>d[\"name\"].GetString()</code> or anything listed over at the documentation. You can read the tutorial <a href=\"http://rapidjson.org/md_doc_tutorial.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>By the way. Welcome to SO. I would suggest that next time you post ask a more targeted question. What exactly are you trying to do with the parsed JSON element? </p>\n\n<blockquote>\n  <p>I just can't really understand how to use the RapidJSON library to\n  return the values I want from each object.</p>\n</blockquote>\n\n<p>I cannot answer this question for two reasons. What are you trying to extract? What have you tried? Have you read the documentation and do not understand a specific item? </p>\n\n<p>Here is a good place to read up on asking better questions. Please don't think I am coming down on you. I bring this up because asking better questions will get you better and more specific answers. poorly asked questions always run the risk of being ignored or, dare I say it, the good old <code>does google not work today</code> response.</p>\n\n<p><a href=\"https://stackoverflow.com/help/how-to-ask\">https://stackoverflow.com/help/how-to-ask</a></p>\n\n<p>** Updates **\nTo your question. You can iterate over all objects.</p>\n\n<pre><code> using namespace rapidjson;\n     Document d;\n     d.Parse(data.c_str());\n     for (auto itr = d.MemberBegin(); itr != d.MemberEnd(); ++itr){\n             std::cout &lt;&lt; itr-&gt;name.GetString() &lt;&lt; '\\n';\n     }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9565892, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091136754383243/picture?type=large", "display_name": "Terren Huck", "link": "https://stackoverflow.com/users/9565892/terren-huck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1777, "favorite_count": 0, "accepted_answer_id": 49548248, "answer_count": 1, "score": 1, "last_activity_date": 1522428679, "creation_date": 1522263529, "question_id": 49542209, "link": "https://stackoverflow.com/questions/49542209/i-need-help-using-rapidjson", "title": "I need help using RapidJSON", "body": "<p>I'm trying to parse a JSON file using RapidJSON that has thousands of objects like this one</p>\n\n<pre><code>\"Amateur Auteur\": {\n\"layout\": \"normal\",\n\"name\": \"Amateur Auteur\",\n\"manaCost\": \"{1}{W}\",\n\"cmc\": 2,\n\"colors\": [\n  \"White\"\n],\n\"type\": \"Creature \u2014 Human\",\n\"types\": [\n  \"Creature\"\n],\n\"subtypes\": [\n  \"Human\"\n],\n\"text\": \"Sacrifice Amateur Auteur: Destroy target enchantment.\",\n\"power\": \"2\",\n\"toughness\": \"2\",\n\"imageName\": \"amateur auteur\",\n\"colorIdentity\": [\n  \"W\"\n ]\n},\n</code></pre>\n\n<p>I believe I have stored the JSON as a C string correctly I just can't really understand how to use the RapidJSON library to return the values I want from each object.</p>\n\n<p>This is the code for storing the JSON as a C string and then parsing it in case I am doing something incorrect here.</p>\n\n<pre><code>std::ifstream input_file_stream;\ninput_file_stream.open(\"AllCards.json\", std::ios::binary | std::ios::ate); //Open file in binary mode and seek to end of stream \n\nif (input_file_stream.is_open())\n{\n    std::streampos file_size = input_file_stream.tellg(); //Get position of stream (We do this to get file size since we are at end)\n    input_file_stream.seekg(0); //Seek back to beginning of stream to start reading\n    char * bytes = new char[file_size]; //Allocate array to store data in\n    if (bytes == nullptr)\n    {\n        std::cout &lt;&lt; \"Failed to allocate the char byte block of size: \" &lt;&lt; file_size &lt;&lt; std::endl;\n    }\n    input_file_stream.read(bytes, file_size); //read the bytes\n    document.Parse(bytes);\n    input_file_stream.close(); //close file since we are done reading bytes\n    delete[] bytes; //Clean up where we allocated bytes to prevent memory leak\n}\nelse\n{\n    std::cout &lt;&lt; \"Unable to open file for reading.\";\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "semaphore", "vxworks"], "comments": [{"owner": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "edited": false, "score": 0, "creation_date": 1522263589, "post_id": 49542184, "comment_id": 86091901, "body": "Read this: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>,  and this: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "edited": false, "score": 0, "creation_date": 1522263661, "post_id": 49542184, "comment_id": 86091940, "body": "A mutex is not a semaphore. It is possible to implement a semaphore using a mutex and a condition variable however."}, {"owner": {"reputation": 2532, "user_id": 2139094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7b7f096622f36595ba50f9d65a39508a?s=128&d=identicon&r=PG", "display_name": "mjs", "link": "https://stackoverflow.com/users/2139094/mjs"}, "reply_to_user": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "edited": false, "score": 0, "creation_date": 1522761229, "post_id": 49542184, "comment_id": 86268963, "body": "@JiveDadson Mutex Semaphores are one of the 3 or 4 semaphore types provided by the VxWorks OS. These are designed to provide mutual exclusion around a shared resource, binary semaphores are better used for synchronization."}], "answers": [{"tags": [], "owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1522264563, "creation_date": 1522264563, "answer_id": 49542479, "question_id": 49542184, "link": "https://stackoverflow.com/questions/49542184/using-a-mutex-semaphore-between-two-tasks/49542479#49542479", "title": "Using a mutex semaphore between two tasks", "body": "<p>If you have to do your tasks in such a synchronous manner, it's easy enough.  </p>\n\n<p>The web task creates a semaphore at startup. The web task gets data, loads it into some request/response object instance, along with its semaphore reference/pointer.  It fires it off to the queue and waits on the semaphore.  The DB task gets the object, reads the request, processes it, loads the response field/s with results, (or error messages:), and signals the semaphore.  The web task then runs on, knowing that the response is available.</p>\n\n<p>That way, several web tasks can use the DB and it's input queue.</p>\n\n<p>Forget the mutex stuff, you don't need any mutex, (well, there may well be one protecting the DB input producer-consumer queue but, presumably, that is an internal matter).</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 9427905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db23d582210b8f04dfbc5b552ff03f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jianhui Wang", "link": "https://stackoverflow.com/users/9427905/jianhui-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1522828440, "creation_date": 1522828440, "answer_id": 49645620, "question_id": 49542184, "link": "https://stackoverflow.com/questions/49542184/using-a-mutex-semaphore-between-two-tasks/49645620#49645620", "title": "Using a mutex semaphore between two tasks", "body": "<p>In WebTask, after sending the msg to DBTask, it waits on a semephore (semTake) while in DBTask, after processing the Database request and data formating, it release a semephore(semGive). I think that should make your 2 tasks synchronized.</p>\n"}], "owner": {"reputation": 141, "user_id": 9469249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82094e2fe8358ae40c3c66cb25bc6d92?s=128&d=identicon&r=PG&f=1", "display_name": "ICU_", "link": "https://stackoverflow.com/users/9469249/icu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1522828440, "creation_date": 1522263407, "question_id": 49542184, "link": "https://stackoverflow.com/questions/49542184/using-a-mutex-semaphore-between-two-tasks", "title": "Using a mutex semaphore between two tasks", "body": "<p>I am trying to understand just how to use semaphores in general. I have chosen a mutex type semaphore instead of a binary in order to maintain task priorities. The synopsis is:</p>\n\n<p>I have two tasks, WebTask and DBTask.</p>\n\n<p>WebTask is a simple task that takes (can you guess) web requests and does something with them.</p>\n\n<p>DBTask is a (you got it) database task that runs on a messaging queue type system, so in order to work with it, you must send a message to its queue with n arguments.</p>\n\n<p>Here is how things need to go down</p>\n\n<ol>\n<li>WebTask receives an input and wants to get data from DBTask. </li>\n<li>WebTask constructs a message for DBTask and sends it along the main messaging system with DBTask's id and all arguments</li>\n<li><p>WebTask must wait for DBTask to </p>\n\n<ol>\n<li>Receive the message</li>\n<li>Talk to the database</li>\n<li>Format the result</li>\n</ol></li>\n</ol>\n\n<p>Without semaphores, here's what is happening</p>\n\n<ol>\n<li>WebTask constructs and sends msg</li>\n<li>WebTask continues on</li>\n<li>DBTask gets msg</li>\n<li>DBTask talks to database, gets data, etc</li>\n</ol>\n\n<p>So obviously they are out of sync (should be 1,3,4,2)</p>\n\n<p>This is just one thing I tried that I thought would work..</p>\n\n<ol>\n<li>WebTask create a new mutex semaphore</li>\n<li>WebTask constructs and sends a msg, while also telling DBTask about the semaphore ID</li>\n<li>WebTask takes the semaphore</li>\n<li>DBTask gets msg</li>\n<li>DBTask processes msg</li>\n<li>DBTasks gives back semaphore</li>\n</ol>\n\n<p>This changed nothing.</p>\n\n<p>What I don't understand at all (after many attempts).</p>\n\n<ol>\n<li>Who should be in charge of the semaphore? Who should create it?</li>\n<li>When is the semaphore taken?</li>\n<li>When is the semaphore given?</li>\n</ol>\n\n<p>(Notes: I am on VxWorks)</p>\n"}, {"tags": ["c++", "execute", "dev-c++", "shellexecute"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8463149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a6b4732db3c4e40cdf658d71c6f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/8463149/alex-smith"}, "edited": false, "score": 0, "creation_date": 1522265322, "post_id": 49542647, "comment_id": 86092814, "body": "I can not use shellexecute because is not compatible with %username%"}, {"owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "reply_to_user": {"reputation": 43, "user_id": 8463149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a6b4732db3c4e40cdf658d71c6f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/8463149/alex-smith"}, "edited": false, "score": 0, "creation_date": 1522265553, "post_id": 49542647, "comment_id": 86092958, "body": "There are other API-s like <code>ExpandEnvironmentStringsForUser</code> to expand <code>%username%</code>. Using <code>system</code> is not good idea except if you need portable code. But path like <code>C:\\Users\\%USERNAME%\\AppData</code> is too far from &quot;portable&quot;."}, {"owner": {"reputation": 43, "user_id": 8463149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a6b4732db3c4e40cdf658d71c6f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/8463149/alex-smith"}, "edited": false, "score": 0, "creation_date": 1522270284, "post_id": 49542647, "comment_id": 86095582, "body": "Vabbovabboovavv"}], "tags": [], "owner": {"reputation": 6023, "user_id": 2417459, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QcuXb.png?s=128&g=1", "display_name": "i486", "link": "https://stackoverflow.com/users/2417459/i486"}, "is_accepted": false, "score": 0, "last_activity_date": 1522265202, "creation_date": 1522265202, "answer_id": 49542647, "question_id": 49542178, "link": "https://stackoverflow.com/questions/49542178/execute-an-external-exe-with-sw-hide/49542647#49542647", "title": "Execute an external exe with sw_hide", "body": "<p>Use <code>ShellExecuteEx</code> or <code>ShellExecute</code> Win32 API, not <code>system()</code>!</p>\n"}], "owner": {"reputation": 43, "user_id": 8463149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a6b4732db3c4e40cdf658d71c6f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/8463149/alex-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1522327228, "creation_date": 1522263383, "last_edit_date": 1522327228, "question_id": 49542178, "link": "https://stackoverflow.com/questions/49542178/execute-an-external-exe-with-sw-hide", "title": "Execute an external exe with sw_hide", "body": "<p>how i can execute an external exe with the mode (system) and with the parameter sh_hide without the cmd.exe console ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#include &lt;stdio.h&gt; // C library to perform Input/Output operations \r\n#include &lt;tchar.h&gt;\r\n#include &lt;stddef.h&gt; // C Standard definitions \r\n#include &lt;iostream&gt; // Input/Output\r\n#include &lt;fstream&gt;\r\n#include &lt;cstdlib&gt;\r\n#include &lt;windows.h&gt;\r\n\r\nint main()\r\n{\r\n    system(\"C:\\\\Users\\\\%USERNAME%\\\\AppData\\\\Roaming\\\\Microsoft\\\\mmd.exe\"); \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c++", "opencv", "visual-studio-2015"], "comments": [{"owner": {"reputation": 5957, "user_id": 872363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45a31c259d94b9d114c3001f55d2dcbb?s=128&d=identicon&r=PG", "display_name": "slawekwin", "link": "https://stackoverflow.com/users/872363/slawekwin"}, "edited": false, "score": 0, "creation_date": 1522305795, "post_id": 49541999, "comment_id": 86106330, "body": "It seems like part of the blobs get filtered by the algorithm due to some parameters. Try disabling all filtering (e.g. <code>params.filterByCircularity</code>, <code>params.filterByConvexity</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "is_accepted": true, "score": 2, "last_activity_date": 1522286875, "creation_date": 1522286875, "answer_id": 49546648, "question_id": 49541999, "link": "https://stackoverflow.com/questions/49541999/opencv-simpleblobdetector-does-not-find-all-blobs-c-vs2015/49546648#49546648", "title": "OpenCv SimpleBlobDetector does not find all blobs. C++ , VS2015", "body": "<p>Im not sure if this is properly going to answer my question, but I had to write my own blob detection, it appears that OpenCV SimpleBlobDetector is not so simple.</p>\n"}], "owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 49546648, "answer_count": 1, "score": 0, "last_activity_date": 1522305656, "creation_date": 1522262783, "last_edit_date": 1522305656, "question_id": 49541999, "link": "https://stackoverflow.com/questions/49541999/opencv-simpleblobdetector-does-not-find-all-blobs-c-vs2015", "title": "OpenCv SimpleBlobDetector does not find all blobs. C++ , VS2015", "body": "<p>I have a simple task for OpenCV SimpleBlobDetector</p>\n\n<pre><code>cv::SimpleBlobDetector::Params params;\ncv::Ptr&lt;cv::SimpleBlobDetector&gt; detector = cv::SimpleBlobDetector::create(params);\nstd::vector&lt;cv::KeyPoint&gt; keypoints;\ndetector-&gt;detect(crop, keypoints);\ndrawKeypoints(crop, keypoints, crop, cv::Scalar(0, 0, 255), cv::DrawMatchesFlags::DRAW_RICH_KEYPOINTS);\ncv::imshow(\"crop\", crop);\ncv::waitKey(0);\n</code></pre>\n\n<p>It is not detecting half of the blobs in my image.\nPlease see picture below,</p>\n\n<p>I tried adding parameters and varying them, at no point has it ever detected every single blob.\nBlob detection is a simple and straightforward algorithm that should be completely refined in every image processing API. Is this not the case with OpenCV?</p>\n\n<pre><code>//params.minThreshold = 0;\n//params.maxThreshold = 255;\n//params.filterByArea = true;\n//params.minArea = 1000;\n//params.maxArea = 5000;\n//params.filterByCircularity = true;\n//params.minCircularity = 0.4;\n//params.filterByConvexity = true;\n//params.minConvexity = 0.87;\n//params.filterByInertia = true;\n//params.minInertiaRatio = 0.71;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/qnzMG.jpg\" alt=\"blob detection test image HERE\"></p>\n\n<p>I'm using either OpenCV 3.3 or 3.2, I can't seem to find the version number in the sources</p>\n"}, {"tags": ["c++", "g++", "crypto++"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 2, "creation_date": 1522261718, "post_id": 49541666, "comment_id": 86090769, "body": "You are not linking cryptopp."}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1522393972, "post_id": 49541666, "comment_id": 86147784, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1522300783, "post_id": 49541893, "comment_id": 86104238, "body": "You should also consider using <a href=\"https://www.cryptopp.com/index.html\" rel=\"nofollow noreferrer\">Crypto++ 6.1</a>. How did you come to downloading 5.6.5?"}], "tags": [], "owner": {"reputation": 383, "user_id": 4746527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a740df6f0bd027dbfc23fef08d35b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/4746527/sarah"}, "is_accepted": false, "score": 0, "last_activity_date": 1522262445, "creation_date": 1522262445, "answer_id": 49541893, "question_id": 49541666, "link": "https://stackoverflow.com/questions/49541666/build-issue-with-crypto-5-6-5-using-linux-command-line-g/49541893#49541893", "title": "Build issue with Crypto++ 5.6.5 using Linux command line g++", "body": "<p>I know what the problem is. should make install first. Thanks!</p>\n"}], "owner": {"reputation": 383, "user_id": 4746527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a740df6f0bd027dbfc23fef08d35b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/4746527/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522386252, "creation_date": 1522261659, "last_edit_date": 1522386252, "question_id": 49541666, "link": "https://stackoverflow.com/questions/49541666/build-issue-with-crypto-5-6-5-using-linux-command-line-g", "title": "Build issue with Crypto++ 5.6.5 using Linux command line g++", "body": "<p>I'm trying to run this example utilizing Crypto++library, and I downloaded/stored Crypto++ in <code>/home/thirdparty/cryptopp</code>. However, when run the following command line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>g++ -I/home/thirdParty channelSwitch.cpp -L/home/thirParty -o test-cs.exe\n</code></pre>\n\n<p>Can someone help check what is the problem?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/tmp/ccPnCG56.o: In function `main':\nchannelSwitch.cpp:(.text+0x178): undefined reference to `CryptoPP::StringSinkTemplate&lt;std::string&gt;::StringSinkTemplate(std::string&amp;)'\nchannelSwitch.cpp:(.text+0x21b): undefined reference to `CryptoPP::DEFAULT_CHANNEL'\nchannelSwitch.cpp:(.text+0x221): undefined reference to `CryptoPP::DEFAULT_CHANNEL'\nchannelSwitch.cpp:(.text+0x237): undefined reference to `CryptoPP::HashFilter::HashFilter(CryptoPP::HashTransformation&amp;, CryptoPP::BufferedTransformation*, bool, int, std::string const&amp;, std::string const&amp;)'\nchannelSwitch.cpp:(.text+0x292): undefined reference to `CryptoPP::StringSinkTemplate&lt;std::string&gt;::StringSinkTemplate(std::string&amp;)'\nchannelSwitch.cpp:(.text+0x31d): undefined reference to `CryptoPP::DEFAULT_CHANNEL'\nchannelSwitch.cpp:(.text+0x323): undefined reference to `CryptoPP::DEFAULT_CHANNEL'\nchannelSwitch.cpp:(.text+0x339): undefined reference to `CryptoPP::HashFilter::HashFilter(CryptoPP::HashTransformation&amp;, CryptoPP::BufferedTransformation*, bool, int, std::string const&amp;, std::string const&amp;)'\n...\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>The complete source code for <code>channelSwitch.cpp</code> is: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;cryptopp/channels.h&gt; \n#include &lt;cryptopp/filters.h&gt; \n#include &lt;cryptopp/sha.h&gt; \n#include &lt;cryptopp/hex.h&gt;\n\nint main(int argc, char *argv[]) {\nstd::string message = \"Now is the time for all good men to come to the aide of their country\";\n\n// Allow user to override default message from command line arg.\nif(argc == 2 &amp;&amp; argv[1] != NULL) \n    message = std::string(argv[1]);\n\n// Set hash variables\nstd::string s1, s2, s3, s4;\nCryptoPP::SHA1 sha1; CryptoPP::SHA224 sha224; CryptoPP::SHA256 sha256; CryptoPP::SHA512 sha512;\n\n// Run hash functions\nCryptoPP::HashFilter f1(sha1, new CryptoPP::HexEncoder(new CryptoPP::StringSink(s1)));\nCryptoPP::HashFilter f2(sha224, new CryptoPP::HexEncoder(new CryptoPP::StringSink(s2)));\nCryptoPP::HashFilter f3(sha256, new CryptoPP::HexEncoder(new CryptoPP::StringSink(s3)));\nCryptoPP::HashFilter f4(sha512, new CryptoPP::HexEncoder(new CryptoPP::StringSink(s4)));\n\n// Set route to default\nCryptoPP::ChannelSwitch cs;\ncs.AddDefaultRoute(f1);\ncs.AddDefaultRoute(f2);\ncs.AddDefaultRoute(f3);\ncs.AddDefaultRoute(f4);\n\nCryptoPP::StringSource ss(message, true /*pumpAll*/, new CryptoPP::Redirector(cs));\n\nstd::cout &lt;&lt; \"Message: \" &lt;&lt; message &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"SHA-1: \" &lt;&lt; s1 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"SHA-224: \" &lt;&lt; s2 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"SHA-256: \" &lt;&lt; s3 &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"SHA-512: \" &lt;&lt; s4 &lt;&lt; std::endl;\nreturn 0;\n}\n</code></pre>\n\n<p>Environment information:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ gcc --version\ngcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-4)\n</code></pre>\n"}, {"tags": ["c++", "casting", "binaryfiles", "endianness"], "comments": [{"owner": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "reply_to_user": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1522261781, "post_id": 49541533, "comment_id": 86090819, "body": "@jxh how can I promote it to unsigned long instead of signed int ?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1522262387, "post_id": 49541533, "comment_id": 86091156, "body": "What is the type of <code>buffer</code>?"}, {"owner": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1522262702, "post_id": 49541533, "comment_id": 86091347, "body": "@user2079303 it is declared as char <code>char *buffer = new char[length];</code>"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1522262898, "post_id": 49541533, "comment_id": 86091474, "body": "Related question: <a href=\"https://stackoverflow.com/q/15911714/315052\">stackoverflow.com/q/15911714/315052</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "edited": false, "score": 0, "creation_date": 1522263582, "post_id": 49541813, "comment_id": 86091896, "body": "works perfectly. It works also with <code>unsigned  long tmp</code> (at least on my machine)"}, {"owner": {"reputation": 431, "user_id": 4059613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82624dfae1118241e704f938a18b2c66?s=128&d=identicon&r=PG&f=1", "display_name": "Koto", "link": "https://stackoverflow.com/users/4059613/koto"}, "reply_to_user": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "edited": false, "score": 0, "creation_date": 1522264207, "post_id": 49541813, "comment_id": 86092226, "body": "long might not be 64 bits on all systems. See <a href=\"https://stackoverflow.com/questions/6462439/whats-the-difference-between-long-long-and-long\" title=\"whats the difference between long long and long\">stackoverflow.com/questions/6462439/&hellip;</a> for more information."}], "tags": [], "owner": {"reputation": 431, "user_id": 4059613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82624dfae1118241e704f938a18b2c66?s=128&d=identicon&r=PG&f=1", "display_name": "Koto", "link": "https://stackoverflow.com/users/4059613/koto"}, "is_accepted": false, "score": 0, "last_activity_date": 1522262630, "last_edit_date": 1522262630, "creation_date": 1522262177, "answer_id": 49541813, "question_id": 49541533, "link": "https://stackoverflow.com/questions/49541533/read-binary-data-to-long-int/49541813#49541813", "title": "Read binary data to long int", "body": "<p>You use a temporary value.\nThe computer will automatically reserve the least amount needed to store a temporary value. In your case that would be the 32 bits. \nOnce you shift the byte further than 32 bits it will be shifted into oblivion.\nIn order to fix this you need to explicitly store the value in a 64 bit integer first.\nSo instead of</p>\n\n<pre><code>    {tag ^=  ((unsigned char)buffer[j+i])&lt;&lt;8*i ;}\n</code></pre>\n\n<p>you should use something like this</p>\n\n<pre><code>    {\n       unsigned long long tmp = (unsigned char)buffer[j+i];\n       tmp &lt;&lt;= 8*i;\n       tag ^=  tmp;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "edited": false, "score": 0, "creation_date": 1522263842, "post_id": 49541997, "comment_id": 86092027, "body": "works perfectly. thank you for the explanation. I wish I could accept both answers."}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "reply_to_user": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "edited": false, "score": 0, "creation_date": 1522265559, "post_id": 49541997, "comment_id": 86092961, "body": "If you make <code>buffer</code> contain <code>unsigned char</code> to being with, you can get rid of casting when assigning to <code>val</code>."}], "tags": [], "owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "is_accepted": true, "score": 0, "last_activity_date": 1522264405, "last_edit_date": 1522264405, "creation_date": 1522262776, "answer_id": 49541997, "question_id": 49541533, "link": "https://stackoverflow.com/questions/49541533/read-binary-data-to-long-int/49541997#49541997", "title": "Read binary data to long int", "body": "<p>We assume that <code>buffer[j+i]</code> is a <code>char</code>, and that <code>char</code>s are signed on your platform. Casting to <code>unsigned char</code> converts <code>buffer[j+i]</code> into an unsigned type. However, when applying the <code>&lt;&lt;</code> operator, the <code>unsigned char</code> value gets promoted to <code>int</code> so long as an <code>int</code> can hold all values representable by <code>unsigned char</code>.</p>\n\n<p>Your attempt to cast <code>buffer[j+i]</code> directly to <code>uint64_t</code> fails because if <code>char</code> is signed, the sign extension is still applied before the value is converted to the unsigned type.</p>\n\n<p>A double cast may work (that is, cast to <code>unsigned char</code> and then to <code>unsigned long</code>), but using an <code>unsigned long</code> variable to hold the intermediate value should make the intention of the code more clear. For me, the code would look like:</p>\n\n<pre><code>decltype(tag) val = static_cast&lt;unsigned char&gt;(buffer[j+i]);\ntag ^= val &lt;&lt; 8*i;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5701696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97173ef2b4dced97356b3d21ea6023d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/5701696/lefteris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 49541997, "answer_count": 2, "score": 1, "last_activity_date": 1522264405, "creation_date": 1522261171, "question_id": 49541533, "link": "https://stackoverflow.com/questions/49541533/read-binary-data-to-long-int", "title": "Read binary data to long int", "body": "<p>I need to read binary data which contain a column of numbers (time tags) and use 8bytes to record each number. I know that they are recorded in <strong>little endian</strong> order. If read correctly they should be decoded as (example)</p>\n\n<pre><code>  ...  \n  2147426467  \n  2147426635  \n  2147512936  \n  ...\n</code></pre>\n\n<p>I recognize that the above numbers are on the 2^31 -1 threshold.\nI try to read the data and invert the endiandness with:\n(<strong>length</strong> is the total number of bytes and <strong>buffer</strong> is pointer to an array that contains the bytes) </p>\n\n<pre><code>unsigned long int tag;\n//uint64_t tag;    \nfor (int j=0; j&lt;length; j=j+8) //read the whole file in 8-byte blocks\n   { tag = 0;  \n     for (int i=0; i&lt;=7; i++) //read each block ,byte by byte\n        {tag ^=  ((unsigned char)buffer[j+i])&lt;&lt;8*i ;} //shift each byte to invert endiandness and add them with ^=\n   }\n                                                                                              }\n</code></pre>\n\n<p>when run, the code gives:</p>\n\n<pre><code>  ...  \n  2147426467  \n  2147426635  \n  18446744071562097256  \n  similar big numbers   \n  ...\n</code></pre>\n\n<p>The last number is not (2^64 - 1 - correct value).\nSame result using <strong>uint64_t  tag</strong>.\nThe code succeeds with declaring tag as</p>\n\n<pre><code>unsigned int tag;\n</code></pre>\n\n<p>but fails for tags greater than 2^32 -1. At least this makes sense.<br>\nI suppose I need some kind of casting on buffer[i+j] but I don't know how to do it.  </p>\n\n<pre><code>(static_cast&lt;uint64_t&gt;(buffer[j+i])) \n</code></pre>\n\n<p>also doesn't work.<br>\nI read <a href=\"https://stackoverflow.com/questions/8019844/reading-bytes-from-binary-file-to-long-int\">a similar question</a> but still need some help.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 1222, "user_id": 1576803, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5fPDS.gif?s=128&g=1", "display_name": "aram", "link": "https://stackoverflow.com/users/1576803/aram"}, "edited": false, "score": 1, "creation_date": 1522261192, "post_id": 49541506, "comment_id": 86090482, "body": "what do you mean by it doesn&#39;t works?"}, {"owner": {"reputation": 11, "user_id": 9553953, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108700086011802/picture?type=large", "display_name": "Benkeblia Jaasser", "link": "https://stackoverflow.com/users/9553953/benkeblia-jaasser"}, "reply_to_user": {"reputation": 1222, "user_id": 1576803, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5fPDS.gif?s=128&g=1", "display_name": "aram", "link": "https://stackoverflow.com/users/1576803/aram"}, "edited": false, "score": 0, "creation_date": 1522261463, "post_id": 49541506, "comment_id": 86090627, "body": "I tried with thoses methods and no result"}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 2, "creation_date": 1522261466, "post_id": 49541506, "comment_id": 86090629, "body": "Wait, are you implementing the <i>slot</i> inside your constrctr .. not possible"}, {"owner": {"reputation": 4795, "user_id": 683905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bc5b9f8f9c6f0e5d25b2d88e2cc1386?s=128&d=identicon&r=PG", "display_name": "Jaa-c", "link": "https://stackoverflow.com/users/683905/jaa-c"}, "edited": false, "score": 1, "creation_date": 1522261593, "post_id": 49541506, "comment_id": 86090696, "body": "Your code makes no sense. There is no signal, no connection, the second snippet has invalid syntax... Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if possible."}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1522261694, "post_id": 49541506, "comment_id": 86090759, "body": "what&#39;s <code>classe</code>? Do you use a custom compiler or typedefs?"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1522261760, "post_id": 49541506, "comment_id": 86090799, "body": "<code>Q_OBJECT</code> macro is missing"}, {"owner": {"reputation": 11, "user_id": 9553953, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108700086011802/picture?type=large", "display_name": "Benkeblia Jaasser", "link": "https://stackoverflow.com/users/9553953/benkeblia-jaasser"}, "edited": false, "score": 0, "creation_date": 1522261769, "post_id": 49541506, "comment_id": 86090811, "body": "yes the slot is declare in the constructor"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1522261812, "post_id": 49541506, "comment_id": 86090843, "body": "<code>QString text = data</code> is valid"}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1522261817, "post_id": 49541506, "comment_id": 86090844, "body": "You can <i>use</i> the slot inside contr .. but implementing it <i>inside</i>!!!"}, {"owner": {"reputation": 11, "user_id": 9553953, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108700086011802/picture?type=large", "display_name": "Benkeblia Jaasser", "link": "https://stackoverflow.com/users/9553953/benkeblia-jaasser"}, "edited": false, "score": 0, "creation_date": 1522262351, "post_id": 49541506, "comment_id": 86091136, "body": "The slot is belongs to another class , the slot and the signal its correct , only I need to retrieve the parameter slot for use in another function"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 1, "creation_date": 1522262436, "post_id": 49541506, "comment_id": 86091190, "body": "Please read the comments carefully again. We can&#39;t go in a circle. You have design and syntax errors."}, {"owner": {"reputation": 11, "user_id": 9553953, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108700086011802/picture?type=large", "display_name": "Benkeblia Jaasser", "link": "https://stackoverflow.com/users/9553953/benkeblia-jaasser"}, "edited": false, "score": 0, "creation_date": 1522266987, "post_id": 49541506, "comment_id": 86093723, "body": "I reformulate the data helped me if possible and thank you"}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1522429185, "creation_date": 1522429185, "answer_id": 49578348, "question_id": 49541506, "link": "https://stackoverflow.com/questions/49541506/recover-a-slot-parameter/49578348#49578348", "title": "recover a slot parameter", "body": "<p>This now an OK question, if a tad wordy and basic. It is clearly mostly complete (the <code>.ui</code> files are missing - but don't include them!) and reproducible.\nThus, there are two things that you can do:</p>\n\n<ol>\n<li><p>Simply set the value of the plain text edit in the slot:</p>\n\n<pre><code>void MyClass::outputData(QString data){\n  x = data;\n  ui-&gt;plainTextEdit-&gt;insertPlainText(x);\n}\n</code></pre>\n\n<p>You don't need to store the value in <code>x</code> at all, if you don't need it anywhere else in <code>MyClass</code>.</p></li>\n<li><p>If <code>MyClass</code> should expose the <code>x</code> property to interact with other classes, you should make it so - and then use the notification signal to modify the widget:</p>\n\n<pre><code>class MyClass : public QWidget {\n    Q_OBJECT\n    Q_PROPERTY(QString x READ x WRITE setX NOTIFY xChanged)\n    QString m_x;\n    Ui::MyClass *ui;\npublic:\n    explicit MyClass(QWidget *parent = {}) {\n      ui-&gt;setupUi(this);\n      connect(this, &amp;MyClass::xChanged, ui-&gt;plainTextEdit, &amp;QPlainTextEdit::insertPlainText);\n    ~MyClass {}\n    Q_SIGNAL void xChanged(const QString &amp;);\n    Q_SLOT void setX(const QString &amp;x) {\n      if (m_x != x) {\n        m_x = x;\n        emit xChanged(m_x);\n      }\n    }\n    QString x() const { return m_x; }\n};\n</code></pre></li>\n</ol>\n\n<h3>Other notes</h3>\n\n<ol>\n<li><p>The <code>MyClass::x</code> member should not be public.</p></li>\n<li><p>The containers passed as method arguments should be almost always of a const reference type - to avoid the premature pessimization of making copies of objects passed. Thus you should modify the signatures as follows - in both declarations (header files) and definitions (implementation - .cpp files):</p>\n\n<pre><code>void MyClass::send2(const QString&amp;);\nvoid MyClass::outputData(const QString &amp;data)\nvoid MyWidget::redirectData(const QString &amp;data)\n</code></pre>\n\n<p>The old-style <code>connect</code> syntax you use demands normalized signatures and doesn't change - the <code>const</code> and reference must be dropped.</p></li>\n<li><p>There's no need to store the <code>ui</code> by pointer - simply store it by value. The C++ language then automatically takes care of memory management for you, and the default compiler-generated destructor does the job.</p></li>\n<li><p>In self-contained examples, there's no need to use the <code>.ui</code> files. Creating the widgets manually and laying them out is quite trivial, as you can see below.</p></li>\n</ol>\n\n<h3>A reworked example</h3>\n\n<p>Taking all this into account, this would be a self-contained demo - with no Ui files needed. Your question should have had something like this included - it's self contained, single file. The use of the properties is not undesirable to indicate intent: those are the changeable properties of the classes.</p>\n\n<pre><code>#include &lt;QtWidgets&gt;\n\nclass Source : public QWidget {\n   Q_OBJECT\n   Q_PROPERTY(QString text READ text WRITE setText NOTIFY textChanged)\n   QHBoxLayout m_layout{this};\n   QLineEdit m_edit;\n   QPushButton m_send{tr(\"Send\")};\n   QString m_text;\npublic:\n   Source(QWidget *parent = {}) : QWidget(parent) {\n      m_layout.addWidget(&amp;m_edit);\n      m_layout.addWidget(&amp;m_send);\n      connect(&amp;m_send, &amp;QPushButton::clicked, [this]{\n         setText(m_edit.text());\n      });\n   }\n   Q_SLOT void setText(const QString &amp;text) {\n      if (text == m_text) return;\n      m_text = text;\n      emit textChanged(m_text);\n   }\n   QString text() const { return m_text; }\n   Q_SIGNAL void textChanged(const QString &amp;);\n};\n\nclass Destination : public QWidget {\n   Q_OBJECT\n   Q_PROPERTY(QString text READ text WRITE setText NOTIFY textChanged)\n   QHBoxLayout m_layout{this};\n   QPlainTextEdit m_edit;\n   QString m_text;\npublic:\n   Destination(QWidget *parent = {}) : QWidget(parent) {\n      m_layout.addWidget(&amp;m_edit);\n      connect(this, &amp;Destination::textChanged, &amp;m_edit, &amp;QPlainTextEdit::setPlainText);\n   }\n   Q_SLOT void setText(const QString &amp;text) {\n      if (text == m_text) return;\n      m_text = text;\n      emit textChanged(m_text);\n   }\n   QString text() const { return m_text; }\n   Q_SIGNAL void textChanged(const QString &amp;);\n};\n\nint main(int argc, char **argv) {\n   QApplication app{argc, argv};\n   Source src;\n   Destination dst;\n   QObject::connect(&amp;src, &amp;Source::textChanged, &amp;dst, [&amp;](const QString &amp;text){\n      if (!dst.isVisible()) {\n         dst.move(src.frameGeometry().topRight()); // align the windows\n         dst.show();\n      }\n      dst.setText(text);\n   });\n   src.show();\n   return app.exec();\n}\n\n#include \"main.moc\"\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9553953, "user_type": "registered", "profile_image": "https://graph.facebook.com/2108700086011802/picture?type=large", "display_name": "Benkeblia Jaasser", "link": "https://stackoverflow.com/users/9553953/benkeblia-jaasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1522429185, "creation_date": 1522261078, "last_edit_date": 1522426866, "question_id": 49541506, "link": "https://stackoverflow.com/questions/49541506/recover-a-slot-parameter", "title": "recover a slot parameter", "body": "<p>I have a slot that receives a <code>QString</code>, and I want to assign the value for this parameter in another variable, or use it directly in another method of the same class.</p>\n\n<p>The signal is emitted from some other class.</p>\n\n<h3>MyWidget.h</h3>\n\n<pre><code>#ifndef MYWIDGET_H\n#define MYWIDGET_H\n#include\"myclass.h\"\n#include &lt;QWidget&gt;\n#include &lt;QtWidgets&gt;\nnamespace Ui {\nclass MyWidget;\n}\n\nclass MyWidget : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit MyWidget(QWidget *parent = 0);\n    ~MyWidget();\nprivate:\n    Ui::MyWidget *ui;\nsignals:\n   void redirectData(QString data);\npublic slots:\n   void sendData();\nprivate:\n   MyClass *myClass; // the object to receive and output the data\n};\n\n#endif // MYWIDGET_H\n</code></pre>\n\n<h3>MyWidget.cpp</h3>\n\n<pre><code>#include \"mywidget.h\"\n#include \"ui_mywidget.h\"\nMyWidget::MyWidget(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::MyWidget)\n{\n    ui-&gt;setupUi(this);\n    myClass = new MyClass();\n    connect(ui-&gt;pushButton, SIGNAL(clicked()), this, SLOT(sendData()));\n    connect(this, SIGNAL(redirectData(QString)), myClass, SLOT(outputData(QString)));\n}\n\nMyWidget::~MyWidget()\n{\n    delete ui;\n}\nvoid MyWidget::sendData()\n{\n\n    emit redirectData(ui-&gt;lineEdit-&gt;text());\n    myClass-&gt;show();\n\n}\n</code></pre>\n\n<h3>MyClass.h</h3>\n\n<pre><code>#ifndef MYCLASS_H\n#define MYCLASS_H\n#include &lt;QWidget&gt;\n\nnamespace Ui {\nclass MyClass;\n}\n\nclass MyClass : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit MyClass(QWidget *parent = 0);\n    ~MyClass();\n    QString x;\nprivate:\n    Ui::MyClass *ui;\nsignals:\n    void send2(QString);\npublic slots:\n    void outputData(QString data);\n};\n#endif // MYCLASS_H\n</code></pre>\n\n<h3>MyClass.cpp</h3>\n\n<pre><code>#include \"myclass.h\"\n#include \"ui_myclass.h\"\n\nMyClass::MyClass(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::MyClass)\n{\n    ui-&gt;setupUi(this);\n    ui-&gt;plainTextEdit-&gt;insertPlainText(x); // show x in plainTextEdit\n}\n\nMyClass::~MyClass()\n{\n    delete ui;\n}\nvoid MyClass::outputData(QString data){\n\n   x=data; // affect data a x \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2STto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2STto.png\" alt=\"screenshot 1\"></a></p>\n\n<p>I want to display the value of <code>x</code> in the <code>QPlainTextEdit</code>.</p>\n\n<p>This method is correct but does not fit with the rest of my code. I would like to preserve the value in <code>x</code>.</p>\n\n<blockquote>\n  <p>MyClass.cpp</p>\n</blockquote>\n\n<pre><code>#include \"myclass.h\"\n#include \"ui_myclass.h\"\n\nMyClass::MyClass(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::MyClass)\n{\n    ui-&gt;setupUi(this);\n}\n\nMyClass::~MyClass()\n{\n    delete ui;\n}\nvoid MyClass::outputData(QString data){\n    ui-&gt;plainTextEdit-&gt;insertPlainText(data); \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Jj7J5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jj7J5.png\" alt=\"screenshot 2\"></a></p>\n"}, {"tags": ["c++", "image", "encoding", "base64"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 2, "creation_date": 1522260626, "post_id": 49541372, "comment_id": 86090135, "body": "Please read the description before applying tags. The &quot;c&quot; tag you applied explicitly mentioned that combining it with C++ is usually wrong and also gave a reason."}, {"owner": {"reputation": 557, "user_id": 389832, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VQULB.jpg?s=128&g=1", "display_name": "Katianie", "link": "https://stackoverflow.com/users/389832/katianie"}, "edited": false, "score": 0, "creation_date": 1522260751, "post_id": 49541372, "comment_id": 86090212, "body": "It sounds like you need to specify that you are reading a binary file instead of a text file. They are treated differently when written/read/accessed."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1860369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27174b86495bec3bbe40b730a435fcb0?s=128&d=identicon&r=PG", "display_name": "troop357", "link": "https://stackoverflow.com/users/1860369/troop357"}, "edited": false, "score": 0, "creation_date": 1522263963, "post_id": 49541738, "comment_id": 86092105, "body": "arr was pointing to the same data, even after mymsg.clear(), so as long as those data remained, it worked.  On the other hand, using memcpy solved the problem. I didn&#39;t realize strncpy would stop at a null, that makes a lot of sense. Thanks."}], "tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": true, "score": 1, "last_activity_date": 1522261912, "creation_date": 1522261912, "answer_id": 49541738, "question_id": 49541372, "link": "https://stackoverflow.com/questions/49541372/base64-image-file-encoding-with-c/49541738#49541738", "title": "Base64 image file encoding with C++", "body": "<p>I see two problems.</p>\n\n<p>First, you are clearing your <code>mymsg</code> vector before you're done using it.  This leaves the <code>arr</code> pointer dangling (pointing at memory that is no longer allocated).  When you access <code>arr</code> to get the data out, you end up with Undefined Behavior.</p>\n\n<p>Then you use <code>strncpy</code> to copy (potentially) binary data.  This copy will stop when it reaches the first nul (0) byte within the file, so not all of your data will be copied.  You should use <code>memcpy</code> instead.</p>\n"}], "owner": {"reputation": 57, "user_id": 1860369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27174b86495bec3bbe40b730a435fcb0?s=128&d=identicon&r=PG", "display_name": "troop357", "link": "https://stackoverflow.com/users/1860369/troop357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 49541738, "answer_count": 1, "score": 0, "last_activity_date": 1522261912, "creation_date": 1522260519, "last_edit_date": 1522260575, "question_id": 49541372, "link": "https://stackoverflow.com/questions/49541372/base64-image-file-encoding-with-c", "title": "Base64 image file encoding with C++", "body": "<p>I am writing some simple code to encode files to base64. I have a short c++ code that reads a file into a vector and converts it to unsigned char*. I do this so I can properly use the encoding function I got.</p>\n\n<p>The problem: It works with text files (of different sizes), but it won't work with image files. And I can't figure it out why. What gives?</p>\n\n<p>For an simple <code>text.txt</code> containing the text <code>abcd</code>, the output for both my code and a bash <code>$( base64 text.txt )</code> is the same.</p>\n\n<p>On the other hand, when I input an image the output is something like <code>iVBORwOKGgoAAAAAAA......AAA==</code> or sometimes it ends with an <code>corrupted size vs prev_size Aborted (core dumped)</code>, the first few bytes are correct.</p>\n\n<p>The code:</p>\n\n<pre><code>static std::vector&lt;char&gt; readBytes(char const* filename)\n{\n    std::ifstream ifs(filename, std::ios::binary|std::ios::ate);\n    std::ifstream::pos_type pos = ifs.tellg();\n    std::vector&lt;char&gt; result(pos);\n    ifs.seekg(0, std::ios::beg);\n    ifs.read(&amp;result[0], pos);\n\n    return result;\n}\n\nstatic char Base64Digits[] =\n \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\nint ToBase64Simple( const BYTE* pSrc, int nLenSrc, char* pDst, int nLenDst )\n{\n   int nLenOut= 0;\n   while ( nLenSrc &gt; 0 ) {\n\n      if (nLenOut+4 &gt; nLenDst) {\n      cout &lt;&lt; \"error\\n\";\n      return(0); // error\n      }\n\n      // read three source bytes (24 bits)\n      BYTE s1= pSrc[0];   // (but avoid reading past the end)\n      BYTE s2= 0; if (nLenSrc&gt;1) s2=pSrc[1]; //------ corrected, thanks to  jprichey\n      BYTE s3= 0; if (nLenSrc&gt;2) s3=pSrc[2];\n\n      DWORD n;\n      n =  s1;    // xxx1\n      n &lt;&lt;= 8;    // xx1x\n      n |= s2;    // xx12\n      n &lt;&lt;= 8;    // x12x\n      n |= s3;    // x123\n\n      //-------------- get four 6-bit values for lookups\n      BYTE m4= n &amp; 0x3f;  n &gt;&gt;= 6;\n      BYTE m3= n &amp; 0x3f;  n &gt;&gt;= 6;\n      BYTE m2= n &amp; 0x3f;  n &gt;&gt;= 6;\n      BYTE m1= n &amp; 0x3f;\n\n      //------------------ lookup the right digits for output\n      BYTE b1 = Base64Digits[m1];\n      BYTE b2 = Base64Digits[m2];\n      BYTE b3 = Base64Digits[m3];\n      BYTE b4 = Base64Digits[m4];\n\n      //--------- end of input handling\n      *pDst++ = b1;\n      *pDst++ = b2;\n      if ( nLenSrc &gt;= 3 ) {  // 24 src bits left to encode, output xxxx\n         *pDst++ = b3;\n         *pDst++ = b4;\n      }\n      if ( nLenSrc == 2 ) {  // 16 src bits left to encode, output xxx=\n         *pDst++ = b3;\n         *pDst++ = '=';\n         }\n      if ( nLenSrc == 1 ) {  // 8 src bits left to encode, output xx==\n         *pDst++ = '=';\n         *pDst++ = '=';\n      }\n      pSrc    += 3;\n      nLenSrc -= 3;\n      nLenOut += 4;\n   }\n   // Could optionally append a NULL byte like so:\n   *pDst++= 0; nLenOut++;\n   return( nLenOut );\n}\n\nint main(int argc, char* argv[])\n{\n    std::vector&lt;char&gt; mymsg;\n    mymsg = readBytes(argv[1]);\n    char* arr = &amp;mymsg[0];\n    int len = mymsg.size();\n    int lendst = ((len+2)/3)*4;\n    unsigned char* uarr = (unsigned char *) malloc(len*sizeof(unsigned char));\n    char* dst = (char *) malloc(lendst*sizeof(char));;\n    mymsg.clear(); //free()\n\n    // convert to unsigned char\n    strncpy((char*)uarr, arr, len);\n\n    int lenOut = ToBase64Simple(uarr, len, dst, lendst);\n    free(uarr);\n\n    int cont = 0;\n    while (cont &lt; lenOut) //(dst[cont] != 0)\n        cout &lt;&lt; dst[cont++];\n    cout &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Any insight is welcomed.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1522260334, "post_id": 49541183, "comment_id": 86089976, "body": "Using the code here the file is empty, so there is not much to display."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 3, "creation_date": 1522260681, "post_id": 49541183, "comment_id": 86090172, "body": "You might also want to read about <a href=\"https://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">why <code>while(!file.eof())</code> doesn&#39;t work</a>"}, {"owner": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "edited": false, "score": 0, "creation_date": 1522296588, "post_id": 49541183, "comment_id": 86103098, "body": "Did you see my answer?"}, {"owner": {"reputation": 11, "user_id": 9564860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65ad66802462f3e213b975aaf22fd6fe?s=128&d=identicon&r=PG&f=1", "display_name": "shrouq", "link": "https://stackoverflow.com/users/9564860/shrouq"}, "reply_to_user": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "edited": false, "score": 0, "creation_date": 1528838159, "post_id": 49541183, "comment_id": 88656693, "body": "@Jive Dadson   yes I saw it ,thank you for your answer."}], "answers": [{"tags": [], "owner": {"reputation": 15096, "user_id": 445296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E6JMR.jpg?s=128&g=1", "display_name": "Jive Dadson", "link": "https://stackoverflow.com/users/445296/jive-dadson"}, "is_accepted": false, "score": 0, "last_activity_date": 1522296688, "last_edit_date": 1522296688, "creation_date": 1522265094, "answer_id": 49542620, "question_id": 49541183, "link": "https://stackoverflow.com/questions/49541183/how-can-i-display-the-content-of-the-file-that-i-already-created-in-the-first-fu/49542620#49542620", "title": "How can I display the content of the file that I already created in the first function?", "body": "<p>The program never writes anything to the file, so there is no content to display. Also, the loop is faulty. If an error occurs reading the file, file.eof() will never be true, the following will loop forever.</p>\n\n<pre><code>void displaycontent(string name) \n{\n    ifstream file;\n    file.open(name);\n    string y;\n    while(!file.eof()) // WRONG\n    {\n        getline(file,y);\n        cout&lt;&lt;y&lt;&lt;endl;\n    }\n}\n</code></pre>\n\n<p>Instead, you want this (omitting error-handling):</p>\n\n<pre><code>void display_file(const string &amp;file_name) // Note pass by reference\n{\n    std::ifstream file;\n    file.open(file_name);\n    std::string y;\n    while(std::getline(file,y)) {\n       std::cout &lt;&lt; y &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>Or better yet,</p>\n\n<pre><code>void display_file(const string &amp;file_name) \n{\n    std::ifstream file(file_name);\n    std::cout &lt;&lt; file.rdbuf();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9557295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Doha Khaled", "link": "https://stackoverflow.com/users/9557295/doha-khaled"}, "is_accepted": false, "score": 0, "last_activity_date": 1522354997, "creation_date": 1522354997, "answer_id": 49564422, "question_id": 49541183, "link": "https://stackoverflow.com/questions/49541183/how-can-i-display-the-content-of-the-file-that-i-already-created-in-the-first-fu/49564422#49564422", "title": "How can I display the content of the file that I already created in the first function?", "body": "<p>call the create function inside the display function (in else's scope  )... \nas the create function is passed by value so any changes that will happen to what's inside of it will stay within the scope</p>\n"}], "owner": {"reputation": 11, "user_id": 9564860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65ad66802462f3e213b975aaf22fd6fe?s=128&d=identicon&r=PG&f=1", "display_name": "shrouq", "link": "https://stackoverflow.com/users/9564860/shrouq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1522354997, "creation_date": 1522259770, "last_edit_date": 1522260409, "question_id": 49541183, "link": "https://stackoverflow.com/questions/49541183/how-can-i-display-the-content-of-the-file-that-i-already-created-in-the-first-fu", "title": "How can I display the content of the file that I already created in the first function?", "body": "<pre><code>//it is  a function to take file name and create it.   \n\nvoid createfile(string filename)\n{\n    ofstream file;\n    file.open(filename,ios::out);\n    if(file.fail())\n    {\n        cout&lt;&lt;\"file is failed\"&lt;&lt;endl;\n    }\n    else\n    {\n        cout&lt;&lt;\"file is opened\"&lt;&lt;endl;\n    }\n}\n//it is a function which takes name of file and display it's content.  \n\nvoid displaycontent(string name) \n{\n    ifstream file;\n    file.open(name);\n    string y;\n    while(!file.eof())\n    {\n        getline(file,y);\n        cout&lt;&lt;y&lt;&lt;endl;\n    }\n}\n</code></pre>\n\n<p>How can  I display the content of the file that I  already created in the first function?</p>\n\n<pre><code>int main()\n{\n\n    string filename;\n    cin&gt;&gt;filename;\n\n    createfile(filename); \n\n    displaycontent(filename);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1522259832, "post_id": 49541160, "comment_id": 86089687, "body": "<a href=\"https://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\" title=\"why is iostreameof inside a loop condition considered wrong\">stackoverflow.com/questions/5605125/&hellip;</a>"}, {"owner": {"reputation": 111, "user_id": 7859365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8e75e0a5064418e6a1c2c658aa6d1f?s=128&d=identicon&r=PG&f=1", "display_name": "ArmenHeat", "link": "https://stackoverflow.com/users/7859365/armenheat"}, "edited": false, "score": 0, "creation_date": 1522261353, "post_id": 49541160, "comment_id": 86090567, "body": "@NeilButterworth Changing the while loop to <code>while(file &gt;&gt; TmpString)</code> and then adding to the vector of strings does nothing. Like I said in my question, I have checked thru debugging that the vector of strings contains correct file names, the while loop is not the issue. The issue is somewhere in the for loop but I can&#39;t debug to see which image is in each index. The spriteList only contains the <code>6.png</code> image on all indexes."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7859365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8e75e0a5064418e6a1c2c658aa6d1f?s=128&d=identicon&r=PG&f=1", "display_name": "ArmenHeat", "link": "https://stackoverflow.com/users/7859365/armenheat"}, "edited": false, "score": 0, "creation_date": 1522277423, "post_id": 49543112, "comment_id": 86098365, "body": "Yes, this seems to be the issue, I tried making an array of <code>sf::Texture</code> where each index is assigned its own texture via <code>.loadFromFile()</code> and then set each sprite in an array of <code>sf::Sprite</code> to each index of the texture array. This didn&#39;t work either, which confuses me since the texture array isn&#39;t manipulated at all after it is initialized. I ended up making six <code>sf::Texture</code> objects and doing it that way, I&#39;m sure it&#39;s not technically the right way..."}], "tags": [], "owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "is_accepted": true, "score": 1, "last_activity_date": 1522267370, "last_edit_date": 1522267370, "creation_date": 1522267013, "answer_id": 49543112, "question_id": 49541160, "link": "https://stackoverflow.com/questions/49541160/sfml-loading-images-from-txt-file-into-vector-only-loads-last-image/49543112#49543112", "title": "SFML Loading images from txt file into vector only loads last image", "body": "<p>The <a href=\"https://www.sfml-dev.org/tutorials/2.0/graphics-sprite.php#the-white-square-problem\" rel=\"nofollow noreferrer\">SFML Sprites and Textures</a> tutorial says </p>\n\n<blockquote>\n  <p>When you set the texture of a sprite, all it does internally is store a pointer to the texture instance. Therefore, if the texture is destroyed or moves elsewhere in memory, the sprite ends up with an invalid texture pointer. </p>\n</blockquote>\n\n<p>Which from my understanding also means if you load a new texture into the same object, it is overwritten. The sprite will still be pointing to the same texture which has now changed. You'll need to keep a collection of textures. </p>\n"}], "owner": {"reputation": 111, "user_id": 7859365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8e75e0a5064418e6a1c2c658aa6d1f?s=128&d=identicon&r=PG&f=1", "display_name": "ArmenHeat", "link": "https://stackoverflow.com/users/7859365/armenheat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 49543112, "answer_count": 1, "score": 0, "last_activity_date": 1522267370, "creation_date": 1522259684, "question_id": 49541160, "link": "https://stackoverflow.com/questions/49541160/sfml-loading-images-from-txt-file-into-vector-only-loads-last-image", "title": "SFML Loading images from txt file into vector only loads last image", "body": "<p>I am trying to load 6 images into a <code>std::vector(sf::Sprite)</code> into my state machine. The state machine is working fine so I doubt that it is the issue. </p>\n\n<p>I have a .txt file that contains the images' file names as</p>\n\n<pre><code>1.png\n2.png\n3.png\n4.png\n5.png\n6.png\n</code></pre>\n\n<p>The images themselves are in the <code>img/</code> directory.</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>std::ifstream file(\"images.txt\");\n\nwhile (!(file.eof()))\n{\n    getline(file, TmpString);\n    filename.push_back(TmpString);\n}\n</code></pre>\n\n<p><code>TmpString</code> is just a string variable to store a single image's file name. <code>filename</code> is a vector of strings and using breakpoints, I can see that it has the correct strings (aka correct file names). </p>\n\n<p>In the next loop, I use <code>loadFromFile()</code> to load the image into a <code>sf::Texture</code> called <code>tempTex</code>. I set the texture of a <code>sf::Sprite</code>called <code>tempSprite</code> and add it to <code>spriteList</code> which is the <code>std::vector&lt;sf::Sprite&gt;</code>.</p>\n\n<pre><code>for (size_t i = 0; i &lt; filename.size(); i++)\n{\n    tempTex.loadFromFile(\"img/\" + filename[i]);\n    tempSprite.setTexture(tempTex, true);\n    spriteList.push_back(tempSprite);\n}\n</code></pre>\n\n<p>The issue is, that whenever I draw any sprite from the spriteList to the window, its always the <code>6.png</code> image. That is:</p>\n\n<p><code>m_window.draw(spriteList[index])</code> always draws <code>6.png</code> no matter what the index is. </p>\n"}, {"tags": ["c++", "eclipse-cdt", "code-formatting", "user-defined-types"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1522259403, "post_id": 49541058, "comment_id": 86089447, "body": "I know this won&#39;t help but with <code>typedef</code> and <code>using</code> there is no reason to use <code>#define</code> to alias a type."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 2, "creation_date": 1522259688, "post_id": 49541058, "comment_id": 86089603, "body": "<code>#include&lt;bits&#47;stdc++.h&gt;</code> - don&#39;t do that, it&#39;s not clever, and it&#39;s not portable."}, {"owner": {"reputation": 1543, "user_id": 7267150, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/daaac3b040330dcbbbe64bcba04cfc82?s=128&d=identicon&r=PG&f=1", "display_name": "some user", "link": "https://stackoverflow.com/users/7267150/some-user"}, "edited": false, "score": 0, "creation_date": 1522259769, "post_id": 49541058, "comment_id": 86089646, "body": "@NeilButterworth it&#39;s for contests only :)"}, {"owner": {"reputation": 704, "user_id": 7595618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51cf59e6785bbd9f82f28e8cfc0f2935?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Borkland", "link": "https://stackoverflow.com/users/7595618/mike-borkland"}, "edited": false, "score": 0, "creation_date": 1522260049, "post_id": 49541058, "comment_id": 86089799, "body": "<code>using vs = vector&lt;string&gt;;</code>. Problem solved."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1522261879, "post_id": 49541058, "comment_id": 86090881, "body": "As I said it&#39;s not clever, because it means that some of the people you are asking advice from will not be able to compile your code. And as you are obviously still learning C++, so-called &quot;contests&quot; are a bad way to go."}], "answers": [{"tags": [], "owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "is_accepted": false, "score": 1, "last_activity_date": 1522295921, "creation_date": 1522295921, "answer_id": 49547804, "question_id": 49541058, "link": "https://stackoverflow.com/questions/49541058/formatting-predefined-types-in-code-eclipse-oxygen-c/49547804#49547804", "title": "Formatting predefined types in code eclipse oxygen [c++]", "body": "<p>This is a bug in Eclipse CDT's code formatter. I filed <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=533033\" rel=\"nofollow noreferrer\">this bug report</a> for it (but be aware that CDT's formatter hasn't seen much maintenance in recent years, so it's not likely to be fixed soon).</p>\n\n<p>As already mentioned, a simple workaround is to replace the <code>#define</code> with a <code>typedef</code>.</p>\n\n<p>You could also use an Eclipse plugin that provides a better formatter than the built-in one, such as <a href=\"https://marketplace.eclipse.org/content/cppstyle\" rel=\"nofollow noreferrer\">this plugin</a> which uses clang-format.</p>\n"}], "owner": {"reputation": 1543, "user_id": 7267150, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/daaac3b040330dcbbbe64bcba04cfc82?s=128&d=identicon&r=PG&f=1", "display_name": "some user", "link": "https://stackoverflow.com/users/7267150/some-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1522315009, "creation_date": 1522259312, "last_edit_date": 1522315009, "question_id": 49541058, "link": "https://stackoverflow.com/questions/49541058/formatting-predefined-types-in-code-eclipse-oxygen-c", "title": "Formatting predefined types in code eclipse oxygen [c++]", "body": "<p>If the type is defined with <code>#define</code> eclipse is removing the space between type and variable name. It's okay with typedef.  </p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\ntypedef vector&lt;int&gt; vi;\n#define vs vector&lt;string&gt;\n\nint main() {\n    vi v1; // no problem\n    vs v2; // after pressing ctrl+shift+f, space between vs and v2 is sucked up..\n   //producing some syntax errors\n\n    return 0;\n}\n</code></pre>\n\n<blockquote>\n  <p>Version info:</p>\n</blockquote>\n\n<pre><code>Eclipse IDE for C/C++ Developers\nVersion: Oxygen.3 Release (4.7.3)\nBuild id: 20180308-1800\nOS: Windows 10, v.10.0, x86_64 / win32\n</code></pre>\n\n<p>Any way to fix this, thanks.</p>\n"}, {"tags": ["c++", "http", "arduino", "arduino-esp8266"], "comments": [{"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1522258753, "post_id": 49540852, "comment_id": 86089063, "body": "<code>alexander-productions.de&#47;mysql</code> is not a valid host."}, {"owner": {"reputation": 189, "user_id": 7349614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-FrZ-e-BY-Mo/AAAAAAAAAAI/AAAAAAAAAKQ/Wgq4gYKy8R4/photo.jpg?sz=128", "display_name": "Alexander Hoerl", "link": "https://stackoverflow.com/users/7349614/alexander-hoerl"}, "reply_to_user": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1522259060, "post_id": 49540852, "comment_id": 86089241, "body": "@gre_gor oh what can I do if my file lies in a folder?"}, {"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1522259810, "post_id": 49540852, "comment_id": 86089675, "body": "Change the <code>&#47;post.php</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "is_accepted": true, "score": 1, "last_activity_date": 1522262253, "creation_date": 1522262253, "answer_id": 49541834, "question_id": 49540852, "link": "https://stackoverflow.com/questions/49540852/trying-to-add-data-to-my-mysql-database-using-post/49541834#49541834", "title": "Trying to add data to my MySQL database using POST", "body": "<p><code>alexander-productions.de/mysql</code> is not a valid host.<br>\nChange it to <code>alexander-productions.de</code>.</p>\n\n<p>Then add the folder to the request path i.e. <code>/mysql/post.php</code>.</p>\n\n<p>It should look like:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>const char* host = \"alexander-productions.de\";\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>client.println(\"POST /mysql/post.php HTTP/1.1\");\nclient.print(\"Host: \");\nclient.println(host); // non hardcoded host header\nclient.println(\"Content-Type: application/x-www-form-urlencoded\");\nclient.print(\"Content-Length: \");\nclient.println(data.length());\nclient.println();\nclient.print(data);\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 7349614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-FrZ-e-BY-Mo/AAAAAAAAAAI/AAAAAAAAAKQ/Wgq4gYKy8R4/photo.jpg?sz=128", "display_name": "Alexander Hoerl", "link": "https://stackoverflow.com/users/7349614/alexander-hoerl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 49541834, "answer_count": 1, "score": 1, "last_activity_date": 1522262394, "creation_date": 1522258544, "last_edit_date": 1522262394, "question_id": 49540852, "link": "https://stackoverflow.com/questions/49540852/trying-to-add-data-to-my-mysql-database-using-post", "title": "Trying to add data to my MySQL database using POST", "body": "<p>I'm trying to add data to my MySQL database using a POST method on my server and <code>client.print</code> on my ESP8266 V3 board.</p>\n\n<p>This is my Arduino code that seems like its working because no errors occur and serial monitor goes through all steps.</p>\n\n<pre><code>#include &lt;ESP8266WiFi.h&gt;\n\nconst char* ssid     = \"FRITZ!Box 7430 BZ\";\nconst char* password = \"*************\";\n\nconst char* host = \"alexander-productions.de/mysql\";\nconst char* streamId   = \"....................\";\nconst char* privateKey = \"....................\";\n\nvoid setup() {\n  Serial.begin(115200);\n  delay(10);\n\n  // We start by connecting to a WiFi network\n\n  Serial.println();\n  Serial.println();\n  Serial.print(\"Connecting to \");\n  Serial.println(ssid);\n\n  /* Explicitly set the ESP8266 to be a WiFi-client, otherwise, it by default,\n     would try to act as both a client and an access-point and could cause\n     network-issues with your other WiFi-devices on your WiFi-network. */\n  WiFi.mode(WIFI_STA);\n  WiFi.begin(ssid, password);\n\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(500);\n    Serial.print(\".\");\n  }\n\n  Serial.println(\"\");\n  Serial.println(\"WiFi connected\");  \n  Serial.println(\"IP address: \");\n  Serial.println(WiFi.localIP());\n}\n\nint value = 0;\n\nvoid loop() {\n  delay(5000);\n  ++value;\n\n  Serial.print(\"connecting to \");\n  Serial.println(host);\n\n  ///\n  String a = \"TestID\";\n  String b = \"TestNachmame\";\n  String data = \"value1=\" + a + \"&amp;value2=\" + b;\n  ///\n\n  // Use WiFiClient class to create TCP connections\n  WiFiClient client;\n  const int httpPort = 80;\n  if (!client.connect(host, httpPort)) {\n    Serial.println(\"connection failed\");\n    return;\n  } else {\n    Serial.println(\"connection successful\");\n    client.println(\"POST /post.php HTTP/1.1\");\n    client.println(\"Host: alexander-productions.de/mysql\"); // SERVER ADDRESS HERE TOO\n    client.println(\"Content-Type: application/x-www-form-urlencoded\");\n    client.print(\"Content-Length: \");\n    client.println(data.length());\n    client.println();\n    client.print(data);\n    Serial.println(\"Sending to Database successful!\");\n  }\n\n\n  Serial.println();\n  Serial.println(\"closing connection\");\n}\n</code></pre>\n\n<p>And this is my server code that should add data to the MySQL database.</p>\n\n<pre><code>&lt;?php\n$servername = \"**********\";\n$username = \"*****\";\n$password = \"*****\";\n$dbname = \"******\";\n\n// Create connection\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n\n// Check connection\nif (!$conn) {\n        die(\"Connection failed: \" . mysqli_connect_error());\n}\necho \"Connected successfully\";\necho \"&lt;br/&gt;\";\n\n$var1=$_POST[\"value1\"];\n$var2=$_POST[\"value2\"];\n\necho $var1;\necho \"&lt;br/&gt;\";\necho $var2;\necho \"&lt;br/&gt;\";\n\n$query = \"INSERT INTO `accounts` (`firstName`, `lastName`)\nVALUES ('\".$var1.\"','\".$var2.\"')\";\n\nif (mysqli_query($conn, $query)) {\n    echo \"New record created successfully\" . \"&lt;br /&gt;\";\n} else {\n    echo \"Error: \" . $query . \"&lt;br&gt;\" . mysqli_error($conn);\n}\n#mysql_query($query,$conn);\nmysqli_close($conn);\n?&gt;\n</code></pre>\n\n<p>The problem is I don't get any new entries in my database table and I don't know how to debug since I can't see what happens on the server side when the Arduino tries to POST data.</p>\n\n<p>When opening the <code>post.php</code> file on the browser It works since the database gets a new entry containing NULL's.</p>\n"}, {"tags": ["c++", "reference", "copy", "c++17"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1522257650, "post_id": 49540557, "comment_id": 86088461, "body": "Using references as members is almost always a bad idea. Use a pointer."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522258027, "post_id": 49540557, "comment_id": 86088659, "body": "Try running that <code>operator=</code> your created. You <i>will</i> get a stack overflow."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1522258083, "post_id": 49540557, "comment_id": 86088700, "body": "Related: <a href=\"https://stackoverflow.com/q/957087/1896169\">stackoverflow.com/q/957087/1896169</a> , <a href=\"https://stackoverflow.com/q/892133/1896169\">stackoverflow.com/q/892133/1896169</a>"}, {"owner": {"reputation": 816, "user_id": 5352221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8451ba1b588ab60305b93c6fa2658c7?s=128&d=identicon&r=PG&f=1", "display_name": "AdvSphere", "link": "https://stackoverflow.com/users/5352221/advsphere"}, "edited": false, "score": 0, "creation_date": 1522259884, "post_id": 49540557, "comment_id": 86089707, "body": "Set image as a smart pointer, then have inside image_view a smart pointer member to it."}, {"owner": {"reputation": 37, "user_id": 9565348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db76d4498401f886a29512a1f2b489e0?s=128&d=identicon&r=PG&f=1", "display_name": "J. Smith", "link": "https://stackoverflow.com/users/9565348/j-smith"}, "edited": false, "score": 0, "creation_date": 1522262612, "post_id": 49540557, "comment_id": 86091287, "body": "I tried to run it, and it worked as expected (I&#39;m using gcc 7.3.0 with <code>-std=c++17</code>). Neil Butterworth: do you mean a raw pointer? Isn&#39;t that bad?"}, {"owner": {"reputation": 9070, "user_id": 79591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rFGtY.jpg?s=128&g=1", "display_name": "GrahamS", "link": "https://stackoverflow.com/users/79591/grahams"}, "edited": false, "score": 0, "creation_date": 1522265071, "post_id": 49540557, "comment_id": 86092656, "body": "@NeilButterworth Can you explain why references as members are bad? And why pointers as members better?"}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 0, "last_activity_date": 1522263028, "creation_date": 1522263028, "answer_id": 49542076, "question_id": 49540557, "link": "https://stackoverflow.com/questions/49540557/c-copyable-view-on-an-object/49542076#49542076", "title": "C++: copyable view on an object", "body": "<p>If you want to express a non-owning, non-null wrapper that rebinds on assignment, the easiest way to do that is to use <a href=\"http://en.cppreference.com/w/cpp/utility/functional/reference_wrapper\" rel=\"nofollow noreferrer\"><code>std::reference_wrapper</code></a>:</p>\n\n<pre><code>class image_view\n{\npublic:\n    image_view(const image&amp; ref, point origin, int width, int height);\n    image_view(image_view view, point origin, int width, int height);\n\nprivate:\n    std::reference_wrapper&lt;image const&gt; m_ref;\n    point m_origin;\n    int m_width;\n    int m_height;\n};\n</code></pre>\n\n<p>The default copy constructor and assignment operator will do the right thing. </p>\n"}], "owner": {"reputation": 37, "user_id": 9565348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db76d4498401f886a29512a1f2b489e0?s=128&d=identicon&r=PG&f=1", "display_name": "J. Smith", "link": "https://stackoverflow.com/users/9565348/j-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 49542076, "answer_count": 1, "score": 0, "last_activity_date": 1522263028, "creation_date": 1522257441, "question_id": 49540557, "link": "https://stackoverflow.com/questions/49540557/c-copyable-view-on-an-object", "title": "C++: copyable view on an object", "body": "<p>I'm trying to make a program that deals with images, in which I have an <code>image</code> object and an <code>image_view</code> object that references a rectangle region in the image:</p>\n\n<pre><code>class image_view;\n\nclass image\n{\n    public:\n        image(int width, int height);\n\n        operator image_view() const;\n\n    private:\n        int m_width;\n        int m_height;\n        std::vector&lt;pixel&gt; m_pixels;\n};\n\nclass image_view\n{\n    public:\n        image_view(const image&amp; ref, point origin, int width, int height);\n        image_view(image_view view, point origin, int width, int height);\n\n    private:\n        const image&amp; m_ref;\n        point m_origin;\n        int m_width;\n        int m_height;\n};\n</code></pre>\n\n<p>However, when I tried to copy an <code>image_view</code>, the compiler told me that the <code>operator=</code> member function had been deleted because of the non-static member reference. I naively tried to make my own member function with <code>m_ref = other.m_ref</code> but it didn't work since <code>m_ref</code> is <code>const</code>.</p>\n\n<p>I considered using a smart pointer instead of a reference, but I didn't find a way of making a smart pointer to an already existing object.</p>\n\n<p>One solution I found is the following:</p>\n\n<pre><code>image_view&amp; image_view::operator= (const image_view&amp; other)\n{\n    *this = image_view(other);\n    return *this;\n}\n</code></pre>\n\n<p>This compiles, but is it a good idea? (I might be wrong, but I feel bad about assigning stuff to <code>*this</code>.) If I do that, does that mean I have to define a destructor (even though I'm not allocating anything), move constructor and move assignment operator to satisfy the rule of 5?</p>\n"}, {"tags": ["c++", "multidimensional-array", "dynamic-memory-allocation"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 3, "creation_date": 1522257463, "post_id": 49540528, "comment_id": 86088354, "body": "There is no multi-dimensional array in your code. A pointer is not an array!"}, {"owner": {"reputation": 4097, "user_id": 2646505, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/XGEyF.jpg?s=128&g=1", "display_name": "Tom de Geus", "link": "https://stackoverflow.com/users/2646505/tom-de-geus"}, "edited": false, "score": 2, "creation_date": 1522257589, "post_id": 49540528, "comment_id": 86088429, "body": "I guess you have a good reason not to use <code>std::vector </code>?"}, {"owner": {"reputation": 33, "user_id": 7518168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf588d5df75710d8064620c5ae2b6a8?s=128&d=identicon&r=PG&f=1", "display_name": "JYasir", "link": "https://stackoverflow.com/users/7518168/jyasir"}, "edited": false, "score": 0, "creation_date": 1522257643, "post_id": 49540528, "comment_id": 86088451, "body": "Yes, with Vector template class its easy however i would like to get a good hold on dynamic memory allocation in C++."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1522257837, "post_id": 49540528, "comment_id": 86088548, "body": "You can&#39;t determine the size of an array from a pointer - you need to keep track of it separately"}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522258548, "post_id": 49540528, "comment_id": 86088957, "body": "The Update doesn&#39;t really solve the problem, because you&#39;ve still lost track of the sizes of each subarray, so it&#39;ll be difficult to use the data.  You have to keep track of the sizes somewhere."}, {"owner": {"reputation": 33, "user_id": 7518168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf588d5df75710d8064620c5ae2b6a8?s=128&d=identicon&r=PG&f=1", "display_name": "JYasir", "link": "https://stackoverflow.com/users/7518168/jyasir"}, "edited": false, "score": 0, "creation_date": 1522258952, "post_id": 49540528, "comment_id": 86089183, "body": "I agree, like am lost now on how to print the contents of each array."}, {"owner": {"reputation": 1827, "user_id": 187998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/003aa224fb6ca93a53bd2973a98e242e?s=128&d=identicon&r=PG", "display_name": "Clearer", "link": "https://stackoverflow.com/users/187998/clearer"}, "edited": false, "score": 0, "creation_date": 1522259484, "post_id": 49540528, "comment_id": 86089498, "body": "You shouldn&#39;t bother using dynamically allocated memory in C++ (if at all possible -- it almost always is; read that as always). A better approach would be to have an <code>std::vector&lt;std::vector&lt;int&gt;&gt;</code>.  This way you could use range-based for loops and directly express intent."}], "answers": [{"comments": [{"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522258478, "post_id": 49540808, "comment_id": 86088922, "body": "If you read the OP closely, you&#39;ll see that JYasir isn&#39;t using the same width for all of the rows."}, {"owner": {"reputation": 1827, "user_id": 187998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/003aa224fb6ca93a53bd2973a98e242e?s=128&d=identicon&r=PG", "display_name": "Clearer", "link": "https://stackoverflow.com/users/187998/clearer"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 2, "creation_date": 1522259330, "post_id": 49540808, "comment_id": 86089396, "body": "@AdrianMcCarthy He can still use a single allocation; just allocate the total number of elements required and calculatet the indexes into the allocated array. Acorn&#39;s example may not be appropriate here, but the idea still is. Also, he should have used <code>std::vector</code> instead and save a lot of hazzle."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522260469, "post_id": 49540808, "comment_id": 86090058, "body": "@AdrianMcCarthy: Indeed, but people learning C/C++ tend to think that they have to allocate rows/columns one by one -- possibly because they learnt multi-dimensional arrays first. The pseudo-example here only shows the general principle."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522268974, "post_id": 49540808, "comment_id": 86094862, "body": "Yes, you could use a single allocation for the arrays, but then you&#39;d need a separate allocation for an array to keep track of the sizes or offsets of each the subarrays.  This answer gives partial information, but it misses the point of the question."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522271987, "post_id": 49540808, "comment_id": 86096413, "body": "@AdrianMcCarthy: Not necessarily -- they may still be known at compile-time; in which case you would only need a mapping to the index. Even if they aren&#39;t known, you may have other ways of keeping track of that, like using a terminator value &#224; la string. But yes, you might want to do it using another allocation; although I am not sure how that is a problem."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522272100, "post_id": 49540808, "comment_id": 86096477, "body": "@AdrianMcCarthy: Regarding the point of the question, I don&#39;t agree. I believe giving the reader other options/solutions always add to the topic, specially if he/she is learning -- which is why I wrote &quot;<i>consider</i>&quot;. I agree it is not <i>exactly</i> what was asked, of course."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522273689, "post_id": 49540808, "comment_id": 86097100, "body": "@Acorn:  The subarray sizes being known at compile time is not consistent with the OP&#39;s code sample showing the user being queried for their sizes."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1522274329, "post_id": 49540808, "comment_id": 86097363, "body": "@AdrianMcCarthy: Sure -- but it can still be done without allocating each individual array separately."}], "tags": [], "owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1522258405, "creation_date": 1522258405, "answer_id": 49540808, "question_id": 49540528, "link": "https://stackoverflow.com/questions/49540528/filling-dynamically-allocated-array-in-c/49540808#49540808", "title": "Filling Dynamically Allocated Array in C++", "body": "<p>Instead of using pointers to pointers to <code>int</code>, consider using a single allocation. It is easier and faster!</p>\n\n<pre><code>int * matrix = new int[width * height];\n\nmatrix[y * width + x] = 0;\n\ndelete [] matrix;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522258973, "post_id": 49540915, "comment_id": 86089191, "body": "This is completely unrelated to the question and also wrong"}, {"owner": {"reputation": 449, "user_id": 6050939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-brSzBw5Oadg/AAAAAAAAAAI/AAAAAAAAABg/BegP3qb2__w/photo.jpg?sz=128", "display_name": "Vengatesh Subramaniyan", "link": "https://stackoverflow.com/users/6050939/vengatesh-subramaniyan"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522259450, "post_id": 49540915, "comment_id": 86089478, "body": "he asked only for how to initialize the dynamically created array. That&#39;s why i have suggested him memset function"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522259496, "post_id": 49540915, "comment_id": 86089505, "body": "No, OP asked how to fill it with user provided values. Also your example code does not work for dynamically allocated arrays"}], "tags": [], "owner": {"reputation": 449, "user_id": 6050939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-brSzBw5Oadg/AAAAAAAAAAI/AAAAAAAAABg/BegP3qb2__w/photo.jpg?sz=128", "display_name": "Vengatesh Subramaniyan", "link": "https://stackoverflow.com/users/6050939/vengatesh-subramaniyan"}, "is_accepted": false, "score": -1, "last_activity_date": 1522260047, "last_edit_date": 1522260047, "creation_date": 1522258799, "answer_id": 49540915, "question_id": 49540528, "link": "https://stackoverflow.com/questions/49540528/filling-dynamically-allocated-array-in-c/49540915#49540915", "title": "Filling Dynamically Allocated Array in C++", "body": "<p>You can memset to initialize an array. like </p>\n\n<pre><code>int *arr = new int[5]; \nfill(c, c + 5, 3); //fill(array, array+size, intialvalue)\ncout&lt;&lt;c[4];\n</code></pre>\n\n<p>I hope this will help you.</p>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 957282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xRJxd.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/957282/adam"}, "edited": false, "score": 0, "creation_date": 1522261533, "post_id": 49541061, "comment_id": 86090673, "body": "I&#39;m not sure why you got downvoted. This is the correct answer. The question doesn&#39;t actually deal with a 2-D array, but an array of pointers to dynamically allocated arrays having different sizes which were not saved."}], "tags": [], "owner": {"reputation": 87, "user_id": 3131019, "user_type": "registered", "profile_image": "https://graph.facebook.com/539514542/picture?type=large", "display_name": "Christos Karamoustos", "link": "https://stackoverflow.com/users/3131019/christos-karamoustos"}, "is_accepted": false, "score": 2, "last_activity_date": 1522259323, "creation_date": 1522259323, "answer_id": 49541061, "question_id": 49540528, "link": "https://stackoverflow.com/questions/49540528/filling-dynamically-allocated-array-in-c/49541061#49541061", "title": "Filling Dynamically Allocated Array in C++", "body": "<p>You cannot know or find the size of a dynamic allocated array without actually holding the size in a variable. You can not use the classic <code>sizeof(arr)/sizeof(type)</code> to find the size because the sizeof() a pointer is just its type size and not the total array size. Use std::vector or keep tracking the sizes of each dynamic array.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7518168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf588d5df75710d8064620c5ae2b6a8?s=128&d=identicon&r=PG&f=1", "display_name": "JYasir", "link": "https://stackoverflow.com/users/7518168/jyasir"}, "edited": false, "score": 2, "creation_date": 1522260799, "post_id": 49541374, "comment_id": 86090244, "body": "I wanted to stay on dynamic memory but yeah there are more cons then pros to it. However i do appreciate your feedback&#39;s as it has provided another perspective on how to tackle these interview related questions :-) ..."}, {"owner": {"reputation": 1827, "user_id": 187998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/003aa224fb6ca93a53bd2973a98e242e?s=128&d=identicon&r=PG", "display_name": "Clearer", "link": "https://stackoverflow.com/users/187998/clearer"}, "reply_to_user": {"reputation": 33, "user_id": 7518168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf588d5df75710d8064620c5ae2b6a8?s=128&d=identicon&r=PG&f=1", "display_name": "JYasir", "link": "https://stackoverflow.com/users/7518168/jyasir"}, "edited": false, "score": 1, "creation_date": 1522260878, "post_id": 49541374, "comment_id": 86090289, "body": "If you&#39;re at a job interview where they ask you to do manual memory management, ask them if it&#39;s a trick question."}], "tags": [], "owner": {"reputation": 1827, "user_id": 187998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/003aa224fb6ca93a53bd2973a98e242e?s=128&d=identicon&r=PG", "display_name": "Clearer", "link": "https://stackoverflow.com/users/187998/clearer"}, "is_accepted": false, "score": 0, "last_activity_date": 1522260524, "creation_date": 1522260524, "answer_id": 49541374, "question_id": 49540528, "link": "https://stackoverflow.com/questions/49540528/filling-dynamically-allocated-array-in-c/49541374#49541374", "title": "Filling Dynamically Allocated Array in C++", "body": "<p>I took the liberty to rewrite your program to a more domatic C++ program (including a main function, so you can test it). Technically, this does solve the same problem, but instead of using <code>new</code> and <code>delete</code>, it uses <code>std::vector</code>, which should always be the first thing you should reach for.</p>\n\n<p>Unless you have a very <em>very</em> good reason not to use vector, I advice you forget about <code>new</code>/<code>delete</code>. Know that it's there and get on with your life.</p>\n\n<p>I realize this doesn't actually answer your question. I think it's too long for a comment so I'm providing it as answer instead.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\nint get_an_integer(std::string message)\n{\n    std::cout &lt;&lt; message;\n    int n;\n    std::cin &gt;&gt; n;\n    return n;\n}\n\nint main()\n{\n    std::vector&lt;std::vector&lt;int&gt;&gt; matrix;\n\n    matrix.resize(get_an_integer(\"Number of vectors:\"));\n    for (auto&amp; vector : matrix)\n    {\n        vector.resize(get_an_integer(\"Vector size:\"));\n        for (auto&amp; element : vector)\n            element = get_an_integer(\"Element value:\");\n    }\n\n    for (auto v : matrix)\n    {\n        for (auto e : v)\n            std::cout &lt;&lt; e &lt;&lt; \" \";\n        std::cout &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>Notice how I don't have to keep track of anything and I don't really care about the explicit size of anything. Even the values of the elements aren't interesting.</p>\n\n<p>I hope this helps you. If you have any questions, please ask.</p>\n"}], "owner": {"reputation": 33, "user_id": 7518168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf588d5df75710d8064620c5ae2b6a8?s=128&d=identicon&r=PG&f=1", "display_name": "JYasir", "link": "https://stackoverflow.com/users/7518168/jyasir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4117, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1522274419, "creation_date": 1522257350, "last_edit_date": 1522274419, "question_id": 49540528, "link": "https://stackoverflow.com/questions/49540528/filling-dynamically-allocated-array-in-c", "title": "Filling Dynamically Allocated Array in C++", "body": "<p>I am trying to fill up the multi-dimensional array using dynamic memory allocation and running into problem of how to determine the size of each array.</p>\n\n<p>The sizes are also dynamically generated in the for loop, not sure how i can transport this knowledge into looping construct to tell the compiler when to stop.</p>\n\n<p>Please dont answer the problem directly, just a direction needed so i can figure out on how to solve the problem of determining this,\nfor (int v = 0; v &lt; sizeof(a[y]); v++)</p>\n\n<pre><code>int** a = new int*[n];\n\n    for (int i = 0; i &lt; n; i++) {\n\n        int colcount;\n\n        cout &lt;&lt; \"Enter Size of Array for \" &lt;&lt; i &lt;&lt; \" : \";\n\n        cin &gt;&gt; colcount;\n\n        a[i] = new int[colcount];\n\n    }\n\n    // How to fill the matrix now\n\n    for (int y = 0; y &lt; n; y++) {\n\n        for (int v = 0; v &lt; sizeof(a[y]); v++) {\n\n            cout &lt;&lt; \"Enter Array Content [\" &lt;&lt; y &lt;&lt; \"][\" &lt;&lt; v &lt;&lt; \"] :\";\n\n            cin &gt;&gt; a[y][v];\n\n        }\n\n    }\n</code></pre>\n\n<p><strong>Update:</strong>\nGot it working by bringing the for loop inside.</p>\n\n<pre><code>int** a = new int*[n];\n\nfor (int i = 0; i &lt; n; i++) {\n\n    int colcount;\n\n    cout &lt;&lt; \"Enter Size of Array for \" &lt;&lt; i &lt;&lt; \" : \";\n\n    cin &gt;&gt; colcount;\n\n    a[i] = new int[colcount];\n\n    for (int v = 0; v &lt; colcount; v++) {\n\n        cout &lt;&lt; \"Enter Array Content [\" &lt;&lt; i &lt;&lt; \"][\" &lt;&lt; v &lt;&lt; \"] :\";\n\n        cin &gt;&gt; a[i][v];\n\n        }\n\n    }\n</code></pre>\n\n<p><strong>Last Update:</strong> \nTo better track contents and privileges of template class, i ended up using vectors and with the help of community, here is how i came up.</p>\n\n<pre><code>int n;\n\ncout &lt;&lt; \"Enter Num of Vectors: \";\n\ncin &gt;&gt; n;\n\nvector&lt;vector &lt;int&gt; &gt; mult_arr(n);\n\nfor (int i = 0; i &lt; n; i++) {\n\n    int k;\n\n    cout &lt;&lt; \"Enter size for vec \" &lt;&lt; i &lt;&lt; \":\";\n\n    cin &gt;&gt; k;\n\n    mult_arr[i].resize(k);\n\n    for (int x = 0; x &lt; k; x++) {\n\n        cout &lt;&lt; \"Enter Array Contents [\" &lt;&lt; i &lt;&lt; \"][\" &lt;&lt; x &lt;&lt; \"] :\";\n\n        cin &gt;&gt; mult_arr[i][x];\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c++", "c++14", "sfml"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9565421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b0436beab1b167b9ca6f3e3e0a356c4?s=128&d=identicon&r=PG&f=1", "display_name": "sfmlishard", "link": "https://stackoverflow.com/users/9565421/sfmlishard"}, "edited": false, "score": 0, "creation_date": 1522295500, "post_id": 49542154, "comment_id": 86102810, "body": "Sorry forgot to add that, my collision check is before my movement so that&#39;s not the issue here..."}], "tags": [], "owner": {"reputation": 87, "user_id": 3131019, "user_type": "registered", "profile_image": "https://graph.facebook.com/539514542/picture?type=large", "display_name": "Christos Karamoustos", "link": "https://stackoverflow.com/users/3131019/christos-karamoustos"}, "is_accepted": false, "score": 0, "last_activity_date": 1522263318, "creation_date": 1522263318, "answer_id": 49542154, "question_id": 49540437, "link": "https://stackoverflow.com/questions/49540437/how-to-implement-grid-based-movement-in-sfml/49542154#49542154", "title": "How to implement grid-based movement in SFML?", "body": "<p>I dont know if you do this, but generally you could check the registered move before you apply it (or do the move and undo later if needed) then check if it is colliding with a wall and if it does just ignore the input move. Or you can have a very small margin applied after collision detected so it doesnt collide again if it is not pushed again.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9565421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b0436beab1b167b9ca6f3e3e0a356c4?s=128&d=identicon&r=PG&f=1", "display_name": "sfmlishard", "link": "https://stackoverflow.com/users/9565421/sfmlishard"}, "is_accepted": true, "score": 0, "last_activity_date": 1522300263, "last_edit_date": 1522300263, "creation_date": 1522298967, "answer_id": 49548256, "question_id": 49540437, "link": "https://stackoverflow.com/questions/49540437/how-to-implement-grid-based-movement-in-sfml/49548256#49548256", "title": "How to implement grid-based movement in SFML?", "body": "<p>Finally figured this out:</p>\n\n<pre><code>counter = 0;\n    for(iterWall = wallArray.begin(); iterWall != wallArray.end(); iterWall++) {\n        if(!leftCheck){\n            if( ( (wallArray[counter].rect.getPosition().x + 64) == objectPlayer.rect.getPosition().x ) &amp;&amp; ( (wallArray[counter].rect.getPosition().y) == objectPlayer.rect.getPosition().y ) ) {\n                objectPlayer.canMoveLeft = false; // if character is standing directly to the right of player AND(wall and player is at the same height), player cant move left.\n                leftCheck = true;\n            } else {\n                objectPlayer.canMoveLeft = true;\n            }\n        }\n\n        if(!rightCheck) {\n            if( ( (wallArray[counter].rect.getPosition().x + - 64) == objectPlayer.rect.getPosition().x ) &amp;&amp; ( (wallArray[counter].rect.getPosition().y) == objectPlayer.rect.getPosition().y ) ) {\n                objectPlayer.canMoveRight = false;\n                rightCheck = true;\n            } else {\n                objectPlayer.canMoveRight = true;\n            }\n        }\n\n        if(!downCheck) {\n            if( ( (wallArray[counter].rect.getPosition().y + 64) == objectPlayer.rect.getPosition().y ) &amp;&amp; ( wallArray[counter].rect.getPosition().x == objectPlayer.rect.getPosition().x ) ) {\n                objectPlayer.canMoveUp = false;\n                downCheck = true;\n            } else {\n                objectPlayer.canMoveUp = true;\n            }\n        }\n\n        if(!upCheck) {\n            if( ( (wallArray[counter].rect.getPosition().y - 64) == objectPlayer.rect.getPosition().y ) &amp;&amp; ( wallArray[counter].rect.getPosition().x == objectPlayer.rect.getPosition().x ) ) {\n                objectPlayer.canMoveDown = false;\n                upCheck = true;\n            } else {\n                objectPlayer.canMoveDown = true;\n            }\n        }\n\n        counter++;\n    }\n    upCheck = false;\n    rightCheck = false;\n    downCheck = false;\n    leftCheck = false;\n</code></pre>\n\n<p>When I added more walls to my game I realized that the next wall overwrote the previous walls canMoveUp boolean change. To prevent this change I added some checks as seen above in the code. The checks are added once in game startup but not changed anywhere else in the code but here.</p>\n\n<p>and my updateMovement got split in two to prevent a frame pause:</p>\n\n<pre><code>void player::updateEndPos() {\n    if( (EndXPos == GetPosition().x) &amp;&amp; (EndYPos == GetPosition().y) ) {\n        if(canMoveUp &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Up)) {\n            direction = 1; // direction set to Up\n\n            EndYPos = GetPosition().y - 64; // Sets end-pos so the character knows where to stop.\n\n        } else if(canMoveRight &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Right)) {\n        direction = 2; // direction set to Right\n\n            EndXPos = GetPosition().x + 64;\n\n        } else if(canMoveDown &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Down)) {\n            direction = 3; // direction set to Down\n\n        EndYPos = GetPosition().y + 64;\n\n        } else if(canMoveLeft &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Left)) {\n            direction = 4; // direction set to Left\n\n            EndXPos = GetPosition().x - 64;\n\n        }\n    }\n}\n</code></pre>\n\n<p>as well as:</p>\n\n<pre><code>void player::updateMovement() {\n    if(EndYPos != GetPosition().y) {\n        if(direction == 1) {\n            rect.move(0, -movementSpeed); // moves player at \"movementSpeed\" speed.\n        } else if(direction == 3) {\n                rect.move(0, movementSpeed);\n        } else {\n            std::cout &lt;&lt; \"ERROR IN Y AXIS\" &lt;&lt; std::endl;\n        }\n        } else if(EndXPos != GetPosition().x) {\n            if(direction == 2) {\n                rect.move(movementSpeed, 0);\n        } else if(direction == 4) {\n            rect.move(-movementSpeed, 0);\n        } else {\n            std::cout &lt;&lt; \"ERROR IN X AXIS\" &lt;&lt; std::endl;\n        }\n    }\n}\n</code></pre>\n\n<p>First I check collision, then I execute updateEndPos() and directly after that I execute updateMovement().</p>\n\n<p>I split up updateEndPos and updateMovement because if I didn't I would've gotten one frame where the updateEndPos() part would not execute and the player would be standing still in that frame. It was very visible but this fixed it and now the character's movement looks smooth.</p>\n"}], "owner": {"reputation": 11, "user_id": 9565421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b0436beab1b167b9ca6f3e3e0a356c4?s=128&d=identicon&r=PG&f=1", "display_name": "sfmlishard", "link": "https://stackoverflow.com/users/9565421/sfmlishard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 49548256, "answer_count": 2, "score": 1, "last_activity_date": 1522300263, "creation_date": 1522257008, "last_edit_date": 1522295590, "question_id": 49540437, "link": "https://stackoverflow.com/questions/49540437/how-to-implement-grid-based-movement-in-sfml", "title": "How to implement grid-based movement in SFML?", "body": "<p>I can't get good 32x32 grid-based movement in SFML and need some help figuring out how to make it work. This is what I got so far:</p>\n\n<pre><code>void player::updateMovement()\n{\nif(walkFinish) {\n    pixelWalked = 0;\n    if(sf::Keyboard::isKeyPressed(sf::Keyboard::Up)) {\n        direction = 1; // direction set to up\n\n        EndYPos = GetPosition().y - 32; // The position the character is moving towards.\n\n        walkFinish = false;\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Right) &amp;&amp; canMoveRight) {\n        direction = 2; // Right\n\n        EndXPos = GetPosition().x + 32;\n\n        walkFinish = false;\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Down)) {\n        direction = 3; // Down\n\n        EndYPos = GetPosition().y + 32;\n\n        walkFinish = false;\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Left)) {\n        direction = 4; // Left\n\n        EndXPos = GetPosition().x - 32;\n\n        walkFinish = false;\n    }\n} else if(!walkFinish &amp;&amp; direction &gt; 0 &amp;&amp; direction &lt; 5) { // if walk is not finished, move character.\n    if(direction == 1 &amp;&amp; !(EndYPos == GetPosition().y)){ // Up\n        rect.move(0, -movementSpeed);\n\n    } else if(direction == 2 &amp;&amp; !(EndXPos == GetPosition().x) &amp;&amp; canMoveRight) { // Right\n        rect.move(movementSpeed, 0);\n\n    } else if(direction == 3 &amp;&amp; !(EndYPos == GetPosition().y)) { // Down\n        rect.move(0, movementSpeed);\n\n    } else if(direction == 4 &amp;&amp; !(EndXPos == GetPosition().x)) { // Left\n        rect.move(-movementSpeed, 0);\n    }\n}\n\nif( ((EndXPos == GetPosition().x) &amp;&amp; (EndYPos == GetPosition().y)) &amp;&amp; !(sf::Keyboard::isKeyPressed(sf::Keyboard::Up)) &amp;&amp; !(sf::Keyboard::isKeyPressed(sf::Keyboard::Right)) &amp;&amp; !(sf::Keyboard::isKeyPressed(sf::Keyboard::Down)) &amp;&amp; !(sf::Keyboard::isKeyPressed(sf::Keyboard::Left)) ) {\n    walkFinish = true; // if character has reached endpos in both axis, walkFinish becomes true\n} else if( ((EndXPos == GetPosition().x) &amp;&amp; (EndYPos == GetPosition().y))) { // This gets rid of a 1 frame character pause and makes the movement smoother\n    if(sf::Keyboard::isKeyPressed(sf::Keyboard::Up)) {\n        direction = 1; // direction set to up\n        EndYPos = GetPosition().y - 32; // Same deal as the first if statement of this function.\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Right) &amp;&amp; canMoveRight) {\n        direction = 2;\n        EndXPos = GetPosition().x + 32;\n\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Down)) {\n        direction = 3;\n        EndYPos = GetPosition().y + 32;\n\n    } else if(sf::Keyboard::isKeyPressed(sf::Keyboard::Left)) {\n        direction = 4;\n        EndXPos = GetPosition().x - 32;\n\n    }\n\n}\n}\n</code></pre>\n\n<p>and my collision check:</p>\n\n<pre><code>counter = 0;\nfor(iterWall = wallArray.begin(); iterWall != wallArray.end(); iterWall++) {\n    if(objectPlayer.rect.getPosition().x == (wallArray[counter].rect.getPosition().x + 64)) {\n        objectPlayer.canMoveLeft = false;\n    } else if(objectPlayer.rect.getPosition().x == (wallArray[counter].rect.getPosition().x - 64)) {\n        objectPlayer.canMoveRight = false;\n    } else if(objectPlayer.rect.getPosition().y == (wallArray[counter].rect.getPosition().y - 64)) {\n        objectPlayer.canMoveDown = false;\n    } else if(objectPlayer.rect.getPosition().y == (wallArray[counter].rect.getPosition().y + 64)) {\n        objectPlayer.canMoveUp = false;\n    } else {\n        objectPlayer.canMoveUp = true;\n        objectPlayer.canMoveRight = true;\n        objectPlayer.canMoveDown = true;\n        objectPlayer.canMoveLeft = true;\n    }\n\n    counter++;\n}\n</code></pre>\n\n<p>The problem with this code is the collision part because the character, when it collides with a wall, has a risk of getting stuck. Collision even happens above the wall and my character cant move there because of it. I have no idea how to implement grid-based movement and collision, anyone got a sample code, a blog-post, a tutorial or some hints?</p>\n\n<p>Edit:\nThe collision part happens before the updateMovement function!</p>\n"}, {"tags": ["c++", "arrays", "function", "c++11", "struct"], "comments": [{"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "edited": false, "score": 1, "creation_date": 1522257469, "post_id": 49540385, "comment_id": 86088356, "body": "What compiler are you using? Godbolt seems happy with a stripped down example: <a href=\"https://godbolt.org/g/Yu7P8N\" rel=\"nofollow noreferrer\">godbolt.org/g/Yu7P8N</a>"}, {"owner": {"reputation": 9, "user_id": 9565431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-riHUHQbqVGA/AAAAAAAAAAI/AAAAAAAAAIU/GyOHUb9SuAY/photo.jpg?sz=128", "display_name": "Logan Christianson", "link": "https://stackoverflow.com/users/9565431/logan-christianson"}, "reply_to_user": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "edited": false, "score": 0, "creation_date": 1522268816, "post_id": 49540385, "comment_id": 86094773, "body": "@StephenNewell Visual Studio Community 2017. I downloaded whatever C++ games package is recommended to use when you first open up the application."}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "edited": false, "score": 0, "creation_date": 1522269741, "post_id": 49540385, "comment_id": 86095284, "body": "Godbolt seems fine with Visual Studio: <a href=\"https://godbolt.org/g/C2KKZB\" rel=\"nofollow noreferrer\">godbolt.org/g/C2KKZB</a>. Are you sure the example you provided fails?"}, {"owner": {"reputation": 9, "user_id": 9565431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-riHUHQbqVGA/AAAAAAAAAAI/AAAAAAAAAIU/GyOHUb9SuAY/photo.jpg?sz=128", "display_name": "Logan Christianson", "link": "https://stackoverflow.com/users/9565431/logan-christianson"}, "reply_to_user": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "edited": false, "score": 0, "creation_date": 1522270251, "post_id": 49540385, "comment_id": 86095564, "body": "@StephenNewell Well, it&#39;s one of 25 errors VS is currently throwing at me, and 24 of the 25 are all pertaining to my various usage of the struct object."}, {"owner": {"reputation": 9, "user_id": 9565431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-riHUHQbqVGA/AAAAAAAAAAI/AAAAAAAAAIU/GyOHUb9SuAY/photo.jpg?sz=128", "display_name": "Logan Christianson", "link": "https://stackoverflow.com/users/9565431/logan-christianson"}, "reply_to_user": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "edited": false, "score": 0, "creation_date": 1522270342, "post_id": 49540385, "comment_id": 86095611, "body": "Here&#39;s a dumb question, do structures have to be in a header file? I currently have my struct objects being defined in a .cpp file. I never put a lot of thought into how I created classes but I always created 1 class per header file, and in this scenario, I&#39;m creating multiple structs (which are pretty much classes from my understanding) in a .cpp file."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 9565431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-riHUHQbqVGA/AAAAAAAAAAI/AAAAAAAAAIU/GyOHUb9SuAY/photo.jpg?sz=128", "display_name": "Logan Christianson", "link": "https://stackoverflow.com/users/9565431/logan-christianson"}, "is_accepted": false, "score": 0, "last_activity_date": 1522272453, "creation_date": 1522272453, "answer_id": 49544453, "question_id": 49540385, "link": "https://stackoverflow.com/questions/49540385/argument-of-type-incompatible-with-parameter-of-type/49544453#49544453", "title": "Argument of type __ Incompatible with Parameter of type __", "body": "<p>So I'm answering the question myself, I figured it out. I didn't think to put the struct object creation in a header file, and left it in a source file. Putting in a header file instead fixed the problems I was having. My mistake.</p>\n"}], "owner": {"reputation": 9, "user_id": 9565431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-riHUHQbqVGA/AAAAAAAAAAI/AAAAAAAAAIU/GyOHUb9SuAY/photo.jpg?sz=128", "display_name": "Logan Christianson", "link": "https://stackoverflow.com/users/9565431/logan-christianson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1522272453, "creation_date": 1522256793, "last_edit_date": 1522257236, "question_id": 49540385, "link": "https://stackoverflow.com/questions/49540385/argument-of-type-incompatible-with-parameter-of-type", "title": "Argument of type __ Incompatible with Parameter of type __", "body": "<p>I'm a student in a college creating a small little stock market simulator game for a class. We were asked to specifically use structures as opposed to classes, which I'm more well-versed in.</p>\n\n<p>I'm trying to set up an array of \"Stock\" structure objects, and am attempting to pass (either/or, both have failed) the array of Stock objects and the Stock objects themselves to a function, each in a separate file. This is the Stock structure.</p>\n\n<pre><code>struct Stock {\n string FullName;\n string Ticker;\n string Info;\n string Chairman;\n double Revenue;\n double AvgVol;\n double High52;\n double Low52;\n double CurrentPrice;\n Stock() {\n     FullName = \"\";\n     Ticker = \"\";\n     Info = \"\";\n     Chairman = \"\";\n     Revenue = 0;\n     AvgVol = 0;\n     High52 = 0;\n     Low52 = 0;\n     CurrentPrice = 0;\n } };\n</code></pre>\n\n<p>This is in it's own file dedicated specifically for creating various structures used throughout the game.\nThis is how I attempt to create and call the stocks in the main driver function.</p>\n\n<pre><code>Stock Apple;\nStock Chipotle;\nStock Disney;\nStock Tesla;\nStock stockList[4] = { Apple, Chipotle, Disney, Tesla }; //Will access the stocks from this array from here on in\nSetupStructs(stockList); //Function that creates the 4 company's information as struct objects to be utilized later\n</code></pre>\n\n<p>This is the SetupStructs function in a third file, dedicated specifically for functions, so as to not clog up the main file.</p>\n\n<pre><code>void SetupStructs(Stock stockList[]) {\n\nstockList[0].FullName = \"Apple Incorporated\";\n\nstockList[1].FullName = \"Chipotle Mexican Grill Incorporated\";\n\nstockList[2].FullName = \"Walt Disney Company\";\n\nstockList[3].FullName = \"Tesla Motors Incorporated\"; };\n</code></pre>\n\n<p>If it's not obvious, I've left 90% of the rest of the SetupStructs function out of what I pasted so as to not clog up the page with unnecessary code.</p>\n\n<p>The problem is: \"SetupStructs(stockList)\" is throwing the error:</p>\n\n<pre><code>argument of type \"Stock *\" is incompatible with parameter of type \"Stock *\"\n</code></pre>\n\n<p>What am I doing wrong? Why is this error appearing? Apologies for the mini-essay.</p>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "openmp"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 2, "creation_date": 1522256551, "post_id": 49540292, "comment_id": 86087828, "body": "<b><i>C1001: An internal error has occurred in the compiler</i></b> Likely means the compiler has a bug. Try its advice."}, {"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522256724, "post_id": 49540292, "comment_id": 86087921, "body": "And where is the line 8 of <code>sudokugrid.cpp</code>?"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522256788, "post_id": 49540292, "comment_id": 86087962, "body": "@Mihayl A. A  first line of the function <code>bool sudoku::solvePuzzle(int grid[CELL][CELL]) {</code>"}, {"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522256814, "post_id": 49540292, "comment_id": 86087978, "body": "And what&#39;s the value for <code>CELL</code>? I hope not big?"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522256887, "post_id": 49540292, "comment_id": 86088020, "body": "@MihaylA.A the value is 9"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1522256964, "post_id": 49540292, "comment_id": 86088067, "body": "@drescherjm I dont know how i can simplify the code and by changing does it mean just move stuff around or actually change logic."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1522257192, "post_id": 49540292, "comment_id": 86088194, "body": "Values are 1 .. 9 in sudoku. I am not sure there is an out of bounds access here since we don&#39;t have the code for findEmptyCell()"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "edited": false, "score": 0, "creation_date": 1522257325, "post_id": 49540292, "comment_id": 86088271, "body": "The code works sequentially and produces accurate results so there is no out of bounds happening"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1522257474, "post_id": 49540292, "comment_id": 86088358, "body": "<b><i>changing does it mean just move stuff around or actually change logic</i></b> Sometimes it is just moving stuff around. Sometimes it requires changing the code. Sometimes it&#39;s triggered by bad user code sometimes it is not. Sometimes a compiler upgrade will fix the issue. If you can&#39;t figure things out try an online compiler like ideone.com to see if there are any warnings."}, {"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522257658, "post_id": 49540292, "comment_id": 86088467, "body": "The problem, aside from the wrong indexing, is with the <code>return true;</code> in the loop. Make a variable and use <code>break;</code> Repro: <a href=\"https://godbolt.org/g/4m7xu9\" rel=\"nofollow noreferrer\">godbolt.org/g/4m7xu9</a> and Fix - <a href=\"https://godbolt.org/g/MV3a3w\" rel=\"nofollow noreferrer\">godbolt.org/g/MV3a3w</a>"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522258092, "post_id": 49540292, "comment_id": 86088706, "body": "@MihaylA.A ah okay so i cant put a return there, I got it to run but now I guess I have to change my logic to account for that."}, {"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 2, "creation_date": 1522258193, "post_id": 49540292, "comment_id": 86088775, "body": "But looks like <code>break</code> is also not good &quot;OpenMP requires that a loop construct processes each iteration. Breaking out of the loop (using return, goto, break, throw or other means) is not allowed.&quot; - <a href=\"https://bisqwit.iki.fi/story/howto/openmp/\" rel=\"nofollow noreferrer\">bisqwit.iki.fi/story/howto/openmp</a>"}, {"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522258353, "post_id": 49540292, "comment_id": 86088865, "body": "<a href=\"http://www.thinkingparallel.com/2007/06/29/breaking-out-of-loops-in-openmp/\" rel=\"nofollow noreferrer\">Breaking Out of Loops in OpenMP</a> You have to change the loop to continue looping til end"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522259125, "post_id": 49540292, "comment_id": 86089273, "body": "@MihaylA.A I&#39;m having trouble understanding where i should put the abort. Should it be for the whole for loop like in the example?"}, {"owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522260071, "post_id": 49540292, "comment_id": 86089817, "body": "@MihaylA.A I figured it out thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "is_accepted": false, "score": 6, "last_activity_date": 1522261914, "creation_date": 1522261914, "answer_id": 49541740, "question_id": 49540292, "link": "https://stackoverflow.com/questions/49540292/c-fatal-error-c1001-an-internal-error-has-occurred-in-the-compiler-with-openm/49541740#49541740", "title": "C++ fatal error C1001: An internal error has occurred in the compiler with openMP", "body": "<p>To summarize, the problem is returning from inside the parallelized <code>for</code> loop.</p>\n\n<pre><code>#pragma omp parallel for\n    for (int num = 1; num &lt;= 9; num++) {\n            ...\n            if (solvePuzzle(grid))\n                return true;           // BAD\n\n            ...\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>\"OpenMP requires that a loop construct processes each iteration. Breaking out of the loop (using return, goto, break, throw or other means) is not allowed.\"</p>\n  \n  <p>-- <a href=\"https://bisqwit.iki.fi/story/howto/openmp/\" rel=\"noreferrer\">https://bisqwit.iki.fi/story/howto/openmp/</a></p>\n</blockquote>\n\n<p>So the solution is to let the loop loop through all iterations (See also <a href=\"http://www.thinkingparallel.com/2007/06/29/breaking-out-of-loops-in-openmp/\" rel=\"noreferrer\">Breaking Out of Loops</a>).</p>\n\n<pre><code>bool solvePuzzle(int grid[CELL][CELL]) {\n    bool solved = false;\n    int row, col;\n\n    if (!findEmptyCell(grid, row, col))\n        return true;\n\n    #pragma omp parallel for\n    for (int num = 1; num &lt;= 9; num++) {\n        #pragma omp flush (solved)\n        if (!solved &amp;&amp; checkAccuracy(grid, row, col, num)) {\n            grid[row][col] = num;\n\n            if (solvePuzzle(grid)) {\n                solved = true;\n                #pragma omp flush (solved)\n            } else {\n                grid[row][col] = EMPTY_CELL;\n            }\n        }\n    }\n    return solved;\n}\n</code></pre>\n\n<p><a href=\"https://godbolt.org/g/4m7xu9\" rel=\"noreferrer\">Repro</a></p>\n\n<p><a href=\"https://godbolt.org/g/a8A7LZ\" rel=\"noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 39, "user_id": 5998488, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208625729430744/picture?type=large", "display_name": "John Foster", "link": "https://stackoverflow.com/users/5998488/john-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522261914, "creation_date": 1522256426, "question_id": 49540292, "link": "https://stackoverflow.com/questions/49540292/c-fatal-error-c1001-an-internal-error-has-occurred-in-the-compiler-with-openm", "title": "C++ fatal error C1001: An internal error has occurred in the compiler with openMP", "body": "<p>I have a program that solves sudoku puzzles and I've gotten it to work sequentially, but now I'm trying to parallelize it using openMP. The function <code>solvePuzzle()</code> includes the algorithm and I want to parallelize the for loop within it however when I add <code>#pragma omp parallel for</code> statement before my for loop i get this error:  <code>fatal error C1001: An internal error has occurred in the compiler.</code> </p>\n\n<p>The code for the function is <code>solvePuzzle()</code>:</p>\n\n<pre><code>    bool sudoku::solvePuzzle(int grid[CELL][CELL]) {\n        int row, col;\n\n        if (!findEmptyCell(grid, row, col))\n            return true; \n    #pragma omp parallel for\n        for (int num = 1; num &lt;= 9; num++) {\n            if (checkAccuracy(grid, row, col, num)) {\n                grid[row][col] = num;\n\n                if (solvePuzzle(grid))\n                    return true;\n\n                grid[row][col] = EMPTY_CELL;\n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>Here is the driver with main if it helps:</p>\n\n<pre><code>#include \"SudokuGrid.h\"\n\nusing namespace std;\n\nint main() {\n\n    sudoku sudoku;\n    clock_t t1, t2;\n    t1 = clock();\n\n    if (sudoku.readPuzzle(\"1.txt\")) {\n        sudoku.printGrid(sudoku.grid);\n    }\n    else {\n        cout &lt;&lt; \"Incorrect file\" &lt;&lt; endl;\n    }\n    cout &lt;&lt; endl;\n    if (sudoku.solvePuzzle(sudoku.grid) == true)\n        sudoku.printGrid(sudoku.grid);\n    else\n        printf(\"No solution exists\");\n\n    t2 = clock();\n    printf(\"Time to execute = %1d ms\\n\", (t2 - t1));\n\n    return 0;\n}\n</code></pre>\n\n<p>Full error when built:  </p>\n\n<pre><code>1&gt;------ Build started: Project: Sudoku, Configuration: Debug Win32 ------\n1&gt;SudokuGrid.cpp\n1&gt;c:\\users\\john\\source\\repos\\sudoku\\sudoku\\sudokugrid.cpp(8): fatal error \nC1001: An internal error has occurred in the compiler.\n1&gt;(compiler file 'f:\\dd\\vctools\\compiler\\utc\\src\\p2\\main.c', line 258)\n1&gt; To work around this problem, try simplifying or changing the program near \nthe locations listed above.\n1&gt;Please choose the Technical Support command on the Visual C++\n1&gt; Help menu, or open the Technical Support help file for more information\n1&gt;\n1&gt;Done building project \"Sudoku.vcxproj\" -- FAILED.\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n"}, {"tags": ["c++", "malloc", "free", "beginthread"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522256152, "post_id": 49540187, "comment_id": 86087586, "body": "Looks to me like <code>args</code> and <code>arg</code> point to the same allocation. You&#39;re freeing it twice."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522256241, "post_id": 49540187, "comment_id": 86087632, "body": "By the way, can I talk you into using <code>new</code>? A Smart pointer like <code>std::unique_ptr</code> should be appropriate here as well."}, {"owner": {"reputation": 3, "user_id": 9565400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jop Hoeijmakers", "link": "https://stackoverflow.com/users/9565400/jop-hoeijmakers"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1522256431, "post_id": 49540187, "comment_id": 86087761, "body": "It seems you are totally right, when i comment the line: free(args), the free(arg) works fine. I&#39;ll look into your suggestion, i am a bit new to pointers so i&#39;ll have to try it out a little more. Thanks for your help :)"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1522256792, "post_id": 49540187, "comment_id": 86087965, "body": "Use <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">valgrind</a> next time"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522257840, "post_id": 49540187, "comment_id": 86088550, "body": "As you pass in the parameter as function argument anyway, there is no need at all for the global variable..."}], "answers": [{"tags": [], "owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "is_accepted": true, "score": -2, "last_activity_date": 1522314309, "last_edit_date": 1522314309, "creation_date": 1522256512, "answer_id": 49540315, "question_id": 49540187, "link": "https://stackoverflow.com/questions/49540187/error-with-free-function-after-malloc/49540315#49540315", "title": "Error with free function after malloc", "body": "<p>Your both pointers respectively <code>args</code> and <code>arg</code> are pointing to the same memory location and you are trying to release same memory location twice, and that creating the issue here. Please see below:-</p>\n\n<pre><code> free(args); //args-&gt;arg here args is pointing to arg you have just type cast it from void\n free(arg);//you have already release the memory in the above call so this is wrong\n</code></pre>\n\n<p>Just try like this for understanding, below example is not a solution but for your understanding. Here you assign <code>args = NULL</code> and that will be reflected in <code>arg = NULL</code> hence <code>if(arg != NULL)</code> will be false and hence <code>free(arg);</code> will not be call.:-</p>\n\n<pre><code>free(args); \nargs = NULL;\nif(arg != NULL)\n  free(arg);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2045, "user_id": 1077785, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/7131b485716736485a3d7a2e13846786?s=128&d=identicon&r=PG", "display_name": "Tomaz Canabrava", "link": "https://stackoverflow.com/users/1077785/tomaz-canabrava"}, "is_accepted": false, "score": -2, "last_activity_date": 1522256793, "creation_date": 1522256793, "answer_id": 49540384, "question_id": 49540187, "link": "https://stackoverflow.com/questions/49540187/error-with-free-function-after-malloc/49540384#49540384", "title": "Error with free function after malloc", "body": "<p>The number of free calls needs to be the same as malloc.\nyou malloc the conde only once, in  </p>\n\n<pre><code>arg = (t *)malloc(sizeof(t));\n</code></pre>\n\n<p>but you free the same address twice:</p>\n\n<pre><code>free(args);\nfree(arg);\n</code></pre>\n\n<p>Now, this is C code, not C++ (as C++ you would use new / delete, or even better, you would <em>not</em> use nor new nor delete, and pass the variables via reference in the stack like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;windows.h&gt;\n\nstruct MyType {\n    int StartNode;\n    int EndNode;\n};\n\nvoid myFunc(const MyType &amp;param) {\n    const auto x = args.StartNode;\n    const auto y = args.EndNode;\n    std::cout &lt;&lt; \"x=\" &lt;&lt; x &lt;&lt; \", y=\" &lt;&lt; std::endl;\n}\n\nint main()\n{\n    auto arg = MyType{};\n    arg.StartNode = 101;\n    arg.EndNode = 103;\n    std::thread thread(myFunc, arg);\n    thread.join();\n    cin.get();\n    return 0;\n}\n</code></pre>\n\n<p>Some random notes:</p>\n\n<ul>\n<li>you are mixing C with C++, they are <em>not</em> the same language</li>\n<li>you are using windows-only calls, use std (like in the thread example)</li>\n<li>don't use using namespace std; this makes code unreadable in no time.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4035558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z5LwclQ78k4/AAAAAAAAAAI/AAAAAAAAAFQ/dwAhgv88U1k/photo.jpg?sz=128", "display_name": "Yashwanth Yash", "link": "https://stackoverflow.com/users/4035558/yashwanth-yash"}, "is_accepted": false, "score": 0, "last_activity_date": 1606766003, "creation_date": 1606766003, "answer_id": 65080255, "question_id": 49540187, "link": "https://stackoverflow.com/questions/49540187/error-with-free-function-after-malloc/65080255#65080255", "title": "Error with free function after malloc", "body": "<p>Both args and arg are pointing to same memory location. Calling free on any one should be enough.</p>\n"}], "owner": {"reputation": 3, "user_id": 9565400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jop Hoeijmakers", "link": "https://stackoverflow.com/users/9565400/jop-hoeijmakers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 49540315, "answer_count": 3, "score": 0, "last_activity_date": 1606766003, "creation_date": 1522256014, "question_id": 49540187, "link": "https://stackoverflow.com/questions/49540187/error-with-free-function-after-malloc", "title": "Error with free function after malloc", "body": "<p>The code below results in a crash of C++ on the line: <strong>free(arg)</strong>. I am trying to prevent a memory leak from happening but i can't manage to free the data i stored in heap memory. Can someone help me with this problem?</p>\n\n<p>Note that <strong>free(args)</strong> works fine.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;process.h&gt;\n#include &lt;iostream&gt;\n\n#include &lt;windows.h&gt;\n\nusing namespace std;\n\ntypedef struct {\n    int StartNode;\n    int EndNode;\n}t;\nt *arg;\n\nvoid myFunc(void *param) {\n    t *args = (t*)param;\n    int x = args-&gt;StartNode;\n    int y = args-&gt;EndNode;\n    printf(\"x=%d, y=%d\\n\", x, y);\n    free(args);\n    free(arg);\n}\n\nint main()\n{\n    HANDLE handle;\n    arg = (t *)malloc(sizeof(t));\n    arg-&gt;StartNode = 101;\n    arg-&gt;EndNode = 103;\n    handle = (HANDLE)_beginthread(myFunc, 0, (void*)arg);\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1522255889, "post_id": 49540109, "comment_id": 86087429, "body": "This is why you put the entire class definition in the header files that are included before all method implementations."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1522256281, "post_id": 49540109, "comment_id": 86087657, "body": "&quot;But what if I want to access the member of a class that defined later and I insist this calling function defined before the definition of the class&quot; - you can&#39;t. Possible XY problem."}, {"owner": {"reputation": 375, "user_id": 5247484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74ee6c59550a64a34726176580d6baed?s=128&d=identicon&r=PG&f=1", "display_name": "sirius", "link": "https://stackoverflow.com/users/5247484/sirius"}, "edited": false, "score": 0, "creation_date": 1522297690, "post_id": 49540109, "comment_id": 86103374, "body": "@NeilButterworth Thanks for reminding, I&#39;ve made the question more properly."}], "answers": [{"tags": [], "owner": {"reputation": 2602, "user_id": 4341534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001c92ef74cb305ff8318eebeaa04ab3?s=128&d=identicon&r=PG&f=1", "display_name": "patatahooligan", "link": "https://stackoverflow.com/users/4341534/patatahooligan"}, "is_accepted": true, "score": 2, "last_activity_date": 1522256639, "last_edit_date": 1522256639, "creation_date": 1522256297, "answer_id": 49540258, "question_id": 49540109, "link": "https://stackoverflow.com/questions/49540109/access-the-member-of-a-class-that-defined-later-in-c/49540258#49540258", "title": "Access the member of a class that defined later in C++", "body": "<p>You cannot do that. Any use of a declared but not defined class cannot access its internals or use any knowledge of them, eg size or layout. You can use <code>World*</code> and <code>World&amp;</code> but not dereference them in any way.</p>\n\n<p>The common way to handle this case is to define the class in a header file. That definition must define all member variables and declare member functions, but it does not need to define those functions. Now the compiler knows the internals of the class and can use it accordingly.</p>\n\n<p>Here's an example of how visibility of a class affects what you can do with it.</p>\n\n<pre><code>class World;\n\nvoid func(const World&amp; w) {\n    std::cout &lt;&lt; w; // Okay, only uses reference\n    std::cout &lt;&lt; w.name; // error\n    World w2 = w1; // error, compiler needs to know that class offers copy constructor\n    w.do_something(); // error, compiler doesn't know what this is\n}\n\nclass World {\npublic:\n    std::string name;\n\n    void do_something() const; // Doesn't need implementation to be called\n}\n\nstd::ostream&amp; operator&lt;&lt;(std::ostream s, const World&amp; w) {\n    std::cout &lt;&lt; w.name; // OK\n    w.do_something(); // OK\n    return s;\n}\n</code></pre>\n\n<p>Note that <code>World::do_something()</code> needs to be defined somewhere, but that could even be a separate translation unit. This mechanism allows the definition of classes in .h files and the definition of their methods in .cpp files. If no definition exists across the project, you won't get a compiler error, but you will get a linker error.</p>\n"}], "owner": {"reputation": 375, "user_id": 5247484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74ee6c59550a64a34726176580d6baed?s=128&d=identicon&r=PG&f=1", "display_name": "sirius", "link": "https://stackoverflow.com/users/5247484/sirius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 49540258, "answer_count": 1, "score": 0, "last_activity_date": 1522297270, "creation_date": 1522255729, "last_edit_date": 1522297270, "question_id": 49540109, "link": "https://stackoverflow.com/questions/49540109/access-the-member-of-a-class-that-defined-later-in-c", "title": "Access the member of a class that defined later in C++", "body": "<p>I got error:</p>\n\n<pre><code>/Users/apple/Desktop/c.cpp:9:3: error: member access into incomplete type 'const World'\n        w.name;\n         ^\n/Users/apple/Desktop/c.cpp:6:7: note: forward declaration of 'World'\nclass World;\n      ^\n1 error generated.\n</code></pre>\n\n<p>when run:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\nclass World;\n\nvoid show_name(const World&amp; w) {\n    cout &lt;&lt; w.name &lt;&lt; endl;\n    return;\n}\n\nclass World {\npublic:\n    string name;\n};\n</code></pre>\n\n<p>The following link provided the methods that using the class type defined later,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11144949/defining-a-class-member-with-a-class-type-defined-later-in-c\">Defining a class member with a class type defined later in C++</a></p>\n\n<p>But what if I want to access the member of a class that defined later <s>and I insist this calling function defined before the definition of the class,</s> like the example I used.</p>\n"}, {"tags": ["c++", "xcode", "macos", "c++11"], "comments": [{"owner": {"reputation": 24690, "user_id": 350272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/625bc443534e86742d2f865a4f1a5ad7?s=128&d=identicon&r=PG", "display_name": "JustSid", "link": "https://stackoverflow.com/users/350272/justsid"}, "edited": false, "score": 2, "creation_date": 1522255442, "post_id": 49539962, "comment_id": 86087166, "body": "Because the &quot;terminal&quot; buffers your <code>stdout</code> whereas it gets flushed immediately by Xcode. Either flush stdout yourself or add <code>std::endl</code> at the end which does it implicitly"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 24690, "user_id": 350272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/625bc443534e86742d2f865a4f1a5ad7?s=128&d=identicon&r=PG", "display_name": "JustSid", "link": "https://stackoverflow.com/users/350272/justsid"}, "edited": false, "score": 1, "creation_date": 1522255622, "post_id": 49539962, "comment_id": 86087285, "body": "@JustSid: Answers in the answers section please."}, {"owner": {"reputation": 24690, "user_id": 350272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/625bc443534e86742d2f865a4f1a5ad7?s=128&d=identicon&r=PG", "display_name": "JustSid", "link": "https://stackoverflow.com/users/350272/justsid"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1522255708, "post_id": 49539962, "comment_id": 86087321, "body": "@Bathsheba I was writing a fully fleshed out answer after posting the comment. I have incorporated parts of it into the community wiki answer"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1522260145, "post_id": 49539962, "comment_id": 86089865, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32652591/cout-not-working-in-the-case-of-an-infinite-loop\">cout not working in the case of an infinite loop</a>"}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 3, "last_activity_date": 1522255768, "last_edit_date": 1522255768, "creation_date": 1522255535, "answer_id": 49540048, "question_id": 49539962, "link": "https://stackoverflow.com/questions/49539962/why-doesnt-stdthis-threadsleep-for-work-in-macos-terminal/49540048#49540048", "title": "Why doesn&#39;t std::this_thread::sleep_for() work in MacOS terminal?", "body": "<p><code>std::this_thread::sleep_for()</code> works just fine in the Terminal as well, the problem is that <code>stdout</code> is buffered on the terminal. <code>stdout</code> can either be explicitly flushed or it can be flushed implictly either if it the buffer gets too full or when encountering something like a new line character.</p>\n\n<p>Either flush stdout yourself or add <code>std::endl</code> at the end which does it implicitly.</p>\n\n<p>You could also use <code>std::cerr &lt;&lt; \"loop\";</code> as the error stream is often unbuffered (although the C++ standard does not insist on that).</p>\n"}], "owner": {"reputation": 14499, "user_id": 3589092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7ROkk.jpg?s=128&g=1", "display_name": "kemicofa ghost", "link": "https://stackoverflow.com/users/3589092/kemicofa-ghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 49540048, "answer_count": 1, "score": 2, "last_activity_date": 1522258142, "creation_date": 1522255231, "last_edit_date": 1522255451, "question_id": 49539962, "link": "https://stackoverflow.com/questions/49539962/why-doesnt-stdthis-threadsleep-for-work-in-macos-terminal", "title": "Why doesn&#39;t std::this_thread::sleep_for() work in MacOS terminal?", "body": "<h2>Explanation</h2>\n\n<p>Take for example this basic code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\nint main(int argc, const char * argv[]) {\n    while(true){\n        std::this_thread::sleep_for(std::chrono::milliseconds(1000));\n        std::cout &lt;&lt; \"loop\";\n    }\n}\n</code></pre>\n\n<p>When I run this in XCode, it works exactly as expected. Every second it prints out, \"loop\". However, when I run this in my terminal, nothing happens. The code seems to be \"running\" but nothing gets printed to screen.</p>\n\n<h2>Question:</h2>\n\n<p>Why does <code>std::this_thread::sleep_for()</code> work in the XCode terminal but not the standard MacOS terminal?</p>\n"}, {"tags": ["c++", "csv", "type-conversion"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1522255924, "post_id": 49539880, "comment_id": 86087450, "body": "Re: &quot; I have a csv with ; as separator&quot; -- so, you have an <b>ssv</b>."}, {"owner": {"reputation": 1, "user_id": 5951521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d90b21740703645b17d3214ddb5646?s=128&d=identicon&r=PG", "display_name": "Iceknight", "link": "https://stackoverflow.com/users/5951521/iceknight"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1522256206, "post_id": 49539880, "comment_id": 86087617, "body": "I converted the xlsx file to csv but the output was a csv with ; as separator. Honestly i don&#39;t know why but it isn&#39;t a problem for me."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": -1, "last_activity_date": 1524580532, "last_edit_date": 1524580532, "creation_date": 1522258088, "answer_id": 49540727, "question_id": 49539880, "link": "https://stackoverflow.com/questions/49539880/conversion-to-int16-t-c/49540727#49540727", "title": "conversion to int16_t c++", "body": "<p>Here is an example of how to parse a csv file (with any separator) into a <code>vector</code> of <code>tuple</code>s:</p>\n\n<pre><code>#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;tuple&gt;\n\n#include &lt;boost/lexical_cast.hpp&gt;\n#include &lt;boost/algorithm/string/split.hpp&gt;\n#include &lt;boost/algorithm/string/trim.hpp&gt;\n\ntemplate&lt;class... ColumnTypes&gt;\nclass CsvRowParser\n{\n    char const separator_;\n\n    template&lt;size_t... Idxs&gt;\n    std::tuple&lt;ColumnTypes...&gt;\n    convert_csv_row(std::vector&lt;std::string&gt; const&amp; columns, std::integer_sequence&lt;size_t, Idxs...&gt;) {\n        return std::tuple&lt;ColumnTypes...&gt;{boost::lexical_cast&lt;ColumnTypes&gt;(boost::algorithm::trim_copy(columns[Idxs]))...};\n    }\n\npublic:\n    using RowType = std::tuple&lt;ColumnTypes...&gt;;\n\n    CsvRowParser(char separator)\n        : separator_(separator)\n    {}\n\n    RowType parse_row(std::string const&amp; csv_row) {\n        std::vector&lt;std::string&gt; columns;\n        boost::algorithm::split(columns, csv_row, [this](char c) { return c == separator_; });\n        if(columns.size() != sizeof...(ColumnTypes))\n            throw std::runtime_error(\"Invalid csv row: \" + csv_row);\n        return convert_csv_row(columns, std::make_index_sequence&lt;sizeof...(ColumnTypes)&gt;{});\n    }\n};\n\nint main() {\n    std::string my_csv;\n    my_csv += \"abc, 1, 1.1\\n\";\n    my_csv += \"def, 2, 2.2\\n\";\n    std::istringstream s(my_csv);\n\n    using Parser = CsvRowParser&lt;std::string, int, double&gt;;\n    Parser parser(',');\n    std::vector&lt;Parser::RowType&gt; rows;\n    for(std::string line; getline(s, line);)\n        rows.push_back(parser.parse_row(line));\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5951521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d90b21740703645b17d3214ddb5646?s=128&d=identicon&r=PG", "display_name": "Iceknight", "link": "https://stackoverflow.com/users/5951521/iceknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1524580532, "creation_date": 1522254975, "question_id": 49539880, "link": "https://stackoverflow.com/questions/49539880/conversion-to-int16-t-c", "title": "conversion to int16_t c++", "body": "<p>I deleted my old post to be more precise. I'm using c++. I have a csv with ; as separator. With the following code i read a row, then i read all the elements of the row and convert them into int. My problem is that i need to convert them into int16_t or int32_t. The code is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main (int argc, const char * argv[]) {\n    string line, csvItem;\n    ifstream myfile (\"modifica1.csv\");\n    int lineNumber = 0;\n    int lineNumberSought = 7462;\n    if (myfile.is_open()) {\n        while (getline(myfile,line)) {\n            lineNumber++;\n            if(lineNumber == lineNumberSought) {\n                istringstream myline(line);\n\n        string bus1s;\n        string bus2s;\n        string bus3s;\n        string bus4s;\n        string bus5s;\n        string bus6s;\n        string bus7s;\n        string bus8s;\n        string bus9s;\n\n        getline(myline,bus1s,';');\n        getline(myline,bus2s,';');\n        getline(myline,bus3s,';');\n        getline(myline,bus4s,';');\n        getline(myline,bus5s,';');\n        getline(myline,bus6s,';');\n        getline(myline,bus7s,';');\n        getline(myline,bus8s,';');\n        getline(myline,bus9s,'\\n');\n\n\n        int bus1;\n        int bus2;\n        int bus3;\n        int bus4;\n        int bus5;\n        int bus6;\n        int bus7;\n        int bus8;\n        int bus9;\n        bus1=stoi(bus1s);\n        bus2=stoi(bus2s);\n        bus3=stoi(bus3s);\n        bus4=stoi(bus4s);\n        bus5=stoi(bus5s);\n        bus6=stoi(bus6s);\n        bus7=stoi(bus7s);\n        bus8=stoi(bus8s);\n        bus9=stoi(bus9s);\n\n            }\n        }\n        myfile.close();\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1522255629, "post_id": 49539778, "comment_id": 86087290, "body": "You might add references... but then <code>vector3</code> would be bigger, and you would have to write copy constructor."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1522255725, "post_id": 49539778, "comment_id": 86087331, "body": "Nothing comes to mind except for what you have already.  May I ask why you don&#39;t want to use what you have?  It should be optimized away."}, {"owner": {"reputation": 14402, "user_id": 547231, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4dbfd610336a9667e0b11eac69b9cc34?s=128&d=identicon&r=PG", "display_name": "0xbadf00d", "link": "https://stackoverflow.com/users/547231/0xbadf00d"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1522256882, "post_id": 49539778, "comment_id": 86088017, "body": "@NathanOliver I&#39;m just interested whether there are any other options."}, {"owner": {"reputation": 1230, "user_id": 3958860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iLugv.jpg?s=128&g=1", "display_name": "Fibbles", "link": "https://stackoverflow.com/users/3958860/fibbles"}, "edited": false, "score": 0, "creation_date": 1522358666, "post_id": 49539778, "comment_id": 86138802, "body": "If you want to access the same data with different names you&#39;d have to use a <code>union</code>. It&#39;s more of a C way of doing things though. It&#39;s worth checking out the GLM mathematics library. I believe they use this trick for their vector classes to allow access via x, y, z or r, g, b. They don&#39;t however use it for array access. To do a vec3 with an array and xyz members you&#39;d have to use compiler specific commands to enable 1 byte packing. You really don&#39;t want to start down that type punning rabbit hole."}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1522256826, "post_id": 49540240, "comment_id": 86087986, "body": "Indeed, this is exactly the sort of thing member functions are <i>for</i>."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1522256224, "creation_date": 1522256224, "answer_id": 49540240, "question_id": 49539778, "link": "https://stackoverflow.com/questions/49539778/member-field-aliases-in-derived-class-no-accessor-functions/49540240#49540240", "title": "Member field aliases in derived class (no accessor functions)", "body": "<p>There is no zero cost way to do this using the exact syntax you want.</p>\n\n<p>Relaxing either cost (compile, maintenance, memory usage and runtime) or syntax (which your <code>()</code> is an example of) gets you what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1230, "user_id": 3958860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iLugv.jpg?s=128&g=1", "display_name": "Fibbles", "link": "https://stackoverflow.com/users/3958860/fibbles"}, "is_accepted": false, "score": 0, "last_activity_date": 1522361835, "last_edit_date": 1522361835, "creation_date": 1522361456, "answer_id": 49565747, "question_id": 49539778, "link": "https://stackoverflow.com/questions/49539778/member-field-aliases-in-derived-class-no-accessor-functions/49565747#49565747", "title": "Member field aliases in derived class (no accessor functions)", "body": "<p>I added a comment to your question but I thought I'd add an answer with some code to clarify. Be warned, what follows is <em>not a good idea</em>.</p>\n\n<p>You can use simple pointer arithmetic to interpret members of a <code>struct</code> as if they were elements in an <code>array</code>. Because the type of the <code>struct</code> members and the type of elements in the pseudo <code>array</code> are the same, we're safe to reinterpret one as the other <strong>with the caveat</strong> that there is no padding in between the <code>struct</code> members.</p>\n\n<p>The C++ standard gives no method for defining padding in a <code>struct</code> so you will have to rely on compiler specific directives. I believe however that both MSVC and GCC support <code>#pragma pack</code>.</p>\n\n<pre><code>#pragma pack(push, 1)\ntemplate &lt;typename T&gt;\nstruct Vec3\n{\n    T x;\n    T y;\n    T z;\n\n    T&amp; operator[](size_t i) { return *(&amp;x + i); }\n    const T&amp; operator[](size_t i) const { return *(&amp;x + i); }\n};\n#pragma pack(pop)\n</code></pre>\n\n<p>So why isn't this a good solution?</p>\n\n<ul>\n<li><p>You are relying on compiler specific directives making your code less portable.</p></li>\n<li><p>You need to explicitly declare each member which means you'll need separate templates for Vec2, Vec3 and Vec4.</p></li>\n<li><p>1 byte alignment isn't supported on all architectures again making your code less portable.</p></li>\n<li><p>Even on architectures where unaligned memory access is supported (such as x86,) it comes with a performance penalty.</p></li>\n</ul>\n"}], "owner": {"reputation": 14402, "user_id": 547231, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4dbfd610336a9667e0b11eac69b9cc34?s=128&d=identicon&r=PG", "display_name": "0xbadf00d", "link": "https://stackoverflow.com/users/547231/0xbadf00d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522361835, "creation_date": 1522254689, "question_id": 49539778, "link": "https://stackoverflow.com/questions/49539778/member-field-aliases-in-derived-class-no-accessor-functions", "title": "Member field aliases in derived class (no accessor functions)", "body": "<p>Toy example:</p>\n\n<pre><code>template&lt;typename T, std::size_t N&gt;\nclass static_vector\n{\npublic:\n    T&amp; operator[](std::size_t i) { return m_elements[i]; }\n    T const&amp; operator[](std::size_t i) const { return m_elements[i]; }\n\nprivate:\n    std::array&lt;T, N&gt; m_elements;\n};\n\ntemplate&lt;typename T&gt;\nclass vector3\n    : public static_vector&lt;T, 3&gt;\n{\npublic:\n    using vector_type = static_vector&lt;T, 3&gt;;\n\n//  x = vector_type::operator[](0);\n//  y = vector_type::operator[](1);\n//  z = vector_type::operator[](2);\n};\n</code></pre>\n\n<p>Let <code>vector3&lt;float&gt; pos;</code>. I want to access <code>pos[0]</code> via <code>pos.x</code>. Clearly, if <code>pos</code> is declared to be <code>const</code>, I want <code>pos.x</code> to be read-only.</p>\n\n<p>Is this possible?</p>\n\n<p>Let me stress the fact that I don't want to use accessor functions of the form</p>\n\n<pre><code>T&amp; x() { return (*this)[0]; }\nT const&amp; x() const { return (*this)[0]; }\n</code></pre>\n"}, {"tags": ["c++", "sdl-2"], "answers": [{"tags": [], "owner": {"reputation": 1222, "user_id": 1576803, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5fPDS.gif?s=128&g=1", "display_name": "aram", "link": "https://stackoverflow.com/users/1576803/aram"}, "is_accepted": true, "score": 3, "last_activity_date": 1522256186, "creation_date": 1522256186, "answer_id": 49540230, "question_id": 49539717, "link": "https://stackoverflow.com/questions/49539717/how-to-render-a-point-in-sdl2/49540230#49540230", "title": "How to render a point in sdl2", "body": "<p>You're missing several things. The first and most important is that your renderer is not initialized, that is done with <a href=\"https://wiki.libsdl.org/SDL_CreateRenderer\" rel=\"nofollow noreferrer\">SDL_CreateRenderer</a>.\nNow we're ready to draw onto the window. For this you'll need to set a color on your renderer (this color is used for functions like RenderDrawPoint and RenderDrawLine, etc).</p>\n\n<p>After drawing your point we'll set the color to what was before. I chose black for the background and white for the point's color, you can choose whatever you need, the function for setting the color in the renderer is <a href=\"https://wiki.libsdl.org/SDL_SetRenderDrawColor\" rel=\"nofollow noreferrer\">SDL_SetRenderDrawColor</a>.</p>\n\n<p>Now we can draw, but before every draw you have to <a href=\"https://wiki.libsdl.org/SDL_RenderClear\" rel=\"nofollow noreferrer\">clear</a> your screen, make all the draw calls to the renderer and then <a href=\"https://wiki.libsdl.org/SDL_RenderPresent\" rel=\"nofollow noreferrer\">show</a> what you have drawn. </p>\n\n<p>Here is a full example with the commented parts on what you were missing, I also moved your drawPoint inside your main loop, since at the end of the day is where you probably want it to be. </p>\n\n<p>BUT (very rare use) if you want to draw once and never change whats on screen again, then you could take it outside the wall, call clear and present once and be done with it. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;SDL2/SDL.h&gt;\n\nusing namespace std;\n\nint main() {\n    const int windowHeight = 600;\n    const int windowWidth = 800;\n\n    if (SDL_Init(SDL_INIT_VIDEO) &lt; 0) {\n        return 1;\n        cout &lt;&lt; \"Initialization failed\" &lt;&lt; endl;\n    }\n\n    SDL_Window *window = SDL_CreateWindow(\"Practice making sdl Window\",\n            SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth,\n            windowHeight, SDL_WINDOW_SHOWN);\n\n    if (window == NULL) {\n        SDL_Quit();\n        return 2;\n    }\n\n    // We create a renderer with hardware acceleration, we also present according with the vertical sync refresh.\n    SDL_Renderer *s = SDL_CreateRenderer(window, 0, SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC) ;\n\n    const int pointLocationx = windowWidth/2;\n    const int pointLocationy = windowHeight/2;\n\n    bool quit = false;\n    SDL_Event event;\n\n    while (!quit) {\n        //drawing particles\n        //setting up objects\n        //repeated over and over again\n\n        while (SDL_PollEvent(&amp;event)) {\n            if (event.type == SDL_QUIT) {\n                quit = true;\n            }\n        }\n\n        // We clear what we draw before\n        SDL_RenderClear(s);\n        // Set our color for the draw functions\n        SDL_SetRenderDrawColor(s, 0xFF, 0xFF, 0xFF, 0xFF);\n        // Now we can draw our point\n        SDL_RenderDrawPoint(s, pointLocationx, pointLocationy);\n        // Set the color to what was before\n        SDL_SetRenderDrawColor(s, 0x00, 0x00, 0x00, 0xFF);\n        // .. you could do some other drawing here\n        // And now we present everything we draw after the clear.\n        SDL_RenderPresent(s);\n    }\n\n    SDL_DestroyWindow(window);\n    // We have to destroy the renderer, same as with the window.\n    SDL_DestroyRenderer(s);\n    SDL_Quit();\n\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9434578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1dbb00de2d9934efc3dc718dfa8ff6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Tedesco", "link": "https://stackoverflow.com/users/9434578/john-tedesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2244, "favorite_count": 0, "accepted_answer_id": 49540230, "answer_count": 1, "score": 0, "last_activity_date": 1522264991, "creation_date": 1522254502, "last_edit_date": 1522264991, "question_id": 49539717, "link": "https://stackoverflow.com/questions/49539717/how-to-render-a-point-in-sdl2", "title": "How to render a point in sdl2", "body": "<p>I am trying to render a point using SDL and I cannot seem to get the point to render. I am not getting any errors in the code and it is compiling however no point is appearing on the window.</p>\n\n<p>Code: </p>\n\n<pre><code>   #include &lt;iostream&gt;\n#include &lt;SDL2/SDL.h&gt;\n\nusing namespace std;\n\nint main() {\n    const int windowHeight = 600;\n    const int windowWidth = 800;\n\n    if (SDL_Init(SDL_INIT_VIDEO) &lt; 0) {\n        return 1;\n        cout &lt;&lt; \"Initialization failed\" &lt;&lt; endl;\n    }\n\n    SDL_Window *window = SDL_CreateWindow(\"Practice making sdl Window\",\n            SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, windowWidth,\n            windowHeight, SDL_WINDOW_SHOWN);\n\n    if (window == NULL) {\n        SDL_Quit();\n        return 2;\n    }\n    SDL_Renderer *s;\n    const int pointLocationx = windowWidth/2;\n    const int pointLocationy = windowHeight/2;\n    SDL_RenderDrawPoint(s, pointLocationx, pointLocationy);\n\n    bool quit = false;\n    SDL_Event event;\n    while (!quit) {\n        //drawing particles\n        //setting up objects\n        //repeated over and over again\n\n        while (SDL_PollEvent(&amp;event)) {\n            if (event.type == SDL_QUIT) {\n                quit = true;\n            }\n        }\n    }\n\n    SDL_DestroyWindow(window);\n    SDL_Quit();\n\n}\n</code></pre>\n\n<p>Above is the code that I have. Any advice is appreciated and help is super appreciated.</p>\n"}, {"tags": ["c++", "macros"], "comments": [{"owner": {"reputation": 1222, "user_id": 1576803, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5fPDS.gif?s=128&g=1", "display_name": "aram", "link": "https://stackoverflow.com/users/1576803/aram"}, "edited": false, "score": 0, "creation_date": 1522253874, "post_id": 49539489, "comment_id": 86086208, "body": "What does a macro do?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 7, "creation_date": 1522253882, "post_id": 49539489, "comment_id": 86086218, "body": "Macros are never &quot;called&quot; - they are expanded."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 2, "creation_date": 1522253953, "post_id": 49539489, "comment_id": 86086255, "body": "Macros do not exist in code"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522254310, "post_id": 49539489, "comment_id": 86086483, "body": "Also note that <code>this</code> pointer only exists within either a constructor or a member function, whereas macros can be placed anywhere"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1522254320, "post_id": 49539489, "comment_id": 86086491, "body": "I don&#39;t understand why people are downvoting this question. Just because doing this is not a good idea to do this, doesn&#39;t mean it&#39;s a bad question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 1, "creation_date": 1522254644, "post_id": 49539489, "comment_id": 86086708, "body": "@ein It is a bad question - it&#39;s not clear what the OP is asking, he doesn&#39;t show how his macro would be used, and he probably doesn&#39;t understand how macros are processed."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 2, "creation_date": 1522254800, "post_id": 49539489, "comment_id": 86086799, "body": "@einpoklum I was waffling over that. The question shows poor research into what macros are and how they work but is otherwise a reasonable question. I see this more as <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">an X-Y problem</a>. More details on the actual goal and odds are good someone could suggest a work-around better tailored than your suggestion of a <code>constexpr</code> function."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 1, "creation_date": 1522254804, "post_id": 49539489, "comment_id": 86086801, "body": "@NeilButterworth: The title makes it clear to me. True, he wants to use it for something questionable/unreasonable/unadvisable/impossible, but he still told us what it basically is. Also, the fact that OP doesn&#39;t understand how macros work does not in itself make the question bad."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522254960, "post_id": 49539489, "comment_id": 86086879, "body": "@user4581301: 1. It&#39;s more of an X-Y-Z question, but he&#39;s telling us what Y is and asking about Z. I&#39;d say that&#39;s fair enough. 2. I don&#39;t believe all X-Y questions are bad; if Y does not lack obvious motivation, I&#39;d say it&#39;s fine. A newbie may well come up with at least the title of this question."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522255302, "post_id": 49539489, "comment_id": 86087089, "body": "X-Y&#39;s are what they are. When an asker is going down a rabbit hole, I think it is, in a way, up to those of us out here to prod a bit and see if we can redirect their line of inquiry."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1522258178, "post_id": 49539489, "comment_id": 86088763, "body": "@user4581301: That&#39;s fair, but prodding = commenting rather than downvoting."}], "answers": [{"comments": [{"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522254355, "post_id": 49539569, "comment_id": 86086510, "body": "You should <code>#undef</code> before re-defining."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522254368, "post_id": 49539569, "comment_id": 86086519, "body": "See my comment in the question, but a macro will not be able to have access to <code>this</code> pointer, unless it is used inside a scope that has <code>this</code>. i.e. constructor, member functions, operators, etc"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522254422, "post_id": 49539569, "comment_id": 86086557, "body": "@Aconcagua: Right."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522254453, "post_id": 49539569, "comment_id": 86086581, "body": "@smac89: I didn&#39;t say anything about the <code>this</code> pointer in my answer. Also, textually, you can very well have a macro use <code>this</code>..."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522254543, "post_id": 49539569, "comment_id": 86086631, "body": "But that&#39;s the whole point of the question; &quot;when in class, use <code>this</code>, else don&#39;t&quot;. If you really want to suggest using a macro to determine when inside a class scope, then in the context of this question, that <code>IN_CLASS_FOO</code> should be defined only in places where <code>this</code> is accessible"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522254991, "post_id": 49539569, "comment_id": 86086902, "body": "@smac89: I wouldn&#39;t say it&#39;s the point of the question, it&#39;s the <i>motivation</i> for the question. But see edit."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1522256402, "post_id": 49539569, "comment_id": 86087747, "body": "Big problems are imposed by <i>static</i> functions - there is no this, but we are still in class... I suppose this simply wasn&#39;t seen by OP when saying &quot;within class&quot;, but it&#39;s exactly what makes @smac89 getting the score here... Minimally, the problem should be mentioned (not only here in comment)."}], "tags": [], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "is_accepted": true, "score": 4, "last_activity_date": 1522254550, "last_edit_date": 1522254550, "creation_date": 1522253967, "answer_id": 49539569, "question_id": 49539489, "link": "https://stackoverflow.com/questions/49539489/how-to-check-if-a-macro-is-called-within-a-class/49539569#49539569", "title": "how to check if a macro is called within a class?", "body": "<p>It isn't possible, strictly speaking, to have a macro recognize whether it's invoked within some class or not. You see, macros are expanded by a preprocessor - not by the C++ compiler proper; and the preprocessor has no clue about C++ - it just works on text files. When the actual compiler gets to recognizing the class, the macros are all gone already.</p>\n\n<p>However, you can use some more macros to sort-of achieve this:</p>\n\n<pre><code>#define IN_CLASS_FOO 1\nclass foo {\n    /* ... whatever ... */\n}\n#undef IN_CLASS_FOO\n#define IN_CLASS_FOO 0\n</code></pre>\n\n<p>with this in place, you can modify your <code>X</code> macro to use <code>IN_CLASS_FOO</code> for controlling its behavior. Note that if you expand some code which refers to a <code>this</code> variable, it will have to be defined even if you're not within a class, so it would still not be possible to just use it.</p>\n\n<p>I <strong>strongly discourage you from doing so</strong>, however - you would most likely be better served by avoiding macro use altogether. Try replacing the macro with a <a href=\"https://stackoverflow.com/q/4748083/1593077\"><code>constexpr</code> function</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": false, "score": 0, "last_activity_date": 1522256546, "last_edit_date": 1522256546, "creation_date": 1522255240, "answer_id": 49539964, "question_id": 49539489, "link": "https://stackoverflow.com/questions/49539489/how-to-check-if-a-macro-is-called-within-a-class/49539964#49539964", "title": "how to check if a macro is called within a class?", "body": "<p>Too little information in the question, so the following <em>could</em> be a match or it might not...</p>\n\n<pre><code>class C\n{\n    void foo(int a)\n    {\n        ::foo(a, *this);\n    //  ^^ resolves to global scope\n        bar::foo(a, *this);\n    //  ^^ assuming foo resides in namespace \"bar\"\n    }\n};\n</code></pre>\n\n<p>So you now have a member function that will be selected whenever you call e. g. <code>foo(77)</code> within the class context, otherwise, the free foo overload will be selected. The macro gets pointless, just drop it.</p>\n\n<p>If it is OK for you that the template parameter will be resolved to class <code>C</code> only, even if called from within sub classes, you could inherit from <code>C</code> for not having to repeat this code in every sub class. Otherwise, you'll get away with <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">curiously recurring templates</a>...</p>\n"}], "owner": {"reputation": 953, "user_id": 1095896, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f70f2db9cc735bfc663e9b0794125e2e?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/1095896/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 49539569, "answer_count": 2, "score": 1, "last_activity_date": 1522256546, "creation_date": 1522253719, "last_edit_date": 1522254385, "question_id": 49539489, "link": "https://stackoverflow.com/questions/49539489/how-to-check-if-a-macro-is-called-within-a-class", "title": "how to check if a macro is called within a class?", "body": "<p>Say there is a macro:</p>\n\n<pre><code>#define X(...) foo(__VA_ARGS__)\n</code></pre>\n\n<p>foo is defined as:</p>\n\n<pre><code>void foo(int a) {}\ntemplate&lt;class T&gt; \nvoid foo(int a, T&amp; t) { std::cout&lt;&lt;a&lt;&lt;t.b; }\n</code></pre>\n\n<p>I'd like to check if X is called within a class or not. If it is called within a class, then I can call the second version <code>foo(100,*this)</code>. Otherwise, I'll call the first version without passing <code>*this</code>.</p>\n"}, {"tags": ["c++", "include", "header-files"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1522253480, "post_id": 49539386, "comment_id": 86085944, "body": "You have a circular include.  <code>includes.h</code> should not include <code>file.h</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1522254045, "post_id": 49539386, "comment_id": 86086318, "body": "You&#39;ll run into the same problem if you use <code>#include &quot;includes.h&quot;</code> in <code>&quot;html.h&quot;</code> and <code>&quot;test.h&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 9274680, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mX95Ysqq8PE/AAAAAAAAAAI/AAAAAAAAADc/C9z2AKLX_MA/photo.jpg?sz=128", "display_name": "Shipof123", "link": "https://stackoverflow.com/users/9274680/shipof123"}, "edited": false, "score": 0, "creation_date": 1522326589, "post_id": 49539677, "comment_id": 86119550, "body": "thank you also it will not allow me to use a string as a filename"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9478968"}, "is_accepted": true, "score": 1, "last_activity_date": 1522254342, "creation_date": 1522254342, "answer_id": 49539677, "question_id": 49539386, "link": "https://stackoverflow.com/questions/49539386/include-file-not-working-c/49539677#49539677", "title": "include file not working c++", "body": "<p>You should not be including <code>files.h</code> from within the <code>files.h</code> file.</p>\n\n<p>Making a massive includes file seems like a bad idea in general. Everything is included everywhere all the time regardless of whether it is actually needed. This will likely lead to difficult to diagnose errors.</p>\n\n<p>Only include the things you need.</p>\n"}], "owner": {"reputation": 233, "user_id": 9274680, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mX95Ysqq8PE/AAAAAAAAAAI/AAAAAAAAADc/C9z2AKLX_MA/photo.jpg?sz=128", "display_name": "Shipof123", "link": "https://stackoverflow.com/users/9274680/shipof123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 49539677, "answer_count": 1, "score": 0, "last_activity_date": 1522254342, "creation_date": 1522253360, "question_id": 49539386, "link": "https://stackoverflow.com/questions/49539386/include-file-not-working-c", "title": "include file not working c++", "body": "<p>I created a header file to include other headerfiles as a short cut, and it works for almost all of my files, but i have been having problems with  my  file i/o file(it throws errors about not including the files).\n<br><b>Include file (includes.h)</b></p>\n\n<pre><code>#ifndef INCLUDES_H_\n#define INCLUDES_H_\n#include &lt;vector&gt;\n#include \"html.h\"\n#include \"file.h\"\n#include &lt;string&gt;\n#include \"test.h\"\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;fstream&gt;\n#include &lt;cstdlib&gt;\n#endif\n</code></pre>\n\n<p><b>File (file.h)</b></p>\n\n<pre><code>#ifndef FILE_H_\n#define FILE_H_\n#include \"includes.h\"\nnamespace file\n{\n    int file()\n    {\n    std::string filename;\n    std::cout &lt;&lt;\"What would you like to name your file?\\n\";\n    std::cout &lt;&lt; \"(don't put in the .html)\\n\";\n    std::cin &gt;&gt; filename;\n    filename = filename +\".html\";\n    std::ofstream outf(filename);\n    return 0;\n    }\n}\n#endif \n</code></pre>\n"}, {"tags": ["c++", "rcpp", "rcpp11"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 2, "creation_date": 1522254002, "post_id": 49539341, "comment_id": 86086288, "body": "Welcome to StackOverflow and your second question.  &quot;How do I ...?&quot; is not really appropriate here, and I suggest you subscribe to the rcpp-devel list and ask there."}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 1, "creation_date": 1522254041, "post_id": 49539341, "comment_id": 86086312, "body": "You are also spelling Rcpp the wrong way.  It is not ALLUPPERCASE."}, {"owner": {"reputation": 24192, "user_id": 8416610, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cmim3CrZ9Wo/AAAAAAAAAAI/AAAAAAAAAjs/hnKTOHALc6M/photo.jpg?sz=128", "display_name": "Ralf Stubner", "link": "https://stackoverflow.com/users/8416610/ralf-stubner"}, "edited": false, "score": 0, "creation_date": 1522314835, "post_id": 49539341, "comment_id": 86111426, "body": "What is the use of <code>w</code>? If it represents an array of floating point numbers and if the user is meant to read and/or write this property, then you could use a <code>NumericVector</code>  together with appropriate getter and setter functions instead of a raw pointer in the interface."}], "owner": {"reputation": 31, "user_id": 9559820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d83a39f61dd841a71a1c40cd9ea4a48?s=128&d=identicon&r=PG&f=1", "display_name": "ndroz", "link": "https://stackoverflow.com/users/9559820/ndroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1522253865, "creation_date": 1522253223, "last_edit_date": 1522253865, "question_id": 49539341, "link": "https://stackoverflow.com/questions/49539341/rcpp-lost-on-how-to-utilize-rcppxptr-to-wrap-a-pointer", "title": "RCPP - Lost on how to utilize Rcpp::XPtr to wrap a pointer", "body": "<p>I am writing an r package that utilizes rcpp.</p>\n\n<p>I have the following class in C++:</p>\n\n<pre><code>using namespace std;\n\ntypedef float ffm_float;\ntypedef double ffm_double;\ntypedef int ffm_int;\ntypedef long long ffm_long;\n\nclass ffm_model {\n  public:\n    ffm_int n; // number of features\n    ffm_int m; // number of fields\n    ffm_int k; // number of latent factors\n    ffm_float *w = nullptr;\n    bool normalization;\n    ~ffm_model();\n};\n</code></pre>\n\n<p>And I wrote the following RCPP module in order to expose that class to r:</p>\n\n<pre><code>RCPP_MODULE(ffmModelMod){\n  using namespace Rcpp;\n\n  class_&lt;ffm_model&gt;( \"ffm_model\")\n\n    .field(\"n\", &amp;ffm_model::n)\n    .field(\"m\", &amp;ffm_model::m)\n    .field(\"k\", &amp;ffm_model::k)\n    .field(\"*w\", &amp;ffm_model::*w)\n    .field(\"normalization\", &amp;ffm_model::normalization)\n    .method(\"~ffm_model\",&amp;ffm_model::~ffm_model)\n    ;\n}\n</code></pre>\n\n<p>When I try to install the package in R, I run into issues since <strong>ffm_float *w</strong> cannot be cannot directly be converted to a SEXP. From a previous question I asked on here, it was recommended that I try utilizing XPtr to wrap the pointer. However, I'm having a lot of trouble finding helpful documentation, and I don't even know where to start. </p>\n\n<p>In attempt to solve this issue, I have written the following forward declaration, but I have no idea if I'm even heading in the right direction. </p>\n\n<pre><code>namespace Rcpp {\n\n    namespace traits{\n\n        // Support for wrap\n        template &lt;typename T&gt; SEXP wrap(const ffm_model&lt;T&gt;&amp;);\n\n        // Support for as&lt;T&gt;\n        template &lt;typename T&gt; class Exporter&lt; ffm_model&lt;T&gt; &gt;;\n\n    }\n}\n</code></pre>\n\n<p>Can someone please point me in the right direction? I have already read the RCPP extending vignette.</p>\n"}, {"tags": ["c++", "qt", "qml", "qqmlcomponent", "qqmlapplicationengine"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1522260170, "post_id": 49539284, "comment_id": 86089889, "body": "Note that there is absolutely no good reason to create QML objects from C++. The opposite is far more common."}], "answers": [{"tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 5, "last_activity_date": 1522253292, "creation_date": 1522253292, "answer_id": 49539355, "question_id": 49539284, "link": "https://stackoverflow.com/questions/49539284/dynamically-created-custom-qml-object-not-visible/49539355#49539355", "title": "Dynamically created Custom QML object not visible", "body": "<p><code>setParent()</code> sets a non-visual, <code>QObject</code> level <code>parent</code> member. <code>QQuickItem</code> has another property, <code>parentItem</code> which is the <code>parent</code> <code>QQuickItem</code> property in QML, it is that property that needs to be set so the object appears visually.</p>\n"}], "owner": {"reputation": 13, "user_id": 9565093, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felipe Vieira", "link": "https://stackoverflow.com/users/9565093/felipe-vieira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 49539355, "answer_count": 1, "score": 1, "last_activity_date": 1522255743, "creation_date": 1522253079, "last_edit_date": 1522255743, "question_id": 49539284, "link": "https://stackoverflow.com/questions/49539284/dynamically-created-custom-qml-object-not-visible", "title": "Dynamically created Custom QML object not visible", "body": "<p>I have a custom QML item called \"Cell.qml\" which I'd like to insert dynamically in my root window and make it visible. I also tried changing the z property, but I couldn't fix it, the object is still invisible (even tough the output of root->dumpObjectTree() says the object exists as a child of the root window)</p>\n\n<p>This is the result after executing the code</p>\n\n<p><img src=\"https://i.stack.imgur.com/9J9Ch.png\" alt=\"\"></p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;QGuiApplication&gt;\n#include &lt;QQmlApplicationEngine&gt;\n#include &lt;QQmlComponent&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication::setAttribute(Qt::AA_EnableHighDpiScaling);\n\n    QGuiApplication app(argc, argv);\n\n    QQmlApplicationEngine engine;\n\n    engine.load(QUrl(QStringLiteral(\"qrc:/main.qml\")));\n\n\n    QObject *root = engine.rootObjects()[0];\n    QQmlComponent component(&amp;engine, \"qrc:/Cell.qml\");\n    if (component.isReady()){\n        QObject *object = component.create();\n        object-&gt;setParent(root);\n        engine.setObjectOwnership(object, engine.CppOwnership);\n    }\n    root-&gt;dumpObjectTree();\n\n    return app.exec();\n}\n</code></pre>\n\n<p>main.qml</p>\n\n<pre><code>import QtQuick 2.9\nimport QtQuick.Window 2.2\n\nWindow {\n    visible: true\n    width: 640\n    height: 480\n    title: qsTr(\"Hello World\")\n}\n</code></pre>\n\n<p>Cell.qml</p>\n\n<pre><code>import QtQuick 2.0\nimport QtQuick.Controls 2.3\n\nItem{\n    property string txt: \"\"\n    property color c: \"#d4ccc4\"\n    visible: true\n    z:20\nRectangle {\n    width: 75; height: 75\n    color: c\n    visible: true\n    radius : 3\n    scale : 1\n    z:10\nText{\n    anchors.centerIn: parent\n    text: txt\n    font.family: \"Helvetica\"\n    font.pointSize: 20\n    color: \"white\"\n    }\n}\n}\n</code></pre>\n\n<p>Output of root->dumpObjectTree();:</p>\n\n<pre><code>QQuickWindowQmlImpl::\n   QQuickRootItem:: \n    Cell_QMLTYPE_0:: \n        QQuickRectangle:: \n            QQuickText:: \n</code></pre>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1522252852, "post_id": 49538982, "comment_id": 86085478, "body": "You&#39;re just asking how to take your facing vector, and calculate the normal for strafing direction, right?"}, {"owner": {"reputation": 3277, "user_id": 3087952, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DijUj.png?s=128&g=1", "display_name": "nonsensation", "link": "https://stackoverflow.com/users/3087952/nonsensation"}, "edited": false, "score": 0, "creation_date": 1522253090, "post_id": 49538982, "comment_id": 86085655, "body": "Isnt this a simple cross product of the facing-vec and the up-vec then?"}, {"owner": {"reputation": 311, "user_id": 5224249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59eb31107d1217028e1a2d1fb874229b?s=128&d=identicon&r=PG&f=1", "display_name": "Y.S", "link": "https://stackoverflow.com/users/5224249/y-s"}, "edited": false, "score": 0, "creation_date": 1522253209, "post_id": 49538982, "comment_id": 86085755, "body": "Yes, but since the angle between the facing and the strafe direction are 90&#176; one could just add/substract to/from the forwardfacing rotation??"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9314259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gV3lH.png?s=128&g=1", "display_name": "Bird Wizard", "link": "https://stackoverflow.com/users/9314259/bird-wizard"}, "is_accepted": false, "score": 0, "last_activity_date": 1522615895, "creation_date": 1522615895, "answer_id": 49602501, "question_id": 49538982, "link": "https://stackoverflow.com/questions/49538982/how-to-move-a-first-person-object-in-the-facing-direction-c/49602501#49602501", "title": "How to Move a First-Person Object in the Facing Direction? (C++)", "body": "<p>Yeah so I just ended up putting the Object in an SRT matrix and extracting its looking at position then multiplying it by the dir.z and adding the getRight for turning and moving on the x axis. </p>\n\n<pre><code>mat4 mat;\nmat.CreateSRT(m_Scale, m_Rotation, m_Position);\n\nvec3 forceDir = mat.GetAt() * dir.z + mat.GetRight()*dir.x;\n\nbtVector3 force = btVector3(forceDir.x, forceDir.y, forceDir.z) * speed;\nbtVector3 rotForce = btVector3(rot.x, rot.y, rot.z) * speed;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9314259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gV3lH.png?s=128&g=1", "display_name": "Bird Wizard", "link": "https://stackoverflow.com/users/9314259/bird-wizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522615895, "creation_date": 1522252244, "question_id": 49538982, "link": "https://stackoverflow.com/questions/49538982/how-to-move-a-first-person-object-in-the-facing-direction-c", "title": "How to Move a First-Person Object in the Facing Direction? (C++)", "body": "<p>I'm making a basic DOOM recreate in Bullet and would like to know how to move in the direction my object is facing.</p>\n\n<p>Currently my framework is set-up where my camera sets its rotation and position to the player, who's position and rotation is set to the physics body created by Bullet.</p>\n\n<p>Here's my current movement code for the player's movement:</p>\n\n<pre><code>GameObject::Update( deltatime );\n\nif( m_pController == 0 )\n    return;\n\nvec3 dir(0, 0, 0);\nvec3 rot(0, 0, 0);\n\nif( m_pController-&gt;IsButtonPressed( PCB_Up ) )\n    dir.z += 1;\nif( m_pController-&gt;IsButtonPressed( PCB_Down ) )\n    dir.z -= 1;\nif( m_pController-&gt;IsButtonPressed( PCB_Left ) )\n    dir.x -= 1;\nif( m_pController-&gt;IsButtonPressed( PCB_Right ) )\n    dir.x += 1;\nif (m_pController-&gt;IsButtonPressed(PCB_RotLeft))\n    rot.y -= 1;\nif (m_pController-&gt;IsButtonPressed(PCB_RotRight))\n    rot.y += 1;\n\ndir.Normalize();\nrot.Normalize();\n\nfloat speed = 10.0f;\n\nbtVector3 force = btVector3(dir.x, dir.y, dir.z) * speed;\nbtVector3 rotForce = btVector3(rot.x, rot.y, rot.z) * speed;\nif( m_pBody )\n{\n    m_pBody-&gt;applyForce( force, btVector3(0,0,0) );\n    m_pBody-&gt;applyTorque(rotForce);\n\n    m_pBody-&gt;forceActivationState( DISABLE_DEACTIVATION );\n}\n</code></pre>\n\n<p>I know it can be done by creating a matrix from my camera and extracting my view but the thing is my camera is being set to my player's rotation and translation.</p>\n\n<p>Can the same be done by creating an SRT matrix with my physics body's values and calculating a direction vector from those numbers and then have:</p>\n\n<pre><code>if( m_pController-&gt;IsButtonPressed( PCB_Up ) )\n    dir += ForwardFacing;\nif( m_pController-&gt;IsButtonPressed( PCB_Down ) )\n    dir -= ForwardFacing;\n</code></pre>\n\n<p>I'm not sure how it'd be done for left and right keys though.</p>\n\n<p>Anyways,\nthanks for your time!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1522252153, "post_id": 49538893, "comment_id": 86084943, "body": "There should be quite a few duplicates about this, but the short of it is your <code>Enter</code> key that you pressed after inputting <code>id</code>. Think about what happens with that key."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 3, "creation_date": 1522252157, "post_id": 49538893, "comment_id": 86084947, "body": "We see a lot of questions from Cairo University. Have you been instructed to use Stack Overflow in this way? Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and have a look at the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>. Also see: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Please share the links with your classmates."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9432978"}, "is_accepted": false, "score": 0, "last_activity_date": 1522252267, "creation_date": 1522252267, "answer_id": 49538990, "question_id": 49538893, "link": "https://stackoverflow.com/questions/49538893/compiler-skip-getline-after-cin-c/49538990#49538990", "title": "Compiler skip getline after cin ( c++ )", "body": "<p>The problem in your program is when you input the id and hit enter at runtime that space is considered as an input and stays in input buffer until you consume it. So, you need to consume that space. So it is easy to think that C++ compiler skips call to <code>getline(cin,name)</code> function but it is actually not.</p>\n"}, {"comments": [{"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522253589, "post_id": 49539069, "comment_id": 86086037, "body": "Better: see <a href=\"https://stackoverflow.com/a/5740111/1312382\">here</a>..."}], "tags": [], "owner": {"reputation": 1, "user_id": 9548186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Fatoom Alfakhry", "link": "https://stackoverflow.com/users/9548186/fatoom-alfakhry"}, "is_accepted": false, "score": 0, "last_activity_date": 1522252471, "creation_date": 1522252471, "answer_id": 49539069, "question_id": 49538893, "link": "https://stackoverflow.com/questions/49538893/compiler-skip-getline-after-cin-c/49539069#49539069", "title": "Compiler skip getline after cin ( c++ )", "body": "<p>You can use cin.ignore() before getline .. as getline ends when it see \\n in the stream .. and in cin instruction the user must press enter to end the input .. so the getline found it in buffer and the compiler will skip it .. so you must ignore it from stream</p>\n\n<pre><code>cin &gt;&gt; id;\ncin.ignore(100,'\\n');\ngetline(cin,name);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9548188, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AqJ8nJQ4HiU/AAAAAAAAAAI/AAAAAAAAAB0/I2KG9tFRJg4/photo.jpg?sz=128", "display_name": "ahmed abdo", "link": "https://stackoverflow.com/users/9548188/ahmed-abdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "closed_date": 1522252545, "answer_count": 2, "score": -3, "last_activity_date": 1522252471, "creation_date": 1522252021, "question_id": 49538893, "link": "https://stackoverflow.com/questions/49538893/compiler-skip-getline-after-cin-c", "closed_reason": "Duplicate", "title": "Compiler skip getline after cin ( c++ )", "body": "<p>I try to use getline after cin but the compiler ignore it and go directly to next input </p>\n\n<pre><code>int id , age ;\nString name;\n\ncin &gt;&gt; id;\ngetline (cin , name ) ;\ncin &gt;&gt; age ;\n</code></pre>\n"}, {"tags": ["c++", "integer-overflow", "devtoolset"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 4, "creation_date": 1522251319, "post_id": 49538595, "comment_id": 86084333, "body": "<code>signed</code> integer overflow is undefined in c++. You cannot reliably detect it after the fact since you would implicitly be in undefined behavior.."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1522251682, "post_id": 49538595, "comment_id": 86084606, "body": "A correct test checks <b>before</b> multiplying, in order to avoid undefined behavior. Something like <code>if (std::numeric_limits&lt;std::int64_t&gt;::max() &#47; b &lt; a) { &#47;* error *&#47; }</code>."}, {"owner": {"reputation": 118, "user_id": 2761252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bead6bfe6d57a318489925dbecbefa6c?s=128&d=identicon&r=PG&f=1", "display_name": "Still-InBeta", "link": "https://stackoverflow.com/users/2761252/still-inbeta"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1522251798, "post_id": 49538595, "comment_id": 86084680, "body": "@PeteBecker Yes Pete that is what I have modified the code to. I was just trying to understand the above behaviour."}, {"owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "edited": false, "score": 0, "creation_date": 1522251842, "post_id": 49538595, "comment_id": 86084709, "body": "To understand the behavior, you&#39;d want to look at the generated assembly code to see what the compiler has done with it."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 3, "creation_date": 1522251900, "post_id": 49538595, "comment_id": 86084758, "body": "<code>product == a * b</code>, so <code>product &#47; b != a</code> can be optimized to -&gt; <code>a * b &#47; b != a</code> -&gt; <code>a * 1 != a</code> -&gt; <code>a != a</code> -&gt; <code>false</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1522251922, "post_id": 49538595, "comment_id": 86084775, "body": "The OP states he knows signed integer overflow is UB.  Linking to a question whose answers state &quot;this is UB&quot; is not useful."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1522252210, "post_id": 49538595, "comment_id": 86084984, "body": "If you are interested in understanding what compilers output for a given piece of code, you can use godbolt.org. For example I&#39;ve <a href=\"https://godbolt.org/g/XkjseD\" rel=\"nofollow noreferrer\">tried your snippet</a> and it seems the condition is entirely optimized out by gcc 7.3 with -O2. For an explanation of why undefined behavior does what it does you would need to specify exactly which compiler you are using, which version you are using, which flags are using and the answer could still depend on other factors."}], "answers": [{"comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522251747, "post_id": 49538778, "comment_id": 86084655, "body": "There are multiple duplicates already, is this answer useful?"}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522251815, "post_id": 49538778, "comment_id": 86084692, "body": "Nah, let&#39;s close it."}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522251780, "last_edit_date": 1522251780, "creation_date": 1522251714, "answer_id": 49538778, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49538778#49538778", "title": "Signed Integer value overflow in C++?", "body": "<blockquote>\n  <p>could someone help me make sense of the above behaviour?</p>\n</blockquote>\n\n<p>Signed integer overflow has <strong>undefined behaviour</strong> in C++. This implies that you cannot reliably detect it, and that code which contains signed integer overflow can <strong>do anything</strong>.</p>\n\n<hr>\n\n<p>If you want to detect whether an operation will result in a signed integer overflow or not, you need to do that before the overflow happens, preventing UB from taking place.</p>\n"}, {"comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522251793, "post_id": 49538797, "comment_id": 86084677, "body": "There are multiple duplicates already, is this answer useful?"}], "tags": [], "owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522251797, "last_edit_date": 1522251797, "creation_date": 1522251761, "answer_id": 49538797, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49538797#49538797", "title": "Signed Integer value overflow in C++?", "body": "<p><a href=\"https://stackoverflow.com/questions/18195715/why-is-unsigned-integer-overflow-defined-behavior-but-signed-integer-overflow-is\">Signed integer overflow is undefined behavior</a>. This is different from <code>unsigned int</code>(all unsigned ints).\nMore info on this <a href=\"https://stackoverflow.com/questions/16188263/is-signed-integer-overflow-still-undefined-behavior-in-c\"><code>here</code></a></p>\n\n<p>As a side note, people noticed that using <code>int</code> instead of <code>unsigned int</code> increases performance (see <a href=\"https://stackoverflow.com/questions/34165099/in-c-why-is-signed-int-faster-than-unsigned-int\">here</a>) since compiler don't deal with overflow behavior.</p>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 2761252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bead6bfe6d57a318489925dbecbefa6c?s=128&d=identicon&r=PG&f=1", "display_name": "Still-InBeta", "link": "https://stackoverflow.com/users/2761252/still-inbeta"}, "edited": false, "score": 0, "creation_date": 1522252631, "post_id": 49538805, "comment_id": 86085307, "body": "Thanks @stephen. The Godbolt link answers my question. So it really is due to compiler optimization. It would also be great if you can give me the Cppcon talk link."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522253246, "post_id": 49538805, "comment_id": 86085783, "body": "Shouldn&#39;t it be <code>a &gt; max_a</code>?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1522253358, "post_id": 49538805, "comment_id": 86085864, "body": "and negative isn&#39;t handled too (both <code>-big * -big</code> and <code>big * -big</code>)"}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522257105, "post_id": 49538805, "comment_id": 86088146, "body": "@Aconcagua - Pretty sure I have the check correct. <code>max_a</code> should be the largest possible value <code>int64_t</code> can store, so there&#39;s no way <code>a</code> can ever be larger."}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522257131, "post_id": 49538805, "comment_id": 86088167, "body": "@Jarod42 - Good catch on negatives. I&#39;ll leave that as an exercise for the reader :)"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522257423, "post_id": 49538805, "comment_id": 86088325, "body": "@StephenNewell <code>max_a = max_i64 &#47; b</code>, so <code>max_a</code> is the maximum value that can be multiplied with <code>b</code>... Or did I read it wrong that returning 0 shall denote the overflow? Possibly better <code>throw</code> anyway?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522257529, "post_id": 49538805, "comment_id": 86088395, "body": "@StephenNewell &quot;negatives -&gt; excercise&quot; - suppose would be a good idea adding it to the answer itself, might be overseen within the comments otherwise..."}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1522257545, "post_id": 49538805, "comment_id": 86088403, "body": "@Aconcagua: You&#39;re right, I&#39;m an idiot. This is why code reviews exist :). Agree on the <code>throw</code>, and somehow didn&#39;t think of that when I wrote the answer."}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 118, "user_id": 2761252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bead6bfe6d57a318489925dbecbefa6c?s=128&d=identicon&r=PG&f=1", "display_name": "Still-InBeta", "link": "https://stackoverflow.com/users/2761252/still-inbeta"}, "edited": false, "score": 0, "creation_date": 1522258260, "post_id": 49538805, "comment_id": 86088819, "body": "@Still-InBeta - I don&#39;t have the bandwidth right now to go through all the old Cppcon talks (although it sounds fun). If memory serves me correctly, this is the correct talk: <a href=\"https://www.youtube.com/watch?v=g7entxbQOCc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=g7entxbQOCc</a> (could also be this one though: <a href=\"https://www.youtube.com/watch?v=yG1OZ69H_-o\" rel=\"nofollow noreferrer\">youtube.com/watch?v=yG1OZ69H_-o</a>). If somebody wants to do the leg work and verify/correct the link, I&#39;m happy to edit the answer."}, {"owner": {"reputation": 829, "user_id": 699229, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a44694d88324d395d97ec6ee0744218c?s=128&d=identicon&r=PG", "display_name": "TakeMeAsAGuest", "link": "https://stackoverflow.com/users/699229/takemeasaguest"}, "edited": false, "score": 0, "creation_date": 1553451826, "post_id": 49538805, "comment_id": 97380045, "body": "has anyone observed that undefined behavior on any compiler?"}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 829, "user_id": 699229, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a44694d88324d395d97ec6ee0744218c?s=128&d=identicon&r=PG", "display_name": "TakeMeAsAGuest", "link": "https://stackoverflow.com/users/699229/takemeasaguest"}, "edited": false, "score": 0, "creation_date": 1553464399, "post_id": 49538805, "comment_id": 97383618, "body": "@TakeMeAsAGuest - Check Godbolt: <a href=\"https://godbolt.org/z/4DdDlT\" rel=\"nofollow noreferrer\">godbolt.org/z/4DdDlT</a>.  Both gcc and clang optimize away the overflow check entirely, but only with signed types (unsigned over/underflow is defined)."}, {"owner": {"reputation": 829, "user_id": 699229, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a44694d88324d395d97ec6ee0744218c?s=128&d=identicon&r=PG", "display_name": "TakeMeAsAGuest", "link": "https://stackoverflow.com/users/699229/takemeasaguest"}, "edited": false, "score": 0, "creation_date": 1553465832, "post_id": 49538805, "comment_id": 97383962, "body": "i dont know assembly much, so what does cpu itself do if it overflows? say addition or multiplication? sorry i dont have c++ compiler right now and also want to let readers learn smt either."}, {"owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "reply_to_user": {"reputation": 829, "user_id": 699229, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a44694d88324d395d97ec6ee0744218c?s=128&d=identicon&r=PG", "display_name": "TakeMeAsAGuest", "link": "https://stackoverflow.com/users/699229/takemeasaguest"}, "edited": false, "score": 0, "creation_date": 1553467452, "post_id": 49538805, "comment_id": 97384316, "body": "@TakeMeAsAGuest - The signed versions of the function have three instructions: <code>mov</code>, <code>imul</code>, <code>ret</code>; there&#39;s no branching.  The unsigned versions have many instructions, including <code>test</code> and <code>je</code> (jump if equal); if you hover over the instruction, you&#39;ll get a brief explanation.  As to what the CPU does, that depends on the specific CPU.  If you need specifics about an architecture, then you&#39;ll need to ask a new question so somebody who knows can answer you."}, {"owner": {"reputation": 829, "user_id": 699229, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a44694d88324d395d97ec6ee0744218c?s=128&d=identicon&r=PG", "display_name": "TakeMeAsAGuest", "link": "https://stackoverflow.com/users/699229/takemeasaguest"}, "edited": false, "score": 0, "creation_date": 1553471281, "post_id": 49538805, "comment_id": 97385044, "body": "i was curious about x86&#39;s ofc but ok"}], "tags": [], "owner": {"reputation": 6021, "user_id": 206404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497437666710e8b13ee168bd7b62fcba?s=128&d=identicon&r=PG", "display_name": "Stephen Newell", "link": "https://stackoverflow.com/users/206404/stephen-newell"}, "is_accepted": true, "score": 4, "last_activity_date": 1522258117, "last_edit_date": 1522258117, "creation_date": 1522251791, "answer_id": 49538805, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49538805#49538805", "title": "Signed Integer value overflow in C++?", "body": "<p>Because signed overflow/underflow are classified as undefined behavior, compilers are allowed to cheat and assume it can't happen (this came up during a Cppcon talk a year or two ago, but I forget the talk off the top of my head).  Because you're doing the arithmetic and then checking the result, the optimizer gets to optimize away part of the check.</p>\n\n<p>This is <strong><em>untested</em></strong> code, but you probably want something like the following:</p>\n\n<pre><code>if(b != 0) {\n    auto max_a = std::numeric_limits&lt;int64_t&gt;::max() / b;\n    if(max_a &lt; a) {\n        throw std::runtime_error{\"overflow\"};\n    }\n}\nreturn a * b;\n</code></pre>\n\n<p>Note that this code doesn't handle underflow; if <code>a * b</code> can be negative, this check won't work.</p>\n\n<p>Per <a href=\"https://godbolt.org/g/f8Yn1S\" rel=\"nofollow noreferrer\">Godbolt</a>, you can see your version has the check completely optimized away.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 6, "last_activity_date": 1522251933, "creation_date": 1522251933, "answer_id": 49538859, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49538859#49538859", "title": "Signed Integer value overflow in C++?", "body": "<p>Signed integer overflow is undefined behavior in C++.</p>\n\n<p>This means the optimizer can assume it never happens.  <code>a*b/b</code> is <code>a</code>, period.</p>\n\n<p>Modern compilers do static single assignment based optimization.</p>\n\n<pre><code>// a and b are int64_t\nint64_t product = a * b;\nif (b != 0 &amp;&amp; product / b != a) {\n  // Overflow\n}\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>const int64_t __X__ = a * b; \nconst bool __Y__ = b != 0;\nconst int64_t __Z__ = __X__ / b;\nconst int64_t __Z__ = a*b / b;\nconst int64_t __Z__ = a;\n\nif (__Y__ &amp;&amp; __Z__ != a) {\n  // Overflow\n}\n</code></pre>\n\n<p>which evaluates to</p>\n\n<pre><code>if (__Y__ &amp;&amp; false) {\n  // Overflow\n}\n</code></pre>\n\n<p>clearly, as <code>__Z__</code> is <code>a</code> and <code>a!=a</code> is <code>false</code>.</p>\n\n<pre><code>int128_t big_product = a * b; \n</code></pre>\n\n<p>work with <code>big_product</code> and detect overflow there.</p>\n\n<p>SSA permits the compiler to realize things like <code>(a+1)&gt;a</code> is always true, which can simplify many loops and optimization cases.  That fact relies on the fact that overflow of signed values is undefiend behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 2045, "user_id": 1077785, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/7131b485716736485a3d7a2e13846786?s=128&d=identicon&r=PG", "display_name": "Tomaz Canabrava", "link": "https://stackoverflow.com/users/1077785/tomaz-canabrava"}, "is_accepted": false, "score": 0, "last_activity_date": 1522252087, "creation_date": 1522252087, "answer_id": 49538919, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49538919#49538919", "title": "Signed Integer value overflow in C++?", "body": "<p>if you are worried about integer overflows it's not better to use a arbitrary precision integer library - with this you can increase your size types to 128bits and don't worry about it.</p>\n\n<p><a href=\"https://gmplib.org/\" rel=\"nofollow noreferrer\">https://gmplib.org/</a></p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 4, "last_activity_date": 1522252444, "creation_date": 1522252444, "answer_id": 49539063, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49539063#49539063", "title": "Signed Integer value overflow in C++?", "body": "<p>With the knowledge that<code>product == a * b</code>, the compiler/optimizer can take following optimization steps:</p>\n\n<pre><code>b != 0 &amp;&amp; product / b != a\nb != 0 &amp;&amp; a * b / b != a\nb != 0 &amp;&amp; a * 1 != a\nb != 0 &amp;&amp; a != a\nb != 0 &amp;&amp; false\nfalse\n</code></pre>\n\n<p>The optimizer can choose to remove the branch entirely.</p>\n\n<hr>\n\n<blockquote>\n  <p>I understand that signed integer overflow is an 'undefined behaviour' in C++ and so the compiler behaviour could change across implementations. But could someone help me make sense of the above behaviour?</p>\n</blockquote>\n\n<p>You may know that signed integer overflow is UB, but I suppose you haven't yet grasped what UB really means. UB doesn't need to, and often doesn't make sense. This case seems straight forward though.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522253726, "creation_date": 1522253726, "answer_id": 49539494, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c/49539494#49539494", "title": "Signed Integer value overflow in C++?", "body": "<p>you can read this documentation it might be useful to you as if any problem faced me in variables and data types i go directly to read it : <a href=\"http://www.cplusplus.com/doc/tutorial/variables/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/doc/tutorial/variables/</a></p>\n"}], "owner": {"reputation": 118, "user_id": 2761252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bead6bfe6d57a318489925dbecbefa6c?s=128&d=identicon&r=PG&f=1", "display_name": "Still-InBeta", "link": "https://stackoverflow.com/users/2761252/still-inbeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 1, "accepted_answer_id": 49538805, "answer_count": 7, "score": 5, "last_activity_date": 1522315668, "creation_date": 1522251183, "last_edit_date": 1522315668, "question_id": 49538595, "link": "https://stackoverflow.com/questions/49538595/signed-integer-value-overflow-in-c", "title": "Signed Integer value overflow in C++?", "body": "<p>I have a legacy codebase which we are trying to migrate from <code>devtoolset-4</code> to <code>devtoolset-7</code>. I noticed an interesting behaviour regarding overflow of signed integers (<code>int64_t</code>, to be specific).</p>\n\n<p>There is a code snippet which is used to detect integer overflow while multiplying a big set of integers:</p>\n\n<pre><code>// a and b are int64_t\nint64_t product = a * b; \nif (b != 0 &amp;&amp; product / b != a) {\n    // Overflow\n}\n</code></pre>\n\n<p>This code was working fine with devtoolset-4. However, with devtoolset-7, overflow is never being detected.</p>\n\n<p>For eg: When <code>a = 83802282034166</code> and <code>b = 98765432</code>, the \n<code>product</code> becomes <code>-5819501405344925872</code> (clearly the value has overflown).</p>\n\n<p>But <code>product / b</code> results in value equal to <code>a (83802282034166)</code>. Hence the <code>if</code> condition never becomes true.\nIts value should have been computed based on the overflown (negative) <code>product</code> value: <code>-5819501405344925872 / 98765432 = -58922451788</code></p>\n\n<p>Ironically, the Maths is correct but it is causing anomalous behaviour with regards to devtoolset-4.</p>\n\n<ul>\n<li>Could the compiler be caching the value (and not re-evaluating it) resulting in this behaviour?</li>\n<li>Or does compiler optimization converts statement <code>product / b != a</code>\nto <code>product != a * b</code> and reaches the same overflown value (or maybe just skips the computation based on the above statement where <code>product = a * b</code>)?</li>\n</ul>\n\n<p>I understand that signed integer overflow is an 'undefined behaviour' in C++ and so the compiler behaviour could change across implementations. But could someone help me make sense of the above behaviour?</p>\n\n<p>Note: the g++ versions in devtoolset-4 and devtoolset-7 are <code>g++ (GCC) 5.2</code> and <code>g++ (GCC) 7.2.1</code>, respectively.</p>\n"}, {"tags": ["c++", "set", "comma"], "comments": [{"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1522257139, "post_id": 49538496, "comment_id": 86088172, "body": "Suspect troll.."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "edited": false, "score": 0, "creation_date": 1522251203, "post_id": 49538563, "comment_id": 86084241, "body": "it gave me this result : {{},{1,},{2,},{1,2,},{3,},{1,3,},{2,3,},{1,2,3,}}"}], "tags": [], "owner": {"reputation": 510, "user_id": 9273414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ab7df78761228f5207661c82df9b1?s=128&d=identicon&r=PG&f=1", "display_name": "Ajris", "link": "https://stackoverflow.com/users/9273414/ajris"}, "is_accepted": false, "score": -1, "last_activity_date": 1522251874, "last_edit_date": 1522251874, "creation_date": 1522251084, "answer_id": 49538563, "question_id": 49538496, "link": "https://stackoverflow.com/questions/49538496/how-to-print-a-comma-between-elements-of-a-set/49538563#49538563", "title": "How to print a comma between elements of a set", "body": "<p>Check your if statement:</p>\n\n<pre><code>if (j &lt; set1_length &amp;&amp; (i &amp; (1 &lt;&lt; (j+1)))) cout &lt;&lt; \",\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "edited": false, "score": 0, "creation_date": 1522252090, "post_id": 49538833, "comment_id": 86084898, "body": "Result : {{,,},{1,,},{,2,},{1,2,},{,,3},{1,,3},{,2,3},{1,2,3}}"}, {"owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "reply_to_user": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "edited": false, "score": 0, "creation_date": 1522252257, "post_id": 49538833, "comment_id": 86085013, "body": "@AbdelrahmanNasr Have you replaced your original code with the second codeblock I quoted? I get: <code>{{},{1},{2},{1,2},{3},{1,3},{2,3},{1,2,3}}</code>. Make sure you only replace the erroneous section."}, {"owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "edited": false, "score": 1, "creation_date": 1522252608, "post_id": 49538833, "comment_id": 86085278, "body": "Now i got THIS:  {{},{1},{2},{1,2},{3},{1,3},{2,3},{1,2,3}}"}, {"owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "edited": false, "score": 1, "creation_date": 1522252645, "post_id": 49538833, "comment_id": 86085317, "body": "Thank youuu you have just become the first correct answer for my first question in this site ^^ !"}], "tags": [], "owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "is_accepted": true, "score": 0, "last_activity_date": 1522251843, "creation_date": 1522251843, "answer_id": 49538833, "question_id": 49538496, "link": "https://stackoverflow.com/questions/49538496/how-to-print-a-comma-between-elements-of-a-set/49538833#49538833", "title": "How to print a comma between elements of a set", "body": "<p>One way to solve this is to keep track of whether you've printed the first number in a set. Instead of:</p>\n\n<pre><code>for (int j = 0; j &lt; set1_length; j++ ) {\n    if(i &amp; (1&lt;&lt;j)) {\n        cout &lt;&lt; set1[j];\n        if (j &lt; set1_length - 1) cout &lt;&lt; \",\";\n    }\n}\n</code></pre>\n\n<p>You could use a flag to only print a comma starting from the second number in a set:</p>\n\n<pre><code>bool first = true;\nfor (int j = 0; j &lt; set1_length; j++ ) {\n    if(i &amp; (1&lt;&lt;j)) {\n        if (first) {first = false;}\n        else {cout &lt;&lt; \",\";}\n        cout &lt;&lt; set1[j];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9550307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvcqE.jpg?s=128&g=1", "display_name": "Abdelrahman Nasr", "link": "https://stackoverflow.com/users/9550307/abdelrahman-nasr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1522253574, "accepted_answer_id": 49538833, "answer_count": 2, "score": -1, "last_activity_date": 1522252063, "creation_date": 1522250887, "question_id": 49538496, "link": "https://stackoverflow.com/questions/49538496/how-to-print-a-comma-between-elements-of-a-set", "closed_reason": "Duplicate", "title": "How to print a comma between elements of a set", "body": "<p>I am working on an assignment and i made a function to get the power set and it worked but if the set like this:</p>\n\n<blockquote>\n  <p>{1,2,3}</p>\n</blockquote>\n\n<p>it print out this :</p>\n\n<blockquote>\n  <p>{{},{1,},{2,},{1,2,},{3},{1,3},{2,3},{1,2,3}}</p>\n</blockquote>\n\n<p>and i can't remove these commas to become like that:</p>\n\n<blockquote>\n  <p>{{},{1},{2},{1,2},{3},{1,3},{2,3},{1,2,3}}</p>\n</blockquote>\n\n<p>Source code for this function:</p>\n\n<pre><code>void power_set(int set1[], int set1_length) {\n    int power = pow(2,set1_length);\n\n    cout &lt;&lt; \"{\";\n    for (int i = 0; i &lt; power; i++) {\n        cout &lt;&lt; \"{\";\n        for (int j = 0; j &lt; set1_length; j++ ) {\n            if(i &amp; (1&lt;&lt;j)) {\n                cout &lt;&lt; set1[j];\n                if (j &lt; set1_length - 1) cout &lt;&lt; \",\";\n            }\n        }\n        cout &lt;&lt; \"}\";\n        if (i != power - 1)cout &lt;&lt; \",\";\n    }\n    cout &lt;&lt; \"}\";\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qt5", "qt-signals", "qtcharts"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1522429477, "post_id": 49538489, "comment_id": 86164388, "body": "The cast in <code>connect</code> below <code>&#47;&#47;Connexion</code> is unnecessary."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522313305, "post_id": 49540017, "comment_id": 86110418, "body": "Thank a lot for your answer. But I have an error with the &quot;emit&quot; line code: error: no matching function for call to &#39;MainWindow::rubberBandChanged(QPointF&amp;, QPointF&amp;)&#39;          emit rubberBandChanged(fp, tp); second thing, can you explain why you specify the &quot;override&quot; there: bool eventFilter(QObject *watched, QEvent *event) override; and last thing, why you install the event filter on MainWindow and not on the ChartView like this-&gt;installEventFilter(this-&gt;qcvChart); Can you help me again ?"}, {"owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522318641, "post_id": 49540017, "comment_id": 86114116, "body": "Moreover, the line code:  this-&gt;qRubberBand-&gt;installEventFilter(this);  crash my application before she can even start. @eyllanesc"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522320065, "post_id": 49540017, "comment_id": 86115051, "body": "@falcon Are you using my example or are you adapting it for your code? if it is the latter, you must do this last, first stable the type of QRubberBand, then do the search and finally the connection; the order is important."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522321905, "post_id": 49540017, "comment_id": 86116309, "body": "@falcon  If you check my answer I am creating a new custom signal, in my case I think it is not necessary to send the rectangle since I send the corners of the rectangle. using <code>override</code> is a good practice, please read the following to see its advantages <a href=\"https://stackoverflow.com/questions/18198314/what-is-the-override-keyword-in-c-used-for\" title=\"what is the override keyword in c used for\">stackoverflow.com/questions/18198314/&hellip;</a>. Finally install the event filter in MainWindow for simplicity, I could do it in general in any other QObject without having problems."}, {"owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522325310, "post_id": 49540017, "comment_id": 86118600, "body": "You can check my project I just creat a bitbucket repository: <a href=\"https://bitbucket.org/falcon1990/psimuvisu/src/f2734cbab3e2d7dc0d8177836a2af6d770efd6a5?at=master\" rel=\"nofollow noreferrer\">bitbucket.org/falcon1990/psimuvisu/src/&hellip;</a> Connection are commented and interest class are ManWindow and maybe Chart. I will try your code in a new project. Thanks for helping me !"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522327005, "post_id": 49540017, "comment_id": 86119905, "body": "@falcon The problem is that you are doing the search when the QRubberBand does not exist, you must do it when you enable it: <code>if(this-&gt;bCursorState == false)     {         ...         this-&gt;qcvChart-&gt;setRubberBand(QChartView::HorizontalRubberBa&zwnj;&#8203;nd);          qRubberBand = qcvChart-&gt;findChild&lt;QRubberBand *&gt;();         qRubberBand-&gt;installEventFilter(this);     }</code>,  The corrected code is in: <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/49538489/psimuvisu\" rel=\"nofollow noreferrer\">github.com/eyllanesc/stackoverflow/tree/master/49538489/&hellip;</a>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522327271, "post_id": 49540017, "comment_id": 86120108, "body": "@falcon  If my answer helps you, do not forget to mark it as correct, if you do not know how to do it, review the <a href=\"https://stackoverflow.com/tour\">tour</a>, that is the best way to thank."}, {"owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522330323, "post_id": 49540017, "comment_id": 86122345, "body": "I modified my code but the error: error: no matching function for call to &#39;MainWindow::rubberBandChanged(QPointF&amp;, QPointF&amp;)&#39;          emit this-&gt;rubberBandChanged(fp, tp); is not solved and still appears. I done a commit on my bitbucket: <a href=\"https://bitbucket.org/falcon1990/psimuvisu/src/f2734cbab3e2d7dc0d8177836a2af6d770efd6a5?at=master\" rel=\"nofollow noreferrer\">bitbucket.org/falcon1990/psimuvisu/src/&hellip;</a> If you want you can check it. Thank you very much ! I&#39;ll don&#39;t forget to mark it as correct when it will be solved."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522331846, "post_id": 49540017, "comment_id": 86123630, "body": "@falcon is typo in mainwindow.h: <code>signals: change    void rubberBandChanged(QPointF fp, QPoint tp);</code> to <code>signals:     void rubberBandChanged(QPointF fp, QPointF tp);</code>, Change the <code>QPoint</code> to <code>QPointF</code>  in the signal declaration."}, {"owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "edited": false, "score": 0, "creation_date": 1522332685, "post_id": 49540017, "comment_id": 86124272, "body": "Dammmmmmmmmm I&#39;m sorry for that and the time that you lost for this question. That now works well as I wanted. Thank you so much you are badass ! I will send you a cup of coffe in Peru, just give me an adresse xD."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1522327160, "last_edit_date": 1522327160, "creation_date": 1522255448, "answer_id": 49540017, "question_id": 49538489, "link": "https://stackoverflow.com/questions/49538489/qt-how-to-connect-the-rubberbandchanged-signal/49540017#49540017", "title": "Qt How to connect the rubberBandChanged signal", "body": "<p>The problem is that although <code>QChartView</code> inherits from <code>QGraphicsView</code> it does not use the same <code>QRubberBand</code> so the <code>rubberBandChanged</code> signal is never issued.</p>\n\n<p>The solution is to look for the <code>QRubberBand</code> since it is a child of <code>QChartView</code> and filter it through the <code>resizeEvent</code> event, and then create our own signal:</p>\n\n<p><strong>*.h</strong></p>\n\n<pre><code>...\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n    bool eventFilter(QObject *watched, QEvent *event) override;\npublic slots:\n    void rubberZoomAdapt(QPointF fp, QPointF tp);\n\nsignals:\n    void rubberBandChanged(QPointF fp, QPointF tp);\n\nprivate:\n    Ui::MainWindow *ui;\n    QChartView* qcvChart;\n    QChart* chart;\n    QRubberBand *rubberBand;\n};\n...\n</code></pre>\n\n<p><strong>*.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\n#include &lt;QDebug&gt;\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow),\n    qcvChart(new QChartView),\n    chart(new QChart)\n{\n    ui-&gt;setupUi(this);\n\n    qcvChart-&gt;setChart(chart);\n    qcvChart-&gt;setRubberBand(QChartView::HorizontalRubberBand);\n    rubberBand = qcvChart-&gt;findChild&lt;QRubberBand *&gt;();\n    rubberBand-&gt;installEventFilter(this);\n\n    connect(this, &amp;MainWindow::rubberBandChanged,this, &amp;MainWindow::rubberZoomAdapt);\n\n    setCentralWidget(qcvChart);\n    ...\n}\n\n...\n\nbool MainWindow::eventFilter(QObject *watched, QEvent *event)\n{\n    if(watched == rubberBand &amp;&amp; event-&gt;type() == QEvent::Resize){\n        QPointF fp = chart-&gt;mapToValue(rubberBand-&gt;geometry().topLeft());\n        QPointF tp = chart-&gt;mapToValue(rubberBand-&gt;geometry().bottomRight());\n        emit rubberBandChanged(fp, tp);\n    }\n    return QMainWindow::eventFilter(watched, event);\n}\n\nvoid MainWindow::rubberZoomAdapt(QPointF fp, QPointF tp)\n{\n    qDebug() &lt;&lt; \"(rubberZoomAdapt) RubberBand Event: \"&lt;&lt;fp&lt;&lt;tp;\n}\n</code></pre>\n\n<p>The complete example can be found in the following <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/49538489/49538489\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 31, "user_id": 9564846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbf3a49b86209fb2c022bd8aad505d1?s=128&d=identicon&r=PG&f=1", "display_name": "falcon", "link": "https://stackoverflow.com/users/9564846/falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 2, "accepted_answer_id": 49540017, "answer_count": 1, "score": 2, "last_activity_date": 1522345821, "creation_date": 1522250869, "last_edit_date": 1522345821, "question_id": 49538489, "link": "https://stackoverflow.com/questions/49538489/qt-how-to-connect-the-rubberbandchanged-signal", "title": "Qt How to connect the rubberBandChanged signal", "body": "<p>I try to link the rubberBandChanged signal from QChartView class to a specific function in MainWindow class.</p>\n\n<p>MainWindow.h</p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\npublic slots:\n    void rubberZoomAdapt(QRect, QPointF, QPointF);\n\nprivate:\n    Ui::MainWindow *ui;\n    QChartView* qcvChart;\n    Chart* chart;\n};\n</code></pre>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow),\n    qcvChart(new QChartView),\n    chart(new Chart)\n{\n    ui-&gt;setupUi(this);\n\n    //Connexion\n    QObject::connect(qobject_cast&lt;QGraphicsView*&gt;(this-&gt;qcvChart),\n                     &amp;QGraphicsView::rubberBandChanged,\n                     this,\n                     &amp;MainWindow::rubberZoomAdapt);\n\n    this-&gt;qcvChart-&gt;setChart(this-&gt;chart);\n    this-&gt;qcvChart-&gt;setRubberBand(QChartView::HorizontalRubberBand);\n}\n\nvoid MainWindow::rubberZoomAdapt(QRect r, QPointF fp, QPointF tp)\n{\n    static int i = 0;\n    qDebug() &lt;&lt; \"(rubberZoomAdapt) RubberBand Event: \" &lt;&lt; QString::number(i++);\n}\n</code></pre>\n\n<p>When I use the rubberBand in my chart, I never enter in the rubberZoomAdapt().</p>\n\n<p>Any idee to fix this ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "qt", "gcc", "mingw", "hid"], "comments": [{"owner": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522254761, "post_id": 49538390, "comment_id": 86086777, "body": "What&#39;s the path to the MinGW libs? Do you have any spaces in the paths?"}, {"owner": {"reputation": 1597, "user_id": 5162810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDGmO.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/5162810/graham"}, "reply_to_user": {"reputation": 3503, "user_id": 8918119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WBTsrNZGTro/AAAAAAAAAAI/AAAAAAAAAAA/TyVQT8y8hbc/photo.jpg?sz=128", "display_name": "Mihayl", "link": "https://stackoverflow.com/users/8918119/mihayl"}, "edited": false, "score": 0, "creation_date": 1522255361, "post_id": 49538390, "comment_id": 86087119, "body": "@MihaylA.A The path is within the default Qt installation directory, and is <code>C:\\Qt\\Qt5.9.3\\Tools\\mingw530_32\\bin</code>.  There are no spaces in there.  (Yes, I&#39;ve been bitten by that one in the past too! :)"}], "answers": [{"tags": [], "owner": {"reputation": 1597, "user_id": 5162810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDGmO.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/5162810/graham"}, "is_accepted": false, "score": 3, "last_activity_date": 1522318033, "last_edit_date": 1522318033, "creation_date": 1522258700, "answer_id": 49540892, "question_id": 49538390, "link": "https://stackoverflow.com/questions/49538390/problems-linking-with-mingw-v-4-3-0-and-libhid/49540892#49540892", "title": "Problems linking with MinGW (v.4.3.0) and libhid", "body": "<p>I've just found the answer.  I'm posting an answer myself so that other people know in future, because I think this is still a valid question which people might want to know about.</p>\n\n<p>The problem is the include file <code>hidsdi.h</code>.  The majority of other header files which pull in Win32 API calls have <code>extern \"C\"</code> around the function declarations.  However this one doesn't!  The result is that we end up with C++ name mangling for linker symbols, instead of the C-style \"_\" in front of the linker symbols.</p>\n\n<p>The solution is to use</p>\n\n<pre><code>extern \"C\"\n{\n    #include &lt;hidsdi.h&gt;\n}\n</code></pre>\n\n<p>and then everything works fine.</p>\n\n<p>The version of <code>hidsdi.h</code> with the older version of MinGW (which I'm porting from) <strong><em>did</em></strong> have that protection around the function declarations.  However it looks like it's gone in the newer version.</p>\n"}], "owner": {"reputation": 1597, "user_id": 5162810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDGmO.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/5162810/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522318033, "creation_date": 1522250608, "last_edit_date": 1522255431, "question_id": 49538390, "link": "https://stackoverflow.com/questions/49538390/problems-linking-with-mingw-v-4-3-0-and-libhid", "title": "Problems linking with MinGW (v.4.3.0) and libhid", "body": "<p>Context: I'm using Qt 5.9.3 on Windows, building for MinGW 32-bit.  The Qt part is a side issue though - the problem seems to be with MinGW.  The version of MinGW is 4.3.0, supplied prebuilt as part of the Qt installation.</p>\n\n<p>I'm building a library which talks to a USB device over HID.  Everything compiles fine, but it fails at the link stage with </p>\n\n<pre><code>./..\\..\\object\\debug\\usb_hid_device.o: In function `ZN8MyApp3USB5Win3213getDevicePathB5cxx11Ell':\n&lt;MYPATH&gt;/../../source/win32/usb_hid_device.cpp:99: undefined reference to `HidD_GetAttributes(void*, _HIDD_ATTRIBUTES*)@8'\n./..\\..\\object\\debug\\usb_hid_device.o: In function `ZN8MyApp3USB5Win3214CHIDDeviceImplC2EllRNS_15LogPerComponentE':\n&lt;MYPATH&gt;/../../source/win32/usb_hid_device.cpp:200: undefined reference to `HidD_FlushQueue(void*)@4'\n</code></pre>\n\n<p>The linker command is</p>\n\n<pre><code>g++ -shared -mthreads -Wl,-subsystem,windows -Wl,--out-implib,&lt;MYPATH&gt;\\bin\\debug\\libusb_hid_comms.a -o &lt;MYPATH&gt;\\bin\\debug\\usb_hid_comms.dll object_script.usb_hid_comms.Debug -lhid -lsetupapi -LC:\\Qt\\Qt5.9.3\\5.9.3\\mingw53_32\\lib C:\\Qt\\Qt5.9.3\\5.9.3\\mingw53_32\\lib\\libQt5Guid.a C:\\Qt\\Qt5.9.3\\5.9.3\\mingw53_32\\lib\\libQt5Cored.a\n</code></pre>\n\n<p>If I omit <code>-lhid</code> I get the same errors.  I also get the same errors if I remove <code>-lhid</code> and explicitly set the path and filename to <code>libhid.a</code>.  If I deliberately mistype the path and filename, it comes up with an error, so I know the command-line is getting parsed correctly.  But for whatever reason, MinGW appears to not be linking with one of its own library files.</p>\n\n<p>I've also tried removing <code>-lsetupapi</code> and I get the linker errors I'd expect for the functions defined in there.  Likewise the Qt library files.  But it seems that specifically for <code>libhid.a</code>, MinGW can see the library file but just isn't going to link with it.</p>\n\n<p>Has anyone else seen this?  Or can anyone else with the same (or similar) version of MinGW confirm or deny that they can link with <code>libhid.a</code>?  Or is there something obviously wrong with what I'm doing?</p>\n"}, {"tags": ["c++", "embedded-linux", "socketcan"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522251306, "post_id": 49538368, "comment_id": 86084318, "body": "I&#39;ll bet <code>result</code> has a newline at the end. But since you haven&#39;t posted how you set <code>result</code> it&#39;s hard to tell."}, {"owner": {"reputation": 61, "user_id": 5515411, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ae9ef7c7cca2ba9cc6ab4d7ebe152ca1?s=128&d=identicon&r=PG&f=1", "display_name": "MertensToon", "link": "https://stackoverflow.com/users/5515411/mertenstoon"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522258822, "post_id": 49538368, "comment_id": 86089111, "body": "I add the code. Thanks for the reply."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522259188, "post_id": 49538368, "comment_id": 86089313, "body": "The code has unmatched braces. There&#39;s no <code>}</code> for <code>if(fgets(buffer, 128, pipe)){</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522259275, "post_id": 49538368, "comment_id": 86089356, "body": "Looks like my guess was right: <code>fgets()</code> includes the newline in the buffer."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522259307, "post_id": 49538368, "comment_id": 86089385, "body": "ALso <code>||</code> needs to be <code>&amp;&amp;</code>. See <a href=\"https://stackoverflow.com/questions/26337003/execute-block-if-a-variable-is-not-one-of-some-specific-values\" title=\"execute block if a variable is not one of some specific values\">stackoverflow.com/questions/26337003/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 5515411, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ae9ef7c7cca2ba9cc6ab4d7ebe152ca1?s=128&d=identicon&r=PG&f=1", "display_name": "MertensToon", "link": "https://stackoverflow.com/users/5515411/mertenstoon"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522260074, "post_id": 49538368, "comment_id": 86089820, "body": "Barmar, Thanks for helping. So the best way is to change fgets to gets? So the new line isn&#39;t included? I will try it out tomorrow (Don&#39;t have the cannode with me now.) Are ther eother things that I can improve? Kind regards"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522260185, "post_id": 49538368, "comment_id": 86089902, "body": "Just remove the newline from <code>buffer</code>, or add it to the string you&#39;re comparing with."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522260236, "post_id": 49538368, "comment_id": 86089924, "body": "<code>gets()</code> is not a useful solution. It only reads from standard input, and it has been removed from the language because it doesn&#39;t have a <code>buffersize</code> parameter, so it can write outside the array bounds."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522260302, "post_id": 49538368, "comment_id": 86089960, "body": "You could also look here for a C++ equivalent to <code>popen()</code> so you can use <code>getline()</code>: <a href=\"https://stackoverflow.com/questions/3190514/popen-equivalent-in-c\" title=\"popen equivalent in c\">stackoverflow.com/questions/3190514/popen-equivalent-in-c</a>"}, {"owner": {"reputation": 61, "user_id": 5515411, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ae9ef7c7cca2ba9cc6ab4d7ebe152ca1?s=128&d=identicon&r=PG&f=1", "display_name": "MertensToon", "link": "https://stackoverflow.com/users/5515411/mertenstoon"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1523609940, "post_id": 49538368, "comment_id": 86640475, "body": "Hi all, Now I&#39;m running into timing issues. So when I&#39;m connected to the bus, I always need to run GetCmdOutput(const char * cmd). So I reinitialize the canbus. By doing this I&#39;m missing lots of data. Is there a way to  manipulate my code, so I only need to run the terminal command ones and after I read always the new line which enters the terminal?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1523633866, "post_id": 49538368, "comment_id": 86656257, "body": "<code>popen()</code> can run any shell command, so you can run a <code>while</code> loop that keeps restarting the program that reads from the canbus. But if data from the canbus is lost whenever that program restarts, there&#39;s nothing you can do in this program. You need a reliable way to read from the device."}], "owner": {"reputation": 61, "user_id": 5515411, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ae9ef7c7cca2ba9cc6ab4d7ebe152ca1?s=128&d=identicon&r=PG&f=1", "display_name": "MertensToon", "link": "https://stackoverflow.com/users/5515411/mertenstoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522258764, "creation_date": 1522250532, "last_edit_date": 1522258764, "question_id": 49538368, "link": "https://stackoverflow.com/questions/49538368/c-read-text-from-linux-terminal-and-compare-with-a-string", "title": "C++ Read text from Linux terminal and compare with a string", "body": "<p>I'm wrote some code which uses socketcan (to make a candump). With this code I initialize socketcan. After it is initialized I create a candump in the terminal. Those values I read into a variable. Now I would like to compare this variable with a string.</p>\n\n<p>The string has a certain format. When I manually run a candump I get the following format:</p>\n\n<p>can0  71A   [1]  7F</p>\n\n<p>(2x space) can0 (2x space) 71A (3x space) [1] (2x space) 7F.</p>\n\n<p>I'm able to read the terminal output into the variable (result)</p>\n\n<pre><code>string result = //the string is loaded\n</code></pre>\n\n<p>** Now I wish to execute some code when the text in the variable \"result\" is not equal to the following string:</p>\n\n<pre><code>\"  can0  71A   [1]  7F\" \n</code></pre>\n\n<p>The following chunk of code is to make the comparison.</p>\n\n<pre><code>if(result!=\"  can0  71A   [1]  7F\"){\ncout&lt;&lt;\"input changes\";\n}\n</code></pre>\n\n<p>When I execute this code and I send it on the bus the following string. Which is the same as above:</p>\n\n<pre><code>\"  can0  71A   [1]  7F\" \n</code></pre>\n\n<p>the code prints:</p>\n\n<pre><code>\"input changes\"\n</code></pre>\n\n<p>(Normally it shouldn't print anything)</p>\n\n<p>When I send the following string on the bus:</p>\n\n<pre><code>\"  can0  19B   [1]  6A\" \n</code></pre>\n\n<p>It also prints:\n    \"input changes\"</p>\n\n<p>(which is good)</p>\n\n<p>I tried to change the spaces to tabs as well without any result.</p>\n\n<p>Any idea what the problem could be and how to solve this?</p>\n\n<p><strong>* Edit 1 *</strong>\nThe following is my code to read the value into the variable \"result\".\n(If you see other stupid things in my code, pleas feel free to give some constructive criticisme! I want to learn from my projects.)</p>\n\n<pre><code>    std::string GetCmdOutput(const char * cmd)\n{\n        char buffer[128];\n        string result;\n        string different;\n        FILE* pipe = popen(cmd,\"r\");\n        int counter=0;\n        if(!pipe) throw runtime_error(\"popen() failed!\");\n        try {\n                if(fgets(buffer,128,pipe) !=NULL){\n                        while(counter&lt;2){\n\n                                result +=buffer;\n                                cout&lt;&lt;result + \"\\n\";\n                                if(result!=\"  can0  71A   [1]  7F\" || result != \"  can0  71A   [1]  04\" )\n                                {\n                                        cout&lt;&lt;\"changed!\\n\";\n                                        different = result;\n                                }\n                        }\n        }catch(...){\n                pclose(pipe);\n                throw;\n        }\n\n        pclose(pipe);\n        pauseCan();\n        return different;\n}\n</code></pre>\n\n<p>Kind regards,\nTM</p>\n"}, {"tags": ["c++", "googletest", "googlemock"], "answers": [{"comments": [{"owner": {"reputation": 14229, "user_id": 574115, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CtK6N.png?s=128&g=1", "display_name": "Daan Timmer", "link": "https://stackoverflow.com/users/574115/daan-timmer"}, "edited": false, "score": 0, "creation_date": 1522448046, "post_id": 49580724, "comment_id": 86172253, "body": "I had already found out indeed that I could also use <code>WillRepeatedly(Invoke([&amp;](uint8_t&amp; c){ &#47;* option 3 impl; *&#47;}))</code> But was having the same &quot;thoughts&quot; about the fake stuff introducing bugs in the test code. So I hoped something out of the box (tested) by google was available. ATM I&#39;ve gone for the very explicit version, (what&#39;s in the OP)"}], "tags": [], "owner": {"reputation": 6852, "user_id": 214762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d0879a01a4294a36eba6d1ea21699e?s=128&d=identicon&r=PG", "display_name": "RA.", "link": "https://stackoverflow.com/users/214762/ra"}, "is_accepted": false, "score": 1, "last_activity_date": 1522440230, "creation_date": 1522440230, "answer_id": 49580724, "question_id": 49538342, "link": "https://stackoverflow.com/questions/49538342/googlemock-return-by-out-parameter-and-normal-return-consume-array/49580724#49580724", "title": "GoogleMock, Return by out parameter and normal return, consume array", "body": "<p>There is nothing like what you've described available \"out of the box\" in Google Mock, but you could write your own action to achieve this.  However, there are several ways you could go about this:</p>\n\n<h2>Option 1</h2>\n\n<p>Write an action that does almost exactly what you've described:</p>\n\n<pre><code>ACTION_TEMPLATE(SetArgWithNextValueFromArray,\n                HAS_1_TEMPLATE_PARAMS(int, k),\n                AND_1_VALUE_PARAMS(results))\n{\n    ::testing::get&lt;k&gt;(args) = results-&gt;front();\n    results-&gt;erase(results-&gt;begin());\n}\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>TEST_F(TestMyTest, TestMyMockedInterface)\n{\n    MockUart uartMock;\n    std::vector&lt;uint8_t&gt; results = { 10, 11, 12 };\n\n    EXPECT_CALL(uartMock, Read(::testing::_))\n        .WillOnce(::testing::DoAll(SetArgWithNextValueFromArray&lt;0&gt;(&amp;results),::testing::Return(true)))\n        .WillOnce(::testing::DoAll(SetArgWithNextValueFromArray&lt;0&gt;(&amp;results),::testing::Return(true)))\n        .WillOnce(::testing::DoAll(SetArgWithNextValueFromArray&lt;0&gt;(&amp;results),::testing::Return(true)))\n        .WillOnce(::testing::Return(false));\n}\n</code></pre>\n\n<p>This action has the advantage of being reusable with other tests, but it's still somewhat verbose.</p>\n\n<h1>Option 2</h1>\n\n<p>Write an action that emulates reading successfully from the UART:</p>\n\n<pre><code>ACTION_P(ReadSuccessfully, results)\n{\n    arg0 = results-&gt;front();\n    results-&gt;erase(results-&gt;begin());\n    return true;\n}\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>TEST_F(TestMyTest, TestMyMockedInterface)\n{\n    MockUart uartMock;\n    std::vector&lt;uint8_t&gt; results = { 10, 11, 12 };\n\n    EXPECT_CALL(uartMock, Read(::testing::_))\n        .WillOnce(ReadSuccessfully(&amp;results))\n        .WillOnce(ReadSuccessfully(&amp;results))\n        .WillOnce(ReadSuccessfully(&amp;results))\n        .WillOnce(::testing::Return(false));\n}\n</code></pre>\n\n<p>This action is less reusable, but less verbose.</p>\n\n<h1>Option 3</h1>\n\n<p>Write an action that emulates reading from the UART:</p>\n\n<pre><code>ACTION_P(FakeRead, results)\n{\n    if (results-&gt;empty())\n    {\n        return false;\n    }\n    arg0 = results-&gt;front();\n    results-&gt;erase(results-&gt;begin());\n    return true;\n}\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>TEST_F(TestMyTest, TestMyMockedInterface)\n{\n    MockUart uartMock;\n    std::vector&lt;uint8_t&gt; results = { 10, 11, 12 };\n\n    EXPECT_CALL(uartMock, Read(::testing::_)).WillRepeatedly(FakeRead(&amp;results));\n}\n</code></pre>\n\n<p>This action is also not very reusable, but is the least verbose.  The action has a complete fake implementation of <code>Read</code>, which can be useful for some of your tests.  On the other hand, a complete fake implementation may itself be buggy, which can adversely affect your tests.</p>\n\n<p>There may be other options, but these should hopefully provide enough examples of what can be achieved.</p>\n"}], "owner": {"reputation": 14229, "user_id": 574115, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CtK6N.png?s=128&g=1", "display_name": "Daan Timmer", "link": "https://stackoverflow.com/users/574115/daan-timmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522440230, "creation_date": 1522250455, "question_id": 49538342, "link": "https://stackoverflow.com/questions/49538342/googlemock-return-by-out-parameter-and-normal-return-consume-array", "title": "GoogleMock, Return by out parameter and normal return, consume array", "body": "<p>I am mocking a low level interface for reading serial data. This interface has a public function for reading bytes from its internal buffer. I want to mock this interface so I can return a sequence of bytes and for each byte returned also return the value <code>true</code>. Once it is out of bytes to read the function must return <code>false</code></p>\n\n<p>What I am doing now is the following:</p>\n\n<pre><code>struct IUart\n{\n    virtual bool Read(uint8_t&amp; value) = 0;\n    //... other functions\n};\n\nstruct MockUart: IUart\n{\n    MOCK_METHOD1(Read, bool(uint8_t&amp;));\n    //... other functions\n};\n\nstruct TestMyTest: ::testing::Test\n{\n    /* Setting up test fixture */\n};\n\nTEST_F(TestMyTest, TestMyMockedInterface)\n{\n    MockUart uartMock;\n\n    EXPECT_CALL(uartMock, Read(::testing::_))\n        .WillOnce(::testing::DoAll(::testing::SetArgReferee&lt;0&gt;(10), ::testing::Return(true)))\n        .WillOnce(::testing::DoAll(::testing::SetArgReferee&lt;0&gt;(11), ::testing::Return(true)))\n        .WillOnce(::testing::DoAll(::testing::SetArgReferee&lt;0&gt;(12), ::testing::Return(true)))\n        .WillOnce(::testing::Return(false));\n\n    //... etc\n}\n</code></pre>\n\n<p>Is there some other way that this can be facilitated? Is there some kidn of <code>::testing::WithNextValueFromArray</code> option available?</p>\n"}, {"tags": ["c++", "protected", "private-members"], "comments": [{"owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "edited": false, "score": 0, "creation_date": 1522249900, "post_id": 49538136, "comment_id": 86083283, "body": "can you please keep one of the sources only ? It makes it easier to follow"}, {"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "reply_to_user": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "edited": false, "score": 0, "creation_date": 1522249973, "post_id": 49538136, "comment_id": 86083339, "body": "Yeah, I suppose the entire source in the bottom is redundant. I will remove it."}, {"owner": {"reputation": 382, "user_id": 7850639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-v3R1wRl7INk/AAAAAAAAAAI/AAAAAAAAALQ/Ny9lSxH3vmE/photo.jpg?sz=128", "display_name": "Brighter side", "link": "https://stackoverflow.com/users/7850639/brighter-side"}, "edited": false, "score": 0, "creation_date": 1522250131, "post_id": 49538136, "comment_id": 86083457, "body": "Did you tried <code>A::value</code> <a href=\"https://stackoverflow.com/questions/357307/how-to-call-a-parent-class-function-from-derived-class-function\">How to call a parent class function from derived class function?</a>. So make a getter of it."}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522250323, "post_id": 49538136, "comment_id": 86083627, "body": "I was confused about <code>protected</code> also, then a really good answer on SO let me understand it. Let me find it."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "edited": false, "score": 1, "creation_date": 1522250843, "post_id": 49538136, "comment_id": 86083990, "body": "By making <code>friend</code>?"}, {"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 2, "creation_date": 1522251240, "post_id": 49538136, "comment_id": 86084262, "body": "@PeteBecker This is not a duplicate. This question asks &quot;how&quot; while that question asks &quot;why&quot;."}, {"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "edited": false, "score": 1, "creation_date": 1522251684, "post_id": 49538136, "comment_id": 86084609, "body": "In fact, the goal of my question was to have an answer from the object oriented perspective. The solutions I know (casting, friend declaration) are just technical tricks. If only such tricks allow me to do something, I&#39;m probably doing it the wrong way. So, the actual question would be, what am I doing wrong? Why do I need to either sacrifice scope protection or use technical tricks?"}, {"owner": {"reputation": 9070, "user_id": 79591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rFGtY.jpg?s=128&g=1", "display_name": "GrahamS", "link": "https://stackoverflow.com/users/79591/grahams"}, "edited": false, "score": 0, "creation_date": 1522252132, "post_id": 49538136, "comment_id": 86084926, "body": "In the base class <code>A</code> declare the derived class <code>B</code> as a friend.  This isn&#39;t a &quot;technical trick&quot; - the entire purpose of the <code>friend</code> declaration is to allow access to the private and protected members of other classes."}, {"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "reply_to_user": {"reputation": 9070, "user_id": 79591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rFGtY.jpg?s=128&g=1", "display_name": "GrahamS", "link": "https://stackoverflow.com/users/79591/grahams"}, "edited": false, "score": 1, "creation_date": 1522252326, "post_id": 49538136, "comment_id": 86085065, "body": "@GrahamS the entire purpose of protected members is to allow derived classes to use those members, which is what I need. The base class doesn&#39;t even have to be aware of which derived classes exist. By using <code>friend</code>, I need to edit the base class whenever a new derived class needs access to the protected member, which is a violation of the open-closed principle. It&#39;s not the clean solution I&#39;m looking for. (BTW I might have some data in the base class I want to hide from the derived class too, by making it private)"}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "edited": false, "score": 1, "creation_date": 1522250281, "post_id": 49538252, "comment_id": 86083588, "body": "This would still allow arbitrary code to access the protected member, it just makes it less visible, right? Protection by obfuscation? :-)"}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1522250308, "post_id": 49538252, "comment_id": 86083611, "body": "Why would that work, but accessing directly from <code>B</code> not?"}, {"owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "reply_to_user": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 1, "creation_date": 1522250965, "post_id": 49538252, "comment_id": 86084093, "body": "@chtz forgot to static cast."}], "tags": [], "owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522251131, "last_edit_date": 1522251131, "creation_date": 1522250158, "answer_id": 49538252, "question_id": 49538136, "link": "https://stackoverflow.com/questions/49538136/how-can-a-derived-class-use-a-protected-member-of-the-base-class/49538252#49538252", "title": "How can a derived class use a protected member of the base class?", "body": "<p>You can bypass protected by using a helper struct:</p>\n\n<pre><code>struct A_Helper : public A\n{\n    static int GetProtectedValue(const A &amp; a)\n    {\n        return static_cast&lt;const A_Helper&amp;&gt;(a).Value;\n    }\n};\n</code></pre>\n\n<p>You can get it by using it anywhere <code>A_Helper::GetProtectedValue(a)</code></p>\n\n<p>In your case, you could cast <code>other</code> to <code>const B&amp;</code> (via <code>static_cast</code> or <code>reinterpret_cast</code>) but you don't know if instance of <code>other</code> is of type <code>B</code>. With that casted value people reading the code would presume that <code>other</code> is of type <code>B</code> and could insert code that causes reads/writes to \"random\" memory.</p>\n\n<p>Consider that class <code>B</code> has another memeber <code>value_B</code> and <code>other</code> is of type <code>C</code>. Using <code>static_cast&lt;const B&amp;&gt;(other).value_B</code> is Undefined Behavior.</p>\n"}, {"comments": [{"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "reply_to_user": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522279006, "post_id": 49538355, "comment_id": 86098770, "body": "@YSC I think I found a safe option"}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1522309750, "post_id": 49538355, "comment_id": 86108405, "body": "Ok this is an upvote, I&#39;m amazed! This felt so strange to me I asked <a href=\"https://stackoverflow.com/q/49550663/5470596\">a specific question on SO as to why it is ok</a>. Check it out ;)"}], "tags": [], "owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "is_accepted": false, "score": 4, "last_activity_date": 1522278989, "last_edit_date": 1522278989, "creation_date": 1522250486, "answer_id": 49538355, "question_id": 49538136, "link": "https://stackoverflow.com/questions/49538136/how-can-a-derived-class-use-a-protected-member-of-the-base-class/49538355#49538355", "title": "How can a derived class use a protected member of the base class?", "body": "<p>There is actually a loophole using member pointers (no casting, no copying):</p>\n\n<pre><code>void B::compare_and_print(const A&amp; other) const\n{\n  auto max_value = std::max(value, other.*(&amp;B::value));\n  std::cout &lt;&lt; \"Max value: \" &lt;&lt; max_value &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1522682255, "creation_date": 1522249819, "last_edit_date": 1522250755, "question_id": 49538136, "link": "https://stackoverflow.com/questions/49538136/how-can-a-derived-class-use-a-protected-member-of-the-base-class", "title": "How can a derived class use a protected member of the base class?", "body": "<p>Say that a base class <code>A</code> defines a protected member. A derived class <code>B</code> uses this member.</p>\n\n<pre><code>class A\n{\npublic:\n  A(int v) : value(v) { }\n\nprotected:\n  int value;\n};\n\nclass B : public A\n{\npublic:\n  B(int v) : A(v) { }\n  void print() const;\n  void compare_and_print(const A&amp; other) const;\n};\n</code></pre>\n\n<p>The function <code>B::print</code> just takes the value of the current member and prints it:</p>\n\n<pre><code>void B::print() const\n{\n  std::cout &lt;&lt; \"Value: \" &lt;&lt; value &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>The other member function, <code>B::compare_and_print</code>, takes an instance of <code>A</code>, checks their values and prints the maximum of both:</p>\n\n<pre><code>void B::compare_and_print(const A&amp; other) const\n{\n  auto max_value = std::max(value, other.value);\n  std::cout &lt;&lt; \"Max value: \" &lt;&lt; max_value &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>If <code>other</code> were an instance of the class <code>B</code>, this would be no problem. But the function would like to work with any kind of <code>A</code> instances. This does unfortunately not compile. This is what clang says about this:</p>\n\n<pre><code>test.cpp:27:42: error: 'value' is a protected member of 'A'\n  auto max_value = std::max(value, other.value);\n                                         ^\ntest.cpp:9:7: note: can only access this member on an object of type 'B'\n  int value;\n      ^\n1 error generated.\n</code></pre>\n\n<p>This restriction sounds counter-intuitive to me. However, I'm not going to dispute the C++ standard about this (I'm nevertheless interested about the rationale behind this decision).</p>\n\n<p>My problem is that in my project I really have this kind of use case: A derived class has a method that takes an instance of the base class and needs to access a protected member of the received object.</p>\n\n<p>The easiest solution, the one I implemented currently, is to add a public member function to the base class, which returns the protected member. This solution does not fully satisfy me because I would like to avoid exporting the member this way.</p>\n\n<p><strong>How can I enable the usage of the base class' protected member by the derived class without exporting the member through the API?</strong></p>\n\n<hr>\n\n<p>EDIT:\nSome related questions are:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3247671/accessing-protected-members-in-a-derived-class\">Accessing protected members in a derived class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9139824/how-to-access-protected-members-in-a-derived-class\">How to access protected members in a derived class?</a></li>\n</ul>\n\n<p>The answer I would like to have is the explanation of a design pattern to solve this problem without exposing the the protected member to the external code (where <em>external</em> means, code that is not part of the framework defining these classes).</p>\n\n<p>It could be that such a pattern cannot exist, I acknowledge.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1522249859, "post_id": 49538025, "comment_id": 86083247, "body": "It&#39;s a horrible hack that invokes <i>undefined behavior</i>"}, {"owner": {"reputation": 7461, "user_id": 2111085, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8QmLb.jpg?s=128&g=1", "display_name": "Ernestas Gruodis", "link": "https://stackoverflow.com/users/2111085/ernestas-gruodis"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1522249973, "post_id": 49538025, "comment_id": 86083340, "body": "Yes, I agree. But trying to figure it out."}, {"owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 1, "creation_date": 1522250003, "post_id": 49538025, "comment_id": 86083364, "body": "Where is undefined behaviour?"}, {"owner": {"reputation": 1043, "user_id": 7742987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cda94a2733ee551a94d437561510f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/7742987/mohit"}, "edited": false, "score": 1, "creation_date": 1522250111, "post_id": 49538025, "comment_id": 86083443, "body": "It will return the size of the element of member <code>ab</code> of the struct <code>rs_common</code>."}, {"owner": {"reputation": 1043, "user_id": 7742987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cda94a2733ee551a94d437561510f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/7742987/mohit"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1522250213, "post_id": 49538025, "comment_id": 86083522, "body": "@UnholySheep It is not undefined behavior, it will work on every major c compiler."}, {"owner": {"reputation": 1043, "user_id": 7742987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cda94a2733ee551a94d437561510f27?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/7742987/mohit"}, "edited": false, "score": 0, "creation_date": 1522250622, "post_id": 49538025, "comment_id": 86083838, "body": "May be similar to <a href=\"https://stackoverflow.com/questions/3553296/c-sizeof-single-struct-member\">this question</a>"}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 3, "creation_date": 1522250773, "post_id": 49538025, "comment_id": 86083940, "body": "@UnholySheep it would be undefined behaviour in an evaluated context, but it&#39;s the operand to <code>sizeof</code>, so it matters less"}, {"owner": {"reputation": 8087, "user_id": 733637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/444bbb295cc6185a5464e2250c1a35de?s=128&d=identicon&r=PG&f=1", "display_name": "CiaPan", "link": "https://stackoverflow.com/users/733637/ciapan"}, "edited": false, "score": 2, "creation_date": 1522251472, "post_id": 49538025, "comment_id": 86084458, "body": "Reading: <a href=\"https://software.intel.com/en-us/blogs/2015/04/20/null-pointer-dereferencing-causes-undefined-behavior\" rel=\"nofollow noreferrer\"><i>Null Pointer Dereferencing Causes Undefined Behavior</i></a> by <a href=\"https://software.intel.com/en-us/user/308845\" rel=\"nofollow noreferrer\">Andrey Karpov</a> at software.intel.com/blogs, with an interesting exception just before the &#39;Acknowledgements&#39; section. :)"}], "answers": [{"comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 0, "creation_date": 1522251331, "post_id": 49538419, "comment_id": 86084340, "body": "Being pedantic, <code>0</code> is <b>not</b> a pointer value. But it is a valid <i>null pointer constant</i>, and thus will be converted to a <i>null pointer value</i> in a pointer context."}, {"owner": {"reputation": 3463, "user_id": 508175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca8c547ecf1fad821a9932396820baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Teruzzi", "link": "https://stackoverflow.com/users/508175/alessandro-teruzzi"}, "reply_to_user": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 1, "creation_date": 1522332971, "post_id": 49538419, "comment_id": 86124478, "body": "@Deduplicator be pedantic is useful with C++, thank, I have updated my answer"}, {"owner": {"reputation": 7461, "user_id": 2111085, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8QmLb.jpg?s=128&g=1", "display_name": "Ernestas Gruodis", "link": "https://stackoverflow.com/users/2111085/ernestas-gruodis"}, "edited": false, "score": 0, "creation_date": 1522441660, "post_id": 49538419, "comment_id": 86169900, "body": "But according <a href=\"https://software.intel.com/en-us/blogs/2015/04/20/null-pointer-dereferencing-causes-undefined-behavior\" rel=\"nofollow noreferrer\">this article</a>: <i>The pointer must be checked before being dereferenced</i>. Is this expression correct then: <code>sizeof(((rs_comm*)0)-&gt;ab[0])</code>? What is the simple way to check if <code>rs_comm</code> is <code>NULL</code> and if it is - return zero length, or if <code>rs_comm</code> was initialized - return the length of <code>ab[0]</code>?"}, {"owner": {"reputation": 3463, "user_id": 508175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca8c547ecf1fad821a9932396820baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Teruzzi", "link": "https://stackoverflow.com/users/508175/alessandro-teruzzi"}, "reply_to_user": {"reputation": 7461, "user_id": 2111085, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8QmLb.jpg?s=128&g=1", "display_name": "Ernestas Gruodis", "link": "https://stackoverflow.com/users/2111085/ernestas-gruodis"}, "edited": false, "score": 1, "creation_date": 1522685609, "post_id": 49538419, "comment_id": 86235956, "body": "@ErnestasGruodis please, read the link of the sizeof documentation, you will found: &quot;When applied to an expression, sizeof does not evaluate the expression, and even if the expression designates a polymorphic object, the result is the size of the static type of the expression.&quot; So, you don&#39;t need to check against the null pointer because the expression is not evaluated."}, {"owner": {"reputation": 7461, "user_id": 2111085, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8QmLb.jpg?s=128&g=1", "display_name": "Ernestas Gruodis", "link": "https://stackoverflow.com/users/2111085/ernestas-gruodis"}, "edited": false, "score": 0, "creation_date": 1522695359, "post_id": 49538419, "comment_id": 86241040, "body": "So, even if <code>rs_comm</code> is not declared anywhere, the expression <code>sizeof(((rs_comm*)0)-&gt;ab[0])</code> will get the size of inner structure <code>ab[0]</code>? That is the size of <code>EllipticCurvePoint a</code> plus <code>EllipticCurvePoint b</code>?"}], "tags": [], "owner": {"reputation": 3463, "user_id": 508175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ca8c547ecf1fad821a9932396820baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Teruzzi", "link": "https://stackoverflow.com/users/508175/alessandro-teruzzi"}, "is_accepted": true, "score": 1, "last_activity_date": 1522332928, "last_edit_date": 1522332928, "creation_date": 1522250678, "answer_id": 49538419, "question_id": 49538025, "link": "https://stackoverflow.com/questions/49538025/explaining-sizeofrs-comm0-ab0/49538419#49538419", "title": "Explaining sizeof(((rs_comm*)0)-&gt;ab[0]);", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/language/sizeof\" rel=\"nofollow noreferrer\">sizeof</a> is an operator that return the size of a specific type. It can work directly with a type or with an expression.</p>\n\n<p>This part (rs_comm*)0 is taking 0 (0 is a valid null pointer constant) and casting it to a pointer of the struct rs_comm (or the class, I don't know the definition of rs_comm, but I am guessing).</p>\n\n<p>Now, it is accessing using the -> operator to the data-member ab. ab has to be define as array, so it can get the first item in the array.</p>\n\n<p>Because, sizeof doesn't really evaluate the expression but just figuring out the type and get the size of it.</p>\n\n<p>So, the final result is the size of the first element in the array ab for the class/struct rs_comm.</p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 632227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e283ad9bba4d0ffeb95c0b9be4ae8a64?s=128&d=identicon&r=PG", "display_name": "bigeast", "link": "https://stackoverflow.com/users/632227/bigeast"}, "is_accepted": false, "score": 1, "last_activity_date": 1522250761, "creation_date": 1522250761, "answer_id": 49538450, "question_id": 49538025, "link": "https://stackoverflow.com/questions/49538025/explaining-sizeofrs-comm0-ab0/49538450#49538450", "title": "Explaining sizeof(((rs_comm*)0)-&gt;ab[0]);", "body": "<p>So <code>ab</code> is an member of struct <code>rs_comm</code>, and is an array.</p>\n\n<p>If you have a <em>rs_comm object</em>, i.e. <code>rs_comm rs;</code>, but you don't know the type of <code>ab</code>, you want to know its size, <code>sizeof(rs.ab[0])</code> will do.</p>\n\n<p>If you have <em>a pointer to rs_comm</em>, i.e. <code>rs_comm *p_rs;</code>, then <code>sizeof(p_rs-&gt;ab[0])</code> will do the same thing.</p>\n\n<p>If you don't have a <em>rs_comm object</em> nor <em>a pointer to rs_comm</em>, you can change <strong>a NULL pointer</strong> to <strong>a pointer to rs_comm</strong>, this is what <code>((rs_comm *)0)</code> do.</p>\n\n<p>Replace the <code>p_rs</code> in <code>sizeof(p_rs-&gt;ab[0])</code> with <code>((rs_comm *)0)</code>, you get <code>sizeof(((rs_comm *)0)-&gt;ab[0])</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8933718, "user_type": "registered", "profile_image": "https://graph.facebook.com/894420784043249/picture?type=large", "display_name": "Marwan A El-Shafei", "link": "https://stackoverflow.com/users/8933718/marwan-a-el-shafei"}, "is_accepted": false, "score": 0, "last_activity_date": 1522259594, "creation_date": 1522259594, "answer_id": 49541134, "question_id": 49538025, "link": "https://stackoverflow.com/questions/49538025/explaining-sizeofrs-comm0-ab0/49541134#49541134", "title": "Explaining sizeof(((rs_comm*)0)-&gt;ab[0]);", "body": "<p>sizeof(variable) .\nreturn the size variable data type .\nlike \nchar x ; \ncout &lt;&lt; sizeof(x) ;\nthe result would be </p>\n"}], "owner": {"reputation": 7461, "user_id": 2111085, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8QmLb.jpg?s=128&g=1", "display_name": "Ernestas Gruodis", "link": "https://stackoverflow.com/users/2111085/ernestas-gruodis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 49538419, "answer_count": 3, "score": 0, "last_activity_date": 1522441706, "creation_date": 1522249450, "last_edit_date": 1522441706, "question_id": 49538025, "link": "https://stackoverflow.com/questions/49538025/explaining-sizeofrs-comm0-ab0", "title": "Explaining sizeof(((rs_comm*)0)-&gt;ab[0]);", "body": "<p>At <a href=\"https://github.com/xdn-project/digitalnote\" rel=\"nofollow noreferrer\">xdn-project/digitalnote</a> <code>./src/crypto/crypto.cpp</code> file there is an error at line 338 when compiling (using cmake):</p>\n\n<pre><code>return sizeof(rs_comm) + pubs_count * sizeof(rs_comm().ab[0]);\n                                                     ^\n</code></pre>\n\n<blockquote>\n  <p>error: value-initialization of incomplete type\n  \u2018Crypto::rs_comm:: []\u2019</p>\n</blockquote>\n\n<p>I found the solution on <a href=\"https://github.com/cryptonotefoundation/cryptonote/pull/42/files/692953fdc19dc2eef1b28ad21c851d2e9c30c6e8\" rel=\"nofollow noreferrer\">cryptonotefoundation/cryptonote</a>:</p>\n\n<pre><code>return sizeof(rs_comm) + pubs_count * sizeof(((rs_comm*)0)-&gt;ab[0]);\n</code></pre>\n\n<p>I can play with Java JDK quite well, but currently at C++ need help :) It would be nice to see detail explanation of this code part:</p>\n\n<pre><code>sizeof(((rs_comm*)0)-&gt;ab[0]);\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Asterisk after <code>rs_comm</code> - what its for?</li>\n<li><code>0)</code> - what is the purpose of <code>0</code> here?</li>\n</ol>\n\n<p>The fragment of code:</p>\n\n<pre><code>  struct rs_comm {\n    Hash h;\n    struct {\n      EllipticCurvePoint a, b;\n    } ab[];\n  };\n\n  static inline size_t rs_comm_size(size_t pubs_count) {\n    return sizeof(rs_comm) + pubs_count * sizeof(rs_comm().ab[0]);\n}\n</code></pre>\n"}, {"tags": ["c++", "debugging", "rtti", "typeinfo"], "comments": [{"owner": {"reputation": 259, "user_id": 5386469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ad83326b4e3fc5b3493f84e8960480?s=128&d=identicon&r=PG&f=1", "display_name": "Ratah", "link": "https://stackoverflow.com/users/5386469/ratah"}, "edited": false, "score": 0, "creation_date": 1522256092, "post_id": 49537858, "comment_id": 86087548, "body": "Can you debug with gdb? If that is you can use commands like where or print dbObj."}, {"owner": {"reputation": 53, "user_id": 4956118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d6a579872f07b9dc7e85c7b1aed45a?s=128&d=identicon&r=PG&f=1", "display_name": "keith969", "link": "https://stackoverflow.com/users/4956118/keith969"}, "reply_to_user": {"reputation": 259, "user_id": 5386469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ad83326b4e3fc5b3493f84e8960480?s=128&d=identicon&r=PG&f=1", "display_name": "Ratah", "link": "https://stackoverflow.com/users/5386469/ratah"}, "edited": false, "score": 0, "creation_date": 1522346416, "post_id": 49537858, "comment_id": 86132871, "body": "Unfortunately so far I&#39;ve been unable to reproduce it on a local linux machine."}], "owner": {"reputation": 53, "user_id": 4956118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d6a579872f07b9dc7e85c7b1aed45a?s=128&d=identicon&r=PG&f=1", "display_name": "keith969", "link": "https://stackoverflow.com/users/4956118/keith969"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522248975, "creation_date": 1522248975, "question_id": 49537858, "link": "https://stackoverflow.com/questions/49537858/stack-trace-typeinfo-message", "title": "stack trace typeinfo message", "body": "<p>I've had reports of a strange crash that I can't figure out. The code has a simple crash handler to report a stack trace, and this is what the user seeing:</p>\n\n<p>signal 11 (Segmentation fault), address is 0x140d900 from 0x4dcf600\nStack Trace:\n[2]: glade : typeinfo for dbObj 259029165 + 259029167 </p>\n\n<p>No other stack info. 'dbObj' is a base class of an object widely used in the code, which is compiled with rtti. The crash only seems to occur randomly,so far I cannot reproduce it myself.</p>\n\n<p>Any ideas on how to go about debugging this? It only seems to occur for a particular user, on Linux.</p>\n"}, {"tags": ["c++", "memory", "opencl", "gpu"], "comments": [{"owner": {"reputation": 2354, "user_id": 9428851, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MBhDff_bdY0/AAAAAAAAAAI/AAAAAAAACAY/lx7DUTjS350/photo.jpg?sz=128", "display_name": "Victor Gubin", "link": "https://stackoverflow.com/users/9428851/victor-gubin"}, "edited": false, "score": 1, "creation_date": 1522250415, "post_id": 49537829, "comment_id": 86083697, "body": "<code>clReleaseMemObject(gpuA());</code> is incorrect for OpenCL C++ Bindings,  clReleaseMemObject is C API. cl::Buffer destructor will call to <code>clReleaseMemObject</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6503972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25e27877ef0a94d43e56738398fe1794?s=128&d=identicon&r=PG&f=1", "display_name": "Ralph M", "link": "https://stackoverflow.com/users/6503972/ralph-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1522251412, "creation_date": 1522251412, "answer_id": 49538669, "question_id": 49537829, "link": "https://stackoverflow.com/questions/49537829/opencl-release-gpu-memory/49538669#49538669", "title": "openCL release GPU memory", "body": "<p>OK so I replace buffer and clean buffer to C not C++</p>\n\n<pre><code>cl_mem gpuA2 = clCreateBuffer(context(), CL_MEM_READ_ONLY, sizeof(cl_int) * arraySize, NULL, NULL);\nclEnqueueWriteBuffer(queue(), gpuA2, CL_TRUE, 0, sizeof(cl_int) * arraySize, A, 0, NULL, NULL);\n\nqueue.finish();\nclReleaseMemObject(gpuA2);\ndelete A;\n</code></pre>\n\n<p>and after run I don't see any difference</p>\n"}], "owner": {"reputation": 11, "user_id": 6503972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25e27877ef0a94d43e56738398fe1794?s=128&d=identicon&r=PG&f=1", "display_name": "Ralph M", "link": "https://stackoverflow.com/users/6503972/ralph-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1056, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522251412, "creation_date": 1522248888, "question_id": 49537829, "link": "https://stackoverflow.com/questions/49537829/opencl-release-gpu-memory", "title": "openCL release GPU memory", "body": "<p>I try to release allocated memory in GPU using OpenCL</p>\n\n<pre><code>int arraySize = 130000000;\ncl_int* A = new cl_int[arraySize];\ncl::Buffer gpuA(context, CL_MEM_READ_ONLY, sizeof(cl_int) * arraySize);\ninA.setDestructorCallback(&amp;notNeed);\ncl::Event event;\nqueue.enqueueWriteBuffer(gpuA, CL_TRUE, 0, sizeof(cl_int) * arraySize, A, NULL, &amp;event);\nevent.setCallback(CL_COMPLETE, &amp;whenWritten);\nevent.wait();\n</code></pre>\n\n<p>and after a few sec callback whenWritten is running (writing text Complete)\nprogram memory is incresing and using TaskManager in windows10 - GPU (Dedicated memory usage) I see in chart incresing memory level too.\nVery Good ;-)</p>\n\n<p>then i run sleep for 10s</p>\n\n<p>and now I would like to clear memory in GPU\nfor local variable A I use</p>\n\n<pre><code>delete A; //local memory is decresing\n</code></pre>\n\n<p>but when I using</p>\n\n<pre><code>clReleaseMemObject(gpuA());\n</code></pre>\n\n<p>I don't see any changes on GPU memory</p>\n\n<p>What I doing wrong ? What is the best solution for this ?</p>\n\n<p>Thanks for any advice</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 893, "user_id": 4204413, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wkXjz.png?s=128&g=1", "display_name": "TimD1", "link": "https://stackoverflow.com/users/4204413/timd1"}, "edited": false, "score": 0, "creation_date": 1522248996, "post_id": 49537758, "comment_id": 86082531, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2808398/easily-measure-elapsed-time\">Easily measure elapsed time</a>"}, {"owner": {"reputation": 695, "user_id": 252055, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VmnWo.jpg?s=128&g=1", "display_name": "Erik Elmgren", "link": "https://stackoverflow.com/users/252055/erik-elmgren"}, "edited": false, "score": 1, "creation_date": 1522249028, "post_id": 49537758, "comment_id": 86082556, "body": "make the macro declare a static and a local (different classes) in each method, pass the static as a parameter to the local and use the static to keep the accumulated time, in the static destructor you log the sum"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1522249336, "post_id": 49537758, "comment_id": 86082786, "body": "Just use profiler"}, {"owner": {"reputation": 826, "user_id": 1402389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599c4eaaff0f5d2c3fe5feca6560173b?s=128&d=identicon&r=PG", "display_name": "FBergo", "link": "https://stackoverflow.com/users/1402389/fbergo"}, "edited": false, "score": 1, "creation_date": 1522249427, "post_id": 49537758, "comment_id": 86082861, "body": "Do you intend to use the timing data within your program for anything besides reporting it ? If not, you should use a profiler, which does not modify the code. If using GCC, compile your program with the -pg flag, then run it. Profiling data will be written to gmon.out. You can read a report of the execution with &quot;gprof program-binary gmon.out&quot;. Visual Studio also has a profiler, google visual studio profiling to get the docs on it."}, {"owner": {"reputation": 620, "user_id": 4879303, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6983818da111ebbf35c0fae1adab792d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4879303/james"}, "edited": false, "score": 0, "creation_date": 1522250188, "post_id": 49537758, "comment_id": 86083503, "body": "Thanks for everyone commented. I decided to use the method mentioned by Erik Elmgren to solve the problem. A profiler might not be a right tool for me. Because I am interested in how some certain parts perform when processing some real data. Since running the whole program is expensive(hundreds of CPU hours), I am afraid if adding profiling instructions everywhere is a good idea."}], "owner": {"reputation": 620, "user_id": 4879303, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6983818da111ebbf35c0fae1adab792d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4879303/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522248706, "creation_date": 1522248706, "question_id": 49537758, "link": "https://stackoverflow.com/questions/49537758/how-to-measure-the-total-time-of-some-functions-with-simplicity-and-performance", "title": "How to measure the total time of some functions with simplicity and performance?", "body": "<p>I want to measure the total time spent in some functions. Currently the best solution I can come up with is:</p>\n\n<pre><code>#include&lt;map&gt;\n#include&lt;iostream&gt;\n#include&lt;chrono&gt;\nusing namespace std;\nmap&lt;const char*,double&gt; time_data;\nstruct time_class{\n    const char*const name;\n    chrono::high_resolution_clock::time_point t1=chrono::high_resolution_clock::now();\n    time_class(const char*const name):name{name}{}\n    ~time_class(){\n        chrono::high_resolution_clock::time_point t2=chrono::high_resolution_clock::now();\n        time_data[name]+=chrono::duration_cast&lt;chrono::duration&lt;double&gt;&gt;(t2 - t1).count();\n    }\n};\n#define TIMEME time_class time_class_var(__func__); \nvoid f(){\n    TIMEME\n}\nstruct X{\n    void g(){\n        TIMEME\n    }\n};\nint main(){\n    X x;\n    f();\n    x.g();\n    for(auto&amp;x:time_data)\n        cout&lt;&lt;x.first&lt;&lt;' '&lt;&lt;x.second&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p>The measure part is very easy to use, but the use of <code>std::map</code> adds runtime overhead.</p>\n\n<p>Alternatively, I can write function specific code to declare variables and obtain the best performance.</p>\n\n<p>I wander if there is a way\uff1a</p>\n\n<ol>\n<li>Adding a new function to time is as simple as referencing a macro</li>\n<li>Time complexity for additional code executed for each function call is guaranteed constant(except the first one for the possible initialization purpose)</li>\n</ol>\n\n<p>I considered to use a template, but it seems there's no way to pass the function name to a template without writing specific code for each function.</p>\n"}, {"tags": ["c++", "loops", "variable-declaration"], "comments": [{"owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "edited": false, "score": 2, "creation_date": 1522248429, "post_id": 49537622, "comment_id": 86082059, "body": "<i>Do the object get destroyed and recreated at each iteration of the loop?</i> &lt;- You got it"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1522248487, "post_id": 49537622, "comment_id": 86082096, "body": "@Michele Fattoruso This declaration set &lt;DataBlock&gt; s; does not make sense because the comparator is not defined for the class DataBlock."}, {"owner": {"reputation": 53, "user_id": 9564657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214158226621315/picture?type=large", "display_name": "Michele Fattoruso", "link": "https://stackoverflow.com/users/9564657/michele-fattoruso"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1522250244, "post_id": 49537622, "comment_id": 86083560, "body": "@VladfromMoscow I didn&#39;t include all the code with the overloaded operators, as it wouldn&#39;t add additional information to the question asked, but just clutter the code and let people read more line. I do have the comparison operator overloaded for the class."}], "answers": [{"tags": [], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "is_accepted": false, "score": 2, "last_activity_date": 1522248734, "last_edit_date": 1522248734, "creation_date": 1522248504, "answer_id": 49537679, "question_id": 49537622, "link": "https://stackoverflow.com/questions/49537622/re-declaring-object-in-a-for-loop-c/49537679#49537679", "title": "Re-declaring object in a for loop - C++", "body": "<blockquote>\n  <p>Why declaring an object in a foor loop doesn't trigger the redeclaration error?</p>\n</blockquote>\n\n<p>No it does not.</p>\n\n<p>Each time the for loop iterates, a new scope is entered and the objects created in the previous one are destructed and their storage allocation are freed.</p>\n\n<pre><code>for (int i=0 ; i&lt;2 ; ++i) {\n    MyClass c;\n}\n</code></pre>\n\n<p>will be as if:</p>\n\n<pre><code>{\n    int i=0;\n    {\n        MyClass c; // c(0)\n    } // c destructed, storage allocation freed\n    ++i;\n    {\n        MyClass c; // c(1)\n    } // c destructed, storage allocation freed\n    ++i;\n}\n</code></pre>\n\n<p><code>c(0)</code> and <code>c(1)</code> do share the same name, but in scopes without overlapping. Everything is fine.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9564657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214158226621315/picture?type=large", "display_name": "Michele Fattoruso", "link": "https://stackoverflow.com/users/9564657/michele-fattoruso"}, "edited": false, "score": 0, "creation_date": 1522250314, "post_id": 49537718, "comment_id": 86083621, "body": "thank you for the answer. This confirms what I was thinking. I couldn&#39;t find any information about that."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522251819, "post_id": 49537718, "comment_id": 86084694, "body": "You may want to clarify that the variable declaration is in the same scope.  The <code>{</code> and <code>}</code> introduce a new scope, so a declaration of the same variable is allowed."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1522253063, "post_id": 49537718, "comment_id": 86085633, "body": "@ThomasMatthews I&#39;ve updated the answer.  What do you think?"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 4, "last_activity_date": 1522253017, "last_edit_date": 1522253017, "creation_date": 1522248618, "answer_id": 49537718, "question_id": 49537622, "link": "https://stackoverflow.com/questions/49537622/re-declaring-object-in-a-for-loop-c/49537718#49537718", "title": "Re-declaring object in a for loop - C++", "body": "<blockquote>\n  <p>Why declaring an object in a foor loop doesn't trigger the redeclaration error?</p>\n</blockquote>\n\n<p>A redeclaration error happens when you declare the same name twice (or more) in the same scope.  That looks like</p>\n\n<pre><code>int i = 5;\nint i = 6; // uh oh, you already declared i\n</code></pre>\n\n<p>In your loop you don't have that, you just have</p>\n\n<pre><code>loop\n{\n    int i = 5;\n}\n</code></pre>\n\n<p>So no redeclaration.</p>\n\n<p>You could also have</p>\n\n<pre><code>int i = 5\n{\n    int i = 6;\n    std::cout &lt;&lt; i;\n}\n</code></pre>\n\n<p>And not have a redeclaration error as the variables are in different scopes and you can have the same variable in multiple scopes.  I this case <code>6</code> would be print as that <code>i</code> is the <code>i</code> that is in scope.</p>\n\n<blockquote>\n  <p>Do the object get destroyed and recreated at each iteration of the loop?</p>\n</blockquote>\n\n<p>Yes. Think of a loop as a function that gets called multiple times.  When you enter the body of a loop/function the variables declared in it get constructed<sup>1</sup> and when you reach the end of the loop/function the variables are destroyed.</p>\n\n<p><sup>1: it is a little more complicated then that but we don't need to get into all those details in this answer</sup></p>\n"}], "owner": {"reputation": 53, "user_id": 9564657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214158226621315/picture?type=large", "display_name": "Michele Fattoruso", "link": "https://stackoverflow.com/users/9564657/michele-fattoruso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 49537718, "answer_count": 2, "score": 1, "last_activity_date": 1522253017, "creation_date": 1522248335, "question_id": 49537622, "link": "https://stackoverflow.com/questions/49537622/re-declaring-object-in-a-for-loop-c", "title": "Re-declaring object in a for loop - C++", "body": "<p>I do have a question on variable re-declaration in loops.</p>\n\n<p>Why declaring an object in a foor loop doesn't trigger the redeclaration error?</p>\n\n<p>Do the object get destroyed and recreated at each iteration of the loop?</p>\n\n<p>I'm inserting a sample code </p>\n\n<pre><code>class DataBlock {\n    int id;\n    string data;\npublic:\n    DataBlock(int tid=0,const string &amp;tdata=\"\"){\n        id=tid;\n        data=tdata;\n    }\n}\n\nint main(int argc, char *argv[]){\n    ifstream file;\n    int temp_id;        //temporary hold the the id read from the file\n    string temp_data;   //temporary hold the data read from the file\n\n    set &lt;DataBlock&gt; s;\n\n    //check for command line input here\n    file.open(argv[1]);\n\n    //check for file open here\n    file &gt;&gt; temp_id &gt;&gt; temp_data;\n    while (!file.eof()){\n        DataBlock x(temp_id,temp_data);   //Legit, But how's the workflow?\n        s.insert(x);\n        file &gt;&gt; temp_id &gt;&gt; temp_data;\n    }\n    file.close();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "tensorflow"], "comments": [{"owner": {"reputation": 252, "user_id": 5364211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixqyo.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5364211/tom"}, "edited": false, "score": 0, "creation_date": 1522248037, "post_id": 49537431, "comment_id": 86081738, "body": "Check your includes and project settings are correct"}, {"owner": {"reputation": 11, "user_id": 9564647, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ds7zB_pI1SI/AAAAAAAAAAI/AAAAAAAAmUk/OQmToYJ4C_g/photo.jpg?sz=128", "display_name": "Minh Tran", "link": "https://stackoverflow.com/users/9564647/minh-tran"}, "reply_to_user": {"reputation": 252, "user_id": 5364211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixqyo.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5364211/tom"}, "edited": false, "score": 1, "creation_date": 1522311805, "post_id": 49537431, "comment_id": 86109541, "body": "anyway I found the way to fix it, by generating proto file and including in my project."}], "owner": {"reputation": 11, "user_id": 9564647, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ds7zB_pI1SI/AAAAAAAAAAI/AAAAAAAAmUk/OQmToYJ4C_g/photo.jpg?sz=128", "display_name": "Minh Tran", "link": "https://stackoverflow.com/users/9564647/minh-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522247880, "creation_date": 1522247880, "question_id": 49537431, "link": "https://stackoverflow.com/questions/49537431/lnk2001unresolved-external-symbol-class-tensorflowtensorshapeprotodefaulttype", "title": "LNK2001\tunresolved external symbol class tensorflow::TensorShapeProtoDefaultTypeInternal", "body": "<p>I try to parse Tensorflow Graph, as compiling without error but I get error \"unresolved external symbol class TensorShapeProtoDefaultTypeInternal\" tensor_shape.pb.h. I try to include tensorflow.lib, and also add all obj files to Visual Studio project but can not pass.\nI'm using Tensorflow 1.6.0 with Visual Studio 2015 update 3.</p>\n\n<p>class TensorShapeProtoDefaultTypeInternal define in tensor_shape.pb.h</p>\n\n<p>```</p>\n\n<pre><code>NodeDef* node_def\n....\nconst AttrValue&amp; value = node_def-&gt;attr().at( \"value\" );\nconst TensorProto&amp; tensor_proto = value.tensor();\n\nconst DataType tensor_data_type = tensor_proto.dtype();\nconst TensorShapeProto &amp;tensor_shape = tensor_proto.tensor_shape();\n....\n</code></pre>\n\n<p>```</p>\n\n<p>Does anyone have an idea what might cause these errors?</p>\n"}, {"tags": ["c++", "multidimensional-array"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 5, "creation_date": 1522247752, "post_id": 49537348, "comment_id": 86081521, "body": "C++ does not support variable length arrays."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1522249500, "post_id": 49537348, "comment_id": 86082921, "body": "Not able to reproduce exactly what you&#39;re asking about: <a href=\"https://ideone.com/ulWASA\" rel=\"nofollow noreferrer\">ideone.com/ulWASA</a>. Could we get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 1, "creation_date": 1522249765, "post_id": 49537348, "comment_id": 86083169, "body": "If <code>len_a=5</code> and <code>len_b=4</code> your declaration (apart from being an illegal VLA) becomes <code>int tab[6][5];</code>. In C++ (and C), array indeces start from zero, so <code>tab[0][5]</code> is actually out of bounds, but, being arrays countiguos in memory, you are outputting element <code>tab[1][0]</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1522533157, "post_id": 49537348, "comment_id": 86193100, "body": "You mix up A and B ; in the first loop you use <code>len_a</code> as loop condition but put the loop variable in the second (<code>b</code>) index"}], "answers": [{"tags": [], "owner": {"reputation": 382, "user_id": 9577131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb34545785599110d51fed19873e1913?s=128&d=identicon&r=PG&f=1", "display_name": "atrelinski", "link": "https://stackoverflow.com/users/9577131/atrelinski"}, "is_accepted": false, "score": 0, "last_activity_date": 1522530632, "creation_date": 1522530632, "answer_id": 49592433, "question_id": 49537348, "link": "https://stackoverflow.com/questions/49537348/cpp-2d-array-changes-on-its-own/49592433#49592433", "title": "cpp 2D array changes on its own?", "body": "<p>C++ has 0 indexed arrays, which means that first element is 0 and last is N-1.</p>\n\n<p>Example:</p>\n\n<pre><code>tab[2][3]; //creating array\n\ntab[0][0]; //first element of array\ntab[0][1];\ntab[0][2]; //last element in the first row\ntab[1][0];\ntab[1][1];\ntab[1][2]; //last element in the second row and last element in array\n</code></pre>\n\n<p>Any other element not mentioned above, like <code>tab[2][...]</code> or <code>tab[...][3]</code> is outside declared bounds array.</p>\n\n<p>Since in example there was <code>tab[6][5]</code> created, <code>cout &lt;&lt; tab[0][5];</code> is accessing something that is out of <code>tab</code> bounds. As @Bob__ mentioned arrays allocate continuous memory, so by accessing <code>tab[0][5]</code> in fact <code>tab[1][0]</code> is accessed. Second access to <code>tab[1][0]</code> element is after <code>//Init first column</code> occurred which overwrite value in <code>tab[1][0]</code> element.</p>\n\n<p>BTW:\nIn the example there is first bracket swap with second. There should be:</p>\n\n<pre><code>int tab[len_a][len_b];\n\nfor(int i=0; i&lt;=len_a; i++)//Init first row\n    tab[i][0]=i; //not tab[0][i]\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7879456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e81d8fb749cd034043c3c65147a71b6?s=128&d=identicon&r=PG&f=1", "display_name": "Sovengarde", "link": "https://stackoverflow.com/users/7879456/sovengarde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522530632, "creation_date": 1522247676, "question_id": 49537348, "link": "https://stackoverflow.com/questions/49537348/cpp-2d-array-changes-on-its-own", "title": "cpp 2D array changes on its own?", "body": "<p>In the following piece of code i create a 2D array, tab. Let <code>len_a=5,len_b=4</code> After the first <code>for</code> loop, <code>tab[0][5]</code> should be equal to 5, and it is. But, when i print the row, it changes value to 1. What's happening?</p>\n\n<pre><code>int len_a=a.length(),len_b=b.length();\n\n    int tab[len_a+1][len_b+1];\n    tab[0][0]=0;\n\n\n    for(int i=1;i&lt;=len_a;i++)//Init first row\n        tab[0][i]=i;\n\n    cout&lt;&lt;tab[0][5]&lt;&lt;endl;\n\n\n    for(int j=1;j&lt;=len_b;j++)//Init first column\n        tab[j][0]=j;\n\n    for(int i=0;i&lt;=len_a;i++)//Print row\n        cout&lt;&lt;tab[0][i]&lt;&lt;\" | \"&lt;&lt;i&lt;&lt;endl;\n\n    cout&lt;&lt;endl;\n    for(int i=0;i&lt;=len_b;i++)\n        cout&lt;&lt;tab[i][0]&lt;&lt;\" | \"&lt;&lt;i&lt;&lt;endl;    \n</code></pre>\n\n<p>Outputs:</p>\n\n<p>5 (first cout&lt;&lt; tab[0][5])</p>\n\n<p>0 | 0</p>\n\n<p>1 | 1</p>\n\n<p>2 | 2</p>\n\n<p>3 | 3</p>\n\n<p>4 | 4</p>\n\n<p>1 | 5 (second cout&lt;&lt; tab[0][5] ???)</p>\n\n<p>0 | 0</p>\n\n<p>1 | 1</p>\n\n<p>2 | 2</p>\n\n<p>3 | 3</p>\n\n<p>4 | 4</p>\n"}, {"tags": ["c++", "multithreading", "clang"], "answers": [{"tags": [], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "is_accepted": false, "score": 0, "last_activity_date": 1522248145, "creation_date": 1522248145, "answer_id": 49537540, "question_id": 49537346, "link": "https://stackoverflow.com/questions/49537346/the-program-compiles-using-visual-studio-but-clang-and-gcc-cannot-do-it/49537540#49537540", "title": "The program compiles using Visual Studio but clang and gcc cannot do it", "body": "<p>Your <code>exec</code> function takes references to vectors, but you define your task and future with an underlying function taking vector's copies. Either change <code>exec</code> or <code>task</code> definition.</p>\n\n<p>I'd advise changing <code>exec</code> type to:</p>\n\n<pre><code>std::vector&lt;int&gt; exec(std::vector&lt;int&gt; base, std::vector&lt;int&gt; const &amp;b) {\n    base.push_back(b[0]);\n    base.push_back(b[1]);\n    base.push_back(b[2]);\n    base.push_back(b[3]);\n    return base;\n}\n</code></pre>\n\n<p>and <code>task</code> to:</p>\n\n<pre><code>std::packaged_task&lt;std::vector&lt;int&gt;(std::vector&lt;int&gt;, std::vector&lt;int&gt; const&amp;)&gt; task(exec);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 1, "last_activity_date": 1522248328, "creation_date": 1522248328, "answer_id": 49537617, "question_id": 49537346, "link": "https://stackoverflow.com/questions/49537346/the-program-compiles-using-visual-studio-but-clang-and-gcc-cannot-do-it/49537617#49537617", "title": "The program compiles using Visual Studio but clang and gcc cannot do it", "body": "<p>You need <code>packaged_task</code> types match function types. In particular, since I assume you'd like to keep references for <code>exec</code>:</p>\n\n<pre><code>std::packaged_task&lt;vector&lt;int&gt; (vector&lt;int&gt;&amp;, vector&lt;int&gt;&amp;)&gt; task(exec);\nstd::future&lt;vector &lt;int&gt;&gt; ret = task.get_future();            \nstd::thread th(std::move(task), std::ref(a1), std::ref(a2));  \n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9564469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user9564469", "link": "https://stackoverflow.com/users/9564469/user9564469"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522248328, "creation_date": 1522247653, "question_id": 49537346, "link": "https://stackoverflow.com/questions/49537346/the-program-compiles-using-visual-studio-but-clang-and-gcc-cannot-do-it", "title": "The program compiles using Visual Studio but clang and gcc cannot do it", "body": "<p>Here's my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;future&gt;\n#include &lt;thread&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nvector &lt;int&gt; exec(vector &lt;int&gt; &amp;a, vector &lt;int&gt; &amp;b) {\nvector &lt;int&gt; res = a;\nres.push_back(b[0]);\nres.push_back(b[1]);\nres.push_back(b[2]);\nres.push_back(b[3]);\nreturn res;\n}\n\n\nint main() {\n\n\nvector &lt;int&gt; a1{ 1, 2, 3, 4 }, a2{ 5, 6, 7 , 8  };\n\nstd::packaged_task&lt;vector &lt;int&gt;(vector &lt;int&gt;, vector &lt;int&gt;)&gt; task(exec);\nstd::future&lt;vector &lt;int&gt;&gt; ret = task.get_future();            \nstd::thread th(std::move(task), a1, a2);  \n\nth.detach();\n\nvector &lt;int&gt; P1 = ret.get();\n\n\nfor (auto i = 0; i &lt; P1.size(); ++i) {\n    cout &lt;&lt; P1[i];\n}\ncout &lt;&lt; endl;\n\n\nsystem(\"pause\");\nreturn 0;\n}\n</code></pre>\n\n<p>Using -std=c++17 or -std=c++14 Clang always throws me one error:</p>\n\n<pre><code>In file included from Source.cpp:2:\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\include\\future:568:6: error: no\nmatching constructor for initialization of 'function&lt;std::vector&lt;int,\nstd::allocator&lt;int&gt; &gt; (std::vector&lt;int, std::allocator&lt;int&gt; &gt;, std::vector&lt;int,\nstd::allocator&lt;int&gt; &gt;)&gt;'\n: _Fn(_Fnarg)\n  ^   ~~~~~~\n</code></pre>\n\n<p>And it also throws me a couple of warnings. The same thing goes for g++. I use Visual Studio 2015 and clang 6.0.0. What's the matter?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522247583, "post_id": 49537229, "comment_id": 86081390, "body": "Are implementation identical ?"}, {"owner": {"reputation": 25956, "user_id": 229686, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e6ce612702a34f9bcebee2f34139c3f1?s=128&d=identicon&r=PG", "display_name": "edA-qa mort-ora-y", "link": "https://stackoverflow.com/users/229686/eda-qa-mort-ora-y"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522247674, "post_id": 49537229, "comment_id": 86081456, "body": "@Jarod42 Close. I added the target <code>error_impl</code> function. They all collect their arguments into a single vector and call <code>error_impl</code> with one vector."}, {"owner": {"reputation": 1173, "user_id": 1741297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6OT8.gif?s=128&g=1", "display_name": "D Drmmr", "link": "https://stackoverflow.com/users/1741297/d-drmmr"}, "edited": false, "score": 0, "creation_date": 1522247720, "post_id": 49537229, "comment_id": 86081497, "body": "How about passing an <code>initializer_list</code>?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1522247723, "post_id": 49537229, "comment_id": 86081503, "body": "I would use a helper class to deal with the first parameter, with the helper class constructible from a reference to either a <code>util::source_provider</code> or a <code>util::source_location</code>. That would deal with the first parameter. Then variadic pack to vacuum up the remaining parameters."}, {"owner": {"reputation": 25956, "user_id": 229686, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e6ce612702a34f9bcebee2f34139c3f1?s=128&d=identicon&r=PG", "display_name": "edA-qa mort-ora-y", "link": "https://stackoverflow.com/users/229686/eda-qa-mort-ora-y"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1522247818, "post_id": 49537229, "comment_id": 86081570, "body": "@SamVarshavchik Ah right, got short-sighted there. Somehow forgot I can simply create my own helper that implicity converts from all the types I need for the first parameter."}], "owner": {"reputation": 25956, "user_id": 229686, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e6ce612702a34f9bcebee2f34139c3f1?s=128&d=identicon&r=PG", "display_name": "edA-qa mort-ora-y", "link": "https://stackoverflow.com/users/229686/eda-qa-mort-ora-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522247632, "creation_date": 1522247336, "last_edit_date": 1522247632, "question_id": 49537229, "link": "https://stackoverflow.com/questions/49537229/how-can-i-remove-argument-redundancy-with-lists-of-similar-arguments", "title": "How can I remove argument redundancy with lists of similar arguments?", "body": "<p>I'm having trouble removing some redundancy in a series of C++ logging functions. They are each variants that alter on the first parameter, and the form of the final parameters.  I'm thinking somehow a variant with a variadic template might help.</p>\n\n<p>The two basic functions:</p>\n\n<pre><code>void error( util::source_provider const &amp; where, std::string const &amp; reason )\nvoid error( util::source_location const &amp; where, std::string const &amp; reason )\n</code></pre>\n\n<p>The first argument differs between a <code>source_provider</code> and <code>source_location</code>. These are basic structs, no virtuals.  After the <code>reason</code> I have several functions that look like these (with both the location and provider version):</p>\n\n<pre><code>void error( util::source_provider const &amp; where, std::string const &amp; reason,\n    std::vector&lt;item&gt; const &amp; itemsA, \n    std::vector&lt;item&gt; const &amp; itemsB,\n    boost::optional&lt;item&gt; item0 = boost::optional&lt;item&gt;(),\n    boost::optional&lt;item&gt; item1 = boost::optional&lt;item&gt;() )\nvoid error( util::source_provider const &amp; where, std::string const &amp; reason,\n    std::vector&lt;item&gt; const &amp; itemsA,\n    boost::optional&lt;item&gt; item0 = boost::optional&lt;item&gt;(),\n    boost::optional&lt;item&gt; item1 = boost::optional&lt;item&gt;() )\nvoid error( util::source_provider const &amp; where, std::string const &amp; reason,\n    boost::optional&lt;item&gt; item0 = boost::optional&lt;item&gt;(),\n    boost::optional&lt;item&gt; item1 = boost::optional&lt;item&gt;() )\n</code></pre>\n\n<p>I'm trying to make it convenient for the caller to provide lists of these <code>item</code> entries in whatever form they have. The information comes from a variety of places and it'd be an explosion of syntax at the call site if they needed to assemble into a single list. Some of this is also added via macros calling the logger.</p>\n\n<p>What combination of features do I use to reduce this? I'm guessing I need a vardiac template with a variant somehow, to accept either a vector or item.</p>\n\n<p>For clarity, these functions all ultimately call this function, combining all the <code>item</code> args into one vector first:</p>\n\n<pre><code>virtual void error_impl( boost::optional&lt;util::source_location&gt; where, std::string const &amp; reason,\n        std::vector&lt;item&gt; const &amp; items ) = 0;\n</code></pre>\n\n<p><em>C++14 is okay. I'm using GCC 5.4 so I don't think all of C++17 is available yet.</em></p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "edited": false, "score": 3, "creation_date": 1522247362, "post_id": 49537198, "comment_id": 86081214, "body": "Show us your for-loop then?"}, {"owner": {"reputation": 415, "user_id": 7305358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/909955eb7835150dae7bfbfa4e587e23?s=128&d=identicon&r=PG&f=1", "display_name": "Zinki", "link": "https://stackoverflow.com/users/7305358/zinki"}, "edited": false, "score": 0, "creation_date": 1522247400, "post_id": 49537198, "comment_id": 86081249, "body": "show what you have tried and what the problem was (either the incorrect output or the error message if there was one). A for loop is a good start, and you most likely just made a small mistake, but we can&#39;t tell without seeing your code."}, {"owner": {"reputation": 557, "user_id": 632227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e283ad9bba4d0ffeb95c0b9be4ae8a64?s=128&d=identicon&r=PG", "display_name": "bigeast", "link": "https://stackoverflow.com/users/632227/bigeast"}, "edited": false, "score": 0, "creation_date": 1522247444, "post_id": 49537198, "comment_id": 86081288, "body": "Try binary search."}, {"owner": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522247469, "post_id": 49537198, "comment_id": 86081304, "body": "for (int index = 0; index &lt; array.lenth(); ++index)     {         if (array(index) == input)         { \t\t\treturn index;         }          if (array(index) &lt; input)         {            return index - 1;         }     }"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1522247536, "post_id": 49537198, "comment_id": 86081352, "body": "@Divya Please <a href=\"https://stackoverflow.com/posts/49537198/edit\">edit</a> the question with all of the relevant information. In this instance: with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 19779, "user_id": 878532, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5fbebb625a289267abd098c0e676c760?s=128&d=identicon&r=PG", "display_name": "Klaus", "link": "https://stackoverflow.com/users/878532/klaus"}, "edited": false, "score": 0, "creation_date": 1522247940, "post_id": 49537198, "comment_id": 86081674, "body": "&quot;array[1] 2&quot; means &quot;subscript 1 is for 2 and 3 &quot; ???"}], "answers": [{"comments": [{"owner": {"reputation": 5781, "user_id": 8746007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wr8CIbEqJ4w/AAAAAAAAAAI/AAAAAAAAAFE/Ym-NjswzViM/photo.jpg?sz=128", "display_name": "Killzone Kid", "link": "https://stackoverflow.com/users/8746007/killzone-kid"}, "edited": false, "score": 0, "creation_date": 1522248299, "post_id": 49537340, "comment_id": 86081957, "body": "This is not what OP asked"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9545170"}, "is_accepted": false, "score": 1, "last_activity_date": 1522248937, "last_edit_date": 1522248937, "creation_date": 1522247642, "answer_id": 49537340, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array/49537340#49537340", "title": "Find an element from a array", "body": "<p>You would just do the same thing, looping through the array to search for the term you want. Of course if it's a sorted array this would be much faster, so something similar to prehaps:</p>\n\n<pre><code>for(int i = 0; i &lt; arraySize; i++){\n if(array[i] == itemToFind){\n     break;\n }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522248286, "post_id": 49537511, "comment_id": 86081947, "body": "no that does not work either the array isn ot always arranged in the same manner"}, {"owner": {"reputation": 5781, "user_id": 8746007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wr8CIbEqJ4w/AAAAAAAAAAI/AAAAAAAAAFE/Ym-NjswzViM/photo.jpg?sz=128", "display_name": "Killzone Kid", "link": "https://stackoverflow.com/users/8746007/killzone-kid"}, "reply_to_user": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522248378, "post_id": 49537511, "comment_id": 86082020, "body": "@Divya could you give an example of a different arrangement when this doesn&#39;t work?"}, {"owner": {"reputation": 5781, "user_id": 8746007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wr8CIbEqJ4w/AAAAAAAAAAI/AAAAAAAAAFE/Ym-NjswzViM/photo.jpg?sz=128", "display_name": "Killzone Kid", "link": "https://stackoverflow.com/users/8746007/killzone-kid"}, "edited": false, "score": 0, "creation_date": 1522248791, "post_id": 49537511, "comment_id": 86082362, "body": "@bigeast I think OP wants to return last index if there is no much, instead of  <code>return -1;</code> return <code>return array.size() - 1;</code>"}], "tags": [], "owner": {"reputation": 557, "user_id": 632227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e283ad9bba4d0ffeb95c0b9be4ae8a64?s=128&d=identicon&r=PG", "display_name": "bigeast", "link": "https://stackoverflow.com/users/632227/bigeast"}, "is_accepted": false, "score": 0, "last_activity_date": 1522248849, "last_edit_date": 1522248849, "creation_date": 1522248072, "answer_id": 49537511, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array/49537511#49537511", "title": "Find an element from a array", "body": "<p>You are very close to the right solution, just change <code>array[index] &lt; input</code> into <code>array[index] &gt; input</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nstd::vector&lt;int&gt; array = {0, 2, 4, 5};\nint subs(int input)\n{\n    for (int index = 0; index &lt; array.size(); ++index) \n    { \n        if (array[index] == input) \n        { \n            return index; \n        } \n        if (array[index] &gt; input) \n        { \n            return index - 1; \n        } \n    }\n    return -1;\n}\nint main(int argc, const char *argv[])\n{\n    for (int i = 0; i &lt;= 5; i++) {\n        std::cout&lt;&lt;\"input: \"&lt;&lt;i&lt;&lt;\" \"&lt;&lt;\"color: \"&lt;&lt;subs(i)&lt;&lt;std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>input: 0 color: 0\ninput: 1 color: 0\ninput: 2 color: 1\ninput: 3 color: 1\ninput: 4 color: 2\ninput: 5 color: 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5781, "user_id": 8746007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wr8CIbEqJ4w/AAAAAAAAAAI/AAAAAAAAAFE/Ym-NjswzViM/photo.jpg?sz=128", "display_name": "Killzone Kid", "link": "https://stackoverflow.com/users/8746007/killzone-kid"}, "edited": false, "score": 0, "creation_date": 1522249048, "post_id": 49537766, "comment_id": 86082581, "body": "Bingo! A bit too complicated though for a beginner"}, {"owner": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522249076, "post_id": 49537766, "comment_id": 86082606, "body": "yes thats correct and precise way .. i am new so could not frame the question as you did.. but i just have an array and not a vector ...as in to use the .begin and all capability should it be a vector ... my input will just be an array .."}, {"owner": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522250027, "post_id": 49537766, "comment_id": 86083383, "body": "It could be a subscript greator than the input as well... So as i might get the arranegment as follows:  a[0] -- 0"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "edited": false, "score": 0, "creation_date": 1522250076, "post_id": 49537766, "comment_id": 86083416, "body": "@Divya If you are using arrays, your compiler should have complained at <code>array.size()</code>, but you can still use the free functions <code>std::begin(array)</code> and <code>std::end(array)</code>."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522317678, "post_id": 49537766, "comment_id": 86113460, "body": "Both <a href=\"https://ideone.com/o3DeH6\" rel=\"nofollow noreferrer\">logarithm search Demo</a> and <a href=\"https://ideone.com/G1tekn\" rel=\"nofollow noreferrer\">Linear search Demo</a> give correct result for <code>0, 1, 2, 3</code> and <code>4, 5</code>."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 1, "last_activity_date": 1522252494, "last_edit_date": 1522252494, "creation_date": 1522248721, "answer_id": 49537766, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array/49537766#49537766", "title": "Find an element from a array", "body": "<p>As I understand, you want to find the largest index of the array which is less or equal to the given input.</p>\n\n<p>Then you can use the following with binary search.</p>\n\n<pre><code>std::size_t getIndexFor(const std::vector&lt;int&gt;&amp; v, int input)\n{\n    auto it = std::lower_bound(v.begin(), v.end(), input);\n    if (it != v.begin() &amp;&amp; (it == v.end() || *it != input)) {\n        --it;\n    }\n    return std::distance(v.begin(), it);\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/Lx5IF8\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>A simpler (and linear) way:</p>\n\n<pre><code>std::size_t getIndexFor(const std::vector&lt;int&gt;&amp; v, int input)\n{\n    auto it = std::find_if(v.begin(), v.end(), [&amp;](int e){ return e &gt; input;});\n    if (it == v.begin()) {\n        throw std::runtime_error(\"input not handled\");\n    }\n    --it;\n    return std::distance(v.begin(), it);\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/o2miu2\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9560575"}, "is_accepted": false, "score": 0, "last_activity_date": 1522249707, "last_edit_date": 1522249707, "creation_date": 1522248984, "answer_id": 49537862, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array/49537862#49537862", "title": "Find an element from a array", "body": "<p>I used the for loop also but using break after one if condition that checks if the input equals any element in the array. </p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main(){\n\n    string arr = \" \";\n    int x;\n    cout &lt;&lt; \"Enter your input\";\n    cin &gt;&gt; x;\n    for (int i =0; i&lt; arr.length(); i++ ){\n        if (arr[i] == x){\n            break;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19779, "user_id": 878532, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5fbebb625a289267abd098c0e676c760?s=128&d=identicon&r=PG", "display_name": "Klaus", "link": "https://stackoverflow.com/users/878532/klaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1522249860, "creation_date": 1522249860, "answer_id": 49538153, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array/49538153#49538153", "title": "Find an element from a array", "body": "<p>Another, maybe simpler solution:</p>\n\n<pre><code>int findIndex( const std::vector&lt;int&gt;&amp; vec, int input )\n{\n    int count = vec.size()-1;\n    for ( auto it = vec.rbegin(); it != vec.rend(); it++)\n    {\n        if ( *it&lt;=input )\n        {\n            return count;\n        }\n        count--;\n    }\n\n    return -1; // if nothing found\n}\n\nint main()\n{\n    std::vector&lt;int&gt; vec { 0,2,4,5 };\n\n    for ( int input=0; input &lt;=5; input++)\n    {\n        std::cout &lt;&lt;  findIndex( vec, input ) &lt;&lt; \" \" &lt;&lt; input &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 0\n0 1\n1 2\n1 3\n2 4\n3 5\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8230572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca89642bfb535488509ed5bc867bdde?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/8230572/divya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 49537766, "answer_count": 5, "score": 0, "last_activity_date": 1522252494, "creation_date": 1522247275, "last_edit_date": 1522249941, "question_id": 49537198, "link": "https://stackoverflow.com/questions/49537198/find-an-element-from-a-array", "title": "Find an element from a array", "body": "<p>I have an array which spans as follows. So the example to understand is consider a block with 6 faces. The array contains the index in this array from which the faces for a particular colour will start.</p>\n\n<pre><code>array[0] 0\narray[1] 2\narray[2] 4\narray[3] 5\n</code></pre>\n\n<p>so this means that colour 0 is for faces 0 and 1, colour 1 is for faces 2 and 3, \nand colour 2 is only for face 4</p>\n\n<p>But the array will not always look like this. if there is a block with just a single colour the array would look like </p>\n\n<pre><code>array[0] 0\narray[1] 1 \n</code></pre>\n\n<p>which means face 0 is coloured with 0 color, and faces 1,2,3,4,5 are coloured with color 1 </p>\n\n<p>I will get an input as the face number and need to find the corresponding colour</p>\n\n<p>I tried it with a for loop </p>\n\n<pre><code>for (int index = 0; index &lt; array.size(); ++index) \n{ \n    if (array[index] == input) \n    { \n        return index; \n    } \n    if (array[index] &lt; input) \n    { \n        return index - 1; \n    } \n}\n</code></pre>\n\n<p>but the answer is not always correct . Can this be done with <code>while</code> . Please help </p>\n"}, {"tags": ["c++", "memory-leaks", "qt4", "pyside", "address-sanitizer"], "comments": [{"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1522248623, "post_id": 49536956, "comment_id": 86082203, "body": "Can you run with <code>export ASAN_OPTIONS=malloc_context_size=20</code> and install Python dbgsym package (for symbolized stacktrace)?"}, {"owner": {"reputation": 201, "user_id": 5253471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2a17454740d383fdaa7c36b12eb3e?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/5253471/francois"}, "reply_to_user": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1522255253, "post_id": 49536956, "comment_id": 86087060, "body": "I&#39;m not familiar with the use of the -dbgsym packages, but if I understood properly, they are found automatically by the system if installed? I ran my program again with export ASAN_OPTIONS[..] enable. The full LeakSanitizer output can be found here: <a href=\"https://pastebin.ca/4007920\" rel=\"nofollow noreferrer\">pastebin.ca/4007920</a>"}, {"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1522264931, "post_id": 49536956, "comment_id": 86092593, "body": "&quot;they are found automatically by the system if installed&quot; - yes, modulo <a href=\"https://bugs.launchpad.net/ubuntu/+source/binutils/+bug/1759248\" rel=\"nofollow noreferrer\">bugs</a>. You might also need to enable Asan address symbolizer as described e.g. <a href=\"https://github.com/google/sanitizers/wiki/AddressSanitizerCallStack\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 201, "user_id": 5253471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2a17454740d383fdaa7c36b12eb3e?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/5253471/francois"}, "reply_to_user": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1522520330, "post_id": 49536956, "comment_id": 86189627, "body": "It took me some time to be able to get the python debug symbols, but here is the output of my second try: <a href=\"https://pastebin.com/SK6qCskP\" rel=\"nofollow noreferrer\">pastebin.com/SK6qCskP</a>"}], "owner": {"reputation": 201, "user_id": 5253471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2a17454740d383fdaa7c36b12eb3e?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/5253471/francois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522259177, "creation_date": 1522246635, "last_edit_date": 1522259177, "question_id": 49536956, "link": "https://stackoverflow.com/questions/49536956/memory-leak-when-shutting-down-embedded-pyside-pyqt4-python-code", "title": "Memory leak when shutting down embedded PySide/PyQt4 python code", "body": "<p>I'm working on a C++ Qt4 application with an embedded python interpreter loading some PySide (or PyQt4) scripts. I noticed that Address Sanitizer was reporting a memory leak on exit c++ exit.</p>\n\n<p>Trying to get to the bottom of this issue, I wrote a simple PySide code embedded in C++ to try to understand where the memory leak was coming from. </p>\n\n<p>I poked around for quite some time trying various things, but to no avail. I suspect that it's linked to some ref-counting error causing some trouble when the Python interpreter shuts down, but I'm not sure.</p>\n\n<p>Could somebody help me understand what I'm doing wrong?</p>\n\n<p>Here is my simple code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Python.h\"\n\nclass EmbedPySide\n{\n\npublic:\n\n  EmbedPySide()\n  {\n    char name[] = \"test\";\n    Py_SetProgramName(name);\n    Py_Initialize();\n\n    std::string code =\n        \"from PySide import QtGui\\n\"\n        \"\"\n        \"class EmbededPySide(QtGui.QApplication):\\n\"\n        \"\"\n        \"    def __init__(self):\\n\"\n        \"        super(EmbededPySide, self).__init__([])\\n\"\n        \"        self.button = QtGui.QPushButton('Shutdown')\\n\"\n        \"        self.button.clicked.connect(self.cleanUp)\\n\"\n        \"        self.win = QtGui.QMainWindow()\\n\"\n        \"        self.win.setCentralWidget(self.button)\\n\"\n        \"        self.win.move(600, 300)\\n\"\n        \"        self.win.show()\\n\"\n        \"\"\n        \"    def cleanUp(self):\\n\"\n        \"        del self.button\\n\"\n        \"        del self.win\\n\"\n        \"        self.quit()\\n\"\n        \"\"\n        \"if __name__=='__main__':\\n\"\n        \"    app = EmbededPySide()\\n\"\n        \"    app.exec_()\";\n\n    PyRun_SimpleString(code.c_str());\n  }\n\n  ~EmbedPySide()\n  {\n    Py_Finalize();\n    std::cout &lt;&lt; \"Destructor called\" &lt;&lt; std::endl;\n  }\n\n};\n\nint main()\n{\n  EmbedPySide embedded;\n\n  std::cout &lt;&lt; \"Exiting\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>And I compiled it with:</p>\n\n<pre><code>g++ main.cpp -O1 -g -fsanitize=address -fno-omit-frame-pointer \\\n-I/usr/include/python2.7 -lpython2.7\n</code></pre>\n\n<p>For clarity, here is the python code I wrote in the code string:</p>\n\n<pre><code>from PySide import QtGui\n\nclass EmbededPySide(QtGui.QApplication):\n\n    def __init__(self):\n        super(EmbededPySide, self).__init__([])\n        self.button = QtGui.QPushButton('Shutdown')\n        self.button.clicked.connect(self.cleanUp)\n        self.win = QtGui.QMainWindow()\n        self.win.setCentralWidget(self.button)\n        self.win.move(600, 300)\n        self.win.show()\n\n    def cleanUp(self):\n        del self.button\n        del self.win\n        self.quit()\n\nif __name__=='__main__':\n    app = EmbededPySide()\n    app.exec_()\n</code></pre>\n\n<p>On run, this is the output I get:</p>\n\n<blockquote>\n  <p>Exiting</p>\n  \n  <p>Destructor called</p>\n  \n  <p>=================================================================\n  ==5063==ERROR: LeakSanitizer: detected memory leaks</p>\n  \n  <p>Direct leak of 3377664 byte(s) in 1228 object(s) allocated from:\n      #0 0x7f161d4fb79a in __interceptor_calloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x9879a)\n      #1 0x7f161d0349ab  (/usr/lib/x86_64-linux-gnu/libpython2.7.so.1.0+0x1619ab)</p>\n  \n  <p>Direct leak of 786432 byte(s) in 1 object(s) allocated from:\n      #0 0x7f161d4fb79a in __interceptor_calloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x9879a)\n      #1 0x7f161d0349ab  (/usr/lib/x86_64-linux-gnu/libpython2.7.so.1.0+0x1619ab)\n      #2 0x4f622d95dcb87ff  ()</p>\n  \n  <p>Direct leak of 24680 byte(s) in 27 object(s) allocated from:\n      #0 0x7f161d4fb602 in malloc (/usr/lib/x86_64-linux-gnu/libasan.so.2+0x98602)\n      #1 0x7f161cfacd48 in _PyObject_GC_Malloc (/usr/lib/x86_64-linux-gnu/libpython2.7.so.1.0+0xd9d48)</p>\n  \n  <p>[...]</p>\n</blockquote>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "linux", "visual-studio-2017", "protocol-buffers", "grpc"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 6689160, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YUa8icMPiFQ/AAAAAAAAAAI/AAAAAAAABKw/EBhw_p8bPiw/photo.jpg?sz=128", "display_name": "SGarofalo808", "link": "https://stackoverflow.com/users/6689160/sgarofalo808"}, "edited": false, "score": 0, "creation_date": 1522276315, "post_id": 49544805, "comment_id": 86098049, "body": "Hey Stan, thanks to the second link I saw it tried to use pkg-config, in my case that didn&#39;t work, but I executed it on the linux console to see what it generated and it was &quot;lprotobuf -pthread -lpthread -lgrpc++ -lgrpc&quot; so what I did is to add that to Linker &gt; All Options &gt; Library dependencies and voila, it started building fine."}], "tags": [], "owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1522274159, "creation_date": 1522274159, "answer_id": 49544805, "question_id": 49536952, "link": "https://stackoverflow.com/questions/49536952/building-protobuf-for-linux-using-vs2017/49544805#49544805", "title": "Building protobuf for Linux using VS2017", "body": "<p><a href=\"https://stackoverflow.com/questions/43290986/illegal-characters-in-path-when-linking-c-objects-with-visual-c-for-linux-de/43324192#43324192\">This</a> explains the \"Illegal characters in path\" message.</p>\n\n<p>Does <code>protobuf</code> link to any libraries on the Linux system? Assuming you're not using CMake, have you added the libraries andtheir path(s) to the Visual Studio project - <code>Library Dependencies</code> and <code>Additional Library Directories</code>.\n<a href=\"https://stackoverflow.com/questions/45570103/g-cant-link-curl-lib-files/45578921#45578921\">This</a> might help with specifying libraries.</p>\n"}], "owner": {"reputation": 167, "user_id": 6689160, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YUa8icMPiFQ/AAAAAAAAAAI/AAAAAAAABKw/EBhw_p8bPiw/photo.jpg?sz=128", "display_name": "SGarofalo808", "link": "https://stackoverflow.com/users/6689160/sgarofalo808"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 49544805, "answer_count": 1, "score": 1, "last_activity_date": 1522276464, "creation_date": 1522246626, "last_edit_date": 1522276464, "question_id": 49536952, "link": "https://stackoverflow.com/questions/49536952/building-protobuf-for-linux-using-vs2017", "title": "Building protobuf for Linux using VS2017", "body": "<p>I have configured VS2017 to build Linux C++ by remote building on a Linux Mint VM.\nI tried a simple C++ program and it compiles and executes fine, the thing is that now I need to add a generated protobuf source and the linking fails constantly.</p>\n\n<p>On the Linux VM the protobuf generated files are building correctly and I was able to execute the gRPC examples.</p>\n\n<p>The errors I get when I build from VS2017 are a lot of:</p>\n\n<p><em>undefined reference to 'google::protobuf::internal'</em></p>\n\n<p>and there is also this one</p>\n\n<p><em>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\VC\\VCTargets\\Application Type\\Linux\\1.0\\Linux.targets(262,5): error : Illegal characters in path.</em></p>\n\n<p>I think this is a VS2017 remote compilation configuration issue, but I don't know what could it be.</p>\n\n<p>Has it happened to you? Do you know how to solve this issue?</p>\n\n<p>Thanks</p>\n\n<p><strong>SOLUTION:</strong> I the project properties go to <em>Linker > All Options > Library dependencies</em> and add: <em>protobuf;pthread;grpc++;grpc</em></p>\n"}, {"tags": ["c++", "qt", "qt5", "qgraphicsitem", "qgraphicspixmapitem"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1522269483, "creation_date": 1522269483, "answer_id": 49543765, "question_id": 49536899, "link": "https://stackoverflow.com/questions/49536899/draggable-pixmaps-inside-a-qgraphicsscene-of-graphic-items/49543765#49543765", "title": "Draggable pixmaps inside a QGraphicsScene of graphic items", "body": "<p>First of all if you want to place a <code>QGraphicsPixmapItem</code> on top of another item, a better option is to set it as your <code>parentItem</code>.</p>\n\n<p>On the other hand we can use an event filter but a better option in this case is to implement a custom <code>QGraphicsScene</code>, and when pressing with the left key it allows to drag the item, for that we use <code>QDrag</code> and we pass the data of the item, then we overwrite the event <code>dropEvent</code> where we will obtain the item and establish a new parent.</p>\n\n<p><strong>graphicsscene.h</strong></p>\n\n<pre><code>#ifndef GRAPHICSSCENE_H\n#define GRAPHICSSCENE_H\n\n#include &lt;QGraphicsScene&gt;\n\nclass QMenu;\nclass QAction;\n\nclass GraphicsScene : public QGraphicsScene\n{\npublic:\n    using QGraphicsScene::QGraphicsScene;\n\nprotected:\n    void mousePressEvent(QGraphicsSceneMouseEvent *event) override;\n    void dropEvent(QGraphicsSceneDragDropEvent *event) override;\n\nprivate:\n    QGraphicsPixmapItem *findPixmapItem(QGraphicsItem *item);\n    void createDrag(const QPointF &amp;pos, QWidget *widget, QGraphicsItem *item);\n    void showContextMenu(const QPointF &amp;pos);\n    void addPixBlock(QGraphicsItem *item);\n\n    QMenu *menu;\n    QMenu *submenu;\n    QAction *picture;\n    QGraphicsPixmapItem *pix;\n};\n\n#endif // GRAPHICSSCENE_H\n</code></pre>\n\n<p><strong>graphicsscene.cpp</strong></p>\n\n<pre><code>#include \"graphicsscene.h\"\n\n#include &lt;QDrag&gt;\n#include &lt;QGraphicsItem&gt;\n#include &lt;QGraphicsSceneMouseEvent&gt;\n#include &lt;QMenu&gt;\n#include &lt;QMimeData&gt;\n#include &lt;QWidget&gt;\n\nvoid GraphicsScene::mousePressEvent(QGraphicsSceneMouseEvent *event)\n{\n    auto its =  items(QRectF(event-&gt;scenePos() - QPointF(1,1), QSize(3,3)));\n    auto val = std::find_if(its.constBegin(), its.constEnd(), [](auto const&amp; it){\n        return it-&gt;type() &gt; QGraphicsItem::UserType;\n    });\n    if(val == its.constEnd())\n        return;\n    if(event-&gt;button() == Qt::RightButton){\n        showContextMenu(event-&gt;scenePos());\n    }\n    else{\n        createDrag(event-&gt;scenePos(), event-&gt;widget(), *val);\n    }\n\n}\n\nvoid GraphicsScene::dropEvent(QGraphicsSceneDragDropEvent *event)\n{\n    QByteArray byteArray = event-&gt;mimeData()-&gt;data(\"Item\");\n    QGraphicsPixmapItem * item = *reinterpret_cast&lt;QGraphicsPixmapItem**&gt;(byteArray.data());\n    QGraphicsItem *item_parent = itemAt(event-&gt;scenePos(), QTransform());\n    item-&gt;setParentItem(item_parent);\n}\n\nQGraphicsPixmapItem *GraphicsScene::findPixmapItem(QGraphicsItem *item){\n    auto chs = item-&gt;childItems();\n    auto  val = std::find_if(chs.constBegin(), chs.constEnd(), [](auto const&amp; it){\n            return static_cast&lt;QGraphicsPixmapItem *&gt;(it) != Q_NULLPTR;\n});\n    return val == chs.constEnd() ? Q_NULLPTR : static_cast&lt;QGraphicsPixmapItem *&gt;(*val);\n}\n\nvoid GraphicsScene::createDrag(const QPointF &amp;pos, QWidget *widget, QGraphicsItem *item){\n    QGraphicsPixmapItem *pix = findPixmapItem(item);\n    if(pix == Q_NULLPTR)\n        return;\n    QByteArray byteArray(reinterpret_cast&lt;char*&gt;(&amp;pix),sizeof(QGraphicsPixmapItem*));\n    QDrag *drag = new QDrag(widget);\n    QMimeData * mimeData = new QMimeData;\n    mimeData-&gt;setData(\"Item\",byteArray);\n    drag-&gt;setMimeData(mimeData);\n    drag-&gt;setHotSpot(pos.toPoint()-pix-&gt;scenePos().toPoint());\n    drag-&gt;setPixmap(pix-&gt;pixmap());\n    drag-&gt;start();\n\n}\n\nvoid GraphicsScene::showContextMenu(const QPointF &amp;pos)\n{\n    QGraphicsItem *item = itemAt(pos, QTransform());\n    menu= new QMenu(\"Menu\");\n    submenu = menu-&gt;addMenu(QIcon(\":/img/pix.png\"),\"Pix\");\n    picture = submenu-&gt;addAction(QIcon(\":/img/pix.png\"),\"Pix\");\n    connect(picture, &amp;QAction::triggered, [item, this](){\n        addPixBlock(item);\n    });\n    menu-&gt;exec(QCursor::pos());\n}\n\nvoid GraphicsScene::addPixBlock(QGraphicsItem *item)\n{\n    if(findPixmapItem(item))\n        return;\n    QPixmap pixmap(\":/img/pix.png\");\n    pix = addPixmap(pixmap.scaled(70,50));\n    if(pix-&gt;parentItem() != item)\n        pix-&gt;setParentItem(item);\n}\n</code></pre>\n\n<p>Then we establish that new scene and add the <code>Block</code>s.</p>\n\n<p>The complete example can be found in the following <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/49536899\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 211, "user_id": 2337945, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/490d8becc8b4322c0552496af93dd85a?s=128&d=identicon&r=PG", "display_name": "Sonicpath", "link": "https://stackoverflow.com/users/2337945/sonicpath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 49543765, "answer_count": 1, "score": 0, "last_activity_date": 1522345740, "creation_date": 1522246472, "last_edit_date": 1522345740, "question_id": 49536899, "link": "https://stackoverflow.com/questions/49536899/draggable-pixmaps-inside-a-qgraphicsscene-of-graphic-items", "title": "Draggable pixmaps inside a QGraphicsScene of graphic items", "body": "<p>I have a scene with a 12*4 grid with blocks of QGraphicsItems ,when i right click  on the blocks I have a contexmenu that\n can add icons inside the blocks my proplem is that\nI can't fingure out how can I make those icons draggable to the other blocks inside the graphic scene ,I know there is the \"Draggable Icons Example\" but how can I implement that code to a graphic scene.</p>\n\n<p>this is the mainwindow.h</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n#include &lt;QMainWindow&gt;\n#include &lt;QGraphicsPathItem&gt;\nclass QGraphicsSceneMouseEvent;\nnamespace Ui {\nclass MainWindow;\n}\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:\nexplicit MainWindow(QWidget *parent = 0);\nbool eventFilter(QObject *, QEvent *);\n~MainWindow();\n\nprivate slots:\nvoid showContextMenu(const QPoint&amp;);\nvoid addPixBlock();\n\nprivate:\nUi::MainWindow *ui;\nQGraphicsScene *scene;\nQGraphicsItem *itemAt(const QPointF&amp;);\n\nint x;\nint y;\n\nQMenu *Menu;\nQMenu *Submenu;\nQAction *Picture;\nQGraphicsPixmapItem* pix;\n};\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>the mainwindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"block.h\"\n#include &lt;QGraphicsScene&gt;\n#include &lt;QGraphicsSceneMouseEvent&gt;\n#include &lt;QDebug&gt;\n#include &lt;QPainter&gt;\nMainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\nui-&gt;setupUi(this);\nscene = new QGraphicsScene(this) ;\nfor(int row=-4;row&lt;8;++row)\n  for(int column=0;column&lt;4;++column)\n{\n  Block *b = new Block;\n  scene-&gt;addItem(b);\n  b-&gt;setPos(row* 95,column*85);\n}\nui-&gt;graphicsView-&gt;setScene(scene);\nscene-&gt;installEventFilter(this);\n}\nMainWindow::~MainWindow()\n{\ndelete ui;\n}\nQGraphicsItem* MainWindow::itemAt(const QPointF &amp;pos)\n{\nQList&lt;QGraphicsItem*&gt; items = scene-&gt;items(QRectF(pos - QPointF(1,1), \nQSize(3,3)));\n\nforeach(QGraphicsItem *item, items)\n     if (item-&gt;type() &gt; QGraphicsItem::UserType)\n     return item;\n return 0;\n  }\n bool MainWindow::eventFilter(QObject *o, QEvent *e)\n  {\n QGraphicsSceneMouseEvent *me = (QGraphicsSceneMouseEvent*) e;\n\n switch ((int) e-&gt;type()){\n\n case QEvent::GraphicsSceneMousePress:{\n\n switch ((int) me-&gt;button()){\n\n  case Qt::RightButton:{\n\n     QGraphicsItem *item = itemAt(me-&gt;scenePos());\n\n     if (item &amp;&amp; item-&gt;type() == Block::Type){\n         x=item-&gt;scenePos().x();\n         y=item-&gt;scenePos().y();\n        showContextMenu(item-&gt;scenePos().toPoint());\n      }\n   break;\n  }\n  }\n  break;\n  }\n }\n return QObject::eventFilter(o, e);\n }\nvoid MainWindow::showContextMenu(const QPoint &amp;pos)\n{\nMenu= new QMenu(\"Menu\");\nSubmenu=Menu-&gt;addMenu(QIcon(\":/img/pix.png\"),\"Pix\");\nPicture =Submenu-&gt;addAction(QIcon(\":/img/pix.png\"),\"Pix\");\nconnect(Picture, SIGNAL(triggered()), this, SLOT(addPixBlock()));\nMenu-&gt;exec(QCursor::pos());\n}\nvoid MainWindow::addPixBlock()\n{\nQPixmap pixmap(\":/img/pix.png\");\npix = scene-&gt;addPixmap(pixmap.scaled(70,50));\npix-&gt;setPos(x,y);\n}\n</code></pre>\n\n<p>the block.h</p>\n\n<pre><code>#ifndef BLOCK_H\n#define BLOCK_H\n#include &lt;QGraphicsPathItem&gt;\nclass QGraphicsSceneMouseEvent;\nclass Block : public QGraphicsPathItem\n{\npublic:\nenum { Type = QGraphicsItem::UserType + 3 };\nint type() const { return Type; }\nBlock(QGraphicsItem *parent = 0);\nvoid paint(QPainter *painter, const QStyleOptionGraphicsItem *option, QWidget \n*widget);\nbool eventFilter(QObject *, QEvent *);\n};\n#endif // BLOCK_H\n</code></pre>\n\n<p>the Block.cpp</p>\n\n<pre><code>#include \"block.h\"\n#include &lt;QPainter&gt;\n#include &lt;QtWidgets&gt;\nclass QGraphicsSceneMouseEvent;\nBlock::Block(QGraphicsItem *parent)\n         : QGraphicsPathItem(parent)\n{\nQPainterPath p;\n//&lt;-&gt;,|,&lt;-&gt;,|,roundness\np.addRoundedRect(0,0,80,50, 5, 5);\nsetPath(p);\nsetAcceptDrops(true);\nsetAcceptedMouseButtons(Qt::LeftButton);\n}\nvoid Block::paint(QPainter *painter, const QStyleOptionGraphicsItem *option, \nQWidget *widget)\n{\nQ_UNUSED(option)\nQ_UNUSED(widget)\npainter-&gt;setPen(QPen(QColor(67, 141, 220)));\npainter-&gt;setBrush(QColor(67, 141, 220,100));\npainter-&gt;drawPath(path());\n}\n</code></pre>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1522247061, "post_id": 49536887, "comment_id": 86080942, "body": "And you want a faster method? I suspect that the <code>cout ...</code> is the most time-consuming part of this process, and there is no way to accelerate it. But it will scroll by faster than the eye can read it, so why do you want it to be faster?"}, {"owner": {"reputation": 259, "user_id": 5386469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ad83326b4e3fc5b3493f84e8960480?s=128&d=identicon&r=PG&f=1", "display_name": "Ratah", "link": "https://stackoverflow.com/users/5386469/ratah"}, "edited": false, "score": 0, "creation_date": 1522247545, "post_id": 49536887, "comment_id": 86081359, "body": "Due to while imbrication, your algorithm is of complexity O(n^4). You need it to be less exponential, at least of complexity O(n) or O(nlogn)."}, {"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522248314, "post_id": 49536887, "comment_id": 86081968, "body": "I know it is of complexity O(n^4). That&#39;s why I want to implement another method. But I don&#39;t know how to catch this."}, {"owner": {"reputation": 259, "user_id": 5386469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ad83326b4e3fc5b3493f84e8960480?s=128&d=identicon&r=PG&f=1", "display_name": "Ratah", "link": "https://stackoverflow.com/users/5386469/ratah"}, "edited": false, "score": 1, "creation_date": 1522248759, "post_id": 49536887, "comment_id": 86082341, "body": "Another point, you can perform std::vector population like this v.emplace_back(x,y,z,t) directly without using a temporary object gim that need a copy. emplace_back uses placement-new to construct the element in-place at the location provided by the container"}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522247747, "post_id": 49537196, "comment_id": 86081517, "body": "I need a new method of iteration to populate my vector. The [a,b] range is -500\u2264a\u2264b\u2264500"}, {"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522247889, "post_id": 49537196, "comment_id": 86081628, "body": "And I need something to respect the rule of distinct quartets - if(at least one of x,y,z,t is different)"}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522248284, "post_id": 49537196, "comment_id": 86081944, "body": "@sorineatza: I am not sure what you mean by &quot;The [a,b] range is -500\u2264a\u2264b\u2264500&quot; -- that is not the range, but the constraints on the start and end of the range. If you mean [a, b] = [-500, 500]; then you would have a trillion of elements and it would take roughly 14 TiB of memory using 32-bit integers."}, {"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522249170, "post_id": 49537196, "comment_id": 86082678, "body": "You misunderstood. a and b could be in this range of values from -500 to 500. For example, you could have a range [-2,3] and the quartets would get the values from this range: -2,-1,0,1,2,3 but pay attention of my rule: what it means distinct quartets. That&#39;s why I need a new method. IMO, it should be an algorithm of queues or something else."}, {"owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "reply_to_user": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522254992, "post_id": 49537196, "comment_id": 86086903, "body": "@sorineatza: No, I did not misunderstood. If your actual range (rather than the constraints on <code>a</code> and <code>b</code>) is something as short as [-2, 3], then your program should be nearly instantaneous. A range like [0, 80] should take your program less than a second."}, {"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522303573, "post_id": 49537196, "comment_id": 86105333, "body": "Ignore the above comment, I write wrong. An example of how quartets are distinct is this: {-1,-1,0,-1},{0,-1,-1,0}, {0,-1,1,1},{0,0,-1,-1},{0,0,1,0},{0,1,1,-1},{1,0,0,1},{1,1,0&zwnj;&#8203;,0} etc for interval [-1,1]. If you take any 2 quartets from the above list you will see they are distinct."}], "tags": [], "owner": {"reputation": 21663, "user_id": 9305398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqJvE.png?s=128&g=1", "display_name": "Acorn", "link": "https://stackoverflow.com/users/9305398/acorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1522247605, "last_edit_date": 1522247605, "creation_date": 1522247271, "answer_id": 49537196, "question_id": 49536887, "link": "https://stackoverflow.com/questions/49536887/c-vectors-of-values-returning-a-matrix/49537196#49537196", "title": "C++ vectors of values returning a matrix", "body": "<p>If you only need the number of elements of the set <code>{(x,y,z,t) | \u00ac(x = y = z = t)}</code>, then compute <code>(b-a)**4 - (b-a)</code>; i.e. no need to iterate through all of them.</p>\n\n<p>If you really need to fill a <code>vector</code> with all the combinations, well, you will have to iterate to add them all. The longest part will be memory allocations inside the <code>std::vector</code>, so pre-<a href=\"http://en.cppreference.com/w/cpp/container/vector/reserve\" rel=\"nofollow noreferrer\"><code>reserve</code></a> or pre-<a href=\"http://en.cppreference.com/w/cpp/container/vector/resize\" rel=\"nofollow noreferrer\"><code>resize</code></a> with the number of elements since you can know it in advance.</p>\n\n<blockquote>\n  <p>As far as I've done is something which is consuming much time</p>\n</blockquote>\n\n<p>What do you mean it is consuming a lot of time? What is your <code>[a, b]</code> range?</p>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "edited": false, "score": 0, "creation_date": 1522249646, "post_id": 49537922, "comment_id": 86083048, "body": "Maybe if (t==b) t=a else t++. That&#39;s to begin from the beginning of the range [a,b]. That&#39;s a good idea."}], "tags": [], "owner": {"reputation": 259, "user_id": 5386469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ad83326b4e3fc5b3493f84e8960480?s=128&d=identicon&r=PG&f=1", "display_name": "Ratah", "link": "https://stackoverflow.com/users/5386469/ratah"}, "is_accepted": true, "score": 1, "last_activity_date": 1522249167, "creation_date": 1522249167, "answer_id": 49537922, "question_id": 49536887, "link": "https://stackoverflow.com/questions/49536887/c-vectors-of-values-returning-a-matrix/49537922#49537922", "title": "C++ vectors of values returning a matrix", "body": "<p>You can try something like this:</p>\n\n<pre><code>int actual_t = t;\nint actual_z = z;\nint actual_y = y;\nint actual_x = x;\nwhile(t&lt;=b &amp;&amp; z &lt;=b &amp;&amp; y&lt;=b &amp;&amp; x&lt;=b)\n{\n    if(at least one of x,y,z,t is different)\n    {\n        nr_quartet++;\n        v.emplace_back(x, y, z, t);\n        //cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; \" \" &lt;&lt; z &lt;&lt; \" \" &lt;&lt; t &lt;&lt; \"\\n\";\n    }\n    // For t\n    if(t==b)\n    {\n        t = 0;\n    }\n    else\n    {\n        t++;\n    }\n    actual_t = t;\n\n    // For z\n    if(z==b)\n    {\n        z = 0;\n    }\n    else if(/* incrementation condition for z */)\n    {\n        z++;\n    }\n    actual_z = z;\n\n    /* the same for y and x */\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 3319590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K9zWRQZsrQo/AAAAAAAAAAI/AAAAAAAAAOE/_Rmo_F1Z_mk/photo.jpg?sz=128", "display_name": "sorineatza", "link": "https://stackoverflow.com/users/3319590/sorineatza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 49537922, "answer_count": 2, "score": 0, "last_activity_date": 1523521493, "creation_date": 1522246428, "last_edit_date": 1523521493, "question_id": 49536887, "link": "https://stackoverflow.com/questions/49536887/c-vectors-of-values-returning-a-matrix", "title": "C++ vectors of values returning a matrix", "body": "<p>I have 4 integer variables - x,y,z,t which could get values from an interval of integer values [a,b] ) ( the interval is a,a+1,a+2,...,b ). </p>\n\n<p>I want to set a vector of distinct {x,y,z,t} values with the following rule: </p>\n\n<p>2 quartets (x and y) are not equal if there exists at least one quartet value for which : x.i != y.i (i is one of the {x,y,z,t} value positions).</p>\n\n<p>My current solution is extremely time consuming:</p>\n\n<pre><code>struct gim\n{\n    int xx;\n    int yy;\n    int zz;\n    int tt;\n}\nvector&lt;gim&gt; v;\nx=a;y=a;z=a;t=a;\nnr_quartet=0;\ngim g;\nwhile(x&lt;=b)\n{\n    while(y&lt;=b)\n    {\n        while(z&lt;=b)\n        {\n            while(t&lt;=b)\n            {\n                if(at least one of x,y,z,t is different)\n                {\n                    nr_quartet++;\n                    g.xx=x;\n                    g.yy=y;\n                    g.zz=z;\n                    g.tt=t;\n                    v.push_back(g);\n                    cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; \" \" &lt;&lt; z &lt;&lt; \" \" &lt;&lt; t &lt;&lt; \"\\n\";\n                }\n                t++;\n            }\n            z++;\n        }\n        y++;\n    }\n    x++;\n}\n</code></pre>\n"}, {"tags": ["c++", "function", "parameters", "arguments", "declaration"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1522246022, "post_id": 49536701, "comment_id": 86080063, "body": "An alternative would be to have a overload for <code>sum</code> with only 1 argument which returns <code>sum(42, b);</code>."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1522246060, "post_id": 49536701, "comment_id": 86080101, "body": "How do you expect to pass the value of <code>b</code>, without passing the value of <code>a</code> (while using the default value for it)?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1522246190, "post_id": 49536701, "comment_id": 86080204, "body": "That you got an error is a pretty solid hint that it can&#39;t be done. Use an overload."}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1522280273, "post_id": 49536701, "comment_id": 86099111, "body": "@AlgirdasPreid\u017eius one could imagine a language where <code>sum( , b)</code> is valid (and takes the default value for <code>a</code>. But that&#39;s not possible in C++ ..."}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1522246104, "creation_date": 1522246104, "answer_id": 49536776, "question_id": 49536701, "link": "https://stackoverflow.com/questions/49536701/where-can-i-put-the-default-value-for-parameters/49536776#49536776", "title": "Where can i put the default value for parameters?", "body": "<p>To supply a default argument for the first parameter you have at first to supply a default argument for the second parameter.</p>\n\n<p>For example</p>\n\n<pre><code>int sum ( int a, int b = 0 );\n\nint sum ( int a = 42, int b)\n{\n    int result = a + b ;\n    return ( result ) ;\n}\n</code></pre>\n\n<p>Or just</p>\n\n<pre><code>int sum ( int a = 42, int b = 0 )\n{\n    int result = a + b ;\n    return ( result ) ;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9560701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Abdelrahman Bahig", "link": "https://stackoverflow.com/users/9560701/abdelrahman-bahig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1522246107, "answer_count": 1, "score": 0, "last_activity_date": 1522250488, "creation_date": 1522245918, "last_edit_date": 1522250488, "question_id": 49536701, "link": "https://stackoverflow.com/questions/49536701/where-can-i-put-the-default-value-for-parameters", "closed_reason": "Duplicate", "title": "Where can i put the default value for parameters?", "body": "<p>When defining a function,can i specify a default value in the first parameter?     When i put the default value in the first parameter, I found Error. is there a  way to put the default value in the first parameter.  </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint sum ( int a =42, int b)\n{\n    int result a +b ;\n    return ( result ) ;\n}\nint main()\n{\n    int x = 25 ;\n    int y = 23 ;\n    int result = sum (x, y ) ;\n    cout &lt;&lt; result &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "shellexecute"], "comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1522245919, "post_id": 49536437, "comment_id": 86079983, "body": "Use <code>ExpandEnvironmentStrings ()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": false, "score": 0, "last_activity_date": 1522245421, "creation_date": 1522245421, "answer_id": 49536501, "question_id": 49536437, "link": "https://stackoverflow.com/questions/49536437/execute-an-external-exe-from-appdata/49536501#49536501", "title": "Execute an external exe from appdata", "body": "<p>You can use the Windows environment variable %APPDATA%, which resolves to \"C:\\Users\\UserName\\AppData\\Roaming\" on Windows 10.</p>\n\n<p>More info on Windows variables here : </p>\n\n<p><a href=\"https://www.microsoft.com/en-us/wdsi/help/folder-variables\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/wdsi/help/folder-variables</a></p>\n"}], "owner": {"reputation": 43, "user_id": 8463149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a6b4732db3c4e40cdf658d71c6f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Smith", "link": "https://stackoverflow.com/users/8463149/alex-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522250883, "creation_date": 1522245234, "last_edit_date": 1522245825, "question_id": 49536437, "link": "https://stackoverflow.com/questions/49536437/execute-an-external-exe-from-appdata", "title": "Execute an external exe from appdata", "body": "<p>How can I execute an EXE file in the appdata folder without knowing the username of the path c:\\users\\username  ?</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>#include &lt;stdio.h&gt; // C library to perform Input/Output operations \n#include &lt;tchar.h&gt;\n#include &lt;stddef.h&gt; // C Standard definitions \n#include &lt;iostream&gt; // Input/Output\n#include &lt;fstream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;windows.h&gt;\n\nint main()\n{\nShellExecute(NULL, \"Open\", \"C:\\\\Users\\\\%USERNAME%\\\\AppData\\\\Roaming\\\\Microsoft\\\\mcv.exe\", NULL, NULL, SW_HIDE);\n}\n</code></pre>\n"}, {"tags": ["c++", "loops"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1522245129, "post_id": 49536363, "comment_id": 86079318, "body": "You could try this and see for yourself no? Trying is the best way to learn"}, {"owner": {"reputation": 5508, "user_id": 498424, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ig1qY.jpg?s=128&g=1", "display_name": "Raxvan", "link": "https://stackoverflow.com/users/498424/raxvan"}, "edited": false, "score": 1, "creation_date": 1522245156, "post_id": 49536363, "comment_id": 86079339, "body": "if (condition) do {...} while(...) ?"}, {"owner": {"reputation": 2602, "user_id": 4341534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001c92ef74cb305ff8318eebeaa04ab3?s=128&d=identicon&r=PG&f=1", "display_name": "patatahooligan", "link": "https://stackoverflow.com/users/4341534/patatahooligan"}, "edited": false, "score": 3, "creation_date": 1522245288, "post_id": 49536363, "comment_id": 86079472, "body": "Each condition will evaluate to a <code>bool</code>, so if you&#39;re worried about a type mismatch there&#39;s none there. Just be sure to actually use the logic operators <code>||</code> and <code>&amp;&amp;</code> and not the bitwise ones <code>|</code> and <code>&amp;</code>."}, {"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 0, "creation_date": 1522245566, "post_id": 49536363, "comment_id": 86079716, "body": "Be warned, you have a <code>{</code> instead of a <code>}</code>."}, {"owner": {"reputation": 103, "user_id": 9424782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPiEn.jpg?s=128&g=1", "display_name": "mac_33", "link": "https://stackoverflow.com/users/9424782/mac-33"}, "edited": false, "score": 0, "creation_date": 1522248800, "post_id": 49536363, "comment_id": 86082371, "body": "Typo sorry, and the thing is I did try it, but even though I got no build errors my program goes off the rails and I wasn&#39;t sure if this was the weak point. Thanks though!"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 9424782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPiEn.jpg?s=128&g=1", "display_name": "mac_33", "link": "https://stackoverflow.com/users/9424782/mac-33"}, "edited": false, "score": 0, "creation_date": 1522248923, "post_id": 49536874, "comment_id": 86082463, "body": "I&#39;m afraid I don&#39;t know how to work with std and cin, but I do understand what you mean by pushing decisions to end of the code. Thanks!"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 0, "last_activity_date": 1522246347, "creation_date": 1522246347, "answer_id": 49536874, "question_id": 49536363, "link": "https://stackoverflow.com/questions/49536363/can-i-have-a-do-while-statement-in-c-that-checks-for-both-a-character-and-a-in/49536874#49536874", "title": "Can I have a do while statement in C++ that checks for both a character and a int value before looping?", "body": "<p>Just use regular unconditional loop and multiple exit conditions:</p>\n\n<pre><code>while( true ) {\n   char trans;\n   std::cin &gt;&gt; trans;\n   if( !std::cin or trans == 'e' ) \n       break;\n   calculation;\n   if( bal &gt; -0VR )\n       break;\n}\n</code></pre>\n\n<p>So first of all you would not do unnecessary calculations, but what is more important you would make your code more readable and easier to understand - you make loop exit decision where it should be instead of pushing it into the end. </p>\n"}], "owner": {"reputation": 103, "user_id": 9424782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPiEn.jpg?s=128&g=1", "display_name": "mac_33", "link": "https://stackoverflow.com/users/9424782/mac-33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "closed_date": 1522249803, "accepted_answer_id": 49536874, "answer_count": 1, "score": -7, "last_activity_date": 1522246347, "creation_date": 1522245003, "question_id": 49536363, "link": "https://stackoverflow.com/questions/49536363/can-i-have-a-do-while-statement-in-c-that-checks-for-both-a-character-and-a-in", "closed_reason": "Needs details or clarity", "title": "Can I have a do while statement in C++ that checks for both a character and a int value before looping?", "body": "<p>I very new at this and have an assignment in which I would like for a loop to exit if the user inputs(trans) 'e' but also end if a calculation balance(bal) is less than a constant I have set. Basically as my question states one is a character and the other an integer, will that work? I'm not trying to get people to do my homework for me, so I'm not posting all of my code or assignment, hope it makes sense.</p>\n\n<pre><code>This is the line of code I have\ndo { \nask user input(&amp;trans)\ne or calculation\n{\nwhile (trans != 'e'| bal &lt; -OVR);\n</code></pre>\n"}, {"tags": ["c++", "windows", "linker", "mingw", "mingw-w64"], "owner": {"reputation": 110, "user_id": 4471335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/986baa6b1f8f1f7445186d11fd8c1da6?s=128&d=identicon&r=PG", "display_name": "whobbes", "link": "https://stackoverflow.com/users/4471335/whobbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "closed_date": 1522348242, "answer_count": 0, "score": 1, "last_activity_date": 1522347693, "creation_date": 1522244630, "question_id": 49536214, "link": "https://stackoverflow.com/questions/49536214/mingw64-linker-error-when-trying-to-include-lhid", "closed_reason": "Duplicate", "title": "Mingw64 Linker error when trying to include -lhid", "body": "<p>I am upgrading from mingw32 to mingw64 and I have issues when linking my program. The linker option -lhid seems to not work as expected. I am using a VM with Win8 OS.</p>\n\n<p>Code Snippet:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;hidsdi.h&gt;\n\nint main(int argc, char * argv[])\n{\n  GUID guidHID;\n  HidD_GetHidGuid(&amp;guidHID);\n  return 0;\n}\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>C:\\Users\\[...]&gt;where g++\n\nC:\\mingw-w64-7.3.0\\i686-7.3.0-posix-dwarf-rt_v5-rev0\\mingw32\\bin\\g++.exe\n\nC:\\Users\\[...]&gt;g++ test.cc -lhid\nC:\\Users\\[...]\\AppData\\Local\\Temp\\ccax2hjg.o:test.cc:(.text+0x1d): undefined reference to `HidD_GetHidGuid(_GUID*)@4'\n\ncollect2.exe: error: ld returned 1 exit status\n\nC:\\Users\\[...]&gt;g++ test.cc\nC:\\Users\\[...]\\AppData\\Local\\Temp\\ccax2hjg.o:test.cc:(.text+0x1d): undefined reference to `HidD_GetHidGuid(_GUID*)@4'\n</code></pre>\n\n<p>This works fine if I use g++ in my old mingw32 install.\nA point to note is that if I omit -lhid for the old install the linker complains about the impl version of the said function. Console output for old mingw:</p>\n\n<pre><code>C:\\Users\\[...]\\Documents&gt;where g++\nC:\\MinGW\\bin\\g++.exe\n\nC:\\Users\\[...]\\Documents&gt;g++ test.cc\n\nC:\\Users\\[...]\\AppData\\Local\\Temp\\cc0HcYlz.o:test.cc:(.text+0x1d): undefined reference to `_imp__HidD_GetHidGuid@4'\ncollect2: ld returned 1 exit status\n\nC:\\Users\\[...]\\Documents&gt;g++ test.cc -lhid\n\nC:\\Users\\[...]\\Documents&gt;\n</code></pre>\n"}, {"tags": ["java", "c++", "openssl", "aes", "libcrypto"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 1, "creation_date": 1522248058, "post_id": 49536110, "comment_id": 86081755, "body": "1. Provide sample data: key, plaintext, cipher text, decrypted text. Simplified sample text instead of JCON would make things easier. 2. Do not use ECB mode in new work and update legacy work ASAP, it is not secure, see <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Electronic_Codebook_.28ECB.29\" rel=\"nofollow noreferrer\">ECB mode</a>, scroll down to the Penguin.  Instead use CBC mode with a random IV, just prefix the encrypted data with the IV for use in decryption, it does not need to be secret."}, {"owner": {"reputation": 8196, "user_id": 395851, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f7417d04460fbc27bc0ac99204cfce9c?s=128&d=identicon&r=PG", "display_name": "dbrank0", "link": "https://stackoverflow.com/users/395851/dbrank0"}, "edited": false, "score": 0, "creation_date": 1522248268, "post_id": 49536110, "comment_id": 86081932, "body": "Also this code is not C. Check your tags. It is also strange you actually do have initialization vector parameter but you do not use it. You are also using Key instead of key as your key."}, {"owner": {"reputation": 125, "user_id": 9342369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34649720aa1a0b0b88ecc0b676698a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Makwana", "link": "https://stackoverflow.com/users/9342369/harshil-makwana"}, "edited": false, "score": 0, "creation_date": 1522248647, "post_id": 49536110, "comment_id": 86082225, "body": "@brank0 Thanks, I updated my TAG and I mistakenly updated &quot;Key&quot; to &quot;key&quot;."}, {"owner": {"reputation": 125, "user_id": 9342369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34649720aa1a0b0b88ecc0b676698a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Makwana", "link": "https://stackoverflow.com/users/9342369/harshil-makwana"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1522248782, "post_id": 49536110, "comment_id": 86082358, "body": "@zaph, Right now, I can not provide you sample data. I will give you by tomorrow. Meanwhile  Can you give me any example, which encrypts plain text in JAVA and decrypts it into C++, using same library? Your help will be much appreciated."}, {"owner": {"reputation": 125, "user_id": 9342369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34649720aa1a0b0b88ecc0b676698a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Makwana", "link": "https://stackoverflow.com/users/9342369/harshil-makwana"}, "edited": false, "score": 0, "creation_date": 1522420023, "post_id": 49536110, "comment_id": 86159816, "body": "I fixed this problem by referring <a href=\"http://stackoverflow.com/questions/46835158/aes-256-cbc-in-java\">stackoverflow.com/questions/46835158/aes-256-cbc-in-java</a>"}], "owner": {"reputation": 125, "user_id": 9342369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34649720aa1a0b0b88ecc0b676698a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Makwana", "link": "https://stackoverflow.com/users/9342369/harshil-makwana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522249509, "creation_date": 1522244413, "last_edit_date": 1522249509, "question_id": 49536110, "link": "https://stackoverflow.com/questions/49536110/aes-encryption-in-java-and-decryption-in-c-using-openssl-causing-issue", "title": "AES encryption in JAVA and decryption in C using openSSL causing issue", "body": "<p>I am using below JAVA code to encrypt plain text, which will create cipher text, later decrypt this cipher text using Key ( which is generated via getSecretEncryptionKey().getEncoded() in JAVA File ) in C++ code.</p>\n\n<p>JAVA CODE:</p>\n\n<pre><code>    public byte[] encryptDecrypt(String jsonData, String publicKey) throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n        SecretKey secKey = getSecretEncryptionKey();\n\n        cipherText = encryptText(jsonData, secKey);\n        return cipherText;\n    }\n\n    public static SecretKey getSecretEncryptionKey() throws Exception\n    {\n        KeyGenerator generator = KeyGenerator.getInstance(\"AES\");\n        generator.init(256);\n        SecretKey secKey = generator.generateKey();\n        return secKey;\n    }\n    public static byte[] encryptText(String plainText, SecretKey secKey) throws Exception\n    {\n        // AES defaults to AES/ECB/PKCS5Padding in Java 7\n        SecretKeySpec skeySpec = new SecretKeySpec(secKey.getEncoded(), \"AES/ECB/PKCS7Padding\");\n\n        Cipher aesCipher = Cipher.getInstance(\"AES/ECB/PKCS7Padding\");\n        aesCipher.init(Cipher.ENCRYPT_MODE, skeySpec);\n        return  aesCipher.doFinal(plainText.getBytes());\n    }\n</code></pre>\n\n<p>C++ CODE:</p>\n\n<pre><code>INT32 Security::decrypt(UINT8 *ciphertext, INT32 ciphertext_len, UINT8 *key,\n                UINT8 *iv, UINT8 *plaintext)\n{\n  EVP_CIPHER_CTX *ctx;\n\n  INT32 len;\n\n  INT32 plaintext_len;\n\n  /* Create and initialise the context */\n  if(!(ctx = EVP_CIPHER_CTX_new())) handleErrors();\n\nif (!EVP_DecryptInit_ex(ctx, EVP_aes_256_ecb(), 0, key, NULL)) {\n        printf(\"\\n ERROR!! \\n\");\n                return -1;\n     }\n\n  /* Provide the message to be decrypted, and obtain the plaintext output.\n   * EVP_DecryptUpdate can be called multiple times if necessary\n   */\n  if(1 != EVP_DecryptUpdate(ctx, plaintext, &amp;len, ciphertext, ciphertext_len))\n    handleErrors();\n  plaintext_len = len;\n\n  /* Finalise the decryption. Further plaintext bytes may be written at\n   * this stage.\n   */\n  if(1 != EVP_DecryptFinal_ex(ctx, plaintext + len, &amp;len)) handleErrors();\n  plaintext_len += len;\n\n  /* Clean up */\n  EVP_CIPHER_CTX_free(ctx);\n\n  return plaintext_len;\n}\n</code></pre>\n\n<p>While decrypting CipherText using Key , C++ code is generating segmentation fault and giving below error:</p>\n\n<p><strong>140159077054088:error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt:evp_enc.c:596:\nAborted (core dumped)</strong></p>\n\n<p>I am new in this domain so please help me.</p>\n"}, {"tags": ["c++", "large-data"], "comments": [{"owner": {"reputation": 1101, "user_id": 7021836, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/299fc62810116e741333419b8e6cfd24?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Quilliam", "link": "https://stackoverflow.com/users/7021836/alex-quilliam"}, "edited": false, "score": 0, "creation_date": 1522243845, "post_id": 49535835, "comment_id": 86078279, "body": "Why do you need such large constant vectors?"}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 1101, "user_id": 7021836, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/299fc62810116e741333419b8e6cfd24?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Quilliam", "link": "https://stackoverflow.com/users/7021836/alex-quilliam"}, "edited": false, "score": 0, "creation_date": 1522244017, "post_id": 49535835, "comment_id": 86078404, "body": "These are the outputs of a very long computation, which need to be hardcoded into the code to avoid recomputation."}, {"owner": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522244034, "post_id": 49535835, "comment_id": 86078414, "body": "You can write the &#39;whole data&#39; in a separate assembly file, and link that file and c++ sources into single binary. This will be extremely fast compared to your case."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1522244039, "post_id": 49535835, "comment_id": 86078424, "body": "<code>sizeof(vector)</code> is basically <code>2 *sizeof(T*) + std::size_t</code> which should be superior than <code>10</code> with your compiler/architecture. so you should not lose space for Case1 (but should should keep track of inner &quot;array size&quot;)"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522244272, "post_id": 49535835, "comment_id": 86078595, "body": "<i>&quot;compiles fast&quot;</i> Is it really compile time comparison and not runtime timing (memory allocation overhead) ?"}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522244495, "post_id": 49535835, "comment_id": 86078767, "body": "@Jarod42: Yes, this is really the <b>compilation time</b>, and not the execution time of the compiled code."}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522244582, "post_id": 49535835, "comment_id": 86078827, "body": "@align: Do you mean writing the array content into an assembly file? How would this be different from Case 1?"}, {"owner": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522244798, "post_id": 49535835, "comment_id": 86079009, "body": "@user51957 It would be different because you need to compile assembly file for only one time."}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522244930, "post_id": 49535835, "comment_id": 86079130, "body": "@align: I can also put the const array in a single .cpp file and compile this one alone, right?"}, {"owner": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522245092, "post_id": 49535835, "comment_id": 86079289, "body": "@user51957 Yes, of course, but this way is still &#39;extremely&#39; fast, compared to cpp file. But it is not that important maybe."}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "edited": false, "score": 0, "creation_date": 1522245395, "post_id": 49535835, "comment_id": 86079578, "body": "@align: The order of magnitudes are way different. If assembly takes 1 sec to compile, the external cpp file could maybe take 2-3, while the vector case might be in the 1000s. I&#39;m willing to spend more than 2-3 in compilation time, but not to loose a huge factor in code size."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522246244, "post_id": 49535835, "comment_id": 86080246, "body": "Does <code>std::array&lt;std::array&lt;uint8_t, 10&gt;, 1000000&gt; array = {..};</code> also take time ? I suspect compiler has to check each <code>initializer_list</code> in class cases."}, {"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522246987, "post_id": 49535835, "comment_id": 86080877, "body": "@Jarod42: Thanks for the suggestion. It seems to me that <code>= {...}</code> does not work directly for an <code>std::array</code>. So I used <code>array{{...}}</code> for the initialization. Using that, the compilation is indeed fast.   Is there a way to help the compiler for each <code>initializer_list</code>, e.g., by providing the actual size of the small vectors?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522247250, "post_id": 49535835, "comment_id": 86081115, "body": "Maybe prepend <code>std::initializer_list&lt;std::uint8_t&gt;</code> before each internal initializer_list..."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "edited": false, "score": 0, "creation_date": 1522245003, "post_id": 49536234, "comment_id": 86079190, "body": "Assume for the sake of the example that every row of <code>A[][]</code> contains 1 element except one row that contains 10 elements. I would then cast your extern variable as <code>(uint8_t (*)[10])</code> and then there are a significant unused space in the assembly file, no?"}], "tags": [], "owner": {"reputation": 251, "user_id": 7183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ecbc2633b22739acfbad5b44251a3f?s=128&d=identicon&r=PG&f=1", "display_name": "align", "link": "https://stackoverflow.com/users/7183466/align"}, "is_accepted": false, "score": 3, "last_activity_date": 1522244684, "creation_date": 1522244684, "answer_id": 49536234, "question_id": 49535835, "link": "https://stackoverflow.com/questions/49535835/long-compilation-for-an-initialization-of-large-vector-of-vectors/49536234#49536234", "title": "Long compilation for an initialization of large vector of vectors", "body": "<p>You can write the 'whole data' in a separate assembly file, and link that file and c++ sources into single binary. This will be extremely fast compared to your case.</p>\n\n<p>Sample asembly file:</p>\n\n<pre><code> .globl large_data\n    .section .rodata\n    .p2align 5\n    .type large_data, \"object\"\n    .size large_data, &lt;insert_size_here&gt;\nlarge_data:\n\n    .byte 77,90,144,0,3,0,0,0,4,0,0,0,255,2..... and so on\n</code></pre>\n\n<p>Sample C++ code:</p>\n\n<pre><code>extern const uint8_t large_data [];\n</code></pre>\n\n<p>If you link these source together, you can directly access to data, for e.g:</p>\n\n<pre><code>uint8_t x = large_data[0];\n</code></pre>\n\n<p>In this way, you would need to compile assembly file only once.</p>\n"}], "owner": {"reputation": 21, "user_id": 9564154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce27c996d31d3574114c2c7ec806869?s=128&d=identicon&r=PG", "display_name": "user51957", "link": "https://stackoverflow.com/users/9564154/user51957"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522253045, "creation_date": 1522243525, "question_id": 49535835, "link": "https://stackoverflow.com/questions/49535835/long-compilation-for-an-initialization-of-large-vector-of-vectors", "title": "Long compilation for an initialization of large vector of vectors", "body": "<p>I have a very large constant 2-dimension array to store in a C++ file.\nDimensions are about 1,000,000 rows and 2 to 10 elements in each row, with <code>uint8_t</code> as elements.</p>\n\n<p>The number of elements in each row being variable, I wanted to use vectors for the rows, and possibly vector of vectors for the full array, so I tried 3 ways for the initialization </p>\n\n<pre><code>const uint8_t array[1000000][10] = {{...},...,{...}};              /* Case 1 */\nconst std::vector&lt;uint8_t&gt; array[1000000] = {{...},...,{...}};     /* Case 3 */\nconst std::vector&lt;std::vector&lt;uint8_t&gt;&gt; array = {{...},...,{...}}; /* Case 2 */\n</code></pre>\n\n<p>The compilation using g++ is very different between the three cases.</p>\n\n<p>Case 1 compiles fast, but I fear that some space is wasted to keep the alignment? Is this different for Cases 2 and 3?</p>\n\n<p>Case 2 and Case 3 take a very long time to compile. Adding <code>-ftime-report</code> shows that the g++ \"phase opt and generate\" step is taking a very long time.</p>\n\n<p>Any idea what to change in the code and/or to make the compilation faster?</p>\n"}, {"tags": ["c++", "class", "object-sharing"], "comments": [{"owner": {"reputation": 3760, "user_id": 6594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448660dad9fcb2bf8b5f7a3ab8813037?s=128&d=identicon&r=PG", "display_name": "Paul Floyd", "link": "https://stackoverflow.com/users/6594576/paul-floyd"}, "edited": false, "score": 2, "creation_date": 1522244557, "post_id": 49535767, "comment_id": 86078811, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27257703/duplicate-symbol-issue-with-c-headers\">Duplicate symbol issue with C headers</a>"}, {"owner": {"reputation": 2357, "user_id": 5954825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46e345831a9b1beeb8bfee5cbf70b6f?s=128&d=identicon&r=PG&f=1", "display_name": "mfnx", "link": "https://stackoverflow.com/users/5954825/mfnx"}, "edited": false, "score": 2, "creation_date": 1522245264, "post_id": 49535767, "comment_id": 86079443, "body": "If you illustrate a minimal example, there are more chances people answer you faster. Quite some time is needed to digest this code."}], "answers": [{"tags": [], "owner": {"reputation": 2357, "user_id": 5954825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46e345831a9b1beeb8bfee5cbf70b6f?s=128&d=identicon&r=PG&f=1", "display_name": "mfnx", "link": "https://stackoverflow.com/users/5954825/mfnx"}, "is_accepted": true, "score": 1, "last_activity_date": 1522252052, "last_edit_date": 1522252052, "creation_date": 1522250194, "answer_id": 49538259, "question_id": 49535767, "link": "https://stackoverflow.com/questions/49535767/c-object-sharing-errors-lnk2005-and-lnk-1169/49538259#49538259", "title": "C++ Object-sharing Errors LNK2005 and LNK 1169", "body": "<p>The error says you have multiple symbols defined. Most probably, you included the Player.cpp file (instead of Player.h) multiple times (directly or indirectly) in some other files (you did not share the Connect_Four_Game files).</p>\n\n<p>I recommend you do some research: what happens if you include .cpp files? Read about declarations, definitions, multiple inclusions, ... . This could be useful as well:\n<a href=\"https://stackoverflow.com/questions/15421254/already-defined-in-obj-no-double-inclusions\">Already defined in .obj - no double inclusions</a></p>\n\n<p>I started just like you, asking bad questions (I guess everybody did). Next time, you should try to detect where the linker error occurs, and know what a linker error is. </p>\n\n<p>I remember very well my starting days of C++. As you have obviously put effort in this code, allow me to give you some advice related to your posted code.</p>\n\n<p><strong>Design</strong></p>\n\n<p>Before coding, do the design properly. It's ok to have a shared board between players. You also could have a board to which the players subscribe. Either way:</p>\n\n<p><em>Board</em> should know everything about itself. That is: a player should not access the attribute \"holder\" of the board to see if a square is being occupied or not. A player should just ask to the board: is that square free?</p>\n\n<p>In the same way, columnFull should not be a method of <em>Player</em>.</p>\n\n<p><strong>Code</strong></p>\n\n<p>You should try to use modern C++. I rewrote some of your code.</p>\n\n<p>Player constructor: use smart pointers</p>\n\n<pre><code>Player(const std::shared_ptr&lt;Board&gt;&amp; board, std::string&amp;&amp; name) : \n    m_name(std::move(name)), m_board(board)\n{}\n</code></pre>\n\n<p>You main file will now look like this:</p>\n\n<pre><code>std::shared_ptr&lt;Board&gt; myBoard = std::make_shared&lt;Board&gt;();\nPlayer me(myBoard,\"Me\");\nPlayer you(myBoard,\"You\");\n</code></pre>\n\n<p>Reference built-in types:</p>\n\n<pre><code>bool play(const int choice) // no reference to built-in types unless needed\n</code></pre>\n\n<p>Use const wherever you can:</p>\n\n<pre><code>bool wins() const // should be const, you don't want to modify \"this\"\n</code></pre>\n\n<p>Use private members, string instead of char and smart pointers</p>\n\n<pre><code>private:\n    std::shared_ptr&lt;Board&gt; m_board; // use smart pointers\n    std::string m_name; // not playerChar -&gt; it's obvious its about the player\n</code></pre>\n\n<p>Look how nice modern C++ is:</p>\n\n<pre><code>void display() const // use const if you don't modify this\n{\n    // you had hardcoded numbers here (7)... try to avoid that, keep the code generic\n    for (const auto&amp; v : m_holder) // you do have access to C++11 I hope?\n    {\n        for (const auto&amp; h : v)\n            std::cout &lt;&lt; h &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Use the standard library:</p>\n\n<pre><code>bool isFull() const // try to use the wonderful standard library, your code will be much more readable\n{\n    for (const auto&amp; v : m_holder)\n    {\n        auto it = std::find_if(v.begin(),v.end(),[](const std::string&amp; h){ return h.empty(); });\n        if (it==v.end())\n            return false;\n    }\n    return true;\n    // cout &lt;&lt; endl shouldn't be in this function which checks if the board is full...\n}\n</code></pre>\n\n<p>Maybe some typedef to keep code clean? Also, use _ or m_ for attributes. Try to keep the attributes private when possible.</p>\n\n<pre><code>private: // try to keep members in private so you control who changes them\n    // maybe use typedef? you use that type multiple times\n    typedef std::vector&lt;std::vector&lt;std::string&gt;&gt; HolderType;\n    HolderType m_holder; // for members, use _ or m_\n</code></pre>\n\n<p><strong>Overall</strong></p>\n\n<ol>\n<li>Concentrate on the design before coding.</li>\n<li>Use modern C++, standard library, ...</li>\n<li>Use smart pointers.</li>\n<li>Learn when to use const, references, ...</li>\n<li>Keep your code clean.</li>\n</ol>\n\n<p>This is of course a very incomplete list of advice. But these were the main flaws of your code.</p>\n\n<p>I hope this was helpful.</p>\n"}], "owner": {"reputation": 13, "user_id": 9564216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79e40bed1783a8fabc760446b8f8403?s=128&d=identicon&r=PG&f=1", "display_name": "johannesburgerler", "link": "https://stackoverflow.com/users/9564216/johannesburgerler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 49538259, "answer_count": 1, "score": 0, "last_activity_date": 1522252052, "creation_date": 1522243372, "question_id": 49535767, "link": "https://stackoverflow.com/questions/49535767/c-object-sharing-errors-lnk2005-and-lnk-1169", "title": "C++ Object-sharing Errors LNK2005 and LNK 1169", "body": "<p>I am currently trying to create a game of tic-tac-toe played alternatively by two player objects created from player class on a board object that is shared by the players. As far as I know I have completed the program, yet when I try to build I get these errors and couldnt seem to find why. I am relatively new to object-oriented programming. Here are the errors I get:</p>\n\n<pre><code> 1&gt;Player.obj : error LNK2005: \"public: __thiscall Player::Player(class Board *,char)\" (??0Player@@QAE@PAVBoard@@D@Z) already defined in Connect_Four_Game.obj\n 1&gt;fatal error LNK1169: one or more multiply defined symbols found\n</code></pre>\n\n<p>Here are the codes:</p>\n\n<pre><code>#ifndef ___PLAYER_H___\n#define ___PLAYER_H___\n\n\n#include &lt;iostream&gt;\n#include \"Board.h\"\nusing namespace std;\nclass Player {\nprivate:\n    Board * sharedboard;\n    char player_char;\npublic:\n\n    Player(Board *shared_board, const char player_char);\n\n    bool play(int &amp;choice);\n    bool wins();\n    bool columnFull(int&amp;choice);\n\n};\nPlayer:: Player(Board *shared_board,const char player_char)\n    : player_char(player_char), sharedboard(shared_board)\n{}\n\n#endif\n</code></pre>\n\n<p>Board header file:</p>\n\n<pre><code>#ifndef ___BOARD_H___\n#define ___BOARD_H___\n\n\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass Board {\n\npublic:\n    vector&lt;vector&lt;char&gt;&gt; holder;\n    void displayBoard();\n    bool isBoardFull();\n    Board()\n    {\n        vector&lt;vector&lt;char&gt;&gt;holder(7, vector&lt;char&gt;(7, 'A'));\n    }\n};\n\n\n#endif\n</code></pre>\n\n<p>Player cpp file:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Player.h\"\n\nusing namespace std;\n\n\nbool Player::columnFull(int &amp;choice)//DONE\n{\n    for (int i = 6; i &gt;= 0; i--)\n    {\n        if(sharedboard-&gt;holder[i][choice]=='A')//if the choice is not full\n        {\n            sharedboard-&gt;holder[i][choice] = player_char;//put the players character(X or O here)\n            return false;\n        }\n        else//if the choive is full\n        {\n\n            return true;\n        }\n    }\n}\n\nbool Player::play(int &amp;choice)//DONE\n{ \n    if(choice &lt; 0 )\n    {\n        cout &lt;&lt; \"Choice is not valid.\" &lt;&lt; endl;\n        return false;\n    }\n    else if(choice &gt; 6)\n    {\n        cout &lt;&lt; \"Choice is not valid.\" &lt;&lt; endl;\n        return false;\n    }\n    else if(columnFull( choice))//if its true then its full\n    {\n        cout &lt;&lt; \"Choice is not valid.\" &lt;&lt; endl;\n        return false;\n    }\n    else\n    {\n        sharedboard-&gt;displayBoard();//if previous ones were false, then the place was empty, and filled, therefore the board will be displayed\n    }\n}\n\nbool Player::wins()//if the player wins\n{\n\n        int o = 0;\n        int x = 0;\n\n        for (int i = 0; i &lt; 7; i++)//HORIZONTAL\n        {\n            for (int j = 0; j &lt; 7; j++)\n            {\n                if (sharedboard-&gt;holder[i][j] == 'O')\n                {\n                    o++;\n                }\n                else if (sharedboard-&gt;holder[i][j] == 'X')\n                {\n                    x++;\n                }\n                if (o == 4)//if O is four horizantily\n                {\n                    cout &lt;&lt; \"Player2 wins!\" &lt;&lt; endl;\n                    sharedboard-&gt;displayBoard();\n                    return true;\n                }\n                else if (x == 4)//if X is four horizantily\n                {\n                    cout &lt;&lt; \"Player1 wins!\" &lt;&lt; endl;\n                    sharedboard-&gt;displayBoard();\n                    return true;\n                }\n            }\n        }//HORIZONTAL\n        o = 0;\n        x = 0;\n        for (int i = 0; i &lt; 7; i++)//VERTICALLY\n        {\n            for (int j = 0; j &lt; 7; j++)\n            {\n                if (sharedboard-&gt;holder[j][i] == 'O')\n                {\n                    o++;\n                }\n                else if (sharedboard-&gt;holder[j][i] == 'X')\n                {\n                    x++;\n                }\n                if (o == 4)//if O is four vertically\n                {\n                    cout &lt;&lt; \"Player2 wins!\" &lt;&lt; endl;\n                    sharedboard-&gt;displayBoard();\n                    return true;\n                }\n                else if (x == 4)//if X is four vertically\n                {\n                    cout &lt;&lt; \"Player1 wins!\" &lt;&lt; endl;\n                    sharedboard-&gt;displayBoard();\n                    return true;\n                }\n            }\n        }//VERTICALLY\n}\n</code></pre>\n\n<p>Board cpp file:</p>\n\n<pre><code>#include \"Board.h\"\n#include&lt;iostream&gt;\n\nusing namespace std;\n\nvoid Board::displayBoard()//DONE\n{\n    for (int i = 0; i &lt; 7; i++)\n    {\n        for (int j = 0; j &lt; 7; j++)\n        {\n            cout &lt;&lt; holder[i][j] &lt;&lt; \" \";\n        }\n        cout &lt;&lt; endl;\n    }\n}\nbool Board::isBoardFull()//DONE-CORRECTED\n{\n    for (int i = 0; i &lt; 7; i++)\n    {\n        for (int j = 0; j &lt; 7; j++)\n        {\n            if (holder[i][j] == 'A')\n            {\n                return false;//game continues\n            }\n            else if(((i==6)&amp;&amp;(j==6)))\n            {\n                return true;//ends in tie\n            }\n        }\n        cout &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>main source file:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\n#include \"Board.h\"\n#include \"Player.h\"\n\nusing namespace std;\n\nint main()\n{\n    Board myBoard = Board();\n\n\n    /* \n       //Create your player objects based on your choice of approach to share an object.\n       //The parameters \"...\" are left for you to set.\n       Player player1 = Player(...); \n       Player player2 = Player(...);\n    */\n    Player player1(&amp;myBoard, 'X');\n    Player player2(&amp;myBoard, 'O');\n\n\n    int col, turn = 0;\n    bool continueGame = true;\n    bool validMove = false;\n\n    while(continueGame)\n    {\n        myBoard.displayBoard();\n        if(turn == 0)\n        {\n            cout &lt;&lt; \"Player 1 turn: \" &lt;&lt; endl;\n            cin &gt;&gt; col;\n            validMove = player1.play(col);\n\n            if(player1.wins())\n            {\n                continueGame = false;\n                cout &lt;&lt; \"Player1 won the game!\" &lt;&lt; endl;\n            }\n        }\n        else if(turn == 1)\n        {\n            cout &lt;&lt; \"Player 2 turn: \" &lt;&lt; endl;\n            cin &gt;&gt; col;\n            validMove = player2.play(col);\n\n            if(player2.wins())\n            {\n                continueGame = false;\n                cout &lt;&lt; \"Player2 won the game!\" &lt;&lt; endl;\n            }\n        }\n\n        if(continueGame) {\n            //If a valid move has been done, change the turn\n            if(validMove) {\n                turn = (turn + 1) % 2;      \n            }\n\n            if(myBoard.isBoardFull())\n            {\n                continueGame = false;\n                cout &lt;&lt; \"Noone won the game!\" &lt;&lt; endl;\n            }\n        }\n    }   \n\n    cout &lt;&lt; \"Game is over!\" &lt;&lt; endl;\n    cout &lt;&lt; \"Final state of the board: \" &lt;&lt; endl;\n    myBoard.displayBoard();\n\n    return 0;\n}\n</code></pre>\n\n<p>I did not post whole player cpp file as it is around 600 lines and has only repetition for diagonal search and nothing else. Thank you by now.</p>\n"}, {"tags": ["c++", "casting", "macros", "box2d"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 5, "creation_date": 1522243527, "post_id": 49535764, "comment_id": 86078040, "body": "<code>reinterpret_cast</code> instead of macro, but strict aliasing rule is broken anyway."}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 3, "creation_date": 1522243584, "post_id": 49535764, "comment_id": 86078103, "body": "First off, don\u2019t use a macro when you could use a function instead. Second, what Jarod said. And third, don\u2019t do this. Copy instead. It\u2019s probably as efficient anyway."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1522245593, "post_id": 49535764, "comment_id": 86079736, "body": "@KonradRudolph the funny thing is that OP is still copying! :D"}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "edited": false, "score": 0, "creation_date": 1522245941, "post_id": 49535764, "comment_id": 86080001, "body": "In addition to the problems pointed out by Jarod42, casting objects is also quite dangerous with virtual functions or multiple inheritance. Since you copy anyway (when you assign), just write a function that constructs a new b2Vec2 from a Vec3."}, {"owner": {"reputation": 1, "user_id": 6209281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21e90dbc18499f8b05090d61ca1dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Luckey", "link": "https://stackoverflow.com/users/6209281/tobias-luckey"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522246037, "post_id": 49535764, "comment_id": 86080079, "body": "I could make the macro into <code>#define danger_cast(type_to_cast_to, what_to_cast) *reinterpret_cast&lt;type_to_cast_to*&gt;(&amp;(what_to_cast))</code>. The macro is both about readability, searchability and laziness. Do you mean that it would be better to explicitly write that cast whenever using it, @Jarod42? What function would you suggest to do this cast, @KonradRudolph? Template or just one for each type conversion required?"}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "edited": false, "score": 0, "creation_date": 1522246048, "post_id": 49535764, "comment_id": 86080089, "body": "Why do need to convert between the two? Do you want to write functions that work with both types? Can you modify the vector types?"}, {"owner": {"reputation": 1, "user_id": 6209281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21e90dbc18499f8b05090d61ca1dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Luckey", "link": "https://stackoverflow.com/users/6209281/tobias-luckey"}, "edited": false, "score": 0, "creation_date": 1522246341, "post_id": 49535764, "comment_id": 86080322, "body": "Its a matter of being stuck with having a closed source game engine, without a physics engine, using its own vector types and our need to interface with box2d for physics. So the game engine already has a bunch of features built on its own vector type, such as models, cameras and animations."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1522246744, "post_id": 49535764, "comment_id": 86080658, "body": "If you have access to <code>b2Vec2</code>, create a constructor which takes <code>Vec3</code>, else if you have access to <code>Vec3</code> create <code>operator b2Vec2() const</code> else create regular function <code>b2Vec2 Makeb2Vec2FromVec3(constVec3&amp;)</code>."}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "edited": false, "score": 0, "creation_date": 1522247018, "post_id": 49535764, "comment_id": 86080908, "body": "I would also think about creating a wrapper around the closed source engine that translates from your vector type to their type to keep the other code clean and not have conversions all over your code. And do not use macros. There is not much need for them in C++ anymore in normal code."}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "edited": false, "score": 0, "creation_date": 1522247430, "post_id": 49535764, "comment_id": 86081276, "body": "I am not sure if that is a good idea, but lets assume that <code>Vec3</code> is your code and b2Vec2 is the foreign code. You could define your class similar to <code>struct Vec3 {b2Vec2 xy; float z;}</code>, and then add a conversion operator <code>operator b2Vec2 const&amp;() const {return xy;}</code> to save some copying. This would allow to cast a <code>Vec*</code> to a <code>b2Vec*</code> if it is a standard layout type, which may be usefull to interface with the foreign code."}, {"owner": {"reputation": 1, "user_id": 6209281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21e90dbc18499f8b05090d61ca1dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Luckey", "link": "https://stackoverflow.com/users/6209281/tobias-luckey"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1522247722, "post_id": 49535764, "comment_id": 86081501, "body": "Good suggestion, @Jarod42. We can probably access box2d stuff on our server to add some functionality. I&#39;ll also look into making a wrapper around it @Jens!"}, {"owner": {"reputation": 1, "user_id": 6209281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21e90dbc18499f8b05090d61ca1dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Luckey", "link": "https://stackoverflow.com/users/6209281/tobias-luckey"}, "edited": false, "score": 0, "creation_date": 1522248151, "post_id": 49535764, "comment_id": 86081845, "body": "Both classes are foreign code in that sense. We can&#39;t alter the Vec3, since it&#39;s closed source, but could potentially tweak the header of b2Vec2. Would I have to recompile box2d if I added a constructor taking a Vec3 in the header?"}], "owner": {"reputation": 1, "user_id": 6209281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a21e90dbc18499f8b05090d61ca1dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Luckey", "link": "https://stackoverflow.com/users/6209281/tobias-luckey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522245892, "creation_date": 1522243371, "last_edit_date": 1522245892, "question_id": 49535764, "link": "https://stackoverflow.com/questions/49535764/pointer-magic-to-cast-a-vector3-to-a-vector2-c", "title": "Pointer magic to cast a vector3 to a vector2 c++", "body": "<p>I have two types of vector representations and I'm battling how I should convert between the two. My solution is to use this macro:</p>\n\n<pre><code>#define danger_cast(type_to_cast_to, what_to_cast) *(type_to_cast_to*)&amp;(what_to_cast)\n</code></pre>\n\n<p>Which is used like so:</p>\n\n<pre><code>Vec3 old_vector(3.0f, 1.0f, 0.0f);\nb2Vec2 vector = danger_cast(b2Vec2, old_vector);\n</code></pre>\n\n<p>This works since both vector types have their member variables in the same order. That is: </p>\n\n<pre><code>float x,y,z;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>float x,y;\n</code></pre>\n\n<p>respectively.</p>\n\n<p>Would you consider doing this? Would it be more proper to make some sort of utility functions that would convert between the two types, can you come up with another more proper solution to this problem?</p>\n"}]