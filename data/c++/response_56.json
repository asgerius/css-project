[{"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 233, "user_id": 554305, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/59bdf201d7829bb93cab0f6470948da8?s=128&d=identicon&r=PG", "display_name": "BeschBesch", "link": "https://stackoverflow.com/users/554305/beschbesch"}, "edited": false, "score": 3, "creation_date": 1454543117, "post_id": 35189896, "comment_id": 58097014, "body": "remove <code>data::</code> from your member function <code>get_data</code>."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1454543210, "post_id": 35189896, "comment_id": 58097064, "body": "That&#39;s a linker error, and you must have got a compilation error before that since you can&#39;t assign most of those members to a <code>std::vector&lt;int&gt;</code>."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1454543406, "post_id": 35189896, "comment_id": 58097134, "body": "That is, the template has been instantiated as a member function <code>void data::get_data(std::vector&lt;int&gt;&amp; outdata) const</code>, and that function doesn&#39;t pass the type checking."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1454543686, "post_id": 35189896, "comment_id": 58097229, "body": "It isn&#39;t clear how you arrived at a linker error. Your code cannot possibly compile. See a suitably simplified example <a href=\"http://ideone.com/sOsTvz\" rel=\"nofollow noreferrer\">here</a>. Note the error <code>error: no match for &#39;operator=&#39; (operand types are &#39;std::vector&lt;double&gt;&#39; and &#39;const std::vector&lt;char&gt;&#39;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5880507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4aaf23967b578c7baa7d87c25359ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ming", "link": "https://stackoverflow.com/users/5880507/ming"}, "edited": false, "score": 0, "creation_date": 1454546145, "post_id": 35190011, "comment_id": 58098072, "body": "I attached the main function code which called get_data(). The error is the same."}, {"owner": {"reputation": 1781, "user_id": 4515566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOOZ7.jpg?s=128&g=1", "display_name": "arainone", "link": "https://stackoverflow.com/users/4515566/arainone"}, "reply_to_user": {"reputation": 1, "user_id": 5880507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4aaf23967b578c7baa7d87c25359ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ming", "link": "https://stackoverflow.com/users/5880507/ming"}, "edited": false, "score": 0, "creation_date": 1454569449, "post_id": 35190011, "comment_id": 58105704, "body": "Of course. My point was not that declaring <code>main</code> will make it work, but make you understand why this template method can&#39;t compile. What is it that is not clear in my answer, I can reformulate if needed"}], "tags": [], "owner": {"reputation": 1781, "user_id": 4515566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOOZ7.jpg?s=128&g=1", "display_name": "arainone", "link": "https://stackoverflow.com/users/4515566/arainone"}, "is_accepted": false, "score": 0, "last_activity_date": 1454569862, "last_edit_date": 1454569862, "creation_date": 1454543321, "answer_id": 35190011, "question_id": 35189896, "link": "https://stackoverflow.com/questions/35189896/c-template-member-function-error/35190011#35190011", "title": "c++ template member function error", "body": "<p>You're trying to use a <strong>compile-time</strong> construct at <strong>run-time</strong>. That isn't possible.<br>\nLook at the declaration:</p>\n\n<pre><code>void data::get_data(std::vector&lt;T&gt;&amp; outdata) const\n</code></pre>\n\n<p>To be compiled and included in your program, the compiler would need to know <strong>at compile time</strong> the type of <code>T</code>.</p>\n\n<p>But the type of <code>T</code> will be only known at <strong>run-time</strong>, because it is the value of the variable <code>dtype</code> that determines it inside the function, so at <strong>run-time</strong>. </p>\n\n<p>What you really want is either a polymorphic class or a simple function.</p>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 5876765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71e0d35afc2f50538656b84c88627ca?s=128&d=identicon&r=PG&f=1", "display_name": "Getname", "link": "https://stackoverflow.com/users/5876765/getname"}, "is_accepted": false, "score": 1, "last_activity_date": 1454572611, "creation_date": 1454572611, "answer_id": 35195442, "question_id": 35189896, "link": "https://stackoverflow.com/questions/35189896/c-template-member-function-error/35195442#35195442", "title": "c++ template member function error", "body": "<p>there need not template,you can this</p>\n\n<pre><code>class data {\nprivate:\n    std::vector&lt;int16_t&gt; sdata;     // container for 16-bit fixedpoint                   \n    std::vector&lt;int32_t&gt; ldata;     // container for 32-bit fixed point  \n    std::vector&lt;char&gt; cdata;        //   \n    std::vector&lt;float&gt; fdata;       // container for 32-bit floating point                \n    std::vector&lt;double&gt; ddata;      // container for 64-bit floating point\n    int16_t dtype;\npublic:\n    data(int16_t type) :sdata(10, 0), ldata(10, 1), cdata(10, 'c'), fdata(10, 2.0), ddata(10, 3.00),dtype(type)\n    {\n\n    }\n    void get_data(std::vector&lt;int16_t&gt;&amp; outdata)\n    {   outdata = sdata;    }\n    void get_data(std::vector&lt;int32_t&gt;&amp; outdata)\n    {   outdata = ldata;    }\n    void get_data(std::vector&lt;char&gt;&amp; outdata)\n    {   outdata = cdata;    }\n    void get_data(std::vector&lt;float&gt;&amp; outdata)\n    {   outdata = fdata;    }\n    void get_data(std::vector&lt;double&gt;&amp; outdata)\n    {   outdata = ddata;    }\n};\n\n\nint main(int argc, char* argv[])\n{\n    data d1(2);\n    std::vector&lt;int32_t&gt; ld;\n    d1.get_data(ld);\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5880507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4aaf23967b578c7baa7d87c25359ce?s=128&d=identicon&r=PG&f=1", "display_name": "Ming", "link": "https://stackoverflow.com/users/5880507/ming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454572611, "creation_date": 1454542808, "last_edit_date": 1454545747, "question_id": 35189896, "link": "https://stackoverflow.com/questions/35189896/c-template-member-function-error", "title": "c++ template member function error", "body": "<p>I'm new to C++ template. The following code is trying to get data vector of different type when different input type is given.</p>\n\n<p>MS2013 gives some bizarre error: </p>\n\n<pre><code>error LNK2019: unresolved external symbol \"public: void __thiscall data::get_data&lt;int&gt;(class std::vector&lt;int,class std::allocator&lt;int&gt; &gt; &amp;)const \" (??$get_data@H@data@@QBEXAAV?$vector@HV?$allocator@H@std@@@std@@@Z) referenced in function _main\n</code></pre>\n\n<p>What's the problem? Is it incorrect to use the argument std::vector&amp; to specify the template function?</p>\n\n<p>New update:\nI moved the member function definition out.\nThe function call in main function is also attached. The error is the same.</p>\n\n<pre><code>#include \"data.h\"\n\nint main(int argc, char* argv[])\n{\n    data d1(2);\n    std::vector&lt;int32_t&gt; ld;\n    d1.get_data(ld);\n    return 0;\n}\n\nclass data {\nprivate:\n    std::vector&lt;int16_t&gt; sdata;     // container for 16-bit fixed point                   \n    std::vector&lt;int32_t&gt; ldata;     // container for 32-bit fixed point  \n    std::vector&lt;char&gt; cdata;        //   \n    std::vector&lt;float&gt; fdata;       // container for 32-bit floating point                \n    std::vector&lt;double&gt; ddata;      // container for 64-bit floating point\n    int16_t dtype;\npublic:\n    data(int16_t type) :sdata(10, 0), ldata(10, 1), cdata(10, 'c'), \n                        fdata(10, 2.0), ddata(10, 3.00),dtype(type){}\n    template &lt;typename T&gt;\n    void get_data(std::vector&lt;T&gt;&amp; outdata) const;\n};\n\ntemplate &lt;typename T&gt;\nvoid data::get_data(std::vector&lt;T&gt;&amp; outdata) const {\n    switch (dtype) {\n    case 1:\n        outdata = sdata;\n        break;\n    case 2:\n        outdata = ldata;\n        break;\n    case 3:\n        outdata = cdata;\n        break;\n    case 4:\n        outdata = fdata;\n        break;\n    case 5:\n        outdata = ddata;\n        break;\n    default:\n        std::cerr &lt;&lt; \"Unknown data format\" &lt;&lt; std::endl;\n        break;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "opencv", "highgui"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1454568922, "post_id": 35189841, "comment_id": 58105457, "body": "try to create the windows un the main thread with cv::namedWindow"}, {"owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1454575200, "post_id": 35189841, "comment_id": 58108689, "body": "the window is created in the main thread: Capture&#39;s constructor is called in my main (this is where the window is being created), then, Capture::run spawns a new thread."}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1454575537, "post_id": 35189841, "comment_id": 58108863, "body": "what&#39;s the difference between CAPTURE_WINDOW_NAME and &quot;sth&quot;?"}, {"owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1454582982, "post_id": 35189841, "comment_id": 58114089, "body": "none, sorry I&#39;ve edited the original"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1454583100, "post_id": 35189841, "comment_id": 58114172, "body": "can you adf a cout before imshow, one after imshow and one cout after waitKey to check whether it is frozen there or whether it&#39;s just not displaying?"}], "answers": [{"comments": [{"owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "edited": false, "score": 0, "creation_date": 1454576066, "post_id": 35190384, "comment_id": 58109154, "body": "any particular reason why cv::namedWindow has disappeared from the Ctor? I reckon it&#39;s just a typo right?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "edited": false, "score": 0, "creation_date": 1454576734, "post_id": 35190384, "comment_id": 58109554, "body": "No, it&#39;s not a typo. It doesn&#39;t work if you use a window created in a different thread."}, {"owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "edited": false, "score": 0, "creation_date": 1454583558, "post_id": 35190384, "comment_id": 58114501, "body": "so where should I put it? within loop()? btw, the code in my next answer (where cv::nameWindow is in the Ctor) does work:"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "edited": false, "score": 1, "creation_date": 1454584262, "post_id": 35190384, "comment_id": 58114998, "body": "My code is not carved in stone, you can change it as you need. It solves the original problem of not showing the purple window. That&#39;s it."}, {"owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "edited": false, "score": 0, "creation_date": 1454586665, "post_id": 35190384, "comment_id": 58116441, "body": "just to report that when cv::namedWindow is added on the loop, it does work. I&#39;ll add this to your code, so that it compiles."}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 2, "last_activity_date": 1454545560, "creation_date": 1454545560, "answer_id": 35190384, "question_id": 35189841, "link": "https://stackoverflow.com/questions/35189841/cvimshow-does-not-display-cvmat-color-when-on-different-thread/35190384#35190384", "title": "cv::imshow does not display cv::mat color when on different thread", "body": "<p>It seems that you cannot create a window in another thread. Also, the way you're calling the member function on the other thread seems wrong.</p>\n\n<p>Have a look at this code. It displays an image that change every second in a different thread, and returns after 5 seconds.</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\n#include &lt;thread&gt;\n\nusing namespace std;\nusing namespace cv;\n\nclass Capture {\nprivate:\n    bool running;\n    std::thread thread;\n    cv::Mat background;\n    void loop() {\n\n        while (running) {\n            cv::imshow(\"sth\", background);\n            cv::waitKey(1000);\n\n            Scalar color(rand()&amp;255, rand()&amp;255, rand()&amp;255);\n            background.setTo(color);\n        }\n    }\npublic:\n    Capture() :\n        running{ false },\n        thread{},\n        background{ 800, 800, CV_8UC3, cv::Scalar{ 255, 0, 255 } } {\n    }\n    inline ~Capture() {\n        if (running) stop(); // stop and join the thread\n    }\n    void run() {\n        if (!running) {\n            running = true;\n            thread = std::thread{ &amp;Capture::loop, this };\n        }\n    }\n    inline void join() { if (thread.joinable()) thread.join(); };\n    inline void stop() {\n        running = false;\n        if (thread.joinable()) {\n            thread.join();\n        }\n    }\n};\n\nint main()\n{\n    Capture cap;\n    cap.run();\n\n    std::this_thread::sleep_for(std::chrono::milliseconds(5000));\n\n    cap.stop();\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1575, "user_id": 5082337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/602d82f37f432daa9a2e1907a3f02b83?s=128&d=identicon&r=PG", "display_name": "Marinos K", "link": "https://stackoverflow.com/users/5082337/marinos-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 35190384, "answer_count": 1, "score": 2, "last_activity_date": 1454583846, "creation_date": 1454542494, "last_edit_date": 1454582964, "question_id": 35189841, "link": "https://stackoverflow.com/questions/35189841/cvimshow-does-not-display-cvmat-color-when-on-different-thread", "title": "cv::imshow does not display cv::mat color when on different thread", "body": "<p>This is a class I use to spawn a HighGui window with some content on different thread. </p>\n\n<pre><code>class Capture {\nprivate:\n  bool running;\n  std::thread thread;\n  cv::Mat background;\n  void loop() {\n    while (running) {\n      cv::imshow(\"sth\",background);\n      cv::waitKey(settings::capture_wait_time);\n    }\n  }\n  public:\n   Capture()  :\n     running {false},\n     thread {},\n     background { 800, 800,  CV_8UC3, cv::Scalar{255,0,255}} {\n       cv::namedWindow(\"sth\");  \n   }\n   inline ~Capture() {\n     if (running) stop(); // stop and join the thread\n     cv::destroyWindow(\"sth\");\n   }\n   void run() {\n     if (!running) {\n       running = true;\n       thread = std::thread{[this]{loop();}};\n     }\n   }\n   inline void join() { if (thread.joinable()) thread.join(); };\n   inline void stop() {\n     running = false;\n     if (thread.joinable()) thread.join();\n   }\n};\n\n// main\nCapture cap;\ncap.run();\n// ... \n</code></pre>\n\n<p>The problem is that the window will always end up being black (in this case it should be purple). I am obviously missing something here.... </p>\n"}, {"tags": ["c++", "cmake", "cgal"], "comments": [{"owner": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454572432, "post_id": 35189752, "comment_id": 58107224, "body": "Parallel version will be added in CGAL-4.8. See <a href=\"https://raw.githubusercontent.com/CGAL/cgal/master/Point_set_processing_3/examples/Point_set_processing_3/jet_smoothing_example.cpp\" rel=\"nofollow noreferrer\">this</a> updated example. The code should be working with 4.7 and earlier however."}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "reply_to_user": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454627824, "post_id": 35189752, "comment_id": 58142313, "body": "Thank you; yes, I have stumbled across the parallel version of the example. However, as pointed out below, the problem seems to be that I have not managed to include Eigen3 in my compilation of CGAL."}, {"owner": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454659211, "post_id": 35189752, "comment_id": 58152426, "body": "Then if you&#39;re using cmake you&#39;re missing `  find_package(Eigen3 3.1.0)     if (EIGEN3_FOUND)     include( ${EIGEN3_USE_FILE} ) endif()<code>. If not but your compiler knows where to find eigen, simply define </code>CGAL_EIGEN3_ENABLED`, as documented <a href=\"http://doc.cgal.org/latest/Jet_fitting_3/classCGAL_1_1Monge__via__jet__fitting.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "reply_to_user": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454725519, "post_id": 35189752, "comment_id": 58187727, "body": "Thank you - as you can see in the comments for the answer below, I am already including Eigen3, and my compiler does indeed locate the Eigen3_use_file. I have also experimented with defining CGAL_EIGEN3_ENABLED. It leads to the following error, when compiling the example in question:  CGAL/Kernel_23/include/CGAL/Dimension.h:28:22: fatal error: Eigen/Core: No such file or directory  , which to me implies that EIgen3 has in fact not been compiled correctly?"}, {"owner": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454866641, "post_id": 35189752, "comment_id": 58225793, "body": "Eigen is a header only library, you simply need to add it to the include directories of your compiler"}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "reply_to_user": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454887115, "post_id": 35189752, "comment_id": 58233077, "body": "Once again, thank you for your interest. As you can see in the transcript in the comments to the answer below, cmake manages to locate the UseEigen3-file and the path to the include-directory (for me: /usr/include/eigen3). Yet in the end, Eigen3 seems to not be included properly in the compilation. I have tried using your suggested code, and I seem to be making an error in the syntax of include. I get: include called with wrong number of arguments.  include() only takes one file."}, {"owner": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454918070, "post_id": 35189752, "comment_id": 58240967, "body": "You should put these lines after the instruction <code>include( ${CGAL_USE_FILE} )</code>. If it is still not working trying printing <code>${EIGEN3_USE_FILE}</code> using the <code>message</code> command."}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "reply_to_user": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 0, "creation_date": 1454978477, "post_id": 35189752, "comment_id": 58275431, "body": "As written below, I have now managed to get things working by including the eigen3 in both my project and my CGAL-compilation. Thank you very much for your inputs."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454564694, "post_id": 35191786, "comment_id": 58103635, "body": "I have libeigen3-dev installed (v. 3.2.5: CGAL requires 3.1 or greater), but as you concluded, I did not manually include this in CMakeLists.txt. I did this using &quot;INCLUDE_DIRECTORIES(${EIGEN3_INCLUDE_DIR})&quot;, where EIGEN3_INCLUDE_DIR is passed from the command-line argument &quot;-DEIGEN3_INCLUDE_DIR=/usr/include/eigen3&quot; (the directory of signature_of_eigen3_matrix_library). After testing with a simple IF-statement, it seems the path is located correctly.   Yet the error remains, when compiling the example in the original post with my newly compiled version of CGAL."}, {"owner": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "reply_to_user": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454565098, "post_id": 35191786, "comment_id": 58103802, "body": "Are you talking about your own project&#39;s (i.e. this example) CMakeLists.txt or the CGAL source tree&#39;s one? What I meant, is that you want to rebuild the actual CGAL source tree with Eigen or Lapack enabled. At least that&#39;s what the code suggests. Check the output <code>ccmake .</code> in the CGAL&#39;s build dir to see if Eigen3 is being enabled and built."}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454626544, "post_id": 35191786, "comment_id": 58141735, "body": "I&#39;m sorry, I should have specified that I am talking about the CMakelists.txt in CGAL&#39;s source tree. According to ccmake, WITH_Eigen3 was not set to ON, so I am guessing, you are right.  However, after changing this, cmake produces the following text regarding Eigen3: -- Eigen3 has been preconfigured: --   UseEigen3-file:      UseEigen3 --   Eigen3 include:      /usr/include/eigen3 --   Eigen3 libraries:     --   Eigen3 definitions:  Yet the error seems to persist. Did I not include the libraries properly?"}, {"owner": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "reply_to_user": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454630093, "post_id": 35191786, "comment_id": 58143244, "body": "Well, since I also study CG and am about to invest into learning CGAL, let me try to reproduce your setup and report back in a day."}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454635276, "post_id": 35191786, "comment_id": 58144830, "body": "Thanks! Much appreciated!"}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454978429, "post_id": 35191786, "comment_id": 58275413, "body": "After playing around some more, I realised that I can get things working by adding the same parts to my CMakeLists.txt for my project as well as for my CGAL-compilation. Thank you very much for your inputs."}, {"owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "edited": false, "score": 0, "creation_date": 1454985505, "post_id": 35191786, "comment_id": 58277160, "body": "I decided that your comment helped me sufficiently to be considered the &quot;right&quot; answer, yes. Ultimately, my problem was that I hadn&#39;t compiled everything with Eigen3, which was indeed the issue, you pointed out.  And your clue as to why I failed to find the right function template was - in hindsight - pretty close to the solution. Thanks again."}], "tags": [], "owner": {"reputation": 3913, "user_id": 342384, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MRRvI.jpg?s=128&g=1", "display_name": "iksemyonov", "link": "https://stackoverflow.com/users/342384/iksemyonov"}, "is_accepted": true, "score": 0, "last_activity_date": 1454555377, "creation_date": 1454555377, "answer_id": 35191786, "question_id": 35189752, "link": "https://stackoverflow.com/questions/35189752/some-cgal-examples-e-g-jet-smoothing-and-normal-orientation-fail-to-compile/35191786#35191786", "title": "Some CGAL examples (e.g. Jet Smoothing and Normal Orientation) fail to compile", "body": "<p>Having looked at <code>&lt;CGAL/jet_smooth_point_set.h&gt;</code> in git, located at</p>\n\n<p><a href=\"https://github.com/CGAL/cgal/blob/master/Point_set_processing_3/include/CGAL/jet_smooth_point_set.h\" rel=\"nofollow\">jet_smooth_point_set.h</a></p>\n\n<p>I have found out that the 5-parameter overload with the last 2 parameters being default, defined at line 320,</p>\n\n<pre><code>template &lt;typename Concurrency_tag,\n          typename InputIterator&gt;\nvoid jet_smooth_point_set(\n    InputIterator first, ///&lt; iterator over the first input point\n    InputIterator beyond, ///&lt; past-the-end iterator\n    unsigned int k, ///&lt; number of neighbors.\n    const unsigned int degree_fitting = 2,\n    const unsigned int degree_monge = 2)\n</code></pre>\n\n<p>being used in the example code, is surrounded by the following <code>#ifdef</code> at line 263:</p>\n\n<pre><code>#if defined(CGAL_EIGEN3_ENABLED) || defined(CGAL_LAPACK_ENABLED)\n</code></pre>\n\n<p>Thus I have concluded that CGAL has been built without the above two libraries, Eigen3 and LAPACK. Try rebuilding CGAL with with support for either of those (note the <code>||</code> conditional operator in the <code>#ifdef</code>). To do that, install the corresponding package along with the <code>devel</code> package (I'm a RedHat guy, so don't know how Ubuntu splits dev and non-dev packages). You want to have the headers for those libraries installed to compile CGAl against them. Then, re-run cmake, make sure it finds the libraries (invoke <code>ccmake</code> or watch cmake configuration output closely for e.g. \"found Eigen3\") and rebuild CGAL.</p>\n"}], "owner": {"reputation": 37, "user_id": 2035191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bd541678a1b798e02b82e9c805e75b?s=128&d=identicon&r=PG", "display_name": "Hmmmmm", "link": "https://stackoverflow.com/users/2035191/hmmmmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 35191786, "answer_count": 1, "score": 0, "last_activity_date": 1454555377, "creation_date": 1454542010, "question_id": 35189752, "link": "https://stackoverflow.com/questions/35189752/some-cgal-examples-e-g-jet-smoothing-and-normal-orientation-fail-to-compile", "title": "Some CGAL examples (e.g. Jet Smoothing and Normal Orientation) fail to compile", "body": "<p>I am currently working on a project in which, using some of the CGAL algorithms for point set processing would be highly advantageous.</p>\n\n<p>Amongst others, I need to get the jet smoothing algorithm running - here shown by the example from:\n<a href=\"http://doc.cgal.org/latest/Point_set_processing_3/\" rel=\"nofollow\">http://doc.cgal.org/latest/Point_set_processing_3/</a></p>\n\n<pre><code>#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;\n#include &lt;CGAL/jet_smooth_point_set.h&gt;\n#include &lt;vector&gt;\n\n// types\ntypedef CGAL::Exact_predicates_inexact_constructions_kernel Kernel;\ntypedef Kernel::Point_3 Point;\n\nint main(void)\n{\n  // generate point set\n  std::vector&lt;Point&gt; points;\n  points.push_back(Point( 0.0, 0.0, 0.001));\n  points.push_back(Point(-0.1,-0.1, 0.002));\n  points.push_back(Point(-0.1,-0.2, 0.001));\n  points.push_back(Point(-0.1, 0.1, 0.002));\n  points.push_back(Point( 0.1,-0.1, 0.000));\n  points.push_back(Point( 0.1, 0.2, 0.001));\n  points.push_back(Point( 0.2, 0.0, 0.002));\n  points.push_back(Point( 0.2, 0.1, 0.000));\n  points.push_back(Point( 0.0,-0.1, 0.001));\n\n  // Smoothing.\n  const unsigned int nb_neighbors = 8; // default is 24 for real-life point sets\n  CGAL::jet_smooth_point_set(points.begin(), points.end(), nb_neighbors);\n  return EXIT_SUCCESS;\n}\n</code></pre>\n\n<p>When compiling this (using CMake), I am hit with the following errors:</p>\n\n<pre><code>   error: no matching function for call to \u2018jet_smooth_point_set(std::vector&lt;CGAL::Point_3&lt;CGAL::Epick&gt; &gt;::iterator, std::vector&lt;CGAL::Point_3&lt;CGAL::Epick&gt; &gt;::iterator, const unsigned int&amp;)\u2019\n   CGAL::jet_smooth_point_set(points.begin(), points.end(), nb_neighbors);\n\n   jet_smooth_point_set.h:177:1: note: candidate: template&lt;class Concurrency_tag, class InputIterator, class PointPMap, class Kernel, class SvdTraits&gt; void CGAL::jet_smooth_point_set(InputIterator, InputIterator, PointPMap, unsigned int, const Kernel&amp;, unsigned int, unsigned int)\n\n   note:   candidate expects 7 arguments, 3 provided\n   CGAL::jet_smooth_point_set(points.begin(), points.end(), nb_neighbors);\n</code></pre>\n\n<p>The error seems to imply that the function is not specified in the included header file? Yet it seems that the header has been located correctly?</p>\n\n<p>The same issue arises in the examples shipped with the CGAL repository.</p>\n\n<p>My set up is Ubuntu 15.10, GCC 5.2.1, CMake 3.2.2, and I have produced this error with CGAL 4.6 from the Ubuntu repositories and the CGAL 4.8-beta compiled from the Github repository.</p>\n\n<p>For what it is worth, the outlier removal-example as well as the input/output-examples compile and execute correctly.</p>\n\n<p>I feel somewhat stuck at this point and would appreciate any help.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 5, "creation_date": 1454541716, "post_id": 35189686, "comment_id": 58096490, "body": "you probably want const reference instead of non const ref."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1454541829, "post_id": 35189686, "comment_id": 58096528, "body": "@Jarod42, you should write an answer. I doubt OP understands the reasoning behind your comment."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1454542851, "post_id": 35189686, "comment_id": 58096909, "body": "Unless you tell the compiler not to, it will provide a default ctor."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1454541995, "last_edit_date": 1454541995, "creation_date": 1454541911, "answer_id": 35189730, "question_id": 35189686, "link": "https://stackoverflow.com/questions/35189686/how-to-instantiate-this-class-without-a-default-constructor/35189730#35189730", "title": "How to instantiate this class without a default constructor?", "body": "<p>Change the constructor to use <code>const&amp;</code> instead of a plain <code>&amp;</code>,</p>\n\n<pre><code>vipWithAuth (string const&amp; n, string const&amp; i, float g) : \n</code></pre>\n\n<p>Then, you can construct an object of the class by using.</p>\n\n<pre><code>vipWithAuth obj(\"Name\", \"ID\", 1.0f);\n</code></pre>\n\n<p>If you must keep the constructor the way it is, you'll have to use:</p>\n\n<pre><code>std::string name = \"Name\";\nstd::string ID = \"ID\";\nvipWithAuth obj(name, ID, 1.0f);\n</code></pre>\n"}], "owner": {"reputation": 1159, "user_id": 5531761, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dd74a9250f5dcf441880dba2b41ac7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Czenski", "link": "https://stackoverflow.com/users/5531761/dylan-czenski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 35189730, "answer_count": 1, "score": -1, "last_activity_date": 1454541995, "creation_date": 1454541660, "question_id": 35189686, "link": "https://stackoverflow.com/questions/35189686/how-to-instantiate-this-class-without-a-default-constructor", "title": "How to instantiate this class without a default constructor?", "body": "<p>I have this class in C++</p>\n\n<pre><code>class vipWithAuth{\npublic:\nstring name, id;\nfloat level;\nvipWithAuth (string &amp;n, string &amp;i, float g) :\n    name(n), id(i), level(g)\n    {}\n};\n</code></pre>\n\n<p>I tried many methods but I cannot come up with a way to instantiate this class. Can someone please help me?</p>\n"}, {"tags": ["c++", "qt", "emacs"], "answers": [{"comments": [{"owner": {"reputation": 931, "user_id": 5106997, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d66d1ef88c27f499c2ce44e3a40d224f?s=128&d=identicon&r=PG&f=1", "display_name": "\u0130brahim", "link": "https://stackoverflow.com/users/5106997/%c4%b0brahim"}, "edited": false, "score": 0, "creation_date": 1454582798, "post_id": 35189756, "comment_id": 58113934, "body": "Thanks, but I don&#39;t understand that. Can you give me information?"}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1454542047, "creation_date": 1454542047, "answer_id": 35189756, "question_id": 35189582, "link": "https://stackoverflow.com/questions/35189582/how-to-align-backslashes-equals-etc-in-qt-creator/35189756#35189756", "title": "How to align backslashes, equals etc. in Qt Creator?", "body": "<p>Qt Creator <a href=\"http://doc.qt.io/qtcreator/creator-beautifier.html\" rel=\"nofollow\">natively supports clang-format</a>, which aligns backslashes as you desire. </p>\n"}, {"tags": [], "owner": {"reputation": 2381, "user_id": 2574937, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/feedcf155189fa4c0e6f0f5ef99e6201?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Malehorn", "link": "https://stackoverflow.com/users/2574937/brian-malehorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1454551845, "creation_date": 1454551845, "answer_id": 35191244, "question_id": 35189582, "link": "https://stackoverflow.com/questions/35189582/how-to-align-backslashes-equals-etc-in-qt-creator/35191244#35191244", "title": "How to align backslashes, equals etc. in Qt Creator?", "body": "<p>Highlight the text, then <code>M-x align-regexp \\\\ RET</code>.</p>\n"}], "owner": {"reputation": 931, "user_id": 5106997, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d66d1ef88c27f499c2ce44e3a40d224f?s=128&d=identicon&r=PG&f=1", "display_name": "\u0130brahim", "link": "https://stackoverflow.com/users/5106997/%c4%b0brahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454551845, "creation_date": 1454541098, "question_id": 35189582, "link": "https://stackoverflow.com/questions/35189582/how-to-align-backslashes-equals-etc-in-qt-creator", "title": "How to align backslashes, equals etc. in Qt Creator?", "body": "<p>I want to align backslashes or equals like Emacs in Qt Creator. How can I do that?\nExample Code:</p>\n\n<pre><code>#define CHECK(n)        \\\n  switch (n)            \\\n  {                     \\\n  case 0:               \\\n    cout &lt;&lt; 0 &lt;&lt; endl;  \\\n    break;              \\\n  case 1:               \\\n    cout &lt;&lt; 1 &lt;&lt; endl;  \\\n    break;              \\\n  case 2:               \\\n    cout &lt;&lt; 2 &lt;&lt; endl;  \\\n    break;              \\\n  }\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 3, "creation_date": 1454540435, "post_id": 35189420, "comment_id": 58096002, "body": "Default constructor of type <code>T</code>."}, {"owner": {"reputation": 1792, "user_id": 965934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca34909148008c2a960071d06e3ff6a8?s=128&d=identicon&r=PG", "display_name": "01d55", "link": "https://stackoverflow.com/users/965934/01d55"}, "reply_to_user": {"reputation": 8687, "user_id": 325117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0766debb859466aed4b305cc915d8e?s=128&d=identicon&r=PG", "display_name": "Martin Broadhurst", "link": "https://stackoverflow.com/users/325117/martin-broadhurst"}, "edited": false, "score": 0, "creation_date": 1454540804, "post_id": 35189420, "comment_id": 58096148, "body": "@MartinBroadhurst Check the initializations of <code>i</code> again. The second loop starts where the first leaves off."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454541048, "post_id": 35189420, "comment_id": 58096245, "body": "Better yet use <code>T{}</code>."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1454541431, "post_id": 35189420, "comment_id": 58096391, "body": "BTW, the second loop seems useless as - it is for capacity. - <code>new T[]</code> has already do some initialization."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454541870, "post_id": 35189420, "comment_id": 58096546, "body": "Hint: if it&#39;s a <code>Vector&lt;MyClass&gt;</code> then what does <code>MyClass()</code> do?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1454542109, "post_id": 35189420, "comment_id": 58096636, "body": "@AlgirdasPreid\u017eius - it&#39;s not a default constructor; it&#39;s a temporary object initialized with the default constructor."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1454542110, "post_id": 35189420, "comment_id": 58096637, "body": "@Jarod42 It does have some initialization, if <code>T</code> is composite type. However, if <code>T</code> is merely an <code>int</code>, there is no initialization."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1454542335, "post_id": 35189420, "comment_id": 58096708, "body": "@PeteBecker But, it is a default constructor, of type <code>T</code>, call, is it not? It returns a temporary object, yes. This is why I left it as a comment, rather than an answer - I didn&#39;t feel like going too in-depth."}], "answers": [{"tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 8, "last_activity_date": 1454541614, "last_edit_date": 1454541614, "creation_date": 1454540597, "answer_id": 35189478, "question_id": 35189420, "link": "https://stackoverflow.com/questions/35189420/when-using-templates-in-c-what-does-the-t-function-do/35189478#35189478", "title": "When using Templates in C++, what does the &quot;T()&quot; function do?", "body": "<p><code>T()</code> creates an object of type <code>T</code> which is value-initialized. For arithmetic and pointer types this means they are zero-initialized, while for class types it means the default constructor is called. You can see more details here: <a href=\"http://en.cppreference.com/w/cpp/language/value_initialization\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/value_initialization</a></p>\n\n<p>You can also use this syntax outside templates. For example</p>\n\n<pre><code>typedef int T;\nT x = T(); // sets x to 0\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5880401"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454541614, "creation_date": 1454540367, "question_id": 35189420, "link": "https://stackoverflow.com/questions/35189420/when-using-templates-in-c-what-does-the-t-function-do", "title": "When using Templates in C++, what does the &quot;T()&quot; function do?", "body": "<p>What does the T() do?  I have been looking for awhile and can't get a definitive answer.</p>\n\n<pre><code>    Vector&lt;T&gt;::Vector(const Vector&lt;T&gt; &amp; v)\n{\n    my_size = v.my_size;\n    my_capacity = v.my_capacity;\n    buffer = new T[my_capacity];\n    for (int i = 0; i &lt; my_size; i++)\n        buffer[i] = v.buffer[i];\n    for (int i = my_size; i&lt; my_capacity; i++)\n        buffer[i] = T();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1454540536, "post_id": 35189418, "comment_id": 58096037, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10553597/cin-and-getline-skipping-input\" title=\"cin and getline skipping input\">stackoverflow.com/questions/10553597/&hellip;</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1454540916, "post_id": 35189418, "comment_id": 58096196, "body": "Possible, nothing. That&#39;s a &quot;Nailed it!&quot; @AlgirdasPreid\u017eius"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1454543063, "post_id": 35189418, "comment_id": 58096991, "body": "How did you determine the <code>getline</code> was never executed?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1454544407, "post_id": 35189418, "comment_id": 58097489, "body": "Off topic: if <code>cin&gt;&gt;totalStudent;</code> is not provided an integer (even a horribly impossible integer than can&#39;t fit in an <code>int</code>) <code>cin</code> will be put in an error state that is not cleared, probably killing your program dead. You need to check the state of <code>cin</code>, or any other stream, after each read to make sure data was read and to clean up the mess if it wasn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 785, "user_id": 1569761, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/91c4435d946adbf28b8a332da928635a?s=128&d=identicon&r=PG", "display_name": "hn.phuong", "link": "https://stackoverflow.com/users/1569761/hn-phuong"}, "edited": false, "score": 0, "creation_date": 1454541940, "post_id": 35189524, "comment_id": 58096573, "body": "Thanks so much for your answers, I got it."}], "tags": [], "owner": {"reputation": 5563, "user_id": 5808727, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a8de86a7bb2dbb67425971abc1e1cef8?s=128&d=identicon&r=PG&f=1", "display_name": "Pooya", "link": "https://stackoverflow.com/users/5808727/pooya"}, "is_accepted": false, "score": 0, "last_activity_date": 1454540817, "creation_date": 1454540817, "answer_id": 35189524, "question_id": 35189418, "link": "https://stackoverflow.com/questions/35189418/getline-cin-string-is-not-excuted-last-line-of-code/35189524#35189524", "title": "getline (cin, string) is not excuted last line of code", "body": "<p>There is <code>\\n</code> remained in <code>cin</code> after reading <code>totalStudent</code> as integer so you need to get that <code>\\n</code> first out of the system and then read the next string</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nvoid InfoInput()\n{\n    string classID;\n    string teacherName;\n    int totalStudent;\n    string topicClass;\n    cout&lt;&lt;\"Enter class ID\"&lt;&lt;endl;\n    getline(cin, classID);\n    cout&lt;&lt;\"Enter teacher's name\"&lt;&lt;endl;\n    getline(cin, teacherName);\n    cout&lt;&lt;\"Enter total number of students\"&lt;&lt;endl;\n    cin&gt;&gt;totalStudent;\n    cout&lt;&lt;\"Enter topic of class\"&lt;&lt;endl;\n    getline(cin,topicClass);\n    getline(cin, topicClass);\n    //cin&gt;&gt;topicClass;\n}\n\nint main ()\n{\n\n   InfoInput();\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24727, "user_id": 186997, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/836f83976dae9f54ad7a201cca951f73?s=128&d=identicon&r=PG", "display_name": "utnapistim", "link": "https://stackoverflow.com/users/186997/utnapistim"}, "is_accepted": false, "score": 2, "last_activity_date": 1454540825, "creation_date": 1454540825, "answer_id": 35189528, "question_id": 35189418, "link": "https://stackoverflow.com/questions/35189418/getline-cin-string-is-not-excuted-last-line-of-code/35189528#35189528", "title": "getline (cin, string) is not excuted last line of code", "body": "<p>Your problem is above, with this line:</p>\n\n<pre><code>cin&gt;&gt;totalStudent;\n</code></pre>\n\n<p>This does not read a line. You enter your input and (I assume) you press ENTER. The <code>\\n</code> remains in the buffer of <code>std::cin</code> and is read as an empty line with your next instruction:</p>\n\n<pre><code>getline(cin, topicClass);\n</code></pre>\n\n<p>To fix, use this code:</p>\n\n<pre><code>cin&gt;&gt;totalStudent;\nwhile(std::isspace(cin.peek())\n    cin.ignore();\ncout&lt;&lt;\"Enter topic of class\"&lt;&lt;endl;\ngetline(cin, topicClass);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1454540916, "creation_date": 1454540916, "answer_id": 35189542, "question_id": 35189418, "link": "https://stackoverflow.com/questions/35189418/getline-cin-string-is-not-excuted-last-line-of-code/35189542#35189542", "title": "getline (cin, string) is not excuted last line of code", "body": "<p>Your <code>classID</code> and <code>teacherName</code> are local variables and disappear after execution leaves the function.  You'll have to figure out some way, like passing parameters by reference, to share the variables between functions.</p>\n"}], "owner": {"reputation": 785, "user_id": 1569761, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/91c4435d946adbf28b8a332da928635a?s=128&d=identicon&r=PG", "display_name": "hn.phuong", "link": "https://stackoverflow.com/users/1569761/hn-phuong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1454544195, "creation_date": 1454540348, "last_edit_date": 1454544195, "question_id": 35189418, "link": "https://stackoverflow.com/questions/35189418/getline-cin-string-is-not-excuted-last-line-of-code", "title": "getline (cin, string) is not excuted last line of code", "body": "<p>I have the following simple program, but the last line of code <code>getline(cin, topicClass)</code> is never excuted. However, if I use normal <code>cin&gt;&gt;topicClass</code> that is executed. Could you please help me out of this? Thanks</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nvoid InfoInput()\n{\n    string classID;\n    string teacherName;\n    int totalStudent;\n    string topicClass;\n    cout&lt;&lt;\"Enter class ID\"&lt;&lt;endl;\n    getline(cin, classID);\n    cout&lt;&lt;\"Enter teacher's name\"&lt;&lt;endl;\n    getline(cin, teacherName);\n    cout&lt;&lt;\"Enter total number of students\"&lt;&lt;endl;\n    cin&gt;&gt;totalStudent;\n    cout&lt;&lt;\"Enter topic of class\"&lt;&lt;endl;\n    getline(cin, topicClass);\n    //cin&gt;&gt;topicClass;\n}\n\nint main ()\n{\n\n    InfoInput();\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "reversing"], "comments": [{"owner": {"reputation": 4826, "user_id": 193789, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a17cc57e47435930a48f7c80bcd53863?s=128&d=identicon&r=PG", "display_name": "kebs", "link": "https://stackoverflow.com/users/193789/kebs"}, "edited": false, "score": 3, "creation_date": 1454540751, "post_id": 35189402, "comment_id": 58096124, "body": "<a href=\"http://en.cppreference.com/w/cpp/algorithm/reverse\" rel=\"nofollow noreferrer\">Already available</a> in the standard library. An example implementation is provided too."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1454541013, "post_id": 35189402, "comment_id": 58096231, "body": "If you used <code>unsigned long</code> you would have greater range.  Never heard of a string with a negative length."}, {"owner": {"reputation": 233, "user_id": 554305, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/59bdf201d7829bb93cab0f6470948da8?s=128&d=identicon&r=PG", "display_name": "BeschBesch", "link": "https://stackoverflow.com/users/554305/beschbesch"}, "edited": false, "score": 0, "creation_date": 1454541579, "post_id": 35189402, "comment_id": 58096446, "body": "if you still want to build your own iterator_loop use reverse_iterators, see <a href=\"http://www.cplusplus.com/reference/string/string/rbegin/\" rel=\"nofollow noreferrer\">example</a>"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1454541646, "post_id": 35189402, "comment_id": 58096467, "body": "@ThomasMatthews I thought if the word was backwards the length was negative? <code>std::string(&quot;!tahw&quot;).length() == -5</code> :)"}, {"owner": {"reputation": 233, "user_id": 554305, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/59bdf201d7829bb93cab0f6470948da8?s=128&d=identicon&r=PG", "display_name": "BeschBesch", "link": "https://stackoverflow.com/users/554305/beschbesch"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454541767, "post_id": 35189402, "comment_id": 58096500, "body": "@Ben: str.size() as it is used in the example returns the unsigned type size_t (standard unsigned int). So it is alwaly positive"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1454541827, "post_id": 35189402, "comment_id": 58096526, "body": "Proof that sarcasm rarely works on the Internet."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1454541907, "post_id": 35189402, "comment_id": 58096564, "body": "@user4581301 I almost believed it was possible. But i guess not."}, {"owner": {"reputation": 233, "user_id": 554305, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/59bdf201d7829bb93cab0f6470948da8?s=128&d=identicon&r=PG", "display_name": "BeschBesch", "link": "https://stackoverflow.com/users/554305/beschbesch"}, "edited": false, "score": 0, "creation_date": 1454541972, "post_id": 35189402, "comment_id": 58096589, "body": "Did not react fast enough to that, it is past midnight here... Also the smiley-face is hidden behind Ben&#39;s code example :P."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 3, "last_activity_date": 1454541149, "creation_date": 1454541149, "answer_id": 35189589, "question_id": 35189402, "link": "https://stackoverflow.com/questions/35189402/reversing-a-string-in-c/35189589#35189589", "title": "Reversing a string in c++", "body": "<p>The <a href=\"http://en.cppreference.com/w/cpp/io/c/gets\" rel=\"nofollow\"><code>gets</code></a> method is declared in the <code>cstdio</code> header.  </p>\n\n<p>Try <code>#include &lt;cstdio&gt;</code> or <code>#include &lt;stdio.h&gt;</code>  </p>\n\n<p><strong>Edit 1: Use <code>std::string</code></strong><br>\nI recommend using <code>std::string</code> and <code>std::getline</code>.</p>\n\n<pre><code>std::string text;\nstd::getline(cin, text);\nstd::cout &lt;&lt; FirstReverse(text) &lt;&lt; endl;\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3554556, "user_type": "registered", "profile_image": "https://graph.facebook.com/876733522392672/picture?type=large", "display_name": "Kolio", "link": "https://stackoverflow.com/users/3554556/kolio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3453, "favorite_count": 2, "closed_date": 1454542331, "accepted_answer_id": 35189589, "answer_count": 1, "score": 0, "last_activity_date": 1454541149, "creation_date": 1454540300, "last_edit_date": 1454540754, "question_id": 35189402, "link": "https://stackoverflow.com/questions/35189402/reversing-a-string-in-c", "closed_reason": "Duplicate", "title": "Reversing a string in c++", "body": "<p>I started doing the C++ challenges on coderbyte. The first one is: </p>\n\n<blockquote>\n  <p>Using the C++ language, have the function FirstReverse(str) take the\n  str parameter being passed and return the string in reversed order. </p>\n  \n  <p>Use the Parameter Testing feature in the box below to test your code\n  with different arguments.</p>\n</blockquote>\n\n<p>It gives u the follow starting code, which you then edit and add to to create the program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nstring FirstReverse(string str) { \n\n  // code goes here   \n  return str; \n\n}\n\nint main() { \n\n  // keep this function call here\n  cout &lt;&lt; FirstReverse(gets(stdin));\n  return 0;\n\n} \n</code></pre>\n\n<p>I have come up with the following: </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nstring FirstReverse(string str) {\n    cout&lt;&lt;\"Enter some text: \";\n    cin&gt;&gt;str;\n    string reverseString;\n\n    for(long i = str.size() - 1;i &gt;= 0; --i){\n        reverseString += str[i];\n    }\n\n    return reverseString;\n\n}\n\nint main() {\n\n    // keep this function call here\n    cout &lt;&lt; FirstReverse(gets(stdin))&lt;&lt;endl;\n    return 0;\n\n}\n</code></pre>\n\n<p>It gives me the following error: \"No matching function to call to gets\"\nNow, why does this happen and what can I do to fix it? Thank you for reading this and all help would be appreciated.</p>\n"}, {"tags": ["c++", "matlab", "octave", "linear-algebra", "eigen"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4651282"}, "edited": false, "score": 0, "creation_date": 1454540569, "post_id": 35189394, "comment_id": 58096049, "body": "it would be better if you provide data to reproduce the error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4651282"}, "edited": false, "score": 1, "creation_date": 1454540839, "post_id": 35189394, "comment_id": 58096170, "body": "if the question is not how to fix it , but why this is so, then look on this  answer: <a href=\"http://stackoverflow.com/a/18553768/4651282\">stackoverflow.com/a/18553768/4651282</a>"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454540870, "post_id": 35189394, "comment_id": 58096183, "body": "You want me to paste a 170x17 floating point matrix!?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4651282"}, "edited": false, "score": 0, "creation_date": 1454540977, "post_id": 35189394, "comment_id": 58096219, "body": "you can&#39;t upload them somewhere and leave a link?"}, {"owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 1, "creation_date": 1454560838, "post_id": 35189394, "comment_id": 58102314, "body": "Just a guess (I&#39;m still waking up): Don&#39;t use <code>auto</code> with Eigen. See e.g. <a href=\"http://stackoverflow.com/questions/31099246/wrong-results-using-auto-with-eigen\">here</a> and <a href=\"http://stackoverflow.com/a/26925302/2899559\">here</a>."}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 1, "creation_date": 1454574034, "post_id": 35189394, "comment_id": 58108063, "body": "How did you check that the result is incorrect? First, as Avi said, replace auto by <code>Eigen::VectorXd</code>, then print <code>(X*theta-Y).norm()&#47;Y.norm()</code> as well as <code>(X.transpose()*X*theta-X.transpose()*Y).norm() &#47; (X.transpose()*Y).norm()</code>."}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454579698, "post_id": 35189394, "comment_id": 58111687, "body": "@Atomic_alarm - I&#39;ve updated my question with your response.  Thanks for your time!"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "reply_to_user": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1454579716, "post_id": 35189394, "comment_id": 58111699, "body": "@ggael - I&#39;ve updated my question with your response. Thanks for your time!"}], "answers": [{"comments": [{"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454581387, "post_id": 35197934, "comment_id": 58112902, "body": "So are you saying that although the result I get from Eigen is not the same as Octave - it is equivalent?  I tried using <code>JacobiSVD</code>, but it gave me a different result to Octave (regardless of the &#39;thin&#39;/&#39;full&#39; U/V state)."}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "reply_to_user": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454581747, "post_id": 35197934, "comment_id": 58113166, "body": "Yes or no. The values you get confirm that Eigen find one solution of the problem you asked. But maybe you are not asking for the exact same problem. If you want to dig deeper, then 1) make sure you use double for the comparison, 2) print the norm of the solution for both Eigen and Octave, 3) print the singular values <code>(X.jacobiSvd().singularValues().transpose())</code>."}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454581990, "post_id": 35197934, "comment_id": 58113347, "body": "Thanks for your help, after plotting the frequency and phase response of what I&#39;m getting from Eigen against Octave (my result is a polynomial ratio representing an IIR), they&#39;re pretty close.  Close enough that it is probably a precision problem, I&#39;ll investigate further."}, {"owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 2, "creation_date": 1454582360, "post_id": 35197934, "comment_id": 58113606, "body": "Even using single precision, when I tried to reproduce your issues I got the &quot;exact&quot; same result as Octave (both with and without auto). See <a href=\"https://ideone.com/jYEjpB\" rel=\"nofollow noreferrer\">link</a>, just edit it to copy paste to your favorite editor. What compiler etc. are you using?"}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1454583056, "post_id": 35197934, "comment_id": 58114142, "body": "I also get the same as Avi. Maybe you are miss-parsing the <code>-9.11E-05</code> and similar entries if using a text file to exchange data?"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454584681, "post_id": 35197934, "comment_id": 58115251, "body": "I&#39;m converting a MATLAB script to C++, and the <code>X</code> and <code>Y</code> matrices are generated from other input data.  I&#39;ve compared the C++ matrices to Octave&#39;s and they are exactly the same, so I know the code up until point I solve them is correct.  Interestingly, if I change to double precision then my frequency response graphs then match Octave&#39;s accurately - implying that the solve results are equivalent, but not the same.  What version of Eigen are you using?"}, {"owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "reply_to_user": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1454591682, "post_id": 35197934, "comment_id": 58119695, "body": "@cmannett85 Same as you, 3.2.7. I compiled using VS2013. I can compile with g++ (Windows / Ubuntu) if that matches your toolchain. Did you copy and compile the MCVE?"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "reply_to_user": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 0, "creation_date": 1454593139, "post_id": 35197934, "comment_id": 58120682, "body": "@AviGinsburg I get the same results with v3.2.5 on MinGW64 and 3.2.7 on Linux (both using g++ 5.2.1).  I haven&#39;t tried using MSVC."}, {"owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 0, "creation_date": 1454594468, "post_id": 35197934, "comment_id": 58121686, "body": "Interesting. Using double precision I get the same results between VS2013 and MinGW g++ 4.8.1. Using single precision, I get different results with the two compilers."}], "tags": [], "owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "is_accepted": true, "score": 1, "last_activity_date": 1454580238, "creation_date": 1454580238, "answer_id": 35197934, "question_id": 35189394, "link": "https://stackoverflow.com/questions/35189394/eigen-equivalent-to-octave-matlab-mldivide-for-rectangular-matrices/35197934#35197934", "title": "Eigen equivalent to Octave/MATLAB mldivide for rectangular matrices", "body": "<p>According to your verifications, the solution you get is perfectly fine. If you want more accuracy, then use <code>double</code> floating point numbers. Note that MatLab/Octave use double precision by default.</p>\n\n<p>Moreover, it might also likely be that your problem is not full rank, in which case your problem admit an infinite number of solution. ColPivHouseholderQR picks one, somehow arbitrarily. On the other hand, mldivide will pick the minimal norm one that you can also obtain with <code>Eigen::BDCSVD</code> (Eigen 3.3), or the slower <code>Eigen::JacobiSVD</code>.</p>\n"}], "owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "accepted_answer_id": 35197934, "answer_count": 1, "score": 0, "last_activity_date": 1454580238, "creation_date": 1454540270, "last_edit_date": 1454579614, "question_id": 35189394, "link": "https://stackoverflow.com/questions/35189394/eigen-equivalent-to-octave-matlab-mldivide-for-rectangular-matrices", "title": "Eigen equivalent to Octave/MATLAB mldivide for rectangular matrices", "body": "<p>I'm using Eigen v3.2.7.</p>\n\n<p>I have a medium-sized rectangular matrix <code>X</code> (170x17) and row vector <code>Y</code> (170x1) and I'm trying to solve them using Eigen.  Octave solves this problem fine using <code>X\\Y</code>, but Eigen is returning incorrect values for these matrices (but not smaller ones) - however I suspect that it's how I'm using Eigen, rather than Eigen itself.</p>\n\n<pre><code>auto X = Eigen::Matrix&lt;T, Eigen::Dynamic, Eigen::Dynamic&gt;{170, 17};\nauto Y = Eigen::Matrix&lt;T, Eigen::Dynamic, 1&gt;{170};\n\n// Assign their values...\n\nconst auto theta = X.colPivHouseholderQr().solve(Y).eval(); // Wrong!\n</code></pre>\n\n<p>According to the Eigen <a href=\"http://eigen.tuxfamily.org/dox-devel/group__TutorialLinearAlgebra.html\" rel=\"nofollow\">documentation</a>, the <code>ColPivHouseholderQR</code> solver is for general matrices and pretty robust, but to make sure I've also tried the <code>FullPivHouseholderQR</code>.  The results were identical.</p>\n\n<p>Is there some special magic that Octave's <code>mldivide</code> does that I need to implement manually for Eigen?</p>\n\n<h2>Update</h2>\n\n<p><a href=\"https://docs.google.com/spreadsheets/d/1mhAiXbet0GMRvkYy_tOYmU-y8KcCxh_h74a1nbK5jiM/edit?usp=sharing\" rel=\"nofollow\">This spreadsheet</a> has the two input matrices, plus Octave's and my result matrices.</p>\n\n<p>Replacing <code>auto</code> doesn't make a difference, nor would I expect it to because construction cannot be a lazy operation, and I have to call <code>.eval()</code> on the solve result because the next thing I do with the result matrix is get at the raw data (using <code>.data()</code>) on tail and head operations.  The expression template versions of the result of those block operations do not have a <code>.data()</code> member, so I have to force evaluation beforehand - in other words <code>theta</code> is the concrete type already, not an expression template.</p>\n\n<p>The result for <code>(X*theta-Y).norm()/Y.norm()</code> is:</p>\n\n<pre><code>2.5365e-007\n</code></pre>\n\n<p>And the result for <code>(X.transpose()*X*theta-X.transpose()*Y).norm() / (X.transpose()*Y).norm()</code> is:</p>\n\n<pre><code>2.80096e-007\n</code></pre>\n\n<p>As I'm currently using single precision float for my basic numerical type, that's pretty much zero for both.</p>\n"}, {"tags": ["c++", "function", "class", "pointers", "methods"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1454540424, "post_id": 35189326, "comment_id": 58095994, "body": "Please post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1454541182, "post_id": 35189326, "comment_id": 58096303, "body": "Function pointers to class methods need to be made aware of the implied  <code>this</code> parameter. Give this a read for details: <a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/pointers-to-members</a>"}, {"owner": {"reputation": 23, "user_id": 5558450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a75a8cd95b2c14c7f11ed5c4683ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lustig", "link": "https://stackoverflow.com/users/5558450/peter-lustig"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1454541836, "post_id": 35189326, "comment_id": 58096532, "body": "@user4581301 Thanks that helps me a lot but why get do i get an error if i use (A::*callback)(); ? The name of this pointer must be written behind * or am i wrong?"}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 1, "creation_date": 1454541853, "post_id": 35189326, "comment_id": 58096536, "body": "If you want a flexible callback type with a specific signature, use <code>std::function</code> or something similar. Function pointers <i>do not</i> work the way you&#39;re trying to make them work. <i>Member</i>-function pointers will do what you want, sort of, and with additional limitations, but there&#39;s really no reason to use something so primitive when <code>std::function</code> exists (and if you&#39;re using an old toolchain that doesn&#39;t support the C++11 standard library there&#39;s <code>boost::function</code> and various other implementations of the same concept)."}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 1, "creation_date": 1454542028, "post_id": 35189326, "comment_id": 58096607, "body": "As for your question about the specific syntax error you&#39;re seeing, note that the FAQ page linked by user4581301 includes multiple sections on syntax, all of which amount to &quot;the syntax for member function pointers is too complicated to use in its raw form.&quot;"}, {"owner": {"reputation": 23, "user_id": 5558450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a75a8cd95b2c14c7f11ed5c4683ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lustig", "link": "https://stackoverflow.com/users/5558450/peter-lustig"}, "reply_to_user": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1454542139, "post_id": 35189326, "comment_id": 58096643, "body": "@KyleStrand Yes sorry just found it and now it works with typedef. And i will give a std::function a try thank you."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1454542444, "post_id": 35189326, "comment_id": 58096755, "body": "@KyleStrand has the right of it. <a href=\"http://en.cppreference.com/w/cpp/utility/functional/bind\" rel=\"nofollow noreferrer\"><code>std::bind</code></a>, <a href=\"http://en.cppreference.com/w/cpp/utility/functional/function\" rel=\"nofollow noreferrer\"><code>std::function</code></a> and the rest of the <a href=\"http://en.cppreference.com/w/cpp/utility/functional\" rel=\"nofollow noreferrer\">functional library</a> make the whole problem go away. You might also want to look up functors."}], "answers": [{"tags": [], "owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1454543217, "last_edit_date": 1592644375, "creation_date": 1454542622, "answer_id": 35189867, "question_id": 35189326, "link": "https://stackoverflow.com/questions/35189326/c-call-function-pointer-from-multiple-different-classes/35189867#35189867", "title": "C++ Call function pointer from multiple different Classes", "body": "<blockquote>\n<p>But i want that can use dynamically either the funcTestA pointer or the funcTestB pointer.</p>\n<p>Is this even possible?</p>\n</blockquote>\n<p>You can use std::function to store the callbacks and lambdas to bind to the instances. See <a href=\"http://coliru.stacked-crooked.com/a/640527a3835aa5f8\" rel=\"nofollow noreferrer\">live example here</a>.</p>\n<p>You will have to ensure that the instances used in the callbacks are still valid when the callbacks are invoked.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n\nstruct A\n{\n    void funcTestA() { std::cout &lt;&lt; &quot;A&quot; &lt;&lt; std::endl; }\n};\nstruct B\n{\n    void funcTestB()  { std::cout &lt;&lt; &quot;B&quot; &lt;&lt; std::endl; }\n};\n\nstruct X\n{\n    void setCallback( std::function&lt;void(void)&gt; callback ){ _callback = callback; }\n    void callThem() { _callback(); } \n\n    std::function&lt;void(void)&gt; _callback;\n};\n\n\nint main()\n{\n    X xa;\n    X xb;\n    \n    {\n         A a;\n         B b;\n    \n         xa.setCallback( [&amp;](){ a.funcTestA(); } );\n         xb.setCallback( [&amp;](){ b.funcTestB(); } );\n    \n         // callbacks ok\n         xa.callThem();\n         xb.callThem();\n    }\n    // here callbacks undefined as A and B are destroyed\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5558450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a75a8cd95b2c14c7f11ed5c4683ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lustig", "link": "https://stackoverflow.com/users/5558450/peter-lustig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 35189867, "answer_count": 1, "score": 0, "last_activity_date": 1454543217, "creation_date": 1454539943, "last_edit_date": 1454543205, "question_id": 35189326, "link": "https://stackoverflow.com/questions/35189326/c-call-function-pointer-from-multiple-different-classes", "title": "C++ Call function pointer from multiple different Classes", "body": "<p>x</p>\n\n<p>Hello,</p>\n\n<p>i want to make a function call pointer in my GUI Button Class which\nis so flexible that i can call a function from multiple different classes:</p>\n\n<pre><code>class A\n{\n    void funcTestA();\n};\nclass B\n{\n    void funcTestB();\n};\nclass X\n{\n    void (*_callback)(int); //In one X object is the funcTestA() pointer saved and in another X object the funcTestB() pointer\n    void callThem();\n};\nvoid X::callThem()\n{\n    this-&gt;_callback();\n}\n</code></pre>\n\n<p>It gave me an error that i need something similar like this:</p>\n\n<pre><code>void (A::*)()\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>void (B::*)()\n</code></pre>\n\n<p>But i want that can use dynamically either the funcTestA pointer or the funcTestB pointer.</p>\n\n<p>Is this even possible?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Ok i know that i need a reference Object to call the function like this:</p>\n\n<pre><code>A* pA;\n(pA-&gt;callback)();\n</code></pre>\n\n<p>But if i try to use the pointer var like this:</p>\n\n<pre><code>(A::*callback)();\n</code></pre>\n\n<p>I become an</p>\n\n<blockquote>\n  <p>expected id-expression before '*' token</p>\n</blockquote>\n\n<p>Error?</p>\n\n<p><strong>BAD SOLUTION:</strong></p>\n\n<p><a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow\">https://isocpp.org/wiki/faq/pointers-to-members</a></p>\n\n<p>Use a typedef instead:</p>\n\n<pre><code>typedef  void (A::*aMemberFunctionPointer)();\naMemberFunctionPointer _callback = NULL;\n</code></pre>\n\n<p><strong>Look for Thomas answer for a better solution.</strong></p>\n"}, {"tags": ["c++", "c", "linux", "xinput"], "comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1454540928, "post_id": 35189264, "comment_id": 58096203, "body": "SDL is at the top of your list, GLFW or SFML also work."}], "answers": [{"comments": [{"owner": {"reputation": 42418, "user_id": 912144, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d17cb5b704821f11179ce281b8cae25e?s=128&d=identicon&r=PG", "display_name": "Shahbaz", "link": "https://stackoverflow.com/users/912144/shahbaz"}, "edited": false, "score": 0, "creation_date": 1454540711, "post_id": 35189374, "comment_id": 58096102, "body": "<code>ofxGamePad</code> <i>is</i> C++. I&#39;d have to study how it works, but it seems promising!"}], "tags": [], "owner": {"reputation": 81, "user_id": 3716731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5762ab993e86df07404e08adfac3efb6?s=128&d=identicon&r=PG&f=1", "display_name": "gdunstone", "link": "https://stackoverflow.com/users/3716731/gdunstone"}, "is_accepted": false, "score": 2, "last_activity_date": 1454540168, "creation_date": 1454540168, "answer_id": 35189374, "question_id": 35189264, "link": "https://stackoverflow.com/questions/35189264/whats-the-equivalent-of-xinput-functions-in-linux/35189374#35189374", "title": "What&#39;s the equivalent of XInput* functions in Linux?", "body": "<p>So I know its not pure C++ however there is a great addon for openFrameworks called <a href=\"https://github.com/underdoeg/ofxGamepad\" rel=\"nofollow\">ofxGamePad</a> that is compatible with linux. I have had success using it with linux for a gamepad.</p>\n"}, {"comments": [{"owner": {"reputation": 42418, "user_id": 912144, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d17cb5b704821f11179ce281b8cae25e?s=128&d=identicon&r=PG", "display_name": "Shahbaz", "link": "https://stackoverflow.com/users/912144/shahbaz"}, "edited": false, "score": 0, "creation_date": 1454541335, "post_id": 35189532, "comment_id": 58096364, "body": "Didn&#39;t know SDL supports it. If it works, I agree, that would be the best option."}], "tags": [], "owner": {"reputation": 5978, "user_id": 231717, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/90bd57ca46c78c121d8da926463f7474?s=128&d=identicon&r=PG", "display_name": "smerlin", "link": "https://stackoverflow.com/users/231717/smerlin"}, "is_accepted": true, "score": 3, "last_activity_date": 1454541682, "last_edit_date": 1454541682, "creation_date": 1454540855, "answer_id": 35189532, "question_id": 35189264, "link": "https://stackoverflow.com/questions/35189264/whats-the-equivalent-of-xinput-functions-in-linux/35189532#35189532", "title": "What&#39;s the equivalent of XInput* functions in Linux?", "body": "<p>You can either:</p>\n\n<ol>\n<li>use the <a href=\"https://wiki.libsdl.org/CategoryGameController\" rel=\"nofollow\">SDL library</a></li>\n<li>use the functions in <code>linux/joystick.h</code> yourself</li>\n<li>find some other library which abstracts (3) for you like <a href=\"https://github.com/elanthis/gamepad\" rel=\"nofollow\">this</a> or the one linked by user3716731.</li>\n</ol>\n\n<p>The (1-2) solutions are mainly <code>C</code>, but so is the XInput API, so you probably can deal with it.</p>\n\n<p>I would probably go with number 1, because that approach should have the best documentation.</p>\n"}], "owner": {"reputation": 42418, "user_id": 912144, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d17cb5b704821f11179ce281b8cae25e?s=128&d=identicon&r=PG", "display_name": "Shahbaz", "link": "https://stackoverflow.com/users/912144/shahbaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2951, "favorite_count": 0, "accepted_answer_id": 35189532, "answer_count": 2, "score": 0, "last_activity_date": 1454541682, "creation_date": 1454539602, "question_id": 35189264, "link": "https://stackoverflow.com/questions/35189264/whats-the-equivalent-of-xinput-functions-in-linux", "title": "What&#39;s the equivalent of XInput* functions in Linux?", "body": "<p>I'm porting an application that uses the Xbox controller to Linux. On windows, it essentially just uses <code>XInputGetState()</code> to read the state of the controller, so I'm looking for a replacement for that function on Linux.</p>\n\n<p>I see that <a href=\"https://github.com/wine-mirror/wine/blob/9bd963065b1fb7b445d010897d5f84967eadf75b/dlls/xinput1_3/xinput1_3_main.c#L68\" rel=\"nofollow\">wine hasn't implemented <code>XInputGetState()</code></a>, but at the same time there are a large number of games supporting the Xbox controller on Linux, so it's doable.</p>\n\n<p>Does anyone know what library can be used to interact with an Xbox controller on Linux?</p>\n"}, {"tags": ["c++", "opencv", "camera-calibration", "matlab-cvst", "stereo-3d"], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 1888160, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c5609133091f0f0ebedfc01deedd56d8?s=128&d=identicon&r=PG", "display_name": "KFox", "link": "https://stackoverflow.com/users/1888160/kfox"}, "edited": false, "score": 0, "creation_date": 1454939174, "post_id": 35191125, "comment_id": 58253693, "body": "I had not been calibrating the cameras individually, but since adding this to my code I&#39;ve only encountered more issues, mainly zooming and cropping being the only noticeable effect of stereoRectify. Thanks for the suggestion but it doesn&#39;t deem to work. :("}], "tags": [], "owner": {"reputation": 158, "user_id": 5880781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a16d75968163e4e7f791127e369731a0?s=128&d=identicon&r=PG&f=1", "display_name": "jodis", "link": "https://stackoverflow.com/users/5880781/jodis"}, "is_accepted": false, "score": 2, "last_activity_date": 1454550789, "creation_date": 1454550789, "answer_id": 35191125, "question_id": 35189193, "link": "https://stackoverflow.com/questions/35189193/opencv-stereo-calibration-has-low-re-projection-error-but-is-incorrect/35191125#35191125", "title": "OpenCV stereo calibration has low re-projection error but is incorrect", "body": "<p>Given that it's working in MATLAB I assume your stereo cameras are set up correctly, meaning they are completely fixed.\nWhat comes to my mind is: Did you calibrate the cameras individually? So you can use the camera matrix and the distortion coefficients in stereoRectify from there.\nAlso, I noted that findChessboardCorners does not perform well when the image quality is low. But that should result in a high RMS error. In any case, you should not only have a reasonably high number of pictures (I used 100) but also have different angles of the calibration board to the camera. And the distance of the board to the cameras should not be too high so the board covers most of the image. (Since the board needs to be completely visible for both cameras, I used a preview to adjust the position.) That's all not really answering your question but I hope it helps nevertheless.</p>\n"}, {"comments": [{"owner": {"reputation": 1076, "user_id": 1888160, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c5609133091f0f0ebedfc01deedd56d8?s=128&d=identicon&r=PG", "display_name": "KFox", "link": "https://stackoverflow.com/users/1888160/kfox"}, "edited": false, "score": 0, "creation_date": 1454939279, "post_id": 35242251, "comment_id": 58253766, "body": "I&#39;m not using the app in MATLAB and yes I&#39;m using the same images. I&#39;m not entirely sure what you&#39;re suggesting I do...I am already using OpenCV&#39;s stereoRectify to do undistortion if that&#39;s what you&#39;re suggesting."}, {"owner": {"reputation": 36978, "user_id": 13313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a3d31b0487b4ae6de51cbbb23016440?s=128&d=identicon&r=PG", "display_name": "Dima", "link": "https://stackoverflow.com/users/13313/dima"}, "reply_to_user": {"reputation": 1076, "user_id": 1888160, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c5609133091f0f0ebedfc01deedd56d8?s=128&d=identicon&r=PG", "display_name": "KFox", "link": "https://stackoverflow.com/users/1888160/kfox"}, "edited": false, "score": 0, "creation_date": 1454957074, "post_id": 35242251, "comment_id": 58265385, "body": "I&#39;ve edited the answer. I am suggesting using <code>undistort</code> function to undistort the images instead of rectifying them. That might make the problem more apparent.  If you are not using the MATLAB app, what are you using to calibrate in MATLAB?"}, {"owner": {"reputation": 1076, "user_id": 1888160, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c5609133091f0f0ebedfc01deedd56d8?s=128&d=identicon&r=PG", "display_name": "KFox", "link": "https://stackoverflow.com/users/1888160/kfox"}, "edited": false, "score": 0, "creation_date": 1454957681, "post_id": 35242251, "comment_id": 58265686, "body": "Thanks for your help, but I found out that the issue had to do with video compression. After trying a few video formats I found that HFYU is making things work for some reason!"}, {"owner": {"reputation": 3359, "user_id": 844728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f7072d8e32204aa53a51ea3fa58addf?s=128&d=identicon&r=PG", "display_name": "Greg Kramida", "link": "https://stackoverflow.com/users/844728/greg-kramida"}, "edited": false, "score": 0, "creation_date": 1461009991, "post_id": 35242251, "comment_id": 60994402, "body": "@Dima, do you by any chance know how does the checkerboard detector in MATLAB differ from the findCorners &amp; cornerSubPix combination in OpenCV? Why do you say that the MATLAB one is more accurate? (I can ask the question in the Signal Processing Stack Exchange if you prefer)"}, {"owner": {"reputation": 36978, "user_id": 13313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a3d31b0487b4ae6de51cbbb23016440?s=128&d=identicon&r=PG", "display_name": "Dima", "link": "https://stackoverflow.com/users/13313/dima"}, "reply_to_user": {"reputation": 3359, "user_id": 844728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f7072d8e32204aa53a51ea3fa58addf?s=128&d=identicon&r=PG", "display_name": "Greg Kramida", "link": "https://stackoverflow.com/users/844728/greg-kramida"}, "edited": false, "score": 1, "creation_date": 1461011152, "post_id": 35242251, "comment_id": 60995078, "body": "@GregKramida,  <code>detectCheckerboardPoints</code> in MATLAB and <code>findChessboardCorners</code> in OpenCV use completely different algorithms. The MATLAB function is more likely to find the checkerboard in the image, and it localizes the points more precisely. You can test that for yourself. To test robustness, just take some images of a checkerboard, and see which function detects more checkerboard. To test localization accuracy, detect the points using each function, and then use estimateCameraParameters() in MATLAB to calibrate. Then compare reprojection errors."}, {"owner": {"reputation": 3359, "user_id": 844728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f7072d8e32204aa53a51ea3fa58addf?s=128&d=identicon&r=PG", "display_name": "Greg Kramida", "link": "https://stackoverflow.com/users/844728/greg-kramida"}, "edited": false, "score": 0, "creation_date": 1461013694, "post_id": 35242251, "comment_id": 60996575, "body": "@Dima, thanks a bunch. I believe you, not going to run the test myself. I&#39;m going to consider adding that corner finding algorithm to OpenCV (I think it&#39;s the one described in the paper at the bottom of the <a href=\"http://www.mathworks.com/help/vision/ref/detectcheckerboardpoints.html\" rel=\"nofollow noreferrer\">Matlab help page</a>)"}], "tags": [], "owner": {"reputation": 36978, "user_id": 13313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a3d31b0487b4ae6de51cbbb23016440?s=128&d=identicon&r=PG", "display_name": "Dima", "link": "https://stackoverflow.com/users/13313/dima"}, "is_accepted": false, "score": 0, "last_activity_date": 1454957091, "last_edit_date": 1454957091, "creation_date": 1454769611, "answer_id": 35242251, "question_id": 35189193, "link": "https://stackoverflow.com/questions/35189193/opencv-stereo-calibration-has-low-re-projection-error-but-is-incorrect/35242251#35242251", "title": "OpenCV stereo calibration has low re-projection error but is incorrect", "body": "<p>Are you calibrating using the same images in both MATLAB and OpenCV? Also, are you using the <a href=\"http://www.mathworks.com/help/vision/ug/stereo-camera-calibrator-app.html\" rel=\"nofollow\">Stereo Camera Calibrator app</a> in MATLAB?</p>\n\n<p>If you are using the exact same calibration images, then the likely explanation for what you are seeing is that the checkerboard detector in MATLAB is more accurate then the one in OpenCV.</p>\n\n<p>If you are using different calibration images, then I would try undistorting the images in OpenCV using the <code>undistort</code> function instead of rectifying them. Chance are that that the undistorted images will look terribly warped and folded upon themselves.  That, together with the low reprojection errors, would indicate that you do not get a good estimate of lens distortion.  Usually that happens when your checkerboard is mostly in the middle of the image, and you are not getting any points close to the edges. The remedy here would be to get more images with the checkerboard positioned close the edges and corners of the image.</p>\n"}], "owner": {"reputation": 1076, "user_id": 1888160, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c5609133091f0f0ebedfc01deedd56d8?s=128&d=identicon&r=PG", "display_name": "KFox", "link": "https://stackoverflow.com/users/1888160/kfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1454957091, "creation_date": 1454539293, "last_edit_date": 1454768505, "question_id": 35189193, "link": "https://stackoverflow.com/questions/35189193/opencv-stereo-calibration-has-low-re-projection-error-but-is-incorrect", "title": "OpenCV stereo calibration has low re-projection error but is incorrect", "body": "<p>I have been trying to get OpenCV camera calibration working for several months now, but I have been unsuccessful so far. I am at the point where I can get a low re-projection error (below 0.5 pixels), but when I examine the images output by <code>stereoRectify</code> they are clearly not rectified correctly. Corresponding points are not aligned horizontally. The noticeable effects of the rectification are to rotate one image slightly and zoom the other image in. Disparity maps generated by the rectification are noisy and simply not correct (using both StereoSGBM and StereoVar).</p>\n\n<p>I have tried using several different sets of calibration images, ranging from 20 to 80 frames. I have tried various combinations of checkerboard size, distance, and rotation, all to no avail. In each case I get the different results, but all with the type of useless disparity maps described above.</p>\n\n<p>MATLAB stereo calibration produces <em>much</em> better results on the same videos, but MATLAB is unfortunately not available as a long-term solution in my case.\nI do not understand why OpenCV believes it's finding a good stereo rectification when it so clearly is not. Am I missing something about how to calibrate cameras? Has anyone else encountered such an issue?</p>\n"}, {"tags": ["c++", "string", "variables", "io", "fstream"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454539489, "post_id": 35189147, "comment_id": 58095619, "body": "C++ does not read minds. Use <code>std::getline</code> for that line, but beware of <a href=\"http://stackoverflow.com/questions/21567291/why-does-stdgetline-skip-input-after-a-formatted-extraction\">this</a>."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454539666, "post_id": 35189147, "comment_id": 58095705, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/6663131/reading-a-line-from-ifstream-into-a-string-variable\">reading a line from ifstream into a string variable</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1454541396, "post_id": 35189147, "comment_id": 58096381, "body": "Possible duplicate of &quot;stackoverflow c++ read struct&quot;."}, {"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454613941, "post_id": 35189147, "comment_id": 58134878, "body": "@LogicStuff Sorry about that. I had read those, and I understand using getline(), I just don&#39;t understand how to use getline() in between inFile &gt;&gt; and another set of inFile &gt;&gt;."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1454615486, "post_id": 35189747, "comment_id": 58135807, "body": "I&#39;m not sure I understand structs at this point. I appreciate the time you have taken to explain your answer. I will do some research on them and reply. Sorry for the late response, work sure does get in the way sometimes."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1454541976, "creation_date": 1454541976, "answer_id": 35189747, "question_id": 35189147, "link": "https://stackoverflow.com/questions/35189147/reading-multiple-data-types-from-input-file/35189747#35189747", "title": "Reading multiple data types from input file", "body": "<p>I recommend using a struct for each record.  Also implement an overloaded <code>operator&gt;&gt;</code> to extract the record from an input stream.  </p>\n\n<pre><code>struct Record_Floats\n{\n  double values[4];\n  friend std::istream&amp; operator&gt;&gt;(std::istream&amp; inp, Record_Floats&amp; rf);\n};\nstd::istream&amp; operator&gt;&gt;(std::istream&amp; inp, Record_Floats&amp; rf)\n{\n  inp &gt;&gt; rf.values[0] &gt;&gt; rf.values[1] &gt;&gt; rf.values[2] &gt;&gt; rf.values[3];\n  return inp;\n};\n\nstruct Record_Number_Letter\n{\n  double number1;\n  char   letter1;\n  double number2;\n  char   letter2;\n  friend std::istream&amp; operator&gt;&gt;(std::istream&amp; inp, Record_Number_Letter&amp; rnl);\n};\nstd::istream&amp;  \noperator&gt;&gt;(std::istream&amp; inp, Record_Number_Letter&amp; rnl)\n{\n  inp &gt;&gt; rnl.number1;\n  inp &gt;&gt; rnl.letter1;\n  inp &gt;&gt; rnl.number2;\n  inp &gt;&gt; rnl.letter2;\n  return inp;\n}\n</code></pre>\n\n<p>By overloading the stream extration <code>operator&gt;&gt;</code> you can do things like:</p>\n\n<pre><code>Record_Floats record1;\nmy_data_file &gt;&gt; record1; // Read an all numbers record.\nRecord_Number_Letter record2;\nmy_data_file &gt;&gt; record2; // Read a record of number letter number letter.\n</code></pre>\n\n<p><strong>Edit 1: Inputting words and lines</strong><br>\nThe input of a word is accomplished by:</p>\n\n<pre><code>std::string word_text;\nmy_data_file &gt;&gt; word_text;  \n</code></pre>\n\n<p>The input of a text line is accomplished by:</p>\n\n<pre><code>std::string text_line;\nstd::getline(my_data_file, text_line);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1454615725, "post_id": 35189988, "comment_id": 58135951, "body": "Great, I will try to implement that into my code. I understand the use of std::getline, but would I go about using it within the inFile &gt;&gt; for the other insertions. How would I declare which line I want?"}, {"owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "edited": false, "score": 0, "creation_date": 1454616182, "post_id": 35189988, "comment_id": 58136202, "body": "In other words, if I used inFile &gt;&gt; for variables &quot;w thru char2&quot;, how do I specify that I want std::getline to read Yes Please, and then use inFile &gt;&gt; for variables &quot;word1 thru word 4&quot;?"}], "tags": [], "owner": {"reputation": 429, "user_id": 5838702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d06da34eb933b3e2004717579e49a?s=128&d=identicon&r=PG&f=1", "display_name": "Ilan Kutsman", "link": "https://stackoverflow.com/users/5838702/ilan-kutsman"}, "is_accepted": false, "score": 0, "last_activity_date": 1454621922, "last_edit_date": 1454621922, "creation_date": 1454543219, "answer_id": 35189988, "question_id": 35189147, "link": "https://stackoverflow.com/questions/35189147/reading-multiple-data-types-from-input-file/35189988#35189988", "title": "Reading multiple data types from input file", "body": "<p>Answer 1: Eventually all the data in the infile and the outfile are big strings. whether it writes to a word or a string, separators(space, new line tab, comma etc.) remain the same. Obviously if YesPlease were written without a space all would have been well but it's not and C++ cannot differ between the cases of the 3rd and 4th lines. In order to solve this you must get the entire line of Yes Please into the string so you need to use std::getline.</p>\n\n<p>Answer 2:I'll just give you a general algorithm...implementing is not unfamiliar.</p>\n\n<pre><code>1.construct a function which gets a string and returns a fixed string.\n2a. turns string it into an array of chars.\n2b.in the array it finds the location of the floating point.\n3.if there's no floating point-&gt;number is an integer or a word-&gt;leave as is\n4.otherwise if the last char is '0' and its index is bigger than index of floating \npoint then change last char to '\\0'(truncate last zero)\n5.Repeat 4 until last char is not '0'.if last char is '.' then truncate it as well.\n6.return the new string without the zeros\n\n7.prepare outFile for reading and outFile2 for writing\n8.get line from outFile, apply function to line and put the returned string  at the end of \noutFile2.\n9.repeat 8 for all rows in outFile\n</code></pre>\n\n<p>outFile2 will look like outFile but with all the redundant zeros truncated.</p>\n\n<p>edit: I got stumbled here with the mixed use of >> and std::getline for question 1. question 2 algorithm remains valid since it's supposed to use only getline.</p>\n\n<p>I know it's sort of cheating but it gives the desired result if you use the following code:</p>\n\n<pre><code>outFile &lt;&lt; fixed &lt;&lt; showpoint;\n    outFile &lt;&lt; setprecision(10);\n\n    inFile &gt;&gt; w &gt;&gt; x &gt;&gt; y &gt;&gt; z &gt;&gt; int1 &gt;&gt; char1 &gt;&gt; float1 &gt;&gt; char2 &gt;&gt; \n            &gt;&gt; word1 &gt;&gt; word2 &gt;&gt; word3 &gt;&gt; word4 &gt;&gt; word5 &gt;&gt; word6;\n\n    outFile &lt;&lt; w &lt;&lt; endl;\n    outFile &lt;&lt; x &lt;&lt; endl;\n    outFile &lt;&lt; y &lt;&lt; endl;\n    outFile &lt;&lt; z &lt;&lt; endl;\n    outFile &lt;&lt; float1 &lt;&lt; endl;\n    outFile &lt;&lt; int1 &lt;&lt; endl;\n    outFile &lt;&lt; char1 &lt;&lt; endl;\n    outFile &lt;&lt; char2 &lt;&lt; endl;\n    outFile &lt;&lt; word1;\n    outFile &lt;&lt; word2 &lt;&lt; endl;\n    outFile &lt;&lt; word3 &lt;&lt; endl;\n    outFile &lt;&lt; word4 &lt;&lt; endl;\n    outFile &lt;&lt; word5 &lt;&lt; endl;\n    outFile &lt;&lt; word6 &lt;&lt; endl;\n}\n</code></pre>\n\n<p>last edit:totally forgot about the use of ignore()...I see you already found the answer</p>\n"}, {"tags": [], "owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "is_accepted": false, "score": 2, "last_activity_date": 1454621196, "creation_date": 1454621196, "answer_id": 35211940, "question_id": 35189147, "link": "https://stackoverflow.com/questions/35189147/reading-multiple-data-types-from-input-file/35211940#35211940", "title": "Reading multiple data types from input file", "body": "<p>I solved the issue of getting a blank line after my getline() statement by adding myFile.ignore() before the getline() statement.</p>\n\n<pre><code>}\ninFile &gt;&gt; w &gt;&gt; x &gt;&gt; y &gt;&gt; z &gt;&gt; int1 &gt;&gt; char1 &gt;&gt; float1 &gt;&gt; char2;\ninFile.ignore();\ngetline(inFile, string1);\ninFile &gt;&gt; word1 &gt;&gt; word2 &gt;&gt; word3 &gt;&gt; word4;\n}\n</code></pre>\n\n<p>Now my string1 variable contains \"Yes Please\" as a whole string, they are no longer separated.</p>\n"}], "owner": {"reputation": 225, "user_id": 5859194, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a539c08ebb2d8bd85d5ac84f29a820ef?s=128&d=identicon&r=PG&f=1", "display_name": "ryanpback", "link": "https://stackoverflow.com/users/5859194/ryanpback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3875, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1454621922, "creation_date": 1454539072, "last_edit_date": 1454539467, "question_id": 35189147, "link": "https://stackoverflow.com/questions/35189147/reading-multiple-data-types-from-input-file", "title": "Reading multiple data types from input file", "body": "<p>I have 2 questions:</p>\n\n<p>I am trying to take input from another file, initialize them into variables, then output the variables to another file. I am able to get all input into separate variables except for 1 line (the line should be a variable).</p>\n\n<p>My input file contains this data:</p>\n\n<pre><code>557.9012043 0.673621489 7210984732 1.891092837\n238 a 789.234 b\nYes Please\ncannot wait for hawaii\n</code></pre>\n\n<p>The line \"Yes Please\" should be taken as a whole string, however, \"Yes\" and \"Please\" are getting separated.</p>\n\n<p>My code for this is:</p>\n\n<pre><code>outFile &lt;&lt; fixed &lt;&lt; showpoint;\n        outFile &lt;&lt; setprecision(10);\n\n        inFile &gt;&gt; w &gt;&gt; x &gt;&gt; y &gt;&gt; z &gt;&gt; int1 &gt;&gt; char1 &gt;&gt; float1 &gt;&gt; char2 &gt;&gt; string1\n                &gt;&gt; word1 &gt;&gt; word2 &gt;&gt; word3 &gt;&gt; word4;\n\n        outFile &lt;&lt; w &lt;&lt; endl;\n        outFile &lt;&lt; x &lt;&lt; endl;\n        outFile &lt;&lt; y &lt;&lt; endl;\n        outFile &lt;&lt; z &lt;&lt; endl;\n        outFile &lt;&lt; float1 &lt;&lt; endl;\n        outFile &lt;&lt; int1 &lt;&lt; endl;\n        outFile &lt;&lt; char1 &lt;&lt; endl;\n        outFile &lt;&lt; char2 &lt;&lt; endl;\n        outFile &lt;&lt; string1 &lt;&lt;endl;\n        outFile &lt;&lt; word1 &lt;&lt; endl;\n        outFile &lt;&lt; word2 &lt;&lt; endl;\n        outFile &lt;&lt; word3 &lt;&lt; endl;\n        ouFile &lt;&lt; word4 &lt;&lt; endl;\n}\n</code></pre>\n\n<p>When I run it, my outFile consists of:</p>\n\n<pre><code>557.9012043000\n0.6736214890\n7210984732.0000000000\n1.8910928370\n789.2340000000\n238\na\nb\nYes\nPlease\ncannot\nwait\nfor\n</code></pre>\n\n<p>How can I get the whole line, \"Yes Please\" assigned to my variable string1?</p>\n\n<p>Question 2: My outFile has all of the extra 0's in the floating point variables because I set the precision. My goal, really, is to use the variables to solve equations. I would like the answers to the equations to only print 10 significant digits. How would I accomplish this task without the precision after the decimal being 10 digits?</p>\n\n<p>I am very new to C++, so when if you answer, can you please explain why you gave the answer you did. I'm not trying to only receive answers, I want to learn. Thank you.</p>\n"}, {"tags": ["c++", "function", "recursion", "vector"], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539346, "post_id": 35189042, "comment_id": 58095555, "body": "Yes, I should have added an else for that part. But the solution return 0.0 was also good and fast."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539617, "post_id": 35189042, "comment_id": 58095677, "body": "@Gradiuss, actually the return 0.0 method is slower. It requires an extra call to <code>SommeRecursive</code> which means a context switch and potentially cache misses etc."}], "tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": false, "score": 4, "last_activity_date": 1454538657, "creation_date": 1454538657, "answer_id": 35189042, "question_id": 35188967, "link": "https://stackoverflow.com/questions/35188967/number-changed-after-push-back-in-vector/35189042#35189042", "title": "number changed after push back in vector", "body": "<p>This line is your issue:</p>\n\n<pre><code>int dernier = clone[i-1];\n</code></pre>\n\n<p>You are casting to an int. So when your recursive function calculates it will do this:</p>\n\n<pre><code>(int) 3.33 + (int) 3.33 + 3.33 = 3 + 3 + 3.33 = 9.33\n</code></pre>\n\n<p>Also i suspect your recursive function should be:</p>\n\n<pre><code>if (i &gt; 1) {\n   ...\n   double dernier = clone[i-1];\n   ...\n} else {\n   return tableau[0]; // This is your base condition.\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/TCT9GF\" rel=\"nofollow\">Here is a live example.</a> </p>\n"}, {"comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539073, "post_id": 35189044, "comment_id": 58095443, "body": "For once i beat you to it! But nice +1. Also if you do <code>i &gt; 1</code> and <code>else return tableau</code> you save one function call."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539111, "post_id": 35189044, "comment_id": 58095462, "body": "@Ben, I didn&#39;t know we were in competition :) :)"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539184, "post_id": 35189044, "comment_id": 58095490, "body": "Mostly me. I feel i am always second to post. Just a big kid, really."}, {"owner": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539242, "post_id": 35189044, "comment_id": 58095519, "body": "Thanks a lot, although my mistake was really ... well I will not call me name lol but thanks again for pointing out others mistakes. If I could, I would have added another +1"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539253, "post_id": 35189044, "comment_id": 58095524, "body": "@Ben, we are always in competition with other SO answerers, aren&#39;t we?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539303, "post_id": 35189044, "comment_id": 58095547, "body": "Hahaha, i guess so. Looks like you win this round."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1454539396, "post_id": 35189044, "comment_id": 58095581, "body": "@Ben, lucky break for me. May you win the next round :)"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1454539907, "last_edit_date": 1454539907, "creation_date": 1454538661, "answer_id": 35189044, "question_id": 35188967, "link": "https://stackoverflow.com/questions/35188967/number-changed-after-push-back-in-vector/35189044#35189044", "title": "number changed after push back in vector", "body": "<p>Your programs suffers from couple of problems:</p>\n\n<ol>\n<li><p>You are truncating a <code>double</code> an <code>int</code> in line:</p>\n\n<pre><code>int dernier = clone[i-1];\n</code></pre></li>\n<li><p>The function <code>SommeRecursive</code> does not have a <code>return</code> statement when the input is an empty vector. Hence, your program exhibits undefined behavior.</p></li>\n</ol>\n\n<p>Change it to:</p>\n\n<pre><code>double SommeRecursive(vector &lt;double&gt; tableau) {\n\n   int i = tableau.size();\n\n   if (i &gt; 0) {\n      vector &lt;double&gt; clone = tableau;\n      double back = clone.back();\n      clone.pop_back();\n\n      return back + SommeRecursive(clone);\n   }\n\n   return 0.0;\n}\n</code></pre>\n\n<p>Further refinement of the function that avoids creating copies of the input vector:</p>\n\n<pre><code>double SommeRecursive(std::vector&lt;double&gt;::const_iterator begin,\n                      std::vector&lt;double&gt;::const_iterator end)\n{\n   if ( begin == end )\n   {\n      return 0.0;\n   }\n\n   return *begin + SommeRecursive(begin+1, end);\n}\n\ndouble SommeRecursive(std::vector&lt;double&gt; const&amp; tableau)\n{\n   return SommeRecursive(tableau.begin(), tableau.end());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539122, "post_id": 35189102, "comment_id": 58095467, "body": "wow I feel dumb... thanks buddy. Should I delete that ask ? As it is not really interesting for others..."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539259, "post_id": 35189102, "comment_id": 58095526, "body": "@Gradiuss This is not your only issue, read the other answers. Also dont delete the question. If people think its not worth keeping around it will be closed. But atm it is a good on topic question."}, {"owner": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "edited": false, "score": 0, "creation_date": 1454539626, "post_id": 35189102, "comment_id": 58095679, "body": "Okay i&#39;ll let it that way."}], "tags": [], "owner": {"reputation": 900, "user_id": 1885835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d75ab8c233d44ca9db8def4d757b4d?s=128&d=identicon&r=PG", "display_name": "floppy12", "link": "https://stackoverflow.com/users/1885835/floppy12"}, "is_accepted": false, "score": 1, "last_activity_date": 1454538908, "creation_date": 1454538908, "answer_id": 35189102, "question_id": 35188967, "link": "https://stackoverflow.com/questions/35188967/number-changed-after-push-back-in-vector/35189102#35189102", "title": "number changed after push back in vector", "body": "<p>In your sommeRecursive method you get the i-1th value in a int variable instead of double so it gets rounded down (ie. 3 + 3 + 3.33)</p>\n"}], "owner": {"reputation": 1471, "user_id": 5727643, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/74e0b7b2ed3064d458bc3a7e72b10d86?s=128&d=identicon&r=PG&f=1", "display_name": "Amin NAIRI", "link": "https://stackoverflow.com/users/5727643/amin-nairi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 35189044, "answer_count": 3, "score": 2, "last_activity_date": 1454539907, "creation_date": 1454538364, "last_edit_date": 1454539628, "question_id": 35188967, "link": "https://stackoverflow.com/questions/35188967/number-changed-after-push-back-in-vector", "title": "number changed after push back in vector", "body": "<p>Here is my code (don't mind the french part, the essential is the code itself) : </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\ndouble SommeRecursive(vector &lt;double&gt; tableau) {\n    int i = tableau.size();\n    if (i &gt; 1) {\n        vector &lt;double&gt; clone = tableau;\n        int dernier = clone[i-1];\n        clone.pop_back();\n        return dernier + SommeRecursive(clone);\n    }\n}\n\nint main(int argc, char** argv) {\n    vector &lt;double&gt; tableau;\n    double nombre;\n\n    cout &lt;&lt; \"Nombre 1 : \";\n    cin &gt;&gt; nombre;\n\n    tableau.push_back(nombre);\n\n    cout &lt;&lt; \"Nombre 2 : \";\n    cin &gt;&gt; nombre;\n\n    tableau.push_back(nombre);\n\n    cout &lt;&lt; \"Nombre 3 : \";\n    cin &gt;&gt; nombre;\n\n    tableau.push_back(nombre);\n\n    cout &lt;&lt; \"R\u00e9sultat : \" &lt;&lt; SommeRecursive(tableau) &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>I was testing out my code after using</p>\n\n<pre><code>gcc -std=c++14 -o main main.cpp &amp;&amp; ./main\n</code></pre>\n\n<p>And if I enter number like 3.33, 3.33 and 3.33, I get the result 9.33 instead of 9.99. Any idea why ?</p>\n"}, {"tags": ["c++", "sockets", "tcp", "protocol-buffers"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5880232, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XvRdUAgitAw/AAAAAAAAAAI/AAAAAAAAF5c/WLgctM4k1BE/photo.jpg?sz=128", "display_name": "Millin Gabani", "link": "https://stackoverflow.com/users/5880232/millin-gabani"}, "edited": false, "score": 0, "creation_date": 1454623785, "post_id": 35189965, "comment_id": 58140417, "body": "It worked. Thanks :)  It does not exactly solve my problem of reading data. But through your code I was able to figure out what the problem was."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 1, "last_activity_date": 1454543049, "creation_date": 1454543049, "answer_id": 35189965, "question_id": 35188947, "link": "https://stackoverflow.com/questions/35188947/mumble-google-protobufs-client-side-read-data-function-error/35189965#35189965", "title": "Mumble/Google protobufs client side read data function error", "body": "<p>Assuming you are trying to read the first (Version) message, which you didn't state, and assuming that 'common string' means 'null-terminated string', and assuming you read a complete message into <code>buf</code> in the first place:</p>\n\n<pre><code>printf(\"Version %04x release %s OS %s OS version %s\\n\",\n    *(int*)buf,\n    buf+4,\n    buf+4+strlen(buf+4)+1,\n    buf+4+strlen(buf+4+strlen(buf+4)+1)+1\n    );\n</code></pre>\n\n<p>... or similar. Note that the version info is in hex not decimal.</p>\n\n<p>E&amp;OE</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5880232, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XvRdUAgitAw/AAAAAAAAAAI/AAAAAAAAF5c/WLgctM4k1BE/photo.jpg?sz=128", "display_name": "Millin Gabani", "link": "https://stackoverflow.com/users/5880232/millin-gabani"}, "is_accepted": false, "score": 1, "last_activity_date": 1454706962, "last_edit_date": 1495541246, "creation_date": 1454624511, "answer_id": 35212820, "question_id": 35188947, "link": "https://stackoverflow.com/questions/35188947/mumble-google-protobufs-client-side-read-data-function-error/35212820#35212820", "title": "Mumble/Google protobufs client side read data function error", "body": "<p>Through <a href=\"https://stackoverflow.com/users/207421/ejp\">EJP</a> answer, I was able to find a solution to my problem. Basically, Mumble uses google protocol buffer to send and receive data. Google protocol buffers sends 6 bytes of information regarding the data before actually sending the data itself. Those 6 bytes in my case were '/0' for some reason. So the reason my force cast didn't work was that there was nothing read in those 6 bytes.</p>\n\n<p>However, when I printed the buffer using <a href=\"https://stackoverflow.com/users/207421/ejp\">EJP</a>'s, code </p>\n\n<pre><code>printf(\"Version %04x release %s OS %s OS version %s\\n\",\n*(int*)buf,\nbuf+4,\nbuf+4+strlen(buf+4)+1,\nbuf+4+strlen(buf+4+strlen(buf+4)+1)+1\n);\n</code></pre>\n\n<p>I was able to see the data after those 6 bytes. The correct way to process data is not by neglecting the first 6 bytes, but to implement google protocol buffers to interpret those 6 bytes and the data sent by protocol buffers. This way you can get data in any language you want(that is what protocol buffer does).</p>\n\n<p>To get more info visit <a href=\"https://developers.google.com/protocol-buffers/\" rel=\"nofollow noreferrer\">Google Protocol Buffers</a>.</p>\n\n<p>If you are creating a mumble client in C++ ,you might also want to visit <a href=\"https://github.com/slomkowski/mumlib\" rel=\"nofollow noreferrer\">Mumlib Library</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 5880232, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XvRdUAgitAw/AAAAAAAAAAI/AAAAAAAAF5c/WLgctM4k1BE/photo.jpg?sz=128", "display_name": "Millin Gabani", "link": "https://stackoverflow.com/users/5880232/millin-gabani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1454706962, "creation_date": 1454538275, "last_edit_date": 1454631709, "question_id": 35188947, "link": "https://stackoverflow.com/questions/35188947/mumble-google-protobufs-client-side-read-data-function-error", "title": "Mumble/Google protobufs client side read data function error", "body": "<p>I am trying to develop a mumble client. To connect to a mumble server (also called murmur) I need to follow steps listed in wiki \"<a href=\"https://mumble-protocol.readthedocs.org/en/latest/establishing_connection.html#connect\" rel=\"nofollow\">https://mumble-protocol.readthedocs.org/en/latest/establishing_connection.html#connect</a>\".</p>\n\n<p>I am coding in Windows Visual Studios in C++. </p>\n\n<p>Step 1 is to establish a TCP connection to server and do a TSLv1 handshake. </p>\n\n<p>I tried to establish a TCP connection and successfully did a TSL handshake. Then I tried to read data using SSL_read(ssl, buf, sizeof(buf)), the function returns 55 (which is number of bytes it read). However, the buffer is still empty when I try to log it out to console. </p>\n\n<p>I log it out in 3 ways:</p>\n\n<ol>\n<li>printf() - since buf is declared as char array, I print it out as using %s in printf()</li>\n<li>cout - print out raw buffer using std::cout</li>\n<li>I was aware the murmur might send binary data back to me, so I tried to force cast the first 4 bytes into a uint32_t and tried to see if I am even getting an data back. It printed 0, meaning the data was just nothing.</li>\n</ol>\n\n<p>I know that my client is reading some data because of 3 reasons:</p>\n\n<ol>\n<li>SSL_read returns number of data read which is 55 in this case.</li>\n<li>I tried to connect to google IP at port 433. The program kept running after the connection was done. It never finished running and it SSL_read didn't return any data. (google doesn't send data like that, so this makes sense)</li>\n<li>Mumble Wiki says after successful connection, the server should send its version information.</li>\n</ol>\n\n<p><strong>My question is that why can't I see the data that is being read. Is there anything that I am missing in connecting to SSL or is there something wrong with the way I am reading from server.</strong> </p>\n\n<p><strong>For those who has made a mumble client: How to get version information from the murmur server ?</strong></p>\n\n<p>Here is my code. <a href=\"http://i.stack.imgur.com/YNYck.png\" rel=\"nofollow\">Check my output</a></p>\n\n<pre><code>#include \"stdafx.h\"\n\n#define _WINSOCK_DEPRECATED_NO_WARNINGS\n\n#pragma comment(lib,\"Ws2_32.lib\")\n/*****************************************************************************/\n/*** ssl_client.c                                                          ***/\n/***                                                                       ***/\n/*** Demonstrate an SSL client.                                            ***/\n/*****************************************************************************/\n\n#include &lt;stdio.h&gt;\n#include &lt;malloc.h&gt;\n#include &lt;string.h&gt;\n#include &lt;memory.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;winsock2.h&gt;\n#include &lt;ws2tcpip.h&gt;\n#include &lt;iostream&gt;\n\n//#include &lt;sys/socket.h&gt;\n//#include &lt;resolv.h&gt;\n//#include &lt;netdb.h&gt;\n#include &lt;openssl/crypto.h&gt;\n#include &lt;openssl/x509.h&gt;\n#include &lt;openssl/pem.h&gt;\n#include &lt;openssl/ssl.h&gt;\n#include &lt;openssl/err.h&gt;\n#include &lt;stdint.h&gt;\n#define FAIL    -1\n\n/*---------------------------------------------------------------------*/\n/*--- OpenConnection - create socket and connect to server.         ---*/\n/*---------------------------------------------------------------------*/\nSOCKET OpenConnection(const char *hostname, int port)\n{\n    SOCKET sd;\n    struct hostent *host;\n    struct sockaddr_in addr;\n\n    WSADATA wsadata;\n\n    int error = WSAStartup(0x0202, &amp;wsadata);\n\n    //Did something happen?\n    if (error)\n        return false;\n\n    //Did we get the right Winsock version?\n    if (wsadata.wVersion != 0x0202)\n    {\n        WSACleanup(); //Clean up Winsock\n        return false;\n    }\n\n\n    printf(\"Starting connection\\n\");\n    /*\n    if ((host = gethostbyname(hostname)) == NULL)\n    {\n        printf(\"No Host\\n\");\n        perror(hostname);\n        abort();\n    }*/\n\n    //memset(&amp;addr, 0, sizeof(addr));\n    addr.sin_family = AF_INET;\n    addr.sin_port = htons(port);\n    addr.sin_addr.s_addr = inet_addr(hostname);\n\n    sd = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n\n    int err = connect(sd, (SOCKADDR *)&amp;addr, sizeof(addr));\n    printf(\"Socket: %d\\n\", sd);\n    if (err!= 0)\n    {\n        closesocket(sd);\n        perror(hostname);\n    }\n    else \n        printf(\"Connected to %s:%d\\n\", hostname, port);\n        return sd;\n}\n\n/*---------------------------------------------------------------------*/\n/*--- InitCTX - initialize the SSL engine.                          ---*/\n/*---------------------------------------------------------------------*/\nSSL_CTX* InitCTX(void)\n{\n    const SSL_METHOD *method;\n    SSL_CTX *ctx;\n    SSL_library_init(); /* load encryption &amp; hash algorithms for SSL */\n    SSL_load_error_strings();\n    OpenSSL_add_all_algorithms();       /* Load cryptos, et.al. */      /* Bring in and register error messages */\n    method = TLSv1_client_method();     /* Create new client-method instance */\n    ctx = SSL_CTX_new(method);          /* Create new context */\n    if (ctx == NULL)\n    {\n        ERR_print_errors_fp(stderr);\n    }\n    return ctx;\n}\n\n/*---------------------------------------------------------------------*/\n/*--- ShowCerts - print out the certificates.                       ---*/\n/*---------------------------------------------------------------------*/\nvoid ShowCerts(SSL* ssl)\n{\n    X509 *cert;\n    char *line;\n\n    cert = SSL_get_peer_certificate(ssl);   /* get the server's certificate */\n    if (cert != NULL)\n    {\n        printf(\"Server certificates:\\n\");\n        line = X509_NAME_oneline(X509_get_subject_name(cert), 0, 0);\n        printf(\"\\t Subject: %s\\n\", line);\n        OPENSSL_free(line);                         /* free the malloc'ed string */\n        line = X509_NAME_oneline(X509_get_issuer_name(cert), 0, 0);\n        printf(\"\\t Issuer: %s\\n\", line);\n        OPENSSL_free(line);                         /* free the malloc'ed string */\n        X509_free(cert);                    /* free the malloc'ed certificate copy */\n    }\n    else\n        printf(\"No certificates.\\n\");\n}\n\n/*---------------------------------------------------------------------*/\n/*--- main - create SSL context and connect                         ---*/\n/*---------------------------------------------------------------------*/\nint main()\n{\n    SSL_CTX *ctx;\n    SOCKET server;\n    SSL *ssl;\n    char buf[1024];\n    int bytes;\n    char *hostname;\n    hostname = &lt;put host name here&gt;;\n    int portnum = &lt;put port here&gt;;\n\n    ctx = InitCTX();\n    printf(\"Initialised SSL\\n\");\n    server = OpenConnection(hostname, portnum);\n    ssl = SSL_new(ctx);                     /* create new SSL connection state */\n    SSL_set_fd(ssl, server);                /* attach the socket descriptor */\n    if (SSL_connect(ssl) == FAIL)           /* perform the connection */\n        ERR_print_errors_fp(stderr);\n    else\n    {\n        int handshake = SSL_do_handshake(ssl);\n        printf(\"Handshake Status: %i\\n\", handshake);\n\n        char *msg = \"Hello???\";\n        printf(\"Connected with %s encryption\\n\", SSL_get_cipher(ssl));\n        ShowCerts(ssl);/* get any certs */\n\n        const char* state = SSL_state_string(ssl);\n        printf(\"State: %s\\n\", state);\n\n        //SSL_write(ssl, msg, strlen(msg));         /* encrypt &amp; send message */\n        bytes = SSL_read(ssl, buf, sizeof(buf));    /* get reply &amp; decrypt */\n        buf[bytes] = '\\0';\n        printf(\"Received %d bytes: \\\"%s\\\"\\n\", bytes,buf);\n\n        std::cout &lt;&lt;\"Raw Buffer: \" &lt;&lt; buf[2] &lt;&lt; \"\\n\";\n\n        uint32_t *test = (uint32_t *)buf;\n        printf(\"Buffer force casted to 32 bit int: %u\\n\", *test);\n\n        SSL_free(ssl);                              /* release connection state */\n    }\n    closesocket(server);                                    /* close socket */\n    SSL_CTX_free(ctx);                              /* release context */\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "null", "delete-operator"], "comments": [{"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454538340, "post_id": 35188921, "comment_id": 58095103, "body": "delete it, other wise memory leak"}, {"owner": {"reputation": 1735, "user_id": 1707083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d10a00a81504b18d3d3723a4b7c252?s=128&d=identicon&r=PG", "display_name": "Samer", "link": "https://stackoverflow.com/users/1707083/samer"}, "edited": false, "score": 0, "creation_date": 1454538357, "post_id": 35188921, "comment_id": 58095118, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1931126/is-it-good-practice-to-null-a-pointer-after-deleting-it\">Is it good practice to NULL a pointer after deleting it?</a>"}, {"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "edited": false, "score": 0, "creation_date": 1454538383, "post_id": 35188921, "comment_id": 58095131, "body": "There is a fundamental difference between <code>delete</code> and assigning <code>NULL</code> to a pointer variable. I suggest you educate about that difference."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "edited": false, "score": 0, "creation_date": 1454538460, "post_id": 35188921, "comment_id": 58095162, "body": "@datenwolf isnt that the point of the question"}, {"owner": {"reputation": 81, "user_id": 4401983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af56ebfd504c67ff3a4bbb8d29935055?s=128&d=identicon&r=PG&f=1", "display_name": "JAM AICA", "link": "https://stackoverflow.com/users/4401983/jam-aica"}, "edited": false, "score": 0, "creation_date": 1454539280, "post_id": 35188921, "comment_id": 58095539, "body": "After deleting,i guess I have destroyed the Object pointed to by Array[6],so now Array[6] can&#39;t be accessed,right?                                                                                             What should I check then,so as not to access a deleted position on my Array?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454539493, "post_id": 35188921, "comment_id": 58095621, "body": "Do you want to delete the object pointed to by <code>Array[6]</code>? If so, do <code>delete Array[6];</code>. If not, don&#39;t <code>delete Array[6];</code>. I&#39;m not sure what there is to be confused about there."}, {"owner": {"reputation": 81, "user_id": 4401983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af56ebfd504c67ff3a4bbb8d29935055?s=128&d=identicon&r=PG&f=1", "display_name": "JAM AICA", "link": "https://stackoverflow.com/users/4401983/jam-aica"}, "edited": false, "score": 0, "creation_date": 1454539673, "post_id": 35188921, "comment_id": 58095708, "body": "Yes,it&#39;s what you&#39;ve mentioned that I want. I want the object pointed by Array[6] to &quot;disappear&quot; and make a new one there."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1454540386, "post_id": 35188921, "comment_id": 58095977, "body": "Do you really need to destroy the object and make a new one? Can&#39;t you just change the value of the object? Does the object not support <code>operator=</code>? Why not <code>*(Array[6]) = ...;</code> or <code>*(Array[6]) = Object(...);</code>?"}, {"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1454541971, "post_id": 35188921, "comment_id": 58096588, "body": "@pm100: I think OP may still have problems grasping that a pointer is just a pointer and that by <code>delete Array[6]</code> it&#39;s not <code>Array[6]</code> that gets destroyed, but the object <code>Array[6]</code> is pointing to. <code>Array[6]</code> of course still can be accessed, but the pointer it holds is then invalid."}, {"owner": {"reputation": 81, "user_id": 4401983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af56ebfd504c67ff3a4bbb8d29935055?s=128&d=identicon&r=PG&f=1", "display_name": "JAM AICA", "link": "https://stackoverflow.com/users/4401983/jam-aica"}, "edited": false, "score": 0, "creation_date": 1454543945, "post_id": 35188921, "comment_id": 58097330, "body": "I know that the object gets destroyed and not the Array[6].But I search for a way afterwards to check if Array[6] is pointing to an existing object or a deleted one.(NULL) How I will achieve that?"}, {"owner": {"reputation": 81, "user_id": 4401983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af56ebfd504c67ff3a4bbb8d29935055?s=128&d=identicon&r=PG&f=1", "display_name": "JAM AICA", "link": "https://stackoverflow.com/users/4401983/jam-aica"}, "edited": false, "score": 0, "creation_date": 1454548183, "post_id": 35188921, "comment_id": 58098730, "body": "Can anyone help me on that? How will I make sure with a statement(?) that I will not try to access a deleted memory and end with an undefined behaviour?"}], "answers": [{"comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 3, "creation_date": 1454538426, "post_id": 35188959, "comment_id": 58095151, "body": "we dont know they have leaks, it depends if the array is the only place where that old pointer was stored. Probably but not 100%"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1454538983, "post_id": 35188959, "comment_id": 58095403, "body": "@pm100 based on the title the OP wants to reset the pointers and she/he wonders which one of the 3 methods renders best. As such my argument holds."}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": true, "score": 3, "last_activity_date": 1454538604, "last_edit_date": 1454538604, "creation_date": 1454538321, "answer_id": 35188959, "question_id": 35188921, "link": "https://stackoverflow.com/questions/35188921/delete-a-pointer-make-it-null-or-nothing/35188959#35188959", "title": "Delete a pointer,make it NULL or nothing?", "body": "<p>2 and 3 are likely to cause memory leaks. As such I would suggest 1, or use array of smart pointers and reset them with new object.</p>\n"}, {"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 1, "last_activity_date": 1454538377, "creation_date": 1454538377, "answer_id": 35188972, "question_id": 35188921, "link": "https://stackoverflow.com/questions/35188921/delete-a-pointer-make-it-null-or-nothing/35188972#35188972", "title": "Delete a pointer,make it NULL or nothing?", "body": "<p>Number 1 is very different. The other 2 are basically the same (but with more or less typing)</p>\n\n<p>Do #1 if the array is the owner of the object, ie you need to free the memory. Otherwise do #2 or 3</p>\n\n<p>And anyway use std::vector and std::shared_ptr</p>\n\n<p>If feels like you come from languages that do magic with references (like c# or Java) where assugining null to a pointer actually does someting. Not so in c++ (unless you use smart pointers and containers as I said before)</p>\n"}], "owner": {"reputation": 81, "user_id": 4401983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af56ebfd504c67ff3a4bbb8d29935055?s=128&d=identicon&r=PG&f=1", "display_name": "JAM AICA", "link": "https://stackoverflow.com/users/4401983/jam-aica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 35188959, "answer_count": 2, "score": 0, "last_activity_date": 1454540154, "creation_date": 1454538168, "last_edit_date": 1454540154, "question_id": 35188921, "link": "https://stackoverflow.com/questions/35188921/delete-a-pointer-make-it-null-or-nothing", "title": "Delete a pointer,make it NULL or nothing?", "body": "<p>talking about C++.\nLet's say I have an array of pointers to objects.In position Array[6] for example,I want to replace the object pointed by, with another of the same type.\nWhich is the wisest way?</p>\n\n<p>1.</p>\n\n<pre><code>delete Array[6];\nArray[6]=new Object(...);\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>Array[6]=NULL;\nArray[6]=new Object(...);\n</code></pre>\n\n<p>3.</p>\n\n<pre><code>Array[6]=new Object(...);\n</code></pre>\n\n<p>Or something else I'm missing.Waiting for advice,thank you!!</p>\n\n<p>EDIT: \nquestion:<br>\nDo you want to delete the object pointed to by Array[6]? If so, do delete Array[6];. If not, don't delete Array[6];. I'm not sure what there is to be confused about there. </p>\n\n<p>answer: \nYes,it's what you've mentioned that I want. I want the object pointed by Array[6] to \"disappear\" and make a new one there. \nMy other problem: I want to delete some objects of the Array in a function, but in another I want to access them so I have to check.\nWhich will be my check?\nMaybe: \n  if (Array[i]==NULL){..} or is it wrong  since I have not \"NULLed\" it?</p>\n"}, {"tags": ["c++", "destructor"], "comments": [{"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1454537975, "post_id": 35188833, "comment_id": 58094925, "body": "scope of object c is the function F\uff0cnot main\uff0cnot for loop"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1454538137, "post_id": 35188833, "comment_id": 58095010, "body": "The last statement in the scope where <code>c</code> is defined is <code>C c(i);</code>."}], "answers": [{"tags": [], "owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537895, "creation_date": 1454537895, "answer_id": 35188859, "question_id": 35188833, "link": "https://stackoverflow.com/questions/35188833/c-when-is-a-destructor-called-before-the-last-statement/35188859#35188859", "title": "C++: When is a destructor called before the last statement?", "body": "<p>Automatic variables (your <code>c</code> in <code>f()</code>), are cleaned up when the stack they are on goes away.</p>\n\n<p>So in this case, it's as your <code>f(i)</code> call is returning.  For objects, this includes calling the destructor.</p>\n\n<p>Globals and static variables are also cleaned up as your program exits, when it exits properly.  If it exits via an uncaught exception, they may not be cleaned up (it's not required).</p>\n"}, {"tags": [], "owner": {"reputation": 2658, "user_id": 68887, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/829f7879ad9e57e82663b5616af493bb?s=128&d=identicon&r=PG", "display_name": "mentat", "link": "https://stackoverflow.com/users/68887/mentat"}, "is_accepted": true, "score": 1, "last_activity_date": 1454537918, "creation_date": 1454537918, "answer_id": 35188863, "question_id": 35188833, "link": "https://stackoverflow.com/questions/35188833/c-when-is-a-destructor-called-before-the-last-statement/35188863#35188863", "title": "C++: When is a destructor called before the last statement?", "body": "<p>Object <code>C</code> is created inside function f. So, <code>C</code> is destroyed when the <code>f</code> function scope ends, simply right after calling <code>f(i)</code> in main, <code>f</code> scope is destroyed, and the <code>C</code> object's destructor is called.</p>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537996, "creation_date": 1454537996, "answer_id": 35188879, "question_id": 35188833, "link": "https://stackoverflow.com/questions/35188833/c-when-is-a-destructor-called-before-the-last-statement/35188879#35188879", "title": "C++: When is a destructor called before the last statement?", "body": "<blockquote>\n  <p>This is strange because the line C2:0 is part of the destructor which I've learned is called after the last statement.</p>\n</blockquote>\n\n<p>The destructor is called after the last statement <strong>of the scope containing the variable which is an instance of a class.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 5838702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d06da34eb933b3e2004717579e49a?s=128&d=identicon&r=PG&f=1", "display_name": "Ilan Kutsman", "link": "https://stackoverflow.com/users/5838702/ilan-kutsman"}, "is_accepted": false, "score": 0, "last_activity_date": 1454538306, "creation_date": 1454538306, "answer_id": 35188955, "question_id": 35188833, "link": "https://stackoverflow.com/questions/35188833/c-when-is-a-destructor-called-before-the-last-statement/35188955#35188955", "title": "C++: When is a destructor called before the last statement?", "body": "<p><code>C</code> is created and destroyed within the scope of the <code>f(int i)</code> function so the destructor of C prints \"C2:0\". f finishes and only then Y is printed. </p>\n"}], "owner": {"reputation": 153, "user_id": 4225869, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e0c8731c9046ac7dd76ed6dd1027458f?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Susa", "link": "https://stackoverflow.com/users/4225869/josh-susa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 35188863, "answer_count": 4, "score": 0, "last_activity_date": 1454538306, "creation_date": 1454537762, "question_id": 35188833, "link": "https://stackoverflow.com/questions/35188833/c-when-is-a-destructor-called-before-the-last-statement", "title": "C++: When is a destructor called before the last statement?", "body": "<p>So I have some C++ code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass C {\npublic:\n    C() {i = 9; cout &lt;&lt; \"C0:\" &lt;&lt; i &lt;&lt; endl;}\n\n    C(int i0) {i = i0; cout &lt;&lt; \"C1:\" &lt;&lt; i &lt;&lt; endl;}\n\n    ~C() {cout &lt;&lt; \"C2:\" &lt;&lt; i &lt;&lt; endl;}\nprivate:\n    int i;\n};\n\nvoid f(int i) {\n    C c(i);\n}\n\nint main(int argc, char* argv[]) {\n    for (int i  = 0; i &lt; 1; i++) {\n        cout &lt;&lt; \"X\" &lt;&lt; endl;\n        f(i);\n        cout &lt;&lt; \"Y\" &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>X\nC1:0\nC2:0\nY\n</code></pre>\n\n<p>This is strange because the line C2:0 is part of the destructor which I've learned is called after the last statement. So my question is in what kind of situations are destructors called before the last statement? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1454537674, "post_id": 35188792, "comment_id": 58094772, "body": "use <code>std::size_t c;</code> instead of <code>int c;</code> ?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454537791, "post_id": 35188792, "comment_id": 58094833, "body": "anyway, that&#39;s a <b>warning</b>, not an error (unless you&#39;ve asked for warnings to be treated as errors, which can be sensible). A good way to solve this is to introduce an <code>n_items</code> function that returns the dynamic size as a signed integer, e.g. a <code>ptrdiff_t</code>. Using a typedef <code>Size</code> helps."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1454537808, "post_id": 35188792, "comment_id": 58094839, "body": "You can still cast using cast."}, {"owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "edited": false, "score": 0, "creation_date": 1454537991, "post_id": 35188792, "comment_id": 58094935, "body": "interjay it&#39;s ++c ty, edited it"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1454696230, "post_id": 35188876, "comment_id": 58176190, "body": "To be clear, as we talked about yesterday, using <code>int</code> will cause problems for arrays with more than <code>INT_MAX</code> elements. Am I understanding you correctly that you don&#39;t consider that a flaw in the code, but rather a flaw in the code that passes in such an array? Either way, it deserves a warning, in my opinion, considering how badly it breaks. A simple example is <a href=\"http://goo.gl/xAsMYE\" rel=\"nofollow noreferrer\">this one</a>, which segfaults because <code>c</code> overflows to <code>INT_MIN</code>, leading to an out-of-bounds access."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454720199, "post_id": 35188876, "comment_id": 58186668, "body": "@hvd: You&#39;re right that if the array has more than <code>INT_MAX</code> items, then the OP&#39;s code is faulty. However, the &quot;passes in&quot; doesn&#39;t make sense to me, sorry. The loop (specific case) is not a function, so there the &quot;passes in&quot; doesn&#39;t fit, and the function (general case) doesn&#39;t use <code>int</code> but <code>ptrdiff_t</code>, so there there is no size limitation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1454748044, "post_id": 35188876, "comment_id": 58192293, "body": "Yeah, that was sloppily worded, sorry. The <code>for</code> loop would appear inside a function. I meant if that function got passed a large array. The dynamic array implementation that the OP is using uses <code>size_t</code> for the length, so it would be possible to pass in such a large array."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454748412, "post_id": 35188876, "comment_id": 58192383, "body": "@hvd: Well, unbeknownst to you, the array has exactly 16 items, the hex digits. :) Or something else of that sort. We don&#39;t know. It could be that the <code>&#47;&#47; More codes here</code> comment hides a grave error, which would would never have occurred had there been braces around the loop body. Hm."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1454749002, "post_id": 35188876, "comment_id": 58192549, "body": "Yup. And the fact that we don&#39;t know tells me that we shouldn&#39;t assume the length will fit in an <code>int</code>. To you, it indicates that we shouldn&#39;t assume we need to worry about special cases, right?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454749577, "post_id": 35188876, "comment_id": 58192682, "body": "@hvd: I don&#39;t &quot;improve&quot; presented code in the ways I can image that it could be faulty. The code in my answer would then not resemble the OP&#39;s code very much. That would not be good for the OP. I strongly <b>suggest that you stop doing it</b>. It&#39;s hopelessly counter-productive and is not helpful in any way."}], "tags": [], "owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": false, "score": 2, "last_activity_date": 1454540200, "last_edit_date": 1495541738, "creation_date": 1454537976, "answer_id": 35188876, "question_id": 35188792, "link": "https://stackoverflow.com/questions/35188792/using-a-size-t-as-limiter-for-a-for-loop/35188876#35188876", "title": "Using a size_t as limiter for a &quot;for loop&quot;", "body": "<p>Regarding</p>\n\n<blockquote>\n  <p><strong>&rdquo;</strong> comparison of integer of different signs: 'int' and 'size_t' (aka unsigned int)</p>\n</blockquote>\n\n<p>&hellip; this is a <strong>warning</strong>. It's not an <strong>error</strong> that prevents creation of an executable, unless you've asked the compiler to treat warnings as errors.</p>\n\n<p>A very direct way to address it is to use a cast, <code>int(a.size)</code>.</p>\n\n<p>More generally I recommend defining a common function to do that, e.g. named <code>n_items</code> (C++17 will have a <code>size</code> function, unfortunately with unsigned result and conflating two or more logical functions, so that name's taken):</p>\n\n<pre><code>using My_array = ...; // Whatever\n\nusing Size = ptrdiff_t;\n\nauto n_items( My_array const&amp; a )\n    -&gt; Size\n{ return a.used; }\n</code></pre>\n\n<p>then for your loop:</p>\n\n<pre><code>for( int c = 0; c &lt; n_items( a ); ++c )\n</code></pre>\n\n<hr>\n\n<p>By the way it's generally Not A Good Idea&trade; to <em>reuse</em> a variable, like <code>c</code> here. I'm assuming that that reuse was unintentional. The example above shows how to declare the loop variable in the <code>for</code> loop head.</p>\n\n<hr>\n\n<p>Also, as <a href=\"https://stackoverflow.com/users/214671/matteo-italia\">Matteo Italia</a> notes in <a href=\"https://stackoverflow.com/a/35188977/464581\">his answer</a>, it can sometimes be a good idea to manually optimize a loop like this, if <strong>measuring</strong> shows it to be a bottleneck. That's because the compiler can't easily prove that the result of the <code>n_items</code> call, or any other dynamic array size expression, is the same (is &ldquo;invariant&rdquo;) in all executions of the loop body.</p>\n\n<p>Thus, if measuring tells you that the possibly repeated size expression evaluations are a bottleneck, you can do e.g.</p>\n\n<pre><code>for( int c = 0, n = n_items( a ); c &lt; n; ++c )\n</code></pre>\n\n<p>It's worth noting that any manual optimization carries costs, which are not easy to measure, but which are severe enough that the usual advice to is to defer optimization until measurements tell you that it's really needed.</p>\n"}, {"comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1454538273, "post_id": 35188914, "comment_id": 58095066, "body": "That can work technically, to shut the compiler up, but it introduces unsigned arithmetic and conversions. Which tends to introduce bugs. So it&#39;s not a good idea."}, {"owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "edited": false, "score": 0, "creation_date": 1454538972, "post_id": 35188914, "comment_id": 58095397, "body": "My requirement is not to change type since it may cause more problems on other parts of code. I did try this and it did gave me more warnings."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 3, "creation_date": 1454539207, "post_id": 35188914, "comment_id": 58095503, "body": "@Cheersandhth.-Alf: Except <code>a.used</code> is already a <code>size_t</code>, and you have to assume it can take most if not all possible values. You&#39;ve got <code>unsigned</code> arithmetic no matter what. If you want to be paranoid, verify that <code>a.used</code> != SIZE_MAX<code>, but using </code>size_t` for the loop counter is the only way to make this safe and correct, otherwise you can end up either terminating the loop early (if <code>(int)a.used</code> causes wrapping) or never terminating (if <code>a.used &gt; INT_MAX</code>, maybe <code>UINT_MAX</code>, then <code>c</code> wraps before it ever hits the loop termination condition)."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1454539442, "post_id": 35188914, "comment_id": 58095603, "body": "@ShadowRanger: No, exceeding the range for an array size, is not a concern in modern programming. It was a concern in 16-bit programming. But even with 32-bit programming the signed index size exceeds any array size you can have. So, it&#39;s basically a straw-man argument. I&#39;m sure you&#39;ve just picked it up somewhere, because one can&#39;t land there by reasoning."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 4, "creation_date": 1454540622, "post_id": 35188914, "comment_id": 58096072, "body": "@Cheersandhth.-Alf On a typical modern GNU/Linux system (x86_64), <code>int</code> has 32 bits, <code>size_t</code> has 64 bits, and allocations of more than 2GB or even 4GB are possible. Do you think that&#39;s an atypical system? I don&#39;t. It won&#39;t be the most used environment, but it&#39;s still common enough to worry about."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454542176, "post_id": 35188914, "comment_id": 58096657, "body": "@hvd: Those are facts and very irrelevant. Why do you mention them? It&#39;s dumber than dumb, but I see your comment got 2 upvotes, so it probably struck an associative note with some readers. That&#39;s SO for you. A voting arena for free-associaters."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454542585, "post_id": 35188914, "comment_id": 58096817, "body": "@hvd: It could help readers if you could make <b>explicit</b> your reasoning. I think you&#39;re maybe thinking that <code>int</code> isn&#39;t sufficient. As a kind of misguided and just plain illogical criticism of using <code>ptrdiff_t</code>. Can you confirm that that&#39;s your error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1454543281, "post_id": 35188914, "comment_id": 58097093, "body": "@Cheersandhth.-Alf You defended using <code>int</code> for loop variables when they represent array indices, saying that isn&#39;t a problem in modern programming. I gave an example of a modern system where it is. So yes, an example where <code>int</code> isn&#39;t sufficient. Seems relevant enough to me. I do not see why you are bringing <code>ptrdiff_t</code> into this though."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454543506, "post_id": 35188914, "comment_id": 58097161, "body": "@hvd: No, I didn&#39;t defend using <code>int</code> for loop variables in general. That&#39;s a straw man argument. I recommended using <code>ptrdiff_t</code> for the general case, such as an <code>n_items</code> function shown in my answer, and here, in the comments, I recommended against using <code>size_t</code>. That should not be possible to misunderstand. But such things happen."}, {"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1454543832, "post_id": 35188914, "comment_id": 58097298, "body": "Could you guys like take it offline or in some chatroom please? I keep receiving notifications for this. <a href=\"http://chat.stackoverflow.com/rooms/info/102534/alf-vs-hvd?tab=general\">Here</a>, I made one just for you."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1454543950, "post_id": 35188914, "comment_id": 58097335, "body": "@hvd: No, it doesn&#39;t break, unless the OP&#39;s original code was faulty. So this is your second incorrect assertion. Just to be clear, your error this time is to conflate the general case with a specific case, reasoning that any car has to be designed for race track and pickup duty, plus some, to cover all generalities, which is not a good approach in any engineering discipline."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 3, "creation_date": 1454543976, "post_id": 35188914, "comment_id": 58097340, "body": "@Cheersandhth.-Alf Your answer uses <code>int</code> for <code>c</code> and <code>n</code> without checking that the values you want to store in them fit. I will be happy to construct a simple program tomorrow to show precisely how this will fail on my system. (Excuse my earlier reply to your last comment, I didn&#39;t read carefully enough. Rewritten now, the point stands.) &quot;unless the OP&#39;s original code was faulty.&quot;: it was."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1454544036, "post_id": 35188914, "comment_id": 58097358, "body": "@hvd: You can&#39;t break it unless you have more items in your array than the OP has. I.e. unless you introduce an error that wasn&#39;t there. Assuming his/her code is correct. It is ... just the OP&#39;s code."}, {"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1454544122, "post_id": 35188914, "comment_id": 58097388, "body": "Seriously guys. I don&#39;t care, please go in the chatroom and talk there and maybe link it once here."}], "tags": [], "owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "is_accepted": false, "score": 9, "last_activity_date": 1454538138, "creation_date": 1454538138, "answer_id": 35188914, "question_id": 35188792, "link": "https://stackoverflow.com/questions/35188792/using-a-size-t-as-limiter-for-a-for-loop/35188914#35188914", "title": "Using a size_t as limiter for a &quot;for loop&quot;", "body": "<p>Just use <code>std::size_t c</code> instead of <code>int c</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1454539595, "post_id": 35188977, "comment_id": 58095666, "body": "Upvoted for the manual optimization and explanation of why the compiler isn&#39;t always likely to do this. Good point."}, {"owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "edited": false, "score": 0, "creation_date": 1454539802, "post_id": 35188977, "comment_id": 58095763, "body": "Can you change var i to c just cause it&#39;s the var used."}], "tags": [], "owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "is_accepted": true, "score": 3, "last_activity_date": 1454539963, "last_edit_date": 1454539963, "creation_date": 1454538386, "answer_id": 35188977, "question_id": 35188792, "link": "https://stackoverflow.com/questions/35188792/using-a-size-t-as-limiter-for-a-for-loop/35188977#35188977", "title": "Using a size_t as limiter for a &quot;for loop&quot;", "body": "<p>As long as <code>a.used</code> doesn't change during the iteration, a common idiom is:</p>\n\n<pre><code>for(int c=0, n=a.used; c&lt;n; ++c) {\n    ...\n}\n</code></pre>\n\n<p>In this way, the cast happens implicitly, and you also have the \"total number of elements\" variable <code>n</code> handy in the loop body. Also, when <code>n</code> comes from a methods call (say, <code>vec.size()</code>) you evaluate it just once, which is slightly more efficient.<sup>1</sup></p>\n\n<hr>\n\n<p><sup>\n<sup>1.</sup> In theory the compiler may do this optimization by itself, but with \"complicated\" stuff like <code>std::vector</code> and a nontrivial loop body it's surprisingly difficult to prove that it's a loop invariant, so often it's just recalculated at each iteration.\n</sup></p>\n"}], "owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2765, "favorite_count": 1, "accepted_answer_id": 35188977, "answer_count": 3, "score": 3, "last_activity_date": 1454540200, "creation_date": 1454537596, "last_edit_date": 1495535304, "question_id": 35188792, "link": "https://stackoverflow.com/questions/35188792/using-a-size-t-as-limiter-for-a-for-loop", "title": "Using a size_t as limiter for a &quot;for loop&quot;", "body": "<p>I'm using a C++ app on my s6 named CppDroid to make a quick program.</p>\n\n<p>How do you use a size_t as limiter for a \"for loop\" on it's counter?</p>\n\n<pre><code>int c;\n\n//... more codes here...\n\n    for (c=0; c &lt; a.used; ++c)\n\n        //... more codes here...\n</code></pre>\n\n<p>The <strong>a.used</strong> is a number of used array that came from a solution to make a <a href=\"https://stackoverflow.com/questions/7221981/how-to-make-a-dynamic-sized-array-in-c\">dynamic sized array</a></p>\n\n<p>The error is: <em>comparison of integer of different signs: 'int' and 'size_t' (aka unsigned int)</em></p>\n\n<p>The for loop is one of an internal nested loops of the program so I want to maintain variable c as an \"int\" as much as possible.</p>\n\n<p>I've seen examples about <a href=\"https://stackoverflow.com/questions/3642010/comparing-int-with-size-t\">Comparing int with size_t</a>  but I'm not sure how it can help since it is for an \"if\" condition.</p>\n"}, {"tags": ["c++", "loops", "for-loop", "while-loop", "readability"], "comments": [{"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1454537397, "post_id": 35188726, "comment_id": 58094631, "body": "Both have equality checks, what&#39;s the difference w.r.t the title of your question? Equality checks are totally fine, and using a for loop rather than the equivalent while-loop is probably easier for most people to read. There is no performance difference. Do what you find easiest to read and is correct."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1454537446, "post_id": 35188726, "comment_id": 58094653, "body": "<code>current_node-&gt;data != query</code> can be altogether in the loop condition. Just <code>&amp;&amp;</code> it. Then you just use <code>current_node</code> after the loop."}, {"owner": {"reputation": 567, "user_id": 5850658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9x8Qq.png?s=128&g=1", "display_name": "Aposhian", "link": "https://stackoverflow.com/users/5850658/aposhian"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454538256, "post_id": 35188726, "comment_id": 58095057, "body": "@LogicStuff Would it matter that <code>current_node-&gt;data</code> would result in an invalid read if <code>current_node == nullptr</code> or would that be covered by the ordering of the <code>&amp;&amp;</code> operator?"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 1, "creation_date": 1454538356, "post_id": 35188726, "comment_id": 58095115, "body": "Yes, see <a href=\"http://stackoverflow.com/questions/5211961/how-does-c-handle-short-circuit-evaluation\">this</a>."}], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 5850658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9x8Qq.png?s=128&g=1", "display_name": "Aposhian", "link": "https://stackoverflow.com/users/5850658/aposhian"}, "edited": false, "score": 0, "creation_date": 1454537784, "post_id": 35188782, "comment_id": 58094829, "body": "Thank you, but the purpose of this code was to practice defining my own container from scratch. Otherwise I would have used std::list."}, {"owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "reply_to_user": {"reputation": 567, "user_id": 5850658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9x8Qq.png?s=128&g=1", "display_name": "Aposhian", "link": "https://stackoverflow.com/users/5850658/aposhian"}, "edited": false, "score": 0, "creation_date": 1454537985, "post_id": 35188782, "comment_id": 58094930, "body": "@Aposhian Glad to hear it."}], "tags": [], "owner": {"reputation": 69802, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537543, "creation_date": 1454537543, "answer_id": 35188782, "question_id": 35188726, "link": "https://stackoverflow.com/questions/35188726/readability-of-for-loops-without-counters/35188782#35188782", "title": "Readability of for-loops without counters", "body": "<p>It's not a bad practice to loop through a linked list via <code>for</code> loop, but you can improve it to:</p>\n\n<pre><code>std::list&lt;type&gt; list;\nauto it = std::find(begin(list), end(list), query);\nif (it != end(list))\n    // perform some action\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 5850658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9x8Qq.png?s=128&g=1", "display_name": "Aposhian", "link": "https://stackoverflow.com/users/5850658/aposhian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454537543, "creation_date": 1454537332, "last_edit_date": 1454537470, "question_id": 35188726, "link": "https://stackoverflow.com/questions/35188726/readability-of-for-loops-without-counters", "title": "Readability of for-loops without counters", "body": "<p>I recently wrote an implementation for a simple linked list, and at several points in my code it looks like</p>\n\n<pre><code>Node* current_node = head;\nwhile (current_node != nullptr) {\n    if (current_node-&gt;data == query) {\n    // perform some action\n    break;\n    }\ncurrent_node = current_node-&gt;next;\n}\n</code></pre>\n\n<p>And I just recently thought I could re-implement this as</p>\n\n<pre><code>for (Node* current_node = head; current_node != nullptr; current_node = current_node-&gt;next) {\n    if (current_node-&gt;data == query) {\n    // perform some action\n    break;\n    }\n}\n</code></pre>\n\n<p>I know that both are syntactically correct, and that any performance differences should be negligible, but I was wondering if having an equality condition in the check is generally implemented in a for-loop? Previously I have only used inequalities (ex: >, &lt;, etc.) in for-loops. Which version is more conventional/readable?</p>\n"}, {"tags": ["python", "c++", "c", "arrays", "bit-manipulation"], "comments": [{"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 5, "creation_date": 1454536409, "post_id": 35188340, "comment_id": 58094121, "body": "Do you want your homework solved in python, c or c++? Or maybe you just want all three?"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 1, "creation_date": 1454536682, "post_id": 35188340, "comment_id": 58094262, "body": "All you need is a decorator that redirects accesses, that way you don&#39;t have to shuffle the data at all. That said, for larger data structures, you can first rotate tiles of N by N bits by their center and then rotate them around the data structure&#39;s center. Similarly to the bit order inversion that first swaps high and low half and then inverts these."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454536764, "post_id": 35188340, "comment_id": 58094301, "body": "@4386427 Thanks for the offer, but this is not homework related."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1454536893, "post_id": 35188340, "comment_id": 58094383, "body": "Too bad you are only allowed to add five tags. TO narrow down your question, you should add C#, Fortran, Algol and OcamML and any other PL you ever heard about."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1454537160, "post_id": 35188340, "comment_id": 58094520, "body": "@Ulrich Eckhardt So for clarification, i do want to access bits, and not bytes. I cant se how one would do that efficiently with a python decorator..."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454537234, "post_id": 35188340, "comment_id": 58094553, "body": "@user5880052 - ok - not homework then - well, if you are looking for an easy-to-use and high performance language with good bit-operations then <code>c</code> is a good choice. Also, <code>c++</code> is just as good when used correctly. To my limited knowledge <code>python</code> will not be able to perform as well but I&#39;m not an expert in that area. Just do a google for bitwise operators in <code>c</code> or <code>c++</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454537478, "post_id": 35188340, "comment_id": 58094666, "body": "@4386427: As Python does not limit the size of an integer like the other languages, It would be the most simple language to use actually. Not the fastest, though. But it is not clear what OP actually wants and adding that much language tags makes it too broad."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1454537583, "post_id": 35188340, "comment_id": 58094723, "body": "@Olaf Thanks, but C[++] or Python would be sufficient. If you care to explain how one would do it in the languarge of your choice, i would even try to understand whats going there..."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1454537622, "post_id": 35188340, "comment_id": 58094746, "body": "@Olaf - I&#39;m sure your right - I&#39;ve seen examples of <code>python</code> code doing amazing stuff in a few lines but I assumed performance was the issue. Once again my disclaimer: I&#39;m not a <code>python</code>expert so I could be wrong :) And most certainly agree to your comment about the question being unclear."}, {"owner": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "edited": false, "score": 0, "creation_date": 1454537655, "post_id": 35188340, "comment_id": 58094762, "body": "Will it always be 8 bit elements? Or are you looking for something more general, maybe 16, 32, and 64 bits as well? And will the  number of columns and rows always be the same?"}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "edited": false, "score": 0, "creation_date": 1454538007, "post_id": 35188340, "comment_id": 58094941, "body": "@nabla for the example i picked a byte sized data type, the real use case would propably break down the problem in chunks of 64x64."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "edited": false, "score": 0, "creation_date": 1454544615, "post_id": 35188886, "comment_id": 58097553, "body": "Thanks for the link, kind of what i looked for, works great. Also pointed me in the direction of &quot;8x8 bit matrix transposition&quot;, which is the keyword i was looking for."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4023418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2b157cf12258cebc22300af22dad977?s=128&d=identicon&r=PG", "display_name": "hiandbaii", "link": "https://stackoverflow.com/users/4023418/hiandbaii"}, "is_accepted": true, "score": 0, "last_activity_date": 1454538039, "creation_date": 1454538039, "answer_id": 35188886, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35188886#35188886", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>I suggest looking at the source provided <a href=\"http://programming.sirrida.de/calcperm.php\" rel=\"nofollow\">here</a></p>\n\n<p>In particular, calcperm.cpp. This is a simple bit permutation problem.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "edited": false, "score": 0, "creation_date": 1454544960, "post_id": 35189950, "comment_id": 58097673, "body": "Thanks nabla, for the detailed example. Looks faster than my original version. If you are interested in a more theoretical aproach finding fastest possible solutions (using SSE and AVX features), calculated from the number of cpu instructions, check out @haiandbaii &#39;s answer or search for &quot;8x8 bit matrix inversion&quot;."}], "tags": [], "owner": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1454542987, "creation_date": 1454542987, "answer_id": 35189950, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35189950#35189950", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>Here is a solution if the rotation is for a square number of rows and columns, and then it just does a transpose of the bits.</p>\n\n<p>I used 8 bit elements as in the question. Also, bit 7 is the leftmost bit, while bit 0 is the rightmost bit. I'll refer to the bits in columns and rows in the following format (simply because this is how I could most quickly print the bits -- as a result the indexing is trickier than in the best case, but it can be modified appropriately):</p>\n\n<pre><code>    | col : 7 6 5 4 3 2 1 0\n--------------------------\nrow:| 0     0 1 1 1 1 1 1 1\n    | 1     0 0 1 0 0 1 1 1 \n    | 2     0 0 0 0 0 1 0 0\n    | 3     0 0 0 0 1 0 0 1\n    | 4     0 0 0 0 1 1 0 0\n    | 5     0 1 1 0 0 1 0 0\n    | 6     1 1 0 0 1 0 0 0\n    | 7     1 0 0 1 0 1 1 0\n</code></pre>\n\n<p>Then I defined the following struct to wrap the 8 bit elements, and perform the bit manipulation and printing:</p>\n\n<pre><code>struct Element {\n    Element(uint8_t E) : e(E) {}\n\n    // Just for convienience\n    static constexpr int size = 8;\n    uint8_t e;\n\n    // Get a bit from the element\n    inline uint8_t get(uint8_t i) {\n        return (e &gt;&gt; i &amp; 0x01);\n    }\n\n    // Flip a bit in the element\n    inline void flip(uint8_t i) {\n        e ^= (0x01 &lt;&lt; i);\n    }\n\n    // Just for convienience\n    void print() {\n        std::cout &lt;&lt; std::bitset&lt;8&gt;(e) &lt;&lt; \"\\n\";\n    }\n};\n</code></pre>\n\n<p>As well as the following function to flip bits in two <code>Element</code>s -- note that you only need to flip the bits if they are not the same since the elements are binary.</p>\n\n<pre><code>inline void swap(Element&amp; a, Element&amp; b, int a_offset, int b_offset) {\n    if (a.get(a_offset) != b.get(b_offset)) {\n        a.flip(a_offset); b.flip(b_offset);\n    }\n}\n</code></pre>\n\n<p>Then it's just a matter of looping through the elements in the upper triangle (above the diagonal), and swapping them with the elements in the lower triangle (below the diagonal) as follows:</p>\n\n<pre><code>int main() {\n  std::vector&lt;Element&gt; array = { 127, 39, 4, 9, 12, 100, 200, 150 };\n\n  for (auto&amp; a : array) a.print(); std::cout &lt;&lt; \"\\n\"; // Before\n\n  // Do the swapping\n  for (size_t row = 0; row &lt; array.size(); ++row) {\n    for (size_t col = Element::size - 1 - row; col &gt;= 1; --col) {\n      swap(array[row], array[Element::size - col], col - 1, Element::size - 1 - row);\n    }\n  }\n\n  for (auto&amp; a : array) a.print(); // After\n}  \n</code></pre>\n\n<p>Which produces the transformation as in the question : see the <a href=\"http://coliru.stacked-crooked.com/a/8dade58f1b921cf6\" rel=\"nofollow\">live demo</a> which shows the input and output. Compiling with <code>-O3</code> ran in about 1.1 microseconds (just the transformation, not including the printing). </p>\n\n<p>You can also pretty easily change the transformation to be a 90 degree right or left rotation, just by modifying the indexing. </p>\n"}, {"tags": [], "owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1454544438, "creation_date": 1454544438, "answer_id": 35190196, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35190196#35190196", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>Here is a simple implementation in C for the 8x8 case:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef unsigned char byte;\n\nvoid dump(const char *name, const byte *p, int size) {\n    int len = printf(\"%s =&gt; ['\", name) - 1;\n    for (int i = 0; i &lt; size; i++) {\n        for (int j = 0; j &lt; 8; j++) {\n            putchar('0' + ((p[i] &gt;&gt; (7 - j)) &amp; 1));\n        }\n        if (i &lt; 7) {\n            printf(\"',\\n%*s'\", len, \"\");\n        }\n    }\n    printf(\"']\\n\");\n}\n\nint main(int argc, char **argv) {\n    byte original[8], rotated[8];\n    int repeat = 1;\n\n    if (argc &gt; 1)\n        repeat = atoi(argv[1]);\n\n    for (int i = 0; i &lt; 8; i++) {\n        original[i] = rand() &amp; 255;\n    }\n    for (int r = 0; r &lt; repeat; r++) {\n        /*-------- this is the core of the rotation --------*/\n        for (int i = 0; i &lt; 8; i++) {\n            rotated[i] = 0;\n        }\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                rotated[j] |= ((original[i] &gt;&gt; (7 - j)) &amp; 1) &lt;&lt; (7 - i);\n            }\n        }\n        /*-------- end of the rotation code --------*/\n    }\n    if (repeat == 1) {\n        dump(\"original\", original, 8);\n        dump(\"rotated\", rotated, 8);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Run it without an argument for a sample random test:</p>\n\n<pre><code>chqrlie@mac ~/dev/stackoverflow &gt; ./rot8x8\noriginal =&gt; ['10100111',\n             '11110001',\n             '11011001',\n             '00101010',\n             '10000010',\n             '11001000',\n             '11011000',\n             '11111110']\nrotated =&gt; ['11101111',\n            '01100111',\n            '11010001',\n            '01100011',\n            '00110111',\n            '10000001',\n            '10011001',\n            '11100000']\n</code></pre>\n\n<p>Run it with a numeric argument for timing:</p>\n\n<pre><code>chqrlie@mac ~/dev/stackoverflow &gt; time ./rot8x8 20000000\nreal    0m0.986s\nuser    0m0.976s\nsys     0m0.004s\n</code></pre>\n\n<p>On a MacbookPro, with <code>clang -O3</code>, this naive program performs a single rotation takes <strong>less than 50ns</strong>, <strong>400 times faster</strong> than your Numpy example.  I'm sure there are faster methods, but this is already significantly better.</p>\n"}], "owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "closed_date": 1454578538, "accepted_answer_id": 35188886, "answer_count": 3, "score": 1, "last_activity_date": 1454544438, "creation_date": 1454535866, "last_edit_date": 1454536410, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python", "closed_reason": "Needs more focus", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>How does one efficiently convert from an 8 element long array of e.g. uint8s into a its \"rotated\" counterpart, were e.g. the original 8bits of the first element are spread across all vector elements as the MSB, and the second last element spread across the second MSB, and so on: Working and slow example:</p>\n\n<pre><code>import numpy as np\n\noriginal = np.random.randint(0, 255, 8).astypye(np.uint8) # some random example vector\n[np.binary_repr(i, width=8) for i in original]            # original data\n=&gt;['01111111',\n   '00100111',\n   '01110111',\n   '00100010',\n   '00111101',\n   '10010000',\n   '10000100',\n   '10101000']\n\nrotated = np.packbits(np.unpackbits(original).reshape(-1,8).T) # &lt;= SLOW ROTATION\n[np.binary_repr(i, width=8) for i in rotated]                  # this is should be the result\n=&gt;['00000111',                                                 # what where rows originally\n   '10100000',                                                 # are now columns\n   '11111001',\n   '10101100',\n   '10001001',\n   '11101010',\n   '11110000',\n   '11101000']\n</code></pre>\n\n<p>So in the end, I want to reorder the layout how BITS are \"filed\" into the RAM. As you can see I got a working example in Numpy, it is not super slow (here ~ 21 \u00b5s), however I would like to do this excercise with data structures in the order of ~2k * 1 mio bits. Therefore the usage of the numpy or C bool dtype is to wasteful (factor 8 overhead).</p>\n\n<p>Any C bit shuffling magic or SSE instructions or general answers are welcome!</p>\n"}, {"tags": ["c++", "string", "dynamic-allocation"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1454534918, "post_id": 35188042, "comment_id": 58093314, "body": "Use <code>const</code> in the copy constructor: <code>String(const String &amp;s)</code>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1454535497, "post_id": 35188042, "comment_id": 58093632, "body": "You&#39;re using <code>strdup</code> in your constructor, and then you mix in <code>new[]</code> in your other functions.  So what is your destructor going to look like?  The <code>strdup</code> returns a pointer that is deallocated using <code>free()</code>, not <code>delete[]</code>.  Why didn&#39;t you just use <code>new[]</code> in the constructor also?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1454536084, "post_id": 35188042, "comment_id": 58093948, "body": "Also, operator <code>+=</code> should be returning a reference to the current object, not a brand new String object.  In addition, <code>operator +</code> can be written in terms of <code>operator +=</code> -- there is no need for code duplication.  In short, there are a few more issues with your class besides the copy constructor."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4418053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3170f310d9ff49cb3e7d5977081840b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ruidongd", "link": "https://stackoverflow.com/users/4418053/ruidongd"}, "edited": false, "score": 0, "creation_date": 1454535190, "post_id": 35188089, "comment_id": 58093462, "body": "After adding the const in operator &lt;&lt;, the compiler tells me that member function &#39;print&#39; not viable: &#39;this&#39; argument has type &#39;const  \t String&#39;, but function is not marked const"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 4, "creation_date": 1454536197, "post_id": 35188089, "comment_id": 58094005, "body": "<code>operator +=</code> should really be returning a <code>String&amp;</code> and then the return would be <code>return *this;</code>."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1454536527, "post_id": 35188089, "comment_id": 58094178, "body": "@PaulMcKenzie Thanks, I&#39;ve added a reference to avoid making a copy :)"}], "tags": [], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "is_accepted": false, "score": 3, "last_activity_date": 1454536457, "last_edit_date": 1454536457, "creation_date": 1454534933, "answer_id": 35188089, "question_id": 35188042, "link": "https://stackoverflow.com/questions/35188042/no-matching-constructor-when-i-overload-operator-for-dynamic-string-class/35188089#35188089", "title": "No matching constructor when I overload operator for dynamic string class", "body": "<p>This should be the copy constructor signature:</p>\n\n<pre><code>String(String const&amp; s)\n</code></pre>\n\n<p>so the reference can bind to an r-value returned by <code>operator+</code>. Additionally, you should also use this signature for <code>operator&lt;&lt;</code>:</p>\n\n<pre><code>ostream &amp;operator&lt;&lt;(ostream &amp;out, String const&amp; str)\n</code></pre>\n\n<p>Any of these snippets will fix the error, however (1) is a crucial practice (as you see) and (2) avoids making a copy.</p>\n\n<p>You'll also need to make <code>void print(ostream &amp;out) const</code>, because you want to call it with <code>String const&amp;</code>, even <code>operator+</code> should be <code>const</code>. Please, don't forget the <code>const</code>...</p>\n\n<p>You don't modify a reference - make it a reference-to-const. A member function does not modify <code>*this</code> - make it <code>const</code>. It's that simple.</p>\n\n<p><sup>You also forgot an <code>&amp;</code> here: <code>String operator+=(const String s)</code>.</sup></p>\n\n<p><strong>We're still not finished, there's also a number of things to fix, as pointed out in PaulMcKenzie's comments.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": false, "score": 1, "last_activity_date": 1454537894, "last_edit_date": 1495541738, "creation_date": 1454537894, "answer_id": 35188858, "question_id": 35188042, "link": "https://stackoverflow.com/questions/35188042/no-matching-constructor-when-i-overload-operator-for-dynamic-string-class/35188858#35188858", "title": "No matching constructor when I overload operator for dynamic string class", "body": "<p>There are a few things wrong with your <code>String</code> class.</p>\n\n<p>First, usage of <code>strdup</code> returns an allocated buffer that should be deallocated using <code>free()</code>.  However in your overloaded <code>+=</code> and <code>+</code> functions, you're using <code>new []</code> and <code>delete []</code>.   You're using C++, so <em>pretend that strdup() doesn't exist</em>.</p>\n\n<p>Even though you're trying to be careful about it, it is undefined behavior to mix allocation functions like this.  Instead, use <code>new []</code> and <code>delete []</code> throughout your class code.</p>\n\n<p>Second, the copy constructor signature should be:</p>\n\n<pre><code>    String(const String &amp;s);\n</code></pre>\n\n<p>So your constructors should now look like this:</p>\n\n<pre><code>private:\n    char * buf;\npublic:\n    String( const char* s = \"\") : buf(new char[strlen(s) + 1]())\n    {\n        strcpy(buf, s);\n    }\n\n    String(const String &amp;s) : buf(new char[strlen(s.buf) + 1]())\n    {\n        strcpy(buf, s.buf);\n    }\n</code></pre>\n\n<p>You now need to add a destructor, if you haven't done so already:</p>\n\n<pre><code>String::~String() { delete [] buf; }\n</code></pre>\n\n<p>Next is your <code>operator +=</code> and <code>operator +</code>.  The <code>operator +=</code> should be returning a reference to the current object, not a brand new object.  </p>\n\n<pre><code>String&amp; operator += ( const String&amp; s )\n{\n    char* tmp = new char[strlen(buf) + strlen(s.buf) + 1];\n    strcpy(tmp,buf);\n    strcat(tmp,s.buf);\n    delete [] buf;\n    buf = tmp;\n    return *this;\n}\n</code></pre>\n\n<p>Note that the return type is a reference to <code>String</code>.  Also, note that the memory for the concatenated string is allocated first before any attempt is made to delete the old buffer.  This needs to be done to ensure that your buffer will not become invalidated if <code>operator new</code> throws an exception.</p>\n\n<p>Given this, <code>operator +</code> can be written this way:</p>\n\n<pre><code>String operator + ( const String&amp; s )\n{\n    String tmp(*this);\n    return tmp += s;\n}\n</code></pre>\n\n<p>We use <code>operator +=</code> as a helper function.  All that was done was to create a temporary <code>String</code> that was the same as <code>*this</code>.  Then we just return the result of <code>operator +=</code> on the passed in <code>String</code>.  Short and simple.</p>\n\n<p>The last thing you're missing is an assignment operator. Without an assignment operator, you cannot safely do things like this:</p>\n\n<pre><code>String s1(\"abc\");\nString s2;\ns2 = s1; // &lt;-- assignment operator here\n</code></pre>\n\n<p>To implement an assignment operator is very easy, provided you have a copy constructor and working destructor.  Please go to this link as to how to implement this function:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3279543/what-is-the-copy-and-swap-idiom\">copy / swap idiom</a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 4418053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3170f310d9ff49cb3e7d5977081840b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ruidongd", "link": "https://stackoverflow.com/users/4418053/ruidongd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1454677809, "creation_date": 1454534823, "last_edit_date": 1454677809, "question_id": 35188042, "link": "https://stackoverflow.com/questions/35188042/no-matching-constructor-when-i-overload-operator-for-dynamic-string-class", "title": "No matching constructor when I overload operator for dynamic string class", "body": "<p>I get a problem with my String class.</p>\n\n<p>Constructor and copy constructor: </p>\n\n<pre><code>private:\n    char * buf;\npublic:\n    String( const char * s = \"\")\n    {\n        buf = strdup(s);\n    }\n    String( String &amp;s)\n    : buf(strdup(s.buf))\n    {\n    }\n</code></pre>\n\n<p>The operator:</p>\n\n<pre><code>String operator + ( const String &amp;s )\n{\n    char* tmp = new char[strlen(buf) + strlen(s.buf) + 1]; // +1 for the terminating '\\0'\n    strcpy(tmp,buf);\n    strcat(tmp,s.buf);\n    String result;\n    delete[] result.buf;\n    result.buf = tmp;\n    return result;\n}\nString operator += ( const String s )\n{\n    delete_char_array(buf);\n    char* tmp = new char[strlen(buf) + strlen(s.buf) + 1];\n    strcpy(tmp,buf);\n    strcat(tmp,s.buf);\n    buf = strdup(tmp);\n    delete_char_array(tmp);\n    return *this;\n}\nvoid print( ostream &amp; out )\n{\n    char *p = buf;\n    out &lt;&lt; p;\n}\n</code></pre>\n\n<p>and I have implemented the &lt;&lt; operator</p>\n\n<pre><code>ostream &amp; operator &lt;&lt; ( ostream &amp; out,  String str )\n{\n    str.print(out);\n    return out;\n}\n</code></pre>\n\n<p>My main() function is:</p>\n\n<pre><code>int main()\n{\n    String firstString(\"First\");\n    String secondString(\"Second\");\n    cout &lt;&lt; firstString + secondString &lt;&lt; endl;\n    (firstString+=secondString).print(cout);\n}\n</code></pre>\n\n<p>I can correctly get the output by the String.print(cout) but the g++ will tell me that </p>\n\n<pre><code>cout &lt;&lt; firstString + secondString &lt;&lt; endl;` does not have the matching\nconstructor for `String::String(String)`\n</code></pre>\n\n<p>and there are two options, 1. <code>String::String( char * c)</code> and 2. <code>String::String(String &amp;s)</code>.</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 5878821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0ims5GE0aI/AAAAAAAAAAI/AAAAAAAABB0/wVHOK7aSAAU/photo.jpg?sz=128", "display_name": "Shaan", "link": "https://stackoverflow.com/users/5878821/shaan"}, "is_accepted": true, "score": 4, "last_activity_date": 1454535848, "last_edit_date": 1454535848, "creation_date": 1454535337, "answer_id": 35188209, "question_id": 35188036, "link": "https://stackoverflow.com/questions/35188036/c-keeps-deleting-my-line-in-text-file/35188209#35188209", "title": "c++ keeps deleting my line in text file", "body": "<p>You have to use code like below. It will append the content of the file instead of override. </p>\n\n<pre><code>ofstream myfile (\"auto.txt\", ios::app);\n</code></pre>\n\n<p><strong>NOTE:</strong>\n<strong><code>ios::app</code></strong> All output operations are performed at the end of the file, appending the content to the current content of the file. </p>\n"}], "owner": {"reputation": 43, "user_id": 5584270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26f04c4c7b4b6c37c2bd3c91bf6d5e4?s=128&d=identicon&r=PG&f=1", "display_name": "al ex", "link": "https://stackoverflow.com/users/5584270/al-ex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 35188209, "answer_count": 1, "score": -1, "last_activity_date": 1454535848, "creation_date": 1454534805, "last_edit_date": 1454535345, "question_id": 35188036, "link": "https://stackoverflow.com/questions/35188036/c-keeps-deleting-my-line-in-text-file", "title": "c++ keeps deleting my line in text file", "body": "<p>I have a simple program where it will ask the user for the year, make and model of a car then it will write it into a text file.</p>\n\n<p>The program runs and writes the line in the text file but once I run it again to put something else, it is deleting my first line with the new input.</p>\n\n<p>Do I need to \"open the file\" outside of the function?</p>\n\n<p>here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\nclass automobile\n{\npublic:\n    // Constructor\n    automobile(int year, string make, string model)\n    {\n        setcarYear(year);\n        setcarMake(make);\n        setcarModel(model);\n    } //  end of constructor\n\n    void setcarYear(int year)\n    {\n        carYear = year;\n    }\n\n    int getcarYear() {\n        return carYear;\n    }\n\n    void setcarMake(string make) {\n        carMake = make;\n    }\n\n    string getcarMake()\n    {\n        return carMake;\n    }\n\n    void setcarModel(string model)\n    {\n        carModel = model;\n    }\n\n    string getcarModel() {\n        return carModel;\n    }\n\n    int carYear;\n\n    string carMake;\n    string carModel;\n};\n\nint main() {\n    ofstream myfile(\"auto.txt\");\n    ifstream myfile1(\"auto.txt\");\n\n    if (myfile.is_open()) {\n        int year;\n        string make, model;\n        cout &lt;&lt; \"Please enter the year of the car\" &lt;&lt; endl;\n        cin &gt;&gt; year;\n        cout &lt;&lt; \"Please enter the make of the car\" &lt;&lt; endl;\n        cin &gt;&gt; make;\n        cout &lt;&lt; \"Please enter the model of the car\" &lt;&lt; endl;\n        cin &gt;&gt; model;\n        automobile automobile(year, make, model);\n\n        // display user info\n        myfile &lt;&lt; automobile.getcarYear() &lt;&lt; \"  \" &lt;&lt; automobile.getcarMake() &lt;&lt; \"  \" &lt;&lt; automobile.getcarModel() &lt;&lt; \"  \" &lt;&lt; '\\n';\n    }\n    myfile.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "doxygen"], "answers": [{"tags": [], "owner": {"reputation": 2605, "user_id": 3958633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817685ce6b5f625688fdbcd327e7afa6?s=128&d=identicon&r=PG", "display_name": "sifferman", "link": "https://stackoverflow.com/users/3958633/sifferman"}, "is_accepted": true, "score": 2, "last_activity_date": 1553601677, "last_edit_date": 1553601677, "creation_date": 1454555566, "answer_id": 35191814, "question_id": 35187917, "link": "https://stackoverflow.com/questions/35187917/adding-a-function-to-multiple-groups-in-doxygen/35191814#35191814", "title": "Adding a function to multiple groups in doxygen", "body": "<p>The <a href=\"http://www.doxygen.nl/manual/grouping.html#modules\" rel=\"nofollow noreferrer\">link</a> you provided includes a paragraph that explains why it doesn't work:</p>\n\n<blockquote>\n  <p>Note that compound entities (like classes, files and namespaces) can be put into multiple groups, but members (like variable, functions, typedefs and enums) can only be a member of one group (this restriction is in place to avoid ambiguous linking targets in case a member is not documented in the context of its class, namespace or file, but only visible as part of a group).</p>\n</blockquote>\n\n<p>One approach to consider to solve this problem might be to create different Doxygen projects for each version of your code. You would create a Doxyfile for each version.</p>\n\n<p>In this case, instead of trying to <em>include</em> common code in both sets of documentation using the <code>\\ingroup</code> command, you would be <em>excluding</em> unrelated code from each set using conditional sections delimited by either <code>\\if</code>...<code>\\endif</code> or <code>\\cond</code>...<code>\\endcond</code>.</p>\n\n<p>So in your version1 module, you would do the following:</p>\n\n<pre><code>/**\n * \\if _VERSION1_\n */\n\n    &lt;all code in your version1 module&gt;\n\n/**\n * \\endif\n */\n</code></pre>\n\n<p>and in your version2 module:</p>\n\n<pre><code>/**\n * \\if _VERSION2_\n */\n\n    &lt;all code in your version2 module&gt;\n\n/**\n * \\endif\n */\n</code></pre>\n\n<p>Code that needs to appear in both modules, such as your <code>BOOL CLoginFormDlg::OnInitDialog(){}</code> function, would have no such conditional commands, so would be included in both sets of documentation.</p>\n\n<p>In your version1 Doxyfile, add the following line:</p>\n\n<pre><code>ENABLED_SECTIONS = _VERSION1_\n</code></pre>\n\n<p>and in your version2 Doxyfile:</p>\n\n<pre><code>ENABLED_SECTIONS = _VERSION2_\n</code></pre>\n\n<p>To link your version1 and version2 documentation sets together, you can use Doxygen's <a href=\"http://www.doxygen.nl/manual/external.html\" rel=\"nofollow noreferrer\">tag file</a> mechanism.</p>\n\n<p><strong>See also</strong></p>\n\n<ul>\n<li><a href=\"http://www.doxygen.nl/manual/commands.html#cmdcond\" rel=\"nofollow noreferrer\">\\cond</a></li>\n<li><a href=\"http://www.doxygen.nl/manual/commands.html#cmdif\" rel=\"nofollow noreferrer\">\\if</a></li>\n<li><a href=\"http://www.doxygen.nl/manual/config.html#cfg_enabled_sections\" rel=\"nofollow noreferrer\">ENABLED_SECTIONS</a></li>\n<li><a href=\"http://www.doxygen.nl/manual/external.html\" rel=\"nofollow noreferrer\">Tag files</a></li>\n</ul>\n"}], "owner": {"reputation": 1355, "user_id": 4335909, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MrGAW.jpg?s=128&g=1", "display_name": "Rana", "link": "https://stackoverflow.com/users/4335909/rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 35191814, "answer_count": 1, "score": 1, "last_activity_date": 1553601677, "creation_date": 1454534310, "last_edit_date": 1592644375, "question_id": 35187917, "link": "https://stackoverflow.com/questions/35187917/adding-a-function-to-multiple-groups-in-doxygen", "title": "Adding a function to multiple groups in doxygen", "body": "<p>I am trying to add a function to multiple groups but it does not seems to be working.</p>\n<p>I followed the instructions from <a href=\"http://www.doxygen.nl/manual/grouping.html#modules\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Here are the comments I added:</p>\n<pre><code>/**\n * \\defgroup version1 version 1\n */\n\n/**\n * \\defgroup version2 version 2\n */\n\n/**\n * \\ingroup version1 version2\n */\nBOOL CLoginFormDlg::OnInitDialog(){}\n</code></pre>\n<p>The function only appears in the version2 module and not in the version1 module.</p>\n<p>if I write version1 last like this:</p>\n<pre><code>/**\n * \\ingroup version2 version1\n */\nBOOL CLoginFormDlg::OnInitDialog(){}\n</code></pre>\n<p>then the function only appears in the version1 module and not the version2 module.</p>\n<p>I would like them to appear in both modules</p>\n"}, {"tags": ["c++", "stl"], "answers": [{"comments": [{"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1454534402, "post_id": 35187758, "comment_id": 58093035, "body": "Thanks. Also, defining it outside the class with the initialization in the declaration works <code>const int Class::var;</code> This allows the clarity of the values in the header, but it can still be referenced."}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1454534683, "post_id": 35187758, "comment_id": 58093190, "body": "As well, creating a temporary <code>vec.push_back((int)var)</code> is pretty readable, and doesn&#39;t need the definition."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 4, "last_activity_date": 1454533776, "creation_date": 1454533776, "answer_id": 35187758, "question_id": 35187583, "link": "https://stackoverflow.com/questions/35187583/const-static-member-initialization-inside-vs-outside-class-definition/35187758#35187758", "title": "const static member initialization - inside vs outside class definition", "body": "<blockquote>\n  <p>What are the differences between the two initializations above? Why does one cause the error with stl containers?</p>\n</blockquote>\n\n<p>The argument type of <code>std::vector&lt;int&gt;::push_back()</code> is <code>int const&amp;</code>. Whenever a variable is used by reference or pointer, it must be defined. </p>\n\n<p>A simple change to <code>Class::f</code> implementation will obviate the need to define <code>Class::var</code>.</p>\n\n<pre><code>void Class::f() {\n   std::vector&lt;int&gt; vec;\n   int v = var;\n   vec.push_back(v);\n}\n</code></pre>\n\n<p>Here, <code>var</code> is not used by reference. Hence, there is no need to define <code>Class::var</code>.</p>\n"}], "owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "closed_date": 1454534060, "accepted_answer_id": 35187758, "answer_count": 1, "score": 3, "last_activity_date": 1454533776, "creation_date": 1454533175, "question_id": 35187583, "link": "https://stackoverflow.com/questions/35187583/const-static-member-initialization-inside-vs-outside-class-definition", "closed_reason": "Duplicate", "title": "const static member initialization - inside vs outside class definition", "body": "<p>I know that static literal type members can be initialized in the class definition, and non-literal types can't.</p>\n\n<pre><code>class Class \n{\n    static const int lt = 0; //OK\n    static const std::string nlt = \"hello\"; //compilation error\n};\n</code></pre>\n\n<p>However, I ran into a weird issue, where I can't use the members in STL containers if they are initialized inside the class definition, as opposed to outside. </p>\n\n<pre><code>class Class\n{\npublic:\n    static const int var = 1;\n    void f();\n};\n\nvoid Class::f() {\n    std::vector&lt;int&gt; vec;\n    vec.push_back(var);\n}\n</code></pre>\n\n<p>The example above results in the linker error <code>undefined reference to Class::var</code> If I move the initialization outside, the error goes away.</p>\n\n<p><code>const int Class::var = 1;</code> </p>\n\n<p>What are the differences between the two initializations above? Why does one cause the error with stl containers?</p>\n"}, {"tags": ["c++", "dynamic-memory-allocation"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1454533384, "post_id": 35187571, "comment_id": 58092461, "body": "Please don&#39;t try using memory allocation yourself, that&#39;s just  error prone and chances are high you don&#39;t get it right. Just use appropriate standard c++ containers or <code>std::string</code>,"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454533514, "post_id": 35187571, "comment_id": 58092540, "body": "You allocate <code>newSize</code> chars and then write <code>newSize+1</code> chars."}, {"owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 1, "creation_date": 1454533752, "post_id": 35187571, "comment_id": 58092666, "body": "It&#39;s not bad to manage your own memory <i>if you know what you&#39;re doing,</i> but it&#39;s often unnecessary, as it is in this case."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 2, "creation_date": 1454533986, "post_id": 35187571, "comment_id": 58092789, "body": "@Litty <i>&quot;It&#39;s not bad to manage your own memory&quot;</i> I think we should consider it really is bad. In <b>most cases</b> it&#39;s not necessary. There&#39;s a few <i>advanced use cases</i> that are far beyond what the OP&#39;s asking for."}, {"owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454534403, "post_id": 35187571, "comment_id": 58093038, "body": "I believe the &quot;advanced&quot; use cases are more than few, but point taken, it&#39;s irrelevant to the OP or the question."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454535627, "post_id": 35187571, "comment_id": 58093706, "body": "It&#39;s also not bad to manage your own memory if you&#39;re trying to learn about memory management, which the OP might be."}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 2, "last_activity_date": 1454533793, "last_edit_date": 1454533793, "creation_date": 1454533584, "answer_id": 35187688, "question_id": 35187571, "link": "https://stackoverflow.com/questions/35187571/dynamic-memory-issue-in-c/35187688#35187688", "title": "Dynamic Memory issue in C++", "body": "<p>Your loop copies the <code>'\\0'</code> at the end of the string, but then you add another <code>'\\0'</code>, using one more byte of memory than you allocated.</p>\n"}], "owner": {"reputation": 83, "user_id": 5880008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a95437a34de55ac8867db677489560?s=128&d=identicon&r=PG&f=1", "display_name": "polaris6933", "link": "https://stackoverflow.com/users/5880008/polaris6933"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 35187688, "answer_count": 1, "score": 0, "last_activity_date": 1454534597, "creation_date": 1454533139, "last_edit_date": 1454534597, "question_id": 35187571, "link": "https://stackoverflow.com/questions/35187571/dynamic-memory-issue-in-c", "title": "Dynamic Memory issue in C++", "body": "<p>so I was writing a program which has to check if the input sting is a palindrome or not. And it's actually working but a problem with deleting the array I created during the course of it arouse. </p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nbool checkPalindrome(char* text);\nchar* clearString(char* src);\n\n\nint main() \n{\n    char buffer[1000];\n    cin.getline(buffer, 1000);\n\n    cout &lt;&lt; boolalpha &lt;&lt; checkPalindrome(buffer) &lt;&lt; endl;\n\n    return 0;\n}\n\n\nbool checkPalindrome(char* text)\n{\n    char* newStr = clearString(text);\n    if (!newStr)\n       return false;\n\n    int newLen = strlen(newStr);\n\n    for (int i = 0; i &lt; newLen / 2; i++) {\n        if (newStr[i] == newStr[newLen - i - 1])\n            continue;\n        else\n            return false;\n    }\n\n    //delete[] newStr;\n\n    return true;\n}\n\n\nchar* clearString(char* src)\n{\n    unsigned len = strlen(src);\n    unsigned counter = 0;\n\n    for (int i = 0; i &lt; len; i++) {\n        if (src[i] == ' '||src[i] == '.'||src[i] == ','||src[i] == '!')\n            counter++;\n    }\n\n    unsigned newSize = len - counter + 1;\n    char* dest = new(nothrow) char[newSize];\n\n    if (!dest) {\n        cout &lt;&lt; \"not enoough memory\\n\";\n        return NULL;\n    }\n\n    int i, j;\n\n    for(i = j = 0; j &lt; newSize; ++i, ++j) {\n        if(src[i]==' '||src[i]=='.'||src[i]==','||src[i]=='!'||src[i]=='?')\n            i++;\n        else\n            dest[j] = src[i];\n    }\n\n    dest[j] = '\\0';\n\n    return dest;\n}\n</code></pre>\n\n<p>So the commentated delete in the checkPalindrome function causes a crash if executed and I get the \"Heap corruption detected\" error. I tried changing the function type to void and delete there and the same thing happened. Any ideas what causes it?</p>\n"}, {"tags": ["c++", "c++11", "unordered-set"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1454533397, "post_id": 35187544, "comment_id": 58092470, "body": "In what way does the order matter to you?"}, {"owner": {"reputation": 6196, "user_id": 5822075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ba9afcd0c36d9685e3e1b5f2f82be2?s=128&d=identicon&r=PG&f=1", "display_name": "e0k", "link": "https://stackoverflow.com/users/5822075/e0k"}, "edited": false, "score": 0, "creation_date": 1454533424, "post_id": 35187544, "comment_id": 58092489, "body": "If you&#39;re using an unordered set, haven&#39;t you already decided that you don&#39;t care what order your iterators go through the data?  Have you tried using a <code>const_iterator</code>?  What happened?  What worked? What didn&#39;t?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1454549385, "post_id": 35187544, "comment_id": 58099051, "body": "This seems a strange use of <code>unordered_set</code>. What&#39;s your motivation behind using the entire Node as its own key?"}], "answers": [{"tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": false, "score": 1, "last_activity_date": 1454534184, "creation_date": 1454534184, "answer_id": 35187885, "question_id": 35187544, "link": "https://stackoverflow.com/questions/35187544/pointer-reference-to-element-in-stdunordered-set/35187885#35187885", "title": "Pointer/Reference to element in std::unordered_set", "body": "<p>You can have pointers to the <code>Node</code> objects inside of the <code>unordered_set</code>. However these pointer must be <code>Node const*</code> (i.e., <code>const</code>).</p>\n\n<p>Even if an insertion is made to the <code>unordered_set</code> the pointers will not be invalidated. For example you could store these pointers in another <code>unordered_set&lt;Node const*&gt;</code> as:</p>\n\n<pre><code>std::unordered_set&lt;Node, hasher&gt; s{{1}, {2}, {3}};\nstd::unordered_set&lt;Node const*&gt; s_ptr;\n\nfor(auto &amp;&amp;i : s) {\n  s_ptr.insert(&amp;i);\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/63a2e84993228a25\" rel=\"nofollow\">Live Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 2896121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c21847e05c6b288c7d7da7b96ceaaaf?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin Baranov", "link": "https://stackoverflow.com/users/2896121/constantin-baranov"}, "is_accepted": true, "score": 0, "last_activity_date": 1454539422, "creation_date": 1454539422, "answer_id": 35189225, "question_id": 35187544, "link": "https://stackoverflow.com/questions/35187544/pointer-reference-to-element-in-stdunordered-set/35189225#35189225", "title": "Pointer/Reference to element in std::unordered_set", "body": "<p>Iterators in unordered containers get invalidated when rehashing happens during an insert. I'd not try to predict or avoid rehashing. As long as you don't insert new items, iterators stay valid. You may erase existing items.</p>\n\n<p>Note that values don't move even if rehashing occurs. Pointers and references aren't invalidated until you remove that particular item. This means that you can do <code>Node* parent</code> or like that.</p>\n\n<p>It's unclear what is your data structure. I assume that you want to store nodes in an <code>unordered_set</code> (or several sets), and nodes have <code>parent</code> relation in addition to that. It will work fine with pointers or references and not with iterators. The only change you need is add one const: <code>const Node *parent</code>. If you need to change <code>Node</code> after inserting it in a set, you may either store them by pointer (<code>unique_ptr</code>, etc.), or consider <code>unordered_map</code> with immutable part as a key.</p>\n"}], "owner": {"reputation": 1861, "user_id": 722695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/02e5730386e784c40ab552297e5c3f95?s=128&d=identicon&r=PG", "display_name": "Roby", "link": "https://stackoverflow.com/users/722695/roby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2388, "favorite_count": 0, "accepted_answer_id": 35189225, "answer_count": 2, "score": 2, "last_activity_date": 1454567796, "creation_date": 1454533026, "last_edit_date": 1454567796, "question_id": 35187544, "link": "https://stackoverflow.com/questions/35187544/pointer-reference-to-element-in-stdunordered-set", "title": "Pointer/Reference to element in std::unordered_set", "body": "<p>im using a <code>std::unordered_set</code> to store my data object.\nBut now i want to create a pointer/reference to them, for example (without hash function ... ):</p>\n\n<pre><code>struct Node\n{\n  Node* parent;\n  ...\n};\nstd::unordered_set&lt;Node&gt; list;\n</code></pre>\n\n<p>is it possible to use a <code>std::unordered_set&lt;Node&gt;::const_iterator</code> ?\nIm not sure how to figure out this information if <strong>(without removing elements!)</strong> the iterator \"ordering\" changes ?</p>\n\n<p><strong>UPDATE with more details for better understanding:</strong></p>\n\n<p>Ive choosed std::unordered_set because of the constant lookup time.\nTo improve my C++ skills it would good to know what to change.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;stdint.h&gt;\n#include &lt;vector&gt;\n\n#include &lt;unordered_set&gt;\n\n\nstruct Link;\nstruct Node\n{\n    uint32_t id;\n    std::unordered_set&lt;Link&gt; link;\n\n    Node(uint32_t id) : id(id)\n    {\n    };\n\n    bool operator==(Node const&amp; rhs)\n    {\n        return id == rhs.id;\n    }\n};\n\nstruct Link\n{\n    Node* parent;\n    uint32_t param1; // ..... and more\n\n    bool operator==(Link const&amp; rhs)\n    {\n        return parent == parent.rhs &amp;&amp; param1 == rhs.param1;\n    }\n}\n\n\nnamespace std\n{\n    template&lt;&gt; struct hash&lt;Node&gt;\n    {\n        size_t operator()(Node const&amp; node) const\n        {\n            return hash&lt;uint32_t&gt;()(node.id);\n        }\n    };\n\n    template&lt;&gt; struct hash&lt;Link&gt;\n    {\n        size_t operator()(Link const&amp; link) const\n        {\n            return  hash&lt;uint32_t&gt;()(link.param1) ^ hash&lt;Node&gt;()(*link.parent);\n        }\n    };    \n}\n\nint main()\n{\n    std::unordered_set&lt;Node&gt; nodes;\n    nodes.emplace( Node(1) );\n    nodes.emplace( Node(2) );\n    nodes.emplace( Node(3) );    \n}\n</code></pre>\n"}, {"tags": ["c++", "winforms", "visual-studio-2015"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454533029, "post_id": 35187476, "comment_id": 58092248, "body": "Change the VS language to English and take the screenshot again. You might even keep it that way."}, {"owner": {"reputation": 73, "user_id": 2144656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a647da7506ca340e3643451559719821?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco", "link": "https://stackoverflow.com/users/2144656/francesco"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454533857, "post_id": 35187476, "comment_id": 58092719, "body": "don&#39;t know why but now it works and i&#39;ve only change the color of the theme from dark to blue ..."}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 7772710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac80bafbe690f0e61618b6f5b7ff29f7?s=128&d=identicon&r=PG", "display_name": "DeathlyPlague", "link": "https://stackoverflow.com/users/7772710/deathlyplague"}, "is_accepted": true, "score": 1, "last_activity_date": 1515216457, "creation_date": 1515216457, "answer_id": 48124557, "question_id": 35187476, "link": "https://stackoverflow.com/questions/35187476/visual-studio-2015-clr-form-deigner-cannot-load-ui-from-file/48124557#48124557", "title": "visual studio 2015 clr form deigner cannot load ui from file", "body": "<p>Go to Project Properties --> Linker --> Advanced and You will see the first component named \"Entry Point:\". Type in \"WinMain\" which is your main start of the application in the .cpp file. Build and error should be fixed.</p>\n"}], "owner": {"reputation": 73, "user_id": 2144656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a647da7506ca340e3643451559719821?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco", "link": "https://stackoverflow.com/users/2144656/francesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 48124557, "answer_count": 1, "score": 1, "last_activity_date": 1515216457, "creation_date": 1454532805, "last_edit_date": 1454533563, "question_id": 35187476, "link": "https://stackoverflow.com/questions/35187476/visual-studio-2015-clr-form-deigner-cannot-load-ui-from-file", "title": "visual studio 2015 clr form deigner cannot load ui from file", "body": "<p>I'm using visual studio 2015 clr project , with UI form . I've used only editor for create the UI form . But designer cannot load it anymore .\nI try to create a new class for the UI , I can't display that neither . </p>\n\n<p>this is <code>myform.h</code> file</p>\n\n<pre><code>#pragma once\n\nnamespace ProvaCLR {\n\nusing namespace System;\nusing namespace System::ComponentModel;\nusing namespace System::Collections;\nusing namespace System::Windows::Forms;\nusing namespace System::Data;\nusing namespace System::Drawing;\n\n/// &lt;summary&gt;\n/// Riepilogo per MyForm\n/// &lt;/summary&gt;\npublic ref class MyForm : public System::Windows::Forms::Form\n{\npublic:\n    MyForm(void)\n    {\n        InitializeComponent();\n        //\n        //TODO: aggiungere qui il codice del costruttore.\n        //\n    }\n\nprotected:\n    /// &lt;summary&gt;\n    /// Pulire le risorse in uso.\n    /// &lt;/summary&gt;\n    ~MyForm()\n    {\n        if (components)\n        {\n            delete components;\n        }\n    }\nprivate: System::Windows::Forms::SplitContainer^  splitContainer1;\nprotected:\nprivate: System::Windows::Forms::SplitContainer^  splitContainer2;\nprivate: System::Windows::Forms::PictureBox^  pictureBox1;\nprivate: System::Windows::Forms::ListBox^  listBox1;\nprivate: System::Windows::Forms::GroupBox^  groupBox1;\nprivate: System::Windows::Forms::MenuStrip^  menuStrip1;\nprivate: System::Windows::Forms::ToolStripMenuItem^  fileToolStripMenuItem;\n\nprotected:\n\n\n\n\nprivate:\n    /// &lt;summary&gt;\n    /// Variabile di progettazione necessaria.\n    /// &lt;/summary&gt;\n    System::ComponentModel::Container ^components;\n\n#pragma region Windows Form Designer generated code\n    /// &lt;summary&gt;\n    /// Metodo necessario per il supporto della finestra di progettazione.            Non modificare\n    /// il contenuto del metodo con l'editor di codice.\n    /// &lt;/summary&gt;\n    void InitializeComponent(void)\n    {\n        System::ComponentModel::ComponentResourceManager^  resources = (gcnew System::ComponentModel::ComponentResourceManager(MyForm::typeid));\n        this-&gt;splitContainer1 = (gcnew System::Windows::Forms::SplitContainer());\n        this-&gt;splitContainer2 = (gcnew System::Windows::Forms::SplitContainer());\n        this-&gt;listBox1 = (gcnew System::Windows::Forms::ListBox());\n        this-&gt;groupBox1 = (gcnew System::Windows::Forms::GroupBox());\n        this-&gt;pictureBox1 = (gcnew System::Windows::Forms::PictureBox());\n        this-&gt;menuStrip1 = (gcnew System::Windows::Forms::MenuStrip());\n        this-&gt;fileToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;splitContainer1))-&gt;BeginInit();\n        this-&gt;splitContainer1-&gt;Panel1-&gt;SuspendLayout();\n        this-&gt;splitContainer1-&gt;Panel2-&gt;SuspendLayout();\n        this-&gt;splitContainer1-&gt;SuspendLayout();\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;splitContainer2))-&gt;BeginInit();\n        this-&gt;splitContainer2-&gt;Panel1-&gt;SuspendLayout();\n        this-&gt;splitContainer2-&gt;Panel2-&gt;SuspendLayout();\n        this-&gt;splitContainer2-&gt;SuspendLayout();\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;pictureBox1))-&gt;BeginInit();\n        this-&gt;menuStrip1-&gt;SuspendLayout();\n        this-&gt;SuspendLayout();\n        // \n        // splitContainer1\n        // \n        this-&gt;splitContainer1-&gt;Dock = System::Windows::Forms::DockStyle::Fill;\n        this-&gt;splitContainer1-&gt;Location = System::Drawing::Point(0, 24);\n        this-&gt;splitContainer1-&gt;Name = L\"splitContainer1\";\n        // \n        // splitContainer1.Panel1\n        // \n        this-&gt;splitContainer1-&gt;Panel1-&gt;Controls-&gt;Add(this-&gt;splitContainer2);\n        // \n        // splitContainer1.Panel2\n        // \n        this-&gt;splitContainer1-&gt;Panel2-&gt;Controls-&gt;Add(this-&gt;pictureBox1);\n        this-&gt;splitContainer1-&gt;Size = System::Drawing::Size(854, 377);\n        this-&gt;splitContainer1-&gt;SplitterDistance = 143;\n        this-&gt;splitContainer1-&gt;TabIndex = 0;\n        // \n        // splitContainer2\n        // \n        this-&gt;splitContainer2-&gt;Dock = System::Windows::Forms::DockStyle::Fill;\n        this-&gt;splitContainer2-&gt;Location = System::Drawing::Point(0, 0);\n        this-&gt;splitContainer2-&gt;Name = L\"splitContainer2\";\n        this-&gt;splitContainer2-&gt;Orientation = System::Windows::Forms::Orientation::Horizontal;\n        // \n        // splitContainer2.Panel1\n        // \n        this-&gt;splitContainer2-&gt;Panel1-&gt;Controls-&gt;Add(this-&gt;listBox1);\n        // \n        // splitContainer2.Panel2\n        // \n        this-&gt;splitContainer2-&gt;Panel2-&gt;Controls-&gt;Add(this-&gt;groupBox1);\n        this-&gt;splitContainer2-&gt;Size = System::Drawing::Size(143, 377);\n        this-&gt;splitContainer2-&gt;SplitterDistance = 185;\n        this-&gt;splitContainer2-&gt;TabIndex = 0;\n        // \n        // listBox1\n        // \n        this-&gt;listBox1-&gt;Dock = System::Windows::Forms::DockStyle::Fill;\n        this-&gt;listBox1-&gt;FormattingEnabled = true;\n        this-&gt;listBox1-&gt;Location = System::Drawing::Point(0, 0);\n        this-&gt;listBox1-&gt;Name = L\"listBox1\";\n        this-&gt;listBox1-&gt;Size = System::Drawing::Size(143, 185);\n        this-&gt;listBox1-&gt;TabIndex = 0;\n\n        // \n        // groupBox1\n        // \n        this-&gt;groupBox1-&gt;Dock = System::Windows::Forms::DockStyle::Fill;\n        this-&gt;groupBox1-&gt;Location = System::Drawing::Point(0, 0);\n        this-&gt;groupBox1-&gt;Name = L\"groupBox1\";\n        this-&gt;groupBox1-&gt;Size = System::Drawing::Size(143, 188);\n        this-&gt;groupBox1-&gt;TabIndex = 0;\n        this-&gt;groupBox1-&gt;TabStop = false;\n        this-&gt;groupBox1-&gt;Text = L\"groupBox1\";\n        // \n        // pictureBox1\n        // \n        this-&gt;pictureBox1-&gt;Dock = System::Windows::Forms::DockStyle::Fill;\n        this-&gt;pictureBox1-&gt;Image = (cli::safe_cast&lt;System::Drawing::Image^&gt;(resources-&gt;GetObject(L\"pictureBox1.Image\")));\n        this-&gt;pictureBox1-&gt;Location = System::Drawing::Point(0, 0);\n        this-&gt;pictureBox1-&gt;Name = L\"pictureBox1\";\n        this-&gt;pictureBox1-&gt;Size = System::Drawing::Size(707, 377);\n        this-&gt;pictureBox1-&gt;SizeMode = System::Windows::Forms::PictureBoxSizeMode::Zoom;\n        this-&gt;pictureBox1-&gt;TabIndex = 0;\n        this-&gt;pictureBox1-&gt;TabStop = false;\n        // \n        // menuStrip1\n        // \n        this-&gt;menuStrip1-&gt;Items-&gt;AddRange(gcnew cli::array&lt; System::Windows::Forms::ToolStripItem^  &gt;(1) { this-&gt;fileToolStripMenuItem });\n        this-&gt;menuStrip1-&gt;Location = System::Drawing::Point(0, 0);\n        this-&gt;menuStrip1-&gt;Name = L\"menuStrip1\";\n        this-&gt;menuStrip1-&gt;Size = System::Drawing::Size(854, 24);\n        this-&gt;menuStrip1-&gt;TabIndex = 1;\n        this-&gt;menuStrip1-&gt;Text = L\"menuStrip1\";\n        // \n        // fileToolStripMenuItem\n        // \n        this-&gt;fileToolStripMenuItem-&gt;Name = L\"fileToolStripMenuItem\";\n        this-&gt;fileToolStripMenuItem-&gt;Size = System::Drawing::Size(37, 20);\n        this-&gt;fileToolStripMenuItem-&gt;Text = L\"File\";\n        // \n        // MyForm\n        // \n        this-&gt;AutoScaleDimensions = System::Drawing::SizeF(6, 13);\n        this-&gt;AutoScaleMode = System::Windows::Forms::AutoScaleMode::Font;\n        this-&gt;ClientSize = System::Drawing::Size(854, 401);\n        this-&gt;Controls-&gt;Add(this-&gt;splitContainer1);\n        this-&gt;Controls-&gt;Add(this-&gt;menuStrip1);\n        this-&gt;MainMenuStrip = this-&gt;menuStrip1;\n        this-&gt;Name = L\"MyForm\";\n        this-&gt;Text = L\"LvEditorV2\";\n        this-&gt;splitContainer1-&gt;Panel1-&gt;ResumeLayout(false);\n        this-&gt;splitContainer1-&gt;Panel2-&gt;ResumeLayout(false);\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;splitContainer1))-&gt;EndInit();\n        this-&gt;splitContainer1-&gt;ResumeLayout(false);\n        this-&gt;splitContainer2-&gt;Panel1-&gt;ResumeLayout(false);\n        this-&gt;splitContainer2-&gt;Panel2-&gt;ResumeLayout(false);\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;splitContainer2))-&gt;EndInit();\n        this-&gt;splitContainer2-&gt;ResumeLayout(false);\n        (cli::safe_cast&lt;System::ComponentModel::ISupportInitialize^&gt;(this-&gt;pictureBox1))-&gt;EndInit();\n        this-&gt;menuStrip1-&gt;ResumeLayout(false);\n        this-&gt;menuStrip1-&gt;PerformLayout();\n        this-&gt;ResumeLayout(false);\n        this-&gt;PerformLayout();\n\n    }\n\n #pragma endregion\n\n   };\n\n }\n</code></pre>\n\n<p>this is myform.cpp</p>\n\n<pre><code> #include \"MyForm.h\"\n #include \"stdio.h\"\n using namespace ProvaCLR;\n using namespace System;\n using namespace System::Windows::Forms;\n\n void  WinMain()\n    {\n        Application::EnableVisualStyles();\n        Application::SetCompatibleTextRenderingDefault(false);\n\n        MyForm form;\n        Application::Run(%form);\n\n\n    }\n</code></pre>\n\n<p>i get this view when i want to see form in designer</p>\n\n<p><a href=\"https://i.stack.imgur.com/mv2Yy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mv2Yy.png\" alt=\"I get this view when I want to see form in designer\"></a></p>\n\n<p>and even if I create a new UI form with the class editor , I cannot see that with designer.<br>\nAnyone know how I can fix this problem ? </p>\n"}, {"tags": ["c++", "multithreading", "c++11", "pthreads"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1454533197, "post_id": 35187383, "comment_id": 58092348, "body": "Very probably you want <a href=\"http://en.cppreference.com/w/cpp/thread/mutex\" rel=\"nofollow noreferrer\">std::mutex</a> &amp; <a href=\"http://en.cppreference.com/w/cpp/thread/condition_variable\" rel=\"nofollow noreferrer\">std::condition_variable</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454534206, "post_id": 35187521, "comment_id": 58092930, "body": "As I already mentioned, the constructor of <code>thread</code> copies the instance of <code>action</code> which means, that when I call <code>a.cancel()</code> the <code>action</code>-instance which <code>t</code> uses is not modified. This is the reason why <code>ii</code> is a pointer."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454534343, "post_id": 35187521, "comment_id": 58093004, "body": "@user1512263 You can always use references and <code>std::ref</code> to pass things by reference to the thread constrcutor"}, {"owner": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454595603, "post_id": 35187521, "comment_id": 58122470, "body": "So accessing references to atomic values is as safe as accessing the atomic values themselves? This code (<a href=\"https://paste2.org/IspZyLpe\" rel=\"nofollow noreferrer\">paste2.org/IspZyLpe</a>) should be safe then? It seems at least that some additional checks are performed, because it is slower than the unsafe code."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454595828, "post_id": 35187521, "comment_id": 58122643, "body": "@user1512263 Yes it should be safe as <code>std::atomic</code> guarantees that only one thread can change it at any one time."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1454532949, "creation_date": 1454532949, "answer_id": 35187521, "question_id": 35187383, "link": "https://stackoverflow.com/questions/35187383/is-it-safe-efficient-to-cancel-a-c-thread-by-writing-to-an-outside-variable/35187521#35187521", "title": "Is it safe/efficient to cancel a c++ thread by writing to an outside variable?", "body": "<p>First off there is no reason to make <code>ii</code> a pointer.  You can have it just as a plain <code>uint64_t</code>.  </p>\n\n<p>Secondly if you have multiple threads and at least one of them writes to a shared variable then you are going to have to have some sort of synchronization.  In this case you could just use <a href=\"http://en.cppreference.com/w/cpp/atomic/atomic\" rel=\"nofollow\"><code>std::atomic&lt;uint64_t&gt;</code></a> to get that synchronization.  Otherwise you would have to use a mutex or some sort of memory fence.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454534446, "post_id": 35187527, "comment_id": 58093061, "body": "Adding an atomic member to a class causes complications, because it makes the default copy-constructor unavailable (<code>thread</code> copies the callable which it gets as a parameter; see also my comment to NathanOliver above)"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "edited": false, "score": 0, "creation_date": 1454534873, "post_id": 35187527, "comment_id": 58093286, "body": "@user1512263 - if by that you mean that the compiler doesn&#39;t generate a default constructor (I&#39;m not up on those details), fine, just write your own."}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1454532975, "creation_date": 1454532975, "answer_id": 35187527, "question_id": 35187383, "link": "https://stackoverflow.com/questions/35187383/is-it-safe-efficient-to-cancel-a-c-thread-by-writing-to-an-outside-variable/35187527#35187527", "title": "Is it safe/efficient to cancel a c++ thread by writing to an outside variable?", "body": "<p>No, there's no guarantee that this will do anything sensible. The code has one thread reading the value of <code>ii</code> and another thread writing to it, without any synchronization. The result is that the behavior of the program is undefined.</p>\n\n<p>I'd just add a flag to the class:</p>\n\n<pre><code>std::atomic&lt;bool&gt; time_to_stop;\n</code></pre>\n\n<p>The constructor of <code>action</code> should set that to <code>false</code>, and the <code>cancel</code> member function should set it to <code>true</code>. Then change the loop to look at that value:</p>\n\n<pre><code>for(; !time_to_stop &amp;&amp; k &lt; *ii; ++k)\n</code></pre>\n\n<p>You might, instead, make <code>ii</code> atomic. That would work, but it wouldn't be as clear as having a named member to look at.</p>\n"}], "owner": {"reputation": 95, "user_id": 1512263, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b188fb36d1bc6f7e3990342bea50ddb3?s=128&d=identicon&r=PG", "display_name": "user1512263", "link": "https://stackoverflow.com/users/1512263/user1512263"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1454532975, "creation_date": 1454532470, "question_id": 35187383, "link": "https://stackoverflow.com/questions/35187383/is-it-safe-efficient-to-cancel-a-c-thread-by-writing-to-an-outside-variable", "title": "Is it safe/efficient to cancel a c++ thread by writing to an outside variable?", "body": "<p>I have a search problem, which I want to parallelize. If one thread has found a solution, I want all other threads to stop. Otherwise, if all threads exit regularly, I know, that there is no solution.</p>\n\n<p>The following code (that demonstrates my cancelling strategy) seems to work, but I'm not sure, if it is safe and the most efficient variant:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;cstdint&gt;\n#include &lt;chrono&gt;\n\nusing namespace std;\n\nstruct action {\n  uint64_t* ii;\n\n  action(uint64_t *ii) : ii(ii) {};\n\n  void operator()() {\n    uint64_t k = 0;\n    for(; k &lt; *ii; ++k) {\n      //do something useful\n    }\n    cout &lt;&lt; \"counted to \" &lt;&lt; k &lt;&lt; \" in 2 seconds\" &lt;&lt; endl;\n  }\n  void cancel() {\n    *ii = 0;\n  }\n};\n\n\nint main(int argc, char** argv) {\n  uint64_t ii = 1000000000;\n  action a{&amp;ii};\n  thread t(a);\n  cout &lt;&lt; \"start sleeping\" &lt;&lt; endl;\n  this_thread::sleep_for(chrono::milliseconds(2000));\n  cout &lt;&lt; \"finished sleeping\" &lt;&lt; endl;\n  a.cancel();\n  cout &lt;&lt; \"cancelled\" &lt;&lt; endl;\n  t.join();\n  cout &lt;&lt; \"joined\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Can I be sure, that the value, to which <code>ii</code> points, always gets properly reloaded? Is there a more efficient variant, that doesn't require the dereferenciation at every step? I tried to make the upper bound of the loop a member variable, but since the constructor of <code>thread</code> copies the instance of <code>action</code>, I wouldn't have access to that member later.</p>\n\n<p>Also: If my code is exception safe and does not do I/O (and I am sure, that my platform is Linux), is there a reason not to use <code>pthread_cancel</code> on the native thread?</p>\n"}, {"tags": ["c++", "windows", "time", "infinite-loop"], "comments": [{"owner": {"reputation": 533, "user_id": 4473118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cY1jfXqgFbU/AAAAAAAAAAI/AAAAAAAAADs/BSem3Uzbuiw/photo.jpg?sz=128", "display_name": "Guiroux", "link": "https://stackoverflow.com/users/4473118/guiroux"}, "edited": false, "score": 0, "creation_date": 1454532583, "post_id": 35187373, "comment_id": 58091967, "body": "Search for <b>thread</b>"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 2, "creation_date": 1454533175, "post_id": 35187373, "comment_id": 58092339, "body": "Search for <b>event handling</b>. Your window freezes and executable crashes because you don&#39;t handle events that your window receives. It does not matter if your loop is infinite or not, the only requirement to handle events."}], "answers": [{"comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 2, "creation_date": 1454533102, "post_id": 35187406, "comment_id": 58092298, "body": "Right how OP misses event handling, that&#39;s why his window freezes and executable crashes (because of event queue overflow). What he asks for can be easily achieved with one or multiple threads, the only requirement is to handle events quickly. Now <b>OP shall add proper event handling, without it a new thread will change nothing</b>."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 4, "last_activity_date": 1454532587, "creation_date": 1454532587, "answer_id": 35187406, "question_id": 35187373, "link": "https://stackoverflow.com/questions/35187373/how-to-create-a-non-freezing-infinite-loop/35187406#35187406", "title": "How to create a Non-Freezing Infinite Loop?", "body": "<p>This is generally accomplished with multi-threading.  You create one thread that interacts with the user and then you create another thread that has the infinite loop that does the processing.</p>\n"}], "owner": {"reputation": 247, "user_id": 4086854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7QjKN.png?s=128&g=1", "display_name": "redspah", "link": "https://stackoverflow.com/users/4086854/redspah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 35187406, "answer_count": 1, "score": 2, "last_activity_date": 1454532587, "creation_date": 1454532439, "question_id": 35187373, "link": "https://stackoverflow.com/questions/35187373/how-to-create-a-non-freezing-infinite-loop", "title": "How to create a Non-Freezing Infinite Loop?", "body": "<p>My question is as follows:</p>\n\n<p>How to create an infinite loop in C++ which doesn't freeze the window, keeps it responsive and allows for program to be closed at any time?</p>\n\n<p>Example:</p>\n\n<pre><code>#include &lt;Windows.h&gt;\nint main()\n{\n    while(1)\n    {\n        FlashPrettyGraphics();\n        Sleep(10);\n    }\n}\n</code></pre>\n\n<p>This program, as it is right now, will work for approx. a dozen seconds, after which it will become unresponsive and crash. During the execution the window will be unable to be moved.</p>\n\n<p>How do I solve this?</p>\n"}, {"tags": ["c++", "doxygen"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6591005, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MIaCaRvGP-M/AAAAAAAAAAI/AAAAAAAAA8Q/dHUeScTihsE/photo.jpg?sz=128", "display_name": "Van Wifvat", "link": "https://stackoverflow.com/users/6591005/van-wifvat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553528081, "last_edit_date": 1553528081, "creation_date": 1477791746, "answer_id": 40325322, "question_id": 35187334, "link": "https://stackoverflow.com/questions/35187334/doxygen-error-failed-to-open-temporary-file-path-to-file-doxygen-objdb-3332-tm/40325322#40325322", "title": "Doxygen error: Failed to open temporary file /path/to/file/doxygen_objdb_3332.tmp", "body": "<p>I feel that I had a similar problem generating NED files, and full C++ documentation using the OMNET++ documentation generator. </p>\n\n<p>OMNET++ comes with Doxygen, but it turned out that the version was out of date. I ended up downloading the newest version of Doxygen, and replacing the existing doxygen.exe file with the most up-to-date version (at the time of this post, it was found here: <a href=\"http://www.doxygen.nl/download.html\" rel=\"nofollow noreferrer\">http://www.doxygen.nl/download.html</a>)</p>\n\n<p>I hope this helps any future users out! It took me quite a while to figure out.</p>\n\n<p>Regards,</p>\n\n<p>Van</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9847955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b63355a8c6155d8e97a4690b8522c3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Gernert", "link": "https://stackoverflow.com/users/9847955/robert-gernert"}, "is_accepted": false, "score": 4, "last_activity_date": 1527266509, "creation_date": 1527266509, "answer_id": 50533635, "question_id": 35187334, "link": "https://stackoverflow.com/questions/35187334/doxygen-error-failed-to-open-temporary-file-path-to-file-doxygen-objdb-3332-tm/50533635#50533635", "title": "Doxygen error: Failed to open temporary file /path/to/file/doxygen_objdb_3332.tmp", "body": "<p>This error can appear if doxygen doesn't have write access to the OUTPUT_DIRECTORY.</p>\n"}], "owner": {"reputation": 157, "user_id": 2869350, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1125501669/picture?type=large", "display_name": "Bolor", "link": "https://stackoverflow.com/users/2869350/bolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2731, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1553528081, "creation_date": 1454532293, "last_edit_date": 1454536675, "question_id": 35187334, "link": "https://stackoverflow.com/questions/35187334/doxygen-error-failed-to-open-temporary-file-path-to-file-doxygen-objdb-3332-tm", "title": "Doxygen error: Failed to open temporary file /path/to/file/doxygen_objdb_3332.tmp", "body": "<p>i'm trying to generate uml graph from c++ codes. after i've changed the following lines like below\n <code>EXTRACT_ALL            = YES\n    HAVE_DOT               = YES\n    UML_LOOK               = YES\n</code>\nthen i'm getting then this error message \n```</p>\n\n<blockquote>\n  <p>doxygen \n  error: Failed to open temporary file /path/to/file/doxygen_objdb_3332.tmp```</p>\n</blockquote>\n\n<p>does anyone know how to solve this. I'm using doxygen 1.8.11 on OSX 10.10. Thanks!</p>\n\n<p><strong>Solved</strong>: The c++ codes were in <strong>dropbox</strong>, i've <strong><em>moved</em></strong> to my user folder from dropbox.  </p>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 6, "creation_date": 1454531498, "post_id": 35187006, "comment_id": 58091288, "body": "You should at least indicate which line generates that error. Mind-reading is hard. Probably you wrote a function whose prototype says <code>char*</code> instead of <code>const char *</code>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1454531502, "post_id": 35187006, "comment_id": 58091291, "body": "I&#39;m <i>guessing</i>, since you&#39;re not showing us, that the <code>Password</code> constructor takes a <code>char*</code>, but you&#39;re giving it a <code>const char*</code>. So add <code>const</code> to the constructor&#39;s argument, or better yet; make it <code>std::string</code>."}, {"owner": {"reputation": 3226, "user_id": 2173029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ad13ad637acc30b9be7d129798894b1?s=128&d=identicon&r=PG&f=1", "display_name": "Rumburak", "link": "https://stackoverflow.com/users/2173029/rumburak"}, "edited": false, "score": 2, "creation_date": 1454531560, "post_id": 35187006, "comment_id": 58091343, "body": "Try to paste code that contains at least the declarations of the things you use."}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "edited": false, "score": 0, "creation_date": 1454531632, "post_id": 35187006, "comment_id": 58091391, "body": "I&#39;m not trying to make anyone &quot;mind-read&quot; I&#39;m just looking for help. I am trying to learn and understand all of this. I apologize for not making this clear. But thank you for the quick responses."}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "edited": false, "score": 0, "creation_date": 1454531672, "post_id": 35187006, "comment_id": 58091410, "body": "When I try to compile it, it does not tell me which line is generating the error."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1454531913, "post_id": 35187006, "comment_id": 58091563, "body": "@M.White Could you show us the <i>exact</i> output of the compilation? (I don&#39;t believe that it doesn&#39;t contain the line number.) BTW, which compiler are you using?"}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "edited": false, "score": 0, "creation_date": 1454532234, "post_id": 35187006, "comment_id": 58091782, "body": "warning: deprecated conversion from string constant to &#39;char*&#39; [-Wwrite-strings]   Password password = Password( &quot;1234&quot; );"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454532305, "post_id": 35187006, "comment_id": 58091823, "body": "@M.White Surely that&#39;s not all of it? Are you using an IDE? Are you looking at the compilation log or just a summary? Anyway, it looks like the problem is with the constructor. Show us <code>Password</code>&#39;s declaration."}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "edited": false, "score": 0, "creation_date": 1454532544, "post_id": 35187006, "comment_id": 58091946, "body": "C:\\Users\\mwhit_000\\Desktop\\Capstone\\Security_System\\Security&zwnj;&#8203;_System2\\Security_Sy&zwnj;&#8203;stem2.ino:27:38: warning: deprecated conversion from string constant to &#39;char*&#39; [-Wwrite-strings]   Password password = Password( &quot;1234&quot; );                                        ^   Sketch uses 11,850 bytes (4%) of program storage space. Maximum is 253,952 bytes. Global variables use 1,022 bytes (12%) of dynamic memory, leaving 7,170 bytes for local variables. Maximum is 8,192 bytes.      That is everything that comes up at the bottom after I compile. And I apologize, I&#39;m using the Arduino 1.6.7 compiler"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454532667, "post_id": 35187006, "comment_id": 58092026, "body": "@M.White So it did include the line number (27). Now show us the declaration of the <code>Password</code> class. (And don&#39;t post it in a comment; <a href=\"https://stackoverflow.com/posts/35187006/edit\">edit</a> the question.)"}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "edited": false, "score": 0, "creation_date": 1454533080, "post_id": 35187006, "comment_id": 58092280, "body": "The first line in the code I provided is actually line 27 in my code. I&#39;m guessing there is something wrong with that line? If I could figure out how to give you all my code I would."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454533205, "post_id": 35187006, "comment_id": 58092352, "body": "@M.White I&#39;ve already given it my best guess. You should <i>at least</i> show us the declaration of the constructor."}, {"owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1454534018, "post_id": 35187006, "comment_id": 58092814, "body": "@Biffen Do you have a different way to communicate so that maybe I can send you my entire code?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1454534219, "post_id": 35187006, "comment_id": 58092942, "body": "@M.White No. And I doubt I have to see <i>all</i> of it. Just <a href=\"https://stackoverflow.com/posts/35187006/edit\">edit</a> the question to include <code>Password</code>&#39;s constructor. It shouldn&#39;t be more than a handful of lines. (In fact, I think I know <i>exactly</i> what it looks like.)"}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1454534382, "post_id": 35187006, "comment_id": 58093023, "body": "Here&#39;s the answer: in C++, string constants have the type <code>const char [N]</code>, where <code>N</code> is the number of characters in the string plus one for the null terminator. So <code>&quot;hi&quot;</code> has the type <code>const char[3]</code>. Given an array <code>T[N]</code>, you can implicitly convert it to a pointer <code>T*</code>, which will point to the first element (equivalent to <code>&amp;arr[0]</code>). However, if <code>T</code> is <code>const</code>, such as <code>const char</code>, you cannot just convert to <code>char*</code>  because you&#39;d be dropping <code>const</code>; you need to convert it to <code>const char*</code>.  You <i>used</i> to be able to do this in C++ for historical reasons, but it has been fixed."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1454534414, "post_id": 35187006, "comment_id": 58093043, "body": "But use <code>std::string</code> instead of C-style arrays or pointers for strings."}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1454535489, "creation_date": 1454535489, "answer_id": 35188247, "question_id": 35187006, "link": "https://stackoverflow.com/questions/35187006/conversion-from-string-constant-to-char/35188247#35188247", "title": "conversion from string constant to char*", "body": "<p>This is a non-answer, but comments have so-far been unable to explain what's going on to OP, so here's a longer, more detailed shot at it.</p>\n\n<p>The actual output looks something like this</p>\n\n<pre><code>C:\\Users\\mwhit_000\\Desktop\\Capstone\\Security_System\\Security_System2\\Security_Sy\u200c\u200bstem2.ino:27:38: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings] \nPassword password = Password( \"1234\" ); \n                                      ^ \n\nSketch uses 11,850 bytes (4%) of program storage space. Maximum is 253,952 bytes. Global variables use 1,022 bytes (12%) of dynamic memory, leaving 7,170 bytes for local variables. Maximum is 8,192 bytes. \n</code></pre>\n\n<p>From \"sketch\" on isn't an error message, its build status. </p>\n\n<p>Let's break that down.</p>\n\n<pre><code>file name:line number:character on that line:type of error: error description \nproblem line\n^ marking where on the above line the compiler thinks the problem is\n</code></pre>\n\n<p>File name: C:\\Users\\mwhit_000\\Desktop\\Capstone\\Security_System\\Security_System2\\Security_Sy\u200c\u200bstem2.ino</p>\n\n<p>Line number: 27</p>\n\n<p>Column: 38</p>\n\n<p>Type of error: Warning</p>\n\n<p>Description: deprecated conversion from string constant to 'char*' [-Wwrite-strings] </p>\n\n<p>Error line: <code>Password password = Password( \"1234\" );</code></p>\n\n<p>So this is quite literally telling you you are converting a constant string into a non-constant string right the freak here: <code>Password password = Password( \"1234\" );</code></p>\n\n<p>Why is this bad? \"1234\" is a constant string. the \"1234\" cannot be changed. Password takes a non-constant string and makes no promises that it won't try to change the string's value. If Password tries to change \"1234\" into something else, the results are undefined. The program may crash. It could keep running and crash later. It could eat a cat.</p>\n"}], "owner": {"reputation": 1, "user_id": 5879369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8824a6811ff1337192a40ec78d4166?s=128&d=identicon&r=PG&f=1", "display_name": "M.White", "link": "https://stackoverflow.com/users/5879369/m-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1454535489, "creation_date": 1454531123, "question_id": 35187006, "link": "https://stackoverflow.com/questions/35187006/conversion-from-string-constant-to-char", "title": "conversion from string constant to char*", "body": "<p>I am new to programming and am working on a project for a class. I am trying to use a keypad to enter a password. I cant figure out the \"conversion from string constant to char* error I keep getting. </p>\n\n<p>This is my code:</p>\n\n<pre><code>Password password = Password( \"1234\" );\n\nconst byte ROWS = 4; //Four rows\nconst byte COLS = 4; //Four columns\n\nchar keys[ROWS][COLS] = {\n{ '1','2','3','A'},\n{'4','5','6','B'},\n{'7','8','9','C'},\n{'*','0','#','D'}};\n\nbyte rowPins[ROWS] = {\n46, 47, 48, 49};  //connect to the row pinouts of the keypad\nbyte colPins[COLS] = {\n50, 51, 52, 53};  //connect to the column pinouts of the keypad\n\n//Create the Keypad\nKeypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, ROWS, COLS);\n</code></pre>\n\n<p>any help or ideas would be greatly appreciated </p>\n"}, {"tags": ["c++", "c++11", "syntax", "casting", "operator-overloading"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1454531062, "post_id": 35186919, "comment_id": 58090972, "body": "No, that is impossible"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 2, "creation_date": 1454531251, "post_id": 35186919, "comment_id": 58091099, "body": "The code you provided compiles if SomeClass has a constructor that takes an int. &quot;is there a way to add a conversion operator to int instead&quot; doesn&#39;t make sense unless you mean &quot;I want to do <code>int x = SomeClass c;</code>&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "reply_to_user": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 1, "creation_date": 1454532182, "post_id": 35186919, "comment_id": 58091747, "body": "@CaptainGiraffe You are missing &quot;I know that it&#39;s possible to make a ctor in someclass that accepts an int, but is there a way to add a conversion operator to int instead? &quot;"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1454533051, "post_id": 35186919, "comment_id": 58092263, "body": "@DieterL&#252;cking Yep, I got thrown off by the sample code line."}], "answers": [{"comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454531926, "post_id": 35187162, "comment_id": 58091568, "body": "I would not condone using <code>operator int</code> since it&#39;s an implicit conversion to <code>int</code> that can be invoked in many situations where it&#39;s undesirable. I don&#39;t think this is what the OP is asking about but <code>explicit operator int</code> would be the safer way to proceed."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454532156, "post_id": 35187162, "comment_id": 58091720, "body": "As you can see <a href=\"http://ideone.com/XXhwsM\" rel=\"nofollow noreferrer\">here</a> the <code>&lt;&lt; (int) x</code> cast isn&#39;t required but <a href=\"http://ideone.com/f7UjuP\" rel=\"nofollow noreferrer\">here</a> the cast is required."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1454532408, "post_id": 35187162, "comment_id": 58091873, "body": "Never have implicit conversions from and to a type - either make the constructor or the operator T explicit"}, {"owner": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "edited": false, "score": 0, "creation_date": 1454532802, "post_id": 35187162, "comment_id": 58092108, "body": "I asked if this was possible without a ctor that accepts an int."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "edited": false, "score": 0, "creation_date": 1454538113, "post_id": 35187162, "comment_id": 58094994, "body": "@kuhaku Are you asking for a conversion operator that converts <i>from int to SomeClass</i>? You can write an &#39;operator=(int)&#39;."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "edited": false, "score": 0, "creation_date": 1454538491, "post_id": 35187162, "comment_id": 58095179, "body": "@kuhaku example <code>operator=</code> added."}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 2, "last_activity_date": 1454538470, "last_edit_date": 1454538470, "creation_date": 1454531681, "answer_id": 35187162, "question_id": 35186919, "link": "https://stackoverflow.com/questions/35186919/is-there-a-way-to-add-conversion-operators-to-primitive-types/35187162#35187162", "title": "Is there a way to add conversion operators to primitive types?", "body": "<p>Your example code</p>\n\n<pre><code>SomeClass x = (SomeClass)7;\n</code></pre>\n\n<p>compiles if SomeClass has a constructor that accepts an int:</p>\n\n<pre><code>struct SomeClass {\n    SomeClass(int) {}\n};\n\nint main() {\n    SomeClass x = (SomeClass)7;\n}\n</code></pre>\n\n<p>If you want to be able to convert a SomeClass into an integer, you want operator int()</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass SomeClass {\n    int m_n;\n\npublic:\n    SomeClass(int n_) : m_n(n_) {}\n    SomeClass() : m_n(0) {}\n\n    operator int () { return m_n; }\n};\n\nint main() {\n    SomeClass x = 7; // The cast is not required.\n    std::cout &lt;&lt; (int)x &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Live demo: <a href=\"http://ideone.com/fwija0\" rel=\"nofollow\">http://ideone.com/fwija0</a></p>\n\n<p>Without the constructor:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass SomeClass {\n    int m_n;\n\npublic:\n    SomeClass() : m_n(123) {}\n\n    operator int () { return m_n; }\n};\n\nint main() {\n    SomeClass x;\n    std::cout &lt;&lt; (int)x &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/xfsdjp\" rel=\"nofollow\">http://ideone.com/xfsdjp</a></p>\n\n<p>If you are asking \"how can I convert int to SomeClass with a conversion operator\" the closest thing is <code>operator=</code></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass SomeClass {\npublic:\n    int m_n;\n    SomeClass() : m_n(0) {}\n    SomeClass&amp; operator = (int n) { m_n = n; return *this; }\n};\n\nint main() {\n    SomeClass sc;\n    std::cout &lt;&lt; \"sc.m_n = \" &lt;&lt; sc.m_n &lt;&lt; \"\\n\";\n    sc = 5;\n    std::cout &lt;&lt; \"sc.m_n = \" &lt;&lt; sc.m_n &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/wDl4oP\" rel=\"nofollow\">http://ideone.com/wDl4oP</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 2, "last_activity_date": 1454534136, "last_edit_date": 1454534136, "creation_date": 1454533337, "answer_id": 35187620, "question_id": 35186919, "link": "https://stackoverflow.com/questions/35186919/is-there-a-way-to-add-conversion-operators-to-primitive-types/35187620#35187620", "title": "Is there a way to add conversion operators to primitive types?", "body": "<p>No, that is impossible. You can not change operations on primitive (builtin) types.</p>\n"}], "owner": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 35187162, "answer_count": 2, "score": 2, "last_activity_date": 1454538470, "creation_date": 1454530859, "question_id": 35186919, "link": "https://stackoverflow.com/questions/35186919/is-there-a-way-to-add-conversion-operators-to-primitive-types", "title": "Is there a way to add conversion operators to primitive types?", "body": "<p>Is there a way to add conversion operators to primitive types?</p>\n\n<p>For example:</p>\n\n<pre><code>Someclass x = (Someclass)7; //or even implicit casting\n</code></pre>\n\n<p>I know that it's possible to make a ctor in <code>someclass</code> that accepts an int, but is there a way to add a conversion operator to int instead?</p>\n"}, {"tags": ["c++", "perl", "qt"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1454532018, "post_id": 35186911, "comment_id": 58091632, "body": "I understand you have two different perl installations on the same machine, right? And your &quot;regular&quot; perl has <code>Proc&#47;ProcessTable.pm</code> installed, while the perl used by your script that is called by C++ has not? There are numerous ways to tell perl where to search for its <code>@INC</code>lude path. If I&#39;m right, I can probably help you out."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1454533680, "post_id": 35186911, "comment_id": 58092625, "body": "Easiest way - look at the path in the perl script shebang path. Run <i>that</i> perl with <code>-MCPAN -e shell</code> and install it."}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454536103, "post_id": 35186911, "comment_id": 58093957, "body": "That way still says me it&#39;s up to date."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454538863, "post_id": 35186911, "comment_id": 58095350, "body": "@AlexisCoquard: What does that shebang line say? What happens if you use <i>that path to perl</i> with <code>-MProc::ProcessTable -E&#39;1&#39;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539236, "post_id": 35186911, "comment_id": 58095514, "body": "Why are there two installations of perl on this system? Are they usefully different? Can you remove one?"}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454576963, "post_id": 35186911, "comment_id": 58109742, "body": "@Borodin when I run <code>-MProc::ProcessTable -E&#39;1</code> I get a <code>Can&#39;t load ... Symbol not found: _PL_curpad</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454625076, "post_id": 35186911, "comment_id": 58141036, "body": "@AlexisCoquard: No one has asked what platform you&#39;re using this on. Since you&#39;re using Qt I imagine it has to be portable, but is this a Linux system, or perhaps Cygwiin on Windows?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539167, "post_id": 35187501, "comment_id": 58095485, "body": "Unfortunately that&#39;s what <a href=\"http://stackoverflow.com/questions/35186911/cant-locate-proc-in-inc-but-cpan-says-module-is-up-to-date#comment58092625_35186911\"><b>Sobrique</b> suggested in his comment</a> to no apparent effect. But if the OP is to be believed then there&#39;s something very odd going on here"}, {"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454574429, "post_id": 35187501, "comment_id": 58108281, "body": "So yes that didn&#39;t work then I ran BEGIN { print &quot;$_\\n&quot; for @INC } from terminal and from my C++ program and it shows me 2 different directories, so i guess i should be digging that."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1454541064, "last_edit_date": 1454541064, "creation_date": 1454532894, "answer_id": 35187501, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date/35187501#35187501", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>Use <code>perl -MCPAN -eshell</code> but change <code>perl</code> to be a direct path to the Perl you want to install the module for.</p>\n\n<p>If that doesn't work, try to print out @INC (e.g. <code>BEGIN { print \"$_\\n\" for @INC }</code>) before your failing <code>use</code> and compare that to what just <code>perl -e'print \"$_\\n\" for @INC'</code> gives.  Something in your code may be removing directories from @INC.</p>\n\n<p>Or you could try</p>\n\n<pre><code>force install Proc::ProcessTable\n</code></pre>\n\n<p>in CPAN.</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454533558, "post_id": 35187555, "comment_id": 58092567, "body": "tried the first one and now the error message changed to: Can&#39;t load .. Symbol not found: _PL_curpad. I went through Google and haven&#39;t found much :("}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "edited": false, "score": 0, "creation_date": 1454534591, "post_id": 35187555, "comment_id": 58093139, "body": "I assume then your module isn&#39;t pure perl but also uses/has some <code>*.so</code>. Try @Sobrique &#39;s proposal, that sounds very promising."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1454539001, "post_id": 35187555, "comment_id": 58095409, "body": "@PerlDog: <i>Relative</i> hard-coded paths are fine. See <a href=\"http://metacpan.org/module/mylib\" rel=\"nofollow noreferrer\">mylib</a> for example"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1454540538, "post_id": 35187555, "comment_id": 58096038, "body": "if you are getting symbol errors, you likely are pointing to a Proc::ProcessTable that is compiled for a different version or architecture of perl."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1454533086, "creation_date": 1454533086, "answer_id": 35187555, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date/35187555#35187555", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>Provided you know the path where <code>Proc/ProcessTable.pm</code> is installed <em>and</em> it is\ncompatible with the perl version used by your C++ program, you can</p>\n\n<ol>\n<li><p><strong>either</strong> call perl with <code>-I</code>:</p>\n\n<p><code>perl -I /path/to/modules myscript.pl</code></p>\n\n<p>where <code>/path/to/modules</code> is the parent of <code>Proc/ProcessTable.pm</code>,<br>\ni.e. <code>/path/to/modules/Proc/ProcessTable.pm</code> exists.</p></li>\n<li><p><strong>or</strong> set the environment variable to the modules:</p>\n\n<p><code>export PERL5LIB=/path/to/modules</code></p>\n\n<p>and then start your script. The path given here is prepended to\nthe built-in <code>@INC</code> path.</p></li>\n<li><p><strong>or</strong> make your script use the additional path:</p>\n\n<p><code>use lib \"/path/to/modules\";</code></p></li>\n</ol>\n\n<p>I'd prefer 1. or 2. because hardcoded paths in scripts are almost always a bad idea.</p>\n"}], "owner": {"reputation": 157, "user_id": 5631240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wikJ5YRgux0/AAAAAAAAAAI/AAAAAAAAAB4/_V3zY7HLx-M/photo.jpg?sz=128", "display_name": "Alexis Coquard", "link": "https://stackoverflow.com/users/5631240/alexis-coquard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1194, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454541064, "creation_date": 1454530848, "last_edit_date": 1454539391, "question_id": 35186911, "link": "https://stackoverflow.com/questions/35186911/cant-locate-module-in-inc-but-cpan-says-module-is-up-to-date", "title": "Can&#39;t locate module in @INC but CPAN says module is up to date", "body": "<p>I'm currently developing a small project with Qt using C++.</p>\n\n<p>My code is calling a Perl script and I got this error:</p>\n\n<blockquote>\n  <p>Can't locate Proc/ProcessTable.pm in @INC</p>\n</blockquote>\n\n<p>So I went to install the module and CPAN said:</p>\n\n<blockquote>\n  <p>Proc::ProcessTable is up to date (0.53).</p>\n</blockquote>\n\n<p>So i searched a bit and apparently it might be because of two copies of Perl involved. I tried to get the module on a local directory but Qt is still unable to find it. I'm stuck.</p>\n\n<p>Moreover, if I run the Perl script from the command line everything works fine.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c++", "linux", "qt", "opengl-es"], "answers": [{"comments": [{"owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 1, "creation_date": 1454558225, "post_id": 35188398, "comment_id": 58101506, "body": "FBO support is standard in ES 2.0. No need for extensions."}], "tags": [], "owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "is_accepted": false, "score": 1, "last_activity_date": 1454536055, "creation_date": 1454536055, "answer_id": 35188398, "question_id": 35186779, "link": "https://stackoverflow.com/questions/35186779/opengl-es-2-how-to-render-to-texture-and-extract-data-for-gpgpu-test/35188398#35188398", "title": "OpenGL ES 2 How To Render to Texture and Extract Data for GPGPU Test", "body": "<blockquote>\n  <p>I then attempt to submit the texture to the GPU and read it back like this</p>\n  \n  <p>[...]</p>\n  \n  <p>So it is obvious that I am not \"getting\" the buffer back from OpenGL. I would expect it to contain the 1.5's, since I am reading the texture back with glReadPixels into my dataY array.</p>\n</blockquote>\n\n<p>Why would it obviously not be the back buffer you are reading back?</p>\n\n<p>You never render the texture to the color buffer, so reading back from the color buffer will never return the texture data.</p>\n\n<p>The original code uses framebuffer objects to access the texture as a color buffer, which will have a totally different semantic in this scenario (it is still a mostly useless benchmark, though). Note that most real world ES2 devices also support the <a href=\"https://www.khronos.org/registry/gles/extensions/OES/OES_framebuffer_object.txt\" rel=\"nofollow\"><code>GL_OES_framebuffer_object</code> extension</a>, so you can conceptually port that.</p>\n"}, {"comments": [{"owner": {"reputation": 1274, "user_id": 688563, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7ba0fb451b240351c79a96cae6ea14ea?s=128&d=identicon&r=PG&f=1", "display_name": "PhilBot", "link": "https://stackoverflow.com/users/688563/philbot"}, "edited": false, "score": 1, "creation_date": 1454552703, "post_id": 35190740, "comment_id": 58099929, "body": "Yes you are correct :) I the CPU is a DM3730 with the SGX530. Thanks for the link I will try this ASAP."}], "tags": [], "owner": {"reputation": 3067, "user_id": 2216021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ed9600f24dd9e3e96a2191dd87f9832?s=128&d=identicon&r=PG", "display_name": "Prabindh", "link": "https://stackoverflow.com/users/2216021/prabindh"}, "is_accepted": false, "score": 3, "last_activity_date": 1454547903, "creation_date": 1454547903, "answer_id": 35190740, "question_id": 35186779, "link": "https://stackoverflow.com/questions/35186779/opengl-es-2-how-to-render-to-texture-and-extract-data-for-gpgpu-test/35190740#35190740", "title": "OpenGL ES 2 How To Render to Texture and Extract Data for GPGPU Test", "body": "<p>The code shown does not have a draw call that would use the texture and render to the default color buffer (a call like glDrawElements). The glReadPixels reads from the default Framebuffer. It can be changed in OpenGLES2 using <em>GL_COLOR_ATTACHMENT0</em>, not <em>GL_COLOR_ATTACHMENT0_EXT</em></p>\n\n<p>For the vast majority of TI devices with framebuffer support/nullws support, you can use the profiling code at below link. The below code tests some GPGPU scenarios including edge detection, colour conversion, and using FBO. Refer to calls to tests 11, 17</p>\n\n<p><a href=\"https://github.com/prabindh/sgxperf/blob/master/sgxperf_gles20_vg.cpp\" rel=\"nofollow\">https://github.com/prabindh/sgxperf/blob/master/sgxperf_gles20_vg.cpp</a></p>\n\n<p>BTW, OMAP3 production chipsets have(had) SGX530 GPU not SGX540. SGX540/variants are used in the OMAP4 chipsets. You would be extremely lucky if you had a production OMAP3 variant with SGX540 :) You can confirm it in the bootlogs, or with the debug version of the PVR drivers. </p>\n\n<p>Also mention what board/platform is being used.</p>\n"}, {"tags": [], "owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "is_accepted": false, "score": 4, "last_activity_date": 1454560848, "creation_date": 1454560848, "answer_id": 35192635, "question_id": 35186779, "link": "https://stackoverflow.com/questions/35186779/opengl-es-2-how-to-render-to-texture-and-extract-data-for-gpgpu-test/35192635#35192635", "title": "OpenGL ES 2 How To Render to Texture and Extract Data for GPGPU Test", "body": "<p>You got a number of issues with this code. The main one being that ES 2.0 does not support float textures. Specifically:</p>\n\n<ul>\n<li><code>GL_FLOAT</code> is not valid as the <em>type</em> argument of <code>glTexImage2D()</code> and <code>glTexSubImage2D()</code>. This needs to be <code>GL_UNSIGNED_BYTE</code>, or one of various <code>GL_UNSIGNED_SHORT_*</code> options.</li>\n<li>The only <em>format</em>/<em>type</em> combination for <code>glReadPixels()</code> supported across all implementations is <code>GL_RGBA</code>/<code>GL_UNSIGNED_BYTE</code>. There is a second implementation dependent combination you can query.</li>\n<li>As others already pointed out, you're attempting to fill a texture with data, and then reading data from the current framebuffer. So even if both operations used valid arguments, you still would not get the data.</li>\n</ul>\n\n<p>I would strongly recommend that you check some documentation before blindly trying to pass arguments that may or may not be valid to API calls. The <a href=\"https://www.khronos.org/opengles/sdk/docs/man/\" rel=\"nofollow\">man pages</a> are a good start. Also, use <code>glGetError()</code>, which will return error codes if you make invalid calls.</p>\n\n<p>Implementations can support extensions that add support for some of the functionality you're looking for. E.g. <a href=\"https://www.khronos.org/registry/gles/extensions/OES/OES_texture_float.txt\" rel=\"nofollow\">OES_texture_float</a> adds support for float textures. But you need to check for the presence of these extensions before attempting to use them.</p>\n"}], "owner": {"reputation": 1274, "user_id": 688563, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7ba0fb451b240351c79a96cae6ea14ea?s=128&d=identicon&r=PG&f=1", "display_name": "PhilBot", "link": "https://stackoverflow.com/users/688563/philbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1454704193, "creation_date": 1454530380, "last_edit_date": 1454610487, "question_id": 35186779, "link": "https://stackoverflow.com/questions/35186779/opengl-es-2-how-to-render-to-texture-and-extract-data-for-gpgpu-test", "title": "OpenGL ES 2 How To Render to Texture and Extract Data for GPGPU Test", "body": "<p>I am attempting to submit a small float array as an OpenGL ES 2.0 Texture and read it back in order to understand GPGPU better. I am attempting to do this on the SGX 530 GPU on a TI OMAP3 ARM SoC.</p>\n\n<p>I've been following this guide: \n<a href=\"http://www.mathematik.uni-dortmund.de/~goeddeke/gpgpu/tutorial.html#kernel1\">enter link description here</a></p>\n\n<p>My code currently creates and populates 2 float arrays, and then creates \"pass through\" shaders like this:</p>\n\n<pre><code>void GLWidget::initializeGL()\n{\n\n    // Max texture size in each direction\n    int maxSize;\n    glGetIntegerv(GL_MAX_TEXTURE_SIZE,&amp;maxSize);\n    texSize = sqrt(maxSize);\n    texSize = 2;\n    qDebug() &lt;&lt; \"GL_MAX_TEXTURE_SIZE \" &lt;&lt; maxSize &lt;&lt; \" SQRT \" &lt;&lt; texSize;\n\n    // Define input and output arrays of RGBA format with each channel being u8\n    m_Format = 4;\n    dataX = (quint8*)malloc(m_Format*texSize*texSize*sizeof(quint8));\n    dataY = (quint8*)malloc(m_Format*texSize*texSize*sizeof(quint8));\n\n    // Setup some dummy data\n    int arraySize = m_Format*texSize*texSize;\n    qDebug() &lt;&lt; \"Array Size: \" &lt;&lt; arraySize;\n    for (int i = 0; i &lt; arraySize ; i++) {\n        dataX[i] = i;\n    }\n\n    for (int i = 0; i &lt; arraySize ; i++) {\n        dataY[i] = 0;\n    }\n\n    QGLShader *vshader = new QGLShader(QGLShader::Vertex);\n    const char *vsrc =\n            \"attribute highp vec4 vertex;\\n\"\n            \"attribute highp vec4 texCoord;\\n\"\n            \"varying vec2 texc;\\n\"\n            \"void main(void)\\n\"\n            \"{\\n\"\n            \"    gl_Position = vertex;\\n\"\n            \"    texc = texCoord.xy;\\n\"\n            \"}\\n\";\n    vshader-&gt;compileSourceCode(vsrc);\n\n    QGLShader *fshader = new QGLShader(QGLShader::Fragment);\n    const char *fsrc =\n            \"varying highp vec2 texc;\\n\"\n            \"uniform sampler2D tex;\\n\"\n            \"void main(void)\\n\"\n            \"{\\n\"\n            \"    gl_FragColor = texture2D(tex, texc);\\n\"\n            \"}\\n\";\n    fshader-&gt;compileSourceCode(fsrc);\n\n    program.addShader(vshader);\n    program.addShader(fshader);\n    program.link();\n\n    vertexAttr = program.attributeLocation(\"vertex\");\n    texCoordAttr = program.attributeLocation(\"texCoord\");\n    textureUniform = program.uniformLocation(\"tex\");\n\n}\n</code></pre>\n\n<p>I then attempt to submit the texture to the GPU, render it to a framebuffer, and read it back like this:</p>\n\n<pre><code>void GLWidget::renderToScene()\n{\n\n    // Bind and configure a texture\n    glActiveTexture(GL_TEXTURE0);\n    glGenTextures(1, &amp;m_hTexture);\n    glBindTexture(GL_TEXTURE_2D, m_hTexture);\n    glUniform1i(textureUniform, 0);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, texSize, texSize, 0, GL_RGBA, GL_UNSIGNED_BYTE, dataX); // Allocate buffer to hold RGBA with 8 bytes each\n\n    // Generate handles for Frame Buffer Object\n    glGenFramebuffers(1, &amp;m_hFBO);\n\n    // Switch the render target to the current FBO to update the texture map\n    glBindFramebuffer(GL_FRAMEBUFFER, m_hFBO);\n\n    qDebug() &lt;&lt; \"Data before roundtrip:\";\n    int arraySize = m_Format*texSize*texSize;\n    for (int i = 0 ; i &lt; arraySize ; i++)\n        qDebug() &lt;&lt; dataX[i];\n\n    // FBO attachment is complete?\n    if (glCheckFramebufferStatus(GL_FRAMEBUFFER) == GL_FRAMEBUFFER_COMPLETE)\n    {\n\n        qDebug() &lt;&lt; \"Frame buffer is present...\";\n        glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, m_hTexture, 0);\n        //glTexSubImage2D(GL_TEXTURE_2D,0,0,0,texSize,texSize, GL_RGBA,GL_UNSIGNED_BYTE,dataX); // pixel data is RGBA and each channel u8\n\n        static const GLfloat squareVertices[] = {\n            -1.0f, -1.0f,\n            1.0f, -1.0f,\n            -1.0f,  1.0f,\n            1.0f,  1.0f,\n        };\n\n        static const GLfloat textureVertices[] = {\n            1.0f, 1.0f,\n            1.0f, 0.0f,\n            0.0f,  1.0f,\n            0.0f,  0.0f,\n        };\n\n        // ensure no VBOs or IBOs are bound\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\n        // Set pointers to the arrays\n        glVertexAttribPointer(ATTRIB_VERTEX, 2, GL_FLOAT, 0, 0, squareVertices);\n        glEnableVertexAttribArray(ATTRIB_VERTEX);\n        glVertexAttribPointer(ATTRIB_TEXTUREPOSITON, 2, GL_FLOAT, 0, 0, textureVertices);\n        glEnableVertexAttribArray(ATTRIB_TEXTUREPOSITON);\n\n        glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);\n\n        glDisableVertexAttribArray(ATTRIB_VERTEX);\n        glDisableVertexAttribArray(ATTRIB_TEXTUREPOSITON);\n\n    }\n\n    qDebug() &lt;&lt; \"Zero data:\";\n    for (int i = 0; i &lt; arraySize ; i++)\n        qDebug() &lt;&lt; dataY[i];\n\n    // GPGPU Extract\n    glReadPixels(0, 0, texSize, texSize, GL_RGBA,GL_UNSIGNED_BYTE,dataY);\n\n    // print out results\n    qDebug() &lt;&lt; \"Data after roundtrip:\";\n    for (int i = 0; i &lt; arraySize ; i++)\n        qDebug() &lt;&lt; dataY[i];\n\n    // Unbind the FBO so rendering will return to the main buffer.\n    glBindFramebuffer(GL_FRAMEBUFFER, 0);\n\n    qDebug() &lt;&lt; \"Done...\";\n    sleep(60000);\n\n}\n</code></pre>\n\n<p>The draw call looks like this:</p>\n\n<pre><code>void GLWidget::draw() {\n\n    glClearColor(0.1f, 0.1f, 0.2f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    glFrontFace(GL_CW);\n    glCullFace(GL_FRONT);\n    glEnable(GL_CULL_FACE);\n    glEnable(GL_DEPTH_TEST);\n\n    // Draw\n    program.bind();\n    renderToScene();\n    program.release();\n\n    glDisable(GL_DEPTH_TEST);\n    glDisable(GL_CULL_FACE);\n\n    swapBuffers();\n\n}\n</code></pre>\n\n<p>Everything compiles and runs, but my data output looks like this:</p>\n\n<pre><code>Found SGX/MBX driver, enabling FullClearOnEveryFrame \nFound v1.4 driver, enabling brokenTexSubImage \nFound non-Nokia v1.4 driver, enabling brokenFBOReadBack \nGL_MAX_TEXTURE_SIZE  2048  SQRT  2 \nArray Size:  16 \nData before roundtrip: \n0 \n1 \n2 \n3 \n4 \n5 \n6 \n7 \n8 \n9 \n10 \n11 \n12 \n13 \n14 \n15 \nZero data: \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \nData after roundtrip: \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \n0 \nDone... \n</code></pre>\n\n<p>How can I submit and read back my text properly? Thanks!</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 255, "user_id": 3457685, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/74572be34f856bb0c0e8d5ada54e10a3?s=128&d=identicon&r=PG&f=1", "display_name": "leJon", "link": "https://stackoverflow.com/users/3457685/lejon"}, "edited": false, "score": 0, "creation_date": 1454530385, "post_id": 35186657, "comment_id": 58090555, "body": "you should indent your code to ease our reading and add some blank rows"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1454530534, "post_id": 35186657, "comment_id": 58090644, "body": "Answering your question, I would say yes, however accessing an array of two objects at index 2 is out of bounds, valid indices are 0 and 1, but not 2. That said, it&#39;s a bit unclear what your problem is. Also, please replace e.g. user input code with hardcoded values that demonstrate issues when extracting a minimal example."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1454531374, "post_id": 35186657, "comment_id": 58091192, "body": "I&#39;m not sure to understand what you are trying to accomplish. When you initialize the apartments array, what are the numbers in the initializer list, the rents (you think)?"}, {"owner": {"reputation": 45, "user_id": 5879134, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-oxWq1oxobg4/AAAAAAAAAAI/AAAAAAAAABc/GLNIJPlWxwU/photo.jpg?sz=128", "display_name": "Diche Bach", "link": "https://stackoverflow.com/users/5879134/diche-bach"}, "edited": false, "score": 0, "creation_date": 1454536500, "post_id": 35186657, "comment_id": 58094165, "body": "Re: Ulrich &quot;1&quot; &quot;2&quot; and &quot;3&quot; should be the <i>only</i> values the user can enter and receive the output in the else statement. Anything else should return the &#39;invalid&#39; output. At present, all values return the invalid output, so if(bedroomsNeeded != apartment[x][y].bedroomsNum) is apparently not identifying, 0,1,2, or 3 as valid. The intent to is to test if user input matches any of the indices, and is thus a valid input."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1454538681, "post_id": 35186657, "comment_id": 58095270, "body": "You are not initializing the array properly. Your <code>Apartment</code> struct has 3 members, the array <code>apartment</code> (which makes little sense BTW) has 6 elements and your initilizer list has 6 values too instead of 18."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5879134, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-oxWq1oxobg4/AAAAAAAAAAI/AAAAAAAAABc/GLNIJPlWxwU/photo.jpg?sz=128", "display_name": "Diche Bach", "link": "https://stackoverflow.com/users/5879134/diche-bach"}, "edited": false, "score": 0, "creation_date": 1454535938, "post_id": 35186828, "comment_id": 58093860, "body": "Thanks folks, some good food for thought! @leJon: I will take you up on that use of the boolean type! as well as the &#39;better use of whitespace&#39; suggestion. First time using StackOverflow so I didn&#39;t want to overdo it with the size of my code paste."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1454530542, "creation_date": 1454530542, "answer_id": 35186828, "question_id": 35186657, "link": "https://stackoverflow.com/questions/35186657/c-2-dimensional-array-size-value-as-operand-in-not-equal-to-expression/35186828#35186828", "title": "C++ 2-dimensional Array Size Value as Operand in &quot;Not equal to&quot; Expression", "body": "<p>You array is defined as <code>Apartment apartment[BEDROOMS][BATHROOMS]</code>.  In C++ arrays are zero based index so <code>Apartment apartment[0][0]</code> to <code>Apartment apartment[BEDROOMS - 1][BATHROOMS - 1]</code> is valid</p>\n\n<p>When you do <code>apartment[x][y].bedroomsNum</code> <code>x = BEDROOMS</code> and <code>y = BATHROOMS</code> which means you are one past then valid indexs of the arrays.</p>\n\n<p>You need to set <code>x</code> to a value in the range of <code>[0, BEDROOMS)</code> and <code>y</code> to something in the range of <code>[0, BATHROOMS)</code></p>\n"}, {"tags": [], "owner": {"reputation": 255, "user_id": 3457685, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/74572be34f856bb0c0e8d5ada54e10a3?s=128&d=identicon&r=PG&f=1", "display_name": "leJon", "link": "https://stackoverflow.com/users/3457685/lejon"}, "is_accepted": false, "score": 0, "last_activity_date": 1454530560, "creation_date": 1454530560, "answer_id": 35186833, "question_id": 35186657, "link": "https://stackoverflow.com/questions/35186657/c-2-dimensional-array-size-value-as-operand-in-not-equal-to-expression/35186833#35186833", "title": "C++ 2-dimensional Array Size Value as Operand in &quot;Not equal to&quot; Expression", "body": "<p>You can do this but you need to take care of your array size...</p>\n\n<pre><code> x = BEDROOMS ;\n y = BATHROOMS ;\n</code></pre>\n\n<p>are out of range if you access the array with <code>x,y</code> as indices\ntry this:</p>\n\n<pre><code> x = BEDROOMS - 1;\n y = BATHROOMS - 1;\n</code></pre>\n\n<p>And if I can give you an advice, don't use <code>int</code> as boolean, c++ has a <code>boolean</code> type !</p>\n"}], "owner": {"reputation": 45, "user_id": 5879134, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-oxWq1oxobg4/AAAAAAAAAAI/AAAAAAAAABc/GLNIJPlWxwU/photo.jpg?sz=128", "display_name": "Diche Bach", "link": "https://stackoverflow.com/users/5879134/diche-bach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454530560, "creation_date": 1454529993, "last_edit_date": 1454530225, "question_id": 35186657, "link": "https://stackoverflow.com/questions/35186657/c-2-dimensional-array-size-value-as-operand-in-not-equal-to-expression", "title": "C++ 2-dimensional Array Size Value as Operand in &quot;Not equal to&quot; Expression", "body": "<p>First time posting so apologies if my form is not ideal, and I appreciate any constructive feedback. Is it possible to use an array size as follows </p>\n\n<blockquote>\n  <p>if(bedroomsNeeded != apartment[x][y].bedroomsNum)</p>\n</blockquote>\n\n<p>within the following code:</p>\n\n<pre><code>struct Apartment{\n    int bedroomsNum;\n    int bathroomsNum;\n    int rent; };\nint main(){\n    const int BEDROOMS = 3;\n    const int BATHROOMS = 2;\n    Apartment apartment[BEDROOMS][BATHROOMS] = {\n        {650,0},     /* 1 bedroom row: 1 bath column, 2 bath column */\n        {829,925},   /* 2 bedroom row: 1 bath column, 2 bath column */ \n        {0,1075}    /* 3 bedroom row: 1 bath column, 2 bath column */\n    };\n    int isFoundbedrooms = 0;\n    int isFoundbathrooms = 0;\n    int bedroomsNeeded = 0;\n    int bathroomsNeeded = 0;\n    int x = BEDROOMS;\n    int y = BATHROOMS;\n    while(isFoundbedrooms != 1) {\n        cout &lt;&lt; \"How many bedrooms do you want? (Enter 1, 2 or 3).\" &lt;&lt; endl;\n        cin &gt;&gt; bedroomsNeeded;\n        if(bedroomsNeeded != apartment[x][y].bedroomsNum) {\n            cout &lt;&lt; \"Sorry - you entered an invalid number of bedrooms needed.\" &lt;&lt; endl;\n            cout &lt;&lt; \" Please enter either 1, 2 or 3.\" &lt;&lt; endl;\n        }\n        else\n        {\n            cout &lt;&lt; \"You entered \" &lt;&lt; bedroomsNeeded &lt;&lt; \" bedrooms needed.\" &lt;&lt; endl;\n            isFoundbedrooms = 1;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 2, "creation_date": 1454529749, "post_id": 35186518, "comment_id": 58090173, "body": "The stack unwinds and you&#39;re calling the recursion before printing. So, the first to print would be <code>C</code>, the stack unwinds one and prints <code>B</code> and so on."}, {"owner": {"reputation": 16601, "user_id": 4345344, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a3f267dc4fe6d188ab0429da6db0fa44?s=128&d=identicon&r=PG&f=1", "display_name": "uksz", "link": "https://stackoverflow.com/users/4345344/uksz"}, "reply_to_user": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1454529792, "post_id": 35186518, "comment_id": 58090205, "body": "@ChiefTwoPencils, oh, okay. I am C++ beginner, and had no idea that it works that way."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1454529834, "post_id": 35186518, "comment_id": 58090227, "body": "It&#39;s helpful to draw out on paper what&#39;s happening with the recursion when facing problems with its behavior."}, {"owner": {"reputation": 16601, "user_id": 4345344, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a3f267dc4fe6d188ab0429da6db0fa44?s=128&d=identicon&r=PG&f=1", "display_name": "uksz", "link": "https://stackoverflow.com/users/4345344/uksz"}, "reply_to_user": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1454529854, "post_id": 35186518, "comment_id": 58090236, "body": "@ChiefTwoPencils, can you expand your comment into answer?"}, {"owner": {"reputation": 934, "user_id": 378509, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/50232a7ca3701b6152b47a2ff125099a?s=128&d=identicon&r=PG", "display_name": "vk239", "link": "https://stackoverflow.com/users/378509/vk239"}, "edited": false, "score": 1, "creation_date": 1454529892, "post_id": 35186518, "comment_id": 58090254, "body": "@uksz - This video explains how recursion works <a href=\"https://www.youtube.com/watch?v=ygK0YON10sQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=ygK0YON10sQ</a>"}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1454529915, "post_id": 35186518, "comment_id": 58090270, "body": "Meh, spread the love and accept the <i>first</i> correct answer or the one that provides the most/best explanation. :) I would recommend Richard&#39;s for its completeness."}], "answers": [{"tags": [], "owner": {"reputation": 2533, "user_id": 2925287, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/821554321/picture?type=large", "display_name": "Pierre Emmanuel Lallemant", "link": "https://stackoverflow.com/users/2925287/pierre-emmanuel-lallemant"}, "is_accepted": false, "score": 4, "last_activity_date": 1454529782, "creation_date": 1454529782, "answer_id": 35186577, "question_id": 35186518, "link": "https://stackoverflow.com/questions/35186518/recursion-in-simple-function/35186577#35186577", "title": "Recursion in simple function", "body": "<p>You call it in the wrong order. Revert that: </p>\n\n<pre><code>test(nap+1);\nstd::cout &lt;&lt; *nap;\n</code></pre>\n\n<p>like this</p>\n\n<pre><code>std::cout &lt;&lt; *nap;\ntest(nap+1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "is_accepted": true, "score": 1, "last_activity_date": 1454529807, "creation_date": 1454529807, "answer_id": 35186585, "question_id": 35186518, "link": "https://stackoverflow.com/questions/35186518/recursion-in-simple-function/35186585#35186585", "title": "Recursion in simple function", "body": "<p>Your recursion is to go to the end of the text string and to then go backwards printing each character.</p>\n\n<p>In other words your function keeps calling itself until it reaches end of string. At that point it returns to where it called itself and the next step is to print the current character.</p>\n\n<p>Then you return to where it called itself again and the next step is to print the current character.</p>\n\n<p>The result is that you traverse the string until the end of string by the recursive calls. Once you reach the end of string you start unwinding the series of recursive calls. At each return you print the current character.</p>\n\n<p>Try the following which will print the current character and then call itself to print the next character instead. When it reaches the end of the string it will unwind the recursive calls.</p>\n\n<pre><code>void test(const char *nap) {\n    if (*nap != 'D'){\n        std::cout &lt;&lt; *nap;\n        test(nap+1);\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1454529835, "creation_date": 1454529835, "answer_id": 35186597, "question_id": 35186518, "link": "https://stackoverflow.com/questions/35186518/recursion-in-simple-function/35186597#35186597", "title": "Recursion in simple function", "body": "<p>because the std::cout is after calling the recursion ( )..</p>\n\n<pre><code>test(nap+1);\nstd::cout &lt;&lt; *nap;\n</code></pre>\n\n<p>That is parent feeds children before eating.</p>\n\n<p>The below will get what you want:</p>\n\n<pre><code> std::cout &lt;&lt; *nap;\n test(nap+1);\n</code></pre>\n"}], "owner": {"reputation": 16601, "user_id": 4345344, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a3f267dc4fe6d188ab0429da6db0fa44?s=128&d=identicon&r=PG&f=1", "display_name": "uksz", "link": "https://stackoverflow.com/users/4345344/uksz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 35186585, "answer_count": 3, "score": 0, "last_activity_date": 1454529835, "creation_date": 1454529610, "question_id": 35186518, "link": "https://stackoverflow.com/questions/35186518/recursion-in-simple-function", "title": "Recursion in simple function", "body": "<p>I am having the following function:</p>\n\n<pre><code>void test(const char *nap){\nif (*nap != 'D'){\n    test(nap+1);\n    std::cout &lt;&lt; *nap;\n}};\n</code></pre>\n\n<p>When I call the function with:</p>\n\n<pre><code>\"ABCD\"\n</code></pre>\n\n<p>Output, that I thought I would get was: <code>ABC</code>, however, in reality, its <code>CBA</code>. Can anyone explain to me where do I make mistake?</p>\n"}, {"tags": ["c++", "arrays", "insert"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1454529690, "post_id": 35186471, "comment_id": 58090141, "body": "<code>int LA[]</code> has fixed size, since its initialization. Look up <code>std::vector</code>. Note that <code>LA[j]</code> for <code>j = 5</code> is already out of range."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1454529749, "post_id": 35186471, "comment_id": 58090174, "body": "Please debug your ugly code yourself (or have an <code>const  int n = 5;</code>)"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454529774, "post_id": 35186471, "comment_id": 58090188, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3749660/how-to-resize-array-in-c\">How to resize array in C++?</a>"}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 0, "creation_date": 1454532246, "post_id": 35186471, "comment_id": 58091793, "body": "And an even more possible duplicate of &quot;Can you resize a C++ array after initialization?&quot; <a href=\"http://stackoverflow.com/questions/756906/can-you-resize-a-c-array-after-initialization\" title=\"can you resize a c array after initialization\">stackoverflow.com/questions/756906/&hellip;</a>.  Short answer:  you can&#39;t.  If you need a resizeable array, use std::vector."}], "answers": [{"tags": [], "owner": {"reputation": 1879, "user_id": 5112804, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YLPIr.png?s=128&g=1", "display_name": "inverted_index", "link": "https://stackoverflow.com/users/5112804/inverted-index"}, "is_accepted": false, "score": 0, "last_activity_date": 1454530216, "creation_date": 1454530216, "answer_id": 35186731, "question_id": 35186471, "link": "https://stackoverflow.com/questions/35186471/c-insert-in-array-algorithm-malfunctioning/35186731#35186731", "title": "c++ Insert in array algorithm malfunctioning", "body": "<p>If you wanna insert item as k'th element of array, You should know that the <code>LA</code> array has not 6th index (<code>LA[6]</code>). So before the second loop, initialize <code>j</code> with <code>n-1</code>.\nAlso if you wanna have all the values, You should use <code>std::vector</code> which can add the values and indexes, dynamically.\nFor further studies about vectors see this link: <a href=\"http://www.cplusplus.com/reference/vector/vector/\" rel=\"nofollow\">Here</a></p>\n"}, {"tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 0, "last_activity_date": 1454530240, "creation_date": 1454530240, "answer_id": 35186741, "question_id": 35186471, "link": "https://stackoverflow.com/questions/35186471/c-insert-in-array-algorithm-malfunctioning/35186741#35186741", "title": "c++ Insert in array algorithm malfunctioning", "body": "<p><code>LA</code> has a fixed size. It is a static array, and you cannot change the size in <code>c</code> or <code>c++</code>. Currently <code>j</code> will be 5 and you will attempt to access <code>LA[5]</code> which is outside the bounds of the array and <em>Undefined Behaviour</em>. </p>\n\n<p>You have 3 options:</p>\n\n<ol>\n<li>Reserve enough space in your static array to hold everything you need: <code>LA[10] = {...</code></li>\n<li>Use dynamic memory and resize: <code>int *LA = new int[10];</code> (Look this method up)</li>\n<li>The best, use a <code>std::vector&lt;int&gt;</code>.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 5879751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfdab913e69c61666465e4628304d4f?s=128&d=identicon&r=PG&f=1", "display_name": "Lord Leo", "link": "https://stackoverflow.com/users/5879751/lord-leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 35186741, "answer_count": 2, "score": -3, "last_activity_date": 1454530240, "creation_date": 1454529440, "last_edit_date": 1454529917, "question_id": 35186471, "link": "https://stackoverflow.com/questions/35186471/c-insert-in-array-algorithm-malfunctioning", "title": "c++ Insert in array algorithm malfunctioning", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n/* This code is not working as it does not insert the value of item in the\narray instead the value of item is zero. But i have troubleshooted this\nproblem and figured out that the code works fine if i define \"int item\" as\nconstant variable or use int i as global variable instead of defining in the\nfor loop. so my question is what is the reason behind this malfunctioning or\nis there any programming secret i haven't aware of yet*/\n\nint main()\n{\n    int LA[] = {1, 3, 64, 98, 54};\n    int k = 3;\n\n    int n = 5;\n    int item = 46;\n    int j = n;\n\n    for(int i = 0; i &lt; n; i++)\n    {   \n        cout &lt;&lt; \"LA[\" &lt;&lt; i &lt;&lt; \"] = \" &lt;&lt; LA[i] &lt;&lt; endl;\n    }\n\n    n++;\n\n    for( ; j &gt;= k; j-- )\n    {\n        LA[j+1] = LA[j];\n    }\n\n    LA[k] = item;\n    cout &lt;&lt; endl &lt;&lt; \"After insertion\" &lt;&lt; endl &lt;&lt; endl;\n\n    for(int i = 0; i &lt; n; i++)\n    {\n        cout &lt;&lt; \"LA[\" &lt;&lt; i &lt;&lt; \"] = \" &lt;&lt; LA[i] &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "vbo"], "comments": [{"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 2, "creation_date": 1454534394, "post_id": 35186429, "comment_id": 58093028, "body": "This question is unanswerable unless much more details are given. The buffer update performance will be heavily influenced by the access pattern on the buffer, the update frequency, and of course the specific implementation. The <a href=\"http://www.seas.upenn.edu/~pcozzi/OpenGLInsights/OpenGLInsights-AsynchronousBufferTransfers.pdf\" rel=\"nofollow noreferrer\">free chapter on Asynchronous Buffer Transfers from the OpenGL Insights book</a> might explain some of the issues you have to deal with."}, {"owner": {"reputation": 63, "user_id": 5794053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466f749281b11f37077550afb9e4bda3?s=128&d=identicon&r=PG&f=1", "display_name": "Yevheniy8", "link": "https://stackoverflow.com/users/5794053/yevheniy8"}, "reply_to_user": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 0, "creation_date": 1454619603, "post_id": 35186429, "comment_id": 58138198, "body": "@derhass, thanks for a useful link, but that wasn&#39;t really an issue"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 5794053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466f749281b11f37077550afb9e4bda3?s=128&d=identicon&r=PG&f=1", "display_name": "Yevheniy8", "link": "https://stackoverflow.com/users/5794053/yevheniy8"}, "is_accepted": true, "score": 2, "last_activity_date": 1454619524, "creation_date": 1454619524, "answer_id": 35211501, "question_id": 35186429, "link": "https://stackoverflow.com/questions/35186429/what-makes-glbuffersubdata-slow-on-big-buffer/35211501#35211501", "title": "What makes glBufferSubData slow on big buffer?", "body": "<p>Well, I made some more research on my solution and found out that VBO updating wasn't really a bottleneck. The reason of slowing my program down was an amount of calculations made with the data, wich obviously made the biggest impact.</p>\n\n<p>So, actually, the right anser is: <strong>no, this is not a normal behaviour for glBufferSubData</strong>. The buffer size doesn't make <em>such a great</em> impact on glBufferSubData performance.</p>\n"}], "owner": {"reputation": 63, "user_id": 5794053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466f749281b11f37077550afb9e4bda3?s=128&d=identicon&r=PG&f=1", "display_name": "Yevheniy8", "link": "https://stackoverflow.com/users/5794053/yevheniy8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 0, "accepted_answer_id": 35211501, "answer_count": 1, "score": 2, "last_activity_date": 1454619524, "creation_date": 1454529256, "question_id": 35186429, "link": "https://stackoverflow.com/questions/35186429/what-makes-glbuffersubdata-slow-on-big-buffer", "title": "What makes glBufferSubData slow on big buffer?", "body": "<p>I've noticed that updating a small amount of vertices in VBO goes very slow as buffer size grows. For example, when I update, say, 2 verts in a 512*512 buffer is much slower then when I update the whole 256*256 buffer despite the amounts of data updated are quite opposite. <strong>Is this a normal behavior for glBufferSubData?</strong></p>\n\n<p>This is how I allocate the buffer:</p>\n\n<pre><code>glBufferData(GL_ARRAY_BUFFER, sizeof(uiMapView::vertex)*(size + 1)*(size + 1), m_verts, GL_DYNAMIC_DRAW);\n</code></pre>\n\n<p>This is how I update it:</p>\n\n<pre><code>glBufferSubData(GL_ARRAY_BUFFER, sizeof(uiMapView::vertex)*iMinId, sizeof(uiMapView::vertex)*(iMaxId-iMinId), (&amp;m_verts[iMinId]));\n</code></pre>\n"}, {"tags": ["c++", "qt", "quazip"], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 1514839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364a90ed27041c99ef2a1b25a83c8ad1?s=128&d=identicon&r=PG", "display_name": "SionHughes", "link": "https://stackoverflow.com/users/1514839/sionhughes"}, "edited": false, "score": 0, "creation_date": 1457888983, "post_id": 35972679, "comment_id": 59600577, "body": "Thanks for your answer"}], "tags": [], "owner": {"reputation": 22271, "user_id": 540312, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/MD7FS.jpg?s=128&g=1", "display_name": "Sergei Tachenov", "link": "https://stackoverflow.com/users/540312/sergei-tachenov"}, "is_accepted": true, "score": 1, "last_activity_date": 1457886256, "creation_date": 1457886256, "answer_id": 35972679, "question_id": 35186387, "link": "https://stackoverflow.com/questions/35186387/get-progress-of-directory-compress-with-quazip/35972679#35972679", "title": "Get progress of directory compress with Quazip", "body": "<p>No, currently there is no way. You'll have to use <code>QuaZip</code> and <code>QuaZipFile</code> directly. You could use <code>JlCompress</code> code for starters so you don't have to implement the whole thing from scratch.</p>\n\n<p>Even better yet, modify <code>JlCompress</code> to suit your needs and then contribute the code back! So you'll have the desired functionality in the next QuaZIP version.</p>\n"}], "owner": {"reputation": 128, "user_id": 1514839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364a90ed27041c99ef2a1b25a83c8ad1?s=128&d=identicon&r=PG", "display_name": "SionHughes", "link": "https://stackoverflow.com/users/1514839/sionhughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 35972679, "answer_count": 1, "score": 1, "last_activity_date": 1457886256, "creation_date": 1454529127, "question_id": 35186387, "link": "https://stackoverflow.com/questions/35186387/get-progress-of-directory-compress-with-quazip", "title": "Get progress of directory compress with Quazip", "body": "<p>Is there anyway to get the progress from QuaZip when using the JlCompress function?</p>\n\n<p>Here's the way I'm using it:</p>\n\n<pre><code>JlCompress::compressDir(outputFile, inputDir, true);\n</code></pre>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454529522, "post_id": 35186383, "comment_id": 58090062, "body": "1) Most OpenCV functions accept a mask as input argument. 2) Or you can check the mask value in a for loop, as you mentioned. That isn&#39;t <i>that</i> slow, just make it in a clever way. 3) Or you can get all the points that are non-zero in the mask using <code>findNonZero</code>. In any case you need to scan the mask. If you have an an example of the operation you want to do, we can come up with a more detailed answer."}, {"owner": {"reputation": 336, "user_id": 5707220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e44faf3f47910df9a2d5d44fe77b178?s=128&d=identicon&r=PG&f=1", "display_name": "orkan", "link": "https://stackoverflow.com/users/5707220/orkan"}, "edited": false, "score": 1, "creation_date": 1454529778, "post_id": 35186383, "comment_id": 58090194, "body": "what about using std::vector&lt;cv::Point&gt; instead of mask?"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1454531881, "post_id": 35186383, "comment_id": 58091544, "body": "how should vectorization work/benefit for elements sparsely distributed in memory? Did you think about using sparse Mats in the beginning?"}], "answers": [{"tags": [], "owner": {"reputation": 4406, "user_id": 890610, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eddf21571b25e3b31d7aeb62a749519c?s=128&d=identicon&r=PG", "display_name": "drjrm3", "link": "https://stackoverflow.com/users/890610/drjrm3"}, "is_accepted": true, "score": 0, "last_activity_date": 1454967656, "creation_date": 1454967656, "answer_id": 35279882, "question_id": 35186383, "link": "https://stackoverflow.com/questions/35186383/how-to-skip-over-mask-in-analysis-of-opencv-image/35279882#35279882", "title": "How to skip over mask in analysis of OpenCV image", "body": "<p>As was pointed out, it makes little sense to talk about vectorizing operations on the original pixels since they will almost certainly not be contiguous in memory.</p>\n\n<p>To account for this, I use a <code>vector</code> of <code>double</code>'s to store the intensities and then use these contiguous variables in my analysis. In the following code, <code>X</code> is an image which I am using as a mask and <code>R</code> and <code>G</code> are separate images that I want to take intensities from.</p>\n\n<pre><code>cv::Mat locs;\ncv::findNonZero(X, locs);\n\nstd::vector&lt; double &gt; Rs(locs.rows);\nstd::vector&lt; double &gt; Gs(locs.rows);\n\nfor(int ip = 0; ip &lt; locs.rows; ip++) {\n    cv::Point p = locs.at&lt;cv::Point&gt;(ip);\n    Rs[ip] = ( (double)R.at&lt;uchar&gt;(p) );\n    Gs[ip] = ( (double)G.at&lt;uchar&gt;(p) );\n}\n</code></pre>\n\n<p>I can then pass this subset to any function I want and work on the data in a vectorized manner if I so choose:</p>\n\n<pre><code>double myValue = myFunction( Rs, Gs );\n</code></pre>\n"}], "owner": {"reputation": 4406, "user_id": 890610, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eddf21571b25e3b31d7aeb62a749519c?s=128&d=identicon&r=PG", "display_name": "drjrm3", "link": "https://stackoverflow.com/users/890610/drjrm3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 35279882, "answer_count": 1, "score": 1, "last_activity_date": 1454967656, "creation_date": 1454529117, "question_id": 35186383, "link": "https://stackoverflow.com/questions/35186383/how-to-skip-over-mask-in-analysis-of-opencv-image", "title": "How to skip over mask in analysis of OpenCV image", "body": "<p>I have a mask array <code>mask</code> and I have two images <code>F</code> and <code>G</code>. I would like to perform some statistics (some of which may be custom so I need to be able to be able to access the specific elements) on <code>F</code> and <code>G</code> for only those pixels in which <code>mask</code> is true.</p>\n\n<p>I can loop through <code>F</code> and <code>G</code> and then look at the value of <code>mask</code>, but the masking function is pretty liberal, so I really only need to look at maybe .01% of my image. In this case, I am spending 99.99% of the time inside an <code>if</code> statement and I want to try to vectorize these operations if possible (or at least cut down on the <code>if</code> comparisons since it could be substantial).</p>\n\n<p>My question is - how can I efficiently look at only those pixels in <code>F</code> and <code>G</code> for which <code>mask</code> associates to true (or false ... whichever makes more sense here)?</p>\n"}, {"tags": ["c++", "visual-studio", "visual-studio-2013", "profiler"], "answers": [{"tags": [], "owner": {"reputation": 284, "user_id": 5559943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01524c74d09cb8949c04555259719ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahesa", "link": "https://stackoverflow.com/users/5559943/ahesa"}, "is_accepted": false, "score": 4, "last_activity_date": 1454597909, "last_edit_date": 1454597909, "creation_date": 1454597139, "answer_id": 35204063, "question_id": 35186364, "link": "https://stackoverflow.com/questions/35186364/setting-an-environment-variable-for-the-performance-analyzer-in-visual-studio-20/35204063#35204063", "title": "Setting an environment variable for the performance analyzer in visual studio 2013", "body": "<p>After some more research I finally found this: <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/981900/profiler-does-not-respect-debugging-environment-variables-for-project\" rel=\"nofollow\">https://connect.microsoft.com/VisualStudio/feedback/details/981900/profiler-does-not-respect-debugging-environment-variables-for-project</a></p>\n\n<p>It seems it is a known issue and Microsoft won't be fixing it.</p>\n\n<p>It seems my only choice is a copy script as a pre-build step. If anyone has a better solution, I'd still be interested to hear it!</p>\n"}, {"comments": [{"owner": {"reputation": 2015, "user_id": 2343739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hetYc.jpg?s=128&g=1", "display_name": "Collin M. Barrett", "link": "https://stackoverflow.com/users/2343739/collin-m-barrett"}, "edited": false, "score": 0, "creation_date": 1527003490, "post_id": 50471173, "comment_id": 87956665, "body": "I suggest putting your code in StackOverflow&#39;s code block formatting for readability."}], "tags": [], "owner": {"reputation": 83, "user_id": 5513100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3983d73af096dcfd5a483fde2744ff6e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentyn Vovk", "link": "https://stackoverflow.com/users/5513100/valentyn-vovk"}, "is_accepted": false, "score": 0, "last_activity_date": 1527608821, "last_edit_date": 1527608821, "creation_date": 1527002171, "answer_id": 50471173, "question_id": 35186364, "link": "https://stackoverflow.com/questions/35186364/setting-an-environment-variable-for-the-performance-analyzer-in-visual-studio-20/50471173#50471173", "title": "Setting an environment variable for the performance analyzer in visual studio 2013", "body": "<p>I created .bat file near .sln file with the following content:</p>\n\n<pre><code>set PATH=$(MYPATH);%PATH%\n\nyour_solution.sln\n</code></pre>\n\n<p>And it works for me</p>\n"}], "owner": {"reputation": 284, "user_id": 5559943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01524c74d09cb8949c04555259719ea?s=128&d=identicon&r=PG&f=1", "display_name": "ahesa", "link": "https://stackoverflow.com/users/5559943/ahesa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1527608821, "creation_date": 1454529061, "last_edit_date": 1495542739, "question_id": 35186364, "link": "https://stackoverflow.com/questions/35186364/setting-an-environment-variable-for-the-performance-analyzer-in-visual-studio-20", "title": "Setting an environment variable for the performance analyzer in visual studio 2013", "body": "<p>I am currently trying to use the performance analyzer for my projects in Visual Studio 2013 (C++). The project runs in debug and release mode in Visual Studio with the Configuration Properties -> debugging -> Environment set to PATH=$(MYPATH);%path.</p>\n\n<p>I use this to allow Visual Studio to find all the dlls I need which are scattered in different directories (for instance the boost dlls are all in one place on my computer).</p>\n\n<p>For some reason, it does not work when using the Performance Wizard. I used the recommended CPU sampling and made sure my app could start on F5. When started from the performance wizard it says :</p>\n\n<p>\"The program can't start because mydll.dll is missing from your computer...\"</p>\n\n<p>I suspect the problem is with the environment variable the profiler uses on start. Is there anyway to tell the profiler to use a specific environment variable ?</p>\n\n<p>I have searched for a while but I have not found any information on how to do that. Maybe I am not using the proper keywords ? I have read these but they do not really help :</p>\n\n<ul>\n<li><p>clearly not what I want : <a href=\"https://msdn.microsoft.com/en-us/library/dd557761.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dd557761.aspx</a></p></li>\n<li><p>won't fix the problem for the integrated profiler : <a href=\"https://stackoverflow.com/questions/3205672/how-do-i-set-environmental-variable-for-my-application-while-profiling-it-under\">How do I set Environmental variable for my application while profiling it under visual studio 2008</a></p></li>\n<li><p>this is not the same problem : <a href=\"https://stackoverflow.com/questions/15421201/how-do-i-run-the-visual-studio-2012-memory-profiler-im-getting-the-error-da000\">How do I run the Visual Studio 2012 memory profiler? I&#39;m getting the error DA0002</a></p></li>\n<li><p>I am using property sheets much like described here but for VS2013: <a href=\"https://stackoverflow.com/questions/16876424/c-using-environment-variable-in-property-sheet-for-visual-studio-2010\">C++ - Using environment variable in property sheet for Visual Studio 2010</a></p></li>\n</ul>\n\n<p>**To be noted : if I copy the missing dlls in my .exe folder it works fine. This solution requires a lot of copying and I would rather avoid it if possible.</p>\n"}, {"tags": ["c++", "arrays", "getter-setter"], "comments": [{"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "edited": false, "score": 0, "creation_date": 1454529499, "post_id": 35186353, "comment_id": 58090050, "body": "Take a look at <code>std::vector</code> <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/vector</a>"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454530243, "post_id": 35186353, "comment_id": 58090479, "body": "Your question has nothing to do with getters or setters."}, {"owner": {"reputation": 1892, "user_id": 2995907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5c13110c63a9c7fd100f0eac2b303b4?s=128&d=identicon&r=PG&f=1", "display_name": "dingalapadum", "link": "https://stackoverflow.com/users/2995907/dingalapadum"}, "edited": false, "score": 2, "creation_date": 1454544153, "post_id": 35186353, "comment_id": 58097406, "body": "copyrighted code. XD"}, {"owner": {"reputation": 2051, "user_id": 3626537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1499840559/picture?type=large", "display_name": "Phrancis", "link": "https://stackoverflow.com/users/3626537/phrancis"}, "edited": false, "score": 1, "creation_date": 1454545382, "post_id": 35186353, "comment_id": 58097833, "body": "It may be worthy of notice for the author of this post to review the <a href=\"http://stackexchange.com/legal\">Terms of Service</a> specifically this section in section (3): <i>&quot;is perpetually and irrevocably licensed to Stack Exchange under the Creative Commons Attribution Share Alike license&quot;</i> before they post copyrighted code on Stack Overflow or any other Stack Exchange site."}, {"owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "edited": false, "score": 0, "creation_date": 1457605362, "post_id": 35186353, "comment_id": 59486183, "body": "BTW. All <code>setSomething</code> and <code>getSomething</code> functions are not necessary in this example."}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1525940531, "post_id": 35186353, "comment_id": 87554719, "body": "If your getters and setters don&#39;t actually do anything but to change the value, consider to make the member public."}], "answers": [{"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 0, "last_activity_date": 1454529729, "creation_date": 1454529729, "answer_id": 35186562, "question_id": 35186353, "link": "https://stackoverflow.com/questions/35186353/c-automobile-class-how-to-implement-arrays-with-setter-and-getter/35186562#35186562", "title": "C++ automobile class how to implement arrays with setter and getter", "body": "<pre><code>std::vector&lt;automobile&gt; autos;\nautos.push_pack(automobile)\n</code></pre>\n\n<p>this creates a vector and adds the autombile to it</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 3074699, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b94b6f53599310e7430f4ac83ec178ee?s=128&d=identicon&r=PG", "display_name": "Atif", "link": "https://stackoverflow.com/users/3074699/atif"}, "is_accepted": false, "score": 0, "last_activity_date": 1525940195, "creation_date": 1525940195, "answer_id": 50268474, "question_id": 35186353, "link": "https://stackoverflow.com/questions/35186353/c-automobile-class-how-to-implement-arrays-with-setter-and-getter/50268474#50268474", "title": "C++ automobile class how to implement arrays with setter and getter", "body": "<p>To save your data into the array. You need a setter function for an array. Like:</p>\n\n<pre><code>void setArray(int index, dataType value){\n      arrayName[index]= value;\n}\n</code></pre>\n\n<p>or you need to take input in an array and then pass the complete array to the setter function as:</p>\n\n<pre><code>void setArray(dataType arr[]){\n     for(int i=0;i&lt;sizeOfArray;i++){\n         arrayName[i] = arr[i];\n     }\n}\n</code></pre>\n\n<p>You can read more about <a href=\"https://www.codeslehrer.com/accessor-mutator-c/\" rel=\"nofollow noreferrer\">getter and setters for arrays</a>.</p>\n"}], "owner": {"reputation": 17, "user_id": 5879762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f698df086c6f7e611510f0b3111f9cb6?s=128&d=identicon&r=PG&f=1", "display_name": "olga swag", "link": "https://stackoverflow.com/users/5879762/olga-swag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 866, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525940195, "creation_date": 1454529013, "last_edit_date": 1454529951, "question_id": 35186353, "link": "https://stackoverflow.com/questions/35186353/c-automobile-class-how-to-implement-arrays-with-setter-and-getter", "title": "C++ automobile class how to implement arrays with setter and getter", "body": "<p>I am practicing my c++ by making an automobile program where it asks the user to input the year make and model of a car and it will display what they inputed. Right now it works fine but it is not saving the data. I dont care if it erases once the program closes im just looking for a way to save the data in an array but i dont know how to implement that using getter and setters.</p>\n\n<p>here is my code    </p>\n\n<pre><code>//  automobile.cpp\n//  cplusplusproject\n//\n//  Created by Alexander  on 2/2/16.\n//  Copyright \u00a9 2016 Alexander. All rights reserved.\n//\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass automobile\n{\npublic:\n    // Constructor\n    automobile(int year, string make, string model)\n    {\n        setcarYear(year);\n        setcarMake(make);\n        setcarModel(model);\n    } //  end of constructor\n\n    void setcarYear(int year)\n    {\n        carYear = year;\n    }\n\n    int getcarYear()\n    {\n        return carYear;\n    }\n\n    void setcarMake(string make)\n    {\n        carMake = make;\n    }\n\n    string getcarMake()\n    {\n        return carMake;\n    }\n\n    void setcarModel(string model)\n    {\n        carModel = model;\n    }\n\n    string getcarModel() { return carModel; }\n\n    int carYear;\n    string carMake;\n    string carModel;\n};\n\nint main()\n{\n    int year;\n    string make, model;\n    cout &lt;&lt; \"Please enter the year of the car\" &lt;&lt; endl;\n    cin &gt;&gt; year;\n\n    cout &lt;&lt; \"Please enter the make of the car\" &lt;&lt; endl;\n    cin &gt;&gt; make;\n\n    cout &lt;&lt; \"Please enter the model of the car\" &lt;&lt; endl;\n    cin &gt;&gt; model;\n\n    automobile automobile(year, make, model);\n\n    // display user info\n    cout &lt;&lt; automobile.getcarYear() &lt;&lt; automobile.getcarMake()\n         &lt;&lt; automobile.getcarModel() &lt;&lt; endl;\n}\n</code></pre>\n\n<p>any help would be appriciated</p>\n"}, {"tags": ["c++", "c++11", "exception", "metaprogramming", "constexpr"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 2, "creation_date": 1454529029, "post_id": 35186327, "comment_id": 58089721, "body": "<a href=\"http://stackoverflow.com/questions/30437431/is-assert-usable-in-constant-expressions\" title=\"is assert usable in constant expressions\">stackoverflow.com/questions/30437431/&hellip;</a>"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454529182, "post_id": 35186327, "comment_id": 58089823, "body": "In C++14 you&#39;re allowed to <code>assert</code> in <code>constexpr</code> functions."}, {"owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "reply_to_user": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454530115, "post_id": 35186327, "comment_id": 58090396, "body": "@101010 thanks for the comment, I need it on C++11 though, added that to my question"}, {"owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1454530154, "post_id": 35186327, "comment_id": 58090426, "body": "@columbo thanks for the link, looks like my question may be a duplicate"}, {"owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "edited": false, "score": 0, "creation_date": 1454530949, "post_id": 35186327, "comment_id": 58090890, "body": "looks like assert is also not an option because the GCC assert drags so much stuff into the binary that I would not fit on most ARM Cortex chips"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1454531213, "post_id": 35186327, "comment_id": 58091074, "body": "How do you &quot;assert&quot;-equivalent in a non-constexpr function on your platform?  It isn&#39;t <i>that</i> hard to convert almost any runtime handler to a <code>constexpr</code>-conditionally-safe one, but without a solution for non-<code>constexpr</code> I&#39;m not sure what you expect."}, {"owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "edited": false, "score": 0, "creation_date": 1454535628, "post_id": 35186327, "comment_id": 58093709, "body": "&quot;assert&quot;-equivalent is calling a hard fault handler who&#39;s functionality is customizeable but usually triggers a breakpoint or resets the system. Thats why I would rather push the error to compile time."}], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "reply_to_user": {"reputation": 13492, "user_id": 1430927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ruRvK.png?s=128&g=1", "display_name": "Tomilov Anatoliy", "link": "https://stackoverflow.com/users/1430927/tomilov-anatoliy"}, "edited": false, "score": 0, "creation_date": 1454618328, "post_id": 35189624, "comment_id": 58137456, "body": "@Orient not on MSVC2015, but I think your right and its probably a microsoft bug"}], "tags": [], "owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1454541712, "last_edit_date": 1454541712, "creation_date": 1454541412, "answer_id": 35189624, "question_id": 35186327, "link": "https://stackoverflow.com/questions/35186327/how-do-i-assert-from-constexpr-function-with-exceptions-disabled/35189624#35189624", "title": "how do I assert from constexpr function with exceptions disabled?", "body": "<p>I found a workaround for the special case the you can guarantee that your constexpr function will never be called at runtime. In that case you can just force a non constant evaluation error.</p>\n\n<pre><code>int assert_failed() {\n    static int i = 5;\n    return i++;\n}\nconstexpr int cheap_assert(bool i) {\n    return i == 1 ? 0 : assert_failed();\n}\n\nconstexpr unsigned operator\"\"_my_literal(const char* s, std::size_t size) {\n    return cheap_assert(size &lt; 10), 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 4954, "user_id": 893819, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2wHm8.jpg?s=128&g=1", "display_name": "odinthenerd", "link": "https://stackoverflow.com/users/893819/odinthenerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1454541712, "creation_date": 1454528930, "last_edit_date": 1495535281, "question_id": 35186327, "link": "https://stackoverflow.com/questions/35186327/how-do-i-assert-from-constexpr-function-with-exceptions-disabled", "title": "how do I assert from constexpr function with exceptions disabled?", "body": "<p>If I want to assert a detected error from a C++11 constexpr function in a small processor embedded design turning off interrupts takes away the suggested method of handling errors (see eric nieblers answer <a href=\"https://stackoverflow.com/questions/26072709/alternative-to-asserts-for-constexpr-functions\">here</a>)</p>\n\n<p>Here is a short code example:</p>\n\n<pre><code>constexpr bool isANumber(char c)\n{\n    return (c &gt;= '0' &amp;&amp; c &lt;= '9');\n}\n\nconstexpr int charToInt(char c)\n{\n    return (!isANumber(c))? throw std::logic_error(\"not a number\"):\n        c - '0';\n}\n</code></pre>\n\n<p>To the best of my knowledge:</p>\n\n<ul>\n<li>static_assert is not allowed because the inputs could be run time values</li>\n<li>assert may force the function to be run time evaluated and the assert handler drags in so much stuff that it will overflow the flash memory of most Cortex chips</li>\n<li>throw will not work because I turned off exceptions</li>\n</ul>\n\n<p>What is the work around?</p>\n\n<p><strong>Note:</strong> Using C++ in super resource constrained embedded environments one must turn off exceptions because they use excess RAM (my chip has only 16K RAM for example). It is common practice.</p>\n"}, {"tags": ["c++", "c", "variables", "pointers"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454528831, "post_id": 35186257, "comment_id": 58089566, "body": "a pointer is a variable that stores the memory address of some other data. that&#39;s all. that&#39;s it. a pointer IS a variable with a very specific usage. neither of your vars above are pointers. memory is assigned to store the <code>5</code>, but that&#39;s not a pointer."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454528851, "post_id": 35186257, "comment_id": 58089585, "body": "Don&#39;t confuse <i>the letter &quot;a&quot;</i> with <i>the variable called &quot;a&quot;</i>."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 3, "creation_date": 1454528856, "post_id": 35186257, "comment_id": 58089590, "body": "A better phrase might be &quot;a is the name for that block of memory&quot;."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454528903, "post_id": 35186257, "comment_id": 58089623, "body": "@MarcB A pointer doesn&#39;t have to be a variable. With the example from the OPs code, <code>&amp;a</code> is a pointer but isn&#39;t a variable, and neither is <code>(char *) 0xffff0000</code>."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1454528914, "post_id": 35186257, "comment_id": 58089635, "body": "Someone told me that &quot;my house&quot; means the house at 123 Fake St. So if my house just points to another house, what&#39;s the difference between a house and an address? (Answer: This question makes no sense, because I&#39;m deliberately conflating the words &quot;my&quot; &quot;house&quot;, and the actual house)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1454528947, "post_id": 35186257, "comment_id": 58089659, "body": "Please read some C and C++ books (maybe an assembler book, too)"}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1454529032, "post_id": 35186257, "comment_id": 58089725, "body": "Your question <code>how does it differ from a pointer? </code> has no answer, because it contains a false assumption: <code>...and it also points to something</code>. It doesn&#39;t."}, {"owner": {"reputation": 585, "user_id": 5090110, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdffb4ac46aea0059fd76f050ee78146?s=128&d=identicon&r=PG&f=1", "display_name": "ashwani", "link": "https://stackoverflow.com/users/5090110/ashwani"}, "edited": false, "score": 0, "creation_date": 1454529127, "post_id": 35186257, "comment_id": 58089792, "body": "can someone please explain me what is actually happening in the memory for the above code?"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1454529141, "post_id": 35186257, "comment_id": 58089802, "body": "The somebody is wrong - there are 2 &#39;blocks&#39; of memory allocated, one for <code>a</code> and one for <code>b</code>. If you add <code>a = 6;</code> just before the return, then <code>a</code> and <code>b</code> have different values."}, {"owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454529149, "post_id": 35186257, "comment_id": 58089805, "body": "@DieterL&#252;cking IMO this is an intelligible, well-formed question a person can have while reading a book -- even if it&#39;s based on a false premise, there was research involved."}, {"owner": {"reputation": 5517, "user_id": 1227469, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d8fc267b1c19301d8baf672ebf9eb7b?s=128&d=identicon&r=PG", "display_name": "JBentley", "link": "https://stackoverflow.com/users/1227469/jbentley"}, "reply_to_user": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 3, "creation_date": 1454529825, "post_id": 35186257, "comment_id": 58090221, "body": "@Litty Not really. Most books will make it clear that a and b are separate memory locations. Failing that, a very quick and trivial test will confirm it."}, {"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "reply_to_user": {"reputation": 5517, "user_id": 1227469, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d8fc267b1c19301d8baf672ebf9eb7b?s=128&d=identicon&r=PG", "display_name": "JBentley", "link": "https://stackoverflow.com/users/1227469/jbentley"}, "edited": false, "score": 0, "creation_date": 1454531143, "post_id": 35186257, "comment_id": 58091028, "body": "@JBentley ... if they represent memory-locations at all."}], "answers": [{"comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 3, "creation_date": 1454531598, "post_id": 35186384, "comment_id": 58091366, "body": "Note: the variable names are not stored in memory."}, {"owner": {"reputation": 6719, "user_id": 2945357, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd030641417e32d532056ed59e3340e3?s=128&d=identicon&r=PG", "display_name": "Andreas K.", "link": "https://stackoverflow.com/users/2945357/andreas-k"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1611311654, "post_id": 35186384, "comment_id": 116416024, "body": "@user253751 where are they stored?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 6719, "user_id": 2945357, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd030641417e32d532056ed59e3340e3?s=128&d=identicon&r=PG", "display_name": "Andreas K.", "link": "https://stackoverflow.com/users/2945357/andreas-k"}, "edited": false, "score": 0, "creation_date": 1611337185, "post_id": 35186384, "comment_id": 116428186, "body": "@AndreasK. They are not. They are only something the compiler looks at."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "is_accepted": true, "score": 6, "last_activity_date": 1454529118, "creation_date": 1454529118, "answer_id": 35186384, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186384#35186384", "title": "What is the difference between variable name and pointers?", "body": "<p>Whoever explained this to you is wrong in this case:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    int a = 5; //variable a has value 5 put it\n    //a does have an address\n    int b = a; \n    //variable b is created, it has its own seperate memory address.\n    //in this case the CONTENTS of a (5) are dumped inside b\n    return 0;\n}\n</code></pre>\n\n<p>saying <code>int b=a;</code> will not make the variables aliases of each other. </p>\n\n<p>What you heard about is this:</p>\n\n<pre><code>//...\nint a=1;\nint *b = &amp;a; //create a pointer called b and make it point to a \n//(set it equal to address of a)\n</code></pre>\n\n<p>in your case you have:</p>\n\n<pre><code>memory addresses:         variable name           value stored at memory address\n1000                      a(int)                    5\n1004                      b(int)                    5\n</code></pre>\n\n<p>obviously changing values of a and does not affect each other</p>\n\n<p>in the case I described you have this:</p>\n\n<pre><code>memory addresses:         variable name           value stored at memory address\n1000                      a(int)                    5\n1004                      b(int*)                   1000\n</code></pre>\n\n<p>as you can see, since <code>b</code> is a pointer, its actual value is the address of a. </p>\n\n<p>so doing <code>*b=3;</code> will change the value of <code>a</code></p>\n"}, {"tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": false, "score": 1, "last_activity_date": 1454529143, "creation_date": 1454529143, "answer_id": 35186394, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186394#35186394", "title": "What is the difference between variable name and pointers?", "body": "<p>In the above code, <code>a</code> and <code>b</code> are separate variables sitting in their own block of memory.</p>\n\n<p>This line:</p>\n\n<pre><code>int a = 5;\n</code></pre>\n\n<p>Creates a variable named <code>a</code> and gives it an initial value of <code>5</code>.</p>\n\n<p>This line:</p>\n\n<pre><code>int b = a;\n</code></pre>\n\n<p>Created a variable named <code>b</code> and gives it an initial value of whatever the current value of <code>a</code> is, in this case <code>5</code>.</p>\n\n<p>If you were to later add the line <code>a=4</code>, <code>a</code> would contain the value <code>4</code> while <code>b</code> will still contain the value <code>5</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "is_accepted": false, "score": 3, "last_activity_date": 1454530892, "last_edit_date": 1454530892, "creation_date": 1454529202, "answer_id": 35186412, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186412#35186412", "title": "What is the difference between variable name and pointers?", "body": "<p>When you declare   </p>\n\n<pre><code>int a = 1;\n</code></pre>\n\n<p>Compiler allocate memory for <code>sizeof(int)</code> bytes and name that data location (or memory block) <code>a</code> and place a value <code>1</code> in that block. \nIn a very simple way a variable is a named location of data.  </p>\n\n<p>You can think of it as putting the value assigned in a box with the variable name as <a href=\"http://foobarnbaz.com/2012/07/08/understanding-python-variables/\" rel=\"nofollow noreferrer\">shown</a> below:<br>\n<a href=\"https://i.stack.imgur.com/SxvT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SxvT7.png\" alt=\"enter image description here\"></a></p>\n\n<p>And for all the variables you create a new box is created with the variable name to hold the value.  </p>\n\n<p>Assigning one variable to another makes a copy of the value and put that value in the new box.</p>\n\n<pre><code>a = 2;\nint b = a;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wScHX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wScHX.png\" alt=\"enter image description here\"></a> <a href=\"https://i.stack.imgur.com/U4XoH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4XoH.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, <code>a</code> and <code>b</code> are not pointers but are the names of different memory blocks having their own addresses.   </p>\n"}, {"comments": [{"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 1, "creation_date": 1454529756, "post_id": 35186461, "comment_id": 58090177, "body": "No <code>a</code> doesn&#39;t mean &quot;the value at address X&quot;, it depends if <code>a</code> is used as a left-value or a right-value."}, {"owner": {"reputation": 585, "user_id": 5090110, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdffb4ac46aea0059fd76f050ee78146?s=128&d=identicon&r=PG&f=1", "display_name": "ashwani", "link": "https://stackoverflow.com/users/5090110/ashwani"}, "edited": false, "score": 0, "creation_date": 1454529968, "post_id": 35186461, "comment_id": 58090295, "body": "&quot;At first, there are leftover values from whatever last used that area of memory&quot; - what do you mean by this?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 585, "user_id": 5090110, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdffb4ac46aea0059fd76f050ee78146?s=128&d=identicon&r=PG&f=1", "display_name": "ashwani", "link": "https://stackoverflow.com/users/5090110/ashwani"}, "edited": false, "score": 0, "creation_date": 1454530138, "post_id": 35186461, "comment_id": 58090412, "body": "@user132458 That means the memory could contain anything. Your code might not be the first code to use the addresses 1000 and 1004. (But it might be, since each process has its own address space, meaning your address 1000 is different from another process&#39;s address 1000)"}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": false, "score": 1, "last_activity_date": 1454529409, "creation_date": 1454529409, "answer_id": 35186461, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186461#35186461", "title": "What is the difference between variable name and pointers?", "body": "<blockquote>\n  <p>can someone please explain me what is actually happening in the memory for the above code? </p>\n</blockquote>\n\n<p>I'll make up some addresses - let's say a is at 1000 and b is at 1004.</p>\n\n<p>At first, there are leftover values from whatever last used that area of memory. That could be anything:</p>\n\n<pre><code>Address     Value\n  ...\n  1000      1234\n  1004      5678\n  ...\n</code></pre>\n\n<p>Then <code>int a = 5;</code> sets the space reserved for <code>a</code> to 5.</p>\n\n<pre><code>Address     Value\n  ...\n  1000      5\n  1004      5678\n  ...\n</code></pre>\n\n<p>Then <code>int b = a;</code> copies that to the space reserved for <code>b</code>:</p>\n\n<pre><code>Address     Value\n  ...\n  1000      5\n  1004      5\n  ...\n</code></pre>\n\n<p>At no point are the variable names actually involved.</p>\n\n<p>The variable names are used <em>by the compiler only</em>. In this case, the compiler knows that \"<code>a</code>\" means \"the value at address 1000\" and that \"<code>b</code>\" means \"the value at address 1004\". (That's slightly oversimplified, since local variables aren't always stored at the same address, but you get the idea)</p>\n"}, {"tags": [], "owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "is_accepted": false, "score": 1, "last_activity_date": 1454529606, "creation_date": 1454529606, "answer_id": 35186516, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186516#35186516", "title": "What is the difference between variable name and pointers?", "body": "<p>In:</p>\n\n<pre><code>int a = 5;\n</code></pre>\n\n<p><code>a</code> denotes a container in which 5 is stored. <code>a</code> is just an identifier to represent either the memory location or its content. In <code>a=5</code>, <code>a</code> denotes the container, in <code>5+a</code>,  <code>a</code> denotes the value contained.</p>\n\n<p>In:</p>\n\n<pre><code>int b = a;\n</code></pre>\n\n<p><code>b</code> denotes a container in which the current value of the container <code>a</code> is stored.</p>\n\n<p>Then you have 2 containers, one denoted <code>a</code> and the other denoted <code>b</code>. Both contains a value (the same for both).</p>\n\n<p>Neither of these to variables are pointers. But, as every variable in C, they have address that is obtained with operator <code>&amp;</code>. <code>&amp;a</code> is the address of the container <code>a</code>.</p>\n\n<p>A pointer is a variable (a container if you wish) whose value is the address of some container. Thus:</p>\n\n<pre><code>int *p = &amp;a;\n</code></pre>\n\n<p><code>p</code> is a container that contains the address of <code>a</code>, we shortly say <code>p</code> points to <code>a</code>. And of course <code>p</code> also has an address (as every variable/container): <code>&amp;p</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 8362, "user_id": 2993960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svN5z.jpg?s=128&g=1", "display_name": "Fiddling Bits", "link": "https://stackoverflow.com/users/2993960/fiddling-bits"}, "edited": false, "score": 2, "creation_date": 1454530242, "post_id": 35186612, "comment_id": 58090476, "body": "Should be noted that this is a C++ answer."}], "tags": [], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 3, "last_activity_date": 1454535598, "last_edit_date": 1454535598, "creation_date": 1454529869, "answer_id": 35186612, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35186612#35186612", "title": "What is the difference between variable name and pointers?", "body": "<p>What you may be thinking of is (if this is in a C++ context):</p>\n\n<pre><code>int a = 5;\nint&amp; b = a;\n</code></pre>\n\n<p>This creates a <em>reference</em> to <code>a</code> which is bound to the memory of <code>a</code>.</p>\n\n<p>Changing <code>b</code> now alters <code>a</code>:</p>\n\n<pre><code>b = 42;\nif (a == 42) // true\n</code></pre>\n\n<p>In your OP that wouldn't be the case since <code>b</code> there is a separate variable independent to <code>a</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "is_accepted": false, "score": 0, "last_activity_date": 1454532934, "creation_date": 1454532934, "answer_id": 35187512, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers/35187512#35187512", "title": "What is the difference between variable name and pointers?", "body": "<p>You are confusing compile-time and run-time concepts.</p>\n\n<p>Names in a C program are compile-time entities that refer to storage that will be used at runtime.  Once the compiler finishes its work, and you have object code, the names are gone (except for debug info, which isn't really part of the runtime object code -- its extra info for a debugger to refer to), and your object code directly operates on values in registers or memory (the 'storage' I referred to above).</p>\n\n<p>We usually say \"refers to\" instead of \"points at\" even though the english meaning of those words is pretty much the same, as \"points at\" make one think of pointers, which are a completely different run-time concept.</p>\n"}], "owner": {"reputation": 585, "user_id": 5090110, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdffb4ac46aea0059fd76f050ee78146?s=128&d=identicon&r=PG&f=1", "display_name": "ashwani", "link": "https://stackoverflow.com/users/5090110/ashwani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 2, "accepted_answer_id": 35186384, "answer_count": 7, "score": 0, "last_activity_date": 1454535598, "creation_date": 1454528725, "question_id": 35186257, "link": "https://stackoverflow.com/questions/35186257/what-is-the-difference-between-variable-name-and-pointers", "title": "What is the difference between variable name and pointers?", "body": "<p>Consider this example.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    int a = 5;\n    int b = a;\n    return 0;\n}\n</code></pre>\n\n<p>Somebody told me in the above code, first a block of memory for integer is created and assigned value 5 and then <strong>a</strong> points to that block. And then, <strong>b</strong> also points to the same block of memory containing value 5.</p>\n\n<p>So my question is if <strong>a</strong> is an integer variable and it also points to something then how does it differ from a pointer? </p>\n\n<p>Pardon me if this question is too basic. But I need to know.</p>\n"}, {"tags": ["javascript", "c++", "node.js", "v8", "node.js-addon"], "answers": [{"comments": [{"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531131, "post_id": 35186887, "comment_id": 58091017, "body": "Whats <code>context</code> in this case? I&#39;m using node 5.4.0"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531198, "post_id": 35186887, "comment_id": 58091065, "body": "I don&#39;t know anything about node.   context is a v8::Context object.  The call I&#39;m using is the second from the top here: <a href=\"http://v8.paulfryzel.com/docs/master/classv8_1_1_object.html\" rel=\"nofollow noreferrer\">v8.paulfryzel.com/docs/master/classv8_1_1_object.html</a>"}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531390, "post_id": 35186887, "comment_id": 58091206, "body": "The first three urls I&#39;ve posted. This <code>context</code> seems to be a local reference to global memory. Thanks for your reply, I&#39;ll try and make some sense out of it."}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531611, "post_id": 35186887, "comment_id": 58091378, "body": "if you look for the Object docs on the same URL as what you&#39;ve posted, I don&#39;t see any version of Set that matches your syntax.  Can you find it?"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531678, "post_id": 35186887, "comment_id": 58091412, "body": "In other words, what API call is this: vec-&gt;Set(k, Number::New(isolate, dataset[i].vector[k]));  ?  I don&#39;t see docs for it."}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531830, "post_id": 35186887, "comment_id": 58091521, "body": "I&#39;m starting to think this is not a v8 issue, but my algorithm&#39;s problem. I used as my guide: <a href=\"http://blog.scottfrees.com/c-processing-from-node-js-part-3-arrays\" rel=\"nofollow noreferrer\">blog.scottfrees.com/c-processing-from-node-js-part-3-arrays</a> which compiles and works, problem is I only get 0 and 1. But I think the problem is elsewhere."}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531893, "post_id": 35186887, "comment_id": 58091551, "body": "that seems more likely than v8 not understanding floating point values, as that&#39;s the core numeric type of javascript."}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454531927, "post_id": 35186887, "comment_id": 58091569, "body": "Thank you very much, and sorry for wasting your time!"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454532055, "post_id": 35186887, "comment_id": 58091667, "body": "no worries.  Also, I just tried -&gt;Set without the context in my code and it worked (still got floating point value back).   I have no idea where that call is in the docs, as it is nice to not have to give the context every time."}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454532196, "post_id": 35186887, "comment_id": 58091754, "body": "Oh, I see it.  It&#39;s in a DEPRECATE_SOON block, which is why it&#39;s not documented.    V8_DEPRECATE_SOON(&quot;Use maybe version&quot;,                     bool Set(uint32_t index, Local&lt;Value&gt; value));"}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1454532371, "post_id": 35186887, "comment_id": 58091859, "body": "it makes sense, its constantly evolving its getting hard to keep track. In any case, the issue is definitely with my code elsewhere, so the code above is fine :-)"}], "tags": [], "owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "is_accepted": true, "score": 1, "last_activity_date": 1454530764, "creation_date": 1454530764, "answer_id": 35186887, "question_id": 35186168, "link": "https://stackoverflow.com/questions/35186168/populating-a-node-v8-float32array-from-c/35186887#35186887", "title": "Populating a Node v8 Float32Array from C++", "body": "<p>I'm not sure what version of V8 that is (calling Set without a context isn't in the API docs I see), but on 4.10, this works fine:</p>\n\n<pre><code>auto arr = v8::Array::New(isolate);\n(void)arr-&gt;Set(context, 0, v8::Number::New(isolate, 2.5));\nauto number = arr-&gt;Get(context, 0);\nprintf(\"%s\\n\", *v8::String::Utf8Value(number.ToLocalChecked()));\n</code></pre>\n\n<p>prints out </p>\n\n<pre><code>2.5\n</code></pre>\n\n<p>Converting it to a floating point value also works:</p>\n\n<pre><code>printf(\"%f\\n\", ((v8::Number*)*number.ToLocalChecked())-&gt;Value());\n</code></pre>\n"}], "owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 35186887, "answer_count": 1, "score": 0, "last_activity_date": 1474570854, "creation_date": 1454528417, "last_edit_date": 1474570854, "question_id": 35186168, "link": "https://stackoverflow.com/questions/35186168/populating-a-node-v8-float32array-from-c", "title": "Populating a Node v8 Float32Array from C++", "body": "<p>I've looked into the documentation:</p>\n\n<ul>\n<li><a href=\"https://v8docs.nodesource.com/node-5.0/d6/d78/classv8_1_1_float32_array.html\" rel=\"nofollow\">Float32Array</a></li>\n<li><a href=\"https://v8docs.nodesource.com/node-5.0/d5/d6e/classv8_1_1_array_buffer.html\" rel=\"nofollow\">ArrayBuffer</a></li>\n<li><a href=\"https://v8docs.nodesource.com/node-5.0/d3/d32/classv8_1_1_array.html\" rel=\"nofollow\">Array</a></li>\n</ul>\n\n<p>I am trying to populate a v8 array of floats, using a <code>thrust::host_vectofr&lt;float&gt;</code>, where <code>dataset[i].vector = thrust::host_vector&lt;float&gt;</code></p>\n\n<p>Using an Array, seems to be rounding to integers:</p>\n\n<pre><code>Local&lt;Object&gt; obj = Object::New(isolate);\nLocal&lt;Array&gt; vec = Array::New(isolate, dataset[i].vector.size());\n\n// populate the v8 array (copy)\nfor (unsigned int k = 0; k &lt; dataset[i].vector.size(); k++)\n    vec-&gt;Set(k, Number::New(isolate, dataset[i].vector[k]));\n\nobj-&gt;Set(String::NewFromUtf8(isolate, \"vector\"), vec);\n</code></pre>\n\n<p>Using a <em>typed</em> array, the <code>Float32Array</code>:</p>\n\n<pre><code>Local&lt;Object&gt; obj = Object::New(isolate);\nauto vec = Float32Array::New(ArrayBuffer::New(isolate, sizeof(float)), 0, dataset[i].vector.size());\n\n// populate the v8 array (copy)\nfor (unsigned int k = 0; k &lt; dataset[i].vector.size(); k++)\n    vec-&gt;Set(k, Number::New(isolate, dataset[i].vector[k]));\n\nobj-&gt;Set(String::NewFromUtf8(isolate, \"vector\"), vec);\n</code></pre>\n\n<p>Compiles fine, but when executing it crashes:</p>\n\n<pre><code>*** Error in `node': corrupted double-linked list: 0x000000000734bf50 ***\nfish: \u201cnode run.js\u201d terminated by signal SIGABRT (Abort)\n</code></pre>\n\n<p>What is the <em>correct</em> approach to allocating and then populating a v8 Float32Array from C++, so that it can be used in JavaScript?</p>\n\n<p>I also understand that Node.JS/v8 does not come with a <code>float</code>?</p>\n"}, {"tags": ["c++", "algorithm", "optimization", "min"], "comments": [{"owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454528294, "post_id": 35186074, "comment_id": 58089271, "body": "Additional info: In the plane, a square with side length a and a center at the origin of the coordinate system is given. Sides are parallel to coordinate&#39;s axis. We call &quot;remoteness&quot; of a given point, the sum of the absolute values of point&#39;s coordinates. For example, the remoteness of the point with coordinates (2, -3) is 5."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1454528497, "post_id": 35186074, "comment_id": 58089379, "body": "Your code looks like it is trying to find the largest remoteness where your requirements say to find the smallest."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454528509, "post_id": 35186074, "comment_id": 58089387, "body": "For improvement of <b>working code</b> ask at <a href=\"http://codereview.stackexchange.com/\">SE Code Review</a> please."}, {"owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454528700, "post_id": 35186074, "comment_id": 58089493, "body": "signomi, am still now to the site :)"}, {"owner": {"reputation": 1806, "user_id": 1537003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7781ac8717f1e343e651a91d9183eb4a?s=128&d=identicon&r=PG", "display_name": "Michal", "link": "https://stackoverflow.com/users/1537003/michal"}, "edited": false, "score": 1, "creation_date": 1454529285, "post_id": 35186074, "comment_id": 58089897, "body": "Everyone started somehow. I recommend those who blame 23ElCaliente for this question (down votes) to look at their older questions. He has shown effort and asks for help. To  \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6: there are many and many discussions on stack exchange now. But stackoverflow remains main programming related discussion for many of people."}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1454529591, "post_id": 35186074, "comment_id": 58090091, "body": "Your code calculates some results repeatedly from the same inputs.   Work out ways to only do such calculations once (e.g. hoist calculation of <code>a&#47;2</code> out of loop, rather than calculating it every loop iteration).   When changing a variable, don&#39;t use operators that introduce temporaries (like <code>i++</code>) unless your program needs to use both the old value and the new one (which is not the case here).    Try to avoid comparisons that are described using the word &quot;or&quot;  (for example, <code>a &lt;= b</code> is described as &quot;<code>a</code> is less than OR equal to <code>b</code>&quot;).  These are microoptimisations though - not much benefit."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1454535708, "post_id": 35186074, "comment_id": 58093743, "body": "compile with -O3! How fast do you want to have it? I think the bottle neck is reading/parsing the data, everything else will be optimized by the compiler."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1454536352, "post_id": 35186074, "comment_id": 58094092, "body": "Don&#39;t bother optimizing.  Your bottleneck is in the input section.  If your program takes 1 millisecond to input the two numbers, any optimization change to other parts in your program must gain more than 1ms or the gain will be unnoticeable.  But then, negligible gain in performance is an objective thing."}], "answers": [{"comments": [{"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 3, "creation_date": 1454528927, "post_id": 35186163, "comment_id": 58089643, "body": "The bitshift instead of / 2 (or other powers of 2) is an optimization that most compilers will do in place."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 0, "creation_date": 1454528988, "post_id": 35186163, "comment_id": 58089686, "body": "@Donnie That sounds very logical. I am really not familiar with that many compilers. I guess you&#39;re right. I tried to be cautious (&quot;possible&quot;, &quot;profile&quot;, etc.)"}, {"owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454529017, "post_id": 35186163, "comment_id": 58089714, "body": "you mean like:  if ((x &lt;&lt; 1) &gt; a || (y &lt;&lt; 1) &gt; a) { \t\t\tz = min(z, remote(x, y)); \t\t\t}"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454529052, "post_id": 35186163, "comment_id": 58089733, "body": "@23ElCaliente Yes, that is the combination of the two suggestions."}, {"owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454529063, "post_id": 35186163, "comment_id": 58089741, "body": "but it is giving me an error on the &quot;max&quot; what header should I put?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 0, "creation_date": 1454529198, "post_id": 35186163, "comment_id": 58089831, "body": "@Donnie Thanks, incorporated your comment."}, {"owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "edited": false, "score": 0, "creation_date": 1454529233, "post_id": 35186163, "comment_id": 58089854, "body": "it&#39;s ok I figured it out :D thanks a lot for the quick reply"}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1454534643, "post_id": 35186163, "comment_id": 58093172, "body": "Do not replace division by a constant with bit shifts. Every compiler does this now."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1454534770, "post_id": 35186163, "comment_id": 58093229, "body": "Thanks, @GManNickG - placed already a comment that the compiler already probably does this, following previous comment."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 1, "last_activity_date": 1454534804, "last_edit_date": 1454534804, "creation_date": 1454528413, "answer_id": 35186163, "question_id": 35186074, "link": "https://stackoverflow.com/questions/35186074/could-someone-tell-me-any-different-way-to-make-this-code-faster/35186163#35186163", "title": "Could someone tell me any different way to make this code faster?", "body": "<p>For one, you are calling <code>remote</code> twice (in some cases) needlessly. \nConsider using this:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n\nz = std::max(z, remote(x, y));\n</code></pre>\n\n<p>This will also shorten and clarify the code.</p>\n\n<hr>\n\n<p>Also, it's possible the divisions are slow. Try (after profiling!) replacing</p>\n\n<pre><code>x &gt; a / 2 || y &gt; a / 2\n</code></pre>\n\n<p>by</p>\n\n<pre><code>(x &lt;&lt; 1) &gt; a || (y &lt;&lt; 1) &gt; a\n</code></pre>\n\n<p><strong>Note</strong> @Donnie &amp; others claims in the comments that compilers will do the latter optimization, and they are probably correct.</p>\n"}, {"tags": [], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "is_accepted": false, "score": 1, "last_activity_date": 1454536146, "creation_date": 1454536146, "answer_id": 35188429, "question_id": 35186074, "link": "https://stackoverflow.com/questions/35186074/could-someone-tell-me-any-different-way-to-make-this-code-faster/35188429#35188429", "title": "Could someone tell me any different way to make this code faster?", "body": "<p>I would like to show you the timings on my machine:</p>\n\n<p>Version 1:</p>\n\n<pre><code>for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; x &gt;&gt; y;\n   if (x &gt; a / 2 || y &gt; a / 2) {\n        if (z &gt; remote(x, y)) {\n            z = remote(x, y);\n        }               \n    }\n} \n</code></pre>\n\n<p>Version 2:</p>\n\n<pre><code>for (int i = 1; i &lt;= n; i++) {\n    cin &gt;&gt; x &gt;&gt; y;\n/*    if (x &gt; a / 2 || y &gt; a / 2) {\n        if (z &gt; remote(x, y)) {\n            z = remote(x, y);\n        }               \n    }\n */\n} \n</code></pre>\n\n<p>For n=10^5, compiled with -O3 both yield  60ms. Compiled without optimization: both 60ms.</p>\n\n<p>First step for optimizing is to <strong>know</strong> where your program spends time. Reading/parsing the data is the bottle neck.</p>\n\n<p>You could speed up it a little bit by adding as first line to your main:</p>\n\n<pre><code>ios_base::sync_with_stdio(false);\n</code></pre>\n\n<p>On my machine I'm down to 20ms.</p>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1454536215, "creation_date": 1454536215, "answer_id": 35188446, "question_id": 35186074, "link": "https://stackoverflow.com/questions/35186074/could-someone-tell-me-any-different-way-to-make-this-code-faster/35188446#35188446", "title": "Could someone tell me any different way to make this code faster?", "body": "<p>1) Assign a temporary value to the <code>remote</code> function:  </p>\n\n<pre><code>if (x &gt; a / 2 || y &gt; a / 2)\n{\n    const int r = remote(x,y);\n    if (z &gt; r)\n    {\n        z = r;\n    }\n}\n</code></pre>\n\n<p>2) Replace the call to <code>remote</code> with the contents of <code>remote</code>, removing the overhead of a function call:  </p>\n\n<pre><code>if (x &gt; a / 2 || y &gt; a / 2)\n{\n    const int r = abs(x) + abs(y);\n    if (z &gt; r)\n    {\n        z = r;\n    }\n}\n</code></pre>\n\n<p>3) Replace <code>a / 2</code> with a constant temporary variable:  </p>\n\n<pre><code>const int midpoint = a &gt;&gt; 1;\nif (x &gt; midpoint || y &gt; midpoint)\n</code></pre>\n\n<p>4) Change compiler optimization level to high - for speed.  </p>\n\n<p>5) The bottleneck is now in the input statement.  Any gain by optimizing the remainder of the loop is wasted by the Input time.  There is no more Return On Investment for further changes.  </p>\n"}], "owner": {"reputation": 33, "user_id": 5873177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odWdE.jpg?s=128&g=1", "display_name": "23ElCaliente", "link": "https://stackoverflow.com/users/5873177/23elcaliente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 35186163, "answer_count": 3, "score": 0, "last_activity_date": 1454536215, "creation_date": 1454528115, "last_edit_date": 1454528764, "question_id": 35186074, "link": "https://stackoverflow.com/questions/35186074/could-someone-tell-me-any-different-way-to-make-this-code-faster", "title": "Could someone tell me any different way to make this code faster?", "body": "<p>The code runs correctly and it does what it is supposed to do, but I was told I could make it faster by using Boolean expressions instead but would not really know where to insert them here. The problem is: </p>\n\n<blockquote>\n  <p>Given a sequence of n points with their coordinates, write a program remote, which calculates the value of the smallest remoteness of a point, which is outside the square. A point is outside the square, if it is neither inner to the square, nor belongs to square contour. If there are no points outside the square, your program has to output 0. </p>\n  \n  <p>Constraints:<br>\n  1 \u2264 n \u2264 10000 and 1 \u2264 a \u2264 1000 ;<br>\n  Example: </p>\n  \n  <p>Input: \n  5 4<br>\n  1 2<br>\n  4 6<br>\n  -3 2<br>\n  -2 2<br>\n  4 -1<br>\n  Output: 5  </p>\n</blockquote>\n\n<p>Could someone suggest me any technique to make the code more efficient?</p>\n\n<pre><code>int remote(int x, int y) {\n    int z = abs(x) + abs(y);\n    return z;\n}   \n\nint main() {\n\n    int n, a;\n    int x;\n    int y;\n\n    cin &gt;&gt; n &gt;&gt; a;\n\n    int z=20001;\n    for (int i = 1; i &lt;= n; i++) {\n        cin &gt;&gt; x &gt;&gt; y;\n        if (x &gt; a / 2 || y &gt; a / 2) {\n            if (z &gt; remote(x, y)) {\n                z = remote(x, y);\n            }               \n        }\n    }    \n    cout &lt;&lt; z &lt;&lt;endl;\n\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1454527748, "post_id": 35185932, "comment_id": 58088942, "body": "Your main function never calls cpu()?  Also, only call srand once at startup."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454527793, "post_id": 35185932, "comment_id": 58088968, "body": "<code>srand()</code> is meant to be initialized <b><i>once</i></b> in your program, not everytime you call your function."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 2, "creation_date": 1454527798, "post_id": 35185932, "comment_id": 58088975, "body": "your function says &#39;return 0&#39;"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1454527801, "post_id": 35185932, "comment_id": 58088978, "body": "Perhaps having the last bit of the code would help"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 1, "creation_date": 1454527854, "post_id": 35185932, "comment_id": 58089012, "body": "... and the function <code>cpu</code> does not declare <code>i</code>. Perhaps delete this question and work on something that compiles would be a good start"}, {"owner": {"reputation": 31, "user_id": 5843215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/387e6c5ae6c33b9ef757575a6fd31ce8?s=128&d=identicon&r=PG&f=1", "display_name": "B2easy", "link": "https://stackoverflow.com/users/5843215/b2easy"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1454528851, "post_id": 35185932, "comment_id": 58089584, "body": "as i stated i is defined as a global variable @EdHeal"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1454529023, "post_id": 35185932, "comment_id": 58089718, "body": "Post the code that actually compiles."}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 2, "last_activity_date": 1454527743, "creation_date": 1454527743, "answer_id": 35185967, "question_id": 35185932, "link": "https://stackoverflow.com/questions/35185932/efficient-coding-practices-c/35185967#35185967", "title": "Efficient Coding Practices C++", "body": "<ol>\n<li><p>Only call <code>srand</code> once.</p></li>\n<li><p>Actually call the <code>cpu</code> function before you check the value of <code>i</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 5843215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/387e6c5ae6c33b9ef757575a6fd31ce8?s=128&d=identicon&r=PG&f=1", "display_name": "B2easy", "link": "https://stackoverflow.com/users/5843215/b2easy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1454527711, "accepted_answer_id": 35185967, "answer_count": 1, "score": -3, "last_activity_date": 1454535032, "creation_date": 1454527628, "last_edit_date": 1454535032, "question_id": 35185932, "link": "https://stackoverflow.com/questions/35185932/efficient-coding-practices-c", "closed_reason": "Duplicate", "title": "Efficient Coding Practices C++", "body": "<p>I'm setting up a program that will create a random number 1-3 and then assigns that number a certain property i.e. R,P,S (Rock, Paper, or Scissors). </p>\n\n<p>I then test that number and turn the value of my variable into either \"Rock, Paper, or Scissors\"</p>\n\n<p>Is there a way to do this that isn't as redundant then just typing in each scenario. I'm assuming it deals with some sort of loop, but am not quite sure. Sorry if these questions seem poor as I'm just learning and trying to figure out the most efficient way to code these scenarios.</p>\n\n<p>If you see anything coded poorly please let me know!</p>\n\n<pre><code>if((weap1 == \"Rock\") &amp;&amp; (cpuWeap == \"Scissors\"))\n    {\n    cout&lt;&lt;\"The CPU picked Scissors!\"&lt;&lt;endl;\n    cout&lt;&lt;\"Congratulations you won!\"&lt;&lt;endl;\n    }\n    else if ((weap1 ==\"Paper\") &amp;&amp; (cpuWeap == \"Rock\"))\n    {\n    cout&lt;&lt;\"The CPU picked Rock!\"&lt;&lt;endl;\n    cout&lt;&lt;\"Congratulations you won!\"&lt;&lt;endl;\n    }\n    else if ((weap1 ==\"Scissors\") &amp;&amp; (cpuWeap == \"Paper\"))\n    {\n    cout&lt;&lt;\"The CPU picked Paper!\"&lt;&lt;endl;\n    cout&lt;&lt;\"Congratulations you won!\"&lt;&lt;endl;\n    }\n    else if (weap1 == cpuWeap)\n    {\n    cout&lt;&lt;\"You and the CPU picked \"&lt;&lt;weap1&lt;&lt;\"!\"&lt;&lt;endl;\n    cout&lt;&lt;\"It's a draw!\"&lt;&lt;endl;\n    }\n    else\n    {\n    cout&lt;&lt;\"The CPU picked \"&lt;&lt;cpuWeap&lt;&lt;\".\"&lt;&lt;endl;\n    cout&lt;&lt;\"Sorry, you lost!\"&lt;&lt;endl;\n    }       }\n</code></pre>\n"}, {"tags": ["c++", "poco-libraries"], "answers": [{"tags": [], "owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "is_accepted": true, "score": 5, "last_activity_date": 1454605178, "creation_date": 1454605178, "answer_id": 35207027, "question_id": 35185928, "link": "https://stackoverflow.com/questions/35185928/pocologger-is-not-logging-trace-or-debug-level-logs-only-information-level-an/35207027#35207027", "title": "Poco::Logger is not logging trace or debug level logs, only information level and above", "body": "<p>After perusing the Poco::Logger.h, I discovered that the poco_trace and poco_debug macros are enclosed by a <code>#if defined(_DEBUG)</code> block, meaning they'll only print to log when Poco itself is built in debug mode. </p>\n\n<p>This feels like an odd decision as Logger::trace(), Logger:debug() and Logger::log( Message ) will all write to the log as long as the level of the logger has been set appropriately.</p>\n"}], "owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 0, "accepted_answer_id": 35207027, "answer_count": 1, "score": 3, "last_activity_date": 1454605178, "creation_date": 1454527615, "question_id": 35185928, "link": "https://stackoverflow.com/questions/35185928/pocologger-is-not-logging-trace-or-debug-level-logs-only-information-level-an", "title": "Poco::Logger is not logging trace or debug level logs, only information level and above", "body": "<p>I'm having an issue trying to enable poco_trace and poco_debug logging. I use Logger::setLevel() to set a level of PRIO_TRACE, but I still am not seeing anything of priority lower than PRIO_INFORMATION written to my logs. Here is the relevant code.</p>\n\n<pre><code>//  ... In the constructor  of my main class\n//  All Loggers in the program inherit from the Logger found here.\n\ngetLogger().setChannel( channel );\ngetLogger().setLevel( Poco::Message::PRIO_TRACE );\n\n//  This prints \"Level is 8\" to the log, 8 being Message::PRIO_TRACE.\npoco_information_f1( getLogger(), \"Level is %i\", getLogger().getLevel() );\n//  This however is not printed to the log.\npoco_trace( getLogger(), \"Trace logging is enabled\" );\n\n//  ...\n\n//  Definition of getLogger()\ninline Poco::Logger&amp; Application::getLogger() const\n{   \n    //  Where logger is a class member of type Poco::Logger*\n    poco_check_ptr( logger );\n    return *logger;\n}\n</code></pre>\n\n<p>As far as I can tell from looking at the Poco documentation this should be enough. Is there a step I'm missing, or is something inherently wrong with this setup?</p>\n"}, {"tags": ["c++", "list", "qt", "data-structures"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454528128, "post_id": 35185884, "comment_id": 58089182, "body": "If it isn&#39;t <a href=\"http://doc.qt.io/qt-4.8/containers.html\" rel=\"nofollow noreferrer\">here</a>, and there isn&#39;t a newer documentation, no. You don&#39;t have it in STL, either. Make a generic adapter that does what you want."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454528362, "post_id": 35185884, "comment_id": 58089313, "body": "Depending on your needs (e.g., how important is memory usage versus insertion speed) you could create a class that makes uses of <code>std::vector&lt;std::set&lt;std::string&gt;::iterator&gt;</code> and <code>std::set&lt;std::string&gt;</code>. This allows you quickly check if it&#39;s already contained and preserve the order of insertion, obviously with some storage overhead. (or equivalent Qt classes)"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1454550582, "post_id": 35185884, "comment_id": 58099388, "body": "If your collections are going to be sufficiently small, you may as well use the list approach."}], "answers": [{"comments": [{"owner": {"reputation": 14802, "user_id": 800123, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bZMq5.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/800123/jack"}, "edited": false, "score": 0, "creation_date": 1455635438, "post_id": 35188231, "comment_id": 58570155, "body": "Basically what I ended up writing. Thanks"}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1454535448, "creation_date": 1454535448, "answer_id": 35188231, "question_id": 35185884, "link": "https://stackoverflow.com/questions/35185884/is-there-in-qt-built-in-data-strucutre-that-ignore-duplicate-insertion-of-item/35188231#35188231", "title": "Is there in Qt built-in data strucutre that ignore duplicate insertion of item?", "body": "<p>If you want to preserve the order of insertion <em>and</em> avoid duplicates, then there's nothing ready-to-go in Qt.</p>\n\n<p>A simple helper function would do the job:</p>\n\n<pre><code>template &lt;typename T&gt;\nbool appendUnique(QList&lt;T&gt; &amp; data, QSet&lt;T&gt; &amp; index, const T &amp; value) {\n  if (index.contains(value))\n    return false;\n  data.append(value);\n  index.insert(value);\n  return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 14802, "user_id": 800123, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bZMq5.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/800123/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 35188231, "answer_count": 1, "score": 0, "last_activity_date": 1454535448, "creation_date": 1454527496, "question_id": 35185884, "link": "https://stackoverflow.com/questions/35185884/is-there-in-qt-built-in-data-strucutre-that-ignore-duplicate-insertion-of-item", "title": "Is there in Qt built-in data strucutre that ignore duplicate insertion of item?", "body": "<p>I would use a <a href=\"http://doc.qt.io/qt-4.8/qset.html\" rel=\"nofollow\">QSet</a> but I need to preserve the order that the items were inserted as I need to loop over that list later.</p>\n\n<pre><code> QSet&lt;QString&gt; notes;\n    notes &lt;&lt; \"a\" &lt;&lt; \"b\" &lt;&lt; \"c\" &lt;&lt; \"a\";\n    foreach(const QString &amp;note, notes)\n        qDebug() &lt;&lt; note;\n</code></pre>\n\n<p>will output:</p>\n\n<pre><code>a\nc\nb\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>I know I can do:</p>\n\n<pre><code>if(!list.contains(item))\n            list &lt;&lt; item;\n</code></pre>\n\n<p>Or implement any better appraoch my own. I just want to know if there's a native data structure that usually is faster and well-tested, etc...</p>\n"}, {"tags": ["c++", "c++11", "atomic", "race-condition"], "comments": [{"owner": {"reputation": 401, "user_id": 4256624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd888bbf1dfce7d0329193acc4511d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bessonov", "link": "https://stackoverflow.com/users/4256624/alexander-bessonov"}, "edited": false, "score": 0, "creation_date": 1454540948, "post_id": 35185859, "comment_id": 58096212, "body": "Might it be an <a href=\"https://en.wikipedia.org/wiki/ABA_problem\" rel=\"nofollow noreferrer\">ABA problem</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 4256624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd888bbf1dfce7d0329193acc4511d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bessonov", "link": "https://stackoverflow.com/users/4256624/alexander-bessonov"}, "is_accepted": true, "score": 1, "last_activity_date": 1454601473, "creation_date": 1454601473, "answer_id": 35205650, "question_id": 35185859, "link": "https://stackoverflow.com/questions/35185859/is-it-a-correct-implementation-of-interlocked-singly-linked-list-in-c11/35205650#35205650", "title": "Is it a correct implementation of interlocked singly linked list in C++11", "body": "<p>After more research I can confirm that I face with an <a href=\"https://en.wikipedia.org/wiki/ABA_problem\" rel=\"nofollow\">ABA problem</a>. </p>\n\n<p>It appears like no one should ever trust this simple interlocked singly linked list implementation on modern hardware (with lots of hardware threads) and highly-contended interlocked lists.</p>\n\n<p>After considering implementing the tricks described in Wikipedia article, I have decided to use boost implementation (see <a href=\"http://www.boost.org/doc/libs/1_60_0/doc/html/boost/lockfree/stack.html\" rel=\"nofollow\">boost::lockfree::stack</a>) as it seems like having good efforts on fighting ABA problem.</p>\n\n<p>For now my test code does not fail, and neither does the original program.</p>\n"}], "owner": {"reputation": 401, "user_id": 4256624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd888bbf1dfce7d0329193acc4511d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bessonov", "link": "https://stackoverflow.com/users/4256624/alexander-bessonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 35205650, "answer_count": 1, "score": 1, "last_activity_date": 1454601473, "creation_date": 1454527410, "last_edit_date": 1454539033, "question_id": 35185859, "link": "https://stackoverflow.com/questions/35185859/is-it-a-correct-implementation-of-interlocked-singly-linked-list-in-c11", "title": "Is it a correct implementation of interlocked singly linked list in C++11", "body": "<p>I have the following implementation of interlocked singly linked list using C++11 atomics:</p>\n\n<pre><code>struct notag {};\n\ntemplate&lt;class T, class Tag=notag&gt;\nstruct s_list_base\n{\n};\n\ntemplate&lt;class T, class Tag = notag&gt;\nstruct s_list : s_list_base&lt;T, Tag&gt;\n{\n    s_list_base&lt;T, Tag&gt; *next_ptr;\n};\n\ntemplate&lt;bool auto_destruct, class T, class Tag = notag&gt;\nclass atomic_s_list\n{\n    struct s_head : s_list_base&lt;T, Tag&gt;\n    {\n        std::atomic&lt;s_list_base&lt;T, Tag &gt; *&gt; next_ptr { this };\n    };\n    using LinkType = s_list&lt;T, Tag&gt; *;\n\n    s_head head;\n\npublic:\n    atomic_s_list() = default;\n    atomic_s_list(const atomic_s_list &amp;) = delete;\n    atomic_s_list &amp;operator =(const atomic_s_list &amp;) = delete;\n\n    ~atomic_s_list()\n    {\n        clear();\n    }\n\n    void clear() noexcept\n    {\n        if (auto_destruct)\n        {\n            T *item;\n            do\n            {\n                item = pop();\n                delete item;\n            } while (item);\n        }\n        else\n            head.next_ptr = &amp;head;\n    }\n\n    void push(T *pItem) noexcept\n    {\n        auto p = static_cast&lt;LinkType&gt;(pItem);\n        auto phead = head.next_ptr.load(std::memory_order_relaxed);\n        do\n        {\n            p-&gt;next_ptr = phead;\n        } while (!head.next_ptr.compare_exchange_weak(phead, p));\n    }\n\n    T *pop() noexcept\n    {\n        auto result = head.next_ptr.load(std::memory_order_relaxed);\n        while (!head.next_ptr.compare_exchange_weak(result, static_cast&lt;LinkType&gt;(result)-&gt;next_ptr))\n            ;\n        return result == &amp;head ? nullptr : static_cast&lt;T *&gt;(result);\n    }\n};\n</code></pre>\n\n<p>The problem is that in real program I have several concurrently running threads that take an object from this list with <code>pop</code>, work with it and then put it back with <code>push</code> and it seems like I have a race when sometimes two threads end up getting the same object from a list.</p>\n\n<p>I have tried to make a simple example out of that program to illustrate a race.\nHere it is:</p>\n\n<pre><code>struct item : s_list&lt;item&gt;\n{\n    std::atomic&lt;int&gt; use{ 0 };\n};\n\natomic_s_list&lt;true, item&gt; items;\n\nitem *allocate()\n{\n    auto *result = items.pop();\n    if (!result)\n        result = new item;\n    return result;\n}\n\nvoid free(item *p)\n{\n    items.push(p);\n}\n\nint main()\n{\n    using namespace std::chrono_literals;\n    static const int N = 20;\n    std::vector&lt;std::thread&gt; threads;\n    threads.reserve(N);\n\n    for (int i = 0; i &lt; N; ++i)\n    {\n        threads.push_back(std::thread([&amp;]\n        {\n            while (true)\n            {\n                auto item = allocate();\n                if (0 != item-&gt;use.fetch_add(1, std::memory_order_relaxed))\n                    std::terminate();\n\n                item-&gt;use.fetch_sub(1, std::memory_order_relaxed);\n                free(item);\n            }\n        }));\n    }\n\n    std::this_thread::sleep_for(20min);\n}\n</code></pre>\n\n<p>So the question is: is this implementation of interlocked singly-linked list correct?</p>\n"}, {"tags": ["c++", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5641603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk9sL.jpg?s=128&g=1", "display_name": "Daniel VanderVeen", "link": "https://stackoverflow.com/users/5641603/daniel-vanderveen"}, "edited": false, "score": 0, "creation_date": 1454533080, "post_id": 35186183, "comment_id": 58092282, "body": "Thanks a lot man! I&#39;ve just starting working with opencv so I&#39;m still a little lost on some things."}, {"owner": {"reputation": 2012, "user_id": 2041826, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3lAEk.jpg?s=128&g=1", "display_name": "metsburg", "link": "https://stackoverflow.com/users/2041826/metsburg"}, "edited": false, "score": 0, "creation_date": 1509618741, "post_id": 35186183, "comment_id": 81094169, "body": "@Miki you saved my life! Cheers."}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": false, "score": 2, "last_activity_date": 1454528471, "creation_date": 1454528471, "answer_id": 35186183, "question_id": 35185813, "link": "https://stackoverflow.com/questions/35185813/opencv-3d-point-projection/35186183#35186183", "title": "OpenCV 3d point projection", "body": "<p>The function <code>projectPoints</code> needs the arguments <code>objectPoints</code> and <code>imagePoints</code> of the same type, while you're passing <code>objectPoints</code> as <code>Point3d</code>, and <code>imagePoints</code> as <code>Point2f</code>.</p>\n\n<p>The error is telling you that the two types are different: <code>double != float</code>.</p>\n\n<p>Simply declare <code>projectedPoints</code> as <code>Point2d</code>, so that it has the same type as <code>Point3d</code>:</p>\n\n<pre><code> std::vector&lt;cv::Point2d&gt; projectedPoints;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5641603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk9sL.jpg?s=128&g=1", "display_name": "Daniel VanderVeen", "link": "https://stackoverflow.com/users/5641603/daniel-vanderveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2028, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454528546, "creation_date": 1454527266, "last_edit_date": 1454528546, "question_id": 35185813, "link": "https://stackoverflow.com/questions/35185813/opencv-3d-point-projection", "title": "OpenCV 3d point projection", "body": "<p>I'm having a problem righting an OpenCV program to project a 3d point. I seem to be running into this problem when using the <code>projectPoints</code> function of OpenCV. </p>\n\n<p>Here is the error I got:</p>\n\n<blockquote>\n  <p>OpenCV Error: Assertion failed (mtype == type0 || (CV_MAT_CN(mtype) == CV_MAT_CN(type0) &amp;&amp; ((1 &lt;&lt; type0) &amp; fixedDepthMask) != 0)) in create, file /home/daniel/Comp4102/opencv/modules/core/src/matrix.cpp, line 2375\n  terminate called after throwing an instance of 'cv::Exception'\n    what():  /home/daniel/Comp4102/opencv/modules/core/src/matrix.cpp:2375: error: (-215) mtype == type0 || (CV_MAT_CN(mtype) == CV_MAT_CN(type0) &amp;&amp; ((1 &lt;&lt; type0) &amp; fixedDepthMask) != 0) in function create</p>\n</blockquote>\n\n<p>And here is the code that I wrote:</p>\n\n<pre><code>#include \"opencv2/core/core.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/calib3d/calib3d.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nstd::vector&lt;cv::Point3d&gt; set3DPoints();\n\nint main( int argc, char* argv[]) {\n  // Setting given variables.\n  double f = 500;\n  double sx = 1;\n  double sy = 1;\n  double ox = 320;\n  double oy = 240;\n\n  std::vector&lt;cv::Point3d&gt; objectPoints = set3DPoints();\n\n\n  cv::Mat Xw(1,3,cv::DataType&lt;double&gt;::type);\n\n  Xw.at&lt;double&gt;(0,0) = 150;\n  Xw.at&lt;double&gt;(0,1) = 200;\n  Xw.at&lt;double&gt;(0,2) = 350;\n\n  // Create the K matrix.\n  cv::Mat K(3,3,cv::DataType&lt;double&gt;::type);\n\n  K.at&lt;double&gt;(0,0) = -f/sx;\n  K.at&lt;double&gt;(1,0) = 0;\n  K.at&lt;double&gt;(2,0) = ox;\n\n  K.at&lt;double&gt;(0,1) = 0;\n  K.at&lt;double&gt;(1,1) = -f/sy;\n  K.at&lt;double&gt;(2,1) = oy;\n\n  K.at&lt;double&gt;(0,2) = 0;\n  K.at&lt;double&gt;(1,2) = 0;\n  K.at&lt;double&gt;(2,2) = 1;\n\n  // Creating the Rotation Matrix\n  cv::Mat R(3,3,cv::DataType&lt;double&gt;::type);\n\n  R.at&lt;double&gt;(0,0) = 1; \n  R.at&lt;double&gt;(1,0) = 0; \n  R.at&lt;double&gt;(2,0) = 0; \n\n  R.at&lt;double&gt;(0,1) = 0; \n  R.at&lt;double&gt;(1,1) = 1; \n  R.at&lt;double&gt;(2,1) = 0; \n\n  R.at&lt;double&gt;(0,2) = 0; \n  R.at&lt;double&gt;(1,2) = 0; \n  R.at&lt;double&gt;(2,2) = 1;\n\n  // Creating the Translation vector\n  cv::Mat T(3,1,cv::DataType&lt;double&gt;::type);\n  T.at&lt;double&gt;(0) = -70;\n  T.at&lt;double&gt;(1) = -95;\n  T.at&lt;double&gt;(2) = -120;\n\n  std::cout &lt;&lt; \"K: \" &lt;&lt; \"\\n\" &lt;&lt; K &lt;&lt; \"\\n\";\n  std::cout &lt;&lt; \"R: \" &lt;&lt; \"\\n\" &lt;&lt; R &lt;&lt; \"\\n\";\n  std::cout &lt;&lt; \"T: \" &lt;&lt; \"\\n\" &lt;&lt; T &lt;&lt; \"\\n\";\n\n  // Create zero distortion\n  cv::Mat distCoeffs(4,1,cv::DataType&lt;double&gt;::type);\n  distCoeffs.at&lt;double&gt;(0) = 0;\n  distCoeffs.at&lt;double&gt;(1) = 0;\n  distCoeffs.at&lt;double&gt;(2) = 0;\n  distCoeffs.at&lt;double&gt;(3) = 0;\n\n  // Creating Rodrigues rotation matrix\n  cv::Mat rvecR(3,1,cv::DataType&lt;double&gt;::type);\n  cv::Rodrigues(R,rvecR);\n\n  std::vector&lt;cv::Point2f&gt; projectedPoints;\n\n  cv::projectPoints(objectPoints, rvecR, T, K, distCoeffs, projectedPoints);\n\n  for(unsigned int i=0; i&lt;projectedPoints.size(); i++){\n    std::cout &lt;&lt; \"Image point: \" &lt;&lt; objectPoints[i] &lt;&lt; \" Projected to \" &lt;&lt; projectedPoints[i] &lt;&lt; \"\\n\"; \n  }\n\n  return 0;\n\n}\n\nstd::vector&lt;cv::Point3d&gt; set3DPoints() {\n  std::vector&lt;cv::Point3d&gt; points;\n\n  double x,y,z;\n\n  x=150;\n  y=200;\n  z=350;\n  points.push_back(cv::Point3d(x,y,z));\n\n  return points;\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "arrays", "numpy", "swig"], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 4121210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lLgLn.jpg?s=128&g=1", "display_name": "El Sampsa", "link": "https://stackoverflow.com/users/4121210/el-sampsa"}, "is_accepted": false, "score": 2, "last_activity_date": 1454578370, "creation_date": 1454578370, "answer_id": 35197258, "question_id": 35185798, "link": "https://stackoverflow.com/questions/35185798/creating-a-simple-swig-typemap-for-numpy/35197258#35197258", "title": "Creating a simple SWIG typemap for numpy", "body": "<p>OK. After analyzing what \"numpy.i\" does, I found the silver bullet:</p>\n\n<pre><code>$1=(uint8_t*)(PyArray_DATA((PyArrayObject*)$input));\n</code></pre>\n\n<p>Sorry for the spam.</p>\n"}], "owner": {"reputation": 1271, "user_id": 4121210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lLgLn.jpg?s=128&g=1", "display_name": "El Sampsa", "link": "https://stackoverflow.com/users/4121210/el-sampsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454578370, "creation_date": 1454527190, "question_id": 35185798, "link": "https://stackoverflow.com/questions/35185798/creating-a-simple-swig-typemap-for-numpy", "title": "Creating a simple SWIG typemap for numpy", "body": "<p>I have been working with the numerical python / SWIG / C++ combination, using the celebrated \"numpy.i\" SWIG template file (ARGOUTVIEW, INPLACE, etc. arrays, see: <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/swig.interface-file.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy-1.10.0/reference/swig.interface-file.html</a>).</p>\n\n<p>However, in order to actually learn something, I'd like to create my very own typemap for numpy arrays.  First, just something very simple:</p>\n\n<p>We have a byte buffer numpy array in python, we want to pass it to C(++), in the most simple way: the C(++) obtains the pointer to the bytebuffer (yes I know .. garbage collection.. dangerous).</p>\n\n<p>I have tried this with the following swig code (none of the commented-out nor active lines did the trick):</p>\n\n<pre><code>%typemap(in) (uint8_t* bytebuffer) {\n  PyObject* x_array = PyArray_FROM_OTF($input, NPY_UINT8, NPY_ARRAY_IN_ARRAY);  \n  // PyArray* x_array = PyArray_FROM_OTF($input, NPY_UINT8, NPY_ARRAY_IN_ARRAY);\n  // PyObject* x_array = PyArray_FROM_O($input);\n  // $1 = (uint8_t*)PyArray_DATA(x_array);\n  // $1 = (uint8_t*)PyArray_DATA($input);\n  $1 = static_cast&lt;uint8_t*&gt;(PyArray_DATA($input));\n}\n</code></pre>\n\n<p>I am getting for each case, things like:</p>\n\n<pre><code>error: cannot convert \u2018PyObject* {aka _object*}\u2019 to \u2018PyArrayObject* {aka tagPyArrayObject*}\u2019 for argument \u20181\u2019 to \u2018void* PyArray_DATA(PyArrayObject*)\u2019\n</code></pre>\n\n<p>I have read some of the numpy api (see: <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/c-api.array.html#array-structure-and-data-access\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy-1.10.0/reference/c-api.array.html#array-structure-and-data-access</a>) but I seem to misunderstand something.. there is no freaking way to make this #%@ work!  Help!</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1454527760, "post_id": 35185754, "comment_id": 58088950, "body": "<code>_mines[pos]</code> and use of iterators kind of clashes. You might want to rethink that. Why not use the iterator all the way through?"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1454527941, "post_id": 35185754, "comment_id": 58089074, "body": "<a href=\"https://ideone.com/HKcjSM\" rel=\"nofollow noreferrer\">This</a> is logically similar to what you have and works just fine (i.e., you can increment the iterator or use the one returned by the <code>erase</code> function to safely loop all the elements)."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1454528108, "post_id": 35185754, "comment_id": 58089168, "body": "And <a href=\"http://stackoverflow.com/questions/347441/erasing-elements-from-a-vector\">look in into whether the Remove-Erase idiom is right for you</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1454529018, "post_id": 35186137, "comment_id": 58089715, "body": "<a href=\"http://coliru.stacked-crooked.com/a/fcd311d0b38b12e9\" rel=\"nofollow noreferrer\">This</a> works just fine without needing to use swap. I&#39;ll also mention that the erase remove idiom mentioned by @user4581301 in the main comments may be useful to the OP (i.e., instead of manually swapping and erasing)."}, {"owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "reply_to_user": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454531506, "post_id": 35186137, "comment_id": 58091293, "body": "@James Adkison I agree that your solution is more compact and elegant, but it will be more inefficient when few items are removed from a large vector."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454531621, "post_id": 35186137, "comment_id": 58091384, "body": "Yes, that&#39;s a reason to use the erase remove idiom. I was only pointing out that your answer is not required to solve the OPs problem."}, {"owner": {"reputation": 133, "user_id": 5595500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VedTZ.jpg?s=128&g=1", "display_name": "Rolljee", "link": "https://stackoverflow.com/users/5595500/rolljee"}, "edited": false, "score": 0, "creation_date": 1454533540, "post_id": 35186137, "comment_id": 58092557, "body": "In our case, our _mines a QSharedPointer, not a Int, so we are getting an invalid operand to binary conversion error. since the *itMine can&#39;t be casted to int, this solution don&#39;t work with us, can you specify more in our case if possible ?"}, {"owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "edited": false, "score": 0, "creation_date": 1454535463, "post_id": 35186137, "comment_id": 58093609, "body": "Further edit to mimic comparison against against fixed member of mines."}], "tags": [], "owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537154, "last_edit_date": 1454537154, "creation_date": 1454528306, "answer_id": 35186137, "question_id": 35185754, "link": "https://stackoverflow.com/questions/35185754/reset-iterator-inside-loop-with-erase-method/35186137#35186137", "title": "Reset iterator inside loop with erase method", "body": "<p>A not uncommon solution to this problem is to swap the current position with the back position. The last item can then be removed without invalidating any iterators. See <a href=\"http://coliru.stacked-crooked.com/a/a6c99e3c77de2605\" rel=\"nofollow\">live example</a>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n\nint main()\n{\n    struct Mine\n    {\n        Mine( int id = 0 ): id( id ) { }\n        bool check_collision_point( int point ) const { return id % point == 0; }\n        int id; \n    };\n\n    auto mines = std::vector&lt;std::shared_ptr&lt;Mine&gt;&gt;{ 7 };\n\n    for( auto i = 0u; i &lt; mines.size(); ++i )\n    {\n        mines[i] = std::make_shared&lt;Mine&gt;( i );\n    }\n\n    // save point outside loop\n    auto point = 2;\n\n    for( auto it = mines.begin(); it != mines.end(); )\n    {\n        // don't use mines[pos] in loop\n        if( (*it)-&gt;check_collision_point( point ) ){\n            std::iter_swap(it, mines.rbegin() );\n            mines.resize( mines.size() -1 );\n        }\n        else\n            ++it;\n    }\n\n    for( auto it = mines.begin(); it != mines.end(); ++it)\n        std::cout &lt;&lt; (*it)-&gt;id &lt;&lt; \" \"; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 5595500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VedTZ.jpg?s=128&g=1", "display_name": "Rolljee", "link": "https://stackoverflow.com/users/5595500/rolljee"}, "is_accepted": true, "score": 0, "last_activity_date": 1454756839, "creation_date": 1454756839, "answer_id": 35240262, "question_id": 35185754, "link": "https://stackoverflow.com/questions/35185754/reset-iterator-inside-loop-with-erase-method/35240262#35240262", "title": "Reset iterator inside loop with erase method", "body": "<hr>\n\n<p>Update</p>\n\n<hr>\n\n<pre><code>   for (auto itMine = _mines.begin(); itMine != _mines.end();){\n            auto point2 = shipFire[l].getBulletLine().p2(); // thomas : -&gt; here we need to do it in the loop, to get every bullet position while looping.\n\n            if (_mines[pos]-&gt;checkCollision(point2)){\n                Explosion explosionMine(_mines[pos]-&gt;point());\n                _explosions.push_back(explosionMine);\n                if (_mines[pos]-&gt;checkCollision(point2)){\n                    mines_to_be_deleted.push_back(*itMine);\n                    shipFire.erase(it);\n                    bulletErased = true;\n                    scoreFrame += 100;\n                    qDebug() &lt;&lt; \"Collision bullet mine\";\n\n                }\n            }\n            //else\n            ++itMine;\n            pos++;\n        }\n\n\n        for (auto itrDelete = mines_to_be_deleted.begin(); itrDelete != mines_to_be_deleted.end();)\n        {\n                _mines.pop_back(); // Here instead of that, we need to erase the current itr (here is our mistake) \n                //mines_to_be_deleted.erase(itrDelete);\n                //_mines.resize(_mines.size());\n                qDebug() &lt;&lt; \"mine deleted\";\n                ++itrDelete;\n        }\n        mines_to_be_deleted.clear();\n</code></pre>\n\n<p>At this point we came up with this.\nWe tried everything you told us, but none of them worked, we thinked about swapping the current itr to the end of the vector. Thanks for your help.</p>\n\n<p>For now, the program is running perfectly, but when we hit a Mine with a bullet, a ramdom one disapear.</p>\n\n<p>For those who want to know, we have found the solution.</p>\n\n<pre><code>while(!mines_to_be_deleted.empty()) { // _mine_to_be_deleted is a QList&lt;Sharedpointer&lt;Mine&gt;&gt;\n        std::remove(begin(_mines),end(_mines),mines_to_be_deleted.front());\n        _mines.pop_back();\n        mines_to_be_deleted.pop_front();\n    }\n</code></pre>\n\n<p>using std::remove allow us to erase the Mine without creating a malloc() </p>\n"}], "owner": {"reputation": 133, "user_id": 5595500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VedTZ.jpg?s=128&g=1", "display_name": "Rolljee", "link": "https://stackoverflow.com/users/5595500/rolljee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3013, "favorite_count": 0, "accepted_answer_id": 35240262, "answer_count": 2, "score": 1, "last_activity_date": 1454756839, "creation_date": 1454527067, "last_edit_date": 1454756823, "question_id": 35185754, "link": "https://stackoverflow.com/questions/35185754/reset-iterator-inside-loop-with-erase-method", "title": "Reset iterator inside loop with erase method", "body": "<p>Here's a little piece of code, which is making us a little mad...</p>\n\n<pre><code>for (vector&lt;QSharedPointer&lt;Mine&gt;&gt;::iterator itMine = _mines.begin(); \n       itMine != _mines.end();) {\n    auto point2 = shipFire[l].getBulletLine().p2();\n    if (_mines[pos]-&gt;checkCollision(point2)) { // _mines is a Vector&lt;QSharedPointer&lt;Mine&gt;&gt;\n        Explosion explosionMine(_mines[pos]-&gt;point());\n        _explosions.push_back(explosionMine);\n        itMine = _mines.erase(itMine);\n        bulletErased = true;\n        scoreFrame += 100;\n    }\n    else {\n        ++itMine;\n        pos++;\n    }\n}\n</code></pre>\n\n<p>Here is the problem, the <code>itMine</code> is erasing two of our <code>vector&lt;..&lt;Mine&gt;&gt;</code> and it's making the program to shutdown unexpectedly</p>\n\n<p>We thought about it, and came up with this : All of our iterators are being invalidated after erasing the one of the Mine, right ?</p>\n\n<p>But we are a little confused about how to change our actual code to fit to the new one ?</p>\n\n<p>The main question is : how do we reset this itr ? </p>\n\n<p>ps : if you have any questions, or if you need a little more of code to understand the logic behind, feel free to ask more question !</p>\n\n<p>Best Regards, and thank you in advance.</p>\n"}, {"tags": ["c++", "enums"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1454527096, "post_id": 35185737, "comment_id": 58088503, "body": "Make that <code>const int k = 23;</code>."}, {"owner": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454527359, "post_id": 35185737, "comment_id": 58088664, "body": "This does not make a lot of sense. Enum&#39;s are declarations and need to be known at compile time. The int k here is a non-const variable. If it would have been const/constexpr, then you could just as well write last = 23"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454527419, "post_id": 35185737, "comment_id": 58088701, "body": "@StarShine: Unless that named constant (<code>k</code>) appears in several places."}, {"owner": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454527696, "post_id": 35185737, "comment_id": 58088902, "body": "So why not use the enum instead then?"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 1, "creation_date": 1454528222, "post_id": 35185737, "comment_id": 58089226, "body": "@StarShine: To convey the author&#39;s intention, for example. The reason for using named constants in the first place. Not that <code>k</code> is particularly descriptive, but then the OP&#39;s code merely illustrates the issue."}, {"owner": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454675688, "post_id": 35185737, "comment_id": 58162628, "body": "Yes, I guess dogmatic approaches are never really sensible. It wouldn&#39;t make a lot of sense to use enum&#39;s for integer constants only and (obviously) not for any other type of constants. Even if this is perfectly valid and quite common practice."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4891538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a16ebb63039dc3b2be62d75ccd452f?s=128&d=identicon&r=PG&f=1", "display_name": "YaroslvaV", "link": "https://stackoverflow.com/users/4891538/yaroslvav"}, "edited": false, "score": 0, "creation_date": 1454572570, "post_id": 35185784, "comment_id": 58107296, "body": "Its work! Thanks!  It was example, I try it I need do this  int k = vector.size();  enum stat_t {     first = 0,     second,     last = k  };"}], "tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": true, "score": 1, "last_activity_date": 1454527241, "last_edit_date": 1454527241, "creation_date": 1454527144, "answer_id": 35185784, "question_id": 35185737, "link": "https://stackoverflow.com/questions/35185737/how-convert-int-to-enum-value-c/35185784#35185784", "title": "How convert int to enum value c++", "body": "<p>Use <code>const</code>.</p>\n\n<pre><code>int const k = 23;\nenum stat_t {\n    first = 0,\n    second,\n    last = k \n};\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4891538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a16ebb63039dc3b2be62d75ccd452f?s=128&d=identicon&r=PG&f=1", "display_name": "YaroslvaV", "link": "https://stackoverflow.com/users/4891538/yaroslvav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 35185784, "answer_count": 1, "score": 2, "last_activity_date": 1454527289, "creation_date": 1454526964, "last_edit_date": 1454527289, "question_id": 35185737, "link": "https://stackoverflow.com/questions/35185737/how-convert-int-to-enum-value-c", "title": "How convert int to enum value c++", "body": "<p>How can I do it</p>\n\n<pre><code>int k = 23;\nenum stat_t {\n    first = 0,\n    second,\n    last = k \n};\n</code></pre>\n\n<p>May be you know how can I do it?</p>\n"}, {"tags": ["c#", "c++", "visual-studio", "dll", "dllimport"], "comments": [{"owner": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 1, "creation_date": 1454526993, "post_id": 35185678, "comment_id": 58088441, "body": "It is because of C++ names&#39; mangling. You need to mark your method with <code>extern &quot;C&quot;</code> or add a .def file with export names to your dll project."}, {"owner": {"reputation": 87, "user_id": 1972763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fcaf1824289bf0546f31deb91e582eac?s=128&d=identicon&r=PG", "display_name": "Nurfed", "link": "https://stackoverflow.com/users/1972763/nurfed"}, "reply_to_user": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 0, "creation_date": 1454527677, "post_id": 35185678, "comment_id": 58088892, "body": "Do you mean I have to do the exporting/importing manually without the API macro?"}, {"owner": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 0, "creation_date": 1454528287, "post_id": 35185678, "comment_id": 58089269, "body": "API macro is okay, you only need to disable C++ mangling somehow. It can be done by either declaring a function in <code>extern &quot;C&quot;</code> block (or by adding <code>extern &quot;C&quot;</code> into API macros), or by providing an export name in a .def file."}, {"owner": {"reputation": 87, "user_id": 1972763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fcaf1824289bf0546f31deb91e582eac?s=128&d=identicon&r=PG", "display_name": "Nurfed", "link": "https://stackoverflow.com/users/1972763/nurfed"}, "reply_to_user": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 0, "creation_date": 1454528334, "post_id": 35185678, "comment_id": 58089298, "body": "Well thanks! After changing the method in DLL.h from <code>DLL_API int test(void);</code> to <code>extern &quot;C&quot; DLL_API int test(void);</code> It compiled and executed correctly!  But isnt there a way to achieve this with the right attribute on the c# method?"}, {"owner": {"reputation": 87, "user_id": 1972763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fcaf1824289bf0546f31deb91e582eac?s=128&d=identicon&r=PG", "display_name": "Nurfed", "link": "https://stackoverflow.com/users/1972763/nurfed"}, "reply_to_user": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 0, "creation_date": 1454528488, "post_id": 35185678, "comment_id": 58089376, "body": "Alex Skalozub - Create an answer with the same content and i will flag it as solved"}, {"owner": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "edited": false, "score": 0, "creation_date": 1454528499, "post_id": 35185678, "comment_id": 58089381, "body": "No, C# method cannot change the way a name is exported by dll. You only can specify a mangled name in an EntryPoint property of DllImport, but you&#39;ll need to update it every time you change function signature in a dll"}], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 3186937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9688e1c2caa6a079577d4e35ef18db2?s=128&d=identicon&r=PG&f=1", "display_name": "Vahid K.", "link": "https://stackoverflow.com/users/3186937/vahid-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1454528234, "creation_date": 1454528234, "answer_id": 35186114, "question_id": 35185678, "link": "https://stackoverflow.com/questions/35185678/dlimport-c-console-application-imports-c-dll/35186114#35186114", "title": "DLImport c# console application imports c++ DLL", "body": "<p>I think your problem is, When we compile code in c/c++ and export functions, according to calling conventions we use, there is names like @Test0 and so on in export table. I say you download CffExplorer and see your export table of your dll. and then try to import with right name.</p>\n"}, {"tags": [], "owner": {"reputation": 2341, "user_id": 2556594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307abdc6ee24a4f7f3a3e2f55506e1f?s=128&d=identicon&r=PG", "display_name": "Alex Skalozub", "link": "https://stackoverflow.com/users/2556594/alex-skalozub"}, "is_accepted": true, "score": 1, "last_activity_date": 1454530209, "last_edit_date": 1454530209, "creation_date": 1454529481, "answer_id": 35186485, "question_id": 35185678, "link": "https://stackoverflow.com/questions/35185678/dlimport-c-console-application-imports-c-dll/35186485#35186485", "title": "DLImport c# console application imports c++ DLL", "body": "<p>The entry point cannot be found because of C++ names' mangling. It encodes method names in a special unique manner to support overloading and templates.</p>\n\n<p>To disable this behavior and export method name as is, you need to either mark your method with <code>extern \"C\"</code> (or put into <code>extern \"C\" { }</code> block), or add a .def file with export names to your dll project.</p>\n\n<p>Usually it is done in a header file:</p>\n\n<pre><code>#ifdef __cplusplus\nextern \"C\" {\n#endif\n\nDLL_API int test();\n\n// other functions\n\n#ifdef __cplusplus\n}\n#endif\n</code></pre>\n\n<p>This will work on all platforms. </p>\n\n<p>Def file, on the other hand, is mostly Windows method. You add a <em>ProjectName</em>.def to your solution and place there exports list:</p>\n\n<pre><code>LIBRARY &lt;libraryname&gt;\nEXPORTS\n    test\n</code></pre>\n\n<p>More on <a href=\"https://msdn.microsoft.com/en-us/library/d91k01sh.aspx\" rel=\"nofollow\">MSDN</a></p>\n"}], "owner": {"reputation": 87, "user_id": 1972763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fcaf1824289bf0546f31deb91e582eac?s=128&d=identicon&r=PG", "display_name": "Nurfed", "link": "https://stackoverflow.com/users/1972763/nurfed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1285, "favorite_count": 0, "closed_date": 1454531430, "accepted_answer_id": 35186485, "answer_count": 2, "score": 1, "last_activity_date": 1454530209, "creation_date": 1454526774, "question_id": 35185678, "link": "https://stackoverflow.com/questions/35185678/dlimport-c-console-application-imports-c-dll", "closed_reason": "Duplicate", "title": "DLImport c# console application imports c++ DLL", "body": "<p>I am having trouble getting this to work. I created a test solution(VS2015) with a c++ DLL Project, a c++ ConsoleApplication and a c# ConsoleApplication.\nBoth Console Application call the a DLL function in their main method and print the result to the console. All projects build to the same directory.</p>\n\n<p>This works fine in the c++ ConsoleApplication since I simply added a reference to the DLL-Project and included the header.</p>\n\n<p>In the c# ConsoleApplication I cant get this to work. I know its unmanaged code and that I need to use DLLImport.</p>\n\n<p>When I try wo run the c# app it raises a System.EntryPointNotFoundException on calling test(). And says the Entry point \"test\" could not be found.</p>\n\n<p>So what am I doing wrong?</p>\n\n<pre><code>DLL.h\n    #ifdef DLL_EXPORTS\n    #define DLL_API __declspec(dllexport)\n    #else\n    #define DLL_API __declspec(dllimport)\n    #endif\n\n    DLL_API int test(void);\n\nDLL.cpp\n    #include \"DLL.h\"\n    // This is an example of an exported function.\n    DLL_API int test(void)\n    {\n        return 42;\n    }\n</code></pre>\n\n<p>Which compiles to DLL.dll.</p>\n\n<pre><code>Programm.cs\n    using System;\n    using System.Runtime.InteropServices;\n\n    namespace DLLTestCSharp\n    {\n\n        class Program\n        {\n\n            [DllImport(\"DLL.dll\")]\n            public static extern int test();\n\n            static void Main(string[] args)\n            {\n\n                Console.WriteLine(test());\n\n                Console.Read();\n            }\n        }\n    }\n</code></pre>\n\n<p>Which compiles to DLLTestCSharp.exe.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zwSv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwSv3.png\" alt=\"All files are on the same path.\"></a></p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454527329, "post_id": 35185665, "comment_id": 58088643, "body": "What is the purpose of <code>-&gt;Complex&lt;...&gt;</code> and <code>-&gt;XY&lt;...&gt;</code>? Unless this is a new syntax feature I&#39;m not aware of, this is invalid."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 1, "creation_date": 1454527508, "post_id": 35185665, "comment_id": 58088767, "body": "@Litty It is called a trailing return type.  It was added so we could use the template types to determine the return value."}, {"owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454527645, "post_id": 35185665, "comment_id": 58088868, "body": "Well you learn something new every day. Why isn&#39;t your first declaration allowed?"}, {"owner": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "reply_to_user": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454527820, "post_id": 35185665, "comment_id": 58088994, "body": "@Litty was just a mistake on my side. forgot to change it to the style of my example code. edited it"}, {"owner": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "reply_to_user": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "edited": false, "score": 0, "creation_date": 1454528082, "post_id": 35185665, "comment_id": 58089158, "body": "@Litty decltype needs a expression, not a conjunction of different datatypes (so i can&#39;t say decltype(double-int))"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "edited": false, "score": 0, "creation_date": 1454535142, "post_id": 35187637, "comment_id": 58093428, "body": "Yes this is excactly what i&#39;m looking for. I had this version very similar, but i used instead of template &lt;typename U, typename S&gt;: template &lt;typename T, typename S&gt; or just template &lt;typename S&gt;. Can you maybe explain me, why do i need another template parameter instead of my already existing T?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "edited": false, "score": 0, "creation_date": 1454538367, "post_id": 35187637, "comment_id": 58095124, "body": "Because you want your <code>operator-</code> to be a function template with two template parameters, don&#39;t you?"}, {"owner": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "edited": false, "score": 0, "creation_date": 1454539553, "post_id": 35187637, "comment_id": 58095654, "body": "yes, but my question was more about why do i need U and S instead of T and S. Why can&#39;t i use my T here?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "edited": false, "score": 0, "creation_date": 1454540326, "post_id": 35187637, "comment_id": 58095949, "body": "If you try, you&#39;ll get an error. E.g. on clang: &quot;declaration of &#39;T&#39; shadows template parameter&quot;. There&#39;s a syntactical rule that say, essentially, that the name of a template parameter shouldn&#39;t be reused something else. Not sure why; I guess it makes the grammar ambiguous otherwise. It&#39;s a good advice to follow to avoid confusion, in any case."}], "tags": [], "owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1454533394, "creation_date": 1454533394, "answer_id": 35187637, "question_id": 35185665, "link": "https://stackoverflow.com/questions/35185665/declaration-of-overload-operator-of-objects-with-2-different-types/35187637#35187637", "title": "Declaration of overload operator- of objects with 2 different types", "body": "<p>Is this what you are looking for?</p>\n\n<pre><code>template &lt;typename T&gt;\nclass XY{\nprivate:\n    T x;\n\ntemplate &lt;typename U, typename S&gt;\nfriend auto operator-(const XY&lt;U&gt; z1, const XY&lt;S&gt; z2)-&gt;XY&lt;decltype(z1.x - z2.x)&gt;;\n\n};\n\ntemplate &lt;typename T, typename S&gt;\nauto operator-(const XY&lt;T&gt; z1, const XY&lt;S&gt; z2)-&gt;XY&lt;decltype(z1.x - z2.x)&gt;{...}\n</code></pre>\n\n<p><a href=\"http://rextester.com/WMNB24350\" rel=\"nofollow\">Demo</a></p>\n"}], "owner": {"reputation": 57, "user_id": 5565705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gLIv3.jpg?s=128&g=1", "display_name": "vienya", "link": "https://stackoverflow.com/users/5565705/vienya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 35187637, "answer_count": 1, "score": 0, "last_activity_date": 1454533394, "creation_date": 1454526715, "last_edit_date": 1454527731, "question_id": 35185665, "link": "https://stackoverflow.com/questions/35185665/declaration-of-overload-operator-of-objects-with-2-different-types", "title": "Declaration of overload operator- of objects with 2 different types", "body": "<p>I have a template-class and wrote a operator- which should do the math with 2 objects of different type and return it as a new object. Now i'm wondering how can i declare this operator- in my class, since something like    </p>\n\n<pre><code>template&lt;typename S&gt; \nfriend auto operator-(const XY&lt;T&gt;,const XY&lt;S&gt;)-&gt;XY&lt;decltype(T-S)&gt;; \n</code></pre>\n\n<p>isn't allowed?\nHere is my example code:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass XY{\nprivate:\n    T x\n\n...\n\n// template&lt;typename S&gt; \n// friend auto operator-(const XY&lt;T&gt;, const XY&lt;S&gt;)-&gt;XY&lt;decltype(T-S)&gt;;\n\n};\n\ntemplate &lt;typename T, typename S&gt;\nauto operator-(const XY&lt;T&gt; z1, const XY&lt;S&gt; z2)-&gt;XY&lt;decltype(z1.x - z2.x)&gt;{\n    decltype(z1.x - z2.x) x;\n    x = (z1.x - z2.x);\n    XY&lt;decltype(x)&gt; n(x);\n\n    return n;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "crash", "qnetworkaccessmanager", "qnetworkreply"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1454526630, "post_id": 35185446, "comment_id": 58088231, "body": "Since the <i>&quot;crash&quot;</i> (not a really helpful error description) comes from the heap allocator, it appears that your heap is corrupted. There are very few other reasons, why <code>RtlpAllocateHeap</code> would raise an SEH exception."}, {"owner": {"reputation": 3569, "user_id": 630169, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1949affc5551c28e9282f727e2324599?s=128&d=identicon&r=PG", "display_name": "Aleksey Kontsevich", "link": "https://stackoverflow.com/users/630169/aleksey-kontsevich"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1454527463, "post_id": 35185446, "comment_id": 58088732, "body": "Stopped in thread 5 by Exception read access violation."}], "answers": [{"comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1454535634, "post_id": 35187669, "comment_id": 58093711, "body": "You haven&#39;t fixed the bug. The reinstallation was most likely unnecessary. The question doesn&#39;t have nearly enough information to diagnose the issue."}, {"owner": {"reputation": 3569, "user_id": 630169, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1949affc5551c28e9282f727e2324599?s=128&d=identicon&r=PG", "display_name": "Aleksey Kontsevich", "link": "https://stackoverflow.com/users/630169/aleksey-kontsevich"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1454539915, "post_id": 35187669, "comment_id": 58095801, "body": "It&#39;s all I have for now, also I saw many people helped above solution."}], "tags": [], "owner": {"reputation": 3569, "user_id": 630169, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1949affc5551c28e9282f727e2324599?s=128&d=identicon&r=PG", "display_name": "Aleksey Kontsevich", "link": "https://stackoverflow.com/users/630169/aleksey-kontsevich"}, "is_accepted": true, "score": -2, "last_activity_date": 1454533531, "creation_date": 1454533531, "answer_id": 35187669, "question_id": 35185446, "link": "https://stackoverflow.com/questions/35185446/qnetworkaccessmanager-crashes-on-get/35187669#35187669", "title": "QNetworkAccessManager crashes on get", "body": "<p>Reinstalling Qt and creator with restart helped.</p>\n"}], "owner": {"reputation": 3569, "user_id": 630169, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1949affc5551c28e9282f727e2324599?s=128&d=identicon&r=PG", "display_name": "Aleksey Kontsevich", "link": "https://stackoverflow.com/users/630169/aleksey-kontsevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 35187669, "answer_count": 1, "score": 0, "last_activity_date": 1454533531, "creation_date": 1454526041, "last_edit_date": 1454526491, "question_id": 35185446, "link": "https://stackoverflow.com/questions/35185446/qnetworkaccessmanager-crashes-on-get", "title": "QNetworkAccessManager crashes on get", "body": "<p>QNetworkAccessManager worked just fine, then began to crash every time on get() method which is very simple:</p>\n\n<pre><code>QNetworkReply *reply = myManager-&gt;get(QNetworkRequest(QUrl(myUrl)));\n</code></pre>\n\n<p>Stack is the following:</p>\n\n<pre>\n\n    0   RtlpAllocateHeap    ntdll       0x77a93364  \n    1   RtlAllocateHeap ntdll       0x77a93074  \n    2   RtlDebugAllocateHeap    ntdll       0x77b310d3  \n    3   RtlpAllocateHeap    ntdll       0x77aeb16e  \n    4   RtlAllocateHeap ntdll       0x77a93074  \n    5   _heap_alloc_base    MSVCR100D       0x53be8343  \n    6   _nh_malloc_dbg  MSVCR100D       0x53bf697c  \n    7   _nh_malloc_dbg  MSVCR100D       0x53bf671f  \n    8   _nh_malloc_dbg  MSVCR100D       0x53bf66cc  \n    9   malloc  MSVCR100D       0x53bf9c5b  \n    10  operator new    MSVCR100D       0x53be7db1  \n    11  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53cecbff  \n    12  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53efa480  \n    13  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53dbc736  \n    14  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53db97d1  \n    15  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53db9d26  \n    16  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53e0ea8b  \n    17  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53e2417c  \n    18  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53db8d02  \n    19  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53db9f4d  \n    20  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53e2c690  \n    21  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53e2d020  \n    22  QByteArrayMatcher::~QByteArrayMatcher   QtCored4        0x53e2c13b  \n    23  QNetworkProxy::setPassword  QtNetworkd4     0x536593e3  \n    24  QNetworkProxy::setPassword  QtNetworkd4     0x53658a58  \n    25  QNetworkProxy::setPassword  QtNetworkd4     0x53656eb4  \n    26  QNetworkProxy::setPassword  QtNetworkd4     0x5365359e  \n    27  QNetworkProxy::setPassword  QtNetworkd4     0x536534b8  \n    28  QNetworkProxy::setPassword  QtNetworkd4     0x536537ea  \n    29  QNetworkProxy::setPassword  QtNetworkd4     0x5360c06f  \n    30  QNetworkProxy::setPassword  QtNetworkd4     0x5360b2ec  \n    31  get command here    myfile.cpp  73  0x552b9123  \n    32  main    main.cpp    409 0x13aca9    \n    33  WinMain qtmain_win.cpp  131 0xa0e55a    \n    34  __tmainCRTStartup   crtexe.c    547 0xa0d7d0    \n    35  WinMainCRTStartup   crtexe.c    371 0xa0d55f    \n    36  BaseThreadInitThunk kernel32        0x75f9336a  \n    37  __RtlUserThreadStart    ntdll       0x77a992b2  \n    38  _RtlUserThreadStart ntdll       0x77a99285  \n\n</pre>\n\n<p>P.S. Now sometimes start to crash in this line:</p>\n\n<pre><code>QList&lt;QNetworkInterface&gt; interfaces = QNetworkInterface::allInterfaces();\n</code></pre>\n\n<p>Other team members run this code without a problem from other PCs and places of course. What the reason could be?! Network issue, antivirus, firewall (tried to switch both off with no luck) etc?! Why it calls QNetworkProxy::setPassword?! I have no proxy, tried to set <code>NoProxy</code> explicitly as well with no luck. What the problem could be? Any ideas?</p>\n"}, {"tags": ["c++", "objective-c", "qt", "otool", "install-name-tool"], "comments": [{"owner": {"reputation": 2796, "user_id": 6366458, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/99cOW.jpg?s=128&g=1", "display_name": "arqam", "link": "https://stackoverflow.com/users/6366458/arqam"}, "edited": false, "score": 0, "creation_date": 1504780195, "post_id": 35185147, "comment_id": 79149625, "body": "Can you please have a look in this?"}], "answers": [{"comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1454529343, "post_id": 35186162, "comment_id": 58089946, "body": "You don&#39;t need to change the install name of the library. That&#39;s useful <b>before</b> linking to it so that the linker uses that install name as the reference to it in the linked executable.  Since you&#39;re manipulating things after linking, there&#39;s no point in that."}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1454536018, "post_id": 35186162, "comment_id": 58093905, "body": "@MichaelDautermann thanks for the post. I just updated my post with more information. Could you kindly tell me what my next step should be ? Earlier I did not mention the result of otool on the binary before copying the libraries to the framework. Hope this would make my issue more clear ?"}, {"owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "reply_to_user": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1454641510, "post_id": 35186162, "comment_id": 58146419, "body": "@MistyD I don&#39;t see a question there.  Did you get everything figured out?"}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1454663271, "post_id": 35186162, "comment_id": 58154582, "body": "Yes I am reading more on this topic. Here is the link <a href=\"http://stackoverflow.com/questions/35220111/install-name-tool-difference-between-change-and-id\" title=\"install name tool difference between change and id\">stackoverflow.com/questions/35220111/&hellip;</a>"}, {"owner": {"reputation": 2796, "user_id": 6366458, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/99cOW.jpg?s=128&g=1", "display_name": "arqam", "link": "https://stackoverflow.com/users/6366458/arqam"}, "edited": false, "score": 0, "creation_date": 1504780177, "post_id": 35186162, "comment_id": 79149615, "body": "Can you please have a look in this : <a href=\"https://stackoverflow.com/questions/46088104/adding-external-libraries-deploying-qt-app-mac-osx\" title=\"adding external libraries deploying qt app mac osx\">stackoverflow.com/questions/46088104/&hellip;</a>"}], "tags": [], "owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "is_accepted": true, "score": 2, "last_activity_date": 1454529444, "last_edit_date": 1454529444, "creation_date": 1454528407, "answer_id": 35186162, "question_id": 35185147, "link": "https://stackoverflow.com/questions/35185147/install-name-tool-does-not-add-path-to-library-when-viewed-through-otool/35186162#35186162", "title": "install-name-tool does not add path to library when viewed through otool?", "body": "<p><code>libosg.141.dylib</code> is a dylib that you're including in your built app.</p>\n\n<p>You should actually look in your app's binary... that is:</p>\n\n<pre><code>otool -L /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\n</code></pre>\n\n<p>As for resetting the path of the library to point to \"<code>@executable_path/../Frameworks/libosg.141.dylib</code>\" instead of the dylib in \"<code>/usr/local/lib</code>\", try doing this:</p>\n\n<pre><code>install_name_tool -change libosg.141.dylib @executable_path/../Frameworks/libosg.141.dylib /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\n</code></pre>\n"}], "owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 2, "accepted_answer_id": 35186162, "answer_count": 1, "score": 2, "last_activity_date": 1472652819, "creation_date": 1454525066, "last_edit_date": 1472652819, "question_id": 35185147, "link": "https://stackoverflow.com/questions/35185147/install-name-tool-does-not-add-path-to-library-when-viewed-through-otool", "title": "install-name-tool does not add path to library when viewed through otool?", "body": "<p>I finished my mac app using Xcode and Qt. Now I would like to prepare it for deployment to other macs. Inorder to do that I utilized  macdeployqt.</p>\n\n<p>I just created an app bundle with macdeployqt. However some of the libraries are missing. I attempted to follow [this][1] answer. Turns out I need to copy the missing dylib from my computer to the .app and then run install name tool. I have not gotten to the install-name tool yet as I am confused as to use <code>-id</code> or <code>-change</code> with it especially in my current scenario.  Do I even need to use it ? Here is what I did so far. </p>\n\n<p>Step 1: Running macdeployqt - this is a program that comes with Qt and embeds the necessary requirements of qt into the app.</p>\n\n<pre><code>&gt; /Users/Guest/Qt/5.5/clang_64/bin/macdeployqt project2.app\n</code></pre>\n\n<p>Step 2: I then decided to run otool on the actual generated app binary</p>\n\n<pre><code>&gt; pwd\n/Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS\n&gt; otool -L project2 \n\nproject2:\n    @rpath/libcreatecore_rt.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/QtQuick.framework/Versions/5/QtQuick (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtConcurrent.framework/Versions/5/QtConcurrent (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtSvg.framework/Versions/5/QtSvg (compatibility version 5.5.0, current version 5.5.1)\n    /System/Library/Frameworks/AGL.framework/Versions/A/AGL (compatibility version 1.0.0, current version 1.0.0)\n    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/libosg.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libosgDB.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libosgGA.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libosgUtil.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libosgViewer.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libosgManipulator.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    @executable_path/../Frameworks/libOpenThreads.20.dylib (compatibility version 20.0.0, current version 3.3.0)\n    /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)\n    /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 22.0.0)\n    /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1256.14.0)\n    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)\n    @rpath/libtbb.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbb_debug.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbbmalloc_debug.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbbmalloc_proxy.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbbmalloc_proxy_debug.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbb_preview.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libtbb_preview_debug.dylib (compatibility version 0.0.0, current version 0.0.0)\n    @rpath/libquazip.1.dylib (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../Frameworks/libprotobuf.9.dylib (compatibility version 10.0.0, current version 10.1.0)\n    @rpath/QtQml.framework/Versions/5/QtQml (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtNetwork.framework/Versions/5/QtNetwork (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtWidgets.framework/Versions/5/QtWidgets (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtGui.framework/Versions/5/QtGui (compatibility version 5.5.0, current version 5.5.1)\n    @rpath/QtCore.framework/Versions/5/QtCore (compatibility version 5.5.0, current version 5.5.1)\n    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\n</code></pre>\n\n<p>Step 3:\nHowever I noticed that my project2.app/Contents/Frameworks does not have those libraries inside them. So I decided to copy them manually.</p>\n\n<pre><code>cp /usr/local/lib/libosg.141.dylib              project2.app/Contents/Frameworks/libosg.141.dylib\ncp /usr/local/lib/libosgDB.141.dylib            project2.app/Contents/Frameworks/libosgDB.141.dylib\ncp /usr/local/lib/libosgGA.141.dylib            project2.app/Contents/Frameworks/libosgGA.141.dylib\ncp /usr/local/lib/libosgUtil.141.dylib          project2.app/Contents/Frameworks/libosgUtil.141.dylib\ncp /usr/local/lib/libosgViewer.141.dylib        project2.app/Contents/Frameworks/libosgViewer.141.dylib\ncp /usr/local/lib/libosgManipulator.141.dylib   project2.app/Contents/Frameworks/libosgManipulator.141.dylib\ncp /usr/local/lib/libOpenThreads.20.dylib       project2.app/Contents/Frameworks/libOpenThreads.20.dylib\n</code></pre>\n\n<p>Could you tell me what my next steps should be after copying those files  ?</p>\n\n<p>This is the output that I get when I attempt to run the app on another computer without using install_name_tool</p>\n\n<pre><code>Dyld Error Message:\n  Library not loaded: libosgUtil.141.dylib\n  Referenced from: /Users/one/Desktop/project2.app/Contents/Frameworks/libosgDB.141.dylib\n  Reason: image not found\n\nBinary Images:\n    0x7fff6c436000 -     0x7fff6c46c837  dyld (353.2.1) &lt;65DCCB06-339C-3E25-9702-600A28291D0E&gt; /usr/lib/dyld\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>After some struggling I decided to do the following</p>\n\n<pre><code>install_name_tool -change libosg.141.dylib  @executable_path/../Frameworks/libosg.141.dylib  /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libosgDB.141.dylib  @executable_path/../Frameworks/libosgDB.141.dylib  /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libosgGA.141.dylib    @executable_path/../Frameworks/libosgGA.141.dylib       /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libosgUtil.141.dylib  @executable_path/../Frameworks/libosgUtil.141.dylib     /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libosgViewer.141.dylib       @executable_path/../Frameworks/libosgViewer.141.dylib        /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libosgManipulator.141.dylib  @executable_path/../Frameworks/libosgManipulator.141.dylib   /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\ninstall_name_tool -change libOpenThreads.20.dylib      @executable_path/../Frameworks/libOpenThreads.20.dylib       /Users/Guest/project_XCODE/bin/Release/project2.app/Contents/MacOS/project2\n</code></pre>\n\n<p>That did not seem to solve the problem as when I did this to one of the libraries that I just had added.</p>\n\n<pre><code>otool -L libosgDB.141.dylib \nlibosgDB.141.dylib:\n    @executable_path/../Frameworks/libosgDB.141.dylib (compatibility version 141.0.0, current version 3.5.1)\n    libosgUtil.141.dylib (compatibility version 141.0.0, current version 3.5.1)   &lt;-----!!!Why did this not change!!!!!\n    /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon (compatibility version 2.0.0, current version 157.0.0)\n    /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 22.0.0)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\n    /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)\n    /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL (compatibility version 1.0.0, current version 1.0.0)\n    libosg.141.dylib (compatibility version 141.0.0, current version 3.5.1)     &lt;-----!!!Why did this not change!!!!!\n    libOpenThreads.20.dylib (compatibility version 20.0.0, current version 3.3.0)&lt;-----!!!Why did this not change!!!!!\n    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)\n    /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1256.14.0)\n    /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation (compatibility version 300.0.0, current version 1256.1.0)\n    /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)\n</code></pre>\n\n<p>I am still not getting paths for the libraries <code>libOpenThreads.20.dylib , libosgUtil.141.dylib and libosg.141.dylib</code>  any suggestions would be more than welcome.</p>\n"}, {"tags": ["c++", "qt", "layout"], "answers": [{"comments": [{"owner": {"reputation": 556, "user_id": 5128696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EiqOr_dergs/AAAAAAAAAAI/AAAAAAAAAXc/8WxucMqA-n0/photo.jpg?sz=128", "display_name": "Ivan P.", "link": "https://stackoverflow.com/users/5128696/ivan-p"}, "edited": false, "score": 0, "creation_date": 1606723080, "post_id": 35188011, "comment_id": 115036911, "body": "setMargin is now obsolete and not used. <a href=\"https://doc.qt.io/qt-5/qlayout-obsolete.html\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qlayout-obsolete.html</a>"}], "tags": [], "owner": {"reputation": 955, "user_id": 4416792, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Zhpnk.png?s=128&g=1", "display_name": "Jeet", "link": "https://stackoverflow.com/users/4416792/jeet"}, "is_accepted": true, "score": 6, "last_activity_date": 1538588933, "last_edit_date": 1538588933, "creation_date": 1454534686, "answer_id": 35188011, "question_id": 35185113, "link": "https://stackoverflow.com/questions/35185113/configure-qwidget-to-fill-parent-via-layouts/35188011#35188011", "title": "Configure QWidget to fill parent via layouts", "body": "<p>In your code the <code>QGridLayout l</code> is a local variable. This will die once the constructor code block goes out of scope. So (1) add this <code>QGridLayout l</code> in the class level and remaining of your code unchanged \nOR (2) declare it as a pointer inside the constructor as below. Code comment will explain in detail.</p>\n\n<pre><code>QWidget *p = new QWidget(this);  // first widget\np-&gt;setStyleSheet(\"QWidget { background: green; }\");\nthis-&gt;setCentralWidget(p);\n\nQWidget *c = new QWidget(p);  // second widget\nc-&gt;setStyleSheet(\"QWidget { background: red; }\");\n\n//Central widget is the parent for the grid layout.\n//So this pointer is in the QObject tree and the memory deallocation will be taken care\nQGridLayout *l = new QGridLayout(p); \n//If it is needed, then the below code will hide the green color in the border. \n//l-&gt;setMargin(0);\nl-&gt;addWidget(c, 0, 0, 1, 1);\n//p-&gt;setLayout(&amp;l); //removed. As the parent was set to the grid layout\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uAHWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAHWs.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p><strong>//If it is needed, then the below code will hide the green color in the border.</strong><br>\n  <strong>//l->setMargin(0);</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6985, "favorite_count": 1, "accepted_answer_id": 35188011, "answer_count": 1, "score": 4, "last_activity_date": 1538588933, "creation_date": 1454524956, "last_edit_date": 1454526388, "question_id": 35185113, "link": "https://stackoverflow.com/questions/35185113/configure-qwidget-to-fill-parent-via-layouts", "title": "Configure QWidget to fill parent via layouts", "body": "<p>I'm working on a <code>QMainWindow</code> application and came across the following problem:\nI have a <code>QMainWindow</code> which has a <code>QWidget</code> as <code>centralWidget</code> and this widget in turn has another <code>QWidget</code> as child that should completely fill the first one (see code below).</p>\n\n<p>To achieve this I used layouts. But after placing the second widget into a layout and applying this layout to the first one, the second widget still won't change its size although the first one does (when resizing the main window).</p>\n\n<p>I set the background color of the first widget to green and the one of the second to red, so I would expect the resulting window to be completely red, however I get the following output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q90hW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q90hW.png\" alt=\"output\"></a></p>\n\n<p>What do I have to do in order to make the second widget fill the first one and resize accordingly?</p>\n\n<p><strong>MainWindow:</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QGridLayout&gt;\n#include &lt;QMainWindow&gt;\n#include &lt;QWidget&gt;\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    MainWindow(QWidget *parent = 0) : QMainWindow(parent) {\n\n        QWidget *p = new QWidget(this);  // first widget\n        p-&gt;setStyleSheet(\"QWidget { background: green; }\");\n        this-&gt;setCentralWidget(p);\n\n        QWidget *c = new QWidget(p);  // second widget\n        c-&gt;setStyleSheet(\"QWidget { background: red; }\");\n\n        QGridLayout l;\n        l.addWidget(c, 0, 0, 1, 1);\n        p-&gt;setLayout(&amp;l);\n    }\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n"}, {"tags": ["c++", "derived-class", "virtual-functions", "vtable"], "comments": [{"owner": {"reputation": 6455, "user_id": 2363967, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e456a6a8bd35a0e65c22d202b48ccfa4?s=128&d=identicon&r=PG", "display_name": "Andrew Williamson", "link": "https://stackoverflow.com/users/2363967/andrew-williamson"}, "edited": false, "score": 1, "creation_date": 1454524441, "post_id": 35184880, "comment_id": 58086914, "body": "This depends heavily on the compiler you are using. Some compilers are smart enough to say, &quot;hey, there&#39;s only one class in this entire project that derives from base, so let&#39;s just do away with the vtable&quot;."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 1, "creation_date": 1454524992, "post_id": 35184880, "comment_id": 58087220, "body": "What does this question have to do with the Strategy pattern?"}, {"owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454534779, "post_id": 35184880, "comment_id": 58093233, "body": "@ChristianHackl Sorry, you are right. In any case it would be a &quot;template method&quot; pattern. And you are right again, the question isn&#39;t a &quot;design patterns&quot;-related question (although the pattern is used here as the context of the problem)"}], "answers": [{"tags": [], "owner": {"reputation": 11532, "user_id": 5129715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/320498457784a3110f3e256745a9a927?s=128&d=identicon&r=PG&f=1", "display_name": "mksteve", "link": "https://stackoverflow.com/users/5129715/mksteve"}, "is_accepted": false, "score": 1, "last_activity_date": 1454525011, "creation_date": 1454525011, "answer_id": 35185131, "question_id": 35184880, "link": "https://stackoverflow.com/questions/35184880/c-template-method-pattern-using-directly-the-derived-type/35185131#35185131", "title": "C++: Template method pattern using directly the derived type", "body": "<p>vtable is not necessarily slower.</p>\n\n<p>For example on x86 in a unix shared object, position independent code has been produced (gcc3, gcc4) using a hack to load ebx with the current eip.  This value was used to find a jump table for any static functions.  Calling a dynamic function could be performed by querying the <code>this</code> pointer directly, and was faster (if no static functions were called in a given function).</p>\n\n<p>The compiler does know the concrete type, and is able to call directly the function, but may choose to find the function virtually because :-</p>\n\n<p>a) it may be faster.</p>\n\n<p>b) it simplifies the amount of code generation cases.</p>\n"}], "owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454534793, "creation_date": 1454524239, "last_edit_date": 1454534793, "question_id": 35184880, "link": "https://stackoverflow.com/questions/35184880/c-template-method-pattern-using-directly-the-derived-type", "title": "C++: Template method pattern using directly the derived type", "body": "<p>Suppose that situation:</p>\n\n<pre><code>struct base\n{\n    void method()\n    {\n        requisites();\n\n        do_it();\n    }\n\n    virtual void requisites() const = 0;\n    void do_it() { /* do it */ }\n};\n\nstruct derived : base\n{\n    void requisites() const\n    {\n        if (!my_requisites)\n           throw something;\n    }\n}\n\nint main()\n{\n    derived d;\n    d.method();\n\n    return 0;\n}\n</code></pre>\n\n<p>In that case, where I'm not using pointers or references, but directly instances of the derived type, does the compiler need to do a run-time query against the vtable to select the correct override of <code>requisites</code> (the one of <code>derived</code>)? Or is that kind of behaviour as efficent as using no virtual functions? In other words, does the compiler know in compilation time that we are using <code>derived::requisites()</code>?</p>\n"}, {"tags": ["c++", "gdb", "valgrind", "breakpoints"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454523882, "post_id": 35184657, "comment_id": 58086592, "body": "I&#39;m afraid we cannot give you a concise answer with that narrow context of information. At least show the <code>solveGroupCacheFriendlySetup()</code> and where you set your breakpoint."}, {"owner": {"reputation": 21, "user_id": 4109846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec983ee97ec316c97bbae940a9a7532?s=128&d=identicon&r=PG&f=1", "display_name": "KodoCoder", "link": "https://stackoverflow.com/users/4109846/kodocoder"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454525074, "post_id": 35184657, "comment_id": 58087265, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I added the code, however, as I mentioned in my note, I do not think that&#39;s where the error lies.  According tor valgrind, I have improperly initialized the hinges that connect the shapes in the physics simulator; it&#39;s just that these values get used in solveGroupCacheFriendlySetup().  I&#39;m mostly confused by how to interpret lines like &quot;(in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Mo&zwnj;&#8203;deling/evodevo/c++/a&zwnj;&#8203;pp)&quot;  portion of the valgrind message."}, {"owner": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454527581, "post_id": 35184657, "comment_id": 58088824, "body": "My guess is you&#39;re linking to a static release lib, which simply does not break, except if you step into assembly. If you can link to the debug version that includes debug info, at least on a Windows platform this allows the debugger to break into the function."}, {"owner": {"reputation": 21, "user_id": 4109846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec983ee97ec316c97bbae940a9a7532?s=128&d=identicon&r=PG&f=1", "display_name": "KodoCoder", "link": "https://stackoverflow.com/users/4109846/kodocoder"}, "reply_to_user": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454620114, "post_id": 35184657, "comment_id": 58138465, "body": "Thanks @StarShine, ensuring I linked to the dynamic libraries was part of the solution."}, {"owner": {"reputation": 21, "user_id": 4109846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec983ee97ec316c97bbae940a9a7532?s=128&d=identicon&r=PG&f=1", "display_name": "KodoCoder", "link": "https://stackoverflow.com/users/4109846/kodocoder"}, "reply_to_user": {"reputation": 1628, "user_id": 1230621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a752347505880eb6aca2316744e7f474?s=128&d=identicon&r=PG", "display_name": "StarShine", "link": "https://stackoverflow.com/users/1230621/starshine"}, "edited": false, "score": 0, "creation_date": 1454621086, "post_id": 35184657, "comment_id": 58139004, "body": "@StarShine  If you post your comment as an answer, I&#39;ll happily accept it to give you proper credit.  While user phd helped, I knew that function already; and your input was the real game-changer."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4109846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec983ee97ec316c97bbae940a9a7532?s=128&d=identicon&r=PG&f=1", "display_name": "KodoCoder", "link": "https://stackoverflow.com/users/4109846/kodocoder"}, "edited": false, "score": 0, "creation_date": 1454620061, "post_id": 35188637, "comment_id": 58138431, "body": "This, plus ensuring that I linked to dynamic libraries did the trick.  Thanks!"}], "tags": [], "owner": {"reputation": 3079, "user_id": 3035584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3f84eebae0cfccb50e3be86dad24f1?s=128&d=identicon&r=PG&f=1", "display_name": "phd", "link": "https://stackoverflow.com/users/3035584/phd"}, "is_accepted": true, "score": 1, "last_activity_date": 1454536964, "creation_date": 1454536964, "answer_id": 35188637, "question_id": 35184657, "link": "https://stackoverflow.com/questions/35184657/gdb-breakpoint-not-stopping-program-breakpoint-in-bullet-physics-library/35188637#35188637", "title": "GDB breakpoint not stopping program (Breakpoint in Bullet Physics library)", "body": "<p>If you want to debug your program when running it under valgrind,\nthen you can do the following:</p>\n\n<p>valgrind --vgdb-error=1 .... rest of the args as usual</p>\n\n<p>Then on first error, valgrind will stop, and will wait for gdb to connect.\nYou can then use gdb commands and/or valgrind specific features to \ninvestigate the problem. You can continue execution using the gdb continue\ncommand, to stop on the next error.</p>\n\n<p>See <a href=\"http://www.valgrind.org/docs/manual/manual-core-adv.html#manual-core-adv.gdbserver\" rel=\"nofollow\">http://www.valgrind.org/docs/manual/manual-core-adv.html#manual-core-adv.gdbserver</a> for more information.</p>\n"}], "owner": {"reputation": 21, "user_id": 4109846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec983ee97ec316c97bbae940a9a7532?s=128&d=identicon&r=PG&f=1", "display_name": "KodoCoder", "link": "https://stackoverflow.com/users/4109846/kodocoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 35188637, "answer_count": 1, "score": 1, "last_activity_date": 1454536964, "creation_date": 1454523575, "last_edit_date": 1454525272, "question_id": 35184657, "link": "https://stackoverflow.com/questions/35184657/gdb-breakpoint-not-stopping-program-breakpoint-in-bullet-physics-library", "title": "GDB breakpoint not stopping program (Breakpoint in Bullet Physics library)", "body": "<p>I'm currently debugging a C/C++ program I wrote that uses Bullet Physics.  I'm working on Ubuntu 14.04.3, using g++ 4.8.4, valgrind 3.10.1, and Bullet Physics 2.82.</p>\n\n<p>My compiling command (for debugging) is:</p>\n\n<pre><code>   g++ -fno-inline -O0 -g -Wall -Wl,-rpath=./more_libs/lib,--enable-new-dtags -std=gnu++11 -I../bullet-2.82-r2704/Demos/OpenGL/ -I./more_libs/include/ -I../bullet-2.82-r2704/src/ ./main.cpp -L../bullet-2.82-r2704/Glut/ -L./more_libs/lib/ -L./more_libs/mesa -L../bullet-build/Demos/OpenGL/ -L../more_libs/lib/x86_64-linux-gnu -L../bullet-build/src/BulletDynamics/ -L../bullet-build/src/BulletCollision/ -L../bullet-build/src/LinearMath/ -lOpenGLSupport -lGL -lGLU -lglut -lBulletDynamics -lBulletCollision -lLinearMath -lXi -lXxf86vm -lX11 -o ./app\n</code></pre>\n\n<p>(The difference between debugging and normal is the -O0 and -fno-inline options.  I'm adding library paths because I need this program to be portable to a cluster I don't have super-user privileges on.)</p>\n\n<p>Using Valgrind, I have found a ton of similar Uninitialized Value errors that look like this:</p>\n\n<pre><code>    Conditional jump or move depends on uninitialised value(s)\n    at 0x4608C1: btSequentialImpulseConstraintSolver::solveGroupCacheFriendlySetup(btCollisionObject**, int, btPersistentManifold**, int, btTypedConstraint**, int, btContactSolverInfo const&amp;, btIDebugDraw*) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x4591FC: btSequentialImpulseConstraintSolver::solveGroup(btCollisionObject**, int, btPersistentManifold**, int, btTypedConstraint**, int, btContactSolverInfo const&amp;, btIDebugDraw*, btDispatcher*) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x46A3FF: btDiscreteDynamicsWorld::solveConstraints(btContactSolverInfo&amp;) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x467584: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x465459: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x4088F4: NoiseWorld::clientMoveAndDisplay() (NoiseWorld.cpp:288)\n    by 0x409A28: main (main.cpp:46)\n    Uninitialised value was created by a heap allocation\n    at 0x4C2ABBD: malloc (vg_replace_malloc.c:296)\n    by 0x4EE043: btAlignedAllocDefault(unsigned long, int) (in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\n    by 0x40BC09: btHingeConstraint::operator new(unsigned long) (btHingeConstraint.h:103)\n    by 0x40CF73: NoiseWorld::CreateHinge(int, int, int, float, float, float, float, float, float, float, float, bool) (NoiseWorld.h:332)\n    by 0x40807C: NoiseWorld::initPhysics() (NoiseWorld.cpp:193)\n    by 0x4099F4: main (main.cpp:41)\n</code></pre>\n\n<p>I've tried to look what's going on at solveGroupCacheFriendlySetup(), but when I set a breakpoint there and run GDB, the program doesn't stop---it just runs to completion.  I've set the breakpoint by function and by memory (which is constant across valgrind checks), but none of them are getting found/used.</p>\n\n<p>So, here's the question: How can I look at what's going on in solveGroupCacheFriendlySetup() during the run of program?  From there, I think I'll be able to figure out what was left uninitialized.</p>\n\n<p>Sorry in advance if this is a simple question, but I haven't been able to find the answer for the past two days.  I'm a novice programmer and I've taken on a big project, so I'm guessing there's something simple I'm doing wrong, but I don't know exactly to what ask at this point.</p>\n\n<p><strong>EDIT:</strong>\nHere is the function I need to look at while running, as per \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6's suggestion.  The online documentation for this function can be found here: <a href=\"http://bulletphysics.org/Bullet/BulletFull/classbtSequentialImpulseConstraintSolver.html\" rel=\"nofollow\">http://bulletphysics.org/Bullet/BulletFull/classbtSequentialImpulseConstraintSolver.html</a></p>\n\n<p>Note: This portion of the code was not written by me, and I'm not 100% what it does.  I'm pretty sure the error lies elsewhere; that I'm not setting up the physics-simulator environment well enough.</p>\n\n<p>Also, I do not know what the valgrind message \"(in /home/josh/Documents/projects/evodevo_model/noise/EvoDevo-Modeling/evodevo/c++/app)\" means in terms of trying to add a breakpoint that GDB can find when running the program.</p>\n\n<pre><code>btScalar btSequentialImpulseConstraintSolver::solveGroupCacheFriendlySetup(btCollisionObject** bodies, int numBodies, btPersistentManifold** manifoldPtr, int numManifolds,btTypedConstraint** constraints,int numConstraints,const btContactSolverInfo&amp; infoGlobal,btIDebugDraw* debugDrawer)\n{\n    m_fixedBodyId = -1;\n    BT_PROFILE(\"solveGroupCacheFriendlySetup\");\n    (void)debugDrawer;\n\n    m_maxOverrideNumSolverIterations = 0;\n\n#ifdef BT_ADDITIONAL_DEBUG\n     //make sure that dynamic bodies exist for all (enabled) constraints\n    for (int i=0;i&lt;numConstraints;i++)\n    {\n        btTypedConstraint* constraint = constraints[i];\n        if (constraint-&gt;isEnabled())\n        {\n            if (!constraint-&gt;getRigidBodyA().isStaticOrKinematicObject())\n            {\n                bool found=false;\n                for (int b=0;b&lt;numBodies;b++)\n                {\n\n                    if (&amp;constraint-&gt;getRigidBodyA()==bodies[b])\n                    {\n                        found = true;\n                        break;\n                    }\n                }\n                btAssert(found);\n            }\n            if (!constraint-&gt;getRigidBodyB().isStaticOrKinematicObject())\n            {\n                bool found=false;\n                for (int b=0;b&lt;numBodies;b++)\n                {\n                    if (&amp;constraint-&gt;getRigidBodyB()==bodies[b])\n                    {\n                        found = true;\n                        break;\n                    }\n                }\n                btAssert(found);\n            }\n        }\n    }\n    //make sure that dynamic bodies exist for all contact manifolds\n    for (int i=0;i&lt;numManifolds;i++)\n    {\n        if (!manifoldPtr[i]-&gt;getBody0()-&gt;isStaticOrKinematicObject())\n        {\n            bool found=false;\n            for (int b=0;b&lt;numBodies;b++)\n            {\n\n                if (manifoldPtr[i]-&gt;getBody0()==bodies[b])\n                {\n                    found = true;\n                    break;\n                }\n            }\n            btAssert(found);\n        }\n        if (!manifoldPtr[i]-&gt;getBody1()-&gt;isStaticOrKinematicObject())\n        {\n            bool found=false;\n            for (int b=0;b&lt;numBodies;b++)\n            {\n                if (manifoldPtr[i]-&gt;getBody1()==bodies[b])\n                {\n                    found = true;\n                    break;\n                }\n            }\n            btAssert(found);\n        }\n    }\n#endif //BT_ADDITIONAL_DEBUG\n\n\n    for (int i = 0; i &lt; numBodies; i++)\n    {\n        bodies[i]-&gt;setCompanionId(-1);\n    }\n\n\n    m_tmpSolverBodyPool.reserve(numBodies+1);\n    m_tmpSolverBodyPool.resize(0);\n\n    //btSolverBody&amp; fixedBody = m_tmpSolverBodyPool.expand();\n    //initSolverBody(&amp;fixedBody,0);\n\n    //convert all bodies\n\n    for (int i=0;i&lt;numBodies;i++)\n    {\n        int bodyId = getOrInitSolverBody(*bodies[i],infoGlobal.m_timeStep);\n\n        btRigidBody* body = btRigidBody::upcast(bodies[i]);\n        if (body &amp;&amp; body-&gt;getInvMass())\n        {\n            btSolverBody&amp; solverBody = m_tmpSolverBodyPool[bodyId];\n            btVector3 gyroForce (0,0,0);\n            if (body-&gt;getFlags()&amp;BT_ENABLE_GYROPSCOPIC_FORCE)\n            {\n                gyroForce = body-&gt;computeGyroscopicForce(infoGlobal.m_maxGyroscopicForce);\n                solverBody.m_externalTorqueImpulse -= gyroForce*body-&gt;getInvInertiaTensorWorld()*infoGlobal.m_timeStep;\n            }\n        }\n    }\n\n    if (1)\n    {\n        int j;\n        for (j=0;j&lt;numConstraints;j++)\n        {\n            btTypedConstraint* constraint = constraints[j];\n            constraint-&gt;buildJacobian();\n            constraint-&gt;internalSetAppliedImpulse(0.0f);\n        }\n    }\n\n    //btRigidBody* rb0=0,*rb1=0;\n\n    //if (1)\n    {\n        {\n\n            int totalNumRows = 0;\n            int i;\n\n            m_tmpConstraintSizesPool.resizeNoInitialize(numConstraints);\n            //calculate the total number of contraint rows\n            for (i=0;i&lt;numConstraints;i++)\n            {\n                btTypedConstraint::btConstraintInfo1&amp; info1 = m_tmpConstraintSizesPool[i];\n                btJointFeedback* fb = constraints[i]-&gt;getJointFeedback();\n                if (fb)\n                {\n                    fb-&gt;m_appliedForceBodyA.setZero();\n                    fb-&gt;m_appliedTorqueBodyA.setZero();\n                    fb-&gt;m_appliedForceBodyB.setZero();\n                    fb-&gt;m_appliedTorqueBodyB.setZero();\n                }\n\n                if (constraints[i]-&gt;isEnabled())\n                {\n                }\n                if (constraints[i]-&gt;isEnabled())\n                {\n                    constraints[i]-&gt;getInfo1(&amp;info1);\n                } else\n                {\n                    info1.m_numConstraintRows = 0;\n                    info1.nub = 0;\n                }\n                totalNumRows += info1.m_numConstraintRows;\n            }\n            m_tmpSolverNonContactConstraintPool.resizeNoInitialize(totalNumRows);\n\n\n            ///setup the btSolverConstraints\n            int currentRow = 0;\n\n            for (i=0;i&lt;numConstraints;i++)\n            {\n                const btTypedConstraint::btConstraintInfo1&amp; info1 = m_tmpConstraintSizesPool[i];\n\n                if (info1.m_numConstraintRows)\n                {\n                    btAssert(currentRow&lt;totalNumRows);\n\n                    btSolverConstraint* currentConstraintRow = &amp;m_tmpSolverNonContactConstraintPool[currentRow];\n                    btTypedConstraint* constraint = constraints[i];\n                    btRigidBody&amp; rbA = constraint-&gt;getRigidBodyA();\n                    btRigidBody&amp; rbB = constraint-&gt;getRigidBodyB();\n\n                    int solverBodyIdA = getOrInitSolverBody(rbA,infoGlobal.m_timeStep);\n                    int solverBodyIdB = getOrInitSolverBody(rbB,infoGlobal.m_timeStep);\n\n                    btSolverBody* bodyAPtr = &amp;m_tmpSolverBodyPool[solverBodyIdA];\n                    btSolverBody* bodyBPtr = &amp;m_tmpSolverBodyPool[solverBodyIdB];\n\n\n\n\n                    int overrideNumSolverIterations = constraint-&gt;getOverrideNumSolverIterations() &gt; 0 ? constraint-&gt;getOverrideNumSolverIterations() : infoGlobal.m_numIterations;\n                    if (overrideNumSolverIterations&gt;m_maxOverrideNumSolverIterations)\n                        m_maxOverrideNumSolverIterations = overrideNumSolverIterations;\n\n\n                    int j;\n                    for ( j=0;j&lt;info1.m_numConstraintRows;j++)\n                    {\n                        memset(&amp;currentConstraintRow[j],0,sizeof(btSolverConstraint));\n                        currentConstraintRow[j].m_lowerLimit = -SIMD_INFINITY;\n                        currentConstraintRow[j].m_upperLimit = SIMD_INFINITY;\n                        currentConstraintRow[j].m_appliedImpulse = 0.f;\n                        currentConstraintRow[j].m_appliedPushImpulse = 0.f;\n                        currentConstraintRow[j].m_solverBodyIdA = solverBodyIdA;\n                        currentConstraintRow[j].m_solverBodyIdB = solverBodyIdB;\n                        currentConstraintRow[j].m_overrideNumSolverIterations = overrideNumSolverIterations;\n                    }\n\n                    bodyAPtr-&gt;internalGetDeltaLinearVelocity().setValue(0.f,0.f,0.f);\n                    bodyAPtr-&gt;internalGetDeltaAngularVelocity().setValue(0.f,0.f,0.f);\n                    bodyAPtr-&gt;internalGetPushVelocity().setValue(0.f,0.f,0.f);\n                    bodyAPtr-&gt;internalGetTurnVelocity().setValue(0.f,0.f,0.f);\n                    bodyBPtr-&gt;internalGetDeltaLinearVelocity().setValue(0.f,0.f,0.f);\n                    bodyBPtr-&gt;internalGetDeltaAngularVelocity().setValue(0.f,0.f,0.f);\n                    bodyBPtr-&gt;internalGetPushVelocity().setValue(0.f,0.f,0.f);\n                    bodyBPtr-&gt;internalGetTurnVelocity().setValue(0.f,0.f,0.f);\n\n\n                    btTypedConstraint::btConstraintInfo2 info2;\n                    info2.fps = 1.f/infoGlobal.m_timeStep;\n                    info2.erp = infoGlobal.m_erp;\n                    info2.m_J1linearAxis = currentConstraintRow-&gt;m_contactNormal1;\n                    info2.m_J1angularAxis = currentConstraintRow-&gt;m_relpos1CrossNormal;\n                    info2.m_J2linearAxis = currentConstraintRow-&gt;m_contactNormal2;\n                    info2.m_J2angularAxis = currentConstraintRow-&gt;m_relpos2CrossNormal;\n                    info2.rowskip = sizeof(btSolverConstraint)/sizeof(btScalar);//check this\n                    ///the size of btSolverConstraint needs be a multiple of btScalar\n                    btAssert(info2.rowskip*sizeof(btScalar)== sizeof(btSolverConstraint));\n                    info2.m_constraintError = &amp;currentConstraintRow-&gt;m_rhs;\n                    currentConstraintRow-&gt;m_cfm = infoGlobal.m_globalCfm;\n                    info2.m_damping = infoGlobal.m_damping;\n                    info2.cfm = &amp;currentConstraintRow-&gt;m_cfm;\n                    info2.m_lowerLimit = &amp;currentConstraintRow-&gt;m_lowerLimit;\n                    info2.m_upperLimit = &amp;currentConstraintRow-&gt;m_upperLimit;\n                    info2.m_numIterations = infoGlobal.m_numIterations;\n                    constraints[i]-&gt;getInfo2(&amp;info2);\n\n                    ///finalize the constraint setup\n                    for ( j=0;j&lt;info1.m_numConstraintRows;j++)\n                    {\n                        btSolverConstraint&amp; solverConstraint = currentConstraintRow[j];\n\n                        if (solverConstraint.m_upperLimit&gt;=constraints[i]-&gt;getBreakingImpulseThreshold())\n                        {\n                            solverConstraint.m_upperLimit = constraints[i]-&gt;getBreakingImpulseThreshold();\n                        }\n\n                        if (solverConstraint.m_lowerLimit&lt;=-constraints[i]-&gt;getBreakingImpulseThreshold())\n                        {\n                            solverConstraint.m_lowerLimit = -constraints[i]-&gt;getBreakingImpulseThreshold();\n                        }\n\n                        solverConstraint.m_originalContactPoint = constraint;\n\n                        {\n                            const btVector3&amp; ftorqueAxis1 = solverConstraint.m_relpos1CrossNormal;\n                            solverConstraint.m_angularComponentA = constraint-&gt;getRigidBodyA().getInvInertiaTensorWorld()*ftorqueAxis1*constraint-&gt;getRigidBodyA().getAngularFactor();\n                        }\n                        {\n                            const btVector3&amp; ftorqueAxis2 = solverConstraint.m_relpos2CrossNormal;\n                            solverConstraint.m_angularComponentB = constraint-&gt;getRigidBodyB().getInvInertiaTensorWorld()*ftorqueAxis2*constraint-&gt;getRigidBodyB().getAngularFactor();\n                        }\n\n                        {\n                            btVector3 iMJlA = solverConstraint.m_contactNormal1*rbA.getInvMass();\n                            btVector3 iMJaA = rbA.getInvInertiaTensorWorld()*solverConstraint.m_relpos1CrossNormal;\n                            btVector3 iMJlB = solverConstraint.m_contactNormal2*rbB.getInvMass();//sign of normal?\n                            btVector3 iMJaB = rbB.getInvInertiaTensorWorld()*solverConstraint.m_relpos2CrossNormal;\n\n                            btScalar sum = iMJlA.dot(solverConstraint.m_contactNormal1);\n                            sum += iMJaA.dot(solverConstraint.m_relpos1CrossNormal);\n                            sum += iMJlB.dot(solverConstraint.m_contactNormal2);\n                            sum += iMJaB.dot(solverConstraint.m_relpos2CrossNormal);\n                            btScalar fsum = btFabs(sum);\n                            btAssert(fsum &gt; SIMD_EPSILON);\n                            solverConstraint.m_jacDiagABInv = fsum&gt;SIMD_EPSILON?btScalar(1.)/sum : 0.f;\n                        }\n\n\n\n                        {\n                            btScalar rel_vel;\n                            btVector3 externalForceImpulseA = bodyAPtr-&gt;m_originalBody ? bodyAPtr-&gt;m_externalForceImpulse : btVector3(0,0,0);\n                            btVector3 externalTorqueImpulseA = bodyAPtr-&gt;m_originalBody ? bodyAPtr-&gt;m_externalTorqueImpulse : btVector3(0,0,0);\n\n                            btVector3 externalForceImpulseB = bodyBPtr-&gt;m_originalBody ? bodyBPtr-&gt;m_externalForceImpulse : btVector3(0,0,0);\n                            btVector3 externalTorqueImpulseB = bodyBPtr-&gt;m_originalBody ?bodyBPtr-&gt;m_externalTorqueImpulse : btVector3(0,0,0);\n\n                            btScalar vel1Dotn = solverConstraint.m_contactNormal1.dot(rbA.getLinearVelocity()+externalForceImpulseA) \n                                                + solverConstraint.m_relpos1CrossNormal.dot(rbA.getAngularVelocity()+externalTorqueImpulseA);\n\n                            btScalar vel2Dotn = solverConstraint.m_contactNormal2.dot(rbB.getLinearVelocity()+externalForceImpulseB) \n                                                                + solverConstraint.m_relpos2CrossNormal.dot(rbB.getAngularVelocity()+externalTorqueImpulseB);\n\n                            rel_vel = vel1Dotn+vel2Dotn;\n                            btScalar restitution = 0.f;\n                            btScalar positionalError = solverConstraint.m_rhs;//already filled in by getConstraintInfo2\n                            btScalar    velocityError = restitution - rel_vel * info2.m_damping;\n                            btScalar    penetrationImpulse = positionalError*solverConstraint.m_jacDiagABInv;\n                            btScalar    velocityImpulse = velocityError *solverConstraint.m_jacDiagABInv;\n                            solverConstraint.m_rhs = penetrationImpulse+velocityImpulse;\n                            solverConstraint.m_appliedImpulse = 0.f;\n\n\n                        }\n                    }\n                }\n                currentRow+=m_tmpConstraintSizesPool[i].m_numConstraintRows;\n            }\n        }\n\n        convertContacts(manifoldPtr,numManifolds,infoGlobal);\n\n    }\n\n//  btContactSolverInfo info = infoGlobal;\n\n\n    int numNonContactPool = m_tmpSolverNonContactConstraintPool.size();\n    int numConstraintPool = m_tmpSolverContactConstraintPool.size();\n    int numFrictionPool = m_tmpSolverContactFrictionConstraintPool.size();\n\n    ///@todo: use stack allocator for such temporarily memory, same for solver bodies/constraints\n    m_orderNonContactConstraintPool.resizeNoInitialize(numNonContactPool);\n    if ((infoGlobal.m_solverMode &amp; SOLVER_USE_2_FRICTION_DIRECTIONS))\n        m_orderTmpConstraintPool.resizeNoInitialize(numConstraintPool*2);\n    else\n        m_orderTmpConstraintPool.resizeNoInitialize(numConstraintPool);\n\n    m_orderFrictionConstraintPool.resizeNoInitialize(numFrictionPool);\n    {\n        int i;\n        for (i=0;i&lt;numNonContactPool;i++)\n        {\n            m_orderNonContactConstraintPool[i] = i;\n        }\n        for (i=0;i&lt;numConstraintPool;i++)\n        {\n            m_orderTmpConstraintPool[i] = i;\n        }\n        for (i=0;i&lt;numFrictionPool;i++)\n        {\n            m_orderFrictionConstraintPool[i] = i;\n        }\n    }\n\n    return 0.f;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "dynamic-programming"], "comments": [{"owner": {"reputation": 2175, "user_id": 3045171, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/le4e9.jpg?s=128&g=1", "display_name": "shapiro yaacov", "link": "https://stackoverflow.com/users/3045171/shapiro-yaacov"}, "edited": false, "score": 1, "creation_date": 1454523572, "post_id": 35184625, "comment_id": 58086426, "body": "When you say: <i>1 cent: n number of possible combinations</i> do you mean how many combinations use the 1 cent coin? If so, add an array of counters and every time you get to <code>table[i][j] = x + y;</code> you&#39;ll need to update those counters"}, {"owner": {"reputation": 59, "user_id": 4453433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/33gfT.jpg?s=128&g=1", "display_name": "KoKsMAN", "link": "https://stackoverflow.com/users/4453433/koksman"}, "reply_to_user": {"reputation": 2175, "user_id": 3045171, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/le4e9.jpg?s=128&g=1", "display_name": "shapiro yaacov", "link": "https://stackoverflow.com/users/3045171/shapiro-yaacov"}, "edited": false, "score": 0, "creation_date": 1454523713, "post_id": 35184625, "comment_id": 58086503, "body": "Yes, I need it to display information how many combinations can be for each coin. For example 1 cent: 1251251 combinations 2 cents: 432423 combinations etc."}, {"owner": {"reputation": 59, "user_id": 4453433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/33gfT.jpg?s=128&g=1", "display_name": "KoKsMAN", "link": "https://stackoverflow.com/users/4453433/koksman"}, "reply_to_user": {"reputation": 2175, "user_id": 3045171, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/le4e9.jpg?s=128&g=1", "display_name": "shapiro yaacov", "link": "https://stackoverflow.com/users/3045171/shapiro-yaacov"}, "edited": false, "score": 0, "creation_date": 1454524171, "post_id": 35184625, "comment_id": 58086762, "body": "Should counter array and coins array be of equal size  ? Each counter corresponding to one of the coins ?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454524351, "post_id": 35184625, "comment_id": 58086858, "body": "@KoKsMAN If you have <b>working code</b> and want to get answers how to improve it ask at <a href=\"http://codereview.stackexchange.com/\">SE Code Review</a> please."}, {"owner": {"reputation": 1502, "user_id": 1014587, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/990x8.jpg?s=128&g=1", "display_name": "Mast", "link": "https://stackoverflow.com/users/1014587/mast"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1454524646, "post_id": 35184625, "comment_id": 58087031, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 He&#39;s looking for a solution for a very specific problem, so it&#39;s on-topic here. No point in moving it to <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}, {"owner": {"reputation": 59, "user_id": 4453433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/33gfT.jpg?s=128&g=1", "display_name": "KoKsMAN", "link": "https://stackoverflow.com/users/4453433/koksman"}, "reply_to_user": {"reputation": 2175, "user_id": 3045171, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/le4e9.jpg?s=128&g=1", "display_name": "shapiro yaacov", "link": "https://stackoverflow.com/users/3045171/shapiro-yaacov"}, "edited": false, "score": 0, "creation_date": 1455805791, "post_id": 35184625, "comment_id": 58661766, "body": "@shapiro yaacov Is there any chance, you could provide me with a code snippet of how would that work ? I have added following counters array     <code>int counter_array[] = { 0, 0, 0, 0, 0, 0, 0, 0 }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4759, "user_id": 2309068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4C5d.jpg?s=128&g=1", "display_name": "Clement Amarnath", "link": "https://stackoverflow.com/users/2309068/clement-amarnath"}, "is_accepted": false, "score": 0, "last_activity_date": 1454574321, "creation_date": 1454574321, "answer_id": 35195921, "question_id": 35184625, "link": "https://stackoverflow.com/questions/35184625/all-possible-combinations-of-coins/35195921#35195921", "title": "All possible combinations of coins", "body": "<p><strong>Greedy Algorithm Approach</strong></p>\n\n<p>Have this denominations in an int array say, int den[] = [1 , 2, 5, 10, 20, 50, 100, 200]</p>\n\n<p>Iterate over this array</p>\n\n<p>For each iteration do the following</p>\n\n<p>Take the element in the denominations array </p>\n\n<p>Divide the change to be allotted number by the element in denominations array number</p>\n\n<p>If the change allotted number is perfectly divisible by the number in denomination array then you are done with the change for that number.</p>\n\n<p>If the number is not perfectly divisible then check for the remainder and do the same iteration with other number </p>\n\n<p>Exit the inner iteration once you get the value equal to the change number</p>\n\n<p>Do the same for the next denomination available in our denomination array.</p>\n\n<hr>\n\n<pre><code>Explained with example\nden = [1 , 2, 5, 10, 20, 50, 100, 200]\nChange to be alloted : 270, let take this as x\nand y be the temporary variable\nChange map z[coin denomination, count of coins]\n\nint y, z[];\nFirst iteration : \nden = 1\nx = 270\ny = 270/1;\nif x is equal to y*den\n then z[den, y] // z[1, 270]\nIteration completed\n\nSecond Iteration:\nden = 2\nx = 270\ny = 270/2;\nif x is equal to y*den\n then z[den , y] // [2, 135]\nIteration completed\n\nLets take a odd number\nx = 217 and den = 20\ny= 217/20;\nnow x is not equal to y*den\nthen update z[den, y] // [20, 10]\nfind new x = x - den*y = 17\nx=17 and identify the next change value by greedy it would be 10\nden = 10\ny = 17/10 \nnow x is not equal to y*den\nthen update z[den, y] // [10, 1]\nfind new x = x - den*y = 7\n\nthen do the same and your map would be having following entries\n[20, 10]\n[10, 1]\n[5, 1]\n[2, 1]\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4453433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/33gfT.jpg?s=128&g=1", "display_name": "KoKsMAN", "link": "https://stackoverflow.com/users/4453433/koksman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 934, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1454574321, "creation_date": 1454523479, "question_id": 35184625, "link": "https://stackoverflow.com/questions/35184625/all-possible-combinations-of-coins", "title": "All possible combinations of coins", "body": "<p>I need to write a program which displays all possible change combinations given an array of denominations [1 , 2, 5, 10, 20, 50, 100, 200] // 1 = 1 cent</p>\n\n<p>Value to make the change from = 300</p>\n\n<p>I'm basing my code on the solution from this site <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/\" rel=\"nofollow\">http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/</a></p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\nint count( int S[], int m, int n )\n{\n   int i, j, x, y;\n\n   // We need n+1 rows as the table is consturcted in bottom up manner using \n   // the base case 0 value case (n = 0)\n   int table[n+1][m];\n\n   // Fill the enteries for 0 value case (n = 0)\n   for (i=0; i&lt;m; i++)\n      table[0][i] = 1;\n\n   // Fill rest of the table enteries in bottom up manner  \n   for (i = 1; i &lt; n+1; i++)\n   {\n       for (j = 0; j &lt; m; j++)\n       {\n           // Count of solutions including S[j]\n           x = (i-S[j] &gt;= 0)? table[i - S[j]][j]: 0;\n\n           // Count of solutions excluding S[j]\n           y = (j &gt;= 1)? table[i][j-1]: 0;\n\n           // total count\n           table[i][j] = x + y;\n       }\n   }\n   return table[n][m-1];\n}\n\n// Driver program to test above function\nint main()\n{\n   int arr[] = {1, 2, 5, 10, 20, 50, 100, 200}; //coins array\n   int m = sizeof(arr)/sizeof(arr[0]);\n   int n = 300; //value to make change from\n   printf(\" %d \", count(arr, m, n));\n   return 0;\n}\n</code></pre>\n\n<p>The program runs fine. It displays the number of all possible combinations, but I need it to be more advanced. The way I need it to work is to display the result in following fashion:</p>\n\n<p>1 cent: n number of possible combinations.</p>\n\n<p>2 cents: </p>\n\n<p>5 cents: </p>\n\n<p>and so on...</p>\n\n<p>How can I modify the code to achieve that ?</p>\n"}, {"tags": ["c++", "gcc"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 2, "creation_date": 1454523389, "post_id": 35184571, "comment_id": 58086306, "body": "You also removed all the necessary parts that are needed to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, in order to be able to answer the question."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454523476, "post_id": 35184571, "comment_id": 58086360, "body": "How can we know unless seeing where <code>Copy_3DN</code> actually occurs?"}, {"owner": {"reputation": 1073, "user_id": 1324833, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90a0ee40beee8eb81ff9b1e7ef512aa4?s=128&d=identicon&r=PG", "display_name": "marcp", "link": "https://stackoverflow.com/users/1324833/marcp"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454525872, "post_id": 35184571, "comment_id": 58087740, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Copy_3DN is defined in a library file. There&#39;s no code."}, {"owner": {"reputation": 1073, "user_id": 1324833, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90a0ee40beee8eb81ff9b1e7ef512aa4?s=128&d=identicon&r=PG", "display_name": "marcp", "link": "https://stackoverflow.com/users/1324833/marcp"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1454527330, "post_id": 35184571, "comment_id": 58088645, "body": "@SamVarshavchik I&#39;ve rejigged it above, so that it is in fact a complete program, and provided a little more background. The behavior is the same."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1454539405, "post_id": 35184571, "comment_id": 58095588, "body": "You appears to be trying to compile this code using gcc. The problem appears to be the headers referencing a non-standard &quot;_cdecl&quot; keyword, that gcc does not know about. This code uses Microsoft compiler-specific extension that are not supported by gcc."}, {"owner": {"reputation": 1073, "user_id": 1324833, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90a0ee40beee8eb81ff9b1e7ef512aa4?s=128&d=identicon&r=PG", "display_name": "marcp", "link": "https://stackoverflow.com/users/1324833/marcp"}, "edited": false, "score": 0, "creation_date": 1454545020, "post_id": 35184571, "comment_id": 58097699, "body": "aha.. that explains a lot. Now to find the workaround. I don&#39;t want to edit the headers, as they are provided by the vendor and updated regularly."}], "answers": [{"tags": [], "owner": {"reputation": 1073, "user_id": 1324833, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90a0ee40beee8eb81ff9b1e7ef512aa4?s=128&d=identicon&r=PG", "display_name": "marcp", "link": "https://stackoverflow.com/users/1324833/marcp"}, "is_accepted": true, "score": 0, "last_activity_date": 1454608941, "last_edit_date": 1495541252, "creation_date": 1454608463, "answer_id": 35208157, "question_id": 35184571, "link": "https://stackoverflow.com/questions/35184571/g-5-3-expected-initializer-before-function/35208157#35208157", "title": "g++ 5.3 expected initializer before &lt;function&gt;", "body": "<p>I was lead to the answer by @SamVarshavchik's comment and <a href=\"https://stackoverflow.com/questions/35207170/which-gcc-distro-supports-declspecdllexport-cdecl-and-stdcall\">this</a> thread. The problem is the MSVC specific syntax</p>\n\n<pre><code>#define GX_WRAPPER_FUNC  __declspec(dllexport)\n#define GX_STANDARD_FUNC\n#define GX_WRAPPER_CALL  _cdecl\n#define GX_STANDARD_CALL _stdcall\n</code></pre>\n\n<p>In my case the MSVC definitions are wrapped within the C_MICROSOFT #ifdef block, and that is the ONLY occurence of that definition, so the simplest solution is to remove the C_MICROSOFT define in defn.h and replace it with:</p>\n\n<pre><code>#ifdef __GNUC__\n    #define GX_WRAPPER_FUNC  __attribute__ ((dllexport))\n    #define GX_STANDARD_FUNC\n    #define GX_WRAPPER_CALL __attribute__((cdecl))\n    #define GX_STANDARD_CALL __attribute__((stdcall))\n    #define _stdcall __attribute__((stdcall))\n    #define _cdecl __attribute__((cdecl))\n\n    #define GX_OBJECT_PTR    void*\n\n    #define GX_VAR\n    #define GX_CONST         const\n\n    #define GX_VOID          void\n    #define GX_LONG          long\n    #define GX_DOUBLE        double\n    #define GX_HANDLE        long\n\n    #define GX_LONG_PTR      long*\n    #define GX_DOUBLE_PTR    double*\n    #define GX_HANDLE_PTR    long*\n    #define GX_ASTR_PTR      char*\n    #define GX_WSTR_PTR      wchar_t*\n    #define GX_STR_PTR       GX_WSTR_PTR\n#else\n    #define C_MICROSOFT\n#endif\n</code></pre>\n"}], "owner": {"reputation": 1073, "user_id": 1324833, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90a0ee40beee8eb81ff9b1e7ef512aa4?s=128&d=identicon&r=PG", "display_name": "marcp", "link": "https://stackoverflow.com/users/1324833/marcp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 35208157, "answer_count": 1, "score": -1, "last_activity_date": 1454608941, "creation_date": 1454523242, "last_edit_date": 1454527806, "question_id": 35184571, "link": "https://stackoverflow.com/questions/35184571/g-5-3-expected-initializer-before-function", "title": "g++ 5.3 expected initializer before &lt;function&gt;", "body": "<p>I understand that this error is typically a syntax problem. I've gone through this with a fine toothcomb and can't spot it. The example below is whittled  down to a couple of files which display the problem. The header files describe an API that is provided as a couple of lib files which I've referenced in the Eclipse project, but just trying to compile the following from the command line gives the same error.</p>\n\n<p>I have several chained includes before getting to the first function declaration which throws an \"expected initializer\" error, along with every other declaration that follows.</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;windows.h&gt;\n#include \"defn.h\"\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"hello world\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>defn.h</p>\n\n<pre><code>#ifndef GEO_DEFINITIONS_H_INCLUDED\n#define GEO_DEFINITIONS_H_INCLUDED\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n#define C_MICROSOFT\n#define _UNICODE\n#include \"gxlib.h\"\n\n#endif // GEO_DEFINITIONS_H_INCLUDED\n</code></pre>\n\n<p>gxlib.h</p>\n\n<pre><code>#pragma once\n\n#include &lt;windows.h&gt;\n\n#ifdef C_MICROSOFT\n\n#define GX_WRAPPER_FUNC  __declspec(dllexport)\n#define GX_STANDARD_FUNC\n#define GX_WRAPPER_CALL  _cdecl\n#define GX_STANDARD_CALL _stdcall\n\n#define GX_OBJECT_PTR    void*\n\n#define GX_VAR\n#define GX_CONST         const\n\n#define GX_VOID          void\n#define GX_LONG          long\n#define GX_DOUBLE        double\n#define GX_HANDLE        long\n\n#define GX_LONG_PTR      long*\n#define GX_DOUBLE_PTR    double*\n#define GX_HANDLE_PTR    long*\n#define GX_ASTR_PTR      char*\n#define GX_WSTR_PTR      wchar_t*\n#if defined(GEO_UTF8)\n   #define GX_STR_PTR       GX_ASTR_PTR\n#elif defined( _UNICODE)\n   #define GX_STR_PTR       GX_WSTR_PTR\n#else\n   #define GX_STR_PTR       GX_ASTR_PTR\n#endif\n\n#endif\n\n\n#ifdef __cplusplus\n   extern \"C\" {\n#endif\n\n\n\n/*---------------- Copy_3DN[_public] ----------------*/\n\nGX_WRAPPER_FUNC GX_LONG GX_WRAPPER_CALL\nCopy_3DN(GX_VAR   GX_OBJECT_PTR,\n         GX_CONST GX_HANDLE_PTR,\n         GX_CONST GX_HANDLE_PTR);\n\n\n#ifdef __cplusplus\n   }\n#endif\n</code></pre>\n\n<p>The command line and exact error is </p>\n\n<pre><code>c:\\Code\\CPP&gt;g++ -std=c++0x -O0 -g3 -Wall -c -fmessage-length=0 -o main.o main.cpp\nIn file included from defn.h:11:0,\n                 from main.cpp:4:\ngxlib.h:55:1: error: expected initializer before 'Copy_3DN'\n Copy_3DN(GX_VAR   GX_OBJECT_PTR,\n</code></pre>\n\n<p>As I mentioned above, this is just an excerpt from a larger project that I'm building in Eclipse Mars using the MinGW-64 5.3 toolchain. Within Eclipse I've defined all of the include files and linked to the libraries, but this simple commandline example with everything in the same directory demonstrates the error.</p>\n"}, {"tags": ["c++", "qt5", "qtextbrowser"], "comments": [{"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1454574756, "post_id": 35184535, "comment_id": 58108460, "body": "How much data are we talking about?"}, {"owner": {"reputation": 264, "user_id": 3629327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FAW2a.jpg?s=128&g=1", "display_name": "Wilmort", "link": "https://stackoverflow.com/users/3629327/wilmort"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1454574828, "post_id": 35184535, "comment_id": 58108491, "body": "Around 100Mb. But it can be higher or lower..."}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1454574911, "post_id": 35184535, "comment_id": 58108533, "body": "Seems still a lot to me. What&#39;s the point of having so much text all displayed at once?"}, {"owner": {"reputation": 264, "user_id": 3629327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FAW2a.jpg?s=128&g=1", "display_name": "Wilmort", "link": "https://stackoverflow.com/users/3629327/wilmort"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1454576029, "post_id": 35184535, "comment_id": 58109122, "body": "Sometimes, you can not decide the requirements :)"}], "answers": [{"tags": [], "owner": {"reputation": 264, "user_id": 3629327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FAW2a.jpg?s=128&g=1", "display_name": "Wilmort", "link": "https://stackoverflow.com/users/3629327/wilmort"}, "is_accepted": true, "score": 0, "last_activity_date": 1454594148, "creation_date": 1454594148, "answer_id": 35202914, "question_id": 35184535, "link": "https://stackoverflow.com/questions/35184535/qtextbrowser-could-not-show-all-data-at-run-time/35202914#35202914", "title": "QTextBrowser could not show all data at run time", "body": "<p>Actually, I decided that there is no feasible solution for this, you can not hold this data at run time, It very depends on hardware. You do not have a guarantee to find the needed memory as a whole block. </p>\n\n<p>So I used <a href=\"http://doc.qt.io/qt-5.4/qplaintextedit.html#maximumBlockCount-prop\" rel=\"nofollow\">QPlainTextEdit</a> and restricted to shown text as 100000 blocks by using <code>setMaximumBlockCount(100000)</code>function in the constructor. I appended text with <code>this-&gt;appendPlainText(text)</code>. Thus,output windows always shows last 100000 block of text. Rest of data can hold a text file or something like that. So user can look all of them from there.</p>\n"}], "owner": {"reputation": 264, "user_id": 3629327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FAW2a.jpg?s=128&g=1", "display_name": "Wilmort", "link": "https://stackoverflow.com/users/3629327/wilmort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 35202914, "answer_count": 1, "score": 0, "last_activity_date": 1454594148, "creation_date": 1454523117, "question_id": 35184535, "link": "https://stackoverflow.com/questions/35184535/qtextbrowser-could-not-show-all-data-at-run-time", "title": "QTextBrowser could not show all data at run time", "body": "<p>My problem is that QTextBrowser can not show all data that is appended to it.\nI am using qt5.4 on windows.\nMy class like this:</p>\n\n<pre><code>class InfoTextBrowser : public QTextBrowser\n{\n    Q_OBJECT\n\npublic:\n    InfoTextBrowser(QObject *parent);\n    ~InfoTextBrowser();\npublic slots:\n        void appendText(const QString&amp; text) {\n\n            try\n            {\n\n                this-&gt;append(text); \n            }\n            catch(std::bad_alloc&amp; e)\n            {\n                if(!memoryError)\n                {\n                    QMessageBox::warning(this,\"My app\", QStringLiteral(\"Out of Memory\"),QMessageBox::Ok);\n                    this-&gt;clear();\n                    memoryError = true;\n                }\n            }\n\n            QScrollBar* myBar = this-&gt;verticalScrollBar();\n            if (myBar!=NULL)\n                myBar-&gt;setValue(myBar-&gt;maximum());  \n        };\nprivate:\n     void contextMenuEvent(QContextMenuEvent *event);   \nprivate:\n    bool memoryError;\n};\n</code></pre>\n\n<p>First I got bad_alloc exception and then I moved my application to 64bit then I do not get any exception. But When I run my program, QTextBrowser stops showing data after a while. It dies and it can not be cleared or refreshed.</p>\n\n<p>I also tried QPlainTextEdit instead of this, but I could not be successful again. I want to show all data at run time or some part of it that could be shown. Because it stops just first paragraph when it dies. In addition, I do not want to show data by reading from a text file.</p>\n\n<p>Is there anyone face with this situation?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1454522916, "post_id": 35184450, "comment_id": 58086029, "body": "Convert your map coordinates to array coordinates: mapX+100, mapY+100"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1454522965, "post_id": 35184450, "comment_id": 58086061, "body": "Yes it is possible. Experiment with a couple of ways and then come back to us with any problems."}], "answers": [{"comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1454530930, "post_id": 35184579, "comment_id": 58090872, "body": "Um, this isn&#39;t valid C++."}, {"owner": {"reputation": 2313, "user_id": 971583, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/19074c3be125ac36f7a55a71798c65d3?s=128&d=identicon&r=PG", "display_name": "Alan Baljeu", "link": "https://stackoverflow.com/users/971583/alan-baljeu"}, "edited": false, "score": 1, "creation_date": 1454613999, "post_id": 35184579, "comment_id": 58134925, "body": "If Location is a copyable class, it&#39;s valid code.  But be sure to check that xCoord and yCoord are legit, and this only supports the range [-100,+99]."}], "tags": [], "owner": {"reputation": 1799, "user_id": 5867869, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/M7o7w.jpg?s=128&g=1", "display_name": "RomCoo", "link": "https://stackoverflow.com/users/5867869/romcoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1454615770, "last_edit_date": 1454615770, "creation_date": 1454523269, "answer_id": 35184579, "question_id": 35184450, "link": "https://stackoverflow.com/questions/35184450/how-to-make-array-with-cells-numbered-from-negative-number-to-positive/35184579#35184579", "title": "How to make array with cells numbered from negative number to positive?", "body": "<p>An Array can have only positive indexes:</p>\n\n<pre><code>Location loc[201][201];\n</code></pre>\n\n<p>define a Funktion that returns your desired Location:</p>\n\n<pre><code>Location getLocation(int xCoord, int yCoord)\n{\n  if (abs(x)&gt;100 || abs(y)&gt;100)\n    throw std::invalid_argument( \"value out of range\"); \n  return loc[xCoord+100][yCoord+100];\n}\n</code></pre>\n\n<p>Then you can get the Location by calling the function <code>getLocation(x,y)</code></p>\n"}, {"tags": [], "owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1454673441, "creation_date": 1454673441, "answer_id": 35223659, "question_id": 35184450, "link": "https://stackoverflow.com/questions/35184450/how-to-make-array-with-cells-numbered-from-negative-number-to-positive/35223659#35223659", "title": "How to make array with cells numbered from negative number to positive?", "body": "<p>One common (but rather sketchy) method is to do something like this (example for 21 x 21 board):</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    typedef int (*board_ptr)[21];\n\n    int board_data[21][21];\n    board_ptr board = (board_ptr)&amp;board_data[10][10];\n\n    for (int i = -10; i &lt;= 10; ++i)\n        for (int j = -10; j &lt;= 10; ++j)\n            board[i][j] = 0;\n    board[-10][-10] = 1;\n    board[-10][10] = 2;\n    board[10][-10] = 3;\n    board[10][10] = 4;\n    board[0][0] = 5;\n    for (int i = -10; i &lt;= 10; ++i)\n    {\n        for (int j = -10; j &lt;= 10; ++j)\n        {\n            cout &lt;&lt; \" \" &lt;&lt; board[i][j];\n        }\n        cout &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>This creates a normal 21x21 array but then it also creates a pointer to a fake array which is initialised to point at the centre of the real array. You can then use this fake pointer as if it were a real array with indices ranging from -10 to +10 (inclusive).</p>\n\n<p><kbd><a href=\"http://coliru.stacked-crooked.com/a/97ce6c05c95555bd\" rel=\"nofollow\">LIVE DEMO</a></kbd></p>\n"}], "owner": {"reputation": 11, "user_id": 5879221, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vL0vNZjGaxU/AAAAAAAAAAI/AAAAAAAAABE/Ovv4blBgOPA/photo.jpg?sz=128", "display_name": "Filip Piechota", "link": "https://stackoverflow.com/users/5879221/filip-piechota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454673441, "creation_date": 1454522816, "last_edit_date": 1454523022, "question_id": 35184450, "link": "https://stackoverflow.com/questions/35184450/how-to-make-array-with-cells-numbered-from-negative-number-to-positive", "title": "How to make array with cells numbered from negative number to positive?", "body": "<p>I'd like to make non-graphic (text) C++ game (you move your character using n, s, w, e and every location is described). Locations will be an array of an objects (there will be location description and other information in this array). I've started making this game, but I have a question: Is it possible to make arrays with dimensions x - from -100 to 100 and z - from -100 to 100? If it is not possible, are there other ways to do it? (I don't want a [0][0] position in one of 4 corners, but on the middle.)</p>\n"}, {"tags": ["android", "c++", "android-ndk", "java-native-interface"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1454523250, "post_id": 35184303, "comment_id": 58086209, "body": "If i remember correctly <code>extern &quot;C&quot;</code> requests &quot;C&quot;  linkage but does not export the function(s). Try adding <code>extern</code> to the function definition as well."}, {"owner": {"reputation": 55767, "user_id": 219159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cxM6H.jpg?s=128&g=1", "display_name": "Seva Alekseyev", "link": "https://stackoverflow.com/users/219159/seva-alekseyev"}, "edited": false, "score": 0, "creation_date": 1454523344, "post_id": 35184303, "comment_id": 58086270, "body": "<a href=\"http://stackoverflow.com/questions/11354411/android-ndk-native-function-call-issue/11354714#11354714\" title=\"android ndk native function call issue\">stackoverflow.com/questions/11354411/&hellip;</a>"}, {"owner": {"reputation": 187, "user_id": 1375970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cb0456ccfcf86876dff0f4ef043e18d?s=128&d=identicon&r=PG", "display_name": "1337", "link": "https://stackoverflow.com/users/1375970/1337"}, "edited": false, "score": 0, "creation_date": 1454528496, "post_id": 35184303, "comment_id": 58089378, "body": "I added extern .. still not working."}, {"owner": {"reputation": 187, "user_id": 1375970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cb0456ccfcf86876dff0f4ef043e18d?s=128&d=identicon&r=PG", "display_name": "1337", "link": "https://stackoverflow.com/users/1375970/1337"}, "edited": false, "score": 0, "creation_date": 1454528530, "post_id": 35184303, "comment_id": 58089397, "body": "Seva - I&#39;m using JNI..."}, {"owner": {"reputation": 349, "user_id": 3011049, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000204575656/picture?type=large", "display_name": "Tomasz Jarosik", "link": "https://stackoverflow.com/users/3011049/tomasz-jarosik"}, "edited": false, "score": 0, "creation_date": 1454588829, "post_id": 35184303, "comment_id": 58117845, "body": "Why do you use LOCAL_ALLOW_UNDEFINED_SYMBOLS?? Does your libCommon.so really contain this &quot;first()&quot; function? Seems like not. Try explicit &quot;extern&quot;"}], "owner": {"reputation": 187, "user_id": 1375970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cb0456ccfcf86876dff0f4ef043e18d?s=128&d=identicon&r=PG", "display_name": "1337", "link": "https://stackoverflow.com/users/1375970/1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1152, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1454523039, "creation_date": 1454522303, "last_edit_date": 1454523039, "question_id": 35184303, "link": "https://stackoverflow.com/questions/35184303/ndk-call-a-native-function-from-so-file", "title": "NDK - call a native function from .so file", "body": "<p>I wrote a sample shared library in VS 2015 (NDK Cross Platform project)</p>\n\n<p>Common.h:</p>\n\n<pre><code>#ifdef __cplusplus\n   extern \"C\" {\n#endif\n\nint first(int  x, int  y);\n\n#ifdef __cplusplus\n}\n#endif\n</code></pre>\n\n<p>Common.cpp:</p>\n\n<pre><code>#include \"Common.h\"\n\nint first(int  x, int  y)\n{\n     return x + y;\n}\n</code></pre>\n\n<p>so now i have a .so file and i want to create a project in Android Studio which link against that .so file and call first(x,y) with JNI.</p>\n\n<p>hello_jni.c:</p>\n\n<pre><code>#include \"Common.h\"\n#include &lt;jni.h&gt;\n\njint\nJava_com_test_MainActivity_add( JNIEnv* env,\n                                    jobject thiz,\n                                    jint a,\n                                    jint b)\n{\n    return (jint)first((int)a,(int)b); \n}\n</code></pre>\n\n<p>So I put libCommon.so and Common.h in jni folder of the project\nedited the android.mk:</p>\n\n<pre><code>LOCAL_PATH := $(call my-dir)\ninclude $(CLEAR_VARS)\nLOCAL_SRC_FILES := libCommon.so\nLOCAL_MODULE := add_prebuilt\nLOCAL_EXPORT_C_INCLUDES := Common.h\ninclude $(PREBUILT_SHARED_LIBRARY)\n\ninclude $(CLEAR_VARS)\nLOCAL_LDLIBS := -llog\nLOCAL_ALLOW_UNDEFINED_SYMBOLS := true\nLOCAL_C_INCLUDES := $(LOCAL_PATH)\nLOCAL_SRC_FILES  := hello_jni.c\nLOCAL_MODULE     :=  hello_jni\nLOCAL_SHARED_LIBRARIES := add_prebuilt\ninclude $(BUILD_SHARED_LIBRARY)\n</code></pre>\n\n<p>(I added LOCAL_ALLOW_UNDEFINED_SYMBOLS := true since I got an error undefined reference to 'first')</p>\n\n<p>Application.mk:</p>\n\n<pre><code>APP_ABI := armeabi-v7a\n</code></pre>\n\n<p>So now I have two .so files in src\\main\\libs\\armeabi-v7a.\nThe application is crashed when I load libhello_jni.so\n and it isn't crashed for loading libCommon.so </p>\n\n<pre><code>static\n{\n   System.loadLibrary(\"Common\");\n   System.loadLibrary(\"hello_jni\");\n}\n</code></pre>\n\n<p>Error log:</p>\n\n<pre><code>02-03 12:52:52.509 9685-9685/com.test E/AndroidRuntime: FATAL EXCEPTION: main\n                                                        Process: com.test, PID: 9685\n                                                        java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol \"first\" referenced by \"libhello_jni.so\"...\n                                                            at java.lang.Runtime.loadLibrary(Runtime.java:364)\n                                                            at java.lang.System.loadLibrary(System.java:526)\n                                                            at com.test.MainActivity.&lt;clinit&gt;(MainActivity.java:23)\n                                                            at java.lang.Class.newInstanceImpl(Native Method)\n                                                            at java.lang.Class.newInstance(Class.java:1208)\n                                                            at android.app.Instrumentation.newActivity(Instrumentation.java:1061)\n                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2101)\n                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233)\n                                                            at android.app.ActivityThread.access$800(ActivityThread.java:135)\n                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                            at android.os.Looper.loop(Looper.java:136)\n                                                            at android.app.ActivityThread.main(ActivityThread.java:5001)\n                                                            at java.lang.reflect.Method.invokeNative(Native Method)\n                                                            at java.lang.reflect.Method.invoke(Method.java:515)\n                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n                                                            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>I don't know what to do ... Why first function not found ? \nAny ideas? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "cin", "ignore"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1454522180, "post_id": 35184203, "comment_id": 58085566, "body": "Did you mean to have a reference parameter to see the output in the calling function: <code>void Numbrs(int&amp; v1)</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1454522245, "post_id": 35184203, "comment_id": 58085602, "body": "Why the double <code>cin &gt;&gt; v1</code>? That is plain fishy!!!"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5830807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3de3069a9d6beddc9d63d5a5ad894047?s=128&d=identicon&r=PG&f=1", "display_name": "DownTownScarf7", "link": "https://stackoverflow.com/users/5830807/downtownscarf7"}, "edited": false, "score": 0, "creation_date": 1454536432, "post_id": 35184276, "comment_id": 58094133, "body": "Wait, &quot;if (!(cin &gt;&gt; v1))&quot; actually asks for the input?? I though it was for checking if the input matches v1 which in this case is a variable... So then I dont need the &quot;cin &gt;&gt; v1&quot;? Or is there any other way to make an if statement check if my input has an error? (like giving a string as a variable)"}, {"owner": {"reputation": 615, "user_id": 3903076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abc9eb64670c0dc01db6ba0b94265e8?s=128&d=identicon&r=PG&f=1", "display_name": "filipos", "link": "https://stackoverflow.com/users/3903076/filipos"}, "reply_to_user": {"reputation": 29, "user_id": 5830807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3de3069a9d6beddc9d63d5a5ad894047?s=128&d=identicon&r=PG&f=1", "display_name": "DownTownScarf7", "link": "https://stackoverflow.com/users/5830807/downtownscarf7"}, "edited": false, "score": 0, "creation_date": 1454542515, "post_id": 35184276, "comment_id": 58096783, "body": "You can check the input stream for errors with <code>if (! cin)</code>.  <code>(cin &gt;&gt; v1)</code> is an input statement. Its value is exactly <code>cin</code> after the operation, which is testable in boolean contexts."}, {"owner": {"reputation": 615, "user_id": 3903076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abc9eb64670c0dc01db6ba0b94265e8?s=128&d=identicon&r=PG&f=1", "display_name": "filipos", "link": "https://stackoverflow.com/users/3903076/filipos"}, "reply_to_user": {"reputation": 29, "user_id": 5830807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3de3069a9d6beddc9d63d5a5ad894047?s=128&d=identicon&r=PG&f=1", "display_name": "DownTownScarf7", "link": "https://stackoverflow.com/users/5830807/downtownscarf7"}, "edited": false, "score": 0, "creation_date": 1454542657, "post_id": 35184276, "comment_id": 58096847, "body": "Relevant references: <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt</a> <a href=\"http://en.cppreference.com/w/cpp/io/basic_ios/operator\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/basic_ios/operator</a>! <a href=\"http://en.cppreference.com/w/cpp/io/basic_ios/operator_bool\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/basic_ios/operator_bool</a>"}], "tags": [], "owner": {"reputation": 615, "user_id": 3903076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abc9eb64670c0dc01db6ba0b94265e8?s=128&d=identicon&r=PG&f=1", "display_name": "filipos", "link": "https://stackoverflow.com/users/3903076/filipos"}, "is_accepted": true, "score": 1, "last_activity_date": 1454522238, "creation_date": 1454522238, "answer_id": 35184276, "question_id": 35184203, "link": "https://stackoverflow.com/questions/35184203/my-first-cin-is-ignored-it-only-accepts-the-second-one/35184276#35184276", "title": "My first cin is ignored, it only accepts the second one", "body": "<p>Note that you are repeating the input operation:</p>\n\n<pre><code>cin &gt;&gt; v1; // Try removing this line\nif (!(cin &gt;&gt; v1)) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5830807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3de3069a9d6beddc9d63d5a5ad894047?s=128&d=identicon&r=PG&f=1", "display_name": "DownTownScarf7", "link": "https://stackoverflow.com/users/5830807/downtownscarf7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 35184276, "answer_count": 1, "score": -2, "last_activity_date": 1591746683, "creation_date": 1454522027, "last_edit_date": 1591746683, "question_id": 35184203, "link": "https://stackoverflow.com/questions/35184203/my-first-cin-is-ignored-it-only-accepts-the-second-one", "title": "My first cin is ignored, it only accepts the second one", "body": "<p>Alright so I got a simple code here:\n(Enter number between 0-100 if cin is not a varable then clear cin, ignore the error line)</p>\n\n<pre><code>void Numbrs(int v1)\n{\ndo\n{\n    cout &lt;&lt; \"Please enter a number between 0 and 100\" &lt;&lt; endl;\n    cin &gt;&gt; v1;\n    if (!(cin &gt;&gt; v1))\n    {\n        cout &lt;&lt; \"Invalid input, please try again.\" &lt;&lt; endl;\n        cin.clear();\n        cin.ignore (numeric_limits&lt;streamsize&gt;::max(), '\\n');\n    }\n    else\n    {\n        if (v1 &lt; 0 || v1 &gt; 100)\n        {\n            cout &lt;&lt; \"Invalid number, please try again.\" &lt;&lt; endl;\n        }\n        else\n        {\n\n        }\n    }\n} while (v1 &lt; 0 || v1 &gt; 100);\n}\n</code></pre>\n\n<p>(Of course its not doing anything now, because I'm going crazy its not working)\nMy problem with this is when I enter ANY number it always ignores the first one, here's an example:</p>\n\n<pre><code>Please enter a number between 0 and 100\n111\n315\nInvalid number, please try again.\nPlease enter a number between 0 and 100\n50\n40\n</code></pre>\n\n<p>Could anybody explain why is this happening? It happens to me almost every time when I try to use <code>cin.clear()</code> and <code>cin.ignore (numeric_limits&lt;streamsize&gt;::max(), '\\n')</code>.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 934, "user_id": 378509, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/50232a7ca3701b6152b47a2ff125099a?s=128&d=identicon&r=PG", "display_name": "vk239", "link": "https://stackoverflow.com/users/378509/vk239"}, "edited": false, "score": 2, "creation_date": 1454522074, "post_id": 35184174, "comment_id": 58085499, "body": "what is the compilation error ?"}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 3, "creation_date": 1454522128, "post_id": 35184174, "comment_id": 58085536, "body": "<code>cout&lt;&lt;&#39;\\&#39;;</code> -- the backspace is an escape character.  To print a backspace you need to use <code>cout&lt;&lt;&#39;\\\\&#39;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 676, "user_id": 5790901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2608175df38a0a90ccbd29edd733158?s=128&d=identicon&r=PG&f=1", "display_name": "z7r1k3", "link": "https://stackoverflow.com/users/5790901/z7r1k3"}, "is_accepted": true, "score": 3, "last_activity_date": 1454522391, "creation_date": 1454522391, "answer_id": 35184330, "question_id": 35184174, "link": "https://stackoverflow.com/questions/35184174/printing-character-sequences/35184330#35184330", "title": "printing character sequences", "body": "<p>If you notice, <code>cout&lt;&lt;'\\';</code> the second <code>'</code> isn't the same color. That's because <code>\\</code> is an escape character. It is escaping the <code>'</code>. You'll need to change it to <code>\\\\</code> anytime you want to use the backslash character itself.</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 85, "user_id": 5535956, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/beab829c538084c79085e651d83b80ff?s=128&d=identicon&r=PG&f=1", "display_name": "srishti77714", "link": "https://stackoverflow.com/users/5535956/srishti77714"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1454522834, "accepted_answer_id": 35184330, "answer_count": 1, "score": -2, "last_activity_date": 1485807520, "creation_date": 1454521901, "last_edit_date": 1485807520, "question_id": 35184174, "link": "https://stackoverflow.com/questions/35184174/printing-character-sequences", "closed_reason": "Duplicate", "title": "printing character sequences", "body": "<p><strong>question</strong>\n   Using two characters: . (dot) and * (asterisk) print a grid-like pattern. The grid will have l lines, c columns, and each square shaped element of the grid will have the height and width equal to s.</p>\n\n<p>Moreover, each of the grid elements will have a diagonal. The diagonal of the first square in the first line of the grid is directed towards down and right corner - use the \\ (backslash) character to print it; while the next diagonal will be directed towards upper right corner - use the / (slash) character to print it. Print the successive diagonals alternately (please consult the example below).</p>\n\n<p>Input</p>\n\n<p>You are given t - the number of test cases and for each of the test case three positive integers: l - the number of lines, c - the number of columns in the grid and s - the size of the single square shaped element.</p>\n\n<p>Output</p>\n\n<p>For each of the test cases output the requested pattern (please have a look at the example). Use one line break in between successive patterns.</p>\n\n<p>Example</p>\n\n<pre><code>Input:\n3\n3 1 2 \n4 4 1 \n2 5 2 \n\nOutput:\n****\n*\\.*\n*.\\*\n****\n*./*\n*/.*\n****\n*\\.*\n*.\\*\n****\n\n*********\n*\\*/*\\*/*\n*********\n*/*\\*/*\\*\n*********\n*\\*/*\\*/*\n*********\n*/*\\*/*\\*\n*********\n\n****************\n*\\.*./*\\.*./*\\.*\n*.\\*/.*.\\*/.*.\\*\n****************\n*./*\\.*./*\\.*./*\n*/.*.\\*/.*.\\*/.*\n****************\n</code></pre>\n\n<p><em>my solution:</em></p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n   int i,j,k,l,c,s,t;\n\n   cin&gt;&gt;t;\n    k=0;\n\n   while(k&lt;t)\n   {\n        cin&gt;&gt;l&gt;&gt;c&gt;&gt;s;\n     for(i=0;i&lt;(s-1)*l;i++)\n      {\n        for(j=0;j&lt;(s-1)*c;j++)\n            {\n              if(i==j)\n                  cout&lt;&lt;'\\';\n                else\n                {\n                  if(i%(s-1)==0||j%(s-1)==0)\n                     cout&lt;&lt;'*';\n                   else\n                      {\n                        if(i+j==(s-1))\n                          cout&lt;&lt;'/';\n                         else\n                           cout&lt;&lt;'.';\n                      }\n                 }                \n            } \n         cout&lt;&lt;\"\\n\";\n      }\n      k++;\n   } \n\n\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>problem</strong>\ngiving compilation error!!! can't figure out why?</p>\n"}, {"tags": ["c++", "neo4j"], "answers": [{"tags": [], "owner": {"reputation": 38069, "user_id": 158701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9053a0761b796fb90e9ce9e110d6b093?s=128&d=identicon&r=PG", "display_name": "Stefan Armbruster", "link": "https://stackoverflow.com/users/158701/stefan-armbruster"}, "is_accepted": false, "score": 6, "last_activity_date": 1454522254, "creation_date": 1454522254, "answer_id": 35184282, "question_id": 35184008, "link": "https://stackoverflow.com/questions/35184008/using-neo4j-database-from-c/35184282#35184282", "title": "Using Neo4j database from C++", "body": "<p>For the upcoming binary remoting protocol there's already a driver written in C, see <a href=\"http://cleishm.github.io/libneo4j-client/\" rel=\"noreferrer\">http://cleishm.github.io/libneo4j-client/</a>.</p>\n\n<p>Please note that this will only work Neo4j 3.0 builds. As of today milestone 2 is the most current one. Be sure to read the release notes when working with milestones.</p>\n"}, {"tags": [], "owner": {"reputation": 7732, "user_id": 2954199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98eb7858bb6265f6f15308c89862104d?s=128&d=identicon&r=PG", "display_name": "William Lyon", "link": "https://stackoverflow.com/users/2954199/william-lyon"}, "is_accepted": true, "score": 3, "last_activity_date": 1454522580, "creation_date": 1454522580, "answer_id": 35184385, "question_id": 35184008, "link": "https://stackoverflow.com/questions/35184008/using-neo4j-database-from-c/35184385#35184385", "title": "Using Neo4j database from C++", "body": "<p>There are no current C/C++ Neo4j drivers targeting Neo4j 2.x that I'm aware of. (See Stefan's answer for a C driver targeting the upcoming Neo4j 3.0 release)</p>\n\n<p>However, using the <a href=\"http://neo4j.com/docs/stable/rest-api-transactional.html\" rel=\"nofollow\">transactional Cypher API endpoint</a> you should be able to use any C++ http client / JSON parser to interact with Neo4j using Cypher.</p>\n"}], "owner": {"reputation": 63, "user_id": 5879280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec843b984f564ca25208fa702ef9b61?s=128&d=identicon&r=PG&f=1", "display_name": "ASCIImau", "link": "https://stackoverflow.com/users/5879280/asciimau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2599, "favorite_count": 0, "accepted_answer_id": 35184385, "answer_count": 2, "score": 3, "last_activity_date": 1454522580, "creation_date": 1454521349, "question_id": 35184008, "link": "https://stackoverflow.com/questions/35184008/using-neo4j-database-from-c", "title": "Using Neo4j database from C++", "body": "<p>my problem is I want to use Neo4j database from a C++ program and I read a lot, but still don't know, how can I start. </p>\n\n<p>First I would like to make a connection between Neo4j and C++, and I would like to create nodes from the C++ program.</p>\n\n<p>Anyone have an example code, or can somebody help, how can I start?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1454521345, "post_id": 35183953, "comment_id": 58085037, "body": "I&#39;m guessing a captured member function with <code>this</code> pointer as argument, something compiler-formed of <code>std::bind(&amp;class::obj,&amp;myobj);</code>"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1454521851, "post_id": 35183953, "comment_id": 58085373, "body": "I&#39;m going to take a guess that <code>_Bind</code> is that implementation&#39;s type returned by <code>std::bind</code> and likewise for <code>_Mem_fn</code>. I would guess at this being Microsoft&#39;s."}, {"owner": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454522511, "post_id": 35183953, "comment_id": 58085758, "body": "That makes some sense, as I am using std::bind like that, but all the functions I&#39;m binding have an int return, so where would the void come from?"}, {"owner": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454522599, "post_id": 35183953, "comment_id": 58085820, "body": "If this is Microsoft&#39;s then I&#39;m a dead penguin. This is GCC output, and I&#39;m running on Linux."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454523528, "post_id": 35184260, "comment_id": 58086397, "body": "That all makes a lot of sense, except that the only member functions I use bind on have a return type of int.  In more detail, all the functions that use bind use this prototype: &#39;std::function&lt;int(int x, int y, bool&amp; handled, bool&amp; close)&gt;&#39; (Yes, I&#39;m using std::placeholders::_1... in what I pass to Bind())"}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454523994, "post_id": 35184260, "comment_id": 58086667, "body": "Well the return type of a function doesn&#39;t form part of its signature (see <a href=\"http://stackoverflow.com/questions/290038/is-the-return-type-part-of-the-function-signature\">here</a>)"}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454524125, "post_id": 35184260, "comment_id": 58086733, "body": "Are you sure you&#39;re posting the correct version of <code>_Bind</code>? The member function pointer being passed to <code>bind</code> that you&#39;re posting (<code>void (ClassName::*)()</code>) doesn&#39;t match the one in your comment, which would be <code>int (ClassName::*)(int, int, bool&amp;)</code>"}, {"owner": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "edited": false, "score": 0, "creation_date": 1454528595, "post_id": 35184260, "comment_id": 58089432, "body": "Turns out you&#39;re right, I had a few other calls to bind that I&#39;d forgotten about completely."}], "tags": [], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "is_accepted": true, "score": 5, "last_activity_date": 1454522990, "last_edit_date": 1454522990, "creation_date": 1454522182, "answer_id": 35184260, "question_id": 35183953, "link": "https://stackoverflow.com/questions/35183953/what-does-std-bindstd-mem-fnvoid-classnameclassname-mean-c/35184260#35184260", "title": "What does std::_Bind&lt;std::_Mem_fn&lt;void (ClassName::*)()&gt;(ClassName*)&gt; mean? (C++)", "body": "<p>With reference to the bit you <em>know</em> you're not sure about, <code>ClassName::*</code>:</p>\n\n<p><code>ClassName::*</code> is part of a type (but only <em>part</em>) - the complete type is <code>void (ClassName::*)()</code>, which is the syntax for a <a href=\"https://isocpp.org/wiki/faq/pointers-to-members#fnptr-vs-memfnptr-types\" rel=\"nofollow\"><strong>member function pointer</strong></a></p>\n\n<p>Specifically here, you have a pointer to a <code>ClassName</code> member function, which returns <code>void</code> and takes no parameters.</p>\n\n<pre><code>    void (ClassName::*)()\n      ^          ^      ^\n      |          |      | \nreturn type      |      |\n(void)           |      |\n                 |      |\nclass type ------+      |\n(ClassName)             | \n                        | \nparameter list ---------+\n(no parameters)     \n</code></pre>\n\n<p>As for the rest of the type, <code>std::_Bind&lt;std::_Mem_fn&lt;void (ClassName::*)()&gt;(ClassName*)&gt;</code>, this is the internal representation of calling <a href=\"http://en.cppreference.com/w/cpp/utility/functional/bind\" rel=\"nofollow\"><code>std::bind</code></a></p>\n\n<p>The signature of <code>std::bind</code> is as follows:</p>\n\n<pre><code>template&lt; class F, class... Args &gt;\n/*unspecified*/ bind( F&amp;&amp; f, Args&amp;&amp;... args );\n</code></pre>\n\n<p>Note the <em>unspecified</em> return type - this means it is up to the implementation to decide what <code>std::bind</code> returns:</p>\n\n<blockquote>\n  <p><strong>Return value</strong><br>\n  A function object of unspecified type T, for which <code>std::is_bind_expression&lt;T&gt;::value == true</code></p>\n</blockquote>\n\n<p>So in this particular implementation, <code>std::bind</code> for the <code>ClassName</code> member function you've passed returns <code>std::_Bind&lt;std::_Mem_fn&lt;void (ClassName::*)()&gt;(ClassName*)&gt;</code></p>\n\n<p><strong>How is this useful?</strong></p>\n\n<p>One thing you can do with the return type of <code>std::bind</code> is capture it in a <code>std::function</code></p>\n\n<p>The <em>particular</em> <code>std::function</code> type in question here would be <code>std::function&lt;void()&gt;</code>.</p>\n\n<pre><code>ClassName obj;\nstd::function&lt;void()&gt; func = std::bind(&amp;ClassName::someFunction, &amp;obj);\n\nfunc(); // this actually calls obj.someFunction()\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5231153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106269ffa02b947389ad0e27d93ecf37?s=128&d=identicon&r=PG&f=1", "display_name": "Illiander", "link": "https://stackoverflow.com/users/5231153/illiander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 35184260, "answer_count": 1, "score": 2, "last_activity_date": 1454793757, "creation_date": 1454521171, "last_edit_date": 1454793757, "question_id": 35183953, "link": "https://stackoverflow.com/questions/35183953/what-does-std-bindstd-mem-fnvoid-classnameclassname-mean-c", "title": "What does std::_Bind&lt;std::_Mem_fn&lt;void (ClassName::*)()&gt;(ClassName*)&gt; mean? (C++)", "body": "<p>I'm trying to make sense of what this means in my compiler debug output:</p>\n\n<pre><code>std::_Bind&lt;std::_Mem_fn&lt;void (ClassName::*)()&gt;(ClassName*)&gt;\n</code></pre>\n\n<p>If it matters, it's being used as the value for a template variable that's being used as the type for a class member variable.</p>\n\n<p>The bit I <em>know</em> I'm not sure of is <code>\"ClassName::*\"</code> (Google is <em>really</em> <em>bad</em> when the important bit of what you're searching for is the non-alphanumeric bit)</p>\n"}, {"tags": ["c++", "visual-studio", "debugging", "compilation", "release"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1454521224, "post_id": 35183813, "comment_id": 58084962, "body": "I have very bad news for you. Options are fine, you just have UB somewhere. <a href=\"http://stackoverflow.com/a/18513077/1607442\">Program only crashes as release build \u2014 how to debug?</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1454522591, "post_id": 35183813, "comment_id": 58085809, "body": "Optimizer bugs happen.  /Og is deprecated for the past 11 years, that cannot possibly help.  Just stop using it."}], "owner": {"reputation": 41, "user_id": 2385438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b61aa7cb054905b6aadf075d79e91ef?s=128&d=identicon&r=PG", "display_name": "drinker", "link": "https://stackoverflow.com/users/2385438/drinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454520730, "creation_date": 1454520730, "question_id": 35183813, "link": "https://stackoverflow.com/questions/35183813/compiling-with-og-in-release-visual-studio-2013-breaks-program-execution", "title": "Compiling with /Og in release (Visual Studio 2013) breaks program execution", "body": "<p>I have a program written in C+ using some simple directX stuff. I wanted to embed it in my windows library I've built based on class encapsulation of winapi - but never mind that - I don't think that's relevant. At some point in time (not sure when exactly) the release version stopped working, where as debug ran fine. I've started checking the build differences, thinking it was a typical /RTC issue, however different build options (in debug) like /RTCs or /RTCu didn't produce any exceptions. So then I tried to turn of optimizations in release and the program started running. Any optimization level would break the execution so that left me checking options /Og /oy /Ob2 /GS /GF and /Gy that are common between the /O1 and /O2 levels. It turned out disabling /Og made the release version run again with other options of /O1 or /O2 enabled. So the question now is: should I be worried about this? This option is marked as deprecated and I'm not sure now if there's any error in the code I should start looking for. Sure there Are some level 4 warnings but they seem like hair splitting (mostly C4100).</p>\n\n<p>Thanks in advance!\nCheers,\ndrinker</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1454520771, "post_id": 35183760, "comment_id": 58084668, "body": "What output do you get? What do you think is called?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1454520945, "post_id": 35183760, "comment_id": 58084782, "body": "In your example, <code>myclass obj1 = myclass(2, 3);</code> is similar to <code>myclass obj1(2, 3);</code>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1454521062, "post_id": 35183760, "comment_id": 58084855, "body": "The compiler&#39;s optimizer probably determined that you&#39;re creating a single object, not two objects."}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 0, "creation_date": 1454521263, "post_id": 35183760, "comment_id": 58084981, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/11853700/c-object-instantiation-vs-assignment\" title=\"c object instantiation vs assignment\">stackoverflow.com/questions/11853700/&hellip;</a>"}, {"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1454521350, "post_id": 35183760, "comment_id": 58085044, "body": "No. This is not duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "edited": false, "score": 0, "creation_date": 1454522693, "post_id": 35184034, "comment_id": 58085881, "body": "Thanks Benjamin. I understood the difference between copy elision and RVO with your answer"}], "tags": [], "owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "is_accepted": true, "score": 2, "last_activity_date": 1454521438, "creation_date": 1454521438, "answer_id": 35184034, "question_id": 35183760, "link": "https://stackoverflow.com/questions/35183760/how-values-of-member-variables-are-getting-copied-even-though-copy-constructor-i/35184034#35184034", "title": "How values of member variables are getting copied even though copy constructor is not getting called due to RVO in C++", "body": "<p>The values <em>aren't</em> getting copied, because they don't <em>need</em> to be copied. Instead, the values which would have been copied are initialized in place. Copy elision means that the compiler essentially turns this:</p>\n\n<pre><code>myclass obj1 = myclass(2, 3);\n</code></pre>\n\n<p>Into this:</p>\n\n<pre><code>myclass obj1(2, 3);\n</code></pre>\n\n<p>So no extra object is constructed which needs to be copied.</p>\n\n<p>Note that RVO, which you've referred to, is a form of copy elision. But this specific case of copy elision is not RVO.</p>\n"}], "owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 35184034, "answer_count": 1, "score": 1, "last_activity_date": 1454521438, "creation_date": 1454520584, "last_edit_date": 1454520965, "question_id": 35183760, "link": "https://stackoverflow.com/questions/35183760/how-values-of-member-variables-are-getting-copied-even-though-copy-constructor-i", "title": "How values of member variables are getting copied even though copy constructor is not getting called due to RVO in C++", "body": "<p>I am not able to understand how the values of member variables are getting copied even though the constructor is not getting called in the below program.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass myclass\n{\n    public:\n        int x;\n        int y;\n\n        myclass(int a, int b)\n        {\n            cout &lt;&lt; \"In Constructor\" &lt;&lt; endl;\n            x = a;\n            y = b;\n        }\n\n        ~myclass()\n        {\n            cout &lt;&lt; \"In Destructor\" &lt;&lt; endl;\n        }\n\n        myclass(const myclass &amp;obj)\n        {\n            cout &lt;&lt; \"In Copy Constuctor \" &lt;&lt; obj.x &lt;&lt; \" \" &lt;&lt; obj.y &lt;&lt; endl;\n            x = obj.x;\n            y = obj.y;\n        }\n\n        myclass &amp;operator=(const myclass &amp;obj)\n        {\n            cout &lt;&lt; \"In Operator Overloading\" &lt;&lt; obj.x &lt;&lt; obj.y &lt;&lt; endl;\n            x = obj.x;\n            y = obj.y;\n\n            return *this;\n        }\n};\n\nint main()\n{\n    myclass obj1 = myclass(2, 3);\n    cout &lt;&lt; \"obj1.x : \" &lt;&lt; obj1.x &lt;&lt; \"obj1.y\" &lt;&lt; obj1.y &lt;&lt; endl;\n}\n\nOutput:\nIn Constructor\nobj1.x : 2obj1.y3\nIn Destructor\n</code></pre>\n\n<p>I understood that due to Return Value Optimization, copy constructor is not getting called. But I didn't understand how obj1 is getting values 2 and 3. Can any one please help me to understand this or how Return Value Optimization will work behind the scenes.</p>\n"}, {"tags": ["c++", "c", "qt", "linker", "extern"], "comments": [{"owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "edited": false, "score": 0, "creation_date": 1454520538, "post_id": 35183698, "comment_id": 58084499, "body": "Right now I am simply including the header in my Qt project and then trying to call the generate_id() function.."}, {"owner": {"reputation": 4858, "user_id": 5739035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-RQUt7m42pBk/AAAAAAAAAAI/AAAAAAAAAyw/mLHBtE-PQic/photo.jpg?sz=128", "display_name": "Adi Levin", "link": "https://stackoverflow.com/users/5739035/adi-levin"}, "edited": false, "score": 2, "creation_date": 1454520722, "post_id": 35183698, "comment_id": 58084633, "body": "What&#39;s the error exactly?"}, {"owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "reply_to_user": {"reputation": 4858, "user_id": 5739035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-RQUt7m42pBk/AAAAAAAAAAI/AAAAAAAAAyw/mLHBtE-PQic/photo.jpg?sz=128", "display_name": "Adi Levin", "link": "https://stackoverflow.com/users/5739035/adi-levin"}, "edited": false, "score": 0, "creation_date": 1454520783, "post_id": 35183698, "comment_id": 58084675, "body": "Undefined symbols for architecture x86_64:   &quot;_generate_id&quot;, referenced from:       MainWindow::MainWindow(QWidget*) in mainwindow.o ld: symbol(s) not found for architecture x86_64 clang: error: linker command failed with exit code 1 (use -v to see invocation) make: *** [Ground_Control.app/Contents/MacOS/Ground_Control] Error 1 12:32:46: The process &quot;/usr/bin/make&quot; exited with code 2. Error while building/deploying project Ground_Control (kit: Desktop Qt 5.3 clang 64bit) When executing step &quot;Make&quot;  @AdiLevin"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 1, "creation_date": 1454521060, "post_id": 35183698, "comment_id": 58084854, "body": "Eh ... <i>are</i> you linking against the object files (or library) containing the definitions of these functions?"}, {"owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "reply_to_user": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454521235, "post_id": 35183698, "comment_id": 58084968, "body": "@DanielJour all I&#39;m doing is just #include &quot;/PATH/Ground_Server.h&quot;"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 1, "creation_date": 1454521352, "post_id": 35183698, "comment_id": 58085045, "body": "@JakeBrown You need to also compile the file(s) with the function definitions (presumably <code>Ground_Server.c</code>) which will yield a object file (e.g. <code>Ground_Server.o</code>) which you need to add to the linking phase of your build."}, {"owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "reply_to_user": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454521820, "post_id": 35183698, "comment_id": 58085350, "body": "So I can make the .o files when i compile &quot;gcc -c Ground_Server.c&quot; but will it not have to be done with g++ and if so then I will get a bunch of errors because I am using strlen in my c code... as well as other c specific functions. @DanielJour"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454523033, "post_id": 35183698, "comment_id": 58086104, "body": "&quot;c specific functions&quot; do not exist, they&#39;re just functions from the c standard library, compiled as every other function and thus accessible from any code linking against them (and using the correct calling convention)."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "edited": false, "score": 0, "creation_date": 1454529892, "post_id": 35184348, "comment_id": 58090255, "body": "Thanks for that! I went through and added the object files to the .pro file in QT and seems to have done the trick. Thanks for the example! @DanielJour"}], "tags": [], "owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "is_accepted": true, "score": 1, "last_activity_date": 1454522442, "creation_date": 1454522442, "answer_id": 35184348, "question_id": 35183698, "link": "https://stackoverflow.com/questions/35183698/linking-error-when-calling-a-c-header-file/35184348#35184348", "title": "Linking error when Calling a C header file", "body": "<p><code>#include \"foo.h\"</code> is only the textual inclusion of the contents of <code>foo.h</code> into the current compilation unit. If you implement a function in a different file, then you need to compile that file, too, and link the resulting object files to form an executable (or library).</p>\n\n<p>This does also apply when mixing C and C++ (or most other compiled) code: You compile the source code files with the compiler suitable for the language they're written in, and finally link everything together.</p>\n\n<p>So:</p>\n\n<h3>foo.h</h3>\n\n<pre><code>#ifndef FOO_H\n#define FOO_H 1\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\nint answer(void);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n\n<h2>foo.c</h2>\n\n<pre><code>int answer(void) {\n  return 42;\n}\n</code></pre>\n\n<h2>bar.cc</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"foo.h\"\n\nint main(int argc, char ** argv) {\n  std::cout &lt;&lt; \"The answer is \" &lt;&lt; answer() &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>\n\n<p>To create an executable from these files, you need to:</p>\n\n<pre><code>gcc -c foo.c   # Compile C file\ng++ -c bar.cc  # Compile C++ file\ng++ -o foobar foo.o bar.o # Link\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4105753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a1f604eb59b4b37e550bcddf01856d?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Brown", "link": "https://stackoverflow.com/users/4105753/jake-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1400, "favorite_count": 0, "accepted_answer_id": 35184348, "answer_count": 1, "score": 0, "last_activity_date": 1454522442, "creation_date": 1454520367, "last_edit_date": 1454520990, "question_id": 35183698, "link": "https://stackoverflow.com/questions/35183698/linking-error-when-calling-a-c-header-file", "title": "Linking error when Calling a C header file", "body": "<p>I am calling a C function from a header file I wrote in Qt written in Cpp. I keep getting a linking error when I try to compile my Qt Application.</p>\n\n<p>here is the header file:</p>\n\n<pre><code>#ifndef GROUND_SERVER_H\n#define GROUND_SERVER_H\n\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\nstruct system_info{\n    char id[33];\n};\n\n/*  Support function for the below function */\n    void Generate_Key(char*,char*,char*);\n\n/*  Runs the actual key generation as well as \n    moves the file to the respectful card or\n    USB drive inserted in the system that will\n    act as the user system key  */ \nvoid run_key_generation(struct system_info*,char*,char*);\n\n/*  Function to run the server on a selected \n    port at which the medium that the server \n    is to listen on will be connected.  */\nvoid run_server(unsigned short);\n\nvoid generate_id();\n\n#ifdef __cplusplus\n};\n#endif\n\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "ubuntu", "audio", "kinect", "openkinect"], "owner": {"reputation": 2676, "user_id": 1193350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/585e008945adc54ef63ac2c4116eeaa6?s=128&d=identicon&r=PG", "display_name": "the_naive", "link": "https://stackoverflow.com/users/1193350/the-naive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 672, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1454520357, "creation_date": 1454520357, "question_id": 35183694, "link": "https://stackoverflow.com/questions/35183694/getting-to-work-kinect-v2-as-microphone-in-ubuntu-14-04", "title": "Getting to work kinect v2 as microphone in ubuntu 14.04?", "body": "<p>I'm using Kinect v2 in Ubuntu 14.04 and trying to get a way to use it as a microphone using C++ as the programming language. I already have an application in C++ and Qt where the application redirects the audio streams from different audio input devices to some audio output devices. </p>\n\n<p>In that application, it is possible to get a list of available audio input devices for that PC. Currently, the application already lists <strong>Xbox NUI Sensor Analog 4-channel Input</strong> as one of the audio input devices, as does <strong>ubuntu sound settings application</strong>.  I have also checked if the Kinect Input audio device supports audio format of 44100 Hz sampling rate, sampling size of 16 bit, audio/pcm codec and 2 channel counts and apparently it does support.</p>\n\n<p>The problem is that, in my application, I cannot hear any sound on the output when I use kinect xbox as the microphone, whereas in case of other audio input devices I can hear the sound just fine. I'm not sure what the solution could be.</p>\n\n<p>I didn't find much about the microphone in <strong>libfreenect2</strong> pages either. I know that libfreenect2 lists <strong>\"audio transfer\"</strong> as one of it's missing features, but on the other hand in the documentation it is also written in the <strong>Issues and Future Work</strong> section.</p>\n\n<pre><code>Audio. There is basic access to Kinect v2's audio via ALSA (Linux). However, this is directional audio with intricate calibration, which is probably beyond the scope of this image processing library.\n</code></pre>\n\n<p>Does this mean that it's still possible to get access to the audio stream from Kinect V2 microphone via ALSA in ubuntu 14.04 or only the fact, at most, that the Ubunut system can only detect Kinect v2 as an audio input device but cannot be used for actual recording purposes? </p>\n\n<p>If it is the first case, could you suggest me how I can get an access to the audio stream of the Kinect microphone(I cannot find anything regarding the audio or the microphone in any of the docs of libfreenect2)? Do you have any other way to get kinect v2 microphone running apart from using libfreenect2?</p>\n"}, {"tags": ["c++", "function", "templates", "c++11", "function-pointers"], "comments": [{"owner": {"reputation": 4858, "user_id": 5739035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-RQUt7m42pBk/AAAAAAAAAAI/AAAAAAAAAyw/mLHBtE-PQic/photo.jpg?sz=128", "display_name": "Adi Levin", "link": "https://stackoverflow.com/users/5739035/adi-levin"}, "edited": false, "score": 1, "creation_date": 1454520576, "post_id": 35183660, "comment_id": 58084533, "body": "I don&#39;t have an answer, but I recommend the use of <code>std::function</code> instead of function pointers. It&#39;s more readable, and you don&#39;t deal with whether it is a pointer or not."}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "reply_to_user": {"reputation": 4858, "user_id": 5739035, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-RQUt7m42pBk/AAAAAAAAAAI/AAAAAAAAAyw/mLHBtE-PQic/photo.jpg?sz=128", "display_name": "Adi Levin", "link": "https://stackoverflow.com/users/5739035/adi-levin"}, "edited": false, "score": 0, "creation_date": 1454520725, "post_id": 35183660, "comment_id": 58084635, "body": "@AdiLevin <code>std::function</code> should only be used when necessary, that is when one really wants to store (!) callables that have nothing in common but being callable (with the respective arguments, returning the respective type). It adds a lot of overhead."}], "answers": [{"comments": [{"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 4, "creation_date": 1454520858, "post_id": 35183770, "comment_id": 58084727, "body": "<code>std::decay</code> is a good idea, wasn&#39;t thinking of it. You could also just <code>decltype(&amp;function)</code>: <a href=\"http://ideone.com/Af98uJ\" rel=\"nofollow noreferrer\">ideone.com/Af98uJ</a>"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "reply_to_user": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454520970, "post_id": 35183770, "comment_id": 58084794, "body": "@DanielJour cool! I wasn&#39;t aware that that expression will yield a pointer to function!"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1454522063, "post_id": 35183770, "comment_id": 58085494, "body": "@DavidHaim Nor was I.  It&#39;s one of those things that you wouldn&#39;t think would work, until you look at it again and realise it makes perfect sense.  <code>&amp;function</code> is a function pointer, so logically passing it to <code>decltype</code> would evaluate to the function pointer&#39;s type.  It&#39;s just too simple to be obvious, though."}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "reply_to_user": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454522535, "post_id": 35183770, "comment_id": 58085779, "body": "@DanielJour your solution is shorter and more correct than mine, post it"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1454522697, "post_id": 35183770, "comment_id": 58085887, "body": "@DavidHaim Just add it to your answer, it&#39;s basically just doing the decay (from function to function pointer) manually."}, {"owner": {"reputation": 19270, "user_id": 5501675, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9ea71bcc6b5c512a7d15da82db05f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/5501675/curious"}, "edited": false, "score": 0, "creation_date": 1454525311, "post_id": 35183770, "comment_id": 58087393, "body": "One more question.  So if decltype(function) does resolve to void(), why would it cause such drastic errors?  I&#39;m guessing its because functions aren&#39;t first class here but just wanted to make sure."}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 1, "creation_date": 1454525448, "post_id": 35183770, "comment_id": 58087468, "body": "the functions sit somwhere else in the memory as assembly instructions, you can&#39;t store that in a vector. what you can store is a pointer to something that will initialize a call to the assembly instructions. you can&#39;t store functions, only pointer to functions"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 1, "creation_date": 1454525541, "post_id": 35183770, "comment_id": 58087514, "body": "well, technically, if you write  a JIT compiler, you can, but that is completly different talk"}], "tags": [], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "is_accepted": true, "score": 7, "last_activity_date": 1454523276, "last_edit_date": 1454523276, "creation_date": 1454520613, "answer_id": 35183770, "question_id": 35183660, "link": "https://stackoverflow.com/questions/35183660/functions-and-function-pointers-in-c/35183770#35183770", "title": "Functions and function pointers in C++", "body": "<p><code>decltype(function)</code> is <code>void()</code> - a function.<br/>\nwhat you need is the decayed version of a function - <code>void(*)()</code>:<br/></p>\n\n<pre><code>std::decay&lt;decltype(function)&gt;::type\n\nstd::vector &lt; std::decay&lt;decltype(function)&gt;::type &gt; myPtrFunctionVec;\n</code></pre>\n\n<p>PS.<br/>\nif you're working with VC++ (visual stdio) you can easily see the type deduced from <code>decltype</code> by printing <code>typeid(decltype(XXX)).name()</code>. VC++, unlike other compilers, gives the undecorated name of a type. very handy for metaprogramming debugging.</p>\n\n<p><strong><em>EDIT:</em></strong><br/>\nas @Daniel Jour has commented, the solution <code>decltype(&amp;function)</code> workd as well, because the construct <code>&amp;f</code> gives the pointer to <code>f</code>, which is what you need </p>\n"}], "owner": {"reputation": 19270, "user_id": 5501675, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9ea71bcc6b5c512a7d15da82db05f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/5501675/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 35183770, "answer_count": 1, "score": 3, "last_activity_date": 1454523276, "creation_date": 1454520219, "question_id": 35183660, "link": "https://stackoverflow.com/questions/35183660/functions-and-function-pointers-in-c", "title": "Functions and function pointers in C++", "body": "<p>With reference to the following code</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\n#include &lt;vector&gt;\nusing std::vector;\n\nvoid function() {\n    cout &lt;&lt; \"Hello World\" &lt;&lt; endl;\n}\n\nint main() {\n    vector&lt;void (*) ()&gt; functions;\n    functions.push_back(function);         // (1) no error\n    functions.push_back(&amp;function);        // (2) no error\n    for (const auto&amp; func : functions) {\n        func();\n    }\n\n    // vector&lt;decltype(function)&gt; vec;     // (3) error\n    return 0;\n}\n</code></pre>\n\n<p>There seems to be an error when I uncomment (3), I am just trying to understand the reasoning behind this.  When I pass in a function as the argument to a templated function does it resolve the type to a function pointer? It would make sense for the compiler to deduce all function types as such to a function pointer but why then does the decltype() not resolve to a function pointer? </p>\n"}, {"tags": ["c++", "arrays", "unordered-map"], "comments": [{"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1454519385, "post_id": 35183379, "comment_id": 58083743, "body": "What are weird errors?"}, {"owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "reply_to_user": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1454519600, "post_id": 35183379, "comment_id": 58083869, "body": "<a href=\"https://gist.github.com/lokeshh/f1f007bc8d3756ff2c92\" rel=\"nofollow noreferrer\">gist.github.com/lokeshh/f1f007bc8d3756ff2c92</a>"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454519799, "post_id": 35183379, "comment_id": 58083997, "body": "<code>unordered_map</code> doesn&#39;t know how to hash a <code>std::array</code>."}, {"owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "reply_to_user": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454519862, "post_id": 35183379, "comment_id": 58084036, "body": "@101010 Are you sure? Because [this] (<a href=\"http://stackoverflow.com/questions/9848868/using-unordered-map-on-array-of-doubles\" title=\"using unordered map on array of doubles\">stackoverflow.com/questions/9848868/&hellip;</a>) answer here says it does."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1454520002, "post_id": 35183379, "comment_id": 58084126, "body": "@Lokesh Please put error messages verbatim in your question, not in a link."}, {"owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454520095, "post_id": 35183379, "comment_id": 58084188, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 It&#39;s 130 lines long and I have no idea which portion is the relevant one. That&#39;s why I have pasted the gist link."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454520111, "post_id": 35183379, "comment_id": 58084200, "body": "@Lokesh How are you sure that answer was correct?"}, {"owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454520174, "post_id": 35183379, "comment_id": 58084254, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I don&#39;t know for sure."}, {"owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "reply_to_user": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1454520837, "post_id": 35183379, "comment_id": 58084716, "body": "@101010 Hmm... That&#39;s sad to know. Anyway, I want use two integer values as the hash key. Isn&#39;t there any easy way other than define a struct and how to hash it?"}], "owner": {"reputation": 1984, "user_id": 2623749, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fcbbc9a5894aea56bce09a71a25e560f?s=128&d=identicon&r=PG", "display_name": "Lokesh", "link": "https://stackoverflow.com/users/2623749/lokesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1454519392, "answer_count": 0, "score": 0, "last_activity_date": 1454519618, "creation_date": 1454519310, "last_edit_date": 1454519618, "question_id": 35183379, "link": "https://stackoverflow.com/questions/35183379/compilation-error-while-creating-array-as-key-of-unordered-map", "closed_reason": "Duplicate", "title": "Compilation error while creating array as key of unordered map", "body": "<p>I am compiling the below program with <code>g++ -std=c++11 lol.cpp</code> and getting a weird error. Please help!</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;unordered_map&gt;\n#include &lt;array&gt;\n\nint main(void)\n{\n  std::unordered_map &lt;std::array&lt;int, 2&gt;, int&gt; abc;\n}\n</code></pre>\n\n<p>These are the errors: <a href=\"https://gist.github.com/lokeshh/f1f007bc8d3756ff2c92\" rel=\"nofollow\">https://gist.github.com/lokeshh/f1f007bc8d3756ff2c92</a></p>\n"}, {"tags": ["c++", "string", "stl"], "comments": [{"owner": {"reputation": 13218, "user_id": 1348273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IYjFG.jpg?s=128&g=1", "display_name": "Lingxi", "link": "https://stackoverflow.com/users/1348273/lingxi"}, "edited": false, "score": 4, "creation_date": 1454518806, "post_id": 35183147, "comment_id": 58083322, "body": "<code>size()</code> is required to be a constant-time operation."}, {"owner": {"reputation": 15898, "user_id": 1155000, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8213d9cd920e864ce8ff1fdeefe4db5?s=128&d=identicon&r=PG", "display_name": "Daniel Kamil Kozar", "link": "https://stackoverflow.com/users/1155000/daniel-kamil-kozar"}, "edited": false, "score": 0, "creation_date": 1454518890, "post_id": 35183147, "comment_id": 58083384, "body": "There is no algorithm. There&#39;s just a variable that tracks the number of items in a container."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 4, "creation_date": 1454519076, "post_id": 35183147, "comment_id": 58083515, "body": "The algorithm is &quot;return stored value&quot;."}, {"owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1454519327, "post_id": 35183147, "comment_id": 58083702, "body": "on what condition does the tracking stops as there is nothing like a reference or null character?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 15898, "user_id": 1155000, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8213d9cd920e864ce8ff1fdeefe4db5?s=128&d=identicon&r=PG", "display_name": "Daniel Kamil Kozar", "link": "https://stackoverflow.com/users/1155000/daniel-kamil-kozar"}, "edited": false, "score": 0, "creation_date": 1454519407, "post_id": 35183147, "comment_id": 58083757, "body": "@DanielKamilKozar: As far as I know, no algorithm is specified, and a <code>string</code> or <code>vector</code> may or may not store its size. As long as the size can be computed in constant time, the implementation can do anything it likes. It might retrieve a stored length, or it might retrieve a size in bytes and divide by the element size, or it might do a pointer subtraction."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1454519407, "post_id": 35183147, "comment_id": 58083756, "body": "@user3677837: What &quot;tracking&quot;? There <i>is no</i> tracking. It knows how much stuff you put into it. There&#39;s no algorithm; it&#39;s basically a variable stored in the class that keeps track of how much stuff you put in it."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1454519458, "post_id": 35183147, "comment_id": 58083793, "body": "@NicolBolas: Storing the size in a member variable within the object is certainly a plausible implementation, but it&#39;s not the only possible approach."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1454519860, "post_id": 35183147, "comment_id": 58084031, "body": "@KeithThompson: I said &quot;basically&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "is_accepted": false, "score": 6, "last_activity_date": 1454518917, "creation_date": 1454518917, "answer_id": 35183240, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector/35183240#35183240", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p>It doesn't use any algorithm. The class knows its size at all times.</p>\n"}, {"tags": [], "owner": {"reputation": 7097, "user_id": 1389898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f2a3f2624a47edc48464d4929a7508?s=128&d=identicon&r=PG", "display_name": "dlmeetei", "link": "https://stackoverflow.com/users/1389898/dlmeetei"}, "is_accepted": false, "score": 0, "last_activity_date": 1454526726, "last_edit_date": 1454526726, "creation_date": 1454519079, "answer_id": 35183298, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector/35183298#35183298", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p>Most of the case <code>size()</code> will be implemented  something like</p>\n\n<pre><code>size_t A::size() {\n    return len;\n}\n</code></pre>\n\n<p>where <code>A</code> is a class and <code>len</code> is a data member of class. Hence constant time. \nSecondly, some implementation might use <code>pointer arithmatics</code> which will still be constant time algo.\nWhenever possible, I will go with first approach</p>\n"}, {"tags": [], "owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1454519085, "creation_date": 1454519085, "answer_id": 35183299, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector/35183299#35183299", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p>If you look <a href=\"http://en.cppreference.com/w/cpp/container/vector/size\" rel=\"nofollow\">here</a> and <a href=\"http://www.cplusplus.com/reference/string/string/size/\" rel=\"nofollow\">here</a>, you will see that the time complexity of both <code>std::vector.size()</code> and <code>std::string.size()</code> run in constant time. This is because vectors store two pointers, <code>vector.begin()</code> and <code>vector.end()</code>. To find the size of the vector (or string), they just subtract the two to find the size. </p>\n\n<blockquote>\n  <p>Returns the number of elements in the container, i.e. <code>std::distance(begin(), end())</code>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2217, "user_id": 2903452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c29ac737f4bb84da93c1bc1ea7a931?s=128&d=identicon&r=PG&f=1", "display_name": "Balu", "link": "https://stackoverflow.com/users/2903452/balu"}, "is_accepted": false, "score": 0, "last_activity_date": 1454519768, "creation_date": 1454519768, "answer_id": 35183530, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector/35183530#35183530", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p><a href=\"https://github.com/gcc-mirror/gcc/blob/master/libstdc%2B%2B-v3/include/bits/stl_vector.h\" rel=\"nofollow\">Vector implementation</a></p>\n\n<pre><code>    // [23.2.4.2] capacity\n      /**  Returns the number of elements in the %vector.  */\n      size_type\n      size() const _GLIBCXX_NOEXCEPT\n      { return size_type(this-&gt;_M_impl._M_finish - this-&gt;_M_impl._M_start); }\n</code></pre>\n\n<p>It just subtracts the finish index - start index to get the size.</p>\n"}, {"tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1454531638, "last_edit_date": 1454531638, "creation_date": 1454520314, "answer_id": 35183679, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector/35183679#35183679", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p>The standard doesn't specify <em>how</em> <code>size()</code> is calculated, only that the calculation is done in constant time (for example, computing the size of a 1000-element vector doesn't take 10 times as long as computing the size of a 100-element vector).</p>\n\n<p>The specific algorithm might vary from one implementation to another. There might be a hidden member variable within the class that stores the current size, and <code>size()</code> simply retrieves its value. Or it might store the size in bytes, and <code>size()</code> retrieves that and divides by the element size. Or the object might store pointers to the beginning and end of the sequence, and <code>size()</code> could then compute the size using pointer arithmetic.</p>\n\n<p>All you need to know, and all you should care about, is that <code>size()</code> gives you the number of elements, and it's no more expensive for large strings/vectors than for small ones. (Unlike <code>strlen()</code> which, as you point out, is slower for longer strings.)</p>\n"}], "owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 5, "score": -3, "last_activity_date": 1454531638, "creation_date": 1454518707, "last_edit_date": 1454519927, "question_id": 35183147, "link": "https://stackoverflow.com/questions/35183147/what-algorithm-does-stl-size-use-to-find-the-size-of-a-string-or-vector", "title": "What algorithm does STL size() use to find the size of a string or vector?", "body": "<p>Which algorithm or idea does the STL <code>size()</code> function use to find the size of string or vector in C++?</p>\n\n<p>I know that working of <code>strlen()</code> is dependent on finding the <code>NUL</code> character in the C-style char array, but I want to know how the <code>size()</code> function works to find the size of string that is not null terminated, as we know.</p>\n\n<p>Do STL containers use some sort of pointers to mark the ending of container?</p>\n\n<p>And does that help in finding the size or something else?</p>\n"}, {"tags": ["c++", "windows", "sockets", "udp"], "comments": [{"owner": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 0, "creation_date": 1454520501, "post_id": 35183141, "comment_id": 58084474, "body": "Where exactly is the packet lost ? On the network ? The server OS ? The server software ? Reading your description, it looks like the packet is lost on the server software. This probably means there is a bug in the server code, but there isn&#39;t any information to help on this point."}, {"owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "reply_to_user": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 0, "creation_date": 1454521195, "post_id": 35183141, "comment_id": 58084947, "body": "Ah sorry, the packet is being dropped on the server side. The client retries and all works well. The packet is never received from the Windows IP stack at all, it is just lost/discarded. I was able to confirm this by reading out a certain unique ID in each packet and dumping it to an array. The ID&#39;s of the lost packets never appear. The thread code for the receive simply sits there and when the event is signaled it extracts the packet from the stack and passes it to an internal queue for processing while the thread waits for more."}, {"owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "reply_to_user": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 1, "creation_date": 1454521424, "post_id": 35183141, "comment_id": 58085091, "body": "Oh maybe I should point out the packet appears in Wireshark on the server side. That is how I know it is being sent to the server as well."}, {"owner": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 0, "creation_date": 1454522085, "post_id": 35183141, "comment_id": 58085506, "body": "But you confirm that the raw network API call doesn&#39;t receive the packet at all ? It&#39;s not just the internal queuing that fails ?"}, {"owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "reply_to_user": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 0, "creation_date": 1454522408, "post_id": 35183141, "comment_id": 58085693, "body": "I have confirmed I never receive the packet from the API call. I have a unique ID for each packet, and a bit of test code in client and server stores a list of all traffic in and out. The unique ID of the packets never show up on the server. So if the client sends ID 1, 2, 3, the server says it received 1, 3 for example. 2 is lost somewhere and yet Wireshark sees it."}, {"owner": {"reputation": 4991, "user_id": 4340578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75589faf097f9308a448ffe021defd1?s=128&d=identicon&r=PG&f=1", "display_name": "ElderBug", "link": "https://stackoverflow.com/users/4340578/elderbug"}, "edited": false, "score": 0, "creation_date": 1454522725, "post_id": 35183141, "comment_id": 58085906, "body": "Is it possible to show some of the server code ? At least the receive API call, with the logging code."}, {"owner": {"reputation": 152, "user_id": 2824826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e75362dfffa61a4c4c74cb82c846f32b?s=128&d=identicon&r=PG&f=1", "display_name": "Girish", "link": "https://stackoverflow.com/users/2824826/girish"}, "edited": false, "score": 0, "creation_date": 1599416688, "post_id": 35183141, "comment_id": 112761994, "body": "Did you find any solution? I am facing same problem with Windows 2016 and dot net udp client."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "edited": false, "score": 0, "creation_date": 1454521359, "post_id": 35183791, "comment_id": 58085047, "body": "Unfortunately I am stuck using UDP and there is no way around that. TCP would be the ultimate solution though."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "edited": false, "score": 1, "creation_date": 1454521574, "post_id": 35183791, "comment_id": 58085178, "body": "Then you need to implement duplicate packet detection, lost packet detection with retransmission, slow start, exponential backoff, and so on. Sorry. Study TCP to see how it does these things."}, {"owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "edited": false, "score": 0, "creation_date": 1454521980, "post_id": 35183791, "comment_id": 58085440, "body": "Yes some of these things are already implemented. I guess I am more curious as to why this happens, and why it seems the faster I communicate the more it loses while the buffers are seemingly not being overrun. Is that a behavior of UDP in general? I know it can lose stuff as it is not as robust as TVP, but is there some kind of upward limit I need to be aware of in terms of volume of traffic?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "edited": false, "score": 0, "creation_date": 1454522810, "post_id": 35183791, "comment_id": 58085972, "body": "@Radius There is an upward limit. You detect it by increasing your transmit rate gradually until you start losing datagrams. Then you back off."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1454520678, "creation_date": 1454520678, "answer_id": 35183791, "question_id": 35183141, "link": "https://stackoverflow.com/questions/35183141/windows-udp-packets-silently-dropped/35183791#35183791", "title": "Windows, UDP packets silently dropped", "body": "<p>TCP supports transmit pacing and dropped datagram detection with retransmission and exponential backoff. If you need these features when using UDP, you have to implement them yourself.</p>\n\n<p>If you need all, or almost all, of the features that TCP provides, using UDP is a huge mistake. It's unlikely in the extreme that you'll be able to implement them better than TCP does, considering that TCP has been developed and optimized by top experts both in network communication and in the details of your platform.</p>\n"}], "owner": {"reputation": 11, "user_id": 5879041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5e0853caf9d8e26bad2eba3ebb44ef?s=128&d=identicon&r=PG&f=1", "display_name": "Radius", "link": "https://stackoverflow.com/users/5879041/radius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1548, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454520678, "creation_date": 1454518697, "question_id": 35183141, "link": "https://stackoverflow.com/questions/35183141/windows-udp-packets-silently-dropped", "title": "Windows, UDP packets silently dropped", "body": "<p>I have read a lot about my particular issue and how it is related to buffers, but I am not certain I am having that kind of issue. Here's why:</p>\n\n<p>I have a UDP client/server program I wrote running. I am on Windows 7, this has been tested on a couple of Windows server OS's as well all with the same effect.</p>\n\n<p>I open a UDP connection between the client and server, and basically what happens is the client sends a request for information (Wireshark says the packet is 126 bytes in size) and the server receives it. The client now stays silent waiting for a reply. The server builds the response and sends it (usually between 200-600 bytes) and then waits for another request. There are no other communications happening between the client and server at all, and it always follows this sequence.</p>\n\n<p>Both client and server have threads dedicated to transmit and receive (so two threads) which immediately dump the packets into a buffer for consumption, speed here does not seem to be an issue.</p>\n\n<p>This runs flat out, I put a not-too-accurate delta count on incoming packets to the server and the server says on average we receive a new request every 15ms. So the turnaround time is very fast for the response which is nice.</p>\n\n<p>However, the 328th packet is being dropped silently on the server, it never reaches us. However, I have a rudimentary 6 second retry timer for the request which always succeeds. If I continue to run the problem persists, a few packets go fine, then one is dropped, a retry 6 seconds later, and all is well. A restart of the server fixes the issue.</p>\n\n<p>UDP buffers, changing this has zero effect. I allocated 10x the space it has by default yet same effect, same packet. I am not using MSG_PEEK on the receive function so the data should be extracted every time I request it.</p>\n\n<p>If I add a delay to the client traffic when sending, the issue clears right up. I have not yet dialed in a value for the timeout, but both 1 second and half a second cause the problem to clear up so far.</p>\n\n<p>This seems to be related to the volume of traffic? Is that a thing? I can't imagine my buffers are getting clogged here seeing as I don't actually receive that much and I clear out the buffer almost immediately. Am I tripping over some kind of flood protection here?</p>\n\n<p>All firewalls and AV programs are completely disabled.</p>\n"}, {"tags": ["c++", "string", "templates", "c++11"], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1454518886, "creation_date": 1454518886, "answer_id": 35183229, "question_id": 35182985, "link": "https://stackoverflow.com/questions/35182985/switching-between-stdto-string-and-tostring-depending-upon-template-type/35183229#35183229", "title": "Switching between std::to_string() and .toString() depending upon template type", "body": "<p>One way to do this is to use function overloads. Use a function template for all types that have a <code>toString</code> function. Use other overloads for types that need to use <code>std::to_string</code>.</p>\n\n<pre><code>template &lt;typename T\nstd::string toString(T const&amp; obj)\n{\n   return obj.toString();\n}\n\nstd::string toString(int obj)\n{\n   return std::to_string(obj);\n}\n\nstd::string toString(double obj)\n{\n   return std::to_string(obj);\n}\n</code></pre>\n\n<p>and then use </p>\n\n<pre><code>tempString += toString(tempNode-&gt;head) + ... ;\n</code></pre>\n\n<p>in <code>PriorityQueue::toString</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1454520183, "post_id": 35183511, "comment_id": 58084262, "body": "Well, I&#39;m mostly doing this for the fun of it, to practice writing data structures in C++ (I like to keep the knowledge fresh) and also for a personal project in which I&#39;d like to have more functions for a priority queue than the STL version.  Thanks for the information, I&#39;ll look into overloading the &lt;&lt; operator then."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1454520230, "post_id": 35183511, "comment_id": 58084306, "body": "This scales quite well. It is also nice to see how simple SFINAE bevomes with trailing return types and <code>decltype</code>. An alternative solution: implementing non-member <code>to_string</code> overloads, and then doing an ADL + &quot;using std::to_string` thing, as is commonly done with <code>swap</code>."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1454520322, "post_id": 35183511, "comment_id": 58084375, "body": "@ArchbishopOfBanterbury: &quot;more functions&quot; sounds ungood. The standard C++ way of adding more functions is, well, to add more functions :) And by that I mean free-standing template functions operating with iterators, just like all the ones in <code>&lt;algorithm&gt;</code>. The goal is to make your functions work with <i>any</i> container class that can act as a priority queue."}], "tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": false, "score": 6, "last_activity_date": 1454520211, "last_edit_date": 1495535443, "creation_date": 1454519709, "answer_id": 35183511, "question_id": 35182985, "link": "https://stackoverflow.com/questions/35182985/switching-between-stdto-string-and-tostring-depending-upon-template-type/35183511#35183511", "title": "Switching between std::to_string() and .toString() depending upon template type", "body": "<p>First of all, why do this when there is <code>std::priority_queue</code>?</p>\n\n<p>Second, it's usually a design error to have a <code>toString</code> member function, because it hard-wires data logic with data presentation. What you should do instead is to overload <code>operator&lt;&lt;</code> for your class such that you can pass instances to any <code>std::ostream</code>.</p>\n\n<p>Third, what you have asked for is to choose at compile time the \"correct\" string-conversion function depending on whether or not the type has a <code>toString</code> member function, and use <code>std::to_string</code> as a fallback. This can be achieved quite nicely in C++11 with a bit of template and <code>auto</code> magic. Here's an example:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nstruct Example\n{\n    std::string toString() const { return \"foo\"; }\n};\n\ntemplate &lt;class T&gt;\nauto ToString(T const&amp; t) -&gt; decltype(t.toString())\n{\n    std::cout &lt;&lt; \"Using toString\\n\";\n    return t.toString();\n}\n\ntemplate &lt;class T&gt;\nauto ToString(T const&amp; t) -&gt; decltype(std::to_string(t))\n{\n    std::cout &lt;&lt; \"Using std::to_string\\n\";\n    return std::to_string(t);\n}\n\nint main()\n{\n    Example e;\n    std::cout &lt;&lt; ToString(e) &lt;&lt; \"\\n\";\n\n    int i = 0;\n    std::cout &lt;&lt; ToString(i) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Using toString\nfoo\nUsing std::to_string\n0\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/17201329/c11-ways-of-finding-if-a-type-has-member-function-or-supports-operator\">C++11 ways of finding if a type has member function or supports operator?</a> (and especially the answer by user \"zah\").</p>\n\n<hr>\n\n<p>Still, I strongly recommend implementing the <code>operator&lt;&lt;</code> approach instead.</p>\n"}, {"tags": [], "owner": {"reputation": 5881, "user_id": 3590849, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oUHc5.png?s=128&g=1", "display_name": "tamas.kenez", "link": "https://stackoverflow.com/users/3590849/tamas-kenez"}, "is_accepted": false, "score": 1, "last_activity_date": 1454886027, "creation_date": 1454886027, "answer_id": 35260241, "question_id": 35182985, "link": "https://stackoverflow.com/questions/35182985/switching-between-stdto-string-and-tostring-depending-upon-template-type/35260241#35260241", "title": "Switching between std::to_string() and .toString() depending upon template type", "body": "<p>Use the next pattern which has been established with <code>std::swap</code>:</p>\n\n<p>For all your user types define a non-member <code>to_string</code> function in the same namespace where the user type itself is defined. This function may  call the member <code>toString</code> :</p>\n\n<pre><code>std::string to_string(const UserType&amp; x) {\n    return x.toString();\n}\n</code></pre>\n\n<p>Then in your function call <code>to_string</code> like this:</p>\n\n<pre><code>some_function() {\n    ...\n    using std::string;\n    ...\n    tempString += to_string(tempNode-&gt;head) ... // note: unqualified to_string!\n}\n</code></pre>\n\n<p>This solution makes use of a C++ feature called <code>ADL</code> (argument-dependent lookup). You can read more about it here: <a href=\"http://en.cppreference.com/w/cpp/language/adl\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/adl</a></p>\n"}], "owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1454886027, "creation_date": 1454518271, "question_id": 35182985, "link": "https://stackoverflow.com/questions/35182985/switching-between-stdto-string-and-tostring-depending-upon-template-type", "title": "Switching between std::to_string() and .toString() depending upon template type", "body": "<p>I'm currently programming my own <code>PriorityQueue</code> data structure in C++ which I have made into a template class with <code>typename T</code>. </p>\n\n<p>The <code>toString()</code> member function of my class is defined as:</p>\n\n<pre><code>/**\n * @brief Gives a std::string representation of this queue structure\n *\n * The priority queue is returned as a string in the following format:\n *\n * \\code{.cpp}\n * Data Item        Priority\n * [Item]           [P1]\n * [Item]           [P2]\n * [Item]           [P3]\n * \\endcode\n *\n * where P1 &lt; P2 &lt; P3.\n *\n * @return String representation of this priority queue\n */\nstd::string toString() const {\n\n    std::string tempString = \"\";\n\n    // initialise temporary node to front of priority queue\n    PQNode&lt;T&gt;* tempNode = front;\n\n    // append string with headers\n    tempString += \"Data Item \\t\\t Priority\\n\";\n\n    // while tempNode is not null, continue appending queue items to string\n    while (tempNode != nullptr) {\n\n        tempString += std::to_string(tempNode-&gt;head) + \"\\t\\t\\t \" + std::to_string(tempNode-&gt;priority) + \"\\n\";\n\n        // shift tempNode to tail of current tempNode (moving along queue)\n        tempNode = tempNode-&gt;tail;\n\n    }\n\n    return tempString;\n\n}\n</code></pre>\n\n<p>How could I code this such that <code>std::to_string()</code> is used within this method if the type of the template is a primitive such as an <code>int</code> or <code>double</code> and <code>.toString()</code> (calling the toString method of the passed class) is called if the type of the template is a class with its own <code>toString</code> member function?</p>\n\n<p>I presume there is a way to do it with <code>#ifndef</code> clauses however I don't have much experience using these.</p>\n"}, {"tags": ["c++", "templates", "sfinae"], "comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1454520180, "post_id": 35182975, "comment_id": 58084258, "body": "This is a bit of a nitpick, but you could derive your basic <code>is_STL_container</code> from <code>std::false_type</code> and your specialised ones from <code>std::true_type</code> (both in <code>&lt;type_traits&gt;</code>), if you wanted to.  They were pretty much made for switching based on a bool/enable_if/anything of the sort, I believe.  (They&#39;re instantiations of <code>std::integral_constant</code>, which is designed to allow you to treat a value as a type.)  Not worth changing your code for now, but it might be useful to remember in the future."}], "answers": [{"tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1454519062, "last_edit_date": 1454519062, "creation_date": 1454518686, "answer_id": 35183134, "question_id": 35182975, "link": "https://stackoverflow.com/questions/35182975/troubles-with-sfinae/35183134#35183134", "title": "troubles with SFINAE", "body": "<p><code>std::enable_if</code> is a metafuction returning a type (defaulted to void).<br>\nAs such, you main <code>operator-</code> statement is malformed.</p>\n\n<p>You must change the template <code>class</code> parameter to look like this  </p>\n\n<pre><code>class = typename std::enable_if_t&lt;is_STL_container&lt;T1&gt;::value &amp;&amp;\n                                  is_STL_container&lt;T2&gt;::value&gt;\n</code></pre>\n\n<p>Or this:  </p>\n\n<pre><code>class = typename std::enable_if&lt;is_STL_container&lt;T1&gt;::value &amp;&amp;\n                                is_STL_container&lt;T2&gt;::value&gt;::type\n</code></pre>\n\n<p>You can find the fixed program <a href=\"http://ideone.com/AuemP3\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454519490, "post_id": 35183294, "comment_id": 58083805, "body": "actually the first code of yours isn&#39;t a very good example while nothing is stopping you from having anonymous template argument..."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454520699, "post_id": 35183294, "comment_id": 58084620, "body": "@WojciechFrohmberg it&#39;s possible. you would need to write <code>class=defaultarg</code>."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454520856, "post_id": 35183294, "comment_id": 58084725, "body": "by anonymous I meant without a name like in case of your third template argument - not with default value..."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454521037, "post_id": 35183294, "comment_id": 58084838, "body": "@WojciechFrohmber sorry don&#39;t understand this."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454521162, "post_id": 35183294, "comment_id": 58084922, "body": "In other words your code: &#39;template &lt;class T1, class T2, int&gt;&#39; is perfectly legal while the third argument can be of type constexpr int but have no label..."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1454521308, "post_id": 35183294, "comment_id": 58085012, "body": "@WojciechFrohmberg oh you mean non-type parameter. Fixing."}], "tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1454521324, "last_edit_date": 1454521324, "creation_date": 1454519072, "answer_id": 35183294, "question_id": 35182975, "link": "https://stackoverflow.com/questions/35182975/troubles-with-sfinae/35183294#35183294", "title": "troubles with SFINAE", "body": "<p>Consider this definition</p>\n\n<pre><code>template &lt;class T1, class T2, class int&gt; int operator- ...\n</code></pre>\n\n<p>This is blatantly incorrect, right? But you have written only slightly more complicated version of it.</p>\n\n<p>What you neef is</p>\n\n<pre><code>template &lt;class T1, class T2&gt;\ntypename std::enable_if&lt;whatever&gt;::type\noperator- ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1454519408, "post_id": 35183370, "comment_id": 58083758, "body": "The changes you made are unnecessarily limiting. <code>std:set_difference</code> can quite easily accept iterators of different types."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1454519495, "post_id": 35183370, "comment_id": 58083812, "body": "@StoryTeller I was actually editing the answer to include a note about my usage of <code>T</code> versus <code>T1</code> and <code>T2</code> when you left your comment."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1454520903, "post_id": 35183370, "comment_id": 58084757, "body": "Not just vectors of different types, but different datatypes altogether."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1454521073, "post_id": 35183370, "comment_id": 58084868, "body": "@StoryTeller Yes, you&#39;re correct. As written it would exclude using <code>operator-</code> with <code>std::vector&lt;int&gt;</code> and <code>std::set&lt;int&gt;</code>."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1454521928, "post_id": 35183370, "comment_id": 58085407, "body": "@StoryTeller Thank you for pointing that out, I added an edit."}], "tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": true, "score": 4, "last_activity_date": 1454521878, "last_edit_date": 1454521878, "creation_date": 1454519275, "answer_id": 35183370, "question_id": 35182975, "link": "https://stackoverflow.com/questions/35182975/troubles-with-sfinae/35183370#35183370", "title": "troubles with SFINAE", "body": "<p>There are a number of syntax errors with your code. The following example below works.</p>\n\n<p><strong>Note:</strong> The <code>operator-</code> below is templated on <code>T</code> instead of <code>T1</code> and <code>T2</code> because I wasn't sure you actually wanted to allow <code>operator-</code> to work when using vectors of different types, e.g. <code>std::vector&lt;int&gt;</code> and <code>std::vector&lt;double&gt;</code>.</p>\n\n<h3>Example Code</h3>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;set&gt;\n#include &lt;vector&gt;\n\n#define RANGE(x) (x).begin(), (x).end()\n\ntemplate&lt;class T&gt;\nstruct is_STL_container\n{\n    static const bool value = false;\n};\n\ntemplate&lt;class T, typename alloc&gt;\nstruct is_STL_container&lt;std::vector&lt;T, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\ntemplate&lt;class T, class comp, typename alloc&gt;\nstruct is_STL_container&lt;std::set&lt;T, comp, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\ntemplate &lt;class T&gt;\ntypename std::enable_if&lt;is_STL_container&lt;T&gt;::value &amp;&amp; is_STL_container&lt;T&gt;::value, T&gt;::type\noperator-(const T &amp;l, const T &amp;r)\n{\n    T result;\n    std::set_difference(RANGE(l), RANGE(r), std::back_inserter(result));\n    return result;\n}\n\nint main()\n{\n    std::vector&lt;int&gt; a = { 1, 2, 3, 4, 5 };\n    std::vector&lt;int&gt; b = { 2, 3, 4 };\n    std::vector&lt;int&gt; r = a - b;\n    for (const auto&amp; v : r)\n    {\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n    }\n\n    return 0;\n}\n</code></pre>\n\n<h3>Example Output</h3>\n\n<pre><code>1 5 \n</code></pre>\n\n<p><a href=\"https://ideone.com/IWHpbd\" rel=\"nofollow\">Live Example</a></p>\n\n<hr>\n\n<h3>Edit 1</h3>\n\n<p><strong>Note:</strong> As pointed out in the comments by @StoryTeller, templating <code>operator-</code> on just <code>T</code> would prevent the valid usage of <code>operator-</code> between <code>std::vector&lt;int&gt;</code> and <code>std::set&lt;int&gt;</code> (as attempted by the OP). The following code uses <code>T1</code> and <code>T2</code> to resolve this issue.</p>\n\n<h3>Example Code</h3>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;cassert&gt;\n#include &lt;iostream&gt;\n#include &lt;set&gt;\n#include &lt;typeinfo&gt;\n#include &lt;vector&gt;\n\n#define RANGE(x) (x).begin(), (x).end()\n\ntemplate&lt;class T&gt;\nstruct is_STL_container\n{\n    static const bool value = false;\n};\n\ntemplate&lt;class T, typename alloc&gt;\nstruct is_STL_container&lt;std::vector&lt;T, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\ntemplate&lt;class T, class comp, typename alloc&gt;\nstruct is_STL_container&lt;std::set&lt;T, comp, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\n\ntemplate &lt;class T1, class T2&gt;\ntypename std::enable_if&lt;is_STL_container&lt;T1&gt;::value &amp;&amp; is_STL_container&lt;T2&gt;::value, T1&gt;::type\noperator-(const T1 &amp;l, const T2 &amp;r)\n{\n    assert(typeid(typename T1::value_type) == typeid(typename T2::value_type));\n\n    T1 result;\n    std::set_difference(RANGE(l), RANGE(r), std::back_inserter(result));\n    return result;\n}\n\nint main()\n{\n    std::vector&lt;int&gt; a = { 1, 2, 3, 4, 5 };\n    std::vector&lt;int&gt; b = { 2, 3, 4 };\n    std::set&lt;int&gt; c = { 2, 3, 4 };\n\n    std::vector&lt;int&gt; r = a - b;\n    for (const auto&amp; v : r)\n    {\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n    }\n\n    std::cout &lt;&lt; \"\\n\";\n\n    r = a - c;\n    for (const auto&amp; v : r)\n    {\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n    }\n\n    return 0;\n}\n</code></pre>\n\n<h3>Example Output</h3>\n\n<pre><code>1 5 \n1 5 \n</code></pre>\n\n<p><a href=\"https://ideone.com/ermlO6\" rel=\"nofollow\">Live Example</a></p>\n"}], "owner": {"reputation": 459, "user_id": 1334336, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/947ea27d3ffe8def620dab610c233767?s=128&d=identicon&r=PG", "display_name": "Uzaku", "link": "https://stackoverflow.com/users/1334336/uzaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "accepted_answer_id": 35183370, "answer_count": 3, "score": 0, "last_activity_date": 1454521878, "creation_date": 1454518244, "last_edit_date": 1454518579, "question_id": 35182975, "link": "https://stackoverflow.com/questions/35182975/troubles-with-sfinae", "title": "troubles with SFINAE", "body": "<p>I tried to overload the operator- so that it applies set difference to its arguments. Since I couldn't figure out how to restrict it to STL containers only (because If I dont, it will overwriter every operator- it seems), I tried to restrict it to set and vector only, because I'd use it with those two.\nHere is my code:</p>\n\n<pre><code>#define RANGE(x) (x).begin(), (x).end()\n\ntemplate&lt;class T&gt;\nstruct is_STL_container\n{\n    static const bool value = false;\n};\n\ntemplate&lt;class T, typename alloc&gt;\nstruct is_STL_container&lt;std::vector&lt;T, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\ntemplate&lt;class T, class comp, typename alloc&gt;\nstruct is_STL_container&lt;std::set&lt;T, comp, alloc&gt;&gt;\n{\n    static const bool value = true;\n};\n\n\ntemplate &lt;class T1, class T2,\nclass std::enable_if&lt;is_STL_container&lt;T1&gt;::value &amp;&amp; is_STL_container&lt;T2&gt;::value, T1&gt;::type&gt;\nT1 operator - (const T1 &amp;l, const T2 &amp;r)\n{\n    assert(typeid(T1::value_type) == typeid(T2::value_type));\n\n    std::vector&lt;T1::value_type&gt; result;\n    std::set_difference(RANGE(l), RANGE(r), std::back_inserter(result));\n    return T1(RANGE(result));\n}\n</code></pre>\n\n<p>But when I try to compile my program i get the following errors:</p>\n\n<pre><code>Error   2   error C1903: unable to recover from previous error(s); stopping compilation C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\include\\algorithm    3071    1   TrafficLight\nError   1   error C2893: Failed to specialize function template 'unknown-type std::less&lt;void&gt;::operator ()(_Ty1 &amp;&amp;,_Ty2 &amp;&amp;) const'  C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\include\\algorithm    3071    1   TrafficLight\n</code></pre>\n\n<p>I can't figure out the problem\nIm using VS2013</p>\n\n<p>Best Regards\nUzaku</p>\n"}, {"tags": ["c++", "reference", "char", "ascii", "memory-address"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 4, "creation_date": 1454518152, "post_id": 35182854, "comment_id": 58082805, "body": "The address of <code>char</code> results in <code>char*</code> which is the type used for &quot;strings&quot; therefore it is printed as a string of characters but it isn&#39;t properly null terminated. Does <code>std::cout &lt;&lt; static_cast&lt;void*&gt;(&amp;b) &lt;&lt; std::endl;</code> work for you?"}, {"owner": {"reputation": 607, "user_id": 2329304, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ffde4a86aa5db37f543da8717225f7ef?s=128&d=identicon&r=PG", "display_name": "Stephen DeSalvo", "link": "https://stackoverflow.com/users/2329304/stephen-desalvo"}, "reply_to_user": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454656534, "post_id": 35182854, "comment_id": 58151215, "body": "I appreciate the comment, but I was asking whether or not this was defined behavior according to the Standard."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1454676421, "post_id": 35182854, "comment_id": 58163199, "body": "Reading beyond the end of an array results in undefined behavior."}, {"owner": {"reputation": 607, "user_id": 2329304, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ffde4a86aa5db37f543da8717225f7ef?s=128&d=identicon&r=PG", "display_name": "Stephen DeSalvo", "link": "https://stackoverflow.com/users/2329304/stephen-desalvo"}, "reply_to_user": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1454726982, "post_id": 35182854, "comment_id": 58187979, "body": "Ok, I decided to look for myself and found the quote on page 112 of N4431: &quot;The result of the unary &amp; operator is a pointer to its operand.&quot;  I understand this is what James was saying but I was looking for a concrete statement in the Standard.  So then taking the address of char is defined behavior, but using it with std::cout yields undefined behavior for the reason James mentioned.  I couldn&#39;t find a quote in the Standard for the last part even though I know it is true."}], "owner": {"reputation": 607, "user_id": 2329304, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ffde4a86aa5db37f543da8717225f7ef?s=128&d=identicon&r=PG", "display_name": "Stephen DeSalvo", "link": "https://stackoverflow.com/users/2329304/stephen-desalvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1455280685, "creation_date": 1454517944, "last_edit_date": 1495542668, "question_id": 35182854, "link": "https://stackoverflow.com/questions/35182854/is-stdcout-of-a-char-reference-defined-by-the-standard", "title": "Is std::cout of a char reference defined by the standard?", "body": "<p>I have read <a href=\"https://stackoverflow.com/questions/29188668/cout-and-char-address\">this post</a> and the answers indicate a behavior described in a paragraph below.  I am not trying to make it work on my machine, or find a workaround to make it work on my machine, it is a question of is it defined behavior according to the standard.</p>\n\n<p>Consider the following code which creates an int variable, an int-reference variable, and prints out the result of calling the address-operator on the int-reference variable</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n\n    int a = 70;\n    int&amp; b = a;\n\n    std::cout &lt;&lt; &amp;b &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>It prints out what I would expect, which is an address in memory, i.e., the address of int variable a.</p>\n\n<p>But now I change int to char, or unsigned char, or signed char, and both on Xcode (Version 6.4) and Visual Studio (VS 2013 Ultimate) I get unexpected behavior.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n\n    // or unsigned char or signed char, same weird behavior    \n    char a = 70; \n    char&amp; b = a; \n\n    std::cout &lt;&lt; &amp;b &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>In Xcode, the console prints something like F\\330\\367\\277_\\377 .  I get that F is the ASCII code for 70, but I do not understand the rest of it.  I assume it is also a set of ASCII characters, since on Visual Studio it prints out the F followed by some weird characters.</p>\n\n<p>I tried other integer types and it worked fine.  And I know that often char/signed char/unsigned char or some combination of them are implemented as the same type.  The only thing I can think of is that the reference type is being implemented as a pointer type and then interpreting the call to &amp;b as returning a pointer type, and then std::cout is taking its input to mean to print out all characters in a char array. </p>\n\n<p>Is this defined behavior?  </p>\n\n<p>To reiterate: my question is more specifically, is this a defined behavior which is part of the standard, is this behavior not defined by the standard, is this a non-standard implementation of the compilers?  Something else?</p>\n"}, {"tags": ["c++", "cocos2d-x", "cocos2d-android"], "answers": [{"comments": [{"owner": {"reputation": 1372, "user_id": 1095884, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e57f4ee10e8e1ac9e774e818f92ebfc3?s=128&d=identicon&r=PG", "display_name": "esio", "link": "https://stackoverflow.com/users/1095884/esio"}, "edited": false, "score": 0, "creation_date": 1454568204, "post_id": 35191232, "comment_id": 58105116, "body": "Thank you, it works. Now I need fix problem withe segmentation fault after removing my sprite. :)"}, {"owner": {"reputation": 177, "user_id": 3616855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXKaR.jpg?s=128&g=1", "display_name": "Safwan Ahmed", "link": "https://stackoverflow.com/users/3616855/safwan-ahmed"}, "reply_to_user": {"reputation": 1372, "user_id": 1095884, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e57f4ee10e8e1ac9e774e818f92ebfc3?s=128&d=identicon&r=PG", "display_name": "esio", "link": "https://stackoverflow.com/users/1095884/esio"}, "edited": false, "score": 0, "creation_date": 1454589210, "post_id": 35191232, "comment_id": 58118100, "body": "Can you please explain more about your new issue?"}, {"owner": {"reputation": 1372, "user_id": 1095884, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e57f4ee10e8e1ac9e774e818f92ebfc3?s=128&d=identicon&r=PG", "display_name": "esio", "link": "https://stackoverflow.com/users/1095884/esio"}, "edited": false, "score": 0, "creation_date": 1454673981, "post_id": 35191232, "comment_id": 58161560, "body": "Yes, of course. I&#39;ve modified my code as you suggest.  This works first time, but second or third time when I click I&#39;ve got a segmentation faul. I haven&#39;t ran gdb to debug this issue yet. If I don&#39;t remove object everything will works but I have a lot of sprites. I test this code on Linux. I didn&#39;t test on Android.  Thank you for your attention and willingness to help. It&#39;s nice."}, {"owner": {"reputation": 177, "user_id": 3616855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXKaR.jpg?s=128&g=1", "display_name": "Safwan Ahmed", "link": "https://stackoverflow.com/users/3616855/safwan-ahmed"}, "reply_to_user": {"reputation": 1372, "user_id": 1095884, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e57f4ee10e8e1ac9e774e818f92ebfc3?s=128&d=identicon&r=PG", "display_name": "esio", "link": "https://stackoverflow.com/users/1095884/esio"}, "edited": false, "score": 0, "creation_date": 1454779388, "post_id": 35191232, "comment_id": 58201919, "body": "Are you reusing the removed sprite? If so then don&#39;t cleanup and just remove and retain the object somewhere so it should not be released. Use following for removing:##this-&gt;removeFromParentAndCleanup(false);"}], "tags": [], "owner": {"reputation": 177, "user_id": 3616855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXKaR.jpg?s=128&g=1", "display_name": "Safwan Ahmed", "link": "https://stackoverflow.com/users/3616855/safwan-ahmed"}, "is_accepted": true, "score": 1, "last_activity_date": 1454551763, "creation_date": 1454551763, "answer_id": 35191232, "question_id": 35182840, "link": "https://stackoverflow.com/questions/35182840/cocos2d-x-run-parent-action-from-child/35191232#35191232", "title": "cocos2d-x Run parent action from child", "body": "<p>User this->getParent() in Latter class to access Layer class from and then call any method written there incuding createLetter() or any new method to pass integer.</p>\n\n<h1>#</h1>\n\n<pre><code>YourLayerClass* layerObject = (YourLayerClass*)this-&gt;getParent();\nlayerObject-&gt;sendData(3);\nlayerObject-&gt;createLetter();\nthis-&gt;removeFromParentAndCleanup(true);\n</code></pre>\n"}], "owner": {"reputation": 1372, "user_id": 1095884, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e57f4ee10e8e1ac9e774e818f92ebfc3?s=128&d=identicon&r=PG", "display_name": "esio", "link": "https://stackoverflow.com/users/1095884/esio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 35191232, "answer_count": 1, "score": 0, "last_activity_date": 1454551763, "creation_date": 1454517895, "question_id": 35182840, "link": "https://stackoverflow.com/questions/35182840/cocos2d-x-run-parent-action-from-child", "title": "cocos2d-x Run parent action from child", "body": "<p>I try to write a simple game using cocos2d-x library.</p>\n\n<p>I created class (named Letter) to spawn sprite with random letter as a label and add a listener because I want to catch touch events.\nI've a function:</p>\n\n<pre><code>listener-&gt;onTouchEnded = [=](cocos2d::Touch* touch, cocos2d::Event* event)\n{\n    CCLOG(\"press\");\n    Letter::touchEvent(touch, event);\n};\n</code></pre>\n\n<p>and action:</p>\n\n<pre><code>void Letter::touchEvent(cocos2d::Touch* touch, cocos2d::Event* event)\n{\n    this-&gt;removeFromParentAndCleanup(true);\n    CCLOG(\"touched MySprite\");\n}\n</code></pre>\n\n<p>In my Layer I have a function to spawn instance of Letter class:</p>\n\n<pre><code>{\n    CCLOG(\"new letter\");\n    Letter* _letter = Letter::create();\n\n    addChild(_letter, 1);\n}\n</code></pre>\n\n<p>And of course in init() i create a one letter:</p>\n\n<pre><code>this-&gt;createLetter();\n</code></pre>\n\n<p>Now, I want to create action which runs after touch to send some information (int) to my Layer, destroy Sprite and run createLetter(); again.</p>\n\n<p>How can I do this? I tried create CC_CALLBACK_1 and something but I don't have idea what I need to do. :(</p>\n\n<p>I'm not C++ master but I think I've basic knowledge about C++, I'm a system administrator, but I would like to try something net.</p>\n\n<p>Thank you for help.</p>\n"}, {"tags": ["c++", "multithreading", "mfc"], "comments": [{"owner": {"reputation": 15221, "user_id": 1023911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Wln26.jpg?s=128&g=1", "display_name": "Werner Henze", "link": "https://stackoverflow.com/users/1023911/werner-henze"}, "edited": false, "score": 0, "creation_date": 1454520649, "post_id": 35182750, "comment_id": 58084572, "body": "Do some logging to check what the processing thread is doing. Maybe it is doing work and a lot of WM_MSG_RCV are waiting in the queue? Or maybe someone played around with the thread priorities?"}, {"owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1454522335, "post_id": 35182750, "comment_id": 58085656, "body": "<code>on this log we have a block of 4 or 5 receipt messages, followed by 4 or 5 process messages, then ...</code> It&#39;s hard to tell without more details, but it might be a good idea to do a <code>Sleep(0);</code> after <code>PostThreadMessageA</code> so that the processing thread gets a chance to run right away. Otherwise the loop will keep doing <code>PostThreadMessageA</code> until its time slice ends."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1454522698, "post_id": 35182750, "comment_id": 58085888, "body": "This would be a good time to instrument your service using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb968803.aspx\" rel=\"nofollow noreferrer\">Event Tracing for Windows</a>. Tracing can be started and stopped on demand, in live systems, providing invaluably helpful data for diagnostics and analysis."}], "owner": {"reputation": 1317, "user_id": 1014679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/337f44cf793b4ee4ce848da801e34dd2?s=128&d=identicon&r=PG", "display_name": "Raiden616", "link": "https://stackoverflow.com/users/1014679/raiden616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454517685, "creation_date": 1454517685, "question_id": 35182750, "link": "https://stackoverflow.com/questions/35182750/c-mfc-processor-thread-lagging", "title": "C++ MFC processor thread lagging", "body": "<p>I am trying to debug a C++ MFC windows service application as we have found that in high-intensity environment there becomes a lag between the receipt and processing of third-party messages.</p>\n\n<p>The service listens for received messages from a third-party system. On receiving a message, it passed the message to a dedicated processing thread which does all the processing of the command. The problem, as aforementioned, is that we are seeing a significant lag in the receipt and processing. We can see this because all messages include a sequence number. For example, our tracing reports that the main thread receives a message with sequence number 867 at 13:00:00, but we do not see the corresponding trace from the processing thread until 13:00:38 (this is a real-time system, so ideally it would be instantaneous).</p>\n\n<p>I can also see in the tracing that, where on a normal system we would see a clean sequence of Receipt-Process-Receipt-Process-Recepit-Process etc..... on this log we have a block of 4 or 5 receipt messages, followed by 4 or 5 process messages, then another 4 or 5 receipt messages, and so on. Since these are running on different threads this surprises me, as I would expect to see the traces interspersed, even if delayed.</p>\n\n<p>In the code, there is a message map like so:</p>\n\n<pre><code>BEGIN_MESSAGE_MAP(CProcessorThread, CWinThread)\nON_THREAD_MESSAGE(WM_MSG_RCV, OnReceive)\nEND_MESSAGE_MAP()\n</code></pre>\n\n<p>The thread class looks like this (slightly abridged):</p>\n\n<pre><code>class CProcessorThread : public CWinThread {\nprotected:\n    DECLARE_MESSAGE_MAP()\nprivate:\n    CAMProcessingObject *obj;\n\n    afx_msg void OnReceive(WPARAM wParam, LPARAM lParam) {\n        CString* strRecData = (CString*)wParam;\n        CString&amp; sTemp = *strRecData;\n\n        // Various checks and filters are done here\n        if (true) {\n            obj-&gt;ProcessMessage(sTemp);\n        }\n\n        delete strRecData;\n    }\n}\n</code></pre>\n\n<p>Here is the method that initially receives the message from the third-party system (again, abridged):</p>\n\n<pre><code>DWORD WINAPI CAMReceiving::ThreadReceive( void * args) {\n    CAMObject * camObject = (CAMObject *) args;\n    char chTemp[500];\n    while(true) {\n\n        // Get the message from the socket\n        memset(chTemp, 0, sizeof(chTemp));\n        iRecvLen = camObject-&gt;objsocket.ReceiveData(chTemp, sizeof(chTemp) - 1);    \n\n        CString strEventNotification = _T(\"\");\n\n        // Do various processing to populate the strEventNotification CString and make sure we want to process this message\n\n        CString* strEvent = new CString(strEventNotification);\n        processorThread.PostThreadMessageA(WM_MSG_RCV,(WPARAM)strEvent,0);\n        continue;\n    }\n    return 1;\n}\n</code></pre>\n\n<p>So as you may tell I didn't write this and I'm not particular familiar with the multithreading methods in C++, so my question is really is there something fundamentally wrong with this design? Or is there something I don't know that is going to cause me problems here? Thanks in advance!</p>\n"}, {"tags": ["c++", "mysql", "qt", "qt5"], "answers": [{"comments": [{"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454518458, "post_id": 35182994, "comment_id": 58083047, "body": "I already saw them. Unfortunately, I don&#39;t have libmysqlclient.dll, only its static version (.lib file). I also tried to copy the whole <code>sqldrivers</code> directory to the <code>debug</code> folder and it didn&#39;t help"}, {"owner": {"reputation": 2646, "user_id": 4922156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ei9fjwhlntQ/AAAAAAAAAAI/AAAAAAAAAJo/-jTWrZrdoSI/photo.jpg?sz=128", "display_name": "drosam", "link": "https://stackoverflow.com/users/4922156/drosam"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454519304, "post_id": 35182994, "comment_id": 58083687, "body": "And do you have the qmyssql.dll?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454520349, "post_id": 35182994, "comment_id": 58084386, "body": "Yes, in the sqldrivers directory"}, {"owner": {"reputation": 2646, "user_id": 4922156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ei9fjwhlntQ/AAAAAAAAAAI/AAAAAAAAAJo/-jTWrZrdoSI/photo.jpg?sz=128", "display_name": "drosam", "link": "https://stackoverflow.com/users/4922156/drosam"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454521902, "post_id": 35182994, "comment_id": 58085396, "body": "I think the problem is because you don&#180;t have the <code>libmysql.dll</code>. Think that sometimes a .lib file is only a &#39;bridge&#39; between the application and the .dll. Check this, maybe you don&#180;t have seen before <a href=\"http://seppemagiels.com/blog/create-mysql-driver-qt5-windows\" rel=\"nofollow noreferrer\">seppemagiels.com/blog/create-mysql-driver-qt5-windows</a>"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454529099, "post_id": 35182994, "comment_id": 58089772, "body": "I already put libmysql.dll near the executable file and in the sqldrivers directory"}, {"owner": {"reputation": 2646, "user_id": 4922156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ei9fjwhlntQ/AAAAAAAAAAI/AAAAAAAAAJo/-jTWrZrdoSI/photo.jpg?sz=128", "display_name": "drosam", "link": "https://stackoverflow.com/users/4922156/drosam"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454537820, "post_id": 35182994, "comment_id": 58094844, "body": "And have you rebuilt your app?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454564143, "post_id": 35182994, "comment_id": 58103414, "body": "Why should I rebuild an app after putting a .dll file? But yes, I already tried it"}, {"owner": {"reputation": 2646, "user_id": 4922156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ei9fjwhlntQ/AAAAAAAAAAI/AAAAAAAAAJo/-jTWrZrdoSI/photo.jpg?sz=128", "display_name": "drosam", "link": "https://stackoverflow.com/users/4922156/drosam"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1454580209, "post_id": 35182994, "comment_id": 58112056, "body": "Ok, at this point I am also stuck. But the problem is with the <code>libmysql.dll</code> for sure, because Qt can find the mysql driver (<code>qmyssql.dll</code>). But I really don&#180;t know what is going on. May be you need to recompile Qt against the right libraries, but I&#180;m not sure. Sorry."}], "tags": [], "owner": {"reputation": 2646, "user_id": 4922156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ei9fjwhlntQ/AAAAAAAAAAI/AAAAAAAAAJo/-jTWrZrdoSI/photo.jpg?sz=128", "display_name": "drosam", "link": "https://stackoverflow.com/users/4922156/drosam"}, "is_accepted": false, "score": 0, "last_activity_date": 1454518295, "last_edit_date": 1495540346, "creation_date": 1454518295, "answer_id": 35182994, "question_id": 35182712, "link": "https://stackoverflow.com/questions/35182712/how-to-connect-to-a-mysql-server-in-a-qt-application/35182994#35182994", "title": "How to connect to a MySQL server in a Qt application", "body": "<p>You have some things that you have to check. Check these posts, maybe they help you.</p>\n\n<p><a href=\"http://www.qtcentre.org/threads/55365-QSqlDatabase-QMYSQL-driver-not-loaded-but-available\" rel=\"nofollow noreferrer\">http://www.qtcentre.org/threads/55365-QSqlDatabase-QMYSQL-driver-not-loaded-but-available</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14667768/qmysql-driver-available-but-not-loaded\">QMYSQL driver available but not loaded</a></p>\n"}], "owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12632, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1610424350, "creation_date": 1454517564, "last_edit_date": 1454518729, "question_id": 35182712, "link": "https://stackoverflow.com/questions/35182712/how-to-connect-to-a-mysql-server-in-a-qt-application", "title": "How to connect to a MySQL server in a Qt application", "body": "<p>I need to connect to a MySQL server in a Qt application, so I wrote the following code:</p>\n\n<pre><code>    QSqlDatabase db = QSqlDatabase::addDatabase(\"QMYSQL\");\n    db.setHostName(\"xxx\");\n    db.setUserName(\"xxx\");\n    db.setPassword(\"xxx\");\n    db.setDatabaseName(\"xxx\");\n    db.open();\n</code></pre>\n\n<p>Unfortunately, when I'm trying to run this code right from the Qt Creator it gives me the following error right after the <code>addDatabase</code> function call:</p>\n\n<pre><code>QSqlDatabase: QMYSQL driver not loaded\nQSqlDatabase: available drivers: QSQLITE QMYSQL QMYSQL3 QODBC QODBC3 QPSQL QPSQL7\n</code></pre>\n\n<p>I tried to print the last error code:</p>\n\n<pre><code>qDebug() &lt;&lt; db.lastError().text();\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>\"Driver not loaded Driver not loaded\"\n</code></pre>\n\n<p>Of course, I have a MySQL server installed on the same computer.</p>\n\n<p>Why? What am I doing wrong? How can I fix it?</p>\n"}, {"tags": ["c++", "opencv", "detection", "opencv3.0", "lbph-algorithm"], "comments": [{"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520294, "post_id": 35182654, "comment_id": 58084355, "body": "Did you rotated your image when created training samples ?"}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520504, "post_id": 35182654, "comment_id": 58084476, "body": "as you can read from my question I gave -maxzangle 0.9 to opencv_createsamples. Is it wrong? What value should I give to get a 360&#39; rotation?... Anyway I don&#39;t know if that is the problem because I also tried with a straight image and the result was the same. Unless it is imread() which rotates images..."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520542, "post_id": 35182654, "comment_id": 58084501, "body": "When you put coin in the same pose as on image does it detect ?"}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520626, "post_id": 35182654, "comment_id": 58084558, "body": "No... I also tried to take a photo of the coin in the same pose but nothing happens. Which values should I give to opencv_createsamples to get a complete rotation? Is the mistake there?"}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520751, "post_id": 35182654, "comment_id": 58084648, "body": "Seems this will be usefull: <a href=\"http://athenanichol.com/blog/?p=815\" rel=\"nofollow noreferrer\">athenanichol.com/blog/?p=815</a>"}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454520905, "post_id": 35182654, "comment_id": 58084758, "body": "@AndreySmorodov I had read that article but I still don&#39;t understand which rotation I&#39;m supposed to give. Or better, if angles need to be in radiants and I want to consider a complete rotation, shall I give -maxzangle 6.28? I had tried it but I get an error..."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454521284, "post_id": 35182654, "comment_id": 58084991, "body": "I think it would be better to write an own tool and generate data set with it. Set random rotation scaling color noise, ..."}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454521444, "post_id": 35182654, "comment_id": 58085099, "body": "Ehm...yes it could be a good idea but I&#39;m very new to OpenCv and I don&#39;t know where to start from to write my own tool..."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454521987, "post_id": 35182654, "comment_id": 58085445, "body": "By the way, did you tried not equalize image, because I think you used not equalized images in training stage."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454522282, "post_id": 35182654, "comment_id": 58085619, "body": "And may be it will be better to start from following something working like this: <a href=\"https://rdmilligan.wordpress.com/2014/05/26/lego-detection-using-opencv/\" rel=\"nofollow noreferrer\">rdmilligan.wordpress.com/2014/05/26/lego-detection-using-ope&zwnj;&#8203;ncv</a>"}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454522782, "post_id": 35182654, "comment_id": 58085950, "body": "@AndreySmorodov thank you for all your comments but I don&#39;t know what you&#39;re talking about concerning &quot;By the way, did you tried not equalize image, because I think you used not equalized images in training stage&quot;...? forgive me, I know I&#39;m an ignorant but I&#39;m really new to opencv..."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454523550, "post_id": 35182654, "comment_id": 58086413, "body": "I mean try not to do this: equalizeHist(src_gray, src_gray); in your code above."}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454524026, "post_id": 35182654, "comment_id": 58086684, "body": "@AndreySmorodov I have just tried to do what you said and I&#39;ve also tried to rotate the image of 90&#176; 4 times. I&#39;ve just updated my question with the strange result I get..."}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454525123, "post_id": 35182654, "comment_id": 58087289, "body": "Try reduce image size 4-5 times, your image is very large."}, {"owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1454525796, "post_id": 35182654, "comment_id": 58087694, "body": "Just tried to reduce of 10% step by spep but it still does not work..."}, {"owner": {"reputation": 3022, "user_id": 4511978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XW8u.jpg?s=128&g=1", "display_name": "fr_andres", "link": "https://stackoverflow.com/users/4511978/fr-andres"}, "edited": false, "score": 0, "creation_date": 1495689283, "post_id": 35182654, "comment_id": 75360816, "body": "i&#39;m not aware of what &quot;detectMultiScale&quot; does, but usually a statistical model that performs good on the training data and poorly on the test data suffers from overfitting (<a href=\"https://en.wikipedia.org/wiki/Overfitting\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Overfitting</a>), which basically means that your model is too precise and tends to memorize the exact training samples thus failing to generalize. It can be solved with regularization techniques (the exact technique depends on the model you use)"}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 4532644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e73a60c15edb6141cd387cb00544cea2?s=128&d=identicon&r=PG&f=1", "display_name": "hagor", "link": "https://stackoverflow.com/users/4532644/hagor"}, "is_accepted": false, "score": 1, "last_activity_date": 1522919332, "creation_date": 1522919332, "answer_id": 49668405, "question_id": 35182654, "link": "https://stackoverflow.com/questions/35182654/why-does-opencv-recognize-the-object-only-in-training-images/49668405#49668405", "title": "Why does OpenCV recognize the object only in training images?", "body": "<p>Your cascade was not trained properly. \nYou should not only add different background, but also different scales and different rotations in 3 angles for your coin.\nAlso add more nagatives for training (you have many small detections that mean, that cascade is not trained on negatives)</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 7319568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPwRp.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/7319568/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1524637827, "post_id": 49671364, "comment_id": 87047077, "body": "If this solves the issue, Please add this as accepted Answer."}], "tags": [], "owner": {"reputation": 171, "user_id": 7319568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPwRp.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/7319568/harsh-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1522928087, "creation_date": 1522928087, "answer_id": 49671364, "question_id": 35182654, "link": "https://stackoverflow.com/questions/35182654/why-does-opencv-recognize-the-object-only-in-training-images/49671364#49671364", "title": "Why does OpenCV recognize the object only in training images?", "body": "<p>This could be the reason due to lack of training data that represent the total scenario of the possible cases. You are not representing full information to the Model. If you don't have more data,</p>\n\n<ol>\n<li>You should rotate images, Crop them at random size and angle, Flipping (Mirroring along vertical edge) basically <strong>Data Augmentation</strong>  </li>\n<li>You can do <strong>background separation</strong> and then use the model for classification</li>\n<li>Convert images to <code>grey scale</code> and then operate the classification model (sometime color might mislead the model)</li>\n</ol>\n"}], "owner": {"reputation": 4735, "user_id": 1576208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/3e2ME.jpg?s=128&g=1", "display_name": "SagittariusA", "link": "https://stackoverflow.com/users/1576208/sagittariusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1101, "favorite_count": 3, "answer_count": 2, "score": 8, "last_activity_date": 1522928087, "creation_date": 1454517390, "last_edit_date": 1454532394, "question_id": 35182654, "link": "https://stackoverflow.com/questions/35182654/why-does-opencv-recognize-the-object-only-in-training-images", "title": "Why does OpenCV recognize the object only in training images?", "body": "<p>In order to make my iOS app recognize 1\u20ac, 2\u20ac and 0.50\u20ac coins I have been trying to use <code>opencv_createsamples</code> and <code>opencv_traincascade</code> to create my own classifier.xml. So, I cropped 60 images of 2\u20ac coins from a short video like the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/K7tux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K7tux.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, I combined them with random backgrounds using <code>opencv_createsamples</code>. I obtained 12000 images similar to this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TdrnQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TdrnQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I ran the following commands:</p>\n\n<p><code>opencv_createsamples -img positives/i.jpg -bg negatives.txt -info i.txt -num 210 -maxidev 100 -maxxangle 0.0 -maxyangle 0.0 -maxzangle 0.9 -bgcolor 0 -bgthresh 0 -w 48 -h 48</code> (for i from 0 to 60)</p>\n\n<p><code>cat *.txt &gt; positives.txt</code></p>\n\n<p><code>opencv_createsamples -info positives.txt -bg negatives.txt -vec 2.vec -num 12600 -w 48 -h 48</code></p>\n\n<p><code>opencv_traincascade -data final -vec 2.vec -bg negatives.txt -numPos 12000 -numNeg 3000 -numStages 20 -featureType LBP -precalcValBufSize 2048 -precalcIdxBufSize 2048 -minHitRate 0.999 -maxFalseAlarmRate 0.5 -w 48 -h 48</code></p>\n\n<p>Training stopped at 13-th stage. Once I got a <code>cascade.xml</code> I tried it at once (with <code>detectMultiScale()</code>) on a simple image taken by my smartphone but nothing is detected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kUt13.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kUt13.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>while if I give as input one of the images used as traning, then it works very good:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DoFY1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DoFY1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't really understand why this is happening and it's driving me insane, most of all because I have been trying to make it work for  weeks...would you please tell me where I am making the mistake?</p>\n\n<p>The short program I wrote is here:</p>\n\n<pre><code>#include \"opencv2/opencv.hpp\"\n\nusing namespace cv;\n\nint main(int, char**) {\n\nMat src = imread(\"2b.jpg\");\n\nMat src_gray;\n\nstd::vector&lt;cv::Rect&gt; money;\n\nCascadeClassifier euro2_cascade;\n\ncvtColor(src, src_gray, CV_BGR2GRAY );\nequalizeHist(src_gray, src_gray);\n\nif ( !euro2_cascade.load( \"cascade.xml\" ) ) {\n    printf(\"--(!)Error loading\\n\");\n    return -1;\n}\n\neuro2_cascade.detectMultiScale( src_gray, money, 1.1, 3, 0|CASCADE_SCALE_IMAGE/*CV_HAAR_FIND_BIGGEST_OBJECT | CV_HAAR_SCALE_IMAGE*/, cv::Size(10, 10),cv::Size(2000, 2000) );\nprintf(\"%d\\n\", int(money.size()));\n\nfor( size_t i = 0; i &lt; money.size(); i++ ) {\n    cv::Point center( money[i].x + money[i].width*0.5, money[i].y + money[i].height*0.5 );\n    ellipse( src, center, cv::Size( money[i].width*0.5, money[i].height*0.5), 0, 0, 360, Scalar( 255, 0, 255 ), 4, 8, 0 );\n}\n\nnamedWindow( \"Display window\", WINDOW_AUTOSIZE );\nimwrite(\"result.jpg\",src);\n}\n</code></pre>\n\n<p>I have also tried to take into consideration <a href=\"http://docs.opencv.org/3.0-beta/doc/tutorials/features2d/feature_homography/feature_homography.html\" rel=\"nofollow noreferrer\">feature homography</a> for my OpenCV version 3.1. Thus, I downloaded opencv_contrib for my version and tried to compile xfeatures2d module but I get a CMake error in CMakeList file...moreover xfeature2d is not even present inside opencv framework for xcode so even if I made it work on my pc then I could not use it in iOS anyway...</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As advised, I've just tried to remove <code>equalizeHist(src_gray, src_gray);</code> and I have set the number of neighbors in detectMultiScale()`` and this is what I get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Ku3h.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Ku3h.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>As someone suggested, following <a href=\"http://answers.opencv.org/question/15723/unable-to-create-positive-samples/\" rel=\"nofollow noreferrer\">this</a> tutorial I have just created a .vec file using only the cropped positive images, the ones with only the coin. I used this command:</p>\n\n<p><code>opencv_createsamples -vec i.vec -w 48 -h 48 -num 210 -img ./positives/i.jpg -maxidev 100 -maxxangle 0 -maxyangle 0 -maxzangle 0.9 -bgcolor 0 -bgthresh 0</code>\n(for i from 0 to 60)</p>\n\n<p>So as you can see, there's no used background image to create samples. \nThen, after downloading <a href=\"https://github.com/wulfebw/mergevec/blob/master/mergevec.py\" rel=\"nofollow noreferrer\">mergevec.py</a>, I combined all the vectors file together. Now I'm gonna launch another LBP training...I hope it'll work better</p>\n"}, {"tags": ["c++", "linked-list", "char", "visual-studio-2015", "stack"], "comments": [{"owner": {"reputation": 32126, "user_id": 2666289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/746dd23bbe20769fbd758421e67f455c?s=128&d=identicon&r=PG", "display_name": "Holt", "link": "https://stackoverflow.com/users/2666289/holt"}, "edited": false, "score": 2, "creation_date": 1454517073, "post_id": 35182487, "comment_id": 58081992, "body": "You must define <code>node_t</code> before <code>Stack</code>, and use either <code>struct node</code> or <code>node_t</code> not <code>struct node_t</code>."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1454517218, "post_id": 35182487, "comment_id": 58082102, "body": "Is this really what your compiler says? There are no classes in C."}, {"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1454517654, "post_id": 35182487, "comment_id": 58082434, "body": "@n.m. I guess the real error is: <i>error: dereferencing pointer to incomplete type</i>"}, {"owner": {"reputation": 227, "user_id": 3149152, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100001080502383/picture?type=large", "display_name": "Logan", "link": "https://stackoverflow.com/users/3149152/logan"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1454517866, "post_id": 35182487, "comment_id": 58082592, "body": "@n.m I quoted the error from the compiler (Visual Studio Enterprise 2015)...however LPs answer solved it."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1454518049, "post_id": 35182487, "comment_id": 58082726, "body": "You may want to enable and read <a href=\"http://ideone.com/iSySds\" rel=\"nofollow noreferrer\">compiler warnings</a>."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1454518745, "post_id": 35182487, "comment_id": 58083272, "body": "If you get such a message, this is not C, but C++. Identical syntax does not imply identical semantics."}], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 3149152, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100001080502383/picture?type=large", "display_name": "Logan", "link": "https://stackoverflow.com/users/3149152/logan"}, "edited": false, "score": 0, "creation_date": 1454517446, "post_id": 35182576, "comment_id": 58082277, "body": "that was it! I do not quite understand why it wasn&#39;t given me an error in the line <code>struct node_t top</code>...makes it much harder to spot"}, {"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "reply_to_user": {"reputation": 227, "user_id": 3149152, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100001080502383/picture?type=large", "display_name": "Logan", "link": "https://stackoverflow.com/users/3149152/logan"}, "edited": false, "score": 0, "creation_date": 1454517556, "post_id": 35182576, "comment_id": 58082360, "body": "Error is triggered first time you are dereferencing that pointer."}], "tags": [], "owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "is_accepted": true, "score": 3, "last_activity_date": 1454517196, "creation_date": 1454517196, "answer_id": 35182576, "question_id": 35182487, "link": "https://stackoverflow.com/questions/35182487/c-linked-list-pointer-to-incomplete-class-is-not-allowed/35182576#35182576", "title": "C Linked List - pointer to incomplete class is not allowed", "body": "<p>Struct must be like</p>\n\n<pre><code>typedef struct node {\n    int val;\n    struct node * next;\n}node_t;\n\ntypedef struct {\n    node_t * top;\n    int max_size;\n    int used_size;\n} Stack;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>struct node {\n    int val;\n    struct node * next;\n};\n\ntypedef struct {\n    struct node * top;\n    int max_size;\n    int used_size;\n}Stack;\n\nStack * stack(int max_size) {\n    Stack * S = malloc(sizeof(Stack));\n    S-&gt;top = NULL;\n    S-&gt;max_size = max_size;\n    S-&gt;used_size = 0;\n    return S;\n}\n\nbool push(Stack * S, char p) {\n    if (S-&gt;used_size != S-&gt;max_size) {\n            struct node * temp = malloc(sizeof(struct node));\n            temp-&gt;val = p;\n            temp-&gt;next = S-&gt;top;\n            S-&gt;top = temp;\n            S-&gt;used_size++;\n        return true;\n    }\n    return false;\n}\n\nbool pop(Stack * S) {\n    struct node * temp;\n    if (S-&gt;top == NULL)\n        return false;\n    temp = S-&gt;top;\n    S-&gt;top = temp-&gt;next;\n    free(temp);\n\n    return true;\n}\n\nchar top(Stack * S) {\n    if (S-&gt;top != NULL) {\n        return S-&gt;top-&gt;val; //error here\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1516, "user_id": 2442877, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/YiIWC.jpg?s=128&g=1", "display_name": "MASh", "link": "https://stackoverflow.com/users/2442877/mash"}, "is_accepted": false, "score": 0, "last_activity_date": 1454517341, "creation_date": 1454517341, "answer_id": 35182629, "question_id": 35182487, "link": "https://stackoverflow.com/questions/35182487/c-linked-list-pointer-to-incomplete-class-is-not-allowed/35182629#35182629", "title": "C Linked List - pointer to incomplete class is not allowed", "body": "<pre><code>typedef struct {\n    struct node_t * top;   //Here you are using node_t type. To use this you must define this before. This causes you error.\n    int max_size;\n    int used_size;\n} Stack;\n</code></pre>\n\n<p>To solve:</p>\n\n<p>Declare <code>node_t</code> before you use it in <code>Stack</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1454517881, "creation_date": 1454517881, "answer_id": 35182834, "question_id": 35182487, "link": "https://stackoverflow.com/questions/35182487/c-linked-list-pointer-to-incomplete-class-is-not-allowed/35182834#35182834", "title": "C Linked List - pointer to incomplete class is not allowed", "body": "<p>There is no <code>struct node_t</code> defined in your code. Use either <code>struct node</code> or <code>node_t</code>, or change all occurrences of <code>node_t</code> to <code>node</code>.</p>\n\n<p>In language-legalese, typedef names and struct tags live in different namespaces. <code>X</code> and <code>struct X</code> are unrelated (unless the program happens to <code>typedef struct X X</code>).</p>\n"}], "owner": {"reputation": 227, "user_id": 3149152, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100001080502383/picture?type=large", "display_name": "Logan", "link": "https://stackoverflow.com/users/3149152/logan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 35182576, "answer_count": 3, "score": 0, "last_activity_date": 1454518764, "creation_date": 1454516980, "last_edit_date": 1454518764, "question_id": 35182487, "link": "https://stackoverflow.com/questions/35182487/c-linked-list-pointer-to-incomplete-class-is-not-allowed", "title": "C Linked List - pointer to incomplete class is not allowed", "body": "<p>I am trying to implement a stack which holds a linked list of char types. When I try to return the value found in the top node, it gives me the error above.</p>\n\n<p>Code: </p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdbool.h&gt;\n#include \"header4AB.h\"\n\ntypedef struct {\n    struct node_t * top;\n    int max_size;\n    int used_size;\n} Stack;\n\ntypedef struct node {\n    int val;\n    struct node * next;\n}node_t;\n\n\nStack * stack(int max_size) {\n    Stack * S = malloc(sizeof(Stack));\n    S-&gt;top = NULL;\n    S-&gt;max_size = max_size;\n    S-&gt;used_size = 0;\n    return S;\n}\n\nbool push(Stack * S, char p) {\n    if (S-&gt;used_size != S-&gt;max_size) {\n            node_t * temp = malloc(sizeof(node_t));\n            temp-&gt;val = p;\n            temp-&gt;next = S-&gt;top;\n            S-&gt;top = temp;\n            S-&gt;used_size++;\n        return true;\n    }\n    return false;\n}\n\nbool pop(Stack * S) {\n    node_t * temp;\n    if (S-&gt;top == NULL)\n        return false;\n    temp = S-&gt;top;\n    S-&gt;top = temp-&gt;next;\n    free(temp);\n\n    return true;\n}\n\nchar top(Stack * S) {\n    if (S-&gt;top != NULL) {\n        return S-&gt;top-&gt;val; //error here\n    }\n}\n</code></pre>\n\n<p>I'm quite new to the concept of a Linked List in a fixed size stack, and I have not tested my code yet so I do not know if it works or not. Any help is appreciated!</p>\n"}, {"tags": ["c++", "recursion", "fibonacci"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1454516700, "post_id": 35182297, "comment_id": 58081692, "body": "There is nothing <code>.net</code> nor <code>visual-studio</code> related in this question"}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 2, "creation_date": 1454516774, "post_id": 35182297, "comment_id": 58081763, "body": "You could declare it like int fibonacci(int n, bool print = false) and call it in the main with fibonacci(n,true), surround the cout with if(print){}. That said, doing fibonacci this way is extremely inefficient, you will do 2^n calculations when n would suffice. This means that fib(100) will take about 1E30 calculations instead of 100 calculations (and will probably kill your memory doing so)."}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1454516860, "post_id": 35182297, "comment_id": 58081834, "body": "@tobi303 I dunno, <code>void main()</code> is not standard C++, might be a visual studio extension. Hardly merits the tag though."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 2, "creation_date": 1454517105, "post_id": 35182297, "comment_id": 58082013, "body": "It&#39;s been 3 decades since I have had to write this function however I believe you have got the algorithm wrong. Shouldn&#39;t there be a <code>n-2</code>?"}, {"owner": {"reputation": 18082, "user_id": 1193075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzRH4.jpg?s=128&g=1", "display_name": "uselpa", "link": "https://stackoverflow.com/users/1193075/uselpa"}, "edited": false, "score": 5, "creation_date": 1454517154, "post_id": 35182297, "comment_id": 58082045, "body": "Change to <code>int sum = fibonacci(n - 1) + fibonacci(n - 2)</code>"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1454517293, "post_id": 35182297, "comment_id": 58082147, "body": "As mentioned, Fibonacci is one of the worst example of recursion, due to combinatorial explosion. Better cache the result and compute them only if needed (i.e., use dynamic programming)."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1454518487, "post_id": 35182297, "comment_id": 58083069, "body": "Are you absolutely sure that you want to <i>print</i> them using recursion? (The tree recursion makes that non-trivial.) Don&#39;t you want to compute them using recursion and then print them? (It&#39;s very inefficient, but that&#39;s often one of the points of this kind of exercise.)"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1454519034, "post_id": 35182297, "comment_id": 58083482, "body": "Funny thing that the common examples to demonstrate recursion (Fibonacci, factorial) are much easier and much more efficient to calculate iteratively :)  (although the recursive solutions have use in TMP)"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454653272, "post_id": 35182297, "comment_id": 58149897, "body": "Actually its just for practice and i am still not getting the answer"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454655809, "post_id": 35182297, "comment_id": 58150883, "body": "Is there anyone who can help me?"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454657446, "post_id": 35182297, "comment_id": 58151635, "body": "still waiting for you reply !"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454657483, "post_id": 35182297, "comment_id": 58151650, "body": "Help me Please if you can because i am a little bit confused about it."}], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454522359, "post_id": 35183867, "comment_id": 58085664, "body": "you are right it was a typing mistake but i am still not getting the right answer , it should be 0 1 2 3 5 ..... etc ."}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454653119, "post_id": 35183867, "comment_id": 58149852, "body": "usepla you are right i can use a loop but i want to do it by recursion and this method is still not acceptable so can you help me a little bit further?"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454655854, "post_id": 35183867, "comment_id": 58150898, "body": "@usepla if you are there please try to help me :)"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454665639, "post_id": 35183867, "comment_id": 58156080, "body": "No i just want you to modify my code and apply a condition so that it will prints specific numbers and do not repeat numbers ."}, {"owner": {"reputation": 18082, "user_id": 1193075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzRH4.jpg?s=128&g=1", "display_name": "uselpa", "link": "https://stackoverflow.com/users/1193075/uselpa"}, "reply_to_user": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 1, "creation_date": 1454667601, "post_id": 35183867, "comment_id": 58157246, "body": "It&#39;s not just applying a condition; you need to implement memoization and then loop over the resulting hash map. So basically you have to rewrite your function. I won&#39;t have the time to do that right now, but those pointers should get you on the right track."}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454668740, "post_id": 35183867, "comment_id": 58158042, "body": "OK so when ever you are free please provide me an example of memoization without using map.h"}, {"owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "edited": false, "score": 0, "creation_date": 1454671333, "post_id": 35183867, "comment_id": 58159719, "body": "I am following my syllabus and they have restricted us to code , remaining in the domain what they have taught us"}], "tags": [], "owner": {"reputation": 18082, "user_id": 1193075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzRH4.jpg?s=128&g=1", "display_name": "uselpa", "link": "https://stackoverflow.com/users/1193075/uselpa"}, "is_accepted": true, "score": 3, "last_activity_date": 1454701365, "last_edit_date": 1454701365, "creation_date": 1454520924, "answer_id": 35183867, "question_id": 35182297, "link": "https://stackoverflow.com/questions/35182297/how-to-print-fibonacci-series-upto-n-numbers-using-recursion-in-c/35183867#35183867", "title": "How to print Fibonacci Series upto n numbers using Recursion in C++", "body": "<p>The recursive definition of the fibonacci function is</p>\n\n<blockquote>\n  <p>fib(n) = fib(n-1) + fib(n-2)</p>\n</blockquote>\n\n<p>so just change </p>\n\n<pre><code>int sum = fibonacci(n - 1) + fibonacci(n - 1);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>int sum = fibonacci(n - 1) + fibonacci(n - 2);\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>Please input the Limit: 5\n1 0 1 1 2 1 0 1 3 1 0 1 1 2 5\n\nPlease input the Limit: 6\n1 0 1 1 2 1 0 1 3 1 0 1 1 2 5 1 0 1 1 2 1 0 1 3 8\n</code></pre>\n\n<p><strong>EDIT 1</strong> </p>\n\n<p>You would like to print the fibonacci sequence fib(0), fib(1), ... with this algorithm. If you beef up your output a little you'll see how this works for fib(5):</p>\n\n<pre><code>fib 1 = 1\nfib 0 = 0\nfib 2 = 1\nfib 1 = 1\nfib 3 = 2\nfib 1 = 1\nfib 0 = 0\nfib 2 = 1\nfib 4 = 3\nfib 1 = 1\nfib 0 = 0\nfib 2 = 1\nfib 1 = 1\nfib 3 = 2\nfib 5 = 5\n5\n</code></pre>\n\n<p>As you see quite a few values are computed several times, which explains the sequence that is printed. One way to compute each result only once is <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow\">Memoization</a>. If you use memoization and only print the first time a result is determined you'll get:</p>\n\n<pre><code>fib 1 = 1\nfib 0 = 0\nfib 2 = 1\nfib 3 = 2\nfib 4 = 3\nfib 5 = 5\n5\n</code></pre>\n\n<p>so even then you don't get the order you want. So you'd have to use memoisation and only print the hash map at the end of the process.</p>\n\n<pre><code>5\nfib 0 = 0\nfib 1 = 1\nfib 2 = 1\nfib 3 = 2\nfib 4 = 3\nfib 5 = 5\n</code></pre>\n\n<p>Of course, you could also just create an additional loop and print all values for fib(i) for i from 1 to n. That would be fairly inefficient though.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p><em>Disclaimer</em>: I have no clue about C++. I wrote my last C program ages ago. But the following works, other people will do it better I'm sure.</p>\n\n<p>So here's a simple example of memoization using a plain array, no hash map. Since you didn't say <em>which</em> concepts you have learnt until now I hope this is simple enough.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#define MAX 100\n#define UNDEF -1\n\nusing namespace std;\n\nint memo[MAX]; // memoization of results\n\nint fibonacci(int n) {\n    int res = memo[n];\n    if (res != UNDEF) return res; // result has been computed before\n    if (n == 0 || n == 1)\n        res = n;\n    else\n        res = fibonacci(n - 1) + fibonacci(n - 2);\n    memo[n] = res; // memoize result\n    return res;\n}\n\nint main() {\n    int n, i;\n    do {\n        cout &lt;&lt; \"Please input the Limit (max \" &lt;&lt; MAX &lt;&lt; \") : \";\n        cin &gt;&gt; n;\n    } while (n &lt; 0 || n &gt;= MAX);\n    for (i=0; i&lt;=n; i++) memo[i] = UNDEF; // intitialize memo\n    fibonacci(n);\n    for (i=0; i&lt;=n; i++) cout &lt;&lt; memo[i] &lt;&lt; \" \"; // print results\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>Please input the Limit (max 100) : 40\n0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 2178309 3524578 5702887 9227465 14930352 24157817 39088169 63245986 102334155\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6009, "user_id": 3313438, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Ks9C6.jpg?s=128&g=1", "display_name": "Ziezi", "link": "https://stackoverflow.com/users/3313438/ziezi"}, "is_accepted": false, "score": 1, "last_activity_date": 1454526656, "creation_date": 1454526656, "answer_id": 35185643, "question_id": 35182297, "link": "https://stackoverflow.com/questions/35182297/how-to-print-fibonacci-series-upto-n-numbers-using-recursion-in-c/35185643#35185643", "title": "How to print Fibonacci Series upto n numbers using Recursion in C++", "body": "<p>Here is an example of an implementation, using <em>memoization</em>:</p>\n\n<pre><code>// header needed for the container: map\n#include &lt;map&gt; \n\nint mem_fact (int i, std::map&lt;int, int&gt;&amp; m) {\n\n    // if value with key == i does not exist in m: calculate it\n    if (m.find(i) == m.end()) {\n\n        // the recursive calls are made only if the value doesn't already exist\n        m[i] = mem_fact (i - 1, m) + mem_fact (i - 2, m); \n    }\n\n    // if value with key == i exists, return the corresponding value\n    return m[i];\n}\n\nint fast_factorial (int i) {\n    // key (Fibonacci index) - value (Fibbonaci number)\n    std::map&lt;int, int&gt; memo;\n\n    // initialize the first two Fibonacci numbers\n    memo.insert(std::pair&lt;int,int&gt;(0, 0));\n    memo.insert(std::pair&lt;int,int&gt;(1, 1));\n\n    return mem_fact(i, memo);\n}\n</code></pre>\n\n<p>I will leave to you where to put the <code>std::cout</code> so that each fibonacci number is displayed once.</p>\n\n<p>Note: in <code>main()</code> you need to call <code>fast_factorial(num_of_fib);</code></p>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 7362174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C1UAQVy1QHA/AAAAAAAAAAI/AAAAAAAAAA0/cfDmZpE6xV8/photo.jpg?sz=128", "display_name": "Isaac Clancy", "link": "https://stackoverflow.com/users/7362174/isaac-clancy"}, "is_accepted": false, "score": 0, "last_activity_date": 1483580297, "creation_date": 1483580297, "answer_id": 41476021, "question_id": 35182297, "link": "https://stackoverflow.com/questions/35182297/how-to-print-fibonacci-series-upto-n-numbers-using-recursion-in-c/41476021#41476021", "title": "How to print Fibonacci Series upto n numbers using Recursion in C++", "body": "<p>this works</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n\nvoid _fib(unsigned int current, unsigned int max, unsigned int oneBack, unsigned int twoBack)\n{\n    if (current == max) return;\n    unsigned int sum = oneBack + twoBack;\n    std::cout &lt;&lt; sum &lt;&lt; '\\n';\n    _fib(current+1, max, sum, oneBack);\n}\n\nvoid fib(unsigned int max)\n{\n    if (max &gt;= 2)\n    {\n        std::cout &lt;&lt; \"0\\n1\\n\";\n        _fib(2, max, 1, 0);\n    }\n    else if (max == 1)\n    {\n        std::cout &lt;&lt; \"0\\n1\\n\";\n    }\n    else if (max == 0)\n    {\n        std::cout &lt;&lt; \"0\\n\";\n    }\n}\n\nint main()\n{\n    auto start = std::chrono::system_clock::now();\n    fib(1000);\n    auto end = std::chrono::system_clock::now();\n    std::chrono::duration&lt;double&gt; diff = end - start;\n    std::cout &lt;&lt; diff.count() &lt;&lt; \"seconds\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7765199, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9DaQd45UMBs/AAAAAAAAAAI/AAAAAAAAABQ/ho4ttR27ZGE/photo.jpg?sz=128", "display_name": "Asim Jawad", "link": "https://stackoverflow.com/users/7765199/asim-jawad"}, "is_accepted": false, "score": 0, "last_activity_date": 1490459304, "creation_date": 1490459304, "answer_id": 43018917, "question_id": 35182297, "link": "https://stackoverflow.com/questions/35182297/how-to-print-fibonacci-series-upto-n-numbers-using-recursion-in-c/43018917#43018917", "title": "How to print Fibonacci Series upto n numbers using Recursion in C++", "body": "<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nint fibonacci(int n)\n{\nif((n==1)||(n==0))\n{\n    return(n);\n}\nelse\n{\n    return(fibonacci(n-1)+fibonacci(n-2));\n}\n}\n\nint main()\n{\nint n,i=0;\ncout&lt;&lt;\"Input the number of terms for Fibonacci Series:\";\ncin&gt;&gt;n;\ncout&lt;&lt;\"\\nFibonacci Series is as follows\\n\";\n\nwhile(i&lt;n)\n{\n    cout&lt;&lt;\" \"&lt;&lt;fibonacci(i);\n    i++;\n}\n\nreturn 0;\n}\n//use this one it is easy\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 5800773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrzfZ.jpg?s=128&g=1", "display_name": "Ahsan", "link": "https://stackoverflow.com/users/5800773/ahsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3165, "favorite_count": 1, "accepted_answer_id": 35183867, "answer_count": 4, "score": 2, "last_activity_date": 1490459304, "creation_date": 1454516531, "last_edit_date": 1474269646, "question_id": 35182297, "link": "https://stackoverflow.com/questions/35182297/how-to-print-fibonacci-series-upto-n-numbers-using-recursion-in-c", "title": "How to print Fibonacci Series upto n numbers using Recursion in C++", "body": "<p>I am trying to print Fibonacci series using recursion. Unfortunately, it repeatedly prints the last number. </p>\n\n<p>For e.g; if I input <code>5</code> it first prints: <code>1</code>, then <code>0</code>, then again <code>1</code> &amp; <code>1</code>, and then <code>2</code>, and then it starts repeating again <code>0 1 1 2</code> and after that it prints <code>3</code>.</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nint fibonacci(int n)\n{\n    if (n == 0 || n == 1)\n    {\n        cout &lt;&lt; n &lt;&lt; \" \";\n        return n;\n    }\n    else\n    {\n        int sum = fibonacci(n - 1) + fibonacci(n - 2);\n        cout &lt;&lt; sum &lt;&lt; \" \";\n        return sum;\n    }\n}\n\n//====================================================================\nvoid main()\n{\n    int n;\n    cout &lt;&lt; \"Please input the Limit: \";\n    cin &gt;&gt; n;\n    fibonacci(n);\n    system(\"pause&gt;null\");\n}\n</code></pre>\n"}, {"tags": ["c++", "oracle", "visual-studio-2012", "occi"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1454519915, "post_id": 35182288, "comment_id": 58084079, "body": "You are using VS 2012, yet downloaded 2010 libraries?  That isn&#39;t going to work too well.  Complain to Oracle that they need to update their libraries -- or get some other C++ wrapper, like this: <a href=\"http://otl.sourceforge.net/\" rel=\"nofollow noreferrer\">otl.sourceforge.net</a>"}, {"owner": {"reputation": 99, "user_id": 5084837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeaf8125f496f4e05a5d788ed8042e54?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/5084837/ras"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1455107536, "post_id": 35182288, "comment_id": 58339343, "body": "Thanks so much for your reply. I have managed to solve the issue by installing oracle 12 c full client and Visual C++ Redistributable for Visual Studio 2012 Update 4"}, {"owner": {"reputation": 99, "user_id": 5084837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeaf8125f496f4e05a5d788ed8042e54?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/5084837/ras"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1463643404, "post_id": 35182288, "comment_id": 62153370, "body": "I have successfully developed this using  Oracle Instant Client Package - Basic (instantclient-basic-windows.x64-12.1.0.2.0.zip) with Visual Studio 2012 on Windows 64bit platform"}, {"owner": {"reputation": 2014, "user_id": 1775629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aba1f0e150e2a3fc5c826f78e0e28cf7?s=128&d=identicon&r=PG", "display_name": "Caribou", "link": "https://stackoverflow.com/users/1775629/caribou"}, "edited": false, "score": 0, "creation_date": 1501000914, "post_id": 35182288, "comment_id": 77580309, "body": "This is such an infuriating error and I am having similar issues with vs2015 and occi 12_2 which apparently includes the right stuff...."}], "owner": {"reputation": 99, "user_id": 5084837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeaf8125f496f4e05a5d788ed8042e54?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/5084837/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1569, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454516509, "creation_date": 1454516509, "question_id": 35182288, "link": "https://stackoverflow.com/questions/35182288/connect-to-oracle-11-2-with-visual-studio-2012-c", "title": "Connect to Oracle 11.2 with Visual Studio 2012 C++", "body": "<p>I am trying to make a connection to Oracle 11.2 using OCCI and Visual Studio 2012 c++.</p>\n\n<p>I have followed the following steps.</p>\n\n<ol>\n<li><p>Get instantclient-basic-windows.x64-11.2.0.4.0,    instantclient-sdk-windows.x64-11.2.0.4.0 and    instantclient-sqlplus-nt-11.2.0.4.0 and extract to C:  (Then it    should be C:\\instantclient_11_2)</p></li>\n<li><p>Extract OCCI for visual studio 2010 (This is the latest version on    <a href=\"http://www.oracle.com/technetwork/database/occidownloads-083553.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/database/occidownloads-083553.html</a>)</p></li>\n<li><p>Configurations<br>\nIn C:\\instantclient_11_2\\vc10 add the oraocci11.dll and oraocci11d.dll from OCCI.\nIn C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10 add the oraocci11d.lib and oraocci11.lib</p></li>\n<li><p>Set the paths in system path variables as       C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10; C:\\instantclient_11_2;</p></li>\n<li><p>set the library paths in    project->properties->linker->Input->Additional Dependencies     C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10\\oraocci11.lib     C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10\\oraocci11d.lib</p></li>\n<li><p>Edit VC++ directories  Include C:\\instantclient_11_2\\sdk\\include;$(IncludePath)  Library Directories    : C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10;$(LibraryPath)</p></li>\n<li><p>64bit configuration environment</p></li>\n<li><p>Tools->Options-Debugging->Symbol->Microsoft Symbol Servers if necessary</p></li>\n</ol>\n\n<p>The program,</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;occi.h&gt;\n\nnamespace oc = oracle::occi;\n\nint main()\n{\n    try\n    {\n        // setup\n        oc::Environment* env = oc::Environment::createEnvironment(oracle::occi::Environment::DEFAULT); // 1\n\n        try{\n            oc::Connection* conn = env-&gt;createConnection(\"ASD\", \"ASD123\", \"dbName\"); // 2\n        }\n        catch(const oc::SQLException&amp; e){\n            std::cout  &lt;&lt; e.what() &lt;&lt; std::endl; \n            exit(EXIT_FAILURE); \n        }\n        oc::Environment::terminateEnvironment(env); \n    }\n    catch(const oc::SQLException&amp; e) // 7\n    {\n        std::cout &lt;&lt; \"Exception: \" &lt;&lt; e.what() &lt;&lt; std::endl;\n    }\n\n    system(\"pause\");\n}\n</code></pre>\n\n<p>But I keep getting the following issues,</p>\n\n<p>'testSample4.exe' (Win32): Loaded 'C:\\instantclient_11_2\\sdk\\lib\\msvc\\vc10\\oraocci11.dll'. Cannot find or open the PDB file.</p>\n\n<p>and </p>\n\n<p>First-chance exception at 0x000007FEFD41ADCD in testSample4.exe: Microsoft C++ exception: oracle::occi::SQLException at memory location 0x000000000031E7E8.</p>\n\n<p>Then get the error : the attribute OCI_ATTR_USERNAME is greater than the maximum allowable length of 255</p>\n\n<p>Can someone help me with this please...</p>\n"}, {"tags": ["c++", "cocos2d-x", "cocos2d-x-2.x"], "comments": [{"owner": {"reputation": 403, "user_id": 1755026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69e97c24823c9b5034bbded196fc7a3?s=128&d=identicon&r=PG", "display_name": "GaloisPlusPlus", "link": "https://stackoverflow.com/users/1755026/galoisplusplus"}, "edited": false, "score": 0, "creation_date": 1455682067, "post_id": 35182138, "comment_id": 58593032, "body": "You can use lambda function as the parameter of <code>CCCallFunc::create()</code>, and use <code>this</code> inside the lambda."}], "answers": [{"comments": [{"owner": {"reputation": 1074, "user_id": 523135, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b3b9cd1d2d5d4a808a20564eaa38f174?s=128&d=identicon&r=PG", "display_name": "Cory Trese", "link": "https://stackoverflow.com/users/523135/cory-trese"}, "edited": false, "score": 0, "creation_date": 1458435941, "post_id": 35191128, "comment_id": 59860187, "body": "That works if the callfunc_selector is used from the sub-class but doesn&#39;t actually allow the super-class to schedule calls to virtual methods. :("}], "tags": [], "owner": {"reputation": 177, "user_id": 3616855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXKaR.jpg?s=128&g=1", "display_name": "Safwan Ahmed", "link": "https://stackoverflow.com/users/3616855/safwan-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1454550807, "creation_date": 1454550807, "answer_id": 35191128, "question_id": 35182138, "link": "https://stackoverflow.com/questions/35182138/cccallfunc-in-cocos2d-x-with-a-sub-class/35191128#35191128", "title": "CCCallFunc in Cocos2d-x with a sub-class", "body": "<p>Have you tried callfunc_selector(STLoadingSceneSubClass::load1)?</p>\n"}], "owner": {"reputation": 1074, "user_id": 523135, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b3b9cd1d2d5d4a808a20564eaa38f174?s=128&d=identicon&r=PG", "display_name": "Cory Trese", "link": "https://stackoverflow.com/users/523135/cory-trese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454550807, "creation_date": 1454516104, "question_id": 35182138, "link": "https://stackoverflow.com/questions/35182138/cccallfunc-in-cocos2d-x-with-a-sub-class", "title": "CCCallFunc in Cocos2d-x with a sub-class", "body": "<p>I have this CCCallFunc being constructed</p>\n\n<pre><code>CCCallFunc::create(this, callfunc_selector(STLoadingSceneBase::load1))\n</code></pre>\n\n<p>But what I really need to call is load1(...) on STLoadingSceneSubClass, a subclass of STLoadingSceneBase. My goal is to create one set of CCCallFunc in the super-class and have the callbacks fired in the sub-class.</p>\n\n<p>Is there a way to use callfunc_selector with \"this\" that I'm missing?</p>\n\n<p>I tried this but it didn't work</p>\n\n<pre><code>CCCallFunc::create(this, callfunc_selector(this::load1))\n</code></pre>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1454515902, "post_id": 35182013, "comment_id": 58081035, "body": "So you want to check if the vector is sorted?"}, {"owner": {"reputation": 10209, "user_id": 392315, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4118da2b35833e7123c069c1d468bbe?s=128&d=identicon&r=PG", "display_name": "Asha", "link": "https://stackoverflow.com/users/392315/asha"}, "edited": false, "score": 0, "creation_date": 1454515947, "post_id": 35182013, "comment_id": 58081075, "body": "You want to check its sorted or you want the biggest element (even if its not sorted)?"}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454515977, "post_id": 35182013, "comment_id": 58081098, "body": "it is sorted ascending"}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454515989, "post_id": 35182013, "comment_id": 58081104, "body": "now i got to find if they are consecutive"}, {"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1454516048, "post_id": 35182013, "comment_id": 58081146, "body": "<code>v[i]=v[i+1]-1</code> this is assignment, not comparison."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 3, "creation_date": 1454516107, "post_id": 35182013, "comment_id": 58081189, "body": "Make up your mind. Sorted, or consecutive?"}, {"owner": {"reputation": 671, "user_id": 1729825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d83a68a5cecb60d7d1d0ff391585401?s=128&d=identicon&r=PG", "display_name": "simp76", "link": "https://stackoverflow.com/users/1729825/simp76"}, "edited": false, "score": 1, "creation_date": 1454516212, "post_id": 35182013, "comment_id": 58081274, "body": "Please correct your question. Do you want to find out if your vector is sorted or do you want the largest number ? It is ambiguous at the moment."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454516519, "post_id": 35182013, "comment_id": 58081524, "body": "Here is a link for your future questions: <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1454518367, "post_id": 35182013, "comment_id": 58082977, "body": "@schizoid Please don&#39;t post pseudo code here but a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and exactly state what your problems or errors are."}], "answers": [{"tags": [], "owner": {"reputation": 1199, "user_id": 3168770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8lafT.jpg?s=128&g=1", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3168770/paulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1454515959, "creation_date": 1454515959, "answer_id": 35182064, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182064#35182064", "title": "How can I check if vector elements are in order consecutively?", "body": "<pre><code>bool test(vector&lt;int&gt; v) {\n    for(int i = 0; i &lt; v.size()-1; i++)\n        if(v[i] &gt; v[i+1])\n            return false;\n    return true;\n}\n</code></pre>\n\n<p>If the vector is in order, so the biggest is the last one, that is, <code>v[v.size()-1]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 2, "creation_date": 1454516298, "post_id": 35182079, "comment_id": 58081349, "body": "@schizoid That has nothing to do with using <code>std::is_sorted</code>"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454516602, "post_id": 35182079, "comment_id": 58081605, "body": "@schizoid: So instead of fixing that major problem, you gave up and want to live on with a workaround? That&#39;s bad. It <b>must</b> work with a standard-library solution."}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454516730, "post_id": 35182079, "comment_id": 58081722, "body": "@ChristianHackl i have no idea how to fix it"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454516832, "post_id": 35182079, "comment_id": 58081812, "body": "@schizoid Did you <code>#include &lt;algorithm&gt;</code>?"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454516851, "post_id": 35182079, "comment_id": 58081824, "body": "@schizoid: Search Stackoverflow for people who&#39;ve had the same problem in the past, and reuse the solution."}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454517047, "post_id": 35182079, "comment_id": 58081974, "body": "i put include algorithm and all that"}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454517074, "post_id": 35182079, "comment_id": 58081994, "body": "but it&#39;s a problem if I work with the classic vector?"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454517154, "post_id": 35182079, "comment_id": 58082044, "body": "@schizoid: There is no such thing as a &quot;classic vector&quot;. There is <code>std::vector</code> or <code>std::array</code>. If you are talking about raw arrays, then yes, it is a problem."}, {"owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454517257, "post_id": 35182079, "comment_id": 58082121, "body": "@ChristianHackl i didn&#39;t declare it as a container,I tried to,but it won&#39;t let me read it from file,I got an error &quot;operator&gt;&gt;&quot; something like that"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "edited": false, "score": 0, "creation_date": 1454517430, "post_id": 35182079, "comment_id": 58082264, "body": "@schizoid: You cannot successfully use C++ without a decent textbook (which should include a section on simple text I/O and <code>operator&gt;&gt;</code>). Seriously, it&#39;s <b>hopeless</b> without a book. Please have a look here: <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a>"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454517456, "post_id": 35182079, "comment_id": 58082284, "body": "@ChristianHackl algorithms work fine with raw arrays"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1454517532, "post_id": 35182079, "comment_id": 58082337, "body": "@Galik: Judging from the OP&#39;s question and comments, the fact that arrays work with algorithms won&#39;t be much of a help."}, {"owner": {"reputation": 381, "user_id": 2658898, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/F708r.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2658898/aaron"}, "edited": false, "score": 0, "creation_date": 1491867854, "post_id": 35182079, "comment_id": 73733174, "body": "@Barry I&#39;m also having an issue where, even though I&#39;ve included &quot;#include &lt;algorithm&gt;&quot; and &quot;using namespace std;&quot; I receive the error: &quot;is_sorted() was not declared in this scope&quot;. Any ideas?"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 11, "last_activity_date": 1454515995, "creation_date": 1454515995, "answer_id": 35182079, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182079#35182079", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>There's an algorithm for that: <a href=\"http://en.cppreference.com/w/cpp/algorithm/is_sorted\"><code>std::is_sorted</code></a>:</p>\n\n<pre><code>if (std::is_sorted(v.begin(), v.end()) {\n    return v.back(); // the largest element would be the last one\n}\nelse {\n    // ?? \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1565, "user_id": 463597, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0301f55fee8569ea65ca009bd613306b?s=128&d=identicon&r=PG", "display_name": "Jorge Gonz&#225;lez Lorenzo", "link": "https://stackoverflow.com/users/463597/jorge-gonz%c3%a1lez-lorenzo"}, "is_accepted": false, "score": 2, "last_activity_date": 1454516033, "creation_date": 1454516033, "answer_id": 35182100, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182100#35182100", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>I would use:</p>\n\n<pre><code>is_sorted(begin(v), end(v));\n</code></pre>\n\n<p>If the sequence is not sorted then use:</p>\n\n<pre><code>max_element(begin(v), end(v));\n</code></pre>\n\n<p>to get the max.</p>\n"}, {"tags": [], "owner": {"reputation": 10209, "user_id": 392315, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4118da2b35833e7123c069c1d468bbe?s=128&d=identicon&r=PG", "display_name": "Asha", "link": "https://stackoverflow.com/users/392315/asha"}, "is_accepted": false, "score": 2, "last_activity_date": 1454516052, "creation_date": 1454516052, "answer_id": 35182112, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182112#35182112", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>Use <a href=\"http://en.cppreference.com/w/cpp/algorithm/is_sorted\" rel=\"nofollow\">std::is_sorted</a> algorithm of STL.</p>\n"}, {"tags": [], "owner": {"reputation": 64049, "user_id": 812912, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/732c48dee9ac15216258118fb8c0a764?s=128&d=identicon&r=PG", "display_name": "Ivaylo Strandjev", "link": "https://stackoverflow.com/users/812912/ivaylo-strandjev"}, "is_accepted": false, "score": 1, "last_activity_date": 1454516244, "creation_date": 1454516244, "answer_id": 35182190, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182190#35182190", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>From the question it seems you are interested if the vector elements are consective integers. If that is the case you can use a flag to indicate if the condition holds and do a single iteration:</p>\n\n<pre><code>bool consecutive = false;\nfor (int i = 1; i &lt; v.size(); ++i) {\n  if (v[i] != v[i - 1] + 1) {\n    consecutive = false;\n    break;\n  }\n}\nif (consecutive) {\n   cout &lt;&lt; v.back() &lt;&lt; endl; // the last element is the biggest.\n}\n</code></pre>\n\n<p>However your question title suggests you are interested in checking if the vector is sorted. If that is the case you can use the built-in function <a href=\"http://www.cplusplus.com/reference/algorithm/is_sorted/\" rel=\"nofollow\">std::is_sorted</a> that is present since c++11.</p>\n"}, {"tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": false, "score": 3, "last_activity_date": 1507714270, "last_edit_date": 1507714270, "creation_date": 1454516342, "answer_id": 35182220, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182220#35182220", "title": "How can I check if vector elements are in order consecutively?", "body": "<blockquote>\n  <p>I need to check if in my vector the elements are in order</p>\n</blockquote>\n\n<p>Use C++11's <a href=\"http://en.cppreference.com/w/cpp/algorithm/is_sorted\" rel=\"nofollow noreferrer\"><code>std::is_sorted</code></a> algorithm:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    std::vector&lt;int&gt; v1 { 4, 5, 7, 6 };\n    std::vector&lt;int&gt; v2 { 4, 5, 6, 7 };\n\n    using std::begin;\n    using std::end;\n\n    std::cout &lt;&lt; std::is_sorted(begin(v1), end(v1)) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; std::is_sorted(begin(v2), end(v2)) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<blockquote>\n  <p>If the statement would be true I want to return the biggest integer.</p>\n</blockquote>\n\n<p>That's a job for <a href=\"http://en.cppreference.com/w/cpp/algorithm/max_element\" rel=\"nofollow noreferrer\"><code>std::max_element</code></a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    std::vector&lt;int&gt; v1 { 4, 5, 7, 6 };\n    std::vector&lt;int&gt; v2 { 4, 5, 6, 7 };\n\n    using std::begin;\n    using std::end;\n\n    std::cout &lt;&lt; *std::max_element(begin(v1), end(v1)) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; *std::max_element(begin(v2), end(v2)) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Note that <code>std::max_element</code> does <strong>not</strong> require its input to be sorted.</p>\n\n<p>Or if it's sorted anyway, just use <code>v1.back()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 3531113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046c5c7463e8c30c1e3b0241eae8efe0?s=128&d=identicon&r=PG&f=1", "display_name": "ncoder", "link": "https://stackoverflow.com/users/3531113/ncoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1454517233, "creation_date": 1454517233, "answer_id": 35182590, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively/35182590#35182590", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>Traverse through the vector starting from the second element and keep a flag variable initialized to 0, for each iteration check the following condition :-</p>\n\n<pre><code>if(v[i]&lt;v[i-1])\n</code></pre>\n\n<p>if this condition is true, then set the flag to 1 and break out of the loop. After the control moves out of the loop, check the value of flag. If flag is 1, then the vector elements are not in order. Otherwise, if the flag is 0, then the vector elements are in order and you have to print the largest element which is v[v.size()-1].</p>\n"}], "owner": {"reputation": 113, "user_id": 5873183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79R30.png?s=128&g=1", "display_name": "supreme_tg", "link": "https://stackoverflow.com/users/5873183/supreme-tg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7985, "favorite_count": 1, "accepted_answer_id": 35182079, "answer_count": 7, "score": -5, "last_activity_date": 1507714270, "creation_date": 1454515823, "last_edit_date": 1454518268, "question_id": 35182013, "link": "https://stackoverflow.com/questions/35182013/how-can-i-check-if-vector-elements-are-in-order-consecutively", "title": "How can I check if vector elements are in order consecutively?", "body": "<p>I need to check if in my vector the elements are in order consecutively?</p>\n\n<pre><code>for(i=1; i&lt;=K; i++)\n    if(v[i]=v[i+1]-1)\n</code></pre>\n\n<p>If the statement would be true I want to return the biggest integer.</p>\n\n<blockquote>\n  <p>ex. 4 5 6 7</p>\n</blockquote>\n\n<pre><code>7\n</code></pre>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1454515826, "post_id": 35181987, "comment_id": 58080981, "body": "One doesn&#39;t, because that&#39;s not a sensible thing to want."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1454516106, "post_id": 35181987, "comment_id": 58081188, "body": "I assume you convert <code>std::string</code> to <code>int</code> via <code>str.size()</code>, and <code>int</code> to <code>std::string</code> via interpreting the bytes of the <code>int</code> as <code>char</code>s and appending them together?  Or did you have something else in mind?"}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 3, "creation_date": 1454516197, "post_id": 35181987, "comment_id": 58081263, "body": "You can <a href=\"http://stackoverflow.com/questions/10281334/c-overloading-conversion-operators\">overload the conversion operator</a>."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1454516387, "post_id": 35181987, "comment_id": 58081425, "body": "@KerrekSB I could think of plenty of scenarios where you&#39;d want that kind of conversion."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454517039, "post_id": 35181987, "comment_id": 58081969, "body": "C++ already has enough automatic conversions as it is. Make your conversions explicit. Add named, free-standing conversion functions like <code>MyString toMyString(MyInt const&amp; my_int)</code> and <code>MyInt toMyInt(MyString const&amp; my_string)</code>."}, {"owner": {"reputation": 93, "user_id": 4420179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff3e8f45fc90c23b8cfa3f8c04d14ef8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4420179/jonathan"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454517649, "post_id": 35181987, "comment_id": 58082432, "body": "@ChristianHackl What advantages does an explicit function used for conversion have over operator overloading of the casting?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1454517696, "post_id": 35181987, "comment_id": 58082467, "body": "@Jonathan It assures you that the compiler doesn&#39;t convert &quot;by mistake&quot; when you least expect it. However, in C++11 you can have <a href=\"http://en.cppreference.com/w/cpp/language/cast_operator\" rel=\"nofollow noreferrer\"><i>explicit</i> conversion operators</a>."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1454517954, "post_id": 35181987, "comment_id": 58082655, "body": "@Jonathan: In addition to @vsoftco&#39;s comment, it&#39;s much like with the pros and cons of <code>auto</code>. Being explicit makes code easier to read and easier to search."}], "answers": [{"tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 5, "last_activity_date": 1454518042, "last_edit_date": 1454518042, "creation_date": 1454516552, "answer_id": 35182309, "question_id": 35181987, "link": "https://stackoverflow.com/questions/35181987/implement-type-casting-from-one-class-to-another/35182309#35182309", "title": "Implement type casting from one class to another", "body": "<p>The conversion needs to make sense first of all. Assuming it does, you can implement your own conversion operators, like in the example below:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass MyInt; // forward declaration\n\nclass MyString\n{\n    std::string str;\npublic:\n    MyString(const std::string&amp; s): str(s){}\n    /*explicit*/ operator MyInt () const; // conversion operator\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MyString&amp; rhs)\n    {\n        return os &lt;&lt; rhs.str;\n    }\n};\n\nclass MyInt\n{\n    int num;\npublic:\n    MyInt(int n): num(n){}\n    /*explicit*/ operator MyString() const{return std::to_string(num);} // conversion operator\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MyInt&amp; rhs)\n    {\n        return os &lt;&lt; rhs.num;\n    }\n};\n\n// need the definition after MyInt is a complete type\nMyString::operator MyInt () const{return std::stoi(str);} // need C++11 for std::stoi\n\nint main()\n{\n    MyString s{\"123\"};\n    MyInt i{42};\n\n    MyInt i1 = s; // conversion MyString-&gt;MyInt\n    MyString s1 = i; // conversion MyInt-&gt;MyString\n\n    std::cout &lt;&lt; i1 &lt;&lt; std::endl;\n    std::cout &lt;&lt; s1 &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/981f34ddd868a4b8\" rel=\"nofollow\"><kbd>Live on Coliru</kbd></a></p>\n\n<p>If you mark the conversion operators as <code>explicit</code>, which is preferable (need C++11 or later), then you need to explicitly cast, otherwise the compiler will spit an error, like</p>\n\n<pre><code>MyString s1 = static_cast&lt;MyString&gt;(i1); // explicit cast\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4420179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff3e8f45fc90c23b8cfa3f8c04d14ef8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4420179/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2257, "favorite_count": 1, "accepted_answer_id": 35182309, "answer_count": 1, "score": 2, "last_activity_date": 1454518042, "creation_date": 1454515743, "question_id": 35181987, "link": "https://stackoverflow.com/questions/35181987/implement-type-casting-from-one-class-to-another", "title": "Implement type casting from one class to another", "body": "<p>Assuming I have two classes which are not related by inheritance. e.g:</p>\n\n<pre><code>class MyString\n{\n    private:\n        std::string str;\n};\n\nclass MyInt\n{\n    private:\n        int num;\n};\n</code></pre>\n\n<p>and I want to be able to convert one to another using regular casting e.g <code>MyInt a = (MyInt)mystring</code> (where <code>mystring</code> is of <code>class MyString</code>).</p>\n\n<p>How does one accomplish such a thing?</p>\n"}, {"tags": ["c++", "vector", "operator-overloading"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1454515691, "post_id": 35181926, "comment_id": 58080893, "body": "Are you sure you need to dynamically allocate the vector?"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454517241, "post_id": 35181926, "comment_id": 58082113, "body": "How to write unmaintainable code..."}, {"owner": {"reputation": 33, "user_id": 5871534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391c19c6059684246bb62da47ee51759?s=128&d=identicon&r=PG&f=1", "display_name": "H.Golden", "link": "https://stackoverflow.com/users/5871534/h-golden"}, "edited": false, "score": 0, "creation_date": 1454519318, "post_id": 35181926, "comment_id": 58083700, "body": "yes  Juanchopanza..."}], "answers": [{"tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": false, "score": 0, "last_activity_date": 1454516812, "last_edit_date": 1454516812, "creation_date": 1454516117, "answer_id": 35182142, "question_id": 35181926, "link": "https://stackoverflow.com/questions/35181926/how-to-initialized-pointer-of-vector-c/35182142#35182142", "title": "How to initialized Pointer of Vector c++?", "body": "<blockquote>\n  <p><code>std::vector&lt;std::vector&lt;int&gt;&gt;* te = new std::vector&lt;std::vector&lt;int&gt;&gt;();</code></p>\n</blockquote>\n\n<p>This line isn't you're problem. However, it does beg the question <strong>\"Why are you dynamically allocating a <code>std::vector</code>?\"</strong></p>\n\n<blockquote>\n  <p><code>(*te)[0].push_back(10);</code></p>\n</blockquote>\n\n<p>This line is your problem. You're accessing the 0<sup>th</sup> index of <code>te</code> but it's empty (i.e., <strong>doing this invokes undefined behavior</strong>). You need to add something to it first: <code>te-&gt;push_back(std::vector&lt;int&gt;());</code>.</p>\n\n<h3>Example Code</h3>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n    std::vector&lt;std::vector&lt;int&gt;&gt;* te = new std::vector&lt;std::vector&lt;int&gt;&gt;();\n\n    // Add an empty `vector` to `te`\n    te-&gt;push_back(std::vector&lt;int&gt;());\n\n    // Add `10` to the first `vector` in `te` and print it\n    (*te)[0].push_back(10);\n    std::cout &lt;&lt; (*te)[0][0];\n\n    delete te;\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Note:</strong> You should also be in the habit of using smart pointers and not worry about manually newing and deleting the memory (e.g., <code>std::unique_ptr</code> pointer and <code>std::make_unique</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 33, "user_id": 5871534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391c19c6059684246bb62da47ee51759?s=128&d=identicon&r=PG&f=1", "display_name": "H.Golden", "link": "https://stackoverflow.com/users/5871534/h-golden"}, "edited": false, "score": 0, "creation_date": 1454591821, "post_id": 35182318, "comment_id": 58119777, "body": "@H.Golden No at all, We beginners should help each other.:)"}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 1, "last_activity_date": 1454516560, "creation_date": 1454516560, "answer_id": 35182318, "question_id": 35181926, "link": "https://stackoverflow.com/questions/35181926/how-to-initialized-pointer-of-vector-c/35182318#35182318", "title": "How to initialized Pointer of Vector c++?", "body": "<p>I do not see a sense in dynamic allocation of the vector nevertheless a correct syntax can look like</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() \n{\n    std::vector&lt;std::vector&lt;int&gt; &gt; *pv = new std::vector&lt;std::vector&lt;int&gt; &gt;;\n\n    pv-&gt;push_back( std::vector&lt;int&gt;( 1, 10 ) );\n\n    std::cout &lt;&lt; ( *pv )[0][0] &lt;&lt; std::endl;\n\n    delete pv;\n}\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>10\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5871534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391c19c6059684246bb62da47ee51759?s=128&d=identicon&r=PG&f=1", "display_name": "H.Golden", "link": "https://stackoverflow.com/users/5871534/h-golden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 35182318, "answer_count": 2, "score": -3, "last_activity_date": 1454591863, "creation_date": 1454515592, "last_edit_date": 1454591863, "question_id": 35181926, "link": "https://stackoverflow.com/questions/35181926/how-to-initialized-pointer-of-vector-c", "title": "How to initialized Pointer of Vector c++?", "body": "<p>The following code is not working :     </p>\n\n<pre><code>vector&lt; vector&lt;int&gt; &gt; *te = new vector&lt;  vector&lt;int&gt; &gt;();     \n(*te)[0].push_back(10);      \ncout &lt;&lt; (*te)[0][0];\n</code></pre>\n\n<p>How should I initialize it ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1454515727, "post_id": 35181909, "comment_id": 58080921, "body": "Please <b><a href=\"https://stackoverflow.com/posts/35181909/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 0, "creation_date": 1454515915, "post_id": 35181909, "comment_id": 58081048, "body": "What happened when you ran your program through a debugger? You still couldn&#39;t find where the error was?"}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1454515930, "post_id": 35181909, "comment_id": 58081065, "body": "A segmentation fault does not necessarily mean NULL pointer dereference. Use a debugger and see what&#39;s the value of <code>currNode</code>."}, {"owner": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "edited": false, "score": 0, "creation_date": 1454516324, "post_id": 35181909, "comment_id": 58081371, "body": "the debugger is showing that currNode has value in the beginning, but the value isn&#39;t printing out. Then when the currNode becomes NULL, it somehow manages to bypass the while loop condition and causes the segmentation fault."}, {"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1454516400, "post_id": 35181909, "comment_id": 58081434, "body": "@DavidSchwartz It&#39;s standard, <code>std::stack</code> business."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "edited": false, "score": 2, "creation_date": 1454515855, "post_id": 35182001, "comment_id": 58081008, "body": "i&#39;m assuming <code>while(currStack.top())</code> should take care of that??"}, {"owner": {"reputation": 341, "user_id": 4951980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7e3d14a650ca28c6163781baa4fad1?s=128&d=identicon&r=PG", "display_name": "Frank F&#246;rster", "link": "https://stackoverflow.com/users/4951980/frank-f%c3%b6rster"}, "reply_to_user": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "edited": false, "score": 0, "creation_date": 1454516206, "post_id": 35182001, "comment_id": 58081270, "body": "You are getting the next pointer from your stack <code>node *currNode = currStack.top();</code> and assume, that the pointer is valid... A debugger would be a good solution as YSC suggested."}], "tags": [], "owner": {"reputation": 341, "user_id": 4951980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7e3d14a650ca28c6163781baa4fad1?s=128&d=identicon&r=PG", "display_name": "Frank F&#246;rster", "link": "https://stackoverflow.com/users/4951980/frank-f%c3%b6rster"}, "is_accepted": false, "score": 0, "last_activity_date": 1454516261, "last_edit_date": 1454516261, "creation_date": 1454515798, "answer_id": 35182001, "question_id": 35181909, "link": "https://stackoverflow.com/questions/35181909/segmentation-fault-on-pointer-null-check/35182001#35182001", "title": "Segmentation Fault on Pointer null check", "body": "<p><code>currNode</code> seems to be invalid, e.g. NULL. You should check that case before using the pointer in the condition.</p>\n\n<p>This might happen on your top stack node?</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "edited": false, "score": 0, "creation_date": 1454516957, "post_id": 35182331, "comment_id": 58081912, "body": "seems to be crashing on the while loop check now. Sorry that I can&#39;t figure out the other error that still exists in the code."}, {"owner": {"reputation": 503, "user_id": 2224473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65ca18cb913da0468b0584a57cb8a9c2?s=128&d=identicon&r=PG", "display_name": "Egari", "link": "https://stackoverflow.com/users/2224473/egari"}, "edited": false, "score": 0, "creation_date": 1454517717, "post_id": 35182331, "comment_id": 58082483, "body": "Si Te Feng, you will need this as well as changing your while check to     while(!currStack.empty())"}], "tags": [], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "is_accepted": false, "score": 1, "last_activity_date": 1454516582, "creation_date": 1454516582, "answer_id": 35182331, "question_id": 35181909, "link": "https://stackoverflow.com/questions/35181909/segmentation-fault-on-pointer-null-check/35182331#35182331", "title": "Segmentation Fault on Pointer null check", "body": "<p>This is due to uninitialized values of <code>left</code> and <code>right</code> pointers in <code>myNode2</code>, <code>myNode3</code>, and <code>myNode4</code>.</p>\n\n<p>Define a constructor for <code>node</code> and you're good:</p>\n\n<pre><code>struct node\n{\n    int data;\n    node* left;\n    node* right;\n    node() : data(0), left(nullptr), right(nullptr) {}\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1454516659, "post_id": 35182341, "comment_id": 58081657, "body": "A reference to a <code>node*</code>, which can be NULL ;)"}, {"owner": {"reputation": 230, "user_id": 2321326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25fea509574ada62442743d9a7f83ef4?s=128&d=identicon&r=PG", "display_name": "Andrei Chernikov", "link": "https://stackoverflow.com/users/2321326/andrei-chernikov"}, "reply_to_user": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1454516955, "post_id": 35182341, "comment_id": 58081908, "body": "@YSC Right, and please read it again, I actually mentioned that, and said that the loop will end in this case. I just didn&#39;t think that he wanted to end it when he gets any NULL pointer."}, {"owner": {"reputation": 230, "user_id": 2321326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25fea509574ada62442743d9a7f83ef4?s=128&d=identicon&r=PG", "display_name": "Andrei Chernikov", "link": "https://stackoverflow.com/users/2321326/andrei-chernikov"}, "reply_to_user": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1454517890, "post_id": 35182341, "comment_id": 58082613, "body": "@YSC And since he says above that his code is crashing on the while loop, he really wanted to check whether the stack is empty with while(currStack.top()), expecting to get a NULL in this case. Which he can&#39;t."}], "tags": [], "owner": {"reputation": 230, "user_id": 2321326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25fea509574ada62442743d9a7f83ef4?s=128&d=identicon&r=PG", "display_name": "Andrei Chernikov", "link": "https://stackoverflow.com/users/2321326/andrei-chernikov"}, "is_accepted": false, "score": -1, "last_activity_date": 1454516610, "creation_date": 1454516610, "answer_id": 35182341, "question_id": 35181909, "link": "https://stackoverflow.com/questions/35181909/segmentation-fault-on-pointer-null-check/35182341#35182341", "title": "Segmentation Fault on Pointer null check", "body": "<p>Actually, I find <code>while(currStack.top())</code> a pretty strange condition. <code>top()</code> returns a const reference, not a pointer (if you ever expected to get <code>NULL</code>). But if the referenced value is a pointer, and it is <code>NULL</code>, or if we get a reference to, say, int = 0, the loop ends.\nAre you sure that's what you wanted? And if there are no elements in the stack, it probably results in an undefined behavior, but it definitely can't return <code>NULL</code>, if you expected that.</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "is_accepted": true, "score": 0, "last_activity_date": 1454517968, "creation_date": 1454517968, "answer_id": 35182868, "question_id": 35181909, "link": "https://stackoverflow.com/questions/35181909/segmentation-fault-on-pointer-null-check/35182868#35182868", "title": "Segmentation Fault on Pointer null check", "body": "<p>Found the Problem: Change the loop condition to <code>while(!currStack.empty()) {}</code></p>\n"}], "owner": {"reputation": 135, "user_id": 2318816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c6f69744f64dc2027b50929b0ee9dd02?s=128&d=identicon&r=PG", "display_name": "Si Te Feng", "link": "https://stackoverflow.com/users/2318816/si-te-feng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2435, "favorite_count": 0, "accepted_answer_id": 35182868, "answer_count": 4, "score": -4, "last_activity_date": 1454517968, "creation_date": 1454515536, "last_edit_date": 1454516420, "question_id": 35181909, "link": "https://stackoverflow.com/questions/35181909/segmentation-fault-on-pointer-null-check", "title": "Segmentation Fault on Pointer null check", "body": "<p>I'm getting a segmentation fault on the <code>if (currNode-&gt;right)</code> check. Can anyone spot the obvious mistake that I made?</p>\n\n<pre><code>struct node\n{\n    int data;\n    node* left;\n    node* right;\n};\n\nvoid Preorder(node *root) {\n\n    std::stack&lt;node*&gt; currStack;\n\n    currStack.push(root);\n\n    while(currStack.top()) {\n        node *currNode = currStack.top();\n        currStack.pop();\n\n        if (currNode-&gt;right) {\n            currStack.push(currNode-&gt;right);\n        }\n        if (currNode-&gt;left) {\n            currStack.push(currNode-&gt;left);\n        }\n\n        // Print to console\n        printf(\"%d \", currNode-&gt;data);\n    }\n}\n</code></pre>\n\n<p>It might be related to my main function, so i'll add it below for reference:</p>\n\n<pre><code>int main() {\n\n    node myNode;\n    myNode.data = 3;\n\n    node myNode1;\n    myNode1.data = 4;\n    node myNode2;\n    myNode2.data = 5;\n    node myNode3;\n    myNode3.data = 6;\n    node myNode4;\n    myNode4.data = 7;\n\n    myNode.left = &amp;myNode1;\n    myNode.right = &amp;myNode2;\n    myNode1.left = &amp;myNode3;\n    myNode1.right = &amp;myNode4;\n\n    Preorder(&amp;myNode);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "free"], "comments": [{"owner": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 5, "creation_date": 1454515739, "post_id": 35181906, "comment_id": 58080934, "body": "<code>char *com=&quot;com&quot;; free(com);</code> See the problem?"}, {"owner": {"reputation": 1594, "user_id": 1127601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da2b3eb10bee191b77d5b23035ebad3d?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Rapp", "link": "https://stackoverflow.com/users/1127601/christian-rapp"}, "edited": false, "score": 0, "creation_date": 1454516740, "post_id": 35181906, "comment_id": 58081733, "body": "<code>I wrote a C++ program</code> - I don&#39;t see much c++ here..."}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "reply_to_user": {"reputation": 1594, "user_id": 1127601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da2b3eb10bee191b77d5b23035ebad3d?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Rapp", "link": "https://stackoverflow.com/users/1127601/christian-rapp"}, "edited": false, "score": 0, "creation_date": 1454522319, "post_id": 35181906, "comment_id": 58085636, "body": "@ChristianRapp: it certainly wouldn&#39;t compile as C."}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454520096, "post_id": 35182454, "comment_id": 58084189, "body": "Ah, I see. I originally tried to dynamically allocate com, so i must have forgotten to change it. Thanks for the spot!"}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1454516898, "creation_date": 1454516898, "answer_id": 35182454, "question_id": 35181906, "link": "https://stackoverflow.com/questions/35181906/qt-freeing-memory/35182454#35182454", "title": "Qt freeing memory", "body": "<p>You can only free what you dynamically allocated. You never dynamically allocated anything for <code>com</code>, so passing it to <code>free</code> is an error. It's equivalent to <code>free(\"com\");</code> which attempts to free a string constant.</p>\n"}, {"comments": [{"owner": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454526182, "post_id": 35182993, "comment_id": 58087940, "body": "Is there any way to check if the ports are open without the debug? I need to send the application (exe)  to another machine that doesn&#39;t have Qt on it."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454530162, "post_id": 35182993, "comment_id": 58090427, "body": "@ZRev This is just a demonstration. You can use whatever other code you desire. If you want to do console output using Qt, you can do so via <code>QTextStream</code> layered on top of <code>stdout</code> and <code>stdin</code>. See e.g. <a href=\"http://stackoverflow.com/a/22310976/1329652\">this answer</a>."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454530266, "post_id": 35182993, "comment_id": 58090492, "body": "@ZRev Of course Qt applications don&#39;t need Qt installed on the target. It&#39;s up to you to package your application correctly. If you want it to be a single .exe file, with no dependencies on non-system dlls, you&#39;ll need to use <i>both</i> static C++ runtime <i>and</i> static Qt. You&#39;ll have to build Qt yourself, see <a href=\"http://stackoverflow.com/a/32613840/1329652\">e.g. here</a> for a summary of related options to Qt&#39;s <code>configure</code>."}, {"owner": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454596580, "post_id": 35182993, "comment_id": 58123201, "body": "What are your machine specs? I ran this on four different machines, and only one, a Windows 7 desktop with an Intel i7, was able to detect a port other than com1"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "edited": false, "score": 0, "creation_date": 1454679635, "post_id": 35182993, "comment_id": 58165511, "body": "@ZRev That&#39;s correct. Most contemporary systems won&#39;t have any serial ports on them! Why do you expect serial ports when there are none?"}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1454518292, "creation_date": 1454518292, "answer_id": 35182993, "question_id": 35181906, "link": "https://stackoverflow.com/questions/35181906/qt-freeing-memory/35182993#35182993", "title": "Qt freeing memory", "body": "<p>Use the framework. You've got the power of Qt!</p>\n\n<p>There are several problems:</p>\n\n<ol>\n<li><p>The C-style string manipulations are unnecessary and wrong. Use <code>QString</code>:</p>\n\n<pre><code>auto name = QStringLiteral(\"COM%1\").arg(i);\n</code></pre></li>\n<li><p>You can't use the serial port without a <code>QCoreApplication</code> instance present.</p></li>\n<li><p>You shouldn't be testing for the presence of a port by iterating what you think might be valid ports. This is non-portable and unnecessary. Get a list of ports to start with.</p></li>\n</ol>\n\n<p>Thus:</p>\n\n<pre><code>// https://github.com/KubaO/stackoverflown/tree/master/questions/simple-serial-35181906\n#include &lt;QtCore&gt;\n#include &lt;QtSerialPort&gt;\n\nint main(int argc, char ** argv) {\n   QCoreApplication app{argc, argv};\n   QSerialPort serial;\n   serial.setBaudRate(QSerialPort::Baud9600);\n   serial.setDataBits(QSerialPort::Data8);\n   serial.setParity(QSerialPort::NoParity);\n   serial.setStopBits(QSerialPort::OneStop);\n   serial.setFlowControl(QSerialPort::NoFlowControl);\n\n   for (auto port : QSerialPortInfo::availablePorts()) {\n      serial.setPort(port);\n      serial.open(QIODevice::ReadWrite);\n      if (serial.isOpen()) {\n         qDebug() &lt;&lt; \"port\" &lt;&lt; port.portName() &lt;&lt; \"is open\";\n         serial.close();\n      } else\n         qDebug() &lt;&lt; \"port\" &lt;&lt; port.portName() &lt;&lt; \"couldn't be opened\";\n   }\n}\n</code></pre>\n\n<p>Here's the output on my machine:</p>\n\n<pre><code>port \"cu.serial1\" is open\nport \"cu.usbserial-FTELA9I5\" is open\nport \"cu.usbserial-PX9A3C3B\" is open\n</code></pre>\n"}], "owner": {"reputation": 84, "user_id": 5764457, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/SWF43.jpg?s=128&g=1", "display_name": "Z Rev", "link": "https://stackoverflow.com/users/5764457/z-rev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1316, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454518292, "creation_date": 1454515530, "question_id": 35181906, "link": "https://stackoverflow.com/questions/35181906/qt-freeing-memory", "title": "Qt freeing memory", "body": "<p>I wrote a C++ program in Qt that used dynamic memory allocation, and I made sure to include the free() call at the end. However, when the program reaches the free statement, it crashes. (I know this because the test that I added never printed after the free statements) Anyway, here's the code:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QSerialPort&gt;\n#include &lt;iostream&gt;\n#include &lt;time.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;Windows.h&gt;\nusing namespace std;\n\nint main(int argc, char *argv[])\n{\n\nQSerialPort serial0;\n//serial.open(serial);\n\nserial0.setBaudRate(QSerialPort::Baud9600);\nserial0.setDataBits(QSerialPort::Data8);\nserial0.setParity(QSerialPort::NoParity);\nserial0.setStopBits(QSerialPort::OneStop);\nserial0.setFlowControl(QSerialPort::NoFlowControl);\n\nchar *com=\"com\";\nint number;\nchar *comPlusNumber;\n\ncomPlusNumber=(char*) malloc(8*sizeof(char));\n\nint j=10000;\nwhile(j&gt;0)\n{\n    number=j;\n    sprintf(comPlusNumber, \"%s%d\",com,number);\n    //printf(\"%s \\n\",comPlusNumber);\n\n    serial0.setPortName(comPlusNumber);\n    serial0.open(QIODevice::ReadWrite);\n\n    if(serial0.isOpen()==true)\n    {\n        printf(\"YES*****************\");\n        printf(\"%s \\n\",comPlusNumber);\n    }\n    else\n        //printf(\"No %d\\n\", number);\n\n    serial0.close();\n    j--;\n}\n\n\nfree(com);\nfree(comPlusNumber);\n\nprintf(\"\\n\\n Test\");\n//QCoreApplication a(argc, argv);\n\n//return a.exec();\n}\n</code></pre>\n\n<p>I just wanted to make sure that I wasn't creating a memory leak.</p>\n"}, {"tags": ["c++", "performance", "visual-c++", "tree"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454514940, "post_id": 35181619, "comment_id": 58080326, "body": "When you say code generation are you referring to compiler compilation?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1454515534, "post_id": 35181619, "comment_id": 58080773, "body": "When you say &quot;code generation&quot;, do you mean &quot;writing out the source&quot; (I assume you didn&#39;t generate a quarter of a million nodes by hand), or do you mean &quot;turning the source into object code&quot;?  I suspect you mean the latter, in which case, do you have all 500 in a single file, or worse, in a single function?  If that&#39;s not the problem, I think we need more details."}, {"owner": {"reputation": 372, "user_id": 2227925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dd98a63224dbb1cad354ab9c8dead5e?s=128&d=identicon&r=PG", "display_name": "BryanT", "link": "https://stackoverflow.com/users/2227925/bryant"}, "edited": false, "score": 0, "creation_date": 1454516467, "post_id": 35181619, "comment_id": 58081492, "body": "Can you describe the problem you are trying to solve or the functionality you need to create? There has to be a better approach."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 372, "user_id": 2227925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dd98a63224dbb1cad354ab9c8dead5e?s=128&d=identicon&r=PG", "display_name": "BryanT", "link": "https://stackoverflow.com/users/2227925/bryant"}, "edited": false, "score": 0, "creation_date": 1454571022, "post_id": 35181619, "comment_id": 58106498, "body": "@BryanT, it&#39;s a random forest classifier, tuned for execution speed"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454571146, "post_id": 35181619, "comment_id": 58106554, "body": "@MartinBonner, it &quot;turning the source into object code&quot;, and it&#39;s the linker that seems to take forever (see update above). Each tree is in a separate file / function. 500 are included into one main classifier function. Yep, it&#39;s bad, but once it runs, it&#39;s fast!"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454572140, "post_id": 35181619, "comment_id": 58107057, "body": "Linking 500 files doesn&#39;t seem like a lot.  1.  What does each node look like? (Do they all call the same functions, or different ones).  2.  Do you have link time optimization turned on?  3.  When you say &quot;forever&quot;, actually how long does it take?  4.  How big is the generated executable (stripped)."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454574567, "post_id": 35181619, "comment_id": 58108358, "body": "@MartinBonner 1. Each node is a simple comparison function, all are comparison functions that simply compare different values on a vector. 2. See linker command above, /LTCG is enables, /GL is not enabled. 3. It&#39;s now running for 15hours........ 4. The obj. file of the 500 trees is 110MB. The .exe is 2MB."}, {"owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1454604020, "post_id": 35181619, "comment_id": 58128637, "body": "15 hours is a <i>very</i> long time for any link job. Are <code>C:</code> and <code>D:</code> local drives, were they recently chkdsk&#39;d, and is the machine running anywhere near its memory or disk capacity? Btw, what version of VC++?"}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1454604928, "post_id": 35181619, "comment_id": 58129243, "body": "I would specify <code>&#47;LTCG:STATUS</code> to see if this in fact a code generation that is slow."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1454657786, "post_id": 35181619, "comment_id": 58151774, "body": "@dxiv The drives are local, the code even rests on a SSD drive"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1454657804, "post_id": 35181619, "comment_id": 58151782, "body": "@dxiv The VS Version is 2012 (Express)"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1454657869, "post_id": 35181619, "comment_id": 58151801, "body": "@VladFeinstein I specified this, so far, no output. It Just says &quot;Link: Generating Code&quot;"}, {"owner": {"reputation": 5013, "user_id": 4181011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0C2A9.jpg?s=128&g=1", "display_name": "Simon Kraemer", "link": "https://stackoverflow.com/users/4181011/simon-kraemer"}, "edited": false, "score": 0, "creation_date": 1454681029, "post_id": 35181619, "comment_id": 58166513, "body": "@S.H I still don&#39;t really get your problem... How many different final options do you have for each tree? Do you have one tree for every binary compination of you 9(?) input parameters?"}], "answers": [{"comments": [{"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454570853, "post_id": 35182143, "comment_id": 58106417, "body": "See above, it&#39;s a random forest classifier that was designed for execution speed."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454570873, "post_id": 35182143, "comment_id": 58106427, "body": "The header file is only inluded once, the implementation is in a cpp file."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454572239, "post_id": 35182143, "comment_id": 58107119, "body": "I think for <i>this</i> application, a packed tree of if/else is reasonable.  However you are right that this is at the limit of what implementations handle, and as such the aim will be correctness not speed."}, {"owner": {"reputation": 9353, "user_id": 121674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/H86jb.jpg?s=128&g=1", "display_name": "David Seiler", "link": "https://stackoverflow.com/users/121674/david-seiler"}, "edited": false, "score": 0, "creation_date": 1454577401, "post_id": 35182143, "comment_id": 58110054, "body": "Fair enough, thanks.  Anyway if you&#39;re spending most of your time in the linker then the structure of the code is probably not directly to blame.  Serves me right; when something is slow, the first question should <i>always</i> be &quot;which part is slow exactly?&quot;"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454658059, "post_id": 35182143, "comment_id": 58151895, "body": "@MartinBonner, what do you mean by &quot;and as such the aim will be correctness not speed&quot;?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454660461, "post_id": 35182143, "comment_id": 58153033, "body": "@S.H:  When you implement a system, you want to make it work correctly for as wide a range of inputs as possible.  Having done that, you want to make it work fast for common inputs.  This is not a common input, so there will have been no attempt to make this go fast.  Would it be clearer to say &quot;The aim of the linker+compiler authors will have been correctness not speed for these inputs&quot;?"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454661353, "post_id": 35182143, "comment_id": 58153494, "body": "@MartinBonner, Now it&#39;s clear, I thought you referred to my code saying &quot;that&#39;s not fast&quot; :)"}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1454661409, "post_id": 35182143, "comment_id": 58153529, "body": "@MartinBonner and I agree, it&#39;s <i>very</i> weird code for a comiler and the compiler/linker - developers certainly did not optimize for that case"}], "tags": [], "owner": {"reputation": 9353, "user_id": 121674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/H86jb.jpg?s=128&g=1", "display_name": "David Seiler", "link": "https://stackoverflow.com/users/121674/david-seiler"}, "is_accepted": false, "score": 0, "last_activity_date": 1454516117, "creation_date": 1454516117, "answer_id": 35182143, "question_id": 35181619, "link": "https://stackoverflow.com/questions/35181619/vs-c-code-generation-of-tree-like-if-else-structure-takes-very-long/35182143#35182143", "title": "VS C++: Code generation of tree-like if/else structure takes very long", "body": "<p>You know this already, but I'm going to say it again: you should not have a packed tree of if/else blocks to depth 9.  You should not have even one such construct, never mind 500 of them.  Whatever you are getting out of that design, you should look carefully for other ways to get it.</p>\n\n<p>Are you sure these constructs are to blame?  c++ compile times can be surprising.  Are they in a header file that's included in many places?</p>\n\n<p>Anyway, because this is a pretty unusual thing to be doing, your compiler is not optimized to compile it efficiently and so your compiles are slow.  If you can compile with gcc or clang instead then that <em>might</em> help, but more likely your problem has no solution as stated: if you want your compiles to go faster then you have to stop doing the weird thing you're doing, and do something else that's more like normal C++.</p>\n"}, {"comments": [{"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454570815, "post_id": 35182683, "comment_id": 58106402, "body": "pre-computing the conditions is bad for the performance in my case"}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "reply_to_user": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454604374, "post_id": 35182683, "comment_id": 58128870, "body": "@S.H. - that I don&#39;t understand. You said: <code>The structure is tree-like with a depth of 9 (512 nodes in total).</code>, so you ARE calculating all 9 conditions..."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454657994, "post_id": 35182683, "comment_id": 58151856, "body": "can you give me more details? the way I understood was precomputing all 512 conditions..."}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "reply_to_user": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454676226, "post_id": 35182683, "comment_id": 58163045, "body": "@S.H - see my edit in the answer. There are only 9 conditions, if I understand it correctly."}, {"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1455738417, "post_id": 35182683, "comment_id": 58628225, "body": "no, unfortunately, the conditions in each node are different. So, pro-computing them results in 2^9 conditions..."}], "tags": [], "owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "is_accepted": false, "score": 1, "last_activity_date": 1454680595, "last_edit_date": 1454680595, "creation_date": 1454517475, "answer_id": 35182683, "question_id": 35181619, "link": "https://stackoverflow.com/questions/35181619/vs-c-code-generation-of-tree-like-if-else-structure-takes-very-long/35182683#35182683", "title": "VS C++: Code generation of tree-like if/else structure takes very long", "body": "<p>Re: <code>Do you have an idea how to improve the speed of the code generation?</code></p>\n\n<p>If you really need to branch your code 512 ways (and I am not sure you do), you can construct an integer value where each of the lowest 9 bits reflect the condition <code>(a &gt; 0)</code>, <code>(b &gt; 0)</code>, etc. Then have a switch with 512 cases, from 0 to 511.</p>\n\n<p>[adding sample code]</p>\n\n<p>Here is what I would do:</p>\n\n<pre><code>int mask(0);\nif(a &gt; 0) mask |= 0x01;\nif(b &gt; 0) mask |= 0x02;\nif(c &gt; 0) mask |= 0x04;\n...\nif(h &gt; 0) mask |= 0x80;\nif(i &gt; 0) mask |= 0x100;\nswitch(mask)\n{\ncase 0x01: // only (a&gt;0) was true\n  ...\nbreak;\n....\ncase 0x77: // all but (i&gt;0) were true\n  ...\nbreak;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454574337, "post_id": 35195329, "comment_id": 58108228, "body": "/LTCG is set, /GL is not set"}, {"owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "reply_to_user": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "edited": false, "score": 0, "creation_date": 1454602908, "post_id": 35195329, "comment_id": 58127909, "body": "If you are positive that /GL is not used for <i>any</i> module, you may try to take /LTCG out entirely. And /OPT:ICF as well."}], "tags": [], "owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1454572202, "creation_date": 1454572202, "answer_id": 35195329, "question_id": 35181619, "link": "https://stackoverflow.com/questions/35181619/vs-c-code-generation-of-tree-like-if-else-structure-takes-very-long/35195329#35195329", "title": "VS C++: Code generation of tree-like if/else structure takes very long", "body": "<p>Following the latest <code>it's the linker that seems to take forever</code> clarification... If that's a release/optimized build with <a href=\"https://msdn.microsoft.com/en-us/library/0zza0de8.aspx\" rel=\"nofollow\">Whole Program Optimization</a> enabled, then be sure to mind the caveats at <a href=\"https://blogs.msdn.microsoft.com/vcblog/2009/02/24/quick-tips-on-using-whole-program-optimization/\" rel=\"nofollow\">Quick Tips On Using Whole Program Optimization</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>When building from the command line or via makefiles, you need to add the /LTCG switch to the link command line to tell the linker to expect to see one or more object files that were compiled with /GL. If you don\u2019t, some build time will be wasted because the linker will have to start over when it gets to the module compiled with /GL. If you build through the IDE this is in your project configuration settings on the Linker optimization page.</p></li>\n  <li><p>Using /GL reduces your compile times, but your link time will increase, because work is being moved to during the link. Overall build time might increase a little, but shouldn\u2019t increase a lot.</p></li>\n  </ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1455739260, "last_edit_date": 1455739260, "creation_date": 1455738945, "answer_id": 35466468, "question_id": 35181619, "link": "https://stackoverflow.com/questions/35181619/vs-c-code-generation-of-tree-like-if-else-structure-takes-very-long/35466468#35466468", "title": "VS C++: Code generation of tree-like if/else structure takes very long", "body": "<p>This is what I did:</p>\n\n<p>I currently keep the if-else statements, if at a certain point I need speed by all means.</p>\n\n<p>For now, I created a parameterized verison of the tree (see below).</p>\n\n<p>The code then looks like this (for a tree with 16 nodes, two parameters per node):</p>\n\n<pre><code>// \"sample\" denotes the thing that I want to classify.\n// nodeFunction evaluates to a true/false statement the detemines the next leaf\n\ndouble decisionTree( sample )\n{\n    const bool isTerminalNode[ 15 ] = {false, false, true, true, false, ...};\n    const double parameters[ 15 ][ 2 ] = {{1.0, 2.0}, {1.5, 7.5}, {1.7, 7.7}, ...};\n    const double returnValues[ 31 ] = {-1.0, -1.0, 1.5, 3.7, ...};\n\n    int nCurrentIdx = 0;\n\n    while( !isTerminalNode[ nCurrentIdx ] )\n    {\n        if ( nodeFunction( parameters[ nCurrentIdx ], sample ) )\n            nCurrentIdx = nCurrentIdx * 2 + 1; // go left\n        else\n            nCurrentIdx = (nCurrentIdx + 1) * 2; // go right\n    }\n\n    return returnValues[ nCurrentIdx ];\n}\n</code></pre>\n\n<p>The tree structure looks like this:</p>\n\n<pre><code>          0\n       /     \\\n      1       2\n    /   \\   /   \\\n   3    4  5     6\n  ...  ... ... ... ... etc \n</code></pre>\n"}], "owner": {"reputation": 815, "user_id": 3442959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2914aaad97291094f4ed8bb9863788cd?s=128&d=identicon&r=PG&f=1", "display_name": "S.H", "link": "https://stackoverflow.com/users/3442959/s-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 35466468, "answer_count": 4, "score": -1, "last_activity_date": 1455739260, "creation_date": 1454514788, "last_edit_date": 1454576215, "question_id": 35181619, "link": "https://stackoverflow.com/questions/35181619/vs-c-code-generation-of-tree-like-if-else-structure-takes-very-long", "title": "VS C++: Code generation of tree-like if/else structure takes very long", "body": "<p>I have an (admittedly large) structure of if/else conditions:</p>\n\n<pre><code>if ( a &gt; 0 )\n{\n    if ( b &gt; 0 )\n    {\n        ...\n    }\n}else\n{\n   ...\n}\n</code></pre>\n\n<p>The structure is tree-like with a depth of 9 (512 nodes in total).</p>\n\n<p>To make matters worse, there are 500 those that need to be compiled...</p>\n\n<p>However, the code generation seems to take forever. I deactivated the optimizations (debug mode), so in my opition it shouldn't take that long to generate...</p>\n\n<p>Do you have an idea how to improve the speed of the code generation?</p>\n\n<p><strong>update:</strong></p>\n\n<p>The code is just a Random Forest classifier that consists of several trees. So, yes, I could put this in a different structure, but the fastest code execution will be hard-coded if-conditions. </p>\n\n<p><strong>update 2:</strong></p>\n\n<p>I took a closer look at the output and it seems that the problem is the linking process.\nCan you explain, why, or how this could be improved?</p>\n\n<p><strong>update 3:</strong></p>\n\n<p>This is my linker command:</p>\n\n<pre><code>/OUT:\"C:\\ProjectFolder\\MyFile.exe\" \n/MANIFEST /LTCG /NXCOMPAT   \n/PDB:\"C:\\ProjectFolder\\\\install\\x64\\Release\\MyFile.pdb\" \n/DYNAMICBASE \"ThirdPartyLibrary1.lib\" \"ThirsPartyLibrary2.lib\" \n\"kernel32.lib\" \"user32.lib\" \"gdi32.lib\" \"winspool.lib\" \"comdlg32.lib\" \"advapi32.lib\" \"shell32.lib\" \"ole32.lib\" \"oleaut32.lib\" \"uuid.lib\" \"odbc32.lib\" \"odbccp32.lib\" \n/DEBUG /MACHINE:X64 /OPT:REF /INCREMENTAL:NO \n/PGD:\"C:\\ProjectFolder\\\\install\\x64\\Release\\MyFile.pgd\" \n/SUBSYSTEM:CONSOLE \n/MANIFESTUAC:\"level='asInvoker' uiAccess='false'\" /ManifestFile:\"C:\\ProjectFolder\\\\build\\x64\\Release\\MyFile.exe.intermediate.manifest\" \n/OPT:ICF /ERRORREPORT:PROMPT /NOLOGO \n/LIBPATH:\"D:\\3rd\\x64\\lib1\" /LIBPATH:\"D:\\3rd\\x64\\lib2\" /TLBID:1 \n</code></pre>\n\n<p><strong>update 4:</strong></p>\n\n<p>Just FYI, Currently, the linking-process takes 655MB of RAM, slowly rising...</p>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1454514808, "post_id": 35181545, "comment_id": 58080232, "body": "Using a valid syntax would be a good first step. This code is rubbish."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1454514813, "post_id": 35181545, "comment_id": 58080237, "body": "You have nothing that converts <i>a pointer to char</i> to an array of <code>CharNw</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1454515046, "post_id": 35181545, "comment_id": 58080398, "body": "This sounds like an XY problem.  Why do you need to do this?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1454516374, "post_id": 35181545, "comment_id": 58081415, "body": "Don&#39;t use C-Style string related functions with your <code>CharNw</code> class, not compatible.  Since you are using C++, prefer to derive a <code>class StringNw</code> from <code>std::basic_string</code>, e.g. <code>class StringNw : public std::basic_string&lt;CharNw&gt;</code>.  Follow the example for wide strings, <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\">a.k.a. <code>wstring</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1454515978, "last_edit_date": 1454515978, "creation_date": 1454515362, "answer_id": 35181838, "question_id": 35181545, "link": "https://stackoverflow.com/questions/35181545/c-code-type-substition-fail/35181838#35181838", "title": "c++ code type substition fail", "body": "<p>Line by line.  </p>\n\n<pre><code>CharNw hs[40];          //it is ok\n</code></pre>\n\n<p>The above is an array of <code>CharNw</code> objects with a capacity of 40 elements.  This is good.  </p>\n\n<pre><code>CharNw tf[] = \"This is not working, Why?\\n\";\n</code></pre>\n\n<p>On the right hand side (RHS) of the assignment, you have a type <code>char const * const* and on the left you have an array of</code>CharNw<code>.  The</code>CharNw` is not a character, so you have a problem here.  Prefer to have both sides of an assignment to have the same type.  </p>\n\n<pre><code>char dst[40];\n</code></pre>\n\n<p>An array of <em>characters</em>.  Nothing more, nothing less.  It has a capacity of 40 characters.  <strong>The <code>dst</code> array is not a string.</strong>  You should prefer to use <code>#define</code> for your array capacities.  </p>\n\n<pre><code>    strcpy(dst, tf); //impossible to compile\n</code></pre>\n\n<p>The <code>strcpy</code> requires both parameters to be pointers to <code>char</code>.  The left parameter can be decomposed to a pointer to the first <code>char</code> of the array.  The <code>tf</code> is an <strong>array of <code>CharNw</code></strong> which is not compatible with an array of <code>char</code> nor a pointer to <code>char</code>.  </p>\n\n<pre><code>printf(\"dst = %s, tf = %s\", dst, tf); //too  \n</code></pre>\n\n<p>The <code>printf</code> <em>format specifier</em> <code>%s</code> requires a pointer to a character, preferably a C-Style, nul terminated array (or sequence) of characters.  The <code>tf</code> parameter is an array of <code>CharNw</code> which is not an array of characters nor a pointer to a single character or a C-Style string.  </p>\n\n<p><strong>Edit 1: Conversion Operators</strong><br>\nThe method <code>operator char ()</code> in your class converts a character variable to a <code>CharNw</code> variable.  <strong>It does not apply to pointers nor arrays.</strong><br>\nYou would need some messy pointer conversion functions.  </p>\n\n<p>Here is an examples:  </p>\n\n<pre><code>const unsigned int ARRAY_CAPACITY = 40U;\nconst char text[] = \"I am Sam.  Sam I am.\"\nCharNw tf[ARRAY_CAPACITY];\nfor (unsigned int i = 0U; i &lt; sizeof(text); ++i)\n{\n  tf[i] = text[i];  // OK, Converts via constructor.\n}\nfor (unsigned int i = 0U; i &lt; sizeof(text); ++i)\n{\n  printf(\"%c\", tf[i]);  // The tf[i] should use the operator char () method.\n}\n</code></pre>\n\n<p>A better approach is to declare a class using <code>std::basic_string</code>, rather than trying to squeeze your class into the C-Style string functions.  </p>\n\n<p>For example:</p>\n\n<pre><code>class StringNw : public std::basic_string&lt;CharNw&gt;\n{\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5864744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e16788fb9645225c476fe383f43946?s=128&d=identicon&r=PG&f=1", "display_name": "rural", "link": "https://stackoverflow.com/users/5864744/rural"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1454515978, "creation_date": 1454514592, "last_edit_date": 1454514759, "question_id": 35181545, "link": "https://stackoverflow.com/questions/35181545/c-code-type-substition-fail", "title": "c++ code type substition fail", "body": "<p>I have this code, but is impossible to compile with g++ or msvc. I am trying to make a custom type CharNw that I can use it as string, in existing all string routines or pass as argument  all existing functions:</p>\n\n<pre><code>#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\nvoid fx(unsigned int x)\n{\n /*this is the reason of all this \n but is ok,  not is problem here */\n.....\n}\nclass CharNw\n{   \n    int wt;\n    char cr;\n\npublic:\n    CharNw() { wt = -1; cr = '\\0'; }\n    CharNw( char c) { if wt &gt; 0 fx( (unsigned int) wt); cr = c; }\n    operator char () { if wt &gt; 0 fx( (unsigned int) wt); return cr ;}\n    assgn( int f) { wt = f;}\n};\nint main(void)\n{\nCharNw hs[40];          //it is ok\nCharNw tf[] = \"This is not working, Why?\\n\";\nchar dst[40];\n    strcpy(dst, tf); //impossible to compile\nprintf(\"dst = %s, tf = %s\", dst, tf); //too\nreturn 0;\n}\n</code></pre>\n\n<p>Can help me?</p>\n"}, {"tags": ["c++", "templates", "inheritance", "polymorphism"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1454514643, "post_id": 35181535, "comment_id": 58080098, "body": "Did you try to compile it?"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1454514702, "post_id": 35181535, "comment_id": 58080149, "body": "Is it not working for you or what is the problem you&#39;re having? Also, don&#39;t forget about using smart pointers (e.g., <code>std::vector&lt;std::unique_ptr&lt;Base&gt;&gt;</code>)."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1454514754, "post_id": 35181535, "comment_id": 58080187, "body": "<a href=\"http://ideone.com/TEErPC\" rel=\"nofollow noreferrer\">Something like the above is indeed possible</a>. Why didn&#39;t you try it?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1454514924, "post_id": 35181535, "comment_id": 58080316, "body": "Outside of leaking memory, this is fine. Otherwise, it&#39;s unclear what you&#39;re actually asking."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1454515672, "post_id": 35181535, "comment_id": 58080877, "body": "Unclear what you&#39;re asking, but I have the feeling that the <code>Object</code> class turns out to be completely unnecessary in the long run."}, {"owner": {"reputation": 239, "user_id": 862595, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/99f78f2ad4fa2142bd9a2f9de31c932a?s=128&d=identicon&r=PG", "display_name": "nat45928", "link": "https://stackoverflow.com/users/862595/nat45928"}, "edited": false, "score": 0, "creation_date": 1454515768, "post_id": 35181535, "comment_id": 58080948, "body": "Had an issue else where in my code. Should have compiled my code first. Thanks for the (smart) pointers guys!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1357959"}, "is_accepted": true, "score": 0, "last_activity_date": 1454514763, "creation_date": 1454514763, "answer_id": 35181610, "question_id": 35181535, "link": "https://stackoverflow.com/questions/35181535/template-inherited-classes/35181610#35181610", "title": "Template Inherited Classes", "body": "<p>It definitely is possible. Your approach looks right as well. You basically define a common base class, and a templated derived class (as shown in your code example).</p>\n\n<p>The only thing missing from your example are the semicolons after the class definitions.</p>\n"}], "owner": {"reputation": 239, "user_id": 862595, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/99f78f2ad4fa2142bd9a2f9de31c932a?s=128&d=identicon&r=PG", "display_name": "nat45928", "link": "https://stackoverflow.com/users/862595/nat45928"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 35181610, "answer_count": 1, "score": -1, "last_activity_date": 1454514763, "creation_date": 1454514566, "question_id": 35181535, "link": "https://stackoverflow.com/questions/35181535/template-inherited-classes", "title": "Template Inherited Classes", "body": "<p>I am trying to make a wrapper class for generic data (POD or objects) that can be represented in a collection. Basically, I have a large set of data of varying types that I need to add other data to (like read/write times) but I would like to be able to represent this data in an STL container. Rough example:</p>\n\n<pre><code>class Base\n{\n    int lastUpdate;\n    void SomeMember();\n}\n\ntemplate&lt;class T&gt;\nclass Object : public Base\n{\n    T data;\n}\n\nint main()\n{\n    std::vector&lt;Base*&gt; data;\n    data.push_back(new Object&lt;int&gt;());\n    data.push_back(new Object&lt;OtherClass&gt;());\n}\n</code></pre>\n\n<p>Is something like the above possible?</p>\n"}, {"tags": ["c++", "winapi", "directx"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1454522130, "post_id": 35181383, "comment_id": 58085537, "body": "Your application isn&#39;t 2MB in size. It is 2MB plus the size of all 3rd party libraries you are using. If you don&#39;t want users to enjoy your application, you could distribute an arbitrarily small fraction of your application just as well. If you do want your user to enjoy your application, you&#39;ll need to ship your application, in full."}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1454871046, "post_id": 35181383, "comment_id": 58227522, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee416644%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Documentation</a> is your friend"}], "answers": [{"comments": [{"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 23, "user_id": 3696177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f43d7eb0333090d5248eeb0f066b909d?s=128&d=identicon&r=PG&f=1", "display_name": "user3696177", "link": "https://stackoverflow.com/users/3696177/user3696177"}, "edited": false, "score": 2, "creation_date": 1454517927, "post_id": 35181541, "comment_id": 58082636, "body": "@user3696177: So you don&#39;t want to distribute the stuff your users need with your application. And you don&#39;t want them to have to install it. So... what <i>do</i> you want? For the stuff your program needs to appear on user&#39;s systems by <i>magic</i>? Stuff has to be installed for D3D to work. So either your users install it, or your application&#39;s installer does. Or your program doesn&#39;t work."}, {"owner": {"reputation": 23, "user_id": 3696177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f43d7eb0333090d5248eeb0f066b909d?s=128&d=identicon&r=PG&f=1", "display_name": "user3696177", "link": "https://stackoverflow.com/users/3696177/user3696177"}, "edited": false, "score": 0, "creation_date": 1454843080, "post_id": 35181541, "comment_id": 58217816, "body": "Ok so which files should I distribute to make sure that my app runs? For directx 9 and 10"}], "tags": [], "owner": {"reputation": 2827, "user_id": 3931225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/46nwm.gif?s=128&g=1", "display_name": "KompjoeFriek", "link": "https://stackoverflow.com/users/3931225/kompjoefriek"}, "is_accepted": false, "score": 1, "last_activity_date": 1454870755, "last_edit_date": 1454870755, "creation_date": 1454514584, "answer_id": 35181541, "question_id": 35181383, "link": "https://stackoverflow.com/questions/35181383/how-to-make-sure-that-my-direct3d-application-will-run-everytime-on-any-pc/35181541#35181541", "title": "How to make sure that my direct3d application will run everytime on any PC", "body": "<p>As Nicol Bolas points out below, DirectX (and Visual C++) must be installed on the users machine for them to use your application.</p>\n\n<p>I previously recommended bundling the <a href=\"https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=35\" rel=\"nofollow\">DirectX Web Installer</a> because it pretty small, but as Ross Ridge mentioned, this might not be a legal way of distributing DirectX. Microsoft recommends to <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee418797%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396#always_install_directx__and_do_so_silently_\" rel=\"nofollow\">not bundle the Web Installer</a>, but use the redistributable package instead:</p>\n\n<blockquote>\n  <p>Always Install DirectX, and Do So Silently</p>\n  \n  <p>It is strongly recommended that the game silently install the DirectX\n  redistributable that the game was built against. The DirectX\n  installation process is designed so that it verifies whether anything\n  needs to be updated and quickly returns if it doesn't. So, there is no\n  need to ask users if they want DirectX installed. A silent\n  installation of DirectX can be done by running this command from your\n  installation package: dxsetup.exe /silent</p>\n  \n  <p>Asking a user if he wants to install DirectX can cause many problems.\n  For example, if the user assumes he has the latest redistributable\n  installed and chooses to skip installation of DirectX; installation of\n  the game could continue successfully anyway. However, if the game\n  requires a specific version of D3DX, or other updated functionality\n  that was skipped, then the game won't work, and the user will be very\n  frustrated.</p>\n</blockquote>\n\n<p>So please do as Microsoft recommends, and add the redistributable(s) to your application.</p>\n\n<p>Also do not forget to include the license agreement of any redistributable to your application. These agreements <strong>must</strong> be presented and accepted by the user before installing.</p>\n"}], "owner": {"reputation": 23, "user_id": 3696177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f43d7eb0333090d5248eeb0f066b909d?s=128&d=identicon&r=PG&f=1", "display_name": "user3696177", "link": "https://stackoverflow.com/users/3696177/user3696177"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1454870755, "creation_date": 1454514146, "last_edit_date": 1454516218, "question_id": 35181383, "link": "https://stackoverflow.com/questions/35181383/how-to-make-sure-that-my-direct3d-application-will-run-everytime-on-any-pc", "title": "How to make sure that my direct3d application will run everytime on any PC", "body": "<p>I have made an application which utilises Microsofts Directx9 as a graphics API, and it runs fine on my computer but on other computers, it asks for dlls mainly msvcrt and d3d runtime related. So how do I make sure that my application will run everytime someone executes it who doesn't know what vcrt or directx is? Do I supply the runtime packages with my app? Though it is not feasible for a 2MB application.  what to do?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 6567, "user_id": 2435820, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J6uQT.png?s=128&g=1", "display_name": "kfx", "link": "https://stackoverflow.com/users/2435820/kfx"}, "edited": false, "score": 0, "creation_date": 1454513592, "post_id": 35181100, "comment_id": 58079292, "body": "You probably mean something like <code>return *(static_cast&lt;T *&gt;(buffer));</code> instead. Is that the intention?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1454513665, "post_id": 35181100, "comment_id": 58079346, "body": "I suggest mentioning in your question the library that you&#39;re using. How are <code>DWORD</code> and <code>PVOID</code> defined?"}, {"owner": {"reputation": 123, "user_id": 5473947, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7888b8f23476e0a8be704cefafacef58?s=128&d=identicon&r=PG&f=1", "display_name": "ramafe", "link": "https://stackoverflow.com/users/5473947/ramafe"}, "edited": false, "score": 0, "creation_date": 1454513747, "post_id": 35181100, "comment_id": 58079399, "body": "just using the normal windows libs <code>void*</code>"}, {"owner": {"reputation": 253, "user_id": 4328606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMp3bhVgDjs/AAAAAAAAAAI/AAAAAAAAAKI/wDu0G_Yac1g/photo.jpg?sz=128", "display_name": "DennisS", "link": "https://stackoverflow.com/users/4328606/denniss"}, "edited": false, "score": 0, "creation_date": 1454513836, "post_id": 35181100, "comment_id": 58079472, "body": "What exactly are you trying to achieve? Cast a DWORD into T or something more?"}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1454514370, "post_id": 35181100, "comment_id": 58079885, "body": "You&#39;re returning the address of a local variable <code>&amp;buffer</code> which is bad. Don&#39;t do that. I don&#39;t know what you&#39;re trying to do, but this is a bad way to do it. You should edit the question to explain what you&#39;re trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 1, "last_activity_date": 1454514832, "last_edit_date": 1454514832, "creation_date": 1454514354, "answer_id": 35181461, "question_id": 35181100, "link": "https://stackoverflow.com/questions/35181100/template-function-returning-pvoid/35181461#35181461", "title": "Template function returning PVOID", "body": "<p>The type of <code>buffer</code> is <code>void*</code>. And therefore, using address-of operator: <code>&amp;buffer</code> gives you a <code>void**</code>. And <code>void**</code> can not be <code>static_cast</code>ed into <code>T</code> (unless you happened to instantiate <code>example&lt;void**&gt;</code>, but even then, the returned pointer would be dangling).</p>\n\n<p>This would be syntactically correct:</p>\n\n<pre><code>return *static_cast&lt;T*&gt;(buffer);\n</code></pre>\n\n<p>That program casts the void pointer into a pointer to <code>T</code> and then dereferences it. But there is no need for this trickery. Simply create a <code>T</code> in the first place, operate on it, and then return it:</p>\n\n<pre><code>T result;\n// my code is here sets the result\nreturn result;\n</code></pre>\n\n<p>This has multiple advantages. The compiler takes care of memory aliasing for you and for the correct construction of the result. This also makes named return value optimization possible which allows eliding the copy.</p>\n"}], "owner": {"reputation": 123, "user_id": 5473947, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7888b8f23476e0a8be704cefafacef58?s=128&d=identicon&r=PG&f=1", "display_name": "ramafe", "link": "https://stackoverflow.com/users/5473947/ramafe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 35181461, "answer_count": 1, "score": 1, "last_activity_date": 1454514832, "creation_date": 1454513357, "question_id": 35181100, "link": "https://stackoverflow.com/questions/35181100/template-function-returning-pvoid", "title": "Template function returning PVOID", "body": "<p>Not sure if this can be done.\nI have a example function below that needs to return the template</p>\n\n<pre><code>template &lt;class T&gt;\nT example(DWORD DW)\n{\n    PVOID buffer;\n\n    // my code is here sets the buffer\n\n    return static_cast&lt;T&gt;(&amp;buffer);\n}\n</code></pre>\n\n<p>Would like to use it like this</p>\n\n<pre><code>int iReturn = example&lt;int&gt;(dwSomeDword);\n</code></pre>\n"}, {"tags": ["c++", "gradle"], "answers": [{"comments": [{"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454594579, "post_id": 35191481, "comment_id": 58121770, "body": "Sadly, this did not work. I&#39;m not sure if it due to how I am currently cleaning the libs folder or something else. I&#39;m going to try and come up with a clean task for the libs folder where it deletes the files from the libs folder that are associated with a given project, that way gradle will know they have been cleaned vs just deleting them."}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "reply_to_user": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454595199, "post_id": 35191481, "comment_id": 58122184, "body": "Sorry I wasn&#39;t paying attention to the contents of your task. I was only looking at extending build.doLast in a way that works reliably when called on the subproject. When you say, it does not work, can you give some details about what is failing?"}, {"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454595690, "post_id": 35191481, "comment_id": 58122532, "body": "when gradle build is ran it will copy .so and .a files to the lib folder. When I run gradle :_QT_CORE:QT_MAIN:build it will attempt to build the QT_MAIN subproject and any projects it depends on but it will fail because it does not do the do last which will copy the need .so and .a files into the lib folder even if I include a --continue. If I first run a full build using gradle build then the .so and .a files will be copied into the lib folder. After which I can use gralde :_QT_CORE:QT_MAIN:build or install."}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "reply_to_user": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454600204, "post_id": 35191481, "comment_id": 58125938, "body": "When you run <code>:_QT_CORE:QT_MAIN:build</code>, do .so and .a files even exist in <code>rootProject.ext.libFolder</code>? because you didn&#39;t build the root project."}, {"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454603919, "post_id": 35191481, "comment_id": 58128561, "body": "If a clean has been run then they will not exist. The idea is that A depends on B then B.build will be called and when B.build is done it will copy the .so and .a files to libs then run A.build. Is this not correct?"}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "reply_to_user": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454609830, "post_id": 35191481, "comment_id": 58132365, "body": "are you missing <code>copy{}</code> in the code that you posted?"}, {"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454611676, "post_id": 35191481, "comment_id": 58133557, "body": "Yes, I edited the code. We work on a private network so I had to retype it for here ;("}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "reply_to_user": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454617236, "post_id": 35191481, "comment_id": 58136843, "body": "I see the problem you&#39;re describing, when I do not use the afterEvaluate block, but works fine for me once I include afterEvaluate. See sample here: <a href=\"https://github.com/foragerr/SO-35181097-Gradle-Subproject\" rel=\"nofollow noreferrer\">github.com/foragerr/SO-35181097-Gradle-Subproject</a>"}, {"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454621221, "post_id": 35191481, "comment_id": 58139081, "body": "I see what the issue is now but am not sure how to fix it. When I call something like :_QT_CORE:QT_MAIN:build it does not actually run the build task for any project expect for the specific task and only runs compile for all other task."}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "reply_to_user": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454623221, "post_id": 35191481, "comment_id": 58140163, "body": "When you call build on a leaf project, the parent project is configured, but it&#39;s build task is not executed. This is normal gradle behavior. If you call build task on parent, all subproject build tasks are executed as well. Why is this a problem though? you&#39;re building subproject and copying it&#39;s binaries to parent project folders right?"}, {"owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "edited": false, "score": 0, "creation_date": 1454623340, "post_id": 35191481, "comment_id": 58140215, "body": "Yes, but the subproject depends on other subprojects that may have not been built or more likely have changed."}, {"owner": {"reputation": 4014, "user_id": 356199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b9bced4bf77c1840e60a5246958b30?s=128&d=identicon&r=PG", "display_name": "Peter Ledbrook", "link": "https://stackoverflow.com/users/356199/peter-ledbrook"}, "edited": false, "score": 0, "creation_date": 1454686156, "post_id": 35191481, "comment_id": 58170141, "body": "The <code>buildNeeded</code> task will run <code>build</code> in the target project and all projects that it depends on. That may be the simplest option.  I&#39;m a bit surprised that <code>build</code> only triggers the compilation of the upstream projects and not the linking. In Java projects, <code>build</code> results in <code>jar</code> (the packaging step) being executed."}], "tags": [], "owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "is_accepted": true, "score": 1, "last_activity_date": 1454610051, "last_edit_date": 1454610051, "creation_date": 1454553363, "answer_id": 35191481, "question_id": 35181097, "link": "https://stackoverflow.com/questions/35181097/gradle-task-not-ran-when-subproject-task-ran/35191481#35191481", "title": "Gradle task not ran when subproject task ran", "body": "<p>Stick the <code>build.doLast{}</code> in an <code>afterEvaluate{}</code> block. </p>\n\n<pre><code>subprojects {\n    afterEvaluate{\n        build.doLast {\n            copy{\n                from fileTree ( buildDir.getCanonicalPath() ).files\n                into rootProject.ext.libFolder\n                include '*.so'\n                include '*.a'\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Because you want to add the doLast functionality after the subproject build task is available.</p>\n"}], "owner": {"reputation": 1445, "user_id": 3424487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f9f03a5eb5cb6168e71fb1420d6b6df?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hobbs", "link": "https://stackoverflow.com/users/3424487/michael-hobbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 35191481, "answer_count": 1, "score": 1, "last_activity_date": 1454611621, "creation_date": 1454513342, "last_edit_date": 1454611621, "question_id": 35181097, "link": "https://stackoverflow.com/questions/35181097/gradle-task-not-ran-when-subproject-task-ran", "title": "Gradle task not ran when subproject task ran", "body": "<p>I have a gradle c/cpp project where it has rootProject/project/subProject</p>\n\n<p>In my root build.gradle I have</p>\n\n<pre><code>ext.libFolder = rootDir.toString + '/lib/'\nsubprojects {\n  build.doLast {\n   copy {\n    from fileTree ( buildDir.getCanonicalPath() ).files\n    into rootProject.ext.libFolder\n    include '*.so'\n    include '*.a'\n   }\n  }\n}\n</code></pre>\n\n<p>This works perfectly when I do: gradle build but if I do gradle :project:subProject:build it does not work... What do I need to change to make this work no matter how I call the build task?</p>\n\n<p>On a side note we are trying to make all subProject build.gradle files as bare minimal as possible, simple as possible, and structurally the same as possible, as we have over 780 of them.</p>\n\n<p>edit: I have added in a clean task as shown below this way gradle will know the files have been cleaned. This however does not seem to effect the core issue where the build task when called any way other than gradle build does not run the doLast task.</p>\n\n<pre><code>clean {\n  delete rootProject.ext.includesFolder\n  delete rootProject.ext.libfolder\n}\n</code></pre>\n"}]