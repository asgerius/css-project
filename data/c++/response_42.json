[{"tags": ["c++", "c++11", "constructor", "move-semantics", "move-constructor"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1446075980, "post_id": 33403471, "comment_id": 54598569, "body": "What you are describing would happen if you implement or use a buggy move constructor. And there&#39;s not enough information in your post to determine whether that is the case."}, {"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1446076212, "post_id": 33403471, "comment_id": 54598660, "body": "How about this update?"}, {"owner": {"reputation": 3667, "user_id": 3288910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2b8044eca80b9a707c716c530d9f5?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/3288910/jason"}, "edited": false, "score": 1, "creation_date": 1446076235, "post_id": 33403471, "comment_id": 54598669, "body": "The code for the move assign constructor seems to be missing."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1446076311, "post_id": 33403471, "comment_id": 54598698, "body": "We have no idea what <code>SomeObj</code> does. We don&#39;t even know what &quot;field pointers&quot; you&#39;re talking about."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1446077315, "post_id": 33403471, "comment_id": 54599007, "body": "You say, &quot;we swap the pointers&quot;, but your example contains no pointers."}], "answers": [{"comments": [{"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076603, "post_id": 33403606, "comment_id": 54598773, "body": "So in this case, it actually COPIES <code>p</code> from <code>rhs</code>? I thought it was pointer swapping so that <code>this-&gt;p</code> now points to <code>rhs</code>&#39;s <code>p</code>&#39;s memory location and vice versa."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076648, "post_id": 33403606, "comment_id": 54598787, "body": "You copy the pointer <code>p</code>, not the data it points to. So effectively it is a swap of the data."}, {"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076760, "post_id": 33403606, "comment_id": 54598814, "body": "What if the field is some object, instead of pointers? Move cstor actually copies the objects instead of swapping them (e.g. changing <code>&amp;(this-obj)</code> so that it points to <code>rhs.obj</code>)?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076864, "post_id": 33403606, "comment_id": 54598852, "body": "This was a simplified example. In case you have more complicated member objects, then it better be the case that all of them defined a move constructor. Then the default move constructor of the composite object will invoke each component move constructor, so you don&#39;t even bother writing a move constructor. Example: <code>struct X{std::string member;}</code>. The default move constructor of <code>X</code> &quot;knows&quot; how to move, since <code>std::string</code> implements a move ctor."}, {"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076917, "post_id": 33403606, "comment_id": 54598869, "body": "But when it recursively goes down to the deepest move cstor you will call, it would indeed copy the value? Is this what you are saying?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446076976, "post_id": 33403606, "comment_id": 54598888, "body": "@OneZero I will do whatever you tell it to do. If you deal with raw pointers, then yes, a move constructor typically copies the pointer, <b>not the data it points to</b>."}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": false, "score": 1, "last_activity_date": 1446078170, "last_edit_date": 1446078170, "creation_date": 1446076375, "answer_id": 33403606, "question_id": 33403471, "link": "https://stackoverflow.com/questions/33403471/does-using-move-cstor-lose-memory-when-the-source-obj-is-destroyed/33403606#33403606", "title": "Does using move cstor lose memory when the source obj is destroyed?", "body": "<p>If the move constructor is properly implemented, you don't leak any memory. In particular, a typical move constructor sets the rhs pointer to <code>nullptr</code>, so a subsequent <code>delete</code> in the destructor of the moved-from object is a no-op. Super simplified example:</p>\n\n<pre><code>X::X(X&amp;&amp; rhs)\n{\n    this-&gt;p = rhs.p; // here p is a pointer\n    rhs.p = nullptr; // now the delete p from the dtor of rhs is a no-op\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 2, "last_activity_date": 1446077156, "last_edit_date": 1446077156, "creation_date": 1446076672, "answer_id": 33403661, "question_id": 33403471, "link": "https://stackoverflow.com/questions/33403471/does-using-move-cstor-lose-memory-when-the-source-obj-is-destroyed/33403661#33403661", "title": "Does using move cstor lose memory when the source obj is destroyed?", "body": "<p>Here is a typical implementation of a moving class</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct moving\n{\n  moving()=default;\n  explicit moving(size_t n)\n  : ptr(new T[n]) {}\n  moving(moving const&amp;)=delete;\n  moving&amp;operator=(moving const&amp;)=delete;\n  moving(moving&amp;&amp;m)\n  : ptr(m.ptr) { m.ptr=nullptr; }\n  moving&amp;operator=(moving&amp;&amp;m)\n  { if(this!=&amp;m) { delete ptr; ptr=m.ptr; m.ptr=nullptr; } return*this; }\nprivate:\n  T*ptr=nullptr;\n};\n</code></pre>\n\n<p>So you can figure out by yourself what will happen.</p>\n\n<p>Note that move semantics are only relevant to situations where external resources are managed (such as pointers holding the address of allocated memory or handles to some type of library-managed resources like HDF5 ids). For other ordinary data, moving is no different from copying.</p>\n"}], "owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446083100, "creation_date": 1446075554, "last_edit_date": 1446083100, "question_id": 33403471, "link": "https://stackoverflow.com/questions/33403471/does-using-move-cstor-lose-memory-when-the-source-obj-is-destroyed", "title": "Does using move cstor lose memory when the source obj is destroyed?", "body": "<p>Say I have a class </p>\n\n<pre><code>MyClass {\n  //.. cstors and dstor\n  void MyClass(MyClass&amp;&amp; source) : some_obj_(std::move(source.some_obj_));\n  SomeObj some_obj_;\n}\n</code></pre>\n\n<p>Say I do the following:</p>\n\n<pre><code>// a1 is defined somewhere else with a wider scope\nMyClass a1; \n...\n// a2 is defined locally and will go out of scope soon\nMyClass a2; \n... //Populate a2's some_obj_ field with data\na1 = std::move(a2); // move instead of copy\n</code></pre>\n\n<p>In this case, the move constructor will be invoked. From what I understand, the move constructor swaps the field pointers between the two so that no copy happens. </p>\n\n<p>So here comes my question. When <code>a2</code> is instantiated, it allocates memory within <code>a2</code> itself for field <code>some_obj_</code>. When the move happens, we swap the pointers so that now <code>a1</code>'s <code>some_obj_</code> points to the chunk of memory that <code>a2</code> holds (instead of copying it over its own memory space). In the future, when <code>a2</code> goes out of scope, e.g. function containing <code>a2</code> returns so the stack frame is cleaned up, since <code>a2.some_obj_</code> resides within <code>a2</code>, it also gets deleted. Since <code>a1.some_obj_</code>, after the move, points to <code>a2</code>'s memory that has been cleaned now, does <code>a1</code> lose that part of the information? </p>\n\n<p>It seems that following the above logic, <code>a1</code> will now pointing to invalid memory space. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446076355, "post_id": 33403409, "comment_id": 54598708, "body": "<code>store[c.getScreen_name().c_str()[0]].push_back(temp);</code> can be simplified to <code>store[c.getScreen_name()[0]].push_back(temp);</code> and use <code>std::string</code>&#39;s built in <code>[]</code> operator. But before you run off and do anything like this, consider what will happen if the provided character  contains a character with a value under 0."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1446076430, "post_id": 33403409, "comment_id": 54598731, "body": "Same problem will occur again here: <code>store[key.c_str()[0]];</code>"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1446076544, "post_id": 33403409, "comment_id": 54598758, "body": "Add a complete copy of the error that you are getting."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446076589, "post_id": 33403409, "comment_id": 54598769, "body": "Return from <code>LinkedList getLinkedList(string c)</code> is not defined for all cases. Compiler warning picked off this one for me and should have for you as well. If not, crank up the warning level. I&#39;m using <code>-pedantic -pedantic-errors -Wall -Wextra -Werror -Wconversion</code> in g++. Addendum: returning by value will provide a copy of the linked list, not the real thing. You may want to return a reference here."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446076690, "post_id": 33403409, "comment_id": 54598799, "body": "This one <code>store[(int)c.c_str()[0]];</code> almost for it right, but it need to convert to an <code>unsigned int</code> to prevent negative index values."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446076994, "post_id": 33403409, "comment_id": 54598896, "body": "<code>std::list</code> and <code>std::unordered_map</code> are available already.  Any reason why you implemented your own linked list and hash table?  You&#39;re using <code>std::vector</code>, so why not use the other container classes?  <code>std::list&lt;tweet&gt;</code> doing that, and half your code would be no longer needed and would not contain the bug that the answer from @txmanga pointed out."}, {"owner": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446078012, "post_id": 33403409, "comment_id": 54599206, "body": "All of these are implemented because of the parameters of the assignment, @PaulMcKenzie so thank you, but this does not solve my problem."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446078298, "post_id": 33403409, "comment_id": 54599321, "body": "Well, see my comment below.  You have a lot of work to do to rid yourself of storing pointers to temporaries.  You now have to manage the memory (the rule of 3 now comes into play) meaning you have to write destructors for your LinkedList class and possibly other classes.  But that still is a wonder as to why you can&#39;t use <code>std::list</code>, as your usage of containers seems arbitrary.  You use <code>std::vector</code>, but not <code>std::list</code> -- strange.  Maybe you can list exactly what you can&#39;t use?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446077129, "post_id": 33403681, "comment_id": 54598948, "body": "Oh, okay. any suggestions for how to do this without using temporaries?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446077195, "post_id": 33403681, "comment_id": 54598971, "body": "Use <code>std::list</code>.  See my comment -- you&#39;re using <code>std::vector</code> now as it is."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446078019, "post_id": 33403681, "comment_id": 54599208, "body": "To do this without temporaries, you have to rethink your design to use value semantics (which is what <code>std::list</code> does) or use dynamic memory allocation, thus increasing the chance of memory leaks."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446078042, "post_id": 33403681, "comment_id": 54599221, "body": "Good eyes, bmanga. Problem is systemic throughout the code. @blurthe1st, Play around with a few smaller, simpler programs to get pass by value and pass by reference worked out in your head. Fixing your program will require a significant rip-up that is beyond the scope of SO."}, {"owner": {"reputation": 130, "user_id": 4324676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f307cfeaa9ae10cb8d6e4e5468a959f?s=128&d=identicon&r=PG&f=1", "display_name": "bmanga", "link": "https://stackoverflow.com/users/4324676/bmanga"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1446078101, "post_id": 33403681, "comment_id": 54599242, "body": "If you are not allowed to use standard containers as @PaulMcKenzie suggested, the best option you have are smart pointers or dynamic memory allocation"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446078162, "post_id": 33403681, "comment_id": 54599258, "body": "Not quite true, bmanga. blurthe1st can write a smarter LinkedList."}, {"owner": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446078214, "post_id": 33403681, "comment_id": 54599278, "body": "Thank you, this has solved my problem! Also, thank you for other suggestions, I am still working on learning this language so I may not make the most effective or stylistically sound choices!"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446078395, "post_id": 33403681, "comment_id": 54599350, "body": "@blurthe1st What exactly solved the problem?  Unless you wrote copy constructor, assignment operator, and destructor at lightning speed ... or just bit the bullet and used <code>std::list</code> or smart pointer class.  Just warning you, in case you just called <code>new</code> without calling <code>delete</code>, thus now having a program with memory leaks."}, {"owner": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446079493, "post_id": 33403681, "comment_id": 54599655, "body": "In reality it was the suggestion to make the fixes to change to tweet&amp; and the transition to passing an address to insertTweet that fixed the code that I had, but I am also rebuilding the entire file using suggestions you guys gave me to create a more stable file in total, and that seems to be working better. It was just a bit of a lack of understanding of the language that caused this incident, really, and I am thankful for you guys&#39; willingness to help!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "edited": false, "score": 0, "creation_date": 1446079879, "post_id": 33403681, "comment_id": 54599774, "body": "@blurthe1st watch out for <code>getLinkedList</code> and <code>keyExists</code>. If they seem to be giving the correct results, it is only by pure misfortune."}], "tags": [], "owner": {"reputation": 130, "user_id": 4324676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f307cfeaa9ae10cb8d6e4e5468a959f?s=128&d=identicon&r=PG&f=1", "display_name": "bmanga", "link": "https://stackoverflow.com/users/4324676/bmanga"}, "is_accepted": true, "score": 2, "last_activity_date": 1446077647, "last_edit_date": 1446077647, "creation_date": 1446076784, "answer_id": 33403681, "question_id": 33403409, "link": "https://stackoverflow.com/questions/33403409/segfault-error-in-custom-dictionary-class-c/33403681#33403681", "title": "Segfault Error in Custom Dictionary Class C++", "body": "<p>You are getting the addresses of temporaries:</p>\n\n<pre><code>    void insertFront(tweet c) {\n        LinkedList temp;\n        temp.setTweet(top);\n        temp.setNext(next);\n        this-&gt;setTweet(c); //should be &amp;c, but c is a temporary!\n        this-&gt;setNext(&amp;temp); //temp is a temporary!\n    };\n</code></pre>\n\n<p>Also, in HashTable, you need <code>put</code> and <code>insertTweet</code> to have a <code>tweet&amp;</code> parameter.</p>\n\n<p>Finally, still in <code>insertTweet</code>, you should pass the address of c to setTweet.</p>\n\n<p>Note that this code is very fragile, as you will have dangling pointers as soon as the tweet objects go out of scope.</p>\n"}], "owner": {"reputation": 3, "user_id": 5500611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32392b07e65727fd0a46b6c5b98c1251?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Emery", "link": "https://stackoverflow.com/users/5500611/patrick-emery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 33403681, "answer_count": 1, "score": 0, "last_activity_date": 1446077647, "creation_date": 1446075176, "question_id": 33403409, "link": "https://stackoverflow.com/questions/33403409/segfault-error-in-custom-dictionary-class-c", "title": "Segfault Error in Custom Dictionary Class C++", "body": "<p>So, as part of my assignment in Computer Science, which was to read tweets and put them into a custom Dictionary, I had to, you guessed it, create a dictionary. However, during testing with the dictionary, I encountered an error which I have been unable to fix, despite hours of attempted troubleshooting. I have narrowed it down, and determined that the error lies on line 144, somewhere in the statement <code>cout&lt;&lt;j.get(\"name\").getFront()-&gt;getText();</code>, but I have been unable to determine which part of this causes issues, even when breaking it down by parts, except that it begins when I add in the <code>-&gt;getText()</code>, however I heavily suspect that the problem starts earlier on.</p>\n\n<p>I am sorry if I am not too specific, or if I ramble too much, I have just been having trouble with this for a while, and am beginning to get frustrated.</p>\n\n<p>I understand not all the execution or style is the best, so I may ask you to refrain from leaving comments on the way things are done, unless it may directly relate to the problem at hand.</p>\n\n<p>Thank you for any and all help.</p>\n\n<pre><code>/*********************************************************************************************************************\n * [REDACTED]                                                                                                        *\n * CS 101-- Project 4 (Hashing Twitter)                                                                              *\n * This program stores Twitter posts in a hash table                                                                 *                                                                                                        *\n *********************************************************************************************************************/\n\n#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\nclass tweet {\n    private:\n        string create_at;\n        string text;\n        string screen_name;\n    public:\n        string getCreate_at() {\n            return create_at;\n        };\n        string getText() {\n            return text;\n        };\n        string getScreen_name() {\n            return screen_name;\n        };\n        void setCreate_at(string c) {\n            create_at=c;\n        };\n        void setText(string c) {\n            text=c;\n        };\n        void setScreen_name(string c) {\n            screen_name=c;\n        };\n};\nclass LinkedList {\n    public:\n        tweet* getFront() {\n            return top;\n        };\n        LinkedList* getNext() {\n            return next;\n        };\n        void setNext(LinkedList* c) {\n            next = c;\n        };\n        void setTweet(tweet c) {\n            top = &amp;c;\n        };\n        void setTweet(tweet* c) {\n            top = c;\n        };\n        void insertFront(tweet c) {\n            LinkedList temp;\n            temp.setTweet(top);\n            temp.setNext(next);\n            this-&gt;setTweet(c);\n            this-&gt;setNext(&amp;temp);\n        };\n        tweet* removeFront() {\n            tweet* temp;\n            temp = top;\n            if(next != NULL){\n                top = next-&gt;getFront();\n                if(next-&gt;getNext() != NULL)\n                    next = next-&gt;getNext();\n            }\n            return temp;\n        };\n    private:\n        tweet* top;\n        LinkedList* next;\n};\nclass HashTable {\n    private:\n        vector&lt;LinkedList&gt; store [256];//access by firstcharacter of name as index of array then search through vector linearly until find key \n        LinkedList getLinkedList(string c) {\n            vector&lt;LinkedList&gt; temp=store[(int)c.c_str()[0]];\n            for(int i =0;i&lt;temp.size();i++) {\n                if(temp.at(i).getFront()-&gt;getScreen_name()==c) {\n                    return temp.at(i); //gets list of tweets\n                }\n            };\n        };\n        bool keyExists(string c) {\n            vector&lt;LinkedList&gt; temp = store[(int)c.c_str()[0]];\n            for(int i =0;i&lt;temp.size();i++) {\n                if(temp.at(i).getFront()-&gt;getScreen_name()==c) {\n                    return true; //gets list of tweets\n                }\n            };\n            return false;\n        };\n        void insertTweet(tweet c){\n            if(keyExists(c.getScreen_name())){\n                getLinkedList(c.getScreen_name()).insertFront(c);\n            } else {\n                LinkedList temp;\n                temp.setTweet(c);\n                store[c.getScreen_name().c_str()[0]].push_back(temp);\n            }\n        };\n    public:\n        void put(tweet c) {\n            insertTweet(c);\n        };\n        LinkedList get(string key) {\n            return getLinkedList(key);\n        };\n        bool contains(string key) {\n            return keyExists(key);\n        };\n        void remove(string key) {\n            vector&lt;LinkedList&gt; temp=store[key.c_str()[0]];\n            for(int i =0;i&lt;temp.size();i++) {\n                if(temp.at(i).getFront()-&gt;getScreen_name()==key) {\n                    temp.erase(temp.begin()+i); //gets list of tweets\n                }\n            };\n        };\n};\nHashTable parser(string filename) {\n    //backslashes\n};\nint main(int argc, char *argv[])\n{\n    tweet hello;\n    hello.setText(\"hello\");\n    hello.setScreen_name(\"user\");\n    hello.setCreate_at(\"10211997\");\n    tweet heyo;\n    heyo.setText(\"heyo\");\n    heyo.setScreen_name(\"name\");\n    heyo.setCreate_at(\"79912101\");\n    LinkedList jerome;\n    jerome.insertFront(hello);\n    cout&lt;&lt;jerome.getFront()-&gt;getText()&lt;&lt;endl;\n    jerome.insertFront(heyo);\n    cout&lt;&lt;jerome.removeFront()-&gt;getText()&lt;&lt;endl;\n    HashTable j;\n    j.put(heyo);\n    cout&lt;&lt;j.get(\"name\").getFront()-&gt;getText();\n}\n</code></pre>\n"}, {"tags": ["c++", "enums"], "answers": [{"comments": [{"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446076247, "post_id": 33403338, "comment_id": 54598673, "body": "Thanks for your reply! I was aware of these solutions but both of them don&#39;t work.  When i try the first one (adding &#39;class&#39;) it still gives me the same error. When i try the second one, it only gives an error for the RIGHT part of the if statement, saying &quot;symbol &#39;RIGHT&#39; could not be resolved&quot;."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446076763, "post_id": 33403338, "comment_id": 54598815, "body": "Then you&#39;re doing something wrong somewhere else and need to provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446077969, "post_id": 33403338, "comment_id": 54599185, "body": "I really don&#39;t know what&#39;s the problem here.. i declared the enum in header file, included it in a .cpp file (which implements methods from a purely abstract base class if it matters) and it&#39;s just not working.."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446078023, "post_id": 33403338, "comment_id": 54599212, "body": "Sorry, can&#39;t help without a reproducible example. (other than guess)"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446079109, "post_id": 33403338, "comment_id": 54599536, "body": "Judging by the snippets you added, you haven&#39;t included the header and you haven&#39;t specified the name of the scoped enum in front of the enumerator."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446079485, "post_id": 33403338, "comment_id": 54599653, "body": "widget.h is included in both information.h and information.cpp, sorry for not including that.  and what do you mean? &#39;Direction&#39; is name of the enumerator, like specified."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446079525, "post_id": 33403338, "comment_id": 54599666, "body": "You did not write <code>Direction::LEFT</code> which is needed since you declared <code>Direction</code> as <code>enum class</code>."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446079988, "post_id": 33403338, "comment_id": 54599803, "body": "Even when i do it still gives me the error of &quot;Direction is not a class or namespace&quot;.  I don&#39;t know if it matters, but when i declare the enum it gives me a warning &quot;scoped enums only available with -std=c++11...&quot;.  Regardless, even if i omit the word &quot;class&quot; from the enum declaration, and use &quot;if (stringDirection==LEFT)&quot; it doesn&#39;t work.."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446080226, "post_id": 33403338, "comment_id": 54599882, "body": "Yes, <code>enum class</code> is only available since C++11 so you should use <code>-std=c++11</code> to tell your compiler to compile as C++11. Or preferably C++14 while at it. Compile warnings are there <i>for a reason</i>. (Also that should&#39;ve been a compile <i>error</i>, please check your compile options that they&#39;re sensible, e.g. <code>-pedantic-errors</code>.)"}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446080443, "post_id": 33403338, "comment_id": 54599951, "body": "and how would i go about doing that? sorry i have no idea.."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446080534, "post_id": 33403338, "comment_id": 54599980, "body": "That depends on your build environment and thus is too broad to discuss here. I&#39;m sure Google and/or Stack Overflow and/or your compiler/IDE docs will have the answer for that."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1446080638, "post_id": 33403338, "comment_id": 54600006, "body": "Yeah, found it! many thanks for your help!"}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 12, "last_activity_date": 1446075002, "last_edit_date": 1446075002, "creation_date": 1446074687, "answer_id": 33403338, "question_id": 33403322, "link": "https://stackoverflow.com/questions/33403322/getting-an-enum-is-not-a-class-or-namespace-error-c/33403338#33403338", "title": "Getting an &quot;enum is not a class or namespace&quot; error - C++", "body": "<p>Declare your enum as <code>enum class</code> or <code>enum struct</code> if you want a scoped enum, i.e. to require the enumerators to be prefixed <code>Direction::</code>:</p>\n\n<pre><code>enum class Direction {LEFT, RIGHT};\n</code></pre>\n\n<p>Otherwise if you want an old C-style enum then you need to omit the namespace qualifier <code>Direction::</code> that the error message is complaining about:</p>\n\n<pre><code>if (stringDirection == RIGHT)\n</code></pre>\n\n<p>Notice that in the latter case the enumerator identifiers will be placed in the global namespace, which might cause them to clash with other identifiers.</p>\n"}], "owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2676, "favorite_count": 1, "closed_date": 1446081774, "accepted_answer_id": 33403338, "answer_count": 1, "score": 6, "last_activity_date": 1446078461, "creation_date": 1446074589, "last_edit_date": 1446078461, "question_id": 33403322, "link": "https://stackoverflow.com/questions/33403322/getting-an-enum-is-not-a-class-or-namespace-error-c", "closed_reason": "Duplicate", "title": "Getting an &quot;enum is not a class or namespace&quot; error - C++", "body": "<p>I declared an enum (called Direction) in a header file:</p>\n\n<pre><code>enum Direction {LEFT, RIGHT};\n</code></pre>\n\n<p>Then, i have a constructor that takes a Direction value and set it for another Direction variable (stringDirection).</p>\n\n<pre><code>bool InformationWidget::move(Direction direction){\n    stringDirection=direction;\n\nreturn true;\n}\n</code></pre>\n\n<p>And finally, i have an if statement that checks the value of it:</p>\n\n<pre><code>if (stringDirection == Direction::RIGHT)\n</code></pre>\n\n<p>This is where i'm getting the error, at that if statement.. any ideas?\nI tried looking around at previous threads but didn't find anything useful.</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:</p>\n\n<p>Here are my files:</p>\n\n<p>Widget.h</p>\n\n<pre><code>enum class Direction {LEFT, RIGHT};\n\nclass Widget {\npublic:\n     virtual bool...\n     ...\n};\n</code></pre>\n\n<p>information.h</p>\n\n<pre><code>class InformationWidget: public Widget {\npublic:\n    ...\n    Direction stringDirection;\n    ...\n};\n</code></pre>\n\n<p>information.cpp</p>\n\n<pre><code>void InformationWidget::show(){\n\n...\n\nif (stringDirection == LEFT) {\n... }\n}\n</code></pre>\n"}, {"tags": ["c++", "winapi", "console", "glut"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 1, "creation_date": 1446073591, "post_id": 33403095, "comment_id": 54597745, "body": "Sounds like you&#39;re looking for something like <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681944(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>AllocConsole</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 3, "last_activity_date": 1446074480, "last_edit_date": 1495542217, "creation_date": 1446074480, "answer_id": 33403301, "question_id": 33403095, "link": "https://stackoverflow.com/questions/33403095/working-on-win32-app-would-like-output-to-both-win32-window-and-console-window/33403301#33403301", "title": "Working on Win32 App, would like output to both Win32 window and console window", "body": "<p>You can add a console to a GUI programme by hijacking the parent's process console or allocating a new one:</p>\n\n<pre><code>if (! AttachConsole(ATTACH_PARENT_PROCESS))   // try to hijack existing console of command line\n    AllocConsole();                           // or create your own.\n\nDWORD nw,nr;    // demo with windows native console i/o \nchar buff[32]; \nWriteConsole(GetStdHandle(STD_OUTPUT_HANDLE), L\"Hello Matthew !\", 15, &amp;nw, NULL); \n</code></pre>\n\n<p>This works fine if you do not foresee input on the console. </p>\n\n<p>If you prefer to use stream output instead of native windows console functions,  you 'd be interested in this <a href=\"https://stackoverflow.com/questions/311955/redirecting-cout-to-a-console-in-windows\">SO question</a>   </p>\n"}], "owner": {"reputation": 19, "user_id": 5500544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6cf751a8a0d2e709a5cf45a2b495c48?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew S.", "link": "https://stackoverflow.com/users/5500544/matthew-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1446074480, "creation_date": 1446073353, "last_edit_date": 1446073636, "question_id": 33403095, "link": "https://stackoverflow.com/questions/33403095/working-on-win32-app-would-like-output-to-both-win32-window-and-console-window", "title": "Working on Win32 App, would like output to both Win32 window and console window", "body": "<p>I have looked fairly thoroughly through posts on this and other sites and it seems like most of the answers were from a number of years ago. I'm looking to create a Win32 C++ app that uses OpenGL functionality. Previously I have debugged these programs by porting the significant C++ code functions to a Win32 Console App. At this point I need to be able to debug through output to console window while interacting with the GLUT window. So, what I am looking for is a way to produce two windows from Win32 main - one holding the GLUT functionality (normal Win32), and one holding console output (not native to the Win32 project app). Is this even possible? If not, can someone suggest a link for debugging interactive GLUT programs?</p>\n\n<p>Matt S.  </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1446073131, "post_id": 33403012, "comment_id": 54597536, "body": "Show a minimal compiled program that demonstrates the problem."}, {"owner": {"reputation": 54, "user_id": 3428421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0f33bac9df5b3e5d10badd529b815efa?s=128&d=identicon&r=PG&f=1", "display_name": "hajrovica", "link": "https://stackoverflow.com/users/3428421/hajrovica"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1446073288, "post_id": 33403012, "comment_id": 54597596, "body": "sorry what do you mean by minimal compiled program?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1446073383, "post_id": 33403012, "comment_id": 54597647, "body": "I mean that it is unknown what this name  kuca means because above it there is class name."}, {"owner": {"reputation": 54, "user_id": 3428421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0f33bac9df5b3e5d10badd529b815efa?s=128&d=identicon&r=PG&f=1", "display_name": "hajrovica", "link": "https://stackoverflow.com/users/3428421/hajrovica"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1446074552, "post_id": 33403012, "comment_id": 54598100, "body": "@Vlad sry that there is typo. But You and others have answered this question correct i tested it.  This was a part of assignment and i received declaration of constructor <b>kuca( int b, string s) :broj(b)</b> will need to check if it is typo. Thank You"}], "answers": [{"comments": [{"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1446074578, "post_id": 33403061, "comment_id": 54598110, "body": "It would be better if you explained <i>why</i> your solution works and <i>why</i> the original code behaved as it did. A solution-only answer without any further explanation is not helpful for understanding the underlying cause of the problem."}], "tags": [], "owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "is_accepted": true, "score": 2, "last_activity_date": 1446080694, "last_edit_date": 1446080694, "creation_date": 1446073190, "answer_id": 33403061, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference/33403061#33403061", "title": "C++ class member by reference", "body": "<p>change your ctor signature as follows:</p>\n\n<pre><code>kuca(int&amp; b, string s) :broj(b)\n</code></pre>\n\n<p>note the <code>int&amp;</code> instead of <code>int</code>.  Then, the parameter <code>b</code> will refer to the variable <code>isbn</code> rather than to some call stack location.</p>\n\n<p>It should be noted that with the original signature</p>\n\n<pre><code>kuca(int b, string s) : broj(b)\n</code></pre>\n\n<p>you're taking a reference of the parameter that's a copy passed on the stack. So, when the info() method is called, then <code>broj</code> refers to a location on the call stack rather than to the variable <code>isbn</code>. That is why it appears to print a \"random\" value.</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 3, "last_activity_date": 1446073818, "last_edit_date": 1446073818, "creation_date": 1446073289, "answer_id": 33403081, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference/33403081#33403081", "title": "C++ class member by reference", "body": "<p>You have to write at least </p>\n\n<pre><code>kuca( int &amp;b, string s) :broj(b)\n      ^^^^^^\n{\n    ulica = s;\n}\n</code></pre>\n\n<p>Otherwise variable b is a local variable/object of the constructor that will be destroyed after executing the constructor and the reference will be invalid.</p>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 3, "last_activity_date": 1446073725, "creation_date": 1446073725, "answer_id": 33403168, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference/33403168#33403168", "title": "C++ class member by reference", "body": "<p>A reference member always has the danger of becoming dangling: when the original object to which the reference refers goes out of scope. In your case, this happened instantly (as the object was a temporary), but even if you follow the suggestion</p>\n\n<pre><code>kuca(int&amp;b, const string&amp;s) : broj(b), ulica(s) {}\n     ^^^^^\n</code></pre>\n\n<p>you can easily get into trouble. For example</p>\n\n<pre><code>kuca make_kuca()\n{\n  int x=7;\n  return {x,\"bad\"};\n}\nauto k=make_kuca();\n</code></pre>\n\n<p>when the returned object's reference member refers to a variable (<code>x</code>) that has just gone out of scope.</p>\n\n<p>Therefore, reference data members should be used with care to ensure that their lifetime never exceeds that of they variable they refer to.</p>\n"}, {"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 0, "last_activity_date": 1446073915, "creation_date": 1446073915, "answer_id": 33403199, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference/33403199#33403199", "title": "C++ class member by reference", "body": "<p>You're storing a reference to the parameter <code>b</code>, which exists only during the constructor call. After the constructor call you're left with referencing an <code>int</code> that doesn't exist.</p>\n"}, {"tags": [], "owner": {"reputation": 3667, "user_id": 3288910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2b8044eca80b9a707c716c530d9f5?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/3288910/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1446075626, "creation_date": 1446075626, "answer_id": 33403483, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference/33403483#33403483", "title": "C++ class member by reference", "body": "<p>As everyone already said, you probably meant this...</p>\n\n<pre><code>kuca(int b, string s) :broj(b)\n</code></pre>\n\n<p>to be</p>\n\n<pre><code>kuca(int&amp; b, string s) :broj(b)\n</code></pre>\n\n<p>There isn't any performance benefit to passing an <code>int</code> by reference though, and the reference is invalid as soon as the <code>int</code> goes out of scope which could create a difficult bug to track down.</p>\n\n<p>My personal preference is to pass by address whenever the variable can be mutated.</p>\n\n<pre><code>class name {\n\n  public:\n    kuca(int* b, string s) : broj(b), ulica(s);\n\n  private:\n\n    int* broj;\n    string ulica;\n}\n</code></pre>\n\n<p>That turns the above into a compile time error.  Using a reference as a class member is easy to use incorrectly.</p>\n"}], "owner": {"reputation": 54, "user_id": 3428421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0f33bac9df5b3e5d10badd529b815efa?s=128&d=identicon&r=PG&f=1", "display_name": "hajrovica", "link": "https://stackoverflow.com/users/3428421/hajrovica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33403061, "answer_count": 5, "score": 0, "last_activity_date": 1446080694, "creation_date": 1446072998, "question_id": 33403012, "link": "https://stackoverflow.com/questions/33403012/c-class-member-by-reference", "title": "C++ class member by reference", "body": "<p>Hello can anyone help me with this?\nI have a class with member by reference:</p>\n\n<pre><code>class name{\nint&amp; broj;\nstring ulica;\n</code></pre>\n\n<p>And have constructor:</p>\n\n<pre><code>public:\nkuca(int b, string s) :broj(b)\n{\n    ulica = s;\n}\n</code></pre>\n\n<p>and info class for output</p>\n\n<pre><code>void info(){\ncout &lt;&lt; broj &lt;&lt; ulica &lt;&lt; endl;\n}\n\n};\n</code></pre>\n\n<p>When i create object and try to output it </p>\n\n<pre><code>int isbn = 1;\nname a(isbn, \"text\");\na.info();\n</code></pre>\n\n<p>for reference value i am getting junk/random value it seems, while other attribute is written fine:</p>\n\n<pre><code> -858993460 text\n</code></pre>\n"}, {"tags": ["c++", "object", "winapi"], "comments": [{"owner": {"reputation": 343, "user_id": 4461183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d0845621997a766ae7c7e8a6122b85b?s=128&d=identicon&r=PG", "display_name": "Karlis Olte", "link": "https://stackoverflow.com/users/4461183/karlis-olte"}, "edited": false, "score": 2, "creation_date": 1446073169, "post_id": 33402982, "comment_id": 54597552, "body": "Error message tells you all that is needed. Note that int* ip; *ip = 1; gives the same error."}, {"owner": {"reputation": 45, "user_id": 5446594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/832938410158455/picture?type=large", "display_name": "Trevin Corkery", "link": "https://stackoverflow.com/users/5446594/trevin-corkery"}, "edited": false, "score": 0, "creation_date": 1446073373, "post_id": 33402982, "comment_id": 54597643, "body": "I know I need to give it a value, but I don&#39;t exactly know what type of value to give it.  I looked at it in the debugger and the Driver Variable is NULL (It will compile if I assign it a variable). When it tries to use Driver-&gt;Connect it gets the writing to memory error."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1446073570, "post_id": 33402982, "comment_id": 54597734, "body": "<code>driver</code> is an uninitialized pointer. The statement <code>driver-&gt;connect( ... );</code> dereferences the pointer. This pointer points <i>somewhere</i>. The compiler is telling you, that you need an instance of type <code>Driver</code>, which you never create."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1446078116, "post_id": 33402982, "comment_id": 54599244, "body": "What&#39;s unclear about the message?"}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1446143264, "post_id": 33403888, "comment_id": 54633271, "body": "<code>driver</code> is not a <code>NULL</code> pointer. It has an indiscriminate value, just as you wrote in the sentence before."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1446143461, "post_id": 33403888, "comment_id": 54633392, "body": "@IInspectable, You are right. It was sloppy use of language on my part. Let me make it more precise."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1446144730, "post_id": 33403888, "comment_id": 54634069, "body": "C++ doesn&#39;t know what <i>&quot;stack&quot;</i> is. It does, however, introduce the concept of <i>undefined behavior</i>. Dereferencing a pointer that doesn&#39;t point to an object of appropriate type results in undefined behavior. An access violation is one manifestation of undefined behavior. Undefined behavior can also mean, that the code works as expected."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1446145312, "post_id": 33403888, "comment_id": 54634366, "body": "I think for the purpose of initialization, C++ distinguishes between static/global variables  and other variables that are usually allocated on stack. The first type of variables get initialized to zero and the second type do not. <a href=\"http://stackoverflow.com/questions/17783210/when-are-static-and-global-variables-initialized\" title=\"when are static and global variables initialized\">stackoverflow.com/questions/17783210/&hellip;</a>"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1446146007, "post_id": 33403888, "comment_id": 54634745, "body": "C++ distinguishes between objects, that have <i>static storage duration</i>, and those, that do not. Objects with static storage duration are zero-initialized. Regardless of whether you dereference a <code>nullptr</code>, or a pointer that doesn&#39;t point to an object of appropriate type, the outcome is <i>undefined behavior</i>."}], "tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": true, "score": 4, "last_activity_date": 1446181290, "last_edit_date": 1446181290, "creation_date": 1446077980, "answer_id": 33403888, "question_id": 33402982, "link": "https://stackoverflow.com/questions/33402982/uninitialized-local-variable-the-variable-is-an-object-from-a-class-mysql/33403888#33403888", "title": "Uninitialized Local Variable (The variable is an object from a class) - MYSQL", "body": "<p>You need to add </p>\n\n<pre><code>driver = get_driver_instance();\n</code></pre>\n\n<p>before calling</p>\n\n<pre><code>driver-&gt;connect (..)\n</code></pre>\n\n<p>Otherwise, <code>Driver *driver;</code> just declares a pointer.\nIt won't have a valid value assigned to it. \nSo the call <code>connect(..)</code> through it dereferences this pointer which in turn results in undefined behavior.\nA specific case of the undefined behavior is memory access violation error as mentioned in the question.</p>\n\n<p>When <code>get_driver_instance ()</code> is called, it executes the steps required to acquire a valid pointer and returns it, which you can then use for connecting.</p>\n"}], "owner": {"reputation": 45, "user_id": 5446594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/832938410158455/picture?type=large", "display_name": "Trevin Corkery", "link": "https://stackoverflow.com/users/5446594/trevin-corkery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 33403888, "answer_count": 1, "score": -1, "last_activity_date": 1446181290, "creation_date": 1446072857, "question_id": 33402982, "link": "https://stackoverflow.com/questions/33402982/uninitialized-local-variable-the-variable-is-an-object-from-a-class-mysql", "title": "Uninitialized Local Variable (The variable is an object from a class) - MYSQL", "body": "<p>I am using Windows 10, Visual Studio 2015.</p>\n\n<p>Alright so anyways here is my code and I am getting this error:</p>\n\n<pre><code>uninitialized local variable 'driver'\n</code></pre>\n\n<p>I am just following a tutorial from the main MySQL website (The example) and that seems to happen, so can someone explain why its doing that or tell me a fix. :) I tried to make it static, it let to go through until I clicked the button then I got a invalid write to memory message. Hopefully this is enough for you to tell me whats up.</p>\n\n<pre><code>  LRESULT CALLBACK WndProc(...)\n    {\n       ...\n       switch (LOWORD(wparam))\n                    {\n                        case SQL_BUTTON_LAUNCH:\n                            using namespace sql;\n                            Driver *driver;\n                            Connection *con;\n                            Statement *stmt;\n                            ResultSet *res;\n\n                            con = driver-&gt;connect(\"tcp://127.0.0.1:3306\", \"root\", \"root\");\n                            con-&gt;setSchema(\"test\");\n\n                            stmt = con-&gt;createStatement();\n                            res = stmt-&gt;executeQuery(\"SELECT 'Hello World!' AS _message\");\n\n\n                            delete res;\n                            delete stmt;\n                            delete con;\n                            //SQLConnection();\n                            break;\n                    }\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "c", "file"], "comments": [{"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 5, "creation_date": 1446073069, "post_id": 33402972, "comment_id": 54597498, "body": "For the include method, just access that variable, <code>xd_data</code>, in your example. For the binary link option, the second reference has a paragraph starting with: &quot;This data-section can be referenced from the C code simply by using: ...&quot;. Is that somehow not working or not suitable for you for some reason?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1446073371, "post_id": 33402972, "comment_id": 54597640, "body": "Are you asking about how a program inspecting the compiled binary would extract this data? It looks like the other commenters here are talking about how the code that was compiled to produce the binary would access the data."}, {"owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1446073494, "post_id": 33402972, "comment_id": 54597693, "body": "@user2357112 Right... I am also a little bit confused. Maybe my expression is not clear in the original question. My question is: how can I know where the const variable <code>xd_data</code> is stored in the compiled binary?"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 2, "creation_date": 1446074162, "post_id": 33402972, "comment_id": 54597972, "body": "You can use tools from Binutils. Such as readelf to list the sections, symbols etc - to get the symbol addresses. And objdump or objcopy to extract binary dumps of sections you are interested in. It may be good to clarify your question to say whether you want to do this programmatically (e.g. with C) or whether using existing command line tools is acceptable"}, {"owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "reply_to_user": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1446074508, "post_id": 33402972, "comment_id": 54598082, "body": "@kaylum Thanks. Just realized as you&#39;ve mentioned, the best way is to let the compiled binary to generate these files when it starts execution than using any external tools."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1446074716, "post_id": 33402972, "comment_id": 54598166, "body": "@stanleyli It&#39;s still a little unclear what you are really asking - whether you just want to use that binary data within the application itself or whether you want to examine the compiled program externally. The first comment is relevant to the former and the Binutils comment is relevant for the latter. In any case, if you have the info you need then good. Otherwise please update your question to clarify more what you want to do."}, {"owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "reply_to_user": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1446074921, "post_id": 33402972, "comment_id": 54598238, "body": "@kaylum When I was asking the question, I forgot the compiled binary can generate these resource files just by itself so I thought we have to rely on some external tools or scripts to inspect the binary. But after I realize that, I think it&#39;s the most straightforward way to get these resource files. Anyway, thanks man!"}], "answers": [{"tags": [], "owner": {"reputation": 11872, "user_id": 1334399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fnKun.jpg?s=128&g=1", "display_name": "fireant", "link": "https://stackoverflow.com/users/1334399/fireant"}, "is_accepted": false, "score": 1, "last_activity_date": 1446074388, "last_edit_date": 1446074388, "creation_date": 1446073751, "answer_id": 33403172, "question_id": 33402972, "link": "https://stackoverflow.com/questions/33402972/correct-way-to-extract-array-data-from-binary/33403172#33403172", "title": "Correct way to extract array data from binary?", "body": "<p>If you mean finding the byte address in the file where a data block starts just like <code>objdump</code> does but programmatically, then you can use the Binary File Descriptor library (BFD), see <a href=\"https://sourceware.org/binutils/docs-2.21/bfd/index.html\" rel=\"nofollow\">here</a> and <a href=\"https://sourceware.org/binutils/docs-2.21/bfd/How-It-Works.html#How-It-Works\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1446079257, "post_id": 33403842, "comment_id": 54599574, "body": "I think OP wants to access resources colocated in the application binary, like is common on Windows"}, {"owner": {"reputation": 2000, "user_id": 4487286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHZoO.jpg?s=128&g=1", "display_name": "milevyo", "link": "https://stackoverflow.com/users/4487286/milevyo"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1446079675, "post_id": 33403842, "comment_id": 54599716, "body": "@sehe, i don&#39;t think so, because implementing resources as do windows, needs an external program that knows how and where (typically a section reserved for that)  to save resouces at compile time as do rc of windows."}], "tags": [], "owner": {"reputation": 2000, "user_id": 4487286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHZoO.jpg?s=128&g=1", "display_name": "milevyo", "link": "https://stackoverflow.com/users/4487286/milevyo"}, "is_accepted": false, "score": 0, "last_activity_date": 1446079375, "last_edit_date": 1446079375, "creation_date": 1446077688, "answer_id": 33403842, "question_id": 33402972, "link": "https://stackoverflow.com/questions/33402972/correct-way-to-extract-array-data-from-binary/33403842#33403842", "title": "Correct way to extract array data from binary?", "body": "<p>if you stored data for example an image and you want to load it (for printing or what ever you want) then if you have a function (library)  that load it from memory, as example <code>void loadResImage(void * mem);</code> just do <code>loadResImage(xd_data)</code>, if not but you have a function that load it from the file, in that case save it to a temp file eg:</p>\n\n<pre><code>int fd=open(\"tmpfile\");\nint ret=write(fd,xd_data, sizeof(xd_data));\nclose(fd);\nloadImageFile(\"tmpfile\");\n</code></pre>\n\n<p>but if you want to access the data outside the program itself (hex editor for example, or an other program), in that case you have to add a starting mark and optionally an ending mark or sizeof data. eg:</p>\n\n<pre><code>const unsigned char xd_data[]={\n  ...\n'M','A','G','I','C'};\n</code></pre>\n\n<p>in example above the end of the data is known, you just do a search to find it. same way, play around and find a suitable way to store the size of the data. but beware of the compiler optimizations.</p>\n"}], "owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1446079375, "creation_date": 1446072822, "last_edit_date": 1446073559, "question_id": 33402972, "link": "https://stackoverflow.com/questions/33402972/correct-way-to-extract-array-data-from-binary", "title": "Correct way to extract array data from binary?", "body": "<p>There is a classic way to embed resource files as a C language array into a binary file, so that we can store some external resource files such as <code>.jpeg</code> or <code>.txt</code> files into a binary.</p>\n\n<p>For example, in the header file we can define an array:</p>\n\n<pre><code>const unsigned char xd_data[] = {\n    77,90,144,0,3,0,0,0,4,0,0,0,255,255,0,0,184,0,0,0,0,0,0,0,64,0,0,0,0,\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,0,0,\n    0,14,31,186,14,0,180,9,205,33,184,1,76,205,33,84,104,105,115,32,112,114,\n    111,103,114,97,109,32,99,97,110,110,111,116,32,98,101,32,114,117,110,\n    32,105,110,32,68,79,83,32,109,111,100,101,46,13,13,10,36,0,0,0,0,0,0,\n    0,66,163,223,218,6,194,177,137,6,194,177,137,6,194,177,137,105,221,187,\n    137,13,194,177,137,133,222,191,137,3,194,177,137,105,221,181,137,4,194,\n    177,137,136,202,238,137,4,194,177,137,6,194,176,137,73,194,177,137,133,\n    202,236,137,13,194,177,137,48,228,187,137,11,194,177,137,193,196,183,\n    137,7,194,177,137,82,105,99,104,6,194,177,137,0,0,0,0,0,0,0,0,0,0,0,0,\n    0,0,0,0,0,0,0,0,0,0,0,0,80,69,0,0,76,1,4,0,65,162,32,86,0,0,0,0,0,0,0,\n    0,224,0,47,1,11,1,6,0,0,100,0,0,0,74,0,0,0,0,0,0,228,113,0,0,0,16,0,0,\n    0,128,0,0,0,0,64,0,0,16,0,0,0,2,0,0,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,\n    224,0,0,0,4,0,0,0,0,0,0,2,0,0,0,0,0,16,0,0,16,0,0,0,0,16,0,0,16,0,0,0,\n    0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,124,140,0,0,140,0,0,0,0,208,0,0,0,16,0\n};\n</code></pre>\n\n<p>which contains the contents of the resource file, and it will be compile into the final binary.</p>\n\n<p>There are lots of tools and tutorials on the web about this old trick, such as: <a href=\"http://www.rowleydownload.co.uk/arm/documentation/index.htm?http://www.rowleydownload.co.uk/arm/documentation/embed.htm\" rel=\"nofollow\">http://www.rowleydownload.co.uk/arm/documentation/index.htm?http://www.rowleydownload.co.uk/arm/documentation/embed.htm</a>, <a href=\"https://www.fourmilab.ch/xd/\" rel=\"nofollow\">https://www.fourmilab.ch/xd/</a> and <a href=\"http://gareus.org/wiki/embedding_resources_in_executables#c_include_method\" rel=\"nofollow\">http://gareus.org/wiki/embedding_resources_in_executables#c_include_method</a>. </p>\n\n<p>However, looks like most of these pages are talking about how to <strong>embed</strong> the data into binary file using C style array. </p>\n\n<p>My question is, what is the correct way to find the start address of the resource files in the compiled binary in order to extract them? I.e., how can I find the start address of <code>xd_data</code> in the compiled binary?</p>\n"}, {"tags": ["c++", "sdl"], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1520789057, "post_id": 33405982, "comment_id": 85449286, "body": "but then whow to use SDL_BlitScaled?"}], "tags": [], "owner": {"reputation": 340, "user_id": 4272199, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ijDVCVkNbyU/AAAAAAAAAAI/AAAAAAAAABw/jS3vsb8G7PU/photo.jpg?sz=128", "display_name": "Jason Norris", "link": "https://stackoverflow.com/users/4272199/jason-norris"}, "is_accepted": true, "score": 4, "last_activity_date": 1446092931, "creation_date": 1446092931, "answer_id": 33405982, "question_id": 33402909, "link": "https://stackoverflow.com/questions/33402909/sdl-renderpresent-vs-sdl-updatewindowsurface/33405982#33405982", "title": "SDL_RenderPresent vs SDL_UpdateWindowSurface", "body": "<p>You cannot use both methods at the same time and must choose one or the other. I would recommend going with <code>SDL_Renderer</code>. Create an <code>SDL_Texture</code> from your <code>SDL_Surface</code> and render it with <code>SDL_RenderCopy</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5500521, "user_type": "registered", "profile_image": "https://graph.facebook.com/1632712340344184/picture?type=large", "display_name": "Joe Aulicino", "link": "https://stackoverflow.com/users/5500521/joe-aulicino"}, "edited": false, "score": 0, "creation_date": 1446141561, "post_id": 33411924, "comment_id": 54632302, "body": "Also, do you know a good sdl_image tutorial? Or is it pretty self explanatory?"}, {"owner": {"reputation": 271, "user_id": 3154019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5017c2d32863626ea984bc5fb13615e?s=128&d=identicon&r=PG", "display_name": "kovacsmarcell", "link": "https://stackoverflow.com/users/3154019/kovacsmarcell"}, "reply_to_user": {"reputation": 31, "user_id": 5500521, "user_type": "registered", "profile_image": "https://graph.facebook.com/1632712340344184/picture?type=large", "display_name": "Joe Aulicino", "link": "https://stackoverflow.com/users/5500521/joe-aulicino"}, "edited": false, "score": 0, "creation_date": 1446150164, "post_id": 33411924, "comment_id": 54637026, "body": "<a href=\"http://lazyfoo.net/tutorials/SDL/06_extension_libraries_and_loading_other_image_formats/index.php\" rel=\"nofollow noreferrer\">lazyfoo.net/tutorials/SDL/&hellip;</a>"}], "tags": [], "owner": {"reputation": 271, "user_id": 3154019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5017c2d32863626ea984bc5fb13615e?s=128&d=identicon&r=PG", "display_name": "kovacsmarcell", "link": "https://stackoverflow.com/users/3154019/kovacsmarcell"}, "is_accepted": false, "score": 6, "last_activity_date": 1446116832, "last_edit_date": 1446116832, "creation_date": 1446115069, "answer_id": 33411924, "question_id": 33402909, "link": "https://stackoverflow.com/questions/33402909/sdl-renderpresent-vs-sdl-updatewindowsurface/33411924#33411924", "title": "SDL_RenderPresent vs SDL_UpdateWindowSurface", "body": "<p>If you store your images in RAM and use the CPU for rendering(this is called software rendering) you use <code>SDL_UpdateWindowSurface</code>.</p>\n\n<p>By calling this function you tell the CPU to update the screen and draw using software rendering.</p>\n\n<p>You can store your textures in RAM by using <code>SDL_Surface</code>, but software rendering is inefficent. You can give draw calls by using <code>SDL_BlitSurface</code>.</p>\n\n<blockquote>\n  <p>SDL_UpdateWindowSurface is equivalent to the SDL 1.2 API SDL_Flip().</p>\n</blockquote>\n\n<p>On the other side when you use the GPU to render textures and you store your texture on the GPU(this is called hardware accelerated rendering), which you should, you use <code>SDL_RenderPresent</code>.</p>\n\n<p>This function tells the GPU to render to the screen.</p>\n\n<p>You store texture on the GPU using <code>SDL_Texture</code>.\nWhen using this you can give draw calls by using <code>SDL_RenderCopy</code> or if you want transformations <code>SDL_RenderCopyEx</code></p>\n\n<blockquote>\n  <p>Therefore, when using SDL's rendering API, one does all drawing intended for the frame, and then calls this function once per frame to present the final drawing to the user.</p>\n</blockquote>\n\n<p>You should you use hardware rendering it's far more efficent, than software rendering! Even if the user running the program hasn't got a GPU (which is rare, because most CPU's have an integrated GPU) SDL will switch to software rendering by it self!</p>\n\n<p>By the way you can load an image as <code>SDL_Texture</code> without the need to load an image as an <code>SDL_Surface</code> and convert it to an <code>SDL_Texture</code> using the <a href=\"https://www.libsdl.org/projects/SDL_image/\" rel=\"noreferrer\">SDL_image</a> library, which you should because it supports several image formats not just BMP, like pure SDL. (SDL_image is made by the creators of SDL)</p>\n\n<p>Just use the <code>IMG_LoadTexture</code> from SDL_image!</p>\n"}], "owner": {"reputation": 31, "user_id": 5500521, "user_type": "registered", "profile_image": "https://graph.facebook.com/1632712340344184/picture?type=large", "display_name": "Joe Aulicino", "link": "https://stackoverflow.com/users/5500521/joe-aulicino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2982, "favorite_count": 1, "accepted_answer_id": 33405982, "answer_count": 2, "score": 3, "last_activity_date": 1446116832, "creation_date": 1446072496, "question_id": 33402909, "link": "https://stackoverflow.com/questions/33402909/sdl-renderpresent-vs-sdl-updatewindowsurface", "title": "SDL_RenderPresent vs SDL_UpdateWindowSurface", "body": "<p>I have successfully created and drawn both a bitmap image and drawn a green line using a renderer to my SDL window. The problem is I am unsure of how to do both at once on the same window.</p>\n\n<pre><code>void draw::image(){\n    SDL_Surface *bmp = SDL_LoadBMP(\"C:\\\\Users\\\\Joe\\\\Documents\\\\Visual Studio 2013\\\\Projects\\\\SDL_APP1\\\\map1.bmp\");\n    SDL_BlitSurface(bmp, 0, SDL_GetWindowSurface(_window), 0);\n\n    SDL_Renderer * renderer = SDL_CreateRenderer(_window, -1, 0);\n    // draw green line across screen\n    SDL_SetRenderDrawColor(renderer, 0, 255, 0, 255);\n    SDL_RenderDrawLine(renderer, 0, 0, 640, 320);\n    SDL_RenderPresent(renderer);\n    SDL_UpdateWindowSurface(_window);\n    SDL_Delay(20000);\n\n    // free resources\n    SDL_DestroyRenderer(renderer);\n    SDL_DestroyWindow(_window);\n}\n</code></pre>\n\n<p>This version of my code draws the bmp file to the window because SDL_UpdateWindowSurface(); is after SDL_RenderPresent(); however when I flip these it draws a green line to the screen. How would I draw the green line over my BMP?</p>\n"}, {"tags": ["c++", "opengl", "shader", "vertex", "uv-mapping"], "answers": [{"comments": [{"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1446076651, "post_id": 33403179, "comment_id": 54598788, "body": "This doesn&#39;t help him find the pixel value of a given face."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1446078149, "post_id": 33403179, "comment_id": 54599255, "body": "@cmbasnett You are refferring to &quot;I have no doubts about how to store and pass this value to a shader or whatever, the doubt is how to know the &quot;region&quot; to which the vertex belongs, or ultimately, the pixel.&quot; And in my answer for a given vertex id, there is a component id, which he already knows how to pass to the shader."}, {"owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446117479, "post_id": 33403179, "comment_id": 54615317, "body": "this seems what i need but, how can a i get the first &quot;face&quot; value &quot;The vertexToFace[i]==j means i th vertex is on face j.&quot;? The UV comparsion to get the face is what I&#39;m doing wrong in my first try I think."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446126636, "post_id": 33403179, "comment_id": 54621747, "body": "@Gallo I do not know how do you display the geometry. For example if you use GL_TRIANGLES, and no index buffer, then every 3 vertices form (exactly) one triangle. In this case you have an array all vertexes <code>Vertex *vertarr;</code> which goes to your Vertex Array Buffer (VBO for short), and in that array the k th vertex is on face floor(k/3). (<code>Vertex</code> is some struct containing position, normal, uv, ect.) So, the m th triangle consists of the <code>arr[3*m]</code>, <code>arr[3*m+1]</code>, <code>arr[3*m+2]</code> vertexes."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446126835, "post_id": 33403179, "comment_id": 54621930, "body": "@Gallo If you update your question with information about the the storage and display mode of the mesh, i will update my answer accordingly. (Just let me know if you do so :) )"}, {"owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446127899, "post_id": 33403179, "comment_id": 54622836, "body": "@CsabaB&#225;lint Updated with information about the mesh data."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446130943, "post_id": 33403179, "comment_id": 54625088, "body": "@Gallo Updated my answer. Feel free to suggest edit."}, {"owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446161633, "post_id": 33403179, "comment_id": 54641973, "body": "@CsabaB&#225;lint I updated the question with some results following your instructions, clearly I&#39;m missing something. Recursion is not an option due to stack overflow."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446163381, "post_id": 33403179, "comment_id": 54642494, "body": "@Gallo Your code looks good! I think you should use <a href=\"http://www.cplusplus.com/reference/forward_list/forward_list/splice_after/\" rel=\"nofollow noreferrer\">splice_after</a>, because merge is for sorted lists (and slower). I think they should be copied and it should work anyway, I will try your code tomorrow, until then try using splice_after :)"}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446163590, "post_id": 33403179, "comment_id": 54642563, "body": "@Gallo Also, try printing out the whole graph. Different k-s suggest that each vertex only has 3 neighbours, they should be having a lot more."}, {"owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446195950, "post_id": 33403179, "comment_id": 54652532, "body": "What I see is that UVs are not playing any role to determine faces, just the indices, and those indices are for vertex positions, so even if the depth-first search works ok, all regionId will have the same value cause all mesh vertex positions are connected. My parser is serving me the UVs just to iterate it and fullfill the Vertex array, so, I need the original UV indices."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446204315, "post_id": 33403179, "comment_id": 54657687, "body": "@Gallo Do you have multiple UVs for a single vertex? I might be missing something. Do you have duplicate vertexes with different UVs?"}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "reply_to_user": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "edited": false, "score": 0, "creation_date": 1446205161, "post_id": 33403179, "comment_id": 54658208, "body": "@Gallo If there are vertices only different in their UVs, so their position is the same, and you get a picture as above when you unwrap it, it may seem like a connected mesh, but it is not. Thinking indirectly, you are saying there is a path from one connected group to another through the vertices, so let&#39;s assume this. Two vertices are neighbours if, and only if there is a triangle in which both vertices appear."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "edited": false, "score": 0, "creation_date": 1446205164, "post_id": 33403179, "comment_id": 54658211, "body": "It must mean, that there is a triangle which has one vertex in the first connected group, and another in the other group (and a third somewhere), otherwise, there would be no path leading from one connected group to the other, which we have assumed. That triangle though would render the two unconnected shapes connected, so we have come to a contradiction."}, {"owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "edited": false, "score": 0, "creation_date": 1446206157, "post_id": 33403179, "comment_id": 54658832, "body": "Note, the proof above assumes that if two vertex has the same position their UVs are different."}], "tags": [], "owner": {"reputation": 86, "user_id": 5491028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GcN4rfLlI1k/AAAAAAAAAAI/AAAAAAAACUs/6_0gURgB1zc/photo.jpg?sz=128", "display_name": "Csaba B&#225;lint", "link": "https://stackoverflow.com/users/5491028/csaba-b%c3%a1lint"}, "is_accepted": false, "score": 1, "last_activity_date": 1446130871, "last_edit_date": 1446130871, "creation_date": 1446073775, "answer_id": 33403179, "question_id": 33402857, "link": "https://stackoverflow.com/questions/33402857/identify-unwrapped-mesh-uv-regions/33403179#33403179", "title": "Identify unwrapped mesh UV regions", "body": "<blockquote>\n  <p>Now I'm trying to find the proper algorithm to uniquely identify those regions using the vertex UVs and storing an attribute with this unique id value.</p>\n</blockquote>\n\n<p><strong>Creating a graph</strong></p>\n\n<p>Make ids for the vertexes and the faces (number them). But make sure the same vertexes get the same id-s, compare them by UV or position.</p>\n\n<p>Create a vector: <code>std::vector&lt;int&gt; vertexToFace;</code></p>\n\n<p>The <code>vertexToFace[i]==j</code> means i th vertex is on face j.</p>\n\n<p>Then two vertexes are neighbours if they are on the same face.</p>\n\n<p>Then create an  <code>std::vector&lt;std::forward_list&lt;int&gt; &gt; graph;</code> Store the vertexes as vector index, and add the neighbours. (O(n^2) complexity)</p>\n\n<p>To do this, you must take the i th vertex, and for every j you have to check weather they are on the same face. A bit optimized version:</p>\n\n<pre><code>for(int i=0; i&lt;n; ++i) for(int j=i+1; j &lt;n ++j)\nif (vertexToFace[i] == vertexToFace[j])\n{\n    graph[i].push_front(j);\n    graph[j].push_front(i);\n}\n</code></pre>\n\n<p>This is O(n^2) but it is easy to implement. A harder but faster one requires another vector: <code>std::vector&lt;std::array&lt;int,3&gt;&gt; faceToVertex;</code>, this way, from i th vertex you can access its neighbours in constant time. Either way, we have built a graph in which we are looking for <a href=\"https://en.wikipedia.org/wiki/Connected_component_(graph_theory)\" rel=\"nofollow\">connected components</a>, which is easy with <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow\">depth-first search</a>.</p>\n\n<p><strong>Implementing connected components algorithm</strong></p>\n\n<p>To implement this, you have to make another vector: <code>std::vector&lt;bool&gt; visited(n,false);</code>, and another one <code>std::vector&lt;int&gt; component(n)</code>. The solution to your problem will be in this last one.</p>\n\n<p>The algorithm is simple, start from vertex 0, and set <code>visited[0] = true;</code> and <code>component[0]=0;</code>. Then for each unvisited neighbour do exactly the same, so for neighbour i (some element of the forward_list) <code>if (!visited[i]) component[i] = 0;</code>, then do the same. It stops when all element of the component becomes visited. So then you have to look for an unvisited element, and do the above again, but know you are doing component 1, and so on. Example:</p>\n\n<pre><code>int l, k=0;\nwhile(l!=n)\n{\n    l=0;\n    while(visited[l]) l++;\n    fill_from(graph, visited, component, l, k);\n    ++k;\n}\n</code></pre>\n\n<p>I think you get the idea, so: (pseudo code)</p>\n\n<pre><code>void fill_from(graph, visited, component, l, k)\n{\n    if(visited[l]) return;\n    component[l] = k;\n    for(auto &amp;i : graph[l])\n            fill_from(graph,visited,component,i,k);\n}\n</code></pre>\n\n<p>Then we are done with the task, but this is not yet the fastest solution.</p>\n\n<p><strong>Faster algorithm</strong></p>\n\n<p>To get even faster, we have to get rid of the recursion and we do not need the graph afterwards, use a <code>std::forward_list&lt;int&gt;</code> for stack. Push the first vertex to the stack. Then pop one vertex, set its component to k. Push <em>all of its neighbours</em> into the stack, then delete the neighbours. In other words append the neighbours list to the stack (very fast operation). Repeat until stack is not empty.</p>\n\n<p>This way we wont do infinite loop, because if we get back to the same vertex, it will have no neighbours, and we have already visited them. Therefore there is no need for the visited vector. We may set the component vectors element multiple times, but always to the same value so why check it?</p>\n\n<p>However, if we do not have a visited vector, then it is harder to look for another vertex that we have not visited. Though we could look for some vertex in graph wich still has neighbours, there is a better solution.</p>\n\n<p>Create <code>std::set&lt;int&gt; notvisited();</code> For those points that are not yet visited. At first it should contain all vertex ids, and then each time we set a component id, we attempt to remove a vertex from the <code>notvisited</code> set. We repeat getting a vertex from the set and run the fill_from() algorithm until the set becomes empty, at the same time, we have all component id-s.</p>\n\n<p><strong>UPDATE: Using updated info on how mesh is stored.</strong></p>\n\n<p>If you do not have equal elements in the \"list of vertices\" (why would you), then the index of a vertex is it's position in the array. This way, the id-s for the vertices are done.</p>\n\n<p>The id-s for the triangles or faces, are in the \"list of indices\", let me name this array to <code>int listOfIndices[];</code>, for the j th face, the vertices connected to it are <code>listOfIndices[3*j + 0]</code>, <code>listOfIndices[3*j + 1]</code> and <code>listOfIndices[3*j + 2]</code>. To make the first vector then you have to do the following:</p>\n\n<pre><code>std::vector&lt;int&gt; vertexToFace(num_of_verteces); //previously n\nfor(int j = 0; j &lt; num_of_faces; ++j)\n{\n    vertexToFace[listOfIndices[3*j + 0]]=j;\n    vertexToFace[listOfIndices[3*j + 1]]=j;\n    vertexToFace[listOfIndices[3*j + 2]]=j;\n}\n</code></pre>\n\n<p>(Algorithm for building an inverse relation); Note, that in this case, you do not even need a different <code>faceToVertex</code> array, because you already have it(<code>listOfIndices</code>), you just have to index it differently (divide by 3 each time).</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "is_accepted": true, "score": 0, "last_activity_date": 1446286637, "creation_date": 1446286637, "answer_id": 33450446, "question_id": 33402857, "link": "https://stackoverflow.com/questions/33402857/identify-unwrapped-mesh-uv-regions/33450446#33450446", "title": "Identify unwrapped mesh UV regions", "body": "<p>Ok, following the previously mentioned points and thanks to Csaba B\u00e1lint for the initial hints, I found a solution:</p>\n\n<pre><code>MPUVRegionVertex* uvVertexData = new MPUVRegionVertex[indexCount];\n\nfor(int ic = 0; ic &lt; indexCount / 3; ic++)\n{\n    for(int vc = 0; vc &lt; 3; vc++)\n    {\n        uvVertexData[3*ic+vc].x = vertexData[indexData[3*ic+vc]].tcx;\n        uvVertexData[3*ic+vc].y = vertexData[indexData[3*ic+vc]].tcy;\n        uvVertexData[3*ic+vc].faceId = ic;\n    }\n}\n\nstd::set&lt;int&gt; notAssigned;\n\nfor(int nv = 0; nv &lt; indexCount; nv++)\n{\n    notAssigned.insert(nv);\n}\n\nstd::forward_list&lt;int&gt; addedInLastIterationElements;\nint currentRegion = 0;\n\n//while there are not assigned vertex \nwhile (notAssigned.size() &gt; 0)\n{\n    //the first not assigned element simulate that was \"added\" to the current region in the last check\n    addedInLastIterationElements.push_front(*notAssigned.begin());\n\n    //this first has the new current region as it's regionId\n    uvVertexData[*notAssigned.begin()].regionId = currentRegion;\n\n    //and becomes assigned\n    notAssigned.erase(notAssigned.begin());\n\n    do\n    {\n        //will store the elements added in the next iteration\n        std::forward_list&lt;int&gt; newRegionElements;\n\n        //iterate not assigned elements\n        for(int currentElement : notAssigned)\n        {\n            //iterate elements added to the current region in the last iteration\n            for(int currentRegionElement : addedInLastIterationElements)\n            {\n                //compare if this vertex belongs to the same region of some of the recently added\n                if((uvVertexData[currentElement].x == uvVertexData[currentRegionElement].x &amp;&amp; \n                    uvVertexData[currentElement].y == uvVertexData[currentRegionElement].y) ||\n                   (uvVertexData[currentElement].faceId == uvVertexData[currentRegionElement].faceId))\n                {\n                    //store as an element added this iteration\n                    newRegionElements.push_front(currentElement);\n\n                    //store the current region\n                    uvVertexData[currentElement].regionId = currentRegion;\n                }\n            }\n        }\n\n        //remove new elements from the notAssigned list\n        for(int assigned : newRegionElements)\n        {\n            notAssigned.erase(assigned);\n        }\n\n        //replace the elements added the previous iteration for the last iteration\n        addedInLastIterationElements = newRegionElements;\n\n        //prepare for new elements\n        newRegionElements.clear();\n    }\n    //if there is no match in the last iteration, means all remaining vertex belongs to another region\n    while(!addedInLastIterationElements.empty());\n\n    //next region\n    currentRegion++;\n}\n</code></pre>\n\n<p>If a render the regionId generated with a table of colors I get the desired result (note that colors varies only in 0.1 per channel, but here are 10 different colors):</p>\n\n<p><a href=\"https://i.stack.imgur.com/9lpKj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9lpKj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sure the algorithm can be optimized but it performs in a reasonable time and memory usage, so, for now it's ok.</p>\n"}], "owner": {"reputation": 41, "user_id": 2484187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893bf490ae287e0db96faf45db8748f5?s=128&d=identicon&r=PG", "display_name": "Gallo", "link": "https://stackoverflow.com/users/2484187/gallo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 1, "accepted_answer_id": 33450446, "answer_count": 2, "score": 1, "last_activity_date": 1446286637, "creation_date": 1446072231, "last_edit_date": 1446229829, "question_id": 33402857, "link": "https://stackoverflow.com/questions/33402857/identify-unwrapped-mesh-uv-regions", "title": "Identify unwrapped mesh UV regions", "body": "<p>suppose we have a 3D mesh with texture coords for each vertex, so if I render it unwrapped I get something like this (ignore the red square):</p>\n\n<p><a href=\"https://i.stack.imgur.com/yz9qb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yz9qb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I'm trying to find the proper algorithm to uniquely identify those regions using the vertex UVs and storing an attribute with this unique id value. The idea is to use this value as an index for a color table and get something like this (hand made):</p>\n\n<p><a href=\"https://i.stack.imgur.com/DRukD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRukD.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried iterating each vertex and finding \"unconnected\" triangles comparing texture coords, but the mesh indices order seems unrelated to how UVs are placed or i'm not applying the correct formula. I have no doubts about how to store and pass this value to a shader or whatever, the doubt is how to know the \"region\" to which the vertex belongs, or ultimately, the pixel.</p>\n\n<p>Thanks.</p>\n\n<p>UPDATE:\nThe data used to render the mesh is a list of vertices (GL_VERTEX_BUFFER) plus a list of indices (GL_ELEMENT_ARRAY). The mesh is rendered as GL_TRIANGLES, and each vertex is a struct like this:</p>\n\n<pre><code>struct Vertex\n{\n    float x, y, z;\n    float nx, ny, nz;\n    float tcx, tcy;\n    float regionId; //the attribute I want to fill\n};\n\nstruct MPUVRegionVertex\n{\n    float x, y;\n    int faceId, regionId;\n};\n</code></pre>\n\n<p>UPDATE 2: I created a new vertex array of MPUVRegionVertex, with an element for each index (not per unique vertex). Following @CsabaB\u00e1lint response I ended up with this code:</p>\n\n<pre><code>MPUVRegionVertex* uvVertexData = new MPUVRegionVertex[indexCount];\n\nfor(int ic = 0; ic &lt; indexCount / 3; ic++)\n{\n    for(int vc = 0; vc &lt; 3; vc++)\n    {\n        uvVertexData[3*ic+vc].x = vertexData[indexData[3*ic+vc]].tcx;\n        uvVertexData[3*ic+vc].y = vertexData[indexData[3*ic+vc]].tcy;\n        uvVertexData[3*ic+vc].faceId = ic;\n    }\n}\n\nstd::vector&lt;std::forward_list&lt;int&gt; &gt; graph(indexCount);\n\nfor(int t1=0;t1 &lt; indexCount; ++t1)\n{\n    for(int t2 = t1 + 1; t2 &lt; indexCount; ++t2)\n    {\n        if (uvVertexData[t1].faceId == uvVertexData[t2].faceId)\n        {\n            graph[t1].push_front(t2);\n            graph[t2].push_front(t1);\n        }\n    }\n}\n\nstd::forward_list&lt;int&gt; stack;\nstd::vector&lt;int&gt; component(indexCount);\nstd::set&lt;int&gt; notvisited;\n\nfor(int nv = 0; nv &lt; indexCount; nv++)\n{\n    notvisited.insert(nv);\n}\n\n\nint k = 0;\nwhile(notvisited.size() &gt; 0)\n{\n    stack.push_front(*notvisited.begin());\n    notvisited.erase(notvisited.begin());\n\n    while(!stack.empty())\n    {\n        //SOMETHING WRONG HERE\n        int temp = stack.front();\n        notvisited.erase(temp);\n        stack.pop_front();\n        component[temp] = k;\n        stack.merge(graph[temp]);\n        graph[temp].clear();\n    }\n    k++;\n}\n</code></pre>\n\n<p>The result is a different k every three indexes, this means that k++ is called for each new triangle, so I'm missing something in the algorithm :S.</p>\n\n<pre><code>component[0]=0\ncomponent[1]=0\ncomponent[2]=0\ncomponent[3]=1\ncomponent[4]=1\ncomponent[5]=1\ncomponent[6]=2\ncomponent[7]=2\ncomponent[8]=2\ncomponent[9]=3\n...\ncomponent[1778]=592\ncomponent[1779]=593\ncomponent[1780]=593\ncomponent[1781]=593\n</code></pre>\n\n<p>Some information about the mesh:</p>\n\n<pre><code>Size of shape[0].indices: 1782\nshape[0].positions: 1242\nshape[0].texcoords: 828\nshape[0].normals: 1242\n</code></pre>\n\n<p><strong>UPDATE 3</strong></p>\n\n<p>For more information, there is only one UV coord for each vertex.</p>\n\n<p>Deductions / Rules up to now:</p>\n\n<ul>\n<li>a vertex can be in most than one face (part of more than one triangle).</li>\n<li>a vertex will be n times in the vertexToFace array, once per face it belongs.</li>\n<li>first vertex in the vertexToFace array will arbitrary have regionId = 0.</li>\n<li>a vertex belongs to a region if it shares the same x and y coords or the same face of another vertex in that region.</li>\n</ul>\n\n<p>If I understood well, this is the correct information to implement the non-recursive graph traversal. I need to iterate and save both connected and unconnected vertex, all connected vertex will be part of the current region, all not will be checked again with the already connected, the first iteration stores the first triangle vertexes, the second one stores all vertexes of triangles that are \"touching\" the first triangle, continue until an iteration gives no new connected vertex (optimization here if we check only with the list of vertex added in the last iteration), no new vertex added means it's time to increment the regionId and start again with the first unconnected vertex. </p>\n\n<p>I will try to implement the search following that design.</p>\n"}, {"tags": ["c++", "cin", "getline"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446075378, "post_id": 33402790, "comment_id": 54598375, "body": "The (currently) two answers provide solutions for what is very likely the problem, but the question is missing <a href=\"http://stackoverflow.com/help/mcve\">the completeness requirement of MCVE</a> and cannot be answered with with certainty."}, {"owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "edited": false, "score": 0, "creation_date": 1446162380, "post_id": 33402790, "comment_id": 54642193, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10553597/cin-and-getline-skipping-input\">cin and getline skipping input</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1496, "user_id": 3013334, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f80883e570c1ca4c51e19309f7836c34?s=128&d=identicon&r=PG&f=1", "display_name": "Linus", "link": "https://stackoverflow.com/users/3013334/linus"}, "is_accepted": true, "score": 2, "last_activity_date": 1446072271, "creation_date": 1446072271, "answer_id": 33402868, "question_id": 33402790, "link": "https://stackoverflow.com/questions/33402790/cin-is-skipping-a-line/33402868#33402868", "title": "cin is skipping a line", "body": "<p>I think you have some input before that you don't show us. Assuming you do you can use <code>std::cin.ignore()</code> to ignore any newlines left from <code>std::cin</code>.</p>\n\n<pre><code>  std::string myInput;\n  std::cin &gt;&gt; myInput; // this is some input you never included.\n  std::cin.ignore(); // this will ignore \\n that std::cin &gt;&gt; myInput left if you pressed enter.\n\n  std::cout &lt;&lt; \"Enter title of book: \";\n  std::string title;\n  std::getline(std::cin, title);\n  std::cout &lt;&lt; \"Enter author's name: \";\n</code></pre>\n\n<p>Now it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1446072454, "creation_date": 1446072454, "answer_id": 33402902, "question_id": 33402790, "link": "https://stackoverflow.com/questions/33402790/cin-is-skipping-a-line/33402902#33402902", "title": "cin is skipping a line", "body": "<p><code>getline</code> is newline delimited. However, reading with something like <code>std::cin</code> leaves the newline in the input stream. As <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow\">this</a> recommends, when switching from whitespace delimited to newline delimited input, you want to clean all newlines from the input stream by doing a <code>cin.ignore</code>: for example, <code>cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');</code>. (Of course, I am assuming you left out the <code>cin</code> before <code>getline</code> when distilling your code into an MCVE).</p>\n"}], "owner": {"reputation": 196, "user_id": 3377592, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2a0f96f915e636dd99ecc10145400c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Ricca", "link": "https://stackoverflow.com/users/3377592/ricca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2233, "favorite_count": 0, "accepted_answer_id": 33402868, "answer_count": 2, "score": -1, "last_activity_date": 1446072454, "creation_date": 1446071872, "question_id": 33402790, "link": "https://stackoverflow.com/questions/33402790/cin-is-skipping-a-line", "title": "cin is skipping a line", "body": "<p>Here's a segment of code that I am working on:</p>\n\n<pre><code>std::cout &lt;&lt; \"Enter title of book: \";\nstd::string title;\nstd::getline(std::cin, title);\nstd::cout &lt;&lt; \"Enter author's name: \";\nstd::string author;\nstd::getline(std::cin, author);\nstd::cout &lt;&lt; \"Enter publishing year: \";\nint pub;\nstd::cin &gt;&gt; pub;\nstd::cout &lt;&lt; \"Enter number of copies: \";\nint copies;\nstd::cin &gt;&gt; copies;\n</code></pre>\n\n<p>Here's the output from this section when it is running (added quotes):</p>\n\n<pre><code>\"Enter title of book: Enter author's name\":\n</code></pre>\n\n<p>How do I fix this so that I can enter in the title?</p>\n"}, {"tags": ["c++", "lvalue", "rvalue"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1446071125, "post_id": 33402621, "comment_id": 54596703, "body": "Can you do <code>foo() = foo();</code>?"}, {"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446071235, "post_id": 33402621, "comment_id": 54596744, "body": "See my updates. This may make it clearer."}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1446071592, "post_id": 33402621, "comment_id": 54596884, "body": "@DavidSchwartz Well, technically speaking, yes <a href=\"http://ideone.com/sbLFTq\" rel=\"nofollow noreferrer\">you can</a>."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072205, "post_id": 33402656, "comment_id": 54597158, "body": "The return value could be a temporary object though. There is clearly an object in the case <code>foo().bar();</code>"}], "tags": [], "owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": false, "score": 4, "last_activity_date": 1446072805, "last_edit_date": 1446072805, "creation_date": 1446071247, "answer_id": 33402656, "question_id": 33402621, "link": "https://stackoverflow.com/questions/33402621/why-is-returned-object-an-rvalue/33402656#33402656", "title": "Why is returned object an rvalue?", "body": "<p>There is no such thing as an rvalue <em>object</em>.</p>\n\n<p>Rvalue and lvalue refers to <em>expressions</em>.</p>\n\n<p>One expression that refers to an object can be an rvalue, while another that refers to the same object can be an lvalue.</p>\n\n<hr>\n\n<p>Originally \"lvalue\" referred to any expression that could be on the left hand side of C's <code>=</code>, while \"rvalue\" was any expression that could only be on the right side. Since then C++ has acquired <code>const</code> and references, and things have got complicated. But the early C view of things is useful to understand this.</p>\n\n<hr>\n\n<p>Regarding &hellip;</p>\n\n<blockquote>\n  <p><strong>&rdquo;</strong> the variable <code>a</code> seems to be an lvalue. So why does it become rvalue when it's the returned one?</p>\n</blockquote>\n\n<p>Well, the variable in itself is not an lvalue. The expression <code>a</code> is an lvalue. And the function does not return the variable: it returns the variable's <em>value</em>.</p>\n\n<p>So, as I understand it there are two misconceptions involved in the question:</p>\n\n<ul>\n<li><p>The idea that lvalue/rvalue is about objects. It's about expressions.</p></li>\n<li><p>The idea that <code>A foo() { return... }</code> return a reference to an object (as in e.g. Java). It returns a value.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446071358, "post_id": 33402659, "comment_id": 54596795, "body": "What if we do <code>&amp;(foo())</code>? We are taking the addr of the returned <code>a</code>, right?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446071362, "post_id": 33402659, "comment_id": 54596796, "body": "&quot;and allows us to take the address of that memory location via the <code>&amp;</code> operator&quot;, that is not always the case, if as strongly indicated you mean direct application of <code>&amp;</code>. It is however, AFAIK, always possible to cast to reference to char and then take the address."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 1, "creation_date": 1446071411, "post_id": 33402659, "comment_id": 54596814, "body": "@OneZero Taking the address of a tempory isn&#39;t valid C++."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446071806, "post_id": 33402659, "comment_id": 54596970, "body": "@Cheersandhth.-Alf, you can try taking the address of the value of a return-by-copy function and see what that gets you."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446071984, "post_id": 33402659, "comment_id": 54597053, "body": "@Gread.And.Powerful.Oz: you failed to understand what I wrote, by failing to understand the context (possibly being just to quick on the trigger finger, in which case you know how to improve). just to clarify, your comment is irrelevant."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "edited": false, "score": 0, "creation_date": 1446072062, "post_id": 33402659, "comment_id": 54597086, "body": "@OneZero, no, that won&#39;t work. It&#39;s a temporary object and the memory will be destroyed once the function completes. So you&#39;d be referencing deleted memory. As juanchopanza says, it&#39;s not valid C++.  You can say <code>A b; A* a = &amp;(b = foo());</code>  Just understand that what is happening is that the copy-ctor of A is being called at the return of <code>foo()</code> Then another copy-ctor is being applied on the assignment <code>b = foo();</code> then you&#39;re taking the address of <code>b</code> and assigning it to <code>a</code>;"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1446072143, "post_id": 33402659, "comment_id": 54597124, "body": "@juanchopanza: re &quot;Taking the address of a tempory isn&#39;t valid C++.&quot;, ITYM &quot;applying the built-in <code>&amp;</code> directly to a temporary isn&#39;t valid C++&quot;."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446072242, "post_id": 33402659, "comment_id": 54597171, "body": "@Cheersandhth.-Alf, ok, maybe so. Just show me where you can <i>&quot;cast to reference to char and then take the address&quot;</i> of a stack allocated temporary object and have it survive as a valid pointer to memory that won&#39;t be overwritten by something else."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072293, "post_id": 33402659, "comment_id": 54597202, "body": "@Gread.And.Powerful.Oz imagine an object with a member function that returns reference to <code>*this</code> (or pointer <code>this</code>). I think Alf is pointing out that you can actually end up with such a pointer/reference, even though it will be dangling as soon as the full-expression ends. (The temporary objects all survive until the end of the full-expression, so you could do some things with this pointer/reference)."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446072349, "post_id": 33402659, "comment_id": 54597221, "body": "@Gread.And.Powerful.Oz: You&#39;re still jumping to silly conclusions, and now two of them are wrong. (1) I didn&#39;t write about rvalues. (2) But, one can very simply take the address of a temporary, in a roundabout way, and have it survive to the end of the full-expression, and that&#39;s often very useful. I think it&#39;s nice that you <i>ask</i> though."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072451, "post_id": 33402659, "comment_id": 54597253, "body": "@M.M, Guess what that&#39;s an <code>lvalue</code> not an rvalue. You&#39;ll note that those function&#39;s return signature is <code>MyObject&amp; foo1() { return *this; }</code> An entirely different beast than <code>MyObject foo2() { return *this; }</code> The first returns a reference, an <code>lvalue</code>, the second returns a temporary copy an <code>rvalue</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072612, "post_id": 33402659, "comment_id": 54597302, "body": "@Gread.And.Powerful.Oz no that isn&#39;t how it works. (See Alf&#39;s answer). A common example might be <code>std::string x() { return &quot;foo&quot;; }  int main() { std::cout &lt;&lt; x().c_str(); }</code>. This is correct even though <code>x()</code> is an rvalue."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1446072657, "post_id": 33402659, "comment_id": 54597320, "body": "@Cheersandhth.-Alf, Well, it&#39;s for sure we don&#39;t seem to be communicating. But, I think what you and M.M are suggesting is dangerous code. It may be true that it <i>&#39;survives to the end of the expression&#39;</i>, but suppose someone comes along and changes that expression. Then boom."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072763, "post_id": 33402659, "comment_id": 54597368, "body": "@M.M, that doesn&#39;t mean you can take the address of the return of <code>std::string x() { return &quot;foo&quot;; }</code>!!! (Except temporarily during the &quot;expression&quot;) That&#39;s the whole point."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1446072811, "post_id": 33402659, "comment_id": 54597383, "body": "If code is dangerous if it breaks when someone changes it, then all code is dangerous and describing some code as dangerous doesn&#39;t tell us anything about it."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446072903, "post_id": 33402659, "comment_id": 54597418, "body": "@Gread.And.Powerful.Oz Yes you can take the address . If your point is that this address can&#39;t be used after the expression ends, then we all agree. However you didn&#39;t say that originally, and Alf was pointing out that the address <i>can</i> be used during the rest of the expression, and actually this is useful in many cases."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446072915, "post_id": 33402659, "comment_id": 54597425, "body": "@DavidSchwartz, point taken. Not gonna argue here anymore. You&#39;re all welcome to continue on."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446073035, "post_id": 33402659, "comment_id": 54597481, "body": "@M.M, that <b>is</b> my point. and always was. And a fair reading of my post will see that. And further, I&#39;m not sure that such code will compile (using the built-in <code>&amp;</code> operator). Anyway, I&#39;m done."}], "tags": [], "owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "is_accepted": false, "score": 0, "last_activity_date": 1446071255, "creation_date": 1446071255, "answer_id": 33402659, "question_id": 33402621, "link": "https://stackoverflow.com/questions/33402621/why-is-returned-object-an-rvalue/33402659#33402659", "title": "Why is returned object an rvalue?", "body": "<p>An <code>lvalue</code> is an expression that refers to a memory location and allows us to take the address of that memory location via the &amp; operator. An <code>rvalue</code> is an expression that is not an <code>lvalue</code>.</p>\n\n<p>See here <a href=\"http://thbecker.net/articles/rvalue_references/section_01.html\" rel=\"nofollow\">http://thbecker.net/articles/rvalue_references/section_01.html</a></p>\n\n<p>In your example, you're returning a copy of a stack allocated instance. But that is likely also on the stack and is a 'temporary copy', hence you cannot take the address of it. Hence it's not an <code>lvalue</code>, therefore it's an <code>rvalue</code></p>\n"}], "owner": {"reputation": 10198, "user_id": 1229490, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4bca06377adfdc168d5a1f70ee1e55f5?s=128&d=identicon&r=PG", "display_name": "OneZero", "link": "https://stackoverflow.com/users/1229490/onezero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1446072805, "creation_date": 1446071041, "last_edit_date": 1446071408, "question_id": 33402621, "link": "https://stackoverflow.com/questions/33402621/why-is-returned-object-an-rvalue", "title": "Why is returned object an rvalue?", "body": "<pre><code>class A {}\n\nA foo() {\n  A a;\n  // some work\n  return a;\n}\n</code></pre>\n\n<p>Here it returns an instance of <code>A</code>, and I saw many readings saying that this returns a <code>rvalue</code>. </p>\n\n<p>My confusion is, since it's perfectly legit to do <code>A b; a = b;</code>, the variable <code>a</code> seems to be an <code>lvalue</code>. So why does it become <code>rvalue</code> when it's the returned one?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 4, "creation_date": 1446070044, "post_id": 33402414, "comment_id": 54596287, "body": "It&#39;s not necessary to call the function, the type of the result is already known by the compiler."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1446070415, "post_id": 33402414, "comment_id": 54596427, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/typeid\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/typeid</a>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1446070578, "post_id": 33402414, "comment_id": 54596501, "body": "It&#39;s more than &quot;not necessary&quot;; the compiler <i>must not</i> call the function in this case.  E.g. this program is correct: <code>int x() { return 1 &#47; 0; } int main() { typeid(x()); }</code>"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446073286, "post_id": 33402414, "comment_id": 54597592, "body": "@M.M I see that you left a reference on an answer to back up your statement, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446070509, "post_id": 33402474, "comment_id": 54596475, "body": "reference: C++14 [expr.typeid]/3"}, {"owner": {"reputation": 442, "user_id": 2556628, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/af646ee19f9771df0b76fe42ce7df699?s=128&d=identicon&r=PG", "display_name": "anupamb", "link": "https://stackoverflow.com/users/2556628/anupamb"}, "edited": false, "score": 0, "creation_date": 1446073107, "post_id": 33402474, "comment_id": 54597516, "body": "Thanks Brian. That explains a lot."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 12, "last_activity_date": 1446070202, "creation_date": 1446070202, "answer_id": 33402474, "question_id": 33402414, "link": "https://stackoverflow.com/questions/33402414/is-function-not-called-inside-typeid/33402474#33402474", "title": "Is function not called inside typeid?", "body": "<p>The operand of <code>typeid</code> is only evaluated if it is a glvalue of polymorphic class type. Since the return type of <code>mul10</code>, namely <code>int</code>, is not a polymorphic class type, the operand is not evaluated, meaning that <code>mul10</code> is not called.</p>\n"}, {"tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": false, "score": 1, "last_activity_date": 1446077418, "creation_date": 1446077418, "answer_id": 33403801, "question_id": 33402414, "link": "https://stackoverflow.com/questions/33402414/is-function-not-called-inside-typeid/33403801#33403801", "title": "Is function not called inside typeid?", "body": "<p>If we go to the draft C++ standard it tell us that unless the expression glvalue of a polymorphic class type the result is based on the static type of the object. From section <code>5.2.8</code> <em>[expr.typeid]</em> with emphasis mine:</p>\n\n<blockquote>\n  <p>When typeid is applied to an <strong>expression other than a glvalue of a polymorphic class type, the result refers\n  to a std::type_info object representing the static type of the expression.</strong> Lvalue-to-rvalue (4.1), array-topointer\n  (4.2), and function-to-pointer (4.3) conversions are not applied to the expression. If the type of the\n  expression is a class type, the class shall be completely-defined. The expression is an unevaluated operand\n  (Clause 5).</p>\n</blockquote>\n"}], "owner": {"reputation": 442, "user_id": 2556628, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/af646ee19f9771df0b76fe42ce7df699?s=128&d=identicon&r=PG", "display_name": "anupamb", "link": "https://stackoverflow.com/users/2556628/anupamb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 33402474, "answer_count": 2, "score": 9, "last_activity_date": 1446077418, "creation_date": 1446069868, "last_edit_date": 1446070103, "question_id": 33402414, "link": "https://stackoverflow.com/questions/33402414/is-function-not-called-inside-typeid", "title": "Is function not called inside typeid?", "body": "<p>Is a function not called inside a typeid? Consider the code below.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\nusing namespace std;\n\nint mul10(int &amp;s)\n{\n    static int count = 1;\n    cout &lt;&lt; \"Evaluating call \" &lt;&lt; count &lt;&lt; endl;\n    count++;\n    s *= 10;\n    return(s);\n}\n\nint main()\n{\n    int i = 5;\n    cout &lt;&lt; typeid(mul10(i)).name() &lt;&lt; endl;\n    cout &lt;&lt; i &lt;&lt; endl;\n    return(0);\n}\n</code></pre>\n\n<p>So here the output is</p>\n\n<pre><code>int\n5\n</code></pre>\n\n<p>So clearly the value of <code>i</code> did not change and also the function <code>mul10</code> was not actually called. Is that how typeid arguments evaluated?</p>\n"}, {"tags": ["c++", "polynomial-math", "newtons-method", "convergence"], "comments": [{"owner": {"reputation": 34901, "user_id": 3973077, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e80187d131859fc0601a01231fec657e?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Boddington", "link": "https://stackoverflow.com/users/3973077/paul-boddington"}, "edited": false, "score": 0, "creation_date": 1446071453, "post_id": 33402371, "comment_id": 54596832, "body": "The set of starting values that converge to a particular root is called a basin of attraction. If you google that you&#39;ll discover that the maths is very advanced."}, {"owner": {"reputation": 13278, "user_id": 688624, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b0714eded10b5ccee614c7134360974b?s=128&d=identicon&r=PG", "display_name": "imallett", "link": "https://stackoverflow.com/users/688624/imallett"}, "edited": false, "score": 1, "creation_date": 1446074653, "post_id": 33402371, "comment_id": 54598143, "body": "<a href=\"https://en.wikipedia.org/wiki/Newton_fractal\" rel=\"nofollow noreferrer\">Are you surprised?</a>"}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 34901, "user_id": 3973077, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e80187d131859fc0601a01231fec657e?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Boddington", "link": "https://stackoverflow.com/users/3973077/paul-boddington"}, "edited": false, "score": 0, "creation_date": 1446074670, "post_id": 33402371, "comment_id": 54598150, "body": "@PaulBoddington It appears that the OP had actually a bug (or more) in their code rather than a starting value outside the basin of attraction. However, it appears that the OP assumes that Raphson&#39;s method (falsely called Newton&#39;s -- who failed to publish it) should always converge."}], "answers": [{"comments": [{"owner": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446071323, "post_id": 33402576, "comment_id": 54596775, "body": "hmm, my programm should be flexible for any polynomial,  I wrote g and dg, so maybe it causes the problem. Could you look at it?"}, {"owner": {"reputation": 417, "user_id": 4389477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62323a25c7f652e4d0b2af241abc5ea6?s=128&d=identicon&r=PG&f=1", "display_name": "dorverbin", "link": "https://stackoverflow.com/users/4389477/dorverbin"}, "reply_to_user": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446071579, "post_id": 33402576, "comment_id": 54596878, "body": "What did you mean by the variables <code>w</code> and <code>n</code> in your functions <code>g</code> and <code>dg</code>? What is the full definition of <code>g</code> and <code>dg</code>? This should not be a problem if <code>g</code> and <code>dg</code> are correctly defined, therefore you should post your implementation and this way we could see what went wrong."}, {"owner": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446071641, "post_id": 33402576, "comment_id": 54596904, "body": "w is the array of coefficients of polynomial and n is the degree. I&#39;ve just updated my post of dg definition"}, {"owner": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446071869, "post_id": 33402576, "comment_id": 54596989, "body": "I wonder if I rather should have used Horner&#39;s to compute g and dg ?"}, {"owner": {"reputation": 417, "user_id": 4389477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62323a25c7f652e4d0b2af241abc5ea6?s=128&d=identicon&r=PG&f=1", "display_name": "dorverbin", "link": "https://stackoverflow.com/users/4389477/dorverbin"}, "reply_to_user": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446072439, "post_id": 33402576, "comment_id": 54597247, "body": "I have edited my answer to make the program fit all polynomials using w[] and n. It works fine. The main difference, and I guess this was your issue, is that in the derivative function, which I called <code>dg_dx</code>, the stopping condition in the <code>for</code> loop should be <code>i &lt; n</code>, since the derivative of a constant is zero."}, {"owner": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "edited": false, "score": 0, "creation_date": 1446072855, "post_id": 33402576, "comment_id": 54597400, "body": "Actually... Thank you so much"}, {"owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "edited": false, "score": 0, "creation_date": 1446461864, "post_id": 33402576, "comment_id": 54737133, "body": "That depends on how you encoded the polynomial. Hopefully with a <code>double</code> array for <code>w</code> and <code>n=sizeof(w)&#47;sizeof(w[0]) - 1</code>. Then the code above converges directly to -1."}], "tags": [], "owner": {"reputation": 417, "user_id": 4389477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62323a25c7f652e4d0b2af241abc5ea6?s=128&d=identicon&r=PG&f=1", "display_name": "dorverbin", "link": "https://stackoverflow.com/users/4389477/dorverbin"}, "is_accepted": true, "score": 2, "last_activity_date": 1446072369, "last_edit_date": 1446072369, "creation_date": 1446070695, "answer_id": 33402576, "question_id": 33402371, "link": "https://stackoverflow.com/questions/33402371/newtons-method-is-divergent-for-some-polynomials/33402576#33402576", "title": "Newton&#39;s method is divergent for some polynomials", "body": "<p>I'm not sure why would you say it's divergent. </p>\n\n<p>I implemented Newton's method similarly to yours:</p>\n\n<pre><code>double g(int w[], int n, double x) {\n    double result = 0;\n    for (int i = 0; i &lt; n + 1; i++)\n        result += w[i] * pow(x, n - i);\n    return result;\n}\n\ndouble dg_dx(int w[], int n, double x) {\n    double result = 0;\n    for (int i = 0; i &lt; n ; i++)\n        result += w[i] * (n - i) * pow(x, n - i - 1);\n    return result;\n}\n\nint main() {\n\n    double xn = 0;        // Choose initial value. I chose 0.\n    double gx;\n    double dg_dx_x;\n    int w[] = { 1, 2, 2, 2, 1 };\n    int i = 0;\n    int n = 4;\n\n    do {\n        gx = g(w, n, xn);\n        dg_dx_x = dg_dx(w, n, xn);\n        xn = xn - (gx / dg_dx_x);\n        i++;\n    } while (abs(gx) &gt; 10e-5 &amp;&amp; i &lt; 100);\n\n    std::cout &lt;&lt; xn &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>And it yields <code>-0.997576</code>, which is close to the solution <code>-1</code>.</p>\n"}], "owner": {"reputation": 547, "user_id": 4919981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a99f6386b2628e1dd9fa9dde19a7736?s=128&d=identicon&r=PG&f=1", "display_name": "adolzi", "link": "https://stackoverflow.com/users/4919981/adolzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 33402576, "answer_count": 1, "score": 1, "last_activity_date": 1446074307, "creation_date": 1446069655, "last_edit_date": 1446074307, "question_id": 33402371, "link": "https://stackoverflow.com/questions/33402371/newtons-method-is-divergent-for-some-polynomials", "title": "Newton&#39;s method is divergent for some polynomials", "body": "<p>I've tried to implement Newton's method for polynomials. Like:</p>\n\n<pre><code>double xn=x0;\ndouble gxn=g(w, n, xn);\n\nint i=0;\nwhile(abs(gxn)&gt;e &amp;&amp; i&lt;100){\n    xn=xn-(gxn/dg(w, n, xn));\n    gxn=g(w, n, xn);\n\n    i++;\n}\n</code></pre>\n\n<p>where <code>g(w, n, xn)</code> computes the value of the function and <code>dg(w, n, xn)</code> computes the derivative.</p>\n\n<p>As <code>x0</code> I use starting point <code>M</code> which I found using Sturm's theorem. </p>\n\n<p>My problem is that this method is divergent for some polynomials like <code>x^4+2x^3+2x^2+2x+1</code>. Maybe it's not regular, but I noticed that it happens when the solution of the equation is a negative number. Where can I look for an explanation?</p>\n\n<p>Edit:\ndg</p>\n\n<pre><code>double result=0;\nfor(int i=0; i&lt;n+1; i++)\n    result+=w[i]*(n-i)*pow(x, n-i-1);\n</code></pre>\n\n<p>where n is the degree of polynomial</p>\n"}, {"tags": ["c++", "arrays", "pointers", "allocation"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 4, "creation_date": 1446069615, "post_id": 33402347, "comment_id": 54596079, "body": "<code>tempCourses = new string[];</code> is not valid C++."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446070711, "post_id": 33402347, "comment_id": 54596562, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, ::rollseyes:: I don&#39;t see at as a shout, but as a noobie making sure we pay attention."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446071174, "post_id": 33402347, "comment_id": 54596722, "body": "@Gread.And.Powerful.Oz Well ALL CAPS is considered SHOUTING, there are better ways to emphasize stuff in markup.  Simply edit if you think this could be improved. Too much eyerolling might cause falling one or both just out of their designated places."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446071472, "post_id": 33402347, "comment_id": 54596837, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, lmao. Already done the edit. It&#39;s being reviewed."}], "answers": [{"comments": [{"owner": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "edited": false, "score": 0, "creation_date": 1446070528, "post_id": 33402479, "comment_id": 54596482, "body": "thank you! Works perfectly now. Didn&#39;t think of another array. Although doesn&#39;t newCourses have to be deleted? Or does it auto delete? I&#39;ve never used &quot;auto&quot; before."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "edited": false, "score": 0, "creation_date": 1446070626, "post_id": 33402479, "comment_id": 54596521, "body": "@GregMiller, No, <code>newCourses</code> doesn&#39;t need to be deleted because it&#39;s being assigned to <code>tempCourses</code> and the previous allocation to <code>tempCourses</code> is being deleted before the reassignment."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "edited": false, "score": 0, "creation_date": 1446070719, "post_id": 33402479, "comment_id": 54596564, "body": "@GregMiller <code>auto</code> doesn&#39;t imply auto-delete. Don&#39;t use raw pointers, or <code>new</code> <code>delete</code>, that simple."}, {"owner": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "edited": false, "score": 0, "creation_date": 1446070771, "post_id": 33402479, "comment_id": 54596576, "body": "Ah alright, thanks for the help guys"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "edited": false, "score": 0, "creation_date": 1446070909, "post_id": 33402479, "comment_id": 54596632, "body": "@GregMiller as \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 mentioned <code>auto</code> means &quot;infer the type from the expression on the right-hand side of the =&quot;"}], "tags": [], "owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "is_accepted": true, "score": 0, "last_activity_date": 1446070219, "creation_date": 1446070219, "answer_id": 33402479, "question_id": 33402347, "link": "https://stackoverflow.com/questions/33402347/c-dynamic-string-array-allocation/33402479#33402479", "title": "c++ dynamic string array allocation", "body": "<p>You're deleting <code>tempCourses</code> too soon. Change the code as follows:</p>\n\n<pre><code>        if (x.compare(\"done\") != 0)\n        {\n            auto newCourses = new string[numcourses+1]; \n            for (int i = 0; i &lt; numcourses; i++)\n            {\n                newCourses[i] = tempCourses[i];\n            }\n            newCourses[numcourses++] = x;\n            delete[] tempCourses;\n            tempCourses = newCourses;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 0, "last_activity_date": 1446076007, "creation_date": 1446076007, "answer_id": 33403550, "question_id": 33402347, "link": "https://stackoverflow.com/questions/33402347/c-dynamic-string-array-allocation/33403550#33403550", "title": "c++ dynamic string array allocation", "body": "<p>Your method is rather inefficient, as you re-allocate and copy <em>all</em> previously entered <code>string</code>s <em>each time</em> a new <code>string</code> is entered. That makes it <code>n</code> allocations and <code>n*(n-1)/2</code> copies, each of which may require another allocation (for sufficiently long <code>string</code>s).</p>\n\n<p>In comparison, <code>std::vector</code> (which you are dodging) <em>doubles</em> the allocated memory each time it runs out of memory. While this potentially wastes some memory, it avoids the many re-allocations and copying. Furthermore, <code>std::vector</code> also avoids the copying of the <code>string</code>s by <em>moving</em> them.</p>\n\n<p>This latter optimisation is in fact trivial to add to your code via</p>\n\n<pre><code>newCourses[i] = std::move(tempCourses[i]);\n</code></pre>\n"}], "owner": {"reputation": 748, "user_id": 5289157, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-KVN5tChB2OQ/AAAAAAAAAAI/AAAAAAAABRk/FEKK6XOtwnI/photo.jpg?sz=128", "display_name": "Greg Miller", "link": "https://stackoverflow.com/users/5289157/greg-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 1, "closed_date": 1446093888, "accepted_answer_id": 33402479, "answer_count": 2, "score": -2, "last_activity_date": 1446076007, "creation_date": 1446069530, "last_edit_date": 1446073172, "question_id": 33402347, "link": "https://stackoverflow.com/questions/33402347/c-dynamic-string-array-allocation", "closed_reason": "Not suitable for this site", "title": "c++ dynamic string array allocation", "body": "<p>Before I start, I should mention that <strong>I cannot use a vector</strong> in this program.</p>\n\n<p>Hey all, I'm making a program for \"The Big Three\" and came to a problem. The user can enter there name once, and then they can type courses they're enrolled in. They can type in as many courses as they like, but when they type in \"done\", they're done entering things, and the array should be made according to how many courses they typed in.</p>\n\n<p>Now without the use of a vector, I must delete the array to free resources, then re-create it with the new size because the user enters another class, and then when they're done, it copies these tempCourses into an array string pointer called \"vals\".</p>\n\n<p>Here's the method that I'm having trouble with :</p>\n\n<pre><code>    void Student::getStudentInput()\n    {\n        cout &lt;&lt; \"Enter Student name: \";\n        cin &gt;&gt; this-&gt;name;\n        string *tempCourses;\n        tempCourses = new string[];\n        stringstream strStream;\n        string x = \"\";\n        int numcourses = 0;\n\n        while (x.compare(\"done\") != 0)\n        {\n\n            cout &lt;&lt; \"Enter a new Course: \";\n            cin &gt;&gt; x;\n            cout &lt;&lt; \" \" &lt;&lt; endl;\n\n            if (x.compare(\"done\") != 0)\n            {\n                delete[] tempCourses;\n                numcourses++;\n                tempCourses = new string[numcourses]; \n                for (int i = 0; i &lt; numcourses; i++)\n                {\n                    tempCourses[i] = x;\n                    x = \"\";\n                }\n            }\n\n        }\n\n        this-&gt;size = numcourses;\n        vals = new string[size];\n        for (int i = 0; i &lt; size; i++)\n        {\n            vals[i] = tempCourses[i];\n        }       \n    }\n</code></pre>\n\n<p>It's just printing out one course that I've entered onto the screen (because of the delete[] tempCourses), but I'm not sure how to get around this since I have to delete the array in order to make a new one with a bigger size.</p>\n\n<p>Any info is appreciated!! Thanks.</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 7, "last_activity_date": 1446070488, "last_edit_date": 1446070488, "creation_date": 1446069150, "answer_id": 33402258, "question_id": 33402177, "link": "https://stackoverflow.com/questions/33402177/const-global-variable-in-namespace/33402258#33402258", "title": "const global variable in namespace", "body": "<p>Constants have internal linkage. Thus any compilation unit that includes the header with the definition of the constant will have its own instance of the object.</p>\n\n<p>According to the C++ Standard (3.5 Program and linkage)</p>\n\n<blockquote>\n  <p>3 A name having namespace scope (3.3.6) has internal linkage if it is\n  the name of</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>\u2014 a non-volatile variable that is explicitly declared const or\n  constexpr and neither explicitly declared extern nor previously\n  declared to have external linkage; or</p>\n</blockquote>\n\n<p>If you want a constant with external linkage, you must declare it with the specifier <code>extern</code>, and define it in a compilation unit.</p>\n"}, {"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069649, "post_id": 33402274, "comment_id": 54596100, "body": "Although <code>human</code> will be defined several times, it is not an ODR violation because the definitions have internal linkage.  Your suggested change , it&#39;s unclear whether it is an improvement or not, and may even slow down the code; as well as introducing fiasco where there was previously none."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446069691, "post_id": 33402274, "comment_id": 54596126, "body": "@Florian, because while your code &quot;works&quot;, it&#39;s a wrong answer (BTW, I didn&#39;t downvote).  See the other answer."}, {"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "edited": false, "score": 0, "creation_date": 1446069953, "post_id": 33402274, "comment_id": 54596254, "body": "I said it can happen that this causes an ODR violation: If an inline function accesses the string stored in <code>human</code> it is ODR-used, but if something is ODR used it is required that there is only one definition."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1446070338, "post_id": 33402274, "comment_id": 54596397, "body": "It cannot happen that this causes an ODR violation. Each translation unit&#39;s <code>human</code> is a different object, each such object has exactly one definition. (See [basic.link]/2, the definition of <i>internal linkage</i> is that names from other units cannot refer to it)"}, {"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446070935, "post_id": 33402274, "comment_id": 54596638, "body": "@M.M, that&#39;s exactly the problem. If an inline function uses a different object depending on the translation unit you get an ODR violation. (See [basic.dev.odr]/3, Every program shall contain exactly one definition of every non-inline function or variable that is odr-used in that program.)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446071756, "post_id": 33402274, "comment_id": 54596948, "body": "<a href=\"http://stackoverflow.com/questions/28766075/can-an-inline-function-in-a-header-file-use-a-constant-which-has-static-linkage/\">This thread</a> seems to be about what you are describing.  I think it&#39;d be good for your answer to say something like &quot;this variable cannot be used in an inline function&quot;, as that is the only problem, and it could be said that the bug would be with the inline function, not with <code>human</code>."}, {"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "edited": false, "score": 0, "creation_date": 1446072574, "post_id": 33402274, "comment_id": 54597284, "body": "I removed my link, yours is better."}], "tags": [], "owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1446072210, "last_edit_date": 1446072210, "creation_date": 1446069205, "answer_id": 33402274, "question_id": 33402177, "link": "https://stackoverflow.com/questions/33402177/const-global-variable-in-namespace/33402274#33402274", "title": "const global variable in namespace", "body": "<p>I think that will define the <code>human</code> several times, so it can happen that this causes an ODR violation (see below). It's usually best to only declare it in the header</p>\n\n<pre><code>extern const string human;\n</code></pre>\n\n<p>and add the definition to the implementation file</p>\n\n<pre><code>string human(\"human\");\n</code></pre>\n\n<p>Be careful about the initialization order fiasco and the equivalent when closing the application.</p>\n\n<p>An ODR violation can be caused when an inline function with external linkage ODR-uses <code>human</code>. I think that, since that is really easy to do and there is no way to guard against it, it is best to define constant strings in the implementation file.</p>\n"}], "owner": {"reputation": 207, "user_id": 5400651, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fd540d957e4b6e13406210bb8f973f89?s=128&d=identicon&r=PG&f=1", "display_name": "Funky", "link": "https://stackoverflow.com/users/5400651/funky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4903, "favorite_count": 3, "accepted_answer_id": 33402258, "answer_count": 2, "score": 6, "last_activity_date": 1446072210, "creation_date": 1446068803, "last_edit_date": 1446070657, "question_id": 33402177, "link": "https://stackoverflow.com/questions/33402177/const-global-variable-in-namespace", "title": "const global variable in namespace", "body": "<p>I know that <code>static</code> <code>const</code> <code>class</code> members can be initialised in headers only. Is it the same for namespaces ? For example, is it valid to write :</p>\n\n<p><strong><code>namehuman.hpp</code></strong></p>\n\n<pre><code>namespace namehuman\n{\n   string const human(\"human\");\n}\n</code></pre>\n\n<p><strong><code>main.cpp</code></strong></p>\n\n<pre><code>#include \"namehuman.hpp\"\ncout &lt;&lt; namehuman::human &lt;&lt; endl;\n</code></pre>\n\n<p>I am wondering if all files including the header file will have their own copy of <code>string</code> human, or if human will be a true global variable (not copied many times). In order to avoid each including file making its copy, am I obliged to use <code>extern</code> ?</p>\n"}, {"tags": ["c++", "opengl", "computational-geometry", "curve", "glm-math"], "comments": [{"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 2, "creation_date": 1446069000, "post_id": 33402176, "comment_id": 54595747, "body": "The circles must be built from the normal and binormal vectors."}, {"owner": {"reputation": 2131, "user_id": 500318, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0ba4b942e2163728846ba3fd17ea4299?s=128&d=identicon&r=PG", "display_name": "jaykumarark", "link": "https://stackoverflow.com/users/500318/jaykumarark"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1446069034, "post_id": 33402176, "comment_id": 54595764, "body": "I am not sure if I am following you. Can you please elaborate?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1446069078, "post_id": 33402176, "comment_id": 54595786, "body": "It seems that currently they are built from the tangent and normal vectors."}, {"owner": {"reputation": 2131, "user_id": 500318, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0ba4b942e2163728846ba3fd17ea4299?s=128&d=identicon&r=PG", "display_name": "jaykumarark", "link": "https://stackoverflow.com/users/500318/jaykumarark"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1446069445, "post_id": 33402176, "comment_id": 54595997, "body": "Currently they are built using this in a loop  <code>float x = 0.1f*cos(dt * i);</code> <code>float y = 0.f;</code> <code>float z = 0.1f*sin(dt * i);</code>"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 1, "creation_date": 1446069506, "post_id": 33402176, "comment_id": 54596030, "body": "Then swap two of the coordinates."}, {"owner": {"reputation": 2131, "user_id": 500318, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0ba4b942e2163728846ba3fd17ea4299?s=128&d=identicon&r=PG", "display_name": "jaykumarark", "link": "https://stackoverflow.com/users/500318/jaykumarark"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1446070183, "post_id": 33402176, "comment_id": 54596339, "body": "That did the trick! Thanks so much!"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1446102007, "post_id": 33402176, "comment_id": 54606353, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25178181/smoothly-connecting-circle-centers\">Smoothly connecting circle centers</a>"}, {"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1446109469, "post_id": 33402176, "comment_id": 54610172, "body": "I remember an old paper about this from the original Graphics Gems book. It&#39;s online in pdf format: Calculating Reference Frames Along a Curve: <a href=\"http://webhome.cs.uvic.ca/~blob/courses/305/notes/pdf/ref-frames.pdf\" rel=\"nofollow noreferrer\">webhome.cs.uvic.ca/~blob/courses/305/notes/pdf/ref-frames.pd&zwnj;&#8203;f</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2131, "user_id": 500318, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0ba4b942e2163728846ba3fd17ea4299?s=128&d=identicon&r=PG", "display_name": "jaykumarark", "link": "https://stackoverflow.com/users/500318/jaykumarark"}, "edited": false, "score": 1, "creation_date": 1446146335, "post_id": 33419880, "comment_id": 54634925, "body": "Thanks! Your explanation and the accompanying link are great! Just the math I needed to understand this better."}, {"owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 1, "creation_date": 1446179099, "post_id": 33419880, "comment_id": 54645938, "body": "If you have an analytic curve, be it a spline curve or some other kind of mathematical function, I think it&#39;s much better to calculate the direction vector analytically. Taking the difference between two points is just an approximation. If you have a parametric representation of the curve, the direction vector is simply given by the derivatives of the parametric functions for the coordinates."}, {"owner": {"reputation": 1707, "user_id": 858219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Uj0D6.png?s=128&g=1", "display_name": "Paul Houx", "link": "https://stackoverflow.com/users/858219/paul-houx"}, "reply_to_user": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 0, "creation_date": 1447436141, "post_id": 33419880, "comment_id": 55168983, "body": "@RetoKoradi: you are right in that an analytical solution is more accurate, but I&#39;d argue that it is not necessarily better. If you&#39;re constructing a mesh, for example, and want to apply a normal mapping shader to it, you&#39;d want your tangents to run along the surface. The algorithm in this post will make sure this is the case. More accurate tangents and normals would not make a huge visual difference for the lighting calculations, but you might see normal mapping artifacts. So it depends on your use case whether or not the analytical approach is better."}], "tags": [], "owner": {"reputation": 1707, "user_id": 858219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Uj0D6.png?s=128&g=1", "display_name": "Paul Houx", "link": "https://stackoverflow.com/users/858219/paul-houx"}, "is_accepted": false, "score": 4, "last_activity_date": 1446137418, "last_edit_date": 1446137418, "creation_date": 1446136540, "answer_id": 33419880, "question_id": 33402176, "link": "https://stackoverflow.com/questions/33402176/render-circles-along-a-3d-curves/33419880#33419880", "title": "Render circles along a 3d curves", "body": "<p>The easiest way to do this is by using Frenet-Serret frames, more commonly known as TBN frames or a TBN matrix. Here's how:</p>\n\n<ol>\n<li>Sample two points on the curve. Let's call them \"current\" and \"next\".</li>\n<li><p>Construct the Frenet frame as follows:</p>\n\n<pre><code>vec3 T = normalize( next - current );\nvec3 B = normalize( cross( T, next + current ) );\nvec3 N = normalize( cross( B, T ) );\n</code></pre></li>\n<li><p>Calculate your 2D circle, similar to this:</p>\n\n<pre><code>float x = cos( angle );\nfloat y = sin( angle );\n</code></pre></li>\n<li><p>Now, use the Frenet frame to calculate the proper orientation:</p>\n\n<pre><code>vec3 tangent = T;\nvec3 normal = normalize( B * x + N * y );\nvec3 vertex = current + B * x + N * y; // note: not normalized!\n</code></pre></li>\n</ol>\n\n<p>An easy to follow explanation can be found here:\n<a href=\"http://www.blackpawn.com/texts/pqtorus/\" rel=\"nofollow\">http://www.blackpawn.com/texts/pqtorus/</a></p>\n"}], "owner": {"reputation": 2131, "user_id": 500318, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0ba4b942e2163728846ba3fd17ea4299?s=128&d=identicon&r=PG", "display_name": "jaykumarark", "link": "https://stackoverflow.com/users/500318/jaykumarark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1544042916, "creation_date": 1446068803, "last_edit_date": 1544042916, "question_id": 33402176, "link": "https://stackoverflow.com/questions/33402176/render-circles-along-a-3d-curves", "title": "Render circles along a 3d curves", "body": "<p>I am trying to render circles around each point of a 3d curves. Basically trying to create a tube like structure for the curve. But the orientation of the circle is wrong as shown in the image. Below are my calculations for the Model matrix of the circle object after calculating the frenet frame. Where am I going wrong? \nFor reference, green line is the tangent, blue is the normal and red is the binormal. </p>\n\n<p><a href=\"https://i.stack.imgur.com/k2EC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2EC4.png\" alt=\"view 1\"></a>\n<a href=\"https://i.stack.imgur.com/fLV3a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLV3a.png\" alt=\"view 2\"></a></p>\n\n<p><code>Frenet Frame Calculations</code>:</p>\n\n<pre><code>glm::vec3 pointback = curve_points[i-1];\nglm::vec3 pointmid = curve_points[i];\nglm::vec3 pointforward = curve_points[i+1];\n\nglm::vec3 forward_tangent_vector =  glm::vec3(glm::normalize(pointforward - pointmid)) ;\nglm::vec3 backward_tangent_vector = glm::vec3(glm::normalize(pointmid - pointback)) ;\n\nglm::vec3 second_order_tangent = glm::normalize(forward_tangent_vector - backward_tangent_vector);\n\nglm::vec3 binormal = glm::normalize(glm::cross(forward_tangent_vector, second_order_tangent));\n\nglm::vec3 normal = glm::normalize(glm::cross(binormal, forward_tangent_vector));\n</code></pre>\n\n<p><code>Model Matrix for Circle calculations</code></p>\n\n<pre><code>glm::mat3 tbn = glm::mat3(forward_tangent_vector,binormal,normal);\n\nglm::vec3 normal_axis = glm::vec3(0, 1, 0);\n//normal_axis = forward_tangent_vector;\n\nglm::vec3 circleNormal = glm::normalize(tbn * normal_axis);\nglm::vec3 rotationAxis = glm::cross(normal_axis, circleNormal);\nfloat rotationAngle = glm::acos(glm::dot(normal_axis, circleNormal));\n\nR = glm::rotate(R, glm::degrees(rotationAngle), rotationAxis);\n\nT = glm::translate(T, pointmid);\n\nglm::mat4 Model = T*R;\n</code></pre>\n"}, {"tags": ["c++", "ftp", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 5438, "user_id": 2132796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/150K2.jpg?s=128&g=1", "display_name": "Herdo", "link": "https://stackoverflow.com/users/2132796/herdo"}, "is_accepted": true, "score": 0, "last_activity_date": 1446123701, "creation_date": 1446123701, "answer_id": 33415017, "question_id": 33402124, "link": "https://stackoverflow.com/questions/33402124/uwp-ftp-server-for-rpi2/33415017#33415017", "title": "UWP FTP Server for RPi2", "body": "<p>Nope, there isn't.</p>\n\n<p>The only locations you can access without asking the user every time, are the libraries (<code>Photos</code>, <code>Music</code>, <code>Videos</code>, etc.), as well as the provided local space for the app itself.</p>\n\n<p>Everything else is protected by the <strong>sandbox</strong> and is only accessable by asking the user for each access.</p>\n"}], "owner": {"reputation": 2568, "user_id": 2660282, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6c66cd2b6bda52c5ff72783ef727d907?s=128&d=identicon&r=PG", "display_name": "Quest", "link": "https://stackoverflow.com/users/2660282/quest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 33415017, "answer_count": 1, "score": 0, "last_activity_date": 1446123701, "creation_date": 1446068610, "question_id": 33402124, "link": "https://stackoverflow.com/questions/33402124/uwp-ftp-server-for-rpi2", "title": "UWP FTP Server for RPi2", "body": "<p>I'm writing a small, lightweight FTP server for RPi2 running Win10 IoT Core and I get to the point where I'm working on file management but I've run into serious problem. You can't access all files directly without declaring them in manifest or without user interface (pickup box). Is there any way to access all locations without prompting user to select them first?</p>\n"}, {"tags": ["python", "c++", "linker"], "comments": [{"owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "edited": false, "score": 1, "creation_date": 1446069815, "post_id": 33402019, "comment_id": 54596183, "body": "Are you forgetting to link against another library? It looks like you might be trying to use a boost math library."}, {"owner": {"reputation": 2526, "user_id": 2737994, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a17a967db1e821849172d1f3ee7d2a6d?s=128&d=identicon&r=PG", "display_name": "physicsGuy", "link": "https://stackoverflow.com/users/2737994/physicsguy"}, "reply_to_user": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "edited": false, "score": 0, "creation_date": 1446125022, "post_id": 33402019, "comment_id": 54620477, "body": "Yes that is indeed the case. Which options do I have to set in order to link against the library?"}, {"owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "edited": false, "score": 0, "creation_date": 1446136129, "post_id": 33402019, "comment_id": 54628848, "body": "If you are using GCC, you would normally pass something like -lname for a library named libname.so."}], "owner": {"reputation": 2526, "user_id": 2737994, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a17a967db1e821849172d1f3ee7d2a6d?s=128&d=identicon&r=PG", "display_name": "physicsGuy", "link": "https://stackoverflow.com/users/2737994/physicsguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446068174, "creation_date": 1446068174, "question_id": 33402019, "link": "https://stackoverflow.com/questions/33402019/python-import-error-when-including-a-c-extension", "title": "Python import error, when including a c++ extension", "body": "<p>In python, I use extension to wrap my C++ code and to use it in python. I can compile and link my code. However once I import the resulting module 'example' in python</p>\n\n<pre><code>import example\n</code></pre>\n\n<p>I get the following error. (I replaced the path to the module by \"path\")</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/&lt;path&gt;/example.py\", line 28, in &lt;module&gt;\n_example = swig_import_helper()\n  File \"/&lt;path&gt;/example.py\", line 24, in swig_import_helper\n_mod = imp.load_module('_example', fp, pathname, description)\n  File \"/&lt;otherpath&gt;/lib/python3.4/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\nImportError: dlopen(/&lt;path&gt;/_example.so, 2): Symbol not found: __ZN5boost4math12sph_hankel_1IiiEESt7complexINS0_6detail13bessel_traitsIT_T0_NS0_8policies6policyINS7_14default_policyES9_S9_S9_S9_S9_S9_S9_S9_S9_S9_S9_S9_EEE11result_typeEES5_S6_\n  Referenced from: /&lt;path&gt;/_example.so\n  Expected in: dynamic lookup\n</code></pre>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446068603, "post_id": 33401970, "comment_id": 54595521, "body": "A pointer is a variable as anything else, a variable has it&#39;s unique address, that can be obtained with the <code>&amp;</code> operator. So nothing weird happens in your example."}], "answers": [{"tags": [], "owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "is_accepted": true, "score": 2, "last_activity_date": 1446068425, "creation_date": 1446068425, "answer_id": 33402080, "question_id": 33401970, "link": "https://stackoverflow.com/questions/33401970/pointers-basic-a-simple-query/33402080#33402080", "title": "Pointers Basic : A simple query", "body": "<p>Correct.</p>\n\n<p>Output 1 is the value of the pointer, which is the address that it points to.</p>\n\n<p>Output 2 is the \"dereferenced\" pointer which means it is the value contained at Output 1 (the location the pointer is pointing to).</p>\n\n<p>Output 3 is the location where the pointer (which contains the value from output 1) is being stored.</p>\n"}, {"tags": [], "owner": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "is_accepted": false, "score": 2, "last_activity_date": 1446068863, "creation_date": 1446068863, "answer_id": 33402191, "question_id": 33401970, "link": "https://stackoverflow.com/questions/33401970/pointers-basic-a-simple-query/33402191#33402191", "title": "Pointers Basic : A simple query", "body": "<p>You got it perfectly right: </p>\n\n<ul>\n<li><code>v</code> is a variable, so <code>&amp;v</code> is the adress where <code>v</code> is stored in memory;</li>\n<li><code>ptr</code> is a variable as well, so <code>&amp;ptr</code> is the adress where <code>ptr</code> is stored in memory.</li>\n</ul>\n\n<p>In your example, because these variables are stored one after the other (on the local <em>stack</em>), their adresses are only 4 bytes apart.</p>\n"}], "owner": {"reputation": 429, "user_id": 2523237, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pP3Hf.jpg?s=128&g=1", "display_name": "PrimeOfKnights", "link": "https://stackoverflow.com/users/2523237/primeofknights"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 33402080, "answer_count": 2, "score": 0, "last_activity_date": 1446068863, "creation_date": 1446067962, "last_edit_date": 1446068363, "question_id": 33401970, "link": "https://stackoverflow.com/questions/33401970/pointers-basic-a-simple-query", "title": "Pointers Basic : A simple query", "body": "<p>I am new to cpp and learning pointers. while practicing the codes i came across this. When i do &amp;(a pointer), it gives an another memory location.i want to know what this address is. I assume its the location where the ptr is saved. it has to be saved somewhere though it has the memory of value variable.</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n  int v =6;\n  int *ptr;\n\n  ptr = &amp;v;\n\n  cout &lt;&lt; \"1: \" &lt;&lt; ptr &lt;&lt; endl;\n\n  cout &lt;&lt; \"2: \" &lt;&lt; *ptr &lt;&lt; endl;\n\n  cout &lt;&lt; \"3: \" &lt;&lt; &amp;ptr &lt;&lt; endl;\n\n  return 0;\n\n}\n</code></pre>\n\n<p>OUTPUT:\n1: 0x29cc6c</p>\n\n<p>2: 6</p>\n\n<p>3: 0x29cc68</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1446068115, "post_id": 33401960, "comment_id": 54595259, "body": "Voting to close since the problem is caused by a typo."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446068686, "post_id": 33401993, "comment_id": 54595565, "body": "Unrelated to OP&#39;s question , but it&#39;s simpler and more efficient to have the constructor take <code>string newName</code> instead of <code>const string &amp;newName</code>. This means that if called with an rvalue, the contents can be moved into <code>newName</code>, instead of being copied and then the original destructed."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446068914, "post_id": 33401993, "comment_id": 54595697, "body": "@M.M I  doubt that would be more efficient. yes content can be moved to <code>newName</code> in that case, but <code>newName</code> will be copied to <code>name</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069121, "post_id": 33401993, "comment_id": 54595817, "body": "sorry, also use <code>name(std::move(newName))</code>"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069316, "post_id": 33401993, "comment_id": 54595930, "body": "@M.M ok, but is there a verifiable data of efficiency improving, or it is pure theoretical?"}, {"owner": {"reputation": 13, "user_id": 4680009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e4d7d324243301c60ebc74535b6b56?s=128&d=identicon&r=PG&f=1", "display_name": "userHR", "link": "https://stackoverflow.com/users/4680009/userhr"}, "edited": false, "score": 0, "creation_date": 1446069370, "post_id": 33401993, "comment_id": 54595952, "body": "Thank you for your help."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069384, "post_id": 33401993, "comment_id": 54595958, "body": "I&#39;m pretty confident this could be demonstrated by an example, although I haven&#39;t actually done it. You&#39;d think that one allocation is faster than two allocations and one free, even if not by much."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069506, "post_id": 33401993, "comment_id": 54596031, "body": "@M.M I think it would be a good question to put on SO, if it does not already exist. I do not think, that one allocation is not faster than two, I doubt there would be 2 allocations with const reference after optimization."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 2, "last_activity_date": 1446068417, "last_edit_date": 1446068417, "creation_date": 1446068062, "answer_id": 33401993, "question_id": 33401960, "link": "https://stackoverflow.com/questions/33401960/c-method-parameters-giving-unexpected-output/33401993#33401993", "title": "c++ method parameters giving unexpected output", "body": "<pre><code>newHeight=newHeight;\n</code></pre>\n\n<p>should be replaced with </p>\n\n<pre><code>height=newHeight;\n</code></pre>\n\n<p>but better you should initialize object in constructor, rather than separate method:</p>\n\n<pre><code>class Chair\n{\nprivate:\n    int legCount;\n    int height;\n    bool cushioned;\n    string name;\npublic:\n    Chair( const string &amp;newName, int newLegCount, int newHeight, bool cush) :\n        legCount( newLegCount ),\n        height( newHeight ),\n        cushioned( cush ),\n        name( newName )\n    {\n    }\n    ...\n};\n\nint main()\n{\n    cout &lt;&lt; \"Hello world!\" &lt;&lt; endl;\n    Chair c1(\"Olivia\",4,32,true);       // works now\n    Chair c2(\"Stephano\",8,8,false);\n    return 0;\n}\n</code></pre>\n\n<p>this way you cannot have instance of your class uninitialized and your mistake also would be detected by compiler.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4680009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e4d7d324243301c60ebc74535b6b56?s=128&d=identicon&r=PG&f=1", "display_name": "userHR", "link": "https://stackoverflow.com/users/4680009/userhr"}, "edited": false, "score": 0, "creation_date": 1446068748, "post_id": 33402107, "comment_id": 54595603, "body": "Thank you for your help. Apologies for the inconvenience."}, {"owner": {"reputation": 504, "user_id": 3753979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oODZ6.jpg?s=128&g=1", "display_name": "Janos", "link": "https://stackoverflow.com/users/3753979/janos"}, "reply_to_user": {"reputation": 13, "user_id": 4680009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e4d7d324243301c60ebc74535b6b56?s=128&d=identicon&r=PG&f=1", "display_name": "userHR", "link": "https://stackoverflow.com/users/4680009/userhr"}, "edited": false, "score": 0, "creation_date": 1446106737, "post_id": 33402107, "comment_id": 54608629, "body": "no problem and no inconvenience - we have learnt programming the same way - asking, trying, asking, trying..."}], "tags": [], "owner": {"reputation": 504, "user_id": 3753979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oODZ6.jpg?s=128&g=1", "display_name": "Janos", "link": "https://stackoverflow.com/users/3753979/janos"}, "is_accepted": false, "score": 0, "last_activity_date": 1446068547, "creation_date": 1446068547, "answer_id": 33402107, "question_id": 33401960, "link": "https://stackoverflow.com/questions/33401960/c-method-parameters-giving-unexpected-output/33402107#33402107", "title": "c++ method parameters giving unexpected output", "body": "<p>Here is the mistake in your implementation <em>Chair.cpp</em>:\n    <code>newHeight=newHeight;</code></p>\n\n<p>This is the correct:\n    <code>height = newHeight;</code></p>\n\n<p>The long number you get is the uninitialized value of member variable <code>height</code> in your <code>Chair</code> object.</p>\n"}], "owner": {"reputation": 13, "user_id": 4680009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e4d7d324243301c60ebc74535b6b56?s=128&d=identicon&r=PG&f=1", "display_name": "userHR", "link": "https://stackoverflow.com/users/4680009/userhr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 33401993, "answer_count": 2, "score": 0, "last_activity_date": 1446068547, "creation_date": 1446067931, "question_id": 33401960, "link": "https://stackoverflow.com/questions/33401960/c-method-parameters-giving-unexpected-output", "title": "c++ method parameters giving unexpected output", "body": "<p>Main class code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Chair.h\"\n\nusing namespace std;\n\nint main()\n{\ncout &lt;&lt; \"Hello world!\" &lt;&lt; endl;\nChair c1;\nc1.chairType(\"Olivia\",4,32,true);       // not working\nChair c2;\nc1.chairType(\"Stephano\",8,8,false);\nreturn 0;\n}\n</code></pre>\n\n<p>// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>\n\n<pre><code>Header class code:\n\n#ifndef CHAIR_H_INCLUDED\n#define CHAIR_H_INCLUDED\n#include &lt;iostream&gt;\n\n\nusing namespace std;\n\nclass Chair\n{\nprivate:\n    int legCount;\n    int height;\n    bool cushioned;\n    string name;\npublic:\n    void chairType(string newName, int newLegCount, int newHeight, bool cush);\n\n\n};\n\n\n\n#endif // CHAIR_H_INCLUDED\n</code></pre>\n\n<p>// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>\n\n<pre><code>Chair.cpp class:\n\n\n#include &lt;iostream&gt;\n#include \"Chair.h\"\n\nusing namespace std;\n\nvoid Chair::chairType(string newName, int newLegCount, int newHeight, bool cush)\n{\n    name=newName;\n    legCount=newLegCount;\n    newHeight=newHeight;\n    cushioned=cush;\n\n    cout&lt;&lt;\"I'm a chair, the following are my specs: \"&lt;&lt;endl;\n    cout&lt;&lt;\"Model: \"&lt;&lt;name&lt;&lt;endl;\n    cout&lt;&lt;\"Num of Legs: \"&lt;&lt;legCount&lt;&lt;endl;\n    cout&lt;&lt;\"Height: \"&lt;&lt;height&lt;&lt;endl;\n    cout&lt;&lt;\"Cushioned? : \"&lt;&lt;cush&lt;&lt;endl;\n}\n</code></pre>\n\n<p>// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nOutput for the four variables fed into the method is as expected, apart from the third variable (second int) which is printing as being 2752192 regardless of what I feed to it, and for both objects c1 and c2.</p>\n\n<p>I'm new to C++. I've been practising some object class questions trying to familiarise myself with the syntax. I vaguely understand pointers can cause reference addresses to print on occasion. However, this 7 digit number doesn't appear to be in address format. I've done some searches and can't see a similar question. If there is one, I would appreciate direction to it. I don't wish to break the terms of posting here on the site. Thank you in advance for your assistance.</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e95bbe1a8aabcea025c4372d13e325?s=128&d=identicon&r=PG&f=1", "display_name": "C Hsu", "link": "https://stackoverflow.com/users/5482612/c-hsu"}, "edited": false, "score": 0, "creation_date": 1446069718, "post_id": 33402198, "comment_id": 54596144, "body": "Ahh, I see. I was thinking iterators as pointers to say, the vector&#39;s element, while vectors&#39; iterators aren&#39;t exactly pointers. Such as the vec.end() example. Rookie mistake, thanks for the clarification!"}], "tags": [], "owner": {"reputation": 31, "user_id": 3753669, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003088250071/picture?type=large", "display_name": "user3753669", "link": "https://stackoverflow.com/users/3753669/user3753669"}, "is_accepted": false, "score": 3, "last_activity_date": 1446069314, "last_edit_date": 1446069314, "creation_date": 1446068899, "answer_id": 33402198, "question_id": 33401915, "link": "https://stackoverflow.com/questions/33401915/c-using-unique-copy-on-just-one-element/33402198#33402198", "title": "C++: Using unique_copy on just one element", "body": "<p>You are correct that the [first, last) is the problem.</p>\n\n<p>When assigning iterators to containers, it is standard that the last iterator you can possible have is to the memory position 1 iteration after the last element in the container.</p>\n\n<p>Ex.</p>\n\n<pre><code>vector&lt;int&gt; aVec{5,-8,23,200};\nvector&lt;int&gt;::iterator currentItr, lastItr;\n\n// iterator to first element, 5\ncurrentItr = aVec.begin(); \n\n\n// iterator to element ***directly after*** last element\nlastItr = aVec.end();\n// in other words, there is no reason to access the value attached to lastItr\n</code></pre>\n\n<p>One reason why the .end() standard exists is to easily tell when the currentItr has reached past the usable values in a container;</p>\n\n<p>Ex.</p>\n\n<pre><code>while (currentItr != lastItr) // currentItr will not print once it's equal to lastItr\n    cout &lt;&lt; *currentItr++ &lt;&lt; endl;\n</code></pre>\n\n<p>In your specific example, if there is one element in a container, then the iterators [first, last) should not be equal.\n\"first\" is an iterator located one element to the left of iterator \"last\".</p>\n\n<p>If first == last, then the span of possible iterators is:</p>\n\n<p>[first, first)\n or\n[last, last)</p>\n\n<p>The possible span cannot <em>both</em> <strong>include</strong> <em>and</em> <strong>exclude</strong> any iterator.\nThat sounds crazy.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 51, "user_id": 5482612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e95bbe1a8aabcea025c4372d13e325?s=128&d=identicon&r=PG&f=1", "display_name": "C Hsu", "link": "https://stackoverflow.com/users/5482612/c-hsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446069314, "creation_date": 1446067707, "question_id": 33401915, "link": "https://stackoverflow.com/questions/33401915/c-using-unique-copy-on-just-one-element", "title": "C++: Using unique_copy on just one element", "body": "<p>This is the implementation as found on cplusplus.com</p>\n\n<pre><code>template &lt;class InputIterator, class OutputIterator&gt;\n  OutputIterator unique_copy (InputIterator first, InputIterator last,  \n                              OutputIterator result) {\n  if (first==last) return result;\n\n  *result = *first;\n  while (++first != last) {\n    typename iterator_traits&lt;InputIterator&gt;::value_type val = *first;\n    if (!(*result == val))   // or: if (!pred(*result,val)) for version (2)\n      *(++result)=val;\n  }\n  return ++result;\n}\n</code></pre>\n\n<p>So when when \"first\" and \"last\" iterators point to the same element, we don't return anything? That seems out-of-line with unique_copy's definition: the first element from every consecutive group of equivalent elements in the range [first,last) is copied. Is it because of the \"last)\" part? Can anyone clarify? Thanks!</p>\n"}, {"tags": ["php", "c++", "apache", "sockets"], "comments": [{"owner": {"reputation": 2022, "user_id": 1609485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1KzNA.jpg?s=128&g=1", "display_name": "whitwhoa", "link": "https://stackoverflow.com/users/1609485/whitwhoa"}, "edited": false, "score": 1, "creation_date": 1446067936, "post_id": 33401895, "comment_id": 54595176, "body": "You say that php app is on a separate server from the c++ app? Will this always be the case?"}, {"owner": {"reputation": 19745, "user_id": 574632, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/bb13b2bbc97ce81108b09be9a41120a1?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/574632/steve"}, "edited": false, "score": 2, "creation_date": 1446067976, "post_id": 33401895, "comment_id": 54595197, "body": "This question is pretty vague. Will both programs be running on the same server? One way or two way communication? Is this a client/server type relationship? Or perhaps a worker/queue type relationship? Is php being ran behind a webserver (apache, ngnx etc)?"}, {"owner": {"reputation": 832, "user_id": 2215486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bb82a05d31a19f343d387719728c15?s=128&d=identicon&r=PG", "display_name": "Aaron Gong", "link": "https://stackoverflow.com/users/2215486/aaron-gong"}, "edited": false, "score": 1, "creation_date": 1446068222, "post_id": 33401895, "comment_id": 54595315, "body": "Hi, please elaborate on your use-case, both can communicate as long as using same protocol, if your php is on webserver, then it best be http/https (I assume C++ is client and PHP is server). If php is cli, then your option can expand to udp,tcp. You can also send email using C++ and check receive using PHP, periodically using wget and cron job, etc."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1446069408, "post_id": 33401895, "comment_id": 54595973, "body": "if it&#39;s web-based php, you don&#39;t need raw sockets. just get a c++ http library, and talk to php like you would with a browser/html/forms."}, {"owner": {"reputation": 764, "user_id": 5190017, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dcbae90a7d916478c68d34663f5d53cd?s=128&d=identicon&r=PG&f=1", "display_name": "mfisher91", "link": "https://stackoverflow.com/users/5190017/mfisher91"}, "edited": false, "score": 0, "creation_date": 1446113962, "post_id": 33401895, "comment_id": 54613129, "body": "Updated my question. Thanks for the help (in getting me to expand my question)"}, {"owner": {"reputation": 764, "user_id": 5190017, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dcbae90a7d916478c68d34663f5d53cd?s=128&d=identicon&r=PG&f=1", "display_name": "mfisher91", "link": "https://stackoverflow.com/users/5190017/mfisher91"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1446234491, "post_id": 33401895, "comment_id": 54675874, "body": "@MarcB could you expand on the c++ http library at all?"}, {"owner": {"reputation": 1902, "user_id": 21656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f8d096a3777232204cb3f796c577b7?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/21656/george"}, "edited": false, "score": 0, "creation_date": 1446729935, "post_id": 33401895, "comment_id": 54871112, "body": "If they&#39;re going to need to pass fairly large data structures back and forth, and they&#39;re always going to be running on the same machine, it might make more sense to use shared memory and mutexes (or semaphores)."}, {"owner": {"reputation": 1062, "user_id": 982392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RkKrD.jpg?s=128&g=1", "display_name": "Wojciech Jakubas", "link": "https://stackoverflow.com/users/982392/wojciech-jakubas"}, "edited": false, "score": 0, "creation_date": 1446811715, "post_id": 33401895, "comment_id": 54910784, "body": "If they are on the very same machine, why you need to use php and c++. Can you explain what PHP will be doing that you cannot do via C++. This is of course for situation where you have C++ application on the same server as PHP/web server. If there is a chance they will be on different boxes, use c++ http libraries and do simple restfull requests. Example here: <a href=\"http://stackoverflow.com/questions/1011339/how-do-you-make-a-http-request-with-c\" title=\"how do you make a http request with c\">stackoverflow.com/questions/1011339/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 764, "user_id": 5190017, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dcbae90a7d916478c68d34663f5d53cd?s=128&d=identicon&r=PG&f=1", "display_name": "mfisher91", "link": "https://stackoverflow.com/users/5190017/mfisher91"}, "edited": false, "score": 0, "creation_date": 1446467981, "post_id": 33450221, "comment_id": 54740412, "body": "Thank you for the detailed answer. I&#39;m going to try it out later this week. I&#39;ll come back and mark it as my answer if it works well :)"}], "tags": [], "owner": {"reputation": 1617, "user_id": 5502860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80cca7f2c363c796f87cfb054b99327?s=128&d=identicon&r=PG&f=1", "display_name": "stas.yaranov", "link": "https://stackoverflow.com/users/5502860/stas-yaranov"}, "is_accepted": true, "score": 15, "last_activity_date": 1446287298, "last_edit_date": 1495540025, "creation_date": 1446285132, "answer_id": 33450221, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33450221#33450221", "title": "How to set up communication between PHP and C++?", "body": "<p>I think the easiest way is:</p>\n\n<p>1) PHP -> C++ : tcp</p>\n\n<p>2) C++ -> PHP : http</p>\n\n<p>Will try to explain.</p>\n\n<p>1) To take something from C++ app PHP connects to that app using <a href=\"http://php.net/manual/en/function.stream-socket-client.php\" rel=\"nofollow noreferrer\">stream_socket_client</a> function. C++ app is listening on host and port using <code>socket</code>, <code>bind</code> and <code>listen</code> functions. As soon as connection arrives C++ app <code>accept</code> it and then in a separate <code>std::thread</code> serves it (<code>recv</code> to get request, <code>send</code> to send response). <a href=\"http://www.linuxhowtos.org/C_C++/socket.htm\" rel=\"nofollow noreferrer\">How to socket</a>.</p>\n\n<p>2) As PHP is working under Apache Web Server, I think the easiest way is use of <code>libcurl</code> library to make HTTP request from C++ app. <a href=\"https://stackoverflow.com/questions/2329571/c-libcurl-get-output-into-a-string?rq=1\">How to curl</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4901, "user_id": 1935338, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dbadd40702bcf0ad93594d852b133e6c?s=128&d=identicon&r=PG", "display_name": "smcjones", "link": "https://stackoverflow.com/users/1935338/smcjones"}, "edited": false, "score": 1, "creation_date": 1446735325, "post_id": 33464676, "comment_id": 54875080, "body": "IMO this is the best solution because even though it takes a little work to get set up, it offers the most flexibility and if the OP decides to change one program there is the least likelihood of it breaking and the easiest method to fix it (just make sure the REST or SOAP web service is working as intended). It even allows a change to a different language."}, {"owner": {"reputation": 1044, "user_id": 1648645, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/75378a12e9d6ac2820e770b140c42ac1?s=128&d=identicon&r=PG", "display_name": "sibaz", "link": "https://stackoverflow.com/users/1648645/sibaz"}, "edited": false, "score": 1, "creation_date": 1446820189, "post_id": 33464676, "comment_id": 54916003, "body": "Apache/PHP is basically designed to use HTTP.  Restful or SOAP, or JSON based equivalents are the in vogue and will solve the problem for you with minimum overhead, as you can find several frameworks that&#39;ll do most of the structural work for you."}], "tags": [], "owner": {"reputation": 1449, "user_id": 2384597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Szfte.png?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2384597/ben"}, "is_accepted": false, "score": 7, "last_activity_date": 1446396948, "creation_date": 1446396948, "answer_id": 33464676, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33464676#33464676", "title": "How to set up communication between PHP and C++?", "body": "<p>Another approach could be SOAP or REST Web Services. On both sides, you could provide a SOAP Web Service to exchange data or to call remote functions. On C++-side, you could use Apache Axis to provide a SOAP Server. On PHP side, you can use the build-in SOAPServer class (<a href=\"http://php.net/manual/de/class.soapserver.php\" rel=\"noreferrer\">http://php.net/manual/de/class.soapserver.php</a>).</p>\n\n<p>With SOAP you simply would exchange XML-based messages between both applications over HTTP / HTTPS. With this approch, both applications can trigger each other and exchange data. </p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 3015445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fd31131855719233c4363be709e2e13?s=128&d=identicon&r=PG&f=1", "display_name": "user3015445", "link": "https://stackoverflow.com/users/3015445/user3015445"}, "is_accepted": false, "score": 1, "last_activity_date": 1460989966, "last_edit_date": 1460989966, "creation_date": 1446666478, "answer_id": 33530739, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33530739#33530739", "title": "How to set up communication between PHP and C++?", "body": "<p>If you need some guidance on what stas told you then I suggest you look at</p>\n\n<p><a href=\"http://us2.php.net/manual-lookup.php?pattern=fsock&amp;src=\" rel=\"nofollow\">http://us2.php.net/manual-lookup.php?pattern=fsock&amp;src=</a>{referrer:source?}\n<a href=\"http://us2.php.net/manual-lookup.php?pattern=socket&amp;src=\" rel=\"nofollow\">http://us2.php.net/manual-lookup.php?pattern=socket&amp;src=</a>{referrer:source?}</p>\n\n<p>In C++ you'll want to create a TCP listener that accepts commands (clearly you'll want to put some method of validation in),\nthen use PHP to open a connection (use fsock or socket your choice - fsock is easier), and write data to your C++ listener. It's ezpz</p>\n\n<p>//updating with some example code</p>\n\n<pre><code>// protocol://ip, port, $errno, $errstr, $timeout\n$fp = fsockopen(\"tcp://ip\", 1337, $errno, $errstr, 30);\nif(!$fp) die('failed connection or something');\n\n//write something\n\nfwrite($fp, \"stuffs to write\");\n\n// get a reply?\n\nwhile (!feof($fp)) {\n    echo fgets($fp, 128); // where 128 is size\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 4173343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-sI2seW2Owp8/AAAAAAAAAAI/AAAAAAAASKU/JLj31vYaBG4/photo.jpg?sz=128", "display_name": "Johan Alexis Duque Cadena", "link": "https://stackoverflow.com/users/4173343/johan-alexis-duque-cadena"}, "is_accepted": false, "score": 1, "last_activity_date": 1446800908, "creation_date": 1446800908, "answer_id": 33563093, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33563093#33563093", "title": "How to set up communication between PHP and C++?", "body": "<p>I recommend you to use Unix Sockets\nFor c++ check this: <a href=\"http://www.linuxhowtos.org/C_C++/socket.htm\" rel=\"nofollow\">http://www.linuxhowtos.org/C_C++/socket.htm</a></p>\n\n<p>For php check this: stream_socket_client</p>\n\n<p>You can pass info internally from both processes.</p>\n\n<p>Hope you can solve it, don't give up.</p>\n"}, {"tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": false, "score": 1, "last_activity_date": 1446824148, "creation_date": 1446824148, "answer_id": 33570292, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33570292#33570292", "title": "How to set up communication between PHP and C++?", "body": "<p>A SOAP solution could be something that solve the problem, but in my opinion it complicates a lot the application deployment.</p>\n\n<p>You could go down a few levels and work directly with <a href=\"http://xmlrpc.scripting.com/\" rel=\"nofollow\">XML-RPC</a>.</p>\n\n<p>Here you have two interesting links, that shows how to implement the client and the server in both languages.</p>\n\n<p><a href=\"http://xmlrpc-c.sourceforge.net/example-code.php\" rel=\"nofollow\">XML-RPC for C++</a></p>\n\n<p><a href=\"http://php.net/manual/en/book.xmlrpc.php\" rel=\"nofollow\">XML-RPC for PHP</a></p>\n\n<p>There are other implementatios of XML-RPC for C++ (I have not used this approach with PHP, so I don't know others alternatives), don't stick with only one, try with others and use what you feel more comfortable with.</p>\n"}, {"tags": [], "owner": {"reputation": 14999, "user_id": 8999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZD5Uo.jpg?s=128&g=1", "display_name": "Fabio Ceconello", "link": "https://stackoverflow.com/users/8999/fabio-ceconello"}, "is_accepted": false, "score": 2, "last_activity_date": 1446836468, "creation_date": 1446836468, "answer_id": 33573813, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c/33573813#33573813", "title": "How to set up communication between PHP and C++?", "body": "<p>Adding to the answer of Ben Schnarr, I think probably the most elegant and easy solution would be to make the C++ program a client for web services implemented in the PHP code. Using sockets directly would force you to have an additional protocol over it to represent the data being transmitted (unless the data is trivially simple, like a stream of ASCII text), which would be a bit like reinventing the wheel.</p>\n\n<p>I'm partial to REST+JSON, because they are simple to implement and use, and very powerful. In contrast, SOAP is quite complex, heavy in resources, and brittle, especially if you use it with C++. One popular implementation I've already used, for instance, would force you to recompile your code every time you change the layout of any of the messages, even if the server is adding a field that the client won't use.</p>\n\n<p>On the PHP side, it's quite easy - it already has all the infrastructure you need. On the C++ program, the minimum you'll need would be an HTTP client library and a JSON codec. I use libcurl for the first (by far the most popular) and jsoncpp for the latter, but there are other options for both. More recently, some libraries appeared with the whole package, but I hadn't had the chance to use them yet. Some examples:</p>\n\n<p><a href=\"https://github.com/mrtazz/restclient-cpp\" rel=\"nofollow\">restclient</a></p>\n\n<p><a href=\"https://casablanca.codeplex.com\" rel=\"nofollow\">REST SDK</a></p>\n\n<p><a href=\"https://github.com/corvusoft/restbed\" rel=\"nofollow\">Restbed</a></p>\n"}], "owner": {"reputation": 764, "user_id": 5190017, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dcbae90a7d916478c68d34663f5d53cd?s=128&d=identicon&r=PG&f=1", "display_name": "mfisher91", "link": "https://stackoverflow.com/users/5190017/mfisher91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5803, "favorite_count": 3, "accepted_answer_id": 33450221, "answer_count": 6, "score": 14, "last_activity_date": 1460989966, "creation_date": 1446067629, "last_edit_date": 1446293913, "question_id": 33401895, "link": "https://stackoverflow.com/questions/33401895/how-to-set-up-communication-between-php-and-c", "title": "How to set up communication between PHP and C++?", "body": "<p>I have a question regarding the titled question. So, I'm attempting to create a program which passes data/requests for data between a program in C++ and a PHP site running off of an Apache web server. </p>\n\n<p>I've been researching Socket communications, but I'm not understanding the concept. I understand how to create a socket in PHP, and another in c++, and I have them running using a test application. But only individually, not talking to each other OR talking to my web server (the PHP is not on the server at the moment, it is on a different server). So how does this work? From my understanding, you need one to be listening to a port number, and the other one to send something to that command.</p>\n\n<p>Ideally, I would prefer not to use any libraries to help me achieve this. I know this question has been asked many times before, but I'm still getting nowhere. </p>\n\n<p>Could someone provide an explanation of how the above works, or links to a question on here/elsewhere that may be of help? Or if there is a better method of doing this than using sockets? They will be talking to each other a lot, and speed maybe an issue.</p>\n\n<p>Edit, further explanation:</p>\n\n<p>Web server: I'm running an Apache web server. The PHP script is located on this server.</p>\n\n<p>C++ Location: While testing, my c++ application is stored on the same Raspberry Pi that the web server is running on. In the real application, my C++ application will still be stored on the same device (but it won't be a Raspberry Pi - still Linux based though).</p>\n\n<p>Communication: The PHP script will need to be triggered to do things by the C++ script, and vice versa. They will need to both need to pass data (common data structures, but they could be fairly large) each way (so both need to be able to send and receive data). </p>\n"}, {"tags": ["c++", "macos", "c++11", "clang", "allocator"], "comments": [{"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "edited": false, "score": 0, "creation_date": 1446068234, "post_id": 33401894, "comment_id": 54595325, "body": "I am not sure about the exact problem, but when I use libc++ instead of libstdc++ I get the same error in godbolt: <a href=\"http://goo.gl/EqjjtV\" rel=\"nofollow noreferrer\">goo.gl/EqjjtV</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "edited": false, "score": 0, "creation_date": 1446068720, "post_id": 33402066, "comment_id": 54595581, "body": "Of course! <code>using const_pointer = const pointer</code> is equal to <code>void * const</code> which is a constant pointer and not really suited as an iterator."}], "tags": [], "owner": {"reputation": 326, "user_id": 671658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3986891c637a98619a72c2847b003282?s=128&d=identicon&r=PG", "display_name": "wjwwood", "link": "https://stackoverflow.com/users/671658/wjwwood"}, "is_accepted": true, "score": 1, "last_activity_date": 1446068371, "creation_date": 1446068371, "answer_id": 33402066, "question_id": 33401894, "link": "https://stackoverflow.com/questions/33401894/apple-clang-cant-compile-call-to-stderase-for-vector-with-custom-allocator/33402066#33402066", "title": "Apple Clang: can&#39;t compile call to std::erase for vector with custom allocator", "body": "<p>I don't know why this works, but if you change <code>using const_pointer = const pointer;</code> in your custom allocator to <code>using const_pointer = const T *;</code> it seems to work for me (even on OS X using Apple's Clang).</p>\n"}], "owner": {"reputation": 746, "user_id": 1412888, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea011fa2919d4bd4568b32b440eda779?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/1412888/jackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 33402066, "answer_count": 1, "score": 2, "last_activity_date": 1446068371, "creation_date": 1446067620, "last_edit_date": 1446067724, "question_id": 33401894, "link": "https://stackoverflow.com/questions/33401894/apple-clang-cant-compile-call-to-stderase-for-vector-with-custom-allocator", "title": "Apple Clang: can&#39;t compile call to std::erase for vector with custom allocator", "body": "<p>I have the following snippet of code:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;memory&gt;\n#include &lt;vector&gt;\n\n// Example allocator, doesn't do anything but implements std::allocator_traits\ntemplate&lt;typename T&gt;\nstruct null_allocator {\n  using value_type = T;\n  using size_type = std::size_t;\n  using pointer = T *;\n  using const_pointer = const pointer;\n  //using difference_type = typename std::pointer_traits&lt;pointer&gt;::difference_type;\n  using reference = T &amp;;\n  using const_reference = const T &amp;;\n\n  null_allocator() {}\n\n  template&lt;typename U&gt;\n  null_allocator(const null_allocator&lt;U&gt;&amp;) {}\n\n  T* allocate(std::size_t size) {\n    (void) size;\n    return nullptr;\n  }\n\n  void deallocate(T* ptr, std::size_t size) {\n    (void) ptr;\n    (void) size;\n  }\n\n  template&lt;typename U&gt;\n  struct rebind\n  {\n    typedef null_allocator&lt;U&gt; other;\n  };\n};\n\nint main(int argc, char** argv) {\n  std::vector&lt;void*, null_allocator&lt;void*&gt;&gt; vec;\n\n  void * args;\n  vec.push_back(args);\n  vec.erase(vec.begin());\n}\n</code></pre>\n\n<p>gcc.godbolt.org shows that it compiles with Clang: <a href=\"http://goo.gl/VhKLCe\" rel=\"nofollow\">http://goo.gl/VhKLCe</a></p>\n\n<p>I pass a custom allocator to a std::vector, push a single object onto the vector, and try to call std::erase on that vector. The custom allocator is a null allocator that does nothing and is unimportant. The point is that this snippet compiles fine on Linux with both GCC and Clang, but fails to compile on OSX with Xcode/Apple Clang.</p>\n\n<p>The output of clang --version is Apple LLVM version 7.0.0 (clang-700.1.76).</p>\n\n<p>It appears that the compiler cannot complete std::iterator_traits:</p>\n\n<pre><code>In file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/memory:604:\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iterator:1120:54: error: no type named 'iterator_category' in\n      'std::__1::iterator_traits&lt;void **const&gt;'\n    typedef typename iterator_traits&lt;iterator_type&gt;::iterator_category iterator_category;\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~\nbug.cpp:42:13: note: in instantiation of template class 'std::__1::__wrap_iter&lt;void **const&gt;' requested here\n  vec.erase(vec.begin());\n            ^\nIn file included from bug.cpp:1:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/memory:604:\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iterator:1121:54: error: no type named 'value_type' in\n      'std::__1::iterator_traits&lt;void **const&gt;'\n    typedef typename iterator_traits&lt;iterator_type&gt;::value_type        value_type;\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iterator:1122:54: error: no type named 'difference_type' in\n      'std::__1::iterator_traits&lt;void **const&gt;'\n    typedef typename iterator_traits&lt;iterator_type&gt;::difference_type   difference_type;\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iterator:1123:54: error: no type named 'pointer' in\n      'std::__1::iterator_traits&lt;void **const&gt;'\n    typedef typename iterator_traits&lt;iterator_type&gt;::pointer           pointer;\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iterator:1124:54: error: no type named 'reference' in\n      'std::__1::iterator_traits&lt;void **const&gt;'\n    typedef typename iterator_traits&lt;iterator_type&gt;::reference         reference;\n</code></pre>\n\n<p>Does anyone know a good workaround for this issue?</p>\n"}, {"tags": ["c++", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446067474, "post_id": 33401745, "comment_id": 54594954, "body": "You want to find if there are contours <i>inside</i> the 5 largest?"}, {"owner": {"reputation": 57, "user_id": 4220263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/502ddcbc7dbf2ada1131b3c5730c949f?s=128&d=identicon&r=PG&f=1", "display_name": "Boots2014", "link": "https://stackoverflow.com/users/4220263/boots2014"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446067791, "post_id": 33401745, "comment_id": 54595108, "body": "Yes. I have a picture of five bottles and I want to see whether the bottles have labels on them. The largest contours outline each bottle and if the bottle has a label there are additional contours inside it. Hope this makes sense."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446068181, "post_id": 33401745, "comment_id": 54595299, "body": "Well, yes, it makes sense. Can you show what you tried so far?"}, {"owner": {"reputation": 57, "user_id": 4220263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/502ddcbc7dbf2ada1131b3c5730c949f?s=128&d=identicon&r=PG&f=1", "display_name": "Boots2014", "link": "https://stackoverflow.com/users/4220263/boots2014"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446074742, "post_id": 33401745, "comment_id": 54598175, "body": "I&#39;m away from my computer at the moment but my code was largely based on the source code from the open cv code here <a href=\"http://docs.opencv.org/doc/tutorials/imgproc/shapedescriptors/find_contours/find_contours.html\" rel=\"nofollow noreferrer\">docs.opencv.org/doc/tutorials/imgproc/shapedescriptors/&hellip;</a>  I added a for loop in the function to find the largest contour. I&#39;m not sure but I&#39;m thinking I have to index the five largest contours somehow."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446075968, "post_id": 33401745, "comment_id": 54598563, "body": "Posted an answer. You can see how to find the <code>N</code> largest contours, and how to get inner contours for each one."}, {"owner": {"reputation": 57, "user_id": 4220263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/502ddcbc7dbf2ada1131b3c5730c949f?s=128&d=identicon&r=PG&f=1", "display_name": "Boots2014", "link": "https://stackoverflow.com/users/4220263/boots2014"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446076128, "post_id": 33401745, "comment_id": 54598625, "body": "Wow thank you this is really helpful!"}], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 11, "last_activity_date": 1446078643, "last_edit_date": 1446078643, "creation_date": 1446075105, "answer_id": 33403400, "question_id": 33401745, "link": "https://stackoverflow.com/questions/33401745/find-largest-contours-opencv/33403400#33403400", "title": "Find largest contours OpenCV", "body": "<p>You can find the <code>N</code> largest contours checking their length. You should take care to pass to <code>findContours</code> the parameter <code>CHAIN_APPROX_NONE</code> for this to work properly.</p>\n\n<p>You can then check inside each mask if there are other contours.</p>\n\n<p>Image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yU0cW.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yU0cW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><code>N = 5</code> largest contours, with inner contours for each one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pZ4n9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pZ4n9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;opencv2\\opencv.hpp&gt;\n#include &lt;vector&gt;\n#include &lt;numeric&gt;\nusing namespace cv;\nusing namespace std;\n\n\nint main()\n{\n    Mat3b img = imread(\"path_to_image\");\n\n    Mat1b gray;\n    cvtColor(img, gray, COLOR_BGR2GRAY);\n\n    Mat1b edges;\n    Canny(gray, edges, 200, 50);\n\n    vector&lt;vector&lt;Point&gt;&gt; contours;\n    findContours(edges.clone(), contours, RETR_EXTERNAL, CHAIN_APPROX_NONE);\n\n    vector&lt;int&gt; indices(contours.size());\n    iota(indices.begin(), indices.end(), 0);\n\n    sort(indices.begin(), indices.end(), [&amp;contours](int lhs, int rhs) {\n        return contours[lhs].size() &gt; contours[rhs].size();\n    });\n\n    int N = 5; // set number of largest contours\n    N = min(N, int(contours.size()));\n\n    Mat3b res = img.clone();\n\n    // Draw N largest contours\n    for (int i = 0; i &lt; N; ++i)\n    {\n        Scalar color(rand() &amp; 255, rand() &amp; 255, rand() &amp; 255);\n        Vec3b otherColor(color[2], color[0], color[1]);\n\n        drawContours(res, contours, indices[i], color, CV_FILLED);\n\n        // Create a mask for the contour\n        Mat1b res_mask(img.rows, img.cols, uchar(0));\n        drawContours(res_mask, contours, indices[i], Scalar(255), CV_FILLED);\n\n        // AND with edges\n        res_mask &amp;= edges;\n\n        // remove larger contours\n        drawContours(res_mask, contours, indices[i], Scalar(0), 2);\n\n        for (int r = 0; r &lt; img.rows; ++r)\n        {\n            for (int c = 0; c &lt; img.cols; ++c)\n            {\n                if (res_mask(r, c))\n                {\n                    res(r,c) = otherColor;\n                }\n            }\n        }\n    }\n\n    imshow(\"Image\", img);\n    imshow(\"N largest contours\", res);\n    waitKey();\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4220263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/502ddcbc7dbf2ada1131b3c5730c949f?s=128&d=identicon&r=PG&f=1", "display_name": "Boots2014", "link": "https://stackoverflow.com/users/4220263/boots2014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6620, "favorite_count": 2, "accepted_answer_id": 33403400, "answer_count": 1, "score": 2, "last_activity_date": 1446078643, "creation_date": 1446067084, "question_id": 33401745, "link": "https://stackoverflow.com/questions/33401745/find-largest-contours-opencv", "title": "Find largest contours OpenCV", "body": "<p>I have used canny edge detection and I have found the contours on an image I am trying to process. \nI want to find the five largest contours and then see whether or not there are contours within the five biggest contours in the image.\nIs this possible? I am new to OpenCV.</p>\n"}, {"tags": ["c++", "arrays", "pointers", "dynamic"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446066901, "post_id": 33401648, "comment_id": 54594696, "body": "You can&#39;t copy arrays with the assignment <code>temp = dynArray</code>. You have to write a loop that copies each element of the array."}, {"owner": {"reputation": 3846, "user_id": 5420829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eePO.jpg?s=128&g=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0411\u0435\u043d\u044c\u043a\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5420829/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%91%d0%b5%d0%bd%d1%8c%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1446067158, "post_id": 33401648, "comment_id": 54594806, "body": "Where you declare <code>numC</code>?"}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446067159, "post_id": 33401648, "comment_id": 54594807, "body": "@Barmar Yeah, I had tried that one at one point. I was grasping at straws with the assignment, haha. It seems that the problem i&#39;m having is namely at the dynArray[numCourses] = course; part; adding even the first course into the array isn&#39;t happening. I might be missing something because I&#39;m pretty tired and sick of this dumb thing :P"}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "reply_to_user": {"reputation": 3846, "user_id": 5420829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eePO.jpg?s=128&g=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0411\u0435\u043d\u044c\u043a\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5420829/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%91%d0%b5%d0%bd%d1%8c%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1446067231, "post_id": 33401648, "comment_id": 54594845, "body": "@\u0410\u043d\u0434\u0440\u0435\u0439\u0411\u0435\u043d\u044c\u043a\u043e\u0432\u0441\u043a\u0438\u0439 numC is declared as 1 in the default constructor of Student"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446067421, "post_id": 33401648, "comment_id": 54594931, "body": "You should do <code>numCourses++</code> <b>after</b> you insert the element, not before. Otherwise you&#39;ll skip the first element of the array."}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446067635, "post_id": 33401648, "comment_id": 54595032, "body": "@Barmar there is an else statement in addElement that should account for it. The first course is going in now, however when I examine it, it looks like an element ie &quot;math&quot; goes in as dynArray[0] = &quot;m&quot;, dynArray[1] = &quot;a&quot;, etc. any idea why that&#39;d be happening"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446067800, "post_id": 33401648, "comment_id": 54595115, "body": "What is the initial value of <code>numCourses</code> before the <code>while</code> loop? I assumed it starts as <code>0</code>, so the first <code>numCourses++</code> will set it to <code>1</code>, and the first course will be put into <code>dynArray[1]</code> instead of <code>dynArray[0]</code>."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1446067867, "post_id": 33401648, "comment_id": 54595146, "body": "Why don&#39;t you just use <code>std::vector&lt;std::string&gt;</code> for your <code>dynArray</code>?"}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1446067926, "post_id": 33401648, "comment_id": 54595172, "body": "@NeilKirk not allowed for this assignment, unfortunately."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 2, "creation_date": 1446067929, "post_id": 33401648, "comment_id": 54595173, "body": "@NeilKirk that would mean writing good code, which is not allowed in school"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1446067934, "post_id": 33401648, "comment_id": 54595175, "body": "@Neil Because she&#39;s not allowed to use <code>vector</code> -- it says so in the title. It&#39;s an assignment to learn how to implement dynamic data structures."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446067983, "post_id": 33401648, "comment_id": 54595200, "body": "@M.M It&#39;s not a matter of good versus bad. You need to learn these kinds of things -- someone has to be able to implement classes like <code>std::vector</code>."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 1, "creation_date": 1446068041, "post_id": 33401648, "comment_id": 54595224, "body": "If <code>std::vector</code> is not available (to make you  learn how it works under the hood) then the correct thing to do is implement your own vector-type class, and use that, rather than mixing the logic of how to handle a resizable array alongside other unrelated pieces of code."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1446068157, "post_id": 33401648, "comment_id": 54595286, "body": "@Barmar Implementing data structures is harder than using them. Beginner classes at school often require students to do both, and do not teach either well."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446068411, "post_id": 33401648, "comment_id": 54595409, "body": "Implementing data structures teaches important <b>concepts</b>. I can&#39;t vouch for how well any particular class does this (if I&#39;m to believe many of the questions here, it seems like students are frequently given assignments that require knowledge that was never taught, but I&#39;ll bet it&#39;s more often that the students were asleep during the lecture)."}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "edited": false, "score": 0, "creation_date": 1446068872, "post_id": 33401648, "comment_id": 54595669, "body": "I posted an edit- it looks like the course isn&#39;t going into the first element correctly... any ideas?"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1446082821, "post_id": 33401648, "comment_id": 54600557, "body": "@Barmar Do not underestimate the poor quality of teaching of programming in academia."}], "answers": [{"comments": [{"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "edited": false, "score": 1, "creation_date": 1446067452, "post_id": 33401834, "comment_id": 54594944, "body": "Actually, one last thing: I would expect that you start off with an empty array. Starting with <code>string[1]</code> is probably not what you want to do."}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "edited": false, "score": 0, "creation_date": 1446068607, "post_id": 33401834, "comment_id": 54595524, "body": "I had started with a one element array because I knew I needed one element at least anyway and to make sure that it was at least accepting a string as an element even if it isn&#39;t resizing. I&#39;ll make sure to change it when I get everything working. As for numCourses, that&#39;s a number that is increased every time an element is added which is how I base the size of the array. I&#39;m not sure anymore why it is passed as an argument but I had a reason... at one point XD Does it pose a problem or just pointless?"}, {"owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "reply_to_user": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "edited": false, "score": 0, "creation_date": 1446068843, "post_id": 33401834, "comment_id": 54595657, "body": "Consider this code: <code>s.addElement(0, &quot;a&quot;); s.addElement(2, &quot;b&quot;);</code> What is the value of the second element?"}, {"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "edited": false, "score": 0, "creation_date": 1446068956, "post_id": 33401834, "comment_id": 54595722, "body": "Ahhhh, I see what you mean. rookie mistake."}], "tags": [], "owner": {"reputation": 1632, "user_id": 808241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUzCk.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/808241/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1446067351, "creation_date": 1446067351, "answer_id": 33401834, "question_id": 33401648, "link": "https://stackoverflow.com/questions/33401648/dynamic-string-array-without-using-vector/33401834#33401834", "title": "Dynamic string array without using vector", "body": "<p>The first line that that doesn't look quite correct is this one:</p>\n\n<pre><code>dynArray[numCourses] = course;\n</code></pre>\n\n<p>Before it is checked that <code>numCurses &gt; numC</code>, which means that <code>dynArray[numCourses]</code> accesses memory out of bounds (the bounds are <code>0</code> to <code>numC - 1</code>.</p>\n\n<p>The other thing that strikes me as interesting is that the <code>addElement</code> method takes <code>numCourses</code> as an argument. I would expect that it should behave similar to <code>std::vector&lt;T&gt;::push_back</code>. Are you sure this argument is necessary?</p>\n\n<p>The last thing I want to comment on is that the values from <code>dynArray</code> are not copied. Have a look at <code>std::copy_n</code> on how to do the copy.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "edited": false, "score": 0, "creation_date": 1446067845, "post_id": 33401926, "comment_id": 54595139, "body": "I think it&#39;s not cheating so long as I understand the code and can implement it in the future :) thanks!"}], "tags": [], "owner": {"reputation": 157, "user_id": 5495213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xZoq.jpg?s=128&g=1", "display_name": "R&#255;ck N&#246;thing", "link": "https://stackoverflow.com/users/5495213/r%c3%bfck-n%c3%b6thing"}, "is_accepted": false, "score": 0, "last_activity_date": 1446067748, "creation_date": 1446067748, "answer_id": 33401926, "question_id": 33401648, "link": "https://stackoverflow.com/questions/33401648/dynamic-string-array-without-using-vector/33401926#33401926", "title": "Dynamic string array without using vector", "body": "<p>I'm not sure if this would be considered cheating, but here's a break down of how std::vector is implemented. You could use that as a reference and just pick out the parts you need.</p>\n\n<p><a href=\"http://codefreakr.com/how-is-c-stl-implemented-internally/\" rel=\"nofollow\">http://codefreakr.com/how-is-c-stl-implemented-internally/</a></p>\n"}], "owner": {"reputation": 35, "user_id": 4792325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ASv1R.jpg?s=128&g=1", "display_name": "Angela Kay", "link": "https://stackoverflow.com/users/4792325/angela-kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446068183, "creation_date": 1446066625, "last_edit_date": 1446068183, "question_id": 33401648, "link": "https://stackoverflow.com/questions/33401648/dynamic-string-array-without-using-vector", "title": "Dynamic string array without using vector", "body": "<p>I am working on an assignment where we have to create a \"student\" object with a \"course\" member array that is dynamic so the user can enter from one course to as many as they'd like in the array. I've been trying this every which way and just cannot get the array to resize and accept new elements. Here is my code as it stands now:    </p>\n\n<pre><code>cout &lt;&lt; \"Enter student name &gt; \";\ncin &gt;&gt; name;\n\nStudent firstStudent(name);\n\ncout &lt;&lt; endl &lt;&lt; \"Enter \\\"done\\\" when you are complete\";\ncout &lt;&lt; endl &lt;&lt; \"Enter a new course : \";\ncin &gt;&gt; course;\n\nwhile (course != \"done\") {\n    numCourses++;\n    firstStudent.addElement(numCourses, course);//makes the array bigger\n    cout &lt;&lt; endl &lt;&lt; \"Enter a new course : \";\n    cin &gt;&gt; course;\n\n}//end while\n</code></pre>\n\n<p>member variables and constructor:</p>\n\n<pre><code>class Student\n{\nprivate:\n   string name;//name of student\n\n   string *dynArray = new string[1];//array\n\npublic:\nStudent::Student(string name)\n{\n   this-&gt;name = name;\n   this-&gt;numC = 1;//initialized to one to start with    \n}\n</code></pre>\n\n<p>resizing and adding an element to the array: </p>\n\n<pre><code>void Student::addElement(int numCourses, string &amp;course) {//DYNAMIC ARRAY\n    if (numCourses &gt; this-&gt;numC) {//checks if there are more courses than there is room in the array\n       this-&gt;numC = numCourses; //this changes the member variable amount\n       dynArray[numCourses] = course;//adds new course to array\n\n       string *temp = new string[numC];//create bigger temp array\n\n       temp = dynArray;//write original to temp\n\n       delete[]dynArray; //this tells it that it's an array\n\n       dynArray = temp;//make dynarray point to temp\n\n    }\n    else {\n       dynArray[numCourses] = course;//adds new course to array\n    }\n}//end addElement\n</code></pre>\n\n<p>Even if I manage to get rid of compile errors, it will often come up with runtime errors. I'm sure it has to do with pointers/copying arrays but I'm just learning and haven't yet mastered these concepts.</p>\n\n<p>Edit: dynArray[numCourses] = course; creates a char array. ie if course = \"one\", dynArray[0] = \"o\", dynArray[ 1] = \"n\", etc. Does anyone know how to keep this from happening?</p>\n\n<p><a href=\"http://i.stack.imgur.com/j5gRH.png\" rel=\"nofollow\">screenshot</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 1, "creation_date": 1446066666, "post_id": 33401635, "comment_id": 54594591, "body": "don&#39;t mark C++ questions as C"}, {"owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "edited": false, "score": 5, "creation_date": 1446066760, "post_id": 33401635, "comment_id": 54594629, "body": "&quot;doesn&#39;t work as I except&quot; is not a detailed explanation of your problem, I&#39;m afraid."}, {"owner": {"reputation": 3846, "user_id": 5420829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eePO.jpg?s=128&g=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0411\u0435\u043d\u044c\u043a\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5420829/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%91%d0%b5%d0%bd%d1%8c%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1446068430, "post_id": 33401635, "comment_id": 54595423, "body": "You should&#39;ve include the printing part to help us find the problem."}], "answers": [{"comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1446068314, "post_id": 33402027, "comment_id": 54595363, "body": "This is a comment and not an answer."}], "tags": [], "owner": {"reputation": 3846, "user_id": 5420829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eePO.jpg?s=128&g=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0411\u0435\u043d\u044c\u043a\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5420829/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%91%d0%b5%d0%bd%d1%8c%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "is_accepted": true, "score": 0, "last_activity_date": 1446068335, "last_edit_date": 1446068335, "creation_date": 1446068217, "answer_id": 33402027, "question_id": 33401635, "link": "https://stackoverflow.com/questions/33401635/dynamically-adding-array-to-multidimensional-array/33402027#33402027", "title": "Dynamically adding array to multidimensional array", "body": "<p>Your code prints nothing because <code>char</code> is supposed to be used to store characters. And characters with the codes you are using are unprintable.</p>\n\n<p>This code <a href=\"http://melpon.org/wandbox/permlink/0o31pOrqTBm099uL\" rel=\"nofollow\">works</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nunsigned char CH0[4] = { 1, 2, 3, 4 };\nunsigned char CH1[4] = { 8, 7, 6, 5 };\n\nunsigned char** mPins;\nunsigned char index;\n\nvoid init(unsigned char size)\n{\n    mPins = new unsigned char*[size];\n    index =0;\n}\n\nvoid setup(unsigned char* array){\n    mPins[index] = array;\n    index++;\n}\n\nint main() {\n    init(2);\n    setup(CH0);\n    setup(CH1);\n    for(int i = 0; i &lt; 2 ; ++i) {\n        for(int j = 0; j &lt; 4; ++j) {\n            std::cout &lt;&lt; (int)mPins[i][j] &lt;&lt; \" \";\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 2 3 4 \n8 7 6 5 \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5500255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b7f0fd1a4649547441dfe326d296a0?s=128&d=identicon&r=PG&f=1", "display_name": "SnowBizz", "link": "https://stackoverflow.com/users/5500255/snowbizz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33402027, "answer_count": 1, "score": -2, "last_activity_date": 1446068335, "creation_date": 1446066561, "last_edit_date": 1446066674, "question_id": 33401635, "link": "https://stackoverflow.com/questions/33401635/dynamically-adding-array-to-multidimensional-array", "title": "Dynamically adding array to multidimensional array", "body": "<p>I have problem with assign array as a element of a multidimensional array.\nCode below doesn't work as I except, but if I change types from unsigned char to int, everything is working fine.</p>\n\n<pre><code>unsigned char CH0[4] = { 1, 2, 3, 4 };\nunsigned char CH1[4] = { 8, 7, 6, 5 };\n\nunsigned char** mPins;\nunsigned char index;\n\nvoid init(unsigned char size)\n{\n    mPins = new unsigned char*[size];\n    index =0;\n}\n\nvoid setup(unsigned char* array){\n    mPins[index] = array;\n    index++;\n}\n\nmain() {\n   init(2);\n   setup(CH0);\n   setup(CH1);\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "char", "output", "symbols"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1446066552, "post_id": 33401603, "comment_id": 54594526, "body": "Good reasons to learn how to use the debugger and step through your code line by line."}, {"owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446066750, "post_id": 33401603, "comment_id": 54594626, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 Informative answer."}, {"owner": {"reputation": 1892, "user_id": 2995907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5c13110c63a9c7fd100f0eac2b303b4?s=128&d=identicon&r=PG&f=1", "display_name": "dingalapadum", "link": "https://stackoverflow.com/users/2995907/dingalapadum"}, "edited": false, "score": 0, "creation_date": 1446066875, "post_id": 33401603, "comment_id": 54594684, "body": "I don&#39;t think it is a problem, but is there any particular reason why you are using a string for the first name and a char array for the second?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446066891, "post_id": 33401603, "comment_id": 54594691, "body": "@ArtemSolovev Sure that&#39;s informative, your question is train wrecked though."}, {"owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "reply_to_user": {"reputation": 1892, "user_id": 2995907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5c13110c63a9c7fd100f0eac2b303b4?s=128&d=identicon&r=PG&f=1", "display_name": "dingalapadum", "link": "https://stackoverflow.com/users/2995907/dingalapadum"}, "edited": false, "score": 0, "creation_date": 1446067004, "post_id": 33401603, "comment_id": 54594744, "body": "@dingalapadum I&#39;m doing based on the conditions of the problem in the book."}, {"owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446067465, "post_id": 33401603, "comment_id": 54594949, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 You&#39;re in programming with about 30 years of experience years old but I study programming for about a month. Pimp my communication skills."}, {"owner": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "edited": false, "score": 0, "creation_date": 1446067587, "post_id": 33401603, "comment_id": 54595007, "body": "@ArtemSolovev Hmm... Could we stay zen and friendly here? Replace <code>strcat</code> with <code>strcpy</code> and you&#39;re ok."}, {"owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "reply_to_user": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "edited": false, "score": 0, "creation_date": 1446067699, "post_id": 33401603, "comment_id": 54595065, "body": "@Daniel Strul I made a stupid mistake. Thank you for your time and help)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446068208, "post_id": 33401603, "comment_id": 54595308, "body": "@ArtemSolovev <i>&quot;Pimp my communication skills.&quot;</i> Pimp them yourself, I probably can&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "edited": false, "score": 0, "creation_date": 1446067602, "post_id": 33401819, "comment_id": 54595015, "body": "I mixed up the function names. Stupid mistake. Thank you for help"}], "tags": [], "owner": {"reputation": 106, "user_id": 4611837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd982fb4c8ee9d6c8386add4a3d5340?s=128&d=identicon&r=PG&f=1", "display_name": "kamerunka", "link": "https://stackoverflow.com/users/4611837/kamerunka"}, "is_accepted": true, "score": 2, "last_activity_date": 1446067297, "creation_date": 1446067297, "answer_id": 33401819, "question_id": 33401603, "link": "https://stackoverflow.com/questions/33401603/strange-characters-when-displaying-the-char-array-c/33401819#33401819", "title": "Strange characters when displaying the char array C++", "body": "<p>in the second constructor m_cFname[0] is not initialized with 0\nuse strcpy instead of strcat</p>\n\n<p>and you will have problem with longer first names </p>\n"}], "owner": {"reputation": 6535, "user_id": 5124009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e1cfe3e97b35a3200bc0ecb9567291?s=128&d=identicon&r=PG", "display_name": "Artem Vadimovich Solovev", "link": "https://stackoverflow.com/users/5124009/artem-vadimovich-solovev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 1, "accepted_answer_id": 33401819, "answer_count": 1, "score": -1, "last_activity_date": 1544329505, "creation_date": 1446066436, "last_edit_date": 1544329505, "question_id": 33401603, "link": "https://stackoverflow.com/questions/33401603/strange-characters-when-displaying-the-char-array-c", "title": "Strange characters when displaying the char array C++", "body": "<p>I can't correctly display information. In the text displayed extra characters. Most likely a problem with the zero character but I was not able to eliminate.</p>\n\n<p><strong>First file: person.h</strong> Here I describe a simple class.</p>\n\n<pre><code>#ifndef PERSON_H_INCLUDED\n#define PERSON_H_INCLUDED\n\n#include &lt;string&gt;\n\nusing std::string;\n\nclass Person\n{\nprivate:\n    static const int m_iLIMIT = 25;\n    string m_sLname;         // lastname\n    char m_cFname[m_iLIMIT];    // firstname\npublic:\n    Person () { m_sLname = \"\"; m_cFname[0] = '\\0'; }  // #1\n    Person(const string &amp; sLn, const char * pcFn = \"Adam\"); // #2\n\n    // show lastname \u0438 firstname\n    void Show() const;          // format: firstname lastname\n    void FormalShow() const;    // format: lastname, firstname\n};\n\n#endif // PERSON_H_INCLUDED\n</code></pre>\n\n<p><strong>Second file: p_functions.cpp</strong> Here I define class methods</p>\n\n<pre><code>#include \"person.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstring&gt;\n\nusing std::string;\nusing std::cout;\nusing std::cin;\nusing std::endl;\n\n// #2\nPerson::Person(const string &amp; sLn, const char * cFn)\n{\n    m_sLname = sLn;\n    strcat(m_cFname, cFn);\n}\n\nvoid Person::Show() const\n{\n    cout &lt;&lt; \"First format: \" &lt;&lt; m_cFname &lt;&lt; \", \" &lt;&lt; m_sLname &lt;&lt; endl;\n}\n\nvoid Person::FormalShow() const\n{\n    cout &lt;&lt; \"Second format: \" &lt;&lt; m_sLname &lt;&lt; \", \" &lt;&lt; m_cFname &lt;&lt; endl;\n}\n</code></pre>\n\n<p><strong>Third file: main.cpp</strong> Here I am testing methods</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"person.h\"\n\nusing namespace std;\n\nint main()\n{\n    Person one;\n\n    Person two(\"Smith\");\n\n    Person three(\"immanuel\", \"Kant\");\n\n    one.Show();\n    one.FormalShow();\n\n    two.Show();\n    two.FormalShow();\n\n    three.Show();\n    three.FormalShow();\n\n\n    return 0;\n}\n</code></pre>\n\n<p>This is the <a href=\"http://i.stack.imgur.com/YaHnl.png\" rel=\"nofollow\">result</a> I get</p>\n"}, {"tags": ["c++", "makefile", "shared-libraries"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1446066350, "post_id": 33401518, "comment_id": 54594438, "body": "The straight forward way is just relying on installation and add a <code>-l&lt;libname&gt;</code> option to your linker command line. Checks can be done beforehand though."}, {"owner": {"reputation": 57, "user_id": 2967775, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7cKGo.jpg?s=128&g=1", "display_name": "Pugna", "link": "https://stackoverflow.com/users/2967775/pugna"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446066850, "post_id": 33401518, "comment_id": 54594669, "body": "I still need to copy all 3rd party header files in my <code>include</code> folders, right?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446067145, "post_id": 33401518, "comment_id": 54594801, "body": "No you don&#39;t need to copy anything. If these are installed correctly, they&#39; ll appear in <code>&#47;usr&#47;include</code> or so. Otherwise use the <code>-L</code> <code>-I</code> options to specify paths where these files should be found."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1446073300, "post_id": 33401518, "comment_id": 54597605, "body": "You could look into the <a href=\"https://www.gnu.org/software/autoconf/autoconf.html\" rel=\"nofollow noreferrer\"><code>autoconf</code></a> ecosystem so that people run a configure script which analyzes where software is installed and ensures that the <code>makefile</code> is told where to find the headers and libraries.  If the software should be, and normally is, installed in <code>&#47;usr&#47;lib</code> and /<code>usr&#47;include</code>, you might get away without, but if some people install in <code>&#47;usr&#47;local</code> and others in <code>&#47;opt&#47;package</code> and so on, then you may be better off with such a configuration system."}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 0, "creation_date": 1446125428, "post_id": 33401518, "comment_id": 54620785, "body": "additional to autoconf, cmake is also popular for checking dependencies"}], "answers": [{"tags": [], "owner": {"reputation": 2719, "user_id": 4626775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aILbe.jpg?s=128&g=1", "display_name": "Bernardo Ramos", "link": "https://stackoverflow.com/users/4626775/bernardo-ramos"}, "is_accepted": false, "score": 0, "last_activity_date": 1610769015, "creation_date": 1610769015, "answer_id": 65746323, "question_id": 33401518, "link": "https://stackoverflow.com/questions/33401518/how-to-check-if-the-user-has-the-library-in-makefile/65746323#65746323", "title": "How to check if the user has the library in makefile", "body": "<p>Example makefile:</p>\n<pre><code>ifeq &quot;$(shell echo '\\#include &lt;readline/readline.h&gt;\\nint main(){return 0;}' | $(CC) -x c -Wall -O -o /dev/null &gt; /dev/null 2&gt; /dev/null - &amp;&amp; echo $$? )&quot; &quot;0&quot;\n  HAS_FILE = yes\nelse\n  HAS_FILE = no\nendif\n\nall:\n  echo has_file=$(HAS_FILE)\n</code></pre>\n<p>I will not say that this is a recommended method, I just use it for simple checks. Autoconf may be a better option.</p>\n"}], "owner": {"reputation": 57, "user_id": 2967775, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7cKGo.jpg?s=128&g=1", "display_name": "Pugna", "link": "https://stackoverflow.com/users/2967775/pugna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 897, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1610769015, "creation_date": 1446066035, "question_id": 33401518, "link": "https://stackoverflow.com/questions/33401518/how-to-check-if-the-user-has-the-library-in-makefile", "title": "How to check if the user has the library in makefile", "body": "<p>For example, if I developed a c++ project and put it on GitHub as a open source project. In my project I used <em>log4cpp</em> as a 3rd-party library to do log stuff. Interested users would download my project and run \"make\" and suddenly found their machines just don't recognize log4cpp.</p>\n\n<p>I need you guys to verify my original thoughts:</p>\n\n<p>Unlike Java which you may simply include the 3rd-party jar file in your package, I know that C++ is kind of different: you have to let the client compile the library by themselves. It is obvious that, if I do not have the source code from the 3rd-party, I simply cannot <em>help</em> the client to install the libraries. Instead, I need to check if the user has already installed those required library and if not, just warn them not proceed.</p>\n\n<p>If these statements were true, what tools should I consider to use to check? Also, an add-on question: if I want to produce a non-open source product, what should I do? (Since the client need my source code to compile.) If not(Especially the <em>compile by themselves</em> part), please give me your explanation. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1446064428, "post_id": 33401050, "comment_id": 54593391, "body": "Most likely, you are trying to link your application using ld. Use compiler to link."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1446064564, "post_id": 33401050, "comment_id": 54593464, "body": "There&#39;s no <code>stdlib.h</code> or <code>time.h</code> (etc.) in standard C++. Consider using <code>cstdlib</code>, <code>ctime</code>, etc. instead."}, {"owner": {"reputation": 17, "user_id": 3362594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b19f93e0dbe91a092f66d3c90de2fa71?s=128&d=identicon&r=PG&f=1", "display_name": "bri", "link": "https://stackoverflow.com/users/3362594/bri"}, "edited": false, "score": 0, "creation_date": 1446066385, "post_id": 33401050, "comment_id": 54594459, "body": "its not really a duplicate, i&#39;m asking if my code is alright."}], "owner": {"reputation": 17, "user_id": 3362594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b19f93e0dbe91a092f66d3c90de2fa71?s=128&d=identicon&r=PG&f=1", "display_name": "bri", "link": "https://stackoverflow.com/users/3362594/bri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "closed_date": 1446064538, "answer_count": 0, "score": 0, "last_activity_date": 1446064292, "creation_date": 1446064292, "question_id": 33401050, "link": "https://stackoverflow.com/questions/33401050/can-anyone-explain-my-error-from-code-blocks-c", "closed_reason": "Duplicate", "title": "Can anyone explain my error from code blocks C++", "body": "<p>I'm trying to create a classes in separate files using codeblocks. I get the error in function '_start' undefined reference to 'main'. I'm sure its a linkage problem but can't see where. In my program I\u2019m trying to get a die, let the user decide how many sides the dice has, then roll the die a user specified amount of times.</p>\n\n<pre><code>die.h  file///////////////////////////////////\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#ifndef DIE_H\n#define DIE_H\n\nusing namespace std;\n\nclass die{\n\npublic:\n\n    die();//function prototype\n\n    int numsides;//member\n    void setNumsides(int numsides_);//setter \n    int getNumsides();// getter for size of dice\n\n    int value;\n    void setValue(int value_, int numsides_);\n    int getValue();\n\n    int roll;\n    void setroll(int roll_);\n    int getroll();\n\n};\n#endif// DIE_H\n\n\ndie.cpp//////////////////////////////////////////\n\n#include \"die.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;stdlib.h&gt;     /* srand, rand */\n#include &lt;time.h&gt;       /* time */\n\n\n\nusing namespace std;\n\n\ndie::die()\n{\n    //ctor\n}\nvoid die::setroll(int roll_)\n    {\n        roll=roll_;\n    }\n\nint die::getroll()//amount o rolls\n    {\n        cout &lt;&lt; \"enter the ammont of rolls you would like\" &lt;&lt; endl;\n        cin &gt;&gt; roll;//amount of rolls you want\n        return roll;\n\n    }\n\nvoid die::setValue(int value_, int numsides_)\n    {\n        value=value_;\n        numsides=numsides_;\n    }\n\nint die::getValue()//get value function\n    {\n        //int roll;\n        value = (rand() % numsides) + 1;//sets roll value\n        return value;\n    }\n\nvoid die::setNumsides(int numsides_)\n    {\n        numsides=numsides_;\n    }\n\nint die::getNumsides()//get num of sides\n    {\n        cout &lt;&lt; \"how big of a dice would you like to roll \" &lt;&lt; endl;\n        cin &gt;&gt; numsides;//use this to determine dice\n\n        if(numsides &lt; 4){//if dice is less than 4\n            cout &lt;&lt; \"Error has to be bigger than \" &lt;&lt; numsides &lt;&lt; endl;\n            numsides = 6;//change to six sided dice\n        }\n        return numsides;\n    }\n\n\nexercise1.cpp my main class/////////////////////////////////////\n\n\n#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;     /* srand, rand */\n#include &lt;time.h&gt;\n#include \"die.h\"\n\nusing namespace std;\n\nint main()\n{\n    die mydice;//create an object dice\n\n    mydice.getNumsides();//gets sides of dice\n\n    mydice.getValue();//gets amount of rolls\n\n    mydice.getroll();//rolls the dice value times\n\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1446064032, "post_id": 33400942, "comment_id": 54593178, "body": "variable size array is not standard C++, I recommend using <code>std::vector</code> instead"}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1446064187, "post_id": 33400942, "comment_id": 54593256, "body": "Are you sure you want to increment I only if it&#39;s prime?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1446064232, "post_id": 33400942, "comment_id": 54593283, "body": "2 and 1? I get at most 2 and 3 \u2013 three primes or more give an endless loop."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 1, "creation_date": 1446064623, "post_id": 33400942, "comment_id": 54593491, "body": "Variable sized arrays whose size comes form user input - as well as being unstandard - are also dangerous because your user could cause the stack to overflow."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1446065200, "post_id": 33401009, "comment_id": 54593803, "body": "Variable length arrays are non-standard. As such they only work on some compilers. This won&#39;t compile under Visual Studio, for example (unless that&#39;s changed  recently) but will with g++. In other words, use with caution and don&#39;t count on portability."}, {"owner": {"reputation": 3062, "user_id": 5115872, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8lyXg.jpg?s=128&g=1", "display_name": "wrangler", "link": "https://stackoverflow.com/users/5115872/wrangler"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1446065676, "post_id": 33401009, "comment_id": 54594074, "body": "@user4581301 since  user dosent mentioned any compiler error i answered based on that and agree with you in that case <code>vector&lt;int&gt;</code> is better..."}], "tags": [], "owner": {"reputation": 3062, "user_id": 5115872, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8lyXg.jpg?s=128&g=1", "display_name": "wrangler", "link": "https://stackoverflow.com/users/5115872/wrangler"}, "is_accepted": true, "score": 3, "last_activity_date": 1446064948, "last_edit_date": 1446064948, "creation_date": 1446064121, "answer_id": 33401009, "question_id": 33400942, "link": "https://stackoverflow.com/questions/33400942/c-array-with-variable-length-wouldnt-work/33401009#33401009", "title": "C++ array with variable length wouldn&#39;t work", "body": "<p><code>I</code> will increment only when prime condition is true, increment it outside if clause:</p>\n\n<pre><code>while (true) {\n    if (C == Q) {break;}\n    if (isPrime(I)) {\n        primes[C] = I;\n        C++;\n    }\n    I++;  //here\n}\n</code></pre>\n\n<blockquote>\n  <p>C++ array with variable length wouldn't work</p>\n</blockquote>\n\n<p>It works until <code>c</code> variable dosn't crosses integer range or array size the stack frame.</p>\n"}, {"comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 1, "creation_date": 1446065118, "post_id": 33401276, "comment_id": 54593751, "body": "He could also use <code>std::vector&lt;int&gt; primes(Q);</code> and indeed probably should."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1446065327, "post_id": 33401276, "comment_id": 54593875, "body": "If recommending <code>new</code>, you should also explicitly mention the need to <code>delete</code> when finished and to guard against the unexpected."}, {"owner": {"reputation": 314, "user_id": 5284472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba43c0976d95d8daddd5509993e937f?s=128&d=identicon&r=PG&f=1", "display_name": "erfan zangeneh", "link": "https://stackoverflow.com/users/5284472/erfan-zangeneh"}, "edited": false, "score": 0, "creation_date": 1446066317, "post_id": 33401276, "comment_id": 54594426, "body": "Yes , before return 0; he must add delete[] primes;"}], "tags": [], "owner": {"reputation": 314, "user_id": 5284472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba43c0976d95d8daddd5509993e937f?s=128&d=identicon&r=PG&f=1", "display_name": "erfan zangeneh", "link": "https://stackoverflow.com/users/5284472/erfan-zangeneh"}, "is_accepted": false, "score": 0, "last_activity_date": 1446065061, "creation_date": 1446065061, "answer_id": 33401276, "question_id": 33400942, "link": "https://stackoverflow.com/questions/33400942/c-array-with-variable-length-wouldnt-work/33401276#33401276", "title": "C++ array with variable length wouldn&#39;t work", "body": "<p>Your code in below line has compiler error </p>\n\n<pre><code>int primes [Q];\n</code></pre>\n\n<p>you must change this with below line</p>\n\n<pre><code>int *primes = new int[Q];\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5386441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a444147d246a15c2166ddb8b1c53b6?s=128&d=identicon&r=PG&f=1", "display_name": "T. Wil", "link": "https://stackoverflow.com/users/5386441/t-wil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 33401009, "answer_count": 2, "score": 0, "last_activity_date": 1446065061, "creation_date": 1446063820, "last_edit_date": 1446064192, "question_id": 33400942, "link": "https://stackoverflow.com/questions/33400942/c-array-with-variable-length-wouldnt-work", "title": "C++ array with variable length wouldn&#39;t work", "body": "<pre><code>/*Print the first N prime numbers based on user input*/\n\n#include&lt;iostream&gt;\n#include&lt;cmath&gt;\nusing namespace std;\n\nbool isPrime(int N) {\n   if (N &lt;= 0) {return false;}\n   double L = sqrt(N);\n   for (int i=2; i&lt;=L; i++) {\n      if (N%i == 0) {return false;}\n   }\n   return true;\n}\n\nint main()\n{\n   int Q = 0;  //# of prime numbers to be found\n   int C = 0;  //That's the counter\n   int I = 2;  //Number to be check\n   cout&lt;&lt;\"Number of prime numbers needed: \";\n   cin&gt;&gt;Q;\n\n   int primes [Q];\n\n   while (true) {\n      if (C == Q) {break;}\n      if (isPrime(I)) {\n         primes[C] = I;\n         C++;\n         I++;\n      }\n   }\n\n   for (int i=0; i&lt;Q; i++) {\n      cout&lt;&lt;primes[i]&lt;&lt;endl;\n   }\n\n   return 0;\n}\n</code></pre>\n\n<p>This does not work and always print 2 and 1 to the screen instead of a list of prime numbers, the isPrime function does work well, probably something wrong with my array</p>\n"}, {"tags": ["c++", "compiler-errors", "iterator", "quicksort"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1446063932, "post_id": 33400925, "comment_id": 54593121, "body": "You need <code>typename Container::iterator</code>. See <a href=\"http://stackoverflow.com/q/610245/241631\">stackoverflow.com/q/610245/241631</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3753669, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003088250071/picture?type=large", "display_name": "user3753669", "link": "https://stackoverflow.com/users/3753669/user3753669"}, "edited": false, "score": 0, "creation_date": 1446065703, "post_id": 33400963, "comment_id": 54594088, "body": "Passing the container by reference was a brain fart.                              . If all that is required it a typename identifier, then:                                  . 1) Why not simply write this?                                                                   . template&lt;class ContainerItr&gt;                                                                  . void myQuickSort(ContainerItr begin, ContainerItr end)"}, {"owner": {"reputation": 31, "user_id": 3753669, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003088250071/picture?type=large", "display_name": "user3753669", "link": "https://stackoverflow.com/users/3753669/user3753669"}, "edited": false, "score": 0, "creation_date": 1446065731, "post_id": 33400963, "comment_id": 54594106, "body": "2) Is there a benefit to using typename &quot;Container::iterator&quot; instead? . template&lt;class Container&gt; void myQuickSort(typename Container::iterator begin, typename Container::iterator end)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 31, "user_id": 3753669, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003088250071/picture?type=large", "display_name": "user3753669", "link": "https://stackoverflow.com/users/3753669/user3753669"}, "edited": false, "score": 0, "creation_date": 1446067261, "post_id": 33400963, "comment_id": 54594856, "body": "No benefit whatsoever :) Look into prototype of <code>std::sort</code>."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1446063935, "creation_date": 1446063935, "answer_id": 33400963, "question_id": 33400925, "link": "https://stackoverflow.com/questions/33400925/c-templated-quicksort-not-working-with-iterators-error-c2061/33400963#33400963", "title": "C++ templated quickSort not working with iterators, error C2061", "body": "<p>Very known issue. It is a duplicate, but it is easier for me to type the answer than to look for the duplicate question. Replace </p>\n\n<pre><code>void myQuickSort(Container&amp; c, Container::iterator begin, Container::iterator end)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>void myQuickSort(Container&amp; c, typename Container::iterator begin, typename Container::iterator end)\n</code></pre>\n\n<p>On a side note, design of your quick sort function is incorrect. If you are expressing your function in term of iterators, do not request the container to be passed to function as well.</p>\n"}], "owner": {"reputation": 31, "user_id": 3753669, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003088250071/picture?type=large", "display_name": "user3753669", "link": "https://stackoverflow.com/users/3753669/user3753669"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "closed_date": 1446063949, "answer_count": 1, "score": 0, "last_activity_date": 1446063935, "creation_date": 1446063756, "question_id": 33400925, "link": "https://stackoverflow.com/questions/33400925/c-templated-quicksort-not-working-with-iterators-error-c2061", "closed_reason": "Duplicate", "title": "C++ templated quickSort not working with iterators, error C2061", "body": "<p>I was writing a templated version of the quicksort algorithm for various Containers utilizing iterators, but the following errors made themselves known when I attempted to construct an Object::iterator.</p>\n\n<ul>\n<li><p>error C2061 : syntax error : identifier 'iterator'</p></li>\n<li><p>error C2780: 'void myQuickSort(Container &amp;)' : expects 1 arguments - 3\n(I believe this error is a result of error C2061)</p></li>\n</ul>\n\n<p>How can I create an iterator to my templated class Container without the compiler giving me these errors.</p>\n\n<p>My code is written below:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;vector&gt;\n#include&lt;stack&gt;\n#include&lt;list&gt;\n#include&lt;algorithm&gt;\n\ntemplate&lt;class Itr2Printable&gt;\nvoid printVec(Itr2Printable begin, Itr2Printable end)\n{\n    // couts containing  Objecorder\n    std::cout &lt;&lt; \"[ \";\n\n    for (begin; begin != end; ++begin)\n        std::cout &lt;&lt; *begin &lt;&lt; \" \";\n\n\n    std::cout &lt;&lt; \"]\";\n}\n\ntemplate&lt;class Container&gt;\nvoid myQuickSort(Container&amp; c, Container::iterator begin, Container::iterator end)\n{\n    Container::iterator mid = begin + distance(begin, end) / 2;\n\n    // inclomplete\n}\n\n\nint main()\n{\n    std::vector&lt;int&gt; vec{ 15, 75, 50, 0, 100, 5 };\n\n    std::cout &lt;&lt; \"\\n\\n\\tquickSort(\";\n    printVec(vec.begin(), vec.end());\n    std::cout &lt;&lt; \", \" &lt;&lt; 0 &lt;&lt; \", \" &lt;&lt; vec.size() - 1 &lt;&lt; \")\\n\";\n\n    myQuickSort(vec, vec.begin(), vec.end());\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "opencv3.0"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446064029, "post_id": 33400823, "comment_id": 54593177, "body": "<code>cv::vector</code> it&#39;s not an OpenCV type. I&#39;m pretty sure that you just used <code>std::vector</code> seen through <code>cv</code> namespace"}, {"owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446064389, "post_id": 33400823, "comment_id": 54593369, "body": "@Miki what do you mean there was a type named cv::vector..."}], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 907166, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vvTQN.jpg?s=128&g=1", "display_name": "TripleS", "link": "https://stackoverflow.com/users/907166/triples"}, "edited": false, "score": 0, "creation_date": 1452071728, "post_id": 33401313, "comment_id": 57004036, "body": "have they exclude the usage of cv::vector, what used to compile in previous versions"}, {"owner": {"reputation": 400, "user_id": 6546263, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4de348d1bba7f5066b54eacb8efcff91?s=128&d=identicon&r=PG&f=1", "display_name": "sqp_125", "link": "https://stackoverflow.com/users/6546263/sqp-125"}, "edited": false, "score": 0, "creation_date": 1507098462, "post_id": 33401313, "comment_id": 80070415, "body": "Still getting: \u2018Vec3f\u2019 was not declared in this scope"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 400, "user_id": 6546263, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4de348d1bba7f5066b54eacb8efcff91?s=128&d=identicon&r=PG&f=1", "display_name": "sqp_125", "link": "https://stackoverflow.com/users/6546263/sqp-125"}, "edited": false, "score": 0, "creation_date": 1507098579, "post_id": 33401313, "comment_id": 80070468, "body": "@sqp Vec3f is a different thing from a vector. Have you tried with cv::Vec3f?"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 19, "last_activity_date": 1446065188, "creation_date": 1446065188, "answer_id": 33401313, "question_id": 33400823, "link": "https://stackoverflow.com/questions/33400823/opencv-3-0-0-cvvector-missing/33401313#33401313", "title": "openCV 3.0.0 cv::vector missing", "body": "<p>In OpenCV prior to 3.0, you can see at the beginning of <code>core.hpp</code> that OpenCV is using <code>std::vector</code> internally:</p>\n\n<pre><code>#ifndef __OPENCV_CORE_HPP__\n#define __OPENCV_CORE_HPP__\n\n...\n#include &lt;vector&gt;\n...\n\n/*! \\namespace cv\n    Namespace where all the C++ OpenCV functionality resides\n*/\nnamespace cv {\n...\nusing std::vector;\n...\n</code></pre>\n\n<p>So you can access <code>std::vector</code> also through <code>cv</code> namespace like:</p>\n\n<pre><code>cv::vector\n</code></pre>\n\n<p>In fact, internally OpenCV refers to <code>std::vector</code> just as <code>vector</code>. </p>\n\n<p>In OpenCV 3.0 instead the <code>#using std::vector</code> is not present, and internally OpenCV refers always to <code>std::vector</code>.</p>\n\n<p>You'll be able to use <code>cv::vector</code> adding this into your code:</p>\n\n<pre><code>namespace cv\n{\n    using std::vector;\n}\n</code></pre>\n"}], "owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10227, "favorite_count": 0, "accepted_answer_id": 33401313, "answer_count": 1, "score": 6, "last_activity_date": 1446067739, "creation_date": 1446063445, "last_edit_date": 1446067739, "question_id": 33400823, "link": "https://stackoverflow.com/questions/33400823/opencv-3-0-0-cvvector-missing", "title": "openCV 3.0.0 cv::vector missing", "body": "<p>I'm upgrading from <code>opencv 2.4.11</code> to <code>3.0.0</code> I have used <code>cv::vector</code> in my code \n<code>&lt;br&gt;</code> but now I get the error\nvector in not a member of <em>'cv'</em></p>\n\n<p>I will start using <code>std::vector</code> instead <code>&lt;br&gt;</code>\nhowever I can't find anywhere was it removed or just moved to another header file?</p>\n"}, {"tags": ["c++", "xml", "tinyxml2"], "comments": [{"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 1, "creation_date": 1446063648, "post_id": 33400816, "comment_id": 54592994, "body": "What error code is returned?"}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 1, "creation_date": 1446063759, "post_id": 33400816, "comment_id": 54593040, "body": "Well, age isn&#39;t an attribute, is it?  I believe an attribute would be within the &lt;&gt; and have <code>attribute=&quot;whatnot&quot;</code>."}, {"owner": {"reputation": 431, "user_id": 2915066, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PUQdR.jpg?s=128&g=1", "display_name": "Hipolith", "link": "https://stackoverflow.com/users/2915066/hipolith"}, "edited": false, "score": 0, "creation_date": 1446064085, "post_id": 33400816, "comment_id": 54593202, "body": "From what I can see, the QueryIntAttribute doesn&#39;t return the falsely value - shouldn&#39;t you rather be checking for the XML_NO_ERROR flag? It might be helpful if you have checked the returned value and added to your question - it may tell us what is wrong"}], "answers": [{"tags": [], "owner": {"reputation": 754, "user_id": 5498059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c2154859d4685421b3555c83173973d?s=128&d=identicon&r=PG&f=1", "display_name": "JNK", "link": "https://stackoverflow.com/users/5498059/jnk"}, "is_accepted": false, "score": 1, "last_activity_date": 1446063856, "creation_date": 1446063856, "answer_id": 33400950, "question_id": 33400816, "link": "https://stackoverflow.com/questions/33400816/get-integers-and-floats-from-xml/33400950#33400950", "title": "Get integers and floats from xml", "body": "<p>In your if statement you should test for failure like this:</p>\n\n<pre><code>if (titleElement-&gt;QueryIntAttribute(\"age\", &amp;f) != TIXML_SUCCESS )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 2915066, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PUQdR.jpg?s=128&g=1", "display_name": "Hipolith", "link": "https://stackoverflow.com/users/2915066/hipolith"}, "is_accepted": true, "score": 2, "last_activity_date": 1446064539, "creation_date": 1446064539, "answer_id": 33401129, "question_id": 33400816, "link": "https://stackoverflow.com/questions/33400816/get-integers-and-floats-from-xml/33401129#33401129", "title": "Get integers and floats from xml", "body": "<p>I believe, that the correct method to use is <code>QueryIntText</code> not <code>QueryIntAttribute</code> - you are trying to get the value of an XML node, not attribute. </p>\n\n<p>Consult the documentation for further details and usage:<a href=\"http://www.grinninglizard.com/tinyxml2docs/classtinyxml2_1_1_x_m_l_element.html#a8b92c729346aa8ea9acd59ed3e9f2378\" rel=\"nofollow\">http://www.grinninglizard.com/tinyxml2docs/classtinyxml2_1_1_x_m_l_element.html#a8b92c729346aa8ea9acd59ed3e9f2378</a></p>\n"}, {"tags": [], "owner": {"reputation": 1368, "user_id": 3878405, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd7fbf1b3f55fad1bb62300c97593fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Poriferous", "link": "https://stackoverflow.com/users/3878405/poriferous"}, "is_accepted": false, "score": 0, "last_activity_date": 1446066654, "creation_date": 1446066654, "answer_id": 33401652, "question_id": 33400816, "link": "https://stackoverflow.com/questions/33400816/get-integers-and-floats-from-xml/33401652#33401652", "title": "Get integers and floats from xml", "body": "<p>This is what I did to resolve my issue:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;tinyxml2.h&gt;\nusing namespace std;\nusing namespace tinyxml2;\n\nint main()\n{\n    XMLDocument doc;\n    doc.LoadFile(\"sample.xml\");\n\n    auto age = doc.FirstChildElement(\"specimen\")\n                 -&gt;FirstChildElement(\"age\");\n\n    int x = 0;\n\n    age-&gt;QueryIntText(&amp;x);\n\n    cout &lt;&lt; x &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Suffice it to say I got my xml terminology wrong so I confused attributes with text. At any rate, that's how I got the integer value from the xml doc. </p>\n"}], "owner": {"reputation": 1368, "user_id": 3878405, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd7fbf1b3f55fad1bb62300c97593fe5?s=128&d=identicon&r=PG&f=1", "display_name": "Poriferous", "link": "https://stackoverflow.com/users/3878405/poriferous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 0, "accepted_answer_id": 33401129, "answer_count": 3, "score": 2, "last_activity_date": 1446066654, "creation_date": 1446063409, "question_id": 33400816, "link": "https://stackoverflow.com/questions/33400816/get-integers-and-floats-from-xml", "title": "Get integers and floats from xml", "body": "<p>I'm using tinyxml2 and I know how to get strings of attributes, but I want to also get integers, floats and booleans too. So, I have this code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;tinyxml2.h&gt;\nusing namespace std;\nusing namespace tinyxml2;\n\nint main()\n{\n    XMLDocument doc;\n    doc.LoadFile(\"sample.xml\");\n\n    XMLElement *titleElement = doc.FirstChildElement(\"specimen\");\n\n    int f = -1;\n    if (!titleElement-&gt;QueryIntAttribute(\"age\", &amp;f))\n        cerr &lt;&lt; \"Unable to get value!\" &lt;&lt; endl;\n\n    cout &lt;&lt; f &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>And sample.xml being:</p>\n\n<pre><code>&lt;?xml version=1.0?&gt;\n\n&lt;specimen&gt;\n    &lt;animal&gt;\n        Dog\n    &lt;/animal&gt;\n    &lt;age&gt;\n        12\n    &lt;/age&gt;\n&lt;/specimen&gt;\n</code></pre>\n\n<p>Don't worry, the xml file is just a fake sample, nothing real!</p>\n\n<p>Anyway, I am still not able to get the integer value that's within the attribute 'age'. If this doesn't work, then how should I use tinyxml2 to get ints and floats from an xml document?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 5, "creation_date": 1446063526, "post_id": 33400777, "comment_id": 54592936, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}, {"owner": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "edited": false, "score": 7, "creation_date": 1446063994, "post_id": 33400777, "comment_id": 54593160, "body": "When you created your project, did you select &quot;new Win32 application&quot; or &quot;new Console Application&quot;? My guess would be you have pasted a Win32 code into a Console project.."}, {"owner": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "edited": false, "score": 13, "creation_date": 1462245959, "post_id": 33400777, "comment_id": 61543984, "body": "Check project configuration. <b>Linker</b> -&gt; <b>System</b> -&gt; <b>SubSystem</b> should be <b>Windows</b>"}, {"owner": {"reputation": 772, "user_id": 5361222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1afbd03ecd047100e1da941d250b14?s=128&d=identicon&r=PG&f=1", "display_name": "Chuanhang.gu", "link": "https://stackoverflow.com/users/5361222/chuanhang-gu"}, "edited": false, "score": 1, "creation_date": 1481015541, "post_id": 33400777, "comment_id": 69193258, "body": "I am new to stackoverflow,have no right to comment you problem directly.So I say there. I try many method with no result,<b><i>restart computer problem dismiss!</i></b> hope it can help you."}, {"owner": {"reputation": 6219, "user_id": 2302611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/bzCmq.jpg?s=128&g=1", "display_name": "Ranveer", "link": "https://stackoverflow.com/users/2302611/ranveer"}, "reply_to_user": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "edited": false, "score": 1, "creation_date": 1504679749, "post_id": 33400777, "comment_id": 79097033, "body": "@MichaelNastenko your comment fixed it for me. Please make it an answer."}], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 8177594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32e63365773322585c847ebefe2a11c?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell Bland", "link": "https://stackoverflow.com/users/8177594/mitchell-bland"}, "edited": false, "score": 0, "creation_date": 1568663416, "post_id": 36885710, "comment_id": 102338155, "body": "an above answer says to set the subsystem to windows, you can do that instead of making a new project (as console applications have console as the subsystem)"}], "tags": [], "owner": {"reputation": 187, "user_id": 4869482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nAzljzPd7zs/AAAAAAAAAAI/AAAAAAAAX-Q/4EI9xBiT3xE/photo.jpg?sz=128", "display_name": "\u4ef2\u8000\u6656", "link": "https://stackoverflow.com/users/4869482/%e4%bb%b2%e8%80%80%e6%99%96"}, "is_accepted": false, "score": 8, "last_activity_date": 1461749328, "creation_date": 1461749328, "answer_id": 36885710, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/36885710#36885710", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>I faced the same problem too and I found out that I selected \"new Win32 application\" instead of \"new Win32 console application\". Problem solved when I switched. Hope this can help you.</p>\n"}, {"tags": [], "owner": {"reputation": 2507, "user_id": 4480139, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/324be61a829b02e128ac3073d9af0ded?s=128&d=identicon&r=PG&f=1", "display_name": "gogo_gorilla", "link": "https://stackoverflow.com/users/4480139/gogo-gorilla"}, "is_accepted": false, "score": 5, "last_activity_date": 1490101141, "creation_date": 1490101141, "answer_id": 42927881, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/42927881#42927881", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Similar to @\u4ef2\u8000\u6656 I had the wrong application type configured for a dll. I guess that the project type changed due to some bad copy pasting, as @Daniel Struhl suggested.</p>\n\n<p>How to verify:\nRight click on the project -> <code>properties</code> -> <code>Configuration Properties</code> -> <code>General</code> -> <code>Project Defaults</code> -> <code>Configuration Type</code>.</p>\n\n<p>Check if this field contains the correct type, e.g. \"Dynamic Library (.dll)\" in case the project is a dll.</p>\n"}, {"tags": [], "owner": {"reputation": 3079, "user_id": 1582296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rZgJP.png?s=128&g=1", "display_name": "Hans One", "link": "https://stackoverflow.com/users/1582296/hans-one"}, "is_accepted": false, "score": 39, "last_activity_date": 1493207738, "creation_date": 1493207738, "answer_id": 43633504, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/43633504#43633504", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>If you use CMake you have to set <strong>WIN32</strong> flag in <code>add_executable</code></p>\n\n<pre><code>add_executable(${name} WIN32 ${source_files})\n</code></pre>\n\n<p>See <a href=\"https://cmake.org/cmake/help/v3.8/command/add_executable.html\" rel=\"noreferrer\">CMake Doc</a> for more information.</p>\n"}, {"comments": [{"owner": {"reputation": 28594, "user_id": 2370483, "user_type": "moderator", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Y0oJ0.jpg?s=128&g=1", "display_name": "Machavity", "link": "https://stackoverflow.com/users/2370483/machavity"}, "edited": false, "score": 9, "creation_date": 1590284247, "post_id": 46085227, "comment_id": 109622753, "body": "Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/3.0/\" rel=\"nofollow noreferrer\">CC BY-SA 3.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}], "tags": [], "owner": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "is_accepted": false, "score": 95, "last_activity_date": 1590284220, "last_edit_date": 1590284220, "creation_date": 1504737104, "answer_id": 46085227, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/46085227#46085227", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Check project configuration. <strong>Linker</strong>-><strong>System</strong>-><strong>SubSystem</strong> should be <strong>Windows</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 9712130, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e443ede476a56ab994cb34e7e0cc1a02?s=128&d=identicon&r=PG", "display_name": "Jeff Gros", "link": "https://stackoverflow.com/users/9712130/jeff-gros"}, "is_accepted": false, "score": 8, "last_activity_date": 1524858114, "creation_date": 1524858114, "answer_id": 50069281, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/50069281#50069281", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Right click on project. Properties->Configuration Properties->General->Linker.</p>\n\n<p>I found two options needed to be set.\nUnder System: SubSystem = Windows (/SUBSYSTEM:WINDOWS)\nUnder Advanced: EntryPoint = main</p>\n"}, {"tags": [], "owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "is_accepted": false, "score": 7, "last_activity_date": 1525273124, "creation_date": 1525273124, "answer_id": 50137704, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/50137704#50137704", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>This is an edge case, but you can also get this error if you are building an MFC application with CMake.</p>\n\n<p>In that case, you need to add the following definitions:</p>\n\n<p><code>\nADD_DEFINITIONS(-D_AFXDLL)\nSET(CMAKE_MFC_FLAG 2) # or 1 if you are looking for the static library\n</code></p>\n\n<p>If you are compiling with unicode, the following properties also need to be added:</p>\n\n<p><code>\nset_target_properties(MyApp PROPERTIES\n    COMPILE_DEFINITIONS\n    _AFXDLL,_UNICODE,UNICODE,_BIND_TO_CURRENT_CRT_VERSION,_BIND_TO_CURRENT_MFC_VERSION\n    LINK_FLAGS \"/ENTRY:\\\"wWinMainCRTStartup\\\"\"\n)\n</code></p>\n\n<p>Soure: <a href=\"https://gitlab.kitware.com/cmake/community/wikis/FAQ#how-to-use-mfc-with-cmake\" rel=\"noreferrer\">FAQ: How to use MFC with CMake</a></p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 2970537, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZTpvm.jpg?s=128&g=1", "display_name": "Divan", "link": "https://stackoverflow.com/users/2970537/divan"}, "edited": false, "score": 0, "creation_date": 1614371299, "post_id": 50389913, "comment_id": 117375028, "body": "Coming from a C# background, I typed &quot;Main&quot; instead of &quot;main&quot;. Which the compiler clearly did not recognize."}], "tags": [], "owner": {"reputation": 1370, "user_id": 4136515, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/9MV4z.jpg?s=128&g=1", "display_name": "Anand j. Kadhi", "link": "https://stackoverflow.com/users/4136515/anand-j-kadhi"}, "is_accepted": false, "score": 21, "last_activity_date": 1552481838, "last_edit_date": 1552481838, "creation_date": 1526555162, "answer_id": 50389913, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/50389913#50389913", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>I had same Problem when i was trying to create executable from program that having no main() method. When i included sample main() method like this</p>\n\n<pre><code>int main(){\n  return 0;\n}\n</code></pre>\n\n<p>It solved</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 5341466, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x71OGuz3PDE/AAAAAAAAAAI/AAAAAAAAAAA/Vzs9arkfNIY/photo.jpg?sz=128", "display_name": "Prashant Singh", "link": "https://stackoverflow.com/users/5341466/prashant-singh"}, "is_accepted": false, "score": 4, "last_activity_date": 1546924362, "creation_date": 1546924362, "answer_id": 54085558, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/54085558#54085558", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Select the project. Properties->Configuration Properties->Linker->System.</p>\n\n<p>My problem solved by setting below option.\nUnder System: SubSystem = Console(/SUBSYSTEM:CONSOLE)</p>\n\n<p>Or you can choose the last option as \"inherite from the parent\".</p>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 7574729, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/78b2f33c24d753f3974b5cd76eebb32c?s=128&d=identicon&r=PG&f=1", "display_name": "Karim", "link": "https://stackoverflow.com/users/7574729/karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1556920353, "creation_date": 1556920353, "answer_id": 55977505, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/55977505#55977505", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Solution for me is: I clean both the solution and the project. And just rebuild the project.\nThis error happens because I tried to delete the main file (only keep library files) in the previous build so at the current build the old stuff is still kept in the built directory. That's why unresolved things happened.\n\"unresolved external symbol _main referenced in function \"int __cdecl invoke_main(void)\" (?invoke_main@@YAHXZ) \"</p>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 1034074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dee61c6eae0c505d1fd46c0b36485b?s=128&d=identicon&r=PG", "display_name": "wvd_vegt", "link": "https://stackoverflow.com/users/1034074/wvd-vegt"}, "is_accepted": false, "score": 0, "last_activity_date": 1571837408, "creation_date": 1571837408, "answer_id": 58524029, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/58524029#58524029", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>Old thread but for me it started working (after following all advise above) when i renamed int main(void) to int wmain(void) and removed WIN23 from cmake's add_executable().</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 10846468, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2z2SVtmfLug/AAAAAAAAAAI/AAAAAAAAALY/ftyhqg_6fPM/photo.jpg?sz=128", "display_name": "daniel ", "link": "https://stackoverflow.com/users/10846468/daniel"}, "is_accepted": false, "score": 5, "last_activity_date": 1573054067, "creation_date": 1573054067, "answer_id": 58733519, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/58733519#58733519", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>just add:</p>\n\n<pre><code>int main()\n{\n    //you can leave it empty\n    return 0;\n}\n</code></pre>\n\n<p>to your project and everything will work\nits causes  because of visual studio try to find the main function to start the project and didn't found it</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 12341203, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f93de7000747ab5efb5acd3034b2ebd7?s=128&d=identicon&r=PG", "display_name": "user12341203", "link": "https://stackoverflow.com/users/12341203/user12341203"}, "edited": false, "score": 0, "creation_date": 1575780806, "post_id": 59135670, "comment_id": 104677841, "body": "This project isn&#39;t using WinPcap (or Npcap), so that&#39;s probably not the answer in this particular case.  The problem in this case is probably that it&#39;s a Windows-subsystem program, given that it has a <code>WinMain()</code> main function, but is  being linked as if it&#39;s a console-subsystem program, which is expected to have a <code>main()</code> or <code>main()</code> main function."}], "tags": [], "owner": {"reputation": 1, "user_id": 11478963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9428c63220637a9a2965f030885b0fc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaishak", "link": "https://stackoverflow.com/users/11478963/vaishak"}, "is_accepted": false, "score": 0, "last_activity_date": 1575277928, "creation_date": 1575277928, "answer_id": 59135670, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/59135670#59135670", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>If it is a windows system, then it may be because you are using 32 bit winpcap library in a 64 bit pc or vie versa. If it is a 64 bit pc then copy the <a href=\"https://i.stack.imgur.com/cD6K5.png\" rel=\"nofollow noreferrer\">winpcap library and header</a> packet.lib and wpcap.lib from winpcap/lib/x64 to the winpcap/lib directory and overwrite the existing</p>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 11650766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cae45fe3ea77132c0d5e36e9046ca09?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Tung", "link": "https://stackoverflow.com/users/11650766/brian-tung"}, "is_accepted": false, "score": 1, "last_activity_date": 1575930613, "creation_date": 1575930613, "answer_id": 59257610, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/59257610#59257610", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>This worked for me:</p>\n\n<p>(I don't have enough rep to embed pictures yet -- sorry about this.)</p>\n\n<p>I went into Project --> Properties --> Linker --> System.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MGasg.jpg\" rel=\"nofollow noreferrer\">IMG: Located here, as of Dec 2019 Visual Studio for Windows</a></p>\n\n<p>My platform was set to Active(Win32) with the Subsystem as \"Windows\".\nI was making a console app, so I set it to \"Console\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/7z5JF.jpg\" rel=\"nofollow noreferrer\">IMG: Changing \"Windows\" --> \"Console\"</a></p>\n\n<p>Then, I switched my platform to \"x64\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/acN0r.jpg\" rel=\"nofollow noreferrer\">IMG: Switched my platform from Active(32) to x64</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13902550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc62ce78fe9d9714e16ac6fa5276475?s=128&d=identicon&r=PG", "display_name": "Rinus Verdult", "link": "https://stackoverflow.com/users/13902550/rinus-verdult"}, "is_accepted": false, "score": -1, "last_activity_date": 1595755680, "last_edit_date": 1595755680, "creation_date": 1594342035, "answer_id": 62825741, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/62825741#62825741", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>The problem might originate from a macro instruction in SDL_main.h</p>\n<p>In that macro your main(){} is renamed to SDL_main(){} because SDL needs its own main(){} on some of the many platforms they support, so they change yours. Mostly it achieves their goal, but on my platform it created problems, rather than solved them. I added a 2nd line in SDL_main.h, and for me all problems were gone.</p>\n<pre><code>#define main SDL_main    //Original line. Renames main(){} to SDL_main(){}. \n\n#define main main        //Added line. Undo the renaming.\n</code></pre>\n<p>If you don't like the compiler warning caused by this pair of lines, comment both lines out.</p>\n<p>If your code is in WinApp(){} you don't have this problem at all. This answer only might help if your main code is in main(){} and your platform is similar to mine.</p>\n<p>I have: Visual Studio 2019, Windows 10, x64, writing a 32 bit console app that opens windows using SDL2.0 as part of a tutorial.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 5071492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EwE1Qc3KMZ4/AAAAAAAAAAI/AAAAAAAAAHI/PwF7J9-ADTA/photo.jpg?sz=128", "display_name": "AdoobII", "link": "https://stackoverflow.com/users/5071492/adoobii"}, "is_accepted": false, "score": 0, "last_activity_date": 1597441537, "creation_date": 1597441537, "answer_id": 63420387, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/63420387#63420387", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>I got the same error because I created a new object from a templated class using the template name without specifying the type explicitly like this:</p>\n<pre><code>int main()\n{\n\n    MyClass&lt;T&gt; Test2(5.60, 6.6); &lt;- This is wrong\n           ^^^\n    return 0;\n}\n</code></pre>\n<p>The correct way to do it was to specify exactly what T was like this:</p>\n<pre><code>int main()\n{\n\n    MyClass&lt;double&gt; Test2(5.60, 6.6); &lt;- This is right\n            ^^^^^^\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 420635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b99cfaa87c132f3ef4ff7cf45ea7e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/420635/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1597597576, "creation_date": 1597597576, "answer_id": 63439730, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/63439730#63439730", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>I had to #include &lt;tchar.h&gt; in my windows service application.\nI left it as a windows console type subsystem.\nThe &quot;Character Set&quot; was set to UNICODE.</p>\n"}, {"tags": [], "owner": {"reputation": 4425, "user_id": 2077651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/16036f8a383cc2cf4cde596b7f9f3a42?s=128&d=identicon&r=PG", "display_name": "Ganesh Kamath - &#39;Code Frenzy&#39;", "link": "https://stackoverflow.com/users/2077651/ganesh-kamath-code-frenzy"}, "is_accepted": false, "score": 0, "last_activity_date": 1608885907, "creation_date": 1608885907, "answer_id": 65446608, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde/65446608#65446608", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<p>I deleted the file with main() function in my project when I wanted to change project type to static library.</p>\n<p>I Forgot to change <strong>Properties -&gt; General -&gt; Configuration Type</strong></p>\n<p>from</p>\n<p><strong>Application(.exe)</strong></p>\n<p>to</p>\n<p><strong>Static Library (.lib)</strong></p>\n<p>This too gave me the same error.</p>\n"}], "owner": {"reputation": 587, "user_id": 5500079, "user_type": "registered", "profile_image": "https://graph.facebook.com/881448555241212/picture?type=large", "display_name": "Marcel Ceban", "link": "https://stackoverflow.com/users/5500079/marcel-ceban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120244, "favorite_count": 8, "protected_date": 1594508450, "answer_count": 17, "score": 58, "last_activity_date": 1608885907, "creation_date": 1446063292, "last_edit_date": 1602622480, "question_id": 33400777, "link": "https://stackoverflow.com/questions/33400777/error-lnk2019-unresolved-external-symbol-main-referenced-in-function-int-cde", "title": "Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ)", "body": "<h2>Error:</h2>\n<pre><code>Severity Code Description Project File Line Error LNK2019 unresolved external symbol _main referenced in function &quot;int __cdecl invoke_main(void)&quot; (?invoke_main@@YAHXZ) \nSeverity    Code    Description Project File    Line\nError   LNK1120 1 unresolved externals  \n</code></pre>\n<h2>Code:</h2>\n<pre><code>#include &quot;windows.h&quot;\n#include &quot;tchar.h&quot;\n#include &quot;d3d9.h&quot;\n#pragma comment(lib, &quot;d3d9.lib&quot;)\n\nLPDIRECT3D9 pDirect3D=NULL; \nLPDIRECT3DDEVICE9 pDirect3DDevice=NULL; \nconst int segment = 50;\nconst int NV = segment*13;\nstruct CUSTOMVERTEX\n{\n   float x, y, z, rhv;\n   \n   DWORD color;\n};\n#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZRHW|D3DFVF_DIFFUSE)\n\nLPDIRECT3DVERTEXBUFFER9 pVertexBuffer=NULL; \n\nHRESULT InitialDirect3D(HWND hvnd)\n{\n   if((pDirect3D=Direct3DCreate9(D3D_SDK_VERSION))==NULL)\n      return E_FAIL;\n   D3DDISPLAYMODE Display;\n\n   if(FAILED(pDirect3D-&gt;GetAdapterDisplayMode(D3DADAPTER_DEFAULT, &amp;Display)))\n      return E_FAIL;\n\n   D3DPRESENT_PARAMETERS Direct3DParameter;\n   ZeroMemory(&amp;Direct3DParameter, sizeof Direct3DParameter);\n \n   Direct3DParameter.Windowed=TRUE;\n   Direct3DParameter.SwapEffect=D3DSWAPEFFECT_DISCARD;\n   Direct3DParameter.BackBufferFormat=Display.Format;\n\n   if(FAILED(pDirect3D-&gt;CreateDevice(D3DADAPTER_DEFAULT, D3DDEVTYPE_HAL, hvnd,\n                                     D3DCREATE_HARDWARE_VERTEXPROCESSING,\n                                     &amp;Direct3DParameter, &amp;pDirect3DDevice)))\n      return E_FAIL;\n   return S_OK;\n}\nHRESULT RenderingDirect3D()\n{\n   if(pDirect3DDevice==NULL)\n      return E_FAIL;\n   pDirect3DDevice-&gt;Clear(0, NULL, D3DCLEAR_TARGET, D3DCOLOR_XRGB(90, 150, 100), 1.f, 0);\n   \n   pDirect3DDevice-&gt;BeginScene();\n\n   pDirect3DDevice-&gt;SetStreamSource(0, pVertexBuffer, 0, sizeof(CUSTOMVERTEX));\n  \n   pDirect3DDevice-&gt;SetFVF(D3DFVF_CUSTOMVERTEX);   \n\n    pDirect3DDevice-&gt;DrawPrimitive(D3DPT_LINELIST, 0, NV);\n    pDirect3DDevice-&gt;EndScene();\n\n   pDirect3DDevice-&gt;Present(NULL, NULL, NULL, NULL);\n\n   return S_OK;\n}\n\nvoid DeleteDirect3D()\n{\n   if(pVertexBuffer)\n       pVertexBuffer-&gt;Release();\n   if(pDirect3DDevice)\n       pDirect3DDevice-&gt;Release();\n   if(pDirect3D)\n       pDirect3D-&gt;Release();\n}\n\nHRESULT InitialVertexBuffer()\n{\n    float u = 0.0;\n    int z = 0;\n    float points[][2] = {\n        {150,150},\n        {125,100},\n        {150,50},\n        {200,50},\n        {225,55},\n        {285,60},\n        {325,25},\n        \n        {342,30},\n        {340,35},\n        {340,40},\n    \n        {325,75},\n        {300,125},\n        {300,175},\n        {305,250},\n        {295,287},\n        {257,347},\n        {200,350},\n        {150,325},\n        {140,290},\n\n        {142,282},\n        {160,280},\n        {165,286},\n        \n        {175,325},\n        {215,340},\n        {250,335},\n        {275,300},\n        {275,250},\n        {255,200},\n        {250,150},\n        {275,100},\n        {305,65},\n        \n        {275,85},\n        {240,95},\n        {215,85},\n        {170,65},\n        {140,90},\n        {160,135},\n\n        {160,150},\n        {152.5,150},\n        {150,150}\n    };\n        \n    CUSTOMVERTEX Vertexes[NV*2];\n    int i = 0;\n    while( i &lt; NV*2 )\n    {\n        u = 0.f;\n        for(int j = 0; j &lt; segment; j++)\n        {\n            Vertexes[i].x = (1-3*u+3*u*u-u*u*u)*points[z][0]+(3*u-6*u*u+3*u*u*u)*points[z+1][0]+(3*u*u-3*u*u*u)*points[z+2][0]+(u*u*u)*points[z+3][0];\n            Vertexes[i].y = (1-3*u+3*u*u-u*u*u)*points[z][1]+(3*u-6*u*u+3*u*u*u)*points[z+1][1]+(3*u*u-3*u*u*u)*points[z+2][1]+(u*u*u)*points[z+3][1];\n            Vertexes[i].z = 0.5f;\n            Vertexes[i].color = 0x00ffffff;\n            Vertexes[i].rhv = 1.f;\n            u += (float)1/segment;\n            i++;\n            Vertexes[i].x = (1-3*u+3*u*u-u*u*u)*points[z][0]+(3*u-6*u*u+3*u*u*u)*points[z+1][0]+(3*u*u-3*u*u*u)*points[z+2][0]+(u*u*u)*points[z+3][0];\n            Vertexes[i].y = (1-3*u+3*u*u-u*u*u)*points[z][1]+(3*u-6*u*u+3*u*u*u)*points[z+1][1]+(3*u*u-3*u*u*u)*points[z+2][1]+(u*u*u)*points[z+3][1];\n            Vertexes[i].z = 0.5f;\n            Vertexes[i].color = 0x00ffffff;\n            Vertexes[i].rhv = 1.f;\n            i++;\n        }\n        z += 3;\n    }\n        if(FAILED(pDirect3DDevice-&gt;CreateVertexBuffer(NV*2*sizeof(CUSTOMVERTEX), 0, D3DFVF_CUSTOMVERTEX,\n        D3DPOOL_DEFAULT, &amp;pVertexBuffer, NULL)))\n            return E_FAIL;\n   \n   void *pVB=NULL;\n   if(FAILED(pVertexBuffer-&gt;Lock(0, sizeof Vertexes, (void**)&amp;pVB, 0)))\n      return E_FAIL;\n\n   memcpy(pVB, Vertexes, sizeof Vertexes);\n   \n   pVertexBuffer-&gt;Unlock();\n   \n   return S_OK;\n}\n\nLRESULT CALLBACK MainWinProc(HWND hwnd, \n                             UINT msg,\n                             WPARAM wparam, \n                             LPARAM lparam) \n{\n   switch(msg)\n   {\n      case WM_PAINT:\n            RenderingDirect3D();\n            ValidateRect(hwnd, NULL);\n            break;\n      case WM_DESTROY:\n            DeleteDirect3D();\n            PostQuitMessage(0);\n            return 0;\n   }\n   return DefWindowProc(hwnd, msg, wparam, lparam);\n}\n\nint WINAPI WinMain(HINSTANCE hinstance,\n                   HINSTANCE hprevinstance,\n                   LPSTR lpcmdline, \n                   int ncmdshow) \n{\n   WNDCLASSEX windowsclass;\n   HWND hwnd; \n   MSG msg; \n   //\n   windowsclass.cbSize=sizeof(WNDCLASSEX);\n   windowsclass.style=CS_DBLCLKS|CS_OWNDC|CS_HREDRAW|CS_VREDRAW;\n   windowsclass.lpfnWndProc=MainWinProc;\n   windowsclass.cbClsExtra=0;\n   windowsclass.cbWndExtra=0;\n   windowsclass.hInstance=hinstance;\n   windowsclass.hIcon=LoadIcon(NULL, IDI_APPLICATION);\n   windowsclass.hCursor=LoadCursor(NULL, IDC_ARROW);\n   windowsclass.hbrBackground=(HBRUSH)GetStockObject(GRAY_BRUSH);\n   windowsclass.lpszMenuName=NULL;\n   windowsclass.lpszClassName=_T(&quot;WINDOWSCLASS&quot;);\n   windowsclass.hIconSm=LoadIcon(NULL, IDI_APPLICATION);\n   \n   if(!RegisterClassEx(&amp;windowsclass))\n      return 0;\n   \n   if(!(hwnd=CreateWindowEx(\n      NULL,\n      _T(&quot;WINDOWSCLASS&quot;), \n      _T(&quot;Desenam litera G&quot;), \n      WS_OVERLAPPEDWINDOW|WS_VISIBLE, \n      CW_USEDEFAULT, 0, \n      CW_USEDEFAULT, 0, \n      NULL, \n      NULL, \n      hinstance, \n      NULL))) \n      return 0;\n\n   if(SUCCEEDED(InitialDirect3D(hwnd)))\n   {\n      if(SUCCEEDED(InitialVertexBuffer()))\n      {\n         ShowWindow(hwnd, SW_SHOWDEFAULT); \n         UpdateWindow(hwnd); \n         ZeroMemory(&amp;msg, sizeof msg);\n         while(msg.message!=WM_QUIT)\n         {\n            if(PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))\n            {\n               TranslateMessage(&amp;msg);\n               DispatchMessage(&amp;msg);\n            }\n            else\n               RenderingDirect3D();\n         }\n      }\n   }\n\n   return msg.wParam;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows-10", "microsoft-edge"], "comments": [{"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446144317, "post_id": 33400708, "comment_id": 54633865, "body": "@david-heffernan This is not a duplicate of &quot;How to open URL in Microsoft Edge from the command line&quot; because the solution in that answer does not work here."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446144829, "post_id": 33400708, "comment_id": 54634127, "body": "That&#39;s not how duplicates work. Presumably you just need to use <code>ShellExecuteEx</code> anyway."}], "answers": [{"comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446070385, "post_id": 33401697, "comment_id": 54596412, "body": "No it is really not OK to pass a constant buffer to the second arg of CreateProcess. Read the docs."}, {"owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446079071, "post_id": 33401697, "comment_id": 54599530, "body": "No, it really <i>is</i> OK to pass it along, since the buffer is guaranteed to be yours to modify by the C++11 standard. Read the docs."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446107153, "post_id": 33401697, "comment_id": 54608858, "body": "No. <code>c_str</code> returns a pointer to non-modifiable buffer, <code>const char*</code> or <code>const wchar_t*</code>."}, {"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446144370, "post_id": 33401697, "comment_id": 54633888, "body": "Updates provided in the question area."}, {"owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "edited": false, "score": 0, "creation_date": 1446152629, "post_id": 33401697, "comment_id": 54638256, "body": "Yes. <code>c_str()</code> returns const for hysterical raisins. You&#39;re really going to pick a fight over something you know better? <i>Every</i> extant implementation have continuous, directly accessible storage, C++11 guarantees it <i>and</i> a trailing null. <a href=\"http://stackoverflow.com/a/16502000/2706707\">Read more?</a>"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446154109, "post_id": 33401697, "comment_id": 54638973, "body": "I&#39;m not arguing about contiguous directly accessible storage. You are wrong in your belief that <code>c_str()</code> returns a pointer to a modifiable buffer. It does not. And <code>CreateProcessW</code> does modify the buffer. So instead of <code>str.c_str()</code> use <code>&amp;str[0]</code>."}, {"owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "edited": false, "score": 0, "creation_date": 1446155123, "post_id": 33401697, "comment_id": 54639390, "body": "LOL. Someone is wrong in the interwebs. You know full well that <code>str.c_str()</code> === <code>&amp;str[0]</code>."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1446493831, "post_id": 33401697, "comment_id": 54756157, "body": "Perhaps you don&#39;t know what <code>const</code> means"}], "tags": [], "owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "is_accepted": false, "score": 3, "last_activity_date": 1446153026, "last_edit_date": 1446153026, "creation_date": 1446066915, "answer_id": 33401697, "question_id": 33400708, "link": "https://stackoverflow.com/questions/33400708/how-to-start-microsoft-edge-with-specific-url-from-c-code/33401697#33401697", "title": "How to start Microsoft Edge with specific URL from C++ code", "body": "<p>You are doing a few weird things, like using a std::vector instead of a straight-up std::wstring. (It is okay to pass the .c_str() to functions like this.)</p>\n\n<p>In any case, always make sure to read the documentation for functions like <a href=\"http://www.google.com/search?btnI=1&amp;q=msdn+CreateProcess\" rel=\"nofollow\">CreateProcess</a>.</p>\n\n<p>You must supply the complete command-line for your your process, not just pieces. There is no executable named 'start' -- it is a subcommand of cmd.exe. So if you use CreateProcess you must also give the full, true command-line:</p>\n\n<pre><code>C:\\Windows\\System32\\cmd.exe /C start microsoft-edge:http://www.test.com\n</code></pre>\n\n<p>All said, however, you <em>really</em> shouldn't be dictating to your user which browser he should be using. Your user has selected a default browser because that is the browser he wishes to use. When you subvert that choice and launch a different browser anyway, he will hate your software.</p>\n\n<p>[edit]\nWell, I don't have Windows 10 installed, so I haven't messed around with Edge, but it <a href=\"http://www.itworld.com/article/2943955/windows/how-to-script-microsofts-edge-browser.html\" rel=\"nofollow\">appears that MS has not given it the standard command-line abilities</a>. I cannot fathom why. </p>\n\n<p>Nevertheless, it looks like you might have to stick with the 'start' command \"protocol\", with the method used by your Update 2, simply leaving out the \"microsoft-edge\" part.</p>\n\n<p>The only other recourse that I can suggest (and I don't know enough about Windows 10 to say that this is necessarily the only correct way) is to look in the Registry to see if edge is installed, and start the browser with the correct method.</p>\n\n<p>Alas.</p>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446493060, "post_id": 33423514, "comment_id": 54755727, "body": "I tried your program, it pops up an error dialog with title &quot;microsoft-edge:<a href=\"http://www.stackoverflow.com\">stackoverflow.com</a>&quot; and content &quot;This file does not have a program associated with it for performing this action. Please install a program or, if one is already installed, create an association in the Default Programs control panel.&quot; I checked &quot;Default Programs&quot; in control panel and chose &quot;Set this program as default&quot; in Microsoft Edge config, which makes no difference. BTW my OS is Windows Server 2016."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446493895, "post_id": 33423514, "comment_id": 54756201, "body": "It&#39;s working here. I&#39;m using Windows 10 as the question is tagged."}, {"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446494443, "post_id": 33423514, "comment_id": 54756478, "body": "Let me find a Win 10 to test and report the result back later."}, {"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446504867, "post_id": 33423514, "comment_id": 54761837, "body": "OK your code works in my Win 10 test. So the way to start Edge in Windows Server 2016 is not the same with the one in Windows 10 as I thought. Anyway, thanks for your help!"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446505202, "post_id": 33423514, "comment_id": 54761979, "body": "You tagged the question windows-10"}, {"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446509611, "post_id": 33423514, "comment_id": 54763422, "body": "Thanks for reminding. I tagged win10 because I thought win10 and winsvr2016 are the same on this issue. Tags have been updated."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446534289, "post_id": 33423514, "comment_id": 54770554, "body": "That&#39;s not how it works. I reverted the tags. I answered the question you asked. If you asked the wrong question then that&#39;s your problem. It&#39;s rude and tactless to have people spend time and effort and then change the question after the fact."}, {"owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "edited": false, "score": 0, "creation_date": 1446684869, "post_id": 33423514, "comment_id": 54851111, "body": "OK I got what you mean. I&#39;m not trying to waste your time and do appreciate your discussion. I&#39;ll open a new question with the correct tag."}], "tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": true, "score": 4, "last_activity_date": 1446148787, "creation_date": 1446148787, "answer_id": 33423514, "question_id": 33400708, "link": "https://stackoverflow.com/questions/33400708/how-to-start-microsoft-edge-with-specific-url-from-c-code/33423514#33423514", "title": "How to start Microsoft Edge with specific URL from C++ code", "body": "<p>From what I can see, you are making rather heavy weather of this. Certainly, it is not as complicated as it seems. The following code brings up an Edge window, and navigates to the desired site:</p>\n\n<pre><code>#include &lt;Windows.h&gt;\n\nint main()\n{\n    CoInitializeEx(nullptr, COINIT_APARTMENTTHREADED);\n\n    SHELLEXECUTEINFOW sei = { sizeof sei };\n    sei.lpVerb = L\"open\";\n    sei.lpFile = L\"microsoft-edge:http://www.stackoverflow.com\";\n    ShellExecuteExW(&amp;sei);\n}\n</code></pre>\n\n<p>I suspect that you were getting your quotes in a muddle.</p>\n"}], "owner": {"reputation": 525, "user_id": 3196696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2157461d3e2a495b47d89c801b168245?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/3196696/lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3511, "favorite_count": 2, "accepted_answer_id": 33423514, "answer_count": 2, "score": 2, "last_activity_date": 1446534197, "creation_date": 1446063041, "last_edit_date": 1495542190, "question_id": 33400708, "link": "https://stackoverflow.com/questions/33400708/how-to-start-microsoft-edge-with-specific-url-from-c-code", "title": "How to start Microsoft Edge with specific URL from C++ code", "body": "<p>I tried the solutions in <a href=\"https://stackoverflow.com/questions/31909274/launching-microsoft-edge-with-url-from-code\">Launching Microsoft Edge with URL from code</a> and <a href=\"https://stackoverflow.com/questions/31164253/how-to-open-url-in-microsoft-edge-from-the-command-line\">How to open URL in Microsoft Edge from the command line?</a> but they do not work for me.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>    std::string url = \"http://www.test.com\";\n    std::wstring quotedArg = L\"microsoft-edge:\\\"\" + url + L\"\\\"\";\n    std::vector&lt;WCHAR&gt; argBuff(quotedArg.w_size() + 1);\n    wcscpy_s(&amp;argBuff[0], argBuff.size(), quotedArg.w_str());\n\n    STARTUPINFO si = {0};\n    PROCESS_INFORMATION pi = {0};\n    si.cb = sizeof si;\n    si.dwFlags = STARTF_USESHOWWINDOW;\n    si.wShowWindow = SW_SHOWNORMAL;\n\n    if (!CreateProcess(L\"start\", &amp;argBuff[0], NULL, NULL, FALSE,\n                       0, NULL, NULL, &amp;si, &amp;pi)) {\n       DWORD error = GetLastError(); // here error = 2\n       return false;\n    }\n\n    CloseHandle(pi.hProcess);\n    CloseHandle(pi.hThread);\n</code></pre>\n\n<p>The error code after <code>CreateProcess()</code> is 2, which in <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681382%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms681382%28v=vs.85%29.aspx</a> stands for <code>ERROR_FILE_NOT_FOUND</code>.</p>\n\n<hr>\n\n<p>Update 1:\nTo D\u00fathomhas's questions:\nI'm not binding the user with Edge. I was using <code>ShellExecuteEx()</code> to open http/https URL as below snippet. </p>\n\n<pre><code>    SHELLEXECUTEINFO sei = { };\n    sei.cbSize = sizeof sei;\n    sei.nShow = SW_SHOWNORMAL;\n    sei.lpFile = url.w_str();\n    sei.lpVerb = L\"open\";\n\n    sei.fMask = SEE_MASK_CLASSNAME;\n\n    sei.lpClass = url.startsWith(\"https:\")\n                  ? L\"https\"\n                  : L\"http\";\n\n    if (ShellExecuteEx(&amp;sei)) {\n       return true;\n    }\n</code></pre>\n\n<p>However this does not work for Microsoft Edge and will pop up error dialog saying</p>\n\n<p><code>&lt;URL&gt; The specified module could not be found</code>.</p>\n\n<hr>\n\n<p>Update 2:</p>\n\n<p>Put the full path of <code>cmd /C start</code> in <code>CreateProcess()</code> as suggested by D\u00fathomhas make the call succeeds, </p>\n\n<pre><code>    wui::string quotedArg = L\"/C start microsoft-edge:\" + url;\n    std::vector&lt;WCHAR&gt; argBuf(quotedArg.w_size() + 1);\n    wcscpy_s(&amp;argBuf[0], argBuf.size(), quotedArg.w_str());\n    CreateProcess(L\"C:\\\\Windows\\\\System32\\\\cmd.exe\", &amp;argBuf[0], NULL, \n                  NULL, FALSE, 0, NULL, NULL, &amp;si, &amp;pi)\n</code></pre>\n\n<p>But the result is no browser opened and a pop up dialog showing</p>\n\n<p><code>microsoft-edge:&lt;UR&gt; The specified module could not be found</code>.</p>\n"}, {"tags": ["c++", "linux", "multithreading", "memory-management", "poco"], "comments": [{"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1446097165, "post_id": 33400614, "comment_id": 54604586, "body": "&quot;I&#39;ve tried TCMalloc and it seems to help, but doesn&#39;t look like a solution&quot; - but that&#39;s exactly the right solution.   You want thread local storage for each thread and only rarely lock the main storage area"}, {"owner": {"reputation": 43, "user_id": 5499972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_aeX6qyM7i4/AAAAAAAAAAI/AAAAAAAAT1E/EWk3p8cWe28/photo.jpg?sz=128", "display_name": "Sergey O", "link": "https://stackoverflow.com/users/5499972/sergey-o"}, "reply_to_user": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1446109672, "post_id": 33400614, "comment_id": 54610308, "body": "glibc malloc (ptmalloc2) DOES provide thread-local storage for each thread - as we can see, at the beginning all threads work fine and scalable. The problem is that as threads come and go (and sometimes exceed number of per-thread arenas), the situation becomes worse, more and more threads are sharing the same arena and contend for malloc"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1446109887, "post_id": 33400614, "comment_id": 54610440, "body": "As you&#39;re saying it does <i>not</i> provide thread-local storage <i>for each thread</i> which is exactly the problem."}, {"owner": {"reputation": 43, "user_id": 5499972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_aeX6qyM7i4/AAAAAAAAAAI/AAAAAAAAT1E/EWk3p8cWe28/photo.jpg?sz=128", "display_name": "Sergey O", "link": "https://stackoverflow.com/users/5499972/sergey-o"}, "reply_to_user": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1446114827, "post_id": 33400614, "comment_id": 54613685, "body": "that&#39;s true. however under normal load we have # threads &lt; # arenas, which is supposed to be handled well by glibc malloc, but apparently it&#39;s not"}], "owner": {"reputation": 43, "user_id": 5499972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_aeX6qyM7i4/AAAAAAAAAAI/AAAAAAAAT1E/EWk3p8cWe28/photo.jpg?sz=128", "display_name": "Sergey O", "link": "https://stackoverflow.com/users/5499972/sergey-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1446062696, "creation_date": 1446062696, "question_id": 33400614, "link": "https://stackoverflow.com/questions/33400614/glibc-1-22-malloc-ptmalloc2-poco-1-5-2-threadpool-very-slow", "title": "glibc 1.22 malloc (ptmalloc2) + Poco (1.5.2) ThreadPool = VERY SLOW ??", "body": "<p>the code uses Poco HTTPServer (+ ThreadPool) to handle REST requests in multiple threads (minThreads=16, max=128). </p>\n\n<p>The box has 12 CPUs, and 'handling the request' means talking to DB or other nodes via network, so the fact #threads > #cpus seems reasonable.</p>\n\n<p>Also, each such request involves JSON processing and is in general pretty malloc-heavy. However, the server is stateless and keeps no caches, so, when server is idling, memory consumption must be quite low.</p>\n\n<p>Now, after prolonged multi-client load (with pauses between tests) I observe the situation when server performance starts to degrade. For example, at the beginning it is ~300 HTTP requests per second with 8 parallel clients. After a day of run it shows 60-80-100 requests per second on the exactly the same requests. No data is changed, requests are readonly. </p>\n\n<p>This condition is permanent until server is restarted, then the performance returns to normal. Memory consumption is reasonable, no memory leaks observed.</p>\n\n<p>After spending lots of time, I managed to figure out the following:</p>\n\n<p>1) single-threaded load doesn't degrade</p>\n\n<p>2) multi-threaded load: degradation happens inside malloc()  - I used Linux 'perf' suite to see that most of time it spends here:</p>\n\n<pre><code>&lt;....removed...&gt;\n-   39.22%    39.22%         SoLoader\n   - _spin_lock\n      - 55.86% futex_wake\n           do_futex\n           compat_sys_futex\n           sysenter_dispatch\n         - 0xb775f420\n            - 87.48% operator new(unsigned int)\n               + 27.60% std::string::_Rep::_S_create(unsigned int, unsigned int, std::allocator&lt;char&gt; const&amp;)\n               + 11.59% operator new[](unsigned int)\n</code></pre>\n\n<p>This tells me there is a lot of contention on allocations. It is also confirmed by huge context switch rate when server is 'slow' compared to when server is 'fast',</p>\n\n<p>3) playing with MALLOC_ARENA_MAX=1 on 'fast,restarted' server gives almost the same behavior of 'slow' server</p>\n\n<p>This brought me to a conclusion that under my pattern of load, Poco ThreadPool thread creation/retention/deletion policy + glibc malloc thread-to-arena assignment heuristics together cause a degenerate situation when all (or most) Poco worker threads (in a pool) are mapped to the same malloc arena. This mapping happens on 1st malloc made by a thread, and remains for the life time of the thread. When parallel load happens, these workers contend for malloc(). This is fixed by restart, and slowly happens again after prolonged load.</p>\n\n<p>To reiterate: I have 32-bit server process, 12-cpu box, I observe 24 arenas within the server process (matches malloc() documentation for arenas). Arena sizes are very uneven. There are lots of threads in the process, most are idling, and Poco is configured to keep 16 workers at minimum. Tests normally go as 8 parallel clients making short requests to server, but sometimes level of parallelism can be 16 or even higher. After 15-60 seconds of test, there is a pause when server is idle.</p>\n\n<p>The question is: had anyone met such problem before? What are possible solutions for such degradation? </p>\n\n<p>I've tried TCMalloc and it seems to help, but doesn't look like a solution (for non-technical reasons). I wonder that glibc malloc() is so vulnerable to threaded load... </p>\n"}, {"tags": ["c++", "c", "code-generation"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 3, "creation_date": 1446062640, "post_id": 33400557, "comment_id": 54592440, "body": "typo: <code>i = itemsList-&gt;count;</code> should be <code>i &lt; itemsList-&gt;count;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2091, "user_id": 1906587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9f81eb80f65ad86bdf820621ff7c68f8?s=128&d=identicon&r=PG", "display_name": "ulak blade", "link": "https://stackoverflow.com/users/1906587/ulak-blade"}, "edited": false, "score": 0, "creation_date": 1446062796, "post_id": 33400588, "comment_id": 54592527, "body": "oh....how didn&#39;t I see this..."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 2091, "user_id": 1906587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9f81eb80f65ad86bdf820621ff7c68f8?s=128&d=identicon&r=PG", "display_name": "ulak blade", "link": "https://stackoverflow.com/users/1906587/ulak-blade"}, "edited": false, "score": 0, "creation_date": 1446063052, "post_id": 33400588, "comment_id": 54592677, "body": "4000 eyes are better than 2 - it&#39;s why we have code reviews and tests :)"}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 2, "last_activity_date": 1446062630, "creation_date": 1446062630, "answer_id": 33400588, "question_id": 33400557, "link": "https://stackoverflow.com/questions/33400557/faulty-compiler-code-generation-or-some-memory-corruption/33400588#33400588", "title": "Faulty compiler code generation or some memory corruption?", "body": "<p>logic error. try this:</p>\n\n<pre><code>items_list* itemsList = get_item_list_lib(...);\n\nif(itemsList != NULL)\n{\n    qDebug()&lt;&lt;\"ItemCount: \"&lt;&lt;itemsList-&gt;count;\n    for(int i = 0; i &lt; itemsList-&gt;count; i++) // NOTE: less than, not equals\n    {\n        qDebug()&lt;&lt;itemsList-&gt;items[i];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2091, "user_id": 1906587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9f81eb80f65ad86bdf820621ff7c68f8?s=128&d=identicon&r=PG", "display_name": "ulak blade", "link": "https://stackoverflow.com/users/1906587/ulak-blade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1446062751, "accepted_answer_id": 33400588, "answer_count": 1, "score": -3, "last_activity_date": 1446062630, "creation_date": 1446062529, "question_id": 33400557, "link": "https://stackoverflow.com/questions/33400557/faulty-compiler-code-generation-or-some-memory-corruption", "closed_reason": "Not suitable for this site", "title": "Faulty compiler code generation or some memory corruption?", "body": "<p>I am using a <code>C</code> library in my C++ project. This is the first time I ever encounter such an issue. I have a <code>struct</code> like this in the <code>C</code> library:</p>\n\n<pre><code>typedef struct {\n  size_t count;\n  int items[];\n} items_list;\n</code></pre>\n\n<p>And then I do this:</p>\n\n<pre><code>   items_list* itemsList = get_item_list_lib(...);\n\n    if(itemsList != NULL)\n    {\n        qDebug()&lt;&lt;\"ItemCount: \"&lt;&lt;itemsList-&gt;count;\n        for(int i = 0; i = itemsList-&gt;count; i++)\n        {\n            qDebug()&lt;&lt;itemsList-&gt;items[i];\n        }\n    }\n</code></pre>\n\n<p>When I break at <code>if(itemsList != NULL)</code>, I can see that there are count is equal to <code>20</code>. The <code>qDebug()</code> also prints <code>ItemCount: 20</code>. Then once it enters the loop, no breakpoints hit anymore, no matter where I place them and it infinitely prints the value of <code>itemsList-&gt;items[i]</code>. I have never heard of such an issue before, does anyone have any idea? Happens in both debug and release modes.</p>\n"}, {"tags": ["c++", "linux", "openmp", "clang++"], "answers": [{"comments": [{"owner": {"reputation": 4368, "user_id": 2352158, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/91cd5bff136b9c7608cf986ca729e19a?s=128&d=identicon&r=PG", "display_name": "coincoin", "link": "https://stackoverflow.com/users/2352158/coincoin"}, "edited": false, "score": 0, "creation_date": 1446065407, "post_id": 33400985, "comment_id": 54593909, "body": "OpenMP is supported in recent versions of Clang and GCC now."}, {"owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "edited": false, "score": 1, "creation_date": 1446065835, "post_id": 33400985, "comment_id": 54594157, "body": "Suggest : CFLAGS=-I/usr/lib/gcc/x86_64-linux-gnu/4.8/include"}], "tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": false, "score": 4, "last_activity_date": 1446064593, "last_edit_date": 1446064593, "creation_date": 1446064033, "answer_id": 33400985, "question_id": 33400462, "link": "https://stackoverflow.com/questions/33400462/omp-h-file-not-found-when-compiling-using-clang/33400985#33400985", "title": "&#39;omp.h&#39; file not found when compiling using clang", "body": "<hr>\n\n<p>'omp.h' is a c header that comes with the \"Mint\" libgcc-[version]-dev . (RPM based OS's have this header in a different package, e.g. libgomp-*)</p>\n\n<p>Example libgcc-4.8-dev : /usr/lib/gcc/x86_64-linux-gnu/4.8/include/omp.h</p>\n\n<p>Solution : Install the version for your default gcc : <code>$ gcc --version</code></p>\n\n<hr>\n\n<p><a href=\"/questions/tagged/libgcc-dev\" class=\"post-tag\" title=\"show questions tagged &#39;libgcc-dev&#39;\" rel=\"tag\">libgcc-dev</a></p>\n"}, {"comments": [{"owner": {"reputation": 487, "user_id": 1326497, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bxdU4.png?s=128&g=1", "display_name": "LxSwiss", "link": "https://stackoverflow.com/users/1326497/lxswiss"}, "edited": false, "score": 0, "creation_date": 1446065865, "post_id": 33401294, "comment_id": 54594174, "body": "I build with a Makefile. and the only error I get is &quot;src/main.cpp:6:10: fatal error: &#39;omp.h&#39; file not found #include &lt;omp.h&gt;&quot; .  Also where do I need to put the -fopenmp=libomp command line option? I didnt understand"}, {"owner": {"reputation": 4368, "user_id": 2352158, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/91cd5bff136b9c7608cf986ca729e19a?s=128&d=identicon&r=PG", "display_name": "coincoin", "link": "https://stackoverflow.com/users/2352158/coincoin"}, "reply_to_user": {"reputation": 487, "user_id": 1326497, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bxdU4.png?s=128&g=1", "display_name": "LxSwiss", "link": "https://stackoverflow.com/users/1326497/lxswiss"}, "edited": false, "score": 0, "creation_date": 1446066197, "post_id": 33401294, "comment_id": 54594376, "body": "Please provide your Makefile some includes seem to be missed  and also verify that your PATH is correct. I ll add an answer."}], "tags": [], "owner": {"reputation": 4368, "user_id": 2352158, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/91cd5bff136b9c7608cf986ca729e19a?s=128&d=identicon&r=PG", "display_name": "coincoin", "link": "https://stackoverflow.com/users/2352158/coincoin"}, "is_accepted": false, "score": 7, "last_activity_date": 1446066426, "last_edit_date": 1446066426, "creation_date": 1446065127, "answer_id": 33401294, "question_id": 33400462, "link": "https://stackoverflow.com/questions/33400462/omp-h-file-not-found-when-compiling-using-clang/33401294#33401294", "title": "&#39;omp.h&#39; file not found when compiling using clang", "body": "<p><strong>OpenMP is well supported in Clang 3.7</strong> but you might need to enable it see <a href=\"http://llvm.org/releases/3.7.0/tools/clang/docs/ReleaseNotes.html#openmp-support\" rel=\"noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>OpenMP 3.1 is fully supported, but disabled by default. To enable it,\n  please use the -fopenmp=libomp command line option.</p>\n</blockquote>\n\n<p>Also see <a href=\"https://github.com/clang-omp/clang/wiki/Status-of-supported-OpenMP-constructs\" rel=\"noreferrer\">Status of supported OpenMP constructs</a> for more precisions.</p>\n\n<p>So you don't have to clone the clang-omp project anymore.</p>\n\n<p>What build system do you use for your project and what errors do you get when you compile ?</p>\n\n<p>If you use <strong>Makefile</strong> : do not forget to add the <code>-fopenmp</code> flag.</p>\n\n<p>If you use <strong>CMake</strong> : you should also look for right OpenMP flags with <a href=\"https://cmake.org/cmake/help/v3.0/module/FindOpenMP.html\" rel=\"noreferrer\">FindOpenMP module</a> and add them accordingly. </p>\n\n<p>If you still get the include error then your omp.h header file may not be in the clang default search path. So you should try to include the one that comes with gcc and add <code>-I/usr/lib/gcc/x86_64-linux-gnu/4.8/include/</code>. </p>\n\n<p>So in your case you should add this line :</p>\n\n<pre><code>CFLAGS = -std=c+11 [etc...]\nCFLAGS += -I/usr/lib/gcc/x86_64-linux-gnu/4.8/include/\nLINKER = [etc...]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1036, "user_id": 192737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f738d8db73053bd199aef3ae0bc10e?s=128&d=identicon&r=PG", "display_name": "Jeff Trull", "link": "https://stackoverflow.com/users/192737/jeff-trull"}, "is_accepted": false, "score": 0, "last_activity_date": 1591746071, "creation_date": 1591746071, "answer_id": 62293631, "question_id": 33400462, "link": "https://stackoverflow.com/questions/33400462/omp-h-file-not-found-when-compiling-using-clang/62293631#62293631", "title": "&#39;omp.h&#39; file not found when compiling using clang", "body": "<p>In case anyone encounters this in the context I did - a build of Clang from source - one solution is to:</p>\n\n<ol>\n<li>Ensure the <code>openmp</code> subproject is built by adding it to <code>LLVM_ENABLE_PROJECTS</code> at CMake invocation</li>\n<li>Build that subproject with <code>cmake --build . --target omp</code></li>\n<li>Copy the generated <code>omp.h</code> from build/projects/openmp/runtime/src/omp.h to build/lib/clang/10.0.0/include, which is in the newly-built clang's default search path.</li>\n</ol>\n\n<p>I previously used the \"add gcc's path to omp.h to every build command\" approach but found this easier.</p>\n"}], "owner": {"reputation": 487, "user_id": 1326497, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/bxdU4.png?s=128&g=1", "display_name": "LxSwiss", "link": "https://stackoverflow.com/users/1326497/lxswiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17991, "favorite_count": 0, "answer_count": 3, "score": 13, "last_activity_date": 1591746071, "creation_date": 1446062190, "last_edit_date": 1548417605, "question_id": 33400462, "link": "https://stackoverflow.com/questions/33400462/omp-h-file-not-found-when-compiling-using-clang", "title": "&#39;omp.h&#39; file not found when compiling using clang", "body": "<p>I'm trying to set up an OpenMP project using clang( 3.7.0) on my laptop running linux mint.</p>\n\n<p>Now I've read that OpenMP is not supported right away so I followed this tutorial <a href=\"https://clang-omp.github.io/\" rel=\"noreferrer\">https://clang-omp.github.io/</a> to integrate openMP into clang.</p>\n\n<p>I've cloned the source code, set the environment variables and set the -fopenmp flag to my project, but i still get the error \"fatal error: 'omp.h' file not found\" when building.</p>\n\n<p>My guess is that I have set the environment variables wrong. Is there any way to check if I have put them in the right place? I have just copied them in the .bashrc file.</p>\n\n<p>Edit:\nwhen I run $locate omp.h I get:</p>\n\n<pre><code>/usr/include/re_comp.h\n/usr/include/linux/ppp-comp.h\n/usr/include/linux/seccomp.h\n/usr/include/net/ppp-comp.h\n/usr/include/openssl/comp.h\n/usr/lib/gcc/x86_64-linux-gnu/4.8/include/omp.h\n/usr/lib/perl/5.18.2/CORE/regcomp.h\n/usr/src/linux-headers-3.13.0-24/arch/arm/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/microblaze/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/mips/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/powerpc/include/uapi/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/s390/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/sh/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/sparc/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/arch/x86/include/asm/seccomp.h\n/usr/src/linux-headers-3.13.0-24/include/linux/ppp-comp.h\n/usr/src/linux-headers-3.13.0-24/include/linux/seccomp.h\n/usr/src/linux-headers-3.13.0-24/include/net/ipcomp.h\n/usr/src/linux-headers-3.13.0-24/include/uapi/linux/ppp-comp.h\n/usr/src/linux-headers-3.13.0-24/include/uapi/linux/seccomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/seccomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/crypto/pcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/inet/ipcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/inet6/ipcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/isdn/ppp/bsdcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/ppp/bsdcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/config/xfrm/ipcomp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/linux/ppp-comp.h\n/usr/src/linux-headers-3.13.0-24-generic/include/linux/seccomp.h\n</code></pre>\n\n<p>here is my makefile:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># Requires the following project directory structure:\n#  /bin\n#  /obj\n#  /src\n\n# Use 'make remove' to clean up the whole project\n\n# Name of target file\nTARGET     = main\n\nCXX        = clang++\nCFLAGS     = -std=c++11 \\\n             -Weverything -Wall -Wextra -Wold-style-cast -Wpointer-arith -Wcast-qual \\\n             -Wno-missing-braces -Wempty-body -Wno-error=uninitialized \\\n             -Wno-error=deprecated-declarations -Wno-c++98-compat \\\n             -pedantic-errors -pedantic \\\n             -Os -fopenmp\n\nLINKER     = clang++ -o\nLFLAGS     = -Wall -Weverything -pedantic\n\nSRCDIR     = src\nOBJDIR     = obj\nBINDIR     = bin\n\nSOURCES   := $(wildcard $(SRCDIR)/*.cpp)\nINCLUDES  := $(wildcard $(SRCDIR)/*.h)\nOBJECTS   := $(SOURCES:$(SRCDIR)/%.cpp=$(OBJDIR)/%.o)\n\nRM         = rm -f\n\n$(BINDIR)/$(TARGET): $(OBJECTS)\n    @$(LINKER) $@ $(LFLAGS) $(OBJECTS)\n    @echo \"Linking complete!\"\n\n$(OBJECTS): $(OBJDIR)/%.o : $(SRCDIR)/%.cpp\n    @$(CXX) $(CFLAGS) -c $&lt; -o $@\n    @echo \"Compiled \"$&lt;\" successfully!\"\n\n.PHONEY: prepare\nprepare:\n    mkdir -p bin\n    mkdir -p obj\n\n.PHONEY: clean\nclean:\n    @$(RM) $(OBJECTS)\n    @echo \"Cleanup complete!\"\n    @$(RM) tmp_file-*\n    @echo \"Temporary files removed!\"\n\n.PHONEY: remove\nremove: clean\n    @$(RM) $(BINDIR)/$(TARGET)\n    @echo \"Executable removed!\"\n\n\n.PHONEY: run\nrun:\n    ./bin/$(TARGET)\n</code></pre>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 2, "creation_date": 1446062116, "post_id": 33400408, "comment_id": 54592136, "body": "<code>class partTimeEmployee : public partTimeEmployee</code> looks viciously recursive."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5389976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd30637d3302c0d2592d775095542d?s=128&d=identicon&r=PG&f=1", "display_name": "john wayne", "link": "https://stackoverflow.com/users/5389976/john-wayne"}, "edited": false, "score": 0, "creation_date": 1446062819, "post_id": 33400496, "comment_id": 54592541, "body": "when i compile test shouldn&#39;t everything compile since, everything is included?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 17, "user_id": 5389976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd30637d3302c0d2592d775095542d?s=128&d=identicon&r=PG&f=1", "display_name": "john wayne", "link": "https://stackoverflow.com/users/5389976/john-wayne"}, "edited": false, "score": 0, "creation_date": 1446063218, "post_id": 33400496, "comment_id": 54592774, "body": "@johnwayne no, you include headers, source files compiled separately and then have to be linked together. Read this for example <a href=\"http://www.cs.fsu.edu/~jestes/howto/g++compiling.txt\" rel=\"nofollow noreferrer\">cs.fsu.edu/~jestes/howto/g++compiling.txt</a>"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1446063246, "post_id": 33400496, "comment_id": 54592790, "body": "It depends...if you do it from an IDE, the IDE will usually do that for you but if you compile (actually is link) it from command line, you must specify all objects to g++ (based on the error message I concluded you&#39;re on Linux): <code>g++ -o test $(SOME_OTHER_FLAGS) test.o partTimeEmployee.o Employee.o work.o</code>"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1446062336, "creation_date": 1446062336, "answer_id": 33400496, "question_id": 33400408, "link": "https://stackoverflow.com/questions/33400408/class-undefined-c/33400496#33400496", "title": "class undefined C++", "body": "<p>When you build application you first compile source files (usually .cpp) to object files (usually .o or .obj) and then link them together into executable. It can be done explicitly through command line, using makefile or such or IDE. Your error shows that object file from compilation of partTimeEmployee.cpp is not included in linking. You do not provide enough information how you build your executable so it is difficult to say how to fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 5495213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xZoq.jpg?s=128&g=1", "display_name": "R&#255;ck N&#246;thing", "link": "https://stackoverflow.com/users/5495213/r%c3%bfck-n%c3%b6thing"}, "is_accepted": false, "score": 2, "last_activity_date": 1446062382, "creation_date": 1446062382, "answer_id": 33400512, "question_id": 33400408, "link": "https://stackoverflow.com/questions/33400408/class-undefined-c/33400512#33400512", "title": "class undefined C++", "body": "<p>Change </p>\n\n<pre><code>class partTimeEmployee : public partTimeEmployee\n</code></pre>\n\n<p>to </p>\n\n<pre><code>class partTimeEmployee : public Employee\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5389976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd30637d3302c0d2592d775095542d?s=128&d=identicon&r=PG&f=1", "display_name": "john wayne", "link": "https://stackoverflow.com/users/5389976/john-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 33400496, "answer_count": 2, "score": 0, "last_activity_date": 1446062382, "creation_date": 1446062038, "last_edit_date": 1446062323, "question_id": 33400408, "link": "https://stackoverflow.com/questions/33400408/class-undefined-c", "title": "class undefined C++", "body": "<p>In test i am trying to create object partTimeEmployee, but i get an undefined reference error, and i don't understand why? I dont understand the error because i pass it the right kind of data. is my .cpp and .h not included right?</p>\n\n<p>test.cpp: (.text+0xb7): undefined reference to 'partTimeEmployee(std::basic_string, std::allocator >)'</p>\n\n<p>work.h</p>\n\n<pre><code>#ifndef WORK_H\n#define WORK_H\n\nusing namespace std;\n#include &lt;string&gt;\n\nclass work{\n        public:\n          void DisplayMe();\n          work(string x,string y);\n          work();\n          ~work();\n\n        string name;\n        string id;\n};\n#endif\n</code></pre>\n\n<p>work.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n#include &lt;cstdlib.h&gt;\n#include \"work.h\"\n\nusing namespace std;\n\nwork::work(){\n        cout&lt;&lt;name&lt;&lt;\"in default work constructor\"&lt;&lt;endl;\n}\n\nwork::~work(){\n        cout&lt;&lt; name &lt;&lt; \" calling work destructor. \" &lt;&lt; endl;\n}\n\nwork::work(string x, string y){\n\n        name = x;\n        id = y;\n\n        cout &lt;&lt; \"in parent constructor\" &lt;&lt;endl;\n}\n\nvoid work::DisplayMe(){\n        cout &lt;&lt; \"NAME: \" &lt;&lt; name &lt;&lt; \"    ID#: \" &lt;&lt; id &lt;&lt;endl;\n}\n</code></pre>\n\n<p>Employee.h</p>\n\n<pre><code>#ifndef EMPLOYEE_H\n#define EMPLOYEE_H\n\ninclude \"work.h\"\nusing namespace std;\n\nclass Employee : public sfasu{\n\n        public:\n          Employee();\n          Employee(string x);\n          ~Employee();\n\n        string department;\n\n};\n#endif\n</code></pre>\n\n<p>Employee.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n#include &lt;cstdlib.h&gt;\n#include \"Employee.h\"\n\nusing namespace std;\n\nEmployee::Employee(){\n        cout&lt;&lt;name&lt;&lt;\"in default sfasu constructor\"&lt;&lt;endl;\n}\n\nEmployee::~Employee(){\n        cout&lt;&lt; name &lt;&lt; \" calling parent destructor. \" &lt;&lt; endl;\n}\n\nEmployee::Employee(string x){\n\n        department = x;\n\n        cout &lt;&lt; \"in parent constructor\" &lt;&lt;endl;\n}\n</code></pre>\n\n<p>partTimeEmployee.h</p>\n\n<pre><code>#ifndef PARTTIMEEMPLOYEE_H\n#define PARTTIMEEMPLOYEE_H\n\n#include \"Employee.h\"\nusing namespace std;\n\nclass partTimeEmployee : public Employee{\n\n        public:\n          partTimeEmployee();\n          partTimeEmployee(string x);\n          ~partTimeEmployee();\n\n        string hourly_wage;\n\n};\n#endif\n</code></pre>\n\n<p>partTimeEmployee.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n#include &lt;cstdlib.h&gt;\n#include \"partTimeEmployee.h\"\n\nusing namespace std;\n\npartTimeEmployee::partTimeEmployee(){\n        cout&lt;&lt;\"in default partTimeEmployee constructor\"&lt;&lt;endl;\n}\n\npartTimeEmployee::~partTimeEmployee(){\n        cout&lt;&lt; \" calling FTP destructor. \" &lt;&lt; endl;\n}\n\npartTimeEmployee::partTimeEmployee(string x){\n\n        hourly_wage = x;\n\n        cout &lt;&lt; \"partTimeEmployeeconstructor\" &lt;&lt;endl;\n}\n</code></pre>\n\n<p>test.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include \"sfasu.h\"\n#include \"Employee.h\"\n#include \"partTimeEmployee.h\"\nusing namespace std;\n\nint main(){\n\npartTimeEmployee one(\"data\");\n}\n</code></pre>\n"}, {"tags": ["c++", "recursion", "constructor", "this"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446062236, "post_id": 33400399, "comment_id": 54592201, "body": "Stupid code - no value to anybody to have an answer to this question"}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1446062274, "creation_date": 1446062274, "answer_id": 33400483, "question_id": 33400399, "link": "https://stackoverflow.com/questions/33400399/recursive-construction-using-the-this-pointer/33400483#33400483", "title": "Recursive construction using the This pointer", "body": "<blockquote>\n  <p>My question is, does the recursion create one object or multiple objects? </p>\n</blockquote>\n\n<p>The recursion creates instances of your class without any condition to stop it. You'll end up with a stack overflow, most likely.</p>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "edited": false, "score": 0, "creation_date": 1446111358, "post_id": 33409992, "comment_id": 54611342, "body": "Thanks, I think I got it so maybe we can ease on the negative votes?"}], "tags": [], "owner": {"reputation": 1, "user_id": 5502092, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d73dc93014f8d6c40c5c5c7b2400165a?s=128&d=identicon&r=PG", "display_name": "notmyfriend", "link": "https://stackoverflow.com/users/5502092/notmyfriend"}, "is_accepted": false, "score": 0, "last_activity_date": 1446109913, "creation_date": 1446109913, "answer_id": 33409992, "question_id": 33400399, "link": "https://stackoverflow.com/questions/33400399/recursive-construction-using-the-this-pointer/33409992#33409992", "title": "Recursive construction using the This pointer", "body": "<blockquote>\n  <p>If multiple objects are being created, how does that happen when the 'this' pointer is being used as the constructor parameter?</p>\n</blockquote>\n\n<p>You're never using the parameter in the constructor, so how could its value possibly affect anything?</p>\n\n<p>The first line (<code>A* pA{nullptr};</code>) creates a pointer and assigns it the value <code>nullptr</code>, so isn't actually invoking the constructor at all. Consider e.g. <code>unsigned foo{0};</code> or <code>A* pA = nullptr;</code>.</p>\n\n<p>The second line creates a new object of type A named 'b', and passes nullptr as the argument to the constructor (but that's never used). Inside the constructor, another object of type A is used, and passed the address of the A object that was just created (i.e. the address of main()'s '<code>b</code>'), which is again not used for anything. Since that in turn recursively creates new objects it probably never returns; but if it did, the address of that new object would be assigned to the argument <code>m_p</code> which would then be discarded when (if) the constructor returned.</p>\n"}], "owner": {"reputation": 1049, "user_id": 4411577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b15a7c7c6f85f173206d822a1dd3f626?s=128&d=identicon&r=PG&f=1", "display_name": "dspfnder", "link": "https://stackoverflow.com/users/4411577/dspfnder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1446109913, "creation_date": 1446062007, "question_id": 33400399, "link": "https://stackoverflow.com/questions/33400399/recursive-construction-using-the-this-pointer", "title": "Recursive construction using the This pointer", "body": "<p>This code compiles and runs. (Run at your own risk). When it runs, it endlessly prints \"Constr beg\" as could be predicted. My question is, does the recursion create one object or multiple objects? If multiple objects are being created, how does that happen when the 'this' pointer is being used as the constructor parameter?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass A {\nprivate:\n    A* m_p;\npublic:\n    A() = delete;\n    A(A* m_p) {\n        cout &lt;&lt; \"Constr beg\" &lt;&lt; endl;\n        m_p = new A{this};\n        cout &lt;&lt; \"Constr end\" &lt;&lt; endl;\n    }\n    ~A() {\n        cout &lt;&lt; \"Destr beg\" &lt;&lt; endl;\n        if (m_p != nullptr) {\n            delete this;\n        }\n        cout &lt;&lt; \"Destr end\" &lt;&lt; endl;\n    }   \n};\n\nint main()\n{\n    // A a(A&amp;);\n    A* pA{nullptr};\n    A b(pA);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "casting", "geometry", "ros"], "comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 1, "creation_date": 1446061763, "post_id": 33400274, "comment_id": 54591949, "body": "Choose an intermediary, and convert to and from that."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1446063005, "post_id": 33400274, "comment_id": 54592645, "body": "@arprice if you can&#39;t change the three of them, consider adding one custom class (a Vector d class) for my answer and it should scale your needs"}], "answers": [{"comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 1, "creation_date": 1446062463, "post_id": 33400492, "comment_id": 54592331, "body": "he wants to be able to add the vectors without making n^2 functions to do so."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1446063191, "post_id": 33400492, "comment_id": 54592759, "body": "Thanks. You may also want to tell OP about the conversion operator, so he can get the library&#39;s various types back from his custom type, though that&#39;s more speculation on the needs of OP than anything else"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1446063324, "post_id": 33400492, "comment_id": 54592831, "body": "Yes I can easily add this, thanks for the proposition"}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 0, "creation_date": 1446067851, "post_id": 33400492, "comment_id": 54595141, "body": "I thought OP can&#39;t modify any of the vector classes?"}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "reply_to_user": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 0, "creation_date": 1446070409, "post_id": 33400492, "comment_id": 54596422, "body": "@Chris He&#39;s not. This is making his own vector class to convert to and from."}, {"owner": {"reputation": 61, "user_id": 3661954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617da0adda04c2e3d2d33c05c9d951a5?s=128&d=identicon&r=PG&f=1", "display_name": "arprice", "link": "https://stackoverflow.com/users/3661954/arprice"}, "edited": false, "score": 1, "creation_date": 1446072441, "post_id": 33400492, "comment_id": 54597248, "body": "Defining an intermediary class would certainly drop the number of explicit conversions from O(n^2) to O(n), but I was hesitant to use this method. It introduces a dependency on, and requires prior knowledge of, all geometry classes that will be used by the projects that use the conversion class. This can be solved with judicious use of #ifdef&#39;s, but this either introduces include-order issues or requires a list of #define flags to switch on the various libraries. Not a dealbreaker, but I was hoping something with templates or type_traits would be cleaner. I should have mentioned this in-post."}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": false, "score": 1, "last_activity_date": 1446063576, "last_edit_date": 1446063576, "creation_date": 1446062320, "answer_id": 33400492, "question_id": 33400274, "link": "https://stackoverflow.com/questions/33400274/easily-convert-between-different-geometry-classes-in-c/33400492#33400492", "title": "Easily convert between different geometry classes in c++?", "body": "<p>Well, just define a <code>operator+</code> function and your 'unrealistic goals' would be achieved:</p>\n\n<pre><code>c::Vector operator+(const a::Vector&amp; a, const b::Vector&amp; b) {\n    return {a.x+b.X, a.y+b.Y, a.z+b.Z};\n}\n</code></pre>\n\n<p>And your small code snippet will work.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you do not want to define a hell lot of function, and assuming you can't change the Vector version from a and b, modifiy your vector class by adding these constructors:</p>\n\n<pre><code>Vector(a::Vector a) : mx(a.x), my(a.y), mz(a.z) {}\nVector(b::Vector b) : mx(b.X), my(b.Y), mz(b.Z) {}\n</code></pre>\n\n<p>And then define only one operator dealing only with the c class:</p>\n\n<pre><code>c::Vector operator+(c::Vector a, c::Vector b) {\n    return {a.x()+b.x(), a.y()+b.y(), a.z()+b.z()};\n}\n</code></pre>\n\n<p>And your code snippet will work with declaring thousands of operator</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>If you want your type to be compatible with your library's types you may add conversion operator to your struct, example, if you want your type to be convertible with Vector a, add this function inside your class:</p>\n\n<pre><code>operator a::Vector() const {\n    // return a a::Vector from our c::Vector\n    return a::Vector{mx, my, mz};\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1446074090, "post_id": 33402026, "comment_id": 54597932, "body": "I like this answer! Only the helper functions have to be implemented for each library you want to use and the rest is all templated. However, don&#39;t those vectors support <code>operator[]</code> -- then the helpers are not necessary."}], "tags": [], "owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "is_accepted": false, "score": 3, "last_activity_date": 1446073489, "last_edit_date": 1446073489, "creation_date": 1446068216, "answer_id": 33402026, "question_id": 33400274, "link": "https://stackoverflow.com/questions/33400274/easily-convert-between-different-geometry-classes-in-c/33402026#33402026", "title": "Easily convert between different geometry classes in c++?", "body": "<p>If you write three helper functions for each vector type to access <code>X</code>, <code>Y</code> and <code>Z</code>:</p>\n\n<pre><code>double X(const a::Vector&amp; v) { return v.x; }\ndouble Y(const a::Vector&amp; v) { return v.y; }\ndouble Z(const a::Vector&amp; v) { return v.z; }\ndouble X(const c::Vector&amp; v) { return v.x(); }\ndouble Y(const c::Vector&amp; v) { return v.y(); }\n//...\n</code></pre>\n\n<p>then you can easily write template functions that work with any type. e.g:</p>\n\n<pre><code>template&lt;typename V1, typename V2&gt;\nV1 operator+(const V1&amp; v1, const V2&amp; v2) { \n  return {X(v1)+X(v2), Y(v1)+Y(v2), Z(v1)+Z(v2)};\n}\n\ntemplate&lt;typename V1, typename V2&gt;\nV1 convert(const V2&amp; v) { \n  return {X(v), Y(v), Z(v)};\n}\n\nint main() {\n  a::Vector va;\n  b::Vector vb;\n  auto vc = convert&lt;c::Vector&gt;(va + vb);\n}\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/l1BRYlhlVZ9KoCMH\" rel=\"nofollow\">Live demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 250383, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/758219f64ff3ad04d2712750cf8f80c0?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/250383/emil"}, "is_accepted": false, "score": 1, "last_activity_date": 1490233431, "creation_date": 1490233431, "answer_id": 42965764, "question_id": 33400274, "link": "https://stackoverflow.com/questions/33400274/easily-convert-between-different-geometry-classes-in-c/42965764#42965764", "title": "Easily convert between different geometry classes in c++?", "body": "<p>I see that this is an old question but check out Boost QVM.</p>\n"}], "owner": {"reputation": 61, "user_id": 3661954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617da0adda04c2e3d2d33c05c9d951a5?s=128&d=identicon&r=PG&f=1", "display_name": "arprice", "link": "https://stackoverflow.com/users/3661954/arprice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1490233431, "creation_date": 1446061589, "last_edit_date": 1495541415, "question_id": 33400274, "link": "https://stackoverflow.com/questions/33400274/easily-convert-between-different-geometry-classes-in-c", "title": "Easily convert between different geometry classes in c++?", "body": "<p>I work in robotics, which means I use a large number of open-source projects dealing with 3D geometry. Since the classes and math tend to be fairly simple, everyone seems to implement their own version of Vector3D, Quaternion, etc., each with slight variations, e.g. vec.x, vec.X, vec.x(). So within one project, one might need to convert between Eigen, ROS, Assimp, Bullet, and other versions of the same basic classes. Is there an easy or elegant way to do this in C++ that doesn't require an n^2 mapping from every library to every other library?</p>\n\n<p>Similar to: <a href=\"https://stackoverflow.com/questions/18092866/design-a-class-that-can-be-convertible-to-from-other-libraries\">This SO question</a>, but I can't edit any of the source libraries.</p>\n\n<p>Example:</p>\n\n<pre><code>namespace a\n{\nclass Vector\n{\npublic:\n    double x, y, z;\n};\n} // namespace a\n\nnamespace b\n{\nclass Vector\n{\npublic:\n    double X, Y, Z;\n};\n} // namespace b\n\nnamespace c\n{\nclass Vector\n{\npublic:\n    double&amp; x() { return mx; }\n    double&amp; y() { return my; }\n    double&amp; z() { return mz; }\nprivate:\n    double mx, my, mz;\n};\n} // namespace c\n\nint main()\n{\n    a::Vector va;\n    b::Vector vb;\n    c::Vector vc = va + vb; // Ideal, but probably unrealistic goal\n    return 0;\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:\nIf there are ~10 different geometry libraries, a particular project may only use 2-4 of them, so I'd like to avoid introducing a dependency on all the unused libraries. I was hoping for something like <code>static_cast&lt;b::Vec&gt;(a::Vec)</code>, or maybe</p>\n\n<pre><code>c::Vec vc = my_cvt&lt;c::Vec&gt;(vb + my_cvt&lt;b::Vec&gt;(va));\n</code></pre>\n\n<p>but my understanding of templates and type_traits is pretty weak.</p>\n"}, {"tags": ["c++", "fft", "fftw", "halide"], "answers": [{"tags": [], "owner": {"reputation": 1015, "user_id": 1281640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0c4feb5440c0d2c3b2e6d5acadcde1d?s=128&d=identicon&r=PG", "display_name": "dsharlet", "link": "https://stackoverflow.com/users/1281640/dsharlet"}, "is_accepted": false, "score": 2, "last_activity_date": 1446064868, "creation_date": 1446064868, "answer_id": 33401224, "question_id": 33400259, "link": "https://stackoverflow.com/questions/33400259/halide-fft-implementation-bugs/33401224#33401224", "title": "Halide FFT Implementation Bugs?", "body": "<p>I think there are a few issues going on. First, there looks to be a bug for very small FFTs that only use one pass. I think that's what you hit in your first case.</p>\n\n<p>The second issue is that W and H need to be a multiple of the vector size of your target, not necessarily that W and H need to be a power of 2. For example, W = 48, H = 32 seems to work for me. There's a further complication that for real FFTs, one dimension gets internally cut in half (this is how efficient real FFTs are implemented), so if you are on an AVX machine, that dimension must be a multiple of 16 (2x the vector width of 8 floats).</p>\n\n<p>If you want to run on really small FFTs, you could remove the vectorize scheduling directives, then it should work, at least for learning purposes.</p>\n\n<p>However, I would point out that running 5x5 won't be very interesting, because it will be done in just one radix 5 pass, i.e. just a plain old DFT (this also appears to be broken, as you've found). 4x4 (factored into 2 radix 2 passes) will be the smallest interesting FFT. When debugging it, I often used 8x8 FFTs (radix 4, radix 2).</p>\n"}], "owner": {"reputation": 11, "user_id": 5499967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2abfb84512429912b416b5a18595942?s=128&d=identicon&r=PG&f=1", "display_name": "CreedR", "link": "https://stackoverflow.com/users/5499967/creedr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446107180, "creation_date": 1446061532, "last_edit_date": 1446107180, "question_id": 33400259, "link": "https://stackoverflow.com/questions/33400259/halide-fft-implementation-bugs", "title": "Halide FFT Implementation Bugs?", "body": "<p>I'm attempting to run the halide FFT implementation found <a href=\"https://github.com/halide/Halide/blob/master/test/performance/fft.cpp\" rel=\"nofollow\">here</a> for benchmarking against FTTW. I'm able to run the implementation as is, but I've encountered some issues when digging a little deeper. The routine fails with errors for different values of H and W (the height and width of the random input image). For example, I get the following error with H=W=5:</p>\n\n<p><code>Error at ./fft.cpp:603:\nCannot vectorize dimension n0 of function v_S1_R5$6 because the function is scheduled inline.\nAborted (core dumped)\n</code> </p>\n\n<p>I've been attempting to test on small image sizes (i.e. 5x5) to compare the results of the algorithms, but I can't get the algorithm to complete for any values less than 16, which even at that point makes checking the values a long task. The FFT also fails for values greater than 32, seemingly not working for all non-powers of 2.</p>\n\n<p>Has anyone run into this issue before? Are there any other implementations of FFT in halide that work for different sized images?</p>\n\n<p>For reference, I'm running the code on RHEL7 using gcc 4.8.3.</p>\n"}, {"tags": ["c++", "vector"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5339579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AXhwB.jpg?s=128&g=1", "display_name": "C. Fitz", "link": "https://stackoverflow.com/users/5339579/c-fitz"}, "edited": false, "score": 0, "creation_date": 1446065624, "post_id": 33400283, "comment_id": 54594042, "body": "Great answer thanks, how do i get the index of matching lines (index[ ]) and the count, when i try to print out i get 11111111112111111112111113111211111411113...etc I can see the count &amp;&amp; index positions in there i think, just can&#39;t do anything useful in that format"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1446061601, "creation_date": 1446061601, "answer_id": 33400283, "question_id": 33400158, "link": "https://stackoverflow.com/questions/33400158/2d-vector-find-duplicate-elements-get-index-positions-and-count-duplicates/33400283#33400283", "title": "2d vector - find duplicate elements / get index positions and count duplicates", "body": "<p>You could use a <code>std::map</code> with the key as the line vector and an <code>int</code> for the value.  As you go through the main vector insert the line vector into the map using <code>operator[]</code> and increment the <code>int</code>.</p>\n\n<pre><code>std::vector &lt; std::vector&lt; std::string&gt;&gt; lines;\nstd::map&lt;std::vector&lt;std::string&gt;, int&gt; line_counter;\n\nfor (const auto &amp; e : lines)\n    line_counter[e]++;\n</code></pre>\n\n<p>This will give you count for the number of duplicates for each line.</p>\n"}], "owner": {"reputation": 13, "user_id": 5339579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AXhwB.jpg?s=128&g=1", "display_name": "C. Fitz", "link": "https://stackoverflow.com/users/5339579/c-fitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446061601, "creation_date": 1446061228, "question_id": 33400158, "link": "https://stackoverflow.com/questions/33400158/2d-vector-find-duplicate-elements-get-index-positions-and-count-duplicates", "title": "2d vector - find duplicate elements / get index positions and count duplicates", "body": "<p>I have a 2d vector containing lines of text from a file, how can i get the index of duplicate lines and count them.</p>\n\n<pre><code>for (unsigned int i = 0; i &lt; myFileNames.size(); ++i)  \n        {  \n            infile.open(\"Whatever\\\\WhereEver\\\\\" + myFileName[i]);  \n        if (!infile.eof())  \n        { \n            std::vector &lt; std::vector&lt; std::string&gt;&gt; lines;    \n            while (getline(infile, line))  \n            {  \n                std::vector &lt; std::string&gt; tokens;  \n                std::istringstream ls(line);  \n                std::string token;\n\n                while (ls &gt;&gt; token)  \n                    tokens.push_back(token);  \n                if (tokens.size())  \n                    lines.emplace_back(std::move(tokens));  \n            }  \n            for (auto&amp; line : lines)  \n            {  \n                for (auto&amp; token : line)  \n                    std::cout &lt;&lt; token &lt;&lt; ' ';  \n                std::cout &lt;&lt; '\\n';  \n            }       \n        }  \n        else\n        {  \n            cout &lt;&lt; \"Never opened the file line 106 ..\" &lt;&lt; endl;  \n        }  \n</code></pre>\n"}, {"tags": ["c++", "fstream"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1446061858, "post_id": 33400023, "comment_id": 54591995, "body": "I think this is implementation-dependent in the C++ specification. On Unix, the gap is filled with null bytes, which is what you see in <code>vim</code>. Try <code>cat -v</code> to see non-printing characters with <code>cat</code>."}], "answers": [{"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 2, "last_activity_date": 1446062136, "creation_date": 1446062136, "answer_id": 33400439, "question_id": 33400023, "link": "https://stackoverflow.com/questions/33400023/what-is-the-proper-behaviour-of-seekp-in-the-context-of-beyond-the-file/33400439#33400439", "title": "What is the proper behaviour of seekp in the context of beyond the file", "body": "<p>First the good news:</p>\n\n<p>What's happening on your system is probably what you'd expect - 10 bytes of value zero are being written into your file to fill the 'gap' (or perhaps they were already zero in the memory page and this was just luck).</p>\n\n<p><code>^@</code> is shorthand for <code>CTRL-@</code>. In the ASCII system the CTRL key subtracts decimal 64 from the ASCII code of the key you pressed. <code>@</code> is ASCII code 64 or 0x40.</p>\n\n<p>Now the bad news:</p>\n\n<p>The c++ standard has nothing to say on the matter, and neither do the underlying C APIs. So what you're doing is probably not portable - unless you don't care about the values of those bytes.</p>\n"}], "owner": {"reputation": 1860, "user_id": 3671410, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/7dAyV.jpg?s=128&g=1", "display_name": "Artur Pyszczuk", "link": "https://stackoverflow.com/users/3671410/artur-pyszczuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446062136, "creation_date": 1446060816, "question_id": 33400023, "link": "https://stackoverflow.com/questions/33400023/what-is-the-proper-behaviour-of-seekp-in-the-context-of-beyond-the-file", "title": "What is the proper behaviour of seekp in the context of beyond the file", "body": "<p>What should be the content of the file after executing following code</p>\n\n<pre><code>int main (int, char**) {\n\n    std::string s1 {\"Hello world\"};\n    std::string s2 {\"x\"};\n\n    std::fstream f {\"file1\", std::ios_base::out};\n    f.write (s1.data (), s1.size ());\n    f.seekp (10, std::ios_base::end);\n    f.write (s2.data (), s2.size ());\n\n    return 0;\n}\n</code></pre>\n\n<p>I mean what should be placed between 'old' end of file and 'new' end of file. I changed write cursor position beyond end of the file. So, what characters should be used as fulfillment.</p>\n\n<p>After execution it, I read the file using cat, vim and Kate. Outputs are:</p>\n\n<pre><code>Hello worldx                       # cat\nHello world^@^@^@^@^@^@^@^@^@^@x   # vim\nHello worldx                       # Kate**\n</code></pre>\n\n<p>** in the text editor between d and x were a lot of whitespace characters. Kate showed the description that this file contains invalid characters.</p>\n"}, {"tags": ["c++", "mpi"], "comments": [{"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 5, "creation_date": 1446061071, "post_id": 33399983, "comment_id": 54591585, "body": "Debugger, logger............................................."}, {"owner": {"reputation": 133, "user_id": 4844581, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0c56cc6361761b3d349758682723acb?s=128&d=identicon&r=PG&f=1", "display_name": "wasabi123", "link": "https://stackoverflow.com/users/4844581/wasabi123"}, "reply_to_user": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1446064451, "post_id": 33399983, "comment_id": 54593402, "body": "any more information/video tutorial I could follow?"}, {"owner": {"reputation": 419, "user_id": 1676509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GafYG.png?s=128&g=1", "display_name": "Danil Prokhorenko", "link": "https://stackoverflow.com/users/1676509/danil-prokhorenko"}, "edited": false, "score": 0, "creation_date": 1446080710, "post_id": 33399983, "comment_id": 54600022, "body": "And what do you want? You have two messages: <i>Float point exception: 8 (8)</i> and <i>Integer divide-by-zero</i> (7). I think it is start point for looking for your errors."}, {"owner": {"reputation": 4724, "user_id": 1024740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1037d544b43c71c34225fac55e0c7750?s=128&d=identicon&r=PG", "display_name": "Rob Latham", "link": "https://stackoverflow.com/users/1024740/rob-latham"}, "edited": false, "score": 0, "creation_date": 1446138782, "post_id": 33399983, "comment_id": 54630631, "body": "you will need to recompile your code, and maybe even your mpi library, with debugging symbols.  a tool like valgrind can help."}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1481359261, "post_id": 33399983, "comment_id": 69353906, "body": "There is an excellent overview in the <a href=\"http://www.open-mpi.de/faq/?category=debugging\" rel=\"nofollow noreferrer\">OpenMPI FAQ</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "is_accepted": false, "score": 1, "last_activity_date": 1446176992, "last_edit_date": 1446176992, "creation_date": 1446076193, "answer_id": 33403581, "question_id": 33399983, "link": "https://stackoverflow.com/questions/33399983/how-could-i-debug-c-mpi-code/33403581#33403581", "title": "How could I debug C++ MPI code?", "body": "<p>My recommendation would be to put unit tests around your code to verify it functions correctly in a context smaller than your entire application.  If you are new to unit testing and test-driven development, you can look at my <a href=\"https://legalizeadulthood.wordpress.com/2014/05/17/c-now-2014-presentations-posted/\" rel=\"nofollow\">tutorial on test-driven development from C++ Now! 2014</a>.</p>\n\n<p>To elaborate further: when faced with a bug, I try to write a failing unit test that demonstrates the bug.  It's hard to make a specific recommendation of what test to write without seeing any code, but I suggest you start by running your code in the debugger and setting the debugger to treat any floating point exception signal as a breakpoint.  When the breakpoint is hit due to the signal, examine the call stack at that point.  Then you will know what code is causing the signal.  Then you can write a unit test that calls that code with the same arguments.  Your unit test should now fail by reproducing the problem and causing the same divide-by-zero signal.  Then you can change your implementation and re-run the test to verify that the signal is no longer caused.</p>\n"}], "owner": {"reputation": 133, "user_id": 4844581, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0c56cc6361761b3d349758682723acb?s=128&d=identicon&r=PG&f=1", "display_name": "wasabi123", "link": "https://stackoverflow.com/users/4844581/wasabi123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1459535451, "creation_date": 1446060699, "last_edit_date": 1459535451, "question_id": 33399983, "link": "https://stackoverflow.com/questions/33399983/how-could-i-debug-c-mpi-code", "title": "How could I debug C++ MPI code?", "body": "<p>My <a href=\"http://en.wikipedia.org/wiki/Boost_%28C%2B%2B_libraries%29\" rel=\"nofollow\">Boost</a> <a href=\"http://en.wikipedia.org/wiki/Message_Passing_Interface\" rel=\"nofollow\">MPI </a> code compiles with no problem:</p>\n\n<p>But when running, I have issues. I am not sure which line in my code causes this problem. What could I do?</p>\n\n<pre><code>[dhcp-18-189-36-128:80590] *** Process received signal ***\n[dhcp-18-189-36-128:80590] Signal: Floating point exception: 8 (8)\n[dhcp-18-189-36-128:80590] Signal code: Integer divide-by-zero (7)\n[dhcp-18-189-36-128:80590] Failing at address: 0x10e4cab9f\n[dhcp-18-189-36-128:80590] [ 0] 0   libsystem_platform.dylib            0x00007fff8d0185aa _sigtramp + 26\n[dhcp-18-189-36-128:80590] *** End of error message ***\n</code></pre>\n"}, {"tags": ["java", "c++", "refactoring", "factory"], "comments": [{"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1446060704, "post_id": 33399948, "comment_id": 54591383, "body": "Even a switch would have to be repeated several times?"}, {"owner": {"reputation": 9984, "user_id": 1361506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5527d6bb829d75befe914163f5e8cf60?s=128&d=identicon&r=PG", "display_name": "azurefrog", "link": "https://stackoverflow.com/users/1361506/azurefrog"}, "edited": false, "score": 2, "creation_date": 1446060755, "post_id": 33399948, "comment_id": 54591414, "body": "You could also create an array of different balls and use the random number for the index."}, {"owner": {"reputation": 385, "user_id": 5095124, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5b02852c4583b2524d667931ffb07322?s=128&d=identicon&r=PG&f=1", "display_name": "The Law", "link": "https://stackoverflow.com/users/5095124/the-law"}, "edited": false, "score": 0, "creation_date": 1446061260, "post_id": 33399948, "comment_id": 54591681, "body": "What type of data is your Ball?"}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446061312, "post_id": 33399948, "comment_id": 54591719, "body": "Its just an example, its an object of pixmap data type."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 3, "creation_date": 1446061999, "post_id": 33399948, "comment_id": 54592074, "body": "The array-/map-based solutions assume it&#39;s okay to return a single instance; if, say, you&#39;re generating a room full of random balls you&#39;d probably want a <i>new</i> instance each time through, which would require modification from what&#39;s been presented so far. Since we don&#39;t know the ultimate use of this factory it&#39;s hard to provide a concrete answer."}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1446062515, "post_id": 33399948, "comment_id": 54592368, "body": "@DaveNewton see edit :)"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1446062620, "post_id": 33399948, "comment_id": 54592427, "body": "Doesn&#39;t help; you don&#39;t say if you need to generate multiple unique instances."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1446062953, "post_id": 33399948, "comment_id": 54592611, "body": "@hat_to_the_back, There is no general-purpose answer to your question as it is currently  posed.  Possible answers vary greatly depending on the details of the objects your factory must provide to its clients.  You&#39;ll need to get much more specific for your question to be answerable."}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 1, "creation_date": 1446062954, "post_id": 33399948, "comment_id": 54592613, "body": "Yes multiple unique instances, with multiple different attribute for each object,"}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1446063009, "post_id": 33399948, "comment_id": 54592646, "body": "@JohnBollinger Think of a motorway with different types of vehicles each which have different speeds, different types of drivers etc. All of type vehicle"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1446067903, "post_id": 33399948, "comment_id": 54595161, "body": "If  you need new instances, then there are a number of options, including any of various ways to construct objects from maps of values (e.g., array entries would contain hashes of named property values for the new objects), using a switch as described, move some of the logic into the classes themselves, etc."}], "answers": [{"comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1446062365, "post_id": 33400076, "comment_id": 54592283, "body": "Although substituting a <code>switch</code> statement with N cases for N <code>if</code> / <code>else if</code> blocks answers the literal question posed, it doesn&#39;t address the underlying issues of scalability and maintainability to which the OP alludes."}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 1, "creation_date": 1446062563, "post_id": 33400076, "comment_id": 54592395, "body": "Yes this is correct. What if I had 20 different objects of the same type?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446062812, "post_id": 33400076, "comment_id": 54592537, "body": "@hat_to_the_back Then it depends on what the actual use-case is. Do the different objects have a different set of properties (e.g., that you could pass to a constructor)? Etc."}, {"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446063248, "post_id": 33400076, "comment_id": 54592793, "body": "Referring to the above example each ball will have the same attributes eg, size, bouncyness, colour... but theese will vary eg one will be bigger than the other"}], "tags": [], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1446063564, "last_edit_date": 1446063564, "creation_date": 1446061002, "answer_id": 33400076, "question_id": 33399948, "link": "https://stackoverflow.com/questions/33399948/too-many-if-statements-inside-factory/33400076#33400076", "title": "Too Many If Statements Inside Factory", "body": "<p>The simplest solution is to use a <code>switch</code> statement, something like:</p>\n\n<pre><code>int randomNumber = ranGen.createRandomNumber(1,3);\nswitch (randomNumber) {\n    case 1:\n        // return smallBall\n        break;\n    case 2:\n        // return mediumBall\n        break;\n    case 3:\n        // return largeBall\n        break;\n    default:\n        // handle non-expected value\n        break;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13900, "user_id": 2020827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e6c7105ef9148e931ad05a6692155046?s=128&d=identicon&r=PG&f=1", "display_name": "sergej", "link": "https://stackoverflow.com/users/2020827/sergej"}, "is_accepted": false, "score": 2, "last_activity_date": 1446063763, "last_edit_date": 1446063763, "creation_date": 1446061892, "answer_id": 33400363, "question_id": 33399948, "link": "https://stackoverflow.com/questions/33399948/too-many-if-statements-inside-factory/33400363#33400363", "title": "Too Many If Statements Inside Factory", "body": "<p>You can use a <code>Map</code>, something like this (assuming that <code>SmallBall</code> and others are subclasses of <code>Ball</code>):</p>\n\n<pre><code>Map&lt;Integer, Ball&gt; balls = new HashMap&lt;Integer, Ball&gt;();\n\nballs.put(1, new SmallBall());\nballs.put(2, new MediumBall());\nballs.put(3, new LargeBall());\n\nRandomGenerator ranGen = new RandomGenerator();\nInteger randomNumber = ranGen.createRandomNumber(1, balls.size());\n\nreturn balls.get(randomNumber);\n</code></pre>\n\n<p>Note: In this example, the factory method would always return a reference to\none of the three instances, no new objects are created.</p>\n\n<p>If you want multiple unique instances, put concrete Ball-factories into the map:</p>\n\n<pre><code>Map&lt;Integer, BallFactory&gt; ballFactories = new HashMap&lt;Integer, BallFactory&gt;();\n\nballFactories.put(1, new SmallBallFactory());\nballFactories.put(2, new MediumBallFactory());\nballFactories.put(3, new LargeBallFactory());\n\nRandomGenerator ranGen = new RandomGenerator();\nInteger randomNumber = ranGen.createRandomNumber(1, balls.size());\n\nreturn ballFactories.get(randomNumber).createBall();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1446063953, "creation_date": 1446063953, "answer_id": 33400966, "question_id": 33399948, "link": "https://stackoverflow.com/questions/33399948/too-many-if-statements-inside-factory/33400966#33400966", "title": "Too Many If Statements Inside Factory", "body": "<p>You have at least two likely techniques available to you to provide for random generation of objects without hard-coding a fixed set of alternatives:</p>\n\n<ol>\n<li>Randomization of constructor / factory-method parameters, and</li>\n<li>Use of a randomly-selected builder object from a collection of such objects maintained by the factory.</li>\n</ol>\n\n<p>I'll focus on the latter.  The suggestion to return a random element from a collection of pre-built ones is a special case, wherein the builder objects trivially provide themselves as the generated object.  A more general form might resemble this:</p>\n\n<pre><code>interface Builder&lt;T&gt; {\n    T createObject();\n}\n\nclass Factory&lt;T&gt; {\n    private final List&lt;Builder&lt;? extends T&gt;&gt; builders = new ArrayList&lt;&gt;();\n    private final RandomGenerator ranGen = new RandomGenerator();\n\n    T createRandomObject() {\n        int randomNumber = ranGen.createRandomNumber(0, builders.size() - 1);\n\n        return builders.get(randomNumber).createObject();\n    }\n\n    // Not shown: mechanisms for managing the available Builder objects\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446417563, "post_id": 33415338, "comment_id": 54721759, "body": "See this is in Java, I can understand where you are coming from here. But I am doing this in c++ and I am not sure what to replace cloneable with etc"}, {"owner": {"reputation": 13900, "user_id": 2020827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e6c7105ef9148e931ad05a6692155046?s=128&d=identicon&r=PG&f=1", "display_name": "sergej", "link": "https://stackoverflow.com/users/2020827/sergej"}, "reply_to_user": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446459334, "post_id": 33415338, "comment_id": 54735750, "body": "@hat_to_the_back Are you looking for a C++ solution? Are you serious? Why don&#39;t you say that the question? Why is the question tagged with Java? Why is your example code not in C++?"}], "tags": [], "owner": {"reputation": 13900, "user_id": 2020827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e6c7105ef9148e931ad05a6692155046?s=128&d=identicon&r=PG&f=1", "display_name": "sergej", "link": "https://stackoverflow.com/users/2020827/sergej"}, "is_accepted": true, "score": 3, "last_activity_date": 1447710956, "last_edit_date": 1447710956, "creation_date": 1446124643, "answer_id": 33415338, "question_id": 33399948, "link": "https://stackoverflow.com/questions/33399948/too-many-if-statements-inside-factory/33415338#33415338", "title": "Too Many If Statements Inside Factory", "body": "<p>Another approach would be to apply the <a href=\"https://en.wikipedia.org/wiki/Prototype_pattern\" rel=\"nofollow\"><strong>prototype pattern</strong></a>.</p>\n\n<p>In the following example, we have a class named <code>RandomBallFactory</code> that\ncreates random (unique) <code>Ball</code> instances by cloning registered prototypes.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>We can add new <code>Ball</code> subclasses without having to change the <code>RandomBallFactory</code> implementation.</li>\n<li>We can create objects of the same type but with different parameters.</li>\n<li>We have no if-statements.</li>\n</ul>\n\n<p><strong>Java</strong> example:</p>\n\n<pre><code>import java.util.*;\n\nabstract class Ball implements Cloneable {\n    abstract String getName();\n    public Ball clone() {\n        Ball ball;\n        try {\n            ball = (Ball)super.clone();\n        } catch (CloneNotSupportedException e) {\n            ball = null;\n        }\n        return ball;\n    }\n}\n\nclass SmallBall extends Ball {\n    public String getName() { return \"smallBall\"; }\n}\n\nclass MediumBall extends Ball {\n    public String getName() { return \"mediumBall\"; }\n}\n\nclass LargeBall extends Ball {\n    public String getName() { return \"largeBall\"; }\n}\n\nclass RandomBallFactory {\n    private final List&lt;Ball&gt; prototypes;\n\n    public RandomBallFactory() {\n        prototypes = new ArrayList&lt;Ball&gt;();\n    }\n\n    public void registerBall(Ball ball) {\n        prototypes.add(ball);\n    }\n\n    public Ball createBall() {\n        Random randomGenerator = new Random();\n        Integer randomNumber = randomGenerator.nextInt(prototypes.size());\n        return prototypes.get(randomNumber).clone();\n    }\n}\n\npublic class TestBalls {\n    public static void main(String[] args) {\n        RandomBallFactory randomBallFactory = new RandomBallFactory();\n        randomBallFactory.registerBall(new SmallBall());\n        randomBallFactory.registerBall(new MediumBall());\n        randomBallFactory.registerBall(new LargeBall());\n\n        Ball ball = randomBallFactory.createBall();\n        System.out.println(ball.getName());\n    }\n}\n</code></pre>\n\n<p><strong>C++</strong> example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n\nclass Ball {\npublic:\n    Ball() { std::cout &lt;&lt; __func__ &lt;&lt; std::endl; }\n    Ball(Ball&amp; other) { std::cout &lt;&lt; __func__ &lt;&lt; \" copy from \" &lt;&lt; other.getName() &lt;&lt; std::endl; }\n    virtual ~Ball() { std::cout &lt;&lt; __func__  &lt;&lt; std::endl; }\n    virtual std::string getName() = 0;\n    virtual Ball* clone() = 0;\n};\n\nclass SmallBall : public Ball {\npublic:\n    std::string getName() { return \"smallBall\"; }\n    Ball* clone() { return new SmallBall(*this); }\n};\n\nclass MediumBall : public Ball {\npublic:\n    std::string getName() { return \"mediumBall\"; }\n    Ball* clone() { return new MediumBall(*this); }\n};\n\nclass LargeBall : public Ball {\npublic:\n    std::string getName() { return \"largeBall\"; }\n    Ball* clone() { return new LargeBall(*this); }\n};\n\nclass RandomBallFactory {\nprivate:\n    std::vector&lt;std::shared_ptr&lt;Ball&gt; &gt; prototypes;\n\npublic:\n    void registerBall(std::shared_ptr&lt;Ball&gt; ball_ptr) {\n        prototypes.push_back(ball_ptr);\n    }\n\n    std::shared_ptr&lt;Ball&gt; createBall() {\n        int randomNumber = std::rand() % prototypes.size();\n        return std::shared_ptr&lt;Ball&gt;(prototypes.at(randomNumber)-&gt;clone());\n    }\n};\n\nint main(void) {\n    std::srand(std::time(0));\n    RandomBallFactory randomBallFactory;\n\n    std::shared_ptr&lt;Ball&gt; sb_ptr(std::make_shared&lt;SmallBall&gt;());\n    std::shared_ptr&lt;Ball&gt; mb_ptr(std::make_shared&lt;MediumBall&gt;());\n    std::shared_ptr&lt;Ball&gt; lb_ptr(std::make_shared&lt;LargeBall&gt;());\n\n    randomBallFactory.registerBall(sb_ptr);\n    randomBallFactory.registerBall(mb_ptr);\n    randomBallFactory.registerBall(lb_ptr);\n\n    std::shared_ptr&lt;Ball&gt; ball_ptr(randomBallFactory.createBall());\n    std::cout &lt;&lt; \"random Ball is: \" &lt;&lt; ball_ptr-&gt;getName() &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 33415338, "answer_count": 4, "score": 1, "last_activity_date": 1447710956, "creation_date": 1446060605, "last_edit_date": 1446491769, "question_id": 33399948, "link": "https://stackoverflow.com/questions/33399948/too-many-if-statements-inside-factory", "title": "Too Many If Statements Inside Factory", "body": "<p>I am currently developing an application with lots of different design patterns. It needs to follow good practice basically no code smells.</p>\n\n<p>I am using a factory method to print out random types of objects but I have to use 3 if statements, which seems inefficient... What would happen if I wanted to print out 10 different objects? Would one just have to add more if statements is there no other way around this.</p>\n\n<p>** The ultimate use of this particular method in the factory is to just return a random object (1) of ball type. </p>\n\n<pre><code>RandomGenerator ranGen = new RandomGenerator();\nint randomNumber = ranGen.createRandomNumber(1,3);\nif(randomNumber == 1){\n     //return smallBall\n}\nelse if(randomNumber ==2){\n    //return mediumBall\n}\nelse if(randomNumber == 3){\n    //return largeBall\n}\n</code></pre>\n"}, {"tags": ["c++", "sockets", "tcp"], "comments": [{"owner": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "edited": false, "score": 0, "creation_date": 1446064025, "post_id": 33399909, "comment_id": 54593175, "body": "@Giorgi, Thanks! and i also want to ask, if i dont do the partial writes handling and the send rate in the while loop is very faster (no sleep), so will there be error/lost in server side? for the recv()"}], "answers": [{"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446061699, "post_id": 33400255, "comment_id": 54591917, "body": "Why not just return the send-count, or -1? Why the pointer parameter?"}, {"owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446061861, "post_id": 33400255, "comment_id": 54591999, "body": "@EJP: I showed OP implementation from that guide, which says send may not send all data it was told to, similar goes with reading I guess."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446062245, "post_id": 33400255, "comment_id": 54592210, "body": "@BenVoight It does? I would have expected -1."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446062274, "post_id": 33400255, "comment_id": 54592230, "body": "@Giorgi That doesn&#39;t  answer my question."}, {"owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446062341, "post_id": 33400255, "comment_id": 54592270, "body": "@EJP: didn&#39;t get  you?"}, {"owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446062438, "post_id": 33400255, "comment_id": 54592322, "body": "@BenVoigt: is this better?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1446062517, "post_id": 33400255, "comment_id": 54592369, "body": "@EJP: Well, I usually see <code>0</code> from the reading/receiving side, but <code>0</code> is also a legal return value from <code>send</code>, so it&#39;s good to handle it."}], "tags": [], "owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "is_accepted": false, "score": 2, "last_activity_date": 1447002260, "last_edit_date": 1447002260, "creation_date": 1446061526, "answer_id": 33400255, "question_id": 33399909, "link": "https://stackoverflow.com/questions/33399909/tcp-socket-programming-regarding-the-packet-and-buffer-size/33400255#33400255", "title": "TCP socket programming regarding the packet and buffer size", "body": "<p>You will need sendall like <a href=\"http://beej.us/guide/bgnet/output/html/multipage/advanced.html#sendall\" rel=\"nofollow\">here</a>, and you will (probably) need to write a similar <code>receivall</code>. Here is the <code>sendall</code> (slightly modified):</p>\n\n<pre><code>#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n\nint sendall(int s, char *buf, int *len)\n{\n    int total = 0;        // how many bytes we've sent\n    int bytesleft = *len; // how many we have left to send\n    int n = -1;\n\n    while(total &lt; *len) {\n        n = send(s, buf+total, bytesleft, 0);\n        if (n &lt;= 0) {  break; }\n        total += n;\n        bytesleft -= n;\n    }\n\n    *len = total;  \n\n    return (n&lt;=0)?-1:0; // return -1 on failure, 0 on success\n} \n</code></pre>\n\n<p>And you can read up here how to deal with <a href=\"http://blog.stephencleary.com/2009/04/message-framing.html\" rel=\"nofollow\">message framing</a>, which is what you need.</p>\n"}, {"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446062024, "post_id": 33400287, "comment_id": 54592096, "body": "Correct, except for &quot;it will handle it for me automatically&quot;.  You need to check the return value from the <code>write</code> or <code>send</code> call, and handle partial writes."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446062205, "post_id": 33400287, "comment_id": 54592183, "body": "@BenVoigt That statement only applies to the <code>send()</code>, and it is correct in blocking mode as per Posix, unless there is an interrupt."}, {"owner": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "edited": false, "score": 0, "creation_date": 1446062510, "post_id": 33400287, "comment_id": 54592363, "body": "buf [out] A pointer to the buffer to receive the incoming data. len [in] The length, in bytes, of the buffer pointed to by the buf parameter.  by the MSDN, so for send() case, i put 2000 for len[in] to indicate i want to send 2000 bytes of this buffer char pointer ?  and for the recv() case, I put whatever number for the len[in] parameter ? as it will split the message for me if the length is smaller than 2000 and then wait for next recv() ?"}, {"owner": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "edited": false, "score": 0, "creation_date": 1446063500, "post_id": 33400287, "comment_id": 54592923, "body": "@Giorgi, Thanks! and i also want to ask, if i dont do the partial writes handling and the send rate in the while loop is very faster (no sleep), so will there be error/lost in server side? for the recv()"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "edited": false, "score": 0, "creation_date": 1446066191, "post_id": 33400287, "comment_id": 54594373, "body": "@WesPoon It depends on other factors such as whether you&#39;ve set the socket blocking or non-blocking and whether you receive any signals."}, {"owner": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "edited": false, "score": 0, "creation_date": 1446066346, "post_id": 33400287, "comment_id": 54594436, "body": "by default it should be the blocking function in Windows. ? but i found that it turns to a non-blocking one while execution, troubleshooting..."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": true, "score": 3, "last_activity_date": 1446061614, "creation_date": 1446061614, "answer_id": 33400287, "question_id": 33399909, "link": "https://stackoverflow.com/questions/33399909/tcp-socket-programming-regarding-the-packet-and-buffer-size/33400287#33400287", "title": "TCP socket programming regarding the packet and buffer size", "body": "<blockquote>\n  <p>If i have a packet of 2000 bytes, say 2000 'a',</p>\n</blockquote>\n\n<p>You don't. You have a <em>message</em> of 2000 bytes.</p>\n\n<blockquote>\n  <p>and my default buffer size is 1024</p>\n</blockquote>\n\n<p>Unlikely. It will be at least 8192, possibly many thousands of K.</p>\n\n<blockquote>\n  <p>then it is supposed to send twice</p>\n</blockquote>\n\n<p>At least.</p>\n\n<blockquote>\n  <p>and received twice?</p>\n</blockquote>\n\n<p>At least.</p>\n\n<blockquote>\n  <p>for the second parameter, what should i put?</p>\n</blockquote>\n\n<p>The size of the <em>message</em> you want to send: in this case, 2000.</p>\n\n<blockquote>\n  <p>sending buffer character pointer with 1024 bytes mallocated</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>or a packet character pointer with 2000 bytes and it will handle it for me automatically ?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>and for the recv() blocking function, i should put the buffer character pointer to the second parameter or the packet one?</p>\n</blockquote>\n\n<p>I can't make head or tail of this, but you should receive into a buffer as large as possible and loop until you have the entire message.</p>\n\n<blockquote>\n  <p>and for the header, my friend suggested me to add header of 4 bytes to store the packet information, eg. sequence number and size of packet, how can it be implemented!</p>\n</blockquote>\n\n<p>You don't really need the sequence number, but a message size is a good idea. Just stick it in the front of the message. Unclear what the question is here.</p>\n"}], "owner": {"reputation": 33, "user_id": 4834087, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204100035641285/picture?type=large", "display_name": "Wes Poon", "link": "https://stackoverflow.com/users/4834087/wes-poon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "accepted_answer_id": 33400287, "answer_count": 2, "score": 2, "last_activity_date": 1447002260, "creation_date": 1446060494, "last_edit_date": 1446064067, "question_id": 33399909, "link": "https://stackoverflow.com/questions/33399909/tcp-socket-programming-regarding-the-packet-and-buffer-size", "title": "TCP socket programming regarding the packet and buffer size", "body": "<p>I know that there is no packet concept in TCP as it is a stream socket, then for example, if i have a packet of 2000 bytes, say 2000 'a', and my default buffer size is 1024, then it is supposed to send twice and received twice?</p>\n\n<p>so for the send() function, </p>\n\n<pre><code>iResult = send(s, sendbuf, packet_size, 0);\n</code></pre>\n\n<p>for the second parameter, what should i put? a sending buffer character pointer with 1024 bytes mallocated or a packet character pointer with 2000 bytes and it will handle it for me automatically ?</p>\n\n<p>and for the recv() blocking function, i should put the buffer character pointer to the second parameter or the packet one?</p>\n\n<p>and for the header, my friend suggested me to add header of 4 bytes to store the packet information, eg. sequence number and size of packet, how can it be implemented ? thanks</p>\n\n<p>@Giorgi, Thanks! and i also want to ask, if i dont do the partial writes handling and the send rate in the while loop is very faster (no sleep), so will there be error/lost in server side? for the recv()</p>\n\n<pre><code>SOCKET newsfd;\nbind(s, (struct sockaddr *)ReceiverSocket, sizeof(struct sockaddr_in));\nif (strcmp(protocol, \"tcp\") == 0 || strcmp(protocol, \"TCP\") == 0){\n    listen(s, 1);\n    newsfd = accept(s, 0, 0);\n}\n\n//*** Create Update Display Thread\nstd::thread th(Function_packet_transmission_display, update_interval, (char*) \"recv\");\n\n//*** Receive Data//*** Set Jitter\nlong time_old = 0, time_new = 0, time_start = 0;\nlong float jitter_new = 0, jitter_old = 0;\nlong long temp_accubyte = 0, temp_pktnum = 0; //testing\nchar *recvbuf = new char[buffer_size];\nlong long next_seq_num = 1; int retVal;\ndo{\n\n    if (strcmp(protocol, \"tcp\") == 0 || strcmp(protocol, \"TCP\") == 0){\n        retVal = recv(newsfd, recvbuf, packet_size, 0);\n        if ((retVal == SOCKET_ERROR) || (retVal == 0)){\n            printf(\"\\nreturn fail code:%i\\n\", WSAGetLastError());\n            closesocket(s);\n            WSACleanup();\n            lck.lock();\n            Ended = true;\n            lck.unlock();\n            return 0;\n        }\n    }\n    else if (strcmp(protocol, \"udp\") == 0 || strcmp(protocol, \"UDP\") == 0){\n        int fromlen = (int)sizeof(struct sockaddr_in);\n        retVal = recvfrom(s, recvbuf, packet_size, 0, (struct sockaddr *)ReceiverSocket, &amp;fromlen);\n    }\n    //testing\n    temp_accubyte += retVal;\n    temp_pktnum++;//TEST\n    //printf(\"\\racc: %lld %lld    -   \", temp_accubyte, temp_pktnum);\n    //if (temp_pktnum==100000)            printf(\"\\nReach 100000\\n\", temp_accubyte, temp_pktnum);\n\n    if (timer == NULL){\n        timer = new ES_FlashTimer();\n    }\n</code></pre>\n"}, {"tags": ["c++", "tcl"], "answers": [{"comments": [{"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 0, "creation_date": 1446061161, "post_id": 33400111, "comment_id": 54591634, "body": "Unlike the main Tcl language, Tcl&#39;s expressions are described by a full grammar as they approximately mimic a subset of C expressions. But with more Tclishness."}], "tags": [], "owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "is_accepted": true, "score": 3, "last_activity_date": 1446061102, "creation_date": 1446061102, "answer_id": 33400111, "question_id": 33399746, "link": "https://stackoverflow.com/questions/33399746/tcl-parseexpr-does-not-parse-expression-with-dot-in-it/33400111#33400111", "title": "Tcl_ParseExpr does not parse expression with &#39;dot&#39; in it", "body": "<p>The <code>.</code> character is <em>not</em> an operator in Tcl's expression language as things stand right now. It can be used within a floating point literal, of course, but it simply isn't a legal part of the grammar rules as an operator. Thus, Tcl's parser stops when it encounters it and throws an error: it would do exactly the same if you fed it into the Tcl <code>expr</code> command. What's more, Tcl's expression language doesn't currently support barewords <em>except</em> as function names (and there's a few keywords that look like barewords too, such as <code>true</code> and <code>false</code>).</p>\n\n<p>Changing that would require rewriting the expression parser and (probably) assigning a meaning to that operator in terms of Tcl's internal bytecode. Not exactly a trivial thing (there's quite a few places in the code to change) but possible if you have a good idea for what to do. If you do, please talk to the Tcl Core Team and we'll see what we can do; you might find us quite receptive to a good suggestion!</p>\n\n<p>Or you can use your own parser, of course. Absolutely nothing stopping that.</p>\n"}], "owner": {"reputation": 55, "user_id": 3507499, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a3f4418333c096f98586a20f82aef1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3507499", "link": "https://stackoverflow.com/users/3507499/user3507499"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 33400111, "answer_count": 1, "score": 1, "last_activity_date": 1446061191, "creation_date": 1446059945, "last_edit_date": 1446061191, "question_id": 33399746, "link": "https://stackoverflow.com/questions/33399746/tcl-parseexpr-does-not-parse-expression-with-dot-in-it", "title": "Tcl_ParseExpr does not parse expression with &#39;dot&#39; in it", "body": "<p>So I am trying to parse an expression using Tcl_ParseExpr:</p>\n\n<pre><code>    // Any syntax errors?\nTcl_Interp *myInterpBuild;\nTcl_Parse parseInfo;\nstd::string expression = \"(test1==1) ? 0.0) : (test2.hello+1.0)\";\n\nif (Tcl_ParseExpr(myInterpBuild,expression.c_str(),-1,&amp;parseInfo)\n    == TCL_ERROR)\n{\n    std::string failMsg = Tcl_GetStringResult(myInterpBuild);\n    std::cout &lt;&lt; failMsg;\n</code></pre>\n\n<p>Now, usually this works and no error is give. However, if the expression contains a . (dot symbol) then it only parses the part of the expression up the the dot.</p>\n\n<p>For example, if I set expression to '<code>(test1==1) ? 0.0) : (test2.hello+1.0)</code>' then only '<code>test2</code>' is parsed and '<code>hello</code>' is thrown away. </p>\n\n<p>The output of the above is:</p>\n\n<pre><code>invalid bareword \"test2\"\n</code></pre>\n\n<p>It appears only to evaluate the expression up to and not including the dot character.</p>\n\n<p>Does anyone know why this is happening and what I have to do to fix this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 1, "creation_date": 1446059882, "post_id": 33399721, "comment_id": 54590891, "body": "Paste the <b>exact</b> error message."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446060078, "post_id": 33399721, "comment_id": 54590997, "body": "What &quot;this section&quot; does is provide the body of a three-parameter constructor.  It isn&#39;t a default constructor -- those can be called with no parameters.  Sadly, it also isn&#39;t good C++ style, looks like a Java programmer did it."}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446060203, "post_id": 33399721, "comment_id": 54591071, "body": "1. Use an initializer list. 2. Don&#39;t write such code. It hurts all principles of encapsulation. Using a namespace would suit better here, IMO. As an example it&#39;s alright, though. 3. Your setters don&#39;t take any arguments."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446060203, "post_id": 33399721, "comment_id": 54591070, "body": "Have you heard of the <code>const</code> keyword? Might be useful to read up about that"}, {"owner": {"reputation": 19, "user_id": 5499828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f1a87e61c11d66bad4a17fd46a70f8?s=128&d=identicon&r=PG&f=1", "display_name": "Katia", "link": "https://stackoverflow.com/users/5499828/katia"}, "edited": false, "score": 0, "creation_date": 1446060311, "post_id": 33399721, "comment_id": 54591138, "body": "It states - no fitting function for &quot;Box::setLength(double&amp;)&quot; - a candidate is &quot;double Box::setLength()"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446060385, "post_id": 33399721, "comment_id": 54591164, "body": "@Katia: Well, you made a <code>setLength</code> function with no arguments and a return value... like a getter would have.  Then your call passes in one argument, which the compiler doesn&#39;t expect."}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 0, "creation_date": 1446060407, "post_id": 33399721, "comment_id": 54591176, "body": "You&#39;re declaring and defining your <code>setLength</code>, <code>setWidth</code> and <code>setHeight</code> without any arguments but calling them with a double argument."}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446060421, "post_id": 33399721, "comment_id": 54591184, "body": "Your setters take no arguments. They look like getters disguised as setters. No offense but please think before asking something like that. If you still don&#39;t understand it <b>then</b>, read a good book on C++."}, {"owner": {"reputation": 19, "user_id": 5499828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f1a87e61c11d66bad4a17fd46a70f8?s=128&d=identicon&r=PG&f=1", "display_name": "Katia", "link": "https://stackoverflow.com/users/5499828/katia"}, "edited": false, "score": 0, "creation_date": 1446060502, "post_id": 33399721, "comment_id": 54591241, "body": "Ed Heal, can I use a const with my functions for length, width and height, such that they look like this - &quot;const double Box::setLength()&quot;? Would this not stop them from dynamically changing when a user puts a new number in?"}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446060636, "post_id": 33399721, "comment_id": 54591327, "body": "Why return a value from a setter? Why return a <code>const</code> from a function if the return value is copied by value anyway? There are <b>so</b> many resources to consult."}, {"owner": {"reputation": 19, "user_id": 5499828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f1a87e61c11d66bad4a17fd46a70f8?s=128&d=identicon&r=PG&f=1", "display_name": "Katia", "link": "https://stackoverflow.com/users/5499828/katia"}, "edited": false, "score": 0, "creation_date": 1446060678, "post_id": 33399721, "comment_id": 54591360, "body": "So would it be &quot;const double Box::setLength(length)    {return length}&quot; ? I&#39;m still super confused..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1446060739, "post_id": 33399721, "comment_id": 54591403, "body": "[OT] A better name than <i>length</i> is depth.  A box or cube is usually in terms of height, width and depth; where depth is the measurement in the 3rd dimension."}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446060267, "post_id": 33399802, "comment_id": 54591110, "body": "Should definition in the last line be declaration?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 1, "creation_date": 1446060303, "post_id": 33399802, "comment_id": 54591132, "body": "@EdHeal: No, I do mean &quot;class definition&quot;."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446060447, "post_id": 33399802, "comment_id": 54591198, "body": "@EdHeal: Yes, I&#39;m sure.  <code>class Box { ..... };</code> is a type definition.  A class <i>declaration</i> could be <code>class Box;</code> and I do not mean that."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1446060485, "post_id": 33399802, "comment_id": 54591230, "body": "This doesn&#39;t seem to answer the question."}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446060494, "post_id": 33399802, "comment_id": 54591237, "body": "@EdHeal IMO, a class declaration is <code>class Box;</code> for example."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1446060128, "creation_date": 1446060128, "answer_id": 33399802, "question_id": 33399721, "link": "https://stackoverflow.com/questions/33399721/expected-constructor-destructor-or-header/33399802#33399802", "title": "expected constructor, destructor or header", "body": "<p>If you uncomment the three-parameter constructor, you will get an error message, because a constructor is a class member, and class members have to be declared inside the class before they can be used or defined outside.</p>\n\n<p>Add the line</p>\n\n<pre><code>Box(double height, double width, double length);\n</code></pre>\n\n<p>inside your class definition, and then the additional constructor can be compiled also.</p>\n"}, {"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1446060599, "post_id": 33399923, "comment_id": 54591307, "body": "Actually, &quot;default&quot; in &quot;default constructor&quot; means &quot;can be called with no parameters&quot;.  Your definition fits &quot;defaulted&quot;, which can apply to default constructors, copy constructors, copy assignment operators, etc."}], "tags": [], "owner": {"reputation": 9930, "user_id": 53139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/95057d4c05e1cd82f30bf69b4302a7e6?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/53139/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1446061240, "last_edit_date": 1446061240, "creation_date": 1446060528, "answer_id": 33399923, "question_id": 33399721, "link": "https://stackoverflow.com/questions/33399721/expected-constructor-destructor-or-header/33399923#33399923", "title": "expected constructor, destructor or header", "body": "<p>C++ has some strange behaviors: if you fail to <em>declare and define</em> a default constructor, it will do it for you. Think autogenerated. It will also define a compiler-generated copy constructor and destructor. It's helpful to understand this, because these things exist whether you define them or not.</p>\n\n<p>You both declared the constructor in the header:</p>\n\n<pre><code>public:\n    Box();\n</code></pre>\n\n<p>and defined it in the cpp file:</p>\n\n<pre><code>Box::Box()\n</code></pre>\n\n<p>You correctly both declared and defined this constructor.</p>\n\n<p>If you want any other constructor, you have to declare it before you can define it as well</p>\n\n<pre><code>public:\n    Box();\n    Box(double height, double width, double length); // this is new\n</code></pre>\n\n<p>and then you can uncomment your definition in the cpp file, and all should be well.</p>\n\n<p>One other style point: the way you've defined your 3 parameter constructor is not great style. What happens is that you construct a Box, and when you do so, you <em>use the default constructor</em> for it's member variables of height, width, and depth. You then call 3 member functions to assign these variables. In C++ you can avoid all this by using an initializer list. The body of your 3 parameter constructor becomes</p>\n\n<pre><code>Box::Box(double height, double width, double length) :\n    height(height), width(width), length(length)\n{}\n</code></pre>\n\n<p>What this says is \"build me a Box, and as you do so, use the value of passed in height for member height, width for member width, length for member length\". You save yourself an assignment of 0 as a default value for the member variables and 3 function calls by building your Box \"out of the box\" as it were with those values. This uses the copy constructor for your member variables rather than their default constructors followed by an assignment.</p>\n\n<p>(technical note: as builtins, doubles technically don't have these constructors, but the semantics behave as if they do, so you can think of them as having them on first order thought.)</p>\n\n<p>This means, additionally, that if you define a copy constructor:</p>\n\n<pre><code>Box(const Box&amp; other);\n</code></pre>\n\n<p>then you can use that in other classes to initialize a Box in their initializer lists, e.g.</p>\n\n<pre><code>BunchOfBoxes(const Box&amp; firstBox) :\n    m_firstBox(firstBox)\n{}\n</code></pre>\n\n<p>and it will use your copy constructor from the Box class to do the same sort of initialize-on-build for BunchOfBoxes</p>\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 1658553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/280298c43af4665231798d4e82e3c450?s=128&d=identicon&r=PG", "display_name": "Chris R.", "link": "https://stackoverflow.com/users/1658553/chris-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1446061885, "creation_date": 1446061885, "answer_id": 33400360, "question_id": 33399721, "link": "https://stackoverflow.com/questions/33399721/expected-constructor-destructor-or-header/33400360#33400360", "title": "expected constructor, destructor or header", "body": "<p>You have a problem with your class declaration/definition:\nYour setters should have parameters so you can use them as setters.\nIn your Box.hpp change</p>\n\n<pre><code> double setHeight(); \n double setWidth();\n double setLength();\n</code></pre>\n\n<p>to </p>\n\n<pre><code> double setHeight(double _height); \n double setWidth(double _width);\n double setLength(double _length);\n</code></pre>\n\n<p>Then in your Box.cpp change</p>\n\n<pre><code>double Box::setHeight()\n{\n    return height;\n}\n\ndouble Box::setWidth()\n{\n    return width;\n}\n\ndouble Box::setLength()\n{\n    return length;\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>double Box::setHeight(double _height)\n{\n    height = _height;\n    return height;\n}\n\ndouble Box::setWidth(double _width)\n{\n    width = _width;\n    return width;\n}\n\ndouble Box::setLength(double _length)\n{\n    length = _length;\n    return length;\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5499828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f1a87e61c11d66bad4a17fd46a70f8?s=128&d=identicon&r=PG&f=1", "display_name": "Katia", "link": "https://stackoverflow.com/users/5499828/katia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1446061885, "creation_date": 1446059850, "last_edit_date": 1446061381, "question_id": 33399721, "link": "https://stackoverflow.com/questions/33399721/expected-constructor-destructor-or-header", "title": "expected constructor, destructor or header", "body": "<p>This program contains three parts: the header, the functions for the class and the main part that is interactive. However, it won't compile. </p>\n\n<p>I keep getting the response that there is an expected constructor, destructor or type conversion. </p>\n\n<pre><code>#ifndef BOX_H\n#define BOX_H\n\nclass Box \n{\n\nprivate:                \n    double height;\n    double width;\n    double length;\n\npublic:\n    Box();           \n    double setHeight(); \n    double setWidth();\n    double setLength();\n    double getVolume();\n    double getSurfaceArea();    \n};\n#endif  \n</code></pre>\n\n<p><code>function.cpp</code>:  </p>\n\n<pre><code>#include \"Box.hpp\"\n\n/**********************************************************************\n Box:: Box\n This is the default constructor that uses the set methods to initialize each field to 1.\n * **********************************************************************/\nBox::Box()\n{\n    height = 1;\n    width = 1;\n    length = 1;\n}\n/*\n Does anyone know what this section does? Is it another default constructor or is is it even needed?\n Box::Box(double height, double width, double length)\n {\n setHeight(height);\n setWidth(width);\n setLength(length);\n }\n\n*/\ndouble Box::setHeight()\n{\n    return height;\n}\n\ndouble Box::setWidth()\n{\n    return width;\n}\n\ndouble Box::setLength()\n{\n    return length;\n}\n\ndouble Box::getVolume()\n{\n    return height * width * length;\n}\n\ndouble Box::getSurfaceArea()\n{\n    double SurAre = 0;\n    SurAre = (2 * (length * width)) + (2 * (length * height)) + (2 * (height * width));\n    return SurAre;\n}\n</code></pre>\n\n<p><code>main.cpp</code>:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Box.hpp\"    //contains Box class declaration\nusing namespace std;\n\nint main()\n{\n    Box object; \n\n    double Alength;\n    double Awidth;\n    double Aheight; \n\n    cout &lt;&lt; \"This program will calculate the area of a box.\\n\";\n    cout &lt;&lt; \"What is the length?\";\n    cin &gt;&gt; Alength;\n    cout &lt;&lt; \"What is the width?\";\n    cin &gt;&gt; Awidth;\n    cout &lt;&lt; \"What is the height?\";\n    cin &gt;&gt; Aheight;\n\n    object.setLength(Alength);                              \n    if (!object.setWidth(Awidth))                               \n        cout &lt;&lt; \"Invalid box width entered. \\n\" &lt;&lt; endl;     \n    if (!object.setHeight(Aheight))                              \n        cout &lt;&lt; \"Invalid box height entered. \\n\" &lt;&lt; endl;     \n\n\n\n    cout &lt;&lt; \"Volume: \" &lt;&lt; object.getVolume() &lt;&lt; endl; \n    cout &lt;&lt; \"Surface Area: \" &lt;&lt; object.getSurfaceArea() &lt;&lt; endl; \n    return 0;\n\n}\n</code></pre>\n\n<p>Does anyone have an idea about why?</p>\n"}, {"tags": ["c++", "multithreading", "pthreads", "mutex"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 2, "creation_date": 1446059849, "post_id": 33399689, "comment_id": 54590869, "body": "You should use the C++11 features, if available."}, {"owner": {"reputation": 2156, "user_id": 1441826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/331d666aac116e8c92324e2b0a9e2c97?s=128&d=identicon&r=PG", "display_name": "iedoc", "link": "https://stackoverflow.com/users/1441826/iedoc"}, "reply_to_user": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446060007, "post_id": 33399689, "comment_id": 54590956, "body": "Sorry, i didn&#39;t mention i&#39;m running this on linux, although i have set cflags to -std=c++0x, so i&#39;d be able to use c++11 features. which feature in particular were you thinking?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1446060340, "post_id": 33399689, "comment_id": 54591150, "body": "Your question is too broad, a general rule is to guard variables in a most outer scope of an atomic operation (note, the locking of multiple variables) ."}, {"owner": {"reputation": 2156, "user_id": 1441826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/331d666aac116e8c92324e2b0a9e2c97?s=128&d=identicon&r=PG", "display_name": "iedoc", "link": "https://stackoverflow.com/users/1441826/iedoc"}, "edited": false, "score": 0, "creation_date": 1446060634, "post_id": 33399689, "comment_id": 54591324, "body": "yeah, your right, it is kinda broad, didn&#39;t know where i should ask about this, possibly a forum or something. i can go look elsewhere for an answer, thanks though. I have mutexes that are locked for multiple variables, or object entirely, but sometimes there are single variables that are accessed by multiple threads, which is why i was asking about the way i&#39;m doing it above"}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1446063476, "post_id": 33399689, "comment_id": 54592908, "body": "You should be using RAII for mutex lock/unlock pairs."}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 2, "creation_date": 1446064511, "post_id": 33399689, "comment_id": 54593430, "body": "<code>std::lock_guard&lt;std::mutex&gt;</code> would be a nice choice. RAII at work, the destructor takes care of releasing the mutex."}, {"owner": {"reputation": 2156, "user_id": 1441826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/331d666aac116e8c92324e2b0a9e2c97?s=128&d=identicon&r=PG", "display_name": "iedoc", "link": "https://stackoverflow.com/users/1441826/iedoc"}, "edited": false, "score": 0, "creation_date": 1446065564, "post_id": 33399689, "comment_id": 54593997, "body": "thats definitely something to look into, thanks"}, {"owner": {"reputation": 215710, "user_id": 134633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc6be45ddcfd038ba5e1e5fca319c7fa?s=128&d=identicon&r=PG", "display_name": "caf", "link": "https://stackoverflow.com/users/134633/caf"}, "edited": false, "score": 1, "creation_date": 1446069162, "post_id": 33399689, "comment_id": 54595838, "body": "<code>PTHREAD_MUTEX_INITIALIZER</code> is a static initialiser, and isn&#39;t necessarily valid the way you&#39;ve used it (in an assignment rather than a static initialisation).  You should use <code>pthread_mutex_init()</code> in the constructor instead (and a corresponding <code>pthread_mutex_destroy()</code> in the destructor) for portability."}, {"owner": {"reputation": 2156, "user_id": 1441826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/331d666aac116e8c92324e2b0a9e2c97?s=128&d=identicon&r=PG", "display_name": "iedoc", "link": "https://stackoverflow.com/users/1441826/iedoc"}, "edited": false, "score": 0, "creation_date": 1446081403, "post_id": 33399689, "comment_id": 54600216, "body": "That&#39;s good to know, i&#39;ll change my code to do that, thank you caf"}], "answers": [{"comments": [{"owner": {"reputation": 16391, "user_id": 1658631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wP8B0.jpg?s=128&g=1", "display_name": "Joe Watkins", "link": "https://stackoverflow.com/users/1658631/joe-watkins"}, "edited": false, "score": 0, "creation_date": 1446102528, "post_id": 33400546, "comment_id": 54606574, "body": "I&#39;d like to see this answer expanded before I write my own. You hint at problems that might be encountered with the kind of implementation shown, but don&#39;t explain that they are a real and present danger, making the example code unsafe in a lot of cases."}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 1, "last_activity_date": 1446062484, "creation_date": 1446062484, "answer_id": 33400546, "question_id": 33399689, "link": "https://stackoverflow.com/questions/33399689/pthread-mutex-lock-and-unlock-per-variable/33400546#33400546", "title": "pthread mutex lock and unlock per variable", "body": "<p>if the members you're protecting are read-write, and may be accessed at any time by more than one thread, then what you're doing is not excessive - it's necessary.</p>\n\n<p>If you can prove that a member will not change (is immutable) then there is no need to protect it with a mutex.</p>\n\n<p>Many people prefer multi-threaded solutions where each thread has an immutable copy of data rather than those in which many threads access the same copy. This eliminates the need for memory barriers and very often improves execution times and code safety.</p>\n\n<p>Your mileage may vary.</p>\n"}], "owner": {"reputation": 2156, "user_id": 1441826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/331d666aac116e8c92324e2b0a9e2c97?s=128&d=identicon&r=PG", "display_name": "iedoc", "link": "https://stackoverflow.com/users/1441826/iedoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1748, "favorite_count": 0, "accepted_answer_id": 33400546, "answer_count": 1, "score": 1, "last_activity_date": 1446062484, "creation_date": 1446059759, "question_id": 33399689, "link": "https://stackoverflow.com/questions/33399689/pthread-mutex-lock-and-unlock-per-variable", "title": "pthread mutex lock and unlock per variable", "body": "<p>I'm wondering what the best practice for locking and unlocking mutexes for variables withing an object that is shared between threads.</p>\n\n<p>This is what I have been doing and seems to work just fine so far, just wondering if this is excessive or not though:</p>\n\n<pre><code>class sharedobject\n{\nprivate:\n    bool m_Var1;\n\n    pthread_mutex_t var1mutex;\n\npublic:\n    sharedobject()\n    {\n        var1mutex = PTHREAD_MUTEX_INITIALIZER;\n    }\n\n    bool GetVar1()\n    {\n        pthread_mutex_lock(&amp;var1mutex);\n        bool temp = m_Var1;\n        pthread_mutex_unlock(&amp;var1mutex);\n        return temp;\n    }\n\n    void SetVar1(bool status)\n    {\n        pthread_mutex_lock(&amp;var1mutex);\n        m_Var1 = status;\n        pthread_mutex_unlock(&amp;var1mutex);\n    }\n};\n</code></pre>\n\n<p>this isn't my actual code, but it shows how i am using mutexes for every variable that is shared in an object between threads. The reason i don't have a mutex for the entire object is because one thread might take seconds to complete an operation on part of the object, while another thread checks the status of the object, and again another thread gets data from the object</p>\n\n<p>my question is, is it a good practice to create a mutex for every variable within an object that is accessed between threads, then lock and unlock that variable when it is read or written to?</p>\n\n<p>I use trylock for variables i'm checking the status to (so i don't create extra threads while the variable is being processed, and don't make the program wait to get a lock)</p>\n\n<p>I haven't had a lot of experience working with threading. I would like the make the program thread safe, but it also needs to perform as best as possible.</p>\n"}, {"tags": ["c++", "string", "dynamic", "new-operator", "allocation"], "comments": [{"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 1, "creation_date": 1446060029, "post_id": 33399678, "comment_id": 54590972, "body": "The <code>=</code> does not assign the string, merely the pointer to the string. If your class does not allocate memory for it, the string will stop being valid the moment the calling thread releases or re-uses or alters the content of the memory that contained the original string."}, {"owner": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "reply_to_user": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 0, "creation_date": 1446061302, "post_id": 33399678, "comment_id": 54591708, "body": "ok. But if i want to initialize an object of my student class such as ( student obj(&quot;bob&quot;)  ), does avoiding the new operator and using the = operator changes the outcome?"}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 0, "creation_date": 1446061485, "post_id": 33399678, "comment_id": 54591812, "body": "Absolutely. the original &quot;bob&quot; string ceases to exist the moment the constructor returns. A pointer to it becomes invalid."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1446069941, "post_id": 33399678, "comment_id": 54596251, "body": "<code>name=new[len+1];</code>, you probably meant <code>name = new char[len+1];</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "edited": false, "score": 0, "creation_date": 1446060820, "post_id": 33399729, "comment_id": 54591454, "body": "I understand that i can use the c++ string class, but right now I want to understand this with respect to char * , my confusion is, why we use new in a dynamic constructor when we can do it in other easier approach."}, {"owner": {"reputation": 1317, "user_id": 1411115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364d95a6338c96d6380a91426e1e0a52?s=128&d=identicon&r=PG", "display_name": "erapert", "link": "https://stackoverflow.com/users/1411115/erapert"}, "reply_to_user": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "edited": false, "score": 0, "creation_date": 1446061986, "post_id": 33399729, "comment_id": 54592064, "body": "You&#39;re correct that manual memory management isn&#39;t really all that useful for strings because std::string already provides that stuff. But the key here is that the same technique can be used to allocate blocks of memory that hold other things like maybe a block that holds a bunch of Students."}, {"owner": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "edited": false, "score": 0, "creation_date": 1446062926, "post_id": 33399729, "comment_id": 54592603, "body": "I have tried that and it works when i display the outcome, how ever another observation is that when i modify the dynamic constructor as :  student(const char * new_name){old_name=new_name ;} , i still get the same outcome."}, {"owner": {"reputation": 1317, "user_id": 1411115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364d95a6338c96d6380a91426e1e0a52?s=128&d=identicon&r=PG", "display_name": "erapert", "link": "https://stackoverflow.com/users/1411115/erapert"}, "reply_to_user": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "edited": false, "score": 0, "creation_date": 1446063779, "post_id": 33399729, "comment_id": 54593047, "body": "In trivial programs that memory will still contain the contents. But in non-trivial programs that allocate and deallocate memory a lot then that memory is almost certain to be re-used by other parts of the program. Which would ruin the contents of that memory. This sort of thing is precisely what causes many many bugs and security vulnerabilities-- pointers that go to memory that has been completely ruined or re-used for other purposes."}], "tags": [], "owner": {"reputation": 1317, "user_id": 1411115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364d95a6338c96d6380a91426e1e0a52?s=128&d=identicon&r=PG", "display_name": "erapert", "link": "https://stackoverflow.com/users/1411115/erapert"}, "is_accepted": true, "score": 1, "last_activity_date": 1446063647, "last_edit_date": 1446063647, "creation_date": 1446059884, "answer_id": 33399729, "question_id": 33399678, "link": "https://stackoverflow.com/questions/33399678/why-use-the-new-operator-to-dynamically-allocate-memory-for-a-string-before-assi/33399729#33399729", "title": "why use the new operator to dynamically allocate memory for a string before assigning, when we can use the = operator to assign a string to it?", "body": "<p>A <code>char * s;</code> is not a string. It's a pointer-- a <em>handle</em>-- to a block of memory in which each element of that block is the size of a <code>char</code>.</p>\n\n<p>You have to use <code>new</code> to allocate a box.</p>\n\n<p>Then you \"attach\" your handle to that box.</p>\n\n<p>Then you fill up the box with data-- this is the string.</p>\n\n<pre><code>// we have a handle which will fit a box that contains a bunch of \"char\"\nchar * s;\n// now let's get a box that's big enough to hold the data\n// and attach it to the handle\ns = new char [len];\n// now let's fill up the box with the data from source_str\nstrcpy (source_str, s);\n// also, don't forget that you MUST delete anything that you allocate\ndelete [] s;\n</code></pre>\n\n<p>This is an extremely important concept in programming especially for system languages like C++.</p>\n\n<p>C++, and other languages that support classes and objects use constructors and destructors to help control any memory that an object uses by following this cycle:</p>\n\n<ul>\n<li>construct the object</li>\n<li>do something with the object</li>\n<li>destruct the object</li>\n</ul>\n\n<p>Notice how this is exactly the same as the cycle of memory management.</p>\n\n<p>The reason you're practicing on strings right now is to get you used to the technique of:</p>\n\n<ul>\n<li>allocating a block of memory</li>\n<li>doing something with it</li>\n<li>then freeing up that block of memory later</li>\n</ul>\n\n<p>Here's a straight-forward example:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nchar * get_a_string () {\n    // notice that s is allocated \"on the stack\"\n    // which means that it goes out of scope and is\n    // not available outside of this function\n    auto s = \"Adam Smith\";\n\n    //char * name = s;  // this WILL NOT WORK because the memory that\n                        // that s points to will go out of scope\n                        // and then name will point to invalid memory\n\n    // we need to make s available to other parts of the\n    // program so we allocate some memory \"on the heap\"\n    // because the heap doesn't go out of scope\n    char * name = new char [strlen (s)];\n\n    // now since the contents of s have been copied into the heap\n    // they'll still be available outside of this function\n    strcpy (s, name);\n\n    return name;\n}\n\nvoid do_something (char * c) {\n    cout &lt;&lt; c &lt;&lt; endl;\n}\n\nint main () {    \n    char * name = get_a_string ();\n\n    do_something (name);\n\n    // rule of thumb:\n    //     anything you allocate with \"[]\" you must also delete with \"[]\"...\n    delete [] name;\n}\n</code></pre>\n\n<p>Pay careful attention to the cycle of memory in the above program. Notice when it's \"newed-up\" and \"deleted\". Wouldn't it be tricky to keep track of which functions allocated memory and which ones deleted it so that you could new and delete at the proper times?</p>\n\n<p>Here's an example of a Student class similar to what you're going for. Notice how the memory is allocated in one place and is easy to track:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Student {\n    public:\n        // This is NOT a string.\n        // It does not contain any data.\n        // It only points to a block/box of data that is\n        // split into chunks the size of a char\n        char * my_name;\n\n        Student (const char * new_name) {\n            // we have to find out how long new_name is\n            auto name_len = strlen (new_name);\n\n            // now we need to make a box big enough to hold it\n            // this is called allocation\n            my_name = new char [name_len];\n\n            // now we must copy the contents from the box that\n            // new_name points to into the box that my_name points to\n            strcpy (new_name, my_name);\n        }\n\n        ~Student () {\n            // it's very important to free up the memory we allocated\n            // in the constructor\n            delete [] my_name;\n        }\n};\n\nint main () {\n    // so here the name is allocated and initialized so that we can use some_student elsewhere in our program\n    Student some_student (\"Adam Smith\");\n\n    // making use of the block of memory...\n    cout &lt;&lt; \"student's name is: \" &lt;&lt; some_student.my_name &lt;&lt; endl;\n\n    return 0;\n}\n// at the end of the scope the destructor for some_student will be called\n// which will delete some_student.my_name so that other programs can use\n// that memory\n</code></pre>\n\n<p>This modern approach uses std::string <strong>but it is still exactly the same thing</strong>.</p>\n\n<p>YES. std::string <strong>does exactly the same thing that your simple Student class does</strong>.</p>\n\n<pre><code>#include &lt;string&gt;\n\nclass Student {\n    public:\n        std::string name;\n\n        Student (const char * s) {\n            // name is a std::string\n            // that means that std::string has a constructor\n            // and a copy operator which will do exactly what you\n            // were doing using new and delete\n            // It's just hidden and done for us BUT IT'S STILL BEING DONE.\n            name = s;\n        }\n\n        ~Student () {\n            // ...\n        }\n        // destructors for all of a class' members will be\n        // called at the end of a class' destructor!\n        // this means that since \"my_name\" is a std::string\n        // its destructor will delete the memory that std::string\n        // allocated in its constructor for me and I don't have to\n        // do anything!\n};\n\nint main () {\n    // so here the name is allocated and initialized\n    // so that we can use some_student elsewhere in our program\n    auto some_student = Student { \"Adam Smith\" };\n\n    // making use of the block of memory...\n    cout &lt;&lt; \"student's name is: \" &lt;&lt; some_student.my_name &lt;&lt; endl;\n\n    return 0;\n}\n// at the end of the scope the destructor for some_student will be called\n// which will delete some_student.my_name so that other programs can use\n// that memory\n</code></pre>\n\n<p>Here's what Bjarne Stroustrup had to say about <a href=\"http://www.stroustrup.com/new_learning.pdf\" rel=\"nofollow\">learning to program using C++</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1317, "user_id": 1411115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364d95a6338c96d6380a91426e1e0a52?s=128&d=identicon&r=PG", "display_name": "erapert", "link": "https://stackoverflow.com/users/1411115/erapert"}, "edited": false, "score": 0, "creation_date": 1446060918, "post_id": 33399779, "comment_id": 54591512, "body": "He is not assigning a <code>const char *</code> to a <code>char *</code>. He is, however, attempting to copy data from the block that a <code>char *</code> points to into a block that at <code>const char *</code> points to... which won&#39;t work."}], "tags": [], "owner": {"reputation": 150, "user_id": 5446924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8pB8.jpg?s=128&g=1", "display_name": "Amer Agovic", "link": "https://stackoverflow.com/users/5446924/amer-agovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1446060053, "creation_date": 1446060053, "answer_id": 33399779, "question_id": 33399678, "link": "https://stackoverflow.com/questions/33399678/why-use-the-new-operator-to-dynamically-allocate-memory-for-a-string-before-assi/33399779#33399779", "title": "why use the new operator to dynamically allocate memory for a string before assigning, when we can use the = operator to assign a string to it?", "body": "<p>When you allocate the buffer you own it, you can modify it but you also must delete it.</p>\n\n<p>I do not think the above case should compile. You are assigning <code>const char *</code> to <code>char *</code> that should not be allowed by the compiler. If you changed your member to be <code>const char*</code> you still could possibly hand over to the constructor a string that later ceases to exist and then you got a bad pointer.</p>\n\n<p>the only time it should not matter is if you know that you are assigning constant strings such as `const char * var=\"my literal string\".</p>\n"}], "owner": {"reputation": 3, "user_id": 5499709, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vYnVrzhx1Qg/AAAAAAAAAAI/AAAAAAAAAIk/Bs1cNsnC0mM/photo.jpg?sz=128", "display_name": "Seke Keretsu", "link": "https://stackoverflow.com/users/5499709/seke-keretsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 33399729, "answer_count": 2, "score": 0, "last_activity_date": 1446063647, "creation_date": 1446059723, "last_edit_date": 1446063610, "question_id": 33399678, "link": "https://stackoverflow.com/questions/33399678/why-use-the-new-operator-to-dynamically-allocate-memory-for-a-string-before-assi", "title": "why use the new operator to dynamically allocate memory for a string before assigning, when we can use the = operator to assign a string to it?", "body": "<p>I am new to C++ and the concept of strings, why do I have to use the new operator to dynamically allocate resources when I can do it just assigning the string using the = operator ? (this is my first question and sorry for being messy)</p>\n\n<pre><code>student(const char* n){\n    len=strlen(n);\n    name=new[len+1];\n    strcpy(name,n);\n}\n</code></pre>\n\n<p>where student is a dynamic constructor of class student.</p>\n\n<pre><code>class student {\n    int len; \n    char *name; \npublic: \n    student(const char *);\n}\n</code></pre>\n\n<p>If I write my dynamic constructor as given below, will it not have the same outcome?</p>\n\n<pre><code>student(const char* n){\n    len=strlen(n); \n    name=n;\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "c++11", "tostring"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 3, "creation_date": 1446059489, "post_id": 33399594, "comment_id": 54590642, "body": "Related <a href=\"http://stackoverflow.com/q/33357480/1708801\">Is there a standard way to convert a class to a string</a>"}, {"owner": {"reputation": 11978, "user_id": 774651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d174682a9c2469488ac0cd91f0253215?s=128&d=identicon&r=PG&f=1", "display_name": "Lol4t0", "link": "https://stackoverflow.com/users/774651/lol4t0"}, "edited": false, "score": 0, "creation_date": 1446059618, "post_id": 33399594, "comment_id": 54590717, "body": "Also  <a href=\"http://stackoverflow.com/questions/234724/is-it-possible-to-serialize-and-deserialize-a-class-in-c\" title=\"is it possible to serialize and deserialize a class in c\">stackoverflow.com/questions/234724/&hellip;</a>"}, {"owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1446059718, "post_id": 33399594, "comment_id": 54590785, "body": "@ShafikYaghmour Yes it may be.. However, the solutions there is attempting to overload to_string rather than making the class to_stringable"}, {"owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "reply_to_user": {"reputation": 11978, "user_id": 774651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d174682a9c2469488ac0cd91f0253215?s=128&d=identicon&r=PG&f=1", "display_name": "Lol4t0", "link": "https://stackoverflow.com/users/774651/lol4t0"}, "edited": false, "score": 0, "creation_date": 1446059746, "post_id": 33399594, "comment_id": 54590814, "body": "@Lol4t0 no my purpose is not about serialization by converting it to string"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446059947, "post_id": 33399594, "comment_id": 54590923, "body": "I don&#39;t believe there&#39;s an overload of <code>std::to_string</code> that can be used for what you&#39;re wanting. In C++, unlike C#/Java, there is no base class that all classes inherit from, so there&#39;s no overridable/overloadable <code>ToString()</code> method."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1487712715, "post_id": 33399594, "comment_id": 71905869, "body": "Also see <a href=\"http://stackoverflow.com/q/36533199/608639\">Is specialization of std::to_string for custom types allowed by the C++ standard?</a>. The short answer is, <code>std::to_string</code> is not a template, so you can&#39;t specialize it. The other option is to add a name to the <code>std</code> namespace, and that&#39;s not allowed either."}], "answers": [{"comments": [{"owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "edited": false, "score": 0, "creation_date": 1446059850, "post_id": 33399672, "comment_id": 54590870, "body": "yes this true. but for example I can not do this : &#39;print_a_string(my_object)&#39;"}, {"owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "reply_to_user": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "edited": false, "score": 0, "creation_date": 1446060126, "post_id": 33399672, "comment_id": 54591029, "body": "Edited answer accordingly, simply put <code>print_a_string</code>&#39;s behavior into the <code>operator &lt;&lt;()</code> overload (and get rid of <code>print_a_string</code> as it&#39;s probably no longer needed).  Alternatively, use <code>&#39;print_a_string()</code> instead of <code>i</code>."}], "tags": [], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1446059948, "last_edit_date": 1446059948, "creation_date": 1446059699, "answer_id": 33399672, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/33399672#33399672", "title": "Making a user-defined class std::to_string(able)", "body": "<p>You probably just want to overload <code>operator&lt;&lt;()</code> something like:</p>\n\n<pre><code>std::ostream&amp; operator &lt;&lt; ( std::ostream&amp; os, const my_class&amp; rhs ) {\n    os &lt;&lt; \"I am \" &lt;&lt; rhs.i;\n    return os;\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>std::ostream&amp; operator &lt;&lt; ( std::ostream&amp; os, const my_class&amp; rhs ) {\n    os &lt;&lt; rhs.print_a_string();\n    return os;\n}\n</code></pre>\n\n<p>Then you can simply do:</p>\n\n<pre><code>int main() {\n    my_class my_object;\n    std::cout &lt;&lt; my_object;\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "edited": false, "score": 0, "creation_date": 1446059942, "post_id": 33399722, "comment_id": 54590922, "body": "Thanks but is not it too confusing to have more than to_string in two different namespaces? No way to use the same one?"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "edited": false, "score": 0, "creation_date": 1446060087, "post_id": 33399722, "comment_id": 54591003, "body": "@HumamHelfawi No, unfortunately you can&#39;t define <code>to_string</code> in <code>std</code> for your class."}, {"owner": {"reputation": 352, "user_id": 985930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867182ee21df58a59b23b3d862f9ed57?s=128&d=identicon&r=PG", "display_name": "Tolli", "link": "https://stackoverflow.com/users/985930/tolli"}, "edited": false, "score": 1, "creation_date": 1476370694, "post_id": 33399722, "comment_id": 67326156, "body": "I think the last part of the quote(which is not in bold) is important. If <code>std::to_string()</code> were implemented as a template, you could make a specialization of <code>std::to_string()</code> for your user-defined type. However, it is implemented as an overloaded function, so you cannot."}, {"owner": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 0, "creation_date": 1575350736, "post_id": 33399722, "comment_id": 104526472, "body": "Great to know that the <code>std</code> library is marked as &quot;non extensible by external software&quot; (generally speaking)."}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": false, "score": 5, "last_activity_date": 1446060557, "last_edit_date": 1446060557, "creation_date": 1446059850, "answer_id": 33399722, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/33399722#33399722", "title": "Making a user-defined class std::to_string(able)", "body": "<p>You could define your own <code>to_string</code> in its own namespace (e.g., <code>foo</code>).</p>\n\n<pre><code>namespace foo {\n   std::string to_string(my_class const &amp;obj) {\n     return obj.string give_me_a_string_of_you();\n   }\n}\n</code></pre>\n\n<p>And use it as:</p>\n\n<pre><code>int main(){\n    my_class my_object;\n    std::cout&lt;&lt; foo::to_string(my_object);\n}\n</code></pre>\n\n<p>Unfortunatelly, you can't define your own version of <code>to_string</code> in namespace <code>std</code> because acorrding to the standard <em>17.6.4.2.1 Namespace std [namespace.std]</em> <strong>(Emphasis Mine)</strong>:</p>\n\n<blockquote>\n  <p><strong>The behavior of a C++ program is undefined if it adds declarations or\n  definitions to namespace std or to a namespace within namespace std\n  unless otherwise specified.</strong> A program may add a template\n  specialization for any standard library template to namespace std only\n  if the declaration depends on a user-defined type and the\n  specialization meets the standard library requirements for the\n  original template and is not explicitly prohibited.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 8, "creation_date": 1446060880, "post_id": 33399769, "comment_id": 54591495, "body": "writing one in terms of the other <i>may</i> have performance issues if executed often within a tight loop. It&#39;s left to the reader to decide whether he wants to optimise at the expense of having to maintain two code paths or not."}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 25, "last_activity_date": 1446060312, "last_edit_date": 1446060312, "creation_date": 1446060028, "answer_id": 33399769, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/33399769#33399769", "title": "Making a user-defined class std::to_string(able)", "body": "<p>What's the 'best' way is an open question.</p>\n\n<p>There are a few ways.</p>\n\n<p>The first thing to say is that overloading <code>std::to_string</code> for a custom type is <em>not allowed</em>. We may only <em>specialise template functions and classes</em> in the <code>std</code> namespace for custom types, and <code>std::to_string</code> is not a template function.</p>\n\n<p>That said, a good way to treat <code>to_string</code> is much like an operator or an implementation of <code>swap</code>. i.e. allow argument-dependent-lookup to do the work.</p>\n\n<p>so when we want to convert something to a string we could write:</p>\n\n<pre><code>using std::to_string;\nauto s = to_string(x) + \" : \" + to_string(i);\n</code></pre>\n\n<p>assuming that x was an object of type X in namespace Y and i was an int, we could then define:</p>\n\n<pre><code>namespace Y {\n\n  std::string to_string(const X&amp; x);\n\n}\n</code></pre>\n\n<p>which would now mean that:</p>\n\n<p>invoking <code>to_string(x)</code> actually selects <code>Y::to_string(const Y::X&amp;)</code>, and</p>\n\n<p>invoking <code>to_string(i)</code> selects <code>std::to_string(int)</code> </p>\n\n<p>Going further, it may be that you want to_string to do much the same as operator&lt;&lt;, so then one can be written in terms of the other:</p>\n\n<pre><code>namespace Y {\n\n  inline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const X&amp; x) { /* implement here */; return os; }\n\n  inline std::string to_string(const X&amp; x) {\n    std::ostringstream ss;\n    ss &lt;&lt; x;\n    return ss.str();\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1446061423, "post_id": 33399795, "comment_id": 54591782, "body": "The downside to this design is that you have to define all of your <code>to_string</code>s in <code>namespace my</code>, and not in the namespace of the type."}, {"owner": {"reputation": 65, "user_id": 9567003, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735977009783360/picture?type=large", "display_name": "Helder Daniel", "link": "https://stackoverflow.com/users/9567003/helder-daniel"}, "edited": false, "score": 0, "creation_date": 1591723380, "post_id": 33399795, "comment_id": 110162223, "body": "but you can have your type and the corresponding <code>to_string()</code> in the same namespace as long as it is not <code>::std</code>."}], "tags": [], "owner": {"reputation": 10555, "user_id": 194635, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/895e165418bff196cc08e94af29b650f?s=128&d=identicon&r=PG", "display_name": "Stas", "link": "https://stackoverflow.com/users/194635/stas"}, "is_accepted": false, "score": 1, "last_activity_date": 1446060086, "creation_date": 1446060086, "answer_id": 33399795, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/33399795#33399795", "title": "Making a user-defined class std::to_string(able)", "body": "<p>You can't add new overloads of <code>to_string</code> into <code>std</code> namespace, but you can do it in your namespace:</p>\n\n<pre><code>namespace my {\n   using std::to_string;\n\n   std::string to_string(const my_class&amp; o) {\n     return o.give_me_a_string_of_you();\n   }\n}\n</code></pre>\n\n<p>Then you can use <code>my::to_string</code> for all types.</p>\n\n<pre><code>int main()\n{\n    my_class my_object;\n\n    std::cout &lt;&lt; my::to_string(my_object);\n    std::cout &lt;&lt; my::to_string(5);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1446060332, "post_id": 33399801, "comment_id": 54591146, "body": "How is this better than Richard&#39;s solution?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 9, "creation_date": 1446060589, "post_id": 33399801, "comment_id": 54591300, "body": "@Slava It does not require manually <code>using std::to_string</code> before each use of <code>to_string</code>; you don&#39;t have to pollute the namespace.  Instead, the pollution is done within the <code>notstd::adl_helper</code> namespace only.  You simply call <code>notstd::to_string</code> every time.  I use a <code>friend to_string</code>, but that is equivalent to a free function <code>to_string</code>."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 6, "creation_date": 1508312771, "post_id": 33399801, "comment_id": 80557192, "body": "Richard approves of this product or service."}, {"owner": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 0, "creation_date": 1586431241, "post_id": 33399801, "comment_id": 108128092, "body": "What benefit of <code>T&amp;&amp;</code> here, why not <code>const T&amp;</code>? I cannot imaginate destructive <code>to_string</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 0, "creation_date": 1586431722, "post_id": 33399801, "comment_id": 108128373, "body": "@peter for example, to string from std string should be destructive.  And similar situations where you can save work by ripping an already created string out of the object."}, {"owner": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 0, "creation_date": 1586499245, "post_id": 33399801, "comment_id": 108154164, "body": "It&#39;s counter-intuitive, as for me. And you&#39;re forced to use <code>to_string(std::move(x))</code> instead of simple <code>to_string(x)</code> every time, <code>x</code> is lvalue (non-temporary, to put it simply). But thanks, I get your answer."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 0, "creation_date": 1586768156, "post_id": 33399801, "comment_id": 108239325, "body": "@peter You are never forced to use <code>std::move</code>; learn what forwarding references are.  They look like rvalue references, but are not."}, {"owner": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 0, "creation_date": 1586845247, "post_id": 33399801, "comment_id": 108269763, "body": "Oh! You&#39;re right, I missed that <code>T&amp;&amp;</code> behaves differently depending on whether <code>T</code> is template parameter or isn&#39;t."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 77, "user_id": 2542125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYg6b.jpg?s=128&g=1", "display_name": "Peter  Taran", "link": "https://stackoverflow.com/users/2542125/peter-taran"}, "edited": false, "score": 1, "creation_date": 1586870376, "post_id": 33399801, "comment_id": 108282313, "body": "@PeterTaran No, it forwarding references &quot;behaves differently&quot; is completely in the template parameter deduction rules.  <code>using T=int&amp;;</code> or <code>template&lt;class T&gt; void foo()</code> then <code>foo&lt;int&amp;&gt;</code>: within the body of <code>foo</code>,  <code>T&amp;&amp;</code> behaves the same if <code>T</code> is a template parameter or not.  Regardless, go read up on forwarding references.  Reference collapsing rules convert <code>T&amp;&amp;</code> where <code>T=int&amp;</code> to <code>int&amp;</code> regardless of if <code>T</code> is a template parameter or not."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 24, "last_activity_date": 1591043365, "last_edit_date": 1591043365, "creation_date": 1446060126, "answer_id": 33399801, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/33399801#33399801", "title": "Making a user-defined class std::to_string(able)", "body": "<p>First, some ADL helping:</p>\n\n<pre><code>namespace notstd {\n  namespace adl_helper {\n    using std::to_string;\n\n    template&lt;class T&gt;\n    std::string as_string( T&amp;&amp; t ) {\n      return to_string( std::forward&lt;T&gt;(t) );\n    }\n  }\n  template&lt;class T&gt;\n  std::string to_string( T&amp;&amp; t ) {\n    return adl_helper::as_string(std::forward&lt;T&gt;(t));\n  }\n}\n</code></pre>\n\n<p><code>notstd::to_string(blah)</code> will do an ADL-lookup of <code>to_string(blah)</code> with <code>std::to_string</code> in scope.</p>\n\n<p>We then modify your class:</p>\n\n<pre><code>class my_class{\npublic:\n  friend std::string to_string(my_class const&amp; self) {\n    return \"I am \" + notstd::to_string(self.i);\n  }\n  int i;\n};\n</code></pre>\n\n<p>and now <code>notstd::to_string(my_object)</code> finds the proper <code>to_string</code>, as does <code>notstd::to_string(7)</code>.</p>\n\n<p>With a touch more work, we can even support <code>.tostring()</code> methods on types to be auto-detected and used.</p>\n"}, {"tags": [], "owner": {"reputation": 1266, "user_id": 6084517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yfmBFvUUl9c/AAAAAAAAAAI/AAAAAAAAAZs/j-jEW3Y-TiE/photo.jpg?sz=128", "display_name": "Nathan Chappell", "link": "https://stackoverflow.com/users/6084517/nathan-chappell"}, "is_accepted": false, "score": 1, "last_activity_date": 1518128891, "creation_date": 1518128891, "answer_id": 48695829, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/48695829#48695829", "title": "Making a user-defined class std::to_string(able)", "body": "<p>Here's an alternate solution.  Nothing necessarily more elegant or too fancy, but it is an alternate approach.  It assumes that all classes you intend to call to_string on have a ToString() function.</p>\n\n<p>Here is a function template which will only work with objects of class type, and call a ToString() function.</p>\n\n<pre><code>    template&lt;typename T, typename = std::enable_if_t&lt;std::is_class&lt;T&gt;::value&gt;&gt;\n    std::string to_string(const T&amp; t) {\n      return t.ToString();\n    }\n</code></pre>\n\n<p>Maybe we want it to work with std::string as well.</p>\n\n<pre><code>    template&lt;&gt;\n    std::string to_string(const std::string&amp; t) {\n      return t;\n    }\n</code></pre>\n\n<p>Here is an example of the code in use.  Note the dummy namespace to_s.  I guess if you put using std::to_string in the main function, it steps on our template function name, so we have to introduce the name indirectly like this.  If anyone knows the correct way to do this I would appreciate a comment.</p>\n\n<pre><code>    #include &lt;cstring&gt;\n    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;type_traits&gt;\n\n\n    union U {\n      double d;\n      const char* cp;\n    };\n\n    struct A {\n      enum State { kString, kDouble };\n      State state;\n      U u;\n\n      void Set(const char* cp) {\n        u.cp = cp;\n        state = kString;\n      }\n\n      std::string ToString() const {\n        switch (state) {\n          case A::kString : return std::string(u.cp); break;\n          case A::kDouble : return std::to_string(u.d); break;\n          default : return \"Invalid State\";\n        }\n      }\n    };\n\n    namespace to_s { using std::to_string; };\n\n    int main() {\n      using namespace to_s;\n      std::string str = \"a nice string\";\n      double d = 1.1;\n      A a { A::kDouble, {1.2} };\n\n      std::cout &lt;&lt; \"str: \" &lt;&lt; to_string(str) &lt;&lt; \", d: \" &lt;&lt; to_string(d) &lt;&lt; std::endl;\n      std::cout &lt;&lt; \"a: \" &lt;&lt; to_string(a) &lt;&lt; std::endl;\n      a.Set(str.c_str());\n      std::cout &lt;&lt; \"a: \" &lt;&lt; to_string(a) &lt;&lt; std::endl;\n      std::memset(&amp;a, 'i', sizeof(a));\n      std::cout &lt;&lt; \"a: \" &lt;&lt; to_string(a) &lt;&lt; std::endl;\n    }\n</code></pre>\n\n<p>Here's what I got:</p>\n\n<p>str: a nice string, d: 1.100000</p>\n\n<p>a: 1.200000</p>\n\n<p>a: a nice string</p>\n\n<p>a: Invalid State</p>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 1542226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a319a8802697c74af1c8bc756edc1652?s=128&d=identicon&r=PG", "display_name": "Rodrigo Hernandez", "link": "https://stackoverflow.com/users/1542226/rodrigo-hernandez"}, "is_accepted": false, "score": 0, "last_activity_date": 1547577085, "creation_date": 1547577085, "answer_id": 54204888, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable/54204888#54204888", "title": "Making a user-defined class std::to_string(able)", "body": "<p>This already has a great answer but I'd like to propose an alternative, feedback is welcome.</p>\n\n<p>If you're not dead set on the to_string function name, you could implement your own ToString free function template, with specializations for the types supported by to_string:</p>\n\n<pre><code>template&lt;class T&gt;\nstd::string ToString(const T&amp; t)\n{\n    std::ostringstream stream;\n    const uint8_t* pointer = &amp;t;\n    for(size_t i=0;i&lt;sizeof(T);++i)\n    {\n        stream &lt;&lt; \"0x\" &lt;&lt; std::hex &lt;&lt; pointer[i];\n    }\n    return stream.str();\n}\n\ntemplate&lt;&gt; std::string ToString(const int&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const long&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const long long&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const unsigned&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const unsigned long&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const unsigned long long&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const float&amp; t) { return std::to_string(t); }\ntemplate&lt;&gt; std::string ToString(const double&amp; t) { return std::to_string(t); }\n</code></pre>\n\n<p>The default implementation here returns a string of hex values with the values at the memory space for the class reference passed, while the specializations call std::to_string, this will make any class \"stringable\".</p>\n\n<p>Then you just need to implement your own specialization for your class:</p>\n\n<pre><code>template&lt;&gt; std::string ToString(const my_class&amp; t) { return \"I am \" + std::to_string(t.i); }\n</code></pre>\n"}], "owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18980, "favorite_count": 8, "accepted_answer_id": 33399801, "answer_count": 7, "score": 36, "last_activity_date": 1591043365, "creation_date": 1446059434, "last_edit_date": 1485023505, "question_id": 33399594, "link": "https://stackoverflow.com/questions/33399594/making-a-user-defined-class-stdto-stringable", "title": "Making a user-defined class std::to_string(able)", "body": "<p>I know it seems too much Java or C#. However, is it possible/good/wise to make my own class valid as an input for the function <code>std::to_string</code> ?\nExample:</p>\n\n<pre><code>class my_class{\npublic:\nstd::string give_me_a_string_of_you() const{\n    return \"I am \" + std::to_string(i);\n}\nint i;\n};\n\nvoid main(){\n    my_class my_object;\n    std::cout&lt;&lt; std::to_string(my_object);\n}\n</code></pre>\n\n<p>If there is no such thing (and I think that), what is the best way to do it?</p>\n"}, {"tags": ["javascript", "c#", "c++"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 1, "creation_date": 1446059202, "post_id": 33399533, "comment_id": 54590477, "body": "Don&#39;t add random language tags."}, {"owner": {"reputation": 21, "user_id": 4622230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65e2c58855ec5341f3174ef52c6cc49?s=128&d=identicon&r=PG", "display_name": "Usman Nadeem", "link": "https://stackoverflow.com/users/4622230/usman-nadeem"}, "reply_to_user": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446059458, "post_id": 33399533, "comment_id": 54590626, "body": "oky sir , i&#39;ll care next time"}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 1, "creation_date": 1446059571, "post_id": 33399533, "comment_id": 54590689, "body": "You can even care this time! Editing is as easy as never before! Go ahead and try it! :-)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1446062351, "post_id": 33399533, "comment_id": 54592275, "body": "In C++, the <code>main</code> function returns <code>int</code>.  Always."}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1446064681, "post_id": 33399533, "comment_id": 54593510, "body": "@ThomasMatthews Nitpicky but doesn&#39;t that only hold true for strictly-conforming programs? I think the implementation is allowed to offer a <code>void main</code>. And for freestanding implementations it might be a whole different matter. Maybe I&#39;m confusing this with the C standard, though..."}], "owner": {"reputation": 21, "user_id": 4622230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65e2c58855ec5341f3174ef52c6cc49?s=128&d=identicon&r=PG", "display_name": "Usman Nadeem", "link": "https://stackoverflow.com/users/4622230/usman-nadeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446238578, "creation_date": 1446059135, "last_edit_date": 1446238578, "question_id": 33399533, "link": "https://stackoverflow.com/questions/33399533/find-to-work-with-analyzing-anonymous-writer-identification", "title": "find to work with analyzing anonymous writer identification", "body": "<p>I want to design author identification but don't know how it works.\nhere is the online tool that is doing something like that... but its working??\n<a href=\"http://www.aicbt.com/authorship-attribution/online-software/\" rel=\"nofollow\">http://www.aicbt.com/authorship-attribution/online-software/</a></p>\n\n<pre><code>void main()\n    try\n    {\n        main program\n    }\n    catch exception\n    {\n        break;\n    }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446059142, "post_id": 33399492, "comment_id": 54590443, "body": "1. Always use braces for <code>if</code>/<code>for</code> statements. 2. What is this line <code>else;</code> for?"}, {"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 1, "creation_date": 1446059146, "post_id": 33399492, "comment_id": 54590444, "body": "You got some syntax errors. Disclose the <b>real</b> code."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446059204, "post_id": 33399492, "comment_id": 54590479, "body": "This line <code>for(int i=0; i&lt;v.size(); ++i);</code> is doing nothing useful"}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 1, "last_activity_date": 1446059279, "creation_date": 1446059279, "answer_id": 33399568, "question_id": 33399492, "link": "https://stackoverflow.com/questions/33399492/vector-not-displaying-full-contents/33399568#33399568", "title": "Vector not displaying full contents", "body": "<p>Be careful with your semicolons:</p>\n\n<pre><code>for(int i=0; i&lt;v.size(); ++i);\n//                          ^^^\n    cout&lt;&lt;\"Odd Numbers: \" &lt;&lt;v[i]&lt;&lt; \"\\n\";\n</code></pre>\n\n<p>You are running the loop:</p>\n\n<pre><code>for(int i=0; i&lt;v.size(); ++i) {\n    ;\n}\ncout&lt;&lt;\"Odd Numbers: \" &lt;&lt;v[i]&lt;&lt; \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 5482562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7050b3f2d8b820bf71ca5cc773e33aa?s=128&d=identicon&r=PG&f=1", "display_name": "Daffyd", "link": "https://stackoverflow.com/users/5482562/daffyd"}, "is_accepted": true, "score": 1, "last_activity_date": 1446059519, "creation_date": 1446059519, "answer_id": 33399616, "question_id": 33399492, "link": "https://stackoverflow.com/questions/33399492/vector-not-displaying-full-contents/33399616#33399616", "title": "Vector not displaying full contents", "body": "<p>Iterating through a vector is best done with an <code>iterator</code>.</p>\n\n<pre><code>for(auto it = std::begin(v); it != std::end(v); it++)\n    std::cout &lt;&lt; \"Odd number: \" &lt;&lt; *it &lt;&lt; std::endl;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5486903, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153744020279459/picture?type=large", "display_name": "Liam McNulty", "link": "https://stackoverflow.com/users/5486903/liam-mcnulty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1446061259, "accepted_answer_id": 33399616, "answer_count": 2, "score": -3, "last_activity_date": 1446059519, "creation_date": 1446059012, "question_id": 33399492, "link": "https://stackoverflow.com/questions/33399492/vector-not-displaying-full-contents", "closed_reason": "Not suitable for this site", "title": "Vector not displaying full contents", "body": "<p>I have written a script so that the odd numbers are stored in a vector and then displayed at the end after putting in a negative number.</p>\n\n<p>For some reason the first odd number is only displayed. Here is the code:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\n#include&lt;vector&gt;\nusing namespace std;\n\nint main()\n{\n    int i=0;\n    int val=0;\n    int rem;\n    vector&lt;int&gt;v;\n\n    while(val&gt;=0){\n        cout&lt;&lt;\"Please enter an integer: \\n\";        \n        cin&gt;&gt;val;\n        rem=val%2;\n        if(rem==1)\n            v.push_back(val);\n        else;\n\n    }\n    for(int i=0; i&lt;v.size(); ++i);\n        cout&lt;&lt;\"Odd Numbers: \" &lt;&lt;v[i]&lt;&lt; \"\\n\";\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 532, "user_id": 1644482, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ea25c27c274633522adb95bfd17388d4?s=128&d=identicon&r=PG", "display_name": "Sergey Kanaev", "link": "https://stackoverflow.com/users/1644482/sergey-kanaev"}, "edited": false, "score": 0, "creation_date": 1446058858, "post_id": 33399354, "comment_id": 54590269, "body": "If you&#39;re using C++11 you may want to see feature like <code>future</code>: <a href=\"http://www.cplusplus.com/reference/future/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/future</a>"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1446059332, "post_id": 33399354, "comment_id": 54590556, "body": "Can you read your own code?"}, {"owner": {"reputation": 29, "user_id": 4797385, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9531ab7098864700d4d3f808f093b365?s=128&d=identicon&r=PG&f=1", "display_name": "musafir", "link": "https://stackoverflow.com/users/4797385/musafir"}, "edited": false, "score": 0, "creation_date": 1446059339, "post_id": 33399354, "comment_id": 54590561, "body": "Hi, Kanaev thanks for your suggestion, but I would like to know what is the problem with is this code ?Am I doing anything stupid ?"}, {"owner": {"reputation": 532, "user_id": 1644482, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ea25c27c274633522adb95bfd17388d4?s=128&d=identicon&r=PG", "display_name": "Sergey Kanaev", "link": "https://stackoverflow.com/users/1644482/sergey-kanaev"}, "edited": false, "score": 0, "creation_date": 1446059633, "post_id": 33399354, "comment_id": 54590731, "body": "@musafir Not stupid, but the code is very hard to read. Don&#39;t copy-paste whole code block but only sufficient part of."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4797385, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9531ab7098864700d4d3f808f093b365?s=128&d=identicon&r=PG&f=1", "display_name": "musafir", "link": "https://stackoverflow.com/users/4797385/musafir"}, "edited": false, "score": 0, "creation_date": 1446124788, "post_id": 33403261, "comment_id": 54620301, "body": "Thanks Snps for such an elaborate explanation and also thank you for editing my code. Now the code is more readable."}, {"owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "reply_to_user": {"reputation": 29, "user_id": 4797385, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9531ab7098864700d4d3f808f093b365?s=128&d=identicon&r=PG&f=1", "display_name": "musafir", "link": "https://stackoverflow.com/users/4797385/musafir"}, "edited": false, "score": 0, "creation_date": 1446144469, "post_id": 33403261, "comment_id": 54633939, "body": "@musafir Glad to help! You can award the efforts of others on Stack Overflow by upvoting their answers and accepting the most qualified answer."}], "tags": [], "owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "is_accepted": false, "score": 2, "last_activity_date": 1446076786, "last_edit_date": 1446076786, "creation_date": 1446074278, "answer_id": 33403261, "question_id": 33399354, "link": "https://stackoverflow.com/questions/33399354/c-thread-with-returning-value-from-a-function/33403261#33403261", "title": "C++ thread with returning value from a function", "body": "<p>The problem you describe is caused by the asynchronous execution of threads in relation to the increase of the index counter in the main thread loop.</p>\n\n<pre><code>for(int icpu = 0; icpu &lt; ncpus; icpu++) {\n    /* ... */\n    t[icpu] = std::thread([&amp;] { test[icpu] = myf(startIndex, endIndex); });\n}\n</code></pre>\n\n<p>Here, each thread is passed a lambda which captures all objects it employs by <strong>reference</strong> (including the index counter <code>icpu</code>). Hence, the asynchronous execution of the thread<sup>\u2020</sup> causes the read of the index to be out of sync with the increments, <em>i.e.</em>, the index might have been incremented already when the thread reads it. And because of this, the value of <code>true</code> is sometimes stored at the wrong index in the vector <code>test</code>.</p>\n\n<p>Furthermore, this is undefined behaviour as reading and writing to the same memory (<code>icpu</code>) at the same time concurrently causes a <em>data race</em>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>------ Main thread ------\n1. Index is 0            |----------- Thread 1 ------------|\n2. Thread 1 is created   |                                 |\n3. Index is 1            |                                 |---------- Thread 2 -----------\n4. Thread 2 is created   |   Thread 1 reads index 1 here   |\n5. Index is 2            |                                 |  Thread 2 reads index 2 here\n6. Thread 3 is created   |                                 |\n...\n</code></pre>\n\n<p>One way to solve this is to simply let the lambda capture <code>icpu</code> by <strong>value</strong> instead (make a copy).</p>\n\n<pre><code>t[icpu] = std::thread([&amp;, icpu] { test[icpu] = myf(startIndex, endIndex); });\n</code></pre>\n\n<p><kbd><a href=\"http://coliru.stacked-crooked.com/a/ff3baefe0695862d\" rel=\"nofollow\"><strong>Live example</strong></a></kbd></p>\n\n<p><sub>\u2020 Remember that the thread execution order is scheduled by the operating system.</sub></p>\n"}], "owner": {"reputation": 29, "user_id": 4797385, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9531ab7098864700d4d3f808f093b365?s=128&d=identicon&r=PG&f=1", "display_name": "musafir", "link": "https://stackoverflow.com/users/4797385/musafir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1386, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1446076786, "creation_date": 1446058546, "last_edit_date": 1446062253, "question_id": 33399354, "link": "https://stackoverflow.com/questions/33399354/c-thread-with-returning-value-from-a-function", "title": "C++ thread with returning value from a function", "body": "<p>I have one function <code>myf</code> taking ranges of processor numbers as an argument and returns <code>true</code>. And the number of <code>true</code> values should be equal to the total number of processors available to the system. But, when I am running this program I am always getting less number of true values than the processor numbers.</p>\n\n<p>Can someone please help me to figure out this problem?</p>\n\n<h3>Prototype example is shown here:</h3>\n\n<pre><code>// Header\nbool myf(int startIndex, int endIndex)\n{\n    return true;\n}\n\nint main(int argc, char** argv)\n{\n    uint data_size = 9260; // Number of data points, here is an arbitrary large number.\n    int startIndex, endIndex; // Processor index.\n    int ncpus = sysconf(_SC_NPROCESSORS_ONLN); // Get number of processors.\n    int PerCPU = data_size / ncpus; // Data points per CPU.\n\n    std::thread t[ncpus];\n    vector&lt;bool&gt; test(ncpus, false); // Variable to collect return values from the myf.\n\n    for(int icpu = 0; icpu &lt; ncpus; icpu++)\n    {\n        startIndex = icpu * PerCPU;\n        endIndex = startIndex + PerCPU;\n\n        if(((uint) endIndex &gt; data_size)\n            || ((icpu == ncpus - 1) &amp;&amp; ((uint) endIndex &lt; data_size)))\n            endIndex = data_size;\n\n        // Evaluate function value at each thread.\n        t[icpu] = std::thread([&amp;] { test[icpu] = myf(startIndex, endIndex); });\n    }\n\n    // Join all threads.\n    for(int icpu = 0; icpu &lt; ncpus; icpu++)\n    {\n        t[icpu].join();\n    }\n\n    // Count output from all the threads.\n    uint bool_size=0;\n    for(uint icpu = 0; icpu &lt; test.size(); icpu++)\n    {\n        bool_size += test[icpu];\n    }\n\n    // Output should be 64, if ncpus = 64.\n    cout &lt;&lt; \" bool_size :: \" &lt;&lt; bool_size &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<h3>Compilation procedure:</h3>\n\n<blockquote>\n  <p>g++ main.cpp -pthread -std=c++0x</p>\n</blockquote>\n"}, {"tags": ["c++", "segmentation-fault"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1446058656, "post_id": 33399340, "comment_id": 54590163, "body": "generally - take advantage  of c++ safe containers. Use std::vector or std::aray instead of arrays . My guess is that you ran out of an array somewhere"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1446058687, "post_id": 33399340, "comment_id": 54590182, "body": "did you run it under vs debugger (F5)? That will stop where the error happens"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1446058939, "post_id": 33399340, "comment_id": 54590316, "body": "&quot;Segmenttation faults&quot; and &quot;compiler warnings&quot; are issues from two completely different unrelated universes. In general case, the compiler will not be able to help you to resolve segmentation faults. Don&#39;t expect any &quot;compiler warnings&quot; in such situations. &quot;Compiler warnings&quot; have absolutely nothing to do with it."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1446059087, "post_id": 33399340, "comment_id": 54590413, "body": "You leak memory like crazy, I would not be surprised if you get out of memory"}], "answers": [{"tags": [], "owner": {"reputation": 424, "user_id": 5293624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bacf8cd0c5c7a2277363ea6f84c82a8?s=128&d=identicon&r=PG&f=1", "display_name": "kjpus", "link": "https://stackoverflow.com/users/5293624/kjpus"}, "is_accepted": true, "score": 1, "last_activity_date": 1446059656, "creation_date": 1446059656, "answer_id": 33399664, "question_id": 33399340, "link": "https://stackoverflow.com/questions/33399340/segmentation-fault-with-no-detailed-compiling-warnings/33399664#33399664", "title": "Segmentation fault with no detailed compiling warnings", "body": "<p>In your <code>startBusiness</code> function, you have </p>\n\n<pre><code>if( checkAtla(arrX, i) == 1 &amp;&amp; i &lt; boardSize - 2 )\n{\n    //\n    tempVec.push_back({i,1});\n}\n</code></pre>\n\n<p>That will call <code>checkAtla</code> first and then check the range. So you are calling <code>checkAtla</code> with <code>i==boardSize-2</code> and will cause a segfault. </p>\n"}], "owner": {"reputation": 199, "user_id": 4351817, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QYxj9.jpg?s=128&g=1", "display_name": "Alper91", "link": "https://stackoverflow.com/users/4351817/alper91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 33399664, "answer_count": 1, "score": -1, "last_activity_date": 1446059656, "creation_date": 1446058505, "question_id": 33399340, "link": "https://stackoverflow.com/questions/33399340/segmentation-fault-with-no-detailed-compiling-warnings", "title": "Segmentation fault with no detailed compiling warnings", "body": "<p>I am trying to solve a puzzle and was going well for a while. I am used to get segmentation faults but I have overcame them till this one. Because in this one, I get no indicator that pointing where the segmentation fault may be occuring. I used both Dev C++ and MS Visual studio Community 2015 and they both give me nothing about the line which is the source of the error. </p>\n\n<p>I am sharing the whole code below then I will share the specific function block which I give the most weight as the source of the problem:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint boardSize, result=0;\nint * board;\n\nstd::vector&lt;std::vector&lt;int&gt; &gt; tempVec;\n\nvoid askSize()\n{\n    //\n    std::cout &lt;&lt; \"type in the size of the boardSize: \"&lt;&lt; std::endl;\n    std::cin &gt;&gt; boardSize;\n    std::cout &lt;&lt; std::endl;\n\n    board = new int [boardSize];\n    for(int i = 0; i &lt; boardSize; i++)\n    {\n        //\n        if( i &lt; boardSize/2 )\n        {\n            //\n            //std::cout&lt;&lt; i;\n            board[i] = 1;\n        }\n        else\n        {\n            board[i] = 0;\n        }\n\n    }\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        std::cout &lt;&lt; *(board + i) &lt;&lt;std::endl;\n    }\n    std::cout &lt;&lt; std::endl;\n}\n\n\nvoid showBoard()\n{\n    //\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        std::cout &lt;&lt; *(board + i) &lt;&lt; \", \" &lt;&lt; std::endl;\n    }\n    std::cout &lt;&lt; std::endl;\n}\n\n\nint git(int * arrX, int x)\n{\n    //\n    if( arrX[x+1] == 0 )\n    {\n        //\n        arrX[x] = 0;\n        arrX[x+1] = 1;\n        return 1;\n    }\n    else\n    {\n        return 0;\n    }\n}\n\nint checkGit(int * arrX, int x)\n{\n    //\n    if( arrX[x+1] == 0 )\n    {\n        return 1;\n    }\n    else\n    {\n        return 0;\n    }\n}\n\nvoid atla(int * arrX, int y, int jumpCount)\n{\n    //\n    if( ( jumpCount &gt; 0 &amp;&amp; arrX[y+jumpCount*2+2] == 1 &amp;&amp; y &lt; boardSize-2 ) || ( jumpCount &gt; 0 &amp;&amp; arrX[y+jumpCount*2+1] == 0 &amp;&amp; y &lt; boardSize-2 ) )\n    {\n        //\n        arrX[y] = 0;\n        arrX[y + jumpCount*2] = 1;\n        //return jumpCount;\n    }\n    else if( jumpCount &gt; 0 &amp;&amp; arrX[y+jumpCount*2+2] == 0 &amp;&amp; y &lt; boardSize-2 &amp;&amp; arrX[y+jumpCount*2+1] == 1)\n    {\n        //\n        atla(arrX, y, jumpCount+1);\n    }\n    else if( jumpCount == 0 &amp;&amp; arrX[y+2] == 0 &amp;&amp; arrX[y+1] == 1)\n    {\n        //\n        atla(arrX, y, jumpCount+1);\n    }\n    else if( ( jumpCount == 0 &amp;&amp; arrX[y+2] == 1 ) || ( jumpCount == 0 &amp;&amp; arrX[y+1] == 0 ) )\n    {\n        //\n        //return 0;\n    }\n}\n\nint checkBoard(int * arrX)\n{\n    //\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        if( i &lt; boardSize/2 )\n        {\n            //\n            if( arrX[i] == 1 )\n            {\n                //\n                return 0;\n            }\n        }\n        else\n        {\n            //\n            if( arrX[i] == 0 )\n            {\n                //\n                return 0;\n            }\n        }\n    }\n    return 1;\n}\n\nint checkAtla( int * arrX, int x )\n{\n    //\n    if( arrX[x + 1] == 1 &amp;&amp; arrX[x + 2] == 0 )\n    {\n        //\n        return 1;\n    }\n    else\n    {\n        //\n        return 0;\n    }\n}\n\nvoid changeTempArr(int x, int y, int * arrX)\n{\n    //\n    if( y == 0 )\n    {\n        //\n        git(arrX, x);\n    }\n    else if( y == 1 )\n    {\n        //\n        atla(arrX, x, 0);\n    }\n}\n\nvoid startBusiness( int counter, int * arrX )\n{\n    //\n    /*\n    int * tempArr = new int [boardSize];\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        tempArr[i] = arrX[i];\n    }\n    */\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        if( checkAtla(arrX, i) == 1 &amp;&amp; i &lt; boardSize - 2 )\n        {\n            //\n            tempVec.push_back({i,1});\n        }\n        if( checkGit(arrX, i) == 1 &amp;&amp; i &lt; boardSize - 1 )\n        {\n            //\n            tempVec.push_back({i,0});\n        }\n\n    }\n    if( tempVec.size() &gt; 0 )\n    {\n        //\n        int ** possibilities = new int * [tempVec.size()];\n        for( int i = 0; i &lt; tempVec.size(); i++ )\n        {\n            //\n            possibilities[i] = new int[2];\n            possibilities[i][0] = tempVec[i][0];\n            possibilities[i][1] = tempVec[i][1];\n        }\n        int possibilitySize = tempVec.size();\n        tempVec.clear();\n        //std::cout&lt;&lt; possibilities[10][0] &lt;&lt; \", \" &lt;&lt; possibilities[10][1];\n        for( int i = 0; i &lt; possibilitySize; i++ )\n        {\n            //\n            int * tempArr = new int [boardSize];\n            for( int i = 0; i &lt; boardSize; i++ )\n            {\n                //\n                tempArr[i] = arrX[i];\n                //std::cout &lt;&lt; tempArr[i] &lt;&lt; std::endl;\n            }\n            changeTempArr(possibilities[i][0], possibilities[i][1], tempArr);\n            //std::cout &lt;&lt; \"check\" &lt;&lt; std::endl;\n            startBusiness( counter + 1, tempArr );\n        }\n\n    }\n    else\n    {\n        //\n        if( checkBoard(arrX) == 1 )\n        {\n            //\n            if( counter &gt; result)\n            {\n                //\n                result = counter;\n                std::cout &lt;&lt; result &lt;&lt; std::endl;\n            }\n        }\n    }\n\n\n}\n\nint main()\n{\n    askSize();\n    startBusiness(0,board);\n    std::cout &lt;&lt; \"the result is: \" &lt;&lt; result;\n    return 0;\n}\n</code></pre>\n\n<p>I think the problem is in between these lines(in the start business function):</p>\n\n<pre><code>int ** possibilities = new int * [tempVec.size()];\nfor( int i = 0; i &lt; tempVec.size(); i++ )\n{\n    //\n    possibilities[i] = new int[2];\n    possibilities[i][0] = tempVec[i][0];\n    possibilities[i][1] = tempVec[i][1];\n}\nint possibilitySize = tempVec.size();\ntempVec.clear();\n//std::cout&lt;&lt; possibilities[10][0] &lt;&lt; \", \" &lt;&lt; possibilities[10][1];\nfor( int i = 0; i &lt; possibilitySize; i++ )\n{\n    //\n    int * tempArr = new int [boardSize];\n    for( int i = 0; i &lt; boardSize; i++ )\n    {\n        //\n        tempArr[i] = arrX[i];\n        //std::cout &lt;&lt; tempArr[i] &lt;&lt; std::endl;\n    }\n    changeTempArr(possibilities[i][0], possibilities[i][1], tempArr);\n    //std::cout &lt;&lt; \"check\" &lt;&lt; std::endl;\n    startBusiness( counter + 1, tempArr );\n}\n</code></pre>\n\n<p>Because I can output the 'tempArr[i]' for local 'i' = 0 for the first time, and then things got messy. But really can not see which is the problematic line. Also another question, can it be the limited memory related problem?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "inheritance", "operator-overloading"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446059062, "post_id": 33399137, "comment_id": 54590396, "body": "Why not use smart pointers? Code above has memory leaks"}, {"owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446085800, "post_id": 33399137, "comment_id": 54601297, "body": "Which leaks? I can&#39;t see it myself..."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446126651, "post_id": 33399137, "comment_id": 54621760, "body": "Th constructor uses <code>new</code> to initialise <code>baseMember</code>. This gets overwritten in the assignment operator without the delete being used"}, {"owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446167202, "post_id": 33399137, "comment_id": 54643518, "body": "@EdHeal I see it now. I just skipped the delete thing to simply the example code. The class which I am working where this problem arose have the propper use of delete. Anyway, thank you for the tip. I will give a look on those smart pointers."}], "answers": [{"comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446058387, "post_id": 33399273, "comment_id": 54589984, "body": "Might as well add the test <code>if (&amp;right == this) { return *this; }</code> at the start"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446058554, "post_id": 33399273, "comment_id": 54590099, "body": "@EdHeal Yes, that&#39;s a good idea."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1446058960, "post_id": 33399273, "comment_id": 54590328, "body": "@Lucas, remember to delete any already allocated memory in the assignment operator. Alternatively, you can say <code>*derivedMember = *right.derivedMember;</code>"}, {"owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "edited": false, "score": 0, "creation_date": 1446085696, "post_id": 33399273, "comment_id": 54601282, "body": "@Gread.And.Powerful.Oz Thank you for the reminder. The second tip is really useful, I don&#39;t know why it has not came to my mind :) About the answer itself, when calling the Base::operator, should I not use something like static_cast&lt;Base&gt;(right)? I think I saw it somewhere."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "edited": false, "score": 0, "creation_date": 1446085890, "post_id": 33399273, "comment_id": 54601310, "body": "@Lucas, there is no need to cast. You would only cast (maybe) when assigning to say a <code>void*</code> as in <code>void *foo = static_cast&lt;void*&gt;(myInstance);</code>  Furthermore, there&#39;s nothing to cast, you&#39;re simply calling the base function."}, {"owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "edited": false, "score": 0, "creation_date": 1446086718, "post_id": 33399273, "comment_id": 54601517, "body": "@Gread.And.Powerful.Oz But the Base::operator= uses an const Base object reference. So, are you saying the Derived object is type compatible with the Base object? I know the pointers are, but I have not tested it with references before."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "edited": false, "score": 0, "creation_date": 1446086973, "post_id": 33399273, "comment_id": 54601593, "body": "@Lucas, yes of course. You&#39;ve subclassed <code>Derived</code> from <code>Base</code> so a reference to <code>Derived</code> is automagically convertible to a reference to <code>Base</code>. That is <code>Derived d; Base&amp; b = d;</code> is valid code. So calling a <code>Base</code> function that takes a <code>Base&amp;</code> parameter with a <code>Derived&amp;</code> value is completely valid and normal C++."}, {"owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "edited": false, "score": 0, "creation_date": 1446087502, "post_id": 33399273, "comment_id": 54601718, "body": "@Gread.And.Powerful.Oz Thank you, it is clear like water now."}], "tags": [], "owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "is_accepted": true, "score": 1, "last_activity_date": 1446058598, "last_edit_date": 1446058598, "creation_date": 1446058304, "answer_id": 33399273, "question_id": 33399137, "link": "https://stackoverflow.com/questions/33399137/c-assignment-operator-implementation-on-derived-class/33399273#33399273", "title": "C++ assignment operator implementation on derived class", "body": "<p>Like this:</p>\n\n<pre><code>Derived &amp;operator=(const Derived &amp;right )\n{\n    if (&amp;right == this) { return *this; } // prevent assigning to self\n    Base::operator=(right);\n    delete derivedMember; // remember to release any assigned memory (assumes derivedMember is assigned a default of nullPtr)\n    derivedMember = new double( *(right.derivedMember) );\n    return *this;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3670449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ijFVtF7z58E/AAAAAAAAAAI/AAAAAAAAAQY/NkU7JU7fDXc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3670449/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 1, "closed_date": 1446128225, "accepted_answer_id": 33399273, "answer_count": 1, "score": 1, "last_activity_date": 1446058598, "creation_date": 1446057857, "last_edit_date": 1446058243, "question_id": 33399137, "link": "https://stackoverflow.com/questions/33399137/c-assignment-operator-implementation-on-derived-class", "closed_reason": "Duplicate", "title": "C++ assignment operator implementation on derived class", "body": "<p>Suppose I have a base  class which looks like this: </p>\n\n<pre><code>class Base\n{\npublic:\n   Base(){ baseMember = new int( 10 ); }\n\n   Base &amp;operator=( const Base &amp;right )\n   {\n      baseMember = new int( *(right.baseMember) );\n      return *this;\n   }\nprotected:\n   int *baseMember;\n};\n</code></pre>\n\n<p>And now I want to have a Derived class which inherits from Base, and have a new pointer member called derivedMember:</p>\n\n<pre><code>class Derived : public Base\n{\npublic:\n   Derived():Base(){ derivedMember = new double( 10.1 ); }\n\n   Derived &amp;operator=( const Derived &amp;right )\n   { /*some implementation */ }\nprivate:\n   double *derivedMember;\n};\n</code></pre>\n\n<p>How should I do the operator= implementation on the Derived class in a way which I can call the base class operator= and avoid having to rewrite the Base class operator= implementation on the Derived class? In simple words, how can I avoid having to do it:</p>\n\n<pre><code>Derived &amp;operator=(const Derived &amp;right )\n{\n   baseMember = new int( *(right.baseMember) ); //this is what I want to avoid rewriting\n   derivedMember = new double( *(right.derivedMember) );\n   return *this;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1446059199, "post_id": 33399093, "comment_id": 54590475, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/31345193/how-can-an-incomplete-type-be-used-as-a-template-parameter-to-vector-here\">How can an incomplete type be used as a template parameter to vector here?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1446058968, "post_id": 33399289, "comment_id": 54590335, "body": "Cool. That&#39;s what i hoped."}, {"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 1, "creation_date": 1446059513, "post_id": 33399289, "comment_id": 54590654, "body": "This is especially handy for the pimpl idiom with unique_ptr"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 1, "creation_date": 1446059725, "post_id": 33399289, "comment_id": 54590791, "body": "@Claudiu Yes and no. I think the OP&#39;s question is specifically for incomplete types that never are used in the template, whereas with pimpl you declare it with an incomplete type, with the requirement that it becomes complete before any use."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1446059890, "post_id": 33399289, "comment_id": 54590897, "body": "Correct. This is for example to spawn multiple classes with the same functionality, but with different type. Such as <code>myfloatT&lt;class velocityTag&gt;</code> and <code>myfloatT&lt;class distanceTag&gt;</code>,"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 3, "last_activity_date": 1446058332, "creation_date": 1446058332, "answer_id": 33399289, "question_id": 33399093, "link": "https://stackoverflow.com/questions/33399093/incomplete-type-as-tag-type-for-templates/33399289#33399289", "title": "Incomplete type as tag type for templates", "body": "<p>Yes, you can use an incomplete type as a template type argument - provided that you never use that type argument in a context that requires a complete type. This is handy for when you want a template argument to distinguish two different class templates - but don't actually need it for anything else.</p>\n\n<p>Since <code>B</code> never tries to do anything with <code>T</code> that requires it to be complete, all three instantiations of it (<code>C1</code>, <code>C2</code>, and <code>C3</code>) are perfectly valid. </p>\n"}], "owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 3, "accepted_answer_id": 33399289, "answer_count": 1, "score": 1, "last_activity_date": 1446060127, "creation_date": 1446057720, "last_edit_date": 1446060127, "question_id": 33399093, "link": "https://stackoverflow.com/questions/33399093/incomplete-type-as-tag-type-for-templates", "title": "Incomplete type as tag type for templates", "body": "<p>Incomplete types are generally not allowed at template instantiation, but does that hold even when the incomplete type is not explicitly used? gcc 5.1 and VS 2015 allow it, but I'm not sure. Example:</p>\n\n<pre><code>    template&lt;typename T&gt;\n    struct B{\n       // not using T \n    };\n\n    struct tag1{};\n    struct tag2; // incomplete\n    using C1 = B&lt;tag1&gt;;\n    using C2 = B&lt;tag2&gt;;\n    using C3 = B&lt;struct tag3&gt;; // hmm...\n\n    int main(){\n        C1 c1;\n        C2 c2;\n        C3 c3;\n    }\n</code></pre>\n\n<p>Bonus: what about <code>tag3</code> above?</p>\n\n<p><strong><em>Edit:</strong> in response to the suggested duplicate, <code>std::vector</code> does in contrast to <code>B</code> make use of the type of the template argument. Have a look at the accepted answers: this is allowed but the question about <code>vector</code> is not.</em></p>\n"}, {"tags": ["c++", "oop", "templates", "generics", "return"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1446058019, "post_id": 33399047, "comment_id": 54589747, "body": "As someone coming from Java you should never use <code>new</code>. It is just bad style and unnecessarily difficult and error prone. Allocate on the stack instead, for example <code>TotalTemplate&lt;int&gt; total(totalAmountOfItems);</code> and use <code>std::vector&lt;T&gt;</code> internally."}, {"owner": {"reputation": 10559, "user_id": 1649466, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3689c5e38dd561263bd35756f5f6e285?s=128&d=identicon&r=PG", "display_name": "tonga", "link": "https://stackoverflow.com/users/1649466/tonga"}, "edited": false, "score": 0, "creation_date": 1446058132, "post_id": 33399047, "comment_id": 54589803, "body": "This is C++. You need to free up the memory by calling <code>delete[] items</code> in the destructor. Otherwise it will cause memory leak."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5499715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67566cff44e642240bdf533abffd8d7?s=128&d=identicon&r=PG&f=1", "display_name": "A20T3M4", "link": "https://stackoverflow.com/users/5499715/a20t3m4"}, "edited": false, "score": 0, "creation_date": 1446058288, "post_id": 33399170, "comment_id": 54589909, "body": "Weird, I can&#39;t believe it was such a simple thing. I remember thinking I had a really good reason why I had it itemsAdded-1, so I guess I just glanced over it..."}, {"owner": {"reputation": 1, "user_id": 5499715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67566cff44e642240bdf533abffd8d7?s=128&d=identicon&r=PG&f=1", "display_name": "A20T3M4", "link": "https://stackoverflow.com/users/5499715/a20t3m4"}, "edited": false, "score": 0, "creation_date": 1446058334, "post_id": 33399170, "comment_id": 54589953, "body": "Can you explain what that negative int was, so I can catch it in future reference?"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 1, "user_id": 5499715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67566cff44e642240bdf533abffd8d7?s=128&d=identicon&r=PG&f=1", "display_name": "A20T3M4", "link": "https://stackoverflow.com/users/5499715/a20t3m4"}, "edited": false, "score": 0, "creation_date": 1446058495, "post_id": 33399170, "comment_id": 54590064, "body": "When you allocate an array of ints (or any primitive) whatever memory is assigned is not cleared. So you were basically looking at uninitialized memory. So whatever was stored at that memory location before is now &#39;assigned&#39; to the array of ints. To avoid that you can use the <code>memset</code> function to <b>zero</b> the memory if desired."}], "tags": [], "owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "is_accepted": false, "score": 1, "last_activity_date": 1446057949, "creation_date": 1446057949, "answer_id": 33399170, "question_id": 33399047, "link": "https://stackoverflow.com/questions/33399047/c-when-using-a-value-called-from-a-getter-method-of-an-object-a-random-negat/33399170#33399170", "title": "C++: When using a value called from a getter method of an object, a random negative int is outputted?", "body": "<p>this line in <code>addItem</code></p>\n\n<pre><code>items[itemsAdded-1] = item;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>items[itemsAdded] = item;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5499715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67566cff44e642240bdf533abffd8d7?s=128&d=identicon&r=PG&f=1", "display_name": "A20T3M4", "link": "https://stackoverflow.com/users/5499715/a20t3m4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446057949, "creation_date": 1446057540, "question_id": 33399047, "link": "https://stackoverflow.com/questions/33399047/c-when-using-a-value-called-from-a-getter-method-of-an-object-a-random-negat", "title": "C++: When using a value called from a getter method of an object, a random negative int is outputted?", "body": "<p>The following is my file TotalTemplate.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"conio.h\"\n\nusing namespace std;\n\ntemplate&lt;class T&gt;\nclass TotalTemplate{\npublic:\n//protected:\n    T* items;\n    int itemsAdded;\n    int amountOfItems;\n\n//public:\n\n    //Exception for trying to add items when its passed its limit\n    class TooManyItems{ };\n\n    //Exception for trying to call total before the total has been reached\n    class IncompleteTotal{ };\n\n    TotalTemplate(int amountOfItems){\n        TotalTemplate::amountOfItems = amountOfItems;\n        items = new T[amountOfItems];\n        itemsAdded = 0;\n    }\n\n    TotalTemplate(int amountOfItems, T firstItem){\n        TotalTemplate::amountOfItems = amountOfItems;\n        items[] = new T[amountOfItems];\n        items[0] = firstItem;\n        itemsAdded = 1;\n    }\n\n    void addItem(T item){\n        if (itemsAdded &gt;= amountOfItems)\n            throw TooManyItems();\n        else{\n            items[itemsAdded-1] = item;\n            itemsAdded++;\n        }\n    }\n\n    //Returns the amount of items added so far\n    int getAmountAdded(){\n        return itemsAdded;\n    }\n\n    T getTotal(){//Here is the method definition that is giving me problems\n        if (itemsAdded &lt; amountOfItems)\n            throw IncompleteTotal();\n        else{\n            T total=items[0];\n            for (int i = 1; i &lt; itemsAdded; i++)\n                total += items[i];\n            return total;\n        }\n    }\n\n\n};\n\n\nvoid main(){\n    //using int to fill the generic type T\n    cout &lt;&lt; \"Enter the amount of items to be totaled: \";\n    int totalAmountOfItems = getInt();\n    TotalTemplate&lt;int&gt; *total=new TotalTemplate&lt;int&gt;(totalAmountOfItems);\n    while (true){\n        cout &lt;&lt; total-&gt;getAmountAdded() &lt;&lt; \" items added so far!\\nSelect one of the following actions to take.\\n\";\n        cout &lt;&lt; \"(1) Add an item.\\n\";\n        cout &lt;&lt; \"(2) View total.\\n\";\n        cout &lt;&lt; \"(3) Exit Program.\\n\";\n        switch (menuSelect(3)){\n        case 1://Add an item\n            try{\n                cout &lt;&lt; \"Enter a number to add: \";\n                int item = getInt();\n                total-&gt;addItem(item);\n            }\n            catch (TotalTemplate&lt;int&gt;::TooManyItems){\n                cout &lt;&lt; \"\\nItems given exceeds expected limit.\\n\\n\";\n            }\n            break;\n\n        case 2://View Total\n            try{\n                int totalInt = total-&gt;getTotal(); //Here is my problem\n                cout &lt;&lt; \"The total is: \" &lt;&lt; totalInt &lt;&lt; endl&lt;&lt;endl;\n            }\n            catch (TotalTemplate&lt;int&gt;::IncompleteTotal){\n                cout &lt;&lt; \"\\nRunning Total has not yet reached total amount of items yet.\\n\\n\";\n            }\n            break;\n\n        case 3: //Exit program\n            return;\n        }\n    }\n         cout &lt;&lt; \"\\n\\nExiting program...\";\n         _getch();\n}\n</code></pre>\n\n<p>The problem I'm getting is in the main method, when I call total.getTotal(), instead of return an expected int, being the total of all the items added together, I get a totally random int outputted: -842150451</p>\n\n<p>My guess is that it's outputting something instead of the value returned from getTotal(), but I'm not sure how or why or how to fix it. I come from a Java background so I feel like I'm out of habit doing improper oop C++ practice.</p>\n\n<p>Also, getInt() and menuSelect() are methods I have reused from previous codes multiple times, so I excluded them from the file for simplicity sake.</p>\n\n<p>Does anyone know what I'm doing wrong?</p>\n"}, {"tags": ["c++", "boost", "g++"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1446056899, "post_id": 33398788, "comment_id": 54589049, "body": "try using <code>-std=c++11</code> or <code>-std=c++0x</code>"}, {"owner": {"reputation": 1398, "user_id": 3076534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5RKAi.jpg?s=128&g=1", "display_name": "hofan41", "link": "https://stackoverflow.com/users/3076534/hofan41"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1446057924, "post_id": 33398788, "comment_id": 54589685, "body": "Thanks! That got me over the first set of errors. Updated question with more errors :("}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 1, "creation_date": 1446058458, "post_id": 33398788, "comment_id": 54590035, "body": "That&#39;s strange. You can try <code>#define BOOST_NO_INCLASS_MEMBER_INITIALIZATION</code> before including boost headers, but g++ 4.8 should have no trouble with in-class initialization of a <code>static const bool</code>. Try <code>g++ --version</code> to check if you&#39;re using the right compiler?"}, {"owner": {"reputation": 1398, "user_id": 3076534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5RKAi.jpg?s=128&g=1", "display_name": "hofan41", "link": "https://stackoverflow.com/users/3076534/hofan41"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1446058834, "post_id": 33398788, "comment_id": 54590258, "body": "Added g++ version output to question. Adding <code>-DBOOST_NO_INCLASS_MEMBER_INITIALIZATION</code> took care of those errors, but more errors remain which I do not believe should be errors either."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1446059185, "post_id": 33398788, "comment_id": 54590467, "body": "Not reproducible here with any -std= and any g++. Which version of boost  are you using?"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1446059569, "post_id": 33398788, "comment_id": 54590688, "body": "I also can&#39;t reproduce your errors: <a href=\"http://melpon.org/wandbox/permlink/l0yyWjqvcRlYIMRz\" rel=\"nofollow noreferrer\">melpon.org/wandbox/permlink/l0yyWjqvcRlYIMRz</a>"}, {"owner": {"reputation": 1398, "user_id": 3076534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5RKAi.jpg?s=128&g=1", "display_name": "hofan41", "link": "https://stackoverflow.com/users/3076534/hofan41"}, "edited": false, "score": 0, "creation_date": 1446059919, "post_id": 33398788, "comment_id": 54590910, "body": "Thanks for the link. I will use that tool and re-evaluate my environment."}], "owner": {"reputation": 1398, "user_id": 3076534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5RKAi.jpg?s=128&g=1", "display_name": "hofan41", "link": "https://stackoverflow.com/users/3076534/hofan41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446058652, "creation_date": 1446056692, "last_edit_date": 1446058652, "question_id": 33398788, "link": "https://stackoverflow.com/questions/33398788/g-building-sample-boost-code", "title": "G++ Building Sample Boost Code", "body": "<p>I am trying to build a boost sample code from their website at <a href=\"http://www.boost.org/doc/libs/1_59_0/libs/gil/example/dynamic_image.cpp\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_59_0/libs/gil/example/dynamic_image.cpp</a></p>\n\n<p>On Ubuntu 14.04 and G++ 4.8. </p>\n\n<p>Code below:</p>\n\n<pre><code>#include &lt;boost/mpl/vector.hpp&gt;\n#include &lt;boost/gil/extension/dynamic_image/any_image.hpp&gt;\n#include &lt;boost/gil/extension/io/jpeg_dynamic_io.hpp&gt;\n\nint main() {\n    using namespace boost::gil;\n\n    typedef boost::mpl::vector&lt;gray8_image_t, rgb8_image_t, gray16_image_t, rgb16_image_t&gt; my_images_t;\n\n    any_image&lt;my_images_t&gt; dynamic_img;\n    jpeg_read_image(\"test.jpg\",dynamic_img);\n\n    // Save the image upside down, preserving its native color space and channel depth\n    jpeg_write_view(\"out-dynamic_image.jpg\",flipped_up_down_view(const_view(dynamic_img)));\n\n    return 0;\n}\n</code></pre>\n\n<p>Compile command: </p>\n\n<pre><code>g++ -o dynamic_image.o dynamic_image.cpp -Iboost -Iimagelib/jpeg-6b -Iimagelib/libpng-1.6.13\n</code></pre>\n\n<p>Produces Errors:</p>\n\n<pre><code>In file included from /usr/include/c++/4.8/vector:64:0,\n                 from kboost/boost/gil/extension/io/jpeg_io_private.hpp:24,\n                 from kboost/boost/gil/extension/io/jpeg_io.hpp:32,\n                 from kboost/boost/gil/extension/io/jpeg_dynamic_io.hpp:31,\n                 from dynamic_image.cpp:20:\n/usr/include/c++/4.8/bits/stl_vector.h:117:7: error: \u2018std::_Vector_base&lt;_Tp, _Alloc&gt;::_Tp_alloc_type&amp; std::_Vector_base&lt;_Tp, _Alloc&gt;::_M_get_Tp_allocator()\u2019 cannot be overloaded\n       _M_get_Tp_allocator() const _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:113:7: error: with \u2018std::_Vector_base&lt;_Tp, _Alloc&gt;::_Tp_alloc_type&amp; std::_Vector_base&lt;_Tp, _Alloc&gt;::_M_get_Tp_allocator()\u2019\n       _M_get_Tp_allocator() _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:547:7: error: \u2018std::vector&lt;_Tp, _Alloc&gt;::const_iterator std::vector&lt;_Tp, _Alloc&gt;::begin()\u2019 cannot be overloaded\n       begin() const _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:538:7: error: with \u2018std::vector&lt;_Tp, _Alloc&gt;::iterator std::vector&lt;_Tp, _Alloc&gt;::begin()\u2019\n       begin() _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:565:7: error: \u2018std::vector&lt;_Tp, _Alloc&gt;::const_iterator std::vector&lt;_Tp, _Alloc&gt;::end()\u2019 cannot be overloaded\n       end() const _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:556:7: error: with \u2018std::vector&lt;_Tp, _Alloc&gt;::iterator std::vector&lt;_Tp, _Alloc&gt;::end()\u2019\n       end() _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:583:7: error: \u2018std::vector&lt;_Tp, _Alloc&gt;::const_reverse_iterator std::vector&lt;_Tp, _Alloc&gt;::rbegin()\u2019 cannot be overloaded\n       rbegin() const _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:574:7: error: with \u2018std::vector&lt;_Tp, _Alloc&gt;::reverse_iterator std::vector&lt;_Tp, _Alloc&gt;::rbegin()\u2019\n       rbegin() _GLIBCXX_NOEXCEPT\n       ^\n/usr/include/c++/4.8/bits/stl_vector.h:601:7: error: \u2018std::vector&lt;_Tp, _Alloc&gt;::const_reverse_iterator std::vector&lt;_Tp, _Alloc&gt;::rend()\u2019 cannot be overloaded\n       rend() const _GLIBCXX_NOEXCEPT\n</code></pre>\n\n<p>I am fairly certain the problem has nothing to do with sample code, so what am I doing wrong? My best guess is I am using the wrong library or the compiler is configured incorrectly...</p>\n\n<p><strong>Update</strong>\nAdding the -std=c++11 flag fixed my error. Now I am receiving the following errors:</p>\n\n<pre><code>In file included from kboost/boost/config.hpp:61:0,\n                 from kboost/boost/mpl/aux_/config/msvc.hpp:19,\n                 from kboost/boost/mpl/aux_/config/adl.hpp:17,\n                 from kboost/boost/mpl/aux_/adl_barrier.hpp:17,\n                 from kboost/boost/mpl/bool_fwd.hpp:17,\n                 from kboost/boost/mpl/bool.hpp:17,\n                 from kboost/boost/mpl/aux_/na.hpp:17,\n                 from kboost/boost/mpl/vector.hpp:19,\n                 from dynamic_image.cpp:18:\nkboost/boost/gil/extension/io/jpeg_io_private.hpp:37:45: error: ISO C++ forbids in-class initialization of non-const static member \u2018boost::gil::detail::jpeg_read_support_private&lt;Channel, ColorSpace&gt;::is_supported\u2019\n     BOOST_STATIC_CONSTANT(bool,is_supported=false);\n                                             ^\nkboost/boost/gil/extension/io/jpeg_io_private.hpp:38:52: error: ISO C++ forbids in-class initialization of non-const static member \u2018boost::gil::detail::jpeg_read_support_private&lt;Channel, ColorSpace&gt;::color_type\u2019\n     BOOST_STATIC_CONSTANT(J_COLOR_SPACE,color_type=JCS_UNKNOWN);\n                                                    ^\n</code></pre>\n\n<p>G++ Version</p>\n\n<pre><code>g++ (Ubuntu 4.8.4-2ubuntu1~14.04) 4.8.4\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n"}, {"tags": ["c++", "constructor", "destructor", "stdmap"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 6, "creation_date": 1446056198, "post_id": 33398591, "comment_id": 54588624, "body": "You forgot to define a copy constructor."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1446056208, "post_id": 33398591, "comment_id": 54588628, "body": "I am not sure how you got that output.  running the code <a href=\"http://coliru.stacked-crooked.com/a/8e05917741e4afef\" rel=\"nofollow noreferrer\">here</a> gives the correct output."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1446056242, "post_id": 33398591, "comment_id": 54588649, "body": "Name the compiler and version."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1446056296, "post_id": 33398591, "comment_id": 54588687, "body": "Are you testing with optimizations turned off? Seems your compiler is creating a lot of intermediate copies. Add copy &amp; move constructor definitions also to trace what&#39;s going on."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446056354, "post_id": 33398591, "comment_id": 54588726, "body": "Where would it be making copies? <code>map</code> doesn&#39;t move things around internally like <code>vector</code> does..."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1446056366, "post_id": 33398591, "comment_id": 54588733, "body": "If you want to match ctors and dtors, you need to print from <i>all</i> ctors."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1446056479, "post_id": 33398591, "comment_id": 54588798, "body": "Rule of five: monitor  all copy, move constructors, assignment operator and destructor"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1446056896, "post_id": 33398591, "comment_id": 54589046, "body": "@NathanOliver, I&#39;m getting same output as OP"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446056944, "post_id": 33398591, "comment_id": 54589076, "body": "@Barry perhaps <code>operator[]</code> makes a copy or two when unoptimized. I wouldn&#39;t know, it doesn&#39;t reoroduce on ideone."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1446056983, "post_id": 33398591, "comment_id": 54589103, "body": "@NathanOliver, C++14 gives me your output, and C++ 4.9.2 gives me OP&#39;s output"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1446057241, "post_id": 33398591, "comment_id": 54589260, "body": "What do you mean by &quot;are replacing the key&quot;?"}, {"owner": {"reputation": 1552, "user_id": 1174984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e0c7ca1909fdf37c2fe438e83718aa7?s=128&d=identicon&r=PG&f=1", "display_name": "pranavk", "link": "https://stackoverflow.com/users/1174984/pranavk"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446057305, "post_id": 33398591, "comment_id": 54589296, "body": "@DavidSchwartz I mean using the already existing key in the map."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446057346, "post_id": 33398591, "comment_id": 54589323, "body": "Then what would it be destructing?"}, {"owner": {"reputation": 1552, "user_id": 1174984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e0c7ca1909fdf37c2fe438e83718aa7?s=128&d=identicon&r=PG&f=1", "display_name": "pranavk", "link": "https://stackoverflow.com/users/1174984/pranavk"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446057479, "post_id": 33398591, "comment_id": 54589407, "body": "@DavidSchwartz Well, I thought it would be destructing the object against the already existing key."}, {"owner": {"reputation": 18517, "user_id": 203458, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1b9f56786ceba3c57d0d2fe56182a4d3?s=128&d=identicon&r=PG", "display_name": "Kate Gregory", "link": "https://stackoverflow.com/users/203458/kate-gregory"}, "edited": false, "score": 0, "creation_date": 1446057619, "post_id": 33398591, "comment_id": 54589496, "body": "@pranavk that would be terrible. Normally you set up a map so you can look stuff up in it repeatedly. For map to throw away what it has when you try to look up element 0, that would be really strange."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446057622, "post_id": 33398591, "comment_id": 54589498, "body": "How could it return a reference to an object it destroyed?"}, {"owner": {"reputation": 1552, "user_id": 1174984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e0c7ca1909fdf37c2fe438e83718aa7?s=128&d=identicon&r=PG&f=1", "display_name": "pranavk", "link": "https://stackoverflow.com/users/1174984/pranavk"}, "edited": false, "score": 0, "creation_date": 1446094878, "post_id": 33398591, "comment_id": 54603811, "body": "Ah,I am sorry. That is terrible indeed. I misthought. Kindly ignore."}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1446057698, "last_edit_date": 1446057698, "creation_date": 1446057321, "answer_id": 33398978, "question_id": 33398591, "link": "https://stackoverflow.com/questions/33398591/how-does-stdmap-call-value-destructors/33398978#33398978", "title": "How does std::map call value destructors?", "body": "<p>Apparently, your <code>operator[]</code> uses the following logic:</p>\n\n<ol>\n<li><p>If the object doesn't exist, create it and then set it equal to a default-constructed object.</p></li>\n<li><p>Return a reference to the object.</p></li>\n</ol>\n\n<p>That is very strange behavior. The extra construction and assignment is not needed. The new object should just be default constructed in the first place.</p>\n"}, {"comments": [{"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 0, "creation_date": 1446058711, "post_id": 33399221, "comment_id": 54590194, "body": "More interesting output can be had by making the cout lines also print the address of the <code>test</code> objects involved.  Then you can see that in the no-C++11 mode, it creates a <code>test</code> on the stack, copies it elsewhere on the stack, and then copies it into the heap, before destroying the two stack copies.  This all happens within the implementation of <code>std::map::operator[]</code>, and even with <code>-O3</code>, which seems somewhat broken."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 0, "last_activity_date": 1446058944, "last_edit_date": 1446058944, "creation_date": 1446058158, "answer_id": 33399221, "question_id": 33398591, "link": "https://stackoverflow.com/questions/33398591/how-does-stdmap-call-value-destructors/33399221#33399221", "title": "How does std::map call value destructors?", "body": "<p>For completeness:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\nusing namespace std;\n\nclass test{\n   public:\n   test() {\n     cout &lt;&lt; \"calling test ctor \" &lt;&lt; endl;\n   }\n\n   test(const test&amp;) {\n     cout &lt;&lt; \"calling copy ctor \" &lt;&lt; endl;\n   }\n\n//   test(test&amp;&amp;) {\n//     cout &lt;&lt; \"calling move ctor \" &lt;&lt; endl;\n//   }\n\n   test&amp; operator = (const test&amp;) {\n     cout &lt;&lt; \"calling copy assignment \" &lt;&lt; endl;\n     return * this;\n   }\n\n//   test&amp; operator = (test&amp;&amp;) {\n//     cout &lt;&lt; \"calling move assignment \" &lt;&lt; endl;\n//     return * this;\n//   }\n\n   ~test() {\n      cout &lt;&lt; \"calling test dtor \" &lt;&lt; endl;\n   }\n\n   void callme(){\n      cout &lt;&lt; \"call me \" &lt;&lt; endl;\n   }\n};\n\nint main () {\n   map&lt;int, test&gt; mp;\n   mp[0].callme();\n   mp[0].callme();\n   return 0;\n}\n</code></pre>\n\n<p>Compiled without C++11 gives:</p>\n\n<pre><code>calling test ctor \ncalling copy ctor \ncalling copy ctor \ncalling test dtor \ncalling test dtor \ncall me \ncall me \ncalling test dtor \n</code></pre>\n\n<p>Having comments on move semantics removed and compiled with C++11: </p>\n\n<pre><code>calling test ctor \ncall me \ncall me \ncalling test dtor \n</code></pre>\n\n<p>Both are compiled with g++ 4.8.4 </p>\n"}, {"tags": [], "owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "is_accepted": false, "score": 1, "last_activity_date": 1446058432, "creation_date": 1446058432, "answer_id": 33399321, "question_id": 33398591, "link": "https://stackoverflow.com/questions/33398591/how-does-stdmap-call-value-destructors/33399321#33399321", "title": "How does std::map call value destructors?", "body": "<p>By compiling using the command <code>g++ maps.cpp</code>, you're invoking g++ in C++03 mode, which means it isn't able to use move semantics.</p>\n\n<p>The relevant lines of the <code>map::operator[]</code> implementation can be found <a href=\"https://github.com/gcc-mirror/gcc/blob/master/libstdc%2B%2B-v3/include/bits/stl_map.h#L481-L488\" rel=\"nofollow\">here</a></p>\n\n<pre><code>    if (__i == end() || key_comp()(__k, (*__i).first))\n#if __cplusplus &gt;= 201103L\n      __i = _M_t._M_emplace_hint_unique(__i, std::piecewise_construct,\n                        std::tuple&lt;const key_type&amp;&gt;(__k),\n                        std::tuple&lt;&gt;());\n#else\n      __i = insert(__i, value_type(__k, mapped_type()));\n#endif\n</code></pre>\n\n<p>So prior to C++11, the <code>mapped_type</code> (<code>test</code> in your example) is default constructed to create a <code>value_type</code> (<code>pair&lt;int const, test&gt;</code> in your example). This is the initial call to the constructor.</p>\n\n<p>The call to <code>insert</code> then has to copy the mapped type at least once when it inserts it into the internal storage for the <code>map</code>. Evidently, the libstdc++ implementation results in an additional copy somewhere, adding up to two copy constructions, and hence two matching destructor calls. If you add a copy constructor definition you'll see the number of destructor calls match the number of constructor calls.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/74f98353d7e02bee\" rel=\"nofollow\">Live demo</a></p>\n\n<p>Also, notice that by adding the <code>-std=c++11</code> flag, you avoid the intermediate copies. As seen in the code above, the implementation uses piecewise construction of the <code>pair</code> in that case to directly construct the <code>mapped_type</code> (and <code>key_type</code>) in the <code>map</code>'s internal storage.</p>\n"}], "owner": {"reputation": 1552, "user_id": 1174984, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e0c7ca1909fdf37c2fe438e83718aa7?s=128&d=identicon&r=PG&f=1", "display_name": "pranavk", "link": "https://stackoverflow.com/users/1174984/pranavk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1446058944, "creation_date": 1446056075, "last_edit_date": 1446057058, "question_id": 33398591, "link": "https://stackoverflow.com/questions/33398591/how-does-stdmap-call-value-destructors", "title": "How does std::map call value destructors?", "body": "<p>I have this code :</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\nusing namespace std;\n\nclass test{\n   public:\n   test() {\n     cout &lt;&lt; \"calling test ctor \" &lt;&lt; endl;\n   }\n\n   ~test() {\n      cout &lt;&lt; \"calling test dtor \" &lt;&lt; endl;\n   }\n\n   void callme(){\n      cout &lt;&lt; \"call me \" &lt;&lt; endl;\n   }\n};\n\nint main () {\n   map&lt;int, test&gt; mp;\n   mp[0].callme();\n   mp[0].callme();\n   return 0;\n}\n</code></pre>\n\n<p>The output of this program is :</p>\n\n<pre><code>calling test ctor \ncalling test dtor \ncalling test dtor \ncall me \ncall me \ncalling test dtor \n</code></pre>\n\n<p>I am little confused how std::map is handling test:: ctors and dtors here. </p>\n\n<p>Before executing this code, my assumption was that mp[0].callme() would create a new <code>test</code> object and call <code>callme()</code> on that, and if we call mp[0].callme() again, then it should call test:: dtor (since we are replacing the key <code>0</code> here) and then test:: ctor to create a new <code>test</code> object so that it could call <code>callme()</code> on that. Obviously my assumption is wrong here because output doesn't match at all. </p>\n\n<p>Could anyone please throw some light on this ?</p>\n\n<p><strong>EDIT1</strong>:</p>\n\n<p>gcc --version = gcc (GCC) 5.1.1 20150422 (Red Hat 5.1.1-1)</p>\n\n<p><strong>Command to compile:</strong></p>\n\n<p><code>g++ maps.cpp</code></p>\n\n<p>So, no flags with g++. Simple compile.</p>\n"}, {"tags": ["c++", "c", "casting"], "comments": [{"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 5, "creation_date": 1446056142, "post_id": 33398579, "comment_id": 54588592, "body": "Read about &quot;big endian&quot; and &quot;little endian&quot;."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1446056215, "post_id": 33398579, "comment_id": 54588632, "body": "this code won&#39;t compile. it&#39;s difficult to accurately understand what you&#39;re asking unless you provide code that is syntactically correct. I could make assumptions, but it&#39;s likely i&#39;d be wrong about what you really want to know. It seems to me that you could be asking about either casting a byte to an int32 or reinterpreting a byte array as an integer. the results would be different."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1446056247, "post_id": 33398579, "comment_id": 54588652, "body": "Please replace the pseudo-code by compilable  code"}, {"owner": {"reputation": 3238, "user_id": 3042438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b930cad6b909cf6546dfe29bdeb8af88?s=128&d=identicon&r=PG&f=1", "display_name": "SunKnight0", "link": "https://stackoverflow.com/users/3042438/sunknight0"}, "edited": false, "score": 0, "creation_date": 1446056274, "post_id": 33398579, "comment_id": 54588670, "body": "I am not sure how much detail you are looking for but as far as bit by bit is concerned the least significant bit of the 4-Byte variable equals the 1-Byte variable while the 3 other bytes are all zero."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1446056617, "post_id": 33398579, "comment_id": 54588874, "body": "Do not use homebrew types. <code>stdint.h</code> is exactly meant to provide types with fixed size! Neither <code>char</code> nor <code>int</code> are guaranteed to have a specific bit-width."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 5, "creation_date": 1446056656, "post_id": 33398579, "comment_id": 54588898, "body": "There is no magic here. If <code>uint1</code> has the value 158, the <code>uint4</code> will also have the value 158. And the cast isn&#39;t really needed."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1446056766, "post_id": 33398579, "comment_id": 54588969, "body": "This is neither C nor C++. Either add code for one of the langauges, or remove the tags."}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1446060017, "post_id": 33398579, "comment_id": 54590960, "body": "@RichardHodges The title says &quot;casting&quot;, and there are no pointers in the pseudocode. It looks to me like the only &quot;pseudo&quot; part of the pseudocode is the indications of specific bit-values within bytes, which of course <i>can&#39;t</i> be represented directly in C/C++ code (er... sorry, yes, C++14 <i>does</i> support this, actually)."}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1446060240, "post_id": 33398579, "comment_id": 54591092, "body": "@DieterL&#252;cking In C, AFAIK, there&#39;s no direct way to represent the bits in a primitive, and the <code>0b#####</code> comment added by Jarod42 is only supported as a literal int representation in C++14."}, {"owner": {"reputation": 135, "user_id": 4555796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-5dYOyRrZkWY/AAAAAAAAAAI/AAAAAAAAAN4/Pwq1lUTEuhw/photo.jpg?sz=128", "display_name": "tbol", "link": "https://stackoverflow.com/users/4555796/tbol"}, "edited": false, "score": 0, "creation_date": 1446060610, "post_id": 33398579, "comment_id": 54591313, "body": "@all as you can see here: [link]<a href=\"http://www.zedwood.com/article/cpp-md5-function\" rel=\"nofollow noreferrer\">zedwood.com/article/cpp-md5-function</a> in the MD5 class method decode there is used a cast:"}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1446140721, "post_id": 33398579, "comment_id": 54631837, "body": "@tbol ...why do you need to understand what happens at the <i>bit level</i> in order to re-implement that function? The point of a &quot;high level&quot; language such as C or C++ (with scare-quotes because these are pretty low-level languages) is to allow you to think and code at the <i>logical level</i> so that the compiler can take care of the bits."}], "answers": [{"tags": [], "owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "is_accepted": false, "score": 6, "last_activity_date": 1446056145, "creation_date": 1446056145, "answer_id": 33398611, "question_id": 33398579, "link": "https://stackoverflow.com/questions/33398579/what-happens-in-detail-when-casting-1byte-data-into-4byte/33398611#33398611", "title": "What happens in detail when casting 1Byte data into 4Byte", "body": "<p>The numeric value remains the same, so zeroes are added to the \"logical\" left. Where that happens in the underlying bytes that make up the 4-byte integer depends on the endianness of the platform. </p>\n"}, {"comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1446060267, "post_id": 33398853, "comment_id": 54591111, "body": "I don&#39;t really see how this answers the question."}], "tags": [], "owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "is_accepted": false, "score": 0, "last_activity_date": 1446056910, "creation_date": 1446056910, "answer_id": 33398853, "question_id": 33398579, "link": "https://stackoverflow.com/questions/33398579/what-happens-in-detail-when-casting-1byte-data-into-4byte/33398853#33398853", "title": "What happens in detail when casting 1Byte data into 4Byte", "body": "<p>For completeness:</p>\n\n<blockquote>\n  <p>So what happens [...] when casting [..] a unsigned char into an unsigned int?</p>\n</blockquote>\n\n<p>C11 Standard (draft):</p>\n\n<blockquote>\n  <p><strong>6.5.4 Cast Operators</strong></p>\n  \n  <p>[...]</p>\n  \n  <p><strong>Semantics</strong></p>\n  \n  <p><strong>5</strong> Preceding an expression by a parenthesized type name converts the value of the expression to the named type. This construction is called a <em>cast</em>.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p><strong>6.5.16.1 Simple assignment</strong></p>\n  \n  <p>[...]</p>\n  \n  <p><strong>Semantics</strong></p>\n  \n  <p><strong>2</strong> In <em>simple assignment</em> (=), the value of the right operand is converted to the type of the\n  assignment expression and replaces the value stored in the object designated by the left\n  operand.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1446136599, "post_id": 33411503, "comment_id": 54629156, "body": "Writing some code to figure out the <i>actual behavior</i> is an awesome thing to do; props. But note that as pointed out in Matteo Italia, the actual underlying byte-order will be different depending on whether your system (or your marshaling infrastructure, or whatever) is big-endian or little-endian. (Typically this won&#39;t matter within a program; it&#39;s mostly important to consider when transferring data between programs, since data is typically transmitted one byte at a time, so ints and other data must be re-assembled from individual bytes.)"}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1446136683, "post_id": 33411503, "comment_id": 54629214, "body": "Also, note that if you&#39;re using a <i>signed</i> value, then, assuming your platform uses a 2&#39;s-complement representation, the padding values (the 3 bytes of 0&#39;s in your 32-bit value) will be 1&#39;s rather than 0&#39;s (to preserve the sign)."}], "tags": [], "owner": {"reputation": 135, "user_id": 4555796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-5dYOyRrZkWY/AAAAAAAAAAI/AAAAAAAAAN4/Pwq1lUTEuhw/photo.jpg?sz=128", "display_name": "tbol", "link": "https://stackoverflow.com/users/4555796/tbol"}, "is_accepted": true, "score": 1, "last_activity_date": 1446113944, "creation_date": 1446113944, "answer_id": 33411503, "question_id": 33398579, "link": "https://stackoverflow.com/questions/33398579/what-happens-in-detail-when-casting-1byte-data-into-4byte/33411503#33411503", "title": "What happens in detail when casting 1Byte data into 4Byte", "body": "<p>Finally I got the answer. Look at this little snippet:</p>\n\n<pre><code>typedef unsigned char uint1;    // 1 Byte ( 8 Bit)\ntypedef unsigned int uint4;     // 4 Byte (32 Bit)\n\nuint1 test=10;\nuint4 test2=(uint4)test;\n\n\ncout &lt;&lt; sizeof(uint1)*8 &lt;&lt; \" Bit-\" &lt;&lt; \"Variable (test): \";\n\nfor (int i=0; i&lt;sizeof(test)*8; i++) {\n    if ((test &lt;&lt; i) &amp; 0x80)\n        cout &lt;&lt; 1;\n    else\n        cout &lt;&lt; 0;\n}\ncout &lt;&lt; endl;\ncout &lt;&lt; sizeof(uint4)*8 &lt;&lt; \" Bit-\" &lt;&lt; \"Variable (test2): \";\n\nfor (int i=0; i&lt;sizeof(test2)*8; i++) {\n    if ((test &lt;&lt; i) &amp; 0x80000000)\n        cout &lt;&lt; 1;\n    else\n        cout &lt;&lt; 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p>8 Bit-Variable (test): 00001010</p>\n\n<p>32 Bit-Variable (test): 00000000 00000000 00000000 00001010</p>\n"}], "owner": {"reputation": 135, "user_id": 4555796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-5dYOyRrZkWY/AAAAAAAAAAI/AAAAAAAAAN4/Pwq1lUTEuhw/photo.jpg?sz=128", "display_name": "tbol", "link": "https://stackoverflow.com/users/4555796/tbol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 1, "accepted_answer_id": 33411503, "answer_count": 3, "score": 2, "last_activity_date": 1446113944, "creation_date": 1446056019, "last_edit_date": 1446056747, "question_id": 33398579, "link": "https://stackoverflow.com/questions/33398579/what-happens-in-detail-when-casting-1byte-data-into-4byte", "title": "What happens in detail when casting 1Byte data into 4Byte", "body": "<p>I'm trying to implement MD5 Algorithm according to RFC1321 in C/C++ and have some trouble with type conversion.</p>\n\n<pre><code>typedef unsigned int uint4;  // 32 Bit (4 Byte)\ntypedef unsigned char uint1; //  8 Bit (1 Byte)\n\n// pseudocode\nuint1 byte = {1,0,0,1,1,1,1,0}; // 0b10011110\nuint4 t_uint4 = (uint4)byte;\n\nuint4 = { ??? }\n\n// maybe like this??\nuint4 = { {1,0,0,1,1,1,1,0},{???},{???},{???} }\nuint4 = { {???},{???},{???},{1,0,0,1,1,1,1,0} }\n</code></pre>\n\n<p>So what happens in detail when casting a 1Byte variable into a 4Byte variable, respectively a unsigned char into an unsigned int?</p>\n"}, {"tags": ["c++", "xcode", "libraries"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1446056923, "post_id": 33398538, "comment_id": 54589062, "body": "I don&#39;t understand your question; the difference between what?"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1446057390, "post_id": 33398538, "comment_id": 54589355, "body": "xcode, because it&#39;s made by apple, prefers that you use frameworks, for which it helpfully show header files. Apple obviously don&#39;t realise that for anyone developing cross-platform code (almost everyone!), this can be horribly inconvenient."}, {"owner": {"reputation": 1457, "user_id": 2364470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2Y3cl.jpg?s=128&g=1", "display_name": "Will Luce", "link": "https://stackoverflow.com/users/2364470/will-luce"}, "edited": false, "score": 0, "creation_date": 1446058052, "post_id": 33398538, "comment_id": 54589763, "body": "Your comment leads me to believe that at least I&#39;m doing it correctly with the tools I have."}], "owner": {"reputation": 1457, "user_id": 2364470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2Y3cl.jpg?s=128&g=1", "display_name": "Will Luce", "link": "https://stackoverflow.com/users/2364470/will-luce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446058008, "creation_date": 1446055877, "last_edit_date": 1446058008, "question_id": 33398538, "link": "https://stackoverflow.com/questions/33398538/including-c-header-files-in-xcode-without-adding-the-compile-source", "title": "Including c++ header files in Xcode without adding the compile source", "body": "<p>I'm working to create my own c++ library. I've noticed that I have to add my source file to <code>Compile Sources</code> under <code>Build Phases</code> in Xcode if I include the header file. Obviously, I don't have to go find every <code>Boost</code> or <code>Curl</code> file that I use when including one of those header files.</p>\n\n<p>Currently, my \"library\" consists of a few header file and source files in the same folder. I have added the path to find the header files to <code>header search paths</code>.</p>\n\n<p>What's the difference between what I'm writing and the standard libraries that only need header file references?</p>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 1811, "user_id": 4347950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33c2cda3907b3f3014aee555819a8d68?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Dannemann", "link": "https://stackoverflow.com/users/4347950/joshua-dannemann"}, "edited": false, "score": 0, "creation_date": 1446055885, "post_id": 33398463, "comment_id": 54588421, "body": "No need to worry about long posts! Most of the time people don&#39;t put in enough info when they ask a question.:)  -Cheers"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446056714, "post_id": 33398570, "comment_id": 54588938, "body": "But I think that when you dynamically declare a variable (as with the &quot;new&quot; command), that variable isn&#39;t deleted after I close the program (the opposite if I did it statically).  Anyway, if the my local variable was deleted, then I would be able to run none of the method calls! One of them works (one or another, just not both), so my variable wasn&#39;t deleted. Am I wrong?"}, {"owner": {"reputation": 6886, "user_id": 272708, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b5cf904a50bb9106a1f177a0a81a405b?s=128&d=identicon&r=PG", "display_name": "dascandy", "link": "https://stackoverflow.com/users/272708/dascandy"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446056774, "post_id": 33398570, "comment_id": 54588979, "body": "@allg18 Your &quot;pessoa&quot; isn&#39;t deleted, but the pointer p itself is. As you pass back the address of <code>p</code> you have a dangling reference."}, {"owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "reply_to_user": {"reputation": 6886, "user_id": 272708, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b5cf904a50bb9106a1f177a0a81a405b?s=128&d=identicon&r=PG", "display_name": "dascandy", "link": "https://stackoverflow.com/users/272708/dascandy"}, "edited": false, "score": 0, "creation_date": 1446057057, "post_id": 33398570, "comment_id": 54589148, "body": "@dascandy Hmm, but then why does it work if I comment <code>cerr &lt;&lt; endl &lt;&lt; a[0][3].GetBornDate() &lt;&lt; endl;</code> for example? If I do this it the &quot;cerr with the GetName()&quot; will run with no problems, printing the name it is supposed to print"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446057200, "post_id": 33398570, "comment_id": 54589234, "body": "@allg18 I added another clarification to the answer, just think about it. The fact that something &quot;works&quot; does not prove anything."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 1, "creation_date": 1446057347, "post_id": 33398570, "comment_id": 54589324, "body": "@allg18 it does not matter what side effects you have, you program has UB, it can do whatever."}, {"owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446057563, "post_id": 33398570, "comment_id": 54589462, "body": "@Slava So, if I get it right, what is happening is that when I do the first method call, the pointer is &quot;still alive&quot;, but it is deleted before the 2nd method call?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446057910, "post_id": 33398570, "comment_id": 54589679, "body": "@allg18 no it is not alive, but that does not mean it will immedeatly crash. you should not care what happens there, you change compiler, compiler version, compilation flags, code in your program and it may work differently. You are wasting time trying to understand why it has specific symptoms."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "edited": false, "score": 0, "creation_date": 1446058235, "post_id": 33398570, "comment_id": 54589865, "body": "@allg18 read answer to this question <a href=\"http://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope\" title=\"can a local variables memory be accessed outside its scope\">stackoverflow.com/questions/6441218/&hellip;</a> it should explain why that your program not crashing immediately does not mean anything."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 5, "last_activity_date": 1446057122, "last_edit_date": 1446057122, "creation_date": 1446055976, "answer_id": 33398570, "question_id": 33398463, "link": "https://stackoverflow.com/questions/33398463/instance-of-class-only-allows-1-method-or-program-crashes/33398570#33398570", "title": "Instance of class only allows 1 method, or program crashes", "body": "<p>Let's look into this function:</p>\n\n<pre><code>int *get()\n{\n    int i = 0;\n    return &amp;i;\n}\n</code></pre>\n\n<p>what is the problem with it? It is returning pointer to a local variable, which does not exist anymore when function <code>get()</code> terminates ie it returns dangling pointer. Now your code:</p>\n\n<pre><code> pessoa** DoArray(int n)\n {\n     pessoa* p= new pessoa[n];\n     return &amp;p;\n }\n</code></pre>\n\n<p>do you see the problem?</p>\n\n<p>To clarify even more:</p>\n\n<pre><code> typedef pessoa * pessoa_ptr;\n pessoa_ptr* DoArray(int n)\n {\n     pessoa_ptr p= whatever;\n     return &amp;p;\n }\n</code></pre>\n\n<p>you need to understand that whatever you assign to <code>p</code> does not change lifetime of <code>p</code> itself. Pointer is the same variable as others.</p>\n"}], "owner": {"reputation": 105, "user_id": 2162795, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9a5f4a9ac99e00516b94b61a0c9e730?s=128&d=identicon&r=PG", "display_name": "Kelthar", "link": "https://stackoverflow.com/users/2162795/kelthar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 33398570, "answer_count": 1, "score": 1, "last_activity_date": 1446057122, "creation_date": 1446055638, "last_edit_date": 1446056745, "question_id": 33398463, "link": "https://stackoverflow.com/questions/33398463/instance-of-class-only-allows-1-method-or-program-crashes", "title": "Instance of class only allows 1 method, or program crashes", "body": "<p>I am learning classes and OOP, so I was doing some practice programs, when I came across the weirdest bug ever while programming.</p>\n\n<p>So, I have the following files, beginning by my class \"pessoa\", located in pessoa.h:</p>\n\n<pre><code>#pragma once\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass pessoa {\npublic:\n//constructor (nome do aluno, data de nascimento)\npessoa(string newname=\"asffaf\", unsigned int newdate=1996): name(newname), DataN(newdate){};\nvoid SetName(string a); //set name\nvoid SetBornDate(unsigned int ); //nascimento\nstring GetName(); //get name\nunsigned int GetBornDate();\nvirtual void Print(){}; // print\n\nprivate:\nstring name; //nome\nunsigned int DataN; //data de nascimento\n};\n</code></pre>\n\n<p>Whose functions are defined in pessoa.cpp</p>\n\n<pre><code>#include \"pessoa.h\"\n\nstring pessoa::GetName ()\n{\n    return name;\n}\n\nvoid pessoa::SetName(string a)\n{\n    name = a;\n}\n\nunsigned int pessoa::GetBornDate()\n{\n    return DataN;\n}\n\nvoid pessoa::SetBornDate(unsigned int n)\n{\n    DataN=n;\n}\n</code></pre>\n\n<p>A function, DoArray, declared in DoArray.h, and defined in the file DoArray.cpp:</p>\n\n<pre><code>    pessoa** DoArray(int n)\n{\n    pessoa* p= new pessoa[n];\n    pessoa** pointer= &amp;p;\n    return pointer;\n}\n</code></pre>\n\n<p>And the main file:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include \"pessoa.h\"\n#include \"DoArray.h\"\n#include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main()\n{\n//pessoa P[10];\n//cout &lt;&lt; P[5].GetBornDate();\npessoa** a=DoArray(5);\ncerr &lt;&lt; endl &lt;&lt; a[0][3].GetBornDate() &lt;&lt; endl;\ncerr &lt;&lt; endl &lt;&lt; a[0][3].GetName() &lt;&lt; endl;\n\n\n    return 0;\n}\n</code></pre>\n\n<p>The weird find is, if I comment one of the methods above, \"GetBornDate\" or GetName, and run, the non-commented method will run fine and as supposed. However, if both are not commented, then the first will run and the program will crash before the 2nd method.</p>\n\n<p>Sorry for the long post.</p>\n"}, {"tags": ["c++", "vector", "cuda", "thrust"], "answers": [{"comments": [{"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1446055710, "post_id": 33398472, "comment_id": 54588312, "body": "That simple huh? Thanks !"}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1446056033, "post_id": 33398472, "comment_id": 54588515, "body": "<i>error: no suitable conversion function from &quot;thrust::device_ptr&lt;const float&gt;&quot; to &quot;float *&quot; exists</i> Do I need to <i>thrust::raw_pointer_cast</i> it first?"}, {"owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "edited": false, "score": 0, "creation_date": 1446056695, "post_id": 33398472, "comment_id": 54588923, "body": "This seems to require that I either remove <i>const</i> from the methods, or cast to const float *, but it works, thanks for the help :-)"}], "tags": [], "owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "is_accepted": true, "score": 2, "last_activity_date": 1446056113, "last_edit_date": 1446056113, "creation_date": 1446055661, "answer_id": 33398472, "question_id": 33398374, "link": "https://stackoverflow.com/questions/33398374/cuda-thrustdevice-vector-get-pointer-from-specific-range/33398472#33398472", "title": "Cuda thrust::device_vector get pointer from specific range", "body": "<blockquote>\n  <p>Can I get a pointer from that range, without first copying it to a new vector? That seems like a waste of copy-realloc to me.</p>\n</blockquote>\n\n<p>Yes, you can get a pointer to that range.</p>\n\n<pre><code>float * weight_ptr = thrust::raw_pointer_cast( weights_.data() ) + weights_begin;\n</code></pre>\n\n<blockquote>\n  <p>In case I can't get a pointer from that range, can I at least assign a vector to that range, without copying the actual values?</p>\n</blockquote>\n\n<p>No,  a thrust vector cannot be instantiated \"on top\" of existing data.</p>\n"}], "owner": {"reputation": 12642, "user_id": 499699, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kbSI9.jpg?s=128&g=1", "display_name": "&#198;lex", "link": "https://stackoverflow.com/users/499699/%c3%86lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 33398472, "answer_count": 1, "score": 1, "last_activity_date": 1446056113, "creation_date": 1446055357, "question_id": 33398374, "link": "https://stackoverflow.com/questions/33398374/cuda-thrustdevice-vector-get-pointer-from-specific-range", "title": "Cuda thrust::device_vector get pointer from specific range", "body": "<p>I have a vector of vectors:</p>\n\n<pre><code>thrust::device_vector weights_;\n</code></pre>\n\n<p>which is a continuous amount of memory, where every <strong>w</strong> items,\nrepresent a vector.</p>\n\n<p>In one of my functions, I pass as parameters the begin and end of that range, like so:</p>\n\n<pre><code> __host__ ann::d_vector ann::prop_layer (\n                                           unsigned int weights_begin,\n                                           unsigned int weights_end,\n                                           ann::d_vector &amp; input\n                                        ) const\n</code></pre>\n\n<p>and then, I go and copy into a new vector that range,\nand then get a raw pointer which I can use in a kernel:</p>\n\n<pre><code>thrust::device_vector&lt;float&gt; weights ( weights_.begin() + weights_begin,\n                                       weights_.begin() + weights_end );\n\nfloat * weight_ptr = thrust::raw_pointer_cast( weights.data() );\n\nsome_kernel&lt;&lt;&lt;numBlocks,numThreads&gt;&gt;&gt;( weight_ptr, weight.size() );\n</code></pre>\n\n<ol>\n<li>Can I get a pointer from that range, without first copying it to a new vector? That seems like a waste of copy-realloc to me.</li>\n<li>In case I can't get a pointer from that range, can I at least assign a vector to that range, without copying the actual values?</li>\n</ol>\n"}, {"tags": ["c#", "c++", "interop", "dllimport"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1446056201, "post_id": 33398299, "comment_id": 54588626, "body": "Are you sure your exported function is declared <code>CDECL</code> and not <code>STDCALL</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 5471920, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6ETjh.jpg?s=128&g=1", "display_name": "Adds", "link": "https://stackoverflow.com/users/5471920/adds"}, "is_accepted": true, "score": 1, "last_activity_date": 1476879439, "creation_date": 1476879439, "answer_id": 40131193, "question_id": 33398299, "link": "https://stackoverflow.com/questions/33398299/dllimportattempted-to-read-or-write-protected-memory-this-is-often-an-indicat/40131193#40131193", "title": "(DLLImport)Attempted to read or write protected memory. This is often an indication that other memory is corrupt", "body": "<p>What I did to solve the Issue is to make sure that I was using the 64bit platform for my application and running the Application as a administrator. </p>\n"}], "owner": {"reputation": 443, "user_id": 5471920, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6ETjh.jpg?s=128&g=1", "display_name": "Adds", "link": "https://stackoverflow.com/users/5471920/adds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 40131193, "answer_count": 1, "score": 1, "last_activity_date": 1476879439, "creation_date": 1446055101, "question_id": 33398299, "link": "https://stackoverflow.com/questions/33398299/dllimportattempted-to-read-or-write-protected-memory-this-is-often-an-indicat", "title": "(DLLImport)Attempted to read or write protected memory. This is often an indication that other memory is corrupt", "body": "<p>I am trying to import a function from a C Code dll. </p>\n\n<p>the function is </p>\n\n<pre><code> bool AsrLibSetLcdBacklight(ESCORE_LCDBR_CONTROL Ctrl)\n</code></pre>\n\n<p>there is a enum in the c code</p>\n\n<pre><code>typedef enum\n{\n   ESCORE_LCDBRCTL_UP,\nESCORE_LCDBRCTL_DOWN\n} ESCORE_LCDBR_CONTROL_TYPE;\n</code></pre>\n\n<p>I am trying to call it in Visual studio 2013 in a windows form application using C# with the following code --></p>\n\n<pre><code>public enum EWestern { ESCORE_LCDBRCTL_UP = 0, ESCORE_LCDBTCTL_DOWN = 1 };\n\n    [DllImport(\"AsrCore.dll\",CallingConvention = CallingConvention.Cdecl)]\n    public static extern bool AsrLibSetLcdBacklight([In]EWestern e);\n</code></pre>\n\n<p>and calling this function with a button click</p>\n\n<pre><code>private void button4_Click(object sender, EventArgs e)\n\n  {\n      if (AsrLibSetLcdBacklight(EWestern.ESCORE_LCDBTCTL_DOWN))\n        {\n            MessageBox.Show(\"backlight Decreased\", \"Test\");\n        }\n    }\n</code></pre>\n\n<p>When I run the code I get an error about the SystemAccessViolation.</p>\n\n<p>Please let me know what is the issue here, Am i doing it right ? is the syntax good ?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c++", "arrays", "string", "new-operator"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1446055552, "post_id": 33398267, "comment_id": 54588225, "body": "&quot;Prints garbage&quot;. Did you expect roses?"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2689119, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b9e5e70863da4f9e0f7b35856b423c2d?s=128&d=identicon&r=PG", "display_name": "Uchiha_itachi", "link": "https://stackoverflow.com/users/2689119/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1446055675, "post_id": 33398331, "comment_id": 54588289, "body": "Thanks, I will use memset from now on."}, {"owner": {"reputation": 93, "user_id": 2689119, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b9e5e70863da4f9e0f7b35856b423c2d?s=128&d=identicon&r=PG", "display_name": "Uchiha_itachi", "link": "https://stackoverflow.com/users/2689119/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1446057256, "post_id": 33398331, "comment_id": 54589266, "body": "No I am still getting error. Whenever I am using cin&gt;&gt;str it is showing error. <a href=\"http://ideone.com/kSIQkA\" rel=\"nofollow noreferrer\">ideone.com/kSIQkA</a>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 93, "user_id": 2689119, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b9e5e70863da4f9e0f7b35856b423c2d?s=128&d=identicon&r=PG", "display_name": "Uchiha_itachi", "link": "https://stackoverflow.com/users/2689119/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1446057486, "post_id": 33398331, "comment_id": 54589411, "body": "@Uchiha_itachi You&#39;re not getting an &quot;error&quot; - you&#39;re getting behavior that differs from what you want. Your problem is that you did not read the documentation for <code>memset</code>."}, {"owner": {"reputation": 93, "user_id": 2689119, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b9e5e70863da4f9e0f7b35856b423c2d?s=128&d=identicon&r=PG", "display_name": "Uchiha_itachi", "link": "https://stackoverflow.com/users/2689119/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1446057811, "post_id": 33398331, "comment_id": 54589626, "body": "I get it. I should have done sizeof(arr[0])*10 there."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 5, "last_activity_date": 1446055232, "creation_date": 1446055232, "answer_id": 33398331, "question_id": 33398267, "link": "https://stackoverflow.com/questions/33398267/garbage-value-in-while-printing-array/33398331#33398331", "title": "garbage value in while printing array", "body": "<p>You're default-initializing all your <code>int</code>s, which doesn't actually assign them a value. Reading from an indeterminate value is undefined behavior - sometimes you get 0s, sometimes you get some weird values. Undefined behavior is undefined.</p>\n\n<p>If you want all 0s, you need to value-initialize the array:</p>\n\n<pre><code>arr[i] = new int[str.length()]();\n//                            ^^\n</code></pre>\n\n<p>Or use something like <a href=\"http://en.cppreference.com/w/cpp/string/byte/memset\"><code>memset</code></a> or <a href=\"http://en.cppreference.com/w/cpp/algorithm/fill\"><code>std::fill</code></a> or <a href=\"http://en.cppreference.com/w/cpp/algorithm/fill_n\"><code>std::fill_n</code></a>.</p>\n"}], "owner": {"reputation": 93, "user_id": 2689119, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b9e5e70863da4f9e0f7b35856b423c2d?s=128&d=identicon&r=PG", "display_name": "Uchiha_itachi", "link": "https://stackoverflow.com/users/2689119/uchiha-itachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446055247, "creation_date": 1446055009, "last_edit_date": 1446055247, "question_id": 33398267, "link": "https://stackoverflow.com/questions/33398267/garbage-value-in-while-printing-array", "title": "garbage value in while printing array", "body": "<p>I am declaring the array dynamically using new. The array is formed of string length, which I am giving from the user. When I am providing a string of length between 7-11 the array is printing garbage value. Why is it happening? </p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#include&lt;cstring&gt;\n#include&lt;string&gt;\n#include&lt;climits&gt;\n#include&lt;vector&gt;\n#include&lt;ctime&gt;\n#include&lt;map&gt;\nusing namespace std;\n\nint main(){\n    string str;\n    cin&gt;&gt;str;\n    int i,j;\n    int** arr = new int*[str.length()];\n    for(i = 0; i &lt; str.length(); ++i)\n        arr[i] = new int[str.length()];\n\n    for(i=0;i&lt;str.length();i++){\n        for(j=0;j&lt;str.length();j++){\n            cout&lt;&lt;arr[i][j]&lt;&lt;\" \";\n        }\n        cout&lt;&lt;endl;\n    }\n    return 0;\n} \n</code></pre>\n\n<p>The output for string \"BBABCBCAB\" is:</p>\n\n<pre><code>36397056 0 8 0 -1 0 1111573058 1094926915 0 \n0 0 4 0 -1 0 1111573058 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0 \n0 0 0 0 0 0 0 0 0\n</code></pre>\n\n<p>Why is it happening ? And not for other any string with more than length 12? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1446054849, "post_id": 33398177, "comment_id": 54587779, "body": "You should check that <code>outputFile.is_open()</code> is true.  if it is then the file is being created and you just can&#39;t find it."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1446055063, "post_id": 33398177, "comment_id": 54587930, "body": "Is this a question about calculating prime numbers, or writing to a file? Either could be a good SO question, but not both."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1446055096, "post_id": 33398177, "comment_id": 54587955, "body": "<i>&quot;The commented out part isn&#39;t anything related;&quot;</i> Then why did you include it in your question?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1446057358, "post_id": 33398177, "comment_id": 54589332, "body": "The part you commented out is much closer to a solution than the code you&#39;re using. You only need to add one line to the loop."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446057961, "post_id": 33398177, "comment_id": 54589711, "body": "You call <code>isPrime</code> only to ignore the result. Also, add error checking to as many of your operations as you can, particularly opening the file."}], "answers": [{"tags": [], "owner": {"reputation": 10822, "user_id": 16645, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/p90Tz.jpg?s=128&g=1", "display_name": "Glen Solsberry", "link": "https://stackoverflow.com/users/16645/glen-solsberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1446054891, "creation_date": 1446054891, "answer_id": 33398230, "question_id": 33398177, "link": "https://stackoverflow.com/questions/33398177/printing-first-100-prime-numbers-to-a-file/33398230#33398230", "title": "Printing first 100 prime numbers to a file", "body": "<p>You initialize <code>p</code> at the top with <code>2</code>. You should be calling <code>isPrime</code> with <code>i</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 25272, "user_id": 2354, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5078d0930e7c379110e94c80a73b7227?s=128&d=identicon&r=PG", "display_name": "Benjamin Pollack", "link": "https://stackoverflow.com/users/2354/benjamin-pollack"}, "is_accepted": false, "score": 0, "last_activity_date": 1446054926, "creation_date": 1446054926, "answer_id": 33398239, "question_id": 33398177, "link": "https://stackoverflow.com/questions/33398177/printing-first-100-prime-numbers-to-a-file/33398239#33398239", "title": "Printing first 100 prime numbers to a file", "body": "<p>You're getting <code>2</code>s because you're printing out and storing <code>p</code>, but the loop is going over <code>i</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 5425998, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f4ISlnAT8ZM/AAAAAAAAAAI/AAAAAAAAABM/q480KvKpGOY/photo.jpg?sz=128", "display_name": "Andrew Miller", "link": "https://stackoverflow.com/users/5425998/andrew-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1446062323, "creation_date": 1446062323, "answer_id": 33400494, "question_id": 33398177, "link": "https://stackoverflow.com/questions/33398177/printing-first-100-prime-numbers-to-a-file/33400494#33400494", "title": "Printing first 100 prime numbers to a file", "body": "<p>Here is the updated code. Upon research I did find where it was saving the files, and there are instances of it just not working at all. However, This code runs and does give me everything I need it to.. Thank you for the tips, and I appreciate the very.... constructive feedback.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nbool isPrime(int);\n\nint main () {\n\nofstream outputFile;\n\ncout &lt;&lt; \"I will be giving you the first 100 prime numbers \" &lt;&lt; endl;\ncout &lt;&lt; \"And giving you a file containing those numbers.\" &lt;&lt; endl;\n\noutputFile.open(\"PrimeNumbers100.txt\");\n\n\n        for (int i = 2; i &lt;= 100; i++) \n        {\n            if (isPrime(i)) {\n            outputFile &lt;&lt; i &lt;&lt; endl;\n            }\n\n        }\n\noutputFile.close();\ncout &lt;&lt; \"You should now have the file.\" &lt;&lt; endl;\n\nreturn 0;\n}\n\nbool isPrime(int p) {\n\nbool result = true;\n\nif (p &lt; 2) {\n    result = false;\n}\nelse {\n    int stop = (int) (sqrt(p + .5));\n    for (int d = 2; d &lt;= stop; d++) {\n        if (p % d == 0) {\n            result = false;\n            break;\n        }\n    }\n}\n\nreturn result;\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5425998, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f4ISlnAT8ZM/AAAAAAAAAAI/AAAAAAAAABM/q480KvKpGOY/photo.jpg?sz=128", "display_name": "Andrew Miller", "link": "https://stackoverflow.com/users/5425998/andrew-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1446062323, "creation_date": 1446054718, "question_id": 33398177, "link": "https://stackoverflow.com/questions/33398177/printing-first-100-prime-numbers-to-a-file", "title": "Printing first 100 prime numbers to a file", "body": "<p>I have to write out a list of prime numbers from 1-100, using a function we have previously wrote, to a file. The commented out part isn't anything related; it's just the previous code we used for the function. I don't know exactly what's going on because the file isn't even being created, and the part inside the for loop is executing with just 2's, 100 times.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nbool isPrime(int);\n\nint main () {\n\nofstream outputFile;\nint p = 2;\n\ncout &lt;&lt; \"I will be giving you the first 100 prime numbers \" &lt;&lt; endl;\ncout &lt;&lt; \"And giving you a file containing those numbers.\" &lt;&lt; endl;\n\noutputFile.open(\"PrimeNumbers100.txt\");\n\n        for (int i = 2; i &lt;= 100; i++) \n        {\n\n            isPrime(p);\n            cout &lt;&lt; p &lt;&lt; endl;\n            outputFile &lt;&lt; p &lt;&lt; endl;\n\n        }\n\noutputFile.close();\ncout &lt;&lt; \"You should now have the file.\" &lt;&lt; endl;\n\n/* int n;\nint counter = 0;\nint p = 2;\n\ncout &lt;&lt; \"Welcome to prime counter. \" &lt;&lt; endl;\ncout &lt;&lt; \"Which prime number would you like? \";\ncin &gt;&gt; n;\n\nwhile (counter &lt; n) {\n        if (isPrime(p)) {\n        counter++;\n    }\n    p++;\n}\np = p - 1;\ncout &lt;&lt; \"Prime number \" &lt;&lt; n &lt;&lt; \" is \" &lt;&lt; p &lt;&lt; \".\" &lt;&lt; endl;\n*/\n\nreturn 0;\n}\n\nbool isPrime(int p) {\n\nbool result = true;\n\nif (p &lt; 2) {\n    result = false;\n}\nelse {\n    int stop = (int) (sqrt(p + .5));\n    for (int d = 2; d &lt;= stop; d++) {\n        if (p % d == 0) {\n            result = false;\n            break;\n        }\n    }\n}\n\nreturn result;\n}\n</code></pre>\n\n<p>Could someone please explain what I'm doing wrong here, and why it isn't even creating the file?</p>\n"}, {"tags": ["c++", "c++11", "vector"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1446054313, "post_id": 33397967, "comment_id": 54587437, "body": "So you have an object that during its lifetime can become uncopyable?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446054338, "post_id": 33397967, "comment_id": 54587452, "body": "<code>std::vector </code> always takes copies on <code>push_back()</code>, and no you can&#39;t prevent this behavior."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446054437, "post_id": 33397967, "comment_id": 54587518, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I don&#39; think that part is the issue.  I believe the problem is the copies when the vector goes through a reallocation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1446054652, "post_id": 33397967, "comment_id": 54587664, "body": "Initialize the vector via <code>vector_member(filter_garbage(other.vector_member))</code> in affected copy constructors (and do similar in assignment operators (maybe copy/swap))"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 5, "creation_date": 1446054750, "post_id": 33397967, "comment_id": 54587720, "body": "&quot;It seems when you try to add more elements to it, and it needs to allocate more space, it does so by copying the last element it currently holds&quot;. Such behaviour would go right against both the standard and the common sense. Can you demonstrate it?"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1446054942, "post_id": 33397967, "comment_id": 54587848, "body": "How do you know if an element is invalid in the vector? Do you store this information somewhere else? E.g.: an index after which all elements are invalid? If so, you probably need your own container which <i>has</i> this knowledge."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1446054964, "post_id": 33397967, "comment_id": 54587861, "body": "<i>@Zepee</i> Sounds like a serious design flaw for me, however you could eventually use a <code>std::list</code> to avoid the behavior."}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1446055929, "post_id": 33397967, "comment_id": 54588452, "body": "When you try to add more elements to a vector than it has space for, what do you expect should happen? It allocates a new, larger buffer and copies all the elements to it. That&#39;s the only possible thing it can do (well, it could refuse to insert the extra element, and would do so with a specialized allocator)."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446059465, "post_id": 33397967, "comment_id": 54590629, "body": "One workaround would be to use a wrapper class that fixes the deficiency of your class. You could use <code>unique_ptr</code> as the wrapper. As a bonus, this would generate errors if you try to do something obviously insane, such as trying to copy the vector."}, {"owner": {"reputation": 1362, "user_id": 220248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/682504ea77f2af226b8d17db4d9c80b6?s=128&d=identicon&r=PG", "display_name": "Zepee", "link": "https://stackoverflow.com/users/220248/zepee"}, "edited": false, "score": 0, "creation_date": 1446112277, "post_id": 33397967, "comment_id": 54611918, "body": "For clarification, yes it wasn&#39;t copying the last element... It was obviously copying all elements when re-allocating... I feel silly"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1468719513, "post_id": 33397967, "comment_id": 64241305, "body": "The C++11 tag means you can fix this by adding a guard and at the same time add move support. Once you have the guard then you&#39;re safe against crashes accessing moved elements (because after the move the original will be invalid), and if you have more than a few bytes of data in each element the move operation will be a lot faster than a copy."}], "answers": [{"comments": [{"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 6, "creation_date": 1446056085, "post_id": 33398543, "comment_id": 54588553, "body": "Since C++11, the requirement of copyable types only applies to certain operations. Otherwise, <code>std::vector&lt;std::unique_ptr&lt;X&gt;&gt;</code> would not be possible."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 1, "creation_date": 1446056667, "post_id": 33398543, "comment_id": 54588907, "body": "@ChristianHackl Anyways it&#39;s not a question of the vector&#39;s behavior, but a faulty design of the class contained here."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 1, "creation_date": 1446056728, "post_id": 33398543, "comment_id": 54588946, "body": "Absolutely. It should be refactored. (By the way, I did not downvote.)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1446056832, "post_id": 33398543, "comment_id": 54589012, "body": "@ChristianHackl I also don&#39;t get the downvote (never suspected it was you beloved neighbor). People don&#39;t seem to get what I&#39;m writing here."}, {"owner": {"reputation": 1362, "user_id": 220248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/682504ea77f2af226b8d17db4d9c80b6?s=128&d=identicon&r=PG", "display_name": "Zepee", "link": "https://stackoverflow.com/users/220248/zepee"}, "edited": false, "score": 0, "creation_date": 1446112195, "post_id": 33398543, "comment_id": 54611866, "body": "Very comprehensive answer. You&#39;re absolutely right, it is a design flaw and a bad assumption to make.. I was definitely more curious and confused as to why a previous element was being copied, which of course is the vector allocating a larger memory block and moving it&#39;s current data over... Back to data structures basics much... Thanks guys"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 7, "last_activity_date": 1446060289, "last_edit_date": 1495540736, "creation_date": 1446055895, "answer_id": 33398543, "question_id": 33397967, "link": "https://stackoverflow.com/questions/33397967/how-to-avoid-stdvector-to-copy-on-re-allocation/33398543#33398543", "title": "How to avoid std::vector to copy on (re-)allocation?", "body": "<p><strong>It's actually a design flaw in your <code>CopiedClass</code> that needs to be fixed.</strong></p>\n\n<p><code>std::vector</code> behaves as expected and documented.</p>\n\n<p>From the little code you show</p>\n\n<pre><code>member-&gt;DoSomething();\n</code></pre>\n\n<p>this indicates you are going to take a shallow copy of a pointer to what ever.</p>\n\n<blockquote>\n  <p>in our case, this is not necessarily true. Currently we might have some left over elements in the vector, because we chose not to remove them yet, which are valid objects, but their data doesn't guarantee valid behavior.</p>\n  \n  <hr>\n  \n  <p>It just so happened that \"member\" is nulled when we are done with the original object and leave it lying about in the vector, so when std::vector tries to copy it, it crashes.</p>\n</blockquote>\n\n<p>As your copy constructor doesn't handle that situation correctly regarding following the <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">Rule of Three</a> your design of <code>CopiedClass</code> is wrong.</p>\n\n<p>You should either care to create a deep copy of your <code>member</code>, or use a <a href=\"http://en.cppreference.com/w/cpp/memory\" rel=\"nofollow noreferrer\"><strong>smart pointer</strong></a> (or a plain instance member), rather than a raw pointer.</p>\n\n<p>The smart pointers should take care of the management for these members correctly.</p>\n\n<p>Also for the code snippet from above, you should test against <code>nullpointer</code> before blindly dereferencing and calling <code>DoSomething()</code>.</p>\n\n<blockquote>\n  <p>Is it possible to prevent <code>std::vector</code> from copying that element?</p>\n</blockquote>\n\n<p>As you're asking for <a href=\"/questions/tagged/c%2b%2b11\" class=\"post-tag\" title=\"show questions tagged &#39;c++11&#39;\" rel=\"tag\">c++11</a> it's possible, but requires you never change the size of the vector, and provide a <a href=\"http://en.cppreference.com/w/cpp/language/move_constructor\" rel=\"nofollow noreferrer\">move constructor</a> and <a href=\"http://en.cppreference.com/w/cpp/language/move_operator\" rel=\"nofollow noreferrer\">assignment operator</a> for <code>CopiedClass</code>.</p>\n\n<p>Otherwise, <code>std::vector</code> <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">explicitly requires</a> copyable types (at least for certain operations):</p>\n\n<blockquote>\n  <p>T must meet the requirements of <a href=\"http://en.cppreference.com/w/cpp/concept/CopyAssignable\" rel=\"nofollow noreferrer\">CopyAssignable</a> and <a href=\"http://en.cppreference.com/w/cpp/concept/CopyConstructible\" rel=\"nofollow noreferrer\">CopyConstructible</a>.</p>\n</blockquote>\n\n<p>It's your responsibility to meet these requirements correctly.</p>\n\n<hr>\n\n<blockquote>\n  <p>... it does so by copying the last element it currently holds.</p>\n</blockquote>\n\n<p>Also note: In a situation the vector needs to be resized, <strong>all</strong> of the existing elements will be copied, not only the <em>last one</em> as you premise.</p>\n"}, {"tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": false, "score": 2, "last_activity_date": 1446059066, "creation_date": 1446059066, "answer_id": 33399514, "question_id": 33397967, "link": "https://stackoverflow.com/questions/33397967/how-to-avoid-stdvector-to-copy-on-re-allocation/33399514#33399514", "title": "How to avoid std::vector to copy on (re-)allocation?", "body": "<p>If you know the vector's maximum size in advance, then a <strong>workaround</strong> for this issue would be calling <code>reserve</code> with that maximum size. When the vector's capacity is big enough, no reallocations occur and no copies of existing elements need to be made.</p>\n\n<p>But that's really just a workaround. You should <strong>redesign</strong> your class such that copying cannot suddenly become an invalid operation, either by making copying safe or by disallowing it and perhaps replace it with moving, like <code>std::unique_ptr</code>. If you make the validity of copying dependent on some run-time status, then you don't even need a <code>std::vector</code> to get into trouble. A simple <code>CopiedClass get();</code> will be a potential error.</p>\n"}, {"tags": [], "owner": {"reputation": 7645, "user_id": 2692339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f8e4e5cba3b6606d8e395364c1742b8?s=128&d=identicon&r=PG&f=1", "display_name": "edmz", "link": "https://stackoverflow.com/users/2692339/edmz"}, "is_accepted": false, "score": 2, "last_activity_date": 1446113045, "last_edit_date": 1446113045, "creation_date": 1446061073, "answer_id": 33400097, "question_id": 33397967, "link": "https://stackoverflow.com/questions/33397967/how-to-avoid-stdvector-to-copy-on-re-allocation/33400097#33400097", "title": "How to avoid std::vector to copy on (re-)allocation?", "body": "<blockquote>\n  <p>It seems when you try to add more elements to it, and it needs to\n  allocate more space, it does so by copying the last element it\n  currently holds. This seems to assume that any element in the vector\n  is fully valid, and as such a copy will always succeed.</p>\n</blockquote>\n\n<p>Both sentences are not really correct. When vector runs out of space it, yes, performs reallocation, but of <em>all</em> the elements and these are copied to the new location or <em>possibly</em> moved. When you <code>push_back</code> or <code>emplace_back</code>, and reallocation is needed, the element will generally by copied: if an exception is thrown during that, it will be treated as if you had never added the element. If <code>vector</code> detects a <code>noexcept</code> user-defined move constructor ( <code>MoveInsertable</code> concept), elements are moved; if this constructor though is not <code>noexcept</code>, and an exception is thrown, the result is unspecified.</p>\n\n<blockquote>\n  <p>The objects have guards, but I never considered adding guards to a\n  copy constructor as I assumed we would never be copying an invalid\n  object (which vector forces) :</p>\n</blockquote>\n\n<p><code>vector</code> copies its <code>value_type</code>: it does not care whether what it <em>contains</em> is valid or invalid. <strong>You</strong> should take care of that in your copy control methods, whose scope is exactly to define how the object is passed around.</p>\n\n<hr>\n\n<pre><code>CopiedClass::CopiedClass(const CopiedClass&amp; other)\n    : member(other.member)\n{\n    member-&gt;DoSomething();\n}\n</code></pre>\n\n<p>The obvious solution would be to check if <code>member</code> is valid and act thereby. </p>\n\n<pre><code>if (member.internalData.isValid())\n    member-&gt;DoSomething()\n// acknowledge this.member's data is invalid\n</code></pre>\n\n<p>We don't know how <code>member</code> is represented, but <a href=\"http://www.boost.org/doc/libs/1_59_0/libs/optional/doc/html/index.html\" rel=\"nofollow\">Boost.Optional</a> is what you may be looking for.</p>\n\n<blockquote>\n  <p>Is it possible to prevent std::vector from copying that element?</p>\n</blockquote>\n\n<p>Reallocation is something <code>vector</code> is <em>expected</em> to commit so, no, you can't. <code>reserv</code>-ing space could avoid that, but maintaining code to handle that would not really be painless. Rather, prefer a container like <code>std::forward_list</code>/<code>std::list</code>.</p>\n\n<p>Other solutions:</p>\n\n<ul>\n<li>Hold a <code>unique_ptr&lt;decltype(member)&gt;</code>, but pointers are not often a real solution</li>\n<li>Define move semantics for your object, as described in other answers.</li>\n</ul>\n"}], "owner": {"reputation": 1362, "user_id": 220248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/682504ea77f2af226b8d17db4d9c80b6?s=128&d=identicon&r=PG", "display_name": "Zepee", "link": "https://stackoverflow.com/users/220248/zepee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2276, "favorite_count": 0, "accepted_answer_id": 33398543, "answer_count": 3, "score": 5, "last_activity_date": 1468715068, "creation_date": 1446054091, "last_edit_date": 1468715068, "question_id": 33397967, "link": "https://stackoverflow.com/questions/33397967/how-to-avoid-stdvector-to-copy-on-re-allocation", "title": "How to avoid std::vector to copy on (re-)allocation?", "body": "<p>I just stumbled into an issue with <code>std::vector</code> when adding new elements to it.</p>\n\n<p>It seems when you try to add more elements to it, and it needs to allocate more space, it does so by copying <del>last element</del> <em>all elements</em> it currently holds. This seems to assume that any element in the vector is fully valid, and as such a copy will always succeed.</p>\n\n<p>In our case, this is not necessarily true. Currently we might have some left over elements in the vector, because we chose not to remove them yet, which are valid objects, but their data doesn't guarantee valid behavior. The objects have guards, but I never considered adding guards to a copy constructor as I assumed we would never be copying an invalid object  (which vector forces) :</p>\n\n<pre><code>CopiedClass::CopiedClass(const CopiedClass&amp; other)\n    : member(other.member)\n{\n    member-&gt;DoSomething();\n}\n</code></pre>\n\n<p>It just so happened that \"member\" is nulled when we are done with the original object and leave it lying about in the vector, so when std::vector tries to copy it, it crashes.</p>\n\n<p>Is it possible to prevent <code>std::vector</code> from copying that element? Or do we have to guard against possible invalid objects being copied? Ideally we'd like to keep assuming that only valid objects are created, but that seems to imply we immediately clean them from the vector, rather than waiting and doing it at some later stage.</p>\n"}, {"tags": ["c++", "arrays", "static"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 4, "creation_date": 1446054036, "post_id": 33397778, "comment_id": 54587248, "body": "Am I understanding you correctly: you want the implementation-dependent reason why this certain case of undefined behavior behaves in this particular way?"}, {"owner": {"reputation": 2049, "user_id": 1493850, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e5efaac09c0da2a6c67774ec8ae639f?s=128&d=identicon&r=PG", "display_name": "POOJA GUPTA", "link": "https://stackoverflow.com/users/1493850/pooja-gupta"}, "reply_to_user": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1446054126, "post_id": 33397778, "comment_id": 54587319, "body": "@cad : you are right ! .... :)"}], "answers": [{"comments": [{"owner": {"reputation": 2049, "user_id": 1493850, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e5efaac09c0da2a6c67774ec8ae639f?s=128&d=identicon&r=PG", "display_name": "POOJA GUPTA", "link": "https://stackoverflow.com/users/1493850/pooja-gupta"}, "edited": false, "score": 0, "creation_date": 1446094689, "post_id": 33397923, "comment_id": 54603729, "body": "thanks for explaining :) .. My understanding from this is that the cache array which is to be statically initialized once is getting reinitialized repeatedly due to its dependency over recursive function call fact (). This function, therefore, re-enter its initialization."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 17, "last_activity_date": 1446054064, "last_edit_date": 1446054064, "creation_date": 1446054008, "answer_id": 33397923, "question_id": 33397778, "link": "https://stackoverflow.com/questions/33397778/c-code-with-undefined-behavior-compiler-generates-stdexception/33397923#33397923", "title": "C++ code with undefined behavior, compiler generates std::exception", "body": "<p>In order to execute <code>fact()</code>, you need to first statically initialize <code>fact::cache[]</code>. In order to initially <code>fact::cache</code>, you need to execute <code>fact()</code>. There's a circular dependency there, which leads to the behavior you see. <code>cache</code> will only be initialized once, but it requires itself to be initialized in order to initialize itself. Even typing this makes my head spin. </p>\n\n<p>The right way to introduce a cache table like this is to separate it into a different function:</p>\n\n<pre><code>int fact(int i) noexcept(false) {\n  if (i &lt; 0) {\n    // Negative factorials are undefined.\n    throw std::domain_error(\"i must be &gt;= 0\");\n  }\n\n  return i &gt; 0 ? i * fact(i - 1) : 1;\n} \n\nint memo_fact(int i) noexcept(false) {\n  static const int cache[] = {\n    fact(0), fact(1), fact(2), fact(3), fact(4), fact(5),\n    fact(6), fact(7), fact(8), fact(9), fact(10), fact(11),\n    fact(12), fact(13), fact(14), fact(15), fact(16)\n  };\n\n  if (i &lt; (sizeof(cache) / sizeof(int))) {\n    return cache[i];\n  }\n  else {\n    return fact(i);\n  }    \n} \n</code></pre>\n\n<p>Here, <code>memo_fact::cache[]</code> will only be initialized once - but its initialization is no longer dependent on itself. So we have no issue. </p>\n"}, {"tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": false, "score": 6, "last_activity_date": 1446054662, "creation_date": 1446054662, "answer_id": 33398162, "question_id": 33397778, "link": "https://stackoverflow.com/questions/33397778/c-code-with-undefined-behavior-compiler-generates-stdexception/33398162#33398162", "title": "C++ code with undefined behavior, compiler generates std::exception", "body": "<p>The C++ standard, \u00a76.7/4, says the following about the initialisation of block-scope variables with static storage duration:</p>\n\n<blockquote>\n  <p>If control re-enters the declaration recursively while the variable is\n  being initialized, the behavior is undefined.</p>\n</blockquote>\n\n<p>The following informative example is given:</p>\n\n<blockquote>\n<pre><code>int foo(int i) {\nstatic int s = foo(2*i); // recursive call - undefined\nreturn i+1;\n}\n</code></pre>\n</blockquote>\n\n<p>This applies to your example as well. <code>fact(0)</code> is a recursive call, so the declaration of <code>cache</code> is re-entered. Undefined behaviour is invoked.</p>\n\n<p>It's important to recall what undefined behaviour means. Undefined behaviour means that <strong>everything</strong> can happen, and \"everything\" quite naturally includes exceptions being thrown.</p>\n\n<p>Undefined behaviour also means that you can no longer reason about anything else in the code, except when you really want to get down to compiler-implementation details. But then you are no longer talking about C++ in terms of using a programming language but in terms of how to implement that language.</p>\n"}], "owner": {"reputation": 2049, "user_id": 1493850, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e5efaac09c0da2a6c67774ec8ae639f?s=128&d=identicon&r=PG", "display_name": "POOJA GUPTA", "link": "https://stackoverflow.com/users/1493850/pooja-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 1, "accepted_answer_id": 33397923, "answer_count": 2, "score": 14, "last_activity_date": 1446068427, "creation_date": 1446053609, "last_edit_date": 1446068427, "question_id": 33397778, "link": "https://stackoverflow.com/questions/33397778/c-code-with-undefined-behavior-compiler-generates-stdexception", "title": "C++ code with undefined behavior, compiler generates std::exception", "body": "<p>I came across an interesting secure coding rule in C++ which states:</p>\n\n<blockquote>\n  <p>Do not reenter a function during the initialization of a static variable declaration. If a function is reentered during the constant initialization of a static object inside that function, the behavior of the program is undefined. Infinite recursion is not required to trigger undefined behavior, the function need only recur once as part of the initialization.</p>\n</blockquote>\n\n<p>The non_compliant example of the same is:</p>\n\n<pre><code>#include &lt;stdexcept&gt;\n\nint fact(int i) noexcept(false) {\n  if (i &lt; 0) {\n    // Negative factorials are undefined.\n    throw std::domain_error(\"i must be &gt;= 0\");\n  }\n\n  static const int cache[] = {\n    fact(0), fact(1), fact(2), fact(3), fact(4), fact(5),\n    fact(6), fact(7), fact(8), fact(9), fact(10), fact(11),\n    fact(12), fact(13), fact(14), fact(15), fact(16)\n  };\n\n  if (i &lt; (sizeof(cache) / sizeof(int))) {\n    return cache[i];\n  }\n\n  return i &gt; 0 ? i * fact(i - 1) : 1;\n}\n</code></pre>\n\n<p>which according to the source gives the error:</p>\n\n<pre><code>terminate called after throwing an instance of '__gnu_cxx::recursive_init_error'\n  what():  std::exception\n</code></pre>\n\n<p>when executed in <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2013\" rel=\"nofollow\">Visual&nbsp;Studio&nbsp;2013</a>. I tried similar code of my own and got the same error (compiled using g++ and executed, on <a href=\"http://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow\">Ubuntu</a>).</p>\n\n<p>I am doubtful if my understanding is correct with respect to this concept as I am not well-versed with C++. According to me, since the cache array is constant, which means it can be read-only and needs to be initialized only once as static, it is getting initialized again and again as the values for this array is the value returned by each of the comma-separated recursive function calls which is against the behavior of the declared array. Thus, it gives undefined behavior which is also stated in the rule.</p>\n\n<p>What is a better explanation for this?</p>\n"}, {"tags": ["c++", "c++14", "linkage"], "answers": [{"comments": [{"owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1446054642, "post_id": 33397977, "comment_id": 54587657, "body": "Why NDR? Shouldn&#39;t the linker report an error in this case?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1446054669, "post_id": 33397977, "comment_id": 54587673, "body": "@Belloc The implementation should but isn&#39;t required to."}, {"owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1446054784, "post_id": 33397977, "comment_id": 54587739, "body": "Where did you get this NDR from?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1446054821, "post_id": 33397977, "comment_id": 54587759, "body": "@Belloc [basic.def.odr]/4."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 4, "last_activity_date": 1446071247, "last_edit_date": 1446071247, "creation_date": 1446054131, "answer_id": 33397977, "question_id": 33397688, "link": "https://stackoverflow.com/questions/33397688/is-my-understanding-about-basic-link-7-in-n4140-correct/33397977#33397977", "title": "Is my understanding about [basic.link]/7 in N4140 correct?", "body": "<p>Your example is almost identical to the one in [basic.link]/7 - Yes, your interpretation is correct.<br>\nUsing an undefined function <code>q</code> renders your program ill-formed <strong>NDR</strong>. Hence VC++ is <em>technically</em> conforming. However, you definitely want to report it.</p>\n\n<p>Note how VC++ <a href=\"http://rextester.com/YGN61305\" rel=\"nofollow\">produces the same output</a> (\"q()\") even if we add an inner definition of <code>q</code>:</p>\n\n<pre><code>namespace X {\n    void p() {\n        void q();                    \n        q();\n    }\n\n    void q() { std::cout &lt;&lt; \"This would be right\"; }\n}\n\nvoid q() { std::cout &lt;&lt; \"q()\" &lt;&lt; '\\n'; }\n</code></pre>\n\n<p>\u2026but does have sensible behavior <a href=\"http://rextester.com/LRDREU41282\" rel=\"nofollow\">when <code>extern</code> is used</a>.</p>\n"}], "owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 33397977, "answer_count": 1, "score": 5, "last_activity_date": 1446071247, "creation_date": 1446053376, "question_id": 33397688, "link": "https://stackoverflow.com/questions/33397688/is-my-understanding-about-basic-link-7-in-n4140-correct", "title": "Is my understanding about [basic.link]/7 in N4140 correct?", "body": "<p><a href=\"http://rextester.com/SPRTS22276\" rel=\"noreferrer\">VS2015</a> compiles and executes the following snippet without a problem. g++ and clang don't link the code, and I think they are correct.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nnamespace X {\n    void p() {\n        void q();   // This is a block scope declaration of the function q() with external\n                    // linkage (by \u00a73.5/6), which then must be defined in namespace X,\n                    // according to \u00a73.5/7, and not in the global namespace.\n        q();\n    }\n}\n\nvoid q() { std::cout &lt;&lt; \"q()\" &lt;&lt; '\\n'; }\n\nint main()\n{\n    X::p();\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "string", "char"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 6, "creation_date": 1446053255, "post_id": 33397628, "comment_id": 54586700, "body": "Some code would be swell."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1446054595, "post_id": 33397628, "comment_id": 54587631, "body": "@teadyber Explain your anarchic indentation."}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "edited": false, "score": 1, "creation_date": 1446053942, "post_id": 33397787, "comment_id": 54587188, "body": "@Downvoter: Please explain why you downvote this answer. The OP&#39;s question is clear: &quot;For example if a user inputs the number 10 and then the letter A, I want stringarray[x] to have the value of AAAAAAAAAA without using loop&quot;."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 1, "creation_date": 1446056291, "post_id": 33397787, "comment_id": 54588679, "body": "@Downvoter I agree I think this is the best way to do this."}], "tags": [], "owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "is_accepted": false, "score": 2, "last_activity_date": 1446056324, "last_edit_date": 1446056324, "creation_date": 1446053637, "answer_id": 33397787, "question_id": 33397628, "link": "https://stackoverflow.com/questions/33397628/c-add-x-amount-of-chars-to-string-array/33397787#33397787", "title": "C++ add x amount of chars to string array", "body": "<p>A C++ way of doing this is to use <code>std::string s(10, 'A');</code> and get <code>const char *stringarray = s.c_str()</code> from it if you need a <code>const char *</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4926833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f1d689ea0bff0fa60327666abac511?s=128&d=identicon&r=PG&f=1", "display_name": "teadyber", "link": "https://stackoverflow.com/users/4926833/teadyber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1446056324, "creation_date": 1446053192, "last_edit_date": 1446054250, "question_id": 33397628, "link": "https://stackoverflow.com/questions/33397628/c-add-x-amount-of-chars-to-string-array", "title": "C++ add x amount of chars to string array", "body": "<p>I have an array that holds strings. I was wondering if there's any way to add X amount of chars to the string in the array.</p>\n\n<p>For example if a user inputs the number 10 and then the letter A, I want stringarray[x] to have the value of AAAAAAAAAA.</p>\n\n<p>At the moment I am using a for-loop but I was wondering if there is an easier and more efficient way of doing this. One that doesn't require a loop.</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;cctype&gt;\n    #include &lt;cmath&gt;\n    #include &lt;fstream&gt;\n\n    using namespace std;\n\n    int main(){\nchar letter;\nint number;\n        string stringarray[5] = {\" \"};\ncin &gt;&gt; letter; // letter to add\ncin &gt;&gt; number; // number of times\ncout &lt;&lt; stringarray[1]; // here I want the result to be letter x number\n    return 0;\n\n}\n</code></pre>\n\n<p>I can only use these libraries. \nI don't think it's necessary to post my for-loop since it already works. I am only wondering if there's any way to do it without the loop.</p>\n"}, {"tags": ["c++", "opengl", "matrix", "rotation", "matrix-multiplication"], "comments": [{"owner": {"reputation": 523, "user_id": 1048148, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d759bd92ca093a50c49dfc07f26c59?s=128&d=identicon&r=PG", "display_name": "Martin Hennig", "link": "https://stackoverflow.com/users/1048148/martin-hennig"}, "edited": false, "score": 1, "creation_date": 1446060648, "post_id": 33397536, "comment_id": 54591338, "body": "Quaternions are the way to go imho. They are elegant and efficient. The only other way I could think of would be to keep track of all rotations and their order. That would be tidious... Quaternions you can simple multiply together, give it a try, you won&#39;t regret it."}, {"owner": {"reputation": 696, "user_id": 3812869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59a31c551b712d497e2f278ae9cfb945?s=128&d=identicon&r=PG", "display_name": "guitar80", "link": "https://stackoverflow.com/users/3812869/guitar80"}, "reply_to_user": {"reputation": 523, "user_id": 1048148, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d759bd92ca093a50c49dfc07f26c59?s=128&d=identicon&r=PG", "display_name": "Martin Hennig", "link": "https://stackoverflow.com/users/1048148/martin-hennig"}, "edited": false, "score": 0, "creation_date": 1446067984, "post_id": 33397536, "comment_id": 54595203, "body": "I&#39;m not sure if I am technically allowed to use quaternions sadly. Its for an assignment that wasn&#39;t required to be OOP, but I wanted to for future designs. But i agree with you!"}], "owner": {"reputation": 696, "user_id": 3812869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59a31c551b712d497e2f278ae9cfb945?s=128&d=identicon&r=PG", "display_name": "guitar80", "link": "https://stackoverflow.com/users/3812869/guitar80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446052931, "creation_date": 1446052931, "question_id": 33397536, "link": "https://stackoverflow.com/questions/33397536/creating-a-unity-like-drawableobject-in-opengl", "title": "Creating a Unity-Like DrawableObject in OpenGL", "body": "<p>So, I am trying to create a class in OpenGL that will make objects very easy to create, delete and orient. The interface would have the standard functions move(), translate(), rotate(), scale(), but also has a few methods related to parenting. I want an object to be able to set a joint to its parent and rotate, scale and transform along with its parents. This would allow me to create essentially a human skeleton from smaller components.</p>\n\n<p>Assuming I have the vertex drawing working (which I do), but I am having a little bit of trouble constructing the MVP for the model here was my thought process. If I just knew how to combine rotation matrices I would be okay.. but I don't think that's possible without quaternions. Anyone know of how to fix or a better way to solve it?</p>\n\n<pre><code>glm::vec3 scaling;  //Scale x, y, z\nglm::vec3 rotation; //Rotation x, y, z\nglm::vec3 position; //Position x, y, z\nglm::vec3 offset;   //Offset of the connection between the parent and this\nDrawable* parent;   //Parent connection joint\nstd::set&lt;Drawable* const&gt; children; //All child connections\n\ninline glm::mat4 getModelMatrixCopy() const\n{\n    glm::mat4 mm(1.0f);\n    glm::mat4 s(1.0f);\n\n    s = glm::scale(s, scaling);\n    mm = glm::translate(mm, position);\n    mm = glm::rotate(mm, glm::radians(rotation.x), glm::vec3(1.0, 0.0, 0.0f));\n    mm = glm::rotate(mm, glm::radians(rotation.y), glm::vec3(0.0, 1.0, 0.0f));\n    mm = glm::rotate(mm, glm::radians(rotation.z), glm::vec3(0.0, 0.0, 1.0f));\n\n    return mm * s;\n}\n\ninline void translate(float x, float y, float z)\n{\n    position.x += x;\n    position.y += y;\n    position.z += z;\n\n    for (auto it = children.begin(); it != children.end(); it++)\n    {\n        (*it)-&gt;translate(x, y, z);\n    }\n}\n\ninline void move(float x, float y, float z)\n{\n    for (auto it = children.begin(); it != children.end(); it++)\n    {\n        auto child = (*it);\n        float xOffset = (position.x - child-&gt;position.x);\n        float yOffset = (position.y - child-&gt;position.y);\n        float zOffset = (position.z - child-&gt;position.z);\n        child-&gt;move(x + xOffset, y + yOffset, z + zOffset);\n    }\n\n    position.x = x;\n    position.y = y;\n    position.z = z;\n}\n\ninline void rotate(float xDeg, float yDeg, float zDeg)\n{\n    //???? This just seems wrong, need to rotate based on the addition of all previous children\n\n    rotation.x += xDeg;\n    rotation.y += yDeg;\n    rotation.z += zDeg;\n\n    for (auto it = children.begin(); it != children.end(); it++)\n    {\n        auto child = (*it);\n        child-&gt;rotate(xDeg, yDeg, zDeg);\n    }\n}\n\ninline void scale(float x, float y, float z)\n{\n    scaling.x *= x;\n    scaling.y *= y;\n    scaling.z *= z;\n\n    for (auto it = children.begin(); it != children.end(); it++)\n    {\n        auto child = (*it);\n        child-&gt;offset.x *= x;\n        child-&gt;offset.y *= y;\n        child-&gt;offset.z *= z;\n        child-&gt;scale(x, y, z);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "compression", "fwrite"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1446053202, "post_id": 33397500, "comment_id": 54586661, "body": "WHAT_GOES_HERE should be sizeof(type of the buffer)"}], "answers": [{"tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 1, "last_activity_date": 1446053336, "creation_date": 1446053336, "answer_id": 33397669, "question_id": 33397500, "link": "https://stackoverflow.com/questions/33397500/write-compressed-data-to-file-using-fwrite-c/33397669#33397669", "title": "Write compressed data to file using fwrite C++", "body": "<p>WHAT_GOES_HERE should be sizeof(type of the buffer).  Also, the buffer_length should be the number of \"types\" you want to write to the file.  I mention this since it seems you do not want to write the entire buffer but only the for 20MB.</p>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "is_accepted": false, "score": 1, "last_activity_date": 1446053340, "creation_date": 1446053340, "answer_id": 33397670, "question_id": 33397500, "link": "https://stackoverflow.com/questions/33397500/write-compressed-data-to-file-using-fwrite-c/33397670#33397670", "title": "Write compressed data to file using fwrite C++", "body": "<p>fwrite works on streams, which are buffered.</p>\n\n<p>write is a lower-level API based on file descriptors. It doesn't know about buffering.</p>\n\n<p>Rule of thumb is,</p>\n\n<p>If you want to write a single large buffer, go for write.\nYou use fwrite if you want to write in smaller chunks.</p>\n\n<p>so, you could go for write here.</p>\n"}], "owner": {"reputation": 965, "user_id": 1686342, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/65fcd679f5d8aeef7c7b271341d5ff53?s=128&d=identicon&r=PG", "display_name": "user1686342", "link": "https://stackoverflow.com/users/1686342/user1686342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446053340, "creation_date": 1446052813, "question_id": 33397500, "link": "https://stackoverflow.com/questions/33397500/write-compressed-data-to-file-using-fwrite-c", "title": "Write compressed data to file using fwrite C++", "body": "<p>I have a buffer of size 42131221 bytes (42.1MB) that I used to store some compressed data. Only the first 20MB actually store the compressed data and I am trying to write this to a file using fwrite:</p>\n\n<pre><code>fwrite (buffer , WHAT_GOES_HERE, buffer_length, pFile);\n</code></pre>\n\n<p>The second parameter requires the size of each element to write, but this isn't applicable in this case as I just want to write the whole buffer and since it's compressed, it isn't the case that there exists a size of each element. </p>\n\n<p>Any idea on how I can get this to work?</p>\n"}, {"tags": ["c++", "public-key-encryption", "crypto++", "dsa"], "answers": [{"comments": [{"owner": {"reputation": 4581, "user_id": 2791577, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rFnoU.png?s=128&g=1", "display_name": "keith", "link": "https://stackoverflow.com/users/2791577/keith"}, "edited": false, "score": 0, "creation_date": 1446059367, "post_id": 33398949, "comment_id": 54590580, "body": "Yes that seems reasonable. Given your observation about the bit lengths of p and q, I&#39;d go further and claim that length(y) &gt; length(x) is the answer given it&#39;s computed modulo p and given that p, q, g are probably needed for both signing and verifying."}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 1, "last_activity_date": 1446057205, "last_edit_date": 1592644375, "creation_date": 1446057205, "answer_id": 33398949, "question_id": 33397436, "link": "https://stackoverflow.com/questions/33397436/dsa-public-key-bigger-than-private-key/33398949#33398949", "title": "DSA public key bigger than private key", "body": "<p>So... treading lightly because modulo arithmetic is not my strong point...</p>\n<p>Source of my information is here:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Digital_Signature_Algorithm\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Digital_Signature_Algorithm</a></p>\n<blockquote>\n<p>Choose an approved cryptographic hash function H. In the original DSS, H was always SHA-1, but the stronger SHA-2 hash functions are approved for use in the current DSS.[5][9] The hash output may be truncated to the size of a key pair.</p>\n<p>Decide on a key length L and N. This is the primary measure of the cryptographic strength of the key. The original DSS constrained L to be a multiple of 64 between 512 and 1024 (inclusive). NIST 800-57 recommends lengths of 2048 (or 3072) for keys with security lifetimes extending beyond 2010 (or 2030), using correspondingly longer N.[10] FIPS 186-3 specifies L and N length pairs of (1024,160), (2048,224), (2048,256), and (3072,256).</p>\n<p>Choose an N-bit prime q. N must be less than or equal to the hash output length.</p>\n</blockquote>\n<p>(so q is N bits long - say 256 for a 3072-bit key)</p>\n<blockquote>\n<p>Choose an L-bit prime modulus p such that p\u20131 is a multiple of q.\nChoose g, a number whose multiplicative order modulo p is q. This may be done by setting g = h(p\u20131)/q mod p for some arbitrary h (1 &lt; h &lt; p\u22121), and trying again with a different h if the result comes out as 1. Most choices of h will lead to a usable g; commonly h=2 is used.</p>\n</blockquote>\n<p>(so p would be 3072 bits long)</p>\n<p>The algorithm parameters (p, q, g) may be shared between different users of the system.</p>\n<blockquote>\n<p>Per-user keys</p>\n<p>Given a set of parameters, the second phase computes private and public keys for a single user:</p>\n<p>Choose x by some random method, where 0 &lt; x &lt; q.\nCalculate y = gx mod p.</p>\n<p>Public key is (p, q, g, y).</p>\n</blockquote>\n<p>public key has a p in it - so it must be at least 3072 bits long</p>\n<blockquote>\n<p>Private key is x.</p>\n</blockquote>\n<p>since x depends on q, it will have (in our case) 256 bits - this is the private key length.</p>\n<p>Does that seem reasonable?</p>\n"}], "owner": {"reputation": 4581, "user_id": 2791577, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rFnoU.png?s=128&g=1", "display_name": "keith", "link": "https://stackoverflow.com/users/2791577/keith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 33398949, "answer_count": 1, "score": 0, "last_activity_date": 1446575623, "creation_date": 1446052585, "last_edit_date": 1446575623, "question_id": 33397436, "link": "https://stackoverflow.com/questions/33397436/dsa-public-key-bigger-than-private-key", "title": "DSA public key bigger than private key", "body": "<p>If I generate a private and public key for DSA using Crypto++:</p>\n\n<pre><code>CryptoPP::AutoSeededRandomPool rng;\n\nCryptoPP::DSA::PrivateKey privateKey;\n\nprivateKey.GenerateRandomWithKeySize(rng, 2048);\n\nCryptoPP::DSA::PublicKey publicKey;\n\nprivateKey.MakePublicKey(publicKey);\n</code></pre>\n\n<p>When I encode the private key like so:</p>\n\n<pre><code>CryptoPP::ByteQueue privateKeyQueue;\nkey.DEREncodePrivateKey(privateKeyQueue);\n</code></pre>\n\n<p>Then the information pushed to the queue for the private key is smaller than the encoded data for the public key:</p>\n\n<pre><code>CryptoPP::ByteQueue publicKeyQueue;\nkey.DEREncodePublicKey(publicKeyQueue);\n</code></pre>\n\n<p>Is this expected and is this the right way to generate my public key that will be shared with others?</p>\n\n<p>I've only every worked with RSA before and the public key is much smaller than the private key.</p>\n"}, {"tags": ["c++", "opencv", "opencv3.0"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 1, "creation_date": 1446052724, "post_id": 33397429, "comment_id": 54586300, "body": "Where is CvSVM defined?  Which header?  And in what namespace?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1446053313, "post_id": 33397429, "comment_id": 54586734, "body": "use <code>Ptr&lt;SVM&gt; svm = SVM::create();</code>"}], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 3997250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff2d71fa4e2eb30fb9ecae02d58c74c3?s=128&d=identicon&r=PG&f=1", "display_name": "korujzade", "link": "https://stackoverflow.com/users/3997250/korujzade"}, "edited": false, "score": 0, "creation_date": 1446057970, "post_id": 33398997, "comment_id": 54589718, "body": "Thanks for answer. And what should I use for CvSVMParams?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 389, "user_id": 3997250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff2d71fa4e2eb30fb9ecae02d58c74c3?s=128&d=identicon&r=PG&f=1", "display_name": "korujzade", "link": "https://stackoverflow.com/users/3997250/korujzade"}, "edited": false, "score": 1, "creation_date": 1446058185, "post_id": 33398997, "comment_id": 54589835, "body": "see updated answer. You can look <a href=\"http://stackoverflow.com/a/33319975/5008845\">here</a> for a (quite complex) sample, or <a href=\"http://docs.opencv.org/3.0-beta/doc/tutorials/ml/introduction_to_svm/introduction_to_svm.html\" rel=\"nofollow noreferrer\">here</a> from OpenCV tutorials"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 4, "last_activity_date": 1446058176, "last_edit_date": 1446058176, "creation_date": 1446057382, "answer_id": 33398997, "question_id": 33397429, "link": "https://stackoverflow.com/questions/33397429/cvsvm-was-not-declared-in-this-scope-error/33398997#33398997", "title": "CvSVM was not declared in this scope Error", "body": "<p>In OpenCV 3.0 <code>CvSVM</code> has been renamed to <code>SVM</code> and moved to namespace <code>cv::ml</code> (actually also in previous version <code>SVM</code> was a typedef for <code>CvSVM</code>).</p>\n\n<p>Since <code>SVM</code> is an abstract class, you can't instantiate it. You need to call <code>SVM::create()</code>. </p>\n\n<p>So you need to do:</p>\n\n<pre><code>cv::Ptr&lt;cv::ml::SVM&gt; svm = cv::ml::SVM::create();\n</code></pre>\n\n<p>or simply:</p>\n\n<pre><code>using namespace cv;\nusing namespace cv::ml;\n...\nPtr&lt;SVM&gt; svm = SVM::create();\n</code></pre>\n\n<p>You don't need <code>CvSVMParams</code>anymore. Simply set the parameters directly to the <code>svm</code>:</p>\n\n<pre><code>Ptr&lt;SVM&gt; svm = SVM::create();\nsvm-&gt;setType(SVM::C_SVC);\nsvm-&gt;setKernel(SVM::RBF);\n// etc\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 3997250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff2d71fa4e2eb30fb9ecae02d58c74c3?s=128&d=identicon&r=PG&f=1", "display_name": "korujzade", "link": "https://stackoverflow.com/users/3997250/korujzade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3798, "favorite_count": 1, "accepted_answer_id": 33398997, "answer_count": 1, "score": 3, "last_activity_date": 1446059703, "creation_date": 1446052559, "last_edit_date": 1446059703, "question_id": 33397429, "link": "https://stackoverflow.com/questions/33397429/cvsvm-was-not-declared-in-this-scope-error", "title": "CvSVM was not declared in this scope Error", "body": "<p>I am using OpenCV 3.0.0</p>\n\n<p>I have included all these libraries and namespaces,but I still get the error of \"CvSVM is not declared in this scope\"</p>\n\n<pre><code>#include &lt;opencv2/core.hpp&gt;\n#include &lt;opencv2/imgproc.hpp&gt;\n#include \"opencv2/imgcodecs.hpp\"\n#include &lt;opencv2/highgui.hpp&gt;\n#include &lt;opencv2/ml.hpp&gt;\n\nusing namespace cv;\nusing namespace cv::ml;\nusing namespace std;\n</code></pre>\n\n<p>When I run this code:</p>\n\n<pre><code>CvSVM svm;\n</code></pre>\n\n<p>I get the error.</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1446052877, "post_id": 33397398, "comment_id": 54586405, "body": "Does it appear correctly when you do imshow? Are you using the account &quot;User&quot; and do you have access to write to &quot;User&quot;&#39;s Desktop"}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "reply_to_user": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1446052978, "post_id": 33397398, "comment_id": 54586480, "body": "yes imshow appear correctly.. How can I know if I have access to write?"}, {"owner": {"reputation": 5566, "user_id": 1771479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5m0gd.jpg?s=128&g=1", "display_name": "agold", "link": "https://stackoverflow.com/users/1771479/agold"}, "edited": false, "score": 0, "creation_date": 1446055094, "post_id": 33397398, "comment_id": 54587951, "body": "does it give any error message?"}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "edited": false, "score": 0, "creation_date": 1446055765, "post_id": 33397398, "comment_id": 54588347, "body": "No it does not give any error :("}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446058647, "post_id": 33397398, "comment_id": 54590153, "body": "What&#39;s the problem? You can&#39;t save the image, or the image is saved but it&#39;s basically all white?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446060180, "post_id": 33397398, "comment_id": 54591058, "body": "Also check the <code>bool</code> return value of <code>imwrite</code>"}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "edited": false, "score": 0, "creation_date": 1446061942, "post_id": 33397398, "comment_id": 54592046, "body": "I can&#39;t save the image at all"}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "edited": false, "score": 0, "creation_date": 1446062487, "post_id": 33397398, "comment_id": 54592351, "body": "how to check the bool of imwrite?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446074034, "post_id": 33397398, "comment_id": 54597918, "body": "<code>bool ok = imwrite(...); if(!ok) {&#47;&#47;error}</code>. Next time please use @name to notify. However, I can&#39;t reproduce your problem. Try starting Visual Studio or whatever IDE you&#39;re using as administrator, and retry. This will show if it&#39;s a permission problem"}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446100585, "post_id": 33397398, "comment_id": 54605807, "body": "@Miki it works Thanks :) Actually I has 2 images to save, One is saved successfully , The second is saved blank.."}, {"owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1446143438, "post_id": 33397398, "comment_id": 54633380, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/93719/discussion-between-user3552658-and-miki\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 1, "last_activity_date": 1446119651, "last_edit_date": 1495540716, "creation_date": 1446119651, "answer_id": 33413512, "question_id": 33397398, "link": "https://stackoverflow.com/questions/33397398/unable-to-write-images-using-imwrite-in-opencv/33413512#33413512", "title": "Unable to write images using imwrite in OpenCV", "body": "<p><strong>Cannot save image</strong></p>\n\n<p>This is because you don't have the privileges to write in that location. Solutions:</p>\n\n<ol>\n<li>Start your program as administrator</li>\n<li>Change to a location where you have enough privileges</li>\n</ol>\n\n<hr>\n\n<p><strong>Integral image is saved <em>blank</em></strong></p>\n\n<p>The integral image is of type <code>CV_32UC1</code>, so values higher than 255 will be saturated to 255, and saved as <em>white</em>. You can't recover original values from the saved image.</p>\n\n<p>Solutions:</p>\n\n<ol>\n<li><p>Normalize the values to fit the range <code>[0,255]</code>, and save the <code>CV_8U</code> image. You can't recover original values from the saved image, but at least is scaled and shown correctly.</p></li>\n<li><p>Use <code>FileStorage</code> to save the original data. You keep the original values.</p></li>\n<li><p>If you need more speed that <code>FileStorage</code>, you can save raw binary data. See <a href=\"https://stackoverflow.com/a/32357875/5008845\">here</a> for an example. You keep the original values.</p></li>\n</ol>\n\n<p>This is a sample code to show solutions 1 and 2. For 3 please refer to the given link.</p>\n\n<pre><code>#include &lt;opencv2\\opencv.hpp&gt;\nusing namespace cv;\n\nint main()\n{\n    // Load image\n    Mat1b object = imread(\"path_to_image\", IMREAD_GRAYSCALE);\n\n    // Calculate integral image\n    Mat1i iObject;\n    integral(object, iObject);\n\n    imwrite(\"save_1i.png\", iObject);\n\n    // the saved image has saturated values\n\n    // /////////////////////////////////////////\n\n    // Save using imwrite\n    Mat1b save_1b;\n    normalize(iObject, save_1b, 255, 0, NORM_MINMAX);\n    imwrite(\"save_1b.png\", save_1b);\n\n    // the saved image has scaled values, but displayed correctly\n\n\n    // /////////////////////////////////////////\n\n    // Save using FileStorage\n    {\n        FileStorage fs(\"save_fs.yml\", FileStorage::WRITE);\n        fs &lt;&lt; \"integral\" &lt;&lt; iObject;\n\n        // the saved file has original values\n    }\n\n\n    // Load using FileStorage\n    Mat1i loadedIObject;\n    {\n        FileStorage fs(\"save_fs.yml\", FileStorage::READ);\n        fs[\"integral\"] &gt;&gt; loadedIObject;\n    }\n\n    // loadedIObject has original values\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 3552658, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100003747160651/picture?type=large", "display_name": "user3552658", "link": "https://stackoverflow.com/users/3552658/user3552658"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 33413512, "answer_count": 1, "score": 1, "last_activity_date": 1446119651, "creation_date": 1446052448, "question_id": 33397398, "link": "https://stackoverflow.com/questions/33397398/unable-to-write-images-using-imwrite-in-opencv", "title": "Unable to write images using imwrite in OpenCV", "body": "<p>I am trying to write to an image using imwrite as follows:</p>\n\n<pre><code>Mat object = imread (\"C:/Users/User/Desktop/book.jpg\", CV_LOAD_IMAGE_GRAYSCALE);\n//calculate integral image\n        Mat iObject;\n        integral(object, iObject);\n        imshow(\"Good Matches\", iObject);\n        imwrite(\"C:/Users/User/Desktop/IntegralImage.jpg\", iObject);\n        cvWaitKey(0);\n</code></pre>\n\n<p>but it does not suceed, I read about it, some solutions was to change jpg to bmp. I tried it also but no result! Any help please</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 1, "creation_date": 1446053112, "post_id": 33397380, "comment_id": 54586588, "body": "I&#39;m voting to close this question as off-topic because it belongs on <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1446053167, "post_id": 33397380, "comment_id": 54586633, "body": "Not sure the first one is guaranty to work..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1446053294, "post_id": 33397380, "comment_id": 54586721, "body": "I stopped reading at <code>memcpy(this, p, sizeof(T));</code>"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1446055686, "post_id": 33397380, "comment_id": 54588294, "body": "Sorry, but &quot;concocted&quot; seems to be the key here. I don&#39;t know how (or why) you would do this in Java, but in C++ this makes no sense at all. You can pass a reference to your data and don&#39;t need to copy anything. And just seeing <code>memcpy(this</code> makes my head hurt. This page isn&#39;t big enough to quote all the rules that piece violates."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446059256, "post_id": 33397380, "comment_id": 54590511, "body": "unless T is always guaranteed to be a primitive type such as <code>int</code>, then using <code>memcpy</code> is a no-no. Your class instances of type T will likely blow up in spectacular ways after being copied this way."}, {"owner": {"reputation": 2874, "user_id": 86803, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/204439a418e6631a574e0c90ea8e17de?s=128&d=identicon&r=PG", "display_name": "oconnor0", "link": "https://stackoverflow.com/users/86803/oconnor0"}, "edited": false, "score": 0, "creation_date": 1446059760, "post_id": 33397380, "comment_id": 54590825, "body": "I&#39;m glad you all liked this. :) Passing a reference doesn&#39;t work because I&#39;m on a system where the reference is coming from a different address space so I need to make a local copy - which is what the memcpy is doing. C++ allows me to ensure that <code>T</code> can copied via memcpy and not via a constructor. I&#39;ve modified my example to ensure <code>T</code> can be copyed with <code>memcpy</code>."}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1446133304, "post_id": 33402406, "comment_id": 54626869, "body": "Won&#39;t work for evil <code>T = int[42]</code>... But work around exists :-)"}], "tags": [], "owner": {"reputation": 395, "user_id": 4382581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltoBS.png?s=128&g=1", "display_name": "Adrien Hamelin", "link": "https://stackoverflow.com/users/4382581/adrien-hamelin"}, "is_accepted": true, "score": 1, "last_activity_date": 1446070236, "last_edit_date": 1446070236, "creation_date": 1446069842, "answer_id": 33402406, "question_id": 33397380, "link": "https://stackoverflow.com/questions/33397380/c-templated-class-as-subclass-or-reference/33402406#33402406", "title": "C++ templated class as subclass or reference?", "body": "<p>Your solutions seem to me that they try to do a simple thing in a hard way.\nIf you want to copy, why not simply copy?</p>\n\n<pre><code>void subr(array *args, int) {\n  array local = *args;\n\n  local.a = local.b + local.c + local.d;\n\n  *args = local;\n}\n</code></pre>\n\n<p>If you want an automatic copy at the end of scope as you seem to, again you have simpler:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass AutoCopy {\nprivate:\n   T   m_copy;\n   T * m_original;\n\npublic:\n   AutoCopy(T * original) : m_copy(*original), m_original(original) {}\n   ~AutoCopy() { *m_original = m_copy; }\n\n   T &amp; get() { return m_copy; }\n};\n\nvoid subr(array *args, int) {\n  AutoCopy&lt;array&gt; c(args);\n  c.get().a = c.get().b + c.get().c + c.get().d;\n}\n</code></pre>\n\n<p>Does it suit you? That way it works even is the type is not a POD, and if it is the regular default copy constructor will be the same as the <code>memcpy()</code> (as you can see <a href=\"http://en.cppreference.com/w/cpp/language/copy_constructor\" rel=\"nofollow\" title=\"link\">here</a> at the \"Trivial copy constructor\" section).</p>\n\n<p>And even if you prefer to keep the <code>memcpy()</code>, i think that having a member variable and copying into it will be clearer than inheriting from your type.</p>\n"}], "owner": {"reputation": 2874, "user_id": 86803, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/204439a418e6631a574e0c90ea8e17de?s=128&d=identicon&r=PG", "display_name": "oconnor0", "link": "https://stackoverflow.com/users/86803/oconnor0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33402406, "answer_count": 1, "score": 0, "last_activity_date": 1446070236, "creation_date": 1446052387, "last_edit_date": 1446059915, "question_id": 33397380, "link": "https://stackoverflow.com/questions/33397380/c-templated-class-as-subclass-or-reference", "title": "C++ templated class as subclass or reference?", "body": "<p>I'm writing a templated class that's responsible for copying some data into and out of a local function. I've concocted two different mechanisms for doing this. Either via subclass or via reference. Which makes more sense and is the \"right\" way to do it?</p>\n\n<pre><code>namespace subclass {\nstruct array {\n  int a, b, c, d;\n};\n\ntemplate &lt;typename T&gt; class inout : public T {\nprivate:\n  static_assert(std::is_pod&lt;T&gt;::value);\n\n  T *p;\n\npublic:\n  inout(T *_p) : p(_p) { memcpy(this, p, sizeof(T)); }\n  ~inout(void) { memcpy(p, this, sizeof(T)); }\n};\n\nvoid subr(array *args, int) {\n  inout&lt;array&gt; local(args);\n\n  local.a = local.b + local.c + local.d;\n}\n}\n\nnamespace reference {\nstruct array {\n  int a, b, c, d;\n};\n\ntemplate &lt;typename T&gt; class inout {\nprivate:\n  static_assert(std::is_pod&lt;T&gt;::value);\n\n  T *p;\n  T &amp;l;\n\npublic:\n  inout(T &amp;_l, T *_p) : p(_p), l(_l) { memcpy(&amp;l, p, sizeof(T)); }\n  ~inout(void) { memcpy(p, &amp;l, sizeof(T)); }\n};\n\nvoid subr(array *args, int) {\n  array local;\n  inout&lt;array&gt; raii(local, args);\n\n  local.a = local.b + local.c + local.d;\n}\n}\n</code></pre>\n"}, {"tags": ["c++", "process", "parent", "master", "slave"], "comments": [{"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1446052713, "post_id": 33397166, "comment_id": 54586288, "body": "I have to make them run parallel....that is scheduler&#39;s job"}, {"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1446052752, "post_id": 33397166, "comment_id": 54586316, "body": "is there any specific order that you are looking to impose?"}, {"owner": {"reputation": 1, "user_id": 3641276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524941219/picture?type=large", "display_name": "hfakar", "link": "https://stackoverflow.com/users/3641276/hfakar"}, "reply_to_user": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1446053792, "post_id": 33397166, "comment_id": 54587099, "body": "No what i meant was. The proceses should run parallel. If the first processes&#39; job is more then the second one and third one then second and third process should finish first. Then the first one , after finishing it&#39;s job, should finish. It should only be depended on the work load. In this for loop i believ it only allows to create the second process when the first process is done."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3641276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524941219/picture?type=large", "display_name": "hfakar", "link": "https://stackoverflow.com/users/3641276/hfakar"}, "edited": false, "score": 0, "creation_date": 1446057980, "post_id": 33398674, "comment_id": 54589728, "body": "I tried that but it just does the work in the reverse order. instead of one cout on one process i wrote 4 couts. So the output is lave 3: Final statistics Final statistics Final statistics Final statistics I am a Child  My pid is: 70967 my Parent&#39;s pid: 70964 Slave 3: Done Slave 2: Midterm statistics Midterm statistics Midterm statistics Midterm statistics I am a Child  My pid is: 70966 my Parent&#39;s pid: 70964 Slave 2: Done Slave 1: Project statistics Project statistics Project statistics Project statistics I am a Child  My pid is: 70965 my Parent&#39;s pid: 70964 Slave 1: Done Master: Finish"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 1, "user_id": 3641276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524941219/picture?type=large", "display_name": "hfakar", "link": "https://stackoverflow.com/users/3641276/hfakar"}, "edited": false, "score": 0, "creation_date": 1446058072, "post_id": 33398674, "comment_id": 54589778, "body": "It is working in parallel - just that the scheduler has given each child enough time to complete before yielding. Try getting the child to do something not so trivial"}, {"owner": {"reputation": 1, "user_id": 3641276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524941219/picture?type=large", "display_name": "hfakar", "link": "https://stackoverflow.com/users/3641276/hfakar"}, "edited": false, "score": 0, "creation_date": 1446058244, "post_id": 33398674, "comment_id": 54589875, "body": "Oh ok then. Now i got your point. Thank you. But what about the master slave relation? The thing that we implement is one master and 3 slaves? or one parent process and 3 child process?"}], "tags": [], "owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "is_accepted": true, "score": 0, "last_activity_date": 1446056361, "creation_date": 1446056361, "answer_id": 33398674, "question_id": 33397166, "link": "https://stackoverflow.com/questions/33397166/creating-multiple-child-processes-running-parallel/33398674#33398674", "title": "Creating multiple child processes running parallel", "body": "<p>You need to remove the <code>wait(&amp;status)</code> for it to work in parallel (this will have for the child before spawning another child). Then add to the end another loop to fetch the status.</p>\n\n<p>i.e. the code should be</p>\n\n<pre><code>for (int i=0; i&lt;3; i++) {\n   pid_t slave = fork();\n   if (slave==0) /* only execute this if child */\n   {\n     std::cout &lt;&lt; \"Slave \" &lt;&lt; i+1 &lt;&lt; \": \";\n\n     switch (i+1) {\n       case 1 :\n         std::cout &lt;&lt; \"Project statistics\" &lt;&lt; std::endl; \n         break;\n       case 2 :\n         std::cout &lt;&lt; \"Midterm statistics\" &lt;&lt; std::endl;\n         break;\n       case 3 :\n         std::cout &lt;&lt; \"Final statistics\" &lt;&lt; std::endl;\n         break;\n       default :\n         std::cout &lt;&lt; \"Something Went Wrong\" &lt;&lt; std::endl;\n     }           \n     foo(\"Child\");\n     std::cout &lt;&lt; \"Slave \" &lt;&lt; i+1 &lt;&lt; \": Done\" &lt;&lt; std::endl;\n     exit(0);\n   }\n }\n for (int i=0; i&lt;3; i++) {\n    wait(&amp;status);\n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3641276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524941219/picture?type=large", "display_name": "hfakar", "link": "https://stackoverflow.com/users/3641276/hfakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3298, "favorite_count": 0, "accepted_answer_id": 33398674, "answer_count": 1, "score": 0, "last_activity_date": 1446056361, "creation_date": 1446051745, "question_id": 33397166, "link": "https://stackoverflow.com/questions/33397166/creating-multiple-child-processes-running-parallel", "title": "Creating multiple child processes running parallel", "body": "<p>I am new to this child parent processes. And id like to create a Master and 3 slaves. Are those the same thing? If I create 3 childs would it be like 3 slaves? My other question will be I already created 3 childs. But I am strongly believing that these child processes  are not running parallel. I have to make them run parallel. I believe this for loop is not allowing it? How other way can i implement three slaves running parallel and at random order they are finishing their jobs? The way i imlpemented it, always goes like slave 1 finished, then slave 2 finished. But my professor asks me that they should be able to finish at random order. I think my codes child processes creates the other child when the previous childs code is done.</p>\n\n<pre><code>for(int i=0; i&lt;3; i++){\n\n    pid_t slave = fork();\n    if (slave==0) /* only execute this if child */\n        {\n                std::cout &lt;&lt; \"Slave \" &lt;&lt; i+1 &lt;&lt; \": \";\n\n                switch(i+1){\n                    case 1 :\n                            std::cout &lt;&lt; \"Project statistics\" &lt;&lt; std::endl; \n                        break;\n                    case 2 :\n                            std::cout &lt;&lt; \"Midterm statistics\" &lt;&lt; std::endl;\n                        break;\n                    case 3 :\n                            std::cout &lt;&lt; \"Final statistics\" &lt;&lt; std::endl;\n                        break;\n                    default :\n                            std::cout &lt;&lt; \"Something Went Wrong\" &lt;&lt; std::endl;\n                }           \n\n                foo(\"Child\");\n                std::cout &lt;&lt; \"Slave \" &lt;&lt; i+1 &lt;&lt; \": Done\" &lt;&lt; std::endl;\n                exit(0);\n\n        }\n        wait(&amp;status);  /* only the parent waits */\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "omnet++"], "comments": [{"owner": {"reputation": 5342, "user_id": 4653172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c894c1021e3092a98cdd62d88e69819?s=128&d=identicon&r=PG&f=1", "display_name": "Jerzy D.", "link": "https://stackoverflow.com/users/4653172/jerzy-d"}, "edited": false, "score": 0, "creation_date": 1446061778, "post_id": 33397097, "comment_id": 54591954, "body": "The message <code>simulation fault: core dumped</code> means that an <b>error</b> during simulation occurs. Try to debug your simulation to determine which instruction causes that error. Or present your whole code in your question."}, {"owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "reply_to_user": {"reputation": 5342, "user_id": 4653172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c894c1021e3092a98cdd62d88e69819?s=128&d=identicon&r=PG&f=1", "display_name": "Jerzy D.", "link": "https://stackoverflow.com/users/4653172/jerzy-d"}, "edited": false, "score": 0, "creation_date": 1446063455, "post_id": 33397097, "comment_id": 54592892, "body": "found the glitch and posted the answer. :)"}], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "is_accepted": false, "score": 1, "last_activity_date": 1446063400, "creation_date": 1446063400, "answer_id": 33400810, "question_id": 33397097, "link": "https://stackoverflow.com/questions/33397097/how-to-invoke-finish-individually-on-modules-in-omnet/33400810#33400810", "title": "How to invoke finish() individually on modules in omnet++", "body": "<p>So it turns out that calling two finishes for individual modules isn't the right thing to.\nhence, to tackle the situation I renamed the <code>finish()</code> function in the sender block to <code>done()</code>. This helps the simulator to provide a better functionality and the when the counter on the receiver comes to zero the <code>finish()</code> function is invoked and all the data collection occurs perfectly and it even gets displayed on the message console.</p>\n\n<p>any other name instead of <code>finish()</code> needs to be used when using separate modules e.g. <code>stopBlock()</code> or <code>done()</code> or any generic name. Make sure that <code>finish()</code> is invoked <strong>ONLY ONCE</strong> in the complete simulation.</p>\n\n<p>The reason is <code>finish()</code> function is for the complete Omnet++ environment and if any one block/module invokes it first the other modules will stop functioning. </p>\n"}], "owner": {"reputation": 2299, "user_id": 4851126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02d0041271b0178482aee8a36237e09e?s=128&d=identicon&r=PG", "display_name": "Shan-Desai", "link": "https://stackoverflow.com/users/4851126/shan-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1446063400, "creation_date": 1446051559, "question_id": 33397097, "link": "https://stackoverflow.com/questions/33397097/how-to-invoke-finish-individually-on-modules-in-omnet", "title": "How to invoke finish() individually on modules in omnet++", "body": "<p>I am using Omnet++ and creating a scenario where a sender keeps sending packets to a receiver (uni-directional communication from sender to receiver) and I have set a counter on both the simple modules of sender and receiver.</p>\n\n<p>Since the sender's counter counts down to zero first than the receiver, the simulation run well but it does not record statistics since all that is done at the receiver.</p>\n\n<p>after the counter is decreased to zero both the modules invoke a <code>finish()</code> function.</p>\n\n<pre><code>sender::finish()\n{\n EV &lt;&lt; \"message limit reached \\n\";\n cancelAndDelete(myEvent);\n}\n</code></pre>\n\n<p>receiver's finish function:</p>\n\n<pre><code>void receiver::finish()\n{\n  EV &lt;&lt; \"mean:   \"&lt;&lt; iatStats.getMean() &lt;&lt; endl;\n  EV &lt;&lt; \"std.dev:   \" &lt;&lt; iatStats.getStddev() &lt;&lt; endl;\n  EV &lt;&lt; \"variance:  \" &lt;&lt; iatStats.getVariance() &lt;&lt; endl;\n\n  iatStats.recordAs(\"Inter-Arrival Times\");\n  recordScalar(\"#IAT\", interAT_diff);\n}\n</code></pre>\n\n<p>here iat is calculation for inter-arrival time between the packets at the receiver.</p>\n\n<p>After the simulation runs, the sender's <code>finish()</code> is invoked first and the simulation stops and no data is recorded in <code>/results</code> folder only blank <code>.vec</code> or <code>.sca</code> files exist. </p>\n\n<p>also the terminal says <code>simulation fault: core dumped</code></p>\n\n<p>The problem is how can I \"pause\" the sender block once the counter is run out and let the receiver invoke it's <code>finish()</code> function so that I could see the stats and also record all the data I need?</p>\n\n<p>Hope the description is clear enough.\nThanks</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 4227, "user_id": 2391063, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56f9a1f4059f57bfef806a5fde53665d?s=128&d=identicon&r=PG", "display_name": "Thane Plummer", "link": "https://stackoverflow.com/users/2391063/thane-plummer"}, "edited": false, "score": 0, "creation_date": 1446051693, "post_id": 33397086, "comment_id": 54585640, "body": "Use <code>strcmp</code> to compare strings."}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 2, "creation_date": 1446051748, "post_id": 33397086, "comment_id": 54585674, "body": "In the second case you aren&#39;t comparing two string objects. The following would work the same as the first case: <code>cout &lt;&lt; (std::string(&quot;Banana&quot;) &lt; std::string(&quot;banana&quot;)) &lt;&lt; endl;</code>"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 4227, "user_id": 2391063, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56f9a1f4059f57bfef806a5fde53665d?s=128&d=identicon&r=PG", "display_name": "Thane Plummer", "link": "https://stackoverflow.com/users/2391063/thane-plummer"}, "edited": false, "score": 8, "creation_date": 1446051974, "post_id": 33397086, "comment_id": 54585796, "body": "@ThanePlummer No, this is C++."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 4227, "user_id": 2391063, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56f9a1f4059f57bfef806a5fde53665d?s=128&d=identicon&r=PG", "display_name": "Thane Plummer", "link": "https://stackoverflow.com/users/2391063/thane-plummer"}, "edited": false, "score": 2, "creation_date": 1446055187, "post_id": 33397086, "comment_id": 54588001, "body": "@ThanePlummer: <code>strncmp</code> does not work with <code>std::string</code>, unless you do the following: <code>strncmp(stringArray[1].c_str(), stringArray[0].c_str())</code>."}, {"owner": {"reputation": 4227, "user_id": 2391063, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56f9a1f4059f57bfef806a5fde53665d?s=128&d=identicon&r=PG", "display_name": "Thane Plummer", "link": "https://stackoverflow.com/users/2391063/thane-plummer"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1446068262, "post_id": 33397086, "comment_id": 54595337, "body": "@zenith Doesn&#39;t matter if it&#39;s C or C++, <code>strcmp</code> is valid in both languages. @Thomas is correct in pointing out that a conversion is necessary for a <code>std::string</code> object."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1446068834, "post_id": 33397086, "comment_id": 54595647, "body": "While true, in C++ one should (usually) use <code>std::string</code> and its comparison operator overloads and the <code>compare</code> member function."}], "answers": [{"comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 1, "creation_date": 1446053174, "post_id": 33397130, "comment_id": 54586639, "body": "You could also use <code>std::string(&quot;Banana&quot;) &lt; std::string(&quot;banana&quot;)</code>"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 2, "creation_date": 1446053373, "post_id": 33397130, "comment_id": 54586783, "body": "@Ben: Creating one temporary <code>std::string</code> is enough. Although I&#39;d probably do it like this, too, for readability&#39;s sake."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 1, "creation_date": 1446053492, "post_id": 33397130, "comment_id": 54586869, "body": "@NathanOliver: For some definition of &quot;a lot&quot;... :) It&#39;s certainly less error-prone than using <code>strcmp</code> and confusing the three different results. (I must confess I&#39;d have to read the function&#39;s documentation to find out if -1 means that the first or the second is greater, or if it can be any negative number, etc.)"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 8, "last_activity_date": 1446053533, "last_edit_date": 1446053533, "creation_date": 1446051645, "answer_id": 33397130, "question_id": 33397086, "link": "https://stackoverflow.com/questions/33397086/comparing-string-elements-vs-strings/33397130#33397130", "title": "Comparing String Elements vs Strings", "body": "<p><code>\"Banana\" &lt; \"banana\"</code> is not comparing the contents of the strings.  It is comparing the pointers that <code>\"Banana\"</code> and <code>\"banana\"</code> resolve to.</p>\n\n<p>To compare cstyle strings without converting them to a <code>std::string</code> you can use <a href=\"http://en.cppreference.com/w/c/string/byte/strcmp\"><code>strcmp()</code></a>. </p>\n"}, {"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 17, "last_activity_date": 1446051946, "creation_date": 1446051946, "answer_id": 33397223, "question_id": 33397086, "link": "https://stackoverflow.com/questions/33397086/comparing-string-elements-vs-strings/33397223#33397223", "title": "Comparing String Elements vs Strings", "body": "<p><code>stringArray[n]</code> is an <code>std::string</code>, but <code>\"Banana\"</code> is a string literal (an array of <code>char</code>s).</p>\n\n<p>When you do <code>\"Banana\" &lt; \"banana\"</code>, both string literals are implicitly converted to <code>char</code> pointers pointing to the <code>char</code> array. <code>&lt;</code> then compares those memory addresses.</p>\n"}, {"tags": [], "owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "is_accepted": false, "score": 7, "last_activity_date": 1446053158, "creation_date": 1446053158, "answer_id": 33397609, "question_id": 33397086, "link": "https://stackoverflow.com/questions/33397086/comparing-string-elements-vs-strings/33397609#33397609", "title": "Comparing String Elements vs Strings", "body": "<blockquote>\n<pre><code>string stringArray[] = { \"banana\",\"Banana\",\"zebra\",\"apple\",\"Apple\",\"Zebra\",\"cayote\" };\n</code></pre>\n</blockquote>\n\n<p>This means that you get a bunch of <code>std::string</code> objects, created from <code>char const*</code>s resulting from the individual string literals.</p>\n\n<p>Consider a single <code>std::string</code> initialisation:</p>\n\n<pre><code>std::string s = \"...\";\n</code></pre>\n\n<p>The literal on the right is of type <code>char const[4]</code>. It \"decays\" to a <code>char const*</code> used by <code>std::string</code>'s constructor.</p>\n\n<p>The same happens when you initialize an array of <code>std::string</code> objects from string literals.</p>\n\n<blockquote>\n<pre><code>cout &lt;&lt; (stringArray[1] &lt; stringArray[0]) &lt;&lt; endl;\n</code></pre>\n</blockquote>\n\n<p>For <code>std::string</code>, using the <code>&lt;</code> operator means lexicographical comparison. Therefore, this uses lexicographical comparison and has the expected result.</p>\n\n<blockquote>\n<pre><code>cout &lt;&lt; (\"Banana\" &lt; \"banana\") &lt;&lt; endl;\n</code></pre>\n</blockquote>\n\n<p>In this case, there is no <code>std::string</code> involved. You compare two <code>char const[7]</code> with each other.</p>\n\n<p>What does this mean? A completely different thing, as it turns out. Both arrays \"decay\" to a <code>char const*</code> to their first element. The result of comparing two unrelated pointers with <code>&lt;</code> is <strong>unspecified</strong>. You are lucky to receive 0 as a result, because you may as well receive 1 and not notice the error. Compilers can also generate a warning for this, for example:</p>\n\n<pre><code>warning: comparison with string literal results in unspecified behaviour\n</code></pre>\n\n<p>So, as you can see, this operation has absolutely nothing to do with lexicographical comparison.</p>\n\n<p>One way to solve this problem is to turn at least one of the operands into an <code>std::string</code>:</p>\n\n<pre><code>cout &lt;&lt; (string(\"Banana\") &lt; \"banana\") &lt;&lt; endl;\n</code></pre>\n\n<p>A <code>&lt;</code> comparison between an <code>std::string</code> and a <code>char const*</code> (or vice versa) is defined to be lexicographical.</p>\n"}], "owner": {"reputation": 307, "user_id": 3408103, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833905557/picture?type=large", "display_name": "user126865", "link": "https://stackoverflow.com/users/3408103/user126865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 1, "answer_count": 3, "score": 12, "last_activity_date": 1446053533, "creation_date": 1446051524, "last_edit_date": 1446052416, "question_id": 33397086, "link": "https://stackoverflow.com/questions/33397086/comparing-string-elements-vs-strings", "title": "Comparing String Elements vs Strings", "body": "<p>The following code prints </p>\n\n<pre><code>1\n0\n</code></pre>\n\n<p>And I've been wondering why the values are different if the comparisons are using the same string\u2026 I've been struggling with this for a while and cannot figure out why they return different boolean values.</p>\n\n<pre><code>int main()\n{\n    string stringArray[] = { \"banana\",\"Banana\",\"zebra\",\"apple\",\"Apple\",\"Zebra\",\"cayote\" };\n\n    cout &lt;&lt; (stringArray[1] &lt; stringArray[0]) &lt;&lt; endl;\n    cout &lt;&lt; (\"Banana\" &lt; \"banana\") &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance", "recursion", "deep-copy"], "answers": [{"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446053763, "post_id": 33397198, "comment_id": 54587073, "body": "Need to check self-assignment in your <code>clone_ptr::operator=</code>, otherwise solid answer."}, {"owner": {"reputation": 199, "user_id": 3697176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d4faf33304f038a9fed460cc32ec8521?s=128&d=identicon&r=PG&f=1", "display_name": "user3697176", "link": "https://stackoverflow.com/users/3697176/user3697176"}, "edited": false, "score": 0, "creation_date": 1446057842, "post_id": 33397198, "comment_id": 54589637, "body": "@Mr.kbok. &quot;Also, don&#39;t put collections of objects into arrays! Use <code>std::vector</code> instead.&quot; I need to traverse these trees multiple times, and performance is a concern. With few exceptions I know ahead of time the number of children of each type of node. Is a &lt;std::vector&gt; competitive with an array under these circumstances?"}, {"owner": {"reputation": 6738, "user_id": 361535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/072972927ced123af3164764258ec186?s=128&d=identicon&r=PG", "display_name": "slaphappy", "link": "https://stackoverflow.com/users/361535/slaphappy"}, "reply_to_user": {"reputation": 199, "user_id": 3697176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d4faf33304f038a9fed460cc32ec8521?s=128&d=identicon&r=PG&f=1", "display_name": "user3697176", "link": "https://stackoverflow.com/users/3697176/user3697176"}, "edited": false, "score": 0, "creation_date": 1446072849, "post_id": 33397198, "comment_id": 54597398, "body": "@user3697176 yes, use std::vector to allocate the required buffer size up-front and avoid copies. Use emplace_back to construct object directly into the vector, and operator[] to bypass bounds checking"}, {"owner": {"reputation": 6738, "user_id": 361535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/072972927ced123af3164764258ec186?s=128&d=identicon&r=PG", "display_name": "slaphappy", "link": "https://stackoverflow.com/users/361535/slaphappy"}, "edited": false, "score": 0, "creation_date": 1446073017, "post_id": 33397198, "comment_id": 54597475, "body": "With optimizations enabled, std::vector used that way has the same performance as an array, with added safety and convenience."}, {"owner": {"reputation": 6738, "user_id": 361535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/072972927ced123af3164764258ec186?s=128&d=identicon&r=PG", "display_name": "slaphappy", "link": "https://stackoverflow.com/users/361535/slaphappy"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446073475, "post_id": 33397198, "comment_id": 54597685, "body": "@Barry: yeah, I was a bit quick to write that class :) I added safety for throwing clones since I&#39;m at it."}], "tags": [], "owner": {"reputation": 6738, "user_id": 361535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/072972927ced123af3164764258ec186?s=128&d=identicon&r=PG", "display_name": "slaphappy", "link": "https://stackoverflow.com/users/361535/slaphappy"}, "is_accepted": false, "score": 4, "last_activity_date": 1446110031, "last_edit_date": 1446110031, "creation_date": 1446051867, "answer_id": 33397198, "question_id": 33396932, "link": "https://stackoverflow.com/questions/33396932/c-duplicating-a-tree-of-derived-elements/33397198#33397198", "title": "C++: Duplicating a tree of derived elements", "body": "<p>You are right, a virtual method is needed for cloning the polymorphic object. OTOH, you can leverage C++ features to simplify writing it:</p>\n\n<pre><code>class Child : public ICloneable {\npublic:\n    // stuff...\n    Child *clone() const { return new Child(*this); }\n}\n</code></pre>\n\n<p>Also, don't put collections of objects into arrays! Use <code>std::vector</code> instead.</p>\n\n<pre><code>class Base\n{\n    // stuff...\n    std::vector&lt;Base*&gt; children;\n}\n</code></pre>\n\n<p>Even better, use a smart pointer to wrap the cloning operation into an object <code>std::vector</code> will be able to manage transparently.</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct clone_ptr {\n    T *object;\n\n    clone_ptr() : object(new T()) {}\n    clone_ptr(T *object_) : object(object_) {}\n    clone_ptr(clone_ptr&lt;T&gt; const &amp;other) : object(other.object-&gt;clone()) {}\n    clone_ptr&lt;T&gt; &amp;operator=(clone_ptr&lt;T&gt; other) {\n        std::swap(object, other.object);\n        return *this;\n    }\n\n    ~clone_ptr() { delete object; }\n};\n</code></pre>\n\n<p>That way you can just use a <code>std::vector</code> of <code>clone_ptrs</code> into your Base:</p>\n\n<pre><code>class Base\n{\n    // stuff...\n    std::vector&lt;clone_ptr&lt;Base&gt;&gt; children;\n}\n</code></pre>\n\n<p>Each object will be automagically copied into an object of the same polymorphic type, as long as you implement clone() in each class. The vector will be cloned in the same way other data members are, automatically by the C++ compiler.</p>\n"}], "owner": {"reputation": 199, "user_id": 3697176, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d4faf33304f038a9fed460cc32ec8521?s=128&d=identicon&r=PG&f=1", "display_name": "user3697176", "link": "https://stackoverflow.com/users/3697176/user3697176"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1446110031, "creation_date": 1446051011, "question_id": 33396932, "link": "https://stackoverflow.com/questions/33396932/c-duplicating-a-tree-of-derived-elements", "title": "C++: Duplicating a tree of derived elements", "body": "<p>I have a base class and several derived classes. The base class looks like this:</p>\n\n<pre><code>class Base\n{\n    int type; //the derived type the object belongs to\n    int nOfChildren;\n    Base** children; //each child can be any of the derived types\n    ...\n}\n</code></pre>\n\n<p>Now I need to duplicate an instance of <code>Base</code>. Because of the recursion, a virtual method <code>Base::duplicate()</code> is needed. It also seems clear what should go in it:</p>\n\n<pre><code>Base temp = new Base();\ntemp-&gt;type = temp;\ntemp-&gt;nOfChildren = nOfChildren;\ntemp-&gt;children = new Base*[nOfChildren];\n</code></pre>\n\n<p>beyond that, it's not so clear. </p>\n\n<p>Do I allocate each <code>temp-&gt;children[i]</code> as a <code>Base</code> object or as a derived object? Do I need a case statement to cater to all possible derived types? Do I need to implement a <code>duplicate()</code> method for each derived type, even those that contain no other information than the Base class? (If a derived class contains more information, then it is clear that I need a separate mechanism. There are several derived classes that contain no further data than the base, although they contain different implementations of a <code>handler()</code> method not shown.)</p>\n"}, {"tags": ["c++", "com", "decimal", "ado"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1446050539, "post_id": 33396728, "comment_id": 54584862, "body": "C or C++?  there is no C\\C++"}, {"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1446050587, "post_id": 33396728, "comment_id": 54584898, "body": "c++, but i need c native data type."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 1, "creation_date": 1446051691, "post_id": 33396728, "comment_id": 54585638, "body": "This has already been answered here: <a href=\"http://stackoverflow.com/questions/24891663/c-converting-variant-decimal-to-double-value\" title=\"c converting variant decimal to double value\">stackoverflow.com/questions/24891663/&hellip;</a>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1446051716, "post_id": 33396728, "comment_id": 54585649, "body": "You want C++ simple type, I suppose. C++ is <b>not</b> &quot;C with classes&quot;."}, {"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1446051916, "post_id": 33396728, "comment_id": 54585765, "body": "@Olaf A c native type is type you can put in <code>extern &quot;c&quot;</code> method"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1446052261, "post_id": 33396728, "comment_id": 54585986, "body": "So you mean a &quot;C scalar type&quot;. C does not have custom types in the same sense as C++ (one of the differences)."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5422455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde140b875655a40ae911170925d2ea5?s=128&d=identicon&r=PG&f=1", "display_name": "Gregory Van Vooren", "link": "https://stackoverflow.com/users/5422455/gregory-van-vooren"}, "is_accepted": false, "score": 1, "last_activity_date": 1446052056, "creation_date": 1446052056, "answer_id": 33397263, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal/33397263#33397263", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<p>If I understood Microsoft's documentation (<a href=\"https://msdn.microsoft.com/en-us/library/cc234586.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/cc234586.aspx</a>) correctly, VT_DECIMAL is an exact 92-bit integer value with a fixed scale and precision. In that case you can't store this without loss of information in a float, a double or a 64-bit integer variable.</p>\n\n<p>You're best bet would be to store it in a 128-bit integer like __int128 but I don't know the level of compiler support for it. I'm also not sure you will be able to just cast one to the other without resorting to some bit manipulations.</p>\n"}, {"comments": [{"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 0, "creation_date": 1446052840, "post_id": 33397284, "comment_id": 54586376, "body": "so I understand the best way is to keep it a string, am I right?"}, {"owner": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "reply_to_user": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 0, "creation_date": 1446053249, "post_id": 33397284, "comment_id": 54586693, "body": "For storing with full precision, I would use either a string representation or a scaled-integer representation: basically the representation that matches best the internal representation of VT_DECIMAL. See the snippet provided below by @milevyo, it&#39;s probably even better."}], "tags": [], "owner": {"reputation": 1328, "user_id": 5482150, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYnHUJnhogk/AAAAAAAAAAI/AAAAAAAAAQs/f2NE_1jdXis/photo.jpg?sz=128", "display_name": "Daniel Strul", "link": "https://stackoverflow.com/users/5482150/daniel-strul"}, "is_accepted": false, "score": 1, "last_activity_date": 1446056283, "last_edit_date": 1495541292, "creation_date": 1446052136, "answer_id": 33397284, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal/33397284#33397284", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<blockquote>\n  <p>Is it totally safe to use double to store all possible decimal values?</p>\n</blockquote>\n\n<p>It actually depends what you mean by <em>safe</em>. If you mean \"is there any risk of introducing some degree of conversion imprecision?\", yes there is a risk. The internal representations are far too different to guarantee perfect conversion, and conversion noise is likely to be introduced.</p>\n\n<blockquote>\n  <p>How can I convert the decimal to a long double / a string?</p>\n</blockquote>\n\n<p>It depends (again) of what you want to do with the object:</p>\n\n<ul>\n<li>For floating-point computation, see @Gread.And.Powerful.Oz's link to the following answer:  <a href=\"https://stackoverflow.com/questions/24891663/c-converting-variant-decimal-to-double-value\">C++ converting Variant Decimal to Double Value</a></li>\n<li>For display, see <a href=\"https://msdn.microsoft.com/en-us/library/ew0bcz27.aspx\" rel=\"nofollow noreferrer\">MSDN documentation</a> on string conversion</li>\n</ul>\n\n<p>For storage without any conversion imprecision, you should probably store the decimal as a scaled integer of the form <code>pair&lt;long long,short&gt;</code>, where <code>first</code> holds the 96-bits mantissa and <code>second</code> holds the number of digits to the right of the decimal point. This representation is as close as possible to the decimal's internal representation, will not introduce any conversion imprecision and won't waste CPU resources on integer-to-string formatting.</p>\n"}, {"comments": [{"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 0, "creation_date": 1446053033, "post_id": 33397487, "comment_id": 54586525, "body": "so I understand the best way is to keep it as string, am I right?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 1, "creation_date": 1446053514, "post_id": 33397487, "comment_id": 54586887, "body": "The best way is to keep it DECIMAL.  Your question is completely unclear about the exact reason you want to convert it.   I gave the hints you need to convert it properly.  Only convert once."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": false, "score": 2, "last_activity_date": 1446052772, "creation_date": 1446052772, "answer_id": 33397487, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal/33397487#33397487", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<p>\"Safe\" isn't exactly the correct word, the point of DECIMAL is to not introduce rounding errors due to base conversions.  Calculations are done in base 10 instead of base 2.  That makes them slow but accurate, the kind of accuracy that an accountant likes.  He won't have to chase a billionth-of-a-penny mismatches.</p>\n\n<p>Use _variant_t::ChangeType() to make conversions.  Pass <code>VT_R8</code> to convert to double precision.  Pass <code>VT_BSTR</code> to convert to a string, the kind that the accountant likes.  No point in chasing <code>long double</code>, that 10-byte FPU type is history.</p>\n"}, {"comments": [{"owner": {"reputation": 5631, "user_id": 1487529, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/w6ior.jpg?s=128&g=1", "display_name": "Elmue", "link": "https://stackoverflow.com/users/1487529/elmue"}, "edited": false, "score": 0, "creation_date": 1580400494, "post_id": 33397544, "comment_id": 106093365, "body": "You program so complicated! This could be written in 3 lines! Use Lo32 and Mid32 instead of Lo64 !"}], "tags": [], "owner": {"reputation": 2000, "user_id": 4487286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHZoO.jpg?s=128&g=1", "display_name": "milevyo", "link": "https://stackoverflow.com/users/4487286/milevyo"}, "is_accepted": false, "score": 2, "last_activity_date": 1446052943, "creation_date": 1446052943, "answer_id": 33397544, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal/33397544#33397544", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<p>this snippets is taken from <a href=\"http://hackage.haskell.org/package/com-1.2.1/src/cbits/AutoPrimSrc.c\" rel=\"nofollow\">http://hackage.haskell.org/package/com-1.2.1/src/cbits/AutoPrimSrc.c</a> </p>\n\n<p>the <b>Hackage.org</b> says:</p>\n\n<blockquote>\n  <p>Hackage is the Haskell community's central package archive of open\n  source software.</p>\n</blockquote>\n\n<p>but please check the authors permissions</p>\n\n<pre><code>void writeVarWord64( unsigned int hi, unsigned int lo, VARIANT* v )\n{\n   ULONGLONG r;\n\n   r = (ULONGLONG)hi;\n   r &gt;&gt;= 32;\n   r += (ULONGLONG)lo;\n\n   if (!v) return;\n   VariantInit(v);\n   v-&gt;vt = VT_DECIMAL;\n   v-&gt;decVal.Lo64  = r;\n   v-&gt;decVal.Hi32  = 0;\n   v-&gt;decVal.sign  = 0;\n   v-&gt;decVal.scale = 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 1, "creation_date": 1446101000, "post_id": 33398483, "comment_id": 54605950, "body": "I would strongly advise here to use VariantChangeTypeEx instead of VariantChangeType as it allows to specify the locale when using strings (for decimal character support etc.)."}], "tags": [], "owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1446055698, "last_edit_date": 1592644375, "creation_date": 1446055698, "answer_id": 33398483, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal/33398483#33398483", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<p>The internal representation for <code>DECIMAL</code> is not a double precision floating point value, it is integer instead with sign/scale options. If you are going to initialize <code>DECIMAL</code> parts, you should initialize these fields - 96-bit integer value, scale, sign, then you get valid decimal <code>VARIANT</code> value.</p>\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms221061\" rel=\"noreferrer\"><code>DECIMAL</code> on MSDN</a>:</p>\n<ul>\n<li>scale - The number of decimal places for the number. Valid values are from 0 to 28. So 12.345 is represented as 12345 with a scale of 3.</li>\n<li>sign - Indicates the sign; 0 for positive numbers or DECIMAL_NEG for negative numbers. So -1 is represented as 1 with the DECIMAL_NEG bit set.</li>\n<li>Hi32 - The high 32 bits of the number.</li>\n<li>Lo64 - The low 64 bits of the number. This is an _int64.</li>\n</ul>\n<p>Your questions:</p>\n<blockquote>\n<p>is it totally safe to use double to store all possible decimal values?</p>\n</blockquote>\n<p>You cannot initialize as double directly (e.g. <code>VT_R8</code>), but you can initialize as double variant and use variant conversion API to convert to <code>VT_DECIMAL</code>. A small rounding can be applied to value.</p>\n<blockquote>\n<p>if not, how can I convert the decimal to a long double?</p>\n<p>How to convert a decimal to string? (using the &lt;&lt; operator, sprintf is also good for me)</p>\n</blockquote>\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms221258\" rel=\"noreferrer\"><code>VariantChangeType</code></a> can convert decimal variant to variant of another type, including integer, double, string - you provide the type to convert to. Vice versa, you can also convert something different to decimal.</p>\n"}], "owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 0, "accepted_answer_id": 33398483, "answer_count": 5, "score": 4, "last_activity_date": 1446056283, "creation_date": 1446050496, "last_edit_date": 1446051686, "question_id": 33396728, "link": "https://stackoverflow.com/questions/33396728/what-is-the-correct-type-in-c-c-to-store-a-coms-vt-decimal", "title": "What is the correct type in c\\c++ to store a COM&#39;s VT_DECIMAL?", "body": "<p>I'm trying to write a wrapper to ADO. </p>\n\n<p>A <code>DECIMAL</code> is one type a <code>COM VARIANT</code> can be, when the <code>VARIANT</code> type is <code>VT_DECIMAL</code>.</p>\n\n<p>I'm trying to put it in c native data type, and keep the variable value.\nit seem that the correct type is long double, but I get \"no suitable conversion error\".</p>\n\n<p>For example: </p>\n\n<pre><code>_variant_t v;\n...\n\nif(v.vt == VT_DECIMAL)\n{\n  double d = (double)v; //this works but I'm afraid can be loss of data...\n  long double ld1 = (long double)v; //error: more then one conversion from variant to long double applied.\n  long double ld2 = (long double)v.decVal; //error: no suitable conversion function from decimal to long double exist.  \n}\n</code></pre>\n\n<p>So my questions are: </p>\n\n<ol>\n<li><p>is it totally safe to use double to store all possible decimal values?</p></li>\n<li><p>if not, how can I convert the decimal to a long double?</p></li>\n<li><p>How to convert a decimal to string? (using the &lt;&lt; operator, <code>sprintf</code> is also good for me)</p></li>\n</ol>\n"}, {"tags": ["c++", "matlab", "mnist"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1446051734, "post_id": 33396669, "comment_id": 54585664, "body": "I have no idea what the inputs of RBM are shaped like.  What are they supposed to be shaped like? What are the expected sizes?"}, {"owner": {"reputation": 69, "user_id": 5466225, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a72f9c0ed24a45bd3a32322406298230?s=128&d=identicon&r=PG&f=1", "display_name": "JNW", "link": "https://stackoverflow.com/users/5466225/jnw"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1446052401, "post_id": 33396669, "comment_id": 54586088, "body": "for a start i have been using binary number : as shown above my X is the matrix containing the training input fed to the RBM sofar. and the main goal in future is to train the machine for image recognition. I don&#39;t if that helps understanding what my problem is? thanks"}], "owner": {"reputation": 69, "user_id": 5466225, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a72f9c0ed24a45bd3a32322406298230?s=128&d=identicon&r=PG&f=1", "display_name": "JNW", "link": "https://stackoverflow.com/users/5466225/jnw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446050705, "creation_date": 1446050336, "last_edit_date": 1446050705, "question_id": 33396669, "link": "https://stackoverflow.com/questions/33396669/get-mnist-data-as-input-for-my-program-rbms", "title": "get mnist data as input for my program (RBMs)", "body": "<p>i need to go from binary data when testing my RBM to simple images as MNIST. but just wonder how i could pass them as input to my program. from matlab side. Replacing X with mnist data.</p>\n\n<pre><code> X=  [ 1, 1, 1, 0, 0, 0; ...\n  1, 0, 1, 0, 0, 0; ...\n  1, 1, 1, 0, 0, 0; ...\n  0, 0, 1, 1, 1, 0; ...\n  0, 0, 1, 1, 1, 0; ...\n  0, 0, 1, 1, 1, 0];\n\nX = int32(X);\n</code></pre>\n\n<p>above is how i actually pass them (also they are binaries)\nand here is how i run them:</p>\n\n<pre><code> rbm = RBM(X,hidden_E,training_epochs,k, learning_rate)\n</code></pre>\n\n<p>so wondering how i could manage to replace my X matrix with mnist data set instead?</p>\n"}, {"tags": ["c++", "path", "compilation", "g++"], "comments": [{"owner": {"reputation": 2394, "user_id": 4952137, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c40d9f94080a45d91ee151dfe960cee3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Sparber", "link": "https://stackoverflow.com/users/4952137/thomas-sparber"}, "edited": false, "score": 0, "creation_date": 1446050493, "post_id": 33396602, "comment_id": 54584841, "body": "This means it doesn&#39;t see the file <code>libmusicxml.h</code> in <code>&#47;usr&#47;local&#47;include&#47;libmusicxml&#47;</code> Maybe you Need to write <code>#include &lt;libmusicxml&#47;libmusicxml.h&gt;</code>"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1446050531, "post_id": 33396602, "comment_id": 54584857, "body": "You should use <code>-I</code> to specify the search path as <code>-I&#47;usr&#47;local&#47;include</code>."}, {"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446050610, "post_id": 33396602, "comment_id": 54584916, "body": "-L won&#39;t work. this is a missing header not a library."}, {"owner": {"reputation": 2394, "user_id": 4952137, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c40d9f94080a45d91ee151dfe960cee3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Sparber", "link": "https://stackoverflow.com/users/4952137/thomas-sparber"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1446050623, "post_id": 33396602, "comment_id": 54584928, "body": "@skypjack The error is not about the *.so file but about the *.h file. So it should be <code>-I&#47;usr&#47;local&#47;include&#47;libmusicxml</code>... But /usr/local/include is a Standard include path. it should work without <code>-I</code>"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1446050806, "post_id": 33396602, "comment_id": 54585033, "body": "you are right, fixed. it could be that the file is under <code>libmusicxml</code> indeed."}, {"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446050956, "post_id": 33396602, "comment_id": 54585138, "body": "did you forget to add -lmusqicxml?"}, {"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446050982, "post_id": 33396602, "comment_id": 54585159, "body": "Can you give your compilation command?"}, {"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446051013, "post_id": 33396602, "comment_id": 54585186, "body": "you must add to the link command. Or g++ filename.cpp -I/path/to/header -lmusicxml"}, {"owner": {"reputation": 4776, "user_id": 1496362, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32b51934fcba302e39dc250d03be9c80?s=128&d=identicon&r=PG", "display_name": "dorien", "link": "https://stackoverflow.com/users/1496362/dorien"}, "edited": false, "score": 0, "creation_date": 1446051230, "post_id": 33396602, "comment_id": 54585339, "body": "Mmmm I tried compiling with  g++ xml2guido.cpp -I/usr/local/include/libmusicxml -Imusicxml and it keeps giving me an error:  /tmp/ccpbD48c.o: In function <code>main&#39;: xml2guido.cpp:(.text+0xf9): undefined reference to </code>musicxmlfd2guido&#39; xml2guido.cpp:(.text+0x115): undefined reference to `musicxmlfile2guido&#39; collect2: error: ld returned 1 exit status"}], "answers": [{"comments": [{"owner": {"reputation": 4776, "user_id": 1496362, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32b51934fcba302e39dc250d03be9c80?s=128&d=identicon&r=PG", "display_name": "dorien", "link": "https://stackoverflow.com/users/1496362/dorien"}, "edited": false, "score": 0, "creation_date": 1446051026, "post_id": 33396906, "comment_id": 54585198, "body": "oh waw, of course, I&#39;m too used to having automatic make files... will try it right away."}, {"owner": {"reputation": 4776, "user_id": 1496362, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32b51934fcba302e39dc250d03be9c80?s=128&d=identicon&r=PG", "display_name": "dorien", "link": "https://stackoverflow.com/users/1496362/dorien"}, "edited": false, "score": 0, "creation_date": 1446051733, "post_id": 33396906, "comment_id": 54585663, "body": "When compiling with  g++ xml2guido.cpp -I/usr/local/include/libmusicxml It gives me a different error now. It can&#39;t find a function that&#39;s specified int the libmusicxml header. In function main&#39;: xml2guido.cpp:(.text+0xf9): undefined reference to musicxmlfd2guido&#39; xml2guido.cpp:(.text+0x115): undefined reference to `musicxmlfile2guido&#39; collect2: error: ld returned 1 exit status"}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 1, "last_activity_date": 1446051163, "last_edit_date": 1446051163, "creation_date": 1446050947, "answer_id": 33396906, "question_id": 33396602, "link": "https://stackoverflow.com/questions/33396602/g-cant-find-installed-library/33396906#33396906", "title": "g++ can&#39;t find installed library", "body": "<blockquote>\n  <p>Does this mean it's not seeing the library in /usr/local?</p>\n</blockquote>\n\n<p>It means that it didn't find the header <code>libmusicxml.h</code>. You didn't tell the compiler to look for it in <code>/usr/local/include/libmusicxml</code>.</p>\n\n<blockquote>\n  <p>Can I specify this somewhere? Set a path or something? </p>\n</blockquote>\n\n<p>See the documentation of your compiler. In gcc, the option for include search paths is <code>-I</code>.</p>\n\n<p>Instead of searching for the header <code>libmusicxml.h</code> from <code>/usr/local/include/libmusicxml/</code>, I would recommend including <code>libmusicxml/libmusicxml.h</code> and searching from <code>/usr/local/include</code>. That would be simpler since g++ searches from <code>/usr/local/include</code> by default, so no compiler options would be required.</p>\n"}, {"tags": [], "owner": {"reputation": 4776, "user_id": 1496362, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32b51934fcba302e39dc250d03be9c80?s=128&d=identicon&r=PG", "display_name": "dorien", "link": "https://stackoverflow.com/users/1496362/dorien"}, "is_accepted": true, "score": 0, "last_activity_date": 1446122271, "creation_date": 1446122271, "answer_id": 33414477, "question_id": 33396602, "link": "https://stackoverflow.com/questions/33396602/g-cant-find-installed-library/33414477#33414477", "title": "g++ can&#39;t find installed library", "body": "<p>The library (and headers) weren't recognised until I ran: </p>\n\n<pre><code>export LD_LIBRARY_PATH=/addressto/libmusicxml-master\n</code></pre>\n\n<p>That fixed it. </p>\n"}], "owner": {"reputation": 4776, "user_id": 1496362, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32b51934fcba302e39dc250d03be9c80?s=128&d=identicon&r=PG", "display_name": "dorien", "link": "https://stackoverflow.com/users/1496362/dorien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2213, "favorite_count": 0, "accepted_answer_id": 33414477, "answer_count": 2, "score": 0, "last_activity_date": 1552123303, "creation_date": 1446050142, "last_edit_date": 1552123303, "question_id": 33396602, "link": "https://stackoverflow.com/questions/33396602/g-cant-find-installed-library", "title": "g++ can&#39;t find installed library", "body": "<p>I'm trying to compile and example file which needs the required library libmusicxml.</p>\n\n<p>I compiled the library as they said (cmake, make, make install) and it made and installed a bunch of files:</p>\n\n<pre><code>Install the project...\n-- Install configuration: \"\"\n-- Installing: /usr/local/lib/libmusicxml2.so.3.00\n-- Installing: /usr/local/lib/libmusicxml2.so\n-- Installing: /usr/local/include/libmusicxml/musicxmlfactory.h\n-- Installing: /usr/local/include/libmusicxml/sortvisitor.h\n-- Installing: /usr/local/include/libmusicxml/xmlreader.h\n... etc\n</code></pre>\n\n<p>Now I want to compile one of their sample files so I run g+ filename.cpp and it gives me the following error:</p>\n\n<pre><code>libmusicxml.h: No such file or directory\n</code></pre>\n\n<p>Does this mean it's not seeing the library in /usr/local? Can I specify this somewhere? Set a path or something?</p>\n\n<p>I have made sure to have the latest version of the libmusicxml library from <a href=\"https://github.com/dfober/libmusicxml\" rel=\"nofollow noreferrer\">here</a> and did the same (cmake followed by make).</p>\n\n<p>When I go to the gives samples and try to make one (with the provided make file, which work according to the developer) it doesn't want to do it:</p>\n\n<pre><code>dorien@XP:~/bin/libmusicxml-master/samples$ make\ngcc -g -O3 -Wall -Wuninitialized -I../src/elements -I../src/interface -I../src/files -I../src/lib -I../src/parser -I../src/visitors -I../src/guido -I../src/operations countnotes.cpp ../libmusicxml2.a -lstdc++ -o countnotes\ngcc: error: ../libmusicxml2.a: No such file or directory\nMakefile:14: recipe for target 'countnotes' failed\n</code></pre>\n\n<p>-> I tried to locate libmusicxml2.a and that doesn't seem to exist.</p>\n\n<p>When I run xml2guido (which seems to have a compiled version in the root directory of the package), I get:</p>\n\n<pre><code>xml2guido: error while loading shared libraries: libmusicxml2.so.3.00: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>However, there is a libmusicxml2.so.3.00 in the same directory</p>\n\n<p>Maybe it's that the package is not linked correctly? Or something about the missing .a file?</p>\n\n<p>I do think it was built correctly:</p>\n\n<pre><code> make\n[ 73%] Built target musicxml2\n[ 75%] Built target RandomMusic\n[ 78%] Built target countnotes\n[ 80%] Built target partsummary\n[ 82%] Built target readunrolled\n[ 85%] Built target xml2guido\n[ 87%] Built target xml2midi\n[ 90%] Built target xmlclone\n[ 92%] Built target xmlfactory\n[ 95%] Built target xmliter\n[ 97%] Built target xmlread\n[100%] Built target xmltranspose\n\ndorien@XP:~/bin/libmusicxml-master$ sudo make install\n[ 73%] Built target musicxml2\n[ 75%] Built target RandomMusic\n[ 78%] Built target countnotes\n[ 80%] Built target partsummary\n[ 82%] Built target readunrolled\n[ 85%] Built target xml2guido\n[ 87%] Built target xml2midi\n[ 90%] Built target xmlclone\n[ 92%] Built target xmlfactory\n[ 95%] Built target xmliter\n[ 97%] Built target xmlread\n[100%] Built target xmltranspose\nInstall the project...\n-- Install configuration: \"\"\n-- Up-to-date: /usr/local/lib/libmusicxml2.so.3.00\n-- Up-to-date: /usr/local/lib/libmusicxml2.so\n-- Up-to-date: /usr/local/include/libmusicxml/musicxmlfactory.h\n-- Up-to-date: /usr/local/include/libmusicxml/sortvisitor.h\n-- Up-to-date: /usr/local/include/libmusicxml/xmlreader.h\n-- Up-to-date: /usr/local/include/libmusicxml/xmlfile.h\n-- Up-to-date: /usr/local/include/libmusicxml/libmusicxml.h\n-- Up-to-date: /usr/local/include/libmusicxml/unrolled_xml_tree_browser.h\n-- Up-to-date: /usr/local/include/libmusicxml/xml.h\n-- Up-to-date: /usr/local/include/libmusicxml/elements.h\n-- Up-to-date: /usr/local/include/libmusicxml/factory.h\n-- Up-to-date: /usr/local/include/libmusicxml/types.h\n-- Up-to-date: /usr/local/include/libmusicxml/typedefs.h\n-- Up-to-date: /usr/local/include/libmusicxml/xml_tree_browser.h\n-- Up-to-date: /usr/local/include/libmusicxml/versions.h\n-- Up-to-date: /usr/local/include/libmusicxml/exports.h\n</code></pre>\n"}, {"tags": ["c++", "compilation", "inline", "conditional-compilation"], "comments": [{"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446050180, "post_id": 33396435, "comment_id": 54584618, "body": "in file2.cpp, you include &#39;file.h&#39; which i don&#39;t see."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1446050186, "post_id": 33396435, "comment_id": 54584622, "body": "Please <b>edit your post</b> with the contents of <i>Common.h</i>."}, {"owner": {"reputation": 658, "user_id": 4161244, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/80ba8dd588e2b3d9cd382b33b7759615?s=128&d=identicon&r=PG&f=1", "display_name": "Brahim", "link": "https://stackoverflow.com/users/4161244/brahim"}, "edited": false, "score": 0, "creation_date": 1446050388, "post_id": 33396435, "comment_id": 54584755, "body": "I still see file.h included in file2.cpp"}, {"owner": {"reputation": 44578, "user_id": 536086, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/75d228bb162b779392a94d9364969208?s=128&d=identicon&r=PG", "display_name": "Yochai Timmer", "link": "https://stackoverflow.com/users/536086/yochai-timmer"}, "edited": false, "score": 0, "creation_date": 1446052164, "post_id": 33396435, "comment_id": 54585925, "body": "It&#39;s a typo, file.h is common.h"}], "answers": [{"tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": true, "score": 3, "last_activity_date": 1446050427, "last_edit_date": 1446050427, "creation_date": 1446050205, "answer_id": 33396622, "question_id": 33396435, "link": "https://stackoverflow.com/questions/33396435/compiling-same-header-with-different-compilation-flag-in-different-compilation-u/33396622#33396622", "title": "Compiling same header with different compilation flag in different compilation units", "body": "<p>The standard (here N4527) says in <strong>3.2 One definition rule</strong>/6</p>\n\n<blockquote>\n  <p>There can be more than one definition of a class type (Clause 9), enumeration type (7.2), inline function with\n  external linkage (7.1.2), class template (Clause 14), non-static function template (14.5.6), static data member\n  of a class template (14.5.1.3), member function of a class template (14.5.1.1), or template specialization for\n  which some template parameters are not specified (14.7, 14.5.5) in a program provided that each definition\n  appears in a different translation unit, and provided the definitions satisfy the following requirements. Given\n  such an entity named D defined in more than one translation unit, then\n  (6.1)</p>\n  \n  <p>\u2014 each definition of D shall consist of the same sequence of tokens; and</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>If the definitions of D satisfy all these requirements,\n  then the behavior is as if there were a single definition of D. If the definitions of D do not satisfy these\n  requirements, then the behavior is undefined.</p>\n</blockquote>\n\n<p>So replacing \"yes\" with \"no\" is an ODR-violation, causing undefined behavior.</p>\n\n<p>For the result of getting \"yes\" I can guess that the compiler picks one function at random, as they <em>have to</em> be identical.</p>\n\n<p>On the other hand, if you made the function <code>static</code>, you would have different local functions in each translation unit.</p>\n"}], "owner": {"reputation": 44578, "user_id": 536086, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/75d228bb162b779392a94d9364969208?s=128&d=identicon&r=PG", "display_name": "Yochai Timmer", "link": "https://stackoverflow.com/users/536086/yochai-timmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 33396622, "answer_count": 1, "score": 2, "last_activity_date": 1446052119, "creation_date": 1446049659, "last_edit_date": 1446052119, "question_id": 33396435, "link": "https://stackoverflow.com/questions/33396435/compiling-same-header-with-different-compilation-flag-in-different-compilation-u", "title": "Compiling same header with different compilation flag in different compilation units", "body": "<p>I've encountered a strange problem that kind of breaks what I understand about a compilation unit's encapsulation. </p>\n\n<p>In a nutshell I have a common inlined function that I get from a header.<br>\nI include that into 2 different .cpp files, with a different <code>#define</code> macros.<br>\nBut I end up getting the same implementation in bot compilation units.</p>\n\n<p>Common.h:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ninline void printA()\n{\n#ifdef YES\n    std::cout &lt;&lt; \" yes\" &lt;&lt; std::endl;\n#else\n    std::cout &lt;&lt; \" no\" &lt;&lt; std::endl;\n#endif\n}\n</code></pre>\n\n<p>File1.h:</p>\n\n<pre><code>void print1();\n</code></pre>\n\n<p>File1.cpp:</p>\n\n<pre><code>#define YES\n#include \"Common.h\"\n#include \"File1.h\"\n\nvoid print1()\n{\n    printA();\n}\n</code></pre>\n\n<p>File2.h:</p>\n\n<pre><code>void print2();\n</code></pre>\n\n<p>File2.cpp</p>\n\n<pre><code>#include \"Common.h\"\n#include \"File2.h\"\nvoid print2()\n{\n    printA();\n}\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include \"File1.h\"\n#include \"File2.h\"\n\nint main(int argc, char* argv[])\n{\n\n    print1();\n    print2();\n\n    return 0;\n}\n</code></pre>\n\n<p>The output to this example is:</p>\n\n<pre><code>yes\nyes\n</code></pre>\n\n<p>I would expect it to be:</p>\n\n<pre><code>yes\nno\n</code></pre>\n\n<p>So, why is the same implementation taken in both compilation units ?<br>\nThe common function is even inlined.... </p>\n\n<p>How can I get my \"expected\" result?</p>\n\n<p>And, why is the \"yes\" implementation chosen ? Just a matter of compilation order?</p>\n\n<p>BTW, I get the same results on GCC 4.8 and VS2012</p>\n"}, {"tags": ["c++", "opengl", "freeglut"], "comments": [{"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 2, "creation_date": 1446050658, "post_id": 33396334, "comment_id": 54584943, "body": "So where are you stuck? There is no question in this question."}, {"owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "edited": false, "score": 0, "creation_date": 1446091543, "post_id": 33396334, "comment_id": 54602870, "body": "It&#39;s not exactly the same question, but the basic problem is the same as the one here: <a href=\"http://stackoverflow.com/questions/24705225/opengl-rotation-from-velocity-vector\" title=\"opengl rotation from velocity vector\">stackoverflow.com/questions/24705225/&hellip;</a>. My answer there shows how to calculate a rotation matrix from a orientation vector. The translation part will hopefully be obvious."}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1446112019, "post_id": 33396334, "comment_id": 54611738, "body": "see <a href=\"http://stackoverflow.com/a/25182327/2521214\">stackoverflow.com/a/25182327/2521214</a> and look how I make the <code>glCircle3D</code> function .... you just compute vertexes of 2 such circles and render as 2 triangle fans and 1 quad strip .... where the second circle has <code>position</code> shifted by <code>height * normal</code> vector"}], "answers": [{"tags": [], "owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "is_accepted": true, "score": 0, "last_activity_date": 1446116113, "creation_date": 1446116113, "answer_id": 33412289, "question_id": 33396334, "link": "https://stackoverflow.com/questions/33396334/draw-cylinder-with-defined-center-and-axis-in-old-opengl/33412289#33412289", "title": "Draw cylinder with defined center and axis in old opengl", "body": "<p>my problem is solved, this is the function :  </p>\n\n<pre><code>void DrawCylinder(float radius,float height,Vector3 center,Vector3 axis)\n{    \n    Vector3 pos=Vector3(0,0,height/2);\n    float theta=Vector3::anglebetweeninradian(axis,Vector3(0,0,1))/PIdiv180;\n    pos=pos.Rotate(Vector3(axis.Y(),axis.X(),0),theta);\n    center-=pos;\n    glPushMatrix();\n    glTranslatef(center.X(),center.Y(),center.Z());\n    glRotatef(theta,axis.Y(),axis.X(),0);\n    glutSolidCylinder(radius,height,50,50);\n    glPopMatrix();\n}\n</code></pre>\n\n<p>I just had to put glTranslatef before glRotatef.</p>\n"}], "owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 33412289, "answer_count": 1, "score": -2, "last_activity_date": 1446120068, "creation_date": 1446049361, "last_edit_date": 1592644375, "question_id": 33396334, "link": "https://stackoverflow.com/questions/33396334/draw-cylinder-with-defined-center-and-axis-in-old-opengl", "title": "Draw cylinder with defined center and axis in old opengl", "body": "<p>I'm trying to draw a cylinder using freeglut's glutSolidCylinder in a position and axis that I give.</p>\n<p>What I want here is a function like this :</p>\n<pre><code>void DrawCylinder(float radius,float height,Vector3 center,Vector3 axis)\n</code></pre>\n<p>such that</p>\n<pre><code>DrawCylinder(0.5,0.5, Vector3(0.5,0.5,0), Vector3(0,1,0)) \n</code></pre>\n<p>will draw a cylinder whose center is <code>(0.5,0.5,0)</code> and its axis is along the y-axis.</p>\n<p>I need this function to be general, that is to work whatever position and axis I give it, I found <a href=\"https://stackoverflow.com/questions/8631009/how-to-draw-cylinder-in-y-or-x-axis-in-opengl\">this</a> related question which is very specific.</p>\n<p>here is where I'm stuck:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;GL/freeglut.h&gt;\n#include &lt;GL/gl.h&gt;\n#include &lt;GL/glu.h&gt;\n#include &lt;cmath&gt;\n#define PI 3.141592653589f\n#define PIdiv180 (PI/180.0f)\nclass Vector3\n{\nprivate:\n    float x,y,z;\npublic:\n    Vector3(float coordx=0,float coordy=0,float coordz=0) \n            : x(coordx),y(coordy),z(coordz){}\n    Vector3(const Vector3 &amp;v) : x(v.x),y(v.y),z(v.z){}\n    float X() const { return x; }\n    float Y() const { return y; }\n    float Z() const { return z; }\n    float length() const { return sqrt(x*x+y*y+z*z); }\n    \n    float operator*(const Vector3 &amp;v) const \n    { \n        return x*v.x+y*v.y+z*v.z; \n    }\n    \n    static float anglebetweeninradian(const Vector3 &amp;v1,const Vector3 &amp;v2)\n    {\n        return acos((v1*v2)/(v1.length()*v2.length()));\n    }\n\n\n    Vector3 operator-(const Vector3 &amp;other) const\n    {\n        return Vector3(x-other.x,y-other.y,z-other.z);\n    }\n\n\n    Vector3 &amp;operator =(const Vector3&amp; other)\n    {\n        x=other.x;\n        y=other.y;\n        z=other.z;\n        return *this;\n    }\n\n\n    Vector3 &amp;operator -=(const Vector3&amp; other)\n    {\n        x-=other.x;\n        y-=other.y;\n        z-=other.z;\n        return *this;\n    }\n\n    Vector3 Rotate(Vector3 v,const float &amp;theta1)  const\n    {\n        float a = 0, b = 0, c = 0;\n\n        float theta=(float)(theta1*PIdiv180);\n\n        a=(cos(theta)+(v.x*v.x)*(1-cos(theta)))*x;\n        a+=(v.x*v.y*(1-cos(theta))-v.z*sin(theta))*y;\n        a+=(v.x*v.z*(1-cos(theta))+v.y*sin(theta))*z;\n\n        b=(v.y*v.x*(1-cos(theta))+v.z*sin(theta))*x;\n        b+=(cos(theta)+v.y*v.y*(1-cos(theta)))*y;\n        b+=(v.y*v.z*(1-cos(theta))-v.x*sin(theta))*z;\n\n        c=(v.z*v.x*(1-cos(theta))-v.y*sin(theta))*x;\n        c+=(v.z*v.y*(1-cos(theta))+v.x*sin(theta))*y;\n        c+=(cos(theta)+v.z*v.z*(1-cos(theta)))*z;\n        return Vector3(a, b, c);\n    }\n};\nusing namespace std;\nvoid DrawCylinder(float radius,float height,Vector3 center,Vector3 axis)\n{    \n    Vector3 pos=Vector3(0,0,height/2);\n    float theta=Vector3::anglebetweeninradian(axis,Vector3(0,0,1))/PIdiv180;\n    pos=pos.Rotate(Vector3(axis.Y(),axis.X(),0),theta);\n    glPushMatrix();\n    glRotatef(theta,axis.Y(),axis.X(),0);\n    center-=pos;\n    glTranslatef(center.X(),center.Y(),center.Z());\n    glutSolidCylinder(radius,height,50,50);\n    glPopMatrix();\n}\n\nvoid idle(void)\n{\n    glutPostRedisplay();\n}\nvoid display()\n{      \n    glClear(GL_DEPTH_BUFFER_BIT);\n    glColor3f(1,0,0);\n    glLoadIdentity();\n    DrawCylinder(0.5,0.5,Vector3(0,0,0),Vector3(0,-1,0));\n    glutSwapBuffers();\n}\n\nvoid init()\n{\n    glClearColor(1, 1, 1, 1);\n\n    glEnable(GL_LIGHTING);\n    glEnable(GL_DEPTH_TEST);\n    glEnable(GL_LIGHT0);\n    const GLfloat light_ambient[] = { 1.0f, 1.0f, 1.0f, 0.0f };\n    const GLfloat light_diffuse[] = { 1.0f, 1,1, 1.0f };\n    const GLfloat light_specular[] = { 1.0f, 1.0f, 1.0f, 1.0f };\n    const GLfloat light_position[] = { 0.0f, 1, 0.0f, 1.0f };\n    const GLfloat light_shininess[] = { 50.0f };\n    const GLfloat light_emissive[] = { 1, -1, 1, 0 };\n\n    glEnable(GL_COLOR_MATERIAL);\n\n    glLightfv(GL_LIGHT0, GL_AMBIENT,  light_ambient);\n    glLightfv(GL_LIGHT0, GL_DIFFUSE,  light_diffuse);\n    glLightfv(GL_LIGHT0, GL_SPECULAR, light_specular);\n    glLightfv(GL_LIGHT0, GL_POSITION, light_position);\n    glLightfv(GL_LIGHT0, GL_EMISSION, light_emissive);\n\n    glMaterialfv(GL_FRONT, GL_SPECULAR, light_specular);\n    glMaterialfv(GL_FRONT, GL_SHININESS, light_shininess);\n}\nint main(int argc,char *argv[])\n{\n    glutInit(&amp;argc,argv);\n    glutInitWindowSize(640,480);\n    glutInitWindowPosition(300,200);\n    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);\n    glutCreateWindow(&quot;FoosBall&quot;);\n    glutDisplayFunc(display);\n    glutIdleFunc(idle);\n    init();\n    glutMainLoop();\n    return 0;\n}\n</code></pre>\n<h2>EDIT</h2>\n<p>What I'm doing here is rotate the cylinder around the cross product of the specified axis and the z-axis with angle equal to the angle between the two vectors, and after the rotation I translate the cylinder from the position of its center after rotation to the center specified.</p>\n<p>Unfortunately this didn't work , when I try to draw it at (0,0,0) along the y-axis it gets positioned up (0,0,0) (maybe (0,0.25,0)),the rotation part works as expected, it's just the translation part that doesn't work.</p>\n<p>So what should I do ?</p>\n<h2>Note</h2>\n<p>For Now I have to use the old opengl.</p>\n"}, {"tags": ["c++", "encryption", "openssl", "aes"], "comments": [{"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 2, "creation_date": 1446049223, "post_id": 33396230, "comment_id": 54583874, "body": "Writing encrypting software without knowing what you are doing - not a good sign."}, {"owner": {"reputation": 10619, "user_id": 345027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/de94a2d703fa12904d400de1fc86c251?s=128&d=identicon&r=PG", "display_name": "king_nak", "link": "https://stackoverflow.com/users/345027/king-nak"}, "edited": false, "score": 0, "creation_date": 1446049930, "post_id": 33396230, "comment_id": 54584432, "body": "You are using 64 bits for key and IV. Shouldn&#39;t it be 256 and 128 resp.? (note: <a href=\"http://security.stackexchange.com/questions/90848/encrypting-using-aes-256-can-i-use-256-bits-iv\" title=\"encrypting using aes 256 can i use 256 bits iv\">security.stackexchange.com/questions/90848/&hellip;</a> )"}], "answers": [{"comments": [{"owner": {"reputation": 316, "user_id": 5467838, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c552127eacd3222998377eb54eb045fa?s=128&d=identicon&r=PG&f=1", "display_name": "nicksona", "link": "https://stackoverflow.com/users/5467838/nicksona"}, "edited": false, "score": 0, "creation_date": 1446107087, "post_id": 33396548, "comment_id": 54608809, "body": "100% you are right! Just for the people like me who dont know what is PBKDF2: <code>PBKDF2 applies a pseudorandom function, such as a cryptographic hash, cipher, or HMAC to the input password or passphrase along with a salt value and repeats the process many times to produce a derived key, which can then be used as a cryptographic key in subsequent operations. The added computational work makes password cracking much more difficult, and is known as key stretching.</code> It is easy to make cycle in console, but when GUI is used - is there way to hack fast the password, wich didnt used PBKD2 and SHA?"}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "reply_to_user": {"reputation": 316, "user_id": 5467838, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c552127eacd3222998377eb54eb045fa?s=128&d=identicon&r=PG&f=1", "display_name": "nicksona", "link": "https://stackoverflow.com/users/5467838/nicksona"}, "edited": false, "score": 1, "creation_date": 1446118405, "post_id": 33396548, "comment_id": 54615930, "body": "I&#39;m assuming a user is supposed to type in a password and only then a key is derived for encryption/decryption. Precomputation is impossible in that case (or would require insecure setup). In that case, you can adjust the number of iterations so that the user&#39;s password is secure, but the user is not yet annoyed at how long the key generation needs. Password managers do this sort of thing where you can set a specific amount of time that you&#39;re ok with like a second and the software would calculate the possible number of iterations on your hardware. I don&#39;t know if there is built-in way in OSSL"}], "tags": [], "owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "is_accepted": true, "score": 7, "last_activity_date": 1446067793, "last_edit_date": 1446067793, "creation_date": 1446049960, "answer_id": 33396548, "question_id": 33396230, "link": "https://stackoverflow.com/questions/33396230/aes-256-from-openssl-produces-a-different-ciphertext-each-time/33396548#33396548", "title": "AES-256 from OpenSSL produces a different ciphertext each time", "body": "<p>AES supports a block size of 128 bit and key sizes of 128, 192 and 256 bit. The IV must be of the same size as the block size in many modes and especially in CBC mode. The problem is that you use only an IV of 64 bit and a key of 64 bit. You need to provide a 16 byte IV (for all AES variants) and a 32 byte key (for AES-256).</p>\n\n<p>My guess is that <code>EVP_CipherInit</code> will try to read the full IV and key and will therefore read into uninitialized memory which may have arbitrary data in it in each program execution.</p>\n\n<p>Keep in mind that an IV must be randomly generated for each encryption in order to provide semantic security. If the IV is static and you use the same key then an attack may deduce that you encrypted the same message only by observing the ciphertexts. Randomizing the ciphertexts is therefore a security property. If you want to check if the encryption worked, then you need to try to decrypt it and compare the result with the original plaintext. You can store the IV at the beginning of the ciphertext file format.</p>\n\n<p>It looks like you want to use a password as a encryption key. Don't confuse passwords with keys. Passwords have very little entropy whereas keys usually look like noise. If you want to use passwords, then you need to derive a key from a password. This is usually done with PBKDF2 (<a href=\"http://openssl.org/docs/manmaster/crypto/PKCS5_PBKDF2_HMAC.html\" rel=\"nofollow\"><code>PKCS5_PBKDF2_HMAC</code></a> with <a href=\"http://openssl.org/docs/manmaster/crypto/EVP_sha256.html\" rel=\"nofollow\"><code>EVP_sha256</code></a> if you want AES-256 keys) with a random salt and many iterations (at least 60 thousand, can be a couple million). You can store the salt at the beginning of the ciphertext file format alongside of the IV.</p>\n"}], "owner": {"reputation": 316, "user_id": 5467838, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c552127eacd3222998377eb54eb045fa?s=128&d=identicon&r=PG&f=1", "display_name": "nicksona", "link": "https://stackoverflow.com/users/5467838/nicksona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 0, "accepted_answer_id": 33396548, "answer_count": 1, "score": 3, "last_activity_date": 1446067793, "creation_date": 1446049005, "last_edit_date": 1446064907, "question_id": 33396230, "link": "https://stackoverflow.com/questions/33396230/aes-256-from-openssl-produces-a-different-ciphertext-each-time", "title": "AES-256 from OpenSSL produces a different ciphertext each time", "body": "<p>Here is the code:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;openssl/evp.h&gt;\n#include &lt;openssl/aes.h&gt;\n#include &lt;iostream&gt;\n\nvoid en_de_crypt(int should_encrypt, FILE *ifp, FILE *ofp, unsigned char *ckey, unsigned char *ivec) {\n\n    const unsigned BUFSIZE=4096;\n    unsigned char *read_buf = (unsigned char*)malloc(BUFSIZE);\n    unsigned char *cipher_buf;\n    unsigned blocksize;\n    int out_len;\n    EVP_CIPHER_CTX ctx;\n\n    for(int i=0; i&lt;8;i++)\n    {\n        printf(\"%c\\n\",ckey[i]);\n    }\n\n     printf(\"\\n\\n\");\n\n    for(int i=0; i&lt;8;i++)\n    {\n        printf(\"%c\\n\",ivec[i]);\n    }\n\n    EVP_CipherInit(&amp;ctx, EVP_aes_256_cbc(), ckey, ivec, should_encrypt);\n    blocksize = EVP_CIPHER_CTX_block_size(&amp;ctx);\n    cipher_buf = (unsigned char *)malloc(BUFSIZE + blocksize);\n\n    while (1) {\n\n        // Read in data in blocks until EOF. Update the ciphering with each read.\n\n        int numRead = fread(read_buf, sizeof(unsigned char), BUFSIZE, ifp);\n        EVP_CipherUpdate(&amp;ctx, cipher_buf, &amp;out_len, read_buf, numRead);\n        fwrite(cipher_buf, sizeof(unsigned char), out_len, ofp);\n        if (numRead &lt; BUFSIZE) { // EOF\n            break;\n        }\n    }\n\n    // Now cipher the final block and write it out.\n\n    EVP_CipherFinal(&amp;ctx, cipher_buf, &amp;out_len);\n    fwrite(cipher_buf, sizeof(unsigned char), out_len, ofp);\n\n    // Free memory\n\n    free(cipher_buf);\n    free(read_buf);\n}\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    std::string pathToFiles = \"C:/Temp/testEnc/dqdokoleda.7z\";\n    unsigned char ckey[8];\n    unsigned char ivec[8];\n\n    ckey[0] = 'p';\n    ckey[1] = 'a';\n    ckey[2] = 's';\n    ckey[3] = 's';\n    ckey[4] = 'w';\n    ckey[5] = 'o';\n    ckey[6] = 'r';\n    ckey[7] = 'd';\n\n    ivec[0] = 'a';\n    ivec[1] = 'c';\n    ivec[2] = 'g';\n    ivec[3] = 't';\n    ivec[4] = 'i';\n    ivec[5] = 'j';\n    ivec[6] = 'o';\n    ivec[7] = 'r';\n\n\n\n    FILE *fIN, *fOUT;\n\n    // First encrypt the file\n\n    fIN = fopen((pathToFiles).c_str(), \"rb\"); //File to be encrypted; plain text\n    fOUT = fopen((pathToFiles+\".enc\").c_str(), \"wb\"); //File to be written; cipher text\n\n    en_de_crypt(1, fIN, fOUT, ckey, ivec);\n\n    fclose(fIN);\n    fclose(fOUT);\n\n    //Decrypt file now\n\n    fIN = fopen((pathToFiles+\".enc\").c_str(), \"rb\"); //File to be read; cipher text\n    fOUT = fopen((pathToFiles+\".decrypted\").c_str(), \"wb\"); //File to be written; cipher text\n\n    en_de_crypt(0, fIN, fOUT, ckey, ivec);\n\n    fclose(fIN);\n    fclose(fOUT);\n\n    std::cout &lt;&lt; \"END\" &lt;&lt; std::endl;\n\n    return a.exec();\n}\n</code></pre>\n\n<p>The problem is when I comment the decrypting part, each time the .enc file have different content. Then if I try to decrypt respectively uncomment decryption and comment encryption part of the code the file is not being decrypted properly(7zip says it could not open it). If I do not comment any part of the code the encryption and decryption is done successfully. </p>\n\n<p>I am using QT5.5.1 and between encryption and decryption of the file I am cleaning, running qmake, rebuilding and running in debug mode with MSVC 12.0 compiler(this does not matter but if the program works properly for you - try cleaning and building between encryption and decryption of one file to see it does not work like it should).</p>\n"}, {"tags": ["c++", "email", "smtp", "qt5.5"], "comments": [{"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446051838, "post_id": 33396086, "comment_id": 54585720, "body": "I see that by default auth method of  <code>SmtpClient</code> is rejected by the server. You will have to set <code>smtp.setAuthMethod(SmtpClient::AuthLogin);</code>. However, you have a problem that socket is unconnected. You can just put <code>qDebug() &lt;&lt; text</code> print into <code>SmtpClient::sendMessage</code>. So, you will see on which step the socket is unconnected."}, {"owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "reply_to_user": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446052509, "post_id": 33396086, "comment_id": 54586144, "body": "Thanks for the idea. I just edited my code and my post. But I&#39;m not really comfortable with SMTP since it&#39;s the first time I have to use it by my own."}, {"owner": {"reputation": 1540, "user_id": 3427419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de87c9d24eea8e8baa4458e4c2ece6c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3427419", "link": "https://stackoverflow.com/users/3427419/user3427419"}, "edited": false, "score": 0, "creation_date": 1446052604, "post_id": 33396086, "comment_id": 54586229, "body": "It&#39;s pretty obvious? The socket is NOT connected. You should check for errors, which you do not anywhere."}, {"owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "edited": false, "score": 0, "creation_date": 1446052891, "post_id": 33396086, "comment_id": 54586417, "body": "Well, I just changed a little bit my code and now, of course, I don&#39;t reach any error since I checked before if the connection is established to the server. The problem is so, why am I not able to connect to the server?"}, {"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446054315, "post_id": 33396086, "comment_id": 54587438, "body": "It might be related to proxy. You can also put some debug prints into <code>SmtpClient::connectToHost</code> to see which step failed. Make sure that SSL works for you. At first print in your app <code>QSslSocket::supportsSsl()</code>. It should be <code>true</code> to use encryption. You are working on Windows. There is no OpenSSL library by default in Windows and it is not shipped with Qt."}, {"owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "edited": false, "score": 0, "creation_date": 1446054892, "post_id": 33396086, "comment_id": 54587817, "body": "So SSL is supported. Yes I&#39;m working on Windows, sorry to not mentionned it earlier. So from what I understood is that I have to build the library. Please correct me if I am wrong?"}, {"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446055158, "post_id": 33396086, "comment_id": 54587980, "body": "The function <code>QSslSocket::supportsSsl()</code> returns <code>true</code> or <code>false</code>? If it is <code>true</code> then there is somewhere is your system <code>PATH</code> some OpenSSL  dll. It does not mean that it supports required <code>TLS</code> version. If <code>false</code> it means that there is no OpenSSL. I see some installers <a href=\"http://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow noreferrer\">slproweb.com/products/Win32OpenSSL.html</a>, but it also can be compiled from source."}, {"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446055586, "post_id": 33396086, "comment_id": 54588248, "body": "It is hard to guess. It is also possible to print error code and string from socket when it fails: <code>smtp.getSocket()-&gt;error();</code> and <code>smtp.getSocket()-&gt;errorString();</code>"}, {"owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "edited": false, "score": 0, "creation_date": 1446056103, "post_id": 33396086, "comment_id": 54588568, "body": "I received a &quot;Error communicating with HTTP Proxy&quot;."}, {"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "edited": false, "score": 0, "creation_date": 1446060545, "post_id": 33396086, "comment_id": 54591269, "body": "Qt is able to communicated with <code>smtp.office365.com</code> through HTTP proxy using <code>SmtpClient</code> and TLS connection. But in your case the proxy does not accept such connection. You established TCP connection with the proxy, however it replied something wrong. Such error means that the response code from the proxy is not one from the list 200, 407, 403, 404, 405, 503, for example &quot;400 Bad Request&quot;. Wireshark can be used to log real traffic. You can try your setup with some mail client."}, {"owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "edited": false, "score": 0, "creation_date": 1446124994, "post_id": 33396086, "comment_id": 54620448, "body": "Well, I tried to add some code to show the response code of the proxy but it seems not even to answer. I also tried to ping it, I can resolve its hostname to the IP address but I&#39;m not able to ping. I think I&#39;ll just change the way I send the emails, It will take less time. Btw, I already use Outlook with this email account for my own, and it works perfectly..."}], "owner": {"reputation": 13, "user_id": 5450992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a80851961bb404d86e8197a547f191?s=128&d=identicon&r=PG&f=1", "display_name": "Tuvia", "link": "https://stackoverflow.com/users/5450992/tuvia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1054, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1446057104, "creation_date": 1446048562, "last_edit_date": 1446057104, "question_id": 33396086, "link": "https://stackoverflow.com/questions/33396086/send-mail-from-qt-application-via-smtp-through-proxy", "title": "Send mail from Qt application via SMTP through proxy", "body": "<p>I try to send automatic emails from a Qt application if a user creates a new incident. Obviously, the purpose is to warn other people about this incident.</p>\n\n<p>My problem is actually to send the email. I found this <a href=\"https://github.com/bluetiger9/SmtpClient-for-Qt\" rel=\"nofollow\">library</a> of BlueTiger9. It's an email sender which seems to work but unfortunately not for me, and I'm currently facing to an issue that I cannot explain.</p>\n\n<p>I put the following parts of my code that I assume will help to define what's going wrong. If anything more is needed, just let me know.</p>\n\n<p>In my .pro file:</p>\n\n<pre><code>    LIBS += -L$$PWD/ -lSMTPEmail\n</code></pre>\n\n<p>I included a file that includes all the other headers and I added all the headers of the library in my project too.</p>\n\n<pre><code>    #ifndef SMTPMIME_H\n    #define SMTPMIME_H\n\n    #include \"smtpclient.h\"\n    #include \"mimepart.h\"\n    #include \"mimehtml.h\"\n    #include \"mimeattachment.h\"\n    #include \"mimemessage.h\"\n    #include \"mimetext.h\"\n    #include \"mimeinlinefile.h\"\n    #include \"mimefile.h\"\n\n    #endif // SMTPMIME_H\n</code></pre>\n\n<p>In each header included, there is another inclusion of the following code:</p>\n\n<pre><code>    #ifndef SMTPEXPORTS_H\n    #define SMTPEXPORTS_H\n\n    #ifdef SMTP_BUILD\n    #define SMTP_EXPORT Q_DECL_EXPORT\n    #else\n    #define SMTP_EXPORT Q_DECL_IMPORT\n    #endif\n\n    #endif // SMTPEXPORTS_H\n</code></pre>\n\n<p>Then I just tried to use the example of sending a simple email (I just added the proxy settings):</p>\n\n<pre><code>    SmtpClient smtp(\"smtp.office365.com\", 587, SmtpClient::TlsConnection);\n    smtp.setUser(\"USER_Off365\");\n    smtp.setPassword(\"PASSWORD_Off365\");\n    smtp.setAuthMethod(SmtpClient::AuthLogin);\n    QNetworkProxy proxy(QNetworkProxy::HttpProxy, \"PROXY_ADD\", PROXY_PORT, \"PROXY_USER\", \"PROXY_PW\");\n    smtp.getSocket()-&gt;setProxy(proxy);\n    MimeMessage message;\n    message.setSender(new EmailAddress(\"MY_ADDRESS\", \"MY_NAME\"));\n    message.addRecipient(new EmailAddress(\"ADDRESS_TO\", \"A_NAME\"));\n    message.setSubject(\"Subject\");\n\n    MimeText text;\n    text.setText(\"Test\");\n\n    message.addPart(&amp;text);\n\n    if(smtp.connectToHost()){\n        if(smtp.login()){\n            if(smtp.sendMail(message)){\n                smtp.quit();\n            }\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>But I am not able to connect to the SMTP server. The error that I received from the socket is \"Error communicating with HTTP Proxy\"</p>\n</blockquote>\n\n<p>Trying with an Internet connection from my phone, I am able to go to the next step but I still have a problem of authentication. </p>\n\n<p>Just in case, I need to use Office365 SMTP server and the settings to connect to it are available on this <a href=\"https://support.office.com/en-us/article/Outlook-settings-for-POP-and-IMAP-access-for-Office-365-for-business-or-Microsoft-Exchange-accounts-7fc677eb-2491-4cbc-8153-8e7113525f6c\" rel=\"nofollow\">page</a>. (smtp.office365.com / 587 explicit / TLS v1-1.2)</p>\n\n<p>If anyone has any idea which could help, it would be really appreciated!</p>\n"}, {"tags": ["c++", "image", "image-processing"], "comments": [{"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1446050510, "post_id": 33396083, "comment_id": 54584845, "body": "what is the output without step1?"}], "answers": [{"tags": [], "owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "is_accepted": false, "score": 1, "last_activity_date": 1446048958, "creation_date": 1446048958, "answer_id": 33396211, "question_id": 33396083, "link": "https://stackoverflow.com/questions/33396083/canny-edge-detector/33396211#33396211", "title": "Canny edge detector", "body": "<p>OpenCV canny does not do any Gaussian filtering. Try not to filter it then compare the results.</p>\n\n<p>P.S. I did not review all your steps. They may have another error/s</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 1932524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f8caf26a6191aafbdfa3ed4eb39fb93?s=128&d=identicon&r=PG", "display_name": "Pedro In&#225;cio", "link": "https://stackoverflow.com/users/1932524/pedro-in%c3%a1cio"}, "is_accepted": false, "score": 0, "last_activity_date": 1446067170, "creation_date": 1446067170, "answer_id": 33401772, "question_id": 33396083, "link": "https://stackoverflow.com/questions/33396083/canny-edge-detector/33401772#33401772", "title": "Canny edge detector", "body": "<p>Bloody hell! There was an error rounding the orientations to the possible four cases. I forgot to put the equal sign in some cases. Now it's all fixed.</p>\n\n<p>Now i'm happy with the result :)</p>\n\n<p>Thank you all!</p>\n\n<p>Best regards</p>\n"}], "owner": {"reputation": 11, "user_id": 1932524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f8caf26a6191aafbdfa3ed4eb39fb93?s=128&d=identicon&r=PG", "display_name": "Pedro In&#225;cio", "link": "https://stackoverflow.com/users/1932524/pedro-in%c3%a1cio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1446067170, "creation_date": 1446048560, "last_edit_date": 1446050033, "question_id": 33396083, "link": "https://stackoverflow.com/questions/33396083/canny-edge-detector", "title": "Canny edge detector", "body": "<p>I am coding my own version of Canny. So, from the literature we have to:</p>\n\n<ol>\n<li>Smooth with gaussian \n\n<ul>\n<li>Here, i'm using a 5x5 mask</li>\n</ul></li>\n<li><p>Compute gradient magnitude and orientation</p>\n\n<ul>\n<li><p>Here, i'm using Sobel and then</p>\n\n<pre><code>Grad = abs(Gx)+ abs(Gy)\nOrient = ( atan2(Gy/Gx) * 180/3.14159265 ) + 180\n</code></pre></li>\n</ul></li>\n<li>Non maximum suppression\n\n<ul>\n<li>For ex, if Orient = 0\u00ba => if G(i;j) > G(i;j-1) &amp;&amp; G(i;j) > G(i;j+1) => MAX here, otherwise = 0</li>\n</ul></li>\n<li>Double threshold\n\n<ul>\n<li>In this step, we get NL and NH</li>\n<li>At this point, it is clear that NL contains NH, so NL = NL - NH</li>\n<li>Now, for each non zero pixel p in NH(x,y) i have to mark as valid pixels all the weak pixels in NL(x,y) that are connected to p</li>\n</ul></li>\n<li>Final image\n\n<ul>\n<li>It will be NL + NH</li>\n</ul></li>\n</ol>\n\n<p>At the end I get the output from openCV Canny to compare. </p>\n\n<p>What am i doing wrong ?</p>\n\n<ul>\n<li><a href=\"http://i.stack.imgur.com/61jFP.jpg\" rel=\"nofollow\">myCanny</a></li>\n<li><a href=\"http://i.stack.imgur.com/h9RLP.jpg\" rel=\"nofollow\">openCVCanny</a></li>\n</ul>\n"}, {"tags": ["c++", "getter-setter"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1446048687, "post_id": 33396066, "comment_id": 54583485, "body": "Its less typing.  You don&#39;t have to use <code>this</code> in c++ but there is nothing stopping you from using it."}, {"owner": {"reputation": 830, "user_id": 2166592, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93af457c15c2f90beece7ad86c64217f?s=128&d=identicon&r=PG", "display_name": "3kings", "link": "https://stackoverflow.com/users/2166592/3kings"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1446048731, "post_id": 33396066, "comment_id": 54583516, "body": "@NathanOliver what he said. But also you don&#39;t need to use <code>this</code> if they aren&#39;t the same name."}, {"owner": {"reputation": 3146, "user_id": 1529412, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33bb2f592b9463b9107167f8f1a292a3?s=128&d=identicon&r=PG", "display_name": "user1529412", "link": "https://stackoverflow.com/users/1529412/user1529412"}, "edited": false, "score": 2, "creation_date": 1446048819, "post_id": 33396066, "comment_id": 54583567, "body": "I see, I do like to use this for clarity reasons obviously. As long there is no penalty for this."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 1, "creation_date": 1446048918, "post_id": 33396066, "comment_id": 54583657, "body": "There&#39;s no <code>penalty</code> per se, but it&#39;s not the usual coding style C++ programmers use. Typically parameter names are usually made to be different in C++ from member names and local variables."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 2, "creation_date": 1446049040, "post_id": 33396066, "comment_id": 54583735, "body": "@user1529412: There is a massive penalty in readability, and your coworkers keying your car for making such a mess of their code base. In general, asking about the &quot;correct&quot; syntax for writing getters/setters is a bit like asking whether it&#39;s better to cut off your leg with a chainsaw or an ax. Better to not cut off your leg (or write a getter/setter) at all."}, {"owner": {"reputation": 3146, "user_id": 1529412, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33bb2f592b9463b9107167f8f1a292a3?s=128&d=identicon&r=PG", "display_name": "user1529412", "link": "https://stackoverflow.com/users/1529412/user1529412"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1446049234, "post_id": 33396066, "comment_id": 54583883, "body": "@Jerry, passing &quot;String c&quot; isn&#39;t very telling to me."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1446049299, "post_id": 33396066, "comment_id": 54583928, "body": "If your class has a member called <code>color</code> then just make the function take <code>color_</code> or switch it around and make the member variable end with a <code>_</code>."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1446049348, "post_id": 33396066, "comment_id": 54583971, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2337540/when-should-you-use-the-this-keyword-in-c\">When should you use the &quot;this&quot; keyword in C++?</a>"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1446049545, "post_id": 33396066, "comment_id": 54584126, "body": "Good point. It should obviously be <code>Color c</code>. C++ should be written strongly typed, not stringly typed (Java probably should too, but I don&#39;t figure there&#39;s any real hope for Java being written well, so I&#39;ll ignore it there)."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1446050136, "post_id": 33396066, "comment_id": 54584577, "body": "@JerryCoffin: There is an entire chapter in Effective Java about preferring strong types over strings (Item 50: &quot;Avoid strings where other types are more appropriate&quot;). Something like <code>String color</code> is <b>not</b> good Java as much as <code>std::string color</code> would not be good C++."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1446050369, "post_id": 33396066, "comment_id": 54584741, "body": "@ChristianHackl: The fact that a book would bother mentioning something so obvious shows the degree to which Java is hopeless in the regard. IOW, of course it&#39;s a bad idea--but the fact that they have to advise against it indicates that it&#39;s common/widespread."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1446050480, "post_id": 33396066, "comment_id": 54584831, "body": "@JerryCoffin: Many Java programmers are hopeless in this regard. Then again, many &quot;C++ programmers&quot; are hopeless as well when they still use <code>char*</code> and friends for strings in high-level code. That does not mean that a book should not mention the obvious :)"}, {"owner": {"reputation": 3146, "user_id": 1529412, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33bb2f592b9463b9107167f8f1a292a3?s=128&d=identicon&r=PG", "display_name": "user1529412", "link": "https://stackoverflow.com/users/1529412/user1529412"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1446058650, "post_id": 33396066, "comment_id": 54590155, "body": "@Christian, I am java certified and used it for a long time, I totally agree with what you said, but there are things that are better in C++, for instance I find often that I have to use operator overloading and templates which are one of the examples that C++ is more suitable than Java."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1446059153, "post_id": 33396066, "comment_id": 54590450, "body": "@user1529412: As far as I am concerned, references and destructors are the killer features of C++."}], "answers": [{"tags": [], "owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "is_accepted": true, "score": 13, "last_activity_date": 1446048794, "last_edit_date": 1446048794, "creation_date": 1446048761, "answer_id": 33396152, "question_id": 33396066, "link": "https://stackoverflow.com/questions/33396066/setters-and-getters-in-c/33396152#33396152", "title": "Setters and getters in C++", "body": "<p>It's the exact same thing. In Java if you had named your parameter <code>c</code> instead of <code>color</code>, you would not have any shadowing and you could easily write</p>\n\n<pre><code>void setColor(String c) {\n    color = c;\n}\n</code></pre>\n\n<p>The <code>this</code> in Java (or C++ for that matter) is only needed to specify exactly which <code>color</code> you are referring to: the member variable or the local variable.</p>\n"}, {"tags": [], "owner": {"reputation": 385, "user_id": 5095124, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5b02852c4583b2524d667931ffb07322?s=128&d=identicon&r=PG&f=1", "display_name": "The Law", "link": "https://stackoverflow.com/users/5095124/the-law"}, "is_accepted": false, "score": 1, "last_activity_date": 1446049378, "creation_date": 1446049378, "answer_id": 33396340, "question_id": 33396066, "link": "https://stackoverflow.com/questions/33396066/setters-and-getters-in-c/33396340#33396340", "title": "Setters and getters in C++", "body": "<p>There is no need to use <code>this</code>, because there is no conflict between local and member variable and no fields are hidden. Generally you don't want this conflict to happen at all by not having same variable as an constructor parameter and also as local variable (despite so many books teach you exactly this). \nI find this is much more smooth(and also more readable even if you don't have background from particular language):</p>\n\n<pre><code>private String localColor;\nvoid setColor(String color) {\nlocalColor = color;\n}\n</code></pre>\n"}], "owner": {"reputation": 3146, "user_id": 1529412, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33bb2f592b9463b9107167f8f1a292a3?s=128&d=identicon&r=PG", "display_name": "user1529412", "link": "https://stackoverflow.com/users/1529412/user1529412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 33396152, "answer_count": 2, "score": 7, "last_activity_date": 1446049378, "creation_date": 1446048526, "last_edit_date": 1446048886, "question_id": 33396066, "link": "https://stackoverflow.com/questions/33396066/setters-and-getters-in-c", "title": "Setters and getters in C++", "body": "<p>Coming from <code>Java</code>, I am used to doing this:</p>\n\n<pre><code>void setColor(String color) {\n    this.color = color;\n}\n</code></pre>\n\n<p>However, I recently switched to <code>C++</code>, and I see a lot of this instead:</p>\n\n<pre><code>void setColor(string c) {\n    color = c;\n}\n</code></pre>\n\n<p>Why not this? Is this not recommended?</p>\n\n<pre><code>void setColor(string color) {\n    this-&gt;color = color;\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "assembly", "mips32"], "comments": [{"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1446048912, "post_id": 33396039, "comment_id": 54583650, "body": "Since you load <code>$t4</code> and <code>$t5</code>, you should use those in the <code>bne</code> obviously."}, {"owner": {"reputation": 2240, "user_id": 3499640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff85dddff0538584dfeb0dfc0946a341?s=128&d=identicon&r=PG&f=1", "display_name": "srdjan.veljkovic", "link": "https://stackoverflow.com/users/3499640/srdjan-veljkovic"}, "edited": false, "score": 0, "creation_date": 1446048984, "post_id": 33396039, "comment_id": 54583700, "body": "I&#39;d generate the assembly listing (with as much debug/code generation info as your compiler provides) and then try to figure out what may be the problem."}, {"owner": {"reputation": 21, "user_id": 5461362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30297c0174a58ef2fd5053434b64e838?s=128&d=identicon&r=PG&f=1", "display_name": "megankfairy", "link": "https://stackoverflow.com/users/5461362/megankfairy"}, "edited": false, "score": 0, "creation_date": 1446049185, "post_id": 33396039, "comment_id": 54583854, "body": "It gives me the error at the first line. the lw $t5 line, which is the most confusing to me."}, {"owner": {"reputation": 650, "user_id": 3013509, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1357aaaa29ccd0e1a9f4dcdae0b0795f?s=128&d=identicon&r=PG&f=1", "display_name": "turboscrew", "link": "https://stackoverflow.com/users/3013509/turboscrew"}, "edited": false, "score": 0, "creation_date": 1446070088, "post_id": 33396039, "comment_id": 54596303, "body": "Which error? The comment gives the impression that the pointers are already in t4 and t5. What&#39;s in v1 and v0? Addresses of variables hopPtr1 and hopPtr2? It looks as if you were trying to &#39;load&#39; t5 into v1 by &quot;lw $t5, 0($v1)&quot;."}], "owner": {"reputation": 21, "user_id": 5461362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30297c0174a58ef2fd5053434b64e838?s=128&d=identicon&r=PG&f=1", "display_name": "megankfairy", "link": "https://stackoverflow.com/users/5461362/megankfairy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446611306, "creation_date": 1446048463, "last_edit_date": 1446611306, "question_id": 33396039, "link": "https://stackoverflow.com/questions/33396039/convert-c-pointer-arithmatic-to-assembly-mips-32", "title": "Convert c++ pointer arithmatic to assembly (MIPS 32)", "body": "<p>I am trying to convert this c++ statement with pointers into an assembly statement. </p>\n\n<pre><code>if (*hopPtr2 != *hopPtr1) \n    goto endI4;\n</code></pre>\n\n<p>I am having difficulty because I cannot think of another way to do this. I get an error at these lines when I run the program, but it compiles successfully. </p>\n\n<p>Any and all help would be much appreciated!!</p>\n\n<pre><code># $t5 is register used for *hopPtr2\n# $t4 is register used for *hopPtr1\nlw $t5, 0($v1)\nlw $t4, 0($v0)\nbne $v1, $v0, endI4\n</code></pre>\n"}, {"tags": ["c++", "templates", "inheritance", "specialization"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446049050, "post_id": 33395974, "comment_id": 54583749, "body": "What isn&#39;t working with your current approach?"}, {"owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446049109, "post_id": 33395974, "comment_id": 54583789, "body": "well i cant compile that, but i want to specialize the class for long long so the constructor set the m_type to value INT. (Its a simple enum)"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1446049247, "post_id": 33395974, "comment_id": 54583890, "body": "What&#39;s the specific compile error?"}, {"owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446049502, "post_id": 33395974, "comment_id": 54584093, "body": "<code>ArrayItem is not a template</code>at the line of the declaration: <code>ArrayItem&lt;long long&gt;:: ... </code>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446049565, "post_id": 33395974, "comment_id": 54584145, "body": "Can you just provide a <a href=\"http://www.stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>?"}, {"owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446049594, "post_id": 33395974, "comment_id": 54584165, "body": "Ill try it, give me second."}, {"owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446050239, "post_id": 33395974, "comment_id": 54584659, "body": "added the example. But it doenst compile like this..."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446050512, "post_id": 33395974, "comment_id": 54584847, "body": "Well, <code>ArrayItem</code> isn&#39;t default constructible. Please provide a real example."}, {"owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1446050996, "post_id": 33395974, "comment_id": 54585171, "body": "Sorry for wasting time. It just compiles. I had some typos and VS didn&#39;t showed that. But your answer to this is quit right. i can do it as you showed."}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1446049232, "creation_date": 1446049232, "answer_id": 33396281, "question_id": 33395974, "link": "https://stackoverflow.com/questions/33395974/template-specialization-for-constructor-of-a-parent-class/33396281#33396281", "title": "template specialization for constructor of a parent class", "body": "<p>What you have looks right to me, outside of not providing the template arguments to <code>BaseType</code> for the typical case. </p>\n\n<p>Here's a simple demo:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename T&gt;\nstruct B { };\n\ntemplate &lt;typename T&gt;\nstruct D : B&lt;T&gt; {\n    D(T );\n};\n\ntemplate &lt;typename T&gt;\nD&lt;T&gt;::D(T )\n    : B&lt;T&gt;()\n{\n    std::cout &lt;&lt; \"def\\n\";\n}\n\ntemplate &lt;&gt;\nD&lt;long&gt;::D(long ) \n    : B&lt;long&gt;()\n{\n    std::cout &lt;&lt; \"hi\\n\";\n}\n\nint main()\n{\n    D&lt;int&gt; i(4);  // prints def\n    D&lt;long&gt; l(5); // prints hi\n}\n</code></pre>\n"}], "owner": {"reputation": 6096, "user_id": 1804251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XVhq3.jpg?s=128&g=1", "display_name": "BennX", "link": "https://stackoverflow.com/users/1804251/bennx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 33396281, "answer_count": 1, "score": -1, "last_activity_date": 1446050590, "creation_date": 1446048281, "last_edit_date": 1446050590, "question_id": 33395974, "link": "https://stackoverflow.com/questions/33395974/template-specialization-for-constructor-of-a-parent-class", "title": "template specialization for constructor of a parent class", "body": "<p>I got a <code>BaseType</code> which is templated and want to inheritance it with an ArrayItem class. Since i want to use them as stencil for memory i want the ArrayItem class to know which type we have. So i'd like to specialize the constructor for some of the Template values for example long long.</p>\n\n<pre><code>    template&lt;typename T&gt;\n    class ArrayItem : public BaseType&lt;T&gt;\n    {\n    public:\n        inline ArrayItem(T&amp; t);\n        inline ETypes getType();\n    private:\n        ETypes m_type;\n    };\n</code></pre>\n\n<p>And the hpp should look like this:</p>\n\n<pre><code>template &lt;typename T&gt;\nArrayItem&lt;T&gt;::ArrayItem (T&amp; t): BaseType(t)\n{\n}\n\ntemplate &lt;&gt;\nArrayItem&lt;long long&gt;::ArrayItem(long long&amp; t) : BaseType&lt;long long&gt;(t) // this\n{\n    m_type = INT;\n}\n\n\ntemplate&lt;typename T&gt;\ninline ETypes ArrayItem&lt;T&gt;::getType()\n{\n    return m_type;\n}\n</code></pre>\n\n<p>But the how do i do this specialization here?</p>\n\n<hr>\n\n<pre><code>enum ETypes\n{\n    INT,\n    BOOL,\n    OBJECT,\n    ARRAY,\n    DOUBLE,\n    STRING\n};\n\ntemplate &lt;typename T&gt;\nclass BaseType\n{\npublic:\n    BaseType();\n    explicit BaseType(T&amp; t);\n\nprotected:\n        union DataUnion\n        {\n            T data;\n            size_t size; //to make it at least 64bit\n        explicit DataUnion(T&amp; t);\n        } m_data;\n};\n\ntemplate &lt;typename T&gt;\nBaseType&lt;T&gt;::DataUnion::DataUnion(T&amp; t)\n{\n    this-&gt;data = t;\n}\n\ntemplate &lt;typename T&gt;\nBaseType&lt;T&gt;::BaseType(T&amp; t) : m_data(t) {}\n\ntemplate&lt;typename T&gt;\nclass ArrayItem : public BaseType&lt;T&gt;\n{\npublic:\n    explicit inline ArrayItem(T&amp; t);\n    inline ETypes getType();\nprivate:\n    ETypes m_type;\n};\n\ntemplate &lt;typename T&gt;\nArrayItem&lt;T&gt;::ArrayItem (T&amp; t): BaseType&lt;T&gt;(t)\n{\n}\n\ntemplate &lt;&gt;\nArrayItem&lt;long long&gt;::ArrayItem(long long&amp; t) : BaseType&lt;long long&gt;(t) // this\n{\n    m_type = INT;\n}\n\ntemplate&lt;typename T&gt;\ninline ETypes ArrayItem&lt;T&gt;::getType()\n{\n    return m_type;\n}\n\nint main()\n{\nlong long somenumber = 1234;\n  ArrayItem&lt;long long&gt; item(somenumber);\n  if(item.getType() == INT)\n    std::cout&lt;&lt; \"inttype\";\n//after this we can stancil the ptr to a\n//BaseType&lt;long long&gt; since we know it's a long here\n}\n</code></pre>\n"}, {"tags": ["c++", "class", "linked-list", "c++14", "alternating"], "comments": [{"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446048251, "post_id": 33395811, "comment_id": 54583150, "body": "you would simply add a method to <code>LinkedList</code> that takes a <code>LinkedList</code> and iterates over the passed-in parameter and calls <code>appendNode</code> for each node in the passed-in <code>LinkedList</code>"}, {"owner": {"reputation": 167, "user_id": 5321460, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/289636e9ac01ed46fe3d7aef52eaf34e?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/5321460/cameron"}, "reply_to_user": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 2, "creation_date": 1446048488, "post_id": 33395811, "comment_id": 54583326, "body": "@Gread.And.Powerful.Oz ohh I see what you are saying. I will give that a try"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446050440, "post_id": 33395811, "comment_id": 54584795, "body": "Please edit your post with the code in question so I can more succinctly and correctly answer your query."}, {"owner": {"reputation": 167, "user_id": 5321460, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/289636e9ac01ed46fe3d7aef52eaf34e?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/5321460/cameron"}, "reply_to_user": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446050546, "post_id": 33395811, "comment_id": 54584871, "body": "@Gread.And.Powerful.Oz do you think you could maybe right some pseudo code for that method because I am drawing a couple of blanks"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446050846, "post_id": 33395811, "comment_id": 54585065, "body": "look at your <code>while</code> loop in your <code>appendNode</code> method above. First, the method signature: <code>merge(LinkedList &amp;b)</code> then <code>ListNode* node = b.head; while (node) { appendNode(node); node = node-&gt;next; }</code> --- Be careful that you make a copy of the <code>node</code> otherwise you&#39;ll inter-link the two lists."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5499172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q4IaK.jpg?s=128&g=1", "display_name": "Xavier", "link": "https://stackoverflow.com/users/5499172/xavier"}, "is_accepted": false, "score": 0, "last_activity_date": 1446052283, "creation_date": 1446052283, "answer_id": 33397348, "question_id": 33395811, "link": "https://stackoverflow.com/questions/33395811/merge-two-linkedlist-without-creating-a-new-linkedlist/33397348#33397348", "title": "Merge two LinkedList without creating a new LinkedList", "body": "<p>Making a merge function is not difficult. You can just use a new head to record the new list, then traverse these two lists and move the node from these two lists to new list in turn, like the following.</p>\n\n<pre><code> LinkedList LinkedList::merge(LinkedList b)\n{\n    // if one list is null, return the other\n    if (this-&gt;head == nullptr)\n        return b;\n    if (b.head == nullptr)\n        return *this;\n\n    LinkedList newlist;\n    ListNode *ap = this-&gt;head, *bp = b.head, *p = nullptr;\n    // if two pointer is all not null, move node from these to new list in turn\n    while (ap != nullptr &amp;&amp; bp != nullptr)\n    {\n        if (newlist.head == nullptr)\n        {\n            p = newlist.head = ap;\n            ap = ap-&gt;next;\n            p = p-&gt;next = bp;\n            bp = bp-&gt;next;\n        }\n        else\n        {\n            p = p-&gt;next = ap;\n            ap = ap-&gt;next;\n            p = p-&gt;next = bp;\n            bp = bp-&gt;next;\n        }\n    }\n    // maybe one list is longer, and there is some node left.\n    if (ap != nullptr)\n        p-&gt;next = ap;\n    if (bp != nullptr)\n        p-&gt;next = bp;\n    //clear original list\n    this-&gt;head = b.head = nullptr;\n    //if you want to merge list b to the caller list, you can change to\n    //this-&gt;head = newlist-&gt;head and beginning part also need some modification.\n    return newlist;\n}\n</code></pre>\n\n<p>Maybe you don't want to change the original list, then you can just copy the value and create new node for the new list.</p>\n"}, {"tags": [], "owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "is_accepted": false, "score": 0, "last_activity_date": 1446220212, "last_edit_date": 1446220212, "creation_date": 1446214578, "answer_id": 33438107, "question_id": 33395811, "link": "https://stackoverflow.com/questions/33395811/merge-two-linkedlist-without-creating-a-new-linkedlist/33438107#33438107", "title": "Merge two LinkedList without creating a new LinkedList", "body": "<p>That merging is inserting nodes, which have been copied from or will be stolen from the source list, into the target list at certain positions.</p>\n\n<p>I assume you want to treat the source list as immutable on that op, so the source nodes will be copied. </p>\n\n<p>What is useful for both the copy and insert operation is an <a href=\"http://en.cppreference.com/w/cpp/concept/Iterator\" rel=\"nofollow\">iterator</a> - something that points to a node and, after a <code>++</code>-op points to the next node in the list or behind the list end (to the equivalent of a <code>nullptr</code>):</p>\n\n<p>(<em>I write such snippets in a single source file; move the implementations to the .cpp files or inline them</em>)</p>\n\n<pre><code>//\n#include &lt;type_traits&gt;\nusing std::conditional;\n#include &lt;stdexcept&gt;\nusing std::runtime_error;\n\nclass LinkedList\n{\n\n\nprivate:\n    // [...]\n\n    template &lt;bool const_tag&gt;\n    struct NodeIterator {\n        using element_type = typename conditional&lt;\n            const_tag,\n            const ListNode,\n            ListNode\n        &gt;::type;\n        using pointer_type = element_type*;\n        using reference_type = element_type&amp;;\n\n        static const NodeIterator end;\n\n        NodeIterator(pointer_type p_in = nullptr) : p(p_in) {}\n\n        NodeIterator&amp; operator++ () {\n            if (nullptr == p)\n                throw runtime_error(\"Attempt to dereference nullptr\");\n            this-&gt;p = p-&gt;next;\n            return *this;\n        }\n\n        bool operator== (const NodeIterator&amp; rhs) const {\n            return this-&gt;p != rhs.p;\n        }\n\n        bool operator!= (const NodeIterator&amp; rhs) const {\n            return !(*this == rhs);\n        }\n\n        pointer_type operator-&gt;() const {\n            return p;\n        }\n\n        reference_type operator*() const {\n            if (nullptr == p)\n                throw runtime_error(\"Attempt to dereference nullptr\");\n            return *p;\n        }\n\n    private:\n        pointer_type p;    \n    }; // template &lt;bool const_tag&gt; struct NodeIterator\n\n    static constexpr bool mutable_tag = false; \n    static constexpr bool const_tag = true; \n\n    using iterator_type = NodeIterator&lt;mutable_tag&gt;;\n    using const_iterator_type = NodeIterator&lt;const_tag&gt;;\n\n\npublic:     \n    LinkedList() :  head(nullptr) {}\n\n    iterator_type begin() const { return iterator_type(head); }\n    const iterator_type&amp; end() const { return iterator_type::end; }\n\n    const_iterator_type cbegin() const { return const_iterator_type(head); }\n    const const_iterator_type&amp; cend() const { return const_iterator_type::end; }\n    // [...]    \n\n\n}; // class LinkedList\n\n\n// [...]    \ntemplate&lt;bool is_const&gt;\nconst LinkedList::NodeIterator&lt;is_const&gt;\nLinkedList::NodeIterator&lt;is_const&gt;::end(nullptr);\n\n// [...]\n</code></pre>\n\n<p>Now in the merge function code you position your iterators at the head of the respective lists </p>\n\n<pre><code>auto it_one = listOne.begin();\nauto it_two = listTwo.cbegin();\n</code></pre>\n\n<p>and incremement <code>it_one</code> until it points to the element of the target list after which the copy is to be inserted, and incremement <code>it_two</code> until it points to the node of the source list to be copied, then</p>\n\n<pre><code>ListNode&amp; one = *it_one;\nListNode* ptwo = new ListNode(*it_two); // copies\n\nptwo-&gt;next = one.next;\none.next = ptwo;\n</code></pre>\n\n<p>And that's it essentially.</p>\n\n<p>Thus, the real issue here is not the how-to merge technically, but the complexity of the operations. </p>\n\n<p>As long as both list are sorted in the intended order of the result list to be created, you can re-use the iterators, and thus plainly traverse both lists and it's <code>O(N)</code> with <code>N = max(size(listOne), size(listTwo))</code>. </p>\n\n<p>If you have to sort them preliminarily to keep the merge itself cheap, that sorting causes <code>O(N log N)</code> complexity.</p>\n\n<hr>\n\n<p>As a side note, having that iterators in store also simplifies implementing the other ops; e.g. displaying them is just</p>\n\n<pre><code>for (const auto&amp; node : ListOne) {\n    std::cout &lt;&lt; node.firstName &lt;&lt; std::endl;\n    std::cout &lt;&lt; node.lastName &lt;&lt; std::endl;\n    std::cout &lt;&lt; node.phoneNumber &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 5321460, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/289636e9ac01ed46fe3d7aef52eaf34e?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/5321460/cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1016, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1446220212, "creation_date": 1446047860, "question_id": 33395811, "link": "https://stackoverflow.com/questions/33395811/merge-two-linkedlist-without-creating-a-new-linkedlist", "title": "Merge two LinkedList without creating a new LinkedList", "body": "<p>I am trying to take the two linkedlist that I have in my executable file and merge them into each other in alternating positions. Ex. ListOne 1,2,3 and ListTwo 4,5 the new ListOne should be 1,4,2,5,3. </p>\n\n<p>LinkedList .h file:</p>\n\n<pre><code>class LinkedList\n{\nprivate:\nstruct ListNode\n{\n    string firstName;\n    string lastName;\n    long int phoneNumber;\n    struct ListNode *next;\n};\nListNode *head;\n\npublic:\nLinkedList()\n{\n    head = nullptr;\n}\n~LinkedList();\nvoid appendNode(string f, string l, long int p);\nvoid displayList();\n};\n</code></pre>\n\n<p>LinkedList .cpp file:</p>\n\n<pre><code>LinkedList::~LinkedList()\n{\ncout &lt;&lt; \"LinkList destructor\" &lt;&lt; endl;\n}\n\nvoid LinkedList::appendNode(string f, string l, long int p)\n{\n    ListNode *newNode;\n    ListNode *nodePtr;\n    newNode = new ListNode;\n\n    newNode -&gt; firstName = f;\n    newNode -&gt; lastName = l;\n    newNode -&gt; phoneNumber = p;\n    newNode -&gt; next = nullptr;\n\n    if (!head)\n        head = newNode;\n\n    else\n    {\n        nodePtr = head;\n\n        while (nodePtr -&gt; next)\n            //while nodePtr is pointing to another node\n            nodePtr = nodePtr -&gt; next;\n            //move to that node\n\n        nodePtr -&gt; next = newNode;\n        //inset the newNode at the end of the linked list\n    }\n }\n\n void LinkedList::displayList()\n{\n    ListNode *nodePtr;\n    nodePtr = head;\n\n    while(nodePtr)\n    //while nodePtr is true, meaning there is a node in the list\n    {\n        cout &lt;&lt; nodePtr -&gt; firstName &lt;&lt; endl;\n        cout &lt;&lt; nodePtr -&gt; lastName &lt;&lt; endl;\n        cout &lt;&lt; nodePtr -&gt; phoneNumber &lt;&lt; endl;\n        nodePtr = nodePtr -&gt; next;\n     }\n}\n</code></pre>\n\n<p>Executable file:</p>\n\n<pre><code>LinkedList ListOne;\nLinkedList ListTwo;\n\nListOne.appendNode(\"Cate\", \"Beckem\", 7704563454);\nListOne.appendNode(\"Cabe\",\"Tomas\", 7703451523);\n\nListTwo.appendNode(\"Mary\", \"Smith\", 4043456543);\nListTwo.appendNode(\"Mark\", \"Carter\", 4045433454);\n</code></pre>\n\n<p>My programs runs perfectly including the displayList function. I am just very confused how to go about making a merge function.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 1, "creation_date": 1446048030, "post_id": 33395809, "comment_id": 54582990, "body": "Without a <a href=\"http://stackoverflow.com/help/mcve\">complete and verifyable example</a>, or even the exact errors you are getting, this is hard to answer... but I seriously doubt the <i>printing</i> is your problem."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1446048046, "post_id": 33395809, "comment_id": 54583005, "body": "&quot;keep getting errors&quot; - That&#39;s like going to a mechanic with your car which has problems with the windshield wiper, and all you&#39;re saying is &quot;oh, I have problems with the car&quot;. Which is true, but not really helpful... Show the unaltered error messages."}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446048148, "post_id": 33395891, "comment_id": 54583077, "body": "Thank you for your help. Sorry its been a long day."}, {"owner": {"reputation": 703, "user_id": 2850608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006061862863/picture?type=large", "display_name": "Andreas Vennstr&#246;m", "link": "https://stackoverflow.com/users/2850608/andreas-vennstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1446048194, "post_id": 33395891, "comment_id": 54583111, "body": "<code>dice3</code> is an <code>std::function</code>. Not a function."}, {"owner": {"reputation": 2090, "user_id": 390562, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/126acfbb1d40fec651032a9fddcf95dc?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/390562/timo"}, "reply_to_user": {"reputation": 703, "user_id": 2850608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006061862863/picture?type=large", "display_name": "Andreas Vennstr&#246;m", "link": "https://stackoverflow.com/users/2850608/andreas-vennstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1446048262, "post_id": 33395891, "comment_id": 54583158, "body": "@AndreasVennstr&#246;m true, but the solution stays the same right?"}, {"owner": {"reputation": 131, "user_id": 5497650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e32d6d700290cef9e5cb33c8691416a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamadr", "link": "https://stackoverflow.com/users/5497650/hamadr"}, "edited": false, "score": 0, "creation_date": 1446048314, "post_id": 33395891, "comment_id": 54583199, "body": "You&#39;re right. For more information check <a href=\"http://en.cppreference.com/w/cpp/utility/functional/function\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/functional/function</a>"}, {"owner": {"reputation": 2090, "user_id": 390562, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/126acfbb1d40fec651032a9fddcf95dc?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/390562/timo"}, "reply_to_user": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "edited": false, "score": 0, "creation_date": 1446048316, "post_id": 33395891, "comment_id": 54583201, "body": "@hat_to_the_back if this fixed your problem, could you mark this as the answer?"}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 2090, "user_id": 390562, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/126acfbb1d40fec651032a9fddcf95dc?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/390562/timo"}, "edited": false, "score": 0, "creation_date": 1446048535, "post_id": 33395891, "comment_id": 54583363, "body": "@Timo, you should upvote the question, cause I think it&#39;s valid. (I already did once)."}, {"owner": {"reputation": 2090, "user_id": 390562, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/126acfbb1d40fec651032a9fddcf95dc?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/390562/timo"}, "reply_to_user": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "edited": false, "score": 0, "creation_date": 1446050878, "post_id": 33395891, "comment_id": 54585088, "body": "@Gread.And.Powerful.Oz I think the question could have been formulated better, e.g. provide the actual error message."}, {"owner": {"reputation": 1738, "user_id": 5477536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14649f2805928d4ab23ab0dafa475553?s=128&d=identicon&r=PG&f=1", "display_name": "GreatAndPowerfulOz", "link": "https://stackoverflow.com/users/5477536/greatandpowerfuloz"}, "reply_to_user": {"reputation": 2090, "user_id": 390562, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/126acfbb1d40fec651032a9fddcf95dc?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/390562/timo"}, "edited": false, "score": 0, "creation_date": 1446051042, "post_id": 33395891, "comment_id": 54585208, "body": "@Timo, agreed. I just don&#39;t think it deserves negative votes."}], "tags": [], "owner": {"reputation": 131, "user_id": 5497650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e32d6d700290cef9e5cb33c8691416a?s=128&d=identicon&r=PG&f=1", "display_name": "Hamadr", "link": "https://stackoverflow.com/users/5497650/hamadr"}, "is_accepted": true, "score": 7, "last_activity_date": 1446048052, "creation_date": 1446048052, "answer_id": 33395891, "question_id": 33395809, "link": "https://stackoverflow.com/questions/33395809/c-printing-out-function/33395891#33395891", "title": "C++ Printing out function", "body": "<p><code>dice3</code> is a function. You should call it.</p>\n\n<pre><code>int x = dice3();\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 2079139, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/0851cb720c1ed5e523a0fcd1d0b1fa0a?s=128&d=identicon&r=PG", "display_name": "hat_to_the_back", "link": "https://stackoverflow.com/users/2079139/hat-to-the-back"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 33395891, "answer_count": 1, "score": 0, "last_activity_date": 1446049692, "creation_date": 1446047853, "last_edit_date": 1446049692, "question_id": 33395809, "link": "https://stackoverflow.com/questions/33395809/c-printing-out-function", "title": "C++ Printing out function", "body": "<p>I am trying to create a total random number between a set of integers but I have no idea how to print the result:</p>\n\n<pre><code> mt19937 mt_rand(time(0));\n mt19937::result_type seed = time(0);\n auto dice_rand = std::bind(std::uniform_int_distribution&lt;int&gt;(1,6),\n                           mt19937(seed));\n std::function&lt;int()&gt; dice3 = std::bind(std::uniform_int_distribution&lt;int&gt;(1,6),\n                                        mt19937(seed));\n\n    int x = dice3;\n    qDebug()&lt;&lt; \"Result\" &lt;&lt; x ;\n</code></pre>\n\n<p>I keep getting errors because of type INT. I am new to C++ and QT. How can I print out an INT? I have tried printing dice_rand, then I tried to convert it to a std::fucntion but I still can't seem to print it.</p>\n"}, {"tags": ["c++", "visual-studio-2010", "autoexp.dat"], "owner": {"reputation": 1830, "user_id": 1927794, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b7b26bda58eac7f333cc428421a711cd?s=128&d=identicon&r=PG", "display_name": "Arkady", "link": "https://stackoverflow.com/users/1927794/arkady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1446047728, "creation_date": 1446047728, "question_id": 33395758, "link": "https://stackoverflow.com/questions/33395758/get-access-to-source-name-line-number-and-variable-name-using-autoexp-dat-withi", "title": "Get access to source name, line number and variable name using autoexp.dat within $ADDIN function?", "body": "<p>Like described here: <a href=\"https://msdn.microsoft.com/en-us/library/8fwk67y3%28v=vs.90%29.aspx\" rel=\"nofollow\">MSDN article about autoexp.dat and $ADDIN</a>, I create DLL with function that represents data of my type at debugging. </p>\n\n<p>This function in my library allows that:</p>\n\n<pre><code>HRESULT WINAPI CustomViewer(\nDWORD dwAddress,       // low 32-bits of address\nDEBUGHELPER *pHelper,  // callback pointer to access helper functions\nint nBase,             // decimal or hex\nBOOL bIgnore,          // not used\nchar *pResult,         // where the result needs to go\nsize_t max,            // how large the above buffer is\nDWORD dwReserved       // always pass zero\n)\n</code></pre>\n\n<p>Is it possible somehow to get not just address of variable, but also it's name, maybe source file and line where debugger is at the moment it calls this function?</p>\n"}, {"tags": ["c++", "pointers", "language-lawyer"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1446048279, "post_id": 33395724, "comment_id": 54583171, "body": "Seems to me the part that implementations need to define is this - <i>Some implementations might define that copying an invalid pointer value causes a system-generated runtime fault.</i> (footnote under &#167;3.7.4.3). You should be able to determine from your processor&#39;s documentation whether specific bit patterns loaded into some address register will cause a fault."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 4, "creation_date": 1446048437, "post_id": 33395724, "comment_id": 54583294, "body": "So your question is why is this not documented in the <i>Index of implementation-defined behavior</i>?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1446048512, "post_id": 33395724, "comment_id": 54583344, "body": "@Praetorian: Behavior of C++ programs is most certainly not identical to behavior documented by the CPU vendor (consider a loop condition that terminates only upon signed-integer wraparound -- the CPU may well define that wraparound occurs, but the C++ optimizer is perfectly entitled to treat it as an infinite loop)"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1446048582, "post_id": 33395724, "comment_id": 54583396, "body": "@ShafikYaghmour: Essentially, yes.  It could be that it isn&#39;t there because it&#39;s actually meant to be undefined behavior, and the other sections have a typo.  Or maybe there&#39;s already a suggested rewording that the committee hasn&#39;t yet voted on.  Or maybe it IS in the index, using a phrasing I didn&#39;t recognize as being related.  These are the types of things I&#39;m trying to learn."}, {"owner": {"reputation": 65414, "user_id": 768469, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/383724e63ab04b146277912c16f27f54?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/768469/nemo"}, "edited": false, "score": 0, "creation_date": 1446051114, "post_id": 33395724, "comment_id": 54585258, "body": "I have always found &quot;implementation-defined behavior&quot; a strange concept, as it only constrains compiler documentation authors and not programmers or compiler writers. (Either you are coding portably, in which case &quot;implementation-defined&quot; and &quot;undefined&quot; behaviors must be avoided equally; or you are coding for a specific platform, in which case all you care about is what your compiler guarantees and the spec&#39;s distinctions are irrelevant.)"}], "answers": [{"tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 9, "last_activity_date": 1446049189, "last_edit_date": 1446049189, "creation_date": 1446048859, "answer_id": 33396182, "question_id": 33395724, "link": "https://stackoverflow.com/questions/33395724/documentation-of-invalid-pointer-value-conversion-in-c-implementations/33396182#33396182", "title": "Documentation of &quot;invalid pointer value&quot; conversion in C++ implementations", "body": "<p><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1438\" rel=\"noreferrer\">CWG #1438</a> changed the semantics concerning invalid pointer values:</p>\n\n<blockquote>\n  <p>The current Standard says that any use of an invalid pointer value\n  produces undefined behavior (3.7.4.2 [basic.stc.dynamic.deallocation]\n  paragraph 4). This includes not only dereferencing the pointer but\n  even just fetching its value. The reason for this draconian\n  restriction is that some architectures in the past used dedicated\n  address registers for pointer loads and stores and they could fault\n  if, for example, a segment number in a pointer was not currently\n  mapped. <br><br>It is not clear whether such restrictions are necessary with\n  architectures currently in use or reasonably foreseen. This should be\n  investigated to see if the restriction can be loosened to apply only\n  to dereferencing the pointer.</p>\n</blockquote>\n\n<p>The change in [conv.lval] is the resolution of <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#616\" rel=\"noreferrer\">CWG #616</a>, which essentially adopted the above.<br>\nLifting this from UB to implementation-defined behavior was intentional, so I presume the absence of this paragraph in the Index is an oversight. </p>\n"}], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 2, "accepted_answer_id": 33396182, "answer_count": 1, "score": 14, "last_activity_date": 1446049243, "creation_date": 1446047646, "last_edit_date": 1592644375, "question_id": 33395724, "link": "https://stackoverflow.com/questions/33395724/documentation-of-invalid-pointer-value-conversion-in-c-implementations", "title": "Documentation of &quot;invalid pointer value&quot; conversion in C++ implementations", "body": "<p>According to the C++ Standard, it is mandatory for every implementation to document &quot;implementation-defined behavior&quot;:</p>\n<blockquote>\n<p>1.3.11 <code>[defns.impl.defined]</code> <strong>implementation-defined behavior</strong></p>\n<p>behavior, for a well-formed program construct and correct data, that depends on the implementation and that each implementation documents</p>\n</blockquote>\n<p>And reading an invalid pointer value has implementation-defined behavior (see 4.1 Lvalue-to-rvalue conversion <code>[conv.lval]</code>):</p>\n<blockquote>\n<p>if the object to which the glvalue refers contains an invalid pointer value (3.7.4.2, 3.7.4.3), the behavior is implementation-defined.</p>\n</blockquote>\n<p>(quote from draft n4527, but verbiage that &quot;Indirection through an invalid pointer value and passing an invalid pointer value to a deallocation function have undefined behavior. Any other use of an invalid pointer value has implementation-defined behavior.&quot; has been in 3.7.4.2 Deallocation functions <code>[basic.stc.dynamic.deallocation]</code> since at least draft n3485)</p>\n<p>However, many popular implementations do not define this behavior, and many experts describe this as &quot;undefined behavior&quot; instead.</p>\n<p>A likely cause for omission of clear documentation is that, as far as I can determine, evaluation of &quot;invalid pointer values&quot; is missing from the &quot;Index of implementation-defined behavior&quot; which appears in Standard drafts following the appendices.</p>\n<p>Is this a defect in the Standard, and are there any open Defect Reports or committee actions taken since C++14 concerning it?</p>\n"}, {"tags": ["c++", "arrays", "for-loop", "multidimensional-array"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 3, "creation_date": 1446047436, "post_id": 33395557, "comment_id": 54582513, "body": "this is unrelated to the question, and correct me if i&#39;m wrong, but my understanding of c++ is that you cannot assign the size of an array with a post-compile time variable, ie the compiler needs to know what the size of the array is before compiling."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5483361"}, "edited": false, "score": 0, "creation_date": 1446047537, "post_id": 33395608, "comment_id": 54582584, "body": "Thanks for taking the time to answer! But I&#39;ve done that and it prints 1,3,5,7,9,11,13,15 when i want 1,3,6,8,9,11,14,16 which represent the &quot;white&quot; squares."}, {"owner": {"reputation": 18827, "user_id": 1413133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqUmk.jpg?s=128&g=1", "display_name": "Manos Nikolaidis", "link": "https://stackoverflow.com/users/1413133/manos-nikolaidis"}, "edited": false, "score": 0, "creation_date": 1446047852, "post_id": 33395608, "comment_id": 54582851, "body": "it needed one more edit to <code>cout &lt;&lt; endl;</code> now it produces the expected output"}], "tags": [], "owner": {"reputation": 18827, "user_id": 1413133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqUmk.jpg?s=128&g=1", "display_name": "Manos Nikolaidis", "link": "https://stackoverflow.com/users/1413133/manos-nikolaidis"}, "is_accepted": false, "score": 0, "last_activity_date": 1446047814, "last_edit_date": 1446047814, "creation_date": 1446047330, "answer_id": 33395608, "question_id": 33395557, "link": "https://stackoverflow.com/questions/33395557/printing-only-some-elements-of-an-array/33395608#33395608", "title": "Printing only some elements of an array", "body": "<p>You can use this for loop for printing:</p>\n\n<pre><code>for(int i = 0; i &lt; m; i += 2){\n    for(int x = 0; x &lt; n; x += 2){\n        cout &lt;&lt; arr[i][x] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n    for(int x = 1; x &lt; n; x += 2){\n        cout &lt;&lt; arr[i + 1][x] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This way <code>x</code> index advances by 2 in each iteration. And starts at different index 0 or 1 for each row</p>\n"}, {"tags": [], "owner": {"reputation": 3510, "user_id": 4128833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/079bb7879c594630684e2c9ed4ecad7e?s=128&d=identicon&r=PG", "display_name": "paul-g", "link": "https://stackoverflow.com/users/4128833/paul-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1446047678, "last_edit_date": 1446047678, "creation_date": 1446047402, "answer_id": 33395631, "question_id": 33395557, "link": "https://stackoverflow.com/questions/33395557/printing-only-some-elements-of-an-array/33395631#33395631", "title": "Printing only some elements of an array", "body": "<p>Add a nested loop to only print when i + x is even:</p>\n\n<pre><code> for (int i=0;i&lt;m;i++){\n    for(int x = 0;x&lt;n;x++){\n     if ((i + x) % 2 == 0)\n        cout&lt;&lt;arr[i][x];\n    }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 252, "user_id": 3573460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d232ac3fdc6012d3627976c253235a8?s=128&d=identicon&r=PG&f=1", "display_name": "Lasoloz", "link": "https://stackoverflow.com/users/3573460/lasoloz"}, "is_accepted": false, "score": 0, "last_activity_date": 1446047808, "creation_date": 1446047808, "answer_id": 33395788, "question_id": 33395557, "link": "https://stackoverflow.com/questions/33395557/printing-only-some-elements-of-an-array/33395788#33395788", "title": "Printing only some elements of an array", "body": "<p>Check in every cell the \"rank\" of index with modulo:</p>\n\n<pre><code>if((x+i)%2 == 0)\n</code></pre>\n\n<p>Then print out, he value when evaluates true.</p>\n\n<p>Lasoloz</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 0, "last_activity_date": 1446049772, "last_edit_date": 1446049772, "creation_date": 1446048339, "answer_id": 33395998, "question_id": 33395557, "link": "https://stackoverflow.com/questions/33395557/printing-only-some-elements-of-an-array/33395998#33395998", "title": "Printing only some elements of an array", "body": "<p>First of all take into account that there are no Variable Length Arrays (VLA) in C++. So your code might not be compiled using some other compiler.</p>\n\n<p>The task you are trying to do can be done very simply.:)</p>\n\n<p>Just write</p>\n\n<pre><code>for ( int i = 0; i &lt; m; i++ )\n{\n    for ( int x = i % 2; x &lt; n; x += 2) cout &lt;&lt; arr[i][x] &lt;&lt;\" \";\n                  ^^^^^^        ^^^^^^\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5483361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 33395998, "answer_count": 4, "score": 1, "last_activity_date": 1448374823, "creation_date": 1446047204, "last_edit_date": 1448374823, "question_id": 33395557, "link": "https://stackoverflow.com/questions/33395557/printing-only-some-elements-of-an-array", "title": "Printing only some elements of an array", "body": "<p>I want to ask you guys how can i print a two-dimensional array so it can look like a chessboard and to print only the numbers that are on the white.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    int m;\n    int n;\n    cout&lt;&lt;\"Enter the amount of rows: \"&lt;&lt;endl;\n    cin&gt;&gt;m;\n    cout&lt;&lt;\"Enter the amount of columns: \"&lt;&lt;endl;\n    cin&gt;&gt;n;\n    if(!cin){\n        cout&lt;&lt;\"Error.Bad input.\"&lt;&lt;endl;\n        return 1;\n    }\n    double arr[m][n];\n    cout&lt;&lt;\"Enter the element of the array: \"&lt;&lt;endl;\n    for (int i=0;i&lt;m;i++){\n    for(int x = 0;x&lt;n;x++){\n        cin&gt;&gt;arr[i][x];\n    }\n    }\n    cout&lt;&lt;\"Printed array like a chessboard: \"&lt;&lt;endl;\n    for(int i=0;i&lt;m;i++){\n        for(int x=0;x&lt;n;x++){\n        cout&lt;&lt;arr[i][x]&lt;&lt;\" \";\n        }cout&lt;&lt;endl;\n    }\n\n}\n</code></pre>\n\n<p>If i enter for example 4 rows and 4 columns and i enter the following numbers so it can be printed out like this:</p>\n\n<pre><code>1 2 3 4\n5 6 7 8\n9 0 11 12\n13 14 15 16\n</code></pre>\n\n<p>I want an output like this: </p>\n\n<pre><code>1 3\n6 8\n9 11\n14 16\n</code></pre>\n\n<p>Thanks is advance!</p>\n"}, {"tags": ["c++", "indexing", "r-tree", "libspatialindex"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5498935, "user_type": "registered", "profile_image": "https://graph.facebook.com/937275613025994/picture?type=large", "display_name": "Guilherme Interlandi", "link": "https://stackoverflow.com/users/5498935/guilherme-interlandi"}, "is_accepted": true, "score": 0, "last_activity_date": 1446058269, "creation_date": 1446058269, "answer_id": 33399254, "question_id": 33395445, "link": "https://stackoverflow.com/questions/33395445/libspatialindex-loading-storing-index-on-disk/33399254#33399254", "title": "libSpatialIndex: loading/storing index on disk", "body": "<p>I found the solution. The index instantiates an ID for the Tree and it must be used on Index creation in order to load the file correctly.</p>\n\n<p>code:</p>\n\n<pre><code>//Example \n// When storing\nTools::PropertySet* ps = GetDefaults();\nIndex* idx;\nidx = new Index(*ps);\nTools::PropertySet properties = idx-&gt;GetProperties();\nTools::Variant vari = properties.getProperty(\"IndexIdentifier\");\ncout &lt;&lt; \"ID: \" &lt;&lt; vari.m_val.llVal &lt;&lt; endl;\n\n// when loading\nTools::PropertySet* ps = GetDefaults();\nTools::Variant var;\n\n// Important\nvar.m_varType = Tools::VT_BOOL;\nvar.m_val.blVal = false;\nps-&gt;setProperty(\"Overwrite\", var);\n\nvar.m_varType = Tools::VT_LONGLONG;\nvar.m_val.llVal = ID; // The number \"couted\" before \nps-&gt;setProperty(\"IndexIdentifier\", var);\n\nIndex* idx;\nidx = new Index(*ps);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5498935, "user_type": "registered", "profile_image": "https://graph.facebook.com/937275613025994/picture?type=large", "display_name": "Guilherme Interlandi", "link": "https://stackoverflow.com/users/5498935/guilherme-interlandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 33399254, "answer_count": 1, "score": 2, "last_activity_date": 1508040274, "creation_date": 1446046930, "last_edit_date": 1508040274, "question_id": 33395445, "link": "https://stackoverflow.com/questions/33395445/libspatialindex-loading-storing-index-on-disk", "title": "libSpatialIndex: loading/storing index on disk", "body": "<p>I have a bunch of points and I need to do a nearest neighbor search on them so I'm using the libSpatialIndex. The code is pretty straight forward and the library gives me the option to store the data on disk but I can not load it.</p>\n\n<p>the code:</p>\n\n<pre><code>int main(){\n\nTools::PropertySet* ps = GetDefaults();\nTools::Variant var;\n\n// set index type to R*-Tree\nvar.m_varType = Tools::VT_ULONG;\nvar.m_val.ulVal = RT_RTree;\nps-&gt;setProperty(\"IndexType\", var);\n\n// Set index to store in disk\nvar.m_varType = Tools::VT_ULONG;\nvar.m_val.ulVal = RT_Disk;\n\nps-&gt;setProperty(\"IndexStorageType\", var);\n\nchar filename[] = \"indexTeste\";\nvar.m_varType = Tools::VT_PCHAR;\nvar.m_val.pcVal = filename;\n\nps-&gt;setProperty(\"FileName\", var);\n\nvar.m_varType = Tools::VT_BOOL;\nvar.m_val.blVal = false;\n\nps-&gt;setProperty(\"Overwrite\", var);\n\ncout &lt;&lt; (*ps) &lt;&lt; endl;\n// initalise index\nidx = new Index(*ps);\ndelete ps;\n\n// Now there's specific code for point loading so I've shortened it - this part is working\nfor (...) { // all points\ndouble pt[] = {point.getX(), point.getY()};\nSpatialIndex::IShape* shape = 0;\nshape = new SpatialIndex::Point(pt, 2);\n\n// insert into index along with the an object and an ID\nidx-&gt;index().insertData(nDataLength,(unsigned char*)&amp;lineID,*shape,id);\n}\n\n// Now the search - working as well\nObjVisitor* visitor = new ObjVisitor;\n\nSpatialIndex::Point* r = new SpatialIndex::Point(inter, 2);\n\nidx-&gt;index().nearestNeighborQuery(1,*r,*visitor);\n\nint64_t nResultCount;\nnResultCount = visitor-&gt;GetResultCount();\n\n// get actual results\nvector&lt;SpatialIndex::IData*&gt;&amp; results = visitor-&gt;GetResults();\n\nSpatialIndex::IShape* shape;\nresults[0]-&gt;getShape(&amp;shape);\n\nunsigned char * dataAddr;\nunsigned int length = sizeof(int);\n\nresults[0]-&gt;getData(length,&amp;dataAddr);\nint lineId = ((int*)dataAddr)[0];\n\nSpatialIndex::Point center;\nshape-&gt;getCenter(center);\n}\n</code></pre>\n\n<p>The program finishes right after that. Two files are indeed created in memory, \"indexTest.dat\" 8.8MB and \"indexTest.idx\" 0kB but if I do the query or check the number of elements in the index right after initialization, it fails and theres only one node on the tree. </p>\n\n<p>I already looked at the questions:\n<a href=\"https://stackoverflow.com/questions/13253270/reloading-the-r-tree-with-spatialindex-library?newreg=81800838c44749589299e1f770110ba9\">(Re)loading the R Tree with spatialindex library</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13155084/c-spatialindex-library-loading-storing-main-memory-rtree-from-to-disk?rq=1\">C++ spatialindex library: loading/storing main memory RTree from/to disk</a></p>\n\n<p>But I got no success since I'm using Index and when I use RTree directly, data insertion is like 1000x slower.</p>\n"}, {"tags": ["c++", "postgresql", "libpqxx"], "answers": [{"comments": [{"owner": {"reputation": 1501, "user_id": 1502810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2785f67e7be660cffe1c9d321e0bad69?s=128&d=identicon&r=PG", "display_name": "celticminstrel", "link": "https://stackoverflow.com/users/1502810/celticminstrel"}, "edited": false, "score": 0, "creation_date": 1559341716, "post_id": 33467482, "comment_id": 99403027, "body": "There (now? maybe wasn&#39;t in 2015) exists <code>field::as_array</code> which returns an <code>array_parser</code> object that seems to do the trick, but some of its intricacies are undocumented... if I get it working I might add a more detailed answer."}], "tags": [], "owner": {"reputation": 389, "user_id": 5445780, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2fa5968aa2becb009cd0dec0b552c235?s=128&d=identicon&r=PG&f=1", "display_name": "kto\u015b tam", "link": "https://stackoverflow.com/users/5445780/kto%c5%9b-tam"}, "is_accepted": false, "score": 0, "last_activity_date": 1446413524, "creation_date": 1446413524, "answer_id": 33467482, "question_id": 33395425, "link": "https://stackoverflow.com/questions/33395425/how-can-i-get-values-from-array-using-libpqxx/33467482#33467482", "title": "How can I get values from array using libpqxx?", "body": "<p>I haven't found any way other than that:</p>\n\n<pre><code>result wynikiJednostki(ncWykonaj.exec(\"SELECT * FROM testTable;\"));\nresult::const_iterator rekord = wynikiJednostki.begin()\nvector&lt;unsigned short&gt;* values = getArray(record[1].as&lt;string&gt;());\n</code></pre>\n\n<p>getArray:</p>\n\n<pre><code>vector&lt;unsigned short&gt;* getArray(string pString)\n{\nvector&lt;unsigned short&gt;* numbers = new vector&lt;unsigned short&gt;;\n\npString += ',';\nsize_t begin = pString.find('{') + 1;\nsize_t end = pString.find('}');\nsize_t actualPosition;\nstring numberS;\n\nwhile(true)\n{\n    actualPosition = pString.find(',', begin);\n    if(actualPosition &gt; end)\n    {\n        numberS = pString.substr(begin, end - begin);\n        numbers-&gt;push_back(atoi(numberS.c_str()));\n\n        return numbers;\n    }\n    numberS = pString.substr(end, actualPosition - begin);\n    numbers-&gt;push_back(atoi(numberS.c_str()));\n    begin = actualPosition + 1;\n}\n}\n</code></pre>\n\n<p>Temporarily I use that, but I think it isn't the best way.</p>\n"}, {"tags": [], "owner": {"reputation": 1090, "user_id": 5428089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99553cd40613c219df839d5e30c15e3e?s=128&d=identicon&r=PG&f=1", "display_name": "karastojko", "link": "https://stackoverflow.com/users/5428089/karastojko"}, "is_accepted": false, "score": 2, "last_activity_date": 1602530245, "creation_date": 1602530245, "answer_id": 64324078, "question_id": 33395425, "link": "https://stackoverflow.com/questions/33395425/how-can-i-get-values-from-array-using-libpqxx/64324078#64324078", "title": "How can I get values from array using libpqxx?", "body": "<p>In the version 7.2 I am using the <code>as_array</code> method to parse an array of integers:</p>\n<pre><code>list&lt;unsigned long&gt; found_messages;\npqxx::result res = db-&gt;execute(query);\nauto arr = res[0][0].as_array();\npair&lt;pqxx::array_parser::juncture, string&gt; elem;\ndo\n{\n    elem = arr.get_next();\n    if (elem.first == pqxx::array_parser::juncture::string_value)\n        found_messages.push_back(stoul(elem.second));\n}\nwhile (elem.first != pqxx::array_parser::juncture::done);\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 5445780, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2fa5968aa2becb009cd0dec0b552c235?s=128&d=identicon&r=PG&f=1", "display_name": "kto\u015b tam", "link": "https://stackoverflow.com/users/5445780/kto%c5%9b-tam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1602530245, "creation_date": 1446046868, "question_id": 33395425, "link": "https://stackoverflow.com/questions/33395425/how-can-i-get-values-from-array-using-libpqxx", "title": "How can I get values from array using libpqxx?", "body": "<p>How can I get values from array using libpqxx? For Example I have table like this:</p>\n\n<pre><code>CREATE TABLE testTable\n(\n testArray integer[]\n);\n</code></pre>\n\n<p>How do I get int array with these values in C++?</p>\n"}]