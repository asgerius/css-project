[{"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1444261503, "post_id": 33004245, "comment_id": 53833287, "body": "You need to input the value <b>before</b> using it in calculations."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 5369555, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-nYUya9uf1sU/AAAAAAAAAAI/AAAAAAAAAAA/iNeUBnpDh3s/photo.jpg?sz=128", "display_name": "Emilio Weba", "link": "https://stackoverflow.com/users/5369555/emilio-weba"}, "reply_to_user": {"reputation": 1, "user_id": 5420755, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dee9fec2e495139453d23f14ff798981?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5420755/joe"}, "edited": false, "score": 1, "creation_date": 1444324291, "post_id": 33004316, "comment_id": 53866572, "body": "If you&#39;re happy please accept as the correct answer :)"}], "tags": [], "owner": {"reputation": 303, "user_id": 5369555, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-nYUya9uf1sU/AAAAAAAAAAI/AAAAAAAAAAA/iNeUBnpDh3s/photo.jpg?sz=128", "display_name": "Emilio Weba", "link": "https://stackoverflow.com/users/5369555/emilio-weba"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261863, "creation_date": 1444261863, "answer_id": 33004316, "question_id": 33004245, "link": "https://stackoverflow.com/questions/33004245/i-need-some-helping-with-a-currency-program/33004316#33004316", "title": "I need some helping with a currency program", "body": "<p>Try this:</p>\n\n<pre><code>int main()\n{\n\n    int quarters;\n    int dimes;\n    int pennies;\n    int nickles;\n\n    cout &lt;&lt; \"Please enter the amount of quarters you wish to convert\" &lt;&lt; endl;\n    cin &gt;&gt; quarters;\n\n    dimes = (quarters * 5);\n    pennies = (quarters * 25);\n    nickles = (pennies / 10);\n\n    cout &lt;&lt; \"Pennies = \" &lt;&lt; pennies &lt;&lt; endl;\n    cout &lt;&lt; \"Dimes = \" &lt;&lt; dimes &lt;&lt; endl;\n    cout &lt;&lt; \"Nickles = \" &lt;&lt; nickles &lt;&lt; endl;\n    cin.get();\n    cin.get();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3264, "user_id": 922307, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/878ffdef6995f4184b54ccba32eb58f6?s=128&d=identicon&r=PG", "display_name": "Sajib Mahmood", "link": "https://stackoverflow.com/users/922307/sajib-mahmood"}, "is_accepted": false, "score": 1, "last_activity_date": 1444261895, "creation_date": 1444261895, "answer_id": 33004325, "question_id": 33004245, "link": "https://stackoverflow.com/questions/33004245/i-need-some-helping-with-a-currency-program/33004325#33004325", "title": "I need some helping with a currency program", "body": "<p>The error message clearly says what's wrong. You have declared <code>quarters</code> but haven't initialized before you used it.\nPut this</p>\n\n<pre><code>cout &lt;&lt; \"Please enter the amount of quarters you wish to convert\" &lt;&lt; endl;\ncin &gt;&gt; quarters;\n</code></pre>\n\n<p>Before</p>\n\n<pre><code>int dimes = (quarters * 5);\nint pennies = (quarters * 25);\nint nickles = (pennies / 10); \n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3320657"}, "is_accepted": false, "score": 1, "last_activity_date": 1444262030, "creation_date": 1444262030, "answer_id": 33004351, "question_id": 33004245, "link": "https://stackoverflow.com/questions/33004245/i-need-some-helping-with-a-currency-program/33004351#33004351", "title": "I need some helping with a currency program", "body": "<p>Initialise the variable <code>quarters</code> and then use it in your calculations. </p>\n\n<pre><code>int quarters;\ncout&lt;&lt;\"Please enter the amount of quarters you wish to convert\" &lt;&lt; endl;\ncin&gt;&gt;quarters;\n\nint dimes = (quarters * 5);\nint pennies = (quarters * 25);\nint nickles = (pennies / 10);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5420755, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dee9fec2e495139453d23f14ff798981?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5420755/joe"}, "edited": false, "score": 0, "creation_date": 1444262488, "post_id": 33004397, "comment_id": 53833540, "body": "Ah, thank you for the explanation. This will come in handy in  the future in my C++ class. :)"}], "tags": [], "owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1444262359, "creation_date": 1444262359, "answer_id": 33004397, "question_id": 33004245, "link": "https://stackoverflow.com/questions/33004245/i-need-some-helping-with-a-currency-program/33004397#33004397", "title": "I need some helping with a currency program", "body": "<p>As others have said, you must get the input before you use it, like:</p>\n\n<pre><code>int quarters;\ncout &lt;&lt; \"Please enter the amount of quarters you wish to convert\" &lt;&lt; endl;\ncin &gt;&gt; quarters;\n</code></pre>\n\n<p>and then, AFTER this, you can calculate the other values:</p>\n\n<pre><code>int dimes = (quarters * 5);\nint pennies = (quarters * 25);\nint nickles = (pennies / 10);\n</code></pre>\n\n<p>That said, let's see why it happens. Maybe you think that when you assign a \"formula\" to a variable (like <code>dimes = quarters * 5</code>), the value will always be recalculated, similarly to what Excel does. C++ doesn't work like that: <strong>when you assign a value to a variable you are not defining a general formula which will be automatically updated, but rather calculating the result at that moment.</strong> And the program is run from the top to the bottom. So when you reach the lines that define <code>dimes</code>, <code>pennies</code> and <code>nickles</code>, you are taking the (not defined yet) value of <code>quarters</code> and trying to use that to calculate the other variables. Here the program stops, but if it continued and it reached the line with <code>cin</code>, it would indeed store the value in <code>quarters</code>, but the other 3 variables wouldn't be updated!</p>\n"}], "owner": {"reputation": 1, "user_id": 5420755, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dee9fec2e495139453d23f14ff798981?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5420755/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1444262359, "creation_date": 1444261398, "question_id": 33004245, "link": "https://stackoverflow.com/questions/33004245/i-need-some-helping-with-a-currency-program", "title": "I need some helping with a currency program", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#include &lt;iostream&gt;\r\n#include &lt;string&gt;\r\n#include &lt;iomanip&gt;\r\n\r\nusing namespace std;\r\n\r\nint main()\r\n{\r\n\r\n\tint quarters;\r\n\tint dimes = (quarters * 5);\r\n\tint pennies = (quarters * 25);\r\n\tint nickles = (pennies / 10);\r\n\r\n\tcout &lt;&lt; \"Please enter the amount of quarters you wish to convert\" &lt;&lt; endl;\r\n\tcin &gt;&gt; quarters;\r\n\r\n\tcout &lt;&lt; \"Pennies = \" &lt;&lt; pennies &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Dimes = \" &lt;&lt; dimes &lt;&lt; endl;\r\n\tcout &lt;&lt; \"Nickles = \" &lt;&lt; nickles &lt;&lt; endl;\r\n\tcin.get();\r\n\tcin.get();\r\n\r\n\treturn 0;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For some reason I keep getting a C4700 error saying quarters is an uninitialized local variable, however if quarters is what is being cined what am I supposed to do? I tried putting in int quarters = 0, however that messed up the program's calculations. Any ideas? </p>\n"}, {"tags": ["c++", "directx", "direct3d", "renderer"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "edited": false, "score": 0, "creation_date": 1444261984, "post_id": 33004301, "comment_id": 53833397, "body": "Wow, I&#39;m an actual idiot, what a stupid mistake! Thank you for pointing that out."}, {"owner": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "edited": false, "score": 0, "creation_date": 1444262243, "post_id": 33004301, "comment_id": 53833457, "body": "Wait, now I&#39;m getting another issue. When I remove my rhw value from my vertex struct and change the FVF to D3DFVF_XYZ, nothing renders anymore... Any idea?"}, {"owner": {"reputation": 26, "user_id": 5420774, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a89b392c989b2101b0232b1a58347a?s=128&d=identicon&r=PG", "display_name": "pipi", "link": "https://stackoverflow.com/users/5420774/pipi"}, "reply_to_user": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "edited": false, "score": 0, "creation_date": 1444262607, "post_id": 33004301, "comment_id": 53833574, "body": "The RHW component determines whether the given vertices are already transformed (x y z in screen space). If you remove that component the given vertices are in world space and you need to first set a perspective and view matrix using SetTransform"}, {"owner": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "edited": false, "score": 0, "creation_date": 1444262857, "post_id": 33004301, "comment_id": 53833649, "body": "Yeah I did that. I&#39;m not new to Direct3D. That&#39;s why I&#39;m so confused."}, {"owner": {"reputation": 26, "user_id": 5420774, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a89b392c989b2101b0232b1a58347a?s=128&d=identicon&r=PG", "display_name": "pipi", "link": "https://stackoverflow.com/users/5420774/pipi"}, "reply_to_user": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "edited": false, "score": 0, "creation_date": 1444264199, "post_id": 33004301, "comment_id": 53834017, "body": "well make sure you&#39;re aiming towards the triangle with the view matrix and not too close to it ;)"}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1444708747, "post_id": 33004301, "comment_id": 54003553, "body": "One suggestion: Don&#39;t use legacy Direct3D 9 (which is over a decade old at this point). Use Direct3D 11 and take a look at the <a href=\"https://github.com/Microsoft/DirectXTK\" rel=\"nofollow noreferrer\">DirectX Tool Kit</a> including the <a href=\"https://github.com/Microsoft/DirectXTK/wiki/Getting-Started\" rel=\"nofollow noreferrer\">tutorials</a>."}], "tags": [], "owner": {"reputation": 26, "user_id": 5420774, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a89b392c989b2101b0232b1a58347a?s=128&d=identicon&r=PG", "display_name": "pipi", "link": "https://stackoverflow.com/users/5420774/pipi"}, "is_accepted": true, "score": 1, "last_activity_date": 1444261794, "creation_date": 1444261794, "answer_id": 33004301, "question_id": 33004215, "link": "https://stackoverflow.com/questions/33004215/directx-primitive-rendering-at-the-wrong-position/33004301#33004301", "title": "DirectX primitive rendering at the wrong position", "body": "<p>The coordinates are outside your screen. The X and Y value of the vertex are in screen space where top left is 0,0 and right bottom is width,height</p>\n"}], "owner": {"reputation": 67, "user_id": 5271101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e78421e5ea69545397d88d32fc0136a?s=128&d=identicon&r=PG&f=1", "display_name": "oliveryas01", "link": "https://stackoverflow.com/users/5271101/oliveryas01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 33004301, "answer_count": 1, "score": 0, "last_activity_date": 1444261794, "creation_date": 1444261183, "question_id": 33004215, "link": "https://stackoverflow.com/questions/33004215/directx-primitive-rendering-at-the-wrong-position", "title": "DirectX primitive rendering at the wrong position", "body": "<p>So I'm recoding my rendering engine, starting with the basics. I'm running is to a very weird issue. I'm simply rendering a triangle, but the position is all wrong.</p>\n\n<p>Here's what I'm getting (can't post image cause I don't have enough rep yet):\n<a href=\"http://i.stack.imgur.com/oZYIG.png\" rel=\"nofollow\">Incorrect Result</a></p>\n\n<p>That's obviously not what I'm trying to do.</p>\n\n<p>Here's are my vertices I'm defining, what my vertex structure looks like, and what my FVF looks like:</p>\n\n<pre><code>CDirect3DHelper::VERTEX vertices[] =\n{\n    { 300, -300, 0, 1, D3DCOLOR_XRGB(0, 0, 255) },\n    { 0, 300, 0, 1, D3DCOLOR_XRGB(0, 255, 0) },\n    { -300, -300, 0, 1, D3DCOLOR_XRGB(255, 0, 0) }\n}\n\nstruct VERTEX\n{\n    float x, y, z, rhw;\n    DWORD color;\n};\n\nstatic const DWORD FVF = D3DFVF_XYZRHW | D3DFVF_DIFFUSE;\n</code></pre>\n\n<p>Anyone have any idea what's wrong? I feel like I'm missing something really stupid.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "struct", "casting"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1444261525, "post_id": 33004200, "comment_id": 53833292, "body": "That question seems to be C++ related, you do not seem to have problsm with C. Note that these are different languages."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1444262282, "post_id": 33004200, "comment_id": 53833470, "body": "But either langauge you should use proper (de)serialisation instead of casting. There are far too many problems with that."}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 4033066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1563407761/picture?type=large", "display_name": "ben", "link": "https://stackoverflow.com/users/4033066/ben"}, "edited": false, "score": 0, "creation_date": 1444326182, "post_id": 33004223, "comment_id": 53867550, "body": "I&#39;ve never seen that syntax wizardy before (de-referencing a pointer typecast?!) but it worked great!   Thanks!!"}, {"owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "reply_to_user": {"reputation": 363, "user_id": 4033066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1563407761/picture?type=large", "display_name": "ben", "link": "https://stackoverflow.com/users/4033066/ben"}, "edited": false, "score": 0, "creation_date": 1444327735, "post_id": 33004223, "comment_id": 53868405, "body": "It casts address of array to address of struct, and then dereferences it. But please be aware that if we made it compile does not mean that the behavior is guaranteed. In this case it is vice versa."}], "tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": true, "score": 3, "last_activity_date": 1444261817, "last_edit_date": 1444261817, "creation_date": 1444261231, "answer_id": 33004223, "question_id": 33004200, "link": "https://stackoverflow.com/questions/33004200/typecast-char-array-into-a-structure-not-a-class-object/33004223#33004223", "title": "Typecast char array into a structure (not a class/object)", "body": "<p>Such casting is undefined behavior. <strong>I would strongly suggest to avoid it.</strong></p>\n\n<p>Nevertheless, if casting is <em>really really</em> needed and you are sure it is safe, try</p>\n\n<pre><code>myVar = *(sMYSTRUCT*)byteArray;\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 4033066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1563407761/picture?type=large", "display_name": "ben", "link": "https://stackoverflow.com/users/4033066/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 33004223, "answer_count": 1, "score": 2, "last_activity_date": 1444261817, "creation_date": 1444261075, "last_edit_date": 1444261474, "question_id": 33004200, "link": "https://stackoverflow.com/questions/33004200/typecast-char-array-into-a-structure-not-a-class-object", "title": "Typecast char array into a structure (not a class/object)", "body": "<p>Using only ANSI-C, I was hoping to copy a byte array into a struct, </p>\n\n<pre><code>alt_u8 byteArray[16];\nsMYSTRUCT myVar;\nmyVar = (sMYSTRUCT)(byteArray);\n</code></pre>\n\n<p>but seems like I need C++ for this.. however when I enable c++, I get the error\n\"no matching function for call to 'sMYSTRUCT::sMYSTRUCT(alt_u8 [16])\"</p>\n\n<p>I assume this is because the compiler doesn't know how to copy the data into the structure..  Is this correct?  Is the only way to do this is define a class, create an object of that class, and THEN typecast the byte array?  </p>\n\n<pre><code>    typedef struct\n    {\n        alt_u8 Byte0;\n        alt_u8 Byte1;\n    } stByte_1_0;\n\n    typedef struct\n    {\n        union\n        {\n            alt_u16     WORD0;\n            stByte_1_0  BYTE_1_0;\n        } uSel;\n    } stWord0;\n\n    typedef struct\n    {\n        stByte_1_0  WORD0;\n        alt_u16 WORD1;\n    } sMYSTRUCT;\n</code></pre>\n"}, {"tags": ["c++", "enums"], "comments": [{"owner": {"reputation": 41, "user_id": 5313831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba5f0a306684b0fd99cca730ef1cfa1?s=128&d=identicon&r=PG&f=1", "display_name": "buart", "link": "https://stackoverflow.com/users/5313831/buart"}, "edited": false, "score": 0, "creation_date": 1444261304, "post_id": 33004115, "comment_id": 53833238, "body": "You can write your own cin operator, taken from here: <a href=\"http://stackoverflow.com/a/10371706/5313831\">stackoverflow.com/a/10371706/5313831</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 2979553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc4adf31bfe373a88f44ed52a26db8c?s=128&d=identicon&r=PG&f=1", "display_name": "user2979553", "link": "https://stackoverflow.com/users/2979553/user2979553"}, "edited": false, "score": 0, "creation_date": 1444262653, "post_id": 33004195, "comment_id": 53833587, "body": "Thanks for the answer! it was very helpful ! Wish you the best ."}], "tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261023, "creation_date": 1444261023, "answer_id": 33004195, "question_id": 33004115, "link": "https://stackoverflow.com/questions/33004115/how-to-assign-an-enum-value-to-a-double-variable-defined-by-the-user-c/33004195#33004195", "title": "How to assign an enum value to a double variable defined by the user ?? C++", "body": "<p>The user can only input characters.  cin will convert groupings of numbers to an int (e.g. 123) or or double (e.g. 123.5).  It will also handle non-numeric groupings to std::strings (e.g. hello) or individual characters (e.g. c).</p>\n\n<p>Once you have the user's input, you can convert them to your enum.  You can use if statements, case statements or some type of table look up to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1444261033, "creation_date": 1444261033, "answer_id": 33004197, "question_id": 33004115, "link": "https://stackoverflow.com/questions/33004115/how-to-assign-an-enum-value-to-a-double-variable-defined-by-the-user-c/33004197#33004197", "title": "How to assign an enum value to a double variable defined by the user ?? C++", "body": "<p>You can read into a <code>double</code>, and then check against your <code>enum</code> values:</p>\n\n<pre><code>//input of room type\nwhile (1)\n{\n    cin &gt;&gt; costofroom;\n    if (costofroom == 0.0)\n        costofroom = D;\n    else if (costofroom == 1.0)\n        costofroom = T;\n    else if (costofroom == 2.0)\n        costofroom = S;\n    else\n    {\n        cout &lt;&lt; \"You didn't enter a valid option\" &lt;&lt; endl;\n        continue;\n    }\n    break;\n}\n</code></pre>\n\n<p>However, it would be better to read into an <code>int</code>, and then set your <code>double</code> afterward.</p>\n\n<pre><code>double costofroom;\nint option;\n\n...\n\n//input of room type\nwhile (1)\n{\n    cin &gt;&gt; option;\n    if (option == 0)\n        costofroom = D;\n    else if (option == 1)\n        costofroom = T;\n    else if (option == 2)\n        costofroom = S;\n    else\n    {\n        cout &lt;&lt; \"You didn't enter a valid option\" &lt;&lt; endl;\n        continue;\n    }\n    break;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 2979553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc4adf31bfe373a88f44ed52a26db8c?s=128&d=identicon&r=PG&f=1", "display_name": "user2979553", "link": "https://stackoverflow.com/users/2979553/user2979553"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 33004197, "answer_count": 2, "score": 0, "last_activity_date": 1444261033, "creation_date": 1444260500, "question_id": 33004115, "link": "https://stackoverflow.com/questions/33004115/how-to-assign-an-enum-value-to-a-double-variable-defined-by-the-user-c", "title": "How to assign an enum value to a double variable defined by the user ?? C++", "body": "<p>Hello  i am a student so i wanted to say sorry in case my writing is tiring, feel free to correct me .</p>\n\n<p>i am having the following problem i am trying to assign an enum int value to another double variable  to make one multiplication.\nso the variable costOfRoom should take the  value D or T or S which belong to an enum. (D=200 ,T=150,S=110)</p>\n\n<p>this must be done by the user .</p>\n\n<p>But cant find any way , i tried to make the second variable a string type but its not working again. it will just take the chars normally as a string would do :(</p>\n\n<p>Also tried  <code>cin &gt;&gt; type_Ofroom costofroom ;</code>\nbut i think that this is used in Java??</p>\n\n<p>Searched the forum also haven't any similar answer :(</p>\n\n<p>The program runs fine it doesn't have any compiling errors  :)</p>\n\n<p>Thanks for your time </p>\n\n<pre><code>/* build a software system which will allow a hotel receptionist,\nto enter in bookings for guests who come to the desk.\nThe system should display the room options as:\nRoom        Price       Code\n---------------------------------------------------------------\nDeluxe Room \u00a3200         D\nTwin Room       \u00a3150     T\nSingle      \u00a3110         S\n\nThe receptionist should be prompted to enter in the room type and the number of \nnights a guest wishes to stay for and then calculate the amount\nthey need to pay. \n   */\n\n// solution \n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n\n    // decleration of variables \n    double number_OfDays = 0, Totalcost = 0, costofroom = 0;\n    enum   type_Ofroom { D = 200, T = 150, S = 150 };\n    cout &lt;&lt; \"enter the type of the room \" &lt;&lt; endl &lt;&lt; endl;\n\n    //input of room type\n    cin &gt;&gt; costofroom; // **here is the problem**  i am trying to give the \n                       //    values of the enum varaiable \n                        // it should have D or T or S but i cant  make it\n    cout &lt;&lt; \"enter the number of the days \" &lt;&lt; endl &lt;&lt; endl;\n\n    //input of days\n    cin &gt;&gt; number_OfDays;\n\n    // calculation \n    Totalcost = costofroom * number_OfDays;\n\n    // result \n    cout &lt;&lt; \"the costumer has to pay \" &lt;&lt; Totalcost &lt;&lt; \" pounds\" &lt;&lt; endl &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 4, "creation_date": 1444260200, "post_id": 33004066, "comment_id": 53832953, "body": "Files work by byte position, not line. If you want to change the length of a line, I would suggest changing your code to output in a different file. Then perhaps you can replace the original with the new file."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 1, "creation_date": 1444260655, "post_id": 33004066, "comment_id": 53833083, "body": "You need to learn about and understand files.  In their simplest form, they are a sequence of bytes.  A text file is thus a sequence of bytes interpreted as characters.  If the bytes make sense as characters, then the file is readable, else it looks to the human as garbage.  Lines are simply a variable sequence of characters ending with a newline or carriage-return newline combination.  If you want to replace a line then without affecting its position or other lines&#39; positions, you must replace it with the same number of characters (including newline)."}, {"owner": {"reputation": 749, "user_id": 4333371, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g2ttJ.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/4333371/joey"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1444260770, "post_id": 33004066, "comment_id": 53833108, "body": "@Les why does the new line have to have the same number of characters? What if my new line has one character more, then the old?"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1444260906, "post_id": 33004066, "comment_id": 53833151, "body": "BTW, fstream is a stream, and stream implies reading continuously from, not random access to the file, which is what you will need to replace any bytes or sequence of bytes.  Consider using a lower level io, one with the ability to open read/write."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1444260980, "post_id": 33004066, "comment_id": 53833168, "body": "If your new line has more characters than the one it replaces, it overwrites the beginning of the next line.  Even though lines may vary in length, once they are written to the file, they each have their own fixed length."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1444261080, "post_id": 33004066, "comment_id": 53833193, "body": "+1 @owacoder for the suggestion to write to a new file.  A newbie to C and working with files should first learn how to read one and write another before trying to do in-place-overwrites.  You can always remove the original and rename the new."}, {"owner": {"reputation": 749, "user_id": 4333371, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g2ttJ.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/4333371/joey"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1444261225, "post_id": 33004066, "comment_id": 53833220, "body": "@Les ah okay I understand! What about creating a string array and saving each line in there. Now you can add even more characters to lines and do what ever you want. At the end you print line by line from the string array to a file.  ?"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 2, "creation_date": 1444261460, "post_id": 33004066, "comment_id": 53833280, "body": "@Joey, yes, you can read all lines storing each in a string array or something more dynamic like a vector of string.  Then you have all the methods of &quot;string&quot; to work with, and then you can write the stings back to the file (first truncate the file).  But again, often the best practice is to write to a temporary file, then blow away the original if there were no errors, replacing with the temporary."}, {"owner": {"reputation": 749, "user_id": 4333371, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g2ttJ.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/4333371/joey"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1444261627, "post_id": 33004066, "comment_id": 53833318, "body": "@Les Okay, thank you very much!"}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 1, "last_activity_date": 1444264933, "creation_date": 1444264933, "answer_id": 33004764, "question_id": 33004066, "link": "https://stackoverflow.com/questions/33004066/how-to-read-line-by-line-and-override-a-line-in-the-same-file/33004764#33004764", "title": "How to read line by line and override a line in the same file", "body": "<p>You can read your file into memory and then write it out after changing any of the lines.  The following example reads it into a vector, then writes it back out.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    fstream file;\n    string line;\n    file.open(\"Test.txt\", fstream::in);\n    if (file.fail()) exit(-1);\n\n    vector&lt;string&gt; vec;\n    while (getline(file, line, '\\n'))\n    {\n        string ln = line;\n        vec.push_back(ln);\n    }\n    file.close();\n\n    // manipulate your lines here\n\n    file.open(\"Test.txt\", fstream::out | fstream::trunc);\n    for (vector&lt;string&gt;::iterator it = vec.begin(); it != vec.end(); ++it)\n    {\n        file.write(it-&gt;c_str(), it-&gt;length());\n        file.write(\"\\n\", 1);\n    }\n    file.close();\n}\n</code></pre>\n\n<p>But note, when you change a line, the position of lines that follow will change unless the line you are changing is the same size as the original.  Also note, this is a simple ANSI file example, but UNICODE and UTF-8 are also common text file formats.  This should at least get you started.</p>\n"}], "owner": {"reputation": 749, "user_id": 4333371, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g2ttJ.png?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/4333371/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 33004764, "answer_count": 1, "score": 0, "last_activity_date": 1444264933, "creation_date": 1444260108, "last_edit_date": 1444260209, "question_id": 33004066, "link": "https://stackoverflow.com/questions/33004066/how-to-read-line-by-line-and-override-a-line-in-the-same-file", "title": "How to read line by line and override a line in the same file", "body": "<p>I read line by line of a textfile and if a line meets some requirements I want to override the line and save it at the same position in the same file.</p>\n\n<p>Here is what I have (simplified):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nint main(){\n\n    fstream file;\n    string line;\n    file.open(\"Test.txt\");\n\n    while (getline(file, line))\n    {\n      if (line.size() &gt; 7) file &lt;&lt; line.append(\" &lt;- long line\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "string", "function", "parameters"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1444259839, "post_id": 33003880, "comment_id": 53832865, "body": "Your <code>getLowest</code> and <code>getHighest</code> functions don&#39;t actually set <code>indexofLowest</code>/<code>indexofHighest</code>... Also, their definitions don&#39;t match their prototypes."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444260867, "post_id": 33003880, "comment_id": 53833139, "body": "You could simplify your program by using a <code>for</code> loop to enter the rainfall data; or better, place the data into a file, read from the file.  The file method means you don&#39;t have to keep entering the data by hand each time."}, {"owner": {"reputation": 1, "user_id": 5420579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcb426630e68c97ccda2e925f98de09?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Ortiz", "link": "https://stackoverflow.com/users/5420579/jonathan-ortiz"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1444274346, "post_id": 33003880, "comment_id": 53836621, "body": "I appreciate the suggestions guys. Like @immibis said, I just set the indexofLowest / indexofHighest in the functions to count and everything was fixed. A lot simpler of a fix than I thought."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5420579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcb426630e68c97ccda2e925f98de09?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Ortiz", "link": "https://stackoverflow.com/users/5420579/jonathan-ortiz"}, "edited": false, "score": 0, "creation_date": 1444273137, "post_id": 33004219, "comment_id": 53836297, "body": "Didn&#39;t realize of simple of a fix that was. To just set indexofHighest and indexofLowest to count. I gotta do better of looking for the little things. @Samboy786"}], "tags": [], "owner": {"reputation": 61, "user_id": 1888474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uXmmy.jpg?s=128&g=1", "display_name": "Samboy786", "link": "https://stackoverflow.com/users/1888474/samboy786"}, "is_accepted": false, "score": 0, "last_activity_date": 1444261212, "creation_date": 1444261212, "answer_id": 33004219, "question_id": 33003880, "link": "https://stackoverflow.com/questions/33003880/using-the-3rd-parameter-of-a-function/33004219#33004219", "title": "Using the 3rd parameter of a function", "body": "<p>I tried your code. You have a few bugs. I guess you need to try harder in the future. Anyways here is a working solution with minimal changes to your existing code -</p>\n\n<pre><code>//Defintion of function getLowest                                                                                               \ndouble getLowest(double rainfall[], int months, int &amp; indexofLowest)\n{\n    int count;\n    double lowest;\n\n    lowest = rainfall[0];\n    for (count = 1; count &lt; months; count++)\n    {\n        if (rainfall[count] &lt; lowest)\n        {\n                        lowest = rainfall[count];\n                        indexofLowest = count;\n        }\n    }\n\nreturn lowest;\n}\n\n//Definition of function getHighest\ndouble getHighest(double rainfall[], int months, int &amp; indexofHighest)\n{\n    int count;\n    double highest;\n\n    highest = rainfall[0];\n    for (count = 1; count &lt; months; count++)\n    {\n                if (rainfall[count] &gt; highest)\n                {       \n                        highest = rainfall[count];\n                        indexofHighest = count;\n                }\n    }\n    return highest;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5420579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcb426630e68c97ccda2e925f98de09?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Ortiz", "link": "https://stackoverflow.com/users/5420579/jonathan-ortiz"}, "edited": false, "score": 0, "creation_date": 1444272962, "post_id": 33004437, "comment_id": 53836242, "body": "Thanks so much for the input. Didn&#39;t realize how simple of a fix that was. @Bob__"}], "tags": [], "owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1444262583, "creation_date": 1444262583, "answer_id": 33004437, "question_id": 33003880, "link": "https://stackoverflow.com/questions/33003880/using-the-3rd-parameter-of-a-function/33004437#33004437", "title": "Using the 3rd parameter of a function", "body": "<p>You have to set <code>indexofLowest</code> and <code>indexofHighest</code> in your functions (and match their prototype):</p>\n\n<pre><code>//Defintion of function getLowest\ndouble getLowest(double rainfall[], int months, int&amp; indexofLowest)\n\nint count;\ndouble lowest;\n\nlowest = rainfall[0];\nfor (count = 1; count &lt; months; count++)\n{\n    if (rainfall[count] &lt; lowest) {\n    lowest = rainfall[count];\n    indexofLowest = count;\n    }\n}\nreturn lowest;\n}\n\n//Definition of function getHighest\ndouble getHighest(double rainfall[], int months, int&amp; indexofHighest)\n{\nint count;\ndouble highest;\n\nhighest = rainfall[0];\nfor (count = 1; count &lt; months; count++)\n{\n    if (rainfall[count] &gt; highest) { //there was a bug here in your code: ... rainfall[0]\n        highest = rainfall[count];\n        indexofHeighest = count;\n    }\n}\nreturn highest;\n}\n</code></pre>\n\n<p>you can also use a function to input data (and maybe add a little error checking):</p>\n\n<pre><code>//Input from using for the rainfall amounts\nint readData(string monthNames[], double rain[], int n) {\n    int i;\n    std::cout &lt;&lt; \"Please enter the amount of rainfall in inches, that fell in each month.\\n\";\n    for ( i=0; i&lt;n; i++) {\n        std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; monthNames[i];\n        std::cin &gt;&gt; rain[i]; //check this value somehow!\n    }\n    return i;   \n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcb426630e68c97ccda2e925f98de09?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Ortiz", "link": "https://stackoverflow.com/users/5420579/jonathan-ortiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444264344, "creation_date": 1444258964, "last_edit_date": 1444264344, "question_id": 33003880, "link": "https://stackoverflow.com/questions/33003880/using-the-3rd-parameter-of-a-function", "title": "Using the 3rd parameter of a function", "body": "<p>Can anyone help me figure out how to get the 3rd parameter of the getLowest/getHighest function to reference the names array that has the months of the year and display the names of the month when I call for it? What's supposed to happen with those  functions is that they are supposed to be able to give the name of the month that corresponds with the lowest/highest amount in the array. I can't seem to get it down. That's the last thing I need for this code and I'm trying very hard to figure it out. Any help would be much appreciated. Thank you.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\nusing namespace std;\n\n//Function prototypes\ndouble getTotal(double [], int);\ndouble getAverage(double [], int);\ndouble getLowest(double [], int, int&amp;);\ndouble getHighest(double [], int, int&amp;);\n\nint main()\n{\n    const int months = 12;\n    string names[months] = { \"January\", \"February\", \"March\", \"April\",\n        \"May\", \"June\", \"July\", \"August\",\n        \"September\", \"October\", \"November\", \"December\" };\n    double rainfall[months];\n    double total, average, maxRain, minRain;\n    int indexofLowest, indexofHighest;\n\n    //Input from using for the rainfall amounts\n    std::cout &lt;&lt; \"Please enter the amount of rainfall in inches, that fell in each month.\\n\";\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[0];\n    std::cin &gt;&gt; rainfall[0];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[1];\n    std::cin &gt;&gt; rainfall[1];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[2];\n    std::cin &gt;&gt; rainfall[2];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[3];\n    std::cin &gt;&gt; rainfall[3];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[4];\n    std::cin &gt;&gt; rainfall[4];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[5];\n    std::cin &gt;&gt; rainfall[5];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[6];\n    std::cin &gt;&gt; rainfall[6];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[7];\n    std::cin &gt;&gt; rainfall[7];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[8];\n    std::cin &gt;&gt; rainfall[8];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[9];\n    std::cin &gt;&gt; rainfall[9];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[10];\n    std::cin &gt;&gt; rainfall[10];\n    std::cout &lt;&lt; \"Enter the amount of rainfall for \" &lt;&lt; names[11];\n    std::cin &gt;&gt; rainfall[11];\n\n    //Get total\n    total = getTotal(rainfall, months);\n\n    //Get average\n    average = getAverage(rainfall, months);\n\n    //Get the max amount of rain\n    maxRain = getHighest(rainfall, months, indexofHighest);\n\n    //Get the min amount of rain\n    minRain = getLowest(rainfall, months, indexofLowest);\n\n    //Display the total, average, highest/lowest\n    std::cout &lt;&lt; \"The total amount of rain for the year is \" &lt;&lt; total &lt;&lt; \" inches.\\n\";\n    std::cout &lt;&lt; \"The average amount of rain monthly is \" &lt;&lt; average &lt;&lt; \" inches per month.\\n\";\n    std::cout &lt;&lt; \"The month that had the highest amount of rainfall is \" &lt;&lt; names[indexofHighest] &lt;&lt; \" with \" &lt;&lt; maxRain &lt;&lt; \" inches.\\n\";\n    std::cout &lt;&lt; \"The month that has the lowest amount of rainfall is \" &lt;&lt; names[indexofLowest] &lt;&lt; \" with \" &lt;&lt; minRain &lt;&lt; \" inches.\\n\";\n    return 0;\n\n}\n\n//Definition of function getTotal\ndouble getTotal(double rainfall[], int months)\n{\n    double total = 0;\n    for (int count = 0; count &lt; months; count++)\n    {\n        total += rainfall[count];\n    }\n    return total;\n}\n\n//Definition of function getAverage\ndouble getAverage(double rainfall[], int months)\n{\n    double total = 0;\n    double average = 0.0;\n    for (int count = 0; count &lt; months; count++)\n    {\n        total += rainfall[count];\n        average = total / months;\n    }\n    return average;\n}\n\n//Defintion of function getLowest\ndouble getLowest(double rainfall[], int months, int indexofLowest)\n{\n\n    int count;\n    double lowest;\n\n    lowest = rainfall[0];\n    for (count = 1; count &lt; months; count++)\n    {\n        if (rainfall[count] &lt; lowest)\n            lowest = rainfall[count];\n    }\n    return lowest;\n}\n\n//Definition of function getHighest\ndouble getHighest(double rainfall[], int months, int indexofHighest)\n{\n    int count;\n    double highest;\n\n    highest = rainfall[0];\n    for (count = 1; count &lt; months; count++)\n    {\n        if (rainfall[0] &gt; highest)\n            highest = rainfall[count];\n    }\n    return highest;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "constructor"], "answers": [{"tags": [], "owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "is_accepted": true, "score": 8, "last_activity_date": 1444258753, "creation_date": 1444258753, "answer_id": 33003840, "question_id": 33003793, "link": "https://stackoverflow.com/questions/33003793/delegation-and-calling-parent-class-constructors-how-do-i-do-both/33003840#33003840", "title": "Delegation and Calling Parent Class Constructors: How do I do both?", "body": "<p>Option #3 is the only valid one. You can't have a base initializer and a delegation in the same init list for the same reason you can't have a member initializer and a delegation: how would the compiler know not to initialize the member/base twice?</p>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1444258823, "creation_date": 1444258823, "answer_id": 33003853, "question_id": 33003793, "link": "https://stackoverflow.com/questions/33003793/delegation-and-calling-parent-class-constructors-how-do-i-do-both/33003853#33003853", "title": "Delegation and Calling Parent Class Constructors: How do I do both?", "body": "<p>This is the only valid option:</p>\n\n<pre><code>class Bar : public Foo {\n    public:\n        Bar(int, float) : Bar(int, float, 'c') {}\n        Bar(int, float, char) : Foo(int) {}\n};\n</code></pre>\n\n<p>If your constructor delegates, then its mem-initializer-list is allowed to only consist of the <strong>single</strong> delegating constructor call. </p>\n"}], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2666, "favorite_count": 0, "accepted_answer_id": 33003840, "answer_count": 2, "score": 7, "last_activity_date": 1444258823, "creation_date": 1444258494, "question_id": 33003793, "link": "https://stackoverflow.com/questions/33003793/delegation-and-calling-parent-class-constructors-how-do-i-do-both", "title": "Delegation and Calling Parent Class Constructors: How do I do both?", "body": "<p>I was wondering something, regarding delegation of derived class constructors.  What's the proper method for delegating constructors when you also have to call the parent class' constructor?  I know you can't have both delegation and member initialisation in the same initialiser list, but I don't know if calling the parent class' constructor has the same limitation.</p>\n\n<pre><code>// Option 1: Call parent class constructor, then delegate:\n\nclass Foo {\n    public:\n        Foo(int);\n};\n\nclass Bar : public Foo {\n    public:\n        Bar(int, float) : Foo(int), Bar(int, float, 'c');\n        Bar(int, float, char);\n};\n\n// Option 2: Delegate, then call parent class constructor:\n\nclass Foo {\npublic:\n    Foo(int);\n};\n\nclass Bar : public Foo {\n    public:\n        Bar(int, float) : Bar(int, float, 'c'), Foo(int);\n        Bar(int, float, char);\n};\n\n// Option 3: Primary constructor calls parent class constructor:\n\nclass Foo {\n    public:\n        Foo(int);\n};\n\nclass Bar : public Foo {\n    public:\n        Bar(int, float) : Bar(int, float, 'c');\n        Bar(int, float, char) : Foo(int);\n};\n</code></pre>\n\n<p>I would assume it's either #1 or #3 (most likely #3), but I'm not sure; I know it's not a combination, since that would call Foo() twice.  I don't think it's #2, but I listed it just to cover all the possibilities.</p>\n\n<p>I know there's a bit of a weird property to delegation in C++, too, in that the class is considered to be constructed as soon as any of its constructors finishes executing, even if you delegated the call to a different one and it hasn't finished the one that was actually [i]called[/i] yet.  I don't think that would have any effect in this case, but it's worth mentioning.</p>\n\n<p>I searched the site and googled it, but couldn't find an exact answer; the closest I could find was the bit about not having delegation and initialisation in the same init list, on MSDN.  I'm unable to run some test code through a fully C++11-compatible compiler right at the moment, so I couldn't just experiment.  Help would be appreciated.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "qt", "error-handling", "windows-7-x64"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1444272533, "post_id": 33003769, "comment_id": 53836146, "body": "Is G: a mapped network drive? Those are per-session."}, {"owner": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "reply_to_user": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1444295940, "post_id": 33003769, "comment_id": 53846676, "body": "@AndrewMedico I&#39;m not sure what a mapped network drive is, but I guess not. There is no G:/ normally, but it should and does appear when I plug in my android phone. Basically I&#39;m checking if the phone is plugged in and the data from it is readable."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "edited": false, "score": 0, "creation_date": 1444331613, "post_id": 33015481, "comment_id": 53870649, "body": "Thank you, I will try that. Just a minor correction, QDir::isReadable() triggers the error even if the device was never inserted in the first place.  I was thinking about calling QDir::exists() and if true call QDir::isReadable(), so it would check if the drive is readable only if it exists, i&#39;ll test and see what happens."}, {"owner": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "edited": false, "score": 0, "creation_date": 1444337878, "post_id": 33015481, "comment_id": 53873964, "body": "I tried, your solution works only until I insert a drive, then when I remove it the same error as before comes back. I guess that&#39;s just windows complaining about me disconnecting the drive while it is reading data? Is there a way to disable that?"}, {"owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "reply_to_user": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "edited": false, "score": 0, "creation_date": 1444339010, "post_id": 33015481, "comment_id": 53874499, "body": "@Metsuryu If the application reads the drive after <code>DeviceIoControl()</code> validation it is a problem. It is possible to change app error mode by <code>UINT oldMode = SetErrorMode( SEM_FAILCRITICALERRORS );</code> Later if needed it is possible to restore error mode after that critical section <code>SetErrorMode(oldMode);</code>"}, {"owner": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "edited": false, "score": 0, "creation_date": 1444340778, "post_id": 33015481, "comment_id": 53875274, "body": "It appears to be working, I&#39;m going to test it some more and let you know, thanks so much."}], "tags": [], "owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "is_accepted": true, "score": 3, "last_activity_date": 1444311818, "last_edit_date": 1495542148, "creation_date": 1444306424, "answer_id": 33015481, "question_id": 33003769, "link": "https://stackoverflow.com/questions/33003769/im-using-qdir-isreadable-to-check-if-a-drive-is-readable-in-the-qt-creator-i/33015481#33015481", "title": "I&#39;m using QDir().isReadable to check if a drive is readable. In the Qt Creator it runs fine, but when I run the exe it keeps giving me errors", "body": "<p>This message is generated by Windows.</p>\n\n<p>There is a workaround for users that have applications that cannot be fixed. The error messages may be suppressed by setting <code>2</code> to registry key <code>ErrorMode</code> in:</p>\n\n<pre><code>Computer\\HKEY_LOCAL\\MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Windows\n</code></pre>\n\n<p>It looks that if <code>QDir::isReadable()</code> is called after removing the media it triggers that error. <code>QDir::exists()</code> always returns <code>true</code> if the drive letter is present in the system, so it cannot be used here.</p>\n\n<p>For now I see that it is possible to check removable media using native Windows API, see the answer to <a href=\"https://stackoverflow.com/questions/3158054/how-to-detect-if-media-is-inserted-into-a-removable-drive-card-reader\">How to detect if media is inserted into a removable drive/card reader</a></p>\n\n<p>The following code is able to detect that the media is removed without triggering the error:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n\nHANDLE hDevice = CreateFile (L\"\\\\\\\\.\\\\G:\",         // like \"\\\\.\\G:\"\n                             FILE_READ_ATTRIBUTES, // read access to the attributes\n                             FILE_SHARE_READ | FILE_SHARE_WRITE, // share mode\n                             NULL, OPEN_EXISTING, 0, NULL);\n\nif (hDevice == INVALID_HANDLE_VALUE) {\n    // not valid device\n    return;\n}\n\nWORD cbBytesReturned;\nbool bSuccess = DeviceIoControl (hDevice,                // device to be queried\n                            IOCTL_STORAGE_CHECK_VERIFY2,\n                            NULL, 0,                     // no input buffer\n                            NULL, 0,                     // no output buffer\n                            (LPDWORD)&amp;cbBytesReturned,   // # bytes returned\n                            NULL);                       // synchronous I/O\n\nCloseHandle(hDevice); // close handle\n\nif (bSuccess &amp;&amp; QDir(\"G:/\").isReadable()) {\n    // G is readable\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4045784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/W1DdL.jpg?s=128&g=1", "display_name": "Metsuryu", "link": "https://stackoverflow.com/users/4045784/metsuryu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 33015481, "answer_count": 1, "score": 1, "last_activity_date": 1444311818, "creation_date": 1444258375, "last_edit_date": 1444269888, "question_id": 33003769, "link": "https://stackoverflow.com/questions/33003769/im-using-qdir-isreadable-to-check-if-a-drive-is-readable-in-the-qt-creator-i", "title": "I&#39;m using QDir().isReadable to check if a drive is readable. In the Qt Creator it runs fine, but when I run the exe it keeps giving me errors", "body": "<p>I'm using it like this:</p>\n\n<pre><code>if(QDir(\"G:/\").isReadable()){\n    qDebug(\"G Is readable!\"); //Do something with G:/\n}\n</code></pre>\n\n<p>As I said, in Qt Creator it runs fine without a problem, it checks if the drive is readable, and if so it prints it to the console, if not, it does nothing.</p>\n\n<p>But when I run the .exe file, it keeps giving me errors each time it does the check (every 2 seconds) if the drive isn't readable.</p>\n\n<p>\"There is no disk in the drive. Please insert a disk into drive G:.\"</p>\n\n<p>I don't want this error to keep appearing, what do I do?</p>\n\n<p>Edit: I think it's the isReadable function that causes the problem, is there any other way to do what I want to do? Or maybe should I write the code myself?</p>\n"}, {"tags": ["c++", "inversion-of-control", "factory"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1444292340, "post_id": 33003730, "comment_id": 53844345, "body": "There are IoC libraries for C++, but it&#39;s best to start with <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">Pure DI</a> (which means dependency injection without a library) and move to using a tool if it has proven to be effective."}, {"owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1444293870, "post_id": 33003730, "comment_id": 53845270, "body": "It&#39;s required because I am making a multi platform solution. My core app code needs to work with interfaces... Plus i will also be able to test stuff."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1444294380, "post_id": 33003730, "comment_id": 53845613, "body": "Yes, you want to apply the Dependency Injection pattern and adhere to the Dependency Inversion Principle. But those are just patterns and principles. You don&#39;t need a tool to use those patterns. Please read <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">this article</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1917, "user_id": 685664, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/561eda4f16a26993b8c3da7d5c5b1327?s=128&d=identicon&r=PG&f=1", "display_name": "mister why", "link": "https://stackoverflow.com/users/685664/mister-why"}, "is_accepted": true, "score": 3, "last_activity_date": 1496937868, "creation_date": 1496937868, "answer_id": 44440618, "question_id": 33003730, "link": "https://stackoverflow.com/questions/33003730/ioc-and-factory-for-c-alternative-to-microsoft-unity-for-c/44440618#44440618", "title": "IoC and Factory for C++ - Alternative to Microsoft Unity for c#", "body": "<p>I might be a bit late but you should give a look at <a href=\"https://github.com/ybainier/Hypodermic\" rel=\"nofollow noreferrer\">Hypodermic</a>.</p>\n\n<p>It's header only, it comes with a pretty cool Dsl plus it's been used for years in production environments.</p>\n"}], "owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 0, "accepted_answer_id": 44440618, "answer_count": 1, "score": 0, "last_activity_date": 1496937868, "creation_date": 1444258209, "last_edit_date": 1444260056, "question_id": 33003730, "link": "https://stackoverflow.com/questions/33003730/ioc-and-factory-for-c-alternative-to-microsoft-unity-for-c", "title": "IoC and Factory for C++ - Alternative to Microsoft Unity for c#", "body": "<p>What is the most common use sturdy nugetpackage/library/framework for C++ that does pretty much the same as the C# library by Microsoft called Unity: <a href=\"http://unity.codeplex.com/\" rel=\"nofollow\">http://unity.codeplex.com/</a> ?</p>\n\n<p>The end result would look <strong>something like this</strong>:</p>\n\n<pre><code>class IProjectRepository\n{\npublic:\n    vector&lt;Project&gt; GetProjects() = 0;\n}\n\nclass XMLProjectRepository : IProjectRepository\n{\npublic:\n    vector&lt;Project&gt; GetProjects()\n    {\n        return // implementation\n    }\n}\n\nclass Application\n{\npublic:\n    Application( shared_ptr&lt;IProjectRepository&gt; projectRepository ) \n    // Or however this would look... \n    // projectRepository would be an instance of whatever i have registered (see below)\n    {\n        auto projects = this.projectRepository.GetProjects();\n    }\n}\n</code></pre>\n\n<p>And in some startup area i would bind like this:</p>\n\n<pre><code>BinderFramework::Register&lt;IProjectRepository, XMLProjectRepository&gt;();What is the most common use sturdy nuget package/library for C++ that does pretty much the same as the C# library by Microsoft called Unity: http://unity.codeplex.com/\n</code></pre>\n\n<p>I have been looking for a while now, but can't quite find a nice complete and simple solution.</p>\n\n<p>The idea is to use a well known framework rather than write my own flaky code.</p>\n"}, {"tags": ["c++", "assembly"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1444258653, "post_id": 33003700, "comment_id": 53832460, "body": "The &#39;logic&#39; is essentially that C++ generates assembly language."}, {"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1444272475, "post_id": 33003700, "comment_id": 53836125, "body": "The C++ &quot;compiler&quot; generates the assembly language."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5420048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69aecc48c1fcb13a8d0a90e4ad07628e?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Gavil&#225;n", "link": "https://stackoverflow.com/users/5420048/edward-gavil%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1444768084, "post_id": 33005750, "comment_id": 54038274, "body": "I think this is the best answer that I&#180;m going to get. Thank you very much for share your knowlkedge."}], "tags": [], "owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "is_accepted": true, "score": 2, "last_activity_date": 1444272438, "creation_date": 1444272438, "answer_id": 33005750, "question_id": 33003700, "link": "https://stackoverflow.com/questions/33003700/relationship-between-high-and-low-level-programming-languages/33005750#33005750", "title": "Relationship between high and low level programming languages", "body": "<p>You go to the hardware store and you can find beams and boards and nails and screws and bricks and mortar and all kinds of basic building materials. Combinations of those materials can build a dog house, a people house, an office building, a sidewalk, a road, a mailbox, etc.</p>\n\n<p>C/C++ is the house, the mailbox, the storage shed.  The bricks and boards and nails are the machine language.  The word brick and nail are the assembly language that describe and have a one to one relationship with a single instances of the material.</p>\n\n<p>When you take a line of high level code</p>\n\n<pre><code>a = b + c;\n</code></pre>\n\n<p>you cannot run that in that form, not really even interpreted, because the interpreter itself is a program made up of smaller pieces.  A compiler be it a human doing it by hand or a program evolved from other programs, is used to interpret that line of high level code, allocate registers or memory for each of the variables and pick from the available instructions in the instruction set and order of those instructions to create a program that the processor can understand, that performs the same functional task.  give this problem to 100 people and you may get anywhere from 1 to 100 different solutions, there is always more than one way to have a functional equivalent to a high level program in the instruction set that the processor understands.</p>\n\n<p>Assembly language is ideally just a human readable and writable form of the instruction set for that processor, so that we dont have to stare at bits and bytes of machine code.  an assembler is a much simpler program that converts the assembly language mnemonics into machine code, ideally one asm instruction to one machine instruction, but the assembler may add other features to make the task of hand programming (or even compiler generated asm) easier on the human.</p>\n\n<p>the \"logic\" between these levels is other programs called compilers, assemblers and linkers that \"convert\" the high level program into a functional equivalent at the low level.  The processor can only actually execute the low level.  The high level source code is just a blob of data no different than a book, web page, audio file, video, etc to the processor, it cannot understand it without a program in its native language that can parse that data.</p>\n"}], "owner": {"reputation": 71, "user_id": 5420048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69aecc48c1fcb13a8d0a90e4ad07628e?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Gavil&#225;n", "link": "https://stackoverflow.com/users/5420048/edward-gavil%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "closed_date": 1444303231, "accepted_answer_id": 33005750, "answer_count": 1, "score": 0, "last_activity_date": 1444755480, "creation_date": 1444258089, "last_edit_date": 1444755480, "question_id": 33003700, "link": "https://stackoverflow.com/questions/33003700/relationship-between-high-and-low-level-programming-languages", "closed_reason": "Needs more focus", "title": "Relationship between high and low level programming languages", "body": "<p>How low and high level programing languges are related with each other? As an example, assembler language and C++ work at different levels but, what kind of logic exist between those levels? Let\u00b4s suposse that I write a Hello World! program in C++, I compile and run it. What thing do I need to care about in order to make more efficient my code on the assembler level??   </p>\n"}, {"tags": ["c++", "mysql", "odbc", "mysql-connector"], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 2294323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmKqy.jpg?s=128&g=1", "display_name": "hmojtaba", "link": "https://stackoverflow.com/users/2294323/hmojtaba"}, "is_accepted": true, "score": 3, "last_activity_date": 1444311985, "creation_date": 1444311985, "answer_id": 33017675, "question_id": 33003635, "link": "https://stackoverflow.com/questions/33003635/mysql-c-connector-how-to-keep-the-connection-alive-and-reconnect-if-connectio/33017675#33017675", "title": "mysql c++ connector, how to keep the connection alive and reconnect if connection is broked?", "body": "<p>after hours of digging i found the solution. I cross-compiled the newer version of mysql c++ connector and used it to compile and run my code. now the methods isValid() and reconnect() are working. (the method setreadOnly() seems to be not implemented yet).</p>\n\n<p>and my final working code is:</p>\n\n<pre><code>bool MySqlCommunicator::Connect()\n{\n    try\n    {\n        bool connected = connection != NULL &amp;&amp; (connection-&gt;isValid() || connection-&gt;reconnect());\n\n        if (!connected)\n        {\n            connection = driver-&gt;connect(Server, UserID, Password);\n            connected = connection-&gt;isValid();\n        }\n\n        if (connected)\n        {\n            //connection-&gt;setReadOnly(false);\n\n            statement = connection-&gt;createStatement();\n            char str[255];\n            sprintf(str, \"USE %s\", Database);\n            statement-&gt;execute(str);\n            return true;\n        }\n        return false;\n    }\n    catch (sql::SQLException &amp;e)\n    {\n        delete connection;\n        connection = NULL;\n        return false;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 2294323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmKqy.jpg?s=128&g=1", "display_name": "hmojtaba", "link": "https://stackoverflow.com/users/2294323/hmojtaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2985, "favorite_count": 1, "accepted_answer_id": 33017675, "answer_count": 1, "score": 1, "last_activity_date": 1444311985, "creation_date": 1444257784, "last_edit_date": 1444282435, "question_id": 33003635, "link": "https://stackoverflow.com/questions/33003635/mysql-c-connector-how-to-keep-the-connection-alive-and-reconnect-if-connectio", "title": "mysql c++ connector, how to keep the connection alive and reconnect if connection is broked?", "body": "<p>i'm using <a href=\"https://dev.mysql.com/downloads/connector/cpp/\" rel=\"nofollow\">mysql c++ connector</a>. I want to connect to my database and keep connecting and reconnect if the connection goes away.</p>\n\n<p>here is a code to connect:</p>\n\n<pre><code>driver = sql::mysql::get_driver_instance();\nconnection = driver-&gt;connect(Server, UserID, Password);\n</code></pre>\n\n<p><a href=\"http://dev.mysql.com/doc/connector-cpp/en/connector-cpp-examples-connecting.html\" rel=\"nofollow\">here</a> it says that the method connection->isValid() and reconnect() are there to know whether the connection is alive and to reconnect if it is not. so i'm dong this:</p>\n\n<pre><code>bool MySqlCommunicator::Connect()\n{\n    try\n    {\n        bool connected = connection != NULL &amp;&amp; (connection-&gt;isValid() || connection-&gt;reconnect());\n\n        if (!connected)\n        {\n            connection = driver-&gt;connect(Server, UserID, Password);\n            connected = connection-&gt;isValid();                \n        }\n\n        if (connected)\n        {  \n            statement = connection-&gt;createStatement();\n            char str[255];\n            sprintf(str, \"USE %s\", Database);\n            statement-&gt;execute(str);\n            return true;\n        }\n        return false;\n    }\n    catch (sql::SQLException &amp;e)\n    {\n        delete connection;\n        connection = NULL;\n        return false;\n    }    \n}\n</code></pre>\n\n<p>then every time i want to execute a query i call Connect() to make sure the connection is ready. i assume the Connect() method will reconnect if the connection is not alive.</p>\n\n<p>BUT the program crashes when reaching to this line:</p>\n\n<pre><code>            bool connected = connection != NULL &amp;&amp; (connection-&gt;isValid() || connection-&gt;reconnect());\n</code></pre>\n\n<p>it cannot execute isValid() method, the program exits with message segmentation fault.</p>\n\n<p>well, i changed the code to the following:</p>\n\n<pre><code>bool MySqlCommunicator::Connect()\n{\n    try\n    {\n        bool connected = connection != NULL; //connection != NULL &amp;&amp; (connection-&gt;isValid() || connection-&gt;reconnect());\n\n        if (!connected)\n        {\n            connection = driver-&gt;connect(Server, UserID, Password);\n            //connected = connection-&gt;isValid();\n            connected = true;\n        }\n\n        if (connected)\n        {   \n            statement = connection-&gt;createStatement();\n            char str[255];\n            sprintf(str, \"USE %s\", Database);\n            statement-&gt;execute(str);\n            return true;\n        }\n        return false;\n    }\n    catch (sql::SQLException &amp;e)\n    {\n        delete connection;\n        connection = NULL;\n        return false;\n    }    \n}\n</code></pre>\n\n<p>now it works! if any error occurs it will reconnect to make it right. but this is NOT a solution! I want a proper solution for this.</p>\n\n<ul>\n<li>Why my first code is crashing on the mentioned line?</li>\n<li>Other methods like connection->setReadOnly() also make the program crash! what is the cause of it?</li>\n<li>What is the best way to make sure a connection is alive?</li>\n<li>What is the best practice to reconnect to a remote database in case of an error?</li>\n</ul>\n\n<p>(Waiting for somebody to answer! thanks in advance)</p>\n"}, {"tags": ["c++", "smart-pointers", "void-pointers", "reinterpret-cast"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1444257299, "post_id": 33003510, "comment_id": 53832042, "body": "Weird stuff. What&#39;s the need for it?"}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444257596, "post_id": 33003510, "comment_id": 53832125, "body": "There is no basic need, it was just a self desired exercise to strengthen my skills with templates. I thought it would be a nice utility type class where you can instantiate it with a desired type and then call its member function to create either a shared_ptr or unique_ptr of that type, or do the same by using its constructors."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1444257874, "post_id": 33003510, "comment_id": 53832210, "body": "You simply can&#39;t do that, a void pointer doesn&#39;t carry any type information with it, unless you can imply it using a reasonable <code>reinterpret_cast</code>, where you exactly know how to interpret the memory layout pointed to with the <code>void*</code> pointer."}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1444257890, "post_id": 33003510, "comment_id": 53832212, "body": "Is your <code>void*</code> pointing at a shared/unique ptr? Or is it pointing are what the share/unique ptr points at too? Or are you really trying to reinterpret the bytes of a shared/unique ptr as a <code>void*</code>? If the third possibility (as your other code implies), then I think you&#39;re doomed. Among other problems, there&#39;s no guarantee that the size of a void pointer is the same as the size of a shared/unique pointer (and I believe shared_ptr will probably never be the same size)."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444258038, "post_id": 33003510, "comment_id": 53832247, "body": "The method doesn&#39;t know if the user is going to pass in a shared_ptr or a unique_ptr when the function is called or invoked. I was using void* in its declaration, but when the function is being used one needs to pass in one or the other."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444258171, "post_id": 33003510, "comment_id": 53832294, "body": "At one point I was thinking about removing the template type from the class itself and just having the functions themselves being function templates. Doing it this way would require two separate functions."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444258225, "post_id": 33003510, "comment_id": 53832304, "body": "This was a self desired exercise to strengthen my skills with templates and thought that this might be a handy utility class to quickly create shared &amp; unique ptrs of a specific type on the fly."}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1444258736, "post_id": 33003510, "comment_id": 53832489, "body": "The class you&#39;ve shown already has overloads for shared_ptr and unique_ptr... so I&#39;m missing why the <code>void*</code> overload even needs to worry about them. Are you trying to compress the implementations of <code>allocate</code> into one function (as per Remy&#39;s answer)? If so, that just seems to be over-complicating what should be a couple simple separate overloads. Otherwise, are you calling the class in a way that the current <code>std::shared_ptr&lt;Type&gt;&amp;</code> and <code>std::unique_ptr&lt;Type&gt;&amp;</code> overloads don&#39;t already handle? If so, then show what you&#39;re really trying to achieve on the outside."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444262382, "post_id": 33003510, "comment_id": 53833504, "body": "With everyone&#39;s feed back I was able to revamp this class, I provided it as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444257469, "post_id": 33003549, "comment_id": 53832089, "body": "Well strange machine/compiler specific hacks (canaries and such) may be applicable. Though no standard way to do such, totally agreed."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444257830, "post_id": 33003549, "comment_id": 53832200, "body": "I was thinking about that so if it is not possible to check to see if the pointer passed into the function is one type or another, how do I know which method to call? If one passes a shared_ptr versus a unique_ptr this is where I&#39;m stuck. I was thinking about using a enum type to be specified, but if one uses a SHARED_PTR enum but an unique_ptr is passed in that would be a problem and vice versa."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 2, "creation_date": 1444258482, "post_id": 33003549, "comment_id": 53832399, "body": "@FrancisCugler You should actually pass the smart pointer - rather than a <code>void*</code>. Don&#39;t just drop the type information on the floor if you actually need it!"}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444262428, "post_id": 33003549, "comment_id": 53833520, "body": "With everyone&#39;s feed back I was able to revamp this class, I provided it as an answer."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 8, "last_activity_date": 1444257278, "creation_date": 1444257278, "answer_id": 33003549, "question_id": 33003510, "link": "https://stackoverflow.com/questions/33003510/testing-if-a-void-passed-into-a-function-is-either-a-shared-ptr-or-a-unique-ptr/33003549#33003549", "title": "Testing if a void* passed into a function is either a shared_ptr or a unique_ptr", "body": "<p>You can't check to see what type a <code>void*</code> is. It's a <code>void*</code>. That's it. It's not like <code>boost::any</code> where it's craftily hiding some other type information. It's <strong>just</strong> <code>void*</code>. You can't check what type it came from. You can't test to see if it came from a specific type. You have zero information. Zip. Nada. Zilch. Void. </p>\n"}, {"comments": [{"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444260304, "post_id": 33003782, "comment_id": 53832991, "body": "This is what I was aiming for and thank you for the clarification. However I did notice that you are using a static_cast as opposed to a reinterpret_cast. However, since this class doesn&#39;t store any internal values and only has member functions. I kind of went a different route."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444261406, "post_id": 33003782, "comment_id": 53833267, "body": "<code>reinterpret_cast</code> is meant to be used when casting between integers and pointers, or between unrelated pointer types. That does not really include <code>void*</code>, though.  You can <code>static_cast</code> from <code>void*</code> to any other pointer type (any pointer type can be directly assigned to a <code>void*</code> without using a cast at all)."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444261893, "post_id": 33003782, "comment_id": 53833381, "body": "Labeau Thank you for that information; I have used static_cast and dynamic_cast quite often, but I have not used reinterpret_cast all that much. Thank you for easily clarifying the main differences."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1444262441, "post_id": 33003782, "comment_id": 53833526, "body": "With everyone&#39;s feed back I was able to revamp this class, I provided it as an answer."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1444259225, "last_edit_date": 1444259225, "creation_date": 1444258440, "answer_id": 33003782, "question_id": 33003510, "link": "https://stackoverflow.com/questions/33003510/testing-if-a-void-passed-into-a-function-is-either-a-shared-ptr-or-a-unique-ptr/33003782#33003782", "title": "Testing if a void* passed into a function is either a shared_ptr or a unique_ptr", "body": "<p>A <code>void*</code> pointer does not carry any type information.  What you need to do is pass around an additional value along with the <code>void*</code> to specify what the <code>void*</code> points to, and then you can type-cast it accordingly.</p>\n\n<pre><code>#ifndef ALLOCATOR_H\n#define ALLOCATOR_H\n\n#include &lt;memory&gt;\n#include &lt;iostream&gt;\n\ntemplate&lt;class Type&gt;\nclass Allocator {\npublic:\n    enum AllocateType { eSharedPtr, eUniquePtr };\n\n    Allocator() {}\n    Allocator( Type type, std::shared_ptr&lt;Type&gt;&amp; pData );\n    Allocator( Type type, std::unique_ptr&lt;Type&gt;&amp; pData );\n    // ~Allocator(); // Default Okay\n\n    void allocate( Type type, std::shared_ptr&lt;Type&gt;&amp; pData );\n    void allocate( Type type, std::unique_ptr&lt;Type&gt;&amp; pData );\n\nprivate:\n    Allocator( const Allocator&amp; c ); // Not Implemented\n    Allocator&amp; operator=( const Allocator&amp; c ); // Not Implemented\n\n    void allocate( Type type, AllocateType eDataType, void* pData );\n\n}; // Allocator\n\n#include \"Allocator.inl\"\n\n#endif // ALLOCATOR_H\n</code></pre>\n\n<p></p>\n\n<pre><code>template&lt;class Type&gt;\nAllocator&lt;Type&gt;::Allocator( Type type, std::shared_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, pData );\n}\n\ntemplate&lt;class Type&gt;\nAllocator&lt;Type&gt;::Allocator( Type type, std::unique_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, pData );\n}\n\ntemplate&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, std::shared_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, eSharedPtr, &amp;pData );\n}\n\ntemplate&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, std::unique_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, eUniquePtr, &amp;pData );\n}\n\ntemplate&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, AllocateType eDataType, void* pData ) {\n    switch (eDataType) {\n        case eSharedPtr: {\n            static_cast&lt;std::shared&lt;Type&gt;*&gt;(pData)-&gt;reset( new Type( type ) );\n            break;\n        }\n        case eUniquePtr: {\n            static_cast&lt;std::unique_ptr&lt;Type&gt;*&gt;(pData)-&gt;reset( new Type( type ) );\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>In which case, I wouldn't even bother trying to funnel everything through a single function to begin with:</p>\n\n<pre><code>#ifndef ALLOCATOR_H\n#define ALLOCATOR_H\n\n#include &lt;memory&gt;\n#include &lt;iostream&gt;\n\ntemplate&lt;class Type&gt;\nclass Allocator {\npublic:\n    Allocator() {}\n    Allocator( Type type, std::shared_ptr&lt;Type&gt;&amp; pData );\n    Allocator( Type type, std::unique_ptr&lt;Type&gt;&amp; pData );\n    // ~Allocator(); // Default Okay\n\n    void allocate( Type type, std::shared_ptr&lt;Type&gt;&amp; pData );\n    void allocate( Type type, std::unique_ptr&lt;Type&gt;&amp; pData );\n\nprivate:\n    Allocator( const Allocator&amp; c ); // Not Implemented\n    Allocator&amp; operator=( const Allocator&amp; c ); // Not Implemented\n\n}; // Allocator\n\n#include \"Allocator.inl\"\n\n#endif // ALLOCATOR_H\n</code></pre>\n\n<p></p>\n\n<pre><code>template&lt;class Type&gt;\nAllocator&lt;Type&gt;::Allocator( Type type, std::shared_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, pData );\n}\n\ntemplate&lt;class Type&gt;\nAllocator&lt;Type&gt;::Allocator( Type type, std::unique_ptr&lt;Type&gt;&amp; pData ) {\n    allocate( type, pData );\n}\n\ntemplate&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, std::shared_ptr&lt;Type&gt;&amp; pData ) {\n    pData.reset( new Type( type ) ) ;\n}\n\ntemplate&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, std::unique_ptr&lt;Type&gt;&amp; pData ) {\n    pData.reset( new Type( type ) );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1444272455, "post_id": 33004305, "comment_id": 53836118, "body": "You don&#39;t really need the extra 2 <code>allocate()</code> overloads that have <code>type</code> parameters. You can have 2 overloads total that have <code>type</code> parameters with default values for when not specified by the caller, eg: <code>static void allocate( std::shared_ptr&lt;Type&gt;&amp; pShared, Type type = Type() ); ... Allocator::allocate( pShared ); ... Allocator::allocate( shared, a1 );</code>  You might also consider changing <code>Type type</code> to <code>const Type &amp;type</code> to avoid unnecessary copies."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1444273059, "post_id": 33004305, "comment_id": 53836275, "body": "@Remy Lebeau Very true; I wasn&#39;t thinking about that. I think I&#39;ll edit this answer to reflect your response."}], "tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 0, "last_activity_date": 1444274404, "last_edit_date": 1444274404, "creation_date": 1444261803, "answer_id": 33004305, "question_id": 33003510, "link": "https://stackoverflow.com/questions/33003510/testing-if-a-void-passed-into-a-function-is-either-a-shared-ptr-or-a-unique-ptr/33004305#33004305", "title": "Testing if a void* passed into a function is either a shared_ptr or a unique_ptr", "body": "<p>After some consideration and knowing that this class does not store any member variables internally and only contains functions that do a specific task I went with a different approach. I do thank every one for their feedback and answers since they do give good valid answers to the basic questions in which I originally asked. This is what I was able to achieve from your advise. I removed the stipulation that this class itself is a template, I made the default constructor private. I made sure each function is a function template and made them static. Here is my new class:</p>\n\n<p><strong>Allocator.h</strong></p>\n\n<pre><code>#ifndef ALLOCATOR_H\n#define ALLOCATOR_H\n\n#include &lt;memory&gt;\n\nclass Allocator {\npublic:\n    template&lt;class Type&gt;\n    inline static void allocate( std::shared_ptr&lt;Type&gt;&amp; pShared, const Type&amp; type = Type() );\n\n    template&lt;class Type&gt;\n    inline static void allocate( std::unique_ptr&lt;Type&gt;&amp; pUnique, const Type&amp; type = Type() );\n\nprivate:\n    Allocator();\n    Allocator( const Allocator&amp; c );\n    Allocator&amp; operator=( const Allocator&amp; c );\n\n}; // Allocator\n\n#include \"Allocator.inl\"\n\n#endif // Allocator\n</code></pre>\n\n<p><strong>Allocator.cpp</strong></p>\n\n<pre><code>#include \"Allocator.h\"\n</code></pre>\n\n<p><strong>Allocator.inl</strong></p>\n\n<pre><code>template&lt;class Type&gt;\ninline void Allocator::allocate( std::shared_ptr&lt;Type&gt;&amp; pShared, const Type&amp; type ) {\n    pShared.reset( new Type( type ) );  \n}\n\ntemplate&lt;class Type&gt;\ninline void Allocator::allocate( std::unique_ptr&lt;Type&gt;&amp; pUnique, const Type&amp; type ) {\n    pUnique.reset( new Type( type ) );\n}\n</code></pre>\n\n<p>This makes using this class simple.</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n\n#include \"Allocator.h\"\n\nclass A {\nprivate:\n    int m_a;\npublic:\n    explicit A( int a = 0 ) : m_a( a ) {}\n    A( const A&amp; a ) { this-&gt;m_a = a.m_a; }\n\n    int  getA() const { return m_a; }\n    void setA( int a ) { m_a = a; }\n}; // A\n\nint main() {\n\n    // Creating Smart A Pointer Just From A Class Type\n    std::shared_ptr&lt;A&gt; pShared;\n    std::unique_ptr&lt;A&gt; pUnique;\n\n    Allocator::allocate( pShared );\n    Allocator::allocate( pUnique );\n\n    std::cout &lt;&lt; \"Shared: \" &lt;&lt; pSharedA-&gt;getA() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Unique: \" &lt;&lt; pUniqueA-&gt;getA() &lt;&lt; std::endl;\n\n    pSharedA-&gt;setA( 4 );\n    pUniqueA-&gt;setA( 5 );\n\n    std::cout &lt;&lt; \"Shared: \" &lt;&lt; pSharedA-&gt;getA() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Unique: \" &lt;&lt; pUniqueA-&gt;getA() &lt;&lt; std::endl;\n\n    // Create A Smart Pointer From An Object Of Type In This Case A\n    // This next sections does rely on the fact that Type in this case A, should have a copy constructor defined.\n\n    A a1( 3 );\n    std::shared_ptr&lt;A&gt; sharedA;\n    std::unique_ptr&lt;A&gt; uniqueA;\n    Allocator::allocate( sharedA, a1 );\n    Allocator::allocate( uniqueA, a1 );\n\n    std::cout &lt;&lt; \"Shared: \" &lt;&lt; sharedA-&gt;getA() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Unique: \" &lt;&lt; uniqueA-&gt;getA() &lt;&lt; std::endl;\n\n    sharedA-&gt;setA( 6 );\n    uniqueA-&gt;setA( 7 );\n\n    std::cout &lt;&lt; \"Shared: \" &lt;&lt; sharedA-&gt;getA() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Unique: \" &lt;&lt; uniqueA-&gt;getA() &lt;&lt; std::endl;\n\n    pSharedA.reset();\n    pUniqueA.release();\n    pUniqueA.reset();\n\n    sharedA.reset();\n    uniqueA.release();\n    uniqueA.reset();\n\n    std::cout &lt;&lt; std::endl &lt;&lt; \"Press Any Key To Quit\" &lt;&lt; std::endl;\n    _getch();\n\n    return 0;\n\n} // main\n</code></pre>\n\n<p>This also removes the need to do any type casting, comparisons etc, improving the efficiency of the work being done. I could of even taken this one step further by declaring all of these functions as inline.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I took the advice of Remy Lebeau and removed two of the overloaded functions by adding in the <code>Type type</code> as a default parameter and also changed it to pass by const reference. I also made the functions inline.</p>\n"}], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 33003782, "answer_count": 3, "score": 0, "last_activity_date": 1444274404, "creation_date": 1444257008, "question_id": 33003510, "link": "https://stackoverflow.com/questions/33003510/testing-if-a-void-passed-into-a-function-is-either-a-shared-ptr-or-a-unique-ptr", "title": "Testing if a void* passed into a function is either a shared_ptr or a unique_ptr", "body": "<p>I am working on creating a function for a class and the parameter is declared as a void* however within the function I need to test if this void* is either a shared_ptr or unique_ptr is there a way to test for this type of situation?</p>\n\n<p>This is what I am working with so far; my class is a template type and does not store any member variables. It has a default constructor and it can also be constructed by passing in either a <code>shared_ptr&lt;Type&gt;</code> or an <code>unique_ptr&lt;Type&gt;</code> and it is has multiple <code>allocate()</code> functions where they do the same type of work.</p>\n\n<pre><code>#ifndef ALLOCATOR_H\n#define ALLOCATOR_H\n\n#include &lt;memory&gt;\n#include &lt;iostream&gt;\n\ntemplate&lt;class Type&gt;\nclass Allocator {\npublic:\n    Allocator(){}\n    Allocator( Type type, void* pPtr );\n    Allocator( std::shared_ptr&lt;Type&gt;&amp; pType );\n    Allocator( std::unique_ptr&lt;Type&gt;&amp; pType );\n    // ~Allocator(); // Default Okay\n\n    void allocate( std::shared_ptr&lt;Type&gt;&amp; pType );\n    void allocate( std::unique_ptr&lt;Type&gt;&amp; pType );\n    void allocate( Type type, void* pPtr );\n\nprivate:\n    Allocator( const Allocator&amp; c ); // Not Implemented\n    Allocator&amp; operator=( const Allocator&amp; c ); // Not Implemented\n\n}; // Allocator\n\n#include \"Allocator.inl\"\n\n#endif // ALLOCATOR_H\n</code></pre>\n\n<p>My <code>*.cpp</code> file only has <code>#include \"Allocator.h\"</code> since all of the implementations are within my <code>*.inl</code> file.</p>\n\n<p>My two constructors: <code>Allocator( std::shared_ptr&lt;Type&gt;&amp; pType );</code> &amp; <code>Allocator( std::unique_ptr&lt;Type&gt;&amp; pType );</code> along with both matching <code>allocate()</code> functions work fine. The constructor <code>Allocator( Type type, void* pPtr );</code> and its matching function is where I am having trouble.</p>\n\n<p>The constructor itself is straight forward since all it does is invoke the matching function passing to it the variables.</p>\n\n<pre><code>template&lt;class Type&gt;\nAllocator&lt;Type&gt;::Allocator( Type type, void* pPtr ) {\n    allocate( type, eType, pPtr );\n}\n</code></pre>\n\n<p>It is within the function implementation that I am struggling.</p>\n\n<pre><code>template&lt;class Type&gt;\nvoid Allocator&lt;Type&gt;::allocate( Type type, void* pData ) {\n    if ( pData == reinterpret_cast&lt;void*&gt;( std::shared_ptr&lt;Type ) ) {\n        std::shared_ptr&lt;Type&gt; pShared;\n        pShared.reset( new Type( type ) );\n        pData = reinterpret_cast&lt;void*&gt;( pShared );\n\n    } else if ( pData == reinterpret_cast&lt;void*&gt;( std::unique_ptr&lt;Type ) ) {\n        std::unique_ptr&lt;Type&gt; pUnique;\n        pUnique.reset( new Type( type ) );\n        pData = reinterpret_cast&lt;void*&gt;( pUnique );\n\n    } else {\n        std::cout &lt;&lt; \"Error invalid pointer type passed in &lt;&lt; std::endl\n                  &lt;&lt; \"must be either a std::shared_ptr&lt;Type&gt; &lt;&lt; std::endl\n                  &lt;&lt; \"or a std::unique_ptr&lt;Type&gt; &lt;&lt; std::endl;\n    }            \n}\n</code></pre>\n\n<p>Other than checking to see if the <code>void*</code> passed in is either a <code>std::shared_ptr&lt;Type&gt;</code> or a <code>std::unique_ptr&lt;Type&gt;</code>the other questions I may have would be, is my use of <code>reinterpret_cast&lt;void*&gt;</code> the correct way to convert a smart pointer to a void pointer and if not how can this be achieved?</p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 1, "creation_date": 1444257539, "post_id": 33003464, "comment_id": 53832111, "body": "Your logic is wrong; this can&#39;t be fixed. Notice that you explicitly exclude certain primes, and that <code>div</code> never takes any value except 2. I suggest you try something simpler."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444257788, "post_id": 33003464, "comment_id": 53832183, "body": "You need to have the program <i>remember</i> valid primes and use them to check numbers.  For example, your program doesn&#39;t use 11, 13, 17, 19, 23, etc.  Are you going to put each one in your <code>if</code> statement?"}, {"owner": {"reputation": 1, "user_id": 5416143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ImTn.jpg?s=128&g=1", "display_name": "Elyril", "link": "https://stackoverflow.com/users/5416143/elyril"}, "edited": false, "score": 0, "creation_date": 1444258154, "post_id": 33003464, "comment_id": 53832284, "body": "So, could I use the <code>bool notPrime = true</code> in a way that can change the logic? Also, how do I make my program remember valid primes?"}], "answers": [{"tags": [], "owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1444259168, "creation_date": 1444259168, "answer_id": 33003907, "question_id": 33003464, "link": "https://stackoverflow.com/questions/33003464/prime-numbers-programming/33003907#33003907", "title": "Prime Numbers programming", "body": "<p>Your algorhitm is just wrong. The easiest, unoptimized algorithm is: take the number that you want to test (in your case, <code>start</code> - by the way, I'd call it something like <code>number_to_test</code> instead) and divide it modulo 2, then modulo 3, 4, 5, and so on (if you want to make it faster, first try dividing by 2 and then try only the odd numbers starting from 3, which is what I think you are trying to do). Every time, check the result: if it is 0 it means the number can be divided by something and is not prime.</p>\n\n<p>What you are doing with this line</p>\n\n<pre><code>if (start % div == 0 || start % 3 == 0 || start % 5 == 0 || start % 7 == 0)\n</code></pre>\n\n<p>is checking, for every possible value of <code>div</code>, whether <code>start</code> can be divided either by: <code>div</code> (which is ok), 3, 5, 7. Why these 3 numbers? Why are you testing them every time? You don't need to do that. The division by 3, 5 and 7 will be checked when <code>div</code> reaches those values. Anyway, if any of these divisions has rest 0, you break from the loop, that is, you stop verifying <code>start</code>, because you have already found out that it is not prime. So far, this first <code>if</code> that checks 4 conditions is doing something that is not needed (that is, the last 3 conditions are not needed), but it doesn't really harm.</p>\n\n<p>But then comes the error: if the previous <code>if</code> failed, you have a further check, which is <code>if (start % div != 0)</code>, which is guaranteed to succeed: this condition <em>must</em> be true, otherwise the code wouldn't have reached the <code>else</code>. So, your <code>else if</code> is actually a simple <code>else</code>. And what happens then? You print the number, as if it were prime, and you <code>break</code>, which means you are finished with that number. But it isn't necessarily prime! All you know so far is that it can't be divided by <code>div</code> (that is, 2), 3, 5, 7. You haven't checked any divisors beyond 7! For example, try to run your program from 120 to 122. It shouldn't find any primes, but it considers 121 prime. It isn't (it's 11*11), but your program doesn't test division by 11!</p>\n\n<p>To fix the error you must decide that <code>start</code> is prime only at the end of the loop, if no divisor has been found so far. There's a small problem: in <em>any</em> case you will reach the end of the loop, either because you have found a divisor (and then you call <code>break;</code>), or because you haven't found any, and you have simply completed the loop until the end. Then, how can you know whether a prime was found or not? You can introduce a new variable, <code>bool prime;</code> for this purpose. You must set it to <code>true</code>, by default, at the start of the inner loop; if you find a divisor, set it to <code>false</code>, just before breaking. By doing this, at the end you can check it: if it is still <code>true</code>, you know you have found no divisor, and you can print your prime number. If it is <code>false</code>, it means there was at least a divisor, and you don't print it.</p>\n\n<pre><code>bool prime = true;\nfor (int div = 2; div &lt; start; div++)\n{\n    if (start % div == 0) {\n        prime = false;\n        break;\n    }\n}\nif (prime) {\n    cout &lt;&lt; start &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>This is a very simple implementation. It can be greatly optimized, but I'd say you should concentrate on making the simple case work before you introduce any changes.</p>\n"}], "owner": {"reputation": 1, "user_id": 5416143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ImTn.jpg?s=128&g=1", "display_name": "Elyril", "link": "https://stackoverflow.com/users/5416143/elyril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1444532718, "creation_date": 1444256804, "last_edit_date": 1444266780, "question_id": 33003464, "link": "https://stackoverflow.com/questions/33003464/prime-numbers-programming", "title": "Prime Numbers programming", "body": "<p>I'm trying to write this program to test and output all prime numbers in a range given by the user. I posted this code before, but I have a different problem now. Right now, it mostly works except that when the outputs are in the single digits, then it won't output as I want, but anything past that, it will output everything correctly as far I can tell. I also had the inside if written as <code>if (start % div == 0 || start % 3 == 0)</code>, which also let single digits primes (except 2) print out, but then higher number non-primes, starting at 49 I think, started to output.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include &lt;math.h&gt;\n\nusing namespace std;\n\nint main()\n{\nint first, second;                                      \nbool notPrime = true;                                   \n\ncout &lt;&lt; \"Please enter the first number: \";              \ncin &gt;&gt; first;\ncout &lt;&lt; \"Please enter the second number: \";             \ncin &gt;&gt; second;\ncout &lt;&lt; \"The prime numbers between \" &lt;&lt; first &lt;&lt; \" and \" &lt;&lt; second &lt;&lt; \" are: \";\n\nif (first &lt; second)                                 \n{\n    for (int start = first; start &lt;= second; start++)\n    {\n        for (int div = 2; div &lt; start; div++)\n        {\n            if (start % div == 0 || start % 3 == 0 || start % 5 == 0 || start % 7 == 0)\n                break;\n            else if (start % div != 0)\n                {\n                cout &lt;&lt; start &lt;&lt; \" \";\n                break;\n                }\n        }\n    }\n}\n_getch();\nreturn 0;\n}\n</code></pre>\n\n<p>So this is what I have right now. The only outputs I'm getting now though, are 1 and 2, and 1 doesn't count as a prime number.</p>\n\n<pre><code>if (first &lt; second)                                 \n{\n    for (testNumber = first; testNumber &lt;= second; ++testNumber)\n    {\n        bool prime (testNumber);\n        for (int div = 2; div &lt;= testNumber; ++div)\n        {\n            if (testNumber &lt;= 1)\n            {\n                prime = false;\n                break;\n            }\n            else if (testNumber == 2)\n            {\n                prime = true; \n                break;\n            }\n            else if (testNumber % div == 0)\n            {\n                prime = false;\n            }\n        }\n        if (prime)\n        {\n            cout &lt;&lt; testNumber &lt;&lt; \" \";      \n        }\n    }   \n}\n</code></pre>\n"}, {"tags": ["c++", "malloc", "access-violation"], "comments": [{"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444256781, "post_id": 33003429, "comment_id": 53831853, "body": "Because you didn&#39;t check whether <code>malloc</code> succeeded."}, {"owner": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "edited": false, "score": 0, "creation_date": 1444257134, "post_id": 33003429, "comment_id": 53831990, "body": "Any particular reason you feel the need to attempt to allocate about 1GB of memory at a time to then set a value that would fit in char or is this completely out of context? As mentioned your second malloc is likely failing ... if I had to guess it&#39;s because you&#39;re consuming more than the addressable space for a 32-bit process."}, {"owner": {"reputation": 1399, "user_id": 620699, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/IhTA3.jpg?s=128&g=1", "display_name": "RayB", "link": "https://stackoverflow.com/users/620699/rayb"}, "reply_to_user": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "edited": false, "score": 0, "creation_date": 1444257499, "post_id": 33003429, "comment_id": 53832096, "body": "@AJG85 it&#39;s for a class. We&#39;re supposed to use large numbers to test the difference between CUDA and CPU computations."}], "answers": [{"comments": [{"owner": {"reputation": 1399, "user_id": 620699, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/IhTA3.jpg?s=128&g=1", "display_name": "RayB", "link": "https://stackoverflow.com/users/620699/rayb"}, "edited": false, "score": 0, "creation_date": 1444257500, "post_id": 33003454, "comment_id": 53832097, "body": "Thank you! That was just what I needed."}], "tags": [], "owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "is_accepted": false, "score": 5, "last_activity_date": 1444256742, "creation_date": 1444256742, "answer_id": 33003454, "question_id": 33003429, "link": "https://stackoverflow.com/questions/33003429/c-access-violation-error-when-setting-value/33003454#33003454", "title": "C++ Access Violation Error when setting value", "body": "<p>The second allocation failed, while the first did not. (i.e. <code>malloc</code> returned <code>NULL</code>, out of memory) You should put error checking for an out of memory condition in your code.</p>\n"}], "owner": {"reputation": 1399, "user_id": 620699, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/IhTA3.jpg?s=128&g=1", "display_name": "RayB", "link": "https://stackoverflow.com/users/620699/rayb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444257679, "creation_date": 1444256625, "last_edit_date": 1444257679, "question_id": 33003429, "link": "https://stackoverflow.com/questions/33003429/c-access-violation-error-when-setting-value", "title": "C++ Access Violation Error when setting value", "body": "<p>can someone explain to me why this code get's an access violation error when the last line runs but not when h_A[0] is set to 100?</p>\n\n<pre><code>int nx = 16384;\nint ny = 16384;\nint nxy = nx*ny;\nint nBytes = nxy * sizeof(int);\n\nint *h_A;\nh_A = (int *) malloc(nBytes);\nh_A[0] = 100;\n\nint *h_B;\nh_B = (int *) malloc(nBytes);\nh_B[0] = 100;\n</code></pre>\n\n<p>The error is:</p>\n\n<blockquote>\n  <p>Unhandled exception at 0x01079554 in Test.exe: 0xC0000005: Access violation writing location 0x00000000.</p>\n</blockquote>\n\n<p>Edit:</p>\n\n<p>Here is the <strong>solution</strong> thanks to @owacoder</p>\n\n<pre><code>int nx = 1238;//8;\nint ny = 16384;//6;\nint nxy = nx*ny;\nint nBytes = nxy * sizeof(int);\n\n\nint *h_A;\nif ((h_A = (int *) malloc(nBytes)) == NULL){\n    printf(\"Malloc failed...\\n\");\n    return 0;\n} else {\n    initialInt (h_A, nxy); // Fills matrix with numbers\n}\n\n\nint *h_B;\nif ((h_B = (int *) malloc(nBytes)) == NULL){\n    printf(\"Malloc failed...\\n\");\n    return 0;\n} else {\n    initialInt (h_B, nxy); // Fills matrix with numbers\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "bitmap"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1444256774, "post_id": 33003417, "comment_id": 53831848, "body": "Perhaps the software you use to check does not like 0x0 px images. I cannot tell if any other would \u2013 mind you, I&#39;ve never tried either."}, {"owner": {"reputation": 614, "user_id": 4876536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36757ceb0bbec00338926fc2ab6cda58?s=128&d=identicon&r=PG&f=1", "display_name": "fassl", "link": "https://stackoverflow.com/users/4876536/fassl"}, "edited": false, "score": 0, "creation_date": 1444261326, "post_id": 33003417, "comment_id": 53833244, "body": "bfType=&#39;MB&#39; is the correct way. The bytes get swapped when you write them to a file."}, {"owner": {"reputation": 455, "user_id": 5245300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39803ad677ce87e41eca8640c3eed809?s=128&d=identicon&r=PG&f=1", "display_name": "68ejxfcj5669", "link": "https://stackoverflow.com/users/5245300/68ejxfcj5669"}, "reply_to_user": {"reputation": 614, "user_id": 4876536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36757ceb0bbec00338926fc2ab6cda58?s=128&d=identicon&r=PG&f=1", "display_name": "fassl", "link": "https://stackoverflow.com/users/4876536/fassl"}, "edited": false, "score": 0, "creation_date": 1444265576, "post_id": 33003417, "comment_id": 53834402, "body": "The computation of biSizeImage is also incorrect. For BI_RGB, each image line must be a multiple of 4 bytes. However, as @fassl said, the reason you are getting a &quot;corrupted&quot; error is because the magic bytes are reversed."}], "owner": {"reputation": 19, "user_id": 2562647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bpzqp.jpg?s=128&g=1", "display_name": "Benjamin Loisch", "link": "https://stackoverflow.com/users/2562647/benjamin-loisch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444257090, "creation_date": 1444256541, "last_edit_date": 1444257090, "question_id": 33003417, "link": "https://stackoverflow.com/questions/33003417/creating-a-bitmap-file-in-c", "title": "Creating a bitmap file in C++", "body": "<p>I am trying to create a bitmap file in C++ with no libraries. I've tried this code and it doesn't work. I also want to be able to edit the pixels in a bitmap image. According to my code this should create a bitmap file with no image data, but shouldn't the bitmap image open up at least? It says it is corrupted. </p>\n\n<pre><code>#define _CRT_SECURE_NO_DEPRECATE\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n#include &lt;Windows.h&gt;\n\nint main() {\n\n  FILE *fileBuffer = NULL;\n  fileBuffer = fopen(\"test.bmp\", \"w\");\n\n  BITMAPFILEHEADER *fileHeader = new BITMAPFILEHEADER;\n  BITMAPINFOHEADER *infoHeader = new BITMAPINFOHEADER;\n\n  int imageWidth = 0;\n  int imageHeight = 0;\n\n  fileHeader-&gt;bfType = 'BM';\n  fileHeader-&gt;bfSize = sizeof(BITMAPFILEHEADER);\n  fileHeader-&gt;bfReserved1 = 0;\n  fileHeader-&gt;bfReserved2 = 0;\n  fileHeader-&gt;bfOffBits = 54;\n\n  fwrite(fileHeader, 1, 14, fileBuffer);\n\n  infoHeader-&gt;biSize = sizeof(BITMAPINFOHEADER);\n  infoHeader-&gt;biWidth = imageWidth;\n  infoHeader-&gt;biHeight = imageHeight;\n  infoHeader-&gt;biPlanes = 1;\n  infoHeader-&gt;biBitCount = 24;\n  infoHeader-&gt;biCompression = BI_RGB;\n  infoHeader-&gt;biSizeImage = sizeof(RGBTRIPLE) * imageWidth * imageHeight;\n  infoHeader-&gt;biXPelsPerMeter = 0;\n  infoHeader-&gt;biYPelsPerMeter = 0;\n  infoHeader-&gt;biClrImportant = 0;\n  infoHeader-&gt;biClrUsed = 0;\n\n  fwrite(infoHeader, 1, 40, fileBuffer);\n  fclose(fileBuffer);\n\n  delete fileHeader;\n  delete infoHeader;\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "clang"], "comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1444256722, "post_id": 33003385, "comment_id": 53831835, "body": "What are the exact Boost headers you include? Could you maybe post a minimal example to reproduce the problem?"}, {"owner": {"reputation": 14193, "user_id": 183203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cf9ec57f64280ffe34ddd221d5c5151f?s=128&d=identicon&r=PG", "display_name": "antlersoft", "link": "https://stackoverflow.com/users/183203/antlersoft"}, "edited": false, "score": 1, "creation_date": 1444256788, "post_id": 33003385, "comment_id": 53831855, "body": "I would guess that Clang defines __MINGW32__ as one of its built-in macros when Clang is built for windows.  You can probably turn it off with the /U flag."}, {"owner": {"reputation": 845, "user_id": 557391, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16ad6a76ff18eb3f6110178fd1ff15f9?s=128&d=identicon&r=PG&f=1", "display_name": "N0vember", "link": "https://stackoverflow.com/users/557391/n0vember"}, "edited": false, "score": 0, "creation_date": 1444256898, "post_id": 33003385, "comment_id": 53831897, "body": "The -U option worked right away ! Silly me, I thought it wouldn&#39;t work as I guessed it was defined afterwards in some boost file, so I didn&#39;t even try it. It happens when including <code>&lt;boost&#47;pool&#47;object_pool.hpp&gt;</code> I don&#39;t really understand though why clang would define this ? I believe they are two different compilers ? (this has always confused me)"}, {"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 0, "creation_date": 1444259150, "post_id": 33003385, "comment_id": 53832654, "body": "MinGW isn&#39;t a compiler, it&#39;s (as its name says) a minimal GNU environment for Windows. It includes the GCC compiler. But Clang for Windows can also target it, in which case it predefines <code>__MINGW32__</code> so as to identify itself as targetting MinGW, as opposed to being in MSVC compatibility mode (its other running mode), where it defines <code>__MSCVER</code> instead."}, {"owner": {"reputation": 845, "user_id": 557391, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16ad6a76ff18eb3f6110178fd1ff15f9?s=128&d=identicon&r=PG&f=1", "display_name": "N0vember", "link": "https://stackoverflow.com/users/557391/n0vember"}, "edited": false, "score": 0, "creation_date": 1444261080, "post_id": 33003385, "comment_id": 53833194, "body": "How do you activate MSVC compatibility mode then ? Documentation is inexistant. I applied all the flags mentioned there : <a href=\"http://clang.llvm.org/docs/MSVCCompatibility.html\" rel=\"nofollow noreferrer\">clang.llvm.org/docs/MSVCCompatibility.html</a>. But that didn&#39;t have the effect of defining <code>__MSCVER</code> instead of <code>__MINGW32__</code>  .... The flags I set are <code>-fdelayed-template-parsing</code> <code>-fms-compatibility</code>, <code>-fms-extensions</code> and <code>-fmsc-version=1800</code>"}], "owner": {"reputation": 845, "user_id": 557391, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16ad6a76ff18eb3f6110178fd1ff15f9?s=128&d=identicon&r=PG&f=1", "display_name": "N0vember", "link": "https://stackoverflow.com/users/557391/n0vember"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444256795, "creation_date": 1444256384, "last_edit_date": 1444256795, "question_id": 33003385, "link": "https://stackoverflow.com/questions/33003385/boost-compiled-with-clang-thinks-its-being-compiled-by-mingw", "title": "Boost compiled with Clang thinks it&#39;s being compiled by MinGW", "body": "<p>This is rather puzzling. I use MSVC for all my work on this machine, and just use clang for a tool that needs AST parsing.</p>\n\n<p>Now with Clang, when I try to parse a file which includes some Boost headers, I get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;SourceLocation file '[..]boost_1_59_0/boost/config/platform/win32.hpp', line 17, column 12&gt;\n'_mingw.h' file not found\n</code></pre>\n\n<p>The line including <code>_mingw.h</code> in <code>win32.hpp</code> should only be evaluated when <code>__MINGW32__</code> is defined.</p>\n\n<p>I am surely not defining it myself or anywhere in my project files, so I am at a loss. Where could I look to resolve this?</p>\n\n<p>Debugging this is rather tricky, and googling gets me mostly stuff from people who are actually using MinGW, but no one in my situation (Clang being mistaken for MinGW).</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 757, "user_id": 2184663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c7de77140fe98e1b56b67dace21db60?s=128&d=identicon&r=PG", "display_name": "Sherwin", "link": "https://stackoverflow.com/users/2184663/sherwin"}, "edited": false, "score": 0, "creation_date": 1444256246, "post_id": 33003295, "comment_id": 53831663, "body": "i think the base part is already constructed when initializing ip3, so the destructor of base part is invoked automatically when initializing ip3 throw an exception. is it right? if not, how to delete ip1 and ip2?"}], "answers": [{"tags": [], "owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "is_accepted": true, "score": 4, "last_activity_date": 1444256046, "creation_date": 1444256046, "answer_id": 33003316, "question_id": 33003295, "link": "https://stackoverflow.com/questions/33003295/will-following-code-cause-resource-leak/33003316#33003316", "title": "will following code cause resource leak?", "body": "<p>Yes, but you could have the same thing much easier by just using <code>unique_ptr</code> and <code>make_unique</code> for all these pointers.</p>\n"}], "owner": {"reputation": 757, "user_id": 2184663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c7de77140fe98e1b56b67dace21db60?s=128&d=identicon&r=PG", "display_name": "Sherwin", "link": "https://stackoverflow.com/users/2184663/sherwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 33003316, "answer_count": 1, "score": 0, "last_activity_date": 1444256046, "creation_date": 1444255942, "question_id": 33003295, "link": "https://stackoverflow.com/questions/33003295/will-following-code-cause-resource-leak", "title": "will following code cause resource leak?", "body": "<pre><code>class Base {\npublic:\n    Base(int i1, int i2): ip1{new int(i1)}{\n        try {\n            ip2 = new int(i2);\n        } catch (std::bad_alloc&amp; ){\n            delete ip1;\n        }\n    }\n    ~Base() { delete ip1; delete ip2; }\nprivate:\n    int *ip1, *ip2;\n};\n\nclass Derived: public Base {\npublic:\n    Derived(int i1, int i2, int i3): Base(i1, i2), ip3(new int(i3)) {}\n    ~Derived() { delete ip3; }\nprivate:\n    int *ip3;\n};\n</code></pre>\n\n<p>i don't use <strong>try-catch</strong> in Derived constructor. i wanna know if <strong>ip3(new int(i3))</strong> throw an exception, will the memory allocated by ip1 and ip2 be deleted or not?</p>\n"}, {"tags": ["c++", "file", "file-io"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 4, "creation_date": 1444254810, "post_id": 33003022, "comment_id": 53831061, "body": "An <code>if</code> statement is not supposed to loop."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 0, "creation_date": 1444254870, "post_id": 33003022, "comment_id": 53831091, "body": "In which programming language <code>if</code> statement used for loop?"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1444255043, "post_id": 33003022, "comment_id": 53831166, "body": "Perhaps there is an outer loop, but what does <code>if (cmd.compare (add) == 0)</code> do? Where is <code>add</code> anything to do with the data?"}, {"owner": {"reputation": 15, "user_id": 5403342, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efacef4d10b6c73a70eb1a31a1924cce?s=128&d=identicon&r=PG&f=1", "display_name": "ff210327", "link": "https://stackoverflow.com/users/5403342/ff210327"}, "edited": false, "score": 0, "creation_date": 1444255318, "post_id": 33003022, "comment_id": 53831277, "body": "Maybe I miss titled it then, it should allow me to input a command and execute against it multiple times though.  Added rest of code for clarification"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444256239, "post_id": 33003022, "comment_id": 53831661, "body": "Need declarations for <code>cmd</code>, <code>fn</code>, <code>ln</code>, and <code>ph</code>.  What does the <code>copy</code> method do?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444256369, "post_id": 33003022, "comment_id": 53831721, "body": "Where is the <code>add</code> variable initialized, and what is its type?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444256485, "post_id": 33003022, "comment_id": 53831757, "body": "Is there a reason you are using C style I/O to the console but C++ I/O with the buffer (and stringstream)?  I suggest you be consistent and choose one or the other."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444256540, "post_id": 33003022, "comment_id": 53831777, "body": "The <code>r</code> variable is not used, you can get rid of it or show us code where it is used (in other words, edit your post with the code)."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444256607, "post_id": 33003022, "comment_id": 53831804, "body": "Finally: when you used the debugger, which statements are causing the issue?  What are the values of the variables before and after the statement is executed?"}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 0, "creation_date": 1444256620, "post_id": 33003022, "comment_id": 53831811, "body": "Please post a complete program which can be compiled and run. See <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask</a>."}, {"owner": {"reputation": 15, "user_id": 5403342, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efacef4d10b6c73a70eb1a31a1924cce?s=128&d=identicon&r=PG&f=1", "display_name": "ff210327", "link": "https://stackoverflow.com/users/5403342/ff210327"}, "edited": false, "score": 0, "creation_date": 1444260225, "post_id": 33003022, "comment_id": 53832964, "body": "Added the rest of the code"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 0, "creation_date": 1444264407, "post_id": 33003022, "comment_id": 53834084, "body": "In a couple of places you have double nested braces like <code>if (some expression) { { some code } }</code>. Is there a reason for that or is it a weird typo?"}, {"owner": {"reputation": 15, "user_id": 5403342, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efacef4d10b6c73a70eb1a31a1924cce?s=128&d=identicon&r=PG&f=1", "display_name": "ff210327", "link": "https://stackoverflow.com/users/5403342/ff210327"}, "edited": false, "score": 0, "creation_date": 1444265122, "post_id": 33003022, "comment_id": 53834276, "body": "I&#39;ve been moving things like &quot;return 0;&quot; and the close(new_s);   to different locations trying to get it to work, they are left over from all the moving"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 0, "creation_date": 1444265543, "post_id": 33003022, "comment_id": 53834392, "body": "You&#39;re shuffling code around instead of using a debugger or trying to understand what you&#39;ve written? Wasn&#39;t the error in your last question caused by the same random code shuffling technique?"}, {"owner": {"reputation": 15, "user_id": 5403342, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efacef4d10b6c73a70eb1a31a1924cce?s=128&d=identicon&r=PG&f=1", "display_name": "ff210327", "link": "https://stackoverflow.com/users/5403342/ff210327"}, "edited": false, "score": 0, "creation_date": 1444267798, "post_id": 33003022, "comment_id": 53834996, "body": "Indeed it was, unfortunately I was handed half the code.. the part that handles the sockets, and I am supposed to build an address book out of it. The instructor built the thing using both C and C++ library&#39;s. So no I don&#39;t fully understand sockets or even what part of this program is doing. I&#39;m just trying my hardest to meet the objectives of the assignment. I am also working with a partner who is coding parts of this, so things are being copy pasted in and out of the program, which is why indenting and all that is jacked beyond belief."}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1444263196, "creation_date": 1444263196, "answer_id": 33004527, "question_id": 33003022, "link": "https://stackoverflow.com/questions/33003022/if-statement-not-looping/33004527#33004527", "title": "If statement not looping", "body": "<p>I cannot provide a valid solution without a wholesale rewrite of OP's code because this program is too broken. Instead, here are a few notes:</p>\n\n<pre><code>while (len = recv (new_s, buf, sizeof (buf), 0))\n</code></pre>\n\n<p>Will assign the recv return code to len and then test len. If len is 0, it exits the loop. If len is any other value, including recv's return value of -1 on error, the loop continues. </p>\n\n<p>The handing of a socket error is functionally identical to this program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    int test;\n    while (test = -1)\n    {\n        std::cout &lt;&lt; \"loop de \";\n    }\n}\n</code></pre>\n\n<p>And that is not good.</p>\n\n<p>TCP/IP does not deliver nice, clean packets because it is a streaming protocol. This is beaten to death elsewhere so I'm not going to cover it or look for links. Google does a great job on that front.  </p>\n\n<p>Because TCP/IP is a stream, recv will give you whatever data it has, up to the size of the given buffer. If it has nothing, it will wait for something to arrive. </p>\n\n<p>This means you might get several messages in one recv or only a few bytes. Since the message may be cut off in the middle, there might not even be a terminating null in buf which turns this:</p>\n\n<pre><code>stringstream stream (buf);\n</code></pre>\n\n<p>into a mystery grab-bag. You will have no clue what's inside stream. Since OP is not inspecting and handling the return from recv, they could wind up reprocessing the last contents of buf over and over because recv returned an error code and no data. </p>\n\n<p>stream >> cmd;</p>\n\n<p>And its fellow stream reads may or may not succeed and because they are not tested, OP will never know. Once one fails, the rest of the reads will fail because the stream's error state is not cleared.</p>\n\n<p>These: </p>\n\n<pre><code>cmd.copy (command, 8);\n</code></pre>\n\n<p>Will not null terminate properly. They do not write far enough into the char array to write over the null placed into the last element by the way they were initialized so the fprintfs that follow will survive, but not print the correct result.</p>\n\n<p>So given the above minefield, the output not being correct is no surprise and not worth trying to provide a solution.</p>\n\n<p>OP needs to do some reading on and practicing with socket programming and standard streams before continuing with this program. </p>\n"}], "owner": {"reputation": 15, "user_id": 5403342, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efacef4d10b6c73a70eb1a31a1924cce?s=128&d=identicon&r=PG&f=1", "display_name": "ff210327", "link": "https://stackoverflow.com/users/5403342/ff210327"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1444263196, "creation_date": 1444254760, "last_edit_date": 1444260210, "question_id": 33003022, "link": "https://stackoverflow.com/questions/33003022/if-statement-not-looping", "title": "If statement not looping", "body": "<p>I had this working yesterday and for some reason it has stopped, what I'm trying to do is when a user types the command \"ADD\" followed by first name, last name, and phone number it appends that to a file. What was working is after the command executes it would let me type \"ADD\" fname, lname, phone again, and increment the counter writing all of it to the file it would let me does this till I manually killed the program, and every entry would be in the text file. Now it will accept the command more than once, however it will only write to the file the first entry i type in.</p>\n\n<p>Is anyone able to spot what i'm missing?</p>\n\n<pre><code>\"server.c\" [dos] 200L, 5323Cc\n/*\n * server.c\n */\n\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;strings.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;arpa/inet.h&gt;\n#include &lt;netdb.h&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\nusing namespace std;\n\n#define SERVER_PORT 1617\n#define MAX_PENDING 5\n#define MAX_LINE 512\n\nint\nmain (int argc, char **argv)\n{\n\nstruct sockaddr_in sin;\nsocklen_t addrlen;\n\n\nchar buf[MAX_LINE];\nint len;\nint s;\nint new_s;\nint r = 1000;\nint result;\nchar message;\nFILE *file_ptr;\nstring cmd, fn, ln, ph;\nstring add = \"ADD\";\nstring del = \"DELETE\";\nstring list = \"LIST\";\nstring quite = \"QUIT\";\nstring shutdown = \"SHUTDOWN\";\n\n\n\n/* build address data structure */\nbzero ((char *) &amp;sin, sizeof (sin));\nsin.sin_family = AF_INET;\nsin.sin_addr.s_addr = INADDR_ANY;\nsin.sin_port = htons (SERVER_PORT);\n\n/* setup passive open */\nif ((s = socket (AF_INET, SOCK_STREAM, 0)) &lt; 0)\n {\n  perror (\"socket\");\n  exit (1);\n}\n\nif ((bind (s, (struct sockaddr *) &amp;sin, sizeof (sin))) &lt; 0)\n{\n  perror (\"bind\");\n  exit (1);\n}\n\nlisten (s, MAX_PENDING);\n\naddrlen = sizeof (sin);\ncout &lt;&lt; \"The server is up, waiting for connection\" &lt;&lt; endl;\n\n\n  /* wait for connection, then receive and print text */\nwhile (1)\n{\n  if ((new_s = accept (s, (struct sockaddr *) &amp;sin, &amp;addrlen)) &lt; 0)\n    { \n      perror (\"accept\");\n      exit (1);\n    }\n  cout &lt;&lt; \"new connection from \" &lt;&lt; inet_ntoa (sin.sin_addr) &lt;&lt; endl;\n\n  while (len = recv (new_s, buf, sizeof (buf), 0))\n    {\n      /*send (new_s, buf, strlen(buf) + 1, 0);  original send to echo in client */\n\n    /* create string stream from contents of buffer */\n      stringstream stream (buf);\n\n    /* read user input from string stream into strings for user input */\n      stream &gt;&gt; cmd;\n      stream &gt;&gt; fn;\n      stream &gt;&gt; ln;\n      stream &gt;&gt; ph;\n\n\n\n  /* create character arrays and copy strings into character arrays */\n      char command[9] = \"        \";\n      char fname[9] = \"        \";\n      char lname[9] = \"        \";\n      char phone[13] = \"            \";\n\n      cmd.copy (command, 8);\n      fn.copy (fname, 8);\n      ln.copy (lname, 8);\n      ph.copy (phone, 12);\n\n\n\n\n /* determine if valid command received */\n      /* Adds whatever follows the word \"ADD\" to the text file\" */\n      if (cmd.compare (add) == 0){\n     {\n          file_ptr = fopen (\"file1.txt\", \"a+\");\n          fprintf (file_ptr, \"%d\" \"%s\" \"%s\" \"%s\" \"%s\", r, \" \", fname,\n                   lname, phone);\n          fprintf (file_ptr, \"\\n\");\n          fclose(file_ptr);\n          ++r;\n        }\n    }\n/* LIST user input */\n      else if (cmd.compare (list) == 0)\n        {\n          file_ptr = fopen (\"file1.txt\", \"r\");\n\n          size_t count;\n          while ((count = fread (buf, 1, sizeof buf, file_ptr)) &gt; 0)\n            {\n              send (new_s, buf, count, 0);\n              fclose (file_ptr);\n            }\n        }\n\n      else if (cmd.compare (del) == 0)      /*Delete user input */\n        {\n          {\n            FILE *fp1, *fp2;\n            /*consider 40 character string to store filename */\n            char filename[40];\n            char c;\n            int del_line, temp = 1;\n            fp1 = fopen (\"file1.txt\", \"r\");\n            c = getc (fp1);\n            while (c != EOF)\n              {\n                printf (\"%c\", c);\n                /*print current character and read next character */\n                c = getc (fp1);\n              }\n            rewind (fp1);\n            printf (\" \\n Enter line number of the line to be deleted:\");\n            /*accept number from user. */\n            scanf (\"%d\", &amp;del_line);\n\n\n            fp2 = fopen (\"copy.c\", \"w\");\n            c = getc (fp1);\n            while (c != EOF)\n              {\n                c = getc (fp1);\n                if (c == '\\n')\n                  temp++;\n\n\n                if (temp != del_line)\n                  {\n                    /*copy all lines in file copy.c */\n                    putc (c, fp2);\n                  }\n              }\n\n            fclose (fp1);\n            fclose (fp2);\n            /*remove original file */\n            remove (\"file1.txt\");\n            /*rename the file copy.c to original name */\n            rename (\"copy.c\", \"file1.txt\");\n            printf\n              (\"\\n The contents of file after being modified are as  follows:\\n\");\n            fp1 = fopen (\"file1.txt\", \"r\");\n            c = getc (fp1);\n            while (c != EOF)\n              {\n                printf (\"%c\", c);\n                c = getc (fp1);\n              }\n            fclose (fp1);\n\n          }\n        }\n      else\n        {\n          cout &lt;&lt; \"Invalid Command\" &lt;&lt; endl;\n        }\n\n    }\n  close (new_s);\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "c++"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1444253942, "post_id": 33002824, "comment_id": 53830648, "body": "In the old days it mattered, in current JS engines it makes no difference."}, {"owner": {"reputation": 81839, "user_id": 901048, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/be8Sq.png?s=128&g=1", "display_name": "Blazemonger", "link": "https://stackoverflow.com/users/901048/blazemonger"}, "edited": false, "score": 0, "creation_date": 1444253947, "post_id": 33002824, "comment_id": 53830652, "body": "It&#39;s a micro-optimization -- in the first instance, <code>arr.length</code> must be recalculated each time you pass through the loop. For small loops, it&#39;s completely unnoticeable."}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1444253955, "post_id": 33002824, "comment_id": 53830656, "body": "@0x499602D2 please elaborate - if anything it&#39;s <i>more</i> useful in JS than in other languages"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "reply_to_user": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1444253991, "post_id": 33002824, "comment_id": 53830675, "body": "@Alnitak I agreed right after you mentioned the array length could change."}], "answers": [{"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1444253983, "post_id": 33002855, "comment_id": 53830669, "body": "It&#39;s also better habit to write the loop in the manner.  Not all stopping conditions are going to be trivial to calculate."}, {"owner": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "edited": false, "score": 0, "creation_date": 1444254339, "post_id": 33002855, "comment_id": 53830840, "body": "So even if I know the size of  array won&#39;t change, I should not call arr.length every time?"}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "edited": false, "score": 0, "creation_date": 1444254486, "post_id": 33002855, "comment_id": 53830915, "body": "@Arch1tect it might make a <i>tiny</i> bit of difference to performance, but why evaluate a loop invariant for every pass of the loop if you don&#39;t have to?"}, {"owner": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "edited": false, "score": 0, "creation_date": 1444254635, "post_id": 33002855, "comment_id": 53830985, "body": "I agree it&#39;s slightly faster, I just feel that it&#39;s such tiny improvement that I shouldn&#39;t need to change the way I used to write for loops.."}, {"owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1444254705, "post_id": 33002855, "comment_id": 53831016, "body": "so don&#39;t - but in any event it&#39;s <i>always</i> better to move any loop invariants outside of the loop."}, {"owner": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "edited": false, "score": 0, "creation_date": 1444254755, "post_id": 33002855, "comment_id": 53831034, "body": "yep, fair  enough  :)"}], "tags": [], "owner": {"reputation": 311858, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": true, "score": 4, "last_activity_date": 1444254150, "last_edit_date": 1444254150, "creation_date": 1444253929, "answer_id": 33002855, "question_id": 33002824, "link": "https://stackoverflow.com/questions/33002824/javascript-get-array-size-efficiency/33002855#33002855", "title": "JavaScript get array size efficiency", "body": "<p>Yes, getting the length is O(1), but it's not <em>typically</em> optimised out because it's feasible for the array length to change during the loop.</p>\n\n<p>In the case where I know the array length won't change my preferred syntax is:</p>\n\n<pre><code>for (var i = 0, n = arr.length; i &lt; n; ++i) \n</code></pre>\n\n<p>As usual, w3schools misses the point - the first version they quote isn't <em>always</em> bad code, because that code might be exactly what's required if the array length is modified during the loop.</p>\n"}], "owner": {"reputation": 3660, "user_id": 1468639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/98d0a24074949185147845293651e72c?s=128&d=identicon&r=PG", "display_name": "Arch1tect", "link": "https://stackoverflow.com/users/1468639/arch1tect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 33002855, "answer_count": 1, "score": 0, "last_activity_date": 1444254377, "creation_date": 1444253820, "last_edit_date": 1592644375, "question_id": 33002824, "link": "https://stackoverflow.com/questions/33002824/javascript-get-array-size-efficiency", "title": "JavaScript get array size efficiency", "body": "<p>I read the following from w3schools <a href=\"http://www.w3schools.com/js/js_performance.asp\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>Bad Code:\nfor (i = 0; i &lt; arr.length; i++) {\n\nBetter Code:\nl = arr.length;\nfor (i = 0; i &lt; l; i++) {\n</code></pre>\n<p>I was taught C++ and Java in school and I never learnt that this is something we need to consider for efficiency. Isn't getting the size of array just a O(1) operation? Is this optimization really necessary and is it really what people do in industry?</p>\n<p>EDIT:</p>\n<p>Given that the array's size won't change.</p>\n"}, {"tags": ["c++", "exception"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1444253397, "post_id": 33002725, "comment_id": 53830408, "body": "Even better: <code>const std::string&amp; filename</code> when defining arguments."}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 2, "creation_date": 1444253462, "post_id": 33002725, "comment_id": 53830435, "body": "How about <code>runtime_error(filename + &quot; &quot; + funcname)</code>?"}, {"owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444253522, "post_id": 33002725, "comment_id": 53830460, "body": "doesn&#39;t the compiler makes it that passing const reference is the same speed as passing by value?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1444253575, "post_id": 33002725, "comment_id": 53830490, "body": "@0x499602D2 ^ Which would fit well for the <a href=\"http://en.cppreference.com/w/cpp/error/runtime_error\" rel=\"nofollow noreferrer\">second constructor definition</a>."}, {"owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444253701, "post_id": 33002725, "comment_id": 53830534, "body": "0x499602D2, is that the only way?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444253902, "post_id": 33002725, "comment_id": 53830623, "body": "@Koten What&#39;s bothering you with it? Do you actually need more sophisticated formatting?"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1444254023, "post_id": 33002725, "comment_id": 53830691, "body": "@Koten Is it not sufficient?"}, {"owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444255012, "post_id": 33002725, "comment_id": 53831152, "body": "What if I pass &quot;A&quot; + filename?"}], "answers": [{"comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1444254687, "post_id": 33002972, "comment_id": 53831012, "body": "It would be even better if the arguments were taken by <code>const</code> reference."}, {"owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1444254781, "post_id": 33002972, "comment_id": 53831047, "body": "I agree with you @5gon12eder. However, I was just answering the question not giving him a code review."}, {"owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1444255061, "post_id": 33002972, "comment_id": 53831177, "body": "@5gon12eder, doesn&#39;t the compiler makes it that passing const reference is the same speed as passing by value?"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444255283, "post_id": 33002972, "comment_id": 53831267, "body": "@Koten Maybe, if it is smart. And if <code>filename</code> and <code>funcname</code> are short enough for short-string-optimization, it won&#39;t matter at all. However, passing by <code>const</code> reference will never be slower and maybe be faster in this case, so I&#39;d just go for it."}, {"owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "reply_to_user": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444256197, "post_id": 33002972, "comment_id": 53831644, "body": "@Koten The rule of thumb is to give as many hints to the compiler as possible. In this case passing by const reference is the way to go. Sorry that isn&#39;t reflected in my answer."}], "tags": [], "owner": {"reputation": 1045, "user_id": 1710303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cdc71ff716acf0daf2bc1d0e0d256?s=128&d=identicon&r=PG", "display_name": "Connor Hollis", "link": "https://stackoverflow.com/users/1710303/connor-hollis"}, "is_accepted": false, "score": 2, "last_activity_date": 1444254448, "creation_date": 1444254448, "answer_id": 33002972, "question_id": 33002725, "link": "https://stackoverflow.com/questions/33002725/creating-new-exception-that-receives-parameters/33002972#33002972", "title": "Creating new exception that receives parameters", "body": "<p>The class declaration for std::runtime_error has no default constructor and thus requires you to call the base constructor in your inherited class's constructor. I know you said that in your question but it's an important fact to list here.</p>\n\n<p>Don't use stringstream to construct a more complicated string. In this instance it's easy to just construct the string in the base type's constructor.</p>\n\n<pre><code>class EmptyFunctionException : public std::runtime_error {\npublic:\n    EmptyFunctionException(std::string filename, std::string funcname) : \n      std::runtime_error(filename + \" \" + funcname) \n    {\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1444254790, "post_id": 33002987, "comment_id": 53831054, "body": "Why not just a (<code>static</code> member) function?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1444255785, "post_id": 33002987, "comment_id": 53831467, "body": "@5gon12eder I&#39;ve come to the conclusion, that probably the whole derived exception is pointless. <code>static</code> member function returning <code>std::string</code> would also work."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1444254525, "creation_date": 1444254525, "answer_id": 33002987, "question_id": 33002725, "link": "https://stackoverflow.com/questions/33002725/creating-new-exception-that-receives-parameters/33002987#33002987", "title": "Creating new exception that receives parameters", "body": "<p>If you really need sophisticated formatting and simple concatenation would not do, you can always have an intermediate class:</p>\n\n<pre><code>class EmptyFunctionException : public std::runtime_error {\n    struct ErrorFormatter {\n        ErrorFormatter(const std::string&amp; filename, const std::string funcname)             \n        { \n             std::stringstream ss;\n             ss &lt;&lt; filename &lt;&lt; \" \" &lt;&lt; funcname;\n             errstr = ss.str();\n        }  \n        const std::string&amp; str() const { return errstr; }\n        private:\n        std::string errstr;\n    };\npublic:\n    EmptyFunctionException(std::string filename, std::string funcname) : \n        std::runtime_error(ErrorFormatter(filename, funcname).str()) {}\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "edited": false, "score": 0, "creation_date": 1444255505, "post_id": 33003034, "comment_id": 53831345, "body": "I think the signature of what() needs to be <code>const char* what() const noexcept</code>"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1444255631, "last_edit_date": 1444255631, "creation_date": 1444254793, "answer_id": 33003034, "question_id": 33002725, "link": "https://stackoverflow.com/questions/33002725/creating-new-exception-that-receives-parameters/33003034#33003034", "title": "Creating new exception that receives parameters", "body": "<p>I would go the way, not to set the <code>what()</code> message of the base exception in the constructor actually, but overwrite the <code>what()</code> method according to your needs:</p>\n\n<pre><code>class EmptyFunctionException : public std::runtime_error {\npublic:\n    EmptyFunctionException(const std::string filename&amp;, const std::string&amp; funcname\n    : std::runtime_error(\"\"), filename_(filename), funcname_() {\n        std::stringstream ss;\n        ss &lt;&lt; filename &lt;&lt; \" \" &lt;&lt; funcname;\n        msg_ = ss.str();\n    }\n\n    const char* what() const noexcept {\n        return msg_.c_str();\n    }\n\nprivate:\n    std::string filename_;\n    std::string funcname_;\n    std::string msg_;\n};\n</code></pre>\n\n<p>Since <code>what()</code> is declared as <code>virtual</code> in the very base, and it's the only method affected by the required base exception argument, it seems best to overwrite it.</p>\n\n<hr>\n\n<p>Though, then I would think about, what's the whole purpose of a specific <code>EmptyFunctionException</code>? Should there be some special logic for handling it beyond a <code>runtime_error</code>, or is it just purposed to do the error message formatting?</p>\n\n<p>In the latter case, that could simply be done, before throwing the exception.</p>\n"}], "owner": {"reputation": 309, "user_id": 5398832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34ff1e45bd310361086e3acfac7bde8e?s=128&d=identicon&r=PG&f=1", "display_name": "Koten", "link": "https://stackoverflow.com/users/5398832/koten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1444255631, "creation_date": 1444253333, "last_edit_date": 1444253974, "question_id": 33002725, "link": "https://stackoverflow.com/questions/33002725/creating-new-exception-that-receives-parameters", "title": "Creating new exception that receives parameters", "body": "<p>Hi I'm trying to create new exception that receives parameters and sends string to base class.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>class EmptyFunctionException : public std::runtime_error {\npublic:\n    EmptyFunctionException(std::string filename, std::string funcname){\n        std::stringstream ss;\n        ss &lt;&lt; filename &lt;&lt; \" \" &lt;&lt; funcname;\n        std::runtime_error(ss.str());\n    }\n};\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Base class 'runtime_error' doesn't have default constructor.</p>\n</blockquote>\n\n<p>I know i need to send it like that </p>\n\n<pre><code>EmptyFunctionException(std::string filename, std::string funcname)\n  : std::runtime_error(...)\n</code></pre>\n\n<p>but How can I create the string before that?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444253200, "post_id": 33002575, "comment_id": 53830313, "body": "For c callbacks, you need to provide a <code>static</code> class member function. Implicit passing of <code>this</code> pointer isn&#39;t supported from c."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1449764655, "post_id": 33002575, "comment_id": 56158196, "body": "Have you even read the error message? It tells you at least 1 thing that is wrong and also tells you how to fix it."}], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 5420624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vQZfKQpzUsI/AAAAAAAAAAI/AAAAAAAAABI/jhadEAWyhB0/photo.jpg?sz=128", "display_name": "Captain Wise", "link": "https://stackoverflow.com/users/5420624/captain-wise"}, "is_accepted": false, "score": 1, "last_activity_date": 1444259632, "last_edit_date": 1444259632, "creation_date": 1444259317, "answer_id": 33003931, "question_id": 33002575, "link": "https://stackoverflow.com/questions/33002575/c-class-member-function-to-c-function/33003931#33003931", "title": "C++ class member function to c function", "body": "<p>First of all you need to be sure that your function definition is correct. What I see in your code is that you declared a member function with parameter and you define the same member function whitout parameter. You should define it like you declared it.</p>\n\n<pre><code>void ClassTest::CallbackFunction(unsigned long esrParam)\n{\n    //do somthing\n}\n</code></pre>\n\n<p>Other thing is, you cannot create a callback function with a member function. You need to add a static function.</p>\n\n<pre><code>class ClassTest\n{\npublic:\n    static void CallbackFunction(unsigned long esrParam); // &lt;-- static function\n    void Test();\n};\n</code></pre>\n\n<p>The second part of your code is realy strange, i don't really understand what are you trying to do. Why are you passing your callback function to himself. That doesn't make sense. Usually a callback function is given to another object that the object himself(so to another class) and the other class keep the pointer of your function to call it later.</p>\n\n<p>And the last thing is, you really dont need the __stdcall. This is Win32 API convention and it has nothing to do specificlly with callback function.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5416751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50e87867d1090e1bed0cb9bd1c192bc4?s=128&d=identicon&r=PG&f=1", "display_name": "naveen polimera", "link": "https://stackoverflow.com/users/5416751/naveen-polimera"}, "is_accepted": false, "score": 0, "last_activity_date": 1449764330, "last_edit_date": 1449764330, "creation_date": 1444280989, "answer_id": 33007100, "question_id": 33002575, "link": "https://stackoverflow.com/questions/33002575/c-class-member-function-to-c-function/33007100#33007100", "title": "C++ class member function to c function", "body": "<p>Type this code:</p>\n\n<pre><code>class ClassTest\n{\npublic:\n    void Test();\nvoid __stdcall CallbackFunction(unsigned long esrParam);\n};\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>class ClassTest\n{\npublic:\n    void Test();\n}\nvoid __stdcall CallbackFunction(unsigned long esrParam);\n</code></pre>\n\n<p>Since the class must terminate with a semicolon (<code>;</code>)\nand  <code>void __stdcall CallbackFunction(unsigned long esrParam);</code> isn't declared as a member of class i.e: inside a class.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5420206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hsM_0WExGzk/AAAAAAAAAAI/AAAAAAAAADw/R8_DrMrXVRE/photo.jpg?sz=128", "display_name": "Juan Carlos Hern&#225;ndez", "link": "https://stackoverflow.com/users/5420206/juan-carlos-hern%c3%a1ndez"}, "is_accepted": true, "score": 0, "last_activity_date": 1445615426, "last_edit_date": 1445615426, "creation_date": 1445466137, "answer_id": 33270275, "question_id": 33002575, "link": "https://stackoverflow.com/questions/33002575/c-class-member-function-to-c-function/33270275#33270275", "title": "C++ class member function to c function", "body": "<p>I use a kind of wrapper with a pointer:</p>\n\n<pre><code>    class ClassTest\n    {\n    public:\n        ClassTest();\n        void CallbackFunctionCPP(unsigned long esrParam);\n        void Test();\n    }\n    void __stdcall CallbackFunctionC(unsigned long esrParam);\n\n    //Pointer to CPP class\n    ClassTest* _ClassTest;\n\n    ClassTest::ClassTest()\n    {   \n        //Initialization of pointer to CPP class under constructor\n        _ClassTest = this;\n    }\n\n    void ClassTest::CallbackFunctionCPP(unsigned long esrParam)\n    {\n        //Do something\n    }\n\n    void ClassTest::Test()\n    {\n        SetESR(CallbackFunctionC);\n    }\n\n    void __stdcall CallbackFunctionC(unsigned long esrParam);\n    {\n        //Use CPP member funtion across C function\n        _ClassTest-&gt;CallbackFunctionCPP(esrParam);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hsM_0WExGzk/AAAAAAAAAAI/AAAAAAAAADw/R8_DrMrXVRE/photo.jpg?sz=128", "display_name": "Juan Carlos Hern&#225;ndez", "link": "https://stackoverflow.com/users/5420206/juan-carlos-hern%c3%a1ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 33270275, "answer_count": 3, "score": -1, "last_activity_date": 1449764330, "creation_date": 1444252645, "last_edit_date": 1445615232, "question_id": 33002575, "link": "https://stackoverflow.com/questions/33002575/c-class-member-function-to-c-function", "title": "C++ class member function to c function", "body": "<p>I have a C function that resive other C function like argument, this function is a part of C library and I need work with this but with a C++ function, member of a class.</p>\n\n<p>The function definition that pass like argument:</p>\n\n<pre><code>void __stdcall CallbackFunctionC(unsigned long esrParam);\n</code></pre>\n\n<p>The definition of the function that resive is:</p>\n\n<pre><code>int void __stdcall SetESR( void (__stdcall *esr)(unsigned long esrParam) );\n</code></pre>\n\n<p>I want pass a member class function with the same definition but I can\u00b4t.</p>\n\n<p>This a example of the success code with a C function:</p>\n\n<pre><code>class ClassTest\n{\npublic:\n    void Test();\n}\nvoid __stdcall CallbackFunctionC(unsigned long esrParam);\n\nvoid ClassTest::Test()\n{\n    SetESR(CallbackFunctionC);\n}\nvoid __stdcall CallbackFunctionC(unsigned long esrParam)\n{\n//Do something\n}\n</code></pre>\n\n<p>I need pass a function member but this is thrown an error.\nExample of the error code:</p>\n\n<pre><code>class ClassTest\n{\npublic:\n    void __stdcall CallbackFunctionCPP(unsigned long esrParam);\n    void Test();\n}\n\nvoid ClassTest::Test()\n{\n    SetESR(CallbackFunctionCPP);\n}\n\nvoid ClassTest::CallbackFunctionCPP(unsigned long esrParam)\n{\n    //Do something\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error   3   error C3867: 'ClassTest::CallbackFunctionCPP': function call missing argument list; use '&amp;ClassTest::CallbackFunctionCPP' to create a pointer to member ...\\ClassTest.cpp   XXXX    1   ClassTest\n</code></pre>\n"}, {"tags": ["c++", "boost", "random"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "edited": false, "score": 0, "creation_date": 1444252803, "post_id": 33002573, "comment_id": 53830131, "body": "Why are pointers involved at all?"}, {"owner": {"reputation": 1493, "user_id": 5286625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/224bf5e812e82acaa1a4a300942577a9?s=128&d=identicon&r=PG&f=1", "display_name": "KDD", "link": "https://stackoverflow.com/users/5286625/kdd"}, "edited": false, "score": 0, "creation_date": 1444253158, "post_id": 33002573, "comment_id": 53830296, "body": "Hi @Hurkyl, I was trying to use a boost::variate_generator&lt;&gt; object as a private member, but I cannot instantialize this object inside the body of A&#39;s constructor, so I give up then later"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "edited": false, "score": 0, "creation_date": 1444253767, "post_id": 33002573, "comment_id": 53830557, "body": "Ah, an XY problem; you should ask another question about your original problem: how to initialize an object when you need to do something complicated to set it up. That has an answer worth knowing!"}, {"owner": {"reputation": 1493, "user_id": 5286625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/224bf5e812e82acaa1a4a300942577a9?s=128&d=identicon&r=PG&f=1", "display_name": "KDD", "link": "https://stackoverflow.com/users/5286625/kdd"}, "edited": false, "score": 0, "creation_date": 1444254301, "post_id": 33002573, "comment_id": 53830819, "body": "Hi @Hurkyl, yes, I would like to know how to do that. I adopted Tomasz&#39;s suggestion by making both objects living longer, now it works, that&#39;s a good solution but doesn&#39;t seem to be a clever way considering what I initially want to do..."}], "answers": [{"comments": [{"owner": {"reputation": 1493, "user_id": 5286625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/224bf5e812e82acaa1a4a300942577a9?s=128&d=identicon&r=PG&f=1", "display_name": "KDD", "link": "https://stackoverflow.com/users/5286625/kdd"}, "edited": false, "score": 0, "creation_date": 1444253572, "post_id": 33002680, "comment_id": 53830489, "body": "I see, the pointer is pointing to something which is local... Thank you!"}], "tags": [], "owner": {"reputation": 1825, "user_id": 2671214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v464b.jpg?s=128&g=1", "display_name": "Tomasz Lewowski", "link": "https://stackoverflow.com/users/2671214/tomasz-lewowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253702, "last_edit_date": 1444253702, "creation_date": 1444253159, "answer_id": 33002680, "question_id": 33002573, "link": "https://stackoverflow.com/questions/33002573/pointer-to-other-class-boostvariate-generator-not-work/33002680#33002680", "title": "pointer to other class (boost::variate_generator) not work", "body": "<p><code>randNorm</code> is a local variable (destroyed at end of destructor), and you use it after destruction.\nIf you want a pointer, write: </p>\n\n<p><code>randPtr = new boost::variate_generator&lt;boost::mt19937&amp;, boost::normal_distribution&lt;&gt; &gt;(rng, norm);\n</code></p>\n\n<p>However, from <code>&amp;</code> in type you can guess that your distribution uses reference to pseudo-random number generator, so you'll have to make it live longer too.</p>\n\n<p>In general - usage of <code>unique_ptr</code> (or <code>scoped_ptr</code> if you prefer <code>boost</code> or don't have access to C++11) would be better. You can also use these objects as fields, since you don't use them polymorphically.</p>\n"}], "owner": {"reputation": 1493, "user_id": 5286625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/224bf5e812e82acaa1a4a300942577a9?s=128&d=identicon&r=PG&f=1", "display_name": "KDD", "link": "https://stackoverflow.com/users/5286625/kdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444253702, "creation_date": 1444252636, "question_id": 33002573, "link": "https://stackoverflow.com/questions/33002573/pointer-to-other-class-boostvariate-generator-not-work", "title": "pointer to other class (boost::variate_generator) not work", "body": "<p>I'm trying to generate random numbers using <em>boost/random.hpp</em>, I'd like to fix the seed at initialization, and call <em>getRandom()</em> to generate random numbers according to the seed. But this code doesn't work:</p>\n\n<pre><code>class A \n{\npublic:\n    A() \n    {\n        unsigned long seed =12411;\n        boost::mt19937 rng(seed);\n        boost::normal_distribution&lt;&gt; norm(0.0, 1.0);  \n        boost::variate_generator&lt;boost::mt19937&amp;,\n                                 boost::normal_distribution&lt;&gt; &gt; \n        randNorm(rng, norm);\n        randPtr = &amp;randNorm;\n        //(*randPtr)();\n        std::cout &lt;&lt; (*randPtr)() &lt;&lt; std::endl;\n    }\n    double getRandom() \n    {\n        return (*randPtr)();\n    }        \nprivate:\n    boost::variate_generator&lt;boost::mt19937&amp;,\n                             boost::normal_distribution&lt;&gt; &gt;* \n    randPtr;\n\n};\nint main() {\n    A a;\n    std::cout &lt;&lt; a.getRandom() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>For the above code, it can compile, will print one random number (called in the constructor), then <em>Segmentation fault: 11</em>. So the pointer randPtr only works inside the constructor. Could anyone give me any suggestion on this? Thank you! </p>\n"}, {"tags": ["c++", "c++14", "constexpr"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 5, "creation_date": 1444251496, "post_id": 33002279, "comment_id": 53829504, "body": "Replace <code>cstrlen(format)</code> with <code>N</code>?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1444251772, "post_id": 33002279, "comment_id": 53829625, "body": "A way is to use a <code>template &lt;char...Cs&gt; struct char_list{};</code>. but the way to build it from literal string that I know use macro too(so it results to something like <code>silly_printf(TO_CHAR_LIST(&quot;hello: %d&quot;), 1)</code>)."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1444251928, "post_id": 33002279, "comment_id": 53829702, "body": "@KerrekSB: That doesn&#39;t handle <code>&quot;\\0Hidden text&quot;</code>."}, {"owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "edited": false, "score": 1, "creation_date": 1444253437, "post_id": 33002279, "comment_id": 53830424, "body": "The macro <code>SILLY_PRINTF (&quot;Hello: %d&quot;, 1);</code> does not work either. I used your code and commented out the line <code>silly_printf (&quot;Hello: %d&quot;, 1);</code> in main, and got the error on <code>SILLY_PRINTF</code>macro. The reason is that despite the <code>constexpr</code> specifier, <code>ctrlen</code> does <b>not</b> return a constant expression, because <code>i</code> parameter is not a constant expression."}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "reply_to_user": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "edited": false, "score": 0, "creation_date": 1444488272, "post_id": 33002279, "comment_id": 53930478, "body": "@SergeBallesta when I run with clang (3.6.0) and gcc (4.9.2) with option --std=c++14 they are able to compile the macro version. I don&#39;t know the standard well enough to say what it&#39;s supposed to do. Perhaps the compilers are too lenient?"}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1444488367, "post_id": 33002279, "comment_id": 53930505, "body": "@Jarod42 thanks, it&#39;s an interesting idea but I would like to make silly_printf not require users any typing overhead over printf."}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1444488551, "post_id": 33002279, "comment_id": 53930572, "body": "@KerrekSB this is just an example. The real source code parses the format specifier of printf in order to compile-time verification of the format string."}], "answers": [{"comments": [{"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444488469, "post_id": 33003632, "comment_id": 53930534, "body": "Hi I will evaluate this. The relaxed rules seems like a significant improvement if I can get it to work. Is the relaxed rules standardized or something certain compiler support? Which compilers support the relaxed rules."}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444489106, "post_id": 33003632, "comment_id": 53930777, "body": "I guess this is what you are talking about: <a href=\"https://isocpp.org/files/papers/N3652.html\" rel=\"nofollow noreferrer\">N3652</a>. That would be a huge help especially to reduce template compilation depth when parsing strings. clang seems to be there but not GCC yet (version 5)"}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444489217, "post_id": 33003632, "comment_id": 53930815, "body": "But I wonder if it stills enables me to do away with the macro. The expression still needs to be constexpr. I will need to evalute."}], "tags": [], "owner": {"reputation": 380, "user_id": 2066982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf5b5cb183448c648e1c7963ecc850d?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2066982/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1444257769, "creation_date": 1444257769, "answer_id": 33003632, "question_id": 33002279, "link": "https://stackoverflow.com/questions/33002279/capture-constexpr-ness-in-function-arguments/33003632#33003632", "title": "Capture constexpr-ness in function arguments", "body": "<p>You don't need to use a char array reference as the argument. Here is one that I use but you need to have c++14 relaxed constexpr rules:</p>\n\n<pre><code>using size_t=decltype(sizeof(int));\n\nnamespace util\n{\n    template&lt;typename char_t&gt;\n    constexpr size_t str_size(const char_t*)noexcept;\n}\n\ntemplate\n&lt;typename char_t&gt;\nconstexpr auto\nutil::\nstr_size\n(const char_t* const a_str)noexcept-&gt;size_t\n{\n    const char_t* a_char=a_str;\n\n    while(*a_char!=char_t(0))\n    {\n        ++a_char;\n    }\n\n    return size_t(a_char-a_str);\n}\n\nstatic_assert(util::str_size(\"hello\")==size_t(5),\"\");\n</code></pre>\n\n<p>If you can't use c++14 a recursive version will work too. You still just use a char pointer as the argument rather than a char array reference.</p>\n"}, {"comments": [{"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444488814, "post_id": 33005884, "comment_id": 53930668, "body": "Hi. I assume this relies on User-Defined Literals. It&#39;s an interesting idea as I could then do: <code>&quot;My format string: %s&quot;_format</code> which returns a <code>formatter_string</code> (or something like that) that is parsed and checked in compile-time. I will investigate."}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "reply_to_user": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444570094, "post_id": 33005884, "comment_id": 53949795, "body": "@FuleSnabel unfortunately, neither relaxed constexpr nor these string user-defined literals are supported in VS2015."}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1444574135, "post_id": 33005884, "comment_id": 53951152, "body": "relaxed  constexpr is missing but there&#39;s at least some support for UDT. This seems like something that could work for me: <code>constexpr std::size_t operator&quot;&quot; _format ( const char * deg, std::size_t n) { return n; }</code>"}, {"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1445760709, "post_id": 33005884, "comment_id": 54452225, "body": "This seems the best approach to avoid my macro in C++14."}], "tags": [], "owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "is_accepted": true, "score": 1, "last_activity_date": 1444489394, "last_edit_date": 1444489394, "creation_date": 1444273374, "answer_id": 33005884, "question_id": 33002279, "link": "https://stackoverflow.com/questions/33002279/capture-constexpr-ness-in-function-arguments/33005884#33005884", "title": "Capture constexpr-ness in function arguments", "body": "<p>There's a GNU extension (supported by g++ and clang) that allows user defined literals of the form:</p>\n\n<pre><code>template&lt;typename CharT, CharT... Chars&gt;\nconstexpr void operator\"\" _something() { }\n</code></pre>\n\n<p>With this, one can build a constexpr-string type without macros that could be used like this:</p>\n\n<pre><code>constexpr auto str = \"testing\\0length\"_string;\nstatic_assert(str.strlen() == 7, \"!\");\n</code></pre>\n\n<p>By encoding all the string's properties into the type, you can then static_assert on it anywhere, constexpr or not.\nFor example, in your silly_printf:</p>\n\n<pre><code>template&lt;typename CharT, CharT... Chars, typename... Args&gt;\nvoid silly_printf(const constexpr_string&lt;CharT, Chars...&gt;&amp; format_string, Args&amp;&amp;... args) {\n    static_assert(format_string.strlen() &gt; 0, \"format string must not be empty\");\n    printf(format_string.c_str(), args...);\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>silly_printf(\"testing %d %s %x embedded\\0null\"_string, 1, \"2\", nullptr);\n</code></pre>\n\n<p>You could also use another <code>operator\"\" _silly_printf()</code> returning a function object to get a syntax like <code>\"format string\"_silly_printf(args...)</code>.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/e2a37dc744bb5b1b\" rel=\"nofollow\">See it live on Coliru</a></p>\n"}], "owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 33005884, "answer_count": 2, "score": 2, "last_activity_date": 1444489394, "creation_date": 1444251428, "last_edit_date": 1444488131, "question_id": 33002279, "link": "https://stackoverflow.com/questions/33002279/capture-constexpr-ness-in-function-arguments", "title": "Capture constexpr-ness in function arguments", "body": "<p>For various reasons I am looking for a way to capture the constexpr-ness of arguments passed to a function. It's a bit tricky to explain so I think code best demonstrates what I like to achieve</p>\n\n<pre><code>#include &lt;vector&gt; // For std::size_t\n#include &lt;cstdio&gt;\n\nnamespace\n{\n  template&lt;std::size_t N, typename ...TArgs&gt;\n  constexpr int cstrlen (char const (&amp;s) [N], std::size_t i = 0) noexcept\n  {\n    return i &lt; N &amp;&amp; s[i] != 0\n      ? 1 + cstrlen (s, i + 1)\n      : 0\n      ;\n  }\n\n  template&lt;std::size_t N, typename ...TArgs&gt;\n  inline void silly_printf (char const (&amp;format) [N], TArgs &amp;&amp; ...args) noexcept\n  {\n    static_assert (cstrlen (format) &gt; 0, \"format must not be empty string\");\n    printf (format, std::forward&lt;TArgs&gt; (args)...);\n  }\n\n}\n\n#define SILLY_PRINTF(format, ...)                                           \\\n  static_assert (cstrlen (format) &gt; 0, \"format must not be empty string\");  \\\n  printf (format, ##__VA_ARGS__);\n\nint main()\n{\n  // This works but relies on macros\n  SILLY_PRINTF (\"Hello: %d\", 1);\n\n  // This doesn't work\n  silly_printf (\"Hello: %d\", 1);\n  return 0;\n}\n</code></pre>\n\n<p>I can't get <code>silly_printf</code> to work as I want it to. The compiler complains that the expression doesn't evaluate to a constant. We know it's constexpr when calling <code>silly_print</code> with a string literal but the constexpr-ness gets lost (I am using VS2015 here by the way).</p>\n\n<p>I was thinking perhaps I can add constexpr to parameters (much like const) but no success there.</p>\n\n<p>I can work-around this using macros (demonstrated by <code>SILLY_PRINTF</code> macro) but that feels like a failure.</p>\n\n<p>Any ideas most welcome.</p>\n\n<p>PS. What I am really is trying to achieve is slightly less silly</p>\n"}, {"tags": ["c++", "g++", "pool", "c++03"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1444251106, "post_id": 33002122, "comment_id": 53829292, "body": "So you want a custom allocator?"}, {"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 0, "creation_date": 1444251114, "post_id": 33002122, "comment_id": 53829300, "body": "Not the way you&#39;ve defined the template. Note that each time you instantiate the template with a different type (<code>HASH</code>), a new static <code>m_vec</code> will be created. So, <code>HKDF&lt;Hash1&gt;</code> and <code>HKDF&lt;Hash2&gt;</code> will not share <code>m_vec</code> if <code>Hash1</code> and <code>Hash2</code> are different types."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 2, "creation_date": 1444251362, "post_id": 33002122, "comment_id": 53829430, "body": "You basically want to have only one instance of NullVector (strange name, by the way. It is NOT a vector as it is usually understood) of the biggest size per the whole application?"}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1444251558, "post_id": 33002122, "comment_id": 53829533, "body": "It cannot be done by the compiler, because the final size of that storage is affected by more than a single translation unit. Thus the linker needs to do this, but I doubt that any linker is able to do such an optimisation (though I could be wrong here), regarding the missing information of type etc. You could try to use some library to read and write the object files yourself, but this will be a lot of work. Do you really need to save that space?"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1444251678, "post_id": 33002122, "comment_id": 53829581, "body": "<i>&quot;You basically want to have only one instance of NullVector&quot;</i> - yes. There&#39;s no reason to have a string of 0&#39;s in the BSS for <code>HKDF&lt;SHA1&gt;</code>, a different string of 0&#39;s in the BSS for  <code>HKDF&lt;SHA256&gt;</code>, yet another string of 0&#39;s for  <code>HKDF&lt;SHA512&gt;</code>. By the way, what would you like me to call it? We&#39;ve called the string of 0&#39;s a null vector for at least 20 years (when I was in college, on the east coast in the US). But I&#39;d be happy to change terminology for you if it makes it easier to answer the question."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444252037, "post_id": 33002122, "comment_id": 53829742, "body": "@jww, arguably 20 years ago NullVector was a good name. However, nowadays in C++ world vector is uniformely known to be std::vector&lt;&gt;. Null vector would be something like std::vector&lt;nullptr_t&gt;. I do not see how what you want to do can be automatically done. As far as compiler/linker are concerned, those arrays are indpendent members of their classess, with no relationship to each other whatsoever. You might want to declare a global variable with the size of biggest array, and than reference it in your classess. (with static assert is the size is less than what you need)."}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 1, "creation_date": 1444252613, "post_id": 33002122, "comment_id": 53830022, "body": "The difficulty is finding out the maximum size. Although not perfect, is it acceptable to hardcode a usual maximum size (such as 256)? And any uses of a larger size can revert to the inefficient way (so at least code will still work)"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1444252748, "post_id": 33002122, "comment_id": 53830102, "body": "This is an interesting question, but I have to agree that &quot;null vector&quot; is a misleading name, as &quot;null&quot; and &quot;vector&quot; both have different common uses in C++. You really just want to pool arrays of the same constant value together."}], "answers": [{"comments": [{"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1444252630, "post_id": 33002397, "comment_id": 53830032, "body": "Whatever do you mean? See <a href=\"http://cpp.sh/74xh\" rel=\"nofollow noreferrer\">this</a>. Okay so I was missing <code>cstdlib</code> header. But did you use c++11 compiler flag? :D"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1444252899, "post_id": 33002397, "comment_id": 53830174, "body": "Yeah, I thought about <code>static const size_t LARGEST_SIZE = 1024</code> (its C++03, sorry about that). There&#39;s no guarantee any size is large enough now a days because of recursive hash functions. And that type of change kind of breaks from Eronen and Krawczyk&#39;s specification, which could make it harder to understand and/or audit. (Those are security engineering requirements I try to stay mindful of). Hence the reason I wanted to aggregate or pool whatever was present."}, {"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1444254506, "post_id": 33002397, "comment_id": 53830927, "body": "@jww All good points. I understand your issue but I don&#39;t think there is a way to do this in standard C++."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1444254661, "post_id": 33002397, "comment_id": 53830995, "body": "@crayzeewulf - <i>&quot;I don&#39;t think there is a way to do this in standard C++&quot;</i> - yes, agreed. I was hoping GCC provided an extension to do it."}], "tags": [], "owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253543, "last_edit_date": 1444253543, "creation_date": 1444251906, "answer_id": 33002397, "question_id": 33002122, "link": "https://stackoverflow.com/questions/33002122/aggregate-or-pool-null-vectors-into-largest-null-vector/33002397#33002397", "title": "Aggregate or pool null vectors into largest null vector?", "body": "<p>Here is a possible solution that gets you closer but you will still have to decide what the largest size ought to be:</p>\n\n<p>Edit: Updated due to <code>c++03</code> tag. Previous code required c++11.</p>\n\n<pre><code>#include &lt;cassert&gt;\n#include &lt;cstdlib&gt;\n\nstruct NullContainer                                                            \n{                                                                               \n    static const size_t LARGEST_SIZE = 1024 ;                               \n    typedef unsigned char LargeNullVector[LARGEST_SIZE] ;                             \n    static const LargeNullVector m_vec ;                                        \n} ;             \n\nconst NullContainer::LargeNullVector NullContainer::m_vec = {0} ;\n\ntemplate &lt; class HASH &gt;                                                         \nclass HKDF : public NullContainer                                               \n{                                                                               \n} ;                                                                                              \n\nint main()                                                                      \n{                                                                               \n    assert( &amp;HKDF&lt;int&gt;::m_vec == &amp;HKDF&lt;char&gt;::m_vec ) ;                         \n    return 0;                                                                   \n}   \n</code></pre>\n\n<p>Of course, you may want to use <a href=\"https://isocpp.org/wiki/faq/private-inheritance#priv-inherit-like-compos\" rel=\"nofollow\">private inheritance</a> in this case.</p>\n"}], "owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1444255225, "creation_date": 1444250800, "last_edit_date": 1444255225, "question_id": 33002122, "link": "https://stackoverflow.com/questions/33002122/aggregate-or-pool-null-vectors-into-largest-null-vector", "title": "Aggregate or pool null vectors into largest null vector?", "body": "<p>I have a C++ header-only template class that uses a null vector (the string of 0's). The length of the string is determined by the template parameter (its an <a href=\"https://tools.ietf.org/rfc/rfc5869.txt\" rel=\"nofollow\">HKDF</a> implementation, and the length depends on the underlying hash digest size).</p>\n\n<pre><code>template &lt; class HASH &gt;\nclass HKDF\n{\n  ...\n  private:\n    typedef byte NullVector[HASH::DIGESTSIZE];\n    static const NullVector m_vec;\n};\n</code></pre>\n\n<p>The various <code>NullVector</code> can be aggregated, and all instantiated classes can use the <code>NullVector</code> of the largest digest size. For example, MD5 has a 16 byte digest size, and SHA-512 has a 64-byte digest size. So the toolchain could produce one vector of 64-bytes, and then all classes, like MD5, SHA-1, Whirlpool and SHA-512 could use it.</p>\n\n<p>This is similar to string pooling, but I don't expect the compiler or linker to to make this observation or see this pattern (but I could be wrong). So I would like to give the tools a hint.</p>\n\n<p>Is it possible to tell the compiler or linker to aggregate or pool <code>NullVectors</code>, and only output the largest in the final binary? If so, how?</p>\n\n<p>I regularly work with MSVC, GCC, ICC and Clang. I'm especially interested in doing it for GCC-compatible compilers because it covers a majority of use cases. So I'm happy to use a GCC-specific extension, if needed.</p>\n\n<hr>\n\n<p>Here's some more of the back story... Iterative hashes, like MD5, SHA1 through SHA512 and Whirlpool have a fixed block size. For those hashes, sharing a 64-byte array of 0's should be fine. I've never seen a iterative hash with a block size larger than 64-bytes, but I need to be mindful of it.</p>\n\n<p>Recursive hashes, like SHA-3, don't have a block size <em>per se</em>. I'm not even sure how to make classic HMAC's and HKDF's work for SHA3 and other recursive hashes. </p>\n\n<p>You can do equivalent things with iterative and recursive hashes, though. You can obviously digest a message. But as a more complex example, an HMAC has to add an <code>ipad</code> and <code>opad</code> to an iterative hash due to extension attacks, but you can produce a keyed digest or auth tag. For recursive hashes, you just concatenate the key with the message to produce the keyed digest or auth tag. There's no need for the inner or outer padding with a recursive hash.</p>\n"}, {"tags": ["c++", "qt", "qtstylesheets", "qpushbutton"], "comments": [{"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444251259, "post_id": 33002087, "comment_id": 53829366, "body": "This doesn&#39;t seem straightforward at all. I&#39;d try merging stylesheets in the overriden <code>showEvent</code>. But unless your stylesheets are relatively simple - it probably would be a pain - parsing CSS (or QSS) is not an easy task. Perhaps you could try simply prepending (or appending) your default stylesheet and see if it works."}, {"owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444252614, "post_id": 33002087, "comment_id": 53830023, "body": "@Rostislav Well, the problem is this: it&#39;s the framework that&#39;s overriding my style (in <code>setupUi</code>), so I have no control over that. If my CSS was set <i>after</i> Qt applies the one set in Qt Creator, then that could work."}, {"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1444256827, "post_id": 33002087, "comment_id": 53831876, "body": "ditch Qt creator. It&#39;s a crutch."}, {"owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "edited": false, "score": 1, "creation_date": 1444317685, "post_id": 33002087, "comment_id": 53862679, "body": "Can we see a simple example of your code? generally calling setStyleSheet or making any style modifications after setupUi completes should have no issue. Also, don&#39;t ditch Qt Creator."}, {"owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "reply_to_user": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "edited": false, "score": 1, "creation_date": 1444552790, "post_id": 33002087, "comment_id": 53945227, "body": "@MildWolfie Not planning to, I actually quite like it and I see no reason to not use its designer when I&#39;m coding my UI. Anyway, well, <code>setupUi</code> is responsible for, among other things, applying the stylesheet set in Qt Creator. If I call <code>setStylesheet</code> after that, it&#39;ll overwrite any previous styles, unless I concatenate it like so: <code>setStyleSheet(styleSheet().append(newStyleSheet));</code>. However, the <code>setupUi</code> function executes after my <code>setStylesheet</code> calls, so that&#39;s of no use."}, {"owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "edited": false, "score": 0, "creation_date": 1444609695, "post_id": 33002087, "comment_id": 53961233, "body": "@szczurcio Do you have a special reason for setupUi to not be the first function call in your constructor? I&#39;ve personally never encountered a reason for it not to be the first thing the constructor executes."}], "owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444250613, "creation_date": 1444250613, "last_edit_date": 1495541197, "question_id": 33002087, "link": "https://stackoverflow.com/questions/33002087/set-css-both-in-designer-and-in-code-for-my-custom-widget", "title": "Set CSS both in designer and in code for my custom widget", "body": "<p>I have a custom widget subclassed from <code>QPushButton</code>, <code>MyButton</code>. It's implemented in a single <code>.cpp</code> file and I'm using it in Qt Creator in my application's form (I've added a <code>QPushButton</code> then promoted it to <code>MyButton</code>).</p>\n\n<p>As discussed here: <a href=\"https://stackoverflow.com/questions/32995863/should-i-really-use-a-single-qss-file-for-my-application-instead-of-having-one-f\">Should I really use a single qss file for my application instead of having one for each (UI) class?</a> I wish to generally set its CSS inside its constructor (the general look of the button, the background image, hover behavior etc), but I would also like to be able to set it in Qt Creator (maybe customize the font size/color; generally specific to a particular button).</p>\n\n<p>The issue is, as the <code>setupUi</code> call is issued, my buttons are created, they set their styles in their constructors, but then Qt applies the styles set in Qt Creator, immediately overriding mine.</p>\n\n<p>What can I do to achieve this effect?</p>\n"}, {"tags": ["c++", "multithreading", "sudoku"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1444251446, "post_id": 33001964, "comment_id": 53829469, "body": "Multi-thread without synchronization... Where you don&#39;t wait for result computation to test result...Fix already the missing <code>const</code>/reference before to try threading which is not a easy domain."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444252789, "post_id": 33001964, "comment_id": 53830125, "body": "Also note, that throwing just a fixed number of threads won&#39;t necessarily speed up performance (but even may make it worse). Number of threads should be balanced with available CPU cores somehow."}], "answers": [{"comments": [{"owner": {"reputation": 2473, "user_id": 4683460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24dafd813f96fc34b9b3f7c0455f9011?s=128&d=identicon&r=PG", "display_name": "Joel C", "link": "https://stackoverflow.com/users/4683460/joel-c"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1444251457, "post_id": 33002092, "comment_id": 53829483, "body": "I had that suspicion, but I don&#39;t have a g++ 5.1 compiler handy atm."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1444251541, "post_id": 33002092, "comment_id": 53829523, "body": "There are some online compiler as <a href=\"https://ideone.com/\" rel=\"nofollow noreferrer\">ideone</a> or <a href=\"http://coliru.stacked-crooked.com/\" rel=\"nofollow noreferrer\">coliru</a>, ..."}, {"owner": {"reputation": 2473, "user_id": 4683460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24dafd813f96fc34b9b3f7c0455f9011?s=128&d=identicon&r=PG", "display_name": "Joel C", "link": "https://stackoverflow.com/users/4683460/joel-c"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1444252068, "post_id": 33002092, "comment_id": 53829754, "body": "coliru compiles the code properly w/ undefined refs to ReadBoard, DisplayBoard and CheckRows. Ideone doesn&#39;t seem to have the up-to-date (or old) headers of @Zach or Coliru."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1444252321, "post_id": 33002092, "comment_id": 53829870, "body": "By not the only issue, I meant that the code has also race conditions and bad logic with threading. It is not only a compile problem (that you should fix)."}], "tags": [], "owner": {"reputation": 2473, "user_id": 4683460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24dafd813f96fc34b9b3f7c0455f9011?s=128&d=identicon&r=PG", "display_name": "Joel C", "link": "https://stackoverflow.com/users/4683460/joel-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1444250669, "creation_date": 1444250669, "answer_id": 33002092, "question_id": 33001964, "link": "https://stackoverflow.com/questions/33001964/multithreading-in-a-sudoku-algorithm-c/33002092#33002092", "title": "multithreading in a sudoku algorithm c++", "body": "<p>Try changing the line to:</p>\n\n<pre><code>t[i] = thread(CheckRows, valid_ints, board_row, std::ref(check_status));\n</code></pre>\n\n<p>See <a href=\"http://en.cppreference.com/w/cpp/thread/thread/thread\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/thread/thread/thread</a></p>\n"}], "owner": {"reputation": 109, "user_id": 5420266, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/abd005c55a841723173d451a661990b4?s=128&d=identicon&r=PG&f=1", "display_name": "Zach", "link": "https://stackoverflow.com/users/5420266/zach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 33002092, "answer_count": 1, "score": 0, "last_activity_date": 1444250669, "creation_date": 1444250036, "question_id": 33001964, "link": "https://stackoverflow.com/questions/33001964/multithreading-in-a-sudoku-algorithm-c", "title": "multithreading in a sudoku algorithm c++", "body": "<p>This is a multithreading program that reads a matrix of 9x9 and verifies if it's a valid sudoku or not. I am reading and storing the input in a two dimensional array. For each row, I am attempting to create a thread for the row to determine if it contains digits 1 through 9. 9 total threads for checking the rows.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;thread&gt;\n\nconst int ROW = 9;\nconst int COLUMN = 9;\n\nstd::thread t[27];\n\nusing namespace std;\n\nvoid DisplayBoard (int board[ROW][COLUMN]);\nbool ReadBoard (char* filename, int board[ROW][COLUMN]);\nvoid CheckRows(vector &lt;int&gt; valid_ints, vector&lt;int&gt; board_row, bool &amp;check_status);\nvector &lt;int&gt; stripList (int tmp, vector &lt;int&gt; valid_ints);\n\nint main(int argc, char * argv[]) {\n\n  int board[ROW][COLUMN];\n\n  // If the user didn't provide a filename command line argument,\n  // print an error and exit.\n  if (argc &lt;= 1)\n    {\n      cout &lt;&lt; \"Usage: \" &lt;&lt; argv[0] &lt;&lt; \" &lt;Filename&gt;\" &lt;&lt; endl;\n      //exit(1);\n    }\n\n  char *filename = argv[1];\n\n  if (ReadBoard(filename, board)){\n    DisplayBoard(board);\n\n    vector &lt;int&gt; valid_ints;\n    // Valid numbers: 1, 2, 3, 4, 5, 6, 7, 8, 9\n    for(int i = 1; i &lt;= 9; i++)\n      {\n        valid_ints.push_back(i);\n      }\n\n    vector &lt;int&gt; board_row;\n\n    bool check_status = true;\n\n\n    //iterate through the board\n    for (int i = 0; i &lt; ROW; i++){\n      for (int j = 0; j &lt; COLUMN; j++){\n\n        //pushed each number from row\n        board_row.push_back(board[i][j]);\n\n      }\n\n      //threading \n      //***** ERROR *****\n      t[i] = thread(CheckRows, valid_ints, board_row, check_status);\n\n      // if valid ints aren't all striped, error in the row\n      if (check_status == false){\n        cout &lt;&lt; endl;\n        cout &lt;&lt; \"Invalid Row: \" &lt;&lt; i+1 &lt;&lt; endl;\n        cout &lt;&lt; \"The input is not a valid Sudoku.\" &lt;&lt; endl;\n        cout &lt;&lt; endl;\n        exit(1);\n      }\n      else {\n        board_row.clear();\n        valid_ints.clear();\n\n        // Valid numbers: 1, 2, 3, 4, 5, 6, 7, 8, 9\n        for(int z = 1; z &lt;= 9; z++)\n        {\n            valid_ints.push_back(z);\n        }\n      }\n    }\n</code></pre>\n\n<p>Here is my check row function:</p>\n\n<pre><code>void CheckRows(vector &lt;int&gt; valid_ints, vector&lt;int&gt; board_row, bool &amp;check_status){\n\n  for (int i = 0; i &lt; board_row.size(); i++){\n    for (int j = 0; j &lt; valid_ints.size(); j++){\n      if (board_row[i] == valid_ints[j])\n        //removes the board value and updates valid ints until all are found (valid)\n        valid_ints = stripList(board_row[i], valid_ints);\n    }\n  }\n  // invalid row\n  if (valid_ints.size() != 0)\n    check_status = false;\n\n}\n</code></pre>\n\n<p>Error I am currently getting:</p>\n\n<pre><code>In file included from /usr/local/include/c++/5.1.0/thread:39:0,\n                 from sudoku.cpp:5:\n/usr/local/include/c++/5.1.0/functional: In instantiation of \u2018struct std::_Bind_simple&lt;void (*(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool*))(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool&amp;)&gt;\u2019:\n/usr/local/include/c++/5.1.0/thread:137:59:   required from \u2018std::thread::thread(_Callable&amp;&amp;, _Args&amp;&amp; ...) [with _Callable = void (&amp;)(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool&amp;); _Args = {std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, bool*}]\u2019\nsudoku.cpp:65:68:   required from here\n/usr/local/include/c++/5.1.0/functional:1505:61: error: no type named \u2018type\u2019 in \u2018class std::result_of&lt;void (*(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool*))(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool&amp;)&gt;\u2019\n       typedef typename result_of&lt;_Callable(_Args...)&gt;::type result_type;\n                                                             ^\n/usr/local/include/c++/5.1.0/functional:1526:9: error: no type named \u2018type\u2019 in \u2018class std::result_of&lt;void (*(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool*))(std::vector&lt;int&gt;, std::vector&lt;int&gt;, bool&amp;)&gt;\u2019\n         _M_invoke(_Index_tuple&lt;_Indices...&gt;)\n</code></pre>\n\n<p>I am not sure what I am doing wrong when creating the thread. Please help. Thanks in advance.</p>\n"}, {"tags": ["c++", "class", "redefinition"], "answers": [{"tags": [], "owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "is_accepted": true, "score": 7, "last_activity_date": 1444250194, "creation_date": 1444250194, "answer_id": 33001999, "question_id": 33001923, "link": "https://stackoverflow.com/questions/33001923/redefinition-of-a-class-in-a-header-file/33001999#33001999", "title": "Redefinition of a class in a header file", "body": "<p>The problem is likely that your header file is included (directly and indirectly) in the same translation unit. You should use some way of avoiding the multiple includes of the same header file in your cpp's. I prefer <code>#pragma once</code> in the beginning of your header file - it is not standard but it is supported by all major compilers. Otherwise you can go for good-old include guards:</p>\n\n<pre><code>#ifndef _Enrollment_h_\n#define _Enrollment_h_\n// Your header contents here\n#endif\n</code></pre>\n\n<p>or with pragma:</p>\n\n<pre><code>#pragma once\n// Your header contents here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": false, "score": 2, "last_activity_date": 1444250219, "creation_date": 1444250219, "answer_id": 33002003, "question_id": 33001923, "link": "https://stackoverflow.com/questions/33001923/redefinition-of-a-class-in-a-header-file/33002003#33002003", "title": "Redefinition of a class in a header file", "body": "<p>You need to use some include guards. Either <code>#pragma once</code> or: </p>\n\n<pre><code>#ifndef MY_FILE_H\n#define MY_FILE_H\n    ....\n#endif //MY_FILE_H\n</code></pre>\n\n<p>This is to prevent the same code being included in every file where you include this header (double inclusion). This will essentially help out the pre-processor. More information <a href=\"https://en.wikipedia.org/wiki/Include_guard\" rel=\"nofollow\">here</a>. </p>\n"}], "owner": {"reputation": 23, "user_id": 5393391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24711276dfde13c89aec38ec99d66ae?s=128&d=identicon&r=PG&f=1", "display_name": "andirew", "link": "https://stackoverflow.com/users/5393391/andirew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4577, "favorite_count": 0, "accepted_answer_id": 33001999, "answer_count": 2, "score": 2, "last_activity_date": 1444250219, "creation_date": 1444249886, "last_edit_date": 1444250192, "question_id": 33001923, "link": "https://stackoverflow.com/questions/33001923/redefinition-of-a-class-in-a-header-file", "title": "Redefinition of a class in a header file", "body": "<p>I'm attempting to compile my code with <code>g++</code>, but its throwing this compiler error:</p>\n\n<pre><code>Enrollment.h:3:7: error: redefinition of class sict::Enrollment\nEnrollment.h:3:7: error: previous definition of class sict::Enrollment\n</code></pre>\n\n<p>my <code>Enrollment.h</code>:</p>\n\n<pre><code>namespace sict{\nclass Enrollment{\n  private:\n    char _name[31];\n    char _code[11];\n    int _year;\n    int _semester;\n    int _slot;\n    bool _enrolled;\n  public:\n    Enrollment(const char* name , const char* code, int year, int semester ,  int time );\n    Enrollment();\n    void set(const char* , const char* , int ,int,  int , bool = false );\n\n    void display(bool nameOnly = false)const;\n    bool valid()const;\n    void setEmpty();\n    bool isEnrolled() const;\n    bool hasConflict(const Enrollment &amp;other) const; \n  };\n\n}\n</code></pre>\n\n<p>Any way to fix this?</p>\n"}, {"tags": ["c++", "operator-overloading", "operators"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1444249611, "post_id": 33001702, "comment_id": 53828507, "body": "It is a binary operator (multiply) - not a pointer dereference."}, {"owner": {"reputation": 11, "user_id": 5373847, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erAhY6_3b4g/AAAAAAAAAAI/AAAAAAAAAEs/KYrcC0YCELk/photo.jpg?sz=128", "display_name": "Dongyu Li", "link": "https://stackoverflow.com/users/5373847/dongyu-li"}, "edited": false, "score": 0, "creation_date": 1444252294, "post_id": 33001702, "comment_id": 53829855, "body": "Oh. yes. you are right."}], "answers": [{"comments": [{"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444250218, "post_id": 33001761, "comment_id": 53828821, "body": "Or just <code>return lh *= rh;</code>. No <code>std::move</code> or yet another local variable needed."}, {"owner": {"reputation": 42096, "user_id": 592323, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5df027e3c31ae3b8755c0ea377f951a0?s=128&d=identicon&r=PG", "display_name": "leemes", "link": "https://stackoverflow.com/users/592323/leemes"}, "edited": false, "score": 0, "creation_date": 1444250830, "post_id": 33001761, "comment_id": 53829134, "body": "Did you forget a <code>return *this;</code> in <code>operator*=</code>?"}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1444251067, "post_id": 33001761, "comment_id": 53829275, "body": "@zenith - doesn&#39;t so much matter in this case, but the temporary actually serves an important purpose when the objects are larger.  It allows the compiler to perform parameter passing and return value optimizations.  If you return the value parameter directly that can&#39;t happen.  See &#39;Want speed? Pass by value&#39;.  Hard to find now that Abrahams&#39; page is gone, but it&#39;s still out there."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1444251200, "post_id": 33001761, "comment_id": 53829341, "body": "<a href=\"https://web.archive.org/web/20140205194657/http://cpp-next.com/archive/2009/08/want-speed-pass-by-value/\" rel=\"nofollow noreferrer\">web.archive.org/web/20140205194657/http://cpp-next.com/archi&zwnj;&#8203;ve/&hellip;</a>"}], "tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": true, "score": 4, "last_activity_date": 1444250960, "last_edit_date": 1444250960, "creation_date": 1444249337, "answer_id": 33001761, "question_id": 33001702, "link": "https://stackoverflow.com/questions/33001702/error-initial-value-of-reference-to-non-const-must-be-an-value/33001761#33001761", "title": "Error: initial value of reference to non-const must be an value", "body": "<p>Surely it says that it must be an <em>lvalue</em>.  You're trying to return a reference to a temporary.  This is bad karma.</p>\n\n<p>Besides, it's not at all what you want.  The multiplication operator should definitely return a value, not a reference.</p>\n\n<p>Not sure what your constructor looks like, but assuming it takes an integer:</p>\n\n<pre><code>A operator * (A const&amp; other) const\n{\n    return A{ v * other.v};\n};\n</code></pre>\n\n<p>Edit:</p>\n\n<p>And actually you should go a step further:</p>\n\n<pre><code>struct A\n{\n    A&amp; operator *= (A const&amp; other) { v *= other.v; return *this; }\n    A(int i) : v(i) {}\nprivate:\n    int v;\n}\n\nA operator * (A lh, A const&amp; rh)\n{\n   A res{std::move(lh)};\n   res *= rh;\n   return res;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1444249359, "creation_date": 1444249359, "answer_id": 33001769, "question_id": 33001702, "link": "https://stackoverflow.com/questions/33001702/error-initial-value-of-reference-to-non-const-must-be-an-value/33001769#33001769", "title": "Error: initial value of reference to non-const must be an value", "body": "<p><code>this-&gt;v*a.v</code> evaluates to an <code>int</code>. An <code>int</code> cannot be converted to an <code>A&amp;</code>.</p>\n\n<p>Use</p>\n\n<pre><code>A operator*(const A&amp; a) // Return a value, not a reference.\n{\n   A res;\n   res.v = this-&gt;v*a.v;\n   return res;\n}\n</code></pre>\n\n<p>You should make the member function a <code>const</code> member function too since it does not modify the object.</p>\n\n<pre><code>A operator*(const A&amp; a) const\n{\n   A res;\n   res.v = this-&gt;v*a.v;\n   return res;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": false, "score": 0, "last_activity_date": 1444249790, "last_edit_date": 1444249790, "creation_date": 1444249435, "answer_id": 33001795, "question_id": 33001702, "link": "https://stackoverflow.com/questions/33001702/error-initial-value-of-reference-to-non-const-must-be-an-value/33001795#33001795", "title": "Error: initial value of reference to non-const must be an value", "body": "<p>The result of <code>this-&gt;v * a.v</code> is an <strong>rvalue</strong>, a temporary unnamed value. As a temporary, it cannot bind to a <em>non-const</em> reference. Only <strong>lvalues</strong> can bind to <em>non-const</em> references. That's what the error \"initial value of reference to non-const must be an <b>l</b>value\" is referring to.</p>\n\n<p>However, you don't want to return a const reference either, you want to return the value by value:</p>\n\n<pre><code>A operator*(const A&amp; a) { \u2026 }\n ^ remove &amp;\n</code></pre>\n\n<p>Note: this will not fix your code completely as you're trying to return an <code>int</code> where you declared to return an <code>A</code>, and <code>int</code> isn't implicitly convertible to <code>A</code> in your current code.</p>\n"}], "owner": {"reputation": 11, "user_id": 5373847, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-erAhY6_3b4g/AAAAAAAAAAI/AAAAAAAAAEs/KYrcC0YCELk/photo.jpg?sz=128", "display_name": "Dongyu Li", "link": "https://stackoverflow.com/users/5373847/dongyu-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6119, "favorite_count": 0, "accepted_answer_id": 33001761, "answer_count": 3, "score": 0, "last_activity_date": 1444250960, "creation_date": 1444249064, "last_edit_date": 1444249234, "question_id": 33001702, "link": "https://stackoverflow.com/questions/33001702/error-initial-value-of-reference-to-non-const-must-be-an-value", "title": "Error: initial value of reference to non-const must be an value", "body": "<pre><code>class A\n{\n\npublic:\n\n    int v;\n    A * p;\n    A&amp; operator*(const A&amp; a)\n    {\n        return this-&gt;v*a.v// here is a red line under this say error initial value of reference to non-const must be an value\n    }\n    ~A()\n    {\n        this;\n    }\n};\n\nint main()\n{\n    A a;\n    a.p = new A;\n    delete a.p;\n    return 0;\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>overloading * operator I cannot use this to represent the object itself. Why this happened.</p>\n"}, {"tags": ["c++", "json", "web-services", "jsonp", "gsoap"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5274190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13423dbda6af8256d7795caf60300f1f?s=128&d=identicon&r=PG&f=1", "display_name": "vladf", "link": "https://stackoverflow.com/users/5274190/vladf"}, "edited": false, "score": 0, "creation_date": 1444332260, "post_id": 33006460, "comment_id": 53871006, "body": "I am using GET method. When I try to send headers in post manner they appear as part of returned document."}], "tags": [], "owner": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "is_accepted": false, "score": 0, "last_activity_date": 1444277436, "creation_date": 1444277436, "answer_id": 33006460, "question_id": 33001662, "link": "https://stackoverflow.com/questions/33001662/gsoap-specify-access-control-allow-origin/33006460#33006460", "title": "gSOAP specify Access-Control-Allow-Origin", "body": "<p>I never did find any way to do it in my own code - but I was able to do it by modifying stdsoap2.cpp which seems ok because you need to compile that into your code anyway.  What I did was add the ClientCertSubjectDN header just before the end of the http_post function:</p>\n\n<pre><code>/******************************************************************************/\n#ifndef WITH_NOHTTP\n#ifndef PALM_1\nstatic int\nhttp_post(struct soap *soap, const char *endpoint, const char *host, int port, const char *path, const char *action, size_t count)\n{ register const char *s;\n  register int err;\n  ... the code of the function (except the return at the end) ...\n\n  /* add more headers */\n  if ((err = soap-&gt;fposthdr(soap, \"ClientCertSubjectDN\", \"CN=IVR Production\")))\n    return err;\n\n  return soap-&gt;fposthdr(soap, NULL, NULL);\n}\n#endif\n#endif\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5940012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999a1e894d6475f3e1bfb7cc664f58ad?s=128&d=identicon&r=PG&f=1", "display_name": "Hendrik Ladner", "link": "https://stackoverflow.com/users/5940012/hendrik-ladner"}, "is_accepted": false, "score": 0, "last_activity_date": 1487687807, "last_edit_date": 1487687807, "creation_date": 1487676994, "answer_id": 42366226, "question_id": 33001662, "link": "https://stackoverflow.com/questions/33001662/gsoap-specify-access-control-allow-origin/42366226#42366226", "title": "gSOAP specify Access-Control-Allow-Origin", "body": "<p>There is actually a somehow cumbersome way to add your own HTTP headers to your server's response without changing gsoap code.</p>\n\n<ol>\n<li>Define a variable to store address of original callback hook fposthdr</li>\n<li>Define your own implementation of fposthdr</li>\n<li>Store address of function fposthdr in above mentioned variable</li>\n<li>Set your own implementation of fposthdr</li>\n<li>Within your own implementation of fposthdr use original implementation of fposthdr to emit HTTP headers</li>\n</ol>\n\n<p>Code example:</p>\n\n<pre><code>...\n/* Declaration of own implementation of fposthdr */\nint my_fposthdr(struct soap *soap, const char *key, const char *val);\n/* Definition of variable to store address of original fposthdr */\nint (*org_fposthdr) (struct soap *soap, const char *key, const char *val) = NULL;\n...\nstruct soap *soap\n...\n/* Store address of original function and set own implementation */\norg_fposthdr = soap-&gt;fposthdr;\nsoap-&gt;fposthdr = my_fposthdr;\n...\nint my_fposthdr(struct soap *soap, const char *key, const char *val) {\n    int res;\n    if (key == NULL) {\n        res = org_fposthdr (soap, \"Access-Control-Allow-Origin\", \"*\");\n        ...\n    }\n    /* Make sure to finally call original fposthdr with key and value being NULL pointers. */\n    return org_fposthdr (soap, key, val);\n}\n...\n</code></pre>\n\n<p><strong>Remark</strong>:\nAbove example implementation of <em>my_fposthdr</em> emits the additional HTTP header after all \"default\" HTTP headers emitted by gsoap. The callback hook is called by gsoap once per header and once again at the end with <em>key</em> and <em>val</em> being NULL pointers. So you may let your code detect these NULL pointers and emit your own header(s). Finally you have to call original fposthdr with <em>key</em> and <em>val</em> being NULL pointers, otherwise no HTTP payload i.e. SOAP response will be sent.</p>\n"}], "owner": {"reputation": 11, "user_id": 5274190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13423dbda6af8256d7795caf60300f1f?s=128&d=identicon&r=PG&f=1", "display_name": "vladf", "link": "https://stackoverflow.com/users/5274190/vladf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 671, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487687807, "creation_date": 1444248968, "last_edit_date": 1444556528, "question_id": 33001662, "link": "https://stackoverflow.com/questions/33001662/gsoap-specify-access-control-allow-origin", "title": "gSOAP specify Access-Control-Allow-Origin", "body": "<p>I`ve developer webservice with gSOAP. One of methods returns json output. However browser requires passing headers (Access-Control-Allow-Origin). Does gSOAP supports passing headers before sending data?</p>\n\n<p><strong>UPD:</strong></p>\n\n<p>Solution found. Just add some code to http_response function:</p>\n\n<pre><code>static int\nhttp_response(struct soap *soap, int status, size_t count)\n{\n /* some code goes here*/\nif ((err = soap-&gt;fposthdr(soap, \"Access-Control-Allow-Origin\", \"*\")))\n      return err;\n  if ((err = soap-&gt;fposthdr(soap, \"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, CONNECT\")))\n      return err;\n  if ((err = soap-&gt;fposthdr(soap, \"Access-Control-Allow-Headers\", \"X-Requested-With, Content-Type\")))\n      return err;\n  if ((err = soap-&gt;fposthdr(soap, \"Access-Control-Allow-Credentials\", \"true\")))\n      return err;\n /* some code goes here*/\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 4769416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9a246dc38ac5cfa1514b4d447f53611?s=128&d=identicon&r=PG", "display_name": "James Durand", "link": "https://stackoverflow.com/users/4769416/james-durand"}, "edited": false, "score": 0, "creation_date": 1444252187, "post_id": 33002063, "comment_id": 53829807, "body": "I&#39;m trying to get rid of the CMake script but it essentially does those defines later on in the script. I just wanted to make sure that the macros ended up being the same like I thought. Thanks!"}], "tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": true, "score": 2, "last_activity_date": 1444306182, "last_edit_date": 1444306182, "creation_date": 1444250526, "answer_id": 33002063, "question_id": 33001659, "link": "https://stackoverflow.com/questions/33001659/is-msvc-from-cmake-the-same-as-msc-ver/33002063#33002063", "title": "Is MSVC from CMake the same as _MSC_VER?", "body": "<p><a href=\"https://cmake.org/cmake/help/v3.4/variable/MSVC.html\" rel=\"nofollow\">CMake 3.4 MSVC Documentation</a>:</p>\n\n<blockquote>\n  <p><code>True</code> when using Microsoft Visual C++.</p>\n  \n  <p>Set to <code>true</code> when the compiler is some version of Microsoft Visual C++.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow\">MSDN Predefined Macros Documentation</a>:</p>\n\n<blockquote>\n  <p>Lists the predefined ANSI/ISO C99 and Microsoft C++ implementation preprocessor macros.</p>\n  \n  <p>...</p>\n  \n  <p><strong>Microsoft-Specific Predefined Macros</strong></p>\n  \n  <p><strong>_MSC_VER</strong> Evaluates to an integer literal that encodes the major and minor number components of the compiler's version number. ...</p>\n</blockquote>\n\n<p>Since CMake <code>MSVC</code> is true when the Microsoft Visual C++ is used and <code>_MSC_VER</code> is a Microsoft-specific C++ macro these are interchangeable for determining if compilation is performed using the Microsoft compiler.</p>\n\n<p>However, I'm not sure about the <code>#define</code> statements. The CMake <a href=\"https://cmake.org/cmake/help/v3.4/command/set.html\" rel=\"nofollow\"><code>set</code></a> command is just setting CMake variables <strong>it would be useful to know how these variables are being used in the CMake script</strong>.</p>\n\n<p>What you have may be sufficient or perhaps:</p>\n\n<pre><code>#define HAVE_SYS_TYPES_H 1\n#define HAVE_STDINT_H 1\n#define HAVE_STDDEF_H 1\n</code></pre>\n\n<p>The CMake <a href=\"https://cmake.org/cmake/help/v3.4/command/add_definitions.html\" rel=\"nofollow\"><code>add_definitions</code></a> command is one way to add preprocessor definitions.</p>\n"}], "owner": {"reputation": 116, "user_id": 4769416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9a246dc38ac5cfa1514b4d447f53611?s=128&d=identicon&r=PG", "display_name": "James Durand", "link": "https://stackoverflow.com/users/4769416/james-durand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1324, "favorite_count": 0, "accepted_answer_id": 33002063, "answer_count": 1, "score": 1, "last_activity_date": 1444306182, "creation_date": 1444248950, "question_id": 33001659, "link": "https://stackoverflow.com/questions/33001659/is-msvc-from-cmake-the-same-as-msc-ver", "title": "Is MSVC from CMake the same as _MSC_VER?", "body": "<p>I'm currently working on removing CMake as a dependency for a library since it seems like most of the generated code could be made static. There are some environmental checks that are performed to see what kind of operating system and compiler we're using. One of those checks in CMake looks like the following:</p>\n\n<pre><code>if (MSVC)\n    set (HAVE_SYS_TYPES_H 1)\n    set (HAVE_STDINT_H    1)\n    set (HAVE_STDDEF_H    1)\n    # snip more things\nelse ()\n    # snip more things\nendif ()\n</code></pre>\n\n<p>Could this be replaced with the following C code?</p>\n\n<pre><code>#ifdef _MSC_VER\n    #define HAVE_SYS_TYPES_H\n    #define HAVE_STDINT_H\n    #define HAVE_STDDEF_H\n    // snip more things\n#else\n    // snip more things\n#endif\n</code></pre>\n\n<p>I'm mostly worried about the condition being the same. I think they are but I haven't been able to find anything that would confirm that and I don't currently have access to a working Windows dev environment to just build it and find out.</p>\n\n<p>Thank you for any possible assistance!</p>\n"}, {"tags": ["c++", "redirect", "mfc"], "answers": [{"tags": [], "owner": {"reputation": 16542, "user_id": 2587166, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pgHgd.jpg?s=128&g=1", "display_name": "Luca Basso Ricci", "link": "https://stackoverflow.com/users/2587166/luca-basso-ricci"}, "is_accepted": true, "score": 1, "last_activity_date": 1444288951, "creation_date": 1444288951, "answer_id": 33009188, "question_id": 33001331, "link": "https://stackoverflow.com/questions/33001331/assembly-redirect-for-c-mfc-not-net-application/33009188#33009188", "title": "Assembly redirect for C++ (MFC, not .NET) application", "body": "<p>All has been resolved using <code>&lt;windows&gt;</code> tag instead of <code>&lt;runtime&gt;</code>.</p>\n"}], "owner": {"reputation": 16542, "user_id": 2587166, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pgHgd.jpg?s=128&g=1", "display_name": "Luca Basso Ricci", "link": "https://stackoverflow.com/users/2587166/luca-basso-ricci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 33009188, "answer_count": 1, "score": 1, "last_activity_date": 1444288951, "creation_date": 1444247816, "question_id": 33001331, "link": "https://stackoverflow.com/questions/33001331/assembly-redirect-for-c-mfc-not-net-application", "title": "Assembly redirect for C++ (MFC, not .NET) application", "body": "<p>I'm trying to perform assembly redirection for an MFC application (not .NET application).<br/>\nThe MFC application and all external DLLs are fully isolated.<br/>\nMyDLL is also written using MFC.<br/></p>\n\n<p><em>Application.manifest</em> contains a dependency to </p>\n\n<pre><code>\"MyDLL,version=1.0.0.0\"\n</code></pre>\n\n<p><em>MyDLL</em> has this assembly identity: <code>\"MyDLL,version=2.0.0.0\"</code></p>\n\n<p><em>Application.exe.config</em> contains a redirection</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;runtime&gt;\n      &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n       &lt;dependentAssembly&gt;\n         &lt;assemblyIdentity name=\"MyDLL\" culture=\"neutral\" /&gt;\n         &lt;bindingRedirect oldVersion=\"1.0.0.0\" newVersion=\"2.0.0.0\"/&gt;\n       &lt;/dependentAssembly&gt;\n      &lt;/assemblyBinding&gt;\n   &lt;/runtime&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>but this redirection is not honored.<br/>\nIs it possible to perform redirection for other than .NET runtime assemblies?<br/>\nIf not, are there some other way to perform redirection?</p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444247895, "post_id": 33001307, "comment_id": 53827540, "body": "Try renaming the Release folder. And if that doesn&#39;t work - machine restart usually helps :)"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444247972, "post_id": 33001307, "comment_id": 53827599, "body": "@Rostislav thanks. I renamed Release folder, it created another Release, again not containing the *.ipdb file. Should it contain it? Anyway, let me try another restart."}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444248154, "post_id": 33001307, "comment_id": 53827716, "body": "That is surprising to be honest. Usually it&#39;s some screw-up with file access rights. And sometimes the renaming lets you avoid these problems without restart. However, I&#39;ve never seen such troubles persisting through a restart. Perhaps restart and &#39;rebuild project&#39; would help. If not - well, I&#39;d delete the build directory and regenerate the project with CMake - but if it&#39;s not a CMake project - I have no further ideas :/ Good luck!"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444248398, "post_id": 33001307, "comment_id": 53827862, "body": "I don&#39;t know how to use CMake :) So I don&#39;t think it is. It is just a Win32 console application with c++. And the problem remains after restart and rebuild.."}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444248495, "post_id": 33001307, "comment_id": 53827921, "body": "Well, I hope someone else will be able to help you :) And CMake is a very nice tool - so it&#39;s worth learning about it in the long run."}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444248967, "post_id": 33001307, "comment_id": 53828185, "body": "<code>Visual Studio 6.0 error accessing program database filename, invalid format, please delete and rebuild This error is not used.</code>   Whoa, which visual studio are you using?"}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444249111, "post_id": 33001307, "comment_id": 53828259, "body": "Also, see here about some notes regarding antivirus stuff: <a href=\"http://stackoverflow.com/questions/126751/compilation-fails-randomly-cannot-open-program-database\" title=\"compilation fails randomly cannot open program database\">stackoverflow.com/questions/126751/&hellip;</a>"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444250095, "post_id": 33001307, "comment_id": 53828766, "body": "It is Visual Studio 2015 Community edition."}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444250299, "post_id": 33001307, "comment_id": 53828869, "body": "This is severely weird... I&#39;d try repairing the installation if the VS installer supports it. Something went terribly wrong it seems. Does any other project compile fine?"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444253863, "post_id": 33001307, "comment_id": 53830600, "body": "I&#39;m not sure but I worked around the problem simply by creating a new project, and copy pasting the contents of my .cpp and .h files. Luckily I had few of them."}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444255099, "post_id": 33001307, "comment_id": 53831193, "body": "Wait, how did you see the <code>Visual Studio 6.0</code> part? :D"}, {"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 1, "creation_date": 1444266532, "post_id": 33001307, "comment_id": 53834691, "body": "just googling the error message :) And what you did is pretty similar to regenerating project with CMake. Good that you figured it out in the end!"}, {"owner": {"reputation": 768, "user_id": 7926064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxeHI.png?s=128&g=1", "display_name": "BNT", "link": "https://stackoverflow.com/users/7926064/bnt"}, "edited": false, "score": 1, "creation_date": 1501239003, "post_id": 33001307, "comment_id": 77703642, "body": "for me it helped to clean the project (in all configurations and targets!)"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4628523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Q47v.jpg?s=128&g=1", "display_name": "Nilesh Sironja", "link": "https://stackoverflow.com/users/4628523/nilesh-sironja"}, "is_accepted": false, "score": 2, "last_activity_date": 1534752255, "creation_date": 1534752255, "answer_id": 51926446, "question_id": 33001307, "link": "https://stackoverflow.com/questions/33001307/error-accessing-program-database-in-visual-studio-c/51926446#51926446", "title": "Error accessing program database in Visual Studio C++", "body": "<p>I was also faced similar type of error which says :- </p>\n\n<blockquote>\n  <p><strong>\"C1300 Error accessing program database...  LNK1257 code generation failed\"</strong></p>\n</blockquote>\n\n<p>Resolved it in the following way: </p>\n\n<blockquote>\n  <p><strong>Project->Properties->Configuration Properties->General->Whole Program Optimization</strong></p>\n</blockquote>\n\n<p>set it to </p>\n\n<blockquote>\n  <p><strong>\"No Whole Program Optimization\"</strong></p>\n</blockquote>\n\n<p>from \"Use Link time Code Generation\"</p>\n"}], "owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1594, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534752255, "creation_date": 1444247755, "question_id": 33001307, "link": "https://stackoverflow.com/questions/33001307/error-accessing-program-database-in-visual-studio-c", "title": "Error accessing program database in Visual Studio C++", "body": "<p>I accidentally allowed an infinite loop, the computer froze, I force-restarted it. Now when I press F5 to build my C++ project, I get the following error: </p>\n\n<pre><code>Error   C1301   error accessing program database C:\\path\\x64\\Release\\projectName.ipdb, invalid format, please delete and rebuild\n</code></pre>\n\n<p>And the said file does not even exist. I tried deleting everything in the Release folder, no luck.</p>\n\n<p>How can I solve this?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1619, "user_id": 3342206, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92d5672ff3c806eb71d84d7298d5be43?s=128&d=identicon&r=PG&f=1", "display_name": "8bittree", "link": "https://stackoverflow.com/users/3342206/8bittree"}, "edited": false, "score": 0, "creation_date": 1444249138, "post_id": 33001304, "comment_id": 53828279, "body": "A couple side notes: 1) Declaring multiple variables in one line can be a dangerous habit to have, as what happens doesn&#39;t always match what looks like should happen. <code>int* a, b, c;</code> declares one pointer to an int and two ints, rather than declaring three pointers to ints. 2) <code>dice</code> is the plural of <code>die</code>, as in the thing often rolled in games. <code>dices</code> is a verb relating to cutting things."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2803096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001199256541/picture?type=large", "display_name": "Majd Khoury", "link": "https://stackoverflow.com/users/2803096/majd-khoury"}, "edited": false, "score": 0, "creation_date": 1444248694, "post_id": 33001391, "comment_id": 53828034, "body": "i only got an error for f! i changed the sort values parameters to (int&amp; a, int&amp; b, int&amp; c);   and it works .. sorta. the defending position is spawning weird dice rolls"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 71, "user_id": 2803096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001199256541/picture?type=large", "display_name": "Majd Khoury", "link": "https://stackoverflow.com/users/2803096/majd-khoury"}, "edited": false, "score": 0, "creation_date": 1444248937, "post_id": 33001391, "comment_id": 53828167, "body": "I didnt comment on the rest of your code, because I dont really get it. Actually your <code>battle</code> function has zero effect. It returns nothing and it only modifies local variables. I guess when passing <code>atttack</code> and <code>defend</code> you actually meant to pass references. At the moment the variable <code>attack</code> in the main and the variable <code>attack</code> in <code>battle()</code> have nothing in common but their names."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 71, "user_id": 2803096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001199256541/picture?type=large", "display_name": "Majd Khoury", "link": "https://stackoverflow.com/users/2803096/majd-khoury"}, "edited": false, "score": 0, "creation_date": 1444249244, "post_id": 33001391, "comment_id": 53828334, "body": "@MajdKhoury I read your code again, and honestly, there are too many problems to discuss them all in my answer (when the actual question was only about noninitialized <code>f</code>). I suggest you to start with something much simpler (less code) and first make sure you got it right, before adding more."}, {"owner": {"reputation": 71, "user_id": 2803096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001199256541/picture?type=large", "display_name": "Majd Khoury", "link": "https://stackoverflow.com/users/2803096/majd-khoury"}, "edited": false, "score": 0, "creation_date": 1444254089, "post_id": 33001391, "comment_id": 53830727, "body": "solid advice. I redid it again and it works perfectly. Thank you."}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 0, "last_activity_date": 1444247987, "creation_date": 1444247987, "answer_id": 33001391, "question_id": 33001304, "link": "https://stackoverflow.com/questions/33001304/c-variable-f-not-initialized/33001391#33001391", "title": "c++: variable &#39;f&#39; not initialized", "body": "<p>In the <code>battle</code> function you are calling <code>sortValues(d,e,f)</code>, but in the first 3 if-cases <code>f</code> does not get a value (thus is not initialized).</p>\n\n<p>Actually you should get a similar error (is it really an error or a warning?) for <code>d</code> and in some of the cases you do not give a value to <code>a</code>,<code>b</code> and <code>c</code>.</p>\n"}], "owner": {"reputation": 71, "user_id": 2803096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001199256541/picture?type=large", "display_name": "Majd Khoury", "link": "https://stackoverflow.com/users/2803096/majd-khoury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1501465890, "creation_date": 1444247751, "last_edit_date": 1501465890, "question_id": 33001304, "link": "https://stackoverflow.com/questions/33001304/c-variable-f-not-initialized", "title": "c++: variable &#39;f&#39; not initialized", "body": "<p>I'm creating a text-based Risk game on C++. Been trying to implement the dice / battle function but it's been giving me the error \"f is used without being initialized!\" Which is weird because I initialized it earlier. Here's my code</p>\n\n<pre><code>void battle(int attack, int defend)\n{\n    int a, b, c, d, e, f;\n\n    if (attack &gt;= 3)\n    {\n        a = rollDice();\n        b = rollDice();\n        c = rollDice();\n    }\n\n    else if (attack == 2)\n    {\n        a = rollDice();\n        b = rollDice();\n        c = 0;\n    }\n\n    else if (attack == 1)\n    {\n        a = rollDice();\n        b = 0;\n        c = 0;\n    }\n\n    else if (defend &gt;= 2)\n    {\n        d = rollDice();\n        e = rollDice();\n        f = 0;\n    }\n\n    else if (defend == 1)\n    {\n        d = rollDice();\n        e = 0;\n        f = 0;\n    }\n\n    sortValues(a, b, c);\n    sortValues(d, e, f);\n\n    cout &lt;&lt; endl &lt;&lt; \"The attacking country rolled the following dices: \" &lt;&lt; a\n            &lt;&lt; \" \" &lt;&lt; b &lt;&lt; \" \" &lt;&lt; c &lt;&lt; \".\";\n    cout &lt;&lt; endl &lt;&lt; \"The defending country rolled the following dices: \" &lt;&lt; d\n            &lt;&lt; \" \" &lt;&lt; e &lt;&lt; \" \" &lt;&lt; f &lt;&lt; \".\";\n\n    if (a == d)\n    {\n        attack = attack - 1;\n    }\n\n    else if (a != d)\n    {\n        if (a &lt; d)\n        {\n            attack = attack - 1;\n        }\n\n        else if (a &gt; d)\n        {\n            defend = defend - 1;\n        }\n    }\n\n    else if (b == e)\n    {\n        attack = attack - 1;\n    }\n\n    else if (b != e)\n    {\n        if (b &lt; e)\n        {\n            attack = attack - 1;\n        }\n\n        else if (b &gt; e)\n        {\n            defend = defend - 1;\n        }\n    }\n\n// since the int f is never used, this function is critical to implement. so that we can avoid compile time error\n    _unused(f);\n}\n\nint main()\n{\n\n    int attack;\n    int defend;\n    int choice;\n\n// this asks for the user choice of what he would like to do. \n\n    cout &lt;&lt; \"How large is the attacking army?\" &lt;&lt; endl;\n    cin &gt;&gt; attack;\n    cout &lt;&lt; \"How large is the defending army?\" &lt;&lt; endl;\n    cin &gt;&gt; defend;\n\n    while (attack &gt;= 1 &amp;&amp; defend &gt;= 1)\n    {\n        cout\n                &lt;&lt; \"Based on the numbers you entered, you have a couple of choices: \"\n                &lt;&lt; endl &lt;&lt; endl;\n\n        cout &lt;&lt; \"1) Battle once\" &lt;&lt; endl;\n        cout &lt;&lt; \"2) Battle until the end\" &lt;&lt; endl;\n        cout &lt;&lt; \"3) Withdraw from the battle\" &lt;&lt; endl;\n\n        cout &lt;&lt; \"Please enter your game choice (just enter the number): \"\n                &lt;&lt; endl;\n        cin &gt;&gt; choice;\n\n        if (choice == 1)\n        {\n            battle(attack, defend);\n        }\n\n        if (choice == 2)\n        {\n            do\n            {\n                battle(attack, defend);\n            } while (attack != 0 &amp;&amp; defend != 0);\n\n            cout &lt;&lt; \"Battle ended. The attacking forces are: \" &lt;&lt; attack\n                    &lt;&lt; \" , while the defending forces are: \" &lt;&lt; defend &lt;&lt; endl;\n        }\n\n        if (choice == 3)\n        {\n            break;\n        }\n    }\n\n    if (attack &lt; 1)\n    {\n        cout\n                &lt;&lt; \"The attacking forces have lost. Defending forces keep their territory\"\n                &lt;&lt; endl;\n    }\n\n    else if (defend &lt; 1)\n    {\n        cout &lt;&lt; \"The attacking forces have won over the territory.\" &lt;&lt; endl;\n    }\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>This isn't all of the code, but it's the critical section which includes and uses f.</p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1444248667, "post_id": 33001284, "comment_id": 53828022, "body": "Not related to your error, but <code>cin &gt;&gt; cat</code> is a buffer overflow waiting to happen. Use <code>cin &gt;&gt; setw(50) &gt;&gt; cat</code> instead. Or switch to <code>std::string</code> and <code>std::getline()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 5, "creation_date": 1444248382, "post_id": 33001454, "comment_id": 53827854, "body": "Or, stop using the <code>TCHAR</code> based APIs and use the <code>char</code> based APIs instead (<code>FindFirstFileA()</code> and <code>WIN32_FIND_DATAA</code>).  Or stop using <code>char</code> everywhere and use <code>wchar_t</code> instead, and then use the <code>wchar_t</code> based APIs (<code>std::wcin</code>, <code>FindFirstFileW()</code> and <code>WIN32_FIND_DATAW</code>)."}, {"owner": {"reputation": 348, "user_id": 4945792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8ccc2ee99dab34679fb96f21c728bee?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan Tkachenko", "link": "https://stackoverflow.com/users/4945792/bogdan-tkachenko"}, "edited": false, "score": 0, "creation_date": 1444248620, "post_id": 33001454, "comment_id": 53827998, "body": "Already tried it, when I see problem first of all I search it on stack then I try to solve it by itself and if I can&#39;t do it I ask it."}, {"owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "edited": false, "score": 0, "creation_date": 1444248764, "post_id": 33001454, "comment_id": 53828069, "body": "All alternatives provided by Remy above should work also. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 :)"}, {"owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 0, "creation_date": 1444254554, "post_id": 33001454, "comment_id": 53830943, "body": "I\u2019d recommend using utf-8 (multi-byte) everywhere you can.  An old 16-bit MS-DOS compiler wouldn&#39;t support it, but on a modern compiler, you can declare <code>unsigned char unicode[] = u8&quot;&#162;\u20ac&#163;&#165;\u20b1$&quot;</code> and be good to go.  Or <code>char16_t unicode[] =  u&quot;&#162;\u20ac&#163;&#165;\u20b1$&quot;</code> to use the wide API."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 0, "creation_date": 1444258839, "post_id": 33001454, "comment_id": 53832530, "body": "@Lorehead On Windows, UTF-16 everywhere is more practical, unless you like having to convert between UTF-8 and UTF-16 all the time."}, {"owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1444259603, "post_id": 33001454, "comment_id": 53832791, "body": "@immibis Well, utf-8 source files are more practical if only because they take up half the space and work in more compilers.  If you want to use utf-16 everywhere, you can do it with <code>char16_t</code> and <code>u&quot;This will be in UTF-16 encoding.&quot;</code>, even in a utf-8 source file. On other systems, <code>wchar_t</code> might be ucs-32, but <code>wchar_t</code> and <code>L&quot;A wide-char string.&quot;</code> is portable to POSIX."}, {"owner": {"reputation": 554, "user_id": 4476501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oTMdb.jpg?s=128&g=1", "display_name": "Summer Sun", "link": "https://stackoverflow.com/users/4476501/summer-sun"}, "edited": false, "score": 0, "creation_date": 1522310425, "post_id": 33001454, "comment_id": 86108768, "body": "Still cannot convert <code>const char16_t *</code> to <code>LPCSTR</code>."}, {"owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "reply_to_user": {"reputation": 554, "user_id": 4476501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oTMdb.jpg?s=128&g=1", "display_name": "Summer Sun", "link": "https://stackoverflow.com/users/4476501/summer-sun"}, "edited": false, "score": 0, "creation_date": 1522320750, "post_id": 33001454, "comment_id": 86115522, "body": "@SummerSun <code>LPCSTR</code> is a string of 8-byte chars, not 16-byte. And I suppose <code>const char16_t *</code> is a string of 16-byte chars. You need either to use <code>LPCWSTR</code> instead of <code>LPCSTR</code>, or convert your string to <code>LPCSTR</code> using <code>WideCharToMultiByte</code> function."}, {"owner": {"reputation": 554, "user_id": 4476501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oTMdb.jpg?s=128&g=1", "display_name": "Summer Sun", "link": "https://stackoverflow.com/users/4476501/summer-sun"}, "edited": false, "score": 0, "creation_date": 1522323443, "post_id": 33001454, "comment_id": 86117305, "body": "@AntonMalyshev thank you, I switch from <code>CreateDirectoryA</code> to <code>CreateDirectoryW</code> and issue got fixed."}, {"owner": {"reputation": 2027, "user_id": 1582588, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3J7yh.png?s=128&g=1", "display_name": "Shrout1", "link": "https://stackoverflow.com/users/1582588/shrout1"}, "edited": false, "score": 5, "creation_date": 1574352016, "post_id": 33001454, "comment_id": 104211030, "body": "In Visual Studio 2019 this is now mapped to: Project -&gt; Properties -&gt; Advanced -&gt; Character -&gt; Use Multi-Byte Character Set"}, {"owner": {"reputation": 139, "user_id": 6293127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b694f96b6e5c58bc93564d33396f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Paulinho Campello", "link": "https://stackoverflow.com/users/6293127/paulinho-campello"}, "edited": false, "score": 0, "creation_date": 1599771695, "post_id": 33001454, "comment_id": 112885919, "body": "Does someone knows how can I set &quot;Use Multi-byte&quot; using VSCODE?"}, {"owner": {"reputation": 91, "user_id": 8732999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e3a59552610210df87c00e8aa64e2cb?s=128&d=identicon&r=PG&f=1", "display_name": "Robert \u0160andor", "link": "https://stackoverflow.com/users/8732999/robert-%c5%a0andor"}, "reply_to_user": {"reputation": 2027, "user_id": 1582588, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3J7yh.png?s=128&g=1", "display_name": "Shrout1", "link": "https://stackoverflow.com/users/1582588/shrout1"}, "edited": false, "score": 0, "creation_date": 1600096362, "post_id": 33001454, "comment_id": 112973110, "body": "@Shrout1 I have tried this, but it show garbage output... Sometimes, I can&#39;t even run the application as I see some antivirus library, awshook.dll shown."}], "tags": [], "owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "is_accepted": true, "score": 52, "last_activity_date": 1444248230, "creation_date": 1444248230, "answer_id": 33001454, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr/33001454#33001454", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<p>To compile your code in Visual C++ you need to use Multi-Byte char WinAPI functions instead of Wide char ones.</p>\n\n<p>Set <strong>Project -> Properties -> General -> Character Set</strong> option to <strong>Use Multi-Byte Character Set</strong></p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 5047223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54116f53c6f3f87cc8cff3301fd9849?s=128&d=identicon&r=PG&f=1", "display_name": "MSM", "link": "https://stackoverflow.com/users/5047223/msm"}, "edited": false, "score": 0, "creation_date": 1493264345, "post_id": 43648181, "comment_id": 74344477, "body": "It might not fit with your question but whosoever searches this error ends up at this post (just like me) so, it might help others"}], "tags": [], "owner": {"reputation": 320, "user_id": 5047223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54116f53c6f3f87cc8cff3301fd9849?s=128&d=identicon&r=PG&f=1", "display_name": "MSM", "link": "https://stackoverflow.com/users/5047223/msm"}, "is_accepted": false, "score": 12, "last_activity_date": 1495092154, "last_edit_date": 1495092154, "creation_date": 1493263820, "answer_id": 43648181, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr/43648181#43648181", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<p>I actually found another way to resolve this error since above method did not work for me.</p>\n\n<p>I  casted all my constant character strings with <code>(LPCWSTR)</code>. The solution looks like this<br>\n<strong>Earlier</strong></p>\n\n<pre><code>MessageBox(NULL,\"Dialog creation failed! Aborting..\", \"Error\", MB_OK);\n</code></pre>\n\n<p><strong>After casting to LPCWSTR</strong></p>\n\n<pre><code>MessageBox(NULL, (LPCWSTR) \"Dialog creation failed! Aborting..\", (LPCWSTR) \"Error\", MB_OK);\n</code></pre>\n\n<p>So just copying the <code>(LPCWSTR)</code> and pasting wherever this error was generated resolved all my errors.</p>\n"}, {"tags": [], "owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "is_accepted": false, "score": 8, "last_activity_date": 1575923307, "last_edit_date": 1575923307, "creation_date": 1495092060, "answer_id": 44041147, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr/44041147#44041147", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<p>Another way to come by this issue, is to use the <code>L</code>macro in front of your string.</p>\n\n<pre><code>MessageBox(NULL, L\"Dialog creation failed! Aborting..\", L\"Error\", MB_OK);\n</code></pre>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/6384118/what-does-the-l-in-front-a-string-mean-in-c\">What does the &#39;L&#39; in front a string mean in C++?</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4086817/l-prefix-for-strings-in-c\">L prefix for strings in C++</a></p>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 8011909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a073bb3ce603fa36a620bcb6f10ae72d?s=128&d=identicon&r=PG&f=1", "display_name": "Li Kui", "link": "https://stackoverflow.com/users/8011909/li-kui"}, "is_accepted": false, "score": 3, "last_activity_date": 1495096777, "last_edit_date": 1495096777, "creation_date": 1495094461, "answer_id": 44041917, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr/44041917#44041917", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<p>you can use <strong>wchar_t</strong></p>\n\n<pre><code>class Dir\n{\npublic:\n    wchar_t* cat;\nDir()\n{\n    wcout &lt;&lt; \"(C:/*)\\n\";\n    cat = new wchar_t[50];\n    wcin &gt;&gt; cat;\n}\n\n    void virtual ShowFiles()\n    {\n    }\n\n};\n</code></pre>\n\n<p>In <strong>Visual Studio 2013 and later</strong>, the MFC libraries for multi-byle character encoding (<strong>MBCS</strong>) will be provided as an add-on to Visual Studio</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 4159530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08767dc97119e706f20af35f69b329eb?s=128&d=identicon&r=PG", "display_name": "8Observer8", "link": "https://stackoverflow.com/users/4159530/8observer8"}, "is_accepted": false, "score": 1, "last_activity_date": 1511684048, "creation_date": 1511684048, "answer_id": 47494186, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr/47494186#47494186", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<p>It will work for any settings:</p>\n\n<pre><code>#include &lt;tchar.h&gt;\n\nMessageBox(NULL, _T(\"Dialog creation failed! Aborting..\"), _T(\"Error\"), MB_OK);\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 4945792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8ccc2ee99dab34679fb96f21c728bee?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan Tkachenko", "link": "https://stackoverflow.com/users/4945792/bogdan-tkachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39503, "favorite_count": 13, "accepted_answer_id": 33001454, "answer_count": 5, "score": 16, "last_activity_date": 1575923307, "creation_date": 1444247696, "last_edit_date": 1518214232, "question_id": 33001284, "link": "https://stackoverflow.com/questions/33001284/incompatible-with-parameter-of-type-lpcwstr", "title": "Incompatible with parameter of type &quot;LPCWSTR&quot;", "body": "<pre><code>#include \"stdafx.h\"\n#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;dos.h&gt;\nusing namespace std;\n\nclass Dir\n{\npublic:\n    char* cat;\n    Dir()\n    {\n        cout &lt;&lt; \"(C:/*)\\n\";\n        cat = new char[50];\n        cin &gt;&gt; cat;\n    }\n\n    void virtual ShowFiles()\n    {\n    }\n\n};\n\n\nclass Inside : public Dir\n{\npublic:\n    void virtual ShowFiles()\n    {\n        HANDLE hSearch;\n        WIN32_FIND_DATA pFileData;\n\n        hSearch = FindFirstFile(cat, &amp;pFileData);\n        if (hSearch != INVALID_HANDLE_VALUE)\n            do\n            {\n                //  if ((pFileData.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY))\n                cout &lt;&lt; pFileData.cFileName &lt;&lt; \"\\n\";\n            } while (FindNextFile(hSearch, &amp;pFileData));\n            FindClose(hSearch);\n    }\n};\nint main()\n{\n    Dir *obj1[2];\n    obj1[1] = new Inside;\n    obj1[1]-&gt;ShowFiles();\n    return 0;\n}\n</code></pre>\n\n<p>So I have a program, I need to show with dynamic char cat all file in directory, but it is compilable in Borland C++ but in Visual Studio 15 + Resharper it doesn't work. <strong>Severity    Code    Description Project File    Line\nError (active) argument of type \"char *\" is incompatible with parameter of type \"LPCWSTR\"</strong></p>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444247228, "post_id": 33001123, "comment_id": 53827111, "body": "Please <b><a href=\"https://stackoverflow.com/posts/33001123/edit\">edit</a></b> your question with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 3, "creation_date": 1444247232, "post_id": 33001123, "comment_id": 53827113, "body": "Make an object and use it. Data members only exist in objects."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1444247250, "post_id": 33001123, "comment_id": 53827124, "body": "Maybe you need to make a singleton instance of class <code>A</code>?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 4, "creation_date": 1444247420, "post_id": 33001123, "comment_id": 53827207, "body": "i think you&#39;re probably getting confused between the difference of a class and an object, see this link <a href=\"http://www.diffen.com/difference/Class_vs_Object\" rel=\"nofollow noreferrer\">diffen.com/difference/Class_vs_Object</a> for reference"}, {"owner": {"reputation": 183, "user_id": 4396280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k9tCT.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4396280/george"}, "edited": false, "score": 0, "creation_date": 1444248343, "post_id": 33001123, "comment_id": 53827828, "body": "How can I make a singleton instance of class A? I am sure I should use the function getX() in class B, but is it possible using it without having an object of class A?"}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1444257077, "post_id": 33001123, "comment_id": 53831964, "body": "It <i>really</i> depends on what makes sense in the context of your actual program. <code>static</code> functions / singletons apply to different kinds of design issues than instances of objects. But we have no idea what you&#39;re trying to design. Very roughly speaking: if you only ever need 1 of something, then static / singleton could be appropriate. Otherwise create an instance of the class where needed."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1444258911, "post_id": 33001123, "comment_id": 53832551, "body": "Well, <b>which A</b>&#39;s x do you want to get? If I have <code>class Person {public: int age;};</code> then I can&#39;t just get <code>Person.age</code>, that makes no sense. It has to be <code>alice.age</code> or <code>bob.age</code>, if <code>alice</code> and <code>bob</code> are instances of <code>Person</code>."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 1320956, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/055b8e40a3db1702617efea3a21d6e85?s=128&d=identicon&r=PG", "display_name": "vikrant", "link": "https://stackoverflow.com/users/1320956/vikrant"}, "is_accepted": false, "score": 1, "last_activity_date": 1444247635, "creation_date": 1444247635, "answer_id": 33001263, "question_id": 33001123, "link": "https://stackoverflow.com/questions/33001123/c-use-of-public-variables-from-different-classes/33001263#33001263", "title": "C++ use of public variables from different classes", "body": "<p>I think you need to define them as static.</p>\n\n<pre><code>class A {\n   public:\n     static int x;\n}\n</code></pre>\n\n<p>in class B, you can access it..</p>\n\n<pre><code>A::x;\n</code></pre>\n\n<p>But there will be only single instance of x, which will be shared between all the objects of class A.</p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "is_accepted": false, "score": 1, "last_activity_date": 1444247641, "creation_date": 1444247641, "answer_id": 33001265, "question_id": 33001123, "link": "https://stackoverflow.com/questions/33001123/c-use-of-public-variables-from-different-classes/33001265#33001265", "title": "C++ use of public variables from different classes", "body": "<pre><code>class b\n{\npublic:\n    void member function(const a &amp;instance)\n    {\n        cout&lt;&lt;a.x;\n    }\n};\n</code></pre>\n\n<p>Access data member of class a through member function of class b</p>\n"}], "owner": {"reputation": 183, "user_id": 4396280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/k9tCT.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4396280/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444247641, "creation_date": 1444247151, "question_id": 33001123, "link": "https://stackoverflow.com/questions/33001123/c-use-of-public-variables-from-different-classes", "title": "C++ use of public variables from different classes", "body": "<p>I want to access public variables from different classes in C++. I am having trouble to do it. For exemple, I have </p>\n\n<pre><code>class A{\n  public:\n  int x;\n  int getX();\n};\n</code></pre>\n\n<p>After that, I want to use <code>x</code> in a <code>class B</code>. There is no inheritance between <code>class A</code> and <code>class B</code>, they are just two separate classes. The problem is that, in <code>class B</code> I do not have an object of type <code>A</code> and so I cannot call the function <code>getX</code>.\nCan you tell me a way so as to use the variable <code>x</code>(defined in <code>A</code>) in class B?\nThank you</p>\n"}, {"tags": ["c++", "file", "pointers"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1444247173, "post_id": 33001042, "comment_id": 53827079, "body": "There is literally no C++ code in this program. Can this be re-tagged as C or were you intending to do C++?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1444247176, "post_id": 33001042, "comment_id": 53827083, "body": "you could stop working with pointers and use strings instead"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1444247656, "post_id": 33001042, "comment_id": 53827380, "body": "I don&#39;t understand the purpose of <code>ptrQuote</code>. It just appears to point to each individual character."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1444247786, "post_id": 33001042, "comment_id": 53827468, "body": "One problem is that <code>char *ptrQuote[80];</code> is 80 pointers to individual character, not at all something like a string. I can&#39;t figure out how to write that to a file either. (I can also see a deleted answer from someone else who attempted but failed.) You should probably start with a <code>std::string</code> and skip the char arrays and pointers."}, {"owner": {"reputation": 11, "user_id": 5083560, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/10207579150461616/picture?type=large", "display_name": "Rodrigo Peniche", "link": "https://stackoverflow.com/users/5083560/rodrigo-peniche"}, "edited": false, "score": 0, "creation_date": 1444247829, "post_id": 33001042, "comment_id": 53827491, "body": "its an school exercise so i have to do it exclusively with pointers"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1444247960, "post_id": 33001042, "comment_id": 53827587, "body": "Then perhaps you should use 1 pointer that you increment over the array and not 80 pointers. (You should note that some of us trying to answer have been doing this for 20-30 year, and we cannot figure out the <code>ptrQuote</code>. You are trying <b>way</b> too hard :-)"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1444248384, "post_id": 33001042, "comment_id": 53827856, "body": "If your teacher really insists on using a pointer, then my advise is this: Write the code without using any pointer but a <code>std::string myString</code> and then somewhere in the code you add a single line: <code>std::string* getHappyWithThisPointer = &amp;myString</code>. Anything else is nonsense."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1444248525, "post_id": 33001042, "comment_id": 53827945, "body": "hm sorry I overread the &quot;exclusively&quot;, sounds like real torturing with no benefit"}], "answers": [{"tags": [], "owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1444254936, "last_edit_date": 1444254936, "creation_date": 1444248597, "answer_id": 33001558, "question_id": 33001042, "link": "https://stackoverflow.com/questions/33001042/saving-a-char-pointer-on-a-file-with-c/33001558#33001558", "title": "saving a char pointer on a file with c++", "body": "<p>You were close. Instead of using 80 pointers (maybe a <em>little</em> overboard) for your code, just use one:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid convert(char ptrQuote[80], int nvocals);\nvoid save(char ptrQuote[80]);\nvoid print(char ptrQuote[80]);\n\nint main(int argc, char **argv) {\n    char  quote[80];\n    int nvocals = 0;\n    printf(\"Enter your quote :\\n\");\n    scanf(\"%s\", &amp;quote);\n    convert(quote, nvocals);\n    save(quote);\n    print(quote);\n    return 0;\n}\n\nvoid convert(char ptrQuote[80], int nvocals)\n{\n    for(int i=0; i&lt;80; i++)\n    {\n        if(ptrQuote[i]=='a')\n        {\n            ptrQuote[i]='A';\n            nvocals ++;\n        }\n\n        if(ptrQuote[i]=='e')\n        {\n            ptrQuote[i]='E';\n            nvocals ++;\n        }\n\n        if(ptrQuote[i]=='i')\n        {\n            ptrQuote[i]='I';\n            nvocals ++;\n        }\n\n        if(ptrQuote[i]=='o')\n        {\n            ptrQuote[i]='O';\n            nvocals ++;\n        }\n\n        if(ptrQuote[i]=='u')\n        {\n            ptrQuote[i]='U';\n            nvocals ++;\n        }\n\n    }\n\n    printf(\"%s\\n\", ptrQuote);\n    printf(\"Number of vocals: %d\\n\", nvocals);\n}\n\nvoid save(char ptrQuote[80])\n{\n    FILE *quote;\n    quote = fopen(\"quote.txt\", \"w\");\n    fwrite(ptrQuote, sizeof(*ptrQuote), 1, quote);\n    fclose(quote);\n}\n\nvoid print(char ptrQuote[80])\n{\n    /* no need for loop here anymore */\n    printf(\"%s\\n\", ptrQuote);\n}\n</code></pre>\n\n<p>You also would be able to print to the file (using your method) with this:</p>\n\n<pre><code>for (int i = 0; i &lt; 80; ++i)\n    fputc(*ptrQuote[i], quote);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5083560, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/10207579150461616/picture?type=large", "display_name": "Rodrigo Peniche", "link": "https://stackoverflow.com/users/5083560/rodrigo-peniche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444254936, "creation_date": 1444246878, "last_edit_date": 1444247941, "question_id": 33001042, "link": "https://stackoverflow.com/questions/33001042/saving-a-char-pointer-on-a-file-with-c", "title": "saving a char pointer on a file with c++", "body": "<p>Hi I'm having trouble with a program which receives a text string provided by the user and does 3 things:</p>\n\n<ol>\n<li>Convert all vowels to capital letters, print the new text and also print the number of vowels converted.</li>\n<li>Save the new text into a file.</li>\n<li>Print the converted text character by character.</li>\n</ol>\n\n<p>Heres the code</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid convert(char *ptrQuote[80], int nvocals);\nvoid save(char *ptrQuote[80]);\nvoid print(char *ptrQuote[80]);\n\nint main(int argc, char** argv) {\n\n    char  quote[80];\n    char *ptrQuote[80];\n    int nvocals= 0;\n    printf(\"Enter your quote :\\n\");\n    scanf(\"%s\", &amp;quote);\n    for(int i= 0; i&lt;80; i++)\n    {\n        ptrQuote[i]= &amp;quote[i];\n    }\n    convert(ptrQuote, nvocals);\n    save(ptrQuote);\n    print(ptrQuote);\n    return 0;\n}\n\nvoid convert(char *ptrQuote[80], int nvocals)\n{\n    for(int i=0; i&lt;80; i++)\n    {\n        if(*ptrQuote[i]=='a')\n        {\n            *ptrQuote[i]='A';\n            nvocals ++;\n        }\n\n        if(*ptrQuote[i]=='e')\n        {\n            *ptrQuote[i]='E';\n            nvocals ++;\n        }\n\n        if(*ptrQuote[i]=='i')\n        {\n            *ptrQuote[i]='I';\n            nvocals ++;\n        }\n\n        if(*ptrQuote[i]=='o')\n        {\n            *ptrQuote[i]='O';\n            nvocals ++;\n        }\n\n        if(*ptrQuote[i]=='u')\n        {\n            *ptrQuote[i]='U';\n            nvocals ++;\n        }\n\n    }\n\n    printf(\"%s\\n\", *ptrQuote);\n    printf(\"Number of vocals: %d\\n\", nvocals);\n}\n\nvoid save(char *ptrQuote[80])\n{\n    FILE *quote;\n    quote= fopen(\"quote.txt\", \"w\");\n    fwrite(&amp;ptrQuote[80], sizeof(*ptrQuote), 1, quote);\n    fclose(quote);\n}\n\nvoid print(char *ptrQuote[80])\n{\n    for(int i=0; i&lt;sizeof(*ptrQuote); i++)\n    {\n        printf(\"%c\", *ptrQuote[i]);\n    }\n}\n</code></pre>\n\n<p>The first function works properly but when it comes to the save and print functions it saves and prints the quote incomplete. As you can see I'm working with pointers. What can I do? Thanks.</p>\n"}, {"tags": ["c++", "encryption", "caesar-cipher"], "comments": [{"owner": {"reputation": 1, "user_id": 5420064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18fc10f30e2a49b9b434eea2b5c97577?s=128&d=identicon&r=PG&f=1", "display_name": "Sgt Memop", "link": "https://stackoverflow.com/users/5420064/sgt-memop"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1444246465, "post_id": 33000847, "comment_id": 53826637, "body": "I&#39;m pretty sure it&#39;s C++, what makes you think it isn&#39;t?"}, {"owner": {"reputation": 1, "user_id": 5420064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18fc10f30e2a49b9b434eea2b5c97577?s=128&d=identicon&r=PG&f=1", "display_name": "Sgt Memop", "link": "https://stackoverflow.com/users/5420064/sgt-memop"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1444246570, "post_id": 33000847, "comment_id": 53826714, "body": "I tried that already, it gets even worse <a href=\"http://puu.sh/kC0Lf/e92f9f0a81.png\" rel=\"nofollow noreferrer\">puu.sh/kC0Lf/e92f9f0a81.png</a>"}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1444246790, "post_id": 33000847, "comment_id": 53826835, "body": "Note that the letter &#39;a&#39; has a value of decimal 97 in ASCII."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 1, "creation_date": 1444246946, "post_id": 33000847, "comment_id": 53826944, "body": "This line is faulty <code>conv[i]=ch[i]+otm%26;</code> so focus here. Is the input upper or lower case? Should there be brackets? What happens to a space or a number? <code>%26</code> asssumes you only have 26 characters."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444246949, "post_id": 33000847, "comment_id": 53826947, "body": "When you used the debugger, what are the values in the variable that cause the grief?"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1444247019, "post_id": 33000847, "comment_id": 53826982, "body": "When you are doing your math you are doing math with the &quot;ASCII&quot; value of that character. So you&#39;ll want to consult this: <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">asciitable.com</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444247079, "post_id": 33000847, "comment_id": 53827014, "body": "Research the <code>isalpha()</code> function in your favorite C++ reference."}], "answers": [{"comments": [{"owner": {"reputation": 2801, "user_id": 2877058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMUyx.jpg?s=128&g=1", "display_name": "WhiteViking", "link": "https://stackoverflow.com/users/2877058/whiteviking"}, "edited": false, "score": 2, "creation_date": 1444247251, "post_id": 33001085, "comment_id": 53827125, "body": "The missing terminating zero is only one of many issue. The algorithm as a whole is broken..."}, {"owner": {"reputation": 1, "user_id": 5420064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18fc10f30e2a49b9b434eea2b5c97577?s=128&d=identicon&r=PG&f=1", "display_name": "Sgt Memop", "link": "https://stackoverflow.com/users/5420064/sgt-memop"}, "edited": false, "score": 0, "creation_date": 1444247534, "post_id": 33001085, "comment_id": 53827288, "body": "Thank you so much, great explanation :)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 2801, "user_id": 2877058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMUyx.jpg?s=128&g=1", "display_name": "WhiteViking", "link": "https://stackoverflow.com/users/2877058/whiteviking"}, "edited": false, "score": 0, "creation_date": 1444248354, "post_id": 33001085, "comment_id": 53827837, "body": "@WhiteViking Yes the algo is broken but that was not the question was after.  I just wanted to answer why the output to the file had extraneous garbage."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1444247366, "last_edit_date": 1444247366, "creation_date": 1444247030, "answer_id": 33001085, "question_id": 33000847, "link": "https://stackoverflow.com/questions/33000847/cant-figure-out-an-issue-with-caesar-cipher-in-c/33001085#33001085", "title": "Can&#39;t figure out an issue with Caesar Cipher in C++", "body": "<p>The issue is <code>char conv[20];</code> contains garbage.  Then you fill it up with the conversion but you never add a null terminator to the end to indicate the end of the string.  <code>cout</code> seems to be handling the garbage differently than <code>fwrite</code> so you get a difference on your output to the file versus what is on the screen.  To fix this change:</p>\n\n<pre><code>for (i = 0; i&lt;c; i++)\n{\n    conv[i] = ch[i] + otm % 26;\n}\n</code></pre>\n\n<p>To</p>\n\n<pre><code>for (i = 0; i&lt;c; i++)\n{\n    conv[i] = ch[i] + otm % 26;\n}\nconv[c] = '\\0';\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18fc10f30e2a49b9b434eea2b5c97577?s=128&d=identicon&r=PG&f=1", "display_name": "Sgt Memop", "link": "https://stackoverflow.com/users/5420064/sgt-memop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444247366, "creation_date": 1444246208, "last_edit_date": 1444246341, "question_id": 33000847, "link": "https://stackoverflow.com/questions/33000847/cant-figure-out-an-issue-with-caesar-cipher-in-c", "title": "Can&#39;t figure out an issue with Caesar Cipher in C++", "body": "<p>I have some trouble figuring out what the problem is with my code. My task is to write the Caesar cipher in a file. It seems to display additional symbols that should not be there (from time to time), but it is otherwise working well. Here is what it looks like <a href=\"http://puu.sh/kC04F/2fc1bbd048.jpg\" rel=\"nofollow\">http://puu.sh/kC04F/2fc1bbd048.jpg</a>\nand Here's the code, thanks in advance ^^</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;conio.h&gt;\n#include&lt;cstring&gt;\n#include&lt;stdio.h&gt;\nusing namespace std;\nint main ()\n{\n  char ch[20];\n  char conv[20];\n  int i;\n  cout&lt;&lt;\"Enter a word \"&lt;&lt;endl;\n  gets(ch); \n  int otm;\n  cout&lt;&lt;\"Enter shift \"&lt;&lt;endl;\n  cin&gt;&gt;otm;\n  int c=strlen(ch);\n\n  for(i=0; i&lt;c; i++)\n  {\n    conv[i]=ch[i]+otm%26;\n  }\n\n  for(i=0; i&lt;c; i++)\n  {\n      cout&lt;&lt;conv[i];\n  }\n\n  FILE *stream;\n  char ime[]=\"probe.txt\";\n\n  stream=fopen(ime, \"w\");\n  fwrite(conv, strlen(conv), 1, stream);\n  fseek (stream, 0, SEEK_SET);\n\n  cout&lt;&lt;endl;\n  fflush(stream);\n  fclose(stream);\n\n\n  system (\"pause\");\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "performance", "matlab", "mex"], "comments": [{"owner": {"reputation": 29526, "user_id": 2778484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzgZz.png?s=128&g=1", "display_name": "chappjc", "link": "https://stackoverflow.com/users/2778484/chappjc"}, "edited": false, "score": 0, "creation_date": 1444256958, "post_id": 33000837, "comment_id": 53831926, "body": "Well, I&#39;m confused.  <code>mxSetData(...)</code> is definitely the hotspot, but I can&#39;t see why.  There is no re-allocation going on, but there is a consistent 1-2 ms delay for each call to <code>mxSetData</code>.  There is clearly something else going on under the hood.  Perhaps this is merely an effect of the cache-friendliness when the buffers are taken i order (presumably close/frequently adjacent in memory)"}, {"owner": {"reputation": 164, "user_id": 3140750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02b4f126997d2f143d296f41b5e1cdd?s=128&d=identicon&r=PG&f=1", "display_name": "Atimaharjun", "link": "https://stackoverflow.com/users/3140750/atimaharjun"}, "reply_to_user": {"reputation": 29526, "user_id": 2778484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzgZz.png?s=128&g=1", "display_name": "chappjc", "link": "https://stackoverflow.com/users/2778484/chappjc"}, "edited": false, "score": 0, "creation_date": 1444307790, "post_id": 33000837, "comment_id": 53854839, "body": "But The Question remains as to what eactly are those buffers and why does MATLAB seem to need any kind of buffers at all for just copying a pointer."}, {"owner": {"reputation": 29526, "user_id": 2778484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzgZz.png?s=128&g=1", "display_name": "chappjc", "link": "https://stackoverflow.com/users/2778484/chappjc"}, "edited": false, "score": 0, "creation_date": 1444322325, "post_id": 33000837, "comment_id": 53865508, "body": "I thought maybe it checked to make sure there were in order or aligned or something (despite all documentation indicating otherwise), but the pointers don&#39;t change ( no realloc).  And yes, it should just be copying a pointer.  I&#39;m guessing there&#39;s some other data check going on."}], "owner": {"reputation": 164, "user_id": 3140750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02b4f126997d2f143d296f41b5e1cdd?s=128&d=identicon&r=PG&f=1", "display_name": "Atimaharjun", "link": "https://stackoverflow.com/users/3140750/atimaharjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444246138, "creation_date": 1444246138, "question_id": 33000837, "link": "https://stackoverflow.com/questions/33000837/cell-array-output-is-slow-in-mex", "title": "Cell array output is Slow in MEX", "body": "<p>I Have observed the following wierd problem pertaining to cell arrays. I am currently using Matlab R2013a. Consider the following code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;chrono&gt;\n\n#include &lt;mex.h&gt;\n#undef printf       // to undo redefinition of printf by mex.h\n#include &lt;matrix.h&gt;\n\nvoid mexFunction(int nlhs, mxArray **plhs, int nrhs, mxArray **prhs) {\n\n    if (nrhs != 0) {\n        mexErrMsgIdAndTxt(\"CellArray:InvalidInput\", \"There are too many input arguments required no of input args = 0\");\n    }\n    if (nlhs != 1) {\n        mexErrMsgIdAndTxt(\"CellArray:InvalidOutput\", \"Incorrect number of output arguments required no of output args = 1\");\n    }\n\n    int CellArrSize = 50820;   // Number is prime\n    int CellContentSizeCurr = 1;\n    int CurrentCell = 732;\n\n    mwSize CellArrayDims[] = { CellArrSize, 1 };\n    std::vector&lt;int *&gt; IntArrayofArrays(CellArrSize, nullptr);\n    std::vector&lt;int&gt; CellContentSize(CellArrSize);\n\n    plhs[0] = mxCreateCellArray(2, CellArrayDims);\n\n    // Filling the Array of Arrays with the content to output\n    // into the cell array\n    for (int i = 0; i &lt; CellArrSize; ++i) {\n        CellContentSizeCurr = (CellContentSizeCurr * 398) % 431; // 431 is primes \n        #ifdef IS_CONTIG\n            CurrentCell = i;\n        #else\n            CurrentCell = ((CurrentCell + 1) * 732) % 50821 - 1;\n        #endif\n        IntArrayofArrays[CurrentCell] = reinterpret_cast&lt;int *&gt;(mxCalloc(CellContentSizeCurr, sizeof(int)));\n        for (int j = 0; j &lt; CellContentSizeCurr; ++j) {\n            IntArrayofArrays[CurrentCell][j] = i * CellContentSizeCurr + j;\n        }\n        CellContentSize[CurrentCell] = CellContentSizeCurr;\n    }\n\n    // Performing output of the Array of Array into Cell array\n    // (along with profiling code)\n    int TimeTakeninus = 0;\n    for (int i = 0; i &lt; CellArrSize; ++i) {\n        mxArray * tempmxArray;\n        mwSize mxArrayDims[] = { 0,0 };\n        tempmxArray = mxCreateNumericArray(2, mxArrayDims, mxINT32_CLASS, mxREAL);\n        mxSetM(tempmxArray, CellContentSize[i]);\n        mxSetN(tempmxArray, 1);\n\n        auto TimeBeg = std::chrono::system_clock::now();\n        mxSetData(tempmxArray, IntArrayofArrays[i]);\n        auto TimeEnd = std::chrono::system_clock::now();\n        TimeTakeninus += std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(TimeEnd - TimeBeg).count();\n        mxSetCell(plhs[0], i, tempmxArray);\n    }\n\n    mexPrintf(\"The time taken to perform output = %d ms\\n\", TimeTakeninus / 1000);\n    mexEvalString(\"drawnow\");\n}\n</code></pre>\n\n<p>There is an option (define) <code>IS_CONTIG</code> which basically decides if the memory in successive Arrays in \nIntArrayofArrays` is allocated contiguously or not. The numbers above are chosen so that even in the\ndiscontiguous case, all cell indices from 0..to Size-1 are filled (and allocated) exactly once.</p>\n\n<p>The MATLAB Side of this is simple</p>\n\n<pre><code>FinalCellArray = MexCellArrayTest();\n</code></pre>\n\n<p>The issue observed is as follows</p>\n\n<ul>\n<li>If we remove the definition of IS_CONTIG and allow for contiguous allocation of memory, \nThe Execution is ligntning fast (output &lt; 1ms).</li>\n<li>However, in the other case, with non-contiguous The Output portion (as detected by the \nprofiling code) takes nearly 6 seconds.</li>\n<li><p>Note that the output is given using the mxSetData Function which (in principle) should\nonly copy the address of the memory location as passed to it by IntArrayofArrays[i].</p>\n\n<p>WHY THE BIG DIFFERENCE?</p></li>\n</ul>\n"}, {"tags": ["c++", "fftw"], "comments": [{"owner": {"reputation": 3536, "user_id": 3589890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c51e57398bf347074f512dede124f23?s=128&d=identicon&r=PG&f=1", "display_name": "Rostislav", "link": "https://stackoverflow.com/users/3589890/rostislav"}, "edited": false, "score": 0, "creation_date": 1444247764, "post_id": 33000503, "comment_id": 53827457, "body": "I can&#39;t really say what&#39;s going wrong here, but I&#39;d recommend using <a href=\"http://fftwpp.sourceforge.net/\" rel=\"nofollow noreferrer\">FFTW++</a> when you&#39;re working with FFTW from c++ code."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5285423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179a7dc726c755dded041480a57f13a4?s=128&d=identicon&r=PG&f=1", "display_name": "Zalastra", "link": "https://stackoverflow.com/users/5285423/zalastra"}, "edited": false, "score": 0, "creation_date": 1444327303, "post_id": 33005189, "comment_id": 53868192, "body": "Thank you @SleuthEye, that solution worked wonderfully. I didn&#39;t know about that little quirk with FFTW plans, and so assumed that what I was doing would work (it was a method I had seen used in other posts around here and elsewhere). My program is now happily producing complex image output that I need to get formatted for processing in MATLAB."}], "tags": [], "owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "is_accepted": true, "score": 2, "last_activity_date": 1444268180, "creation_date": 1444268180, "answer_id": 33005189, "question_id": 33000503, "link": "https://stackoverflow.com/questions/33000503/why-is-fftw-input-non-zero-output-returns-all-zeros-c/33005189#33005189", "title": "why is FFTW input non-zero, output returns all zeros (C++)", "body": "<p>The confusion probably originates with the line</p>\n\n<pre><code>in = reinterpret_cast&lt;fftw_complex*&gt;(&amp;filteredData[0]);\n</code></pre>\n\n<p>While this updates the local variable <code>in</code> to points to the area in memory where your data is stored (the storage buffer of the <code>filteredData</code> vector), it does not update the pointer kept internally by the <code>plan</code>. The area of memory that FFTW knows about and uses as input buffer is thus still the one you had originally allocated with </p>\n\n<pre><code>in = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * image.Nfft );\n</code></pre>\n\n<p>and specified as argument to </p>\n\n<pre><code>fftw_plan_dft_1d(image.Nfft, in, out, FFTW_BACKWARD, FFTW_MEASURE);\n//                           ^^\n</code></pre>\n\n<p>Note that this memory area remains uninitialized (which <em>may</em> happen to be zeros) throughout your program.</p>\n\n<p>You should instead write directly to the <code>in</code> input buffer with:</p>\n\n<pre><code>for ( int ii=0; ii&lt;freq.size(); ii++ )\n{\n    // Apply simple ramp filter\n    std::complex&lt;double&gt; value = freq[ii]*rxphase[ii][i];\n    in[ii][0] = value.real();\n    in[ii][1] = value.imag();\n}\n</code></pre>\n\n<p>Needless to say that in this case the <code>in = reinterpret_cast&lt;fftw_complex*&gt;(&amp;filteredData[0])</code> line should also be removed.</p>\n\n<p>Alternatively if you are using a compiler where <code>fftw_complex</code> and <code>std::complex&lt;double&gt;</code> are binary compatible (see <a href=\"http://www.fftw.org/doc/Complex-numbers.html\" rel=\"nofollow\">FFTW documentation of Complex numbers type</a>), you may prefer:</p>\n\n<pre><code>std::complex&lt;double&gt;* filteredData = reinterpret_cast&lt;std::complex&lt;double&gt;*&gt;(in);\nfor ( int ii=0; ii&lt;freq.size(); ii++ )\n{\n    // Apply simple ramp filter\n    filteredData[ii] = freq[ii]*rxphase[ii][i];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 7381742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVose.png?s=128&g=1", "display_name": "Envidia", "link": "https://stackoverflow.com/users/7381742/envidia"}, "is_accepted": false, "score": 2, "last_activity_date": 1483660700, "creation_date": 1483660700, "answer_id": 41496797, "question_id": 33000503, "link": "https://stackoverflow.com/questions/33000503/why-is-fftw-input-non-zero-output-returns-all-zeros-c/41496797#41496797", "title": "why is FFTW input non-zero, output returns all zeros (C++)", "body": "<p>For a quick and dirty way of thinking about this, you create <code>fftw_plan</code> with  <code>fftw_plan_dft_1d</code>  <em>first</em>, modify the contents of the effective input array to <code>fftw_plan_dft_1d</code> as SleuthEye mentions, and <em>then</em> call <code>fftw_execute</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 5285423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179a7dc726c755dded041480a57f13a4?s=128&d=identicon&r=PG&f=1", "display_name": "Zalastra", "link": "https://stackoverflow.com/users/5285423/zalastra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 1, "accepted_answer_id": 33005189, "answer_count": 2, "score": 2, "last_activity_date": 1483660700, "creation_date": 1444244981, "last_edit_date": 1444268539, "question_id": 33000503, "link": "https://stackoverflow.com/questions/33000503/why-is-fftw-input-non-zero-output-returns-all-zeros-c", "title": "why is FFTW input non-zero, output returns all zeros (C++)", "body": "<p>Ok, so I have been working at the following problem for a while now and can't seem to come to an answer. In short, I am implementing tomographic imaging for a radar signal, and can't seem to get FFTW to give me an output other than zeros. I am implementing via C++ and using the FFTW3 library.</p>\n\n<p>The input for now is a simulated point scatterer at the origin of the scene, which has a phase response of all real ones (see <code>rxphase</code> variable).  Because of bandwidth used etc, the IFFT of the filtered received signal should be fairly large (I haven't scaled it  yet) but I am getting zeros for each pulse.</p>\n\n<p>excerpt from my code:</p>\n\n<pre><code>void ifftshift(std::vector&lt;phdata&gt; &amp;argin, std::size_t count){\n  int k = 0;\n  int c = (int)floor((float)count/2);\n\n  if (count % 2 == 0)\n  {\n    for (k=0; k&lt;c;k++)\n    {\n      complex&lt;double&gt; tmp = argin[k];\n      argin[k] = argin[k+c];\n      argin[k+c] = tmp;\n    }\n  }\n  else\n  {\n    complex&lt;double&gt; tmp = argin[count-1];\n    for (k=c-1; k&gt;=0; k--)\n    {\n      argin[c+k+1] = argin[k];\n      argin[k] = argin[c+k];\n    }\n    argin[c] = tmp;\n  }\n};\n\nvoid main(){\n\n  std::vector&lt;complex&lt;double&gt; &gt; filteredData;\n  // Number of pulses across the aperture\n  std::int pulses = 11;\n  // Define the frequency vector\n  std::vector&lt;double&gt; freq;\n  std::double freqmin = 9 * pow(10,9);\n  std::double freqmax = 11 * pow(10,9);\n  std::vector&lt;complex&lt;double&gt; &gt; outData;\n  std::vector&lt;complex&lt;double&gt; &gt; rxphase;\n\n  for  (int i = 0; i&lt;64; i++)\n  {\n    freq.push_back(freqmin + (((freqmax-freqmin)/64)*i));\n  }\n\n  // Create a (samples X pulses) array of complex doubles\n  rxphase.assign(64, std::vector&lt;complex&lt;double&gt; &gt; (11, {1,0}) );\n\n  fftw_complex *in, *out;\n  fftw_plan plan;\n\n  in = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * image.Nfft );\n  out = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * image.Nfft );\n  plan = fftw_plan_dft_1d(image.Nfft, in, out, FFTW_BACKWARD, FFTW_MEASURE);\n\n  // iterate through pulses to back project across the aperture\n  for ( int i=0; i&lt;=pulses; i++ )\n  {\n    // Reset vectors for each pulse\n    filteredData.clear();\n    outData.clear();\n\n    for ( int ii=0; ii&lt;freq.size(); ii++ )\n    {\n      // Apply simple ramp filter\n      filteredData.push_back(freq[ii]*rxphase[ii][i]);\n    }\n\n    // Shift the data to put the center frequency at DC position (zero index)\n    ifftshift(filteredData, filteredData.size());\n\n    for (int ii=0; ii&lt;filteredData.size(); ii++)\n    {\n      std::cout &lt;&lt; filteredData[ii] ;\n    }\n    std::cout &lt;&lt; std::endl;\n    // filteredData is what I expect it to be.\n\n    // Recast the vector to the type needed for FFTW and compute FFT\n    in = reinterpret_cast&lt;fftw_complex*&gt;(&amp;filteredData[0]);\n\n    for (int ii=0; ii&lt;filteredData.size(); ii++)\n    {\n      std::cout &lt;&lt; \"(\" &lt;&lt; (in[ii])[0] &lt;&lt; \",\" &lt;&lt; (in[ii])[1] &lt;&lt; \");\";\n    }\n    std::cout &lt;&lt; std::endl;\n    // values for in are the same as for filteredData, as expected.\n\n    fftw_execute(plan);\n\n    for (int ii=0; ii&lt;filteredData.size(); ii++)\n    {\n      std::cout &lt;&lt; \"(\" &lt;&lt; (out[ii])[0] &lt;&lt; \",\" &lt;&lt; (out[ii])[1] &lt;&lt; \");\";\n    }\n    std::cout &lt;&lt; std::endl;\n    // The values for out are all (0,0)\n  }\n\n  fftw_destroy_plan(plan);\n  //fftw_free(in); error here\n  //fftw_free(out); error here\n};\n</code></pre>\n\n<p>any help would be greatly appreciated.</p>\n\n<p>EDIT: code should be a little more complete. </p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444246026, "post_id": 33000524, "comment_id": 53826372, "body": "The problem is that <code>count()</code> can be still called by any member of &#39;class Test&#39;"}, {"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "reply_to_user": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444246864, "post_id": 33000524, "comment_id": 53826891, "body": "@BinaryA and how is that a problem? If you want to go that far then move all your dosomething logic to Counter class (and call it SomethingDoer). But honestly what you are trying to achieve doesn&#39;t make much sense."}, {"owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444247938, "post_id": 33000524, "comment_id": 53827569, "body": "My issues is that in my second code snippet, i have 2 class variables that are only used in one function, it is not a big deal, but i would rather isolate it from the rest of the class."}], "tags": [], "owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1444245649, "last_edit_date": 1444245649, "creation_date": 1444245043, "answer_id": 33000524, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio/33000524#33000524", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>I don't think there are options in C++ to have method scope private field. Encapsulation rules are that class is the unit of encapsulation so you should know what to do and what not to do within your own class.</p>\n\n<p>You can achieve similar effect by using separate functor:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Counter {\n    private:\n     int counter = 0;\n    public:\n     int operator () () {\n        return counter++;\n     }\n};\n\nclass Test {\n    public:\n     Counter count;\n};\n\nint main() {\n    Test test;\n    test.count();\n    test.count();\n    std::cout &lt;&lt; test.count();\n    return 0;\n}\n</code></pre>\n\n<p>In this case <code>counter</code> is completely inaccessible from class <code>Test</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 1, "creation_date": 1444246509, "post_id": 33000648, "comment_id": 53826664, "body": "The base class is still accessible equally to any member function of <code>Foo</code>"}, {"owner": {"reputation": 2879, "user_id": 1624629, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/28cf9a21f11f48c5dad051dd40260972?s=128&d=identicon&r=PG", "display_name": "DaBrain", "link": "https://stackoverflow.com/users/1624629/dabrain"}, "reply_to_user": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444250364, "post_id": 33000648, "comment_id": 53828902, "body": "@BinaryA you could place <code>doingSomething()</code> in the base class and use public inheritace. <code>private: int counter;</code> will be inaccessible."}, {"owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "reply_to_user": {"reputation": 2879, "user_id": 1624629, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/28cf9a21f11f48c5dad051dd40260972?s=128&d=identicon&r=PG", "display_name": "DaBrain", "link": "https://stackoverflow.com/users/1624629/dabrain"}, "edited": false, "score": 0, "creation_date": 1444250594, "post_id": 33000648, "comment_id": 53829018, "body": "@DaBrain another great idea, if RedOctober wants to update his answer with your idea, it would upvoted"}, {"owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "reply_to_user": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444322916, "post_id": 33000648, "comment_id": 53865851, "body": "@BinaryA I would have to disagree. Even as is, <code>int counter</code> is a private member variable of the base class and therefore is not directly accessible from <code>foo</code>."}], "tags": [], "owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "is_accepted": false, "score": 4, "last_activity_date": 1444323187, "last_edit_date": 1444323187, "creation_date": 1444245412, "answer_id": 33000648, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio/33000648#33000648", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>you can hide your counter in a base class</p>\n\n<pre><code>class base_foo\n{\npublic: \n void doSomething()\n {\n     counter++;\n     //other fun stuff\n }\n\nprivate:\n   int counter;\n};\n\nclass foo : base_foo\n{\npublic:\n    foo()\n    {\n        doSomething();\n    }\n// your other code\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444248611, "post_id": 33000744, "comment_id": 53827994, "body": "Very cool idea, if a new function was to be declared in <code>Foo</code> would this new function be able to access <code>counter</code>?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444248732, "post_id": 33000744, "comment_id": 53828048, "body": "@BinaryA No as <code>counter</code> is local to <code>bar()</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "edited": false, "score": 0, "creation_date": 1444249190, "post_id": 33000744, "comment_id": 53828312, "body": "@BinaryA what do you mean by filling <code>counter</code>? <code>counter[this]++;</code> already fills counter every time the function is called.  Did you want to see a use case?"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 3, "last_activity_date": 1444245818, "creation_date": 1444245818, "answer_id": 33000744, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio/33000744#33000744", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>One way I could see you doing this is with a <a href=\"http://en.cppreference.com/w/cpp/container/map\" rel=\"nofollow\"><code>std::map</code></a>.  You could have a <code>static std::map&lt;class_name*, int&gt;</code> in the function and every time the function is called use <code>operator[]</code> with <code>this</code> and increment the <code>int</code> part.</p>\n\n<pre><code>class Foo\n{\npublic:\n    void bar()\n    {\n        static std::map&lt;Foo*, int&gt; counter;\n        counter[this]++;\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 0, "creation_date": 1444246781, "post_id": 33000750, "comment_id": 53826826, "body": "&quot;C++, like other languages&quot; in JS you can something like that with closures."}, {"owner": {"reputation": 2879, "user_id": 1624629, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/28cf9a21f11f48c5dad051dd40260972?s=128&d=identicon&r=PG", "display_name": "DaBrain", "link": "https://stackoverflow.com/users/1624629/dabrain"}, "edited": false, "score": 0, "creation_date": 1444248324, "post_id": 33000750, "comment_id": 53827816, "body": "The first simple fix with <code>static int count_;</code> is missing an initialization."}, {"owner": {"reputation": 2879, "user_id": 1624629, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/28cf9a21f11f48c5dad051dd40260972?s=128&d=identicon&r=PG", "display_name": "DaBrain", "link": "https://stackoverflow.com/users/1624629/dabrain"}, "edited": false, "score": 0, "creation_date": 1444248457, "post_id": 33000750, "comment_id": 53827901, "body": "Actually the second example is missing the initialization too."}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 0, "creation_date": 1444250804, "post_id": 33000750, "comment_id": 53829126, "body": "Fixed that now.  Thanks."}], "tags": [], "owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "is_accepted": false, "score": 3, "last_activity_date": 1444250840, "last_edit_date": 1444250840, "creation_date": 1444245844, "answer_id": 33000750, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio/33000750#33000750", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>C++, like many other languages, doesn't have a way that multiple functions can share a variable without allowing all functions access (besides putting them into a class together, which you already know).  There are some ways to approximate what you want, however.</p>\n\n<p>Here's a simple fix:</p>\n\n<pre><code>class foo\n{\npublic:\n  int count () \n  {\n    static int count_ = 0;\n    return ++count_; \n  }\n};\n</code></pre>\n\n<p>Now only <code>foo::count</code> can access it, and it does double duty:  increments it, and returns it.</p>\n\n<p>If you don't like that, here's a lengthier fix that matches the desired behavior:</p>\n\n<pre><code>class foo\n{\nprivate:\n  class Counter //hides all that counting stuff\n  {\n  public:  \n     //ctor initializing count...\n  private:      //it's all hidden!  Only friends can access\n    friend int  foo::returnCount () const; \n    friend void foo::updateCount ();\n\n    int count () const { return count_; }\n    void updateCount (){ ++count_; }\n\n    int count_;\n  };\n\npublic:\n                  //and only these two functions are friends.\n  int returnCount () const { return myCounter_.count (); }\n  void doSomethingAndIncCount()       { myCounter_.updateCount ();   }\n\nprivate:\n  static Counter myCounter_;\n};\n</code></pre>\n\n<p>So keeping all the contents of Counter private means nobody can access... except the functions you picked out, and designated as <code>friend</code>s of Counter.</p>\n\n<p>That's an awful lot of mess to go to, though.  I'd go with the first solution, or else not worry about those other member functions accessing count.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3463778"}, "is_accepted": false, "score": 0, "last_activity_date": 1444246501, "creation_date": 1444246501, "answer_id": 33000926, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio/33000926#33000926", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>Is this what you are trying to achieve:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass Foo\n{\nprivate:\n    int counter;\n\npublic:\n\n    Foo() : counter(0) {};\n\n    void count()\n    {\n        counter++;\n    }\n\n    int getCounter()\n    {\n        return counter;\n    }\n};\n\nint main()\n{\n    Foo foo1;\n    Foo foo2;\n\n    foo1.count(); foo1.count(); foo1.count();\n    cout &lt;&lt; \"You called count() from foo1 \" &lt;&lt; foo1.getCounter() &lt;&lt; \" times\" &lt;&lt; endl;\n\n    foo2.count();\n    cout &lt;&lt; \"You called count() from foo2 \" &lt;&lt; foo2.getCounter() &lt;&lt; \" times\" &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 1542, "user_id": 3906864, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/erSuh.png?s=128&g=1", "display_name": "InsaneBot", "link": "https://stackoverflow.com/users/3906864/insanebot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 33000744, "answer_count": 5, "score": 3, "last_activity_date": 1444323187, "creation_date": 1444244846, "last_edit_date": 1444250378, "question_id": 33000459, "link": "https://stackoverflow.com/questions/33000459/class-variable-accessible-to-one-function-or-a-static-variable-in-member-functio", "title": "Class variable accessible to one function or a static variable in member function that is still object aware", "body": "<p>A static variable in a member function is a class level variable, meaning that all class instances access the same variable.</p>\n\n<pre><code>class foo{\n int doingSomething(){\n   static int count =0;\n   static int someValue=0\n   count++;\n   if(count%10 == 0){\n     someValue *= counter;\n     }\n   someValue += counter;\n   return someValue * 2;\n }\n}\n</code></pre>\n\n<p>I want a way to count the number of times <code>count()</code> was called in each instance of foo separately, i can do this :</p>\n\n<pre><code>class foo{\n int count;\n int someValue;\n int doingSomething(){\n   count++;\n   if(count%10 == 0){\n     someValue *= counter;\n }\n someValue += counter;\n return someValue * 2;\n}\n</code></pre>\n\n<p>but my problem with this approach is that <code>count</code> and <code>somevalue</code> is only used and accessed in foo by <code>doingSomething()</code>, so there is no reason for it to be a member variable, since it opens the door to it modified and used by other class member function, and i want to prevent that.\nis there a solution that i am missing ?</p>\n\n<hr>\n\n<p><strong>EDIT 1:</strong>\nThe idea is to count the number of time that <code>doingSomething()</code> was called in each instance of <code>Foo</code>, and this value will be used only by 'doingSomething()' to compute other values, which will be different for each instance. </p>\n\n<p><strong>Why?</strong>\n<code>doingSomething()</code> compute a <code>int someVariable</code> the first time is called, then stores it for later use, this stored value is used by <code>doingSomthing()</code> 10 times with every call, every <code>11</code>calls <code>int someVariable</code> is recalculates and this new value is used...process repeated indefinitely.</p>\n"}, {"tags": ["c++", "mysql", "pam", "xrdp"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1444356851, "post_id": 33000414, "comment_id": 53879922, "body": "That&#39;s a lot of code, and it&#39;s incomplete (you refer to variables for which you haven&#39;t shown definitions). Can you reproduce the problem with simpler code (say, a hard-coded query without bound variables)?"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 7878845, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5ee5918d6ee3618ec173b170fee3668a?s=128&d=identicon&r=PG", "display_name": "Pali", "link": "https://stackoverflow.com/users/7878845/pali"}, "is_accepted": false, "score": 1, "last_activity_date": 1492435246, "creation_date": 1492435246, "answer_id": 43452338, "question_id": 33000414, "link": "https://stackoverflow.com/questions/33000414/glibc-mysql-stmt-close-frees-bad-memory/43452338#43452338", "title": "glibc mysql_stmt_close frees bad memory?", "body": "<p>It looks like you are victim of CVE-2017-3302. You need to upgrade your MySQL client at least to version 5.5.55 or 5.6.21 or 5.7.5. Or MariaDB client at least to version 5.5.55 or 10.0.30 or 10.1.22 or 10.2.5.</p>\n\n<p>See: <a href=\"http://www.openwall.com/lists/oss-security/2017/02/11/11\" rel=\"nofollow noreferrer\">http://www.openwall.com/lists/oss-security/2017/02/11/11</a></p>\n"}], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492435246, "creation_date": 1444244708, "last_edit_date": 1444248948, "question_id": 33000414, "link": "https://stackoverflow.com/questions/33000414/glibc-mysql-stmt-close-frees-bad-memory", "title": "glibc mysql_stmt_close frees bad memory?", "body": "<p>RedHat RHEL 6+; MySQL (latest)</p>\n\n<p>This is strange.  I have a working application, it is really a <code>.so</code> plugin for the PAM system on Linux.  With my plugin installed, I can login using ssh, the console and a tool called x2go.  If I switch out x2go and use xrdp then it throws an exception</p>\n\n<pre><code># *** glibc detected *** /usr/sbin/xrdp-sesman: free(): invalid pointer: 0x0000000002560718 ***\n======= Backtrace: =========\n/lib64/libc.so.6(+0x75f4e)[0x7f25a9923f4e]\n/lib64/libc.so.6(+0x78cad)[0x7f25a9926cad]\n/usr/lib64/mysql/libmysqlclient.so.18(mysql_stmt_close+0x61)    [0x7f259ba6b611]\n/usr/local/sbin/myPlugin      /pam_myPlugin.so(_ZN16UserTracking_Lib7MySQLDB7MySQLDB22insertIntomyPluginESt4listINS_11EventRecordESaIS3_EE+0x5dd)[0x7f25a010bedd]\n/usr/local/sbin/myPlugin/pam_myPlugin.so(InsertEventRecord+0x498)[0x7f25a0107458]\n/usr/local/sbin/myPlugin/pam_myPlugin.so(call_myPlugin+0x6a1)[0x7f25a0106301]\n/lib64/libpam.so.0[0x39d8402cee]\n/lib64/libpam.so.0(pam_open_session+0x28)[0x39d8407168]\n/usr/sbin/xrdp-sesman[0x4077c7]\n/usr/sbin/xrdp-sesman[0x404e23]\n/usr/sbin/xrdp-sesman[0x40598a]\n/usr/sbin/xrdp-sesman[0x403f41]\n/lib64/libc.so.6(__libc_start_main+0xfd)[0x7f25a98ccd5d]\n/usr/sbin/xrdp-sesman[0x402d99]\n...\n</code></pre>\n\n<p>The code section involved is:</p>\n\n<pre><code>MYSQL_STMT *sth;\nint numBindCols = 5;\nstd::string dateTmp = MyAppUtilities::MyAppUtilities::UpperCase(item.getDate().c_str());\n\nif (dateTmp.compare(\"NOW()\") == 0) {\n    snprintf(insertSQL, 1024,\n            \"INSERT INTO %s (blah, blah, blah, blah, blah, date) \\\n                                VALUES(UPPER(?), UPPER(?), UPPER(?), UPPER(?), UPPER(?), NOW())\",\n            MyApp_Lib::MySQLDB::DBMyAppTableName.c_str());\n} else {\n    snprintf(insertSQL, 1024,\n            \"INSERT INTO %s (blah, blah, blah, blah, blah, date) \\\n                                VALUES(UPPER(?), UPPER(?), UPPER(?), UPPER(?), UPPER(?), ?)\",\n            MyApp_Lib::MySQLDB::DBMyAppTableName.c_str());\n\n    numBindCols = 6;\n}\n\nif ((sth = mysql_stmt_init(&amp;mysql)) == NULL) {\n    sprintf(error, \"%s: MySQL could not init statement: %s\",\n            __func__, mysql_stmt_error(sth));\n    syslog(LOG_AUTHPRIV | LOG_DEBUG, \"%s\", error);\n    throw MyAppUtilities::MyException(error);\n}\n\nif (mysql_stmt_prepare(sth, insertSQL,\n        strlen(insertSQL)) != 0) {\n    sprintf(error, \"%s: MySQL could not prepare query: %s\",\n            __func__, mysql_stmt_error(sth));\n    syslog(LOG_AUTHPRIV | LOG_DEBUG, \"%s\", error);\n    throw MyAppUtilities::MyException(error);\n}\n\nint col = 0;\n\nMYSQL_BIND bind[6];\nmemset(bind, 0, sizeof (bind));\n\n[... several bind blocks... ]\n\nif (mysql_stmt_bind_param(sth, bind) != 0) {\n    sprintf(error, \"%s: MySQL could not bind values: %s\",\n            __func__, mysql_stmt_error(sth));\n    syslog(LOG_AUTHPRIV | LOG_DEBUG, \"%s\", error);\n    throw MyAppUtilities::MyException(error);\n}\n\nif (mysql_stmt_execute(sth) != 0) {\n    sprintf(error, \"%s: MySQL could not execute: %s\",\n            __func__, mysql_stmt_error(sth));\n    syslog(LOG_AUTHPRIV | LOG_DEBUG, \"%s\", error);\n    throw MyAppUtilities::MyException(error);\n}\n\nif (mysql_stmt_close(sth) != 0) {\n    sprintf(error, \"%s: MySQL could not close stmt handle: %s\",\n            __func__, mysql_stmt_error(sth));\n    syslog(LOG_AUTHPRIV | LOG_DEBUG, \"%s\", error);\n    throw MyAppUtilities::MyException(error);\n}\n</code></pre>\n\n<p>The <code>sth</code> is created and treated in the same way as the example at: <a href=\"https://dev.mysql.com/doc/refman/5.0/en/mysql-stmt-execute.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.0/en/mysql-stmt-execute.html</a>\nI don't see the issue.  Ideas?</p>\n"}, {"tags": ["c++", "c++11", "boost", "libstdc++", "libc++"], "answers": [{"tags": [], "owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "is_accepted": false, "score": 0, "last_activity_date": 1444247398, "creation_date": 1444247398, "answer_id": 33001195, "question_id": 32999949, "link": "https://stackoverflow.com/questions/32999949/os-x-clang-c11-and-libstdc-boost-compilation-problems/33001195#33001195", "title": "OS X clang C++11 and libstdc++ boost compilation problems", "body": "<p>Try to compile with <code>-DBOOST_NO_CXX11_ADDRESSOF</code>.</p>\n\n<p>Also maybe you can compile your code (not boost) using <code>-stdlib=libc++ -lstdc++</code> flags (programs on OS X are allowed to use both simultaneously).</p>\n"}, {"comments": [{"owner": {"reputation": 13563, "user_id": 992490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=128&d=identicon&r=PG", "display_name": "Marshall Clow", "link": "https://stackoverflow.com/users/992490/marshall-clow"}, "edited": false, "score": 0, "creation_date": 1444249493, "post_id": 33001314, "comment_id": 53828449, "body": "The libstdc++ that Apple ships on Mac OS X is quite old. (4.2.1, IIRC)."}], "tags": [], "owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "is_accepted": false, "score": 0, "last_activity_date": 1444248298, "last_edit_date": 1444248298, "creation_date": 1444247772, "answer_id": 33001314, "question_id": 32999949, "link": "https://stackoverflow.com/questions/32999949/os-x-clang-c11-and-libstdc-boost-compilation-problems/33001314#33001314", "title": "OS X clang C++11 and libstdc++ boost compilation problems", "body": "<pre><code>// Standard library support for addressof.\n#if !defined(BOOST_ASIO_HAS_STD_ADDRESSOF)\n# if !defined(BOOST_ASIO_DISABLE_STD_ADDRESSOF)\n#  if defined(__clang__)\n#   if defined(BOOST_ASIO_HAS_CLANG_LIBCXX)\n#    define BOOST_ASIO_HAS_STD_ADDRESSOF 1\n#   elif (__cplusplus &gt;= 201103)\n#    define BOOST_ASIO_HAS_STD_ADDRESSOF 1\n#   endif // (__cplusplus &gt;= 201103)\n#  endif // defined(__clang__)\n...\n</code></pre>\n\n<p>It looks like the check for <code>std::addressof</code> in boost 1.58 and up is wrong when using clang with libstdc++ and c++11.  If your libstdc++ is too old, then boost will try to use <code>std::addressof</code> even though libstdc++ doesn't implement it.  It looks like you can define <code>BOOST_ASIO_DISABLE_STD_ADDRESSOF</code> to work around that problem.</p>\n"}], "owner": {"reputation": 2603, "user_id": 846340, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b4e01fd7f5752f9de60d5a8b96460392?s=128&d=identicon&r=PG", "display_name": "peetonn", "link": "https://stackoverflow.com/users/846340/peetonn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 985, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1444248298, "creation_date": 1444242996, "question_id": 32999949, "link": "https://stackoverflow.com/questions/32999949/os-x-clang-c11-and-libstdc-boost-compilation-problems", "title": "OS X clang C++11 and libstdc++ boost compilation problems", "body": "<p>I've compiled two Boost library versions - 1.54 and 1.58 similarly:</p>\n\n<pre><code>$ mkdir build &amp;&amp; ./bootstrap --prefix=$(pwd)/build\n$ ./b2 cxxflags=\"-stdlib=libstdc++\" linkflags=\"-stdlib=libstdc++\" &amp;&amp; ./b2 install\n</code></pre>\n\n<p>Now, I'm trying to compile this little application:</p>\n\n<pre><code>#include &lt;boost/asio.hpp&gt;\n#include &lt;boost/asio/steady_timer.hpp&gt;\n\nboost::asio::io_service io_service_;\nboost::asio::steady_timer timer_(io_service_);\n\nint\nmain ()\n{\n  return 0;\n}\n</code></pre>\n\n<p>like this:\n    $ g++ -c -std=gnu++11 -stdlib=libstdc++ -I main.cpp</p>\n\n<p>It compiles flawlessly for Boost 1.54.0 and gives errors (more than 20) for Boost 1.58.0:</p>\n\n<pre><code>boost_1_58_0/build/include/boost/asio/detail/addressof.hpp:31:12: error: no member named 'addressof' in namespace 'std'\nusing std::addressof;\nboost_1_58_0/build/include/boost/asio/detail/handler_alloc_helpers.hpp:37:56: error: no member named 'addressof' in namespace 'boost::asio::detail'\n  return asio_handler_allocate(s, boost::asio::detail::addressof(h));\n                                  ~~~~~~~~~~~~~~~~~~~~~^\nboost_1_58_0/build/include/boost/asio/detail/handler_alloc_helpers.hpp:48:54: error: no member named 'addressof' in namespace 'boost::asio::detail'\n  asio_handler_deallocate(p, s, boost::asio::detail::addressof(h));\n...\n</code></pre>\n\n<p>I guess, this is OS X specific and has something to do with <code>-std</code> and <code>-stdlib</code> flags I pass, as it compiles if I provide one of these but not both of them simultaneously. I've read a lot about <code>libc++</code> and <code>libstdc++</code>, but I need these flags as my real code (one may have guessed this was just a demo code) needs these flags in order to be compiled, e.g. I have to use libstdc++ instead of libc++ and I need C++11.</p>\n\n<p>Are there any suggestions on how to use latest boost libraries without giving up these compiler flags?</p>\n"}, {"tags": ["c++", "new-operator"], "comments": [{"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1444242721, "post_id": 32999722, "comment_id": 53824317, "body": "Perhaps overload the new to take 2 params - operator new(size, align) - so that normal, 1 param news aren&#39;t affected.  This might get around the compiler complaining by letting it use the built in type.  throw vs nothrow overloading might be causing some issues as well."}, {"owner": {"reputation": 951, "user_id": 4324545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/067a9cf7538d753e3be66e77ef951614?s=128&d=identicon&r=PG", "display_name": "Lapshin Dmitry", "link": "https://stackoverflow.com/users/4324545/lapshin-dmitry"}, "edited": false, "score": 0, "creation_date": 1444242870, "post_id": 32999722, "comment_id": 53824399, "body": "Does all that happens in one translation unit?"}, {"owner": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "edited": false, "score": 0, "creation_date": 1444242979, "post_id": 32999722, "comment_id": 53824451, "body": "Placement new is usually used for &quot;placing an object in already allocated memory&quot; perhaps you need to overload placement new operator to coincide with your implementation as well?"}, {"owner": {"reputation": 13278, "user_id": 688624, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b0714eded10b5ccee614c7134360974b?s=128&d=identicon&r=PG", "display_name": "imallett", "link": "https://stackoverflow.com/users/688624/imallett"}, "reply_to_user": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "edited": false, "score": 0, "creation_date": 1444243271, "post_id": 32999722, "comment_id": 53824612, "body": "@AJG85 You <a href=\"http://stackoverflow.com/a/3677129/688624\">cannot overload placement new</a>: <i>&quot;&#167;18.4.\u200b1.3 Placement forms These functions are reserved, a C++ program may not define functions that displace the versions in the Standard C++ library.&quot;</i>"}, {"owner": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "edited": false, "score": 0, "creation_date": 1444243981, "post_id": 32999722, "comment_id": 53825074, "body": "Oh well, so much for that idea then ;-("}, {"owner": {"reputation": 8277, "user_id": 1682419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19B6c.png?s=128&g=1", "display_name": "Jerry101", "link": "https://stackoverflow.com/users/1682419/jerry101"}, "edited": false, "score": 0, "creation_date": 1444245836, "post_id": 32999722, "comment_id": 53826261, "body": "Side point: <code>copy_into()</code> could check that the given memory is 16-byte aligned. Too bad it can&#39;t check that the given memory is large enough."}], "answers": [{"comments": [{"owner": {"reputation": 13278, "user_id": 688624, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b0714eded10b5ccee614c7134360974b?s=128&d=identicon&r=PG", "display_name": "imallett", "link": "https://stackoverflow.com/users/688624/imallett"}, "edited": false, "score": 0, "creation_date": 1444243905, "post_id": 33000017, "comment_id": 53825012, "body": "Confirmed that this fixes the problem. As I understand it, there was an overload of <code>new</code> in the current namespace, and so it didn&#39;t check the global namespace to find the overload (placement <code>new</code>) that would have worked?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 13278, "user_id": 688624, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b0714eded10b5ccee614c7134360974b?s=128&d=identicon&r=PG", "display_name": "imallett", "link": "https://stackoverflow.com/users/688624/imallett"}, "edited": false, "score": 0, "creation_date": 1444244354, "post_id": 33000017, "comment_id": 53825284, "body": "I wouldn&#39;t say &quot;in the current namespace&quot;. I would say &quot;in the  <code>class</code> itself&quot;. There are two steps involved in matching a function call - name lookup and overload resolution. If the name is found in a class or the enclosing namespace, then the lookup ends. If the lookup results in multiple functions, only then overload resolution comes into play."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 9, "last_activity_date": 1444243253, "creation_date": 1444243253, "answer_id": 33000017, "question_id": 32999722, "link": "https://stackoverflow.com/questions/32999722/placement-new-with-overloaded-ordinary-new-operator/33000017#33000017", "title": "Placement new With Overloaded Ordinary new Operator", "body": "<p>Since you have defined <code>operator new</code> in your class, you need to use the global <code>new</code> to use the placement version of it.</p>\n\n<pre><code>#include &lt;new&gt;\n\n...\n\n::new (reinterpret_cast&lt;MyType*&gt;(ptr)) MyType(*this);\n</code></pre>\n"}], "owner": {"reputation": 13278, "user_id": 688624, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b0714eded10b5ccee614c7134360974b?s=128&d=identicon&r=PG", "display_name": "imallett", "link": "https://stackoverflow.com/users/688624/imallett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1896, "favorite_count": 0, "accepted_answer_id": 33000017, "answer_count": 1, "score": 12, "last_activity_date": 1514994300, "creation_date": 1444242219, "last_edit_date": 1514994300, "question_id": 32999722, "link": "https://stackoverflow.com/questions/32999722/placement-new-with-overloaded-ordinary-new-operator", "title": "Placement new With Overloaded Ordinary new Operator", "body": "<p>I have an object of type <code>MyType</code> that, for SSE reasons, needs to be 16-byte aligned.  So, I wrote an allocator and overloaded the <code>new</code> operators.  Methods in <code>MyType</code>:</p>\n\n<pre><code>inline static void* operator new(size_t size) {\n    awesome::my_allocator&lt;MyType,16&gt; alloc;\n    return alloc.allocate(size);\n}\ninline static void* operator new[](size_t size) { return operator new(size); }\ninline static void operator delete(void* ptr) {\n    awesome::my_allocator&lt;MyType,16&gt; alloc;\n    alloc.deallocate(reinterpret_cast&lt;MyType*&gt;(ptr),0); //last arg ignored in my impl\n}\ninline static void operator delete[](void* ptr) { operator delete(ptr); }\n</code></pre>\n\n<p>Now, for cache-locality reasons, I need to copy-construct an instance into a particular piece of 64-byte-aligned memory:</p>\n\n<pre><code>void MyType::copy_into(uint8_t* ptr) const {\n    new (reinterpret_cast&lt;MyType*&gt;(ptr)) MyType(*this);\n}\n</code></pre>\n\n<p>GCC tells me:</p>\n\n<pre><code>error: no matching function for call to \u2018MyType::operator new(sizetype, MyType*)\u2019\n</code></pre>\n\n<p>ICC tells me:</p>\n\n<pre><code>error : function \"MyType::operator new\" cannot be called with the given argument list\n1&gt;              argument types are: (unsigned __int64, MyType *)\n</code></pre>\n\n<hr>\n\n<p>As I understand it, the placement new operator is provided by the C++ implementation (or possibly by <code>&lt;new&gt;</code>, which I also tried <code>#include</code>ing?) and simply returns its argument (<code>new</code> makes memory <em>available</em>, and placement new is the programmer saying that the given memory is available).</p>\n\n<p>Curiously, the error does <em>not</em> occur when the (ordinary!) new operators defined above are <em>not</em> in the class.  Indeed, <code>MyOtherType</code>, which doesn't define them, works just fine.</p>\n\n<p>Question: what's going on?  How should I fix it?</p>\n"}, {"tags": ["c++", "delphi", "modal-dialog", "firemonkey", "c++builder-xe8"], "comments": [{"owner": {"reputation": 460, "user_id": 3410785, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a9856b360b03ad3719fc1a7dfb61c2cc?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Burg", "link": "https://stackoverflow.com/users/3410785/anthony-burg"}, "edited": false, "score": 0, "creation_date": 1444327033, "post_id": 32999623, "comment_id": 53868032, "body": "If instead of passing Application into the TFacChoiceForm&#39;s constructor, you pass in your main form (or whatever form is calling the modal form), does this solve the problem in the relevant context?"}, {"owner": {"reputation": 2790, "user_id": 3298987, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Xxzcp.png?s=128&g=1", "display_name": "James Hogle", "link": "https://stackoverflow.com/users/3298987/james-hogle"}, "reply_to_user": {"reputation": 460, "user_id": 3410785, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a9856b360b03ad3719fc1a7dfb61c2cc?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Burg", "link": "https://stackoverflow.com/users/3410785/anthony-burg"}, "edited": false, "score": 0, "creation_date": 1444328865, "post_id": 32999623, "comment_id": 53869061, "body": "@AnthonyBurg Unfortunately, that does not seem to work."}], "answers": [{"tags": [], "owner": {"reputation": 210, "user_id": 1764742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8746e409643918ae84b240e07729e9d2?s=128&d=identicon&r=PG", "display_name": "David Peters", "link": "https://stackoverflow.com/users/1764742/david-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1445706411, "creation_date": 1445706411, "answer_id": 33320945, "question_id": 32999623, "link": "https://stackoverflow.com/questions/32999623/cant-focus-firemonkey-application-when-modal-dialog-open-unless-modal-dialog-it/33320945#33320945", "title": "Cant focus Firemonkey application when modal dialog open, unless modal dialog itself is clicked", "body": "<p>If you set modalresult to mrcancel in the ondeactivate of the modal dialog then the main form will get focus when its clicked. You can then check if the user is logged in the mousedown event of the main form and if not, show the modal dialog again.</p>\n"}], "owner": {"reputation": 2790, "user_id": 3298987, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Xxzcp.png?s=128&g=1", "display_name": "James Hogle", "link": "https://stackoverflow.com/users/3298987/james-hogle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445706411, "creation_date": 1444241910, "last_edit_date": 1444248857, "question_id": 32999623, "link": "https://stackoverflow.com/questions/32999623/cant-focus-firemonkey-application-when-modal-dialog-open-unless-modal-dialog-it", "title": "Cant focus Firemonkey application when modal dialog open, unless modal dialog itself is clicked", "body": "<p>I have an application in which users, upon logging in, are prompted with a modal dialog where they must choose the facility they wish to work out of.  At this stage, the application looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kVkwR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kVkwR.png\" alt=\"enter image description here\"></a></p>\n\n<p>The modal dialog is shown by calling this method:</p>\n\n<pre><code>bool __fastcall ShowFacChoiceForm()\n{\n    TFacChoiceForm *Form = new TFacChoiceForm( Application );\n\n    bool Result = ( Form-&gt;ShowModal() == mrOk );\n\n    delete Form;\n\n    return Result;\n}\n</code></pre>\n\n<p>In this case, <code>TFacChoiceForm</code> inherits from <code>TForm</code> so the <code>ShowFacChoiceForm()</code> function is calling the standard <code>TForm.ShowModal</code> method <a href=\"http://docwiki.embarcadero.com/Libraries/XE8/en/FMX.Forms.TCommonCustomForm.ShowModal\" rel=\"nofollow noreferrer\">documented here.</a></p>\n\n<p>The issue I am running into is that if my application loses focus, it cannot become the active window again unless the modal dialog itself is clicked.  To better illustrate this, I will present the following scenario:</p>\n\n<p>Lets say its Friday afternoon and I decide to goof off a bit and read some web comics.  With my application open, I open up another window on top of it, like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xbRFK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xbRFK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, out of nowhere my boss comes in for a performance review, and I attempt to refocus my application by clicking somewhere on the main form.  For example, at the position of this red X in the next image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/THxrU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/THxrU.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the above image, I have clicked at the location of the red X.  Now, both the form containing the web comic, and my application are inactive. Thus, my application does not come to the front of the screen. </p>\n\n<p>However, if I am able to click somewhere on the modal dialog, like the red X in the following image...</p>\n\n<p><a href=\"https://i.stack.imgur.com/nD2hB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nD2hB.png\" alt=\"enter image description here\"></a></p>\n\n<p>...then my application comes to the front like one would expect.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/Hrjzp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hrjzp.png\" alt=\"enter image description here\"></a></p>\n\n<p>To solve this, I have looked at using something like <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms633539(v=vs.85).aspx\" rel=\"nofollow noreferrer\">SetForegroundWindow</a> from the Windows API, but I have not been able to find a way to trigger the event, since my main form does not fire events while I have a modal dialog open.</p>\n\n<p>My question is, how can I make sure that if the user clicks anywhere on my application that it is brought to the front?  Is there a property I can edit in my form to do this?  </p>\n"}, {"tags": ["c++", "hex", "iostream", "numeric", "octal"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 7, "creation_date": 1444242078, "post_id": 32999591, "comment_id": 53823936, "body": "The first program you are using std::ios::showbase, the second one you are using std::showbase."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1444242165, "post_id": 32999591, "comment_id": 53824000, "body": "If you want to use i/o manipulation features, you should include the &lt;iomanip&gt; header."}, {"owner": {"reputation": 13195, "user_id": 3777958, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Cjiij.jpg?s=128&g=1", "display_name": "Destructor", "link": "https://stackoverflow.com/users/3777958/destructor"}, "edited": false, "score": 1, "creation_date": 1444242359, "post_id": 32999591, "comment_id": 53824133, "body": "@Downvoters: specify reason for downvotes."}], "answers": [{"tags": [], "owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "is_accepted": true, "score": 8, "last_activity_date": 1444242178, "creation_date": 1444242178, "answer_id": 32999710, "question_id": 32999591, "link": "https://stackoverflow.com/questions/32999591/why-this-c-program-gives-incorrect-output/32999710#32999710", "title": "why this C++ program gives incorrect output?", "body": "<p><code>std::ios::showbase</code> is a format flag.  <code>std::showbase</code> is a function that takes a <code>std::ios_base</code> and calls <code>ios_base::setf(std::ios::showbase)</code> on it to set the <code>showbase</code> flag.</p>\n\n<p>You use the prior in your first example and the latter in your second example.</p>\n"}, {"comments": [{"owner": {"reputation": 6595, "user_id": 5218277, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZuEZa.jpg?s=128&g=1", "display_name": "Alex Lop.", "link": "https://stackoverflow.com/users/5218277/alex-lop"}, "edited": false, "score": 1, "creation_date": 1444242424, "post_id": 32999717, "comment_id": 53824164, "body": "What is the difference in the links you provided? Both lead to <code>std::showbase</code>..."}], "tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": false, "score": 2, "last_activity_date": 1444242570, "last_edit_date": 1444242570, "creation_date": 1444242215, "answer_id": 32999717, "question_id": 32999591, "link": "https://stackoverflow.com/questions/32999591/why-this-c-program-gives-incorrect-output/32999717#32999717", "title": "why this C++ program gives incorrect output?", "body": "<pre><code>#include &lt;iostream&gt;\nint main()\n{\n    std::cout&lt;&lt;std::ios::showbase&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::hex&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::oct&lt;&lt;123&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p>This uses <code>std::ios::showbase</code> (<a href=\"http://www.cplusplus.com/reference/ios/ios_base/fmtflags/\" rel=\"nofollow\">http://www.cplusplus.com/reference/ios/ios_base/fmtflags/</a>)</p>\n\n<p>While your other program</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    cout&lt;&lt;showbase&lt;&lt;123&lt;&lt;\", \"&lt;&lt;hex&lt;&lt;123&lt;&lt;\", \"&lt;&lt;oct&lt;&lt;123&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p>Uses <code>std::showbase</code> (<a href=\"http://en.cppreference.com/w/cpp/io/manip/showbase\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/io/manip/showbase</a>) which is why you're getting different results.</p>\n\n<p>Changing the first program to use <code>std::showbase</code> gives you your expected output:</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main()\n{\n    std::cout&lt;&lt;std::showbase&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::hex&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::oct&lt;&lt;123&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/OodBvo\" rel=\"nofollow\">http://ideone.com/OodBvo</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5419887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e94b84fc7ab647f2b971fa0d1644a853?s=128&d=identicon&r=PG&f=1", "display_name": "user5419887", "link": "https://stackoverflow.com/users/5419887/user5419887"}, "is_accepted": false, "score": 1, "last_activity_date": 1444242351, "creation_date": 1444242351, "answer_id": 32999764, "question_id": 32999591, "link": "https://stackoverflow.com/questions/32999591/why-this-c-program-gives-incorrect-output/32999764#32999764", "title": "why this C++ program gives incorrect output?", "body": "<p>In <code>std::ios_base</code>, <code>showbase</code> is a <code>fmtflag</code> that has an implementation-defined value. In this case, it appears to be <code>512</code>. On the other hand, there is a stream manipulator (aka, a function) also called <code>showbase</code>, which calls <code>setf(std::ios_base::showbase)</code>. This is defined as a free function in <code>namespace std</code> whereas the <code>fmtflag</code> is a member of <code>std::ios_base</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 2, "last_activity_date": 1444242474, "creation_date": 1444242474, "answer_id": 32999800, "question_id": 32999591, "link": "https://stackoverflow.com/questions/32999591/why-this-c-program-gives-incorrect-output/32999800#32999800", "title": "why this C++ program gives incorrect output?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/io/ios_base/fmtflags\" rel=\"nofollow\"><code>std::ios::showbase</code></a> is a format flag that has some implementation defined value.  When you call <code>std::cout &lt;&lt; std::ios::showbase</code> you are displaying that value and not setting the stream format flag.  </p>\n\n<p>In you second example you are using <a href=\"http://en.cppreference.com/w/cpp/io/manip/showbase\" rel=\"nofollow\"><code>std::showbase</code></a> which sets the format flag of the stream.</p>\n"}], "owner": {"reputation": 13195, "user_id": 3777958, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Cjiij.jpg?s=128&g=1", "display_name": "Destructor", "link": "https://stackoverflow.com/users/3777958/destructor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 32999710, "answer_count": 4, "score": -5, "last_activity_date": 1444242570, "creation_date": 1444241811, "question_id": 32999591, "link": "https://stackoverflow.com/questions/32999591/why-this-c-program-gives-incorrect-output", "title": "why this C++ program gives incorrect output?", "body": "<p>Consider following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main()\n{\n    std::cout&lt;&lt;std::ios::showbase&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::hex&lt;&lt;123&lt;&lt;\", \"&lt;&lt;std::oct&lt;&lt;123&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p>Expected Output: 123, 0x7b, 0173 </p>\n\n<p>Acquired Output: 512123, 7b, 173 (see live demo here: <a href=\"http://ideone.com/Khzj5j\" rel=\"nofollow\">http://ideone.com/Khzj5j</a> )</p>\n\n<p>But If I modify the above program slightly as following:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    cout&lt;&lt;showbase&lt;&lt;123&lt;&lt;\", \"&lt;&lt;hex&lt;&lt;123&lt;&lt;\", \"&lt;&lt;oct&lt;&lt;123&lt;&lt;'\\n';\n}\n</code></pre>\n\n<p>Now I got desired output. (see live demo here <a href=\"http://ideone.com/gcuHbm\" rel=\"nofollow\">http://ideone.com/gcuHbm</a> ).</p>\n\n<p>Why first program gave incorrect output but 2nd program doesn't? What's going wrong in first program? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 3, "creation_date": 1444241793, "post_id": 32999562, "comment_id": 53823755, "body": "Have you tried a debugger?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 7, "creation_date": 1444241795, "post_id": 32999562, "comment_id": 53823758, "body": "What is this random pointer you&#39;re exercising? That seems totally nuts. Is there any explanation of what you&#39;re trying to accomplish here? All I can see is a whole lot of arbitrary pointer mashing and direct memory manipulation, both of which are highly worrying and are a sure-fire way to generate <i>undefined behaviour</i>."}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1444241981, "post_id": 32999562, "comment_id": 53823872, "body": "What @tadman said. Why do you expect anything in particular to be found at <code>0x178B3A8?</code>"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1444242215, "post_id": 32999562, "comment_id": 53824036, "body": "&quot;c++ if statement won&#39;t work (wont read memory)&quot; \u2013 if statements don&#39;t &quot;read memory&quot;."}, {"owner": {"reputation": 1, "user_id": 5419176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-E-wWijPXPzs/AAAAAAAAAAI/AAAAAAAAAMo/HGASc_TtRY8/photo.jpg?sz=128", "display_name": "Roblox Player", "link": "https://stackoverflow.com/users/5419176/roblox-player"}, "reply_to_user": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1444242605, "post_id": 32999562, "comment_id": 53824259, "body": "@CareyGregory Every player from the game got a id.And my id is the &quot;int ID&quot; and &quot;int Value&quot; got the same ID and that id is found at that address"}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1444242826, "post_id": 32999562, "comment_id": 53824381, "body": "Where does &quot;that address&quot; come from? There&#39;s a lot you&#39;re not telling us here. Are you trying to hack another program you don&#39;t have source code for?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1444242833, "post_id": 32999562, "comment_id": 53824384, "body": "One program&#39;s <code>0x0178B3A8</code> is not the same as an other program&#39;s <code>0x0178B3A8</code>. Read up on virtual memory."}, {"owner": {"reputation": 1, "user_id": 5419176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-E-wWijPXPzs/AAAAAAAAAAI/AAAAAAAAAMo/HGASc_TtRY8/photo.jpg?sz=128", "display_name": "Roblox Player", "link": "https://stackoverflow.com/users/5419176/roblox-player"}, "edited": false, "score": 0, "creation_date": 1444243116, "post_id": 32999562, "comment_id": 53824523, "body": "So i got this STATIC ADDRESS from a game and i want for c++ identify if the ID is on that address. Because if im on another account then the ID from that address will change so the authorize will fail and if i log in my main account the authorize will work but i dont know why it won&#39;t."}, {"owner": {"reputation": 33588, "user_id": 402169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2ec8fa642572c1d90a0dadf374811e4d?s=128&d=identicon&r=PG", "display_name": "tenfour", "link": "https://stackoverflow.com/users/402169/tenfour"}, "edited": false, "score": 3, "creation_date": 1444243474, "post_id": 32999562, "comment_id": 53824750, "body": "I&#39;m voting to close this question as off-topic because this kind of hack is generally unwelcome in the SO community, and extremely unlikely to produce any constructive content."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1444245357, "post_id": 32999562, "comment_id": 53825957, "body": "@RobloxPlayer You seem oblivious to the fact that one process cannot access the memory of another process through a simple pointer. Each process is isolated, they have their own memory map, and access from one process to another, where necessary, <b>must</b> be done through OS-level API calls. The days of system memory being a contiguous, unified chunk of addressable memory, such as is the case in the Commodore 64 days where <code>PEEK</code> and <code>POKE</code> ruled, are long, long gone."}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 4, "last_activity_date": 1444247894, "last_edit_date": 1444247894, "creation_date": 1444245386, "answer_id": 33000633, "question_id": 32999562, "link": "https://stackoverflow.com/questions/32999562/c-if-statement-wont-work-wont-read-memory/33000633#33000633", "title": "c++ if statement won&#39;t work (wont read memory)", "body": "<p>OP seems to have run afoul of not understanding <a href=\"https://en.wikipedia.org/wiki/Virtual_memory\" rel=\"nofollow\">Virtual Memory</a>.</p>\n\n<p>Each process has its own virtual addressing with its unique addressing space where any address may or may not be used. This allows physical storage to be in any physically addressable medium: cache, RAM, disk cache or something esoteric like the spin of paired subatomic particles. As a result all processes may concurrently use the same addresses because every address in every process is mapped to different locations in physical storage.</p>\n\n<p>OP has stated that at 0x0178B3A8 in some unknown process X is a valid ID number.</p>\n\n<p>The OP's program is not process X. Let's call it's execution process Y. In process X 0x0178B3A8 very likely is the address of a user ID. I have no way to confirm this. But since 0x0178B3A8 is a virtual reference, not a physical storage reference, process Y cannot read 0x0178B3A8 and expect anything that process Y did not put there. If Y didn't put anything at 0x0178B3A8, the program's behaviour is undefined.</p>\n\n<p>How to solve this problem I want nothing to do with. Odds are good that it will not end well. </p>\n"}], "owner": {"reputation": 1, "user_id": 5419176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-E-wWijPXPzs/AAAAAAAAAAI/AAAAAAAAAMo/HGASc_TtRY8/photo.jpg?sz=128", "display_name": "Roblox Player", "link": "https://stackoverflow.com/users/5419176/roblox-player"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "closed_date": 1444247636, "answer_count": 1, "score": -6, "last_activity_date": 1444247894, "creation_date": 1444241721, "last_edit_date": 1444242831, "question_id": 32999562, "link": "https://stackoverflow.com/questions/32999562/c-if-statement-wont-work-wont-read-memory", "closed_reason": "Needs details or clarity", "title": "c++ if statement won&#39;t work (wont read memory)", "body": "<p>I made a small Whitelist for my program.\nBut the problem is that it not working.\nHere is the code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\n#include &lt;string&gt;\n#include &lt;cstdint&gt;\n\nusing namespace std;\n\nint main();\n{\n    //Here is the part where it gets the process and it data so i won't type it here, takes too much space.\n    string a;\n    uintptr_t p = 0x0178B3A8;\n    int value = *reinterpret_cast&lt;int *&gt;(p);\n    int ID = 22862235;\n\n    printf(\"Authorizing...\\n\");\n\n    if(value == ID)\n    {\n        printf(\"Authorized, Access Granted\\n\");\n        Sleep(5000);\n    }\n    else\n    {\n        printf(\"ERROR004:Account Not On Whitelist\\n\");\n        printf(\"Shutdowning...\\n\");\n\n        BYTE newcode[] = {0x90, 0x90, 0x90, 0x90, 0x90, 0x90};\n        DWORD address = 0x007C122E;\n\n        WriteProcessMemory(GetCurrentProcess(), (LPVOID)address, newcode, sizeof(newcode), NULL);\n    }\n}\n</code></pre>\n\n<p>When it runs it says \"ERROR404:Account Not On Whitelist\" \nAny Fix???</p>\n"}, {"tags": ["c++", "opengl", "glfw"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444242454, "post_id": 32999430, "comment_id": 53824183, "body": "Looks like a <a href=\"https://www.opengl.org/wiki/Pixel_Transfer#Pixel_layout\" rel=\"nofollow noreferrer\"><code>GL_UNPACK_ALIGNMENT</code></a> snafu with RGB.  Do you ever set it to  <code>1</code> (from the default <code>4</code>) before the <code>glTexImage2D()</code> call(s)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5410670"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444244609, "post_id": 32999430, "comment_id": 53825461, "body": "glPixelStorei(GL_UNPACK_ALIGNMENT, 1); doesn&#39;t help"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444245001, "post_id": 32999430, "comment_id": 53825720, "body": "Post a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> then."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5410670"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444245907, "post_id": 32999430, "comment_id": 53826304, "body": "<a href=\"https://github.com/dex36/OpenGL\" rel=\"nofollow noreferrer\">github.com/dex36/OpenGL</a>"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444248638, "post_id": 32999430, "comment_id": 53828006, "body": "<a href=\"http://i.stack.imgur.com/TADdR.png\" rel=\"nofollow noreferrer\">Working fine</a> on <a href=\"http://pastebin.com/7XBgUgb1\" rel=\"nofollow noreferrer\">my end</a> with a hard-coded texture.  Is the <code>block</code> file truly a tightly-packed sequence of RGB triplets as implied by your parsing code in <code>LoadTexture()</code>?  I.e., you didn&#39;t just rename a PNG/JPG/BMP? (which I&#39;ve seen people do :))"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5410670"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444255580, "post_id": 32999430, "comment_id": 53831376, "body": "yup i see it&#39;s working so there is a some problem with loading data from pics to array ;p could you give me some example of working PNG?"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1444255975, "post_id": 32999430, "comment_id": 53831553, "body": "A PNG <i>decoder</i>?  You&#39;ll want something like <a href=\"https://github.com/nothings/stb/blob/master/stb_image.h\" rel=\"nofollow noreferrer\">stb_image</a> or <a href=\"http://www.lonesock.net/soil.html\" rel=\"nofollow noreferrer\">SOIL</a> or <a href=\"http://libpng.org/pub/png/libpng.html\" rel=\"nofollow noreferrer\"><code>libpng</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "is_accepted": true, "score": 1, "last_activity_date": 1444256790, "last_edit_date": 1444256790, "creation_date": 1444256421, "answer_id": 33003393, "question_id": 32999430, "link": "https://stackoverflow.com/questions/32999430/weird-opengl-texture-display/33003393#33003393", "title": "Weird OpenGL Texture Display", "body": "<p>If you want to load compressed images you'll need a proper decoder.</p>\n\n<p>Your <code>LoadTexture()</code> function was assuming everything passed in \nis an uncompressed, tightly-packed blob of RGB triplets, which is...not a good assumption :)</p>\n\n<p>Here's an example using <a href=\"https://github.com/nothings/stb/blob/master/stb_image.h\" rel=\"nofollow noreferrer\"><code>stb_image</code></a> and a <a href=\"https://i.stack.imgur.com/TADdR.png\" rel=\"nofollow noreferrer\">screenshot PNG</a>:</p>\n\n<pre><code>GLuint LoadTexture(const char * filename)\n{\n    int width = 0, height = 0, n = 0;\n    unsigned char* data = stbi_load\n        (\n        filename,\n        &amp;width,\n        &amp;height,\n        &amp;n,\n        3\n        );\n\n    glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n    glActiveTexture(GL_TEXTURE0);\n    GLuint texture;\n    glGenTextures(1, &amp;texture);\n    glBindTexture(GL_TEXTURE_2D, texture);\n\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\n\n    stbi_image_free( data );\n\n    return texture;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wrzTW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrzTW.png\" alt=\"yo dawg!\"></a>\n<br></p>\n\n<p>All together:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdarg&gt;\n\n#include &lt;GL\\glew.h&gt;\n#include &lt;GLFW\\glfw3.h&gt;\n\n#define GLM_FORCE_RADIANS\n#include &lt;glm\\gtc\\matrix_transform.hpp&gt;\n#include &lt;glm\\gtx\\transform.hpp&gt;\n\n#define STB_IMAGE_IMPLEMENTATION\n#include \"stb_image.h\"\n\nusing namespace glm;\n\nstruct Program\n{\n    static GLuint Load( const char* shader, ... )\n    {\n        GLuint prog = glCreateProgram();\n        va_list args;\n        va_start( args, shader );\n        while( shader )\n        {\n            const GLenum type = va_arg( args, GLenum );\n            AttachShader( prog, type, shader );\n            shader = va_arg( args, const char* );\n        }\n        va_end( args );\n        glLinkProgram( prog );\n        CheckStatus( prog );\n        return prog;\n    }\n\nprivate:\n    static void CheckStatus( GLuint obj )\n    {\n        GLint status = GL_FALSE;\n        if( glIsShader(obj) ) glGetShaderiv( obj, GL_COMPILE_STATUS, &amp;status );\n        if( glIsProgram(obj) ) glGetProgramiv( obj, GL_LINK_STATUS, &amp;status );\n        if( status == GL_TRUE ) return;\n        GLchar log[ 1 &lt;&lt; 15 ] = { 0 };\n        if( glIsShader(obj) ) glGetShaderInfoLog( obj, sizeof(log), NULL, log );\n        if( glIsProgram(obj) ) glGetProgramInfoLog( obj, sizeof(log), NULL, log );\n        std::cerr &lt;&lt; log &lt;&lt; std::endl;\n        exit( EXIT_FAILURE );\n    }\n\n    static void AttachShader( GLuint program, GLenum type, const char* src )\n    {\n        GLuint shader = glCreateShader( type );\n        glShaderSource( shader, 1, &amp;src, NULL );\n        glCompileShader( shader );\n        CheckStatus( shader );\n        glAttachShader( program, shader );\n        glDeleteShader( shader );\n    }\n};\n\n#define GLSL(version, shader) \"#version \" #version \"\\n\" #shader\n\nconst char* vert = GLSL\n(\n    330 core,\n    layout(location=0) in vec3 in_pos;\n    layout(location=1) in vec3 vertexColor;\n    layout(location=2) in vec2 vertexUV;\n    layout(location=3) in vec3 normal;\n\n    uniform mat4 fullTransformMatrix;\n\n    uniform vec3 ambientLight;\n    uniform vec3 lightPosition;\n\n    out vec3 theColor;\n    out vec2 UV;\n\n    void main()\n    {\n        vec4 v = vec4(in_pos, 1.0);\n        gl_Position = fullTransformMatrix* v;\n\n        vec3 lightVector = normalize(lightPosition-normal);\n        float brightness = dot(lightVector,normal);\n        theColor = vertexColor * vec3( brightness, brightness, brightness);// * ambientLight;\n\n        UV = vertexUV;\n    }\n);\n\nconst char* frag = GLSL\n(\n    330 core,\n    out vec4 color;\n\n    in vec3 theColor;\n    in vec2 UV;\n\n    uniform sampler2D mySampler;\n\n    void main()\n    {\n        color = texture(mySampler,UV);\n    }\n);\n\n\nGLuint LoadTexture(const char * filename)\n{\n    int width = 0, height = 0, n = 0;\n    unsigned char* data = stbi_load\n        (\n        filename,\n        &amp;width,\n        &amp;height,\n        &amp;n,\n        3\n        );\n\n    glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n    glActiveTexture(GL_TEXTURE0);\n    GLuint texture;\n    glGenTextures(1, &amp;texture);\n    glBindTexture(GL_TEXTURE_2D, texture);\n\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\n\n    stbi_image_free( data );\n\n    return texture;\n}\n\nconst float movementspeed = 0.01f;\nclass Camera{\n    vec3 position;\n    vec3 viewDirection;\n    const vec3 UP;\n    vec2 oldmouseposition;\npublic:\n    Camera();\n    mat4 getWorldToViewMatrix() const;\n    void mouseUpdate(const vec2 &amp;newMousePosition);\n    void moveForward();\n    void moveBackWard();\n    void left();\n    void right();\n    void up();\n    void down();\n\n};\nCamera::Camera() :viewDirection(0.0f, 0.0f, -1.0f), UP(0.0f, 1.0f, 0.0f){}\nvoid Camera::mouseUpdate(const vec2 &amp;newMousePosition){\n\n    glm::vec2 mouseDelta = newMousePosition - oldmouseposition;\n    if (glm::length(mouseDelta) &gt;10.0f)\n    {\n        oldmouseposition = newMousePosition;\n        return;\n    }\n    viewDirection = glm::mat3(glm::rotate(-mouseDelta.x*0.5f, UP)) * viewDirection;\n    oldmouseposition = newMousePosition;\n\n}\nvoid Camera::moveForward(){\n    position -= movementspeed *viewDirection;\n}\nvoid Camera::moveBackWard(){\n    position += movementspeed *viewDirection;\n}\nvoid Camera::left(){\n    glm::vec3 strafeDirection = glm::cross(viewDirection, UP);\n    position += movementspeed *strafeDirection;\n}\nvoid Camera::right(){\n    glm::vec3 strafeDirection = glm::cross(viewDirection, UP);\n    position += -movementspeed *strafeDirection;\n}\nvoid Camera::up(){\n    position += movementspeed *UP;\n}\nvoid Camera::down(){\n    position += -movementspeed *UP;\n}\nmat4 Camera::getWorldToViewMatrix() const {\n    return lookAt(position, position - viewDirection, UP);\n}\n\n\nint main(int argc, char ** argv)\n{\n    if (!glfwInit())\n        exit(EXIT_FAILURE);\n\n    GLFWwindow* window;\n    window = glfwCreateWindow(640, 480, \"My 3D World\", NULL, NULL);\n    if (!window)\n    {\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n    glfwMakeContextCurrent(window);\n    glfwSwapInterval(1);\n    glewExperimental = true;\n    if (glewInit() != GLEW_OK){\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n    glEnable(GL_DEPTH_TEST);\n    glEnable(GL_CULL_FACE);\n\n    GLuint program = Program::Load\n        (\n        vert, GL_VERTEX_SHADER,\n        frag, GL_FRAGMENT_SHADER,\n        NULL\n        );\n\n    struct Vertex{\n        glm::vec3 position;\n        glm::vec3 color;\n        glm::vec2 texture;\n        glm::vec3 normal;\n    };\n    Vertex verts[] = {\n        vec3(-1.0f, +1.0f, +1.0f), // 0\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, +1.0f), // 1\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, -1.0f), // 2\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, -1.0f), // 3\n        vec3(0.0f, 0.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(-1.0f, +1.0f, -1.0f), // 4\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, -1.0f), // 5\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, -1.0f), // \n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 7\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n\n        vec3(+1.0f, +1.0f, -1.0f), // 8\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, +1.0f, +1.0f), // 9\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 10\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, -1.0f, -1.0f), // 11\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n\n        vec3(-1.0f, +1.0f, +1.0f), // 12\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, -1.0f), // 13\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 14\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 15\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(+1.0f, +1.0f, +1.0f), // 16\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, +1.0f), // 17\n        vec3(1.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 18\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 19\n        vec3(1.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(+1.0f, -1.0f, -1.0f), // 20\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 21\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 22\n        vec3(0.0f, 1.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 23\n        vec3(1.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f) //normal\n    };\n    GLushort indices[] = {\n        0, 1, 2, 0, 2, 3, // Top\n        4, 5, 6, 4, 6, 7, // Front\n        8, 9, 10, 8, 10, 11, // Right\n        12, 13, 14, 12, 14, 15, // Left\n        16, 17, 18, 16, 18, 19, // Back\n        20, 22, 21, 20, 23, 22 // Bottom\n    };\n    ////////VAO niepotrzebne\n    ////////VBO\n    GLuint vboID;\n    glGenBuffers(1, &amp;vboID);\n    glBindBuffer(GL_ARRAY_BUFFER, vboID);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(verts), verts, GL_DYNAMIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glEnableVertexAttribArray(1);\n    glEnableVertexAttribArray(2);\n    glEnableVertexAttribArray(3);\n    GLuint indexbuff;\n    glGenBuffers(1, &amp;indexbuff);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_DYNAMIC_DRAW);\n    //////\n\n    glActiveTexture(GL_TEXTURE0);\n    glEnable(GL_TEXTURE_2D);\n    glBindTexture(GL_TEXTURE_2D, LoadTexture(\"TADdR.png\"));\n\n    Camera camera;\n\n    while (!glfwWindowShouldClose(window))\n    {\n        glClear(GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);\n\n        glUseProgram(program);\n\n        double xpos, ypos;\n        glfwGetCursorPos(window, &amp;xpos, &amp;ypos);\n\n        if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS){\n            camera.moveForward();\n        }\n        if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS){\n            camera.moveBackWard();\n        }\n        if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS){\n            camera.left();\n        }\n        if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS){\n            camera.right();\n        }\n        if (glfwGetKey(window, GLFW_KEY_R) == GLFW_PRESS){\n            camera.up();\n        }\n        if (glfwGetKey(window, GLFW_KEY_F) == GLFW_PRESS){\n            camera.down();\n        }\n        if (xpos &gt; 0 &amp;&amp; xpos &lt; 640 &amp;&amp; ypos&gt;0 &amp;&amp; ypos &lt; 400){\n            camera.mouseUpdate(vec2(float(xpos / 50), float(ypos / 50)));\n            std::cout &lt;&lt; \"pos x: \" &lt;&lt; xpos &lt;&lt; \"pos y: \" &lt;&lt; ypos &lt;&lt; std::endl;\n        }\n\n        // textures\n        glUniform1i(glGetUniformLocation(program, \"mySampler\"), 0);\n        //AMBIENT LIGHT\n        GLint ambientlightlocation = glGetUniformLocation(program, \"ambientLight\");\n        vec3 ambientLight(0.3f, 0.3f, 0.3f);\n        glUniform3fv(ambientlightlocation, 1, &amp;ambientLight[0]);\n\n        //Light\n        GLint lightlocation = glGetUniformLocation(program, \"lightPosition\");\n        vec3 lightposition(1.0f, 1.0f, -3.75f);\n        glUniform3fv(lightlocation, 1, &amp;lightposition[0]);\n\n\n        GLint fullTransformMatrixUniformLocation = glGetUniformLocation(program, \"fullTransformMatrix\");\n        mat4 fullTransformMatrix;\n        mat4 projectionMatrix = perspective( glm::radians( 90.0f ), (480.0f / 640.0f), 0.1f, 5.0f);\n        mat4 worldToProjectionMatrix = projectionMatrix* camera.getWorldToViewMatrix();\n\n        //CUBE 1 tak sie robi gdyby sie roznily\n        glBindBuffer(GL_ARRAY_BUFFER, vboID);\n        glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (void*)0);\n        glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 3));\n        glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 6));\n        glVertexAttribPointer(3, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 9));\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n\n        mat4 cube1WorldMatrix = translate(vec3(1.0f, 0.0f, -3.75f)) * rotate(0.0f, vec3(0.0f, 1.0f, 1.0f));\n        fullTransformMatrix = worldToProjectionMatrix *cube1WorldMatrix;\n        glUniformMatrix4fv(fullTransformMatrixUniformLocation, 1, GL_FALSE, &amp;fullTransformMatrix[0][0]);\n        glDrawElements(GL_TRIANGLES, 36, GL_UNSIGNED_SHORT, 0);\n\n        // CUBE 2 gdyby byly rozne \n        glBindBuffer(GL_ARRAY_BUFFER, vboID);\n        glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (void*)0);\n        glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 3));\n        glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 6));\n        glVertexAttribPointer(3, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 9));\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n\n        mat4 cube2WorldMatrix = translate(vec3(-3.0f, 0.0f, -3.75f)) * rotate(126.0f, vec3(1.0f, 0.0f, 0.0f));\n        fullTransformMatrix = worldToProjectionMatrix *cube2WorldMatrix;\n        glUniformMatrix4fv(fullTransformMatrixUniformLocation, 1, GL_FALSE, &amp;fullTransformMatrix[0][0]);\n        glDrawElements(GL_TRIANGLES, 36, GL_UNSIGNED_SHORT, 0);\n\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n\n    }\n    glfwDestroyWindow(window);\n    glfwTerminate();\n    exit(EXIT_SUCCESS);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5410670"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 33003393, "answer_count": 1, "score": 1, "last_activity_date": 1444311000, "creation_date": 1444241242, "last_edit_date": 1444311000, "question_id": 32999430, "link": "https://stackoverflow.com/questions/32999430/weird-opengl-texture-display", "title": "Weird OpenGL Texture Display", "body": "<p>I am drawing a 3D cube with texture and i get sth like this. I dont exactly know what is wrong ;/\n<a href=\"http://i.stack.imgur.com/081nl.png\" rel=\"nofollow\">http://i.stack.imgur.com/081nl.png</a></p>\n\n<p>Vectors for texturecord</p>\n\n<pre><code>    vec2(0.0f, 0.0f),\n    vec2(1.0f, 0.0f),\n    vec2(1.0f, 1.0f),\n    vec2(0.0f, 1.0f),\n\n....\nglVertexAttribPointer(3, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 9));\n....\nglUniform1i(glGetUniformLocation(program, \"mySampler\"), 0);\n....\ncolor = texture(myTextureSampler,UV); //SHADER CODE\n</code></pre>\n\n<p>To load first example i used:</p>\n\n<pre><code>SDL_Surface* textures;\ntextures = SDL_LoadBMP(filename);\nglActiveTexture(GL_TEXTURE0);\nglEnable(GL_TEXTURE_2D);\nGLuint texture;\nglGenTextures(1, &amp;texture);\nglBindTexture(GL_TEXTURE_2D, texture);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB8, textures-&gt;w, textures-&gt;h, 0, GL_RGB, GL_UNSIGNED_BYTE, textures-&gt;pixels);\n</code></pre>\n\n<p>To second pics i used :</p>\n\n<pre><code>int width, height;\n    GLubyte * data;\n    FILE * file;\n    file = fopen(filename, \"rb\");\n    if (file == NULL) return 0;\n    width = 128;\n    height = 128;\n    data = (GLubyte *)malloc(width * height * 3);\n    //int size = fseek(file,);\n    fread(data, width * height * 3, 1, file);\n    fclose(file);\n    for (int i = 0; i &lt; width * height; ++i)\n    {\n        int index = i * 3;\n        unsigned char B, R;\n        B = data[index];\n        R = data[index + 2];\n\n        data[index] = R;\n        data[index + 2] = B;\n    }\n    glActiveTexture(GL_TEXTURE0);\n    GLuint texture;\n    glGenTextures(1, &amp;texture);\n    glBindTexture(GL_TEXTURE_2D, texture);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, 128, 128, 0, GL_BGR_EXT, GL_UNSIGNED_BYTE, data);\n</code></pre>\n\n<p>The both doesnt work correct;// any ideas?</p>\n\n<p>Complete program:</p>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;GL\\glew.h&gt; // UP\n#include &lt;GL\\glut.h&gt;\n#include &lt;GLFW\\glfw3.h&gt;\n#include &lt;glm\\gtc\\matrix_transform.hpp&gt;\n#include &lt;glm\\gtx\\transform.hpp&gt;\n#include &lt;SDL.h&gt;\n\nusing namespace glm;\n\nGLuint LoadTexture(const char * filename)\n{\n    int width, height;\n    GLubyte * data;\n    FILE * file;\n    file = fopen(filename, \"rb\");\n    if (file == NULL) return 0;\n    width = 128;\n    height = 128;\n    data = (GLubyte *)malloc(width * height * 3);\n    //int size = fseek(file,);\n    fread(data, width * height * 3, 1, file);\n    fclose(file);\n    for (int i = 0; i &lt; width * height; ++i)\n    {\n        int index = i * 3;\n        unsigned char B, R;\n        B = data[index];\n        R = data[index + 2];\n\n        data[index] = R;\n        data[index + 2] = B;\n    }\n\n    glPixelStorei(GL_UNPACK_ALIGNMENT, 1);\n    glActiveTexture(GL_TEXTURE0);\n    GLuint texture;\n    glGenTextures(1, &amp;texture);\n    glBindTexture(GL_TEXTURE_2D, texture);\n\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_BGR, GL_UNSIGNED_BYTE, data);\n\n    //free(data);\n\n    return texture;\n    /**\n    SDL_Surface* textures;\n    textures = SDL_LoadBMP(filename);\n    glActiveTexture(GL_TEXTURE0);\n    glEnable(GL_TEXTURE_2D);\n    GLuint texture;\n    glGenTextures(1, &amp;texture);\n    glBindTexture(GL_TEXTURE_2D, texture);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB8, textures-&gt;w, textures-&gt;h, 0, GL_RGB, GL_UNSIGNED_BYTE, textures-&gt;pixels);\n    return texture;\n    **/\n}\nstd::string LoadFileToString(const char* filepath){\n    std::string fileData = \"\";\n    std::ifstream stream(filepath, std::ios::in);\n\n    if (stream.is_open()){\n        std::string line = \"\";\n        while (getline(stream, line)){\n            fileData += \"\\n\" + line;\n        }\n        stream.close();\n    }\n    return fileData;\n}\nGLuint LoadShaders(const char*VertShaderPath, const char* fragShaderPath){\n    GLuint vertShader = glCreateShader(GL_VERTEX_SHADER);\n    GLuint fragShader = glCreateShader(GL_FRAGMENT_SHADER);\n\n    std::string vertShaderSource = LoadFileToString(VertShaderPath);\n    std::string fragShaderSource = LoadFileToString(fragShaderPath);\n\n    const char*  rawVertShaderSource = vertShaderSource.c_str();\n    const char*  rawfragShaderSource = fragShaderSource.c_str();\n\n    glShaderSource(vertShader, 1, &amp;rawVertShaderSource, NULL);\n    glShaderSource(fragShader, 1, &amp;rawfragShaderSource, NULL);\n\n    glCompileShader(vertShader);\n    glCompileShader(fragShader);\n\n    GLuint program = glCreateProgram();\n    glAttachShader(program, vertShader);\n    glAttachShader(program, fragShader);\n    glLinkProgram(program);\n\n    return program;\n}\n\nconst float movementspeed = 0.01f;\nclass Camera{\n    vec3 position;\n    vec3 viewDirection;\n    const vec3 UP;\n    vec2 oldmouseposition;\npublic:\n    Camera();\n    mat4 getWorldToViewMatrix() const;\n    void mouseUpdate(const vec2 &amp;newMousePosition);\n    void moveForward();\n    void moveBackWard();\n    void left();\n    void right();\n    void up();\n    void down();\n\n};\nCamera::Camera() :viewDirection(0.0f, 0.0f, -1.0f), UP(0.0f, 1.0f, 0.0f){}\nvoid Camera::mouseUpdate(const vec2 &amp;newMousePosition){\n\n    glm::vec2 mouseDelta = newMousePosition - oldmouseposition;\n    if (glm::length(mouseDelta) &gt;10.0f)\n    {\n        oldmouseposition = newMousePosition;\n        return;\n    }\n    viewDirection = glm::mat3(glm::rotate(-mouseDelta.x*0.5f, UP)) * viewDirection;\n    oldmouseposition = newMousePosition;\n\n}\nvoid Camera::moveForward(){\n    position -= movementspeed *viewDirection;\n}\nvoid Camera::moveBackWard(){\n    position += movementspeed *viewDirection;\n}\nvoid Camera::left(){\n    glm::vec3 strafeDirection = glm::cross(viewDirection, UP);\n    position += movementspeed *strafeDirection;\n}\nvoid Camera::right(){\n    glm::vec3 strafeDirection = glm::cross(viewDirection, UP);\n    position += -movementspeed *strafeDirection;\n}\nvoid Camera::up(){\n    position += movementspeed *UP;\n}\nvoid Camera::down(){\n    position += -movementspeed *UP;\n}\nmat4 Camera::getWorldToViewMatrix() const {\n    return lookAt(position, position - viewDirection, UP);\n}\n\n\nint main(int argc, char ** argv)\n{\n    if (!glfwInit())\n        exit(EXIT_FAILURE);\n\n    GLFWwindow* window;\n    window = glfwCreateWindow(640, 480, \"My 3D World\", NULL, NULL);\n    if (!window)\n    {\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n    glfwMakeContextCurrent(window);\n    glfwSwapInterval(1);\n    glewExperimental = true;\n    if (glewInit() != GLEW_OK){\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n    glEnable(GL_DEPTH_TEST);\n    glEnable(GL_CULL_FACE);\n\n    GLuint program = LoadShaders(\"vertex.wss\", \"fragment.fss\"); // shadersprogram\n\n    struct Vertex{\n        glm::vec3 position;\n        glm::vec3 color;\n        glm::vec2 texture;\n        glm::vec3 normal;\n    };\n    Vertex verts[] = {\n        vec3(-1.0f, +1.0f, +1.0f), // 0\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, +1.0f), // 1\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, -1.0f), // 2\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, -1.0f), // 3\n        vec3(0.0f, 0.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(-1.0f, +1.0f, -1.0f), // 4\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(+1.0f, +1.0f, -1.0f), // 5\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, -1.0f), // \n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 7\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, -1.0f, 0.0f), //normal\n\n        vec3(+1.0f, +1.0f, -1.0f), // 8\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, +1.0f, +1.0f), // 9\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 10\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n        vec3(+1.0f, -1.0f, -1.0f), // 11\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 0.0f, -1.0f), //normal\n\n        vec3(-1.0f, +1.0f, +1.0f), // 12\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, -1.0f), // 13\n        vec3(1.0f, 0.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 14\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 15\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(+1.0f, +1.0f, +1.0f), // 16\n        vec3(0.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, +1.0f, +1.0f), // 17\n        vec3(1.0f, 0.0f, 1.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 18\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 19\n        vec3(1.0f, 0.0f, 1.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n\n        vec3(+1.0f, -1.0f, -1.0f), // 20\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, -1.0f), // 21\n        vec3(0.0f, 1.0f, 0.0f), // Colour\n        vec2(1.0f, 0.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(-1.0f, -1.0f, +1.0f), // 22\n        vec3(0.0f, 1.0f, 1.0f), // Colour\n        vec2(1.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f), //normal\n        vec3(+1.0f, -1.0f, +1.0f), // 23\n        vec3(1.0f, 1.0f, 0.0f), // Colour\n        vec2(0.0f, 1.0f),\n        vec3(0.0f, 1.0f, 0.0f) //normal\n    };\n    GLushort indices[] = {\n        0, 1, 2, 0, 2, 3, // Top\n        4, 5, 6, 4, 6, 7, // Front\n        8, 9, 10, 8, 10, 11, // Right\n        12, 13, 14, 12, 14, 15, // Left\n        16, 17, 18, 16, 18, 19, // Back\n        20, 22, 21, 20, 23, 22 // Bottom\n    };\n    ////////VAO niepotrzebne\n    ////////VBO\n    GLuint vboID;\n    glGenBuffers(1, &amp;vboID);\n    glBindBuffer(GL_ARRAY_BUFFER, vboID);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(verts), verts, GL_DYNAMIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glEnableVertexAttribArray(1);\n    glEnableVertexAttribArray(2);\n    glEnableVertexAttribArray(3);\n    GLuint indexbuff;\n    glGenBuffers(1, &amp;indexbuff);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_DYNAMIC_DRAW);\n    //////\n\n\n    glActiveTexture(GL_TEXTURE0);\n    glEnable(GL_TEXTURE_2D);\n    glBindTexture(GL_TEXTURE_2D, LoadTexture(\"block\"));\n\n    Camera camera;\n\n    while (!glfwWindowShouldClose(window))\n    {\n        glClear(GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);\n\n\n\n        glUseProgram(program);\n\n        double xpos, ypos;\n        glfwGetCursorPos(window, &amp;xpos, &amp;ypos);\n\n        if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS){\n            camera.moveForward();\n        }\n        if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS){\n            camera.moveBackWard();\n        }\n        if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS){\n            camera.left();\n        }\n        if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS){\n            camera.right();\n        }\n        if (glfwGetKey(window, GLFW_KEY_R) == GLFW_PRESS){\n            camera.up();\n        }\n        if (glfwGetKey(window, GLFW_KEY_F) == GLFW_PRESS){\n            camera.down();\n        }\n        if (xpos &gt; 0 &amp;&amp; xpos &lt; 640 &amp;&amp; ypos&gt;0 &amp;&amp; ypos &lt; 400){\n            camera.mouseUpdate(vec2(float(xpos / 50), float(ypos / 50)));\n            std::cout &lt;&lt; \"pos x: \" &lt;&lt; xpos &lt;&lt; \"pos y: \" &lt;&lt; ypos &lt;&lt; std::endl;\n        }\n\n        // textures\n        glUniform1i(glGetUniformLocation(program, \"mySampler\"), 0);\n        //AMBIENT LIGHT\n        GLint ambientlightlocation = glGetUniformLocation(program, \"ambientLight\");\n        vec3 ambientLight(0.3f, 0.3f, 0.3f);\n        glUniform3fv(ambientlightlocation, 1, &amp;ambientLight[0]);\n\n        //Light\n        GLint lightlocation = glGetUniformLocation(program, \"lightPosition\");\n        vec3 lightposition(1.0f, 1.0f, -3.75f);\n        glUniform3fv(lightlocation, 1, &amp;lightposition[0]);\n\n\n        GLint fullTransformMatrixUniformLocation = glGetUniformLocation(program, \"fullTransformMatrix\");\n        mat4 fullTransformMatrix;\n        mat4 projectionMatrix = perspective(90.0f, (480.0f / 640.0f), 0.1f, 5.0f);\n        mat4 worldToProjectionMatrix = projectionMatrix* camera.getWorldToViewMatrix();\n\n        //CUBE 1 tak sie robi gdyby sie roznily\n        glBindBuffer(GL_ARRAY_BUFFER, vboID);\n        glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (void*)0);\n        glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 3));\n        glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 6));\n        glVertexAttribPointer(3, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 9));\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n\n        mat4 cube1WorldMatrix = translate(vec3(1.0f, 0.0f, -3.75f)) * rotate(0.0f, vec3(0.0f, 1.0f, 1.0f));\n        fullTransformMatrix = worldToProjectionMatrix *cube1WorldMatrix;\n        glUniformMatrix4fv(fullTransformMatrixUniformLocation, 1, GL_FALSE, &amp;fullTransformMatrix[0][0]);\n        glDrawElements(GL_TRIANGLES, 36, GL_UNSIGNED_SHORT, 0);\n\n        // CUBE 2 gdyby byly rozne \n        glBindBuffer(GL_ARRAY_BUFFER, vboID);\n        glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (void*)0);\n        glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 3));\n        glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 6));\n        glVertexAttribPointer(3, 3, GL_FLOAT, GL_FALSE, sizeof(float) * 11, (char*)(sizeof(float) * 9));\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexbuff);\n\n        mat4 cube2WorldMatrix = translate(vec3(-3.0f, 0.0f, -3.75f)) * rotate(126.0f, vec3(1.0f, 0.0f, 0.0f));\n        fullTransformMatrix = worldToProjectionMatrix *cube2WorldMatrix;\n        glUniformMatrix4fv(fullTransformMatrixUniformLocation, 1, GL_FALSE, &amp;fullTransformMatrix[0][0]);\n        glDrawElements(GL_TRIANGLES, 36, GL_UNSIGNED_SHORT, 0);\n\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n\n    }\n    glfwDestroyWindow(window);\n    glfwTerminate();\n    exit(EXIT_SUCCESS);\n}\n</code></pre>\n\n<p>fragment.fss:</p>\n\n<pre><code>#version 330 core\nout vec4 color;\n\nin vec3 theColor;\nin vec2 UV;\n\nuniform sampler2D myTextureSampler;\n\nvoid main()\n{\n    color = texture(myTextureSampler,UV);\n    //texture(myTextureSampler,UV);\n    // * vec4(theColor,1.0);\n\n}\n</code></pre>\n\n<p>vertex.wss:</p>\n\n<pre><code>#version 330 core\n\nlayout(location=0) in vec3 in_pos;\nlayout(location=1) in vec3 vertexColor;\nlayout(location=2) in vec2 vertexUV;\nlayout(location=3) in vec3 normal;\n\nuniform mat4 fullTransformMatrix;\n\n\nuniform vec3 ambientLight;\nuniform vec3 lightPosition;\n\nout vec3 theColor;\nout vec2 UV;\n\nvoid main()\n{\n    vec4 v = vec4(in_pos, 1.0);\n    gl_Position = fullTransformMatrix* v;\n\n    vec3 lightVector = normalize(lightPosition-normal);\n    float brightness = dot(lightVector,normal);\n    theColor = vertexColor * vec3( brightness, brightness, brightness);// * ambientLight;\n\n    UV = vertexUV;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 301, "user_id": 1835467, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a08aa76daa923bcb6dc446d88209a669?s=128&d=identicon&r=PG", "display_name": "mamahuhu", "link": "https://stackoverflow.com/users/1835467/mamahuhu"}, "reply_to_user": {"reputation": 6852, "user_id": 214762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d0879a01a4294a36eba6d1ea21699e?s=128&d=identicon&r=PG", "display_name": "RA.", "link": "https://stackoverflow.com/users/214762/ra"}, "edited": false, "score": 1, "creation_date": 1444243773, "post_id": 32999344, "comment_id": 53824921, "body": "Thanks a lot! So it seems to be a &quot;bug&quot; in kde (or at least an &quot;unwanted&quot; feature in my point of view!)"}], "answers": [{"tags": [], "owner": {"reputation": 14861, "user_id": 516725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/339c557f2324e9e9347f34e7d65e94d7?s=128&d=identicon&r=PG", "display_name": "AJG85", "link": "https://stackoverflow.com/users/516725/ajg85"}, "is_accepted": false, "score": 0, "last_activity_date": 1444243837, "creation_date": 1444243837, "answer_id": 33000175, "question_id": 32999344, "link": "https://stackoverflow.com/questions/32999344/prevent-qt-from-generating-shortcuts/33000175#33000175", "title": "Prevent Qt from generating shortcuts?", "body": "<p>There is a default QShortcut object associated with menu options, buttons, etc. Unfortunately there is no way to directly access and disable them after creation that I know of. </p>\n\n<p>You can attempt to call the Qt global function <code>qt_set_sequence_auto_mnemonic(false);</code> to disable this behavior dynamically but I'm not sure if it's available on every platform.</p>\n"}], "owner": {"reputation": 301, "user_id": 1835467, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a08aa76daa923bcb6dc446d88209a669?s=128&d=identicon&r=PG", "display_name": "mamahuhu", "link": "https://stackoverflow.com/users/1835467/mamahuhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "closed_date": 1444243793, "answer_count": 1, "score": 2, "last_activity_date": 1444255425, "creation_date": 1444240973, "last_edit_date": 1444255425, "question_id": 32999344, "link": "https://stackoverflow.com/questions/32999344/prevent-qt-from-generating-shortcuts", "closed_reason": "Duplicate", "title": "Prevent Qt from generating shortcuts?", "body": "<p>I am creating a QPushButton as follows, with no explicit shortcut (&amp;):</p>\n\n<p><code>testButton = new QPushButton(tr(\"Start\"));</code></p>\n\n<p>I can correctly read the button's text just after its construction:</p>\n\n<p><code>testButton.text()</code> returns 'Start' (without single quotes)</p>\n\n<p>Then I create a signal/slot connection:</p>\n\n<p><code>QObject::connect(\n  testButton, &amp;QPushButton::clicked,\n  this, &amp;Dialog::actionRequest\n);</code></p>\n\n<p>In the <code>Dialog::actionRequest</code> slot, <code>testButton.text()</code> returns '&amp;Start', as if a shortcut had been created \"somewhere\", under the hood.</p>\n\n<p>If I name the button 'Foo', the same phenomenon occurs, but <code>testButton.text()</code> would return 'F&amp;oo'. That's because I already have a \"File\" menu, that has an explicit shortcut -- created as:</p>\n\n<p><code>fileMenu = new QMenu(tr(\"&amp;File\"), this);</code></p>\n\n<p>and, possibly, Alt+O would be the next \"available\" shortcut?</p>\n\n<p>I do not want this implicit shortcut creation for my QPushButton. What's the solution to this problem? I'm running Fedora 22 ( with plasma 5), with stock qt 5.5 packages.</p>\n"}, {"tags": ["c++", "vim", "youcompleteme"], "comments": [{"owner": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 0, "creation_date": 1444241061, "post_id": 32999334, "comment_id": 53823346, "body": "This is really project specific that it is hard to answer this question. It also doesn&#39;t look like you actually changed the compile flags, so ycm can&#39;t find the headers since it doesn&#39;t have the right include directories."}, {"owner": {"reputation": 155, "user_id": 4949901, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1fa3ae1c839d31817010feac23f9e446?s=128&d=identicon&r=PG&f=1", "display_name": "gimbup", "link": "https://stackoverflow.com/users/4949901/gimbup"}, "reply_to_user": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 0, "creation_date": 1444244630, "post_id": 32999334, "comment_id": 53825481, "body": "Hi, do you mean I should specify the project path in the flags? right now, I only added system c++ library paths, should I add project path in this configuration file with &quot;I&quot; flag?"}, {"owner": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 0, "creation_date": 1444247248, "post_id": 32999334, "comment_id": 53827123, "body": "Would probably be a good idea."}, {"owner": {"reputation": 155, "user_id": 4949901, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1fa3ae1c839d31817010feac23f9e446?s=128&d=identicon&r=PG&f=1", "display_name": "gimbup", "link": "https://stackoverflow.com/users/4949901/gimbup"}, "reply_to_user": {"reputation": 28343, "user_id": 1890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSohE.png?s=128&g=1", "display_name": "FDinoff", "link": "https://stackoverflow.com/users/1890567/fdinoff"}, "edited": false, "score": 0, "creation_date": 1444251708, "post_id": 32999334, "comment_id": 53829599, "body": "Thanks, it works! but I have a couple of directories in my project, (more than 20), and I have to indicate all of them in the configuration file, which is not so desirable.. but thank you again, at least it is working now :)"}], "owner": {"reputation": 155, "user_id": 4949901, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1fa3ae1c839d31817010feac23f9e446?s=128&d=identicon&r=PG&f=1", "display_name": "gimbup", "link": "https://stackoverflow.com/users/4949901/gimbup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2418, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1444240948, "creation_date": 1444240948, "question_id": 32999334, "link": "https://stackoverflow.com/questions/32999334/youcompleteme-cannot-include-my-project-header-files", "title": "YouCompleteMe cannot include my project header files", "body": "<p>recently I started working on c++ in linux(ubuntu), and I found a good vim plugin called \"YouCompleteMe\".</p>\n\n<p>I installed it successfully with --clang-completer, and it does working, but not fully. It can recognize system c++ library but it cannot recognize other header files in my project directory, it only works for the currently open file.\nI think the problem is within my \".ycm_extra_conf.py\", but I don't know how to change it properly. </p>\n\n<p>Could anyone help? </p>\n\n<p>This is my first post on stackoverflow, so if there is something wrong or you need more information, please leave your message. Thanks</p>\n\n<p>Currently, my vim is like this:\n<a href=\"http://i.stack.imgur.com/EU7Kk.png\" rel=\"nofollow\">enter image description here</a></p>\n\n<p>Here is my configuration file:</p>\n\n<pre><code># Partially stolen from https://bitbucket.org/mblum/libgp/src/2537ea7329ef/.ycm_extra_conf.py\nimport os\nimport ycm_core\n# These are the compilation flags that will be used in case there's no\n# compilation database set (by default, one is not set).\n# CHANGE THIS LIST OF FLAGS. YES, THIS IS THE DROID YOU HAVE BEEN LOOKING FOR.\nflags = [\n        '-Wall',\n        '-Wextra',\n        '-Werror',\n        '-Wno-long-long',\n        '-Wno-variadic-macros',\n        '-fexceptions',\n        # THIS IS IMPORTANT! Without a \"-std=&lt;something&gt;\" flag, clang won't know which\n        # language to use when compiling headers. So it will guess. Badly. So C++\n        # headers will be compiled as C headers. You don't want that so ALWAYS specify\n        # a \"-std=&lt;something&gt;\".\n        # For a C project, you would set this to something like 'c99' instead of\n        # 'c++11'.\n        '-std=c++11',\n        # ...and the same thing goes for the magic -x option which specifies the\n        # language that the files to be compiled are written in. This is mostly\n        # relevant for c++ headers.\n        # For a C project, you would set this to 'c' instead of 'c++'.\n        '-x', 'c++',\n        # This path will only work on OS X, but extra paths that don't exist are not\n        # harmful\n        '-isystem', '/System/Library/Frameworks/Python.framework/Headers',\n        '-isystem', '/usr/local/include',\n        '-isystem', '/usr/bin/../lib/clang/3.4/include',\n        '-isystem', '/usr/bin/../lib/gcc/i686-linux-gnu/4.8/include',\n        '-isystem', '/usr/include/i386-linux-gnu',\n        '-isystem', '/usr/include',\n        '-I', 'include',\n        '-I', 'src',\n        '-I', '.',\n        ]\n# Set this to the absolute path to the folder (NOT the file!) containing the\n# compile_commands.json file to use that instead of 'flags'. See here for\n# more details: http://clang.llvm.org/docs/JSONCompilationDatabase.html\n#\n# Most projects will NOT need to set this to anything; you can just change the\n# 'flags' list of compilation flags. Notice that YCM itself uses that approach.\ncompilation_database_folder = ''\n\nif compilation_database_folder:\n    database = ycm_core.CompilationDatabase( compilation_database_folder )\nelse:\n    database = None\n\ndef DirectoryOfThisScript():\n    return os.path.dirname( os.path.abspath( __file__ ) )\n\ndef MakeRelativePathsInFlagsAbsolute( flags, working_directory ):\n    if not working_directory:\n        return list( flags )\n    new_flags = []\n    make_next_absolute = False\n    path_flags = [ '-isystem', '-I', '-iquote', '--sysroot=' ]\n    for flag in flags:\n        new_flag = flag\n\n        if make_next_absolute:\n            make_next_absolute = False\n            if not flag.startswith( '/' ):\n                new_flag = os.path.join( working_directory, flag )\n\n        for path_flag in path_flags:\n            if flag == path_flag:\n                make_next_absolute = True\n                break\n\n            if flag.startswith( path_flag ):\n                path = flag[ len( path_flag ): ]\n                new_flag = path_flag + os.path.join( working_directory, path )\n                break\n\n        if new_flag:\n            new_flags.append( new_flag )\n    return new_flags\n\ndef FlagsForFile( filename ):\n    if database:\n    # Bear in mind that compilation_info.compiler_flags_ does NOT return a\n    # python list, but a \"list-like\" StringVec object\n        compilation_info = database.GetCompilationInfoForFile( filename )\n        final_flags = MakeRelativePathsInFlagsAbsolute(\n        compilation_info.compiler_flags_,\n        compilation_info.compiler_working_dir_ )\n    else:\n        # relative_to = DirectoryOfThisScript()\n        relative_to = os.path.dirname(os.path.abspath(filename))\n        final_flags = MakeRelativePathsInFlagsAbsolute( flags, relative_to )\n    return {\n        'flags': final_flags,\n        'do_cache': True\n    }\n</code></pre>\n"}, {"tags": ["php", "c++", "apache", "gcc"], "owner": {"reputation": 2549, "user_id": 749515, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fdf40887bfac87aba430eec018cc0d2a?s=128&d=identicon&r=PG", "display_name": "pavelkolodin", "link": "https://stackoverflow.com/users/749515/pavelkolodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444601531, "creation_date": 1444240807, "last_edit_date": 1444601531, "question_id": 32999298, "link": "https://stackoverflow.com/questions/32999298/can-apaches-php-module-affect-c-exceptions-mechanism-in-other-modules", "title": "Can apache&#39;s PHP module affect C++ exceptions mechanism in other modules?", "body": "<p>Setup:</p>\n\n<ol>\n<li>Apache</li>\n<li>php CLI</li>\n<li>php_module.so for Apache</li>\n<li>custom.so - my php extension with the following code (C++):</li>\n</ol>\n\n<hr>\n\n<pre><code>try {\n    throw MyException(\"Bla-Bla\");\n} catch(const MyException&amp; e) {\n    LOG(\"got \" &lt;&lt; e.what());\n}\n</code></pre>\n\n<p>The CLI version of PHP shows me \"got Bla-Bla\" where i expect it to (custom logger). But apache's PHP module run the same code and crash with uncaught exception:</p>\n\n<pre><code>terminate called after throwing an instance of 'MyException'\n  what(): Bla-Bla\n[Wed Oct 07 14:12:41 2015] [notice] child pid 12614 exit signal Abort trap (6)\n</code></pre>\n\n<p>The php_module.so is build from the same sources as PHP CLI, but GCC flags used to compile php_module.so is unknown to me. Could some set of gcc flags (used for php_module.so compilation) affect custom.so exceptions behavior?</p>\n\n<p><strong>UPDATE</strong>\nSeems to be GCC bug, because using clang solves the problem.</p>\n"}, {"tags": ["c++", "constructor", "default-constructor"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1444241341, "post_id": 32999233, "comment_id": 53823499, "body": "just a thought but instead of having 50 bools why not <code>bool flags[50]{ false };</code>?"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444242152, "post_id": 32999233, "comment_id": 53823990, "body": "@NathanOliver I&#39;d be happy to do this, but PM might argue that the variables then lose a meaningful identifier."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1444242737, "post_id": 32999233, "comment_id": 53824330, "body": "You may want to do <code>memset( this, 0, sizeof( Foo ) )</code>....even if it may work in your sepcific example, that&#39;s not recommended: <a href=\"http://stackoverflow.com/questions/1975916/should-c-programmer-avoid-memset\" title=\"should c programmer avoid memset\">stackoverflow.com/questions/1975916/&hellip;</a>"}, {"owner": {"reputation": 1433, "user_id": 1289981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8454c7cc0eca710fe02bb12997cd7f2f?s=128&d=identicon&r=PG", "display_name": "maxteneff", "link": "https://stackoverflow.com/users/1289981/maxteneff"}, "edited": false, "score": 0, "creation_date": 1444242777, "post_id": 32999233, "comment_id": 53824351, "body": "indeed, be very careful with memset!"}, {"owner": {"reputation": 5541, "user_id": 4367864, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mIepQ.png?s=128&g=1", "display_name": "PC Luddite", "link": "https://stackoverflow.com/users/4367864/pc-luddite"}, "edited": false, "score": 0, "creation_date": 1444244220, "post_id": 32999233, "comment_id": 53825206, "body": "@erip I would argue strongly in favor of using an array of bools. Or is it that the variables don&#39;t have similar names like in your example?"}, {"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1444247762, "post_id": 32999233, "comment_id": 53827454, "body": "<code>bool</code> does not have a &quot;default constructor&quot;"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444248516, "post_id": 32999233, "comment_id": 53827937, "body": "I recommend splitting up the variables, one per line or maybe 10 per line.  The compiler ignores blank lines and whitespace, so use them to make things clearer."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1444250304, "post_id": 32999233, "comment_id": 53828872, "body": "because <code>a5</code> is an extremely meaningful identifier..."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1444251007, "post_id": 32999233, "comment_id": 53829233, "body": "@RichardHodges I&#39;m not going to post my production code into StackOverflow..."}], "answers": [{"tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": false, "score": 1, "last_activity_date": 1444241029, "last_edit_date": 1444241029, "creation_date": 1444240718, "answer_id": 32999271, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/32999271#32999271", "title": "Initializing many private variables in one line", "body": "<pre><code>class Foo\n{\nprivate:\n    bool a1{}, a2{}, /*...,*/ a50{};\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5541, "user_id": 4367864, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mIepQ.png?s=128&g=1", "display_name": "PC Luddite", "link": "https://stackoverflow.com/users/4367864/pc-luddite"}, "edited": false, "score": 0, "creation_date": 1444243895, "post_id": 32999499, "comment_id": 53825007, "body": "How is this any less messy?"}], "tags": [], "owner": {"reputation": 1, "user_id": 5400756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/924132ec50bbad73a981612154230e55?s=128&d=identicon&r=PG&f=1", "display_name": "Yahia Bammoune", "link": "https://stackoverflow.com/users/5400756/yahia-bammoune"}, "is_accepted": false, "score": 0, "last_activity_date": 1444244017, "last_edit_date": 1444244017, "creation_date": 1444241488, "answer_id": 32999499, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/32999499#32999499", "title": "Initializing many private variables in one line", "body": "<p>try with this </p>\n\n<pre><code>Foo::Foo (bool aa) : a1 (aa) , a2 (aa), a3 (aa),/*......*/a50(aa){}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5541, "user_id": 4367864, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mIepQ.png?s=128&g=1", "display_name": "PC Luddite", "link": "https://stackoverflow.com/users/4367864/pc-luddite"}, "edited": false, "score": 0, "creation_date": 1444244076, "post_id": 32999724, "comment_id": 53825121, "body": "You didn&#39;t mention the much cleaner solution to use an array <code>a[50] { false };</code>"}, {"owner": {"reputation": 1433, "user_id": 1289981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8454c7cc0eca710fe02bb12997cd7f2f?s=128&d=identicon&r=PG", "display_name": "maxteneff", "link": "https://stackoverflow.com/users/1289981/maxteneff"}, "reply_to_user": {"reputation": 5541, "user_id": 4367864, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mIepQ.png?s=128&g=1", "display_name": "PC Luddite", "link": "https://stackoverflow.com/users/4367864/pc-luddite"}, "edited": false, "score": 0, "creation_date": 1444244274, "post_id": 32999724, "comment_id": 53825241, "body": "I do but read the comments to the question. There the author said that he intrested in exactly variable assignment which had meaningful names. As I understand names of variables in question selected for example."}], "tags": [], "owner": {"reputation": 1433, "user_id": 1289981, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8454c7cc0eca710fe02bb12997cd7f2f?s=128&d=identicon&r=PG", "display_name": "maxteneff", "link": "https://stackoverflow.com/users/1289981/maxteneff"}, "is_accepted": false, "score": 2, "last_activity_date": 1444242225, "creation_date": 1444242225, "answer_id": 32999724, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/32999724#32999724", "title": "Initializing many private variables in one line", "body": "<p>There are many possible ways to do it, but all of them are very similar. Anyway you will assign each your variable using different forms.</p>\n\n<p>The main method which I think the best is right assign all variables at your constructor line by line. May be its not compact, but it the most meaningful and you allways can easy look your variables default value:</p>\n\n<pre><code>Foo::Foo() {\n    a1 = false;\n    a2 = false;\n    /*...*/\n    a50 = false;\n} \n</code></pre>\n\n<p>Another method is which you described, with assign operators:</p>\n\n<pre><code>Foo::Foo() {\n    a1 = a2 = a3 /* = ... */ = a50 = false;\n}\n</code></pre>\n\n<p>And another one allows initialize variables right after constructor declaration:</p>\n\n<pre><code>Foo::Foo() : \n    a1(false),\n    a2(false),\n    /*...*/\n    a50(true)\n    { }\n</code></pre>\n\n<p>If I forget any method write it to comments, please.</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 1320956, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/055b8e40a3db1702617efea3a21d6e85?s=128&d=identicon&r=PG", "display_name": "vikrant", "link": "https://stackoverflow.com/users/1320956/vikrant"}, "is_accepted": false, "score": 0, "last_activity_date": 1444246576, "creation_date": 1444246576, "answer_id": 33000947, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/33000947#33000947", "title": "Initializing many private variables in one line", "body": "<p>You can have another class (in a separate header) which looks like following.</p>\n\n<pre><code>class myBool {\n  public:\n    myBool(int x = 1) { _m = x; }\n    operator bool() const { return  0 &lt; _m; }\n  private:\n    int _m;\n};\n</code></pre>\n\n<p>and in your file you can add following</p>\n\n<pre><code>#include \"myBool.h\"\n#define bool myBool\n</code></pre>\n\n<p>This will initialize all of bool to default value you set in myBool.  You may need to add some more methods to myBool class to use it as a full fledge data type. Above is the bare minimum to explain the answer.</p>\n"}, {"tags": [], "owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "is_accepted": false, "score": 0, "last_activity_date": 1444247151, "creation_date": 1444247151, "answer_id": 33001122, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/33001122#33001122", "title": "Initializing many private variables in one line", "body": "<p>Here is an alternative solution to the ones I've seen posted so far, in case it's useful to you.</p>\n\n<p>Put the data you want to mass-initialize to a default false/0 value in its own struct:</p>\n\n<pre><code>struct MyData\n{\n    bool a, b, c, d;\n    std::string e, f;\n};\n</code></pre>\n\n<p>Now inherit (privately or otherwise) from this struct, and explicitly initialize it in the constructor's initialization list:</p>\n\n<pre><code>class MyClass : private MyData\n{\npublic:\n    MyClass()\n        : MyData()\n    {\n\n    }\n};\n</code></pre>\n\n<p>This sets all the bools to false, the strings are empty, any ints become 0, pointers become null, etc, etc</p>\n\n<p><strong>If you forget to put the struct explicitly in the initialization list, some of its members may be uninitialized.</strong></p>\n"}, {"comments": [{"owner": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1444251586, "post_id": 33002197, "comment_id": 53829543, "body": "Not sure how this is less work than simply listing them in the initialization list."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "reply_to_user": {"reputation": 19932, "user_id": 2068573, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0e6f781a205f3521290f89c84dc5f95d?s=128&d=identicon&r=PG", "display_name": "Neil Kirk", "link": "https://stackoverflow.com/users/2068573/neil-kirk"}, "edited": false, "score": 0, "creation_date": 1444251701, "post_id": 33002197, "comment_id": 53829595, "body": "exactly the meaning of my first line!! :)"}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 0, "last_activity_date": 1444251081, "creation_date": 1444251081, "answer_id": 33002197, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/33002197#33002197", "title": "Initializing many private variables in one line", "body": "<p>Confirming that it always requires more work to be lazy in c++...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;utility&gt;\n\n\ntemplate&lt;class Tuple, std::size_t...Is&gt;\nvoid zero_out_impl(Tuple&amp; t, std::index_sequence&lt;Is...&gt;)\n{\n    using expand = bool[];\n    (void) expand { false, (std::get&lt;Is&gt;(t) = false)... };\n}\n\ntemplate&lt;class...Args&gt;\nvoid zero_out(std::tuple&lt;Args...&gt; t)\n{\n    zero_out_impl(t, std::index_sequence_for&lt;Args...&gt;());\n}\n\nstruct lots_of_bools {\n    lots_of_bools()\n    {\n        zero_out(std::tie(a,b,c,d,e,f,g,h,i,j));\n    }\nprivate:\n\n    bool a,b,c,d,e,f,g,h,i,j;\n};\n\nauto main() -&gt; int\n{\n    lots_of_bools x;\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 0, "last_activity_date": 1444251460, "creation_date": 1444251460, "answer_id": 33002285, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line/33002285#33002285", "title": "Initializing many private variables in one line", "body": "<p>Here's another way - wrap the bool in a wrapper that default-constructs it.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n\nstruct auto_false\n{\n    auto_false(bool initial = false) : value(initial) {};\n    operator bool() const { return value; }\n    operator bool&amp; () { return value; }\nprivate:\n    bool value;\n};\n\nstruct lots_of_bools {\n    lots_of_bools()\n    {\n    }\n\n    bool value_of_f() const {\n        return f;\n    }\n\n    void set_f(bool val) {\n        f = val;\n    }\n\nprivate:\n\n    auto_false a,b,c,d,e,f,g,h,i,j;\n};\n\nusing namespace std;\n\nauto main() -&gt; int\n{\n    lots_of_bools x;\n    cout &lt;&lt; x.value_of_f() &lt;&lt; endl;\n    x.set_f(true);\n    cout &lt;&lt; x.value_of_f() &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>0\n1\n</code></pre>\n"}], "owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 7, "score": 0, "last_activity_date": 1444251460, "creation_date": 1444240584, "question_id": 32999233, "link": "https://stackoverflow.com/questions/32999233/initializing-many-private-variables-in-one-line", "title": "Initializing many private variables in one line", "body": "<p>I'm working on legacy code which looks like the following:</p>\n\n<pre><code>class Foo {\n  public:\n    Foo();\n  private:\n    bool a1, a2, a3 /*, ...*/, a50;\n};\n\nFoo::Foo() {\n  a1 = a2 = a3 /* = ... */ = a50 = false;\n}\n</code></pre>\n\n<p>This is messy. Is there a way to default all private variables of the same time to a single value that's different from the above? I don't want to use an initializer list because there are so many variables.</p>\n\n<p>I know the default constructor of <code>bool</code> assigns false - can this be leveraged?</p>\n"}, {"tags": ["c++", "pointers", "memory", "memory-management", "allocation"], "comments": [{"owner": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "edited": false, "score": 0, "creation_date": 1444240747, "post_id": 32999202, "comment_id": 53823140, "body": "I don&#39;t get an error, program compiles and works fine, I say it won&#39;t let me because even after I did delete [ ] temp; I still can get access to that memory location."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1444240777, "post_id": 32999202, "comment_id": 53823168, "body": "Watch this video: <a href=\"https://www.youtube.com/watch?v=6pmWojisM_E\" rel=\"nofollow noreferrer\">youtube.com/watch?v=6pmWojisM_E</a> (and read some books)"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1444241168, "post_id": 32999202, "comment_id": 53823400, "body": "Raw arrays in C++ are not &quot;dynamic&quot; (they do not dynamically grow or shrink), but can be <i>dynamically allocated</i>."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 4, "last_activity_date": 1444240953, "last_edit_date": 1495539868, "creation_date": 1444240953, "answer_id": 32999336, "question_id": 32999202, "link": "https://stackoverflow.com/questions/32999202/deleting-memory-allocated-with-pointers-dynamic-array/32999336#32999336", "title": "Deleting memory allocated with pointers (dynamic array)", "body": "<blockquote>\n  <p>When I did <code>delete [ ] temp;</code> was the memory deallocated</p>\n</blockquote>\n\n<p>Of course it was! <code>delete</code> operator is very obedient, it assumes that if you ask it to delete a chunk of memory, then you are done with that chunk for good.</p>\n\n<blockquote>\n  <p>I think not because I had another pointer pointing to that location</p>\n</blockquote>\n\n<p>The moment you called <code>delete []</code> on the <code>temp</code> that other pointer became <em>dangling</em>. Dereferencing it is <a href=\"https://stackoverflow.com/q/2397984/335858\"><em>undefined behavior</em></a>, meaning that your program is invalid, even though it compiles or even runs to completion without a crash.</p>\n\n<blockquote>\n  <p>Is it possible to deallocate memory if more than one pointer is pointing to that memory location?</p>\n</blockquote>\n\n<p>Yes, that is, in fact, what happens.</p>\n\n<blockquote>\n  <p>Lets say that i am done with both pointers and i want to free the memory, what would be the best way to do it?</p>\n</blockquote>\n\n<p>Use smart pointers, e.g. <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"nofollow noreferrer\"><code>std::shared_ptr&lt;T&gt;</code></a>. This would let you avoid calling <code>delete</code> altogether.</p>\n"}, {"comments": [{"owner": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 1, "creation_date": 1444241572, "post_id": 32999342, "comment_id": 53823620, "body": "If by &quot;no mechanism&quot; you mean &quot;it ships with a standard library that can trivially handle it&quot; then yes."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 138660, "user_id": 298661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3445f56229632874a44596385ed6d40c?s=128&d=identicon&r=PG", "display_name": "Puppy", "link": "https://stackoverflow.com/users/298661/puppy"}, "edited": false, "score": 0, "creation_date": 1444241689, "post_id": 32999342, "comment_id": 53823694, "body": "@Puppy Smart pointers don&#39;t prevent use-after-delete afaik, am I missing something?"}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 1, "last_activity_date": 1444241834, "last_edit_date": 1444241834, "creation_date": 1444240968, "answer_id": 32999342, "question_id": 32999202, "link": "https://stackoverflow.com/questions/32999202/deleting-memory-allocated-with-pointers-dynamic-array/32999342#32999342", "title": "Deleting memory allocated with pointers (dynamic array)", "body": "<ol>\n<li><blockquote>\n  <p>When I did <code>delete [ ] temp;</code> was the memory deallocated</p>\n</blockquote>\n\n<p>Yes it was. Using the memory after deletion causes <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">undefined behavior</a>, i.e. anything can happen, including but not limited to: code compiles, code crashes, code runs as expected, \u2026 </p>\n\n<blockquote>\n  <p>if i do a loop to populate elements of <code>temp</code> I will still let me populate it even after I used <code>delete [ ] temp;</code></p>\n</blockquote>\n\n<p>C++ has no mechanism to prevent use-after-delete. If you're doing that then you're simply invoking undefined behavior.</p></li>\n<li><blockquote>\n  <p>Is it possible to deallocate memory if more than one pointer is pointing to that memory location?</p>\n</blockquote>\n\n<p>Yes. Again, there's nothing in C++ that's going to stop the programmer from doing this. You have to make sure your code is not double-deleting anything or accessing anything that has already been deallocated.</p></li>\n<li><blockquote>\n  <p>I cannot do <code>delete [ ] pointers;</code> because I never allocated memory for pointer I just pointed it to the temp memory address.</p>\n</blockquote>\n\n<p>You <em>can</em> delete the memory via <code>pointer</code> too. Any pointer that points to the allocated memory <strong>and has the same type that was used to allocate the memory</strong> can be used to delete it.</p>\n\n<p>Finally, do as dasblinkenlight said: avoid advanced manual memory handling like <code>new</code> and <code>delete</code>, and prefer <strong>smart pointers</strong> instead. They will automagically deallocate your memory 1) at the right time, and 2) only once. After that they reset themselves to <code>nullptr</code> making use-after-delete easy to spot.</p></li>\n</ol>\n"}], "owner": {"reputation": 193, "user_id": 2694894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b7d03ef9c959efa4a3c5eefb936da5e?s=128&d=identicon&r=PG&f=1", "display_name": "Fxbaez", "link": "https://stackoverflow.com/users/2694894/fxbaez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 32999342, "answer_count": 2, "score": 1, "last_activity_date": 1444241834, "creation_date": 1444240484, "last_edit_date": 1444241217, "question_id": 32999202, "link": "https://stackoverflow.com/questions/32999202/deleting-memory-allocated-with-pointers-dynamic-array", "title": "Deleting memory allocated with pointers (dynamic array)", "body": "<p>If I create 2 pointers: </p>\n\n<pre><code>int *pointer;\nint *temp;\n</code></pre>\n\n<p>and I allocate memory for one of them in this case <code>temp</code>:</p>\n\n<pre><code>temp = new int [ size ]; //size = 6\n</code></pre>\n\n<p>I then point my second pointer <code>pointer</code> to the same memory location:</p>\n\n<pre><code>pointer = temp;\n</code></pre>\n\n<p>If I want to deallocate temp:</p>\n\n<pre><code>delete [ ] temp;\n</code></pre>\n\n<p>it won\u2019t let me\u2026 And I say it won\u2019t let me because if I do a loop to populate elements of <code>temp</code> it will still let me populate it even after I used <code>delete [ ] temp;</code>. I am trying to understand what happens here so now my questions are:</p>\n\n<ol>\n<li>When I did <code>delete [ ] temp;</code> was the memory deallocated (I think not because I had another pointer pointing to that location) and if it wasn\u2019t\u2026 does that means the <code>delete [ ] temp;</code> had no effect?</li>\n<li>Is it possible to deallocate memory if more than one pointer is pointing to that memory location?</li>\n<li>Lets say that i am done with both pointers and I want to free the memory, what would be the best way to do it? I cannot do <code>delete [ ] pointers;</code> because I never allocated memory for pointer I just pointed it to the <code>temp</code> memory address.</li>\n</ol>\n\n<p>Note: I know that I can use vectors I am just trying to understand memory management while using pointers.</p>\n"}, {"tags": ["c++", "c", "buffer", "ipc", "fifo"], "comments": [{"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 0, "creation_date": 1444240532, "post_id": 32999150, "comment_id": 53823009, "body": "You can pump quite a few hundres of megabytes through a fifo in a second, so what exactly takes 2 seconds ? The buffer size is unlikely the fault here."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1444240973, "post_id": 32999150, "comment_id": 53823288, "body": "Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a Minimal, Complete, and Verifiable example."}, {"owner": {"reputation": 3319, "user_id": 865719, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/CSVe2.png?s=128&g=1", "display_name": "maddouri", "link": "https://stackoverflow.com/users/865719/maddouri"}, "edited": false, "score": 0, "creation_date": 1444247035, "post_id": 32999150, "comment_id": 53826991, "body": "We can&#39;t help you if you don&#39;t provide any code snippet. Nonetheless, I&#39;d suggest you take a look at <a href=\"http://beej.us/guide/bgipc/output/html/singlepage/bgipc.html#fifos\" rel=\"nofollow noreferrer\">Beej&#39;s Guide</a> and  <a href=\"http://www.tldp.org/LDP/lpg/node15.html#SECTION00730000000000000000\" rel=\"nofollow noreferrer\">TLDP</a> if you&#39;re new to Unix IPCs."}], "owner": {"reputation": 36, "user_id": 5372766, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fQw4UmRO97I/AAAAAAAAAAI/AAAAAAAACcQ/vbkaQtA06o0/photo.jpg?sz=128", "display_name": "mohamed larbi gharib", "link": "https://stackoverflow.com/users/5372766/mohamed-larbi-gharib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444240278, "creation_date": 1444240278, "last_edit_date": 1492086987, "question_id": 32999150, "link": "https://stackoverflow.com/questions/32999150/ipc-fifo-buffer-size", "title": "IPC Fifo buffer size", "body": "<p>Thank you for your help.</p>\n\n<p>I am developing two programs in C and C++ that communicate with interprocess communication based on FIFO files generated with mkfifo() by the first program. The communication works fine but it seems to be too slow it takes about 2 seconds to be read. I think that the buffer size of the fifo (by default on Squeeze 6 Debian Linux 2.6.32-5-amd64 x86_64 GNU/Linux 65336 bytes) is to big how can I reduce it ?</p>\n\n<p>By the way I have tried to find this file <strong>/proc/sys/fs/pipe-max-size</strong> but unfortunatly it is not present on my system  (shall I create it ?). (src=\"<a href=\"https://unix.stackexchange.com/questions/11946/how-big-is-the-pipe-buffer\">https://unix.stackexchange.com/questions/11946/how-big-is-the-pipe-buffer</a>\")</p>\n"}, {"tags": ["c++", "xcode", "cocos2d-x", "bounding-box", "spritebatch"], "comments": [{"owner": {"reputation": 544, "user_id": 2445733, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/WcN0U.jpg?s=128&g=1", "display_name": "ctapp1", "link": "https://stackoverflow.com/users/2445733/ctapp1"}, "edited": false, "score": 0, "creation_date": 1444313857, "post_id": 32999023, "comment_id": 53859779, "body": "Anyone have an idea?"}], "answers": [{"comments": [{"owner": {"reputation": 544, "user_id": 2445733, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/WcN0U.jpg?s=128&g=1", "display_name": "ctapp1", "link": "https://stackoverflow.com/users/2445733/ctapp1"}, "edited": false, "score": 0, "creation_date": 1444409983, "post_id": 33032401, "comment_id": 53907937, "body": "N.m I figured out a solution."}], "tags": [], "owner": {"reputation": 2883, "user_id": 1463174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9byqj.png?s=128&g=1", "display_name": "Filled Stacks", "link": "https://stackoverflow.com/users/1463174/filled-stacks"}, "is_accepted": false, "score": 0, "last_activity_date": 1444375611, "creation_date": 1444375611, "answer_id": 33032401, "question_id": 32999023, "link": "https://stackoverflow.com/questions/32999023/touch-detection-for-spritebatchnode/33032401#33032401", "title": "Touch detection for SpriteBatchNode", "body": "<p>Depends on which method you are using.</p>\n\n<ol>\n<li><p><strong>Armature skeletal animation:</strong> Are you using the cocostudio skeletal animation tool to create your animations? If you use that you will get a node with the correct bounding box wrapping your sprite tightly and adjusting when bones change position</p></li>\n<li><p><strong>Sprite sheet animation:</strong> If you are using a sprite sheet with a .plist file you can inspect the size reflected in the .plist file and set your batchNode size to the biggest one you find, or dynamically adjust it based on the sprite currently being shown. I think cocos does this by default.</p></li>\n<li><p><strong>Loading sprite frames:</strong> If you are loading individual sprites using spriteFrames, you can inspect the contentSize of the spriteFrame and set your bounding box manually. </p></li>\n</ol>\n\n<p>I have used all 3 and were always able to get the boundingBox size. Let me know if this helps. I used <a href=\"http://www.cocos2d-x.org/wiki/Sprite_Sheet_Animation\" rel=\"nofollow\">this</a> article to learn sprite sheet animations and just played around with cocos skeletal animation and figured that out as I was experimenting with it.</p>\n"}, {"tags": [], "owner": {"reputation": 544, "user_id": 2445733, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/WcN0U.jpg?s=128&g=1", "display_name": "ctapp1", "link": "https://stackoverflow.com/users/2445733/ctapp1"}, "is_accepted": true, "score": 0, "last_activity_date": 1444409953, "creation_date": 1444409953, "answer_id": 33043623, "question_id": 32999023, "link": "https://stackoverflow.com/questions/32999023/touch-detection-for-spritebatchnode/33043623#33043623", "title": "Touch detection for SpriteBatchNode", "body": "<p>Well I figured it out by getting the BoundingBox of the grandchild, which is a sprite. I was then able to do whatever I wanted to the spritebatchnode.</p>\n"}], "owner": {"reputation": 544, "user_id": 2445733, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/WcN0U.jpg?s=128&g=1", "display_name": "ctapp1", "link": "https://stackoverflow.com/users/2445733/ctapp1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 33043623, "answer_count": 2, "score": 0, "last_activity_date": 1444409953, "creation_date": 1444239875, "last_edit_date": 1444247218, "question_id": 32999023, "link": "https://stackoverflow.com/questions/32999023/touch-detection-for-spritebatchnode", "title": "Touch detection for SpriteBatchNode", "body": "<p>I am curious if anyone knows how to detect when a SpriteBatchNode has been touched since it's BoundingBox is always null. This is how I detect touch for single sprites.</p>\n\n<pre><code>Node *parentNode = event-&gt;getCurrentTarget();\nVector&lt;Node *&gt; children = parentNode-&gt;getChildren();\nPoint touchPosition = parentNode-&gt;convertTouchToNodeSpace(touch);\n\nfor (auto iter = children.rbegin(); iter != children.rend(); ++iter) {\n    childObject = *iter;\n\nif (childObject-&gt;getBoundingBox().containsPoint(touchPosition)){\n\n   //do something\n}\n</code></pre>\n\n<p>But in most cases I want my sprites to be animated hence using SpriteBatchNode. Any ideas? Can I get the BoundingBox of the grandchildren since they are a series of sprites?</p>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "edited": false, "score": 3, "creation_date": 1444239672, "post_id": 32998909, "comment_id": 53822566, "body": "Replaced C tag with C++ tag."}, {"owner": {"reputation": 187, "user_id": 3394063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2c8ef243037161f9f570204d5d743d?s=128&d=identicon&r=PG&f=1", "display_name": "RobStone", "link": "https://stackoverflow.com/users/3394063/robstone"}, "edited": false, "score": 0, "creation_date": 1444239738, "post_id": 32998909, "comment_id": 53822609, "body": "You are missing the changeby definition.  There should be a void Temp::ChangeBy( float D) { fah = ConvertCtoF(D); } sort of call somewhere beyond the end of this file?"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1444239801, "post_id": 32998909, "comment_id": 53822648, "body": "Your code does not anywhere change Fahrenheit to Celsius. C = (5/9)*(F-32)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 3, "creation_date": 1444239953, "post_id": 32998909, "comment_id": 53822717, "body": "Using a debugger is a lot faster than posting on StackOverflow and waiting for responses.  If you don&#39;t know how to use a debugger, invest time now."}, {"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "edited": false, "score": 0, "creation_date": 1444240387, "post_id": 32998909, "comment_id": 53822938, "body": "Where are the definitions for the <code>ChangeBy</code> and <code>Celcius</code> methods?  How were you able to build and run this code without them?  Did you forget to include them in the code you posted?  Also, <i>please</i> format your code to use consistent indentation and line spacing; it makes it a lot easier for other people to read and troubleshoot."}, {"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444242759, "post_id": 32998909, "comment_id": 53824337, "body": "I think I must have didn&#39;t paste it correctly sorry."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444244198, "post_id": 33000080, "comment_id": 53825188, "body": "I get two errors when doing changing the return function to fahr to cels equations and also I get a error with the changing the T.Celsius  to an output stream"}, {"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "reply_to_user": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245024, "post_id": 33000080, "comment_id": 53825733, "body": "@Miahjer: what are the errors?  DId you update both the declaration <i>and</i> the definition?"}, {"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245095, "post_id": 33000080, "comment_id": 53825782, "body": "Return value type doesn&#39;t match the function type."}, {"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245277, "post_id": 33000080, "comment_id": 53825901, "body": "Then on the main function it says the operators doesn&#39;t match these opperands"}, {"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "reply_to_user": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245306, "post_id": 33000080, "comment_id": 53825924, "body": "@Miahjer: Ah.  There are three possible solutions.  One, you could cast the expression in <code>Celcius</code> to <code>float</code>: <code>return (float) ((5.0&#47;9.0) * (Fah - 32.0));</code>.  Two, you could use a <code>f</code> suffix on the floating-point constants: <code>return (5.0f &#47; 9.0f) * (Fah - 32.0f);</code>.  Or, finally, you could use <code>double</code> instead of <code>float</code> for everything (which I would recommend; unless you&#39;re really squeezed for space, use <code>double</code>).  The problem is that floating-point constants like <code>5.0</code> have type <code>double</code>, so the result of the expression is <code>double</code>."}, {"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245729, "post_id": 33000080, "comment_id": 53826195, "body": "I did all three solutions for it and it still says the same thing"}, {"owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444245957, "post_id": 33000080, "comment_id": 53826334, "body": "Well I have a question the comment says it has to Print the Celsius temperature corresponding to the private Fahrenheit equivalent temperatures. So I don&#39;t have to make a cout statement for the Celsius function?"}, {"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "reply_to_user": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "edited": false, "score": 0, "creation_date": 1444249406, "post_id": 33000080, "comment_id": 53828409, "body": "@Miahjer: see my edit.  I&#39;ve slightly rewritten your code to show what I mean."}], "tags": [], "owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "is_accepted": false, "score": 1, "last_activity_date": 1444249382, "last_edit_date": 1444249382, "creation_date": 1444243507, "answer_id": 33000080, "question_id": 32998909, "link": "https://stackoverflow.com/questions/32998909/conversion-fahrenheit-to-celsius-using-class-c/33000080#33000080", "title": "Conversion Fahrenheit to Celsius using class c", "body": "<p>So, one issue:</p>\n\n<pre><code>void Temp::ChangeBy(float D)\n{\n    Fah = (5.0/9)* (Fah - 32);    \n}\n</code></pre>\n\n<p>This method does not do what you say it does in the class declaration; your comment says that it updates <code>Fah</code> by the number of <em>Fahrenheit</em> degrees passed to it.  </p>\n\n<p>If I may suggest the following changes:\n\n<li> First, have <code>ChangeBy</code> simply add the input value to <code>Fah</code>:<pre><code>void Temp::ChangeBy( float D )\n{\n  Fah += D;\n}</code></pre>\n<li> Second, have the <code>Celcius</code> method do the conversion <em>and return the converted value</em>:<pre><code>float Temp::Celcius()\n{\n  return (5.0/9.0) * (Fah - 32.0);\n}\n</code></pre>\n<li> Finally, in your <code>main</code> function, write the output of <code>Temp::Celcius()</code> to the output stream:<pre><code>std::cout &lt;&lt; T.Celcius() &lt;&lt; std::endl;</code></pre></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I took the liberty of rewriting your code to show what I mean; there isn't enough space in a single comment to really get the point across:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Temp\n{\n    public:\n\n        Temp( float f = 32.0 );     // slight change here \n        void InputF(float F);\n        float Celsius() const;      // note return type, addition of const\n        void ChangeBy(float D);\n        float Fahrenheit() const;   // note addition of const\n\n    private:\n\n        float Fah;\n};\n\nint main() {\n    float FF;\n    Temp T;\n\n    cout &lt;&lt; T.Celsius();  // Note that we output the result of Celsius in \n                          // exactly the same manner that we do for \n                          // Fahrenheit below.\n    cout &lt;&lt; endl; \n    cout &lt;&lt; \"Input a Fahrenheit temp: \";\n    cin &gt;&gt; FF;\n    T.InputF(FF);\n    cout &lt;&lt; T.Fahrenheit() &lt;&lt; endl;    \n    T.ChangeBy(34);\n    cout &lt;&lt; T.Fahrenheit() &lt;&lt; endl;\n    return 0;\n\n}\n\n/**\n * Slight change here; we're using a member initializer, rather than \n * assigning Fah in the body of the constructor.  For a simple class\n * like this it doesn't matter, but when you start getting into derived\n * and virtual classes, using this method will make sure things get\n * initialized in the right places and in the right order.\n */\nTemp::Temp( float f ) : Fah(f) {\n}\n\nvoid Temp::InputF(float F) {\n    Fah = F;\n}\n\nfloat Temp::Celsius() const {\n    return (5.0f / 9.0f) * ( Fah - 32.0f ); // use f suffix for float constants\n}\n\nvoid Temp::ChangeBy(float D) {\n    Fah += D;    // Update the value of Fah by the input value; the code you\n                 // posted isn't using the value of D to update Fah, it was\n                 // simply converting Fah to Celsius.  \n}\n\nfloat Temp::Fahrenheit() const {\n    return Fah;\n}\n</code></pre>\n\n<p>This code builds and runs on a Linux system using <code>g++</code> with the <code>-pedantic -Wall -Werror</code> flags.  </p>\n\n<p>So, I've changed the return type of <code>Celsius</code> from <code>void</code> to <code>float</code>; instead of having <code>Celsius</code> print the value, it simply returns the value to <code>main</code>.  This way <code>Celsius</code> doesn't have to worry about <em>where</em> the output gets written (what if you wanted to write to a file instead of <code>cout</code>, for example), and its focus is now much narrower.  </p>\n\n<p>I also changed the <code>ChangeBy</code> function; in the implementation you pasted above, you aren't actually <em>using</em> the input parameter <code>D</code> to change the value of <code>Fah</code>; you're simply converting the value of <code>Fah</code> from Fahrenheit to Celcius.  </p>\n\n<p>Notice that I also added the trailing <code>const</code> qualifier to the <code>Fahrenheit</code> and <code>Celsius</code> methods.  This indicates that these two methods will not attempt to update any data internal to <code>Temp</code>.  It's a good idea to make such \"query\" methods <code>const</code> in this manner; it keeps you from writing code that makes changes where it shouldn't.  </p>\n"}], "owner": {"reputation": 1, "user_id": 5419719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f88f113ce6e991bbd3366a8c6ccb15?s=128&d=identicon&r=PG&f=1", "display_name": "Miahjer", "link": "https://stackoverflow.com/users/5419719/miahjer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1322, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444249382, "creation_date": 1444239504, "last_edit_date": 1444243035, "question_id": 32998909, "link": "https://stackoverflow.com/questions/32998909/conversion-fahrenheit-to-celsius-using-class-c", "title": "Conversion Fahrenheit to Celsius using class c", "body": "<p>Hello everyone I'm having a problem. I'm fairly new and been stuck trying to solve it. </p>\n\n<p>When I run it the first part where it prints 0 for the Fahrenheit to Celsius is correct but once I input a number it just prints the number I input. I know it probably a simple answer but thank you for your time.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Temp\n{\n    public:\n\n        Temp(); //CONSTRUCTOR: Sets private variable for Fahrenheit to 32\n\n        void InputF(float F); //Initialize Fahrenheit temperature to F\n\n        void Celsius(); //PRINTS the Celsius temperature corresponding to\n\n        // the private Fahrenheit equivalent temperature\n\n        void ChangeBy(float D); //Changes the private Fahrenheit temperature\n\n        // by D degrees. \n\n        float Fahrenheit(); // returns the value of the private Fahrenheit temp\n\n    private:\n\n        float Fah; //Fahrenheit Temperature\n};\n\nint main() {\n    float FF;\n\n    Temp T; // Temperature Object\n\n    T.Celsius(); \n\n    cout &lt;&lt; endl; //Note that the value will be 0 since the private variable is 32. \n\n    cout &lt;&lt; \"Input a Fahrenheit temp: \";\n\n    cin &gt;&gt; FF;\n\n    T.InputF(FF);\n\n    cout &lt;&lt; T.Fahrenheit() &lt;&lt; endl;;\n\n    T.ChangeBy(34);\n\n    cout &lt;&lt; T.Fahrenheit() &lt;&lt; endl;\n\n    system(\"Pause\");\n\n    return 0;\n\n}\n\nTemp::Temp() {\n    Fah = 32;\n}\n\nvoid Temp::InputF(float F) {\n    Fah = F;\n}\n\nvoid Temp::Celsius() {\n    cout &lt;&lt; Fah;\n}\n\nvoid Temp::ChangeBy(float D) {\n    Fah = (5.0 / 9) * (Fah - 32);\n}\n\nfloat Temp::Fahrenheit() {\n    return Fah;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "visual-studio-2015"], "answers": [{"tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": -1, "last_activity_date": 1488537798, "last_edit_date": 1488537798, "creation_date": 1444239661, "answer_id": 32998961, "question_id": 32998902, "link": "https://stackoverflow.com/questions/32998902/msvcp140-dll-missing/32998961#32998961", "title": "MSVCP140.dll missing", "body": "<p>That's probably the C++ runtime library.  Since it's a DLL it is not included in your program executable.  Your friend can download those libraries from Microsoft.</p>\n"}, {"comments": [{"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 1, "creation_date": 1444241478, "post_id": 32998963, "comment_id": 53823568, "body": "This is one of the things that applications have to contend with as part of their deployment/setup as not everything your application uses is built into the OS. See <a href=\"https://msdn.microsoft.com/en-us/library/zebw5zk9.aspx\" rel=\"nofollow noreferrer\">Deploying Native Desktop Applications (Visual C++)</a>. Note that if your application was a Windows Store application, the Store takes care of deploying the Visual C++ CRT for you."}, {"owner": {"reputation": 2284, "user_id": 874701, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/364eb4db2d425fb2d0f774aa4c65eec2?s=128&d=identicon&r=PG", "display_name": "matth", "link": "https://stackoverflow.com/users/874701/matth"}, "edited": false, "score": 1, "creation_date": 1499852544, "post_id": 32998963, "comment_id": 77081391, "body": "I am getting the same error on my PC, even though I have the full Visual Studio 2015 installed. The redistributable installer quits, saying that a newer version is already installed. Any thoughts?"}, {"owner": {"reputation": 939, "user_id": 1246117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e7ff09de72724c2415872886fc1f9bf?s=128&d=identicon&r=PG", "display_name": "Timothy John Laird", "link": "https://stackoverflow.com/users/1246117/timothy-john-laird"}, "edited": false, "score": 6, "creation_date": 1521140208, "post_id": 32998963, "comment_id": 85616540, "body": "Be aware, you need to install the version (32 vs 64 bit) of the vc redist that matches how your DLL was compiled, not the OS."}], "tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": false, "score": 68, "last_activity_date": 1444240032, "last_edit_date": 1444240032, "creation_date": 1444239669, "answer_id": 32998963, "question_id": 32998902, "link": "https://stackoverflow.com/questions/32998902/msvcp140-dll-missing/32998963#32998963", "title": "MSVCP140.dll missing", "body": "<p>Your friend's PC is missing the runtime support DLLs for your program:</p>\n\n<ul>\n<li><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"noreferrer\">Visual C++ Redistributable for Visual Studio 2015</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 4379731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ffb6b96aeed77199505391954aedd4b?s=128&d=identicon&r=PG", "display_name": "BlindGarret", "link": "https://stackoverflow.com/users/4379731/blindgarret"}, "is_accepted": false, "score": 2, "last_activity_date": 1568146833, "last_edit_date": 1568146833, "creation_date": 1444239826, "answer_id": 32999010, "question_id": 32998902, "link": "https://stackoverflow.com/questions/32998902/msvcp140-dll-missing/32999010#32999010", "title": "MSVCP140.dll missing", "body": "<p>That usually means that your friend does not have the Microsoft redistributable for Visual C++. I am of course assuming you are using VC++ and not MingW or another compiler. Since your friend does not have VS installed as well there is no guarantee he has the redist installed. </p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow noreferrer\">VC++ Distro</a></p>\n"}, {"comments": [{"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 0, "creation_date": 1444419663, "post_id": 32999084, "comment_id": 53912782, "body": "Could you maybe add numbers how big a &quot;hello world.exe&quot; is with dynamic and static linking?"}, {"owner": {"reputation": 28147, "user_id": 3857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TOHg8.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/3857/andy"}, "reply_to_user": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 4, "creation_date": 1448034515, "post_id": 32999084, "comment_id": 55426379, "body": "@Kay Static linking typically only includes what is needed, not everything in the library. The size increase of the executable will be based on how much of the C runtime is used."}, {"owner": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1466521577, "post_id": 32999084, "comment_id": 63345003, "body": "Actually, there is no need to link against the debug version of the runtime, except you want to debug the runtime-library."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 4, "creation_date": 1470853214, "post_id": 32999084, "comment_id": 65122715, "body": "Do not link using /MTd if you plan to redistribute the software. The debug run-time is not included in the redistributable installer."}], "tags": [], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "is_accepted": true, "score": 86, "last_activity_date": 1495053157, "last_edit_date": 1495053157, "creation_date": 1444240088, "answer_id": 32999084, "question_id": 32998902, "link": "https://stackoverflow.com/questions/32998902/msvcp140-dll-missing/32999084#32999084", "title": "MSVCP140.dll missing", "body": "<p>Either make your friends download the runtime DLL (@Kay's answer), or compile the app with static linking.</p>\n\n<p>In visual studio, go to <code>Project tab -&gt; properties - &gt; configuration properties -&gt; C/C++ -&gt; Code Generation</code> on runtime library choose <code>/MTd</code> for debug mode and <code>/MT</code> for release mode.</p>\n\n<p>This will cause the compiler to embed the runtime into the app. The executable will be significantly bigger, but it will run without any need of runtime dlls.</p>\n"}], "owner": {"reputation": 861, "user_id": 5323015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2febf082dc4a58d3b7ac5d728017a1?s=128&d=identicon&r=PG&f=1", "display_name": "deniskrr", "link": "https://stackoverflow.com/users/5323015/deniskrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187923, "favorite_count": 22, "protected_date": 1488507575, "accepted_answer_id": 32999084, "answer_count": 4, "score": 63, "last_activity_date": 1568146833, "creation_date": 1444239468, "last_edit_date": 1444239806, "question_id": 32998902, "link": "https://stackoverflow.com/questions/32998902/msvcp140-dll-missing", "title": "MSVCP140.dll missing", "body": "<p>I just developed my first program in C++ and I wanted to show it with one of my friends. Sadly, when he tries to open the exe it gets an error which says \"MSVCP140.dll is missing\". Why is this issue happening and how can he/I fix it?</p>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1444239470, "post_id": 32998807, "comment_id": 53822456, "body": "The <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4387.html\" rel=\"nofollow noreferrer\">proposal that added</a> that to the draft standard has some examples."}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 6, "creation_date": 1444239470, "post_id": 32998807, "comment_id": 53822457, "body": "In your example both constructors are the same because default arguments are not apart of the signature. Perhaps something like <a href=\"http://coliru.stacked-crooked.com/a/6db9921c59138c60\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/6db9921c59138c60</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1444239563, "post_id": 32998807, "comment_id": 53822513, "body": "My god it&#39;s just.. horrible! No C++17 for me, that&#39;s settled."}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1444240461, "post_id": 32998807, "comment_id": 53822976, "body": "it&#39;s funny that the comittee discusses on &quot;crucial&quot; features like if teh tuple constructor should be explicit or not instead of discussing really usefull things we&#39;re laking like http (which they have decided that it is out of scope for C++0z). thanks comitee!"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1444240786, "post_id": 32998807, "comment_id": 53823176, "body": "See libstdc++&#39;s <a href=\"https://github.com/gcc-mirror/gcc/blob/master/libstdc%2B%2B-v3/include/std/tuple#L550-L570\" rel=\"nofollow noreferrer\">implementation</a>, it&#39;s exactly what Shafik posted. @LightnessRacesinOrbit IMO, this is a nice fix because it lets you write <code>return {x ,y, z};</code> in a function returning a <code>tuple&lt;Tx, Ty, Tz&gt;</code> assuming all the types involved are implicitly convertible."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1444241086, "post_id": 32998807, "comment_id": 53823363, "body": "@Praetorian when I first saw that you could return like that I thought they&#39;d accepted the paper that allowed returned init lists to use explicit constructors, then I was sad"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1444243565, "post_id": 32998807, "comment_id": 53824802, "body": "Really they should just add a new language feature that lets you define <code>template &lt;typename... Ts&gt; struct tuple { Ts... v; };</code> and just call it a day."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1444260339, "post_id": 32998807, "comment_id": 53833004, "body": "@Praetorian: It may lead to useful outcomes but its implementation, and the hackery that inevitably ensues, is just gruesome. That&#39;s not the feature&#39;s fault: it&#39;s the patchwork language&#39;s fault. Surely it&#39;s time to put this hipster nightmare out of its misery?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 2, "creation_date": 1444265809, "post_id": 32998807, "comment_id": 53834469, "body": "@David: Successfully convincing people who want to think about X that they shouldn&#39;t until Y is settled often just means neither X nor Y happens. :P"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1444253180, "post_id": 32999125, "comment_id": 53830308, "body": "Note that under a strict reading of the standard, the above code could be ill-defined for some types <code>T</code>.  Such code in <code>std</code> isn&#39;t a problem, because the implementation of <code>std</code> is a <i>black box</i> (they are free to do UB or have a technically ill-formed program, so long as the compiler does the right thing in response to said UB/ill formedness).  The question is, must a template method of a template class have a at least one valid instantiation for each set of valid template class parameters?  The standard is unclear last I checked."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444256457, "post_id": 32999125, "comment_id": 53831745, "body": "@Yakk I won&#39;t be able to make any real edits for a while but I believe you are correct. I had the inking but I let the thought slip away."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444274580, "post_id": 32999125, "comment_id": 53836679, "body": "@Yakk I can&#39;t seem to find a quote that applies exactly to this case, if I am reading correctly I think the requirement is a valid instantiation not necessarily for each set of parameters. Do you have any defect reports etc...?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1444275908, "post_id": 32999125, "comment_id": 53836995, "body": "&quot;If no valid specialization can be generated for a template, and that template is not instantiated, the template is ill-formed, no diagnostic required.&quot; [temp.res]/8 in n4527.  As a guess to why, it appears to be a catch all for &quot;compilers are free to detect template code that could not be valid for any type&quot; (which also opens up the possibility of adding more checks of validity to the standard).  The question is, does this apply to template methods of template class instances, or not?"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444296367, "post_id": 32999125, "comment_id": 53846982, "body": "@Yakk  I saw that but it is not clear if it applies to this case or not, I am going to dig into it a little more today."}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444572381, "post_id": 32999125, "comment_id": 53950598, "body": "@Yakk according to a DR resoution, template definitions are never instantiated as template definitions, so if there is a member template of a class template, and we instantiate the surrounding class template, we never instantiate a member template until the member template has all its surrounding parameters resolved. This was the result of clarification for <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1532\" rel=\"nofollow noreferrer\">open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1532</a> . Notice that there can only be a problem for explicit instantiation. For implicit instantiation, the definition of members aren&#39;t instantiated anyway."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444572485, "post_id": 32999125, "comment_id": 53950638, "body": "@jona the clause actually says the program is ill formed <i>without</i> being instantiated tho..."}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444572992, "post_id": 32999125, "comment_id": 53950805, "body": "@Yakk but it can only be ill-formed if it exists. Prior to doing any instantiation, there only exists the class template, and a member template. If for any combination of T and U there would be a valid instantiation, all is fine. And for the code in the question, this is the case. If you choose <code>struct B { ... }</code> for <code>T</code> and manage so that it cannot be constructed from anything, that doesn&#39;t make the program ill-formed because there is no template beyond <code>A&lt;B&gt;</code> that was instantiated as/to a template at this point, so there is no template that can be ill-formed either."}], "tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 16, "last_activity_date": 1563965243, "last_edit_date": 1563965243, "creation_date": 1444240221, "answer_id": 32999125, "question_id": 32998807, "link": "https://stackoverflow.com/questions/32998807/constructor-conditionally-marked-explicit/32999125#32999125", "title": "Constructor conditionally marked explicit", "body": "<p>The proposal that added that <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4387.html\" rel=\"nofollow noreferrer\">N4387: Improving pair and tuple, revision 3</a> has an example of how it works:</p>\n\n<blockquote>\n  <p>Consider the following class template A that is intended to be used\n  as a wrapper for some other type T:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n#include &lt;utility&gt;\n\ntemplate&lt;class T&gt;\nstruct A {\n  template&lt;class U,\n    typename std::enable_if&lt;\n      std::is_constructible&lt;T, U&gt;::value &amp;&amp;\n      std::is_convertible&lt;U, T&gt;::value\n    , bool&gt;::type = false\n  &gt;\n  A(U&amp;&amp; u) : t(std::forward&lt;U&gt;(u)) {}\n\n template&lt;class U,\n    typename std::enable_if&lt;\n      std::is_constructible&lt;T, U&gt;::value &amp;&amp;\n      !std::is_convertible&lt;U, T&gt;::value\n    , bool&gt;::type = false\n  &gt;\n  explicit A(U&amp;&amp; u) : t(std::forward&lt;U&gt;(u)) {}\n\n  T t;\n};\n</code></pre>\n  \n  <p>The shown constructors both use perfect forwarding and they have\n  essentially the same signatures except for one being explicit, the\n  other one not. Furthermore, they are mutually exclusively constrained.\n  In other words: This combination behaves for any destination type T\n  and any argument type U like a single constructor that is either\n  explicit or non-explicit (or no constructor at all).</p>\n</blockquote>\n\n<p>As Praetorian points out this is exactly how <a href=\"https://github.com/gcc-mirror/gcc/blob/master/libstdc%2B%2B-v3/include/std/tuple#L550-L570\" rel=\"nofollow noreferrer\">libstdc++ implements it</a>.</p>\n\n<p>If we modify the OPs example accordingly, it also works:</p>\n\n<pre><code>struct S {\n  template &lt;typename T,\n            typename std::enable_if&lt; std::is_integral&lt;T&gt;::value, bool&gt;::type = false&gt;\n  S(T) {}\n\n  template &lt;typename T,\n            typename std::enable_if&lt;!std::is_integral&lt;T&gt;::value, bool&gt;::type = false&gt;\n  explicit S(T) {}\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 5, "creation_date": 1444253387, "post_id": 32999369, "comment_id": 53830400, "body": "<code>typename std::enable_if&lt;test, int&gt;* =0</code> works without the <code>dummy</code>."}], "tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": false, "score": 5, "last_activity_date": 1528216987, "last_edit_date": 1528216987, "creation_date": 1444241048, "answer_id": 32999369, "question_id": 32998807, "link": "https://stackoverflow.com/questions/32998807/constructor-conditionally-marked-explicit/32999369#32999369", "title": "Constructor conditionally marked explicit", "body": "<p>One way that seems to work with most compilers is to add a dummy parameter to one of the functions, to make them slightly different.</p>\n\n<pre><code>// constructor is explicit if T is integral\n\nstruct S {\n  template &lt;typename T,\n            typename = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt;\n  S(T t) {}\n\n  template &lt;typename T,\n            typename = typename std::enable_if&lt;!std::is_integral&lt;T&gt;::value&gt;::type,\n            typename dummy = void&gt;\n  explicit S(T t) {}\n};\n\nint main()\n{\n   S  s1(7);\n\n   S  s2(\"Hello\");    \n}\n</code></pre>\n\n<p>Compiles with MSVC 2015.</p>\n"}], "owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 7, "accepted_answer_id": 32999125, "answer_count": 2, "score": 32, "last_activity_date": 1563965243, "creation_date": 1444239122, "last_edit_date": 1538356587, "question_id": 32998807, "link": "https://stackoverflow.com/questions/32998807/constructor-conditionally-marked-explicit", "title": "Constructor conditionally marked explicit", "body": "<p><strong>Update:</strong> <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0892r1.html\" rel=\"noreferrer\">conditional explicit</a> has made it into the C++20 draft. <a href=\"https://en.cppreference.com/w/cpp/language/explicit\" rel=\"noreferrer\">more on cppreference</a></p>\n\n<p>The <a href=\"http://en.cppreference.com/w/cpp/utility/tuple/tuple\" rel=\"noreferrer\">cppreference std::tuple constructor page</a> has a bunch of C++17 notes saying things like:</p>\n\n<blockquote>\n  <p>This constructor is <code>explicit</code> if and only if <code>std::is_convertible&lt;const Ti&amp;, Ti&gt;::value</code> is false for at least one <code>i</code></p>\n</blockquote>\n\n<p>How can one write a constructor that is conditionally explicit? The first possibility that came to mind was <code>explicit(true)</code> but that's not legal syntax.</p>\n\n<p>An attempt with <code>enable_if</code> was unsuccessful:</p>\n\n<pre><code>// constructor is explicit if T is not integral\nstruct S {\n  template &lt;typename T,\n            typename = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt;\n  S(T) {}\n\n  template &lt;typename T,\n            typename = typename std::enable_if&lt;!std::is_integral&lt;T&gt;::value&gt;::type&gt;\n  explicit S(T) {}\n};\n</code></pre>\n\n<p>with the error:</p>\n\n<pre><code>error: \u2018template&lt;class T, class&gt; S::S(T)\u2019 cannot be overloaded\nexplicit S(T t) {}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2010", "clr", "virtual"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1444240202, "post_id": 32998717, "comment_id": 53822844, "body": "You have only shown the declaration of <code>Voice()</code>. Do you have an implementation as well?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3463778"}, "reply_to_user": {"reputation": 15, "user_id": 4181829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74259ce31a5e991298da1702163965fa?s=128&d=identicon&r=PG&f=1", "display_name": "prazza", "link": "https://stackoverflow.com/users/4181829/prazza"}, "edited": false, "score": 0, "creation_date": 1444243447, "post_id": 32999381, "comment_id": 53824728, "body": "You&#39;re welcome! Take a look at my edited example. You forgot to define the accessor functions."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3463778"}, "is_accepted": true, "score": 0, "last_activity_date": 1444245173, "last_edit_date": 1444245173, "creation_date": 1444241088, "answer_id": 32999381, "question_id": 32998717, "link": "https://stackoverflow.com/questions/32998717/cant-create-virtual-class-in-clr-c/32999381#32999381", "title": "Can&#39;t create virtual class in CLR C++", "body": "<p>Include bodies for Show(), Voice(), Reptile() and ~Reptile() and it will work. Like that:</p>\n\n<pre><code>virtual void Show() {};\nvirtual void Voice() {};\nReptile() {};\n~Reptile() {};\n</code></pre>\n\n<p>Below you can see a working example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass Reptile\n{\nprivate:\n    char* diet;\n    string title;\n    double weight;\n    int lifespan;\n    char* sex;\n\npublic:\n    char* getDiet()\n    {\n        return diet;\n    };\n\n    void setDiet(char* newDiet)\n    {\n        diet = newDiet;\n    };\n\n    string getTitle()\n    {\n        return title;\n    }\n\n    void setTitle(string newTitle)\n    {\n        title = newTitle;\n    }\n\n    double getWeight()\n    {\n        return weight;\n    }\n\n    double setWeight(double newWeight)\n    {\n        weight = newWeight;\n    }\n\n    int getLifespan()\n    {\n        return lifespan;\n    }\n\n    void setLifeSpan(int newLifespan)\n    {\n        lifespan = newLifespan;\n    }\n\n    char* getSex()\n    {\n        return sex;\n    }\n\n    void setSex(char* newSex)\n    {\n        sex = newSex;\n    }\n\n    // make them pure virtual functions\n    virtual void Show() = 0;\n    virtual void Voice() = 0;\n\n    Reptile() {};\n    ~Reptile() {};\n};\n\nclass Dinosaur : public Reptile\n{\npublic:\n    virtual void Show()\n    {\n        cout &lt;&lt; \"Showing dino\" &lt;&lt; endl;\n    }\n\n    virtual void Voice()\n    {\n        cout &lt;&lt; \"Rawrrrrr!\" &lt;&lt; endl;\n    }\n};\n\nint main()\n{\n    Reptile *dino1 = new Dinosaur();\n    dino1-&gt;setSex(\"M\");\n    dino1-&gt;setTitle(\"T-Rex\");\n\n    cout &lt;&lt; \"Type: \" &lt;&lt; dino1-&gt;getTitle() &lt;&lt; endl;\n    cout &lt;&lt; \"Sex: \" &lt;&lt; dino1-&gt;getSex() &lt;&lt; endl;\n    dino1-&gt;Show();\n    dino1-&gt;Voice();\n\n    delete dino1;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4181829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74259ce31a5e991298da1702163965fa?s=128&d=identicon&r=PG&f=1", "display_name": "prazza", "link": "https://stackoverflow.com/users/4181829/prazza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 32999381, "answer_count": 1, "score": -1, "last_activity_date": 1444245173, "creation_date": 1444238878, "last_edit_date": 1444238937, "question_id": 32998717, "link": "https://stackoverflow.com/questions/32998717/cant-create-virtual-class-in-clr-c", "title": "Can&#39;t create virtual class in CLR C++", "body": "<p>I'm working around simple program In MSVS 2010 which is Windows form application, and suddenly reached really weird problem: I can't create virtual functions in class.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#pragma once;\n#include &lt;string&gt;\n\nusing namespace std;\nusing namespace System;\nclass Reptile\n{\n    private:\n    char *diet;\n    string title;\n    double weight;\n    int lifespan;\n    char sex;\n\npublic:\n\n   char* getDiet();\n\n   bool setDiet(char* newDiet);\n\nstring getTitle();\nbool setTitle(string newTitle);\n\ndouble getWeight();\nbool setWeight(double newWeight);\n\nint getLifespan();\nbool setLifeSpan(int newLifespan);\n\nchar getSex();\nvoid setSex(char newSex);\n\nvirtual void Show(void);\nvirtual void Voice(void);\n~Reptile();\nReptile(); };\n</code></pre>\n\n<p>It throws error like this:</p>\n\n<blockquote>\n  <p>Reptile.obj : error LNK2028: unresolved token (0A00000E) \"public: virtual void __clrcall Reptile::Voice(void)\" (?Voice@Reptile@@$$FUAMXXZ) referenced in function \"void __clrcall dynamic initializer for 'const Reptile::vftable'''(void)\" (???__E??_7Reptile@@6B@@@YMXXZ@?A0xc2bc2ccd@@$$FYMXXZ)</p>\n</blockquote>\n\n<p>I really cant figure out how to handle it because I'm not very familiar with clr and stuff.</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444238729, "post_id": 32998635, "comment_id": 53821984, "body": "And?  You haven&#39;t asked an actual question."}, {"owner": {"reputation": 41, "user_id": 4534792, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/74b9fba008b385438ef6540b7c29982c?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Johnson", "link": "https://stackoverflow.com/users/4534792/edgar-johnson"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444238919, "post_id": 32998635, "comment_id": 53822100, "body": "I updated the program. Sorry about that, Im still new to stack overflow"}], "answers": [{"tags": [], "owner": {"reputation": 1356, "user_id": 4358137, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bfsy9.jpg?s=128&g=1", "display_name": "Seth Kitchen", "link": "https://stackoverflow.com/users/4358137/seth-kitchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1444239036, "creation_date": 1444239036, "answer_id": 32998770, "question_id": 32998635, "link": "https://stackoverflow.com/questions/32998635/how-would-i-make-program-subtract-the-previous-temp-and-current-temp/32998770#32998770", "title": "How would I make program subtract the previous temp and current temp", "body": "<p>You have it commented in your code? I don't understand </p>\n\n<pre><code>difference = temperature-previousTemp;\n</code></pre>\n\n<p>You can keep track of previousTemp at the end of your loop.\nAfter everything in the loop put</p>\n\n<pre><code>previousTemp=temperature;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4534792, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/74b9fba008b385438ef6540b7c29982c?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Johnson", "link": "https://stackoverflow.com/users/4534792/edgar-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444239036, "creation_date": 1444238655, "last_edit_date": 1444238811, "question_id": 32998635, "link": "https://stackoverflow.com/questions/32998635/how-would-i-make-program-subtract-the-previous-temp-and-current-temp", "title": "How would I make program subtract the previous temp and current temp", "body": "<p>An interactive C++ program whose input is a series of 12 temperatures from the user. It should write out on file tempdata.dat each temperature as well as the difference between the current temperature and the one preceding it. The difference is not output for the first temperature that is input. At the end of the program, the average temperature should be displayed for the user via cout.</p>\n\n<p>Here is What I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nint main() {\n\n    int counter = 0;\n    int previousTemp;\n    ofstream file; //declares a file of type ofstream\n    file.open(\"temperaturefile.txt\"); //opens the file with open method\n    int temperature = 0;\n    int difference = 0;\n    cout &lt;&lt; \"Enter 12 temperatutes\" &lt;&lt; endl;\n\n    file &lt;&lt; temperature;\n\n    while (counter &lt; 12)\n    {\n\n        cin &gt;&gt; temperature;\n        counter++;\n//        difference = temperature-previousTemp;\n//        cout &lt;&lt; difference &lt;&lt; endl;\n//\n    }\n\n\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 691, "user_id": 5333629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a097cba2b7b59a95d3e62d5e66cd27?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stevens", "link": "https://stackoverflow.com/users/5333629/daniel-stevens"}, "edited": false, "score": 0, "creation_date": 1444239716, "post_id": 32998521, "comment_id": 53822586, "body": "You might want to clarify the signature of the remove method. What is the <code>int</code> for? In your description at the top, you did not place a comma between the <code>string</code> and the <code>int</code>."}], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 5333629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a097cba2b7b59a95d3e62d5e66cd27?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stevens", "link": "https://stackoverflow.com/users/5333629/daniel-stevens"}, "edited": false, "score": 0, "creation_date": 1444239515, "post_id": 32998798, "comment_id": 53822486, "body": "When removing a bike, you may also need to compact the array. The simple way to do it is swap the last element into the position of the deleted element (or do nothing if the deleted element was the last element). This is due to the implicit assumption in this answer that <code>bikes[number_of_parked_bikes]</code> is where new bikes are always added, which is not such a bad assumption."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444250819, "post_id": 32998798, "comment_id": 53829129, "body": "What do you mean to have a member variable in pard_shed. do i just do, Bike park_shed; ?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1444251027, "post_id": 32998798, "comment_id": 53829245, "body": "In the class <code>park_shed</code>, add a line <code>int number_of_parked_bikes;</code> right after <code>Bike bike[10];</code>."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251273, "post_id": 32998798, "comment_id": 53829370, "body": "@RSahu and for the park method the &quot;bikes&quot; that you added to, it says the variable doesnt exists, so do i do something like this. Bike bikes; ? right before the if statement."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1444251478, "post_id": 32998798, "comment_id": 53829496, "body": "That was an error on my part. I assumed that the array variable was named <code>bikes</code>, like <code>Bike bikes[10];</code>."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251690, "post_id": 32998798, "comment_id": 53829587, "body": "@RSahu no worries man thanks :) bro can you look at my checkLegal method too? idk what i am doing wrong."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251753, "post_id": 32998798, "comment_id": 53829618, "body": "@RSahu the gentleman at the bottom, he suggested an answer, but he added a parameter to it. I dont think we should add one."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251841, "post_id": 32998798, "comment_id": 53829661, "body": "if i do something like that, i am getting an error saying &quot;non-constant function &#39;getOwner&#39; is called on constant function."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1444252248, "post_id": 32998798, "comment_id": 53829831, "body": "It will be good for you get in the habit of making all the member functions that don&#39;t modify an object to be <code>const</code> member functions."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444252382, "post_id": 32998798, "comment_id": 53829905, "body": "@RSahu yeah you are right. the prof was actually talking about this today. but we are asked not to. prof is strict :p"}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444253111, "post_id": 32998798, "comment_id": 53830278, "body": "so i fixed the const part, its good now. but for the main method i just do like: Color acol;     acol.Red = 0.0;     acol.Green = 0.5;     acol.Blue = 0.7;      Bike bike(&quot;Hamid&quot;, acol);      bike.print();      bike_shed test;      test.park(bike);      test.print(); right?"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 1, "last_activity_date": 1444252195, "last_edit_date": 1444252195, "creation_date": 1444239091, "answer_id": 32998798, "question_id": 32998521, "link": "https://stackoverflow.com/questions/32998521/objects-array-c/32998798#32998798", "title": "Objects Array - C++", "body": "<p>In the following block of code,</p>\n\n<pre><code>    if (sizeof(Bike) &gt; 10) {\n        return false;\n    }\n</code></pre>\n\n<p>I am guessing that you are trying to make sure that you don't allow parking of more than 10 bikes in the shed.</p>\n\n<p>In order to do that, you need to have a member variable in <code>park_shed</code> to indicate the number of bikes parked in the shed. Then, you can use:</p>\n\n<pre><code>bool bike_shed::park( const Bike&amp; bike)\n{\n   if ( number_of_parked_bikes &lt; 10 )\n   {\n      bikes[number_of_parked_bikes] = bike;\n      ++number_of_parked_bikes;\n      return true;\n   }\n   else\n   {\n      retun false;\n   }\n}\n</code></pre>\n\n<p>Make sure to initialize <code>number_of_parked_bikes</code> to zero in the constructor.</p>\n\n<p>The <code>checkLegal</code> function would be something like:</p>\n\n<pre><code>// Make it a `const` member function since it does not\n// change anything in bike_shed.\nbool bike_shed::checkLegal() const\n{\n   bool isLegal = true;\n   for ( int i = 0; i &lt; number_of_parked_bikes; ++i )\n   {\n      if ( bikes[i].getOwner() == \"None\" )\n      {\n         // No need to check whether this bike is legar or not.\n      }\n      else if (!bikes[i].isLegal() )\n      {\n         isLegal = false;\n         cout &lt;&lt; \"Illegal bike found.\\n\";\n         bikes[i].print();\n      }\n   }\n\n   return isLegal;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444250647, "post_id": 32999090, "comment_id": 53829044, "body": "why did you add Const Bike &amp;bike1 to the checkLegal method? it shouldnt take any parameters."}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251343, "post_id": 32999090, "comment_id": 53829422, "body": "and also the variable nbBikes, what is that? is it of type Bike or bike_shed? Like, Bike nbBikes; or bike_shed nbBikes; ?"}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "edited": false, "score": 0, "creation_date": 1444251863, "post_id": 32999090, "comment_id": 53829669, "body": "if i do something like that for checkLegal, i am getting an error saying &quot;non-constant function &#39;getOwner&#39; is called on constant function."}], "tags": [], "owner": {"reputation": 217, "user_id": 1774084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50caaf8e5b6670b3c64e695f79157d0?s=128&d=identicon&r=PG", "display_name": "Actarus", "link": "https://stackoverflow.com/users/1774084/actarus"}, "is_accepted": false, "score": 0, "last_activity_date": 1444240119, "creation_date": 1444240119, "answer_id": 32999090, "question_id": 32998521, "link": "https://stackoverflow.com/questions/32998521/objects-array-c/32999090#32999090", "title": "Objects Array - C++", "body": "<p>In method checkLegal() you may want to check whether a given Bike is valid or not before insertion, so you can write something like :</p>\n\n<pre><code>bool bike_shed::checkLegal(const Bike &amp;bike1) {\n\n    if(bike1.getOwner() == \"None\"){  // or maybe bike1.isLegal()\n        return false;\n    }\n    else{\n        return true;\n    }\n}\n</code></pre>\n\n<p>Also if you want to print all bikes in bike_shed you might want to write something like :</p>\n\n<pre><code>void bike_shed::print(){\n\n    for (int iBike = 0; iBike &lt; nbBikes &lt; iBike++)\n        bike[iBike].print();\n\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 32998798, "answer_count": 2, "score": -2, "last_activity_date": 1444252195, "creation_date": 1444238263, "question_id": 32998521, "link": "https://stackoverflow.com/questions/32998521/objects-array-c", "title": "Objects Array - C++", "body": "<p>i am having a bit of trouble here. I dont know what i am doing wrong. My bike.cpp class is fine. But i think the problem is with bike_shed class, i am having problem with the \"park\" and \"checklegal\" methods. we are asked to do something like this: \" The class BikeShed with a private array of 10 default constructed Bike objects. The class should have the following public methods: </p>\n\n<ul>\n<li>A default constructor BikeShed() as supplied by the compiler. </li>\n<li><p>A function bool park( const Bike&amp; ) which adds a bike to an available\nspot and returns true. If the BikeShed is full, the function returns \nfalse.</p></li>\n<li><p>A function Bike remove( const string&amp;int ) that removes and returns\nthe first bike with an owner of the given name. If such a bike is not\nfound, the function returns a bike \"None\".  </p></li>\n<li><p>A function bool    checkLegal() that will return true if all bikes\nowned by other than    \"None\" are legal. If a bike is found illegal\nprint a message printing    the bike. </p></li>\n<li><p>A function void print( ) that    prints all the bikes with    owners\nother than \"None\".\"</p></li>\n</ul>\n\n<p>here is my code:</p>\n\n<p>here is bike_shed.cpp file</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"bike_shed.h\"\n#include \"Bike.h\"\n\nusing namespace std;\n\nvoid bike_shed::print(){\n\n    cout&lt;&lt; \"Bike: \" &lt;&lt; sizeof(Bike) &lt;&lt;endl;\n\n}\n\nbool bike_shed::checkLegal() {\n\n    Bike bike1;\n\n    if(bike1.getOwner() == \"None\"){\n        return false;\n    }\n    else{\n        return true;\n    }\n\n}\n\n//Bike bike_shed::remove( const string&amp;, int ) {\n//\n//\n//}\n\nbool bike_shed::park( const Bike&amp; ) {\n\n        if (sizeof(Bike) &gt; 10) {\n            return false;\n        }\n\n}\n</code></pre>\n\n<p>and here is the Bike.cpp file</p>\n\n<pre><code>#include \"Bike.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nvoid Bike::setNLight(int _light) {\n    d_nLight = _light;\n}\n\nvoid Bike::setBell(bool _bell) {\nd_bell = _bell;\n}\n\nvoid Bike::setOwner(string _owner) {\nd_owner = _owner;\n}\n\nvoid Bike::setReflector(bool _reflector) {\n    d_reflector = _reflector;\n}\n\nint Bike::getNLight() {\n    return d_nLight;\n}\n\nstring Bike::getOwner() {\n    return d_owner;\n}\n\nbool Bike:: hasReflector() {\n\n    if (d_reflector == true) {\n        return true;\n    }\n    else {\n\n        return false;\n    }\n}\n\n    bool Bike:: hasBell(){\n\n        if(d_bell == true) {\n            return  true;\n        }\n        else{\n            return false;\n        }\n    }\n\nbool Bike::isLegal() {\n    if (d_nLight &gt;= 1 &amp;&amp; d_reflector &amp;&amp; d_bell) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\nvoid Bike::print() {\n    cout &lt;&lt; \"Owner: \" &lt;&lt; d_owner &lt;&lt; \" Color: \" &lt;&lt; d_color.Red &lt;&lt; \" \" &lt;&lt; d_color.Green &lt;&lt; \" \" &lt;&lt; d_color.Blue\n    &lt;&lt; \" \" &lt;&lt; \" Lights: \" &lt;&lt; d_nLight &lt;&lt; \" Bell: \" &lt;&lt; d_bell &lt;&lt; \" Reflector: \" &lt;&lt;d_reflector &lt;&lt; endl;\n}\n\nBike::Bike(string name, Color color){\n    d_owner = name;\n    d_color = color;\n}\n</code></pre>\n\n<p>and here is the bike_shed.h file</p>\n\n<pre><code>#include \"Bike.h\"\n\nclass bike_shed {\n\npublic:\n\nbike_shed();\nbool park( const Bike&amp; );\nBike remove( const string&amp;, int );\nbool checkLegal();\nvoid print();\n\n\npublic:\nBike bike[10];};\n</code></pre>\n\n<p>i would really appreciate if someone can help me. Thank you :)</p>\n"}, {"tags": ["android", "c++", "cocos2d-x"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "is_accepted": true, "score": 0, "last_activity_date": 1444239146, "last_edit_date": 1495541671, "creation_date": 1444239146, "answer_id": 32998810, "question_id": 32998271, "link": "https://stackoverflow.com/questions/32998271/c-cocos-2d-x-undefined-error/32998810#32998810", "title": "C++ cocos-2d-x undefined error", "body": "<p>I've done some further hunting for answers on this and found this: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/20841693/adding-cpp-files-to-cocos2d-x-project-android-project\">Adding cpp files to cocos2d-x project android project</a></p>\n\n<p>Having added my GameScene.cpp file to the android.mk file, it is now compiling, therefore I'm going to mark this as resolved.</p>\n"}], "owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 32998810, "answer_count": 1, "score": -3, "last_activity_date": 1520391983, "creation_date": 1444237368, "last_edit_date": 1520391983, "question_id": 32998271, "link": "https://stackoverflow.com/questions/32998271/c-cocos-2d-x-undefined-error", "title": "C++ cocos-2d-x undefined error", "body": "<p>first ever question here on SO in my numerous years of coding. I've recently started trying to get into C++ to work with cocos-2d-x for mobile development and have hit a wall pretty much immediately.</p>\n\n<p>My new project comes with AppDelegate and HelloWorld classes, I've then added my own GameScene class which I've tried to instanciate from AppDelegate, however, every time I do this, I get an 'undefined error' message.</p>\n\n<p>Here's the code I've got so far, as you can see, the code I've got in my GameScene.cpp file is just a copy-paste of the hello world file...which I can confirm does work.</p>\n\n<p>GameScene.cpp</p>\n\n<pre><code>#include \"GameScene.h\"\n\nUSING_NS_CC;\n\n\n\ncocos2d::Scene* GameScene::createScene()\n{\n    // 'scene' is an autorelease object\n    auto scene = Scene::create();\n\n    // 'layer' is an autorelease object\n    auto layer = GameScene::create();\n    scene-&gt;addChild(layer);\n\n    return scene;\n}\n\n\n\n// on \"init\" you need to initialize your instance\nbool GameScene::init()\n{\n    //////////////////////////////\n    // 1. super init first\n    if ( !Layer::init() )\n    {\n        return false;\n    }\n\n    Size visibleSize = Director::getInstance()-&gt;getVisibleSize();\n    Vec2 origin = Director::getInstance()-&gt;getVisibleOrigin();\n\n    // add a label shows \"Built on\"\n    auto label = Label::createWithTTF(\"Built on\", \"fonts/Marker Felt.ttf\", 24);\n    label-&gt;setPosition(Vec2(origin.x + visibleSize.width/2,\n                            origin.y + visibleSize.height - label-&gt;getContentSize().height));\n    this-&gt;addChild(label, 1);\n\n    // add \"HelloWorld\" splash screen\"\n    auto sprite = Sprite::create(\"HelloWorld.png\");\n    sprite-&gt;setPosition(Vec2(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));\n    this-&gt;addChild(sprite, 0);\n\n    return true;\n}\n</code></pre>\n\n<p>GameScene.h</p>\n\n<pre><code>#ifndef __GAME_SCENE_H__\n#define __GAME_SCENE_H__\n\n#include \"cocos2d.h\"\n\nclass GameScene : public cocos2d::Layer\n{\npublic:\n    // there's no 'id' in cpp, so we recommend returning the class instance pointer\n    static cocos2d::Scene* createScene();\n\n    // Here's a difference. Method 'init' in cocos2d-x returns bool, instead of returning 'id' in cocos2d-iphone\n    virtual bool init();\n\n    // implement the \"static create()\" method manually\n    CREATE_FUNC(GameScene);\n};\n\n#endif // __GAME_SCENE_H__\n</code></pre>\n\n<p>AppDelegate.cpp</p>\n\n<pre><code>#include \"AppDelegate.h\"\n#include \"HelloWorldScene.h\"\n#include \"GameScene.h\"\n\nUSING_NS_CC;\n\nstatic cocos2d::Size designResolutionSize = cocos2d::Size(480, 320);\nstatic cocos2d::Size smallResolutionSize = cocos2d::Size(480, 320);\nstatic cocos2d::Size mediumResolutionSize = cocos2d::Size(1024, 768);\nstatic cocos2d::Size largeResolutionSize = cocos2d::Size(2048, 1536);\n\nAppDelegate::AppDelegate() {\n\n}\n\nAppDelegate::~AppDelegate() \n{\n}\n\n//if you want a different context,just modify the value of glContextAttrs\n//it will takes effect on all platforms\nvoid AppDelegate::initGLContextAttrs()\n{\n    //set OpenGL context attributions,now can only set six attributions:\n    //red,green,blue,alpha,depth,stencil\n    GLContextAttrs glContextAttrs = {8, 8, 8, 8, 24, 8};\n\n    GLView::setGLContextAttrs(glContextAttrs);\n}\n\n// If you want to use packages manager to install more packages, \n// don't modify or remove this function\nstatic int register_all_packages()\n{\n    return 0; //flag for packages manager\n}\n\nbool AppDelegate::applicationDidFinishLaunching() {\n    // initialize director\n    auto director = Director::getInstance();\n    auto glview = director-&gt;getOpenGLView();\n    if(!glview) {\n        glview = GLViewImpl::create(\"My Game\");\n        director-&gt;setOpenGLView(glview);\n    }\n\n    // turn on display FPS\n    director-&gt;setDisplayStats(true);\n\n    // set FPS. the default value is 1.0/60 if you don't call this\n    director-&gt;setAnimationInterval(1.0 / 60);\n\n    // Set the design resolution\n    glview-&gt;setDesignResolutionSize(designResolutionSize.width, designResolutionSize.height, ResolutionPolicy::NO_BORDER);\n    Size frameSize = glview-&gt;getFrameSize();\n    // if the frame's height is larger than the height of medium size.\n    if (frameSize.height &gt; mediumResolutionSize.height)\n    {        \n        director-&gt;setContentScaleFactor(MIN(largeResolutionSize.height/designResolutionSize.height, largeResolutionSize.width/designResolutionSize.width));\n    }\n    // if the frame's height is larger than the height of small size.\n    else if (frameSize.height &gt; smallResolutionSize.height)\n    {        \n        director-&gt;setContentScaleFactor(MIN(mediumResolutionSize.height/designResolutionSize.height, mediumResolutionSize.width/designResolutionSize.width));\n    }\n    // if the frame's height is smaller than the height of medium size.\n    else\n    {        \n        director-&gt;setContentScaleFactor(MIN(smallResolutionSize.height/designResolutionSize.height, smallResolutionSize.width/designResolutionSize.width));\n    }\n\n    register_all_packages();\n\n    // create a scene. it's an autorelease object\n    auto scene = GameScene::createScene();\n\n    // run\n    director-&gt;runWithScene(scene);\n\n    return true;\n}\n\n// This function will be called when the app is inactive. When comes a phone call,it's be invoked too\nvoid AppDelegate::applicationDidEnterBackground() {\n    Director::getInstance()-&gt;stopAnimation();\n\n    // if you use SimpleAudioEngine, it must be pause\n    // SimpleAudioEngine::getInstance()-&gt;pauseBackgroundMusic();\n}\n\n// this function will be called when the app is active again\nvoid AppDelegate::applicationWillEnterForeground() {\n    Director::getInstance()-&gt;startAnimation();\n\n    // if you use SimpleAudioEngine, it must resume here\n    // SimpleAudioEngine::getInstance()-&gt;resumeBackgroundMusic();\n}\n</code></pre>\n\n<p>AppDelegate.h</p>\n\n<pre><code>#ifndef  _APP_DELEGATE_H_\n#define  _APP_DELEGATE_H_\n\n#include \"cocos2d.h\"\n\n/**\n@brief    The cocos2d Application.\n\nThe reason for implement as private inheritance is to hide some interface call by Director.\n*/\nclass  AppDelegate : private cocos2d::Application\n{\npublic:\n    AppDelegate();\n    virtual ~AppDelegate();\n\n    virtual void initGLContextAttrs();\n\n    /**\n    @brief    Implement Director and Scene init code here.\n    @return true    Initialize success, app continue.\n    @return false   Initialize failed, app terminate.\n    */\n    virtual bool applicationDidFinishLaunching();\n\n    /**\n    @brief  The function be called when the application enter background\n    @param  the pointer of the application\n    */\n    virtual void applicationDidEnterBackground();\n\n    /**\n    @brief  The function be called when the application enter foreground\n    @param  the pointer of the application\n    */\n    virtual void applicationWillEnterForeground();\n};\n\n#endif // _APP_DELEGATE_H_\n</code></pre>\n\n<p>I've tried doing as much debugging as I can though am not really getting anywhere, although I am starting to suspect that possibly the GameScene.cpp file isn't being included in the compile...I put an error line (\"blahblahblah;\") in each file and the compiler didn't show anything about the error in GameScene.cpp. So if this is the problem, then how do I make sure it is included? I'm currently editing my code in Notepad++ and building by calling the build_native.py file which was created in the proj.android folder of my cocos project.</p>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 9693, "user_id": 1058319, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/87b4e4d0c43e349fad30838e605e5c10?s=128&d=identicon&r=PG", "display_name": "Adel Boutros", "link": "https://stackoverflow.com/users/1058319/adel-boutros"}, "edited": false, "score": 1, "creation_date": 1444237328, "post_id": 32998209, "comment_id": 53821198, "body": "With what values of a and x are you getting the SEGFAULT?"}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444237407, "post_id": 32998209, "comment_id": 53821239, "body": "And also, can&#39;t you post a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1444237420, "post_id": 32998209, "comment_id": 53821246, "body": "BTW it is Ackermann_function, am I correct?? if yes then I doubt you can stop SEGFAULT."}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "reply_to_user": {"reputation": 9693, "user_id": 1058319, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/87b4e4d0c43e349fad30838e605e5c10?s=128&d=identicon&r=PG", "display_name": "Adel Boutros", "link": "https://stackoverflow.com/users/1058319/adel-boutros"}, "edited": false, "score": 0, "creation_date": 1444237819, "post_id": 32998209, "comment_id": 53821452, "body": "@Adel Edited with call"}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "reply_to_user": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444237847, "post_id": 32998209, "comment_id": 53821470, "body": "@Fabio Is it not a MCVE?"}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444238038, "post_id": 32998209, "comment_id": 53821581, "body": "@Lightness erm... no? When I say near infinite, I sorta meant its overflowing my stack."}, {"owner": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1444238323, "post_id": 32998209, "comment_id": 53821742, "body": "@KaidenPrince see if this makes sense ... <a href=\"http://stackoverflow.com/questions/10742322/how-to-rewrite-ackermann-function-in-non-recursive-style\" title=\"how to rewrite ackermann function in non recursive style\">stackoverflow.com/questions/10742322/&hellip;</a>"}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444238481, "post_id": 32998209, "comment_id": 53821841, "body": "@KaidenPrince The function is complete, but a real MCVE also includes the <code>main()</code> function, and the #included headers, and so on. So that we can copy it, paste it into an IDE (even an online one), and see the error. By the way, including <code>main()</code> is important because then we can see the call to the function that is leading to your problem. At the beginning you hadn&#39;t included it... Now we have everything (I think), but we still have to put all the pieces together. If <b>you</b> did that,we would be able to focus directly on the problem."}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "reply_to_user": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444238746, "post_id": 32998209, "comment_id": 53821996, "body": "@FabioTurati Better?"}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "reply_to_user": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1444238801, "post_id": 32998209, "comment_id": 53822027, "body": "@GautamJha Brain overload... I am not a very good programmer..."}], "answers": [{"comments": [{"owner": {"reputation": 14193, "user_id": 183203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cf9ec57f64280ffe34ddd221d5c5151f?s=128&d=identicon&r=PG", "display_name": "antlersoft", "link": "https://stackoverflow.com/users/183203/antlersoft"}, "edited": false, "score": 2, "creation_date": 1444237808, "post_id": 32998317, "comment_id": 53821446, "body": "It&#39;s still going to crash when it runs out of memory--"}, {"owner": {"reputation": 1296, "user_id": 506013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d474a0dd3522671e6bc02b1ac55776?s=128&d=identicon&r=PG", "display_name": "rts1", "link": "https://stackoverflow.com/users/506013/rts1"}, "edited": false, "score": 1, "creation_date": 1444237898, "post_id": 32998317, "comment_id": 53821501, "body": "Yes, but he may make it far enough for his purposes.  Another solution would to cache/memoize small values so it doesn&#39;t ave to do as much recursion."}], "tags": [], "owner": {"reputation": 1296, "user_id": 506013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d474a0dd3522671e6bc02b1ac55776?s=128&d=identicon&r=PG", "display_name": "rts1", "link": "https://stackoverflow.com/users/506013/rts1"}, "is_accepted": false, "score": 2, "last_activity_date": 1444237574, "creation_date": 1444237574, "answer_id": 32998317, "question_id": 32998209, "link": "https://stackoverflow.com/questions/32998209/segmentation-fault-in-a-massively-recursive-function/32998317#32998317", "title": "Segmentation fault in a massively recursive function", "body": "<p>I suspect your seg-fault was from running out of stack space.</p>\n\n<p>You can limit/unlimit how big your stack space is (on Linux at least)\nusing the limit command from tcsh.</p>\n\n<pre><code> % limit \ncputime      unlimited\nfilesize     unlimited\ndatasize     unlimited\nstacksize    10240 kbytes\ncoredumpsize 0 kbytes\nmemoryuse    unlimited\nvmemoryuse   unlimited\ndescriptors  4096 \nmemorylocked 64 kbytes\nmaxproc      1024 \n</code></pre>\n\n<p>You can then unlimit your stacksize</p>\n\n<pre><code>% unlimit stacksize\n% limit\n\ncputime      unlimited\nfilesize     unlimited\ndatasize     unlimited\nstacksize    unlimited\ncoredumpsize 0 kbytes\nmemoryuse    unlimited\nvmemoryuse   unlimited\ndescriptors  4096 \nmemorylocked 64 kbytes\nmaxproc      1024 \n</code></pre>\n\n<p>And give it another try.</p>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444238108, "post_id": 32998412, "comment_id": 53821618, "body": "How would I convert this to iteration then?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444238123, "post_id": 32998412, "comment_id": 53821629, "body": "@KaidenPrince: With your fingers...? I don&#39;t understand your question."}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444238206, "post_id": 32998412, "comment_id": 53821681, "body": "I don&#39;t really know how to convert it, or else I would of."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1444238669, "post_id": 32998412, "comment_id": 53821945, "body": "You can also try converting it into tail recursion.  Then the optimizer will hit it and turn it into iteration for you."}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "reply_to_user": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1444238978, "post_id": 32998412, "comment_id": 53822144, "body": "@CrazyEddie Will try. Post an update later. GCC will optimize this?"}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "reply_to_user": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444239187, "post_id": 32998412, "comment_id": 53822270, "body": "@KaidenPrince - it should optimize <i>tail</i> recursion.  This means that no operation can happen after the recursive call.  The addition you do in your return statement is such an operation.  Converting to tail recursion often involves passing the result as an accumulator parameter into the recursive call.  See: <a href=\"http://stackoverflow.com/questions/15537432/convert-recursion-to-tail-recursion\" title=\"convert recursion to tail recursion\">stackoverflow.com/questions/15537432/&hellip;</a>"}, {"owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "edited": false, "score": 0, "creation_date": 1444317857, "post_id": 32998412, "comment_id": 53862804, "body": "I seem unable to understand how to convert this to tail recursion."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1444237913, "creation_date": 1444237913, "answer_id": 32998412, "question_id": 32998209, "link": "https://stackoverflow.com/questions/32998209/segmentation-fault-in-a-massively-recursive-function/32998412#32998412", "title": "Segmentation fault in a massively recursive function", "body": "<blockquote>\n  <p>I have a function that calls itself a near infinite amount of times, but it does have an end.</p>\n</blockquote>\n\n<p>Do you have a near infinite amount of stack memory?</p>\n\n<p>If not (the likely scenario), you are going to smash your stack in no time. A segmentation fault is a clear sign of that here.</p>\n\n<p>I'd avoid the recursion altogether.</p>\n"}], "owner": {"reputation": 462, "user_id": 3288070, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ec31403370bc858c0524a492f633d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiden Prince", "link": "https://stackoverflow.com/users/3288070/kaiden-prince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1444238692, "creation_date": 1444237175, "last_edit_date": 1444238692, "question_id": 32998209, "link": "https://stackoverflow.com/questions/32998209/segmentation-fault-in-a-massively-recursive-function", "title": "Segmentation fault in a massively recursive function", "body": "<p>I have a function that calls itself a near infinite amount of times, but it does have an end. It calculates the mathematical formula (in TeX):</p>\n\n<p>When <code>x&lt;a</code>:</p>\n\n<pre><code>g_{a}(x)=1\n</code></pre>\n\n<p>When <code>x&gt;=a</code>:</p>\n\n<pre><code>g_{a}(x)=g_{a}(x-1)+g_a(x-a)\n</code></pre>\n\n<p>Here is my code(c++):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;cmath&gt;\nusing namespace std;\ndouble g( double a, double x){\n    if (x&gt;=a) return (g(a,x-1)+g(a,x-a));\n    else if (x&lt;a) return 1;\n    return 0;\n}\nint main(){cout &lt;&lt; g(sqrt(10000019),10000019);}\n</code></pre>\n\n<p>I call the function with <code>g(sqrt(10000019),10000019);</code>\nHow do I stop the SEGFAULT?</p>\n"}, {"tags": ["c++", "object", "makefile"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444237177, "post_id": 32998120, "comment_id": 53821096, "body": "Not a <i>minimal</i> testcase, didn&#39;t read the output, didn&#39;t look up the language facilities used in the documentation before asking for help. -1"}, {"owner": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444243368, "post_id": 32998120, "comment_id": 53824676, "body": "It is not necessary to spell out the commands for compiling the individual C source files, because make can figure them out: it has an implicit rule for updating a <code>.o&#39; file from a correspondingly named </code>.c&#39; file using a <code>cc -c&#39; command. For example, it will use the command </code>cc -c main.c -o main.o&#39; to compile <code>main.c&#39; into </code>main.o&#39;. We can therefore omit the commands from the rules for the object files. See section Using Implicit Rules.   <a href=\"ftp://ftp.gnu.org/old-gnu/Manuals/make-3.79.1/html_chapter/make_2.html\" rel=\"nofollow noreferrer\">ftp.gnu.org/old-gnu/Manuals/make-3.79.1/html_chapter/&hellip;</a>     I&#39;ve seen this before, now how do I get past it.."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444259543, "post_id": 32998120, "comment_id": 53832776, "body": "I dunno... I usually override that."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "edited": false, "score": 0, "creation_date": 1444237482, "post_id": 32998223, "comment_id": 53821279, "body": "Oh!  in the ang3 rule, the objects (%.o) get created from the corresponding cpp file.  Do you know why it fails in the ($(OBJECTS_A) rule?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "edited": false, "score": 0, "creation_date": 1444237588, "post_id": 32998223, "comment_id": 53821329, "body": "@dmerz75: There are too many mistakes with it for me to enumerate here. It doesn&#39;t really make any logical sense the way you have it laid out at present. Which book are you using?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "edited": false, "score": 0, "creation_date": 1444237964, "post_id": 32998223, "comment_id": 53821542, "body": "@dmerz75: Well there you go then!"}, {"owner": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "edited": false, "score": 0, "creation_date": 1444238375, "post_id": 32998223, "comment_id": 53821780, "body": "I&#39;m going to lookup how to force the for looping through the $SOURCES provided as targets.  But for now, I see analogous construction between the  %.o and $(OBJECTS_A) dependencies...."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 2, "last_activity_date": 1444237220, "creation_date": 1444237220, "answer_id": 32998223, "question_id": 32998120, "link": "https://stackoverflow.com/questions/32998120/compiling-code-directly-from-cpp-files-works-making-object-files-first-and-the/32998223#32998223", "title": "Compiling code directly from .cpp files works. Making object files first and then linking, results in Multiple Definition of Function Error?", "body": "<p>It helps to actually read the output.</p>\n\n<pre><code>g++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/readfile_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/main_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/md_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/chain_a.o\n</code></pre>\n\n<p>You're compiling the same C++ source file over and over again, then linking it to itself.</p>\n\n<p>Your mistake is in the recipe to build objects. I'll leave you to read <a href=\"https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html\" rel=\"nofollow\">the documentation</a> and find out why.</p>\n"}], "owner": {"reputation": 23, "user_id": 3416898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb23fbbca095bdb316d33f9ab0d3301?s=128&d=identicon&r=PG&f=1", "display_name": "dmerz75", "link": "https://stackoverflow.com/users/3416898/dmerz75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444237220, "creation_date": 1444236903, "last_edit_date": 1495542575, "question_id": 32998120, "link": "https://stackoverflow.com/questions/32998120/compiling-code-directly-from-cpp-files-works-making-object-files-first-and-the", "title": "Compiling code directly from .cpp files works. Making object files first and then linking, results in Multiple Definition of Function Error?", "body": "<pre><code># Compiler\nCXX      := g++\nCF       := -g\n\n# c files\nCFILES   := $(wildcard src/*.cpp)\nSOURCES  := $(CFILES) # $(CFILES2) all CFILES\n\n# o files\nOBJECTS  := $(SOURCES:.cpp=.o)\nOBJECTS_A:= $(SOURCES:.cpp=_a.o)\n\n# Macros\nMACRO = -D\nINFO = -DINFO // optional\nDCDREAD = -DDCDREAD\n# More Macros\nDEFAULT   = -DDEFAULT\nCONTACT = -DDEFAULT -DCONTACT -DCONTACTPERSIST -DTENSION_COSTHETA\nMTCONTACT = -DDEFAULT -DMTCON1 -DMTCON2\nDCDCON = -DDCDREAD -DCONTACT -DCONTACTPERSIST -DTENSION_COSTHETA\nDCDMT = -DDCDREAD -DMTCON1 -DMTCON2\nCENMOV = -DDCDREAD -DMTCON1 -DCENTROIDMOVEMENT\nANGLE = -DDCDREAD -DINERTIA -DANGLE\nANG3 = -DDCDREAD -DMTCON1 -DANGLE3CENTROID\n\nang3o: $(OBJECTS_A)\n    $(CXX) $(OBJECTS_A) -o test/$(EXEC)_dcd_angle3centroid\n    cd test &amp;&amp; ./$(EXEC)_dcd_angle3centroid mtonly_seamup.ref.pdb      mtonly_seamup_d1_indent.dcd 1 209 1\nang3: $(OBJECTS)\n    $(CXX) $(SOURCES) $(CF) $(INC) $(LIB) $(ANG3) -o   test/$(EXEC)_dcd_angle3centroid\n    cd test &amp;&amp; ./$(EXEC)_dcd_angle3centroid mtonly_seamup.ref.pdb mtonly_seamup_d1_indent.dcd 1 209 1\n\n# To obtain object files\n$(OBJECTS_A) : $(SOURCES)\n    $(CXX) $(CF) $(INC) $(LIB) $(ANG3) -c $&lt; -o $@\n%.o: %.cpp\n    $(CXX) $(CC_FLAGS) $(INC) $(LIB) -c $&lt; -o $@\n</code></pre>\n\n<p>I know the objects are unnecessary in the ANG3 rule. The  c files are compiled directly, the executable runs correctly! I'd like to switch to objects, an ANG3O rule.  HERE is my main question, am I trying to link .o files incorrectly at the end of the ANG3O rule?</p>\n\n<p>ANG3 works.\nANG3O fails. Multiple Definitions of Function Error.</p>\n\n<pre><code>make ang3\ng++ -g -O3 -Iinclude -pthread -c src/readfile.cpp -o src/readfile.o \n\ng++ -g -O3 -Iinclude -pthread -c src/main.cpp -o src/main.o         \n\ng++ -g -O3 -Iinclude -pthread -c src/md.cpp -o src/md.o\ng++ -g -O3 -Iinclude -pthread -c src/chain.cpp -o src/chain.o\ng++ src/readfile.cpp src/main.cpp src/md.cpp src/chain.cpp  -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -o test/run_segment_dcd_angle3centroid\n\n\nmake ang3o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c     src/readfile.cpp -o src/readfile_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/main_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/md_a.o\ng++ -g -Iinclude -pthread -DDCDREAD -DMTCON1 -DANGLE3CENTROID -c src/readfile.cpp -o src/chain_a.o\ng++ src/readfile_a.o src/main_a.o src/md_a.o src/chain_a.o -o test/run_segment_dcd_angle3centroid\n\nsrc/main_a.o: In function `ReadLines(Chain*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:43: multiple     definition of `ReadLines(Chain*)'\n                src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:43:     first defined here\nsrc/main_a.o: In function `ReadMolecularContent(char*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:208: multiple     definition of `ReadMolecularContent(char*)'\n        src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:208:    first defined here\nsrc/md_a.o: In function `ReadLines(Chain*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:43: multiple     definition of `ReadLines(Chain*)'\n    src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:43:     first defined here\nsrc/md_a.o: In function `ReadMolecularContent(char*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:208: multiple     definition of `ReadMolecularContent(char*)'\n    src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:208:    first defined here\nsrc/chain_a.o: In function `ReadLines(Chain*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:43: multiple     definition of `ReadLines(Chain*)'\n        src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:43:     first defined here\nsrc/chain_a.o: In function `ReadMolecularContent(char*)':\n/home/d/sop_dev/contacts/segment/src/readfile.cpp:208: multiple     definition of `ReadMolecularContent(char*)'\n    src/readfile_a.o:/home/d/sop_dev/contacts/segment/src/readfile.cpp:208:    first defined here\n/usr/lib/gcc/x86_64-unknown-linux-gnu/5.2.0/../../../../lib/crt1.o: In     function `_start':\n(.text+0x20): undefined reference to `main'\ncollect2: error: ld returned 1 exit status\nMakefile:172: recipe for target 'ang3o' failed\nmake: *** [ang3o] Error 1\n</code></pre>\n\n<h1>NOTES:</h1>\n\n<p>Related question: <a href=\"https://stackoverflow.com/questions/17904643/error-with-multiple-definitions-of-function\">Error with multiple definitions of function</a></p>\n\n<p>Possibly related: <a href=\"https://stackoverflow.com/questions/16344572/one-definition-rule-and-different-class-definitions-in-two-translation-units\">One definition rule and different class definitions in two translation units</a></p>\n\n<p>However, in my situation:\nthe headers are in the include directory. The c files are in a src directory. All functions are declared in the headers. Only headers are included, no c/cpp files. Makefile examples seem to halt just before this level of complexity, the use of different define segments of code, and the need to compile objects with/without certain defined sections.</p>\n"}, {"tags": ["c++", "opencv", "matrix", "histogram"], "comments": [{"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1444237136, "post_id": 32998063, "comment_id": 53821075, "body": "you are looking for histogram equalization??"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1444237200, "post_id": 32998063, "comment_id": 53821113, "body": "No, I just need the histogram itself."}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 1, "creation_date": 1444237224, "post_id": 32998063, "comment_id": 53821128, "body": "<a href=\"http://docs.opencv.org/modules/imgproc/doc/histograms.html\" rel=\"nofollow noreferrer\">docs.opencv.org/modules/imgproc/doc/histograms.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1444239397, "post_id": 32998275, "comment_id": 53822402, "body": "you know you can compute the histogram in actually 3 code lines?"}, {"owner": {"reputation": 374, "user_id": 3853072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSHkc.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/3853072/arjun"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444239994, "post_id": 32998275, "comment_id": 53822733, "body": "Without using the function hist??? if yes than i don&#39;t know sir.!! How is that we can do sir??"}, {"owner": {"reputation": 374, "user_id": 3853072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSHkc.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/3853072/arjun"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444241012, "post_id": 32998275, "comment_id": 53823315, "body": "@Miki Yes !! i got it sir.!! Thank you!"}], "tags": [], "owner": {"reputation": 374, "user_id": 3853072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSHkc.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/3853072/arjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1444237387, "last_edit_date": 1495540442, "creation_date": 1444237387, "answer_id": 32998275, "question_id": 32998063, "link": "https://stackoverflow.com/questions/32998063/how-to-calculate-histogram-of-a-matrix-in-opencv/32998275#32998275", "title": "How to calculate histogram of a matrix in OpenCV?", "body": "<p>This code reads all the grayscale values from an image and results in frequent occurring values (Number of times the value as occurred). i.e </p>\n\n<p>Number of times pixel value '0' as appeared,</p>\n\n<p>Number of times pixel value '1' as appeared, ... &amp; so on till 256.   </p>\n\n<pre><code>#include &lt;opencv\\cv.h&gt;\n#include &lt;highgui\\highgui.hpp&gt;\nusing namespace std;\nusing namespace cv;\n    int main()\n{\ncv::Mat img = cv::imread(\"5.jpg\",0);\n\n//for(int j=0;j&lt;img.rows;j++) \n//{\n//  for (int i=0;i&lt;img.cols;i++)\n//  {\n//    int a;\n//  a=img.at&lt;uchar&gt;(j,i);\n//     cout&lt;&lt;a&lt;&lt;endl; \n//  }\n//}\nvector&lt;int&gt; values_rgb;\nfor(int i=0; i&lt;20; i++)\n{\n    for(int j=0; j&lt;20; j++)\n    {\n        int value_rgb = img.at&lt;uchar&gt;(i,j);\n        values_rgb.push_back(value_rgb);\n        //cout &lt;&lt; \"(\" &lt;&lt; i &lt;&lt; \",\" &lt;&lt; j &lt;&lt; \") : \" &lt;&lt; value_rgb &lt;&lt;endl;\n    }\n}\n// Sorting of values in ascending order \nvector&lt;int&gt; counter_rg_values;\nfor(int l=0; l&lt;256; l++)\n\n{\n    for(int k=0; k&lt;values_rgb.size(); k++)\n    {\n        if(values_rgb.at(k) == l)\n        {\n            counter_rg_values.push_back(l);\n        }\n    }\n}\n//for(int m=0;m&lt;counter_rg_values.size();m++)\n//cout&lt;&lt;m&lt;&lt;\" \"&lt;&lt; counter_rg_values[m] &lt;&lt;endl;\nint m=0;\nfor(int n=0;n&lt;256;n++)\n{\n    int c=0;\n    for(int q=0;q&lt;counter_rg_values.size();q++)\n    {\n        if(n==counter_rg_values[q])\n        {\n            //int c;\n        c++;\n        m++;\n        }\n    }\n\n    cout&lt;&lt;n&lt;&lt;\"= \"&lt;&lt; c&lt;&lt;endl;\n}\ncout&lt;&lt;\"Total number of elements \"&lt;&lt; m&lt;&lt;endl;\n\ncv::imshow(\"After\",img);\nwaitKey(0);\n}\n</code></pre>\n\n<p>Link for the above discussion about <a href=\"https://stackoverflow.com/a/32902450/3853072\">https://stackoverflow.com/a/32902450/3853072</a> </p>\n"}, {"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": false, "score": 3, "last_activity_date": 1444241111, "last_edit_date": 1444241111, "creation_date": 1444239912, "answer_id": 32999035, "question_id": 32998063, "link": "https://stackoverflow.com/questions/32998063/how-to-calculate-histogram-of-a-matrix-in-opencv/32999035#32999035", "title": "How to calculate histogram of a matrix in OpenCV?", "body": "<p>Just to provide an alternative to OpenCV <a href=\"http://docs.opencv.org/2.4.9/modules/imgproc/doc/histograms.html#calchist\" rel=\"nofollow\">calcHist</a>, you can use a <code>std::vector</code>, and increment the counter at the grayscale value position:</p>\n\n<pre><code>#include &lt;opencv2\\opencv.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;numeric&gt;\nusing namespace std;\nusing namespace cv;\n\nint main(void)\n{\n    // Grayscale image\n    Mat1b img = imread(\"path_to_image\", IMREAD_GRAYSCALE);\n\n    // Compute histogram\n    vector&lt;int&gt; hist(256, 0);\n    for (int r = 0; r &lt; img.rows; ++r)\n        for (int c = 0; c &lt; img.cols; ++c)\n            ++hist[img(r, c)];\n\n    cout &lt;&lt; \"number of 0: \" &lt;&lt; hist[0] &lt;&lt; endl;\n    cout &lt;&lt; \"number of 1: \" &lt;&lt; hist[1] &lt;&lt; endl;\n    // etc...\n\n\n    // Sort according to frequency\n\n    vector&lt;int&gt; indices(256);\n    iota(indices.begin(), indices.end(), 0); // 0, 1, ... 255\n    sort(indices.begin(), indices.end(), [&amp;hist](int lhs, int rhs) { return hist[lhs] &gt; hist[rhs]; });\n\n    cout &lt;&lt; \"1st frequent number: \" &lt;&lt; indices[0] &lt;&lt; \" with N: \" &lt;&lt; hist[indices[0]] &lt;&lt; endl;\n    cout &lt;&lt; \"2nd frequent number: \" &lt;&lt; indices[1] &lt;&lt; \" with N: \" &lt;&lt; hist[indices[1]] &lt;&lt; endl;\n    // etc\n\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Updated</strong> the snippet to sort result according to decreasing frequency.</p>\n"}], "owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2028, "favorite_count": 0, "accepted_answer_id": 32998275, "answer_count": 2, "score": 0, "last_activity_date": 1444241111, "creation_date": 1444236693, "question_id": 32998063, "link": "https://stackoverflow.com/questions/32998063/how-to-calculate-histogram-of-a-matrix-in-opencv", "title": "How to calculate histogram of a matrix in OpenCV?", "body": "<p>I have a matrix that consists of integers from <code>0 to N</code>, and I want to obtain a data matrix of size <code>N+1</code> where each element has the number of occurences of each number.</p>\n\n<p>So if the input matrix is </p>\n\n<pre><code>0 0 0\n1 1 0\n0 0 2\n</code></pre>\n\n<p>Then my output should be </p>\n\n<pre><code>// occurences of  0  1  2\nhist           = [6, 2, 1]\n</code></pre>\n\n<p>Is there an easy (built-in) way to accomplish this in C++ OpenCV, like the <code>hist</code> function in MATLAB?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["c++", "template-specialization", "sfinae", "class-template"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1444236971, "post_id": 32998062, "comment_id": 53820974, "body": "Dupe. tl;dr: yes, it&#39;s &quot;specified in the C++ standard&quot; in that it&#39;s a fundamental fact of how <code>std::enable_if</code> actually works. No, it won&#39;t &quot;evolve&quot; in C++17."}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444237627, "post_id": 32998062, "comment_id": 53821345, "body": "Hi @LightnessRacesinOrbit. Thanks for your comment but question <a href=\"http://stackoverflow.com/questions/6972368/stdenable-if-to-conditionally-compile-a-member-function\">std::enable_if to conditionally compile a member function</a> is not the same. In his answer, Johannes says <i>&quot;<code>std::enable_if&lt;&gt;::type</code> accesses a non-existing type, so that declaration is ill-formed&quot;</i>. This is maybe the answer of my question. I wonder about the C++ Standard/Compiler reason to do not allow one single parameter for SFINAE (using <code>std::enable_if</code> or not). Please reopen my question. Cheers"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444238015, "post_id": 32998062, "comment_id": 53821565, "body": "It is my way of informing you that this requirement is due to how <code>std::enable_if</code> works. Therefore, to answer the question, you should read how <code>std::enable_if</code> works; certainly there is little to gain in our repeating all of that here. I did actually read the answers there (albeit briefly), and confirmed that they make reference to this particular requirement, within the broader scope and context of the feature in question."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444238106, "post_id": 32998062, "comment_id": 53821616, "body": "However, if you&#39;d like to come back in a couple of days having studied that post, with <i>specific</i> queries that relate to the information therein, I&#39;d be happy to take another look."}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444311957, "post_id": 32998062, "comment_id": 53858208, "body": "Hi @LightnessRacesinOrbit. I have read questions/answers and <code>std::enable_if</code> documentation. But it is not obvious where the answer is. (Please give me the answer). I think it will not help SO users to be redirected to the other question (because the answer of my question is not blinking there). I have fully rewritten my question since first post. My question is not related to C++11 neither to <code>std::enable_if</code>. While rewriting/testing the code I got a light. I think the answer is because compiler needs to know where is the parameter <code>int</code>. If you reopen the question I can provide an answer."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444320145, "post_id": 32998062, "comment_id": 53864229, "body": "The issue is unrelated to <code>enable_if</code>s implementation. Rather, the form of the pattern used in the partial specialization, <code>typename some_template&lt;T&gt;::type</code>, is specifically forbidden from deducing <code>T</code> by C++03[temp.deduct.type]p4. The rationale: You need the nested <code>::type</code> to match against the template argument, and finding that type requires instantiating <i>all</i> specializations of the template (and might be ambiguous, produce deep errors). There&#39;s no special rule for simple templates such as <code>enable_if</code>; and if there was, that would make <code>enable_if</code> useless."}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444320690, "post_id": 32998062, "comment_id": 53864592, "body": "Hi @dyp. Thanks for your comment. I have just fully reworked my question. Doing this simplification work (in my head and in SO) I realized that compiler cannot deduce <code>T</code> when trying to match <code>typename enable_bool&lt;T&gt;::type</code> and <code>int</code>. I agree: my question is not related to SFINAE. Do you want to provide an answer?"}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444328441, "post_id": 32998062, "comment_id": 53868813, "body": "@olibre Well if you have come to this conclusion yourself, then I think there&#39;s no need for me to write an answer. But feel free to write an answer yourself."}], "answers": [{"tags": [], "owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "is_accepted": false, "score": 2, "last_activity_date": 1444729515, "last_edit_date": 1444729515, "creation_date": 1444376665, "answer_id": 33032693, "question_id": 32998062, "link": "https://stackoverflow.com/questions/32998062/why-sfinae-requires-the-enable-class-template-parameter/33032693#33032693", "title": "Why SFINAE requires the &#39;Enable&#39; class template parameter?", "body": "<p>Finally the question was not even related to SFINAE!</p>\n\n<p>Consider this very simple snippet without SFINAE:<br>\n<code>enable&lt;T&gt;::type</code> is always same as <code>T</code> whatever the provided <code>T</code> type.</p>\n\n<pre><code>template &lt;class T&gt;\nstruct enable\n{ typedef T type; };       // Enable always\n\ntemplate &lt;class U, class V&gt;\nstruct Foo\n{\n    static int bar() { return 0; }\n};\n\ntemplate &lt;class X, class Y&gt; //ERROR non-deducible parameter 'X'\nstruct Foo&lt; typename enable&lt;X&gt;::type, Y &gt;\n{\n    static int bar() { return 1; }\n};\n\nint main()\n{\n    return Foo&lt;int, bool&gt;::bar();\n}\n</code></pre>\n\n<p>When compiler tries to match <code>Foo&lt;int, bool&gt;</code> with <code>Foo&lt;typename enable&lt;X&gt;::type,Y&gt;</code></p>\n\n<ul>\n<li><code>1st param U = int  &lt;--&gt; enable&lt;X&gt;::type</code> => Cannot deduce <code>X</code></li>\n<li><code>2nd param V = bool &lt;--&gt; Y</code></li>\n</ul>\n\n<p>Compiler is not designed to deduce <code>X</code> from equation <code>int = enable&lt;X&gt;::type</code>.<br>\nTherefore, compiler needs some help from developer.<br>\nAnother parameter is required: <code>Enable</code>.</p>\n\n<p>The below fixed snippet add the <code>Enable</code> class template parameter.<br>\nThe compiler performs the following matching:</p>\n\n<ul>\n<li><code>1st param U     =int &lt;--&gt; X</code></li>\n<li><code>2nd param V     =bool&lt;--&gt; Y</code></li>\n<li><code>3rd param Enable=int &lt;--&gt; enable&lt;X&gt;::type</code> (deduced <code>X</code> from 1st param)<br>\n<sup>(3rd param is <code>int</code> because declaration <code>class Enable=U</code> means <em>by default 3rd param same as 1st one</em>)</sup></li>\n</ul>\n\n<p>Fixed snippet:</p>\n\n<pre><code>template &lt;class T&gt;\nstruct enable\n{ typedef T type; };       // Enable always\n\ntemplate &lt;class U, class V, class Enable = U&gt;\nstruct Foo\n{\n    static int bar() { return 0; }\n};\n\ntemplate &lt;class X, class Y&gt; // Compiler can deduce 'X'\nstruct Foo&lt; X, Y, typename enable&lt;X&gt;::type &gt;\n{\n    static int bar() { return 1; }\n};\n\nint main()\n{\n    return Foo&lt;int, bool&gt;::bar();\n}\n</code></pre>\n"}], "owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1444729515, "creation_date": 1444236692, "last_edit_date": 1444378849, "question_id": 32998062, "link": "https://stackoverflow.com/questions/32998062/why-sfinae-requires-the-enable-class-template-parameter", "title": "Why SFINAE requires the &#39;Enable&#39; class template parameter?", "body": "<p><sup>(this question is not related to C++11/C++14: the examples are compiled using C++03)</sup></p>\n\n<p><code>enable_bool&lt;T&gt;</code> has a member <code>::type</code> only when <code>T</code> is <code>bool</code></p>\n\n<pre><code>template &lt;class T&gt;\nstruct enable_bool\n{};\n\ntemplate &lt;&gt;\nstruct enable_bool&lt; bool &gt;\n{ typedef bool type; };\n</code></pre>\n\n<p>In the next snippet, the partial specialization is correct (see <a href=\"http://goo.gl/n4U4QL\" rel=\"nofollow\">gcc.godbolt.org</a>)</p>\n\n<pre><code>template &lt;class T, class U, class Enable = T&gt;\nstruct Foo\n{\n    static int bar() { return 0; }\n};\n\ntemplate &lt;class T, class U&gt;\nstruct Foo&lt; T, U, typename enable_bool&lt;T&gt;::type &gt;\n{\n    static int bar() { return 1; }\n};\n\nint main()\n{\n    return Foo &lt;int, bool&gt;::bar();\n}\n</code></pre>\n\n<p>As <code>enable_bool&lt;T&gt;::type</code> already corresponds to <code>T</code> (when <code>T</code> is <code>bool</code>)<br>\nwe are tempted to factorize parameters <code>T</code> and <code>Enable</code>.<br>\nBut compiler complains (see <a href=\"http://goo.gl/XjDCpk\" rel=\"nofollow\">gcc.godbolt.org</a>)</p>\n\n<pre><code>template &lt;class T, class U&gt;\nstruct Foo\n{\n    static int bar() { return 0; }\n};\n\ntemplate &lt;class T, class U&gt; //ERROR non-deducible template parameter 'T'\nstruct Foo&lt; typename enable_bool&lt;T&gt;::type, U &gt;\n{\n    static int bar() { return 1; }\n};\n</code></pre>\n\n<p><strong>Why compiler cannot deduce template parameter <code>T</code> in this above partial specialization?</strong></p>\n"}, {"tags": ["c++", "clang", "visual-studio-2015"], "comments": [{"owner": {"reputation": 54437, "user_id": 108796, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1yySS.jpg?s=128&g=1", "display_name": "Blindy", "link": "https://stackoverflow.com/users/108796/blindy"}, "edited": false, "score": 1, "creation_date": 1444236909, "post_id": 32998017, "comment_id": 53820934, "body": "You can write your own msbuild file and build it manually, but Visual Studio works with their own compiler."}, {"owner": {"reputation": 145, "user_id": 3227962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf7c289e5453905a2d5b0a9c42969f06?s=128&d=identicon&r=PG&f=1", "display_name": "Rino Seminara", "link": "https://stackoverflow.com/users/3227962/rino-seminara"}, "reply_to_user": {"reputation": 54437, "user_id": 108796, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/1yySS.jpg?s=128&g=1", "display_name": "Blindy", "link": "https://stackoverflow.com/users/108796/blindy"}, "edited": false, "score": 0, "creation_date": 1444237095, "post_id": 32998017, "comment_id": 53821054, "body": "@Blindy Thanks! Could you suggest me a tutorial to write my msbuild file?"}], "owner": {"reputation": 145, "user_id": 3227962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf7c289e5453905a2d5b0a9c42969f06?s=128&d=identicon&r=PG&f=1", "display_name": "Rino Seminara", "link": "https://stackoverflow.com/users/3227962/rino-seminara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444236558, "creation_date": 1444236558, "question_id": 32998017, "link": "https://stackoverflow.com/questions/32998017/install-clang-3-4-on-visual-studio-2015", "title": "Install clang 3.4 on Visual Studio 2015", "body": "<p>The final release of Visual Studio 2015 uses clang 3.6.</p>\n\n<p>On my projects, I use more libraries that was compiled with clang 3.4.\nIs there a way to install clang 3.4 on Visual Studio 2015?</p>\n"}, {"tags": ["c++", "boost"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1444236646, "post_id": 32997984, "comment_id": 53820771, "body": "Are you sure it&#39;s that line that causes the error? Doesn&#39;t look like it."}, {"owner": {"reputation": 754, "user_id": 1183663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/091c84731b4eb7e0f7613b9071c28771?s=128&d=identicon&r=PG", "display_name": "John L. Jegutanis", "link": "https://stackoverflow.com/users/1183663/john-l-jegutanis"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444307842, "post_id": 32997984, "comment_id": 53854871, "body": "When I replaced the <code>boost::tuples::make_tuple</code> call with creating the <code>data</code> tuple directly solved the problem."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444308286, "post_id": 32997984, "comment_id": 53855220, "body": "Yes, that makes much more sense than what you said in the question."}], "answers": [{"tags": [], "owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "is_accepted": false, "score": 0, "last_activity_date": 1444236631, "creation_date": 1444236631, "answer_id": 32998046, "question_id": 32997984, "link": "https://stackoverflow.com/questions/32997984/how-to-use-a-map-of-tuples-with-boost/32998046#32998046", "title": "How to use a map of tuples with Boost?", "body": "<p>Try using:</p>\n\n<pre><code>string(\"xxx\")\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>\"xxx\"\n</code></pre>\n\n<p>for each string you have inside make_tuple calls.</p>\n"}, {"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 4, "last_activity_date": 1444244553, "creation_date": 1444244553, "answer_id": 33000370, "question_id": 32997984, "link": "https://stackoverflow.com/questions/32997984/how-to-use-a-map-of-tuples-with-boost/33000370#33000370", "title": "How to use a map of tuples with Boost?", "body": "<p>Engaging my crystal ball: </p>\n\n<p>I think you have used <code>decltype(obj)</code> where object was the result of <code>std::make_tuple(\"abcdefghijk\",...)</code> or <code>std::tie(\"abcdefghij\",...)</code>.</p>\n\n<p>This is because the error message talks about this type of tuple element (<code>const char (&amp;)[12]</code>).</p>\n\n<hr>\n\n<p>Demonstration that the above code is fine:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/eed2c9d391801b72\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/assign.hpp&gt;\n#include &lt;boost/tuple/tuple.hpp&gt;\n#include &lt;map&gt;\n\ntypedef boost::tuples::tuple&lt;std::string, std::string, unsigned char&gt; data;\ntypedef std::map&lt;uint64_t, data&gt; data_map;\n\nint main() {\n\n    const data_map DATA = boost::assign::map_list_of\n            (0, boost::tuples::make_tuple(\"XXX\", \"xxx\", 0))\n            (1, boost::tuples::make_tuple(\"YYY\", \"yyy\", 1))\n            (2, boost::tuples::make_tuple(\"ZZZ\", \"zzz\", 2));\n\n\n    data_map::const_iterator itData = DATA.find(2);\n    data metadata = itData-&gt;second;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 1183663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/091c84731b4eb7e0f7613b9071c28771?s=128&d=identicon&r=PG", "display_name": "John L. Jegutanis", "link": "https://stackoverflow.com/users/1183663/john-l-jegutanis"}, "is_accepted": true, "score": 0, "last_activity_date": 1444307752, "creation_date": 1444307752, "answer_id": 33015992, "question_id": 32997984, "link": "https://stackoverflow.com/questions/32997984/how-to-use-a-map-of-tuples-with-boost/33015992#33015992", "title": "How to use a map of tuples with Boost?", "body": "<p>When replacing <code>boost::tuples::make_tuple</code> with creating the <code>data</code> tuple directly worked:</p>\n\n<pre><code>typedef boost::tuples::tuple&lt;std::string, std::string, unsigned char&gt; data;\n\nconst data_map DATA = boost::assign::map_list_of\n        (0, data(\"XXX\", \"xxx\", 0))\n        (1, data(\"YYY\", \"yyy\", 1))\n        (2, data(\"ZZZ\", \"zzz\", 2))\n</code></pre>\n"}], "owner": {"reputation": 754, "user_id": 1183663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/091c84731b4eb7e0f7613b9071c28771?s=128&d=identicon&r=PG", "display_name": "John L. Jegutanis", "link": "https://stackoverflow.com/users/1183663/john-l-jegutanis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 33015992, "answer_count": 3, "score": 0, "last_activity_date": 1444307752, "creation_date": 1444236426, "question_id": 32997984, "link": "https://stackoverflow.com/questions/32997984/how-to-use-a-map-of-tuples-with-boost", "title": "How to use a map of tuples with Boost?", "body": "<p>Trying to map ids to tuples containing arbitrary data:</p>\n\n<pre><code>typedef boost::tuples::tuple&lt;std::string, std::string, unsigned char&gt; data;\ntypedef std::map&lt;uint64, data&gt; data_map;\n\nconst data_map DATA = boost::assign::map_list_of\n        (0, boost::tuples::make_tuple(\"XXX\", \"xxx\", 0))\n        (0, boost::tuples::make_tuple(\"YYY\", \"yyy\", 1))\n        (0, boost::tuples::make_tuple(\"ZZZ\", \"zzz\", 2))\n</code></pre>\n\n<p>How can I access the tuples in the DATA map? I am trying with:</p>\n\n<pre><code>data_map::const_iterator itData = DATA.find(id);\n</code></pre>\n\n<p>But then accessing it (after checking if found) with:</p>\n\n<pre><code>data metadata = itData-&gt;second;\n</code></pre>\n\n<p>Throws an error:</p>\n\n<pre><code>error: invalid initialization of reference of type 'boost::tuples::cons&lt;const char (&amp;)[12], boost::tuples::cons&lt;int, boost::tuples::null_type&gt; &gt;::stored_head_type {aka const char (&amp;)[12]}' from expression of type 'const char [11]'\n</code></pre>\n"}, {"tags": ["c++", "io", "fstream"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1444236103, "post_id": 32997807, "comment_id": 53820437, "body": "I&#39;m only going to answer your first question. Please only post <i>one question per question</i>. Besides, you can answer your second question with ten seconds reading your favourite C++ standard library documentation."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444236154, "post_id": 32997807, "comment_id": 53820475, "body": "<a href=\"http://en.cppreference.com/w/cpp/io/basic_fstream/basic_fstream\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/basic_fstream/basic_fstream</a>"}, {"owner": {"reputation": 994, "user_id": 5348990, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/bf9b29188c0f8f2318a5e14dc1ca7319?s=128&d=identicon&r=PG&f=1", "display_name": "jackycflau", "link": "https://stackoverflow.com/users/5348990/jackycflau"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444236244, "post_id": 32997807, "comment_id": 53820526, "body": "oh I search it on some website for my second question... is it ios_base::in | ios_base::out ?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444236513, "post_id": 32997807, "comment_id": 53820694, "body": "Yes, it is, as the documentation I&#39;ve linked you to says!"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 2, "creation_date": 1444236567, "post_id": 32997807, "comment_id": 53820723, "body": "In your first version you missed out the <i>identifier</i> making a <i>temporary</i>. Did you mean: <code>fstream fin(&quot;file.txt&quot;,ios::app);</code>?"}, {"owner": {"reputation": 994, "user_id": 5348990, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/bf9b29188c0f8f2318a5e14dc1ca7319?s=128&d=identicon&r=PG&f=1", "display_name": "jackycflau", "link": "https://stackoverflow.com/users/5348990/jackycflau"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1444236663, "post_id": 32997807, "comment_id": 53820786, "body": "@Galik no... I&#39;m just using the constructor of fstream"}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 4, "last_activity_date": 1444236077, "creation_date": 1444236077, "answer_id": 32997874, "question_id": 32997807, "link": "https://stackoverflow.com/questions/32997807/the-difference-between-using-fstream-constructor-and-open-function/32997874#32997874", "title": "The difference between using fstream constructor and open function", "body": "<p>No, there are no differences there.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1444236146, "creation_date": 1444236146, "answer_id": 32997886, "question_id": 32997807, "link": "https://stackoverflow.com/questions/32997807/the-difference-between-using-fstream-constructor-and-open-function/32997886#32997886", "title": "The difference between using fstream constructor and open function", "body": "<blockquote>\n  <p>For (1), I don't need to use .open function again right?</p>\n</blockquote>\n\n<p>That is correct.</p>\n\n<blockquote>\n  <p>Any functional differences between the two expression?</p>\n</blockquote>\n\n<p>Not that I can think of.</p>\n\n<blockquote>\n  <p>My second question is that if I left the openmode empty, what will be the default open mode?</p>\n</blockquote>\n\n<p>It is <code>ios_base::in|ios_base::out</code>. See <a href=\"http://en.cppreference.com/w/cpp/io/basic_fstream/open\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/io/basic_fstream/open</a> for further details.</p>\n"}, {"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 11, "last_activity_date": 1444236552, "last_edit_date": 1444236552, "creation_date": 1444236272, "answer_id": 32997939, "question_id": 32997807, "link": "https://stackoverflow.com/questions/32997807/the-difference-between-using-fstream-constructor-and-open-function/32997939#32997939", "title": "The difference between using fstream constructor and open function", "body": "<p>There are no differences in terms of the state of the objects following your two snippets.</p>\n\n<p>Why are there two versions?</p>\n\n<ol>\n<li><p>The ctor exists in order to create <code>fstream</code> objects that are immediately  associated with a stream.</p></li>\n<li><p>The <code>open</code> exists because these types of objects cannot be copied. Hence you cannot assign an <code>fstream</code> object to a different stream by writing:</p>\n\n<pre><code>fstream foo('bblskd');\n// ...\nfoo = fstream('skdjf');\n</code></pre></li>\n</ol>\n\n<p>(Note that this interface was devised before move semantics).</p>\n\n<hr>\n\n<p>You can find the default open mode <a href=\"http://www.cplusplus.com/reference/fstream/fstream/fstream/\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4682, "user_id": 360270, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1gH9s.jpg?s=128&g=1", "display_name": "starmole", "link": "https://stackoverflow.com/users/360270/starmole"}, "is_accepted": false, "score": 0, "last_activity_date": 1501835992, "creation_date": 1501835992, "answer_id": 45502062, "question_id": 32997807, "link": "https://stackoverflow.com/questions/32997807/the-difference-between-using-fstream-constructor-and-open-function/45502062#45502062", "title": "The difference between using fstream constructor and open function", "body": "<p>This is a really old question, but none of the answers are right in my opinion. </p>\n\n<p>Both versions are the same. But the reason for having a separate open is for when you want to create your own class that inherits from basic_fstream. And you want to do something with the input to the constructor before and/or after. </p>\n\n<pre><code>class MoleStream : public std::basic_fstream&lt;char&gt; {\npublic:\n    MoleStream () : std::basic_fstream&lt;char&gt; (\"defaultmole\") { }\n\n    MoleStream ( const char *fn ) {\n        std::string s = fn; s+=\".mole\";\n        std::basic_fstream&lt;char&gt;::open (s);\n        if ( !is_open() )\n            std::basic_fstream&lt;char&gt;::open (fn);\n    }\n};\n</code></pre>\n\n<p>The second MoleStream constructor does stuff before and after the open. This might not be good practice in c++, but it can be useful. </p>\n"}], "owner": {"reputation": 994, "user_id": 5348990, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/bf9b29188c0f8f2318a5e14dc1ca7319?s=128&d=identicon&r=PG&f=1", "display_name": "jackycflau", "link": "https://stackoverflow.com/users/5348990/jackycflau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4644, "favorite_count": 1, "accepted_answer_id": 32997939, "answer_count": 4, "score": 8, "last_activity_date": 1501835992, "creation_date": 1444235871, "last_edit_date": 1592644375, "question_id": 32997807, "link": "https://stackoverflow.com/questions/32997807/the-difference-between-using-fstream-constructor-and-open-function", "title": "The difference between using fstream constructor and open function", "body": "<p>I have a simple question about the constructor of fstream and the .open function.\nAre there any differences between the following two expression?</p>\n<h1>1</h1>\n<pre><code>fstream(&quot;file.txt&quot;,ios::app);\n</code></pre>\n<h1>2</h1>\n<pre><code>fstream fin;\nfin.open(&quot;file.txt&quot;,ios::app);\n</code></pre>\n<p>For (1), I don't need to use .open function again right? Any functional differences between the two expression?</p>\n<p>My second question is that if I left the openmode empty, what will be the default open mode?</p>\n"}, {"tags": ["c++", "c", "sockets", "solaris", "getsockopt"], "comments": [{"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1444236763, "post_id": 32997754, "comment_id": 53820843, "body": "are you sure you want SO_STATE?  It seems you might awaken an ancient evil by touching that."}, {"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1444237171, "post_id": 32997754, "comment_id": 53821092, "body": "yes i want to use SO_STATE , but it seems like there is no way , and no alternative present in solaris 10 to use this option."}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1444238443, "post_id": 32997754, "comment_id": 53821816, "body": "what does SO_STATE even do, or rather used to do?"}, {"owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1444238829, "post_id": 32997754, "comment_id": 53822048, "body": "SO_STATE return a integer value where each bit ( in integer value) have different meaning , so if sockbufsize is 32 , it mean 5th bit is set , and it represent &quot;connection indication for poll&quot; I think."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 3, "creation_date": 1444246537, "post_id": 32997754, "comment_id": 53826685, "body": "It&#39;s been a very long time since it was removed. And you can not use it on Solaris 10 even if you just put the numeric value there - getsockopt will fail. Tell us why do you need it, and we will probably be able to tell you how to do this. XY problem, I belive."}], "owner": {"reputation": 349, "user_id": 2459643, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2a19c9ae6514a7489f9223c932cfdb7?s=128&d=identicon&r=PG", "display_name": "pankaj kushwaha", "link": "https://stackoverflow.com/users/2459643/pankaj-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444236548, "creation_date": 1444235735, "last_edit_date": 1444236548, "question_id": 32997754, "link": "https://stackoverflow.com/questions/32997754/how-to-get-socket-state-in-solaris-10", "title": "How to get socket state in solaris 10?", "body": "<p>How to get socket state in solaris 10?</p>\n\n<p>In solaris 8 , there used to be SO_STATE macro in socket.h , and we were able to use it as below:</p>\n\n<pre><code>getsockopt(skt, SOL_SOCKET, SO_STATE, (char *)&amp;sockbufsize, &amp;size);\n</code></pre>\n\n<p>But, there is no such macro supported in solaris 10. So, how to do it in solaris 10?</p>\n"}, {"tags": ["c++", "objective-c", "xcode", "macos", "osx-yosemite"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1444243577, "post_id": 32997707, "comment_id": 53824810, "body": "Consider using Common Crypto, it is part of the Apple supplied Security.framework. It is very fast 3.644 mSec for 1,000,000 bytes on an iPhone 6s. It is also FIPS-140-2 validated. Generally only a few lines of code. Also if possible consider SHA-256, MD5 is not suitable for new work."}, {"owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1444321537, "post_id": 32997707, "comment_id": 53865086, "body": "Unfortunately the project that I am working on, I have inherited the code from previous developers and trying to rework a lot of their existing code is not a feasible solution."}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1444330001, "post_id": 32997707, "comment_id": 53869753, "body": "Ah, another day, another successful attack! I love reading about the successful exploits and this is exactly how so many start. Companies keep putting off security updates until they becone a Target. I just ran timings on Common Crypto MD5, in the last four years the speed on an iPhone increased 6x. I can do 250K MD5 typical password hashes a second on an iPhone6s so I could run through 250K potential passwords in a second. Not so secure. SHA-256 is suitable for file hashes, etc but not passwords, for that there is PBKDF2 with a million or so iterations."}, {"owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1445154801, "post_id": 32997707, "comment_id": 54196459, "body": "@zaph, i completely agree. however, this is just a school project."}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1445171530, "post_id": 32997707, "comment_id": 54200891, "body": "Ah, that is even better, schools teaching to use MD5, even more exploits coming up."}, {"owner": {"reputation": 880, "user_id": 125628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0262ba26be80a0e7826bef4635ab67?s=128&d=identicon&r=PG", "display_name": "Huperniketes", "link": "https://stackoverflow.com/users/125628/huperniketes"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1460768578, "post_id": 32997707, "comment_id": 60910891, "body": "Give it to &#39;em, @zaph! Complacency and Optimism are two of the seven deadly sins of the &quot;programming is an art&quot; philosophy."}], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "edited": false, "score": 0, "creation_date": 1444237508, "post_id": 32997868, "comment_id": 53821291, "body": "Like I mentioned before I have installed the developers tool and verified that /usr/include/ directory was present. I did not know i had to pass those linker flags thank you for that."}, {"owner": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "reply_to_user": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "edited": false, "score": 0, "creation_date": 1444305437, "post_id": 32997868, "comment_id": 53853152, "body": "Actually, you did not say you had installed the &quot;Command line tools&quot; package (but I deduced you did because you have openssl headers in /usr/include/). I started with this point in my answer for the other developers that might get the same message about one of the openssl header missing."}, {"owner": {"reputation": 1942, "user_id": 1682779, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0d5c7cde1541e1e74dc6fd6e4391ad5b?s=128&d=identicon&r=PG", "display_name": "Durgaprasad", "link": "https://stackoverflow.com/users/1682779/durgaprasad"}, "edited": false, "score": 0, "creation_date": 1454395266, "post_id": 32997868, "comment_id": 58012540, "body": "Where to add this flags. I tried in other linker flag. But did not work."}], "tags": [], "owner": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "is_accepted": false, "score": 1, "last_activity_date": 1444236070, "creation_date": 1444236070, "answer_id": 32997868, "question_id": 32997707, "link": "https://stackoverflow.com/questions/32997707/md5-h-file-not-found-error-xcode-7-for-mac-application/32997868#32997868", "title": "md5.h File Not Found error Xcode 7 for Mac application", "body": "<p>You need to install Xcode Command line tools from here for your exact Xcode version:\n<a href=\"https://developer.apple.com/downloads/\" rel=\"nofollow\">https://developer.apple.com/downloads/</a></p>\n\n<p>Then, openssl source will be installed in /usr/include.</p>\n\n<p>Also, you need to link with openssl by adding \"-lcrypto\" and \"-lssl\" (if you need SSL too) in your linker's flags </p>\n"}, {"comments": [{"owner": {"reputation": 1942, "user_id": 1682779, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0d5c7cde1541e1e74dc6fd6e4391ad5b?s=128&d=identicon&r=PG", "display_name": "Durgaprasad", "link": "https://stackoverflow.com/users/1682779/durgaprasad"}, "edited": false, "score": 0, "creation_date": 1454394269, "post_id": 33195572, "comment_id": 58012164, "body": "hi, I m trying to solve same issue. from where can I find openssl folder. I installed new hardDisk. So everything is fresh installed. In earlier hard disk I had xcode7.2. But it worked there. Now I am having this issue with fresh checkout."}, {"owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "reply_to_user": {"reputation": 1942, "user_id": 1682779, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0d5c7cde1541e1e74dc6fd6e4391ad5b?s=128&d=identicon&r=PG", "display_name": "Durgaprasad", "link": "https://stackoverflow.com/users/1682779/durgaprasad"}, "edited": false, "score": 0, "creation_date": 1454468169, "post_id": 33195572, "comment_id": 58053549, "body": "So the way i solved it was i copied the files from <code>&#47;usr&#47;include&#47;</code> and went into the application package and copied into the <code>usr</code> directory in their. If you have el capitan installed you have to download the latest from apple&#39;s developer&#39;s website."}], "tags": [], "owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "is_accepted": true, "score": 1, "last_activity_date": 1445154659, "creation_date": 1445154659, "answer_id": 33195572, "question_id": 32997707, "link": "https://stackoverflow.com/questions/32997707/md5-h-file-not-found-error-xcode-7-for-mac-application/33195572#33195572", "title": "md5.h File Not Found error Xcode 7 for Mac application", "body": "<p>I have finally figured it out. In the latest version of Xcode, apparently it does not look in the /usr/include/. I even tried to add this to the User header search path, but that ended up throwing more errors. </p>\n\n<p>So I had to manually copy into Xcode's own internal usr directory:</p>\n\n<p>/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include</p>\n\n<p>After copying over the openssl folder, relaunched xcode and the error went away. I dont know why apple decided to move the Developer's folder within the app itself or why it doesnt just look in the /usr/ folder like gcc/g++ does, but this is a workaround that works for me now.</p>\n"}], "owner": {"reputation": 585, "user_id": 2697188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/80f049a8ea39dae4db4c7e9c8dc6b730?s=128&d=identicon&r=PG&f=1", "display_name": "mjl007", "link": "https://stackoverflow.com/users/2697188/mjl007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5485, "favorite_count": 1, "accepted_answer_id": 33195572, "answer_count": 2, "score": 2, "last_activity_date": 1445154659, "creation_date": 1444235577, "question_id": 32997707, "link": "https://stackoverflow.com/questions/32997707/md5-h-file-not-found-error-xcode-7-for-mac-application", "title": "md5.h File Not Found error Xcode 7 for Mac application", "body": "<p>I am trying to use the md5 module from the openSSL library. So in one of my header I included the openssl library by including it like this:</p>\n\n<pre><code>#include &lt;openssl/md5.h&gt;\n</code></pre>\n\n<p>However Xcode is giving me the message md5.h file not found. I went into my /usr/include and confirmed that openssl/md5.h was present. </p>\n\n<p>Here are the things that I have tried to solve the issue:</p>\n\n<ul>\n<li>I cleaned my project</li>\n<li>Made sure to include the libcrypto.dylib in the framework/library\nsection</li>\n<li>I have included the /usr/include/ in the User Header search path and Header   search path within the build settings and have set it to recursively search sub directories</li>\n</ul>\n\n<p>I am currently running OS X 10.10.5 and my Xcode version is 7.0.1</p>\n"}, {"tags": ["c++", "templates", "c++14"], "comments": [{"owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "edited": false, "score": 0, "creation_date": 1444236522, "post_id": 32997699, "comment_id": 53820700, "body": "Based on my understanding if another constructor is available for <code>C c1{&quot;abc&quot;, 2};</code> than <code>std::enable_if_t</code> will have no value, and therefore create something like <code>template &lt;typename... T, typename = &gt;</code> and SFINAE would not create the templated constructor."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 1, "creation_date": 1444239038, "post_id": 32997699, "comment_id": 53822176, "body": "Reposting my comment on your answer: <a href=\"http://melpon.org/wandbox/permlink/JM2U8pxxvguewhd1\" rel=\"nofollow noreferrer\">this modified example</a> shows that the default argument SFINAE considers <i>all</i> constructors of <code>C</code>, even those that are declared after the constructor template."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1444239975, "post_id": 32997699, "comment_id": 53822727, "body": "For what little it&#39;s worth, MSVC 2013 also accepts this syntax under /W4 and prints the same thing as gcc and clang with <a href=\"http://coliru.stacked-crooked.com/a/1fe984a4ceb6e193\" rel=\"nofollow noreferrer\">this example</a>, though it <i>does</i> warn about multiple default constructors, and intellisense doesn&#39;t seem to think that the third call to <code>Foo::Foo</code> is valid. (Again, this is despite VC++ 18 being fine with it)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1444269681, "post_id": 32997699, "comment_id": 53835457, "body": "The current working draft doesn&#39;t describe when default template arguments are instantiated (see <a href=\"http://wg21.link/cwg2008\" rel=\"nofollow noreferrer\">CWG 2008</a>), so I don&#39;t really see how this question can be satisfactorily answered."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1444270250, "post_id": 32997699, "comment_id": 53835612, "body": "This isn&#39;t the only problem with <code>is_constructible</code> + default function/template arguments. See, e.g., <a href=\"http://wg21.link/lwg2452\" rel=\"nofollow noreferrer\">LWG 2452</a>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1444338144, "post_id": 32997699, "comment_id": 53874116, "body": "@T.C. I sure know how to pick &#39;em. Sounds like some combination of that is an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444402084, "post_id": 33040916, "comment_id": 53903067, "body": "@dyp possibly.  I was just pointing out that the solution presented doesn&#39;t actually work.  I guess I went off and solved the original problem as well.  ;)  Ok, split it into two parts."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444402873, "post_id": 33040916, "comment_id": 53903625, "body": "Where does the Standard specify the point of instantiation of template default-arguments? T.C. seems to imply in the comments to the OP that this is underspecified.."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444403347, "post_id": 33040916, "comment_id": 53903971, "body": "@dyp Sure, I can believe lots of things are under-specified in the standard.  So either it doesn&#39;t work (because it is instantiated late enough to see itself?), or it works (and breaks the world, as it gets the wrong answer)?  My point is that relying on <code>is_constructible</code> to get the wrong answer is not a solution, but a problem hiding in the guise of a solution."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444403910, "post_id": 33040916, "comment_id": 53904349, "body": "Not sure I understand your point: <code>is_constructible</code> works in the way Barry expected it; it seems to be instantiated late (gets the right answer) but doesn&#39;t cause infinite recursion by re-instantiating the constructor template it is part of. I&#39;m not sure if it&#39;s allowed to get the wrong answer, nor am I sure if it&#39;s allowed to break because of infinite recursion (but I guess both are underspecified)."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1444404027, "post_id": 33040916, "comment_id": 53904432, "body": "&quot;I can be constructed from every set of types I can&#39;t be constructed from&quot; is simply paradoxical. I can definitely see it being made ill-formed NDR."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1444404131, "post_id": 33040916, "comment_id": 53904497, "body": "@T.C. Hmm, good point, I missed that it was a paradox in my previous comments, and was thinking &quot;if only the compiler cheated and got the right answer, everything would be ok&quot;.  But there is no way for everything to be ok sometimes.  I blame Russell."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1444404151, "post_id": 33040916, "comment_id": 53904507, "body": "@Yakk This technique does see constructors declared <i>after</i> this weird constructor template, see my comment to the OP. Also, the default template argument can only be instantiated <i>after</i> the class template has been instantiated, AFAIK. It needs the function/constructor argument types, for example."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1444420063, "post_id": 33040916, "comment_id": 53912976, "body": "@Yakk Why does <code>is_constructible&lt;&gt;</code> get the wrong answer for my approach?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1444420962, "post_id": 33040916, "comment_id": 53913416, "body": "@Barry I don&#39;t know why it does technically; in practice, because it cannot give the answer false and it be the right answer: if it returns false, you define a constructor that can construct using those exact same arguments. Which means that it was the wrong answer. Now, if it then returned true, you would no longer define that constructor, and without another one to back it up, it would also be wrong. You have encoded &quot;this constructor exists if it does not exist&quot;. The standard could mandate that your program is ill-formed, or it could mandate that <code>is_constructible</code> gets the wrong answer."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1444421028, "post_id": 33040916, "comment_id": 53913451, "body": "@Barry There are arguments that the answer is &quot;the standard doesn&#39;t specify well enough what should happen&quot;, but that is beyond my standard-delving abilities.  My answer tries to demonstrate &quot;there is no good answer here for the standard to mandate&quot;, not what the standard states happens."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1444421425, "post_id": 33040916, "comment_id": 53913650, "body": "@Yakk That makes sense to me."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 10, "last_activity_date": 1444420067, "last_edit_date": 1495542597, "creation_date": 1444401162, "answer_id": 33040916, "question_id": 32997699, "link": "https://stackoverflow.com/questions/32997699/fallback-variadic-constructor-why-does-this-work/33040916#33040916", "title": "Fallback variadic constructor - why does this work?", "body": "<p>The issue with your code is that we just instantiated <code>is_constructible</code> in a context where <em>it gets the answer wrong</em>.  Any kind of caching in the template code is likely to result in bugs -- try printing <code>is_constructible</code> on the same parameters after you call the constructor!  It is likely to get it wrong.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/074de74fe5e8fd86\" rel=\"noreferrer\">Live example</a> of how it can go wrong.  Notice it claims <code>C</code> cannot be constructed from an <code>int&amp;</code>, despite having done so on the previous line.</p>\n\n<pre><code>struct C {\n  C(const char*, size_t) {}\n  template &lt;class... Ts,\n    typename = std::enable_if_t&lt;!std::is_constructible&lt;C, Ts&amp;&amp;...&gt;::value&gt;\n  &gt;\n  C(Ts&amp;&amp;... ) { }\n};\n\nint main() {\n  int a = 0;\n  C x{a};\n  std::cout &lt;&lt; std::is_constructible&lt;C, int&amp;&gt;{} &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>oops.</p>\n\n<p>I suspect this might be an ODR violation -- the two definitions of <code>is_constructible</code> have different types at different spots?  Or maybe not.</p>\n\n<p><a href=\"https://stackoverflow.com/a/33041242/1774667\">Solution to the original problem that does not have this issue</a> also posted.</p>\n"}], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 33040916, "answer_count": 1, "score": 13, "last_activity_date": 1444420067, "creation_date": 1444235553, "last_edit_date": 1495540742, "question_id": 32997699, "link": "https://stackoverflow.com/questions/32997699/fallback-variadic-constructor-why-does-this-work", "title": "Fallback variadic constructor - why does this work?", "body": "<p>In answering <a href=\"https://stackoverflow.com/q/32957830/2069064\">this question</a> about trying to construct a variadic forwarding reference constructor that should only be called if no other constructor is valid. That is, if there was a:</p>\n\n<pre><code>C(const char*, size_t) { }                     // 1\ntemplate &lt;typename... T, ???&gt; C(T&amp;&amp;... ) { }   // 2\n</code></pre>\n\n<p>We'd want <code>C c1{\"abc\", 2};</code> to call (1), despite the required conversion, but <code>C c2{1, 2, 3};</code> to call (2), as (1) cannot apply. </p>\n\n<p>I proposed the following solution:</p>\n\n<pre><code>template &lt;typename... T,\n          typename = std::enable_if_t&lt;!std::is_constructible&lt;C, T&amp;&amp;...&gt;::value&gt;\n           &gt;\nC(T&amp;&amp;... ) { }\n</code></pre>\n\n<p>And by proposed, I mean, I tried it and was surprised to discover that it actually works. It compiles and does exactly what I had hoped for on both gcc and clang. However, I am at a loss to explain <em>why</em> it works or even if it's actually <em>supposed</em> to work and gcc and clang are both just being particularly accommodating. Is it? Why? </p>\n"}, {"tags": ["c++", "linux", "printf"], "comments": [{"owner": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "edited": false, "score": 0, "creation_date": 1444235614, "post_id": 32997609, "comment_id": 53820141, "body": "This seems very easy to do by hand. Remember however that there is no 1:1 mapping between char and type, because for example, float are promoted to double when passed through va_args, or/and you can print float via &quot;%g&quot; or &quot;%f&quot; or &quot;%a&quot; etc... It also depends on the platform you&#39;re on (%I64d for windows, but %lld for linux)"}, {"owner": {"reputation": 2007, "user_id": 543913, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a7d76a4187acf1918902f0a2ab239aba?s=128&d=identicon&r=PG", "display_name": "dshin", "link": "https://stackoverflow.com/users/543913/dshin"}, "reply_to_user": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "edited": false, "score": 1, "creation_date": 1444236907, "post_id": 32997609, "comment_id": 53820930, "body": "@xryl669 Thanks for the comment. I&#39;m on linux, and don&#39;t care about supporting any other platform. When you say it is easy to do by hand, are you suggesting to parse the string character by character, without using functions like parse_printf_format()?"}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1444237742, "post_id": 32997609, "comment_id": 53821406, "body": "Can you clarify your use-case need for this information a little bit? There&#39;s a chance there may be a much better approach than parsing printf strings."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444240314, "post_id": 32997609, "comment_id": 53822902, "body": "Here&#39;s a nice chart showing the information, including signed and unsigned: <a href=\"http://en.cppreference.com/w/c/io/fprintf\" rel=\"nofollow noreferrer\">printf</a>."}, {"owner": {"reputation": 2007, "user_id": 543913, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a7d76a4187acf1918902f0a2ab239aba?s=128&d=identicon&r=PG", "display_name": "dshin", "link": "https://stackoverflow.com/users/543913/dshin"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1444241717, "post_id": 32997609, "comment_id": 53823714, "body": "@ThomasMatthews Thanks for the chart. I was hoping to avoid coding up that chart myself, since clearly gcc already has it implicitly (in order to support compiler warnings for printf() calls)."}, {"owner": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "edited": false, "score": 0, "creation_date": 1444305667, "post_id": 32997609, "comment_id": 53853300, "body": "@dshin parse_printf_format is used to extract the type for the VA_ARG scheme, not to give a 1:1 type identification."}], "answers": [{"tags": [], "owner": {"reputation": 2920, "user_id": 1469714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/R5rUf.png?s=128&g=1", "display_name": "xryl669", "link": "https://stackoverflow.com/users/1469714/xryl669"}, "is_accepted": true, "score": 4, "last_activity_date": 1444307415, "creation_date": 1444307415, "answer_id": 33015862, "question_id": 32997609, "link": "https://stackoverflow.com/questions/32997609/extracting-type-info-from-printf-format-string/33015862#33015862", "title": "Extracting type info from printf format string", "body": "<p>As I said in my answer, the parse_printf_format is not made for what you need.\nYou can parse it yourself, by this algorithm:</p>\n\n<ol>\n<li>Because char after <code>%</code> are either modifier or type (can not be both), you first search for <code>%</code> char in your string</li>\n<li>If the next char is in the array of types ('d', 's', 'f', 'g', 'u', etc...) then you get the class of the type (pointer, int, unsigned, double, etc...). This might be enough for what you need.</li>\n<li>If not, then you continue for the next char until you find one char that's not allowed in modifier/type array.</li>\n<li>If the class for the type is not enough for your need, you'll have to go back to the modifier to adjust the final type.</li>\n</ol>\n\n<p>You can use many implementations for the genuine algorithm (for example <a href=\"http://www.boost.org/doc/libs/1_59_0/boost/format/parsing.hpp\" rel=\"nofollow\">boost</a>), but since you don't need to validate the input string, it's much simple to do by hand.</p>\n\n<p>Pseudo code:</p>\n\n<pre><code>const char flags[] = {'-', '+', '0', ' ', '#'};\nconst char widthPrec[] = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', '*'}; // Last char is an extension\nconst char modifiers[] = { 'h', 'l', 'L', 'z', 'j', 't' };\nconst char types[] = { '%', 'd', 'i', 'u', 'f', 'F', 'e', 'E', 'g', 'G', 'x', 'X', 'a', 'A', 'o', 's', 'c', 'p', 'n' }; // Last one is not wanted too\n\nconst char validChars[] = { union of all arrays above };\n\nenum Type { None = 0, Int, Unsigned, Float, etc... };\nType typesToType[] = { None, Int, Int, Unsigned, Float, Float, ... etc... }; // Should match the types array above\n\n// Expect a valid format, not validation is done\nbool findTypesInFormat(string &amp; format, vector&lt;Type&gt; types)\n{\n    size_t pos = 0;\n    types.clear();\n    while (pos &lt; format.length())\n    {\n        pos = format.find_first_of('%', pos);\n        if (pos == format.npos) break;\n        pos++;\n        if (format[pos] == '%') continue;\n        size_t acceptUntilType = format.find_first_not_of(validChars, pos);\n        if (pos == format.npos) pos = format.length();\n        pos --;\n        if (!inArray(types, format[pos])) return false; // Invalid string if the type is not what we support\n\n        Type type = typesToType[indexInArray(types, format[pos])];\n\n        // We now know the type, we might need to refine it\n        if (inArray(modifiers, format[pos-1])\n        {\n            type = adjustTypeFromModifier(format[pos-1], type);\n        }\n        types.push_back(type);\n        pos++;\n    }\n    return true;\n}\n\n// inArray, indexInArray and adjustTypeFromModifier are simple functions left to be written.\n</code></pre>\n"}], "owner": {"reputation": 2007, "user_id": 543913, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a7d76a4187acf1918902f0a2ab239aba?s=128&d=identicon&r=PG", "display_name": "dshin", "link": "https://stackoverflow.com/users/543913/dshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 1, "accepted_answer_id": 33015862, "answer_count": 1, "score": 1, "last_activity_date": 1574498146, "creation_date": 1444235255, "last_edit_date": 1574498146, "question_id": 32997609, "link": "https://stackoverflow.com/questions/32997609/extracting-type-info-from-printf-format-string", "title": "Extracting type info from printf format string", "body": "<p>I'd like to extract c++ type information from a printf format string. For example, </p>\n\n<pre><code>Input: \"%10u foo %% %+6.3f %ld %s\"\n\nOutput:\n  unsigned int\n  double\n  long\n  char*\n</code></pre>\n\n<p>I've attempted this using <a href=\"http://www.gnu.org/software/libc/manual/html_node/Parsing-a-Template-String.html\" rel=\"nofollow\">parse_printf_format()</a>  from printf.h, but the returned argtypes don't appear to include information about signed/unsigned.</p>\n\n<p>Is there some way to get signed/unsigned info as well?</p>\n"}, {"tags": ["c++", "mfc", "ms-access-2010"], "comments": [{"owner": {"reputation": 156, "user_id": 5354213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b393efbffe3e6d994f8aa9fb9500cd00?s=128&d=identicon&r=PG", "display_name": "Nibbels", "link": "https://stackoverflow.com/users/5354213/nibbels"}, "edited": false, "score": 0, "creation_date": 1444235208, "post_id": 32997554, "comment_id": 53819893, "body": "I already tried to not use &#246;&#228;&#252;&#214;&#196;&#220;&#223;&#201; chars within Insert. It works but the Error stays."}, {"owner": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "edited": false, "score": 0, "creation_date": 1444238350, "post_id": 32997554, "comment_id": 53821762, "body": "It&#39;s probably and error with your SQL syntax (which is difficult to read from your image)."}, {"owner": {"reputation": 156, "user_id": 5354213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b393efbffe3e6d994f8aa9fb9500cd00?s=128&d=identicon&r=PG", "display_name": "Nibbels", "link": "https://stackoverflow.com/users/5354213/nibbels"}, "reply_to_user": {"reputation": 3887, "user_id": 937421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Lunw3.jpg?s=128&g=1", "display_name": "rrirower", "link": "https://stackoverflow.com/users/937421/rrirower"}, "edited": false, "score": 0, "creation_date": 1444238458, "post_id": 32997554, "comment_id": 53821823, "body": "I cannot see one: <a href=\"http://i.stack.imgur.com/1Tgml.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1Tgml.png</a> You can click on the Image to load it larger."}, {"owner": {"reputation": 24611, "user_id": 2065121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c92f2d7b7f3af9e4e0c7a5cb1289982b?s=128&d=identicon&r=PG", "display_name": "Roger Rowland", "link": "https://stackoverflow.com/users/2065121/roger-rowland"}, "edited": false, "score": 0, "creation_date": 1444290250, "post_id": 32997554, "comment_id": 53843034, "body": "There&#39;s a missing semicolon on the end of that first INSERT statement, which may or may not be causing some issue. I&#39;m not up to date with what Access requires, but it&#39;s worth correcting anyway. Also, you can copy the formatted string from the debug window and paste into Access to manually check if there&#39;s a syntax error."}, {"owner": {"reputation": 156, "user_id": 5354213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b393efbffe3e6d994f8aa9fb9500cd00?s=128&d=identicon&r=PG", "display_name": "Nibbels", "link": "https://stackoverflow.com/users/5354213/nibbels"}, "reply_to_user": {"reputation": 24611, "user_id": 2065121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c92f2d7b7f3af9e4e0c7a5cb1289982b?s=128&d=identicon&r=PG", "display_name": "Roger Rowland", "link": "https://stackoverflow.com/users/2065121/roger-rowland"}, "edited": false, "score": 0, "creation_date": 1444296519, "post_id": 32997554, "comment_id": 53847102, "body": "Thank you @RogerRowland, but the problem persists. I took a snipped out of my screenshot: <a href=\"http://i.imgur.com/yDCtCD7.png\" rel=\"nofollow noreferrer\">i.imgur.com/yDCtCD7.png</a> Those two make some insert. The insert is made and ok! But they both fail, nevertheless of the ; , the special german chars, the different type of string... There seems to be a error and everything is working. Does anybody know I can ignore such errors? Maybe they are some internal info only, catched and processed within the class?"}, {"owner": {"reputation": 156, "user_id": 5354213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b393efbffe3e6d994f8aa9fb9500cd00?s=128&d=identicon&r=PG", "display_name": "Nibbels", "link": "https://stackoverflow.com/users/5354213/nibbels"}, "edited": false, "score": 0, "creation_date": 1444301039, "post_id": 32997554, "comment_id": 53850231, "body": "I now added my zipped Project Folder."}], "owner": {"reputation": 156, "user_id": 5354213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b393efbffe3e6d994f8aa9fb9500cd00?s=128&d=identicon&r=PG", "display_name": "Nibbels", "link": "https://stackoverflow.com/users/5354213/nibbels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1311, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1444301000, "creation_date": 1444235055, "last_edit_date": 1444301000, "question_id": 32997554, "link": "https://stackoverflow.com/questions/32997554/how-can-i-get-rid-of-microsoft-c-exception-int-at-memory-location-when-usin", "title": "How can I get rid of `Microsoft C++ exception: int at memory location` when using INSERT in MFC ODBC Database.ExecuteSQL(`...`)", "body": "<p>My task is to access an Access-Database-File *.accdb with C/C++.</p>\n\n<p>I want to insert Statusmessages from a C/C++ based Application. My choice fell to MFC ODBC. I am pretty new on programming C. I read very much about this topic and tried to get to work many examples. I only have Office-2010 x64, thatwhy I have to compile as x64 to get the Access-connection working. I have Windows 10 Professional running. This is Visual Studio 2015.</p>\n\n<ul>\n<li><p>I already gave <code>everybody</code> the needed permission to Tempfolder %TEMP% (resolves error).</p></li>\n<li><p>I already gave <code>everybody</code> permission to (Regedit) HKEY_LOCAL_MACHINE/SOFTWARE/OBDC and HKEY_LOCAL_MACHINE/SOFTWARE/Wow6432Node/OBDC to resolve some Registry-Permission-Error.</p></li>\n</ul>\n\n<p>I tried very hard on getting everything working as it should, but I got stuck on implementing any INSERT SQL-Query without causing this error:\n<code>Microsoft C++ exception: int at memory location</code>\nThe weired thing: This Insert is working.</p>\n\n<p>DELETE works without any Error.\nSELECT works without any Error.\nINSERT works but throws some silent Error in the <code>Immediate Window</code>.</p>\n\n<pre><code>f:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(616) : AppMsg - Warning: ODBC Success With Info, \nf:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(174) : AppMsg - Fehler bei SQLSetConnectAttr-Aufruf f\u00fcr Treiber\nf:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(174) : AppMsg - State:IM006,Native:0,Origin:[Microsoft][ODBC Driver Manager]\n\nf:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(954) : AppMsg - DBMS: ACCESS\nf:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(958) : AppMsg - Version: 12.00.0000\nf:\\dd\\vctools\\vc7libs\\ship\\atlmfc\\src\\mfc\\dbcore.cpp(964) : AppMsg - ODBC Driver Manager Version: 03.80.0000\n</code></pre>\n\n<p>On Line: db.ExecuteSQL(sql);</p>\n\n<pre><code>Exception thrown at 0x00007FF8B941A1C8 in WriterConsole.exe: Microsoft C++ exception: int at memory location 0x0000000EC137E508.\nException thrown at 0x00007FF8B941A1C8 in WriterConsole.exe: Microsoft C++ exception: int at memory location 0x0000000EC137E508.\n</code></pre>\n\n<p>On Line: db.ExecuteSQL(queryinsert);</p>\n\n<pre><code>Exception thrown at 0x00007FF8B941A1C8 in WriterConsole.exe: Microsoft C++ exception: int at memory location 0x0000000EC137E5F8.\nException thrown at 0x00007FF8B941A1C8 in WriterConsole.exe: Microsoft C++ exception: int at memory location 0x0000000EC137E5F8.\n</code></pre>\n\n<p>Here is a screen of my Code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Tgml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Tgml.png\" alt=\"CodeScreenshot\"></a></p>\n\n<p>(I cannot use SQLite, which I would prefer here.)\nI am sorry to ask you all, but I do not seem to be able to figure it out by my own. I have problems to understand what this Error means, how I can possibly resolve it or if I can ignore it. Thank you for your time.</p>\n\n<p><B>EDIT: Here is the Project-Folder zipped.</B> <a href=\"http://cloud.downfight.de/index.php/s/mkuxZi7uFmnQFub\" rel=\"nofollow noreferrer\">http://cloud.downfight.de/index.php/s/mkuxZi7uFmnQFub</a> note that the database has to be at the folderlocation which has to be inserted within const LPCTSTR DBAuth</p>\n"}, {"tags": ["c++", "qt", "phash"], "comments": [{"owner": {"reputation": 962, "user_id": 5104307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc560c087a7fce25a002e156dcbc0af1?s=128&d=identicon&r=PG&f=1", "display_name": "Mido", "link": "https://stackoverflow.com/users/5104307/mido"}, "edited": false, "score": 0, "creation_date": 1444246774, "post_id": 32997419, "comment_id": 53826823, "body": "I your make log the error is in MyClass , myclass.o: In function `ZN6myclass7performEv&#39;, it mean that this function is declared in the header file and not defined in the .cpp.  for the main error I think you should compile the phash library your self to get the .dll or .lib, dont use the precompiled library, I got this problem with quazip lib"}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 1617365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1208c89f7e0f8c95c61703c6f83094f1?s=128&d=identicon&r=PG", "display_name": "Vi.", "link": "https://stackoverflow.com/users/1617365/vi"}, "edited": false, "score": 0, "creation_date": 1444263311, "post_id": 33001255, "comment_id": 53833788, "body": "Thank you, it&#39;s working for <code>ph_about()</code>, but it still doesn&#39;t work for other functions like <code>ph_dct_imagehash(..)</code>"}], "tags": [], "owner": {"reputation": 962, "user_id": 5104307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc560c087a7fce25a002e156dcbc0af1?s=128&d=identicon&r=PG&f=1", "display_name": "Mido", "link": "https://stackoverflow.com/users/5104307/mido"}, "is_accepted": false, "score": 1, "last_activity_date": 1444247613, "creation_date": 1444247613, "answer_id": 33001255, "question_id": 32997419, "link": "https://stackoverflow.com/questions/32997419/qt5-link-phash-library-undefined-reference/33001255#33001255", "title": "Qt5 - Link pHash library &quot;undefined reference&quot;", "body": "<p>try to add the .c and .cpp to your project(dirent.c,ph_fft.c, pHash.cpp,phcomplex.c) it worked on my pc, but I think the issue is that the .dll and .lib are not compatible with your Qt version, cause it's compiled with Visual studio.</p>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 1617365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1208c89f7e0f8c95c61703c6f83094f1?s=128&d=identicon&r=PG", "display_name": "Vi.", "link": "https://stackoverflow.com/users/1617365/vi"}, "edited": false, "score": 0, "creation_date": 1444263494, "post_id": 33003791, "comment_id": 53833841, "body": "Thank you for your deep answer. If this library is no longer supported, I guess I should find someting else. Do you know if another library could do the same ?"}], "tags": [], "owner": {"reputation": 6336, "user_id": 4023446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Orest Hera", "link": "https://stackoverflow.com/users/4023446/orest-hera"}, "is_accepted": false, "score": 1, "last_activity_date": 1444258489, "last_edit_date": 1495542575, "creation_date": 1444258489, "answer_id": 33003791, "question_id": 32997419, "link": "https://stackoverflow.com/questions/32997419/qt5-link-phash-library-undefined-reference/33003791#33003791", "title": "Qt5 - Link pHash library &quot;undefined reference&quot;", "body": "<p>The library pHash is no longer supported and there are many problems.</p>\n\n<ol>\n<li><p>The compiler MinGW 4.9.2 used by Qt is not compatible with <code>.dll</code> files built in MSVC.</p></li>\n<li><p>It is not enough to use the trick <a href=\"http://www.mingw.org/wiki/msvc_and_mingw_dlls\" rel=\"nofollow noreferrer\">\"MSVC and MinGW DLLs\"</a>, since the function <code>ph_about()</code> is not exported from <code>pHash.dll</code>, for example <a href=\"https://stackoverflow.com/questions/9962147/building-the-phash-library-on-windows\">Building the pHash library on Windows</a></p></li>\n<li><p>It is possible to integrate all pHash files into Qt project, so the library can be built together with the application. Since the library project is prepared for Visual Studio I would say that the Qt should also be based on VC. However, the library pHash is old. It was written for Visual Studio 2008. Now it gives error on deprecated Windows function <code>SHGetSpecialFolderPathA</code>.</p></li>\n<li><p>It is still prossible to compile everything using Qt MinGW 4.9.2 compiler. In that case it is needed to add <code>DEFINES += HAVE_IMAGE_HASH=1</code> to the project <code>.pro</code> file to enable that macro also for <code>pHash</code> compilation. However, to use native support for images the libraries <code>libjpeg</code> and <code>libpng</code> also should be compiled with the same compiler, for example <a href=\"https://stackoverflow.com/questions/12652178/compiling-libjpeg\">Compiling libjpeg</a>\nIf the image libraries are not used, <code>Cimg</code> tries to run some external executable <code>gm.exe</code> (probably from GraphicsMagick).</p></li>\n</ol>\n\n<p>If the library is needed for some quick task it is possible to consider virtual Linux, since here it can be used out of the box <a href=\"https://stackoverflow.com/a/33002746/4023446\">https://stackoverflow.com/a/33002746/4023446</a></p>\n"}], "owner": {"reputation": 263, "user_id": 1617365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1208c89f7e0f8c95c61703c6f83094f1?s=128&d=identicon&r=PG", "display_name": "Vi.", "link": "https://stackoverflow.com/users/1617365/vi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444258489, "creation_date": 1444234616, "question_id": 32997419, "link": "https://stackoverflow.com/questions/32997419/qt5-link-phash-library-undefined-reference", "title": "Qt5 - Link pHash library &quot;undefined reference&quot;", "body": "<p>I would like to add an external library called <a href=\"http://www.phash.org/\" rel=\"nofollow\">pHash</a>. I added this to .pro file :</p>\n\n<pre><code>win32:CONFIG(release, debug|release): LIBS += -L$PWD/Libs/pHash-0.9.4/release -lpHash\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$PWD/Libs/pHash-0.9.4/debug -lpHash\n\nINCLUDEPATH += $PWD/Libs/pHash-0.9.4\nDEPENDPATH += $PWD/Libs/pHash-0.9.4\n\nwin32:CONFIG(release, debug|release): PRE_TARGETDEPS += $PWD/Libs/pHash-0.9.4/release/pHash.lib\nelse:win32:CONFIG(debug, debug|release): PRE_TARGETDEPS += $PWD/Libs/pHash-0.9.4/debug/pHash.lib\n</code></pre>\n\n<p>But no one function of the library is working. When I try to use one, I have build error \"undefined reference to pHashFunction\". There is an example of use :</p>\n\n<pre><code>#include \"myclass.h\"\n\n#define HAVE_IMAGE_HASH 1 // config\n#include \"pHash.h\"\n\nvoid MyClass::perform() {\n    const char *msg = ph_about();\n    qDebug() &lt;&lt; msg;\n}\n</code></pre>\n\n<p>Then there is the build log :</p>\n\n<pre><code>C:/Qt/Tools/mingw492_32/bin/mingw32-make -f Makefile.Debug clean\nmingw32-make[1]: Entering directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\nrm -f debug/qrc_qml.cpp\nrm -f debug/moc_myclass.cpp\nrm -f debug/main.o debug/myclass.o debug/qrc_qml.o debug/moc_myclass.o\nmingw32-make[1]: Leaving directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\nC:/Qt/Tools/mingw492_32/bin/mingw32-make -f Makefile.Release clean\nmingw32-make[1]: Entering directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\nrm -f release/qrc_qml.cpp\nrm -f release/moc_myclass.cpp\nrm -f release/main.o release/myclass.o release/qrc_qml.o release/moc_myclass.o\nmingw32-make[1]: Leaving directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\n01:31:34: Le processus \"C:\\Qt\\Tools\\mingw492_32\\bin\\mingw32-make.exe\" s'est termin\u00e9 normalement.\n01:31:34: Configuration inchang\u00e9e, \u00e9tape qmake saut\u00e9e.\n01:31:34: D\u00e9bute : \"C:\\Qt\\Tools\\mingw492_32\\bin\\mingw32-make.exe\" \nC:/Qt/Tools/mingw492_32/bin/mingw32-make -f Makefile.Debug\nmingw32-make[1]: Entering directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\ng++ -c -pipe -fno-keep-inline-dllexport -g -frtti -Wall -Wextra -fexceptions -mthreads -DUNICODE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_GUI_LIB -DQT_QML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_NEEDS_QMAIN -I../myProject -I. -I../myProject/Libs/pHash-0.9.4 -IC:/Qt/5.5/mingw492_32/include -IC:/Qt/5.5/mingw492_32/include/QtQuick -IC:/Qt/5.5/mingw492_32/include/QtGui -IC:/Qt/5.5/mingw492_32/include/QtANGLE -IC:/Qt/5.5/mingw492_32/include/QtQml -IC:/Qt/5.5/mingw492_32/include/QtNetwork -IC:/Qt/5.5/mingw492_32/include/QtCore -Idebug -IC:/Qt/5.5/mingw492_32/mkspecs/win32-g++  -o debug/main.o ../myProject/main.cpp\ng++ -c -pipe -fno-keep-inline-dllexport -g -frtti -Wall -Wextra -fexceptions -mthreads -DUNICODE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_GUI_LIB -DQT_QML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_NEEDS_QMAIN -I../myProject -I. -I../myProject/Libs/pHash-0.9.4 -IC:/Qt/5.5/mingw492_32/include -IC:/Qt/5.5/mingw492_32/include/QtQuick -IC:/Qt/5.5/mingw492_32/include/QtGui -IC:/Qt/5.5/mingw492_32/include/QtANGLE -IC:/Qt/5.5/mingw492_32/include/QtQml -IC:/Qt/5.5/mingw492_32/include/QtNetwork -IC:/Qt/5.5/mingw492_32/include/QtCore -Idebug -IC:/Qt/5.5/mingw492_32/mkspecs/win32-g++  -o debug/myclass.o ../myProject/myclass.cpp\nIn file included from ../myProject/myclass.cpp:3:0:\n../myProject/Libs/pHash-0.9.4/pHash.h:299:21: warning: 'cimg_library::CImg&lt;float&gt;* ph_dct_matrix(int)' declared 'static' but never defined [-Wunused-function]\n static CImg&lt;float&gt;* ph_dct_matrix(const int N);\n                     ^\n'C:\\Qt\\5.5\\mingw492_32\\bin\\rcc.exe' -name qml ../myProject/qml.qrc -o debug/qrc_qml.cpp\ng++ -c -pipe -fno-keep-inline-dllexport -g -frtti -Wall -Wextra -fexceptions -mthreads -DUNICODE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_GUI_LIB -DQT_QML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_NEEDS_QMAIN -I../myProject -I. -I../myProject/Libs/pHash-0.9.4 -IC:/Qt/5.5/mingw492_32/include -IC:/Qt/5.5/mingw492_32/include/QtQuick -IC:/Qt/5.5/mingw492_32/include/QtGui -IC:/Qt/5.5/mingw492_32/include/QtANGLE -IC:/Qt/5.5/mingw492_32/include/QtQml -IC:/Qt/5.5/mingw492_32/include/QtNetwork -IC:/Qt/5.5/mingw492_32/include/QtCore -Idebug -IC:/Qt/5.5/mingw492_32/mkspecs/win32-g++  -o debug/qrc_qml.o debug/qrc_qml.cpp\n'C:\\Qt\\5.5\\mingw492_32\\bin\\moc.exe' -DUNICODE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_GUI_LIB -DQT_QML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_NEEDS_QMAIN -D__GNUC__ -DWIN32 -IC:/Qt/5.5/mingw492_32/mkspecs/win32-g++ -IC:/Users/vi/Documents/Programmation/QtWorkspace/myProject -IC:/Users/vi/Documents/Programmation/QtWorkspace/myProject/Libs/pHash-0.9.4 -IC:/Qt/5.5/mingw492_32/include -IC:/Qt/5.5/mingw492_32/include/QtQuick -IC:/Qt/5.5/mingw492_32/include/QtGui -IC:/Qt/5.5/mingw492_32/include/QtANGLE -IC:/Qt/5.5/mingw492_32/include/QtQml -IC:/Qt/5.5/mingw492_32/include/QtNetwork -IC:/Qt/5.5/mingw492_32/include/QtCore -I. ../myProject/myclass.h -o debug/moc_myclass.cpp\ng++ -c -pipe -fno-keep-inline-dllexport -g -frtti -Wall -Wextra -fexceptions -mthreads -DUNICODE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_GUI_LIB -DQT_QML_LIB -DQT_NETWORK_LIB -DQT_CORE_LIB -DQT_NEEDS_QMAIN -I../myProject -I. -I../myProject/Libs/pHash-0.9.4 -IC:/Qt/5.5/mingw492_32/include -IC:/Qt/5.5/mingw492_32/include/QtQuick -IC:/Qt/5.5/mingw492_32/include/QtGui -IC:/Qt/5.5/mingw492_32/include/QtANGLE -IC:/Qt/5.5/mingw492_32/include/QtQml -IC:/Qt/5.5/mingw492_32/include/QtNetwork -IC:/Qt/5.5/mingw492_32/include/QtCore -Idebug -IC:/Qt/5.5/mingw492_32/mkspecs/win32-g++  -o debug/moc_myclass.o debug/moc_myclass.cpp\ng++ -Wl,-subsystem,windows -mthreads -o debug/myProject.exe debug/main.o debug/myclass.o debug/qrc_qml.o debug/moc_myclass.o  -lmingw32 -LC:/Qt/5.5/mingw492_32/lib -lqtmaind -lshell32 -LC:/Users/vi/Documents/Programmation/QtWorkspace/myProject/Libs/pHash-0.9.4/debug -lpHash -lQt5Quickd -lQt5Guid -lQt5Qmld -lQt5Networkd -lQt5Cored \ndebug/myclass.o: In function `ZN6myclass7performEv':\nC:\\Users\\vi\\Documents\\Programmation\\QtWorkspace\\build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug/../myProject/myclass.cpp:11: undefined reference to `ph_about'\ncollect2.exe: error: ld returned 1 exit status\nMakefile.Debug:83: recipe for target 'debug/myProject.exe' failed\nmingw32-make[1]: *** [debug/myProject.exe] Error 1\nmingw32-make[1]: Leaving directory 'C:/Users/vi/Documents/Programmation/QtWorkspace/build-myProject-Desktop_Qt_5_5_0_MinGW_32bit-Debug'\nmakefile:34: recipe for target 'debug' failed\nmingw32-make: *** [debug] Error 2\n</code></pre>\n\n<p>Thank you in advance for your help :)</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1444235527, "post_id": 32997256, "comment_id": 53820093, "body": "what kind of error message do you get while crashing? Why are you iterating over rows  but increase x?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1444235679, "post_id": 32997256, "comment_id": 53820178, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32870430/how-to-divide-an-opencv-mat-in-rectangular-sub-regions\">How to divide an OpenCV Mat in rectangular sub-regions?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 2081050, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/719c508be5b66081378f47b100dcf7ba?s=128&d=identicon&r=PG", "display_name": "Michael Miner", "link": "https://stackoverflow.com/users/2081050/michael-miner"}, "edited": false, "score": 0, "creation_date": 1444240154, "post_id": 32997748, "comment_id": 53822823, "body": "sorry, I just edited my question to show my new code and the error message"}, {"owner": {"reputation": 914, "user_id": 2081050, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/719c508be5b66081378f47b100dcf7ba?s=128&d=identicon&r=PG", "display_name": "Michael Miner", "link": "https://stackoverflow.com/users/2081050/michael-miner"}, "edited": false, "score": 0, "creation_date": 1444240250, "post_id": 32997748, "comment_id": 53822864, "body": "I appologize, I used a version of this but still mixed up x and y, it works now"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "reply_to_user": {"reputation": 914, "user_id": 2081050, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/719c508be5b66081378f47b100dcf7ba?s=128&d=identicon&r=PG", "display_name": "Michael Miner", "link": "https://stackoverflow.com/users/2081050/michael-miner"}, "edited": false, "score": 0, "creation_date": 1444278875, "post_id": 32997748, "comment_id": 53837759, "body": "after thinking: with my code you might miss some parts of the image. use y+cell_Height&lt;=image.rows instead."}], "tags": [], "owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "is_accepted": true, "score": 0, "last_activity_date": 1444235724, "creation_date": 1444235724, "answer_id": 32997748, "question_id": 32997256, "link": "https://stackoverflow.com/questions/32997256/opencv-split-image-into-rectangles/32997748#32997748", "title": "OpenCV Split Image into Rectangles", "body": "<p>what about this (didn't test it):</p>\n\n<pre><code>    int cell_Height = image.rows / 10;\n    int cell_width = image.cols;\n\n    std::vector&lt;cv::Mat&gt; imageSections(rows_to_process);\n    int x = 0;\n    int y = 0;\n\n    for(y=0; y+cell_Height&lt;image.rows; y+=cell_Height)\n    {   \n        cout &lt;&lt; y &lt;&lt; endl;\n        imageSections[i] = image(cv::Rect(x, y, cell_Width, cell_Height));\n    }\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 2081050, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/719c508be5b66081378f47b100dcf7ba?s=128&d=identicon&r=PG", "display_name": "Michael Miner", "link": "https://stackoverflow.com/users/2081050/michael-miner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 0, "accepted_answer_id": 32997748, "answer_count": 1, "score": 0, "last_activity_date": 1444240125, "creation_date": 1444234126, "last_edit_date": 1444240125, "question_id": 32997256, "link": "https://stackoverflow.com/questions/32997256/opencv-split-image-into-rectangles", "title": "OpenCV Split Image into Rectangles", "body": "<p>I have one image and I want it to be split into even rectangles so far I have this code but I keep crashing and I am not sure why.</p>\n\n<pre><code>        int cells = 10;\n        int rows_to_process = image.rows / cells;\n        int cols_to_process = image.cols;\n\n        cv::Mat img;\n        std::vector&lt;cv::Mat&gt; imageSections(cells);\n        int x = 0;\n        int y = 0;\n\n        cout &lt;&lt; imageSections.size() &lt;&lt; endl;\n        for(int i=0; i&lt;image.rows/rows_to_process; i++)\n        {   \n            cout &lt;&lt; \"i is: \" &lt;&lt; i &lt;&lt; \" x is: \" &lt;&lt; x &lt;&lt; endl;\n            imageSections[i] = image(cv::Rect(x, y, cols_to_process, rows_to_process));\n            x += rows_to_process;\n        }\n</code></pre>\n\n<p>I have tested outputting just <code>x</code> and I get the dimensions in equal increments from 0 to the size of the image. I was hoping increasing x to the next point I want to start from would work but I am constantly crashing. Does anyone have any idea as to why?</p>\n\n<p>My error comes up in terminal as </p>\n\n<pre><code>OpenCV Error: Assertion failed (0 &lt;= roi.x &amp;&amp; 0 &lt;= roi.width &amp;&amp; roi.x + roi.width &lt;= m.cols &amp;&amp; 0 &lt;= roi.y &amp;&amp; 0 &lt;= roi.height &amp;&amp; roi.y + roi.height &lt;= m.rows) in Mat,\n</code></pre>\n"}, {"tags": ["c++", "c++14", "undefined-behavior"], "comments": [{"owner": {"reputation": 2030, "user_id": 1249278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85067d968f90780d8ca292ab99962189?s=128&d=identicon&r=PG", "display_name": "shafeen", "link": "https://stackoverflow.com/users/1249278/shafeen"}, "edited": false, "score": 0, "creation_date": 1444234698, "post_id": 32997185, "comment_id": 53819563, "body": "what is &quot;trivially copyable&quot; in this context?"}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "reply_to_user": {"reputation": 2030, "user_id": 1249278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85067d968f90780d8ca292ab99962189?s=128&d=identicon&r=PG", "display_name": "shafeen", "link": "https://stackoverflow.com/users/1249278/shafeen"}, "edited": false, "score": 0, "creation_date": 1444234955, "post_id": 32997185, "comment_id": 53819737, "body": "@shafeen I&#39;m referring to the TriviallyCopyable concept. Link added."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1444235198, "post_id": 32997185, "comment_id": 53819883, "body": "Following the link in the very reference you provided <a href=\"http://en.cppreference.com/w/cpp/types/is_trivially_copyable\" rel=\"nofollow noreferrer\">Objects of trivially-copyable types are the only C++ objects that may be safely copied with std::memcpy...</a>"}, {"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "edited": false, "score": 0, "creation_date": 1444235678, "post_id": 32997185, "comment_id": 53820177, "body": "This &quot;question&quot; seems to constitute several different questions. I think it would be wise to either separate them or number them explicitly. You say &quot;for a trivially copyable type T&quot; but then you specify possible values for T. Which is it? A general question regarding trivially copyable types, or a question regarding those specific three types?"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1444236041, "post_id": 32997185, "comment_id": 53820390, "body": "Do we still have POD in C++14?"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1444236328, "post_id": 32997185, "comment_id": 53820579, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4178175/what-are-aggregates-and-pods-and-how-why-are-they-special\">What are Aggregates and PODs and how/why are they special?</a>"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 4, "creation_date": 1444240880, "post_id": 32997185, "comment_id": 53823229, "body": "Warning:  Do Not depend upon the traits <code>std::is_trivially_copyable</code> or <code>std::is_trivial</code> to decide if this is safe.  These traits will not always give you the correct answer. They can answer true for non-copyable, non-movable types such as <code>atomic&lt;int&gt;</code>.  Instead rely on the <code>std::is_trivially_copy_constructible</code>, <code>std::is_trivially_copy_assignable</code> family of traits which inspect the triviality of each special member individually."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1444247514, "post_id": 32997185, "comment_id": 53827276, "body": "Also relevant <a href=\"http://stackoverflow.com/q/30114397/1708801\">\u201cconstructing\u201d a trivially-copyable object with memcpy</a>"}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1444235992, "post_id": 32997605, "comment_id": 53820364, "body": "From the quote: &quot;Provided that t2p points to an initialized object&quot;.  This condition is not met here."}, {"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1444236119, "post_id": 32997605, "comment_id": 53820454, "body": "@BenVoigt that doesn&#39;t mean that the <code>memcpy</code> provokes UB, though, does it?"}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 1, "creation_date": 1444236142, "post_id": 32997605, "comment_id": 53820466, "body": "That proves that the <code>memcpy</code> case is defined. Where is defined that <i>trivial copy assignment</i> is the same as <i>memcpy</i> (and particularly does not access the object&#39;s value)?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444236316, "post_id": 32997605, "comment_id": 53820575, "body": "@precarious: I don&#39;t think this text actually proves that <code>memcpy</code> is ok.  Your second point is definitely an issue (and I believe Barry&#39;s answer has gotten it wrong)"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1444236659, "post_id": 32997605, "comment_id": 53820783, "body": "@BenVoigt Examples are non-normative, and pretty sure that text is there to imply that the pointers are non-null. If the source type is a default-initialized trivial type, then it has some unspecified value, so copying it will also have the same unspecified value."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1444236717, "post_id": 32997605, "comment_id": 53820812, "body": "@Barry: The standard is pretty clear on &quot;no initialization is performed&quot;.  I don&#39;t think it&#39;s fair to argue that creates an &quot;initialized object&quot;."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1444237026, "post_id": 32997605, "comment_id": 53821012, "body": "@BenVoigt Nowhere am I requiring or arguing for the existence of an &quot;initialized object.&quot;"}, {"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "edited": false, "score": 0, "creation_date": 1444237140, "post_id": 32997605, "comment_id": 53821077, "body": "@Barry copying via assignment, though, requires the use of an expression yielding the indeterminate value - and that provokes undefined behaviour."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "edited": false, "score": 0, "creation_date": 1444237234, "post_id": 32997605, "comment_id": 53821136, "body": "@davmac: Except for &quot;unsigned narrow character types&quot; (<code>unsigned char</code>, possibly also <code>char</code>)"}, {"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1444237297, "post_id": 32997605, "comment_id": 53821183, "body": "@BenVoigt right, but the question also asks about <code>int</code> and a struct type."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1444237570, "post_id": 32997605, "comment_id": 53821317, "body": "@BenVoigt Added another relevant quote. The exception applies here - because we&#39;re just byte-wise copying."}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444237934, "post_id": 32997605, "comment_id": 53821519, "body": "Can you prove the &quot;<i>just</i>&quot; in front of &quot;byte-wise copying&quot;?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1444238562, "post_id": 32997605, "comment_id": 53821888, "body": "I agree with Barry&#39;s latest edit, because the same paragraph that says &quot;whether or not the object holds a valid value of type <code>T</code>, the underlying bytes can be copied&quot; uses <code>memcpy</code> for its example.  However I still disagree with &quot;The answers do not change if memcpy is replaced by copy assignment&quot;"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1444247656, "post_id": 32997605, "comment_id": 53827381, "body": "@Barry you may want to see my <a href=\"http://stackoverflow.com/questions/32997185/is-copying-trivially-copyable-objects-always-defined-in-c14#comment53827276_32997185\">comment above</a>"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 3, "last_activity_date": 1444237550, "last_edit_date": 1444237550, "creation_date": 1444235247, "answer_id": 32997605, "question_id": 32997185, "link": "https://stackoverflow.com/questions/32997185/is-copying-trivially-copyable-objects-always-defined-in-c14/32997605#32997605", "title": "Is copying trivially copyable objects always defined in C++14?", "body": "<p>Yes, it's well defined for all those cases. The answers do not change if <code>memcpy</code> is replaced by copy assignment (copying for trivially copyable types <em>is</em> byte-wise copy. That's what makes it trivial), and for all trivially copyable types, move construction IS copy construction, so there's no difference there either.</p>\n\n<p>From [basic.types]:</p>\n\n<blockquote>\n  <p>For any object (other than a base-class subobject) of trivially copyable type T, <strong>whether or not the object\n  holds a valid value</strong> of type T, the underlying bytes (1.7) making up the object can be copied into an array\n  of char or unsigned char. If the content of the array of char or unsigned char is copied back into the\n  object, the object shall subsequently hold its original value.</p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p>For any trivially copyable type <code>T</code>, if two pointers to <code>T</code> point to distinct <code>T</code> objects <code>obj1</code> and <code>obj2</code>, where\n  neither <code>obj1</code> nor <code>obj2</code> is a base-class subobject, if the underlying bytes (1.7) making up <code>obj1</code> are copied\n  into <code>obj2</code>, <code>obj2</code> shall subsequently hold the same value as <code>obj1</code>. <em>[ Example:</em></p>\n\n<pre><code>T* t1p;\nT* t2p;\n// provided that t2p points to an initialized object ...\nstd::memcpy(t1p, t2p, sizeof(T));\n// at this point, every subobject of trivially copyable type in *t1p contains\n// the same value as the corresponding subobject in *t2p\n</code></pre>\n  \n  <p><em>\u2014end example ]</em></p>\n</blockquote>\n\n<p>where:</p>\n\n<blockquote>\n  <p><strong>Arithmetic types</strong> (3.9.1), enumeration types, pointer types, pointer to member types (3.9.2), std::nullptr_-\n  t, and cv-qualified versions of these types (3.9.3) are collectively called scalar types. Scalar types, POD classes\n  (Clause 9), arrays of such types and cv-qualified versions of these types (3.9.3) are collectively called POD\n  types. Cv-unqualified <strong>scalar types, trivially copyable class types (Clause 9)</strong>, arrays of such types, and nonvolatile\n  const-qualified versions of these types (3.9.3) are collectively called <strong>trivially copyable types</strong>.</p>\n</blockquote>\n\n<p>Where, from [class]:</p>\n\n<blockquote>\n  <p>A <em>trivially copyable class</em> is a class that:<br>\n  (6.1) \u2014 has no non-trivial copy constructors (12.8),<br>\n  (6.2) \u2014 has no non-trivial move constructors (12.8),<br>\n  (6.3) \u2014 has no non-trivial copy assignment operators (13.5.3, 12.8),<br>\n  (6.4) \u2014 has no non-trivial move assignment operators (13.5.3, 12.8), and<br>\n  (6.5) \u2014 has a trivial destructor (12.4).  </p>\n</blockquote>\n\n<p>So, <code>char</code>, <code>int</code>, and <code>struct { int data; };</code> are all trivially copyable types. The former two are cv-unqualified scalar types and the latter is a trivially copyable class type. </p>\n"}, {"comments": [{"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "edited": false, "score": 0, "creation_date": 1444236370, "post_id": 32997822, "comment_id": 53820608, "body": "I think your answer is probably completely correct, but it would be nice if you could quote relevant parts of the standard."}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444236508, "post_id": 32997822, "comment_id": 53820690, "body": "From <a href=\"http://en.cppreference.com/w/cpp/language/copy_constructor#Trivial_copy_constructor\" rel=\"nofollow noreferrer\">cppreference.com</a>: &quot;Objects with trivial copy constructors can be copied by copying their object representations manually, e.g. with <code>std::memmove</code>.&quot;"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444236632, "post_id": 32997822, "comment_id": 53820762, "body": "@precarious: Not sure how that is relevant to indeterminate values."}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444236775, "post_id": 32997822, "comment_id": 53820848, "body": "@BenVoigt: Not sure as well ;-). Do you have a reference that copying indeterminate values is invalid?"}, {"owner": {"reputation": 18493, "user_id": 388661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61df8d728c699c39c4c73507da598712?s=128&d=identicon&r=PG", "display_name": "davmac", "link": "https://stackoverflow.com/users/388661/davmac"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444236852, "post_id": 32997822, "comment_id": 53820891, "body": "@precarious he&#39;s given it already - 8.5p12. (That is, when you take into account that copying by assignment uses an expression which produces the indeterminate value.)"}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444237556, "post_id": 32997822, "comment_id": 53821306, "body": "Is copying an evaluation?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444238148, "post_id": 32997822, "comment_id": 53821642, "body": "@precarious: The initializer (in copy construction), or right-hand side of a copy assignment, gets evaluated.  (The Standard talks about &quot;the value of the expression&quot;, which is what <i>evaluation</i> retrieves)"}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444239321, "post_id": 32997822, "comment_id": 53822348, "body": "Does this imply that copy assigning/constructing partially initialized objects is invalid? E.g. <code>struct A{ int i; int j; }; A a; a.i = 0; A b(a);</code> Doesn&#39;t this unnecessarily restrict the usefulness of POD?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444240268, "post_id": 32997822, "comment_id": 53822874, "body": "@precarious: On Itanium, that goes boom.  If you use <code>float</code> or <code>double</code> instead of <code>int</code>, it can also go boom on x86."}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 0, "creation_date": 1444242190, "post_id": 32997822, "comment_id": 53824018, "body": "It cannot go boom if copy construction is implemented as a <code>memcpy</code> (which does not seem to be forbidden by the standard) or am I missing the point? I&#39;m tending to accept your answer since the standard does not explicity endorse copy assigning indeterminate values. I think that the value of an expression can be copied without evaluation as long as no calculation is involved."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "edited": false, "score": 2, "creation_date": 1444313973, "post_id": 32997822, "comment_id": 53859875, "body": "@precarious No, under the standard, assignment is an evaluation.  The standard places no restrictions on the behavior of ill-formed programs.  One such behavior would be doing what <i>you</i> expect consistently and every time.  Another such behavior would be to detect that one such branch of code does this operation and logically deduce that that branch will not be followed, eliminating tests that lead to that branch during optimization.  Note that gcc can do this when your code relies on signed integer overflow &quot;doing what you expect the hardware to do&quot;: it is UB, so they optimize it away."}, {"owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1444334880, "post_id": 32997822, "comment_id": 53872519, "body": "@Yakk Thank you for explaining the issue in detail!"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 4, "last_activity_date": 1444238371, "last_edit_date": 1444238371, "creation_date": 1444235931, "answer_id": 32997822, "question_id": 32997185, "link": "https://stackoverflow.com/questions/32997185/is-copying-trivially-copyable-objects-always-defined-in-c14/32997822#32997822", "title": "Is copying trivially copyable objects always defined in C++14?", "body": "<p>There are a couple things at play here:</p>\n\n<ul>\n<li>an expression evaluating to an indeterminate value causes undefined behavior, with certain exceptions (8.5p12)</li>\n<li><code>unsigned char</code> (and possibly <code>char</code>, if unsigned) is the exception</li>\n<li>variables with automatic storage duration and whose types have trivial default initialization initially have indeterminate values (5.3.4p17)</li>\n</ul>\n\n<p>This means that</p>\n\n<ul>\n<li><code>unsigned char</code> is fine, no matter whether using <code>memcpy</code> or <code>memmove</code> or copy-assignment or copy-constructor</li>\n<li><code>memcpy</code> and <code>memmove</code> is presumably fine for all types, because the result is not \"produced by an evaluation\" (to meet this requirement, an implementation can use <code>unsigned char</code> internally, or take advantage of implementation-specific guarantees made for other types)</li>\n<li>copy-constructor and copy-assignment for other types will fail if the right-hand-side is an indeterminate value</li>\n</ul>\n\n<p>Of course, even the valid methods for copying an indeterminate value create another indeterminate value.</p>\n\n<hr>\n\n<p>Paragraph numbers correspond to draft n4527</p>\n"}], "owner": {"reputation": 578, "user_id": 3127195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0041dd8a370a1c27bab0dc90d03639b?s=128&d=identicon&r=PG", "display_name": "precarious", "link": "https://stackoverflow.com/users/3127195/precarious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "accepted_answer_id": 32997822, "answer_count": 2, "score": 2, "last_activity_date": 1444238473, "creation_date": 1444233941, "last_edit_date": 1495539888, "question_id": 32997185, "link": "https://stackoverflow.com/questions/32997185/is-copying-trivially-copyable-objects-always-defined-in-c14", "title": "Is copying trivially copyable objects always defined in C++14?", "body": "<p>For a <strong><em><a href=\"http://en.cppreference.com/w/cpp/concept/TriviallyCopyable\" rel=\"nofollow noreferrer\">trivially copyable</a></em></strong> type T consider:</p>\n\n<pre><code>void f(T z)\n{\n   T a;\n   T b;\n   std::memcpy(&amp;b, &amp;a, sizeof(T));\n\n   a = z;\n   b = z;\n\n   // ...\n}\n</code></pre>\n\n<p>Is the behavior of this fragment defined in C++14 if</p>\n\n<ol>\n<li>T is char,</li>\n<li>T is int, or</li>\n<li>T is struct { int data; }; ?</li>\n</ol>\n\n<p>Assume that <code>f</code> gets passed an object that holds a valid value.</p>\n\n<p>Do the answers change if the call to <code>memcpy</code> is replaced by <em>copy assignment</em> <code>b = a</code>?</p>\n\n<p>Can the results be carried over to <em>copy construction</em> <code>T(a)</code> and <em>move construction/assignment</em>?</p>\n\n<hr>\n\n<p><strong>Note</strong>: This question, in contrast to <a href=\"https://stackoverflow.com/questions/4178175\">What are Aggregates and PODs and how/why are they special?</a>, is particularly concerned with the corner case of copying <em>indeterminate values</em>.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 674, "user_id": 2843331, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f4607c2756f99ce71aa142a697b21e9b?s=128&d=identicon&r=PG", "display_name": "Husain", "link": "https://stackoverflow.com/users/2843331/husain"}, "edited": false, "score": 0, "creation_date": 1444234679, "post_id": 32997172, "comment_id": 53819551, "body": "I concur with Lightness&#39; answer. <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp4_PointerReference.html\" rel=\"nofollow noreferrer\">www3.ntu.edu.sg/home/ehchua/programming/cpp/&hellip;</a> is a good reading on the confusing issue of &amp;."}], "answers": [{"comments": [{"owner": {"reputation": 1086, "user_id": 4929809, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/96d0c944c41716e6db7f571503306482?s=128&d=identicon&r=PG&f=1", "display_name": "mercury0114", "link": "https://stackoverflow.com/users/4929809/mercury0114"}, "edited": false, "score": 0, "creation_date": 1444234902, "post_id": 32997274, "comment_id": 53819697, "body": "I am still confused on:      const MyClass&amp; reference_to_constant_class = my_constant_class;      const MyClass copy_of_my_class = my_constant_class;  On the right sides, we have the same types, but not on the left. Why that works?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 1086, "user_id": 4929809, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/96d0c944c41716e6db7f571503306482?s=128&d=identicon&r=PG&f=1", "display_name": "mercury0114", "link": "https://stackoverflow.com/users/4929809/mercury0114"}, "edited": false, "score": 0, "creation_date": 1444234974, "post_id": 32997274, "comment_id": 53819749, "body": "@MariusLatinis: Because references are magical aliases that do their best, in terms of syntax, to work <i>transparently</i>. Put another way, &quot;it just does&quot; because the language was designed that way. Speaking more generally, there are <i>loads</i> of examples of initialisations where the RHS and LHS have different types, so this situation isn&#39;t as surprising as you think."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1444234167, "creation_date": 1444234167, "answer_id": 32997274, "question_id": 32997172, "link": "https://stackoverflow.com/questions/32997172/c-why-methods-of-objects-are-accessed-by-through-a-reference-but-by-throu/32997274#32997274", "title": "C++ Why methods of objects are accessed by . through a reference but by -&gt; through a pointer", "body": "<p>Your terminology is all wrong. I can't do much more than address your specific observations. I <em>think</em> you're getting confused by the address-of operator <code>&amp;</code>, which has effectively no relationship with the symbol <code>&amp;</code> as found in reference types (or with bitwise-<code>AND</code>).</p>\n\n<ul>\n<li><code>T&amp;</code>: the type \"reference to <code>T</code>\";</li>\n<li><code>&amp;a</code>: an expression evaluating to the <em>address of</em> the object <code>a</code> (a pointer!);</li>\n<li><code>a &amp; b</code>: an expression evaluating to the result of <code>AND</code>ing the numbers <code>a</code> and <code>b</code>.</li>\n</ul>\n\n<p>These three usages of <code>&amp;</code> are (confusingly) unrelated. So, neither <code>return (&amp;c)</code> nor <code>&amp;my_constant_class</code> have anything to do with references.</p>\n\n<p>Reference and pointer semantics are actually remarkably simple, but once you've gone off-piste with misconceptions there's no coming back. That is one reason it is really important to learn C++ from a good, peer-reviewed book, rather than from random tutorials on the internet, your mate down the pub, or not at all!</p>\n\n<hr>\n\n<blockquote>\n  <p>value of pointer1_to_constant_class is assigned to a reference of a const reference.</p>\n</blockquote>\n\n<p>No. A pointer of type <code>MyClass*</code> is assigned to <code>pointer1_to_constant_class</code>. No references here.</p>\n\n<blockquote>\n  <p>value of pointer2_to_constant_class is assigned to a reference of an object.</p>\n</blockquote>\n\n<p>No. A pointer of type <code>MyClass*</code> is assigned to <code>pointer2_to_constant_class</code>. No references here.</p>\n\n<blockquote>\n  <p>(so although both pointers are of the same type, they are assigned to different types)</p>\n</blockquote>\n\n<p>They are both of the same type, but have been assigned to different values.</p>\n\n<blockquote>\n  <p>value of reference_to_constant_class is assigned to an object.</p>\n</blockquote>\n\n<p>An object is assigned to the object referred to by <code>reference_to_constant_class</code>, yes.</p>\n\n<blockquote>\n  <p>value of copy_to_my_class is assigned to an object.</p>\n</blockquote>\n\n<p>A new object <code>copy_to_my_class</code> is declared and copy-initialised from an object, yes.</p>\n\n<blockquote>\n  <p>(so reference and object are assigned to the same type)</p>\n</blockquote>\n\n<p>You never assign a reference.</p>\n\n<blockquote>\n  <p>So why we have to call pointer2_to_constant_class->GetNumber, if it is assigned to a reference of an object.</p>\n</blockquote>\n\n<p>It's not. <code>pointer2_to_constant_class</code> is a pointer.</p>\n\n<blockquote>\n  <p>Also, why there is no difference in calling reference_to_constant_class.GetNumber(), versus copy_of_my_class.GetNumber(),</p>\n  \n  <p>if one is an object, another just a reference?</p>\n</blockquote>\n\n<p><strong>We access member functions like <code>a.b()</code> whether <code>a</code> is the object itself, or a reference to it.</strong></p>\n\n<p><strong>We access member functions like <code>a-&gt;b()</code> when <code>a</code> is a pointer to an object.</strong></p>\n"}], "owner": {"reputation": 1086, "user_id": 4929809, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/96d0c944c41716e6db7f571503306482?s=128&d=identicon&r=PG&f=1", "display_name": "mercury0114", "link": "https://stackoverflow.com/users/4929809/mercury0114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1444234168, "answer_count": 1, "score": 0, "last_activity_date": 1444234167, "creation_date": 1444233918, "question_id": 32997172, "link": "https://stackoverflow.com/questions/32997172/c-why-methods-of-objects-are-accessed-by-through-a-reference-but-by-throu", "closed_reason": "Duplicate", "title": "C++ Why methods of objects are accessed by . through a reference but by -&gt; through a pointer", "body": "<p>This is a question for curiosity, which I have not found the good answer yet.\nSuppose in \"main.cc\" I have the following code</p>\n\n<pre><code>namespace {\n\nclass MyClass {\n\npublic:\nint GetNumber() const {return number_;}\n\nMyClass(const int number) :\nnumber_(number) {\n}\n\nprivate:\nconst int number_;\n\n};\n\nconst MyClass* GetPointerToClass(const MyClass &amp;c) {\n    return (&amp;c);\n}\n\n}  // namespace\n\nint main(int argc, char* argv[]) {\n\n    const MyClass my_constant_class(5);\n\n    const MyClass* const pointer1_to_constant_class = GetPointerToClass(\n        my_constant_class);\n    printf(\"%d\\n\", pointer1_to_constant_class-&gt;GetNumber());\n\n    const MyClass* const pointer2_to_constant_class = &amp;my_constant_class;\n    printf(\"%d\\n\", pointer2_to_constant_class-&gt;GetNumber());\n\n    const MyClass&amp; reference_to_constant_class = my_constant_class;\n    printf(\"%d\\n\", reference_to_constant_class.GetNumber());\n\n    const MyClass copy_of_my_class = my_constant_class;\n    printf(\"%d\\n\", copy_of_my_class.GetNumber());\n\n    return 0;\n}\n</code></pre>\n\n<p>Now when I run the program, it prints:\n5\n5\n5\n5</p>\n\n<p>The thing I'm curious about is why the program compiles and runs successfully?</p>\n\n<p>In particular (according to my understanding, correct if I am wrong):</p>\n\n<p>value of pointer1_to_constant_class is assigned to a reference of a const reference.</p>\n\n<p>value of pointer2_to_constant_class is assigned to a reference of an object.</p>\n\n<p>(so although both pointers are of the same type, they are assigned to different types)</p>\n\n<p>value of reference_to_constant_class is assigned to an object.</p>\n\n<p>value of copy_to_my_class is assigned to an object.</p>\n\n<p>(so reference and object are assigned to the same type)</p>\n\n<p>So why we have to call pointer2_to_constant_class->GetNumber, \nif it is assigned to a reference of an object.</p>\n\n<p>Also, why there is no difference in calling reference_to_constant_class.GetNumber(),\nversus copy_of_my_class.GetNumber(),</p>\n\n<p>if one is an object, another just a reference?</p>\n"}, {"tags": ["c#", "c++", "vba", "com", "iconnectionpoint"], "comments": [{"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 1, "creation_date": 1444405455, "post_id": 32997005, "comment_id": 53905356, "body": "<code>IConnectionPointImpl</code> is about events and your foreach loop is accessing extension property directly, why do you think <code>IConnectionPointImpl</code> is involved here? It would make more sense if your code snippet was C++ code running inside some event handler and that would query external Name property, but this snippet would have to be C++ then and yours in C#."}, {"owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "reply_to_user": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1444405805, "post_id": 32997005, "comment_id": 53905611, "body": "Because I can step through and see that it is. Note that <code>ve</code> is a .NET object in C# which exposes the <code>.Name</code> property; that property is backed in C++ by a method which finds the ICPI interface registered by the VBA macro and <code>Dispatch</code>es the relevant... uh... <i>thing</i>, which makes the VBA call which returns the Name. That is, the call is C#-(.NET)-&gt;C++-(IConnectionPointImp)-&gt;VBA. Not C#-&gt;VBA."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1444406179, "post_id": 32997005, "comment_id": 53905834, "body": "Just to make sure I got this right: <code>ve.Name</code> has C# implementation, then it calls some C++ code (COM interface method?), then C++ code does its things somehow, and as part of it it issues a COM event, which is handled by certain VBA handler and this handler would be the source of the string in question? Then you see that the string is lost (already in C++ code as early as after completion of <code>IDispatch::Invoke</code>) when all this is called in mentioned scenario."}, {"owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "reply_to_user": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1444406649, "post_id": 32997005, "comment_id": 53906139, "body": "Very nearly. <code>ve.Name</code> has no C# imlpementation. <code>VBAExtension</code> is a type from our C++ application&#39;s type library, so <code>ve.Name</code> is directly over COM. Otherwise, yes."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 2, "creation_date": 1444406946, "post_id": 32997005, "comment_id": 53906279, "body": "My guess is that it is a threading problem. Your COM object is most likely STA object. Then VBA sink interface is - cutting long story short - restricted to receive calls from the same thread where it connected to connection point. I suppose you some how calling it from another thread afterwards. This is easy to check by tracing thread IDs you have these calls on. Then if you step inside connection point code, there is a chance that you could also see that <code>Invoke</code> call gets you failure <code>HRESULT</code> which might be later ignored. It again might explain the reason (esp. <code>RPC_E_WRONG_THREAD</code>)."}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1444407459, "post_id": 32997005, "comment_id": 53906561, "body": "I noticed your mention that you get <code>S_OK</code> from <code>Invoke</code> though. Also, do you have this string filled by the event handler into <code>[in, out] BSTR*</code> parameter? If you left <code>out</code> out there then marshaler would not take VBA&#39;s string back to your C++ code, however with direct no-marshaling call it might work out well."}, {"owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "reply_to_user": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1444638542, "post_id": 32997005, "comment_id": 53970075, "body": "Checking thread IDs, the <code>Invoke</code> call is being made in the same C++ thread as the registration for both the modal and modeless cases. I am indeed getting <code>S_OK</code> from the <code>Invoke</code> - <code>pDispatch-&gt;Invoke(0x1, IID_NULL, LOCALE_USER_DEFAULT, DISPATCH_METHOD, &amp;disp, &amp;varResult, NULL, NULL);</code> returns <code>S_OK</code> but <code>disp.rgvargs</code> is empty. The <code>.idl</code> does indeed have <code>[in, out] BSTR*</code> - are you suggesting it might <i>work</i> if it were just <code>[in] BSTR*</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "edited": false, "score": 0, "creation_date": 1445247150, "post_id": 33185280, "comment_id": 54226291, "body": "Thanks for the pointers. As you may have guessed, I&#39;m not a VBA / COM expert, so your diag suggestions are very welcome. I&#39;ve updated my answer - the main point appears to be the in the failure case the VBA event is not being executed at all."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "edited": false, "score": 0, "creation_date": 1445249032, "post_id": 33185280, "comment_id": 54227402, "body": "Well, you&#39;ve got your smoking gun, binding the VBA event handler just never happened.  An execution order problem is the best theory, you however can&#39;t set a clean breakpoint on the code that is supposed to do the binding.  Focus on the code that loads the VBA module and ensure it runs before the dialog appears.  Call Microsoft Support if necessary, they can set that breakpoint."}, {"owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "edited": false, "score": 0, "creation_date": 1445249745, "post_id": 33185280, "comment_id": 54227797, "body": "Hmm, not sold on that. Given a C# assembly with two entry points, one of which displays the dialog as Modal and one as Modeless; and two VBA macros each calling one of those entry points; the event fires in the modeless case and fails in the modal case when performed in either order <i>even within the same application execution</i>. So it&#39;s definitely bound, because the modeless case can call it."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": false, "score": 4, "last_activity_date": 1445171992, "last_edit_date": 1445171992, "creation_date": 1445076166, "answer_id": 33185280, "question_id": 32997005, "link": "https://stackoverflow.com/questions/32997005/problems-calling-iconnectionpointimpl-interface-from-c-invoked-via-modal-winfo/33185280#33185280", "title": "Problems calling IConnectionPointImpl interface from C++ invoked via modal WinForms", "body": "<p>There are excessively few hard facts in this question to build an answer on.  Could be something very simple, could be a nasty memory corruption problem or an obscure dependency inside the VBA interpreter on the thread state.  The rough diagnostic is that the VBA event handler simply did not run.  That is not an uncommon accident in general, the declarative style used in Basic to declare event handlers leave very few good way to ever diagnose subscription problems.  Many a VBA programmer has lost clumps of hair trying to troubleshoot a \"why did the event handler not run\" problem like this one.</p>\n\n<p>Gather some hard facts first and add them to your question:</p>\n\n<ul>\n<li>First verify that your C++ code can actually see that there is no event handler at all.  Use the good version, rename the event handler.  Expectation is that you don't, raising an event that the sink doesn't subscribe is not an error.</li>\n<li>Verify that the event handler actually executed in the bad version.  Have it do something else than assign the BSTR argument, some you can easily see like a file on disk.</li>\n<li>Verify that you can properly diagnose an exception in the event handler.  Assign the Err object and verify that your C++ code generates a proper diagnostic.  Note that your IDispatch::Invoke() call passes NULL for pExcepInfo, not a good way to generate a diagnostic.</li>\n<li>Check if the event runs the <em>second</em> time you display a window, if it does then you have an execution order problem.</li>\n</ul>\n\n<p>Focusing a bit on ShowDialog().  This method does have plenty of side-effects.  The first thing that no longer works is the message loop in your C++ code.  It is now the .NET message loop that dispatches messages.  Look at yours for side-effects, doing more work than simply GetMessage/DispatchMessage().  That work no longer gets done.  Also search your codebase for PostThreadMessage(), those messages fall on the floor when the .NET code pumps.</p>\n\n<p>And keep in mind that your native C++ code loses control when the C# code calls ShowDialog().  It doesn't regain control until you close the window.  That can trigger a simple order-of-execution problem, your C++ code should not do anything important after does whatever it does to get the C# code running.</p>\n"}], "owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1445247087, "creation_date": 1444233464, "last_edit_date": 1445247087, "question_id": 32997005, "link": "https://stackoverflow.com/questions/32997005/problems-calling-iconnectionpointimpl-interface-from-c-invoked-via-modal-winfo", "title": "Problems calling IConnectionPointImpl interface from C++ invoked via modal WinForms", "body": "<p>We have a native C++ application which supports some VBA macros of various types over COM. One of these types, <code>VBAExtension</code>, registers itself with the core C++ application, resulting in an instance of (a class derived from) <code>IConnectionPointImpl&lt;Extension, &amp;DIID_IExtensionEvents, CComDynamicUnkArray&gt;</code>. This works fine; both core and other VBA macros can access the methods on IExtensionEvents, given an appropriate VBAExtension object.</p>\n\n<p>We also have a .NET assembly (written in C#) which is also loaded in to the core application at run-time. For historical reasons, the assembly is loaded in by an auto-running VBA macro; then, when the user presses a particular button, another VBA macro runs the main entry point of the assembly, which brings up a <code>System.Windows.Forms</code> dialog for further interaction.</p>\n\n<p>That\u2019s the setup. I\u2019m seeing some weird behaviour accessing the <code>VBAExtension</code> methods from within the .NET assembly. Specifically, I am running the following code from various locations in the assembly:</p>\n\n<pre><code>foreach (VBAExtension ve in app.Extensions)\n{\n    System.Diagnostics.Debug.Print(\"Ext: \" + ve.Name);\n}\n</code></pre>\n\n<p>If I run it from the constructor of the assembly\u2019s main object; or from the assembly\u2019s main entry point (before the dialog is displayed), everything is fine \u2013 I get the names of the <code>VBAExtension</code>s printed out. </p>\n\n<p>However, if I run the same code from a command kicked off by a button in the assembly\u2019s (<strong>modal</strong> - we're calling <code>form.ShowDialog()</code>) WinForm, the <code>ve.Name</code>s are all blank. The <code>pDispatch-&gt;Invoke</code> call made by the <code>IConnectionPointImpl</code> subclass succeeds (returns S_OK), but does not set any return vars.</p>\n\n<p>If I change the dialog to be <em>non-modal</em> (invoked with <code>form.Show()</code>), then the names work again. The modality (modalness?) of the form appears to affect whether the <code>IConnectionPointImpl</code> calls succeed.</p>\n\n<p>Anyone know what's going on?</p>\n\n<p><strong>Edit:</strong> Since first posting, I've demonstrated that it's not the invoking call stack that matters; instead, it's whether the call is made from a modal dialog. I have updated the main text.</p>\n\n<p><strong>Edit 2:</strong> Per Hans Passant's answer, here are the answers to his diagnostic questions:</p>\n\n<ul>\n<li>As expected, in the good (modeless) case there is no error if I rename the VBA event handler. The call simply returns no data.</li>\n<li>I've put a MsgBox call into the VBA handler; it displays in the modeless case, but does not in the modal case. Ergo, the handler is not executed in the modal case.</li>\n<li>By use of <code>Err</code>, I can tell that if we hit an exception in the VBA handler we get a VBA error dialog. Once clearing that, the C++ <code>Invoke</code> call has 0x80020009 (\"Exception occurred\") as return code, and pExcepInfo filled in with generic failure values (VBA has swallowed the actual details)</li>\n<li>The event does not fire on the second display of the modal dialog, either immediately following the first dialog or during a second invocation of the C# add-in.</li>\n</ul>\n\n<p>I'll try to dig into our message loops as a next step.</p>\n"}, {"tags": ["c++", "opencv", "image-segmentation"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444235746, "post_id": 32996963, "comment_id": 53820228, "body": "can you provide the original (grayscale) image?"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444236409, "post_id": 32996963, "comment_id": 53820632, "body": "It&#39;s a dice image taken from top, something that looks like this: <a href=\"http://static.guim.co.uk/sys-images/BOOKS/Pix/pictures/2011/5/24/1306238777181/Dice-007.jpg\" rel=\"nofollow noreferrer\">static.guim.co.uk/sys-images/BOOKS/Pix/pictures/2011/5/24/&hellip;</a>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444236503, "post_id": 32996963, "comment_id": 53820686, "body": "Here you can simply (basically) threshold and count the black blobs..."}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444236732, "post_id": 32996963, "comment_id": 53820821, "body": "Well in the real example, background is also dark, let me put the output of the Canny edge detector."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444237097, "post_id": 32996963, "comment_id": 53821056, "body": "Yeah, that why I asked for the original image. Can you post it?"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444237557, "post_id": 32996963, "comment_id": 53821307, "body": "@Miki actually I don&#39;t want to share the original images. It is a homework, so I&#39;m afraid for plagiarism :) Well, I&#39;m not feeling guilty since I&#39;m trying to do the work myself, but still.. I also shared the thresholded image, which can be supposed as the input to my system."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444238034, "post_id": 32996963, "comment_id": 53821579, "body": "Ok, this one is much better! I don&#39;t have time for an answer now, but: 1) findContours with CV_RETR_EXTERNAL 2) for each contour, drawContours CV_FILLED to create the mask 3) XOR thresholded and mask, 4) findContours again and count number of contours 5) you&#39;re done"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444238166, "post_id": 32996963, "comment_id": 53821654, "body": "Or understand how FindContours hierarchy works, and you&#39;re done counting nested (child) contours"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444238501, "post_id": 32996963, "comment_id": 53821857, "body": "Thank you so much @Miki."}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444245248, "post_id": 32996963, "comment_id": 53825883, "body": "One more question, the contours are 0-indexed, right?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444245306, "post_id": 32996963, "comment_id": 53825927, "body": "everything in C++ is 0-indexed :D"}], "answers": [{"comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1444235604, "post_id": 32997521, "comment_id": 53820137, "body": "You should provide some code to explain your solution."}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444235701, "post_id": 32997521, "comment_id": 53820198, "body": "But I still need a way to determine which contours are &quot;inside&quot;, since it finds both the outer and inner contours."}], "tags": [], "owner": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "is_accepted": false, "score": -1, "last_activity_date": 1444234957, "creation_date": 1444234957, "answer_id": 32997521, "question_id": 32996963, "link": "https://stackoverflow.com/questions/32996963/how-to-segment-objects-after-opencv-connectedcomponents-function/32997521#32997521", "title": "How to segment objects after OpenCV connectedComponents function", "body": "<p>The easier way is findContours method. You find the inner contours and calculate their area( since the inner contours will be holes) and process this information accordingly.  </p>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 3853072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSHkc.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/3853072/arjun"}, "is_accepted": false, "score": -1, "last_activity_date": 1444239840, "last_edit_date": 1495535645, "creation_date": 1444239840, "answer_id": 32999013, "question_id": 32996963, "link": "https://stackoverflow.com/questions/32996963/how-to-segment-objects-after-opencv-connectedcomponents-function/32999013#32999013", "title": "How to segment objects after OpenCV connectedComponents function", "body": "<p>To solve your 1st problem consider you have a set of values in values.Count the occurences of each number that as appeared.</p>\n\n<pre><code> int m=0;\n    for(int n=0;n&lt;256;n++)\n    {\n        int c=0;\n        for(int q=0;q&lt;values.size();q++)\n        {\n            if(n==values[q])\n            {\n                //int c;\n            c++;\n            m++;\n            }\n        }\n\n        cout&lt;&lt;n&lt;&lt;\"= \"&lt;&lt; c&lt;&lt;endl;\n    }\n    cout&lt;&lt;\"Total number of elements \"&lt;&lt; m&lt;&lt;endl;\n</code></pre>\n\n<p>To solve your second problem find the largest contour in the image using findcontours, draw bounding rectangle around it and then crop it. Again use the above code to count the pixel value \"4\" and \"0\". You can find the link of it here <a href=\"https://stackoverflow.com/a/32998275/3853072\">https://stackoverflow.com/a/32998275/3853072</a> </p>\n"}, {"comments": [{"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444243263, "post_id": 32999514, "comment_id": 53824605, "body": "Thank you so much Miki! You are the best :) I obtained the mask succesfully, but the findContours inside is not working properly. It always finds 1 contour. So Number = 1."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444243376, "post_id": 32999514, "comment_id": 53824680, "body": "can you post the other image you tried? the thresholded version"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444243643, "post_id": 32999514, "comment_id": 53824846, "body": "I added it in the question. It&#39;s the same image but I have cropped it before. Now it&#39;s the original size. By the way, I changed minContourArea to be 700 since the dice boundaries are around that value."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444243959, "post_id": 32999514, "comment_id": 53825049, "body": "@halilpazarlama You have a gray border of 3 pixels around the image. You need to remove it. I don&#39;t know how you get in a thresholded image, but you can just run another threshold with value 220 (since the largest gray value is 217)"}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444244722, "post_id": 32999514, "comment_id": 53825532, "body": "yes, it actually creates two contours for the outside border. So I select the one that has a parent (i.e. the inner contour) and then proceed to finding contours inside of the inner one."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444244832, "post_id": 32999514, "comment_id": 53825596, "body": "you shouldn&#39;t have the outer gray contour, since the thresholded image should be binary. Also findContours work ok only for (true) binary images."}, {"owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444247560, "post_id": 32999514, "comment_id": 53827303, "body": "I obtained the thresholded image with: <code>cv::threshold(grayImg, thresholdedImage, 200, 255, 0);</code> So I was assuming the values are either 0 or 255. I suppose there are gray elements too. Should I set the 4th parameter to 1?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "edited": false, "score": 0, "creation_date": 1444249815, "post_id": 32999514, "comment_id": 53828611, "body": "@halilpazarlama last parameter is an enum for threshold type. 0 is THRESH_BINARY, and that&#39;s ok. You are either doing something after the threshold, or thresholding a submatrix inside the image, because after threshold with THRESH_BINARY the image is guaranteed to be binary"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 3, "last_activity_date": 1444241551, "creation_date": 1444241551, "answer_id": 32999514, "question_id": 32996963, "link": "https://stackoverflow.com/questions/32996963/how-to-segment-objects-after-opencv-connectedcomponents-function/32999514#32999514", "title": "How to segment objects after OpenCV connectedComponents function", "body": "<p>Here a simple procedure to find the number on the dices, starting from your thresholded image</p>\n\n<ol>\n<li>find external contours</li>\n<li>for each contour\n\n<ul>\n<li>eventually discard small blobs</li>\n<li>draw the filled mask</li>\n<li>use AND and XOR to isolate internal holes</li>\n<li>find contours, again</li>\n<li>count contours</li>\n</ul></li>\n</ol>\n\n<p>Result:</p>\n\n<pre><code>Number: 5\nNumber: 2\n</code></pre>\n\n<p>Image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/9vFal.png\" alt=\"\"></p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;opencv2\\opencv.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\nusing namespace cv;\n\nint main(void)\n{\n    // Grayscale image\n    Mat1b img = imread(\"path_to_image\", IMREAD_GRAYSCALE);\n\n    // Minimum area of the contour\n    double minContourArea = 10;\n\n    // Prepare outpot\n    Mat3b result;\n    cvtColor(img, result, COLOR_GRAY2BGR);\n\n    // Find contours\n    vector&lt;vector&lt;Point&gt;&gt; contours;\n    findContours(img.clone(), contours, RETR_EXTERNAL, CHAIN_APPROX_SIMPLE);\n\n    for (int i = 0; i &lt; contours.size(); ++i)\n    {\n        // Check area\n        if (contourArea(contours[i]) &lt; minContourArea) continue;\n\n        // Black mask\n        Mat1b mask(img.rows, img.cols, uchar(0));\n        // Draw filled contour\n        drawContours(mask, contours, i, Scalar(255), CV_FILLED);\n\n        mask = (mask &amp; img) ^ mask;\n\n        vector&lt;vector&lt;Point&gt;&gt; cntrs;\n        findContours(mask, cntrs, RETR_EXTERNAL, CHAIN_APPROX_SIMPLE);\n\n        cout &lt;&lt; \"Number: \" &lt;&lt; cntrs.size() &lt;&lt; endl;\n\n        // Just for showing results\n        drawContours(result, cntrs, -1, Scalar(0,0,255), CV_FILLED);\n    }\n\n    imshow(\"Result\", result);\n    waitKey();\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11379, "user_id": 2483127, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/449808ef4f3dd11dd0f0c3dea4e0f681?s=128&d=identicon&r=PG", "display_name": "jeff", "link": "https://stackoverflow.com/users/2483127/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4014, "favorite_count": 0, "accepted_answer_id": 32999514, "answer_count": 3, "score": 2, "last_activity_date": 1444243593, "creation_date": 1444233366, "last_edit_date": 1444243593, "question_id": 32996963, "link": "https://stackoverflow.com/questions/32996963/how-to-segment-objects-after-opencv-connectedcomponents-function", "title": "How to segment objects after OpenCV connectedComponents function", "body": "<p>I have obtained a labeling with the <code>connectedComponents</code> function of C++ OpenCV, which looks like in the picture :</p>\n\n<p><a href=\"https://i.stack.imgur.com/1D0EV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1D0EV.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the output of the <code>ccLabels</code> variable, which is a <code>cv::Mat</code> of the same size with the original image.</p>\n\n<p>So what I need to do is : </p>\n\n<ol>\n<li>Count the occurences of each number, and select the ones that\noccur more than <code>N</code> times, which are the \"big\" ones.</li>\n<li>Segment the\nareas of the \"big\" components, and then count the number of 4's and\n0's inside that area.</li>\n</ol>\n\n<p>My ultimate aim is to count the number of holes in the image, so I aim to infer number of holes from <code>(number of 0's / number of 4's)</code>. This is probably not the prettiest way but the images are very uniform in terms of size and illumination, so it will meet my needs.</p>\n\n<p>But I'm new to OpenCV and I don't have much idea how to accomplish this task.</p>\n\n<p>Here is what I've done so far:</p>\n\n<pre><code>cv::Mat1b outImg;\ncv::threshold(grayImg, outImg, 150, 255, 0); // Thresholded -binary- image\ncv::Mat ccLabels;\ncv::connectedComponents(outImg, ccLabels); // Each non-zero pixel is labeled with their connectedComponent ID's\n// write the labels to file:\nstd::ofstream myfile;\n    myfile.open(\"ccLabels.txt\");\n    cv::Size s = ccLabels.size();\n    myfile &lt;&lt; \"Size: \" &lt;&lt; s.height &lt;&lt; \" , \" &lt;&lt; s.width &lt;&lt;\"\\n\";\n    for (int r1 = 0; r1 &lt; s.height; r1++) {\n        for (int c1 = 0; c1 &lt; s.height; c1++) {\n            myfile &lt;&lt; ccLabels.at&lt;int&gt;(r1,c1);\n        }\n        myfile &lt;&lt; \"\\n\";\n    }\n    myfile.close();\n</code></pre>\n\n<p>Since I know how to iterate inside the matrix, counting the numbers should be OK, but first I have to separate(eliminate / ignore) the \"background\" pixels, which are the 0's <strong>outside</strong> the connected components. Then counting should be easy. </p>\n\n<p>How can I segment these \"big\" components? Maybe obtaining a mask, and only consider pixels where <code>mask(x,y) = 1</code>?</p>\n\n<p>Thanks for any help !</p>\n\n<h2>Edit</h2>\n\n<p>This is the thresholded image: </p>\n\n<p><a href=\"https://i.stack.imgur.com/xZXYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZXYs.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is what I get after Canny edge detection : </p>\n\n<p><a href=\"https://i.stack.imgur.com/8zDCR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8zDCR.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the actual image (thresholded) : \n<a href=\"https://i.stack.imgur.com/AuiYQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AuiYQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "visual-studio", "visual-studio-2013", "com"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 6, "creation_date": 1444245545, "post_id": 32996885, "comment_id": 53826067, "body": "You may be looking for <a href=\"https://msdn.microsoft.com/en-us/library/d0kh9f4c.aspx\" rel=\"nofollow noreferrer\">OLE/COM Object Viewer</a>. Do <code>File &gt; View TypeLib</code>, open your .tlb file. The tool decompiles back to IDL, essentially."}, {"owner": {"reputation": 333, "user_id": 454195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30723c3ee6848108ef9bd01a46effda?s=128&d=identicon&r=PG", "display_name": "osullivj", "link": "https://stackoverflow.com/users/454195/osullivj"}, "edited": false, "score": 0, "creation_date": 1449748697, "post_id": 32996885, "comment_id": 56147299, "body": "Worked for me. And don&#39;t forget to look in the Wow6432Node under HKLM\\SOFTWARE when you&#39;re searching for CLSIDs."}], "answers": [{"tags": [], "owner": {"reputation": 1258, "user_id": 1413641, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TAeP1.jpg?s=128&g=1", "display_name": "jreichert", "link": "https://stackoverflow.com/users/1413641/jreichert"}, "is_accepted": false, "score": 2, "last_activity_date": 1574675118, "creation_date": 1574675118, "answer_id": 59028963, "question_id": 32996885, "link": "https://stackoverflow.com/questions/32996885/how-to-inspect-raw-com-definitions-in-a-tlb-file/59028963#59028963", "title": "How to inspect raw COM definitions in a TLB file?", "body": "<p>I also used OLEView twenty years ago. \nSome other good tool for looking inside a TLB and much more is:</p>\n\n<p><strong>COMView</strong> </p>\n\n<ul>\n<li><a href=\"http://comview.allapp.biz/\" rel=\"nofollow noreferrer\">http://comview.allapp.biz/</a></li>\n<li><a href=\"https://www.softpedia.com/get/System/System-Info/COMView.shtml\" rel=\"nofollow noreferrer\">https://www.softpedia.com/get/System/System-Info/COMView.shtml</a></li>\n</ul>\n\n<p>Very helpful...</p>\n"}], "owner": {"reputation": 52465, "user_id": 197229, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/80a68e69526f81d2dc560c47eedd198a?s=128&d=identicon&r=PG", "display_name": "Mr. Boy", "link": "https://stackoverflow.com/users/197229/mr-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5410, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1574675118, "creation_date": 1444233124, "last_edit_date": 1568317816, "question_id": 32996885, "link": "https://stackoverflow.com/questions/32996885/how-to-inspect-raw-com-definitions-in-a-tlb-file", "title": "How to inspect raw COM definitions in a TLB file?", "body": "<p>An existing unmanaged C++ project uses a COM component declared and implemented in C#, and my header looks a bit like this:</p>\n\n<pre><code>#import \"MyComponents.tlb\" no_namespace named_guids\n\nIComponentXYZ *pComponent;\n</code></pre>\n\n<p>Sometimes when I right-click on <code>IComponentXYZ</code> in the .h file and \"Go to declaration\", a <code>MyComponent.tlh</code> file is displayed which shows me the COM wrapper definitions. But other times, it says no definition exists.</p>\n\n<p>Can I manually open this file in Visual Studio? I think it's being auto-generated. And while the Object Browser window lets me inspect TLB contents, it doesn't display the raw COM method declarations.</p>\n"}, {"tags": ["c++", "xerces"], "comments": [{"owner": {"reputation": 36166, "user_id": 393701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250889c646cd2a916920d9252f7c6f42?s=128&d=identicon&r=PG", "display_name": "SirDarius", "link": "https://stackoverflow.com/users/393701/sirdarius"}, "edited": false, "score": 0, "creation_date": 1444233545, "post_id": 32996781, "comment_id": 53818799, "body": "I have pretty bad memories of Xerces from a few years ago. My advice, if you have the possibility to do so, run away from this horror as fast as you can. TinyXML-2 is a possible (much simpler) replacement to consider."}, {"owner": {"reputation": 1356, "user_id": 498519, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/09a42268b990ced91598ba75df2adc3c?s=128&d=identicon&r=PG", "display_name": "DaedalusAlpha", "link": "https://stackoverflow.com/users/498519/daedalusalpha"}, "reply_to_user": {"reputation": 36166, "user_id": 393701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250889c646cd2a916920d9252f7c6f42?s=128&d=identicon&r=PG", "display_name": "SirDarius", "link": "https://stackoverflow.com/users/393701/sirdarius"}, "edited": false, "score": 0, "creation_date": 1444234851, "post_id": 32996781, "comment_id": 53819663, "body": "Couldn&#39;t agree with you more, but apart from this little snag it actually does what I want it to do... at least for now..."}], "owner": {"reputation": 1356, "user_id": 498519, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/09a42268b990ced91598ba75df2adc3c?s=128&d=identicon&r=PG", "display_name": "DaedalusAlpha", "link": "https://stackoverflow.com/users/498519/daedalusalpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444232874, "creation_date": 1444232874, "question_id": 32996781, "link": "https://stackoverflow.com/questions/32996781/xerces-replacing-newline-in-text-element", "title": "Xerces replacing newline in text element", "body": "<p>I have a program that reads an xml file (the FileZilla settings file), adds a user, and then writes the file again using Xerces.</p>\n\n<p>The problem is that by default the Initial Welcome Message element text contains CR+LF in this format <code>&amp;#x0D;&amp;#x0A;</code> and Xerces manages to somehow translate this to an actual CR+LF so the data in the file goes from this</p>\n\n<pre><code>&lt;Item name=\"Initial Welcome Message\" type=\"string\"&gt;%v&amp;#x0D;&amp;#x0A;written by Tim Kosse (tim.kosse@filezilla-project.org)&amp;#x0D;&amp;#x0A;Please visit https://filezilla-project.org/&lt;/Item&gt;\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>&lt;Item name=\"Initial Welcome Message\" type=\"string\"&gt;%v\nwritten by Tim Kosse (tim.kosse@filezilla-project.org)\nPlease visit https://filezilla-project.org/&lt;/Item&gt;\n</code></pre>\n\n<p>which shows up incorrectly in the settings of FileZilla and I assume in any calls to the server.</p>\n\n<p>I'm not modifying this part of the file myself, it's simply parsed and then serialized by Xerces using this code:</p>\n\n<pre><code>XercesDOMParser parser;\n\nparser.parse(m_settingsPath.c_str());\n\nDOMDocument* doc = parser.getDocument();\n\n// New user added here\n\nDOMImplementation *impl          = DOMImplementationRegistry::getDOMImplementation(L\"LS\");\nDOMLSSerializer   *theSerializer = ((DOMImplementationLS*)impl)-&gt;createLSSerializer();\n\nDOMConfiguration* serializerConfig=theSerializer-&gt;getDomConfig();\n\nif (serializerConfig-&gt;canSetParameter(XMLUni::fgDOMWRTFormatPrettyPrint, true))\n    serializerConfig-&gt;setParameter(XMLUni::fgDOMWRTFormatPrettyPrint, true);\n\nreturn theSerializer-&gt;writeToURI(doc, L\"C:\\\\work\\\\temp\\\\test.xml\");\n</code></pre>\n\n<p>I assume this can be fixed by modifying some setting in either the parser or the serializer (I don't know where the problem originates) but I have no idea what that setting would be.</p>\n"}, {"tags": ["c++", "oop", "for-loop", "error-handling"], "comments": [{"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 1, "creation_date": 1444232981, "post_id": 32996689, "comment_id": 53818395, "body": "How common is it that an entity of that name won&#39;t exist? You could throw an exception if this is a rare occurrence. Another option would be to take the standard library approach and return an iterator to the element, or to <code>entityVector.end()</code> if it doesn&#39;t exist."}, {"owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "edited": false, "score": 0, "creation_date": 1444233068, "post_id": 32996689, "comment_id": 53818443, "body": "What should your method return if the entity is not present?"}, {"owner": {"reputation": 9964, "user_id": 878307, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/45054483f0c09ad9dc872f13ac71f004?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/878307/sebastian-hoffmann"}, "edited": false, "score": 1, "creation_date": 1444233072, "post_id": 32996689, "comment_id": 53818448, "body": "I would suggest using a <code>std::map</code>"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1444233256, "post_id": 32996689, "comment_id": 53818584, "body": "You can create a default object that gets returned if the item doesn&#39;t exist; that object could have some benign behavior, or it could have a method that tells you it&#39;s not real, or it could throw an exception for every method."}, {"owner": {"reputation": 8269, "user_id": 588734, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/o3CVI.jpg?s=128&g=1", "display_name": "Eamonn McEvoy", "link": "https://stackoverflow.com/users/588734/eamonn-mcevoy"}, "edited": false, "score": 0, "creation_date": 1444233257, "post_id": 32996689, "comment_id": 53818585, "body": "You could change <code>renderEntity</code> to <code>renderEntityIfExists</code> and return if a bad entity is passed in"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1444233353, "post_id": 32996689, "comment_id": 53818661, "body": "Also see <a href=\"http://stackoverflow.com/questions/2537942/nullable-values-in-c\">stackoverflow.com/questions/2537942/nullable-values-in-c</a>"}, {"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1444233372, "post_id": 32996689, "comment_id": 53818678, "body": "Another option would be <code>std::optional</code>."}, {"owner": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "edited": false, "score": 0, "creation_date": 1444239611, "post_id": 32996689, "comment_id": 53822543, "body": "Lots of useful information here, thanks all! The ideal solution for my situation is from @Kenman Tsang with the Null Object pattern. TartanLlama - I am storing a lot of data in vectors and maps in my game engine: entities, textures, models, tilemaps and so on. It&#39;s a personal project so unlikely the error will occur, but I am just looking to get cleaner and safer code."}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "edited": false, "score": 0, "creation_date": 1444239174, "post_id": 32996922, "comment_id": 53822265, "body": "That would work, but I was hoping to be able to not have to check if the object is NULL before using it, so I don&#39;t have a lot of if statements clogging the code up.  Your second point is a good one. I like that, skipping the search if you are looking for an object you found very recently. Definitely something I could use for efficiency, thanks!"}, {"owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "reply_to_user": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "edited": false, "score": 0, "creation_date": 1444244815, "post_id": 32996922, "comment_id": 53825590, "body": "Checking if a object is NULL is the same as checking if the element is present, they are the same case. I don&#39;t see how it can help unless this method findEntityByName() generate the element if it does not exists."}], "tags": [], "owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "is_accepted": false, "score": 0, "last_activity_date": 1444233241, "creation_date": 1444233241, "answer_id": 32996922, "question_id": 32996689, "link": "https://stackoverflow.com/questions/32996689/checking-if-object-exists-when-returning-from-a-function-with-for-loop/32996922#32996922", "title": "Checking if object exists when returning from a function with for loop", "body": "<p>If you can change the return type: make getEntity() return a pointer, and NULL if the object is not present.</p>\n\n<p>Alternatively as @ TartanLlama suggested you could return an iterator.</p>\n\n<p>Other option (good only in some cases): your method could remember the <code>entityName</code> of the last time it has been invoked and the resulting index. When entering you first check if the current input is equal to the previous input: in that case you return the stored index without searching again.</p>\n"}, {"comments": [{"owner": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "edited": false, "score": 0, "creation_date": 1444239085, "post_id": 32997155, "comment_id": 53822208, "body": "This is pretty much exactly what I am wanting, overriding any functions didn&#39;t occur to me. Really nice solution, I thought there would be a design pattern for it! Thank you."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1444240548, "post_id": 32997155, "comment_id": 53823017, "body": "As you return by value, you got object slicing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5405790"}, "edited": false, "score": 0, "creation_date": 1444315013, "post_id": 32997155, "comment_id": 53860754, "body": "Yes Jarod42. But as the asker dont have any more detail, so I cant include all the details.   Entity&amp; EntityManager::getEntity(string entityName) can help"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1444411311, "post_id": 32997155, "comment_id": 53908635, "body": "Return by reference is correct, else <code>EmptyEntity::render()</code> is never called with <code>EntityManager::getEntity(&quot;NotFound&quot;).render()</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5405790"}, "is_accepted": true, "score": 0, "last_activity_date": 1444233887, "creation_date": 1444233887, "answer_id": 32997155, "question_id": 32996689, "link": "https://stackoverflow.com/questions/32996689/checking-if-object-exists-when-returning-from-a-function-with-for-loop/32997155#32997155", "title": "Checking if object exists when returning from a function with for loop", "body": "<p>This should help. A simple null object pattern</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Null_Object_pattern</a></p>\n\n<pre><code>class Entity\n{\npublic:\n    virtual void render()\n    {\n        // do somthing\n    }\n};\n\nclass EmptyEntity final : public Entity \n{\npublic:\n    void render() override\n    {\n        //Do nothing or print log\n    }\n} static g_EmptyEntity;\n\nEntity EntityManager::getEntity(string entityName) \n{\n    for (int index = 0; index &lt; entityVector.size(); ++index)\n    {\n        if (entityVector[index].getName() == entityName)\n        {\n            return entityVector[index];\n        }\n    }\n    return g_EmptyEntity;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "edited": false, "score": 0, "creation_date": 1444239033, "post_id": 32997305, "comment_id": 53822173, "body": "What I was hoping to get is the case where I don&#39;t need to check if the object is null before I make a call using it. But there&#39;s some really nice stuff in your answer, I didn&#39;t know about std::find_if() and std::addressof(). Thanks, they will be useful in the future for me!"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1444234912, "last_edit_date": 1444234912, "creation_date": 1444234242, "answer_id": 32997305, "question_id": 32996689, "link": "https://stackoverflow.com/questions/32996689/checking-if-object-exists-when-returning-from-a-function-with-for-loop/32997305#32997305", "title": "Checking if object exists when returning from a function with for loop", "body": "<p>Returning pointer would be the simpler/clearer:</p>\n\n<pre><code>Entity* EntityManager::findEntityByName(const std::string&amp; entityName) \n{\n    const auto it = std::find_if(entityVector.begin(), entityVector.end(),\n                                 [&amp;](const auto&amp; e) {\n                                      return e.getName() == entityName;\n                                 } );\n    if (it == entityVector.end()) { // Not found.\n        return nullptr;\n    }\n    return std::addressof(*it);\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>auto* entity = entityManager-&gt;findEntityByName(\"player\");\nif (entity  != nullptr)\n{\n    renderer-&gt;renderEntity(entity);\n}\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 3978772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7288a18612ec9965ea217080278ad5da?s=128&d=identicon&r=PG&f=1", "display_name": "martingrant", "link": "https://stackoverflow.com/users/3978772/martingrant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 0, "accepted_answer_id": 32997155, "answer_count": 3, "score": 0, "last_activity_date": 1444234912, "creation_date": 1444232636, "question_id": 32996689, "link": "https://stackoverflow.com/questions/32996689/checking-if-object-exists-when-returning-from-a-function-with-for-loop", "title": "Checking if object exists when returning from a function with for loop", "body": "<p>I am looking to find the correct way to use this kind of code safely:</p>\n\n<pre><code>renderer-&gt;renderEntity(entityManager-&gt;getEntity(\"player\"));\n\nEntity EntityManager::getEntity(string entityName) \n{\n    for (int index = 0; index &lt; entityVector.size(); ++index)\n    {\n        if (entityVector[index].getName() == entityName)\n        {\n            return entityVector[index];\n        }\n    }\n}\n</code></pre>\n\n<p>Where you want to get an object from a container within an instance of a class, and want to check it exists, so you aren't making a call on an object that doesn't exist.</p>\n\n<p>I know I could alter the call to:</p>\n\n<pre><code>if (entityManager-&gt;getEntity(\"player\" != nullptr)\n{\n    renderer-&gt;renderEntity(\"player\");\n}\n</code></pre>\n\n<p>I would like to avoid the double call to check the object exists. I guess this may be more a design than a syntax problem. Could I build the error checking into the getEntity() function that contains the for loop? I am not sure since the return value is Entity, so an Entity object must be returned. (same if it is a pointer, this isn't the code in my project, just a similar example).</p>\n"}, {"tags": ["java", "c++", "sockets", "udp", "multicast"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1444232622, "post_id": 32996613, "comment_id": 53818117, "body": "Have you ensured that the two machines&#39; firewalls will allow your chat traffic through?"}, {"owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444232966, "post_id": 32996613, "comment_id": 53818379, "body": "Ill manage to see if possible, but i believe i dont have those permissions anyway to change firewalls settings, i believe teachers considered that."}, {"owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444233101, "post_id": 32996613, "comment_id": 53818475, "body": "ps: i managed to comunicate different computers with unicast. if thats useful to check if its really the firewall the problem. thx for the quick response."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444233803, "post_id": 32996613, "comment_id": 53818965, "body": "Firewalls typically operate on a per-protocol and per-port basis.  If you&#39;re unsure whether a firewall is getting in the way, then the quickest way to test that is to turn off both machines&#39; firewalls and try again.  Be certain to turn both firewalls back on immediately afterward."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444234019, "post_id": 32996613, "comment_id": 53819132, "body": "There is also the possibility of traffic filtering at the router.  If that&#39;s happening then you can probably work around it for testing purposes by connecting both machines to the same (dumb) network hub or switch, so that they can communicate with each other without going through the router."}, {"owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444234092, "post_id": 32996613, "comment_id": 53819177, "body": "i dont have privileges to manage the firewalls. I did a ping and traceroute to another computer ip and both commands respond. So i guess udp packets are not blocked."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444234572, "post_id": 32996613, "comment_id": 53819485, "body": "<code>ping</code> and <code>traceroute</code> do not address the question, as they will be directed to different ports than the one to which your client is listening.  I might have suggested testing via <code>telnet</code>, but not for UDP.  If the problem indeed is with the firewall(s), then you will need the assistance of someone who does have privileges.  Alternatively, you could find or set up a test machine on which you do have privileges."}, {"owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444234837, "post_id": 32996613, "comment_id": 53819652, "body": "alright, ill try to test the code somewhere else. Just to make sure, i managed to send messages from one computer to another using unicast, opening an udp socket, and sending it to another udp socket in the other computer, im learning about this, i dont know if the packets that are treated differently if they are unicast or multicast."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1444235536, "post_id": 32996613, "comment_id": 53820099, "body": "Firewalls can be very specific about what they allow through and what they don&#39;t.  This channel is not suited to troubleshooting the details for you.  I cannot say for sure that your firewall is the problem, but that&#39;s always one of the first things to check, and none of the tests you describe performing clearly rule it out.  Again, the easiest way to rule it out is to take all firewalls out of the picture and see whether the problem remains."}], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "is_accepted": true, "score": 0, "last_activity_date": 1444265861, "creation_date": 1444265861, "answer_id": 33004878, "question_id": 32996613, "link": "https://stackoverflow.com/questions/32996613/multicasting-c-multiple-computers-on-the-same-lan/33004878#33004878", "title": "Multicasting C++ multiple computers on the same LAN", "body": "<p>Well, apparently i changed to another computer and the code worked. So the firewall had something to do. Im answering so if anybody needs the same problem, the code i attached works perfectly if including and importing the proper libraries!!</p>\n"}], "owner": {"reputation": 278, "user_id": 5419172, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lvXGV.png?s=128&g=1", "display_name": "9uzman7", "link": "https://stackoverflow.com/users/5419172/9uzman7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 33004878, "answer_count": 1, "score": 0, "last_activity_date": 1444265861, "creation_date": 1444232421, "question_id": 32996613, "link": "https://stackoverflow.com/questions/32996613/multicasting-c-multiple-computers-on-the-same-lan", "title": "Multicasting C++ multiple computers on the same LAN", "body": "<p>i am working on an assignment for college, i was asked to implement a chat for the LAN of my college.\nI am in the process of working with multicast for sending a same message to all registered users on the group. My sender is developed on C++ and the receivers on java. When testing on the same computer the code that i am attaching works fine, sender sends, and receiver receives, but when running client on another computer it does not receive the messages sent.</p>\n\n<p>Server:</p>\n\n<pre><code>int main(){\n\n/** MC socket **/\n\nstruct sockaddr_in groupSock;\ngroupSock.sin_family = AF_INET;\ngroupSock.sin_addr.s_addr = inet_addr(\"225.5.4.30\");\ngroupSock.sin_port = htons(54321);\n    bzero(&amp;(groupSock.sin_zero),8);\n\nint mcsock;\nif ((mcsock = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP)) == -1) {\n        perror(\"Socket MC\");\n        exit(1);\n    }\n\nint nroM = 0;\nwhile(1)\n{\n    fflush(stdout);\n\n    stringstream resp; \n    resp &lt;&lt; \"Mensaje multicast: \" &lt;&lt; nroM &lt;&lt; \"\\n\";\n    cout &lt;&lt; resp.str();\n    /* Send a message to the multicast group specified by the*/\n    /* groupSock sockaddr structure. */\n    /*int datalen = 1024;*/\n    if(sendto(mcsock, resp.str().c_str(), strlen(resp.str().c_str()), 0, (struct sockaddr*)&amp;groupSock, sizeof(groupSock)) &lt; 0)\n    perror(\"Sending datagram message error\");\n    nroM++;\n    sleep(2);\n}\n\nclose(mcsock);\n    return 0;\n\n} \n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>class UDPCliente {\npublic static void main(String args[]) throws Exception{\n\nInetAddress address = InetAddress.getByName(\"225.5.4.30\");\n// Create a buffer of bytes, which will be used to store\n// the incoming bytes containing the information from the server.\n// Since the message is small here, 256 bytes should be enough.\nbyte[] buf = new byte[256];\n// Create a new Multicast socket (that will allow other sockets/programs\n// to join it as well.\ntry (MulticastSocket clientSocket = new MulticastSocket(54321)){\n    //Joint the Multicast group.\n    clientSocket.joinGroup(address);\n    while (true) {\n    // Receive the information and print it.\n    DatagramPacket msgPacket = new DatagramPacket(buf, buf.length);\n    clientSocket.receive(msgPacket);\n    String msg = new String(buf, 0, buf.length);\n    System.out.print(msg);\n    }\n} catch (IOException ex) {\n    ex.printStackTrace();\n}\n}\n</code></pre>\n\n<p>Just for extra information, this code with the appropiate imports and includes compile and run.</p>\n\n<p>Thank you!!</p>\n"}, {"tags": ["c++", "visual-studio", "qt", "visual-studio-2015", "qt5"], "comments": [{"owner": {"reputation": 6882, "user_id": 264822, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8d32aaf66676a77ad32a879a8e090887?s=128&d=identicon&r=PG", "display_name": "parsley72", "link": "https://stackoverflow.com/users/264822/parsley72"}, "edited": false, "score": 0, "creation_date": 1456020531, "post_id": 32996555, "comment_id": 58752394, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32413617/setting-up-qt5-with-visual-studio-2015\">Setting up Qt5 with Visual Studio 2015</a>"}], "answers": [{"comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1444237617, "post_id": 32996853, "comment_id": 53821341, "body": "Qt versions are completely isolated. You should <i>never</i> add any Qt version to any global environment variable. Uninstalling previous Qt versions is pointless: in normal development, you will have multiple versions installed side-by-side. It all works."}, {"owner": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "edited": false, "score": 0, "creation_date": 1444243925, "post_id": 32996853, "comment_id": 53825032, "body": "Thank you for the response, but that walkthrough didn&#39;t help me out by now...updating question"}], "tags": [], "owner": {"reputation": 1197, "user_id": 4931530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-nDmPkk0Onz4/AAAAAAAAAAI/AAAAAAAABLE/oS85cViB7SA/photo.jpg?sz=128", "display_name": "Acha Bill", "link": "https://stackoverflow.com/users/4931530/acha-bill"}, "is_accepted": false, "score": 1, "last_activity_date": 1444233051, "last_edit_date": 1495540293, "creation_date": 1444233051, "answer_id": 32996853, "question_id": 32996555, "link": "https://stackoverflow.com/questions/32996555/building-qt-for-msvc2015-and-get-working-projects/32996853#32996853", "title": "Building QT for msvc2015 - and get working projects?", "body": "<p>Here is a complete walkthrough:<br>\n <a href=\"https://stackoverflow.com/questions/14932315/how-to-compile-qt-5-under-windows-or-linux-32-or-64-bit-static-or-dynamic-on-v\">How to compile Qt 5 under Windows or Linux, 32 or 64 bit, static or dynamic on VS2010, VS2012, VS2013 or VS2015 Express or g++</a>.  </p>\n\n<p>You might want to uninstall all previous Qt.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "edited": false, "score": 0, "creation_date": 1444253599, "post_id": 33002399, "comment_id": 53830497, "body": "Thanks! I&#39;m indeed not sure if I was using the correct prompt, because the title doesn&#39;t contain the architecture - how do I know? - Also, are the mkspecs created when you did that? I will go for another attempt tomorrow and will tell you if it worked or not."}, {"owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "reply_to_user": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "edited": false, "score": 0, "creation_date": 1444294734, "post_id": 33002399, "comment_id": 53845871, "body": "I do have a mkspecs directory in the installed directory containing <code>win32-msvc2015</code> along with many others.  You can check that you have the right command prompt by running <code>cl</code> - it should say <code>Microsoft Compiler Version 19.00... for x64</code> (or x86)"}, {"owner": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "edited": false, "score": 0, "creation_date": 1444306332, "post_id": 33002399, "comment_id": 53853813, "body": "Okay, concerning the missing mkspecs: It was the missing jom install call. That one is fixed, thanks a ton! - Yet, when creating a new QT widget applycation, it still won&#39;t build: A LNK2019 occures at [qtmaind.lib(qtmain_win.obj)], telling my that theres a link to an unresolved symbol &quot;__imp__CommandLineToArgvW@8&quot; in function &quot;_WinMain@16&quot; ..."}, {"owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "reply_to_user": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "edited": false, "score": 0, "creation_date": 1444343554, "post_id": 33002399, "comment_id": 53876302, "body": "That&#39;s a Windows API - add <code>shell32.lib</code> to your link libraries (see <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb776391%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "is_accepted": false, "score": 1, "last_activity_date": 1444251913, "creation_date": 1444251913, "answer_id": 33002399, "question_id": 32996555, "link": "https://stackoverflow.com/questions/32996555/building-qt-for-msvc2015-and-get-working-projects/33002399#33002399", "title": "Building QT for msvc2015 - and get working projects?", "body": "<p>I have Qt built for VS2015 as well as VS2013 and for 5.50 onwards it shouldn't need anything particularly special to get it to build successfully.  I tend to use a cut down version of the Walkthrough that @jafar's mentions (and also closer to the method in the <a href=\"http://doc.qt.io/qt-5/windows-building.html\" rel=\"nofollow\">official docs</a>')</p>\n\n<ul>\n<li>Clone the qt5 repository or unzip the source</li>\n<li>Start a command prompt. <strong>IMPORTANT</strong>: create the correct 'VS2015 x86  or x64' prompt</li>\n<li><strong>DON'T</strong> edit the <code>msvc-desktop.conf</code> as mentioned in the Walkthrough. (Qt can't be built with the /MT flag)</li>\n<li><p>Run configure: </p>\n\n<p>configure -debug-and-release -opensource -platform win32-msvc2015 -opengl desktop -nomake examples -nomake tests</p></li>\n<li><p>Build with <code>jom -j 8</code> (I find you get diminishing returns beyond that) or <code>nmake</code>.  If you omit the examples and tests I can build the whole of qtbase in about 10-15 minutes</p></li>\n<li>Run <code>jom install</code> or <code>nmake install</code> </li>\n</ul>\n"}], "owner": {"reputation": 43, "user_id": 5136499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a39ca724e4041648adec89a7559a05?s=128&d=identicon&r=PG&f=1", "display_name": "JCh3ss", "link": "https://stackoverflow.com/users/5136499/jch3ss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10520, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1452281634, "creation_date": 1444232217, "last_edit_date": 1495539865, "question_id": 32996555, "link": "https://stackoverflow.com/questions/32996555/building-qt-for-msvc2015-and-get-working-projects", "title": "Building QT for msvc2015 - and get working projects?", "body": "<p>There already is a quite related <a href=\"https://stackoverflow.com/questions/32894097/how-do-i-use-qt-in-my-visual-studio-2015-projects?answertab=votes#tab-top\">question (rq)</a> here, but it is not specialized enough and my reputation is not high enough to ask for more advice in the comments ... yet, time is running and I've got to get somewhere.\nOnce the original question is answered, this one can and should be deleted.</p>\n\n<p><strong>What I want:</strong> Working in Visual Studio 2015, using the qt-library. That's it.</p>\n\n<p><strong>What I did:</strong></p>\n\n<ul>\n<li>Install vs2015, works</li>\n<li>Download the qt5.5.0 source, built it following the <a href=\"https://stackoverflow.com/questions/32894097/how-do-i-use-qt-in-my-visual-studio-2015-projects?answertab=votes#tab-top\">(rq)</a> instruction using <a href=\"https://wiki.qt.io/Jom\" rel=\"nofollow noreferrer\">jom</a> (nmake worked the same, just was slower)</li>\n<li>Install the qt package extension for vs2015, also following <a href=\"https://stackoverflow.com/questions/32894097/how-do-i-use-qt-in-my-visual-studio-2015-projects?answertab=votes#tab-top\">(rq)</a></li>\n</ul>\n\n<p>The first error: The building-process didn't create any mkspecs, so i wasn't able to set the directory in the QT-options in visual studio: \"This QT version uses an unsupported makefile generator (used:, supported: MSVN.NET, MSBUILD)\"</p>\n\n<ul>\n<li>I tried to hack that by replacing it with the mkspec-folder of an installed version to I was able to select the qtbase-folder in the Qt Options.</li>\n<li>Played around with the library-directories, the include-directories and the additional-dependencies of the VS-Project. No matter what I did, the include-files where not found.</li>\n</ul>\n\n<p>As this didn't work out, I installed qt 5.5.0 mingw492_32 with the installer. Using that I was able to create a new project with the QTCreator. It compiled in the QTCreator. After that I executed</p>\n\n<pre><code>qmake -platform win32-msvc2015 -tp vs\n</code></pre>\n\n<p>to convert the project into a Visual-Studio-project, while qmake was the executable from the previously BUILT version, not the installed one, the include-files where still not found in visual studio.</p>\n\n<p>What am I doing wrong? The library-directories, the include-directories and the additional-dependencies look fine to me in the converted project.</p>\n\n<hr>\n\n<p><strong>EDIT 1:</strong>\nI followed the <a href=\"https://stackoverflow.com/questions/14932315/how-to-compile-qt-5-under-windows-or-linux-32-or-64-bit-static-or-dynamic-on-v\">walkthrough</a> and everything built successfully. Yet, the mkspecs-folder is still empty. Creating a Qt-Widget-application with the Qt Creator endts up in a crashing app (no changes were made to the default code):</p>\n\n<pre><code>Second Chance Assertion Failed: File minkernel\\crts\\ucrt\\src\\appcrt\\heap\\debug_heap.cpp, Line 980\n</code></pre>\n\n<p>Calling</p>\n\n<pre><code>qmake -platform win32-msvc2015 -tp vs\n</code></pre>\n\n<p>also isn't successfull:</p>\n\n<pre><code>qmake -platform win32-msvc2015 -tp vs\nWARNING: Unable to generate output for: D:/_Daten/_Studium/Bachelor-Thesis/Visual-Studio/VISAR-FSA/GuiTest/Makefile.Debug [TEMPLATE vsapp]\nWARNING: Unable to generate output for: D:/_Daten/_Studium/Bachelor-Thesis/Visual-Studio/VISAR-FSA/GuiTest/Makefile.Release [TEMPLATE vsapp]\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>Concerning the mkspecs: Turns out I had to call both:</p>\n\n<pre><code>jom -j 8\njom install\n</code></pre>\n\n<p>Now all mkspecs are created. The official documentation made me think that the second one only was an option for the build when a destination path was set.\nYet, a freshly created Qt Widget Application in Qt Creator, with the built and installed QT-version and the correct compiler, still won't compile. A LNK2019 occures in [qtmain.lib(qtmain_win.obj)], telling me that there is a link to a symbol \"__imp__CommandLineToArgvW@8\" in function \"_WinMain@16\", that was not resolved.</p>\n"}, {"tags": ["c++", "node.js", "ram"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1444232395, "post_id": 32996500, "comment_id": 53817945, "body": "How does it exit? Is there an error message? Have you tried running it in a debugger?"}, {"owner": {"reputation": 253, "user_id": 5060988, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ef9a1706b1dfa14235bab91783d3187a?s=128&d=identicon&r=PG&f=1", "display_name": "jdscardoso", "link": "https://stackoverflow.com/users/5060988/jdscardoso"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1444232510, "post_id": 32996500, "comment_id": 53818038, "body": "No error message, no breaks,  no alerts. The program just has a peaceful exit and allow me to run it again. I can do 6 recognitions without problem. The thing is I have not implemented some routine to clean the memory after each recognition, so this is my major suspect"}], "answers": [{"tags": [], "owner": {"reputation": 253, "user_id": 5060988, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ef9a1706b1dfa14235bab91783d3187a?s=128&d=identicon&r=PG&f=1", "display_name": "jdscardoso", "link": "https://stackoverflow.com/users/5060988/jdscardoso"}, "is_accepted": false, "score": 0, "last_activity_date": 1444233718, "creation_date": 1444233718, "answer_id": 32997099, "question_id": 32996500, "link": "https://stackoverflow.com/questions/32996500/maximum-ram-possible-in-nodejs-addon/32997099#32997099", "title": "Maximum RAM possible in NodeJS Addon", "body": "<p><a href=\"https://github.com/nodejs/node-v0.x-archive/wiki/FAQ\" rel=\"nofollow\">Currently</a>, by default v8 has a memory limit of 512MB on 32-bit systems, and 1.4GB on 64-bit systems. The limit can be raised by setting --max_old_space_size to a maximum of ~1024 (~1 GB) (32-bit) and ~4096 (~4GB) (64-bit), but it is recommended that you split your single process into several workers if you are hitting memory limits.</p>\n\n<p>increasing the memory limit in node.js:</p>\n\n<pre><code>node --max-old-space-size=1024 my-node-script.js #increase to 1gb\nnode --max-old-space-size=2048 my-node-script.js #increase to 2gb\nnode --max-old-space-size=3072 my-node-script.js #increase to 3gb\nnode --max-old-space-size=4096 my-node-script.js #increase to 4gb\nnode --max-old-space-size=5120 my-node-script.js #increase to 5gb\nnode --max-old-space-size=6144 my-node-script.js #increase to 6gb\nnode --max-old-space-size=7168 my-node-script.js #increase to 7gb\nnode --max-old-space-size=8192 my-node-script.js #increase to 8gb\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 5060988, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ef9a1706b1dfa14235bab91783d3187a?s=128&d=identicon&r=PG&f=1", "display_name": "jdscardoso", "link": "https://stackoverflow.com/users/5060988/jdscardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444233718, "creation_date": 1444232097, "question_id": 32996500, "link": "https://stackoverflow.com/questions/32996500/maximum-ram-possible-in-nodejs-addon", "title": "Maximum RAM possible in NodeJS Addon", "body": "<p>I am building a nodejs addon (C and C++) for speech recognition. Every speech request will need approx 30MB of RAM to allocate, acoustic models, language models, etc. I want to know the max of RAM that I am allowed to use. \nI am asking this because after the 6th request (in task manager is equivalent +/- of 175,000k) the nodejs automatically exit.</p>\n\n<p>Note: I am using 32bit version of nodejs in windows7 34 bits. </p>\n"}, {"tags": ["c++", "function", "complex-numbers", "complextype"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1444232236, "post_id": 32996410, "comment_id": 53817834, "body": "Why did you tag a C++ question as <a href=\"https://stackoverflow.com/questions/tagged/c\">c</a>? Genuinely curious."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1444232945, "post_id": 32996410, "comment_id": 53818365, "body": "1) Would be useful to see the calling code for <code>SphericalHarmCalc()</code>.  2) Minor: <code>m_abs = fabs(m);</code> --&gt; <code>m_abs = abs(m);</code>  (FP math not needed for <code>int</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444233600, "post_id": 32996410, "comment_id": 53818838, "body": "Can you provide an minimal working example of both cases?"}], "owner": {"reputation": 11, "user_id": 4291976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dd6cd59cd81bfedeced029c824cfa1?s=128&d=identicon&r=PG&f=1", "display_name": "CompChem", "link": "https://stackoverflow.com/users/4291976/compchem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444231879, "creation_date": 1444231861, "last_edit_date": 1444231879, "question_id": 32996410, "link": "https://stackoverflow.com/questions/32996410/why-does-this-function-return-different-values", "title": "Why does this function return different values?", "body": "<p>I have written a function in C++ to calculate a Spherical Harmonic (using the gcc complex library):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;complex&gt;\nusing namespace std;\n\ndouble plegendre( int, int, double );\n\ncomplex&lt;double&gt; SphericalHarmonicY( int l, int m, double theta, double phi )\n{\n   int m_abs;\n   double im, re, plm;\n   complex&lt;double&gt; output;\n\n   m_abs = fabs(m);\n\n   plm = plegendre( l, m_abs, cos( theta ) );\n\n   re = plm * cos( m * phi );\n   im = plm * sin( m * phi );\n\n   if ( m &lt; 0 )\n   {\n     re = - re;\n     im = - im;\n   }\n\n   output = complex&lt;double&gt;( re, im );\n\n   cout &lt;&lt; \" {\" &lt;&lt; l &lt;&lt; \",\" &lt;&lt; m &lt;&lt; \"}\\t\" &lt;&lt; \"theta = \" &lt;&lt; theta &lt;&lt; \" phi = \" &lt;&lt; phi &lt;&lt; \n   \" SH = \" &lt;&lt; output &lt;&lt; endl;\n\n   return output;\n}\n</code></pre>\n\n<p>If I call this function through a simple \"main()\" it works and gives the correct values.</p>\n\n<p>However, when called through the subroutine below, it only gives the correct real part for values of m that are even and correct imaginary part for values of m that are odd. Can anyone explain this?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;complex&gt;\n#include \"MyHeader.h\"\n\nvoid SphericalHarmCalc( int* P, double* theta, double* phi, SpherHarm** &amp;SHout )\n{\n   int l, m, i{0};\n   double theta_, phi_;\n\n   theta_ = *theta;\n   phi_   = *phi;\n\n   SHout = new SpherHarm*[(*P)+1];\n\n   for ( i = 0; i &lt;= (*P); i++ )\n   {    \n      SHout[i] = new SpherHarm[(2*i)+1];\n   }\n\n   for ( l = 0; l &lt;= (*P); l++)\n   {\n      i = 0;\n      for ( m = -l; m &lt;= l; m++ )\n      {\n         SHout[l][i].lm[0] = l;\n         SHout[l][i].lm[1] = m;\n\n         SHout[l][i].val = SphericalHarmonicY( l, m, theta_, phi_ );\n         i++;\n      }\n      cout &lt;&lt; endl &lt;&lt; endl;\n   }\n}\n</code></pre>\n\n<p>This has been confusing me for some time.</p>\n\n<p>(also I do use <code>delete[]</code> to free the heap later - outside this subroutine). </p>\n\n<p>The class SpherHarm is defined in the MyHeader.h:</p>\n\n<pre><code>class SpherHarm\n{\n   public:\n     int* lm = new int[2];\n     complex&lt;double&gt; val;\n};\n</code></pre>\n\n<p>And I am using the g++ compiler (version 4.8.2) with flags: </p>\n\n<pre><code>g++ -Wall -std=c++11\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444232112, "post_id": 32996403, "comment_id": 53817744, "body": "Yes, define them as <code>static</code> and place the declarations at the top of the source file (translation unit)."}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1444232276, "post_id": 32996529, "comment_id": 53817875, "body": "It was undeprecated in C++11."}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444232402, "post_id": 32996529, "comment_id": 53817956, "body": "@LightnessRacesinOrbit - thanks for that clarification.  I didn&#39;t realize that.  Corrected it above."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444232858, "post_id": 32996529, "comment_id": 53818298, "body": "np; you <i>did</i> say &quot;I believe&quot;!"}], "tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 4, "last_activity_date": 1444232693, "last_edit_date": 1444232693, "creation_date": 1444232143, "answer_id": 32996529, "question_id": 32996403, "link": "https://stackoverflow.com/questions/32996403/ok-to-not-include-some-non-member-functions-in-header/32996529#32996529", "title": "Ok to not include some non-member functions in header?", "body": "<p>This is common.  Keeps clutter out of the header file.  Normally, you would put them in an anonymous namespace in the .cpp file.</p>\n\n<p>You can accomplish this without an anonymous namespace by using the static keyword.</p>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1444232188, "creation_date": 1444232188, "answer_id": 32996543, "question_id": 32996403, "link": "https://stackoverflow.com/questions/32996403/ok-to-not-include-some-non-member-functions-in-header/32996543#32996543", "title": "Ok to not include some non-member functions in header?", "body": "<p>Yes, non-member functions can be placed inside the translation unit.  </p>\n\n<p>Declare and define them as <code>static</code> so they are <em>private</em> within the translation unit.  </p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444232894, "post_id": 32996672, "comment_id": 53818322, "body": "<i>&quot;a link error of confliction&quot;</i> mind if I steal this?"}, {"owner": {"reputation": 989, "user_id": 1733383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c4562803b7c0d405c57d309aa5252a?s=128&d=identicon&r=PG", "display_name": "BigTailWolf", "link": "https://stackoverflow.com/users/1733383/bigtailwolf"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444233069, "post_id": 32996672, "comment_id": 53818444, "body": "@LightnessRacesinOrbit because it compiles in two translation unit. Both of them have a segment of binary. When you link them together, the program doesn&#39;t know which one is going to use."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1444233279, "post_id": 32996672, "comment_id": 53818601, "body": "I think you misunderstood my comment. I didn&#39;t ask for an explanation; I asked whether I could steal the phrase! It is a delicious turn of phrase and I&#39;d like to use it in writing elsewhere."}], "tags": [], "owner": {"reputation": 989, "user_id": 1733383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c4562803b7c0d405c57d309aa5252a?s=128&d=identicon&r=PG", "display_name": "BigTailWolf", "link": "https://stackoverflow.com/users/1733383/bigtailwolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1444233122, "last_edit_date": 1444233122, "creation_date": 1444232597, "answer_id": 32996672, "question_id": 32996403, "link": "https://stackoverflow.com/questions/32996403/ok-to-not-include-some-non-member-functions-in-header/32996672#32996672", "title": "Ok to not include some non-member functions in header?", "body": "<p>It's OK to declare them in header file. But if you define them in the header and the header was included by more than one compiling unit, it will cause a link error of confliction.</p>\n\n<p>See this example:</p>\n\n<h1>header.h</h1>\n\n<pre><code>class Foo\n{\n};\n\nvoid f()\n{\n}\n</code></pre>\n\n<h1>b.cpp</h1>\n\n<pre><code># include \"header.h\"\n</code></pre>\n\n<h1>a.cpp</h1>\n\n<pre><code># include \"header.h\"\n\nint main()\n{\n}\n</code></pre>\n\n<h1>Compiling OK but link error:</h1>\n\n<pre><code>[~]$ g++ -c a.cpp\n[~]$ g++ -c b.cpp\n[~]$ g++ -o run a.o b.o\nb.o: In function `f()':\nb.cpp:(.text+0x0): multiple definition of `f()'\na.o:a.cpp:(.text+0x0): first defined here\ncollect2: error: ld returned 1 exit status\n[~]$\n</code></pre>\n\n<p>Alternately, if you separate the declaration and definition like this:</p>\n\n<h1>header.h</h1>\n\n<pre><code>class Foo\n{\n};\n\nvoid f();\n</code></pre>\n\n<h1>b.cpp</h1>\n\n<pre><code>#include \"header.h\"\n\nvoid f()\n{\n}\n</code></pre>\n\n<h1>a.cpp</h1>\n\n<pre><code>#include \"header.h\"\n\nint main()\n{\n}\n</code></pre>\n\n<h1>Then it will be fine</h1>\n\n<pre><code>[~]$ g++ -c a.cpp\n[~]$ g++ -c b.cpp\n[~]$ g++ -o run a.o b.o\n[~]$\n</code></pre>\n\n<h1>Also, the static works for that as the posts above said.</h1>\n"}, {"tags": [], "owner": {"reputation": 2008, "user_id": 3483291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PAosg.jpg?s=128&g=1", "display_name": "vishal", "link": "https://stackoverflow.com/users/3483291/vishal"}, "is_accepted": false, "score": 0, "last_activity_date": 1444236641, "creation_date": 1444236641, "answer_id": 32998049, "question_id": 32996403, "link": "https://stackoverflow.com/questions/32996403/ok-to-not-include-some-non-member-functions-in-header/32998049#32998049", "title": "Ok to not include some non-member functions in header?", "body": "<p>You can just put functions in their own namespace so that it doesn't interfere with rest code. A common practice is to make the namespace an inner namespace of your main library namespace and to call it details or something similar.</p>\n\n<p>Of course, if you need to function to be available through ADL(argument dependent lookup) then it has to live in the namespace enclosing the classes for which the ADL is supposed to match. There's no way around this.</p>\n"}], "owner": {"reputation": 133, "user_id": 4786617, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/071c1c15d259455e72396f68814eac14?s=128&d=identicon&r=PG&f=1", "display_name": "Hosdgfag2", "link": "https://stackoverflow.com/users/4786617/hosdgfag2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1444236641, "creation_date": 1444231835, "question_id": 32996403, "link": "https://stackoverflow.com/questions/32996403/ok-to-not-include-some-non-member-functions-in-header", "title": "Ok to not include some non-member functions in header?", "body": "<p>If you want some non-member functions to be possible to be called only by functions in the same translation unit, is ok to not define them in the header?</p>\n"}, {"tags": ["c++", "while-loop"], "comments": [{"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1444231989, "post_id": 32996376, "comment_id": 53817648, "body": "What doesn&#39;t work? Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>. From a brief look, seems like you don&#39;t initialize a bunch of your variables, then use them in the condition. Maybe you want a <code>do while</code> loop."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444232137, "post_id": 32996376, "comment_id": 53817765, "body": "Welcome to Stack Overflow! It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}], "answers": [{"comments": [{"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "reply_to_user": {"reputation": 1, "user_id": 5419198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5X8sV2lESc/AAAAAAAAAAI/AAAAAAAAAJg/u0oRTPYpgck/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/5419198/jason"}, "edited": false, "score": 1, "creation_date": 1444233121, "post_id": 32996544, "comment_id": 53818492, "body": "@Jason Even if this makes your program work, you still have undefined behaviour from using uninitialized variables. You should address this now before it causes a weird error when you least expect it."}], "tags": [], "owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "is_accepted": true, "score": 1, "last_activity_date": 1444232697, "last_edit_date": 1444232697, "creation_date": 1444232192, "answer_id": 32996544, "question_id": 32996376, "link": "https://stackoverflow.com/questions/32996376/need-some-advice-with-this-while-loop/32996544#32996544", "title": "Need some advice with this while loop", "body": "<p>You have a semicolon on the while/if loop.  Remove it:</p>\n\n<pre><code>while ( load &gt; buckle_threshold || load &gt; compress_threshold \n || slenderness_value &gt; slenderness_limit );  &lt;--- Right there!\n\n\nif (load &lt;= buckle_threshold &amp;&amp; load &lt;= compress_threshold \n&amp;&amp; slenderness_value &lt;= slenderness_limit );  &lt;--- Here too!\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5419198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5X8sV2lESc/AAAAAAAAAAI/AAAAAAAAAJg/u0oRTPYpgck/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/5419198/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 32996544, "answer_count": 1, "score": -1, "last_activity_date": 1444232697, "creation_date": 1444231767, "question_id": 32996376, "link": "https://stackoverflow.com/questions/32996376/need-some-advice-with-this-while-loop", "title": "Need some advice with this while loop", "body": "<p>I'm having difficulties understanding the problem here.  From my perspective it looks like the loop should continue executing when any of these conditions are true.  When all of the \"if\" conditions are true, that should kick in and terminate the program.  What am I doing wrong?</p>\n\n<pre><code>double height ;\ndouble width ;\ndouble load ;\ndouble buckle_threshold ;\ndouble area ;\ndouble compress_threshold ;\ndouble slenderness_value ;\nconst int slenderness_limit = 50 ;\nconst int E = 1700000 ;\nconst int stress = 1450 ;\nconst int inches = 12 ;\n\ncout &lt;&lt; \"Enter column height in feet: \" ;\ncin &gt;&gt; height ;\ncout &lt;&lt; \"Enter expected load in pounds: \" ;\ncin &gt;&gt; load ;\n\nwhile ( load &gt; buckle_threshold || load &gt; compress_threshold || slenderness_value &gt; slenderness_limit );\n{\n    cout &lt;&lt; \"Enter column width in inches: \" ;\n    cin &gt;&gt; width ;\n\n    slenderness_value = (height/width)*(inches) ;\n    area = width*width ;\n    buckle_threshold = (.3*E*area)/(pow((height/width),2)) ;\n    compress_threshold = area*stress ;\n\n\n    if (load &lt;= buckle_threshold &amp;&amp; load &lt;= compress_threshold &amp;&amp; slenderness_value &lt;= slenderness_limit );\n    {\n        cout &lt;&lt; \"Compress Threshold = \" &lt;&lt; compress_threshold &lt;&lt; endl ;\n        cout &lt;&lt; \"Buckle Threshold = \" &lt;&lt; buckle_threshold &lt;&lt; endl ;\n        cout &lt;&lt; \"Column is safe.\" ;\n\n        return 0;\n    }\n\n    cout &lt;&lt; \"Compress Threshold = \" &lt;&lt; compress_threshold &lt;&lt; endl ;\n    cout &lt;&lt; \"Buckle Threshold = \" &lt;&lt;buckle_threshold &lt;&lt; endl ;\n    cout &lt;&lt; \"Column is unsafe.\" &lt;&lt; endl ;\n\n}\n\nreturn 0;\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2737, "user_id": 890537, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/W8eJ5.png?s=128&g=1", "display_name": "m02ph3u5", "link": "https://stackoverflow.com/users/890537/m02ph3u5"}, "edited": false, "score": 0, "creation_date": 1444235962, "post_id": 32996268, "comment_id": 53820348, "body": "Isn&#39;t a pointer a variable? Guess you need to be more specific."}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 1, "last_activity_date": 1444232019, "last_edit_date": 1444232019, "creation_date": 1444231718, "answer_id": 32996354, "question_id": 32996268, "link": "https://stackoverflow.com/questions/32996268/c-set-dynamic-memory-to-variable/32996354#32996354", "title": "C++ | Set dynamic memory to variable?", "body": "<p>No you can't. <code>new int</code> returns an <code>int*</code> and the behaviour on casting it to <code>int</code> is undefined.</p>\n\n<p>If you dislike explicit pointers, you could write <code>typedef int* int_ptr;</code> and use <code>int_ptr my_var = new int;</code></p>\n\n<p>And yes, you <strong>must</strong> <code>delete my_var</code> at some point.</p>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1444286873, "post_id": 32997579, "comment_id": 53840998, "body": "Excellent answer, particularly the <code>new (nothrow)</code> detail."}], "tags": [], "owner": {"reputation": 2008, "user_id": 3483291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PAosg.jpg?s=128&g=1", "display_name": "vishal", "link": "https://stackoverflow.com/users/3483291/vishal"}, "is_accepted": true, "score": 1, "last_activity_date": 1444235132, "creation_date": 1444235132, "answer_id": 32997579, "question_id": 32996268, "link": "https://stackoverflow.com/questions/32996268/c-set-dynamic-memory-to-variable/32997579#32997579", "title": "C++ | Set dynamic memory to variable?", "body": "<p>Memory allocation is taken care if you just write :</p>\n\n<pre><code>int n = 45;\n</code></pre>\n\n<p>but when using dynamic allocation, you have to use pointer and new operator, so that it can be deleted later:</p>\n\n<pre><code>int * foo;\nfoo = new int [5];\n</code></pre>\n\n<p>If you dont want your program to terminated during allocation due to some exception, try using nothrow. example:</p>\n\n<pre><code>int * foo;\nfoo = new (nothrow) int [5];\nif (foo == nullptr) {\n// error assigning memory. Take measures. \n}\n</code></pre>\n\n<p>using nothrow the pointer returned by new is a null pointer, and the program continues its execution normally.</p>\n"}], "owner": {"reputation": 19, "user_id": 5074039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jhnzz0SnMKo/AAAAAAAAAAI/AAAAAAAAACI/UnwlSdDmD2M/photo.jpg?sz=128", "display_name": "Aryan Verma", "link": "https://stackoverflow.com/users/5074039/aryan-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 32997579, "answer_count": 2, "score": -4, "last_activity_date": 1444235132, "creation_date": 1444231480, "question_id": 32996268, "link": "https://stackoverflow.com/questions/32996268/c-set-dynamic-memory-to-variable", "title": "C++ | Set dynamic memory to variable?", "body": "<p>Can I assign dynamic memory or allocation to a variable instead of  pointer? like <code>int my_var= new int</code> and also delete it later?</p>\n"}, {"tags": ["c++", "char"], "comments": [{"owner": {"reputation": 6869, "user_id": 1829943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yDzWV.png?s=128&g=1", "display_name": "CoffeDeveloper", "link": "https://stackoverflow.com/users/1829943/coffedeveloper"}, "edited": false, "score": 0, "creation_date": 1444231793, "post_id": 32996261, "comment_id": 53817495, "body": "Did you tried special keys and commands? in example, did you tried to terminate the program with <code>Cmd+X</code> / <code>Ctrl+C</code> or with any command that close the program inside terminal? A char is usually 1 byte, meaning you can give only all possible values from 0 to 255 (on windows you do <code>Alt+Num</code> where num is numeric pad number to enter an ascii value). Also tried multibyte only characters (like <code>Alt+1234</code>)? you could try &quot;newline&quot;, &quot;end of file character&quot; etc."}, {"owner": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 1, "creation_date": 1444231799, "post_id": 32996261, "comment_id": 53817502, "body": "Ask yourself: What would happen if, during the read attempt, someone rips the USB stick with the file you&#39;re reading from out of the computer?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1444231825, "post_id": 32996261, "comment_id": 53817528, "body": "Are you using <code>cin &gt;&gt; c</code> or <code>c = cin.get()</code>?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1444231891, "post_id": 32996261, "comment_id": 53817584, "body": "<code>Crtl+Z</code> will cause <code>fail()</code> to be true on windows"}, {"owner": {"reputation": 790, "user_id": 4873159, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Ygmek.png?s=128&g=1", "display_name": "Burgan", "link": "https://stackoverflow.com/users/4873159/burgan"}, "reply_to_user": {"reputation": 59603, "user_id": 60281, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/29ebf39f3857b4fc4f51e93e7b9c4af4?s=128&d=identicon&r=PG", "display_name": "DevSolar", "link": "https://stackoverflow.com/users/60281/devsolar"}, "edited": false, "score": 0, "creation_date": 1444231941, "post_id": 32996261, "comment_id": 53817618, "body": "I&#39;m using cin &gt;&gt; var. And @DevSolar, this isn&#39;t a relevant issue."}, {"owner": {"reputation": 790, "user_id": 4873159, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Ygmek.png?s=128&g=1", "display_name": "Burgan", "link": "https://stackoverflow.com/users/4873159/burgan"}, "reply_to_user": {"reputation": 6869, "user_id": 1829943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yDzWV.png?s=128&g=1", "display_name": "CoffeDeveloper", "link": "https://stackoverflow.com/users/1829943/coffedeveloper"}, "edited": false, "score": 0, "creation_date": 1444232219, "post_id": 32996261, "comment_id": 53817823, "body": "@DarioOO cin.fail() doesn&#39;t return true for any of those from what I can tell. I believe that it just reads the first byte as its character and doesn&#39;t care about the rest."}], "answers": [{"tags": [], "owner": {"reputation": 2008, "user_id": 3483291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PAosg.jpg?s=128&g=1", "display_name": "vishal", "link": "https://stackoverflow.com/users/3483291/vishal"}, "is_accepted": false, "score": 0, "last_activity_date": 1444234604, "creation_date": 1444234604, "answer_id": 32997416, "question_id": 32996261, "link": "https://stackoverflow.com/questions/32996261/taking-input-from-cin-and-storing-it-in-a-char-variable/32997416#32997416", "title": "Taking input from cin and storing it in a char variable", "body": "<p>I guess not because a char variable with just take only the first character from the given input, no matter how long the input or of what type it is (int,long,double..)</p>\n"}, {"tags": [], "owner": {"reputation": 1557, "user_id": 5273689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e6cdc11ed5f264d1b6ea2ad0857217?s=128&d=identicon&r=PG", "display_name": "Cruiser", "link": "https://stackoverflow.com/users/5273689/cruiser"}, "is_accepted": false, "score": 0, "last_activity_date": 1444234739, "creation_date": 1444234739, "answer_id": 32997456, "question_id": 32996261, "link": "https://stackoverflow.com/questions/32996261/taking-input-from-cin-and-storing-it-in-a-char-variable/32997456#32997456", "title": "Taking input from cin and storing it in a char variable", "body": "<p>No, failbit is only set if there's a logical error reading the input stream, AKA, someone rips out the USB flashdrive containing the file from which you're reading. ;)</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 5419345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dea567365aa00bfac0f5ddf827e250b?s=128&d=identicon&r=PG&f=1", "display_name": "user5419345", "link": "https://stackoverflow.com/users/5419345/user5419345"}, "is_accepted": true, "score": 0, "last_activity_date": 1444235247, "last_edit_date": 1444235247, "creation_date": 1444234946, "answer_id": 32997516, "question_id": 32996261, "link": "https://stackoverflow.com/questions/32996261/taking-input-from-cin-and-storing-it-in-a-char-variable/32997516#32997516", "title": "Taking input from cin and storing it in a char variable", "body": "<p>The overloads for <code>operator&gt;&gt;</code> which take a <code>char</code> follow the normal behavior of a <em>formatted input function</em>, that is they call <code>rdbuf()-&gt;sbumpc()</code> or <code>rdbuf()-&gt;sgetc()</code> to perform the extraction. Naturally, if <code>eof</code> is encountered, then <code>eofbit</code> is set. If one of the functions throw an exception, then <code>badbit</code> is set. If either of these are set, then <code>failbit</code> is set. There's no evidence to indicate that the operation would fail otherwise. (This is covered under section [istream] in the C++11 draft standard.) For other types, like <code>int</code>, <code>do_get()</code> is used to convert the character (similar to <code>scanf</code>). Of course, the conversion can fail, but no conversion is needed if the input is already a <code>char</code>.</p>\n\n<p>Now the comments are misleading. <kbd>CTRL</kbd>+<kbd>C</kbd> would kill the application in Linux. <kbd>CTRL</kbd>+<kbd>Z</kbd> would send a character that signals EOF on some operating systems.</p>\n\n<p>You can even use an emoji and it would work:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    char c;\n    if (std::cin &gt;&gt; c)\n        std::cout &lt;&lt; \"Huzzah!\";\n}\n</code></pre>\n\n<p>With input <code>\ud83d\ude01</code> outputs \"Huzzah!\" as expected.</p>\n"}], "owner": {"reputation": 790, "user_id": 4873159, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Ygmek.png?s=128&g=1", "display_name": "Burgan", "link": "https://stackoverflow.com/users/4873159/burgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 32997516, "answer_count": 3, "score": 2, "last_activity_date": 1444235247, "creation_date": 1444231458, "question_id": 32996261, "link": "https://stackoverflow.com/questions/32996261/taking-input-from-cin-and-storing-it-in-a-char-variable", "title": "Taking input from cin and storing it in a char variable", "body": "<p>I'm taking input using cin and storing it into a char variable. My question is if there is any input that could cause <code>cin.fail()</code> to return true.</p>\n\n<p>I know that trying to store input such as <code>\"foo\"</code> into an int variable will fail, but is there any case in which this is possible with a char variable?</p>\n"}, {"tags": ["c++", "visual-studio-2013", "cocos2d-x"], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 2596409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ArF4i.jpg?s=128&g=1", "display_name": "Vahid", "link": "https://stackoverflow.com/users/2596409/vahid"}, "is_accepted": true, "score": 0, "last_activity_date": 1455961233, "last_edit_date": 1455961233, "creation_date": 1455947501, "answer_id": 35519709, "question_id": 32996190, "link": "https://stackoverflow.com/questions/32996190/integrating-cocos2d-x-with-gaf-in-visual-studio/35519709#35519709", "title": "integrating cocos2d-x with gaf in visual studio", "body": "<p>A member of GAFmedia forum suggested something which solved the problem : <a href=\"http://gafmedia.com/forum/viewtopic.php?f=8&amp;t=447\" rel=\"nofollow\">http://gafmedia.com/forum/viewtopic.php?f=8&amp;t=447</a></p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>Postby Dmitry Bushtets \u00bb October 7th, 2015, 7:36 am</p>\n    </blockquote>\n  </blockquote>\n  \n  <p>I have one idea. Have you method call to    CODE: SELECT ALL</p>\n\n<pre><code>cocos2d::Director::setContentScaleFactor\n</code></pre>\n  \n  <p>in the code? (it can be in AppDelegate.cpp)    If yes - try to remove\n  this call (set content scale factor to 1) and check result.    Or\n  convert swf to gaf with CSF 1 and 2 (and 3, 4 maybe :) ). You can find\n  this option in GAF Converter. [Texture Atlas -> Scale Settings ->\n  Advanced]</p>\n</blockquote>\n"}], "owner": {"reputation": 683, "user_id": 2596409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ArF4i.jpg?s=128&g=1", "display_name": "Vahid", "link": "https://stackoverflow.com/users/2596409/vahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 35519709, "answer_count": 1, "score": 0, "last_activity_date": 1455961233, "creation_date": 1444231261, "last_edit_date": 1455947530, "question_id": 32996190, "link": "https://stackoverflow.com/questions/32996190/integrating-cocos2d-x-with-gaf-in-visual-studio", "title": "integrating cocos2d-x with gaf in visual studio", "body": "<p>i'm using cocos2d-x 3.7 on windows, visual studio 2013 and GAF_VERSION 5.0.\ni'v downloaded \"Cocos2dxGAFPlayer\" and copied it into cocos2d/external, after that i added the gafplayer project to my cocos2dx project solution. i'm not sure but i think i have configured it properly as its running while it has this code in \"HelloWorld::init()\" : </p>\n\n<pre><code>auto animation = GAFAsset::createWithBundle(\"anim1.zip\", \"anim1/anim1.gaf\", nullptr);\nobject = animation-&gt;createObjectAndRun(true);\nobject-&gt;setAnchorPoint(Vec2::ANCHOR_MIDDLE);\nobject-&gt;setPosition(Director::getInstance()-&gt;getVisibleSize() / 2);\nthis-&gt;addChild(object,1);\n</code></pre>\n\n<p>but by using this only the png file, containing parts of animation is shown( i have attached the file i mean).</p>\n\n<p>when i use the zip file generated by gap in the GAFTest project by only replacing the recourse (not the source code) it works fine. </p>\n\n<p>i've searched the net for a solution, and a correct way to integrate cocos2d-x and gaf. but i couldn't find a way.\nplease guide me.\nis there any tutorial about how to integrate cocos2d-x with gaf on visual studio so i make sure i'm doing the configuration right?\ntnx</p>\n"}, {"tags": ["c++", "multithreading", "sleep"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1444231355, "post_id": 32996145, "comment_id": 53817113, "body": "Use C++11 <a href=\"http://en.cppreference.com/w/cpp/container\" rel=\"nofollow noreferrer\">containers</a> &amp; <a href=\"http://en.cppreference.com/w/cpp/thread\" rel=\"nofollow noreferrer\">threading</a> facilities (in particular <code>std::mutex</code> &amp; <code>std::condition_variable</code> ....). Read some <a href=\"https://computing.llnl.gov/tutorials/pthreads/\" rel=\"nofollow noreferrer\">Pthread tutorial</a>. On POSIX systems you might also have a <a href=\"http://man7.org/linux/man-pages/man7/pipe.7.html\" rel=\"nofollow noreferrer\">pipe(7)</a> to yourself and have it polled in the GUI main thread."}, {"owner": {"reputation": 13, "user_id": 5417545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fed7279b6163808b4da0c5a8f40eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Valdemar Gr", "link": "https://stackoverflow.com/users/5417545/valdemar-gr"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444231443, "post_id": 32996145, "comment_id": 53817194, "body": "Thank you very much, I didn&#39;t know mutex and condition variables were a thing!"}, {"owner": {"reputation": 5397, "user_id": 1482455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dZ1fN.jpg?s=128&g=1", "display_name": "YePhIcK", "link": "https://stackoverflow.com/users/1482455/yephick"}, "edited": false, "score": 0, "creation_date": 1444231650, "post_id": 32996145, "comment_id": 53817375, "body": "In essence you &quot;stumbled&quot; upon the concept of a mutes with your &quot;some kind of boolean per object that indicates whether it is being used in update or render&quot; :)"}], "owner": {"reputation": 13, "user_id": 5417545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fed7279b6163808b4da0c5a8f40eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Valdemar Gr", "link": "https://stackoverflow.com/users/5417545/valdemar-gr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444237696, "creation_date": 1444231127, "last_edit_date": 1444237696, "question_id": 32996145, "link": "https://stackoverflow.com/questions/32996145/c-updating-data-and-rendering", "title": "C++ Updating data and rendering", "body": "<p>I'm making a program that can update the states of objects whilst rendering.</p>\n\n<p>So my first approach was the obvious draw and update in the main while loop, but this problem limited the update state part to the speed of rendering (the computer speed) so this wasn't a good approach.</p>\n\n<p>So I tried to think about the problem and came up with a solution that making a detached thread whose purpose is to update the game. Here is my code of this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>//DEFAULT\n#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n\n//SFML\n#include &lt;SFML/Graphics.hpp&gt;\n\nvoid sleep_fnc(bool*);\nvoid update_game(bool*/*, Some objects...*/);\n\n#define cycles_per_milisecond 1000/30\n\nint main() {\n    bool flag = true;\n\n    sf::RenderWindow window(sf::VideoMode(680, 480), \"I work!\");\n\n    std::thread (sleep_fnc, &amp;flag).detach();\n    std::thread(update_game, &amp;flag/*, Some objects...*/).detach();\n\n    if (window.isOpen()) {\n\n        window.clear();\n\n        //DRAW STUFF HERE\n\n        window.display();\n    }\n\n    return 0;\n}\n\nvoid sleep_fnc(bool *flag_ptr) {\n    while (true)\n    {\n        std::this_thread::sleep_for(std::chrono::milliseconds(cycles_per_milisecond));\n        *flag_ptr = true;\n    }\n}\n\nvoid update_game(bool *flag_ptr/*, Some objects...*/) {\n    while (true) {\n        if (*flag_ptr) {\n            //Do update stuff\n            *flag_ptr = false;\n        }\n        std::this_thread::sleep_for(std::chrono::milliseconds(1));\n    }\n}\n</code></pre>\n\n<p>After I fiddled around with this code someone else realized that this wasn't such a good solution (thanks to you whomever pointed it out). The reason for this is if one object is being modified by the update loop WHILE the render loop is in its cycle something undefined would probably be the outcome, so I went back and started thinking again.</p>\n\n<p>After thinking I came up with a solution that every class could inherit some universal class that had a boolean whether the object was being used by the draw loop or update loop, if it was in use, one of the loops would wait until the boolean flag indicated that it was ready for use again. It would probably be best if the update loop wasn't the one to wait.</p>\n\n<p>Then it finally hit me that drawing the objects would be useless if they hadn't been updated. I believe that using a timer to test execution time and using that is unreliable, and there must be some other way than limiting the frame rate.</p>\n\n<p>Would this prove that a frame rate higher than the update-rate is useless and is there some other approach that doesn't involve testing the execution time of last cycle and using that?</p>\n"}, {"tags": ["c++", "queue"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2191247"}, "edited": false, "score": 0, "creation_date": 1444231633, "post_id": 32996129, "comment_id": 53817359, "body": "Just FYI, C++ has &lt;vector&gt;, &lt;list&gt; and even &lt;queue&gt; so you don&#39;t have to reinvent!"}, {"owner": {"reputation": 1, "user_id": 5419122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47Dbh.jpg?s=128&g=1", "display_name": "cmuthumal", "link": "https://stackoverflow.com/users/5419122/cmuthumal"}, "edited": false, "score": 0, "creation_date": 1444281194, "post_id": 32996129, "comment_id": 53838475, "body": "Yeah but I was trying to do something on my own just for an experience and faced this issue. Thanks for the concern though."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2191247"}, "is_accepted": false, "score": 0, "last_activity_date": 1444233784, "last_edit_date": 1444233784, "creation_date": 1444231897, "answer_id": 32996421, "question_id": 32996129, "link": "https://stackoverflow.com/questions/32996129/queue-eneque-function-with-c/32996421#32996421", "title": "Queue eneque function with C++", "body": "<p>Using standard C++ &lt;queue&gt; template:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;queue&gt;\n\n// Substitute your definition here\ntypedef int Plane;\n\ntypedef std::queue &lt;Plane&gt; Runway;\n\nint main()\n{\n    Runway runway;\n    Plane plane(42);\n\n    // En-queue\n    runway.push(plane);\n\n    // Who is ready?\n    std::cout &lt;&lt; runway.front() &lt;&lt; std::endl;\n\n    // De-queue\n    runway.pop();\n\n    return 0;\n}\n</code></pre>\n\n<p>In your case, you might want to look into &lt;priority_queue&gt;.</p>\n"}], "owner": {"reputation": 1, "user_id": 5419122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/47Dbh.jpg?s=128&g=1", "display_name": "cmuthumal", "link": "https://stackoverflow.com/users/5419122/cmuthumal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444233784, "creation_date": 1444231102, "question_id": 32996129, "link": "https://stackoverflow.com/questions/32996129/queue-eneque-function-with-c", "title": "Queue eneque function with C++", "body": "<p>I've been trying to solve this queue program in C++ simulating an airport.\nWhen I use enqueue function below, the program stucks and doesn't give any error messages.\nI think the error is in the line \"this->front = newNode;\" but I can't figure out anything more.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>bool Queue::enqueue(Plane p) {\nNode *newNode = new Node;\nnewNode-&gt;priority = 6 - p.getFuel();\nnewNode-&gt;plane = p;\nnewNode-&gt;next = 0;\nif (this-&gt;length &lt; 6) {\n    if (this-&gt;length == 0) {\n        this-&gt;front = newNode;\n    } else {\n        cout &lt;&lt; \"this-&gt;length != 0\\n\";\n        this-&gt;rear-&gt;next = newNode;\n    }\n    this-&gt;rear = newNode;\n    this-&gt;length++;\n\n    return true;\n} else {\n    return false;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "arrays", "vector", "dynamic-arrays", "maze"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444233860, "post_id": 32995931, "comment_id": 53819011, "body": "Search the internet and StackOverflow for &quot;c++ maze generation&quot; for examples.  Always search first before posting."}, {"owner": {"reputation": 99, "user_id": 5418959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10205953019838255/picture?type=large", "display_name": "Eduardo Gutierrez", "link": "https://stackoverflow.com/users/5418959/eduardo-gutierrez"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1444250865, "post_id": 32995931, "comment_id": 53829149, "body": "ive done it, but my implementation has some restrictions and i need to make it elegant, polite and efficient. Ive concrete problems that dont appear in searching... i need help answering my previous three questions... Thanks for your help"}], "owner": {"reputation": 99, "user_id": 5418959, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10205953019838255/picture?type=large", "display_name": "Eduardo Gutierrez", "link": "https://stackoverflow.com/users/5418959/eduardo-gutierrez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1296, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1485942646, "creation_date": 1444230549, "last_edit_date": 1485942646, "question_id": 32995931, "link": "https://stackoverflow.com/questions/32995931/generate-random-maze-in-c", "title": "Generate random Maze in C++", "body": "<p>as I wrote in the title I need to generate a random maze with some restrictions. I'm a newbie in C++, and I would like to ask if there's an efficient way to implement in C++. I would like to create a bidimensional array of ints ( every [x][y] would have either a WALL, PASSAGE or VISITED. I also would like to create the array dynamically j: create a maze with 80 rows and 30 columns. So I would like to create a vec[80][30]. In C is easy with malloc and using only memory needed.</p>\n\n<p>Don't know if <code>std::vector</code> is useless or there's another instruction more suitable. I'd like to use a bidimensional array because is cleaner to read and more intuitive. I know I could use a 1D array instead.</p>\n\n<p>The second question is that I want to generate and AddNodes (<code>addwalls</code>) to the maze until I can't put more or I reach a limit. So I don't know exactly how to express this. I would like to call <code>addnode</code> to a maze which initially it doesn't have any wall ( \"empty maze\") and begin to put walls on it.</p>\n\n<p>Idea: </p>\n\n<pre><code>Maze maze; \nmaze (80,30,50);\n...\n</code></pre>\n\n<p>so from an empty 80x30 maze id began to add random walls till a limit is reached. I get a random node, I test if it is valid (it's on the limits and it's not a wall yet), and then I add it to the maze. If the maze is connected I continue with more nodes. If not I delete the node and continue. If I reach a limit of random nodes no valid then I stop. The result would be a connected maze with some random walls. I forgot to mention that walls have to be symmetric either vertical or horizontal. I need some help with general idea, because I know I have to read a lot of C++ syntax, although I've coded in Java for many months.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n#include &lt;stdexcept&gt;\n\n#define PASSAGE 0\n#define WALL 1\n#define VISITED 2\n\n#define NORTH 0\n#define EAST 1\n#define WEST 2\n#define SOUTH 3\n\n\nusing namespace std;\n// PODEMOS definir las direcciones tambien asi...\n\nenum DIRECTION {\n  NORTH = 0, EAST = 1, WEST = 2, SOUTH = 3\n};\n\nenum TYPE {\n  PASSAGE = 0, WALL = 1, VISITED= 2\n};\n\n//http://www.cplusplus.com/forum/general/833/\n\nclass Maze { \n  private: \n\n    int nr; // number of rows\n    int nc; // number of columns\n    int complex; // complexity of the maze: how hard to leave\n    vector&lt; vector&lt;int&gt; &gt; vec; //array bidimensional de enteros\n    //vector de dos dimensiones\n    /*vector&lt;T&gt; elems;     // elements \n     // Create\n    vector&lt; vector&lt;int&gt; &gt; vec(4, vector&lt;int&gt;(4));\n    // Write\n    vec[2][3] = 10;\n    // Read\n    int a = vec[2][3];*/\n  public: \n\n    void Maze();\n    void Maze( int rows, int columns, int hard);\n    void PrintMaze();\n    void ShowMaze(vec);\n    bool isConnected ();\n    void explore (Node posicion);\n    bool validMove( Node actual);\n    Node RandomNode(); // Obtienes un nodo al azar valido\n    Node MirrorNode (Node actual); //devuelve el nodo espejo/mirror de un nodo null en otro caso..\n    void reverseExplore();\n    int getnr();\n    int getnc();\n    int getComplex();\n    void setnr();\n    void setnc();\n    void setComplex();\n    } \n}; \nvoid Maze::Maze(void) {\n         cout &lt;&lt;\"No hace naA\"&lt;&lt;\"\\n\\n\";\n}\nvoid Maze::Maze(int rows, int columns, int hard) {\n\n    //Comprobar numer filas y columnas es par/impar y sino salir dando mensaje correspondiente\n    /*\n    if (nr %2) != 0) {\n        fprintf(stderr, \"Error: El numero de filas tiene que ser par/impar.\\n\");\n        exit();\n        return 101;\n    } else if (nc % 2 != 0) {\n        fprintf(stderr, \"Error: El numero de filas tiene que ser par/impar\", nproc);\n        MPI_Finalize();\n        return 102;\n    }\n\n    if (mr &lt; 20 || nc &lt; 10) {\n        fprintf(stderr, \"Error: El laberinto tiene que tener al menosu unas medidas\\n\");\n        exit();\n        return 103;\n    }\n*/\n    nr=rows;\n    nc=columns;\n    hard=0;\n    bool Final=false;\n    Node actualNode;\n    setupMaze();   //Inicializar laberinto ( todo a 0, poner los  bordes y casilla inicial)\n\n    do {\n        actualNode=randomNode();     //Obtengo un nodo aleatorio valido: que no sea pared y este en los limites\n        addNode(actualNode); //A\u00f1ado el nodo al laberinto\n        if ( isConnected();) {\n            //hard=0; //opcional para contar solo las veces que intenta en el  \"mismo intento\", ahora al colocar el nodo bien puedes inicializar los intentos a 0.\n            cout &lt;&lt; \"\\nInsercion correcta del nodo\\n\"; // compruebo si el laberinto es conexo o nodo\n        }\n        else {\n            //Si laberinto resultante no es conexo, tengo que deshacer la inserci\u00f3n del nodoactual e incrementar el valor de hard\n            deletenode( actualNode);\n            hard++; \n        }\n    while ( hard &lt;= complex)\n\n}\nbool validMove( Node actual )\n{\n   // return x &gt;= 0 &amp;&amp; x &lt; size &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; size &amp;&amp; maze[x][y] != '#';\n    return actual.posx &gt;= 0 &amp;&amp; actual.posy &lt; nc &amp;&amp; actual.posy &gt;= 0 &amp;&amp; actual.posy &lt; nr &amp;&amp; vec[actual.posx][actual.posy] == 'PASSAGE';\n    //FALTA or de la casilla inicial..\n}\n\n    bool coordsAreEdge( Node actual)\n{\n    return actual.getposx== 0 || actual.getposx== nc - 1 || actual.getposy == 0 || actual.getposy == nr - 1;\n}\nbool coordsAreEdge( int x, int y )\n{\n    return x== 0 || x== size - 1 || y == 0 || y== size - 1;\n}\n\nbool isConnected();\n    {\n        Nodo inicial;\n        inicial.posx=0; ///inicial.setposx=0\n        inicial.posy=1;// inicial.setposy=1\n        explore(incial);\n        // Si todos nodos son VISITED o WALL exceepto casilla inicial entonces connected es true ( hemos podido visitar todos los nodos pasillo)\n        //en otro caso nos quedan nodos por visitar por tanto no es conexo\n        reverseExplore();\n    }\n\nvoid explore(Nodo nodoPartida)\n    {\n    //punto de inicio:siempre el mismo o encontrar el primer 0 del vector\n\n    vec[ nodoPartida.posx ][ nodoPartida.posy ] = 'VISITED';\n    printMaze( maze );\n\n    for ( int move = direction, count = 0; count &lt; 4; count++, move++, move %=4 )\n        { //seria mas facil pienso como arriba hacer un if para cada movimiento y no un for con los 4 movimientos...\n            //int nextX; int nextY;\n            switch ( move )\n                {\n                case WEST: nodoPartida.posx++; break;\n                case NORTH: nodoPartida.posy++; break; \n                //nextX = x; nextY = y + 1; break;\n                case EAST: nodoPartida.posx--; break;\n                case SOUTH: nodoPartida.posy--; break;\n                default: ;\n                }\n            if ( validMove( maze, nextX, nextY )) /// esto me mola mucho porque antes de mover como te dije antes verifica que el movimiento sera correcto\n            {\n                //Recursion move part 1\n                mazeTraverse ( maze,  nextX ,  nextY, (move + 3)%4 ); //igual en vez de move se podria llamar de un if en cada direccion total son solo 4 posibilidades\n                return;\n            }\n        }\nvoid setupMaze(void) {\n\nfor ( int x = 0; x &lt; nr; x++)\n{\n    for ( int y = 0; y &lt; nc; y++)\n        vec[x][y]='0';\n    cout &lt;&lt; endl;\n}\ncout &lt;&lt; endl;\ncout &lt;&lt; \"\\nHit return to see next move\\n\";\ncin.get();\n}\n\nclass Node{\n     private: \n\n    int posx; // position x\n    int posy; // position y\n\n    public: \n\n    void Node();\n    void Node( int x, int y);\n    void PrintNode(Node x);\n    void PrintNode(int x, int y);\n    int getPosX();\n    int getPosY();\n    int setPosX();\n    int setPosY();\n//  bool validMove();\n//  int setConplexetConplex();   \n}; \n</code></pre>\n\n<p>Any ideas or help would be apreciated.\nNode would be a class with two members: posx and posy. I added the class node just to be cleaner and readable\nThe main question:\n1 - How to declare and which instruction is more suitable for bidimensional array maze. If i use an int maze[int][\u00ecnt]; would seem a C program. Also perhaps would be more elegant to make an array of nodes instead.\n2 - How can i call functions of the maze as randomnode, addnode indeed the constructor of maze.\n3 - Any other suggestion about this code which is an sketchy idea.</p>\n"}, {"tags": ["c++", "qt", "oop", "qtstylesheets"], "answers": [{"comments": [{"owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "edited": false, "score": 0, "creation_date": 1444232898, "post_id": 32996031, "comment_id": 53818325, "body": "Thanks for your input :) I&#39;m not writing a blinking label class, that would be cruel, just used it as an example. I&#39;m leaning towards the splitting approach and I wanted to hear some thoughts as to why this could be better (like yours)."}], "tags": [], "owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "is_accepted": false, "score": 1, "last_activity_date": 1444231213, "last_edit_date": 1444231213, "creation_date": 1444230849, "answer_id": 32996031, "question_id": 32995863, "link": "https://stackoverflow.com/questions/32995863/should-i-really-use-a-single-qss-file-for-my-application-instead-of-having-one-f/32996031#32996031", "title": "Should I really use a single qss file for my application instead of having one for each (UI) class?", "body": "<p>Common answer: it depends...</p>\n\n<p>From my point of view, if you will split your qss to several files and implement a good logic to load them correctly - it will be better solution in compare with single file. As extra option, you still may have a global qss with basic styles.</p>\n\n<p>First reason, why splitting is better: your qss will be more readable and it will me more easy to provide a support.</p>\n\n<p>Second: smaller qss files, applied on different widgets works a bit faster.</p>\n\n<p>P.S. If you need to reload qss on a widget (as described under your links), you need to call <code>polish()</code> + <code>unpolish()</code> instead of resetting qss text.</p>\n\n<p>P.P.S. don't use stylsheets for animations. There is a <a href=\"http://doc.qt.io/qt-5/qpropertyanimation.html\" rel=\"nofollow\"><code>QPropertyAnimation</code></a> class. You can use it to animate color, font, etc. on your widget.</p>\n"}], "owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444231213, "creation_date": 1444230360, "last_edit_date": 1495540336, "question_id": 32995863, "link": "https://stackoverflow.com/questions/32995863/should-i-really-use-a-single-qss-file-for-my-application-instead-of-having-one-f", "title": "Should I really use a single qss file for my application instead of having one for each (UI) class?", "body": "<p>Some posts (namely, these two: <a href=\"https://stackoverflow.com/questions/32932810/set-css-in-qpushbuttons-subclasss-constructor#32933164\">Set CSS in QPushButton&#39;s subclass&#39;s constructor</a> and <a href=\"https://stackoverflow.com/questions/1883301/does-the-use-of-stylesheets-in-a-dynamic-manner-add-a-lot-of-computation#1888522\">Does the use of styleSheets in a dynamic manner add a lot of computation</a>) suggest that I should use a single qss file for my Qt application.</p>\n\n<p>However, imagine I have a <code>QLabel</code> subclass whose purpose is (using stylesheets) to provide a particular look/behavior (say <code>BlinkingLabel</code>, however horrendous it would look). In that case, doesn't it make sense to prepare a separate stylesheet and load it in the class constructor? Wouldn't using a global file take away a very useful aspect of using OOP for UI components? Because if I do so, I can no longer just take the class and put it in another project without worrying about anything, because it can take care of itself; I have to remember to copy the relevant stylesheet entries.</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 4, "last_activity_date": 1444230523, "last_edit_date": 1444230523, "creation_date": 1444230375, "answer_id": 32995869, "question_id": 32995757, "link": "https://stackoverflow.com/questions/32995757/the-output-screen-stays-for-a-second/32995869#32995869", "title": "The output screen stays for a second?", "body": "<p>This is because there is still input in the input stream.  the first call to <code>getchar()</code> will see this input, grab it and then return.  When you add the second <code>getchar()</code> there is no more input so it blocks until you press enter.  If you want to make sure there is nothing left in the input buffer than you can use:</p>\n\n<pre><code>std::cin.ignore(std::numeric_limits&lt;streamsize&gt;::max(), '\\n');\n</code></pre>\n\n<p>This consumes up to <code>streamsize::max</code> characters from the stream until it reaches a newline and then consumes the newline as long as it didn't read <code>streamsize::max</code> characters.  this should leave an empty buffer for <code>getchar()</code>.</p>\n"}], "owner": {"reputation": 3881, "user_id": 730858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8fbbdee11e60637a80fe74d6f3b747fd?s=128&d=identicon&r=PG", "display_name": "munish", "link": "https://stackoverflow.com/users/730858/munish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 32995869, "answer_count": 1, "score": 0, "last_activity_date": 1444230863, "creation_date": 1444230111, "last_edit_date": 1444230863, "question_id": 32995757, "link": "https://stackoverflow.com/questions/32995757/the-output-screen-stays-for-a-second", "title": "The output screen stays for a second?", "body": "<p>When I run the following program the console window only stays open for a second if I only have one call to <code>getchar()</code> before I exit main.  If I add a second call to <code>getchar()</code> then it keeps the console window open.  What is the reason for this?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid selectionSort(int [], const int, bool (*)( int, int ));\nbool ascending ( int, int );\nbool descending ( int, int );\nvoid swap(int * const, int * const);\n\nint main()\n{\n    const int arraySize = 10;\n    int a[ arraySize ] = { 1, 22, 2 ,44 ,3 , 4, 6, 0, 7, 5 };\n    int order;\n    cout &lt;&lt; \"Enter 1 to sort in ascending order and 2 for descending \" &lt;&lt; endl;\n    cin &gt;&gt; order;\n    if ( order == 1 )\n        selectionSort( a, arraySize, ascending );\n    if ( order ==2 )\n        selectionSort( a, arraySize, descending );\n    for ( int i = 0; i &lt; arraySize; i++ )\n        cout &lt;&lt; a[i] &lt;&lt; \" \";        \n\n    cout &lt;&lt; endl;\n    getchar();\n              //getchar(); only if i use this version of getchar output screen remains\n    return 0;\n}\n\nbool ascending ( int x, int y )\n{\n    return x &lt; y;\n}\n\nbool descending ( int x, int y )\n{\n    return x &gt; y;\n}\n\nvoid swap(int * const x, int * const y)\n{\nint temp = *x;\n*x = *y;\n *y = temp;\n}\n\nvoid selectionSort(int work[], const int size, bool (*compare)( int, int ))\n{\n\n    for ( int i = 0; i &lt; size - 1; i++ )\n    {\n    int smallestOrLargest = i;\n        for ( int index = i + 1; index &lt; size; index++ )\n        {\n            if ( !(*compare)( work[ smallestOrLargest ], work[ index ] ) )\n                swap( &amp;work[ smallestOrLargest ], &amp;work[ index ] );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "video-streaming", "libvlc"], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 4278064, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EGFYH.jpg?s=128&g=1", "display_name": "hypnomaki", "link": "https://stackoverflow.com/users/4278064/hypnomaki"}, "edited": false, "score": 0, "creation_date": 1445601872, "post_id": 33301604, "comment_id": 54402476, "body": "Thx, I&#39;ll try that out sometimes.... as for now i solved the problem with by doing a Workarround. I Implemented my Own MJPEG Streamer.  <a href=\"http://stackoverflow.com/questions/33064955/how-to-create-a-http-mjpeg-streaming-server-with-qtcp-server-sockets\" title=\"how to create a http mjpeg streaming server with qtcp server sockets\">stackoverflow.com/questions/33064955/&hellip;</a>"}, {"owner": {"reputation": 1076, "user_id": 863969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ad87ae1570a2861b21343321bf55e945?s=128&d=identicon&r=PG", "display_name": "kh25", "link": "https://stackoverflow.com/users/863969/kh25"}, "reply_to_user": {"reputation": 435, "user_id": 4278064, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EGFYH.jpg?s=128&g=1", "display_name": "hypnomaki", "link": "https://stackoverflow.com/users/4278064/hypnomaki"}, "edited": false, "score": 0, "creation_date": 1445601996, "post_id": 33301604, "comment_id": 54402534, "body": "The above will work - I use it for a project where I sometimes have to show image files between video play lists. Pity I didn&#39;t see this sooner it may have been useful to you."}, {"owner": {"reputation": 435, "user_id": 4278064, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EGFYH.jpg?s=128&g=1", "display_name": "hypnomaki", "link": "https://stackoverflow.com/users/4278064/hypnomaki"}, "edited": false, "score": 0, "creation_date": 1445603860, "post_id": 33301604, "comment_id": 54403704, "body": "No Problem ;) I&#39;ve learnt a lot by hardcoding it. But i think im gonna switch to vlc anyway because of the advanced streaming and converting stuff...."}], "tags": [], "owner": {"reputation": 1076, "user_id": 863969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ad87ae1570a2861b21343321bf55e945?s=128&d=identicon&r=PG", "display_name": "kh25", "link": "https://stackoverflow.com/users/863969/kh25"}, "is_accepted": true, "score": 1, "last_activity_date": 1445600972, "creation_date": 1445600972, "answer_id": 33301604, "question_id": 32995719, "link": "https://stackoverflow.com/questions/32995719/c-libvlc-create-stream-from-frames-images/33301604#33301604", "title": "C++ LibVLC Create Stream from Frames/Images", "body": "<p>Create a media list and media play list in addition to a media player:</p>\n\n<pre><code>media_list_ = libvlc_media_list_new(vlc_instance_);\nmedia_list_player_ = libvlc_media_list_player_new(vlc_instance_);\nlibvlc_media_list_player_set_media_list(media_list_player_, media_list_);\nlibvlc_media_list_player_set_media_player(media_list_player_, media_player_);\n</code></pre>\n\n<p>You can add image files to a vlc play list in the same way as you can add a video.</p>\n\n<pre><code>libvlc_media_t* media = libvlc_media_new_path(vlc_instance_, \"image file\");\n\nif (media) {\n      libvlc_media_list_lock(media_list_);\n      libvlc_media_list_add_media(media_list_, media)\n      libvlc_media_list_unlock(media_list_);\n}\n</code></pre>\n\n<p>You can then cycle through the images by using the following:</p>\n\n<pre><code>libvlc_media_list_player_play_item_at_index(media_list_player_, index)\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 4278064, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EGFYH.jpg?s=128&g=1", "display_name": "hypnomaki", "link": "https://stackoverflow.com/users/4278064/hypnomaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2074, "favorite_count": 0, "accepted_answer_id": 33301604, "answer_count": 1, "score": 0, "last_activity_date": 1445600972, "creation_date": 1444230007, "last_edit_date": 1495540336, "question_id": 32995719, "link": "https://stackoverflow.com/questions/32995719/c-libvlc-create-stream-from-frames-images", "title": "C++ LibVLC Create Stream from Frames/Images", "body": "<p>I want to use LibVLC for creating a Video from Images. As for now I have no experience with LibVLC.</p>\n\n<p>I already Implemented a test Project like here (<a href=\"https://stackoverflow.com/questions/10116783/a-simple-c-program-to-play-mp3-using-libvlc\">A simple C program to play mp3 using libvlc</a>). </p>\n\n<p>Is there any Way to create an Instance of \"libvlc_media_t\" and put images to it instead of calling \"libvlc_media_new_path\" to load a Video from a File?\nOr are there any other Possibilities?</p>\n"}, {"tags": ["c#", "c++", "com", "com-interop"], "answers": [{"comments": [{"owner": {"reputation": 52465, "user_id": 197229, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/80a68e69526f81d2dc560c47eedd198a?s=128&d=identicon&r=PG", "display_name": "Mr. Boy", "link": "https://stackoverflow.com/users/197229/mr-boy"}, "edited": false, "score": 0, "creation_date": 1444236366, "post_id": 32997407, "comment_id": 53820605, "body": "So object &lt;--&gt; VARIANT, I found this documented after asking but I&#39;m unsure still how I would create this object to be marshalled as the right type of variant? Could you perhaps add a (pseudo) implementation of <code>DoMethod()</code>? As far as variant Vs safearray - our originally C++ only project has always done it this way rather than pass naked safearrays. I couldn&#39;t tell you why, it&#39;s nearly 20 years old!"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "reply_to_user": {"reputation": 52465, "user_id": 197229, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/80a68e69526f81d2dc560c47eedd198a?s=128&d=identicon&r=PG", "display_name": "Mr. Boy", "link": "https://stackoverflow.com/users/197229/mr-boy"}, "edited": false, "score": 0, "creation_date": 1444237449, "post_id": 32997407, "comment_id": 53821264, "body": "Erm, not sure how that request could make sense, it is the caller that has to create the array and stuff it in a variant.  DoMethod() consumes it."}, {"owner": {"reputation": 52465, "user_id": 197229, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/80a68e69526f81d2dc560c47eedd198a?s=128&d=identicon&r=PG", "display_name": "Mr. Boy", "link": "https://stackoverflow.com/users/197229/mr-boy"}, "edited": false, "score": 0, "creation_date": 1444243006, "post_id": 32997407, "comment_id": 53824465, "body": "Yeah, you&#39;re right. Though if it were an out parameter I&#39;d still be interested in the same basic question, this isn&#39;t my need right now... thanks for spotting this."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": false, "score": 1, "last_activity_date": 1444234580, "creation_date": 1444234580, "answer_id": 32997407, "question_id": 32995665, "link": "https://stackoverflow.com/questions/32995665/how-to-expose-a-c-interfaces-method-arguments-as-specific-com-odl-types/32997407#32997407", "title": "How to expose a C# interface&#39;s method arguments as specific COM/ODL types?", "body": "<p>If you want a variant on the C++ side (why?) then you need to declare it:</p>\n\n<pre><code>using System.Runtime.InteropServices;\n\nnamespace LibraryName {\n    [ComVisible(true)]\n    [InterfaceType(ComInterfaceType.InterfaceIsDual)]\n    public interface IFoo {\n        void DoMethod(string name, object args);\n    }\n}\n</code></pre>\n\n<p>Register the C# assembly with Regasm.exe /codebase /tlb.  The /tlb option generates the type library, you can use it in your C++ code with the #import directive.  Which is enough to have a look-see, the LibraryName.tlh file it generates has the declarations.  Or you can run Oleview.exe from the Visual Studio Command Prompt and use File > View Typelib to look at it.</p>\n\n<p>Your original instinctive choice is better, string[] shows up as SAFEARRAY* on the C++ side.  Less accidents that way.</p>\n"}], "owner": {"reputation": 52465, "user_id": 197229, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/80a68e69526f81d2dc560c47eedd198a?s=128&d=identicon&r=PG", "display_name": "Mr. Boy", "link": "https://stackoverflow.com/users/197229/mr-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444234580, "creation_date": 1444229872, "question_id": 32995665, "link": "https://stackoverflow.com/questions/32995665/how-to-expose-a-c-interfaces-method-arguments-as-specific-com-odl-types", "title": "How to expose a C# interface&#39;s method arguments as specific COM/ODL types?", "body": "<p>I'm defining an interface in C# which will be implemented in C#, but called from an unmanaged C++ module as a COM object.</p>\n\n<p>I know what I want/need the C++ API to look like and how I'd define it via ODL:</p>\n\n<pre><code>//args is an array of BSTR e.g VT_ARRAY|VT_BSTR\nHRESULT DoMethod(/*[in]*/BSTR name, /*[in]*/VARIANT args);\n</code></pre>\n\n<p>I'm not sure how to set this up in C# to cause the TLB definition to match this, in regards the <code>VARIANT</code>.\nCould it be something as simple as the following?</p>\n\n<pre><code>void DoMethod(string name, string args[])\n</code></pre>\n\n<p>I've been looking around COM/.NET interop documentation but either I've missed the section on this, or simply don't understand what's being described!</p>\n\n<p>As an aside, how can I see what COM definition is being emitted for a given C# interface? Is the DLL/TLB easily inspected?</p>\n"}, {"tags": ["c++", "memory-management", "driver"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1444230009, "post_id": 32995619, "comment_id": 53816038, "body": "<i>I took dump also</i> :) :)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1444230069, "post_id": 32995619, "comment_id": 53816098, "body": "[OT] shouldn&#39;t <code>typedef unsigned char s8_t ;</code> be <code>typedef signed char s8_t ;</code>?"}, {"owner": {"reputation": 159018, "user_id": 57428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e2cef525cef5d7b0078f33b707e30c69?s=128&d=identicon&r=PG", "display_name": "sharptooth", "link": "https://stackoverflow.com/users/57428/sharptooth"}, "edited": false, "score": 0, "creation_date": 1444230211, "post_id": 32995619, "comment_id": 53816203, "body": "Can <code>allocatemry()</code> return null? Also if you allocate just <code>sizeof(HEADER)</code> is the buffer large enough to actually store the <code>-&gt;variant</code>?"}, {"owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "edited": false, "score": 0, "creation_date": 1444230461, "post_id": 32995619, "comment_id": 53816408, "body": "this is like a function which return NULL to create mry"}, {"owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "edited": false, "score": 0, "creation_date": 1444231001, "post_id": 32995619, "comment_id": 53816819, "body": "also I am doing &quot; MCopyMemory(pPacket + 1, pBuffer, nVariant); &quot; inside if loop ."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1444231199, "post_id": 32995619, "comment_id": 53816972, "body": "It looks like you are only allocating the size of HEADER, which is a pointer to a struct.  You are not allocating enough space for the struct."}, {"owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "edited": false, "score": 0, "creation_date": 1444231566, "post_id": 32995619, "comment_id": 53817298, "body": "so how can I allocate enough space ?"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1444232084, "post_id": 32995619, "comment_id": 53817723, "body": "What is HEADER defined as?"}, {"owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "edited": false, "score": 0, "creation_date": 1444232667, "post_id": 32995619, "comment_id": 53818147, "body": "it is a structure like :   typedef struct  _MYHEADER {"}, {"owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "edited": false, "score": 0, "creation_date": 1444232831, "post_id": 32995619, "comment_id": 53818285, "body": "typedef struct _MYHEADER  {  u16_t   type ;    union   {     u16_t length ;     u16_t variable;  }variant;  }MYHEADER,*HEADER"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1444232899, "post_id": 32995619, "comment_id": 53818328, "body": "Then allocate sizeof MYHEADER or *HEADER, not HEADER."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1444233466, "post_id": 32995619, "comment_id": 53818744, "body": "@roger identifiers that start with an underscore followed by an uppercase letter are reserved, and therefore not allowed. Why not get rid of the typedefs entirely and name your struct <code>MYHEADER</code> and use <code>MYHEADER*</code> for the pointers to avoid confusion?"}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 2, "last_activity_date": 1444233277, "last_edit_date": 1444233277, "creation_date": 1444232213, "answer_id": 32996553, "question_id": 32995619, "link": "https://stackoverflow.com/questions/32995619/how-to-check-unsigned-char-pointer-checking-with-zero-in-driver-code/32996553#32996553", "title": "How to check unsigned char pointer checking with zero in driver code?", "body": "<p>The error is very unlikely to have occurred on the shown line. The line before it or possibly after seem much more likely.</p>\n\n<p>And the source of the problem is this:</p>\n\n<pre><code>HEADER packet = (HEADER)allocatemry( sizeof(HEADER) + (pbuffer == 0 ? 0 : var)) ; //header is a structure with contain union .\n</code></pre>\n\n<p>Unlike the comment at the end of the line claims, <code>HEADER</code> must actually be a pointer rathern than a structure. This is evidenced by it being a return type of allocation function and the indirection operator here: <code>packet-&gt;type</code>.</p>\n\n<p>So, since <code>HEADER</code> is a pointer, your're allocating memory enough for a single pointer and possibly a few more bytes depending on <code>pbuffer</code> and <code>var</code> instead of allocating enough bytes for an object of some sort. If that is not enough memory for your object, then this results in an invalid memory access when the program assumes that enough memory was allocated.</p>\n\n<p>You can get the number of needed bytes to store an object that can be pointed by <code>HEADER</code> like this: <code>sizeof std::remove_pointer&lt;HEADER&gt;::type</code>.</p>\n\n<p>Now that you've revealed the actual type of the struct in a comment, this is a simpler way: <code>sizeof _MYHEADER</code>.</p>\n\n<p>By the way, identifiers that begin with an underscore followed by an uppercase letter are reserved, so <code>_MYHEADER</code> is not allowed. I recommend getting rid of the typedefs entirely, name your struct <code>MYHEADER</code> and use <code>MYHEADER*</code> for the pointers to avoid confusion in the future.</p>\n"}], "owner": {"reputation": 80, "user_id": 4765093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0daaa553bdeab5370830d351ee102e70?s=128&d=identicon&r=PG&f=1", "display_name": "tech_123", "link": "https://stackoverflow.com/users/4765093/tech-123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444233277, "creation_date": 1444229771, "question_id": 32995619, "link": "https://stackoverflow.com/questions/32995619/how-to-check-unsigned-char-pointer-checking-with-zero-in-driver-code", "title": "How to check unsigned char pointer checking with zero in driver code?", "body": "<p>I wrote a driver code for query packet . but I got bluescreen issue and I took dump also . after analyzing I got error on particular line mentioned below . why this error occur ? can I check  <code>unsigned char pointer with zero</code> ?</p>\n\n<p>my definitions :</p>\n\n<pre><code>typedef unsigned char u8_t ;\ntypedef unsigned char s8_t ;\ntypedef unsigned short u16_t ;\n</code></pre>\n\n<p>my function </p>\n\n<pre><code>void function1 (u8_t ntype , u16_t nvar , u8_t *pbuffer)\n{\n   HEADER packet = (HEADER)allocatemry( sizeof(HEADER) + (pbuffer == 0 ? 0 : var)) ;  //header is a structure with contain union . \n\n   packet-&gt;type = ntype ; \n\n   if ( pbuffer != 0 )  //got bluescreen issue . windbug pointed here \n    {\n      packet-&gt;variant.variable = network(nvar) ;\n    }\n\n   else\n    {\n       packet-&gt;variant.variable = nvar ;\n    }\n}\n</code></pre>\n\n<p>please help me .</p>\n"}, {"tags": ["c++", "linux", "gcc", "makefile"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1444230762, "post_id": 32995962, "comment_id": 53816615, "body": "Did you confirm that altering the source file as you suggest in your last paragraph in fact does get rid of the error? Testing that would ensure you understand the problem correctly."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444231032, "post_id": 32995962, "comment_id": 53816835, "body": "Where does <code>CameraControlDefs.h</code> live exactly?"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1444231034, "post_id": 32995962, "comment_id": 53816841, "body": "Did you read the documentation of <a href=\"http://gcc.gnu.org/\" rel=\"nofollow noreferrer\">GCC</a>, in particular the chapter about <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Invoking-GCC.html\" rel=\"nofollow noreferrer\">Invoking GCC</a>? And also the documentation of <a href=\"https://gcc.gnu.org/onlinedocs/cpp/\" rel=\"nofollow noreferrer\"><code>cpp</code> preprocessor</a>....? You really should read both of them (that won&#39;t be a time loss)."}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1444231687, "post_id": 32995962, "comment_id": 53817414, "body": "@David Schwartz, I just tried your suggestion by including the whole path to CameraControlDefs.h in DataServerLib.h and g++ tells me that there is no such file or directory,"}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444231819, "post_id": 32995962, "comment_id": 53817520, "body": "@Etan Reisner, CameraControlDefs.h resides in $HOME/development/Hybrid/Utilitiies/DataServer.h."}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444232187, "post_id": 32995962, "comment_id": 53817802, "body": "@Basile Starynkevitch , Yes, I read the GCC documentation including invoke GCC as well as cpp preprocessor. However, I could not find anything to try to solve this problem."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1444232244, "post_id": 32995962, "comment_id": 53817842, "body": "Then, you should use <code>-H</code> to understand what is happenning at preprocessing phase; notice that <code>-I</code> wants <i>directories</i>"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444232432, "post_id": 32995962, "comment_id": 53817982, "body": "What do you mean <code>CameraControlDefs.h</code> resides in another file? Did you actually mean that? Also what is the current directory when you run g++?"}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444233487, "post_id": 32995962, "comment_id": 53818758, "body": "@Basile Starynkevitch , Thank you for the -H preprocessor hint. I just tested David Schawrtz&#39;s idea of altering the source file to use the whole Linux include file path using the -H flag and Now the compiiler is not complaining anymore. May I ask if there is another way to do this with gcc or g++ without altering  the source file? Thank you."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444233595, "post_id": 32995962, "comment_id": 53818834, "body": "@Frank: I don&#39;t understand that question in the comment. You probably should either edit your posted question, or ask a new one, giving much more details. I would also suggest to dive into some small free software C++ project (and download &amp; study its source code) to understand how it is dealing with very similar issues and take inspiration from that. And reading more seriously the documentation won&#39;t harm.."}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444233731, "post_id": 32995962, "comment_id": 53818916, "body": "@Etan Reisner, #include &quot;CameraControlDefs.h&quot; resides in another C++ header file. That is what I meant by    CameraControlDefs.h resides in another file. The current directory is /home/testing/development/Hybrid/Recorder. Thank you."}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444234099, "post_id": 32995962, "comment_id": 53819183, "body": "@Basile Starynkevitch, I apologize for the misunderstanding in my last comment . What I meant to ask is the only viable  option we have is to change  the line in  a C++ source file where the nested header file is specified to include either the full path or accurate relative path. I  willl study other source code  from an open source project as you recommend. Thank you."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1444236113, "post_id": 32995962, "comment_id": 53820449, "body": "Avoid absolute file paths in <code>#include</code> directives: <code>#include &quot;&#47;home&#47;frank&#47;includedir&#47;foo.h&quot;</code> is <i>always</i> a mistake"}, {"owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1444236659, "post_id": 32995962, "comment_id": 53820782, "body": "@Basile Starynkevitch, Thank you  for the information to  avoid absolute file paths."}], "answers": [{"tags": [], "owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "is_accepted": false, "score": 0, "last_activity_date": 1444242166, "creation_date": 1444242166, "answer_id": 32999705, "question_id": 32995962, "link": "https://stackoverflow.com/questions/32995962/how-to-ask-linux-g-to-correctly-compile-header-files-contained-within-another/32999705#32999705", "title": "How to ask Linux g++ to correctly compile header files contained within another header file?", "body": "<p>Good afternoon,\n  Here is a soution which I just tested in  a Makefile using g++ compiler</p>\n\n<p>INCDIRS := $(addprefix -I,$(shell find  ../Utilities/DataServer  -type d -print))</p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1444230657, "question_id": 299258}, "owner": {"reputation": 1326, "user_id": 557534, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8aa7d417ddd3abb3d7b25d5980ad77cc?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/557534/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1444242166, "creation_date": 1444229607, "last_edit_date": 1444230838, "question_id": 32995962, "link": "https://stackoverflow.com/questions/32995962/how-to-ask-linux-g-to-correctly-compile-header-files-contained-within-another", "title": "How to ask Linux g++ to correctly compile header files contained within another header file?", "body": "<p>I have  a question about how to fix the following Linux Makefile code:</p>\n\n<pre><code>g++  -g -Wall -I\"./\" -I\"../CameraControlLib\" -I\"./Cameras\" -I\"../../Utilities/DataServer\"  -o Server.o CameraControlLib/Server.cpp\n</code></pre>\n\n<p>In this particular case, <code>DataServerLib.h</code> includes <code>CameraControlDefs.h</code> as shown below. The Ubuntu Linux <code>g++</code> compiler resolves the include file, <code>DataServerLib.h</code>, correctly using the <code>-I</code> preprocessor directive as shown below.\nHowever, the <code>g++</code> compiler tells me that there is no such file or directory as <code>CameraControlDefs.h</code> even though I point a <code>-I</code> subdirectory path to <code>../../Utilities/DataServer</code>.</p>\n\n<pre><code>In file included from CameraControlLib/DataServer.h:4:0,\n                 from CameraControlLib/DataServer.cpp:8:\nCameraControlLib/DataServerLib.h:9:31: fatal error: CameraControlDefs.h: No such file or directory\n #include \"CameraControlDefs.h\"\n                               ^\ncompilation terminated.\n</code></pre>\n\n<p>I know that if I use <code>#include \"SomeDir/CameraControlDefs.h\"</code>, that should get rid of the compiler error message. Please let me know if there is an alternate way to do this using the full range of Linux <code>g++</code> options.</p>\n"}]