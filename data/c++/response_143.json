[{"tags": ["c++", "ubuntu", "gcc", "boost", "boost-locale"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507176399, "post_id": 46575748, "comment_id": 80108351, "body": "Did you validate with a debugger that <code>ansi0</code> really does not contain the expected characters? Maybe the Ubuntu console just can&#39;t display them?"}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507188506, "post_id": 46575748, "comment_id": 80113016, "body": "@RemyLebeau Well, actually that string is sent over network and written to log file, and symbols are missing everywhere. I&#39;ll try to check in debugger, but it also will print to console :) I&#39;ll just print the hex values."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507189172, "post_id": 46575748, "comment_id": 80113391, "body": "so, you have even more layers where data loss could occur. Why are you converting UTF-8 data to a lossy charset like Latin1 in the first place? Especially over a network, you should be sending UTF-8 instead."}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507217656, "post_id": 46575748, "comment_id": 80132218, "body": "@RemyLebeau That&#39;s not three more layers, but three different layers that for some reason decided not to support Latin1 symbols. The most simple and obvious reason that the problem is in the only common layer they have, from_utf call. I have added hex values, string on Ubuntu misses 4 symbols"}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507217788, "post_id": 46575748, "comment_id": 80132292, "body": "@RemyLebeau Because UTF-8 is not supported."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507219229, "post_id": 46575748, "comment_id": 80133127, "body": "The first two Unicode chars you are losing, <code>\u2018</code> (U+2018) and <code>\u201c</code> (U+201C), do not exist in Latin-1. They require transliteration to their ASCII equivalents (U+0027 and U+0022, respectively). So it would seem Boost is dropping them on Ubuntu instead of transliterating them like it does on Windows. The other two chars, <code>&#171;</code> (U+00AB)  and <code>&#187;</code> (U+00BB), do exist in Latin-1, and Boost should not be dropping them. So I would consider this a Boost bug. Have you tried other Unicode conversion libraries yet, like <a href=\"https://www.gnu.org/software/libiconv/\" rel=\"nofollow noreferrer\">libiconv</a> or <a href=\"http://site.icu-project.org\" rel=\"nofollow noreferrer\">ICU</a>?"}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507220155, "post_id": 46575748, "comment_id": 80133660, "body": "@RemyLebeau I only tried to use std::codecvt, but it has even bigger problems. Libraries are my next move."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507221150, "post_id": 46575748, "comment_id": 80134253, "body": "I just noticed that Boost is transliterating <code>&#171;</code> and <code>&#187;</code> to <code>&lt;</code> and <code>&gt;</code> on Windows, which is not necessary since they do exist in Latin-1. It looks like Boost is transliterating the entire UTF-8 string to ASCII instead of to Latin-1 (secondary Boost bug?). Also, the <code>how</code> method of <code>from_utf()</code> defaults to <code>skip</code>, which would explain why chars are being dropped. If you set <code>how</code> to <code>stop</code> instead, you should get a <code>conversion_error</code> exception. Also, you don&#39;t need <code>boost::locale::generator</code>, you can pass <code>&quot;Latin1&quot;</code> directly to <code>from_utf()</code> (have you tried passing <code>&quot;ISO-8859-1&quot;</code> yet?)"}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507254957, "post_id": 46575748, "comment_id": 80146959, "body": "@RemyLebeau yeah, I have tried that and it didn&#39;t work. iconv seems to work."}, {"owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507255298, "post_id": 46575748, "comment_id": 80147034, "body": "@RemyLebeau updated the post with iconv results"}], "owner": {"reputation": 1034, "user_id": 1417782, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5122a8f3619f04dc800a2c7959849f46?s=128&d=identicon&r=PG", "display_name": "Sergi0", "link": "https://stackoverflow.com/users/1417782/sergi0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507255274, "creation_date": 1507160476, "last_edit_date": 1507255274, "question_id": 46575748, "link": "https://stackoverflow.com/questions/46575748/boostlocaleconvfrom-utf-doesnt-work-on-ubuntu", "title": "boost::locale::conv::from_utf doesn&#39;t work on Ubuntu", "body": "<p>I am trying to convert utf-8 string with special quote symbols to Latin1. Code works perfectly on Windows, but omits the symbols on g++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0</p>\n\n<p>String:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Latin1: APOST ( \u2018 ) QUOTE ( \u201c ) ( \u00ab \u00bb )<br />\nWindows:&nbsp;Latin1: APOST ( ' ) QUOTE ( \" ) ( &lt; > )<br />\nUbuntu:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Latin1: APOST (  ) QUOTE (  ) (   )<br /></p>\n\n<p>Hex representation of converted strings:</p>\n\n<pre><code>HW: 41 50 4F 53 54 20 28 20 27 20 29 20 51 55 4F 54 45 20 28 20 22 20 29 20 28 20 3C 20 3E 20 29\nHU: 41 50 4F 53 54 20 28 20    20 29 20 51 55 4F 54 45 20 28 20    20 29 20 28 20    20    20 29\n\n  const unsigned char utf8[] = { 0x41, 0x50, 0x4f, 0x53, 0x54, 0x20, 0x28, 0x20, 0xe2, 0x80, 0x98, 0x20, 0x29, 0x20, 0x51, 0x55, 0x4f, 0x54, 0x45, 0x20, 0x28, 0x20, 0xe2, 0x80, 0x9c, 0x20, 0x29, 0x20, 0x28, 0x20, 0xc2, 0xab, 0x20, 0xc2, 0xbb, 0x20, 0x29, 0x00 };\n\n  boost::locale::generator loc_g;\n  std::string ansi0 = boost::locale::conv::from_utf&lt;char&gt;((const char*)utf8, loc_g.generate(\"Latin1\"));\n\n  printf(\"Latin1: %s\", ansi0.c_str());\n</code></pre>\n\n<p>How to get on Ubuntu result that is similar to Windows?</p>\n\n<p>Results on Ubuntu using iconv</p>\n\n<pre><code>ASCII:      APOST ( ' ) QUOTE ( \" ) ( &lt;&lt; &gt;&gt; )\nLatin1:     APOST ( ` ) QUOTE ( \" ) ( . . )\nISO-8859-1: APOST ( ` ) QUOTE ( \" ) ( . . )\n</code></pre>\n"}, {"tags": ["c++", "visual-c++", "visual-studio-2017"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8723231, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ajuk9OgzdFA/AAAAAAAAAAI/AAAAAAAAAZM/64u86MEiMBE/photo.jpg?sz=128", "display_name": "Rez Bot", "link": "https://stackoverflow.com/users/8723231/rez-bot"}, "edited": false, "score": 0, "creation_date": 1507262467, "post_id": 46575942, "comment_id": 80148478, "body": "Yup, this works.  Any idea why Visual Studio requires an explicit this pointer?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 13, "user_id": 8723231, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ajuk9OgzdFA/AAAAAAAAAAI/AAAAAAAAAZM/64u86MEiMBE/photo.jpg?sz=128", "display_name": "Rez Bot", "link": "https://stackoverflow.com/users/8723231/rez-bot"}, "edited": false, "score": 0, "creation_date": 1507285107, "post_id": 46575942, "comment_id": 80158644, "body": "@rezbot in general, when trying to call methods of a base whose type is dependent on a template parameter, <code>this</code> must be used.  Now this case may be an exception (I have not checked the standard), but I presumed this rule was why MSVC was getting confused here."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 0, "last_activity_date": 1507161822, "creation_date": 1507161822, "answer_id": 46575942, "question_id": 46575673, "link": "https://stackoverflow.com/questions/46575673/calling-base-class-members-by-expanding-each-parameter-pack-fails-in-visual-stud/46575942#46575942", "title": "Calling base-class members by expanding each parameter pack fails in Visual Studio 2017", "body": "<p>As a solution, try</p>\n\n<pre><code>    int temp[] = { 0, (this-&gt;Mixins::GoImpl(), 0)... };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    int temp[] = { 0, (static_cast&lt;Mixins*&gt;(this)-&gt;GoImpl(), 0)... };\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8723231, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ajuk9OgzdFA/AAAAAAAAAAI/AAAAAAAAAZM/64u86MEiMBE/photo.jpg?sz=128", "display_name": "Rez Bot", "link": "https://stackoverflow.com/users/8723231/rez-bot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 46575942, "answer_count": 1, "score": 1, "last_activity_date": 1507161904, "creation_date": 1507159877, "last_edit_date": 1507161904, "question_id": 46575673, "link": "https://stackoverflow.com/questions/46575673/calling-base-class-members-by-expanding-each-parameter-pack-fails-in-visual-stud", "title": "Calling base-class members by expanding each parameter pack fails in Visual Studio 2017", "body": "<p>Consider the following code:</p>\n\n<pre><code>class A\n{\npublic:\n    void GoImpl() { cout &lt;&lt; \"A\"; }\n};\n\nclass B\n{\npublic:\n    void GoImpl() { cout &lt;&lt; \"B\"; }\n};\n\ntemplate &lt;class... Mixins&gt;\nclass Foo : public Mixins...\n{\npublic:\n    void Go()\n    {\n        int temp[] = { 0, (Mixins::GoImpl(), 0)... };\n    }\n};\n\nint main()\n{\n    Foo&lt;A, B&gt; foo;\n    foo.Go();  // ERROR: illegal call of non-static member function\n\n    return 0;\n}\n</code></pre>\n\n<p>This compiles just fine in <code>GCC</code> or clang, but fails in <code>Visual Studio 2017</code> with:</p>\n\n<blockquote>\n  <p>error C2352: 'A::GoImpl': illegal call of non-static member function</p>\n</blockquote>\n\n<p>I haven't found any specific information on this.  Is this just a bug (or unimplemented feature) in the compiler, or there some voodoo I'm missing?  Can you suggest any workarounds?  I'm specifically attempting to call a base-class function on each base class.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 3, "creation_date": 1507159409, "post_id": 46575583, "comment_id": 80104677, "body": "Drawing the nodes and links and pointer often helps focus the mind."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507160668, "post_id": 46575583, "comment_id": 80104909, "body": "Adding a new node to the front of a linked list is a lot easier than adding it to the end of the list, especially in a single-linked list that doesn&#39;t have a <code>tail</code> pointer."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1507160711, "post_id": 46575653, "comment_id": 80104919, "body": "&quot;<i>Don&#39;t make things more complicated</i>&quot; - You don&#39;t need to check the current <code>head</code> for nullptr since you are going to overwrite it anyway, so just use it as-is: <code>ListNode * new_node = new ListNode(number); new_node-&gt;next = head; head = new_node;</code>  which can be simplified to just <code>head = new ListNode(number, head);</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507161388, "post_id": 46575653, "comment_id": 80105088, "body": "@RemyLebeau:  Thanks, added the simplification.  The original may be easier to understand by beginners."}, {"owner": {"reputation": 107, "user_id": 6494551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-fjrJO5ro_EI/AAAAAAAAAAI/AAAAAAAAC2I/I8m16BRwhYM/photo.jpg?sz=128", "display_name": "Dakota Wagner", "link": "https://stackoverflow.com/users/6494551/dakota-wagner"}, "edited": false, "score": 0, "creation_date": 1510371143, "post_id": 46575653, "comment_id": 81418691, "body": "This was also a great answer, I appreciate the images as well"}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 3, "last_activity_date": 1507161655, "last_edit_date": 1507161655, "creation_date": 1507159648, "answer_id": 46575653, "question_id": 46575583, "link": "https://stackoverflow.com/questions/46575583/how-to-add-node-to-front-of-linked-list-c-im-overthinking-the-concept/46575653#46575653", "title": "How to add node to front of linked list C++? I&#39;m overthinking the concept", "body": "<p>Adding to the beginning is simple.  Don't make things more complicated.  </p>\n\n<pre><code>ListNode * new_node = new ListNode(number);\nif (head == nullptr)\n{\n  head = new_node;\n}\nelse\n{\n  // Make the new node point to the (old) head.\n  new_node-&gt;next = head;\n\n  // Make the head pointer point to the new node.\n  head = new_node;\n}\n</code></pre>\n\n<p>Use pencil (or pen) and paper and draw the pointers and nodes as you step through both cases.</p>\n\n<hr>\n\n<p>Case 1: Empty list</p>\n\n<p>Before insertion:  </p>\n\n<pre>\nhead --> nullptr\n</pre>\n\n<p>After insertion:</p>\n\n<pre>\n             +-----+  \nnew_node --> | 25  |  \n             +-----+  \n</pre>\n\n<p></p>\n\n<pre>\n             +-----+  \nnew_node --> | 25  |  \n             +-----+  \n                ^  \n                |  \nhead -----------+  \n</pre>\n\n<hr>\n\n<p>Case 2: Not empty list  </p>\n\n<p>Before insertion:  </p>\n\n<pre>\n         +-----+  \nhead --> | 36  |  \n         +-----+  \n</pre>\n\n<p>After insertion:</p>\n\n<pre>\n             +-----+  \nnew_node --> | 25  |  \n             +-----+  \n</pre>\n\n<p></p>\n\n<pre>\n             +-----+      +-----+  \nnew_node --> | 25  |  --> | 36  |\n             +-----+      +-----+   \n                             ^  \n                             |  \nhead ------------------------+  \n</pre>\n\n<p></p>\n\n<pre>\n             +-----+      +-----+  \nnew_node --> | 25  |  --> | 36  |\n             +-----+      +-----+   \n                ^  \n                |  \nhead -----------+  \n</pre>\n\n<hr>\n\n<p><em>Per Remy's comment, the above can be simplified to:</em>  </p>\n\n<pre><code>ListNode * new_node = new ListNode(number);\n\n// Make the new node point to the (old) head.\nnew_node-&gt;next = head;\n\n// Make the head pointer point to the new node.\nhead = new_node;\n</code></pre>\n\n<p>Or simply:</p>\n\n<pre><code>// Make the new node point to the (old) head, and\n// make the head pointer point to the new node.\nhead = new ListNode(number, head);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 6494551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-fjrJO5ro_EI/AAAAAAAAAAI/AAAAAAAAC2I/I8m16BRwhYM/photo.jpg?sz=128", "display_name": "Dakota Wagner", "link": "https://stackoverflow.com/users/6494551/dakota-wagner"}, "edited": false, "score": 0, "creation_date": 1510371130, "post_id": 46575779, "comment_id": 81418689, "body": "Thanks, I definitely was making this more complicated."}], "tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": true, "score": 1, "last_activity_date": 1507160675, "creation_date": 1507160675, "answer_id": 46575779, "question_id": 46575583, "link": "https://stackoverflow.com/questions/46575583/how-to-add-node-to-front-of-linked-list-c-im-overthinking-the-concept/46575779#46575779", "title": "How to add node to front of linked list C++? I&#39;m overthinking the concept", "body": "<p>Adding to the beginning is simpler than doing it at the end.</p>\n\n<p>You need to set the tail of the new node to the current head, and set the head to the new node.</p>\n\n<pre><code>head = new ListNode(number, head);\n</code></pre>\n\n<p>That's it.</p>\n"}], "owner": {"reputation": 107, "user_id": 6494551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-fjrJO5ro_EI/AAAAAAAAAAI/AAAAAAAAC2I/I8m16BRwhYM/photo.jpg?sz=128", "display_name": "Dakota Wagner", "link": "https://stackoverflow.com/users/6494551/dakota-wagner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1622, "favorite_count": 0, "accepted_answer_id": 46575779, "answer_count": 2, "score": -1, "last_activity_date": 1510371291, "creation_date": 1507159097, "last_edit_date": 1510371291, "question_id": 46575583, "link": "https://stackoverflow.com/questions/46575583/how-to-add-node-to-front-of-linked-list-c-im-overthinking-the-concept", "title": "How to add node to front of linked list C++? I&#39;m overthinking the concept", "body": "<p>I'm trying to add a node to the front of my linked list in C++. I have developed code for adding to the end of the list, which is easier for my brain to comprehend than the latter. Here is my code:\n<br>\n<br>\n<strong>The class</strong><br></p>\n\n<pre><code> struct ListNode\n    {\n       double value;\n       ListNode *next;\n       ListNode(double value1, ListNode *next1 = NULL)\n       {\n          value = value1;\n          next = next1;\n       }      \n    };\n    ListNode *head;                   // List head pointer\n</code></pre>\n\n<p><br><strong>The function that adds to the end of the list</strong></p>\n\n<pre><code>void LinkedList::add(double number)\n{\n   if (head == NULL)\n      head = new ListNode(number);\n   else\n     {\n       // The list is not empty\n       // Use nodePtr to traverse the list\n       ListNode *nodePtr = head;\n       while (nodePtr-&gt;next != NULL)\n          nodePtr = nodePtr-&gt;next;\n\n       // nodePtr-&gt;next is NULL so nodePtr points to the last node\n       // Create a new node and put it after the last node\n       nodePtr-&gt;next = new ListNode(number);\n     }\n}\n</code></pre>\n\n<p>I'm just having a lot of trouble wrapping my head around moving all the pointers around for adding to the beginning.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "c++11", "templates", "constants", "const-cast"], "answers": [{"tags": [], "owner": {"reputation": 2104, "user_id": 5129504, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/476994845791992/picture?type=large", "display_name": "Josh Weinstein", "link": "https://stackoverflow.com/users/5129504/josh-weinstein"}, "is_accepted": false, "score": 1, "last_activity_date": 1507158549, "creation_date": 1507158549, "answer_id": 46575502, "question_id": 46575369, "link": "https://stackoverflow.com/questions/46575369/const-cast-seems-to-be-ignored-with-c-templates/46575502#46575502", "title": "const_cast seems to be ignored with C++ templates?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/language/const_cast\" rel=\"nofollow noreferrer\">const_cast</a> is only used for casting a type from const to non-const. And this only works if the said variable was not originally declared as const.</p>\n\n<p>You don't need to <em>cast</em> something to const, you can just copy it to a const reference or const value of that type</p>\n\n<pre><code>const char* changeSecond(char* string, char change)\n{\n  string[0] = change;\n  return string;\n}\n</code></pre>\n\n<p>That function will return a <code>const char*</code>, without casting needed. This can also be done with assignment.</p>\n"}, {"comments": [{"owner": {"reputation": 2508, "user_id": 5007383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffe87e596ebc1a9dea72a2ba19d443?s=128&d=identicon&r=PG", "display_name": "MathuSum Mut", "link": "https://stackoverflow.com/users/5007383/mathusum-mut"}, "edited": false, "score": 0, "creation_date": 1507159290, "post_id": 46575508, "comment_id": 80104652, "body": "Apart from the &quot;const to pointer&quot; specialization, I added a &quot;pointer to const&quot; specialization for every type, and everything worked! A million thanks :))"}], "tags": [], "owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "is_accepted": true, "score": 1, "last_activity_date": 1507158582, "creation_date": 1507158582, "answer_id": 46575508, "question_id": 46575369, "link": "https://stackoverflow.com/questions/46575369/const-cast-seems-to-be-ignored-with-c-templates/46575508#46575508", "title": "const_cast seems to be ignored with C++ templates?", "body": "<p>If <code>First</code> is <code>wchar_t*</code> the cast will create a <code>wchar_t* const</code>, not a <code>const wchar_t*</code>. The cast is not a text substitution of the type names.</p>\n\n<p>So you create a new type that doesn't match any specialization, and get a recursive call to the generic <code>Log</code> function.</p>\n"}], "owner": {"reputation": 2508, "user_id": 5007383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffe87e596ebc1a9dea72a2ba19d443?s=128&d=identicon&r=PG", "display_name": "MathuSum Mut", "link": "https://stackoverflow.com/users/5007383/mathusum-mut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "accepted_answer_id": 46575508, "answer_count": 2, "score": 0, "last_activity_date": 1507158582, "creation_date": 1507157600, "last_edit_date": 1507157989, "question_id": 46575369, "link": "https://stackoverflow.com/questions/46575369/const-cast-seems-to-be-ignored-with-c-templates", "title": "const_cast seems to be ignored with C++ templates?", "body": "<p>I wrote a simple logging class that supports variadic templates in C++ using Visual Studio on Windows. I created a generic <code>Log</code> function template with a number of specializations to cater for a common combination of possible inputs.</p>\n\n<pre><code>#pragma once\n\n#include &lt;Windows.h&gt;\n#include &lt;locale&gt;\n#include &lt;codecvt&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;utility&gt;\n\nusing namespace std;\n\ninline static string to_utf8(const wstring&amp; s) {\n    wstring_convert&lt;codecvt_utf8_utf16&lt;wchar_t&gt;&gt; utf16conv;\n    return utf16conv.to_bytes(s);\n}\n\nclass Logger {\npublic:\n    HANDLE file_handle;\n    wchar_t file_path[MAX_PATH + 1];\n\n    inline Logger(HANDLE handle) : file_handle(handle), file_path{} {\n    }\n\n    inline Logger(const string&amp; path) : Logger(path.c_str()) {\n    }\n\n    inline Logger(const wstring&amp; path) : Logger(path.c_str()) {\n    }\n\n    inline Logger(const char* path) : file_handle(NULL) {\n        wstring_convert&lt;codecvt_utf8_utf16&lt;wchar_t&gt;&gt; converter;\n        wcscpy_s(file_path, MAX_PATH + 1, converter.from_bytes(path).c_str());\n    }\n\n    inline Logger(const wchar_t* path) : file_handle(NULL) {\n        wcscpy_s(file_path, MAX_PATH + 1, path);\n    }\n\nprivate:\n    inline void VerifyInitialize() {\n        if ((file_handle == NULL || file_handle == INVALID_HANDLE_VALUE) &amp;&amp; file_path[0] != '\\0') {\n            file_handle = CreateFileW(file_path, FILE_GENERIC_WRITE, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);\n            SetFilePointer(file_path, 0, NULL, FILE_END);\n        }\n    }\n\npublic:\n    inline void Log() {\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const char* first, Rest... params) {\n        VerifyInitialize();\n        if (file_handle == NULL || file_handle == INVALID_HANDLE_VALUE)\n            return;\n        DWORD written;\n        WriteFile(file_handle, first, static_cast&lt;DWORD&gt;(strlen(first)), &amp;written, NULL);\n        Log(params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const char first, Rest... params) {\n        char str[2];\n        str[0] = first;\n        str[1] = '\\0';\n        Log(str, params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const string* first, Rest... params) {\n        VerifyInitialize();\n        if (file_handle == NULL || file_handle == INVALID_HANDLE_VALUE)\n            return;\n        DWORD written;\n        WriteFile(file_handle, first-&gt;c_str(), static_cast&lt;DWORD&gt;(first-&gt;size()), &amp;written, NULL);\n        Log(params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const string&amp; first, Rest... params) {\n        Log(&amp;first, params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const wstring* first, Rest... params) {\n        Log(*first, params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const wstring&amp; first, Rest... params) {\n        Log(to_utf8(first), params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const wchar_t* first, Rest... params) {\n        Log(wstring(first), params...);\n    }\n\n    template&lt;typename ...Rest&gt;\n    inline void Log(const wchar_t first, Rest... params) {\n        wchar_t str[2];\n        str[0] = first;\n        str[1] = '\\0';\n        Log(str, params...);\n    }\n\n    template&lt;typename First, typename ...Rest&gt;\n    inline void Log(First first, Rest... params) {\n        printf(\"%s\\n\", typeid(First).name());\n        if (is_const&lt;First&gt;::value) {\n            stringstream stream;\n            stream &lt;&lt; first;\n            Log(stream.str(), params...);\n        } else\n            Log(const_cast&lt;const First&gt;(first), params...);\n    }\n\n    inline ~Logger() {\n        if (!(file_handle == NULL || file_handle == INVALID_HANDLE_VALUE)) {\n            CloseHandle(file_handle);\n            file_handle = NULL;\n        }\n    }\n};\n</code></pre>\n\n<p>The code works fine with const values. If however I introduce non-const parameters like so:</p>\n\n<pre><code>int main() {\n    Logger logger((\"output.txt\"));\n    wchar_t sometext[3];\n    sometext[0] = '1';\n    sometext[1] = '8';\n    sometext[2] = '\\0';\n    logger.Log(sometext, L\"\\n\");\n    return 0;\n}\n</code></pre>\n\n<p>the specializations are not called and instead the last generic <code>void Log(First first, Rest... params)</code> is called, which uses <code>stringstream</code> and writes the pointer as a string instead of the string itself.</p>\n\n<p>If I remove <code>const</code> from all overload parameters, when I invoke <code>main()</code> it works, but if I replace <code>sometext</code> with a <code>const char*</code>, then the last generic <code>void Log(First first, Rest... params)</code> is called instead of the specializations (ie. removing <code>const</code> does not solve the problem).</p>\n\n<p>So, in order to try the get the best of both worlds, I tried adding the following condition:</p>\n\n<pre><code>template&lt;typename First, typename ...Rest&gt;\ninline void Log(First first, Rest... params) {\n    if (is_const&lt;First&gt;::value) {\n        stringstream stream;\n        stream &lt;&lt; first;\n        Log(stream.str(), params...);\n    } else\n         Log(const_cast&lt;const First&gt;(first), params...);\n}\n</code></pre>\n\n<p>with the rationale being to instruct the compiler to <em>\"first search for a const specialization overload, and if none was found, then fallback to using <code>stringstream</code>\"</em>.</p>\n\n<p>However, I was getting a stack overflow. To debug, I added <code>printf(\"%s\\n\", typeid(First).name());</code> just before the <code>if</code> condition, and the output was:</p>\n\n<pre><code>wchar_t * __ptr64\nwchar_t * __ptr64\nwchar_t * __ptr64\nwchar_t * __ptr64\n....\n</code></pre>\n\n<p>Apparently, <code>const_cast&lt;const First&gt;(first)</code> does not seem to be in fact casting to <code>const</code>, even though <code>is_const::value</code> is indeed returning <code>false</code>. I have also tried using <code>std::as_const</code>, but there was no difference in the outcome.</p>\n\n<p>Why is the cast not working? How do I resolve this please?</p>\n"}, {"tags": ["c++", "code-coverage", "lcov", "catch-unit-test"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1507155833, "post_id": 46575061, "comment_id": 80103708, "body": "How are you proposing recovering from bad_alloc?"}, {"owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "edited": false, "score": 0, "creation_date": 1507156024, "post_id": 46575061, "comment_id": 80103776, "body": "@NeilButterworth Catch has an assertion <code>CHECK_THROWS_AS</code> which succeeds if the passed expression throws a specific exception."}, {"owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507156223, "post_id": 46575061, "comment_id": 80103838, "body": "@MooingDuck Yes, most missed branches are in lines without if/switch, but simple assignments to functions that may throw because they call constructors."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507156250, "post_id": 46575061, "comment_id": 80103848, "body": "@NielsLohmann: Oh, I see. That makes sense."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1507156518, "post_id": 46575061, "comment_id": 80103930, "body": "@Neils I don&#39;t see that as recovery, only reporting, which would probably be done for you by your runtime or OS even if you didn&#39;t handle it.  My point is, if you can&#39;t recover, it probably isn&#39;t worth testing - just fail."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507156760, "post_id": 46575061, "comment_id": 80104008, "body": "@NeilButterworth: I keep hearing that, but if your code has any reasonable exception guarantees, then stack unwinding will have destroyed a lot, so you can simply catch the <code>bad_alloc</code> and show an error to the user. I&#39;ve worked on several apps that had no issues doing that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507157046, "post_id": 46575061, "comment_id": 80104088, "body": "@Mooing Once you have a bad_alloc you are in a very grey area where producing an error message is moot (because producing the error message may also cause a bad_alloc).. I would prefer a semi-robust fail and exit.  Also, in my experience a bad_alloc in real code is incredibly rare - I don&#39;t think I&#39;ve ever seen one."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507157190, "post_id": 46575061, "comment_id": 80104132, "body": "@NeilButterworth: Specifically, I worked on one project that dealt with large audio files (hours long) and an Android app that occasionally dealt with large image files. In both cases, unwinding the stack for &quot;the current task&quot; feed enough memory that we have never had a subsequent issue showing the message."}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507643388, "post_id": 46575061, "comment_id": 80285354, "body": "It sounds like lcov is noticing the exception propagation logic required to support the allocator, because it <i>can</i> throw that exception.  Why don&#39;t you try a version of new that doesn&#39;t thow the exception?  YOu might have to catch the exception inside <i>inside</i> your funny version of new and supress it.  (Awful hack: when you catch the exception, return the address of a static buffer)."}], "answers": [{"tags": [], "owner": {"reputation": 11532, "user_id": 5129715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/320498457784a3110f3e256745a9a927?s=128&d=identicon&r=PG&f=1", "display_name": "mksteve", "link": "https://stackoverflow.com/users/5129715/mksteve"}, "is_accepted": false, "score": 0, "last_activity_date": 1507157156, "creation_date": 1507157156, "answer_id": 46575297, "question_id": 46575061, "link": "https://stackoverflow.com/questions/46575061/how-to-improve-branch-coverage-in-c/46575297#46575297", "title": "How to improve branch coverage in C++", "body": "<p>I had a successful go at this a while back.  I didn't have a test suite, just ran my application, but found the following.</p>\n\n<p>Some form of isolation of the thing under test was important.  I had vectors and maps, which basically interrupted test when they were also prone.</p>\n\n<p>I think I succeeded when I had an IPC between the fault injection and the failure point.  That allowed the fault injector code to new and delete independently of the thing under test</p>\n\n<p>I have also succeeded with similar things when in the same binary, but having two independent allocation paths - a custom allocator for the fault injection code - which ensures it does not get interfered with.</p>\n\n<p>My successful system took a call-stack of a malloc and sent it through IPC to another program.  It decided if it had seen the stack before, and if not, it failed the allocation. Then the program might crash and fail (the core-dump was captured), then the test system re-launched.\n This dramatically improved the quality of the code I was developing.</p>\n"}, {"comments": [{"owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "edited": false, "score": 0, "creation_date": 1507397520, "post_id": 46578883, "comment_id": 80196848, "body": "I did not find a way to achieve this."}, {"owner": {"reputation": 437, "user_id": 4936966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-USKRY9PSlj8/AAAAAAAAAAI/AAAAAAAAAKA/bjujPNSYWRg/photo.jpg?sz=128", "display_name": "Oleh Pomazan", "link": "https://stackoverflow.com/users/4936966/oleh-pomazan"}, "edited": false, "score": 1, "creation_date": 1590158985, "post_id": 46578883, "comment_id": 109583115, "body": "<code>--exclude-throw-branches</code> flag can help for <code>gcovr</code>"}, {"owner": {"reputation": 3152, "user_id": 4298115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cb97bb219d78e33bd29313a8475c21?s=128&d=identicon&r=PG&f=1", "display_name": "lbragile", "link": "https://stackoverflow.com/users/4298115/lbragile"}, "reply_to_user": {"reputation": 437, "user_id": 4936966, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-USKRY9PSlj8/AAAAAAAAAAI/AAAAAAAAAKA/bjujPNSYWRg/photo.jpg?sz=128", "display_name": "Oleh Pomazan", "link": "https://stackoverflow.com/users/4936966/oleh-pomazan"}, "edited": false, "score": 1, "creation_date": 1592079633, "post_id": 46578883, "comment_id": 110298325, "body": "@OlehPomazan I faced the same issue (had 54% coverage due to branch coverage being low). Your solution fixed my issue and improved to 87%. Thank you so much! My command to make it work: <code>gcovr -r . --exclude-throw-branches --xml -o coverage.xml</code>"}], "tags": [], "owner": {"reputation": 4705, "user_id": 102345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/etoxY.gif?s=128&g=1", "display_name": "JBRWilkinson", "link": "https://stackoverflow.com/users/102345/jbrwilkinson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507183565, "creation_date": 1507183565, "answer_id": 46578883, "question_id": 46575061, "link": "https://stackoverflow.com/questions/46575061/how-to-improve-branch-coverage-in-c/46578883#46578883", "title": "How to improve branch coverage in C++", "body": "<p>Whose code are you wanting to test - yours or the Standard Library? It strikes me that your coverage report is telling you about branches in 'std::string' rather than your code. </p>\n\n<p>Can you configure 'lcov' to ignore the std library and just focus on your code?</p>\n"}], "owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1507398136, "creation_date": 1507155652, "last_edit_date": 1507398136, "question_id": 46575061, "link": "https://stackoverflow.com/questions/46575061/how-to-improve-branch-coverage-in-c", "title": "How to improve branch coverage in C++", "body": "<p>I have a fairly large test suite for a <a href=\"https://github.com/nlohmann/json\" rel=\"nofollow noreferrer\">C++ library</a> with close to 100% line coverage, but only 55.3% branch coverage. Skimming through the results of <code>lcov</code>, it seems as if most of the missed branches can be explained by C++'s many ways to throw <code>std::bad_alloc</code>, e.g. whenever an <code>std::string</code> is constructed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PGk7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGk7s.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was asking myself how to improve branch coverage in this situation and thought that it would be nice to have a <code>new</code> operator that can be configured to throw <code>std::bad_alloc</code> after just as many allocations needed to hit each branch missed in my test suite.</p>\n\n<p>I (naively) tried defining a global <code>void* operator new (std::size_t)</code> function which counts down a global <code>int allowed_allocs</code> and throws <code>std::bad_alloc</code> whenever <code>0</code> is reached.</p>\n\n<p>This has several problems though:</p>\n\n<ul>\n<li>It is hard to get the number of <code>new</code> calls until the \"first\" desired <code>throw</code>. I may execute a dry run to calculate the required calls to succeed, but this does not help if several calls can fail in the same line, e.g. something like <code>std::to_string(some_int) + std::to_string(another_int)</code> where each <code>std::to_string</code>, the concatenation via <code>operator+</code> and also the initial allocation may fail.</li>\n<li>Even worse, my test suite (I am using Catch) uses a lot of <code>new</code> calls itself, so even if I knew how many calls <em>my</em> code needs, it is hard to guess how many additional calls of the test suite are necessary. (To make things worse, Catch has several \"verbose\" modes which create lots of outputs which again need memory...)</li>\n</ul>\n\n<p>Do you have any idea how to improve the branch coverage?</p>\n\n<h2>Update 2017-10-07</h2>\n\n<p>Meanwhile, I found <a href=\"https://stackoverflow.com/a/43726240/266378\">https://stackoverflow.com/a/43726240/266378</a> with a link to a Python script to filter some of the branches created by exceptions from the lcov output. This brought my branch coverage to 71.5%, but the remaining unhit branches are still very strange. For instance, I have several if statements like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kHY6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHY6D.png\" alt=\"if statement with unhit branch\"></a></p>\n\n<p>with four (?) branches of which one remained unhit (<code>reference_token</code> is a <code>std::string</code>).</p>\n\n<p>Does anyone has an idea what these branches mean and how they can be hit?</p>\n"}, {"tags": ["c++", "vector", "boost", "binary"], "comments": [{"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507154941, "post_id": 46574899, "comment_id": 80103409, "body": "Do you want standard C++ or just Itanium ABI (MSVC/gcc/icc/etc.)?"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1507155492, "post_id": 46574899, "comment_id": 80103577, "body": "With C++ you&#39;re already on the metal, dealing with bits. Why not just read <code>char</code>s and get the bits you want from there?"}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1507155688, "post_id": 46574899, "comment_id": 80103654, "body": "Do you have a binary file or is it a text file containing, for example, &quot;1000010010010001...&quot;?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507156091, "post_id": 46574899, "comment_id": 80103798, "body": "What about <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/dynamic_bitset/dynamic_bitset.html\" rel=\"nofollow noreferrer\"><code>boost::dynamic_bitset</code></a>?"}, {"owner": {"reputation": 927, "user_id": 4950204, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/246295ada7d994b6b6a585163107f770?s=128&d=identicon&r=PG&f=1", "display_name": "kaminsknator", "link": "https://stackoverflow.com/users/4950204/kaminsknator"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507212372, "post_id": 46574899, "comment_id": 80128497, "body": "lorro: sadly I&#39;m not even sure what your mentioning. rex: I wish to avoid reading into char because then to access the bits I would have to bit shift them into position or do some other logic. StephanLechner: It is a binary file. @user0042 I am very unfamiliar with C++ and even more unfamiliar with the boost library but I&#39;ll look into it, could be a great solution."}], "owner": {"reputation": 927, "user_id": 4950204, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/246295ada7d994b6b6a585163107f770?s=128&d=identicon&r=PG&f=1", "display_name": "kaminsknator", "link": "https://stackoverflow.com/users/4950204/kaminsknator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507154741, "creation_date": 1507154741, "question_id": 46574899, "link": "https://stackoverflow.com/questions/46574899/read-raw-binary-file-in-to-bitset-vector", "title": "read raw binary file in to bitset vector", "body": "<p>Am I forced to read the file into a string and then convert the string to bitset?</p>\n\n<p>I have  8192 bits stored in a file and I need to get the nth bit of every 256 bit set. My idea is to load all the bits into a <code>std::vector&lt;std::bitset&gt;</code> then use boost to <code>myvector | boost::adaptors::strided(64)</code> Is there a better way to do this? This was really easy to implement with python using the bitstring module but it was really slow. Trying to do it in C++ but running into all sorts of issues that I'm not familiar with.</p>\n\n<p>Python code (this also switches the endianess of the byte) Here ch is 32, 32 byte arrays. The outer loops selects the large element and the inner loop reorders the byte.:</p>\n\n<pre><code>jrange = range(32)\nirange = range(8) \nfor j in jrange:\n                for i in irange:\n                    (BitArray([element[(7-i)+j*8] for element in ch])).tofile(outfile)\n</code></pre>\n"}, {"tags": ["c++", "string", "switch-statement"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 2, "creation_date": 1507154821, "post_id": 46574886, "comment_id": 80103370, "body": "Use a map of string to function . And why do you think that using a switch is superior to using if/else? The latter is typically shorter, clearer and more flexible. I&#39;ve never understood this idea that switches are some magic solution to all programming problems."}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507154954, "post_id": 46574886, "comment_id": 80103414, "body": "Depends on your use-case, in particular, the logic inside the switch cases. As you don&#39;t provide the code with this logic, the question is likely to be close as &quot;too broad&quot;. But here is a hint: create a dictionary with wich you can translate the condition into resulting data or action. It can be an array, <code>std::map</code> or something else."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1507155005, "post_id": 46574886, "comment_id": 80103430, "body": "You can use <code>if</code>."}, {"owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "reply_to_user": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1507155039, "post_id": 46574886, "comment_id": 80103442, "body": "@NickA the example&#39;s mentioned (using enums, etc) would take a lot of time to do. I need something simple and easily. That&#39;s why I want something similar to the switch statement"}, {"owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507155083, "post_id": 46574886, "comment_id": 80103450, "body": "@Galik I have specified that I need it for checking multiple cases so if statements wont be a good idea"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 2, "creation_date": 1507155111, "post_id": 46574886, "comment_id": 80103457, "body": "It&#39;s hard to beat a set of <code>if</code> statements. You can&#39;t avoid writing one statement per <code>case</code> whatever you do."}, {"owner": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1507155246, "post_id": 46574886, "comment_id": 80103499, "body": "@Low_level_dir I still don&#39;t understand why <code>switch</code> would be any better than <code>if</code>, you&#39;re just replacing <code>if</code>/<code>else if</code> with <code>case</code>/<code>break</code>"}, {"owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "reply_to_user": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1507155539, "post_id": 46574886, "comment_id": 80103595, "body": "@NickA it is just very time consuming and I have to then I would have so many if statements the code would be just unbearable"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1507155643, "post_id": 46574886, "comment_id": 80103632, "body": "How is a stack of <code>if</code> statements so different from a stack of <code>case</code> statements?"}, {"owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "edited": false, "score": 0, "creation_date": 1507155672, "post_id": 46574886, "comment_id": 80103646, "body": "which would look nice?  a bunch of : if (present == &quot;write&quot;){ cout &lt;&lt; right_value &lt;&lt; endl; }  or  case &quot;write&quot; : return right value; break:"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507155716, "post_id": 46574886, "comment_id": 80103662, "body": "Well I am biased because I always thought <code>switch&#47;case: break;</code> looked clunky. :)"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507159646, "post_id": 46574886, "comment_id": 80104720, "body": "Or, <code>if(present == &quot;write&quot;) return right_value;</code>"}, {"owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507164309, "post_id": 46574886, "comment_id": 80105786, "body": "@Galik oh ya forgot that would work too"}], "owner": {"reputation": 11, "user_id": 8317660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72850bcb42bc3f03f15daf567b41f7e?s=128&d=identicon&r=PG&f=1", "display_name": "Low_level_dir", "link": "https://stackoverflow.com/users/8317660/low-level-dir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1507155110, "answer_count": 0, "score": 0, "last_activity_date": 1507155437, "creation_date": 1507154679, "last_edit_date": 1507155437, "question_id": 46574886, "link": "https://stackoverflow.com/questions/46574886/since-i-cant-use-strings-as-the-argument-for-a-switch-statement-what-should-i-u", "closed_reason": "Duplicate", "title": "Since I can&#39;t use strings as the argument for a switch statement what should I use?", "body": "<p>Since a switch statement doesn't take in a string what other than a switch statement is there that I should use. Is there anything that I could use which won't require me to write a ton of if statements? Or is there a way to make switch statements take in a string? I need another way other than a switch statement so I can check for multiple ( > 20) different cases.</p>\n\n<pre><code>vector&lt;string&gt; tokens;\nstring present;\nwhile(....){\nstring right_value = right-&gt;evaluate();  &lt;-- finds out what the string to the right of present is \nstring left_value = left-&gt;evaluate();   &lt;-- finds out what the string to the left of present is. \nswitch(present){\n case \"write\" : return right_value;\n.\n.\n.\n.\n.\n}\n</code></pre>\n"}, {"tags": ["c++", "function", "loops"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507154582, "post_id": 46574844, "comment_id": 80103287, "body": "That switch though..."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1507154872, "post_id": 46574844, "comment_id": 80103386, "body": "You only input <code>repeat</code> once, then if it is <code>Y</code> you do another number but never ask for <code>repeat</code> again. So when you get the test against <code>N</code> the value is still <code>Y</code> and gets rejected."}, {"owner": {"reputation": 91, "user_id": 7516097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-8_8MRSuDdD4/AAAAAAAAAAI/AAAAAAAAABQ/jDP1zIXluok/photo.jpg?sz=128", "display_name": "Charles Carrington", "link": "https://stackoverflow.com/users/7516097/charles-carrington"}, "edited": false, "score": 0, "creation_date": 1507155904, "post_id": 46574844, "comment_id": 80103735, "body": "yes, I changed that also.  thank you for pointing that out."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 7516097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-8_8MRSuDdD4/AAAAAAAAAAI/AAAAAAAAABQ/jDP1zIXluok/photo.jpg?sz=128", "display_name": "Charles Carrington", "link": "https://stackoverflow.com/users/7516097/charles-carrington"}, "edited": false, "score": 0, "creation_date": 1507155175, "post_id": 46574921, "comment_id": 80103478, "body": "makes sense, but the code you provided is throwing back several errors.    <a href=\"https://pastebin.com/QCNitjV5\" rel=\"nofollow noreferrer\">pastebin.com/QCNitjV5</a>"}], "tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": true, "score": 0, "last_activity_date": 1507155222, "last_edit_date": 1507155222, "creation_date": 1507154840, "answer_id": 46574921, "question_id": 46574844, "link": "https://stackoverflow.com/questions/46574844/having-issues-getting-a-loop-to-work-combined-with-a-function/46574921#46574921", "title": "Having issues getting a loop to work combined with a function", "body": "<p>I suppose you commit entering your phone number with pressing \"Enter\", such that a new line will be left in the <code>cin</code> stream. This new line will then be consumed immediately by <code>cin &gt;&gt; repeat</code>.\nTo avoid this, skip/ignore any characters in the <code>cin</code> stream until (and including) a new line before reading in <code>repeat</code>:</p>\n\n<pre><code>cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\ncin &gt;&gt; repeat;\n</code></pre>\n\n<p>And include <code>#include &lt;limits&gt;</code>...</p>\n"}], "owner": {"reputation": 91, "user_id": 7516097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-8_8MRSuDdD4/AAAAAAAAAAI/AAAAAAAAABQ/jDP1zIXluok/photo.jpg?sz=128", "display_name": "Charles Carrington", "link": "https://stackoverflow.com/users/7516097/charles-carrington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 46574921, "answer_count": 1, "score": 0, "last_activity_date": 1507155222, "creation_date": 1507154405, "last_edit_date": 1592644375, "question_id": 46574844, "link": "https://stackoverflow.com/questions/46574844/having-issues-getting-a-loop-to-work-combined-with-a-function", "title": "Having issues getting a loop to work combined with a function", "body": "<p>Trying to get a program to prompt a user to input letters that will be converted into a phone number (which is working fine), and then prompt the user if they would like to repeat the same steps (This is where I am running into an error).  The program converst the phone number, then immediately produces the cout statements without letting the user input the cin&gt;&gt;repeat character.</p>\n<blockquote>\n<p>&quot;Would you like to enter a phone number: Y/N &quot;</p>\n<p>&quot;Please enter a valid input: Y/N.&quot;</p>\n</blockquote>\n<p>I have a cin&gt;&gt; between the two, as you can see in the code.  Any advice on how to get this working? Thank you in advance.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nvoid telephoneConverter();\nint counter;\nchar phoneNumber;\n\nint main()\n{   \nchar repeat;\n\n\n\ntelephoneConverter();\n   \ncout &lt;&lt; endl\n     &lt;&lt; &quot;Would you like to enter a phone \nnumber: Y/N &quot;;\n    cin &gt;&gt; repeat;\nif (repeat == 'Y' || repeat == 'y') {\n\n    telephoneConverter();\n}\nif (repeat == 'N' || repeat == 'n') {\n    cout &lt;&lt; &quot;Have a good day.&quot;;\n}\nelse\n    cout &lt;&lt; &quot;Please enter a valid input: Y/N.&quot;;\n\nreturn 0;\n}\n\nvoid telephoneConverter()\n{\n\ncout &lt;&lt; &quot;\\nEnter a phone number in letters \nonly.&quot;\n     &lt;&lt; endl;\n\nfor (counter = 0; counter &lt; 7; counter++) {\n    cin &gt;&gt; phoneNumber;\n\n    if (counter == 3)\n        cout &lt;&lt; &quot;-&quot;;\n\n    if ((phoneNumber &gt;= 'A' &amp;&amp; phoneNumber \n&lt;= 'Z')\n        || (phoneNumber &gt;= 'a' &amp;&amp; phoneNumber \n&lt;= 'z'))\n        switch (phoneNumber) {\n        case 'A':\n        case 'a':\n        case 'B':\n        case 'b':\n        case 'C':\n        case 'c':\n            cout &lt;&lt; 2;\n            break;\n        case 'D':\n        case 'd':\n        case 'E':\n        case 'e':\n        case 'F':\n        case 'f':\n            cout &lt;&lt; 3;\n            break;\n        case 'G':\n        case 'g':\n        case 'H':\n        case 'h':\n        case 'I':\n        case 'i':\n            cout &lt;&lt; 4;\n            break;\n\n        case 'J':\n        case 'j':\n        case 'K':\n        case 'k':\n        case 'L':\n        case 'l':\n            cout &lt;&lt; 5;\n            break;\n        case 'M':\n        case 'm':\n        case 'N':\n        case 'n':\n        case 'O':\n        case 'o':\n            cout &lt;&lt; 6;\n            break;\n        case 'P':\n        case 'p':\n        case 'Q':\n        case 'q':\n        case 'R':\n        case 'r':\n        case 'S':\n        case 's':\n            cout &lt;&lt; 7;\n            break;\n\n        case 'T':\n        case 't':\n        case 'U':\n        case 'u':\n        case 'V':\n        case 'v':\n            cout &lt;&lt; 8;\n            break;\n\n        case 'W':\n        case 'w':\n        case 'X':\n        case 'x':\n        case 'Y':\n        case 'y':\n        case 'Z':\n        case 'z':\n            cout &lt;&lt; 9;\n            break;\n        }\n }\n};\n</code></pre>\n"}, {"tags": ["c++", "struct", "segmentation-fault", "polymorphism", "class-design"], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 1, "last_activity_date": 1507158497, "last_edit_date": 1592644375, "creation_date": 1507157720, "answer_id": 46575385, "question_id": 46574833, "link": "https://stackoverflow.com/questions/46574833/correct-way-to-design-data-class-to-handle-polymorphic-data/46575385#46575385", "title": "Correct way to design data class to handle polymorphic data", "body": "<blockquote>\n<p>Code in block 1 and block 2 crashes due to double deletion. How can i handle all these use cases properly.</p>\n</blockquote>\n<p>By following the rule of 3 (or rule of 5 if you would like to support efficient move operations):</p>\n<blockquote>\n<p>if a class defines one (or more) of the following it should probably explicitly define all three:</p>\n<ul>\n<li>destructor</li>\n<li>copy constructor</li>\n<li>copy assignment operator</li>\n</ul>\n</blockquote>\n<p>You've neglected implementing a custom copy assignment operator. The use of the default copy assignment operator results in the double deletion.</p>\n<hr />\n<p>Also, never assign a pointer to an automatic variable to <code>Data::baseData</code> like you do here in block 1.</p>\n<p>The destructor of <code>Data</code> will delete this pointer, which results in undefined behaviour.</p>\n<p>Also, never delete the pointer owned by <code>Data::baseData</code> unless you're going to replace it with something else.</p>\n<p>To avoid doing these by accident, I recommend declaring <code>Data::baseData</code> private as you've already considered.</p>\n<hr />\n<blockquote>\n<p>Is there any better way to design these classes?</p>\n</blockquote>\n<p>Yes. Don't ever use bare pointers to owned memory. Use <code>std::unique_ptr</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 6050, "user_id": 1030410, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e13caf6116a45714153bd145754fd292?s=128&d=identicon&r=PG", "display_name": "Daniel Trugman", "link": "https://stackoverflow.com/users/1030410/daniel-trugman"}, "is_accepted": true, "score": 1, "last_activity_date": 1507160365, "last_edit_date": 1507160365, "creation_date": 1507159850, "answer_id": 46575669, "question_id": 46574833, "link": "https://stackoverflow.com/questions/46574833/correct-way-to-design-data-class-to-handle-polymorphic-data/46575669#46575669", "title": "Correct way to design data class to handle polymorphic data", "body": "<p>Your problem is that you are trying to manage ownership by yourself. Instead you could use explicit ownership management using the <code>unique_ptr</code> type.</p>\n\n<p>Assuming the same type definitions you used (+ The createDataType method we'll see later):</p>\n\n<pre><code>struct BaseData {\n  enum DataType { DATATYPE_1, DATATYPE_2 };\n  virtual ~BaseData() { cout &lt;&lt; \"BaseData\" &lt;&lt; endl; }\n\n  static std::unique_ptr&lt;BaseData&gt; createDataType(DataType type);\n};\n\nstruct DataType1 : BaseData {\n  virtual ~DataType1() { cout &lt;&lt; \"DataType1\" &lt;&lt; endl; }\n};\n\nstruct DataType2 : BaseData {\n  virtual ~DataType2() { cout &lt;&lt; \"DataType2\" &lt;&lt; endl; }\n};\n</code></pre>\n\n<p>Notice that we are now using a factory for creating our objects, like so:</p>\n\n<pre><code>static std::unique_ptr&lt;BaseData&gt; BaseData::createDataType(BaseData::DataType type) {\n  switch(type) {\n    case BaseData::DATATYPE_1:\n      return std::make_unique&lt;DataType1&gt;();\n    case BaseData::DATATYPE_2:\n      return std::make_unique&lt;DataType2&gt;();\n    default:\n      throw std::runtime_error(\"ERR\");\n  }\n}\n</code></pre>\n\n<p>Then, you should declare your managing <code>Data</code> object as follows:</p>\n\n<pre><code>struct Data {\n  Data()\n    : baseData(nullptr) {}\n  Data(std::unique_ptr&lt;BaseData&gt; data)\n    : baseData(std::move(data)) {}\n  Data(Data &amp;&amp; rhs)\n    : baseData(std::move(rhs.baseData)) {}\n\n  std::unique_ptr&lt;BaseData&gt; baseData;\n};\n</code></pre>\n\n<p>And now we could write clean, clear and safe code as this:</p>\n\n<pre><code>vector&lt;Data&gt; vData;\nvoid addData(Data&amp;&amp; d) {\n  if (dynamic_cast&lt;DataType1 *&gt;(d.baseData.get()) != nullptr)\n    cout &lt;&lt; \"Adding DataType 1\" &lt;&lt; endl;\n  else if (dynamic_cast&lt;DataType2 *&gt;(d.baseData.get()) != nullptr) \n    cout &lt;&lt; \"Adding DataType 2\" &lt;&lt; endl;\n\n  vData.push_back(std::move(d));\n}\n\nint main()\n{\n   { // Option 1: Create base data somewhere, create data from it\n      auto baseData = createDataType(BaseData::DATATYPE_1);\n      Data data { std::move(baseData) };\n      addData(std::move(data));\n   }\n\n   { // Option 2: Create data directly knowing the base data type\n      Data data { createDataType(BaseData::DATATYPE_2) };\n      addData(std::move(data));\n   }\n\n   { // Option 3: Create data and add it to the vector\n      addData({ createDataType(BaseData::DATATYPE_1) });\n   }\n}\n</code></pre>\n\n<p>And you could always check for the actual type of the baseData using the same dynamic casts as in <code>addData</code></p>\n"}], "owner": {"reputation": 1229, "user_id": 2045438, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/lsTYn.png?s=128&g=1", "display_name": "Daemon", "link": "https://stackoverflow.com/users/2045438/daemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 46575669, "answer_count": 2, "score": -1, "last_activity_date": 1507160365, "creation_date": 1507154337, "question_id": 46574833, "link": "https://stackoverflow.com/questions/46574833/correct-way-to-design-data-class-to-handle-polymorphic-data", "title": "Correct way to design data class to handle polymorphic data", "body": "<p>I need to design a struct data which will hold pointer to Base data type. User should be able to easily create object of this data struct and pass around without handling much of memory management issues.</p>\n\n<p>I have created few structures, please suggest the correct way to handle it.</p>\n\n<pre><code>struct BaseData {\n   enum DataType { DATATYPE_1, DATATYPE_2 };\n   virtual ~BaseData() { cout &lt;&lt; \"BaseData Dtor\" &lt;&lt; endl; }\n};\n\nstruct DataType1 : BaseData {\n   virtual ~DataType1() { cout &lt;&lt; \"DataType1 Dtor\" &lt;&lt; endl; }\n};\n\nstruct DataType2 : BaseData {\n   virtual ~DataType2() { cout &lt;&lt; \"DataType2 Dtor\" &lt;&lt; endl; }\n};\n\nstruct Data {\n   Data() { cout &lt;&lt; \"Data Ctor\" &lt;&lt; endl; }\n   Data(const Data&amp; o) {\n      if (o.baseData-&gt;type == BaseData::DATATYPE_1) { \n        baseData = new DataType1; \n        *(static_cast&lt;DataType1*&gt;(baseData)) = *(static_cast&lt;DataType1*&gt;(o.baseData)); \n      }\n      else if (o.baseData-&gt;type == BaseData::DATATYPE_2) { \n        baseData = new DataType2; \n        *(static_cast&lt;DataType2*&gt;(baseData)) = *(static_cast&lt;DataType2*&gt;(o.baseData)); \n      }\n   }\n   virtual ~Data() { \n      cout &lt;&lt; \"Data Dtor\" &lt;&lt; endl; \n      delete baseData;  //here it results in segmentation fault if object is created on stack. \n      baseData = NULL; \n   }\n\n   BaseData* baseData;\n};\n\nvector &lt;Data&gt; vData;\nvoid addData(const Data&amp; d) { cout &lt;&lt; \"addData\" &lt;&lt; endl; vData.push_back(d); }\n</code></pre>\n\n<p>The client code looks like below.</p>\n\n<pre><code>int main()\n{\n   {\n      DataType1 d1;\n      d1.type = BaseData::DATATYPE_1;\n      Data data;\n      data.baseData = &amp;d1;      \n      addData(data);\n   }\n\n   {\n      BaseData* d2 = new DataType2;\n      d2-&gt;type = BaseData::DATATYPE_2;\n      Data data;\n      data.baseData = d2;\n      addData(data);\n      delete d2;\n      d2 = NULL;\n   }\n\n   {\n      Data data;\n      data.baseData = new DataType1;\n      static_cast&lt;DataType1*&gt;(data.baseData)-&gt;type = BaseData::DATATYPE_1;\n      addData(data);\n      delete data.baseData;\n      data.baseData = NULL;\n   }\n}\n</code></pre>\n\n<p>Code in block 1 and block 2 crashes due to double deletion. How can i handle all these use cases properly.</p>\n\n<p>One way what I have thought of is, hide baseData pointer using private and provide a method to user <code>setBaseData(const BaseData&amp; o)</code> in <code>struct Data</code>. </p>\n\n<pre><code>void setBaseData(const BaseData&amp; o) { \n    cout &lt;&lt; \"setBaseData\" &lt;&lt; endl;\n    if (o.type == BaseData::DATATYPE_1) { \n        baseData = new DataType1; \n        *(static_cast&lt;DataType1*&gt;(baseData)) = static_cast&lt;const DataType1&amp;&gt;(o); \n    }\n    else if (o.type == BaseData::DATATYPE_2) { \n        baseData = new DataType2; \n        *(static_cast&lt;DataType2*&gt;(baseData)) = static_cast&lt;const DataType2&amp;&gt;(o); \n    }\n}\n</code></pre>\n\n<p>With setBaseData() I am able to avoid segmentation fault and user is free to create object of struct Data in which ever he likes.</p>\n\n<p>Is there any better way to design these classes?</p>\n"}, {"tags": ["c++", "string", "variables", "set", "constants"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1507153854, "post_id": 46574715, "comment_id": 80103019, "body": "Use a <code>std::vector</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 4, "creation_date": 1507153863, "post_id": 46574715, "comment_id": 80103023, "body": "It&#39;s not a compile-time constant, which is what is required to dimension an array. Also, if you have already read the string, why do you need another array?"}, {"owner": {"reputation": 1120, "user_id": 4623418, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZIVAuvNP8WE/AAAAAAAAAAI/AAAAAAAAAEw/zzuok1S9_ZM/photo.jpg?sz=128", "display_name": "Bas in het Veld", "link": "https://stackoverflow.com/users/4623418/bas-in-het-veld"}, "edited": false, "score": 0, "creation_date": 1507153901, "post_id": 46574715, "comment_id": 80103038, "body": "It needs to be a compile-time constant. Try using a std::string instead: <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/string/basic_string</a>"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1507160234, "post_id": 46574715, "comment_id": 80104813, "body": "What does it mean to &quot;set the length of the string&quot;?  Isn&#39;t the length changed by changing the string itself, in a manner you have not described?"}, {"owner": {"reputation": 3, "user_id": 8722944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhjbl.jpg?s=128&g=1", "display_name": "Chron", "link": "https://stackoverflow.com/users/8722944/chron"}, "edited": false, "score": 0, "creation_date": 1507164697, "post_id": 46574715, "comment_id": 80105870, "body": "The second string has a single letter of the string as each item, so I can easily delete the last one, move them all down a space, and add another."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507154101, "post_id": 46574753, "comment_id": 80103110, "body": "I&#39;d drop &quot;on the stack&quot; because you don&#39;t really need to say it and, though unlikely, there might not be a stack."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1507154199, "post_id": 46574753, "comment_id": 80103151, "body": "Also, they might be allocated statically."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1507161346, "post_id": 46574753, "comment_id": 80105077, "body": "Or, replace <code>char scanSet[]</code> with <code>std::string scanSet</code>, or just get rid of <code>scanSet</code> altogether and scan <code>inputScan</code> directly."}], "tags": [], "owner": {"reputation": 5994, "user_id": 5698738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tnZ9.jpg?s=128&g=1", "display_name": "Aganju", "link": "https://stackoverflow.com/users/5698738/aganju"}, "is_accepted": true, "score": 0, "last_activity_date": 1507161294, "last_edit_date": 1507161294, "creation_date": 1507153943, "answer_id": 46574753, "question_id": 46574715, "link": "https://stackoverflow.com/questions/46574715/use-a-variable-to-set-array-length/46574753#46574753", "title": "Use a variable to set array length", "body": "<p>Fixed-length array dimensions need to be specified <em>at compile time</em>, so the compiler can allocate space for them (on the stack, or wherever). Therefore, your approach cannot work.</p>\n\n<p>Use the C++ standards, like <code>std::vector</code>, and you will have no problems.</p>\n"}], "owner": {"reputation": 3, "user_id": 8722944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xhjbl.jpg?s=128&g=1", "display_name": "Chron", "link": "https://stackoverflow.com/users/8722944/chron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 46574753, "answer_count": 1, "score": -4, "last_activity_date": 1507161522, "creation_date": 1507153669, "last_edit_date": 1507161522, "question_id": 46574715, "link": "https://stackoverflow.com/questions/46574715/use-a-variable-to-set-array-length", "title": "Use a variable to set array length", "body": "<p>I am working on a scanning system to make edits to very long strings. For the scanning, I am using a string to contain the current letters being checked. I need to set the length of a <code>char[]</code> array to the length of the <code>string</code> variable, but my length variable is not considered a constant even though it is declared as <code>const</code>.</p>\n\n<pre><code>string inputScan;\ncout &lt;&lt; \"Enter string.\" &lt;&lt; endl;\ngetline(cin, inputScan);\nconst int stringLength = inputScan.length();\nchar scanSet[stringLength];\n</code></pre>\n\n<p>Any fixes?</p>\n"}, {"tags": ["c++", "templates", "c++14"], "comments": [{"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507155313, "post_id": 46574697, "comment_id": 80103522, "body": "Not just allowed, but needed. At this point, the compiler doesn&#39;t know if Out&lt;T&gt;::In is a typename/member/template. It would guess member, and guess you wanted In &lt; U first, then &gt;::, which is an error. Newer gccs, as above, provide useful diagnostics here; before, it was much worse."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 1, "creation_date": 1507156469, "post_id": 46574697, "comment_id": 80103915, "body": "@lorro I thought it was necessary for the reasons you gave. My confusion is confirmed"}], "answers": [{"comments": [{"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1507158924, "post_id": 46575224, "comment_id": 80104536, "body": "I&#39;m still confused about why it wouldn&#39;t treat <code>In</code> as a static data member of <code>Out</code> when <code>template</code> is omitted"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1507209962, "post_id": 46575224, "comment_id": 80126597, "body": "The rules about where a redundant <code>template</code> disambiguator is allowed changed in C++11. Specifically the part about &quot;the use does not appear in the scope of a template&quot;."}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": false, "score": 0, "last_activity_date": 1507156734, "creation_date": 1507156734, "answer_id": 46575224, "question_id": 46574697, "link": "https://stackoverflow.com/questions/46574697/defining-a-static-data-member-of-a-templated-class-within-a-templated-class/46575224#46575224", "title": "Defining a static data member of a templated class within a templated class", "body": "<p>This type of definition would more commonly be seen without the <code>template</code> before <code>In</code>.  The <code>template</code> keyword is not needed here because <code>Out&lt;T&gt;::In</code> is a \"member of the current specialization\".</p>\n\n<p>For the rule specifying when the <code>template</code> keyword is required before a member name, see [temp.names]/4.  For the definition of the technical term \"member of the current specialization\", see [temp.dep.type]/4.</p>\n\n<p>But the keyword is in fact allowed there, since the grammar permits it between any <code>::</code> and name, and the semantics require only that the name that follows is either used with template arguments or names a class template ([temp.names]/5), and there are no other rules in the Standard to forbid it.  And as a note in [temp.names]/5 explains:</p>\n\n<blockquote>\n  <p>[ <em>Note:</em> As is the case with the <code>typename</code> prefix, the <code>template</code> prefix is allowed in cases where it is not strictly necessary; i.e., when the <em>nested-name-specifier</em> or the expression on the left of the <code>-&gt;</code> or <code>.</code> is not dependent on a template parameter, or the use does not appear in the scope of a template. - <em>end note</em>]</p>\n</blockquote>\n"}], "owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1507156734, "creation_date": 1507153563, "last_edit_date": 1507156154, "question_id": 46574697, "link": "https://stackoverflow.com/questions/46574697/defining-a-static-data-member-of-a-templated-class-within-a-templated-class", "title": "Defining a static data member of a templated class within a templated class", "body": "<p>I have a class template inside of another class template. The inner class has a static data member. I am struggling to provide a definition for it. The below example works in clang 3.8 but not in gcc-7.1</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct Out {\n  template &lt;typename U&gt;\n  struct In {\n    static int var;\n  };\n};\n\ntemplate &lt;typename T&gt;\ntemplate &lt;typename U&gt;\nint Out&lt;T&gt;::template In&lt;U&gt;::var;\n</code></pre>\n\n<p>gcc gives the error:</p>\n\n<pre><code>error: template definition of non-template \u2018int Out&lt;T&gt;::In&lt;U&gt;::var\u2019\n int Out&lt;T&gt;::template In&lt;U&gt;::var;\n                             ^~~\n</code></pre>\n\n<p>What do I gotta do to make gcc happy?</p>\n\n<hr>\n\n<p>Edit: turns out getting rid of <code>template</code> make this work:</p>\n\n<pre><code>template &lt;typename T&gt;\ntemplate &lt;typename U&gt;\nint Out&lt;T&gt;::In&lt;U&gt;::var;\n</code></pre>\n\n<p>Which still leaves the question, is <code>template</code> allowed here?</p>\n"}, {"tags": ["c++", "arrays", "fifo"], "answers": [{"comments": [{"owner": {"reputation": 31747, "user_id": 499448, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957083d526c5fd7c54c5b89aece0b76a?s=128&d=identicon&r=PG", "display_name": "Boardy", "link": "https://stackoverflow.com/users/499448/boardy"}, "edited": false, "score": 0, "creation_date": 1507157868, "post_id": 46574813, "comment_id": 80104301, "body": "Duh so obvious now, was staring at it for ages not seeing that. I&#39;ve moved my reset of the counter to 0 within the while loop straight after its inserted the counter into the array. Thanks for your help"}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 1, "last_activity_date": 1507154250, "creation_date": 1507154250, "answer_id": 46574813, "question_id": 46574676, "link": "https://stackoverflow.com/questions/46574676/calculate-number-of-requests-added-to-queue-per-a-second-always-comes-back-as/46574813#46574813", "title": "Calculate number of requests added to queue per a second - always comes back as zero", "body": "<p>Your <code>processRequestsSecondArray()</code> function looks like it would do this once a second:</p>\n\n<ol>\n<li><p>Wake up from the <code>sleep_for()</code> call.</p></li>\n<li><p>Set <code>currentRequestsASecond</code> to zero.</p></li>\n<li><p>Return to the top of the <code>while</code> loop.</p></li>\n<li><p>Possibly compute and print out an average from the array.</p></li>\n<li><p>Store <code>currentRequestsASecond</code> in an element of <code>requestsASecondForAMinute</code>.</p></li>\n<li><p>Call <code>sleep_for()</code> again.</p></li>\n</ol>\n\n<p>See the problem yet?</p>\n\n<p>Any changes made to <code>currentRequestsASecond</code> during the <code>sleep_for()</code> time get wiped out and are never put in the array.  You would only get a value there if the increment was just lucky enough to happen to get a request and grab the mutex in the probably very short time <code>processRequestsSecondArray()</code> unlocks the mutex, checks the <code>getApplicationStatus()</code>, and immediately locks the mutex again.  It looks like you will need to rearrange some of that logic.</p>\n"}], "owner": {"reputation": 31747, "user_id": 499448, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/957083d526c5fd7c54c5b89aece0b76a?s=128&d=identicon&r=PG", "display_name": "Boardy", "link": "https://stackoverflow.com/users/499448/boardy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 46574813, "answer_count": 1, "score": 0, "last_activity_date": 1507154250, "creation_date": 1507153359, "question_id": 46574676, "link": "https://stackoverflow.com/questions/46574676/calculate-number-of-requests-added-to-queue-per-a-second-always-comes-back-as", "title": "Calculate number of requests added to queue per a second - always comes back as zero", "body": "<p>I am working on a project which receives requests through an API and adds them to a FIFO. I want to be able to log the number of requests received (added on the queue) and the number of requests processed (removed from the queue). At the moment I am trying to the request received a second average. </p>\n\n<p>I am doing this by having an array of longs containing 60 elements, each element will store the number of requests received in that second. </p>\n\n<p>I am doing this using the following:</p>\n\n<pre><code>if (fifo-&gt;enqueue(crashInfo))\n    {\n        this-&gt;requestProcessMutex.lock();\n        this-&gt;currentRequestsASecond++; //Used to get the total requests a second\n        this-&gt;requestProcessMutex.unlock();\n        cout &lt;&lt; \"Current Requests Incremented to \" &lt;&lt; this-&gt;currentRequestsASecond &lt;&lt; endl;\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n</code></pre>\n\n<p>From the above code the cout is showing that the counter is being incremented and then reset to 0 as expected each second. </p>\n\n<p>To add the requests a second to the array I do the following, I also log out every 10 seconds what the current average is. </p>\n\n<pre><code>void FIFOManager::processRequestsSecondArray()\n{\n    int counter = 0;\n    time_t lastLoggedTime = std::time(NULL);\n    while (this-&gt;bitsLibrary-&gt;getApplicationStatus() != StatusManager::ApplicationStatus::Stopping)\n    {\n\n        this-&gt;requestProcessMutex.lock();\n        time_t current_time = std::time(NULL);\n        long timeDiff = current_time - lastLoggedTime;\n        if (timeDiff &gt;= 10) //Only log every 10 seconds\n        {\n            stringstream logstream;\n            logstream &lt;&lt; this-&gt;getAverageRequestProcessTime(AverageRetrievalType::RequestsASec) &lt;&lt; \" requests received a second\";\n            this-&gt;bitsLibrary-&gt;writeToLog(logstream.str(), \"FIFOManager\", \"processRequestsSecondArray\");\n            lastLoggedTime = std::time(NULL);\n        }\n        requestsASecondForAMinute[counter] = this-&gt;currentRequestsASecond;\n\n        cout &lt;&lt; \"ADDING REQUEST COUNTER VALUE \" &lt;&lt; this-&gt;currentRequestsASecond &lt;&lt; \" AT \" &lt;&lt; counter &lt;&lt; endl;\n        if (counter &lt; 59)\n        {\n            counter++;\n        }\n        else\n        {\n            counter = 0; //Only storing a minutes worth (60 secondS) so reset and start to overwrite\n        }\n        this-&gt;requestProcessMutex.unlock();\n        this_thread::sleep_for(chrono::seconds(1));\n        this-&gt;requestProcessMutex.lock();\n        this-&gt;currentRequestsASecond = 0;\n        this-&gt;requestProcessMutex.unlock();\n    }\n}\n</code></pre>\n\n<p>The <code>processRequestsSecondArray</code> is in array which sleeps for 1 second, at each second should store the value of <code>currentRequestsASecond</code> into the array at the current second element, each minute it wraps and overwrites through the array. </p>\n\n<p>The output of <code>ADDING REQUEST COUNTER VALUE</code> is always stating that it is adding <code>0</code> but <code>currentRequestsASecond</code> doesn't get reset to 0 until after the sleep has occurred so what am I doing wrong?</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1507153368, "post_id": 46574628, "comment_id": 80102816, "body": "It is so you can fill the array full or memory leaks."}, {"owner": {"reputation": 73, "user_id": 5351394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTeSk.jpg?s=128&g=1", "display_name": "Narayan Dheeraj Kumar", "link": "https://stackoverflow.com/users/5351394/narayan-dheeraj-kumar"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1507153544, "post_id": 46574628, "comment_id": 80102889, "body": "@juanchopanza - can you please elaborate. Thank you!"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507160488, "post_id": 46574628, "comment_id": 80104869, "body": "The identified is using Variable Length Arrays (VLA) which are not supported for <i>standard</i> C++, but some compilers add as an extension.  Convert to <code>std::vector</code> or use dynamic memory allocation."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5351394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTeSk.jpg?s=128&g=1", "display_name": "Narayan Dheeraj Kumar", "link": "https://stackoverflow.com/users/5351394/narayan-dheeraj-kumar"}, "edited": false, "score": 2, "creation_date": 1507153445, "post_id": 46574663, "comment_id": 80102854, "body": "Hi! This totally blew my mind - I didn&#39;t know that new Professor returned a pointer to a Professor object! Thank you so much!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 73, "user_id": 5351394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTeSk.jpg?s=128&g=1", "display_name": "Narayan Dheeraj Kumar", "link": "https://stackoverflow.com/users/5351394/narayan-dheeraj-kumar"}, "edited": false, "score": 0, "creation_date": 1507153720, "post_id": 46574663, "comment_id": 80102958, "body": "@NarayanDheerajKumar   I strongly recommend getting <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">a better text book</a> if your current reading materials left you surprised by this."}, {"owner": {"reputation": 73, "user_id": 5351394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTeSk.jpg?s=128&g=1", "display_name": "Narayan Dheeraj Kumar", "link": "https://stackoverflow.com/users/5351394/narayan-dheeraj-kumar"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507153768, "post_id": 46574663, "comment_id": 80102972, "body": "@user4581301 I&#39;ll do that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user146043"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507154305, "post_id": 46574663, "comment_id": 80103192, "body": "@user4581301 Pick one which doesn&#39;t provoke your into considering using arrays as your go-to container, and avoid memory allocation (new/free) unless you&#39;re interested in spending time honing your skills tracking down memory leaks and random crashes."}], "tags": [], "owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "is_accepted": false, "score": 1, "last_activity_date": 1507153292, "creation_date": 1507153292, "answer_id": 46574663, "question_id": 46574628, "link": "https://stackoverflow.com/questions/46574628/what-is-the-necessity-of-pointer-in-this-piece-of-c-code/46574663#46574663", "title": "What is the necessity of pointer in this piece of C++ code?", "body": "<p>You're creating an array of <em>pointers</em> to Person objects. That's how assignments like <code>per[i] = new Professor;</code> can work - <code>new Professor</code> returns a pointer to a Professor object, so you need an array of pointers to store that.</p>\n"}, {"comments": [{"owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1507154018, "post_id": 46574691, "comment_id": 80103080, "body": "While this is true, I don\u2019t think this addresses the key question of why you\u2019d store pointers to the objects rather than the objects themselves."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 1, "creation_date": 1507154272, "post_id": 46574691, "comment_id": 80103176, "body": "@templatetypedef I think my fellow user does. Paragraph starting with &quot;The purpose of storing a pointer is to support virtual polymorphism...&quot;"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507157606, "post_id": 46574691, "comment_id": 80104235, "body": "@user4581301 Done."}], "tags": [], "owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "is_accepted": false, "score": 3, "last_activity_date": 1507157589, "last_edit_date": 1507157589, "creation_date": 1507153516, "answer_id": 46574691, "question_id": 46574628, "link": "https://stackoverflow.com/questions/46574628/what-is-the-necessity-of-pointer-in-this-piece-of-c-code/46574691#46574691", "title": "What is the necessity of pointer in this piece of C++ code?", "body": "<blockquote>\n  <p>I don't understand why an array of Person objects is being created in the main function with a <strong><code>*per[n]</code></strong> as shown below</p>\n</blockquote>\n\n<p>The purpose of storing a pointer is to support virtual polymorphism (abstract classes like <code>Person</code> cannot be instantiated). A smart pointer serves that as well, but takes care about the correct <a href=\"http://en.cppreference.com/w/cpp/memory\" rel=\"nofollow noreferrer\">dynamic memory management</a>.</p>\n\n<p>There's no need to use raw pointers or raw arrays in c++ at all. That code doesn't give a good example of <em>\"best practices\"</em>.</p>\n\n<p>At the <code>main()</code> function</p>\n\n<pre><code>Person *per[n]; // Note that VLA's aren't standard c++ syntax\n</code></pre>\n\n<p>should be replaced with </p>\n\n<pre><code>std::vector&lt;std::unique_ptr&lt;Person&gt;&gt; per(n);\n</code></pre>\n\n<p>and the loop accordingly</p>\n\n<pre><code>for(int i = 0;i &lt; n;i++){\n\n    cin&gt;&gt;val;\n    if(val == 1){\n        // If val is 1 current object is of type Professor\n        per[i] = std::make_unique&lt;Professor&gt;();\n              // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    }\n    // Else the current object is of type Student\n    else per[i] = std::make_unique&lt;Student&gt;(); \n               // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n    per[i]-&gt;getdata(); // Get the data from the user.\n\n}\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>int marks[6];\n</code></pre>\n\n<p>should be replaced with</p>\n\n<pre><code>std::array&lt;int,6&gt; marks;\n</code></pre>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> is way more convenient and less error prone when passed as function parameter, etc.</p>\n"}], "owner": {"reputation": 73, "user_id": 5351394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTeSk.jpg?s=128&g=1", "display_name": "Narayan Dheeraj Kumar", "link": "https://stackoverflow.com/users/5351394/narayan-dheeraj-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1507157589, "creation_date": 1507153139, "question_id": 46574628, "link": "https://stackoverflow.com/questions/46574628/what-is-the-necessity-of-pointer-in-this-piece-of-c-code", "title": "What is the necessity of pointer in this piece of C++ code?", "body": "<p><strong>Note</strong> - I <em>have</em> searched a lot on pointers and references for C++. \nI don't seem to understand them in <strong>THIS</strong> particular scenario. Hence posting it here!</p>\n\n<p>The following is <strong>CORRECT</strong> code. It is working. I wrote this for an online C++ practice problem. A part of the code was given to me initially. </p>\n\n<p>I don't understand why an array of Person objects is being created in the main function with a <strong>*per[n]</strong> as shown below:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nclass Person {\n        string name;\n        int age;\n    public:\n        Person(){\n            name = \"\";\n        }\n        virtual void putdata() = 0;\n        virtual void getdata() = 0;\n};\n\n\nclass Professor: public Person {\n        int publications, cur_id;\n        string name;\n        int age;\n    public:\n        static int professorCount;\n\n        Professor(){\n            name = \"\";\n            age = 0;\n            publications = 0;\n            cur_id = professorCount + 1;\n\n            professorCount++;\n        }\n        void getdata(){\n            cin &gt;&gt; name &gt;&gt; age &gt;&gt; publications;\n        }\n        void putdata(){\n            cout &lt;&lt; name &lt;&lt; \" \" &lt;&lt; age &lt;&lt; \" \" &lt;&lt; publications &lt;&lt; \" \" &lt;&lt; cur_id &lt;&lt; endl;\n        }\n};\n\nclass Student: public Person {\n        int marks[6];\n        int cur_id;\n        string name;\n        int age;\n    public:\n        static int studentCount;\n\n        Student(){\n            name = \"\";\n            age = 0;\n            cur_id = studentCount + 1;\n\n            studentCount++;\n        }\n        void getdata(){\n            cin &gt;&gt; name &gt;&gt; age &gt;&gt; marks[0] &gt;&gt; marks[1] &gt;&gt; marks[2] &gt;&gt; marks[3] &gt;&gt; marks[4] &gt;&gt; marks[5];\n        }\n        void putdata(){\n            cout &lt;&lt; name &lt;&lt; \" \" &lt;&lt; age &lt;&lt; \" \" &lt;&lt; marks[0] + marks[1] + marks[2] + marks[3] + marks[4] + marks[5] &lt;&lt; \" \" &lt;&lt; cur_id &lt;&lt; endl;\n        }\n};\n\nint Professor::professorCount = 0;\nint Student::studentCount = 0;\n</code></pre>\n\n<p>In this main function below, an array of Person objects is being created, but it is given a * in the beginning. How is it working?</p>\n\n<pre><code>int main(){\n\n    int n, val;\n    cin&gt;&gt;n; //The number of objects that is going to be created.\n    Person *per[n]; // THIS ONE RIGHT HERE! THIS ONE!\n\n    for(int i = 0;i &lt; n;i++){\n\n        cin&gt;&gt;val;\n        if(val == 1){\n            // If val is 1 current object is of type Professor\n            per[i] = new Professor;\n\n        }\n        else per[i] = new Student; // Else the current object is of type Student\n\n        per[i]-&gt;getdata(); // Get the data from the user.\n\n    }\n\n    for(int i=0;i&lt;n;i++)\n        per[i]-&gt;putdata(); // Print the required output for each object.\n\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "parsing", "stdstring"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1507151758, "post_id": 46574246, "comment_id": 80102170, "body": "I would recommend storing the index where the last split occurred and, at the end of your loop, if that value isn&#39;t the end of the string, push everything after the last split to your result.  What you have now is somewhat dubious because it will consider anything that&#39;s the same char as the last char to match (aside from the out of bounds issue)."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 1, "creation_date": 1507152243, "post_id": 46574246, "comment_id": 80102385, "body": "Have you tried adding a caboose?  i.e. Append a delimiter to your string."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1507152306, "post_id": 46574246, "comment_id": 80102411, "body": "So you want to use two delimiters <code>-</code> and <code>&amp;</code>?"}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "reply_to_user": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1507152491, "post_id": 46574246, "comment_id": 80102481, "body": "@DOUGLASO.MOEN is absolutely right. Add something like <code>input.push_back(delims.at(0));</code> before your loop and everything should work perfectly (see it <a href=\"https://ideone.com/AcCZ9u\" rel=\"nofollow noreferrer\">here</a>). Conversely, you could also take the substring again after the loop using the last value of begin (but you&#39;d have to be careful to check that you aren&#39;t already at the end of the string)."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7842154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770470268aaf052354e55bd1ce6fe544?s=128&d=identicon&r=PG&f=1", "display_name": "CLange", "link": "https://stackoverflow.com/users/7842154/clange"}, "edited": false, "score": 0, "creation_date": 1507179957, "post_id": 46574496, "comment_id": 80109335, "body": "Works like a charm! Thanks for the help."}], "tags": [], "owner": {"reputation": 355, "user_id": 8610265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zi6j5whtsbg/AAAAAAAAAAI/AAAAAAAAArs/tDou56l1qPE/photo.jpg?sz=128", "display_name": "Reginol_Blindhop", "link": "https://stackoverflow.com/users/8610265/reginol-blindhop"}, "is_accepted": false, "score": 1, "last_activity_date": 1507153791, "last_edit_date": 1507153791, "creation_date": 1507152515, "answer_id": 46574496, "question_id": 46574246, "link": "https://stackoverflow.com/questions/46574246/c-string-parser-issues/46574496#46574496", "title": "C++ string parser issues", "body": "<p>In your code you have to remember that .size() is going to be 1 more than your last index because it starts at 0. so an array of size 1 is indexed at [0]. so if you do input.at(input.length()) will always overflow by 1 place. input.at(input.length()-1) is the last element.   here is an example that is working for me. After your loops just grab the last piece of the string.</p>\n\n<pre><code>if(begin != input.length()){\n    string subString = input.substr(begin,(input.length()-begin));\n    result.push_back(subString);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 1, "creation_date": 1507153629, "post_id": 46574692, "comment_id": 80102919, "body": "Why have you decided to use <a href=\"https://xkcd.com/292/\" rel=\"nofollow noreferrer\">goto</a> instead of a simple <code>break</code>?"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1507153710, "post_id": 46574692, "comment_id": 80102957, "body": "@scohe001 The <code>break</code> will only step out of the inner <code>for</code> loop and the outer loop actually goes into the <code>end()</code> which means that <code>ii++</code> will not be allowed."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1507153800, "post_id": 46574692, "comment_id": 80102987, "body": "Ahh my bad, I saw goto and got tunnel vision. Wouldn&#39;t a flag be <a href=\"https://stackoverflow.com/questions/46586/goto-still-considered-harmful\">better C++ practice</a> though?"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 1, "creation_date": 1507153915, "post_id": 46574692, "comment_id": 80103044, "body": "@scohe001 This will probably not survive a code review, but the fruit of the <code>goto</code> tree is so sweet..."}], "tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1507153637, "last_edit_date": 1507153637, "creation_date": 1507153519, "answer_id": 46574692, "question_id": 46574246, "link": "https://stackoverflow.com/questions/46574246/c-string-parser-issues/46574692#46574692", "title": "C++ string parser issues", "body": "<p>Working from the code in the question I've substituted iterators so that we can check for the <code>end()</code> of the input:</p>\n\n<pre><code>int main() {\n    string input = \"comma-delim-delim&amp;delim-delim\";\n    vector&lt;string&gt; result;\n    vector&lt;char&gt; delims;\n    delims.push_back('-');\n    delims.push_back('&amp;');\n    auto begin = input.begin(); // use iterator\n\n    for(auto ii = input.begin(); ii &lt;= input.end(); ii++){\n        for(auto j : delims) {\n            if(ii == input.end() || *ii == j){\n                string subString(begin,ii); // can construct string from iterators, of if ii is at end\n                result.push_back(subString);\n                if(ii != input.end())\n                    begin = ii + 1;\n                else\n                    goto done;\n            }\n        }\n    }\ndone:\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1507154825, "creation_date": 1507154825, "answer_id": 46574918, "question_id": 46574246, "link": "https://stackoverflow.com/questions/46574246/c-string-parser-issues/46574918#46574918", "title": "C++ string parser issues", "body": "<p>This program uses <code>std::find_first_of</code> to parse the multiple delimiters:</p>\n\n<pre><code>int main() {\n    string input = \"comma-delim-delim&amp;delim-delim\";\n    vector&lt;string&gt; result;\n    vector&lt;char&gt; delims;\n    delims.push_back('-');\n    delims.push_back('&amp;');\n    auto begin = input.begin(); // use iterator\n\n    for(;;) {\n        auto next = find_first_of(begin, input.end(), delims.begin(), delims.end());\n        string subString(begin, next); // can construct string from iterators\n        result.push_back(subString);\n        if(next == input.end())\n            break;\n        begin = next + 1;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7842154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770470268aaf052354e55bd1ce6fe544?s=128&d=identicon&r=PG&f=1", "display_name": "CLange", "link": "https://stackoverflow.com/users/7842154/clange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1507154825, "creation_date": 1507151455, "question_id": 46574246, "link": "https://stackoverflow.com/questions/46574246/c-string-parser-issues", "title": "C++ string parser issues", "body": "<p>Ok, so I'm working on a homework project in C++ and am running into an issue, and can't seem to find a way around it. The function is supposed to break an input string at user-defined delimiters and store the substrings in a vector to be accessed later. I think I got the basic parser figured out, but it doesn't want to split the last part of the input. </p>\n\n<pre><code>int main() {\n    string input =  \"comma-delim-delim&amp;delim-delim\";\n    vector&lt;string&gt; result;\n    vector&lt;char&gt; delims;\n    delims.push_back('-');\n    delims.push_back('&amp;');\n    int begin = 0;\n\n    for (int i = begin; i &lt; input.length(); i++ ){\n       for(int j = 0; j &lt; delims.size(); j++){\n          if(input.at(i) == delims.at(j)){\n           //Compares chars in delim vector to current char in string, and \n           //creates a substring from the beginning to the current position \n           //minus 1, to account for the current char being a delimiter.\n              string subString = input.substr(begin, (i - begin));\n              result.push_back(subString);\n              begin = i + 1;\n           }\n</code></pre>\n\n<p>The above code works fine for splitting the input code up until the last dash. Anything after that, because it doesn't run into another delimiter, it won't save as a substring and push into the result vector. So in an attempt to rectify the matter, I put together the following:</p>\n\n<pre><code>else if(input.at(i) == input.at(input.length())){\n   string subString = input.substr(begin, (input.length() - begin));\n   result.push_back(subString);\n}\n</code></pre>\n\n<p>However, I keep getting out of bounds errors with the above portion. It seems to be having an issue with the boundaries for splitting the substring, and I can't figure out how to get around it. Any help?</p>\n"}, {"tags": ["c++", "c++11", "enums", "constexpr", "enum-class"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507153161, "post_id": 46574240, "comment_id": 80102735, "body": "<a href=\"http://coliru.stacked-crooked.com/a/d3c5c6929fe0357e\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/d3c5c6929fe0357e</a> :( I really thought that would work"}, {"owner": {"reputation": 719, "user_id": 3494271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e063368c558cc90042fe7a052b2f7070?s=128&d=identicon&r=PG", "display_name": "Silverspur", "link": "https://stackoverflow.com/users/3494271/silverspur"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507153797, "post_id": 46574240, "comment_id": 80102985, "body": "Same issue as with my <code>merge</code> method :)"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1507153954, "post_id": 46574240, "comment_id": 80103058, "body": "Seems a little ridiculous. All the needed classes <i>are</i> fully declared :("}], "answers": [{"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 1, "last_activity_date": 1507152409, "creation_date": 1507152409, "answer_id": 46574467, "question_id": 46574240, "link": "https://stackoverflow.com/questions/46574240/define-enum-element-value-using-an-operation-on-another-enum-values/46574467#46574467", "title": "Define enum element value using an operation on another enum values", "body": "<p>What about casting the values of <code>Elem</code> enum?</p>\n\n<pre><code>        first = int(Elem::A) | int(Elem::B),\n        second = int(Elem::A) | int(Elem::C),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "is_accepted": false, "score": 1, "last_activity_date": 1507152578, "creation_date": 1507152578, "answer_id": 46574513, "question_id": 46574240, "link": "https://stackoverflow.com/questions/46574240/define-enum-element-value-using-an-operation-on-another-enum-values/46574513#46574513", "title": "Define enum element value using an operation on another enum values", "body": "<p>You need a static cast to the integral type corresponding to enumerator so there will be built-in <code>operator |</code>:</p>\n\n<pre><code>class MyClass\n{\n    public: enum class Elem: unsigned int\n    {\n        A=1, B=2, C=4, D=8\n    };\n    public: enum class Group: unsigned int\n    {\n        first  = static_cast&lt;unsigned int&gt;(Elem::A) | static_cast&lt;unsigned int&gt;(Elem::B)\n    ,   second = static_cast&lt;unsigned int&gt;(Elem::A) | static_cast&lt;unsigned int&gt;(Elem::C)\n    };\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 719, "user_id": 3494271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e063368c558cc90042fe7a052b2f7070?s=128&d=identicon&r=PG", "display_name": "Silverspur", "link": "https://stackoverflow.com/users/3494271/silverspur"}, "edited": false, "score": 0, "creation_date": 1507156129, "post_id": 46574553, "comment_id": 80103810, "body": "How is this &quot;going against the concept of type-safe enum&quot;?"}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "reply_to_user": {"reputation": 719, "user_id": 3494271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e063368c558cc90042fe7a052b2f7070?s=128&d=identicon&r=PG", "display_name": "Silverspur", "link": "https://stackoverflow.com/users/3494271/silverspur"}, "edited": false, "score": 1, "creation_date": 1507156914, "post_id": 46574553, "comment_id": 80104047, "body": "Well, you are giving up a bit of type safety by casting here. My old guts&#39;  feelings tell me that it might be not the last place where you&#39;d want to cast. Wild guess, but next day, or somewhere along the way, you will want to check if one of the OR`ed flags is set, right? Here comes AND. Then you want to pass it to C API and will implement a conversion. This way little by little you will give it up anyway and will end up with a messy &quot;C+&quot; hackery. But you know your project and your feeling of discipline better, so in the end it&#39;s up to you to decide."}], "tags": [], "owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "is_accepted": false, "score": 2, "last_activity_date": 1507153139, "last_edit_date": 1507153139, "creation_date": 1507152771, "answer_id": 46574553, "question_id": 46574240, "link": "https://stackoverflow.com/questions/46574240/define-enum-element-value-using-an-operation-on-another-enum-values/46574553#46574553", "title": "Define enum element value using an operation on another enum values", "body": "<p>You may play with the order of definition:</p>\n\n<pre><code>class MyClass {\n   public:\n    enum class Elem { A = 1, B = 2, C = 4, D = 8 };\n    enum class Group;\n};\n\nconstexpr MyClass::Elem operator|(\n    const MyClass::Elem&amp; l, const MyClass::Elem&amp; r) {\n    return static_cast&lt;MyClass::Elem&gt;(\n              static_cast&lt;int&gt;(l) | static_cast&lt;int&gt;(r)\n    );\n}\n\nenum class MyClass::Group {\n    first = Elem::A | Elem::B,\n    second = Elem::A | Elem::C,\n\n};\n</code></pre>\n\n<p><a href=\"http://cpp.sh/7vyar\" rel=\"nofollow noreferrer\">Live demo</a></p>\n\n<p>But the entire idea sorta goes against the concept of type-safe enum. Maybe you could just use the good old unsafe ones?</p>\n"}], "owner": {"reputation": 719, "user_id": 3494271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e063368c558cc90042fe7a052b2f7070?s=128&d=identicon&r=PG", "display_name": "Silverspur", "link": "https://stackoverflow.com/users/3494271/silverspur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1507153139, "creation_date": 1507151432, "last_edit_date": 1507152505, "question_id": 46574240, "link": "https://stackoverflow.com/questions/46574240/define-enum-element-value-using-an-operation-on-another-enum-values", "title": "Define enum element value using an operation on another enum values", "body": "<p>Here is what I need to do: define, inside a class, two enumerations, the second having elements defined using elements values from the first.</p>\n\n<p>So something like this:</p>\n\n<pre><code>class MyClass\n{\n    public:\n        enum class Elem {\n            A=1, B=2, C=4, D=8\n        };\n        enum class Group {\n            first = Elem::A | Elem::B,\n            second = Elem::A | Elem::C,\n            //...\n        }; &lt;-- compilation error\n};\n</code></pre>\n\n<p>However, <strong><em>this does not compile</em></strong> due to the fact that <code>|</code> is not defined by default for <code>enum class</code>es.</p>\n\n<p>I tried to define the <code>|</code> operator for <code>Elem</code> enum, outside of the <code>MyClass</code> class (after the class body), but the operator is then not known at the time the <code>Group</code> enum is defined.</p>\n\n<p>So I then tried the following, i.e. defining a <code>constexpr</code> function <strong><em>inside</em></strong> the class:</p>\n\n<pre><code>class MyClass\n{\n    public:\n        enum class Elem {\n            A=1, B=2, C=4, D=8\n        };\n\n        constexpr static unsigned int merge(\n            std::initializer_list&lt;MyClass::Elem&gt; list)\n        {\n            //Test only: should be an '|' on all list elements\n            return 1;\n        }\n\n        enum class Group {\n            first = merge({Elem::A,Elem::B}),\n            second = merge({Elem::A,Elem::C}),\n            /*...*/\n        };\n};\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<blockquote>\n  <p>error: static constexpr unsigned int\n  merge(std::initializer_list list) called in a constant\n  expression</p>\n</blockquote>\n\n<p>I understood from <a href=\"https://stackoverflow.com/questions/8108314/error-using-a-constexpr-as-a-template-parameter-within-the-same-class\">here</a> and <a href=\"https://stackoverflow.com/questions/29551223/static-constexpr-function-called-in-a-constant-expression-is-an-error\">there</a> that the <code>merge</code> method is considered declared and usable <strong><em>only after the class has been fully declared</em></strong>.</p>\n\n<p>The last solution I can think of is using macros like this:</p>\n\n<pre><code>#define MERGE2ELEMS( a, b ) static_cast&lt;unsigned int&gt;(a) | static_cast&lt;unsigned int&gt;(b)\n#define MERGE3ELEMS( a, b, c ) static_cast&lt;unsigned int&gt;(a) | MERGE2ELEMS( b, c )\n#define MERGE4ELEMS( a, b, c, d ) static_cast&lt;unsigned int&gt;(a) | MERGE3ELEMS( b, c, d )\n#define MERGE5ELEMS( a, b, c, d, e ) static_cast&lt;unsigned int&gt;(a) | MERGE4ELEMS( b, c, d, e )\n...\n</code></pre>\n\n<p>But I need to be able to merge up to 20 <code>Elem</code>s and writing 20 macros like this does not seem to be a suitable solution.</p>\n\n<p>What would be the way to go here?</p>\n"}, {"tags": ["c#", "c++", "coreclr"], "answers": [{"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1510596901, "post_id": 47269948, "comment_id": 81492618, "body": "BSTR for a string, SAFEARRAY* for a string[]."}, {"owner": {"reputation": 983, "user_id": 554499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkfuQ.png?s=128&g=1", "display_name": "Albertino80", "link": "https://stackoverflow.com/users/554499/albertino80"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1511541044, "post_id": 47269948, "comment_id": 81908881, "body": "This sample uses char*, why @HansPassant says BSTR? Is there some docs about it or I must reverse engineering the samples in order to understand?"}], "tags": [], "owner": {"reputation": 2545, "user_id": 2032151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UuEl8.jpg?s=128&g=1", "display_name": "rawel", "link": "https://stackoverflow.com/users/2032151/rawel"}, "is_accepted": false, "score": 1, "last_activity_date": 1510593407, "creation_date": 1510593407, "answer_id": 47269948, "question_id": 46574229, "link": "https://stackoverflow.com/questions/46574229/documentation-about-writing-a-coreclr-host-in-c/47269948#47269948", "title": "Documentation about writing a CoreCLR host in c++", "body": "<p>I think the documentation contains the code you need.</p>\n\n<pre><code>void *pfnDelegate = NULL;\nhr = runtimeHost-&gt;CreateDelegate(\n  domainId,\n  L\"HW, Version=1.0.0.0, Culture=neutral\",  // Target managed assembly\n  L\"ConsoleApplication.Program\",            // Target managed type\n  L\"Main\",                                  // Target entry point (static method)\n  (INT_PTR*)&amp;pfnDelegate);\n\n((MainMethodFp*)pfnDelegate)(NULL);\n</code></pre>\n\n<p>I created a class in a dotnet core dll and able to call it from cpp as follows.</p>\n\n<pre><code>void *pfnDelegate = NULL;\nhr = runtimeHost-&gt;CreateDelegate(\n    domainId,\n    L\"SampleAppCore\",  // Target managed assembly\n    L\"SampleAppCore.Start\", // Target managed type\n    L\"Run\",                 // Target entry point (static method)\n    (INT_PTR*)&amp;pfnDelegate);\nif (FAILED(hr))\n{\n    printf(\"ERROR - Failed to execute %s.\\nError code:%x\\n\", targetApp, hr);\n    return -1;\n}\n\n\nchar* hello = \"hello \";\n\n((MainMethodFp*)pfnDelegate)(hello);\n</code></pre>\n\n<p><em>Format of the delegate</em></p>\n\n<pre><code>typedef void (STDMETHODCALLTYPE MainMethodFp)(char* args);\n</code></pre>\n\n<p><em>Core Class</em></p>\n\n<pre><code>using System;\nnamespace SampleAppCore\n{\n\n    public static class Start{\n\n        public static void Run(string input){\n\n            Console.WriteLine(input);\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 983, "user_id": 554499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkfuQ.png?s=128&g=1", "display_name": "Albertino80", "link": "https://stackoverflow.com/users/554499/albertino80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510593407, "creation_date": 1507151389, "question_id": 46574229, "link": "https://stackoverflow.com/questions/46574229/documentation-about-writing-a-coreclr-host-in-c", "title": "Documentation about writing a CoreCLR host in c++", "body": "<p>I'm writing a CoreCLR host in c++.</p>\n\n<p>I'have succesfully called a c# function from a c++:\n<a href=\"https://docs.microsoft.com/en-us/dotnet/core/tutorials/netcore-hosting\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/core/tutorials/netcore-hosting</a></p>\n\n<p>Reading that documentation:</p>\n\n<blockquote>\n  <p>Another option, if ExecuteAssembly doesn't meet your host's needs, is\n  to use CreateDelegate to create a function pointer to a static managed\n  method. This requires the host to know the signature of the method it\n  is calling into (in order to create the function pointer type) but\n  allows hosts the flexibility to invoke code other than an assembly's\n  entry point.</p>\n</blockquote>\n\n<p>given a c# function how can I \"create the c++ function pointer type\"</p>\n\n<p>for example, for a function like this:</p>\n\n<pre><code>public static int withParams(int aNumber, string[] args)\n</code></pre>\n\n<p>are there some marshaling/unmarshaling rules, how do I behave with objects or arrays as parameters?</p>\n\n<p>Is there a decent ufficial documentation for embedding coreclr in c++ code? </p>\n\n<p>I look for something like this (but for coreclr):\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html</a></p>\n"}, {"tags": ["c++", "for-loop"], "comments": [{"owner": {"reputation": 3524, "user_id": 4950448, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/907276442666522/picture?type=large", "display_name": "Antoine Morrier", "link": "https://stackoverflow.com/users/4950448/antoine-morrier"}, "edited": false, "score": 4, "creation_date": 1507151408, "post_id": 46574205, "comment_id": 80102015, "body": "because i == num means while i == num and what you meant is i &lt; num"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1507151433, "post_id": 46574205, "comment_id": 80102028, "body": "The condition in the middle of the for-loop is not the end-condition, but the condition for running the next round in the loop. If it is false, the loop stops."}], "answers": [{"tags": [], "owner": {"reputation": 830, "user_id": 8678309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391e8c24d30dbbf9d4489d3ba39b0822?s=128&d=identicon&r=PG", "display_name": "boriaz50", "link": "https://stackoverflow.com/users/8678309/boriaz50"}, "is_accepted": true, "score": 4, "last_activity_date": 1507152130, "last_edit_date": 1507152130, "creation_date": 1507151451, "answer_id": 46574245, "question_id": 46574205, "link": "https://stackoverflow.com/questions/46574205/why-is-this-simple-loop-not-working/46574245#46574245", "title": "Why is this simple loop not working?", "body": "<p>The problem is because of condition in for loop:</p>\n\n<pre><code>for (int i = 1; i == num; i++) {\n</code></pre>\n\n<p>Do</p>\n\n<pre><code>for (int i = 1; i &lt;= num; i++) {\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4753760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46df872fee6480e23d9ad6d7e0c56244?s=128&d=identicon&r=PG&f=1", "display_name": "Blue Fiend", "link": "https://stackoverflow.com/users/4753760/blue-fiend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1507152127, "accepted_answer_id": 46574245, "answer_count": 1, "score": 1, "last_activity_date": 1507152130, "creation_date": 1507151312, "last_edit_date": 1507152101, "question_id": 46574205, "link": "https://stackoverflow.com/questions/46574205/why-is-this-simple-loop-not-working", "closed_reason": "Not suitable for this site", "title": "Why is this simple loop not working?", "body": "<p>This is my code to find the multiples of a number. But it doesn't output the multiples.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{ \n    cout &lt;&lt; \"Enter the number:\" &lt;&lt; endl;\n    int num;\n    cin &gt;&gt; num;\n    for (int i = 1; i == num; i++) {\n        if ((num % i) == 0) {\n            int res = num / i;\n            cout &lt;&lt; num &lt;&lt; \" divided by \" &lt;&lt; i &lt;&lt; \"=\" &lt;&lt; res &lt;&lt; endl;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "dynamic"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1507151312, "post_id": 46574167, "comment_id": 80101961, "body": "So what is the problem, that copy constructor weren&#39;t called or something else?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507151355, "post_id": 46574167, "comment_id": 80101987, "body": "unrelated: <code>Transaction **pTemp = new Transaction*[++numberOfTransactions];</code> forces a resize on every addition. Consider increasing the size by more than one to reduce the number of resizes."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507151455, "post_id": 46574167, "comment_id": 80102035, "body": "Unrelated: Lot of chaff in the code. Eg: <code>Transaction *tempTrans = pTransactions[i]; pTemp[i] = tempTrans;</code> could be <code>pTemp[i] = pTransactions[i];</code> Most egregious is <code>pTransactions = new Transaction*[numberOfTransactions];       for (int i = 0; i &lt; numberOfTransactions; i++) {         pTransactions[i] = pTemp[i];     }</code> Should probably just be <code>pTransactions = pTemp;</code> or something very similar."}, {"owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "edited": false, "score": 0, "creation_date": 1507151724, "post_id": 46574167, "comment_id": 80102153, "body": "I&#39;m assuming the copy constructor isn&#39;t being called, i&#39;m not sure why though.  pTemp[i] is just copying the address rather than the content."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507151887, "post_id": 46574167, "comment_id": 80102227, "body": "<code>pTemp</code> is <code>Transaction **</code>. <code>pTemp[i]</code> is <code>Transaction *</code>. If you want to copy the contents you would need to dereference all of the pointers: <code>*pTemp[i]</code>."}, {"owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "edited": false, "score": 0, "creation_date": 1507152003, "post_id": 46574167, "comment_id": 80102282, "body": "Most of the chaff is me trying to figure this out ... I&#39;ll clean it up once the problem is solved ..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507152243, "post_id": 46574167, "comment_id": 80102387, "body": "Don&#39;t add code while trying to debug. It only gives bugs more room to hide. Instead remove stuff. Make a back-up of your program, then start stripping it down until only the bug remains. Not only does it make it very easy to spot the bug, it makes it easier to run experiments to determine why it&#39;s a bug and figure out how best to fix it.  Handy reading: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1507152466, "post_id": 46574167, "comment_id": 80102473, "body": "&quot;I&#39;m assuming the copy constructor isn&#39;t being called&quot; - no need to assume, simply add some sort of unique cout into the copy ctor, and know.  (You can remove it later.)  Or, how about a break-point?  Maybe today is the day to discover how simple your debugger is."}, {"owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "edited": false, "score": 0, "creation_date": 1507154442, "post_id": 46574167, "comment_id": 80103235, "body": "I appreciate the help and suggestions.  Just to be clear, I know where the error is located, (Mr. Moen, I used break-points to pinpoint where my program had gone wrong).  I created this thread to (a) find out why it isn&#39;t working (maybe it is obvious, maybe it isn&#39;t) (b) what is my best option to get past this point."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "edited": false, "score": 0, "creation_date": 1507154639, "post_id": 46574344, "comment_id": 80103318, "body": "What would be a better method?"}, {"owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "edited": false, "score": 0, "creation_date": 1507170736, "post_id": 46574344, "comment_id": 80107120, "body": "By the way, thank you.  I think I was getting confused with it being pointers and not the objects.  I found a way to get the code to work.  It was your simplification of what i was actually doing that help me the most ... so thank you."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 0, "last_activity_date": 1507208860, "last_edit_date": 1507208860, "creation_date": 1507151899, "answer_id": 46574344, "question_id": 46574167, "link": "https://stackoverflow.com/questions/46574167/resizing-a-dynamically-allocated-array-of-pointers-copy-constructor-not-working/46574344#46574344", "title": "Resizing a dynamically allocated array of pointers (Copy Constructor not working?)", "body": "<p>Consider this code:</p>\n\n<pre><code>Something *a = new Something;\nSomething *b = a;\ndelete a;\n</code></pre>\n\n<p>In this code line 2 copy constructor for <code>Something</code> would not be called, you just assign one pointer to another, you do not copy objects. And when you destroy object pointed by <code>a</code> you cannot use <code>b</code> anymore as it is the same pointer as <code>a</code> ie it points to the same memory. You have this exact issue in your code:</p>\n\n<pre><code>if (*pTransactions) {\n    for (int i = 0; i &lt; numberOfTransactions - 1; i++) {\n        Transaction *tempTrans = pTransactions[i];\n        pTemp[i] = tempTrans;\n    }\n\n    for (int i = 0; i &lt; numberOfTransactions - 1; i++) {\n        delete pTransactions[i];\n    }\n    delete[] pTransactions;\n}\n</code></pre>\n\n<p>it is unclear why you expected copy ctor to be called and more important why you need it to be called, just do not destroy objects, only memory where pointers were stored. </p>\n\n<p>This is not error but it is very ineffective to create temporary array, copy everything there and then copy into new one again. And increase array size by one is not a good idea either.</p>\n\n<blockquote>\n  <p>What would be a better method?</p>\n</blockquote>\n\n<p>Just move current pointer to temp, then allocate new one and copy pointers. Remember copying one pointer to another is simple operation (like assigning one <code>int</code> to another) but copying array is not:</p>\n\n<pre><code>Transaction **pTemp = pTRansactions;\npTransactions = new Transaction*[capacity];\nif( pTemp )  {\n   // copy existing transactions from pTemp to pTransactions\n   delete[] pTemp;\n}\n// done\n</code></pre>\n\n<p>and you should have another member <code>capacity</code> and increase it by delta when size reaches it and execute this code in that case. You may want to have some policy to decrease capacity, but that can be omitted.</p>\n"}], "owner": {"reputation": 3, "user_id": 8722473, "user_type": "registered", "profile_image": "https://graph.facebook.com/827483026410/picture?type=large", "display_name": "Jonathan Oesch", "link": "https://stackoverflow.com/users/8722473/jonathan-oesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 46574344, "answer_count": 1, "score": -2, "last_activity_date": 1507208860, "creation_date": 1507151106, "question_id": 46574167, "link": "https://stackoverflow.com/questions/46574167/resizing-a-dynamically-allocated-array-of-pointers-copy-constructor-not-working", "title": "Resizing a dynamically allocated array of pointers (Copy Constructor not working?)", "body": "<p>Before I ask my question let me throw down a restriction my program has:<br>\n - not allowed to use vectors (this is for an assignment)</p>\n\n<p>I'm in the process of testing my classes to make sure they do what I intended they do.  I'm trying to increase the size of a dynamically allocated array of pointers.  While debugging, I discovered that when I set pTemp[i] to pTransactions[i] the copy constructor is not being utilized; when pTransactions[i] gets deleted a few lines later, the data that should be in pTemp[i] is gone (see code below). Is there something obvious I'm missing?</p>\n\n<p>Here are the related files to my question: (please let me know if you need more of the code)  </p>\n\n<p>Also, apologies for the lack of color in my code.  This is my very first post and I'm not entirely used to the format here. Edit: Just kidding, I see now that it just puts in the color later ...</p>\n\n<p>(partial code from class Account -- pTransactions is the dynamically allocated array of pointers)</p>\n\n<pre><code>void Account::createNewTransaction(Transaction* newTrans) {\nif (numberOfTransactions &gt; 0) {\n    //Create temp pointer\n    Transaction **pTemp = new Transaction*[++numberOfTransactions];\n\n    //Copy array to temp\n    if (*pTransactions) {\n        for (int i = 0; i &lt; numberOfTransactions - 1; i++) {\n            Transaction *tempTrans = pTransactions[i];\n            pTemp[i] = tempTrans;\n        }\n\n        for (int i = 0; i &lt; numberOfTransactions - 1; i++) {\n            delete pTransactions[i];\n        }\n        delete[] pTransactions;\n    }\n\n    //Recreate array\n    pTransactions = new Transaction*[numberOfTransactions];\n\n\n    for (int i = 0; i &lt; numberOfTransactions; i++) {\n        pTransactions[i] = pTemp[i];\n    }\n}\nelse {\n    numberOfTransactions++;\n    pTransactions = new Transaction*[numberOfTransactions];\n}\npTransactions[numberOfTransactions - 1] = newTrans;\n\ndouble oldBalance = balance;    //Variable to hold original balance\n\n//Complete correct type of transaction\nif (newTrans == dynamic_cast&lt;Deposit*&gt;(newTrans))\n    balance = static_cast&lt;Deposit*&gt;(newTrans)-&gt;makeDeposit(balance);\nelse if (newTrans == dynamic_cast&lt;Withdraw*&gt;(newTrans))\n    balance = static_cast&lt;Withdraw*&gt;(newTrans)-&gt;makeWithdrawal(balance);\nelse\n    balance = static_cast&lt;Check*&gt;(newTrans)-&gt;makeCheck(balance);\n\n//If balance equals oldBalance -- no transaction actually occurred\nif (balance == oldBalance) {\n    numberOfTransactions--;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Transaction.ccp -- Transaction is an abstract class</p>\n\n<pre><code>#include \"Transaction.h\"\n\nTransaction::Transaction()\n{\n    id = ++transactionTracker;\n}\n\nTransaction::~Transaction()\n{\n}\n\nint Transaction::getTransactionTracker()\n{\n    return transactionTracker;\n}\n\n//Mutator Functions\nvoid Transaction::setId(int newId) {\n    id = newId;\n}\n\nvoid Transaction::setAmount(double amt) {\n    amount = amt;\n}\n\n//Other Functions\nvoid Transaction::cancelTransaction() {\n    transactionTracker--;\n}\n</code></pre>\n\n<p>Deposit.cpp -- Deposit is a derived class of Transaction</p>\n\n<pre><code>#include \"Deposit.h\"\n#include &lt;iostream&gt;\n\n//Constructor\nDeposit::Deposit(double amt)\n{\n    setAmount(amt);\n}\n\n//Copy Constructor\nDeposit::Deposit(const Deposit &amp;obj)\n{\n    id = obj.id;\n    amount = obj.amount;\n}\n\n//Deconstructor\nDeposit::~Deposit()\n{\n}\n\n//Functions\ndouble Deposit::makeDeposit(double balance) {\n    return balance + amount;\n}\n\n//Overloaded function (from Transaction)\nvoid Deposit::toString() {\n    cout &lt;&lt; \"-------------------------------------\\n\";\n    cout &lt;&lt; \"Transaction #\" &lt;&lt; id &lt;&lt; endl;\n    cout &lt;&lt; \"Deposited $\" &lt;&lt; amount &lt;&lt; endl;\n    cout &lt;&lt; \"-------------------------------------\\n\";\n}\n\n//Overloaded = operator\nconst Deposit Deposit::operator=(const Deposit &amp;obj)\n{\n    id = obj.id;\n    amount = obj.amount;\n    return *this;\n}\n</code></pre>\n\n<p>Withdraw.cpp -- Withdraw is a derived class of Transactions</p>\n\n<pre><code>#include \"Withdraw.h\"\n#include&lt;iostream&gt;\n\n//Constructor\nWithdraw::Withdraw(double amt)\n{\n    setAmount(amt);\n}\n\n//Copy Constructor\nWithdraw::Withdraw(const Withdraw &amp;obj)\n{\n    id = obj.id;\n    amount = obj.amount;\n}\n\n//Destructor\nWithdraw::~Withdraw()\n{\n}\n\n//Functions\ndouble Withdraw::makeWithdrawal(double balance) {\n    if (balance &gt; amount) {\n        return balance - amount;\n    }\n    else {\n        cancelTransaction();\n        cout &lt;&lt; \"Amount exceeds balance.  Request denied.\\n\";\n        return balance;\n    }\n}\n\nOverloaded function (from Transaction)\nvoid Withdraw::toString() {\n    cout &lt;&lt; \"-------------------------------------\\n\";\n    cout &lt;&lt; \"Transaction #\" &lt;&lt; id &lt;&lt; endl;\n    cout &lt;&lt; \"Withdrew $\" &lt;&lt; amount &lt;&lt; endl;\n    cout &lt;&lt; \"-------------------------------------\\n\";\n}\n\n//Overloaded = operator\nconst Withdraw Withdraw::operator=(const Withdraw &amp;obj)\n{\n    id = obj.id;\n    amount = obj.id;\n    return *this;\n}\n</code></pre>\n\n<p>Checks.cpp -- Checks is a derived class of Transactions</p>\n\n<pre><code>#include \"Check.h\"\n#include&lt;iostream&gt;\n\n//Constructor\nCheck::Check(double amt, string name)\n{\n    setAmount(amt);\n    setName(name);\n    checkNumber = ++numberedChecks;\n}\n\n//Copy Constructor\nCheck::Check(const Check &amp;obj)\n{\n    id = obj.id;\n    amount = obj.amount;\n    checkNumber = obj.checkNumber;\n    name = obj.name;\n}\n\n//Deconstructor\nheck::~Check()\n{\n}\n\n//Mutator Function\nvoid Check::setCheckNumber(int number) {\n    checkNumber = number;\n}\n\nvoid Check::setName(string newName) {\n    name = newName;\n}\n\n//Other Functions\ndouble Check::makeCheck(double balance)\n{\n    if (balance &gt; amount)\n        return balance - amount;\n    else {\n        cancelTransaction();\n        cout &lt;&lt; \"If that check were to go through, you would have an overdraft.  Request denied.\\n\";\n        return balance;\n    }\n}\n\n//Overloaded Function (from Transaction)\nvoid Check::toString() {\n    cout &lt;&lt; \"-------------------------------------\\n\";\n    cout &lt;&lt; \"Transition #\" &lt;&lt; id &lt;&lt; endl;\n    cout &lt;&lt; \"Check #\" &lt;&lt; checkNumber &lt;&lt; endl;\n    cout &lt;&lt; \"For the amount of $\" &lt;&lt; amount &lt;&lt; endl;\n    cout &lt;&lt; \"Made out to \" &lt;&lt; name &lt;&lt; endl &lt;&lt; endl;\n    cout &lt;&lt; \"-------------------------------------\\n\";\n}\n\n//Overloaded = operator\nconst Check Check::operator= (const Check &amp;obj)\n{\n    id = obj.id;\n    amount = obj.amount;\n    checkNumber = obj.checkNumber;\n    name = obj.name;\n    return *this;\n}\n</code></pre>\n"}, {"tags": ["c++", "debugging", "undefined-behavior"], "comments": [{"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 1, "creation_date": 1507151633, "post_id": 46574127, "comment_id": 80102113, "body": "So what the error and which line is causing it? Also there are several problems with your code: 1) global variable 2) attempts to write into log from different threads (<code>threadID</code> is there for a reason, right?) without proper sync 3) attempts to use <code>localtime</code> from different threads may get you into trouble as well Also given code snippets are far from <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>"}, {"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "reply_to_user": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1507153929, "post_id": 46574127, "comment_id": 80103048, "body": "@VTT It&#39;s a crash dialog of sort which says <code>windows has triggered a breakpoint in theApp.exe</code>. It doesn&#39;t say what happened and where but this happens in early stages of loading the executable. I have linked a post related to it in my OP."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1507154354, "post_id": 46574127, "comment_id": 80103201, "body": "&quot;windows has triggered a breakpoint in theApp.exe&quot; - that might mean you have an actual function triggering a breakpoint (like, e.g. <code>asm { int $3 }</code> on a x86 system)."}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1507177426, "post_id": 46574127, "comment_id": 80108592, "body": "If you press &quot;Break&quot; then VS will show you the line at which an error occurred with call stack and you will be able to inspect variables, etc."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507200808, "post_id": 46574127, "comment_id": 80120537, "body": "This isn\u2019t the problem, but names that begin with an underscore followed by a capital letter (<code>_LOGDLL</code>) and names that contain two consecutive underscores are reserved for use by the implementation. Don\u2019t use them in your code. (Unless you\u2019re doing implementation-specific things with documented names like <code>__declspec</code>)."}, {"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "reply_to_user": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1507211661, "post_id": 46574127, "comment_id": 80127992, "body": "@VTT pressing break lands me into assembly code, almost like it&#39;s breaking before main() and there is no meaningful call stack. No call in my project code."}], "answers": [{"comments": [{"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507151960, "post_id": 46574314, "comment_id": 80102256, "body": "I did had a critical section but removed it as part of stripping it down. I started getting this error as I was developing this log module which is work in progress. As for current test cases, it does run only in single thread though but this issue start to popup and coming in the way."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507152148, "post_id": 46574314, "comment_id": 80102345, "body": "If you have UB and it&#39;s not multithreaded, I can assure you the origin of the UB is not in the code shown. It could be due to subtle linking issues, but judging from your descriptions that&#39;s highly unlikely at this scale. (Nonetheless, make sure you do a full clean/rebuild.)"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507152261, "post_id": 46574314, "comment_id": 80102398, "body": "Since the log stream is global, are you trying to log from inside constructors/destructors of other global data? You might run into init/shutdown order issues (see <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"nofollow noreferrer\">SIOF</a>)"}, {"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507152421, "post_id": 46574314, "comment_id": 80102457, "body": "I did call it in one class&#39;s constructor, I will follow up on your link. The idea is whenever I need log, I simply call <code>logstream.log()</code> and I obviously plan to add more log methods to the class like that."}, {"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507153168, "post_id": 46574314, "comment_id": 80102739, "body": "The SIOF explanation makes sense and I was calling it a constructor of another class although that class itself doesn&#39;t have any static member but it could be including another class which might have. That said, I had removed ALL usage of this class, cleaned the project and I was still getting this error. The question that I posted was in fact in the same state, the class is not being used at all in solution."}, {"owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "edited": false, "score": 0, "creation_date": 1507153644, "post_id": 46574314, "comment_id": 80102930, "body": "Also I can assure you I did remove <code>static</code> in this class as part of many trials to make it and provided hardcoded file name to constructor even though I didn&#39;t know about SIOF fiasco but +1 for that."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 2, "last_activity_date": 1507152062, "last_edit_date": 1507152062, "creation_date": 1507151770, "answer_id": 46574314, "question_id": 46574127, "link": "https://stackoverflow.com/questions/46574127/likely-undefined-behavior-but-why/46574314#46574314", "title": "Likely undefined behavior but why?", "body": "<p>Your code shows you are expecting to be called on different threads.</p>\n\n<p>Nowhere in the code do we see thread synchronization or critical sections.</p>\n\n<p>You need to protect against race-conditions by using critical sections. Having a race condition is <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow noreferrer\">Undefined Behaviour</a>.</p>\n\n<p>The most common standard C++ solution is using a <code>std::mutex</code> with <code>std::lock_guard</code> to make sure a single thread can be in (a) critical sections of your code. </p>\n\n<p>Sample/idea:</p>\n\n<pre><code>#include &lt;mutex&gt;\n// ....\n\n\nstatic std::mutex s_log_mutex;\n\nvoid lfstream::log(const std::string &amp;text, int threadID)\n{\n    std::lock_guard&lt;std::mutex&gt; lock(s_log_mutex);\n    const time_t ctt = time(0);\n    *this &lt;&lt; std::setw(40) &lt;&lt; std::left &lt;&lt; text &lt;&lt; \" thread id = \" &lt;&lt; threadID &lt;&lt; \"\\t\" &lt;&lt; asctime(localtime(&amp;ctt)); // &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 9091, "user_id": 841330, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bcafddab5ef9efc3a31235b7db56680e?s=128&d=identicon&r=PG", "display_name": "zar", "link": "https://stackoverflow.com/users/841330/zar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507313217, "creation_date": 1507150971, "last_edit_date": 1507313217, "question_id": 46574127, "link": "https://stackoverflow.com/questions/46574127/likely-undefined-behavior-but-why", "title": "Likely undefined behavior but why?", "body": "<p>I added a new class to a dll which is part of solution. All was working fine until I started getting error discussed in <a href=\"https://stackoverflow.com/questions/10172436/c-error-on-ms-visual-studio-windows-has-triggered-a-breakpoint-in-javaw-exe\">this</a> question <em>when I would start the solution with debugger</em>. This means that debugger was catching something bad, probably heap corruption although it was not pointing it out exactly where.</p>\n\n<p>I narrowed down the issue to my added class, if I remove it, the solution debugs fine, no errors. But apparently, there is nothing wrong with the class I added!</p>\n\n<p>So I commented my class and added a new simple (dummy) class <code>Book</code> just to see if it will produce the same error but it don't! Then I made it look similar to my added class (derived from <code>ofstream</code>) and still it will debug fine, no errors.</p>\n\n<p>I commented it out and uncommented my original class, again the error appears when I debug it! I skimmed this class and left only constructor/destructor now I can debug it, the error goes away here too. I brought back delete code (using undo so to restored exactly) and this time it works (when it was not before) and will debug fine without throwing that corruption error!</p>\n\n<p>So this sounds a lot like undefined behavior but this is a very lightweight standalone class which is instantiated correctly so is undefined behavior still the suspect? If so, why would it cause this behavior in this case?</p>\n\n<p>Here are my .h and .cpp files for reference</p>\n\n<pre><code>class lfstream : public std::ofstream\n{\npublic:\n    lfstream();\n    ~lfstream();\n\n    void log(const std::string &amp;text, int threadID);\n};\n\n#ifdef _LOGDLL\n    #define API __declspec(dllexport)\n#else\n    #define API __declspec(dllimport)\n#endif\n\nAPI extern lfstream logstream;\n\n/*\nclass Book : public std::ofstream\n{\npublic: \n    Book();\n    ~Book();\n    int WordCount();\n};\n\nAPI extern Book book;\n*/\n</code></pre>\n\n<p>The .cpp file</p>\n\n<pre><code>static char logfname[] = \"debug.txt\";\n\nlfstream::lfstream(): std::ofstream( logfname )\n{\n}\n\nlfstream::~lfstream()\n{\n}\n\nvoid lfstream::log(const std::string &amp;text, int threadID)\n{\n    const time_t ctt = time(0);\n    *this &lt;&lt; std::setw(40) &lt;&lt; std::left &lt;&lt; text &lt;&lt; \" thread id = \" &lt;&lt; threadID &lt;&lt; \"\\t\" &lt;&lt; asctime(localtime(&amp;ctt)); // &lt;&lt; std::endl;\n}\n\nlfstream logstream;\n\n/*\nBook::Book() : std::ofstream(\"crash.txt\")\n{\n}\nBook::~Book()\n{\n}\n\nint Book::WordCount()\n{\n    return 50;\n}\n\nBook book;\n*/\n</code></pre>\n"}, {"tags": ["c++", "sorting", "c++11", "vector", "stl"], "comments": [{"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1507152616, "post_id": 46574042, "comment_id": 80102517, "body": "You might consider adding one more line to invoke std::sort() on your vector."}], "answers": [{"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 0, "last_activity_date": 1507153299, "last_edit_date": 1507153299, "creation_date": 1507150892, "answer_id": 46574110, "question_id": 46574042, "link": "https://stackoverflow.com/questions/46574042/sorting-vectors-with-upper-and-lowercase-letters/46574110#46574110", "title": "Sorting vectors with upper and lowercase letters", "body": "<blockquote>\n  <p>Do vectors not sort uppercase AND lowercase?</p>\n</blockquote>\n\n<p>No.</p>\n\n<p><code>std::vector</code>s doesn't sort (simply appending elements).</p>\n\n<p><code>std::vector</code>s maintain the order of insertion.</p>\n\n<p>If you want an insert-and-ordering container, you should use <code>std::set</code> (or <code>std::multiset</code>).</p>\n"}], "owner": {"reputation": 1, "user_id": 8672674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0333bb4a2e60cf608aacc08844cdd152?s=128&d=identicon&r=PG&f=1", "display_name": "bananafr3sh14", "link": "https://stackoverflow.com/users/8672674/bananafr3sh14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507155308, "creation_date": 1507150597, "last_edit_date": 1507155308, "question_id": 46574042, "link": "https://stackoverflow.com/questions/46574042/sorting-vectors-with-upper-and-lowercase-letters", "title": "Sorting vectors with upper and lowercase letters", "body": "<p>So I have a program that reads through a file and gets the largest words by using a <code>std::map</code> with an <code>int</code> as the key and a <code>std::vector</code> as value. I need to print out the largest words but have a problem with the sorting. Whereas the output should be Copyright, Publishin, Universal, blueprint \nI get :blueprint, Copyright, Universal, Publishin </p>\n\n<p>How can I fix this? Do vectors not sort uppercase AND lowercase?\nHere's what I have so far:</p>\n\n<pre><code>string temp;\nstringstream ss(line);\nwhile(ss &gt;&gt; temp) {\n    int wordlength = temp.length();\n    wordit = wordbycount.find(wordlength);\n    if (wordit != wordbycount.end()) {\n        vector&lt;string&gt; arrayofLongest = wordit-&gt;second; \n        std::vector&lt;string&gt;::iterator iterator1 = find(arrayofLongest.begin(), arrayofLongest.end(), temp);\n        if (iterator1 == arrayofLongest.end()) {\n            wordit-&gt;second.push_back(temp);\n        }\n    }\n    else {\n        wordbycount[wordlength] = temp;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "binary-tree", "binary-search-tree"], "comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 1, "creation_date": 1507149950, "post_id": 46573861, "comment_id": 80101312, "body": "What&#39;s the question here?"}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 1, "creation_date": 1507149967, "post_id": 46573861, "comment_id": 80101322, "body": "No. This site is heavily against <i>spoonfeeding</i>. Figure out where lies the problem, provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and ask a good question"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 1, "creation_date": 1507150445, "post_id": 46573861, "comment_id": 80101555, "body": "oversimplified: replace &quot;int&quot; with &quot;value_type&quot; and put &quot;template &lt;typename value_type&gt;&quot; in front of everything. You can now make instances of BST&lt;int&gt;. Put everything in bst.h  Good luck :)"}], "answers": [{"comments": [{"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1507151260, "post_id": 46574058, "comment_id": 80101940, "body": "While the information provided by this answer are most probably correct, I think we <b>should never</b> spoonfeed someone, especially when OP directly asks us to. This is a Q&amp;A site, not code-provider one. This kind of behaviour leads to more and more people coming here and asking for pute code"}, {"owner": {"reputation": 11, "user_id": 8701605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e39ebd34b9e74e95f251d4191251a40?s=128&d=identicon&r=PG&f=1", "display_name": "Semyon", "link": "https://stackoverflow.com/users/8701605/semyon"}, "reply_to_user": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1507151329, "post_id": 46574058, "comment_id": 80101970, "body": "@Fureeish, thanks for the advise, I will remember it for the next time."}], "tags": [], "owner": {"reputation": 11, "user_id": 8701605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e39ebd34b9e74e95f251d4191251a40?s=128&d=identicon&r=PG&f=1", "display_name": "Semyon", "link": "https://stackoverflow.com/users/8701605/semyon"}, "is_accepted": false, "score": 0, "last_activity_date": 1507151126, "last_edit_date": 1507151126, "creation_date": 1507150656, "answer_id": 46574058, "question_id": 46573861, "link": "https://stackoverflow.com/questions/46573861/making-a-binary-search-tree-into-a-template/46574058#46574058", "title": "Making a binary search tree into a template", "body": "<p>You could do that by using the following changes:</p>\n\n<p>In your BST.h file, add the following above the class decleration:</p>\n\n<pre><code>template &lt; typename T &gt;\nclass BST {\n   [...]\n}\n</code></pre>\n\n<p>Then, foreach method definition, change it to:</p>\n\n<pre><code>template &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::makeEmpty(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    {\n        makeEmpty(tree-&gt;left);\n        makeEmpty(tree-&gt;right);\n        delete tree;\n    }\n    return NULL;\n}\n</code></pre>\n\n<p>Then, search and replace <code>int</code> with <code>T</code> in both <code>BST.h</code> and <code>BST.cpp</code>.</p>\n\n<p>And then in your <code>main.cpp</code> change the variable to <code>BST&lt;int&gt; tree</code>.</p>\n\n<p>The result should be this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\ntemplate &lt; typename T &gt;\nclass BST\n{\n    struct node\n    {\n        T data;\n        node* left;\n        node* right;\n    };\n\n    node* root;\n\n    node* makeEmpty(node* tree);\n\n    node* insert(T x, node* tree);\n\n    node* findMin(node* tree);\n\n    node* findMax(node* tree);\n\n    node* remove(T x, node* tree);\n\n    void inorder(node* tree);\n\n    void preorder(node* tree);\n\n\n\n    void postorder(node* tree);\n\n\n\npublic:\n    BST();\n\n    ~BST();\n\n\n    node* find(node* tree, T x);\n\n    void insert(T x);\n\n    void remove(T x);\n\n    void displayorder();\n\n    void search(T x);\n};\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::makeEmpty(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    {\n        makeEmpty(tree-&gt;left);\n        makeEmpty(tree-&gt;right);\n        delete tree;\n    }\n    return NULL;\n}\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::insert(T x, BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL)\n    {\n        tree = new node;\n        tree-&gt;data = x;\n        tree-&gt;left = tree-&gt;right = NULL;\n    }\n    else if(x &lt; tree-&gt;data)\n        tree-&gt;left = insert(x, tree-&gt;left);\n    else if(x &gt;= tree-&gt;data)\n        tree-&gt;right = insert(x, tree-&gt;right);\n    return tree;\n}\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::findMin(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(tree-&gt;left == NULL)\n        return tree;\n    else\n        return findMin(tree-&gt;left);\n}\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::findMax(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(tree-&gt;right == NULL)\n        return tree;\n    else\n        return findMax(tree-&gt;right);\n}\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::remove(T x, BST&lt;T&gt;::node* tree)\n{\n    node* temp;\n    if(tree == NULL)\n        return NULL;\n    else if(x &lt; tree-&gt;data)\n        tree-&gt;left = remove(x, tree-&gt;left);\n    else if(x &gt; tree-&gt;data)\n        tree-&gt;right = remove(x, tree-&gt;right);\n    else if(tree-&gt;left &amp;&amp; tree-&gt;right)\n    {\n        temp = findMin(tree-&gt;right);\n        tree-&gt;data = temp-&gt;data;\n        tree-&gt;right = remove(tree-&gt;data, tree-&gt;right);\n    }\n    else\n    {\n        temp = tree;\n        if(tree-&gt;left == NULL)\n            tree = tree-&gt;right;\n        else if(tree-&gt;right == NULL)\n            tree = tree-&gt;left;\n        delete temp;\n    }\n\n    return tree;\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::inorder(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    inorder(tree-&gt;left);\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n    inorder(tree-&gt;right);\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::preorder(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n    inorder(tree-&gt;left);\n    inorder(tree-&gt;right);\n}\n\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::postorder(BST&lt;T&gt;::node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    inorder(tree-&gt;left);\n    inorder(tree-&gt;right);\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n}\n\ntemplate &lt; typename T &gt;\ntypename BST&lt;T&gt;::node* BST&lt;T&gt;::find(BST&lt;T&gt;::node* tree, T x)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(x &lt; tree-&gt;data)\n        return find(tree-&gt;left, x);\n    else if(x &gt; tree-&gt;data)\n        return find(tree-&gt;right, x);\n    else\n        return tree;\n}\n\ntemplate &lt; typename T &gt;\nBST&lt;T&gt;::BST()\n{\n    root = NULL;\n}\n\ntemplate &lt; typename T &gt;\nBST&lt;T&gt;::~BST()\n{\n    root = makeEmpty(root);\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::insert(T x)\n{\n    root = insert(x, root);\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::remove(T x)\n{\n    root = remove(x, root);\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::displayorder()\n{\n    inorder(root);\n    cout &lt;&lt; endl;\n    preorder(root);\n    cout &lt;&lt; endl;\n    postorder(root);\n    cout &lt;&lt; endl &lt;&lt; endl;\n}\n\ntemplate &lt; typename T &gt;\nvoid BST&lt;T&gt;::search(T x)\n{\n    if(root = find(root, x)){\n        cout &lt;&lt; endl &lt;&lt; \"Found!\" &lt;&lt; endl;\n    }\n    else{\n        cout &lt;&lt; endl &lt;&lt; \"Not Found!\" &lt;&lt; endl;\n    }\n}\n\nint main()\n{\n    BST&lt;int&gt; tree;\n    tree.insert(8);\n    tree.insert(25);\n    tree.insert(99);\n    tree.insert(20);\n    tree.insert(25);\n    tree.insert(20);\n    tree.insert(2);\n    tree.insert(89);\n    tree.insert(15);\n    tree.insert(10);\n    tree.insert(30);\n    tree.insert(50);\n    tree.displayorder();\n\n\n\n    int number;\n\n    int Inputnumber;\n    while (true){\n        cout &lt;&lt; \"Choose what you want to do: \" &lt;&lt; endl &lt;&lt; \"1# Insert\" &lt;&lt; endl &lt;&lt; \"2# Display Orders\" &lt;&lt; endl &lt;&lt;  \"3# Search\" &lt;&lt; endl &lt;&lt; \"4# Delete\" &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        cin &gt;&gt; Inputnumber;\n        if (Inputnumber==1){\n            cout &lt;&lt; endl &lt;&lt; \"Enter the number you want inserted: \";\n            cin &gt;&gt; number;\n            tree.insert(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n        if (Inputnumber==2){\n            cout&lt;&lt;\"Display Orders: \" &lt;&lt; endl;\n            tree.displayorder();\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n\n        if (Inputnumber==3){\n            cout&lt;&lt;\"Enter the number you want to search for: \";\n            cin &gt;&gt; number;\n            tree.search(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n        if (Inputnumber==4){\n            cout &lt;&lt; \"Enter the number you want to remove: \";\n            cin &gt;&gt; number;\n            tree.remove(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8722727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7211b8f0c07048b9bc62360e9cbb875a?s=128&d=identicon&r=PG&f=1", "display_name": "H&#229;kon Ness", "link": "https://stackoverflow.com/users/8722727/h%c3%a5kon-ness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507151126, "creation_date": 1507149883, "question_id": 46573861, "link": "https://stackoverflow.com/questions/46573861/making-a-binary-search-tree-into-a-template", "title": "Making a binary search tree into a template", "body": "<p>So, I've made a binary search tree, but now I'm stuck, as I have to make it into a template, yet my knowledge of templates are rather limited and if someone could, I'd appreciate it if they could \"spoonfeed\" me how to convert the tree into one that would work for any numerical data, thanks in advance!</p>\n\n<p><strong>Main.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"bst.h\"\n\nusing namespace std;\n\n\nint main()\n{\n    BST tree;\n    tree.insert(8);\n    tree.insert(25);\n    tree.insert(99);\n    tree.insert(20);\n    tree.insert(25);\n    tree.insert(20);\n    tree.insert(2);\n    tree.insert(89);\n    tree.insert(15);\n    tree.insert(10);\n    tree.insert(30);\n    tree.insert(50);\n    tree.displayorder();\n\n\n\n    int number;\n\n    int Inputnumber;\n    while (true){\n        cout &lt;&lt; \"Choose what you want to do: \" &lt;&lt; endl &lt;&lt; \"1# Insert\" &lt;&lt; endl &lt;&lt; \"2# Display Orders\" &lt;&lt; endl &lt;&lt;  \"3# Search\" &lt;&lt; endl &lt;&lt; \"4# Delete\" &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        cin &gt;&gt; Inputnumber;\n        if (Inputnumber==1){\n            cout &lt;&lt; endl &lt;&lt; \"Enter the number you want inserted: \";\n            cin &gt;&gt; number;\n            tree.insert(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n        if (Inputnumber==2){\n            cout&lt;&lt;\"Display Orders: \" &lt;&lt; endl;\n            tree.displayorder();\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n\n        if (Inputnumber==3){\n            cout&lt;&lt;\"Enter the number you want to search for: \";\n            cin &gt;&gt; number;\n            tree.search(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n        if (Inputnumber==4){\n            cout &lt;&lt; \"Enter the number you want to remove: \";\n            cin &gt;&gt; number;\n            tree.remove(number);\n            cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Bst.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"bst.h\"\n\nusing namespace std;\n\nBST::node* BST::makeEmpty(node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    {\n        makeEmpty(tree-&gt;left);\n        makeEmpty(tree-&gt;right);\n        delete tree;\n    }\n    return NULL;\n}\n\nBST::node* BST::insert(int x, node* tree)\n{\n    if(tree == NULL)\n    {\n        tree = new node;\n        tree-&gt;data = x;\n        tree-&gt;left = tree-&gt;right = NULL;\n    }\n    else if(x &lt; tree-&gt;data)\n        tree-&gt;left = insert(x, tree-&gt;left);\n    else if(x &gt;= tree-&gt;data)\n        tree-&gt;right = insert(x, tree-&gt;right);\n    return tree;\n}\n\nBST::node* BST::findMin(node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(tree-&gt;left == NULL)\n        return tree;\n    else\n        return findMin(tree-&gt;left);\n}\n\nBST::node* BST::findMax(node* tree)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(tree-&gt;right == NULL)\n        return tree;\n    else\n        return findMax(tree-&gt;right);\n}\n\nBST::node* BST::remove(int x, node* tree)\n{\n    node* temp;\n    if(tree == NULL)\n        return NULL;\n    else if(x &lt; tree-&gt;data)\n        tree-&gt;left = remove(x, tree-&gt;left);\n    else if(x &gt; tree-&gt;data)\n        tree-&gt;right = remove(x, tree-&gt;right);\n    else if(tree-&gt;left &amp;&amp; tree-&gt;right)\n    {\n        temp = findMin(tree-&gt;right);\n        tree-&gt;data = temp-&gt;data;\n        tree-&gt;right = remove(tree-&gt;data, tree-&gt;right);\n    }\n    else\n    {\n        temp = tree;\n        if(tree-&gt;left == NULL)\n            tree = tree-&gt;right;\n        else if(tree-&gt;right == NULL)\n            tree = tree-&gt;left;\n        delete temp;\n    }\n\n    return tree;\n}\n\nvoid BST::inorder(node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    inorder(tree-&gt;left);\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n    inorder(tree-&gt;right);\n}\n\nvoid BST::preorder(node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n    inorder(tree-&gt;left);\n    inorder(tree-&gt;right);\n}\n\n\n\nvoid BST::postorder(node* tree)\n{\n    if(tree == NULL){\n        return;\n    }\n    inorder(tree-&gt;left);\n    inorder(tree-&gt;right);\n    cout &lt;&lt; tree-&gt;data &lt;&lt; \" \";\n}\n\nBST::node* BST::find(node* tree, int x)\n{\n    if(tree == NULL)\n        return NULL;\n    else if(x &lt; tree-&gt;data)\n        return find(tree-&gt;left, x);\n    else if(x &gt; tree-&gt;data)\n        return find(tree-&gt;right, x);\n    else\n        return tree;\n}\n\nBST::BST()\n{\n    root = NULL;\n}\n\nBST::~BST()\n{\n    root = makeEmpty(root);\n}\n\nvoid BST::insert(int x)\n{\n    root = insert(x, root);\n}\n\nvoid BST::remove(int x)\n{\n    root = remove(x, root);\n}\n\nvoid BST::displayorder()\n{\n    inorder(root);\n    cout &lt;&lt; endl;\n    preorder(root);\n    cout &lt;&lt; endl;\n    postorder(root);\n    cout &lt;&lt; endl &lt;&lt; endl;\n}\n\nvoid BST::search(int x)\n{\n    if(root = find(root, x)){\n        cout &lt;&lt; endl &lt;&lt; \"Found!\" &lt;&lt; endl;\n    }\n    else{\n        cout &lt;&lt; endl &lt;&lt; \"Not Found!\" &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p><strong>Bst.h</strong></p>\n\n<pre><code>#ifndef BST_H\n#define BST_H\n\n\n\nclass BST\n{\n    struct node\n    {\n        int data;\n        node* left;\n        node* right;\n    };\n\n    node* root;\n\n    node* makeEmpty(node* tree);\n\n    node* insert(int x, node* tree);\n\n    node* findMin(node* tree);\n\n    node* findMax(node* tree);\n\n    node* remove(int x, node* tree);\n\n    void inorder(node* tree);\n\n    void preorder(node* tree);\n\n\n\n    void postorder(node* tree);\n\n\n\npublic:\n    BST();\n\n    ~BST();\n\n\n    node* find(node* tree, int x);\n\n    void insert(int x);\n\n    void remove(int x);\n\n    void displayorder();\n\n    void search(int x);\n};\n\n#endif // BST_H\n</code></pre>\n"}, {"tags": ["c++", "qt", "debugging", "signals-slots"], "comments": [{"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507150341, "post_id": 46573719, "comment_id": 80101510, "body": "* Qt signal is put onto the event queue -- for Queued connection only. Auto connection implies <code>connect</code> decides whether or not it will be Queued (if sender and recipient are on different threads) and Direct leads to function being called from this stack now."}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507157270, "post_id": 46573719, "comment_id": 80104145, "body": "@AlexanderVX I knew that too, but even for Direct, &quot;stepping into&quot; the <code>emit ...</code> line doesn&#39;t actually follow it.  Identical behavior to &quot;stepping over&quot;.  I need something that works for Queued and Direct both, and tells me where the slot(s) are that (could) end up getting called, either immediately or when an event loop gets around to it."}, {"owner": {"reputation": 7180, "user_id": 2666212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874561e399041a45c82c2ca6652400b6?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2666212/mike"}, "edited": false, "score": 0, "creation_date": 1507158423, "post_id": 46573719, "comment_id": 80104425, "body": "<i>&quot;It&#39;d be really nice if it would also return <code>connect(..., SIGNAL(signal()), ..., SLOT(slot()));</code> so I could then F2 (go to definition) on <code>slot()</code> and put a breakpoint in it&quot;</i> &lt;&lt; It can detect these usages when using <a href=\"https://wiki.qt.io/New_Signal_Slot_Syntax\" rel=\"nofollow noreferrer\">the new connect syntax</a>."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507163527, "post_id": 46573719, "comment_id": 80105591, "body": "@AaronD try putting a breakpoint in the slot function for the direct connection to see whether or not that is just a function call."}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7180, "user_id": 2666212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874561e399041a45c82c2ca6652400b6?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2666212/mike"}, "edited": false, "score": 0, "creation_date": 1507165628, "post_id": 46573719, "comment_id": 80106059, "body": "@Mike Oh!  Wow, how did I miss that?  Maybe because Google returned some old documentation as the top results and I didn&#39;t notice?  Anyway, I changed all 227 usages, and it works!  Thank you!  Make that an answer, and I&#39;ll probably end up accepting it."}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507165893, "post_id": 46573719, "comment_id": 80106124, "body": "@AlexanderVX Yes, that&#39;s how I know they&#39;re direct.  The stack trace shows the emitting function, then some inaccessible Meta work, then the slot function.  If &quot;stepping into&quot; would follow that, it&#39;d be wonderful, but it doesn&#39;t."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507175122, "post_id": 46573719, "comment_id": 80108051, "body": "We often cannot see the source code while tracing the stack, no symbols to connect to source code or no mapping to actual source code files."}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507176295, "post_id": 46573719, "comment_id": 80108330, "body": "@AlexanderVX Yet I can double-click on an entry and go directly to the corresponding source.  (except for precompiled system-internals; then it gives me a disassembly listing)  That&#39;s very useful!  You&#39;re saying that what I&#39;m actually already doing is impossible?"}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507176412, "post_id": 46573719, "comment_id": 80108355, "body": "@AlexanderVX Hint: try <code>F5</code> instead of <code>Ctrl+R</code>, and use a Debug build instead of Release."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507177211, "post_id": 46573719, "comment_id": 80108543, "body": "Of course @AaronD we can always apply some effort and see the actual file if symbols and the source code available. I meant debug. Not sure why it is so interesting: on the stack is for direct signal connection, all that matters here."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1507177297, "post_id": 46573719, "comment_id": 80108560, "body": "Unrelated, but since you&#39;re using Qt5 you should be using the <a href=\"https://wiki.qt.io/New_Signal_Slot_Syntax\" rel=\"nofollow noreferrer\">new signal slot syntax</a> in your <code>connect()</code> calls."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1507177346, "post_id": 46573719, "comment_id": 80108574, "body": "BTW, Release build does not prevent from having symbols for devs and we can still find and see the source code line for the crash etc."}, {"owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1507178650, "post_id": 46573719, "comment_id": 80108947, "body": "Actually, @MrEricSir, you&#39;re exactly on-topic.  Mike beat you to it a few hours ago, but if either one of you wants to make an answer out of it, I&#39;ll accept it.  It&#39;s AlexanderVX that seems to be flying off-topic.  I&#39;m keeping up with him anyway in case he&#39;s onto something that I haven&#39;t figured out yet, but so far I&#39;m coming up empty.  (the apparent reversal of his position just now doesn&#39;t help his credibility)"}, {"owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "edited": false, "score": 0, "creation_date": 1507181073, "post_id": 46573719, "comment_id": 80109710, "body": "@AaronD If you connect your signal &amp; slot like this: <code>connect(widget, &amp;QWidget::destroyed, this, &amp;MainWindow::widgetDestroy);</code>  find usage will show it too."}], "answers": [{"tags": [], "owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "is_accepted": true, "score": 1, "last_activity_date": 1507209725, "creation_date": 1507209725, "answer_id": 46586741, "question_id": 46573719, "link": "https://stackoverflow.com/questions/46573719/follow-an-emitted-signal-to-its-connected-slots/46586741#46586741", "title": "Follow an emitted signal to its connected slot(s)?", "body": "<p>You can use <a href=\"https://wiki.qt.io/New_Signal_Slot_Syntax\" rel=\"nofollow noreferrer\">New Signal Slot Syntax</a> :</p>\n\n<pre><code>connect(sender, &amp;Sender::valueChanged,receiver, &amp;Receiver::updateValue);\n</code></pre>\n\n<p>With this connection you can find usage and Qt will find connection line.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pzrfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzrfT.png\" alt=\"sample code image\"></a></p>\n"}], "owner": {"reputation": 421, "user_id": 3491308, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcfe857493736292ab775e24896ecbf3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronD", "link": "https://stackoverflow.com/users/3491308/aarond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 46586741, "answer_count": 1, "score": 1, "last_activity_date": 1507283912, "creation_date": 1507149277, "last_edit_date": 1507283912, "question_id": 46573719, "link": "https://stackoverflow.com/questions/46573719/follow-an-emitted-signal-to-its-connected-slots", "title": "Follow an emitted signal to its connected slot(s)?", "body": "<p>I understand that a Qt signal is put onto the event queue, and then the connected slots are called later when the event loop sees it.  So it doesn't make sense to \"step into\" it when debugging.  But I really do want to see, in a large enough app that I can't keep all of it in mind at once, where the control flow ends up.</p>\n\n<p>So is there a way to find the slot(s) that are connected to a signal, either potentially based on <code>connect(...);</code> calls or actually at the moment when debugging?</p>\n\n<hr>\n\n<p>In Qt Creator 3.5.1 (Based on Qt 5.5.1 (GCC 5.2.1 20151129, 64 bit)):</p>\n\n<ol>\n<li><code>Ctrl+Shift+U</code> (find usages) only returns <code>emit signal();</code> in the source and <code>void signal();</code> in the header.\n\n<ul>\n<li>It'd be really nice if it would also return <code>connect(..., SIGNAL(signal()), ..., SLOT(slot()));</code> so I could then <code>F2</code> (go to definition) on <code>slot()</code> and put a <code>breakpoint</code> in it.</li>\n</ul></li>\n<li>A plaintext search returns a bunch of unrelated signals with the same name in other classes, so that's not really helpful either.</li>\n</ol>\n"}, {"tags": ["c++", "c", "interrupt", "atmel", "avr-gcc"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1507149116, "post_id": 46573550, "comment_id": 80100949, "body": "It looks like the handler <code>ISR(TIMER0_OVF_vect)</code> is defined in multiple places."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "edited": false, "score": 0, "creation_date": 1507151341, "post_id": 46574105, "comment_id": 80101972, "body": "This is true... So this is mainly due to the Arduino library? I didn&#39;t think i had to jump to avr-gcc and avr toolchain so early, but anyway it HAVE to try it! Thank you for your reply!"}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1507150864, "creation_date": 1507150864, "answer_id": 46574105, "question_id": 46573550, "link": "https://stackoverflow.com/questions/46573550/atmel-arduino-isrtimer0-ovf-vect-wont-compile-first-defined-in-vector/46574105#46574105", "title": "Atmel / Arduino: ISR(TIMER0_OVF_vect) won&#39;t compile (&quot;first defined&quot; in __vector_16)", "body": "<p>You're using the Arduino library, which already defines a handler for the <code>TIMER0_OVF</code> interrupt.</p>\n\n<p>If you want to define your own handler for this interrupt, you will need to build your project standalone, without using the Arduino library or tools.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1518578025, "last_edit_date": 1518578025, "creation_date": 1507407488, "answer_id": 46624722, "question_id": 46573550, "link": "https://stackoverflow.com/questions/46573550/atmel-arduino-isrtimer0-ovf-vect-wont-compile-first-defined-in-vector/46624722#46624722", "title": "Atmel / Arduino: ISR(TIMER0_OVF_vect) won&#39;t compile (&quot;first defined&quot; in __vector_16)", "body": "<p>I simply used Timer2 instead of Timer0. Using Timer2, I can still set an overflow AND an output compare interruptions on the same timer, as expected.</p>\n\n<p>This is a rather simple way to workaround this problem, however it might not suit all cases. I may need to rework my code and adapt it to a direct avr-gcc / Atmel Studio compilation process.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "edited": false, "score": 0, "creation_date": 1518717740, "post_id": 48779546, "comment_id": 84630700, "body": "Thanks a lot for the reply. Since the days I asked this, I dove into AtmelStudio and the magic of optimizations and simulations. Now it&#39;s all clearer to me. I will certainly use your trick for arduino-only programs, that could help alot and save a bunch of time / effort (redesigning a program to use Timer1 instead of Timer0 might be a pain)."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "reply_to_user": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "edited": false, "score": 0, "creation_date": 1518725525, "post_id": 48779546, "comment_id": 84634788, "body": "@bebenlebricolo: I found an unintrusive way to do this (so other Arduino projects are not affected by the change in file <code>wiring.c</code>). I have updated my answer. (I ran into the same problem as you when writing software for an accurate 8 MHz frequency counter (no external components required). I had to use Timer0 and Timer1, taking advantage to those two hardware counters, using Timer0 for the input signal. Timer2 was used for a test signal of 1.14285714286 MHz.)"}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "reply_to_user": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "edited": false, "score": 0, "creation_date": 1518729649, "post_id": 48779546, "comment_id": 84636827, "body": "@bebenlebricolo: Whoa! I just discovered that <a href=\"https://learn.adafruit.com/arduino-tips-tricks-and-techniques/arduino-uno-faq\" rel=\"nofollow noreferrer\">the Arduino Uno uses a ceramic resonator</a> (+/-0.5%), not a crystal oscillator (there is a crystal oscillator on the PCB, but that is for the USB chip). I have had bad experiences with ceramic resonators at work (used by a third-party supplier). The final version of the frequency counter will be for a bare ATmega328 chip, with a crystal oscillator (and maybe later a DCF77 based frequency reference)."}], "tags": [], "owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "is_accepted": true, "score": 4, "last_activity_date": 1579009067, "last_edit_date": 1579009067, "creation_date": 1518581524, "answer_id": 48779546, "question_id": 46573550, "link": "https://stackoverflow.com/questions/46573550/atmel-arduino-isrtimer0-ovf-vect-wont-compile-first-defined-in-vector/48779546#48779546", "title": "Atmel / Arduino: ISR(TIMER0_OVF_vect) won&#39;t compile (&quot;first defined&quot; in __vector_16)", "body": "<p>It <em>is</em> possible to provide your own handler for Timer0 and still use the Arduino environment.</p>\n\n<p>This is done by (optionally) disabling the existing handler for Timer0 in file <code>wiring.c</code> (inside the Arduino installation). Put in conditional compilation, <code>#ifndef</code> / <code>#endif</code>, around the existing handler:</p>\n\n<pre><code>#ifndef _DISABLE_ARDUINO_TIMER0_INTERRUPT_HANDLER_\n\n    #if defined(__AVR_ATtiny24__) || defined(__AVR_ATtiny44__) || defined(__AVR_ATtiny84__)\n    ISR(TIM0_OVF_vect)\n    #else\n    ISR(TIMER0_OVF_vect)\n    #endif\n    {\n        // Copy these to local variables so they can be stored in registers\n        // (volatile variables must be read from memory on every access)\n        unsigned long m = timer0_millis;\n        unsigned char f = timer0_fract;\n\n        m += MILLIS_INC;\n        f += FRACT_INC;\n        if (f &gt;= FRACT_MAX) {\n            f -= FRACT_MAX;\n            m += 1;\n        }\n\n        timer0_fract = f;\n        timer0_millis = m;\n        timer0_overflow_count++;\n    }\n\n#endif\n</code></pre>\n\n<p>For example, on Windows, file <code>wiring.c</code> may be located in folder <code>C:\\Program Files (x86)\\Arduino\\hardware\\arduino\\avr\\cores\\arduino</code>.</p>\n\n<p>Note that it may be necessary to have administrative privileges to make changes to <code>wiring.c</code>. On Windows this is done by right clicking on the text editor (a text editor, like <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"nofollow noreferrer\">Notepad++</a> or <a href=\"https://en.wikipedia.org/wiki/UltraEdit\" rel=\"nofollow noreferrer\">UltraEdit</a><sup>[1]</sup>, that can handle the Unix end-of-line characters - Notepad can not really handle this) and selecting <em>\"Run as Adminstrator\"</em>.</p>\n\n<p>Then, in your source code put these two lines at the top of the file:</p>\n\n<pre><code>#define _DISABLE_ARDUINO_TIMER0_INTERRUPT_HANDLER_\n\n#include &lt;wiring.c&gt;\n</code></pre>\n\n<p>Note that for other Arduino projects it works exactly as before. The interrupt handler is only disabled if preprocessor symbol <code>_DISABLE_ARDUINO_TIMER0_INTERRUPT_HANDLER_</code> is defined.</p>\n\n<p>The same procedure may have to be applied to <code>TIMER0_COMPA_vect</code> as well (file <code>Tone.cpp</code> in the same folder).</p>\n\n<p>This was tested with an Arduino Uno equivalent, Arduino IDE 1.8.5, text editor <a href=\"http://en.wikipedia.org/wiki/UltraEdit\" rel=\"nofollow noreferrer\">UltraEdit</a>, and Windows&nbsp;10.</p>\n\n<p><sub>1. I would also expect <a href=\"https://en.wikipedia.org/wiki/Visual_Studio_Code\" rel=\"nofollow noreferrer\">Visual Studio Code</a> to work, but I haven't tested it.</sub></p>\n"}], "owner": {"reputation": 43, "user_id": 8716917, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mqW8-2bbBlU/AAAAAAAAAAI/AAAAAAAAABo/Q8XpNgQpGpc/photo.jpg?sz=128", "display_name": "bebenlebricolo", "link": "https://stackoverflow.com/users/8716917/bebenlebricolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4676, "favorite_count": 0, "accepted_answer_id": 48779546, "answer_count": 3, "score": 1, "last_activity_date": 1599213800, "creation_date": 1507148592, "last_edit_date": 1518577948, "question_id": 46573550, "link": "https://stackoverflow.com/questions/46573550/atmel-arduino-isrtimer0-ovf-vect-wont-compile-first-defined-in-vector", "title": "Atmel / Arduino: ISR(TIMER0_OVF_vect) won&#39;t compile (&quot;first defined&quot; in __vector_16)", "body": "<p>I'm currently working on a PWM modulator to \"simulate\" a car engine ignition commutation. Then, I will use it to drive another microcontroller which handles the conversion from a raw signal (engine's commutator) to a clean output voltage, going through the RPM-counter's galvanometer.</p>\n\n<p>This project is also a pretext for me to learn how to have a better control upon my microcontroller.</p>\n\n<p>Well, I wrote a small program, using timer0 (8 bits), and I need to trigger two interrupt service routines (ISRs):</p>\n\n<ul>\n<li>TIMER0_OVF_vect: overflow interruption</li>\n<li>TIMER0_COMPA_vect: fires on compare</li>\n</ul>\n\n<p>I have the following functions:</p>\n\n<pre><code>void configureTimer0(parameters)\n{\n    cli();\n\n    // Some maths\n    TCCR0A = (1&lt;&lt;WGM01) | (1&lt;&lt;WGM00); // I tried to use the \"Fast PWM\" waveform generation mode\n    TCCR0B &amp;= 0b00110000; // 5th and 4th bits are reserved. Every other bits is set to 0.\n    TCNT0 = 0; // Initialize counter value to 0\n\n    TCCR0B |= select_prescaler(prescaler); // Custom function to determine the right prescaler\n    OCR0A = ext_OnTicks; // Output compare register is set to a predetermined numbers of ticks\n\n    // Enabling overflows interrupt:\n    TIMSK0 |= (1 &lt;&lt; TOIE0);\n    sei(); // Enable interrupts\n}\n</code></pre>\n\n<p>Then, under certain conditions, I switch the OCIE0 bit in TIMSK0 on and off depending on the situation.\nHowever, the overflow interruption is always enabled.</p>\n\n<p>When I try to compile, I end up with these errors:</p>\n\n<pre><code>\"C:\\Users\\UTILIS~1\\AppData\\Local\\Temp\\arduino_build_8383\\sketch\\PWM_modulator.ino.cpp.o\" \"C:\\Users\\UTILIS~1\\AppData\\Local\\Temp\\arduino_build_8383/..\\arduino_cache_395570\\core\\core_arduino_avr_uno_a94ab6aaf61dfb93b4a8079c694a14c2.a\" \"-LC:\\Users\\UTILIS~1\\AppData\\Local\\Temp\\arduino_build_8383\" -lm\nwiring.c.o (symbol from plugin): In function `__vector_16':\n\n(.text+0x0): multiple definition of `__vector_16'\n\nC:\\Users\\UTILIS~1\\AppData\\Local\\Temp\\arduino_build_8383\\sketch\\PWM_modulator.ino.cpp.o (symbol from plugin):(.text+0x0): first defined here\n\ncollect2.exe: error: ld returned 1 exit status\n\nexit status 1\nErreur de compilation pour la carte Arduino/Genuino Uno // Compilation error for Uno board (French)\n</code></pre>\n\n<p>I tried to compile with ISR(TIMER0_COMPB_vect) instead of ISR(TIMER0_OVF_vect), and it works, but indeed it's not the point of my program.</p>\n\n<p>I also tried ISR(TIMER2_OVF_vect) which is an 8-bit timer as well. I could synchronize Timer0 and Timer2 to achieve the desired effect, however I don't think it is quite clean to do so (and it prevents me to use the Timer2 capabilities).</p>\n\n<p>There is something wrong in my code, but cannot understand where the mistake is hiding.\nThere is definitely something related to the wiring.c.o file.</p>\n\n<p>PS: I've looked for a solution quite a long time since the problem appears, but I could not find any way to ask Google correctly neither the Stack Overflow site.\nApologies if I missed the right search string!</p>\n"}, {"tags": ["c++", "arduino", "nvidia", "i2c"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1507185557, "post_id": 46573527, "comment_id": 80111463, "body": "Have you tried it without the multiplexer inline? Or partnered with a different device?"}, {"owner": {"reputation": 31, "user_id": 8395304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b90d1efbecee482e858d003ffcb142?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Fawcett", "link": "https://stackoverflow.com/users/8395304/logan-fawcett"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1507214138, "post_id": 46573527, "comment_id": 80129783, "body": "@MarkSetchell I just finished testing this setup without the multiplexer and got the exact same results. Arduino receives the signal fine, and only receive two bytes nonsense but stable characters on the Jetson."}, {"owner": {"reputation": 31, "user_id": 8395304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b90d1efbecee482e858d003ffcb142?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Fawcett", "link": "https://stackoverflow.com/users/8395304/logan-fawcett"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1507214722, "post_id": 46573527, "comment_id": 80130185, "body": "An update: We are working on getting a Raspberry Pi hooked up in place of the Jetson to see if the error is the code or if it is something to do with the Jetson specifically."}], "owner": {"reputation": 31, "user_id": 8395304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b90d1efbecee482e858d003ffcb142?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Fawcett", "link": "https://stackoverflow.com/users/8395304/logan-fawcett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1245, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507177276, "creation_date": 1507148508, "last_edit_date": 1507177276, "question_id": 46573527, "link": "https://stackoverflow.com/questions/46573527/i2c-communication-issues-between-arduino-and-nvidia-jetson", "title": "I2C communication issues between Arduino and NVIDIA Jetson", "body": "<p>I am trying to use I2C to send a signal with data from an NVIDIA Jetson TX1 to an Arduino Uno, and then have the Arduino send data back. Eventually the Arduino's data to send back will be collected from sensors. The Arduino is hooked up the the Jetson via a <a href=\"https://learn.adafruit.com/adafruit-tca9548a-1-to-8-i2c-multiplexer-breakout/\" rel=\"nofollow noreferrer\">multiplexer</a>.</p>\n\n<p>When I send a string from the Jetson, the Arduino receives and displays it on the serial output correctly, but the signal that the Jetson receives seems to be two random characters followed by the rest of the 32 bytes being 255. Also spaces don't seem to work, but that's not really an issue, more of just an observation.</p>\n\n<p>This is the code I am using on the Jetson</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;unistd.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;sys/ioctl.h&gt;\n#include &lt;linux/i2c-dev.h&gt;\n#include &lt;string&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\n\nint addr1 = 0x40;\nint addr2 = 0x04;\nint file_i2c;\nint file_i2c2;\nconst int numBytes = 32;\nchar *filename = (char*)\"/dev/i2c-1\";\nunsigned char buffer[numBytes] = {0};\n\nbool writeStream(int file_i2c, string output) {\n  if(write(file_i2c, output.c_str(), output.length()) != output.length()) {\n    printf(\"\\tFailed to write to the i2c bus.\\n\");\n  }\n  return true;\n}\n\nint main() {\n  //Open i2c bus\n  if((file_i2c = open(filename, O_RDWR)) &lt; 0) {\n    printf(\"\\tFailed to open the i2c bus\\n\");\n    //exit(1);\n  }\n  if(ioctl(file_i2c, I2C_SLAVE, addr2) &lt; 0) {\n    printf(\"\\tFailed to acquire bus access and/or talk to slave.\\n\");\n    //exit(1);\n  }\n  string input;\n  cin &gt;&gt; input;\n  writeStream(file_i2c, input);\n  cin &gt;&gt; input; //Using this as a breakpoint\n  if(ioctl(file_i2c, I2C_SLAVE, addr1) &lt; 0) {\n    printf(\"\\tFailed to acquire bus access and/or talk to slave.\\n\");\n    //exit(1);\n  }\n  if(read(file_i2c, buffer,numBytes) != numBytes) {\n    printf(\"\\tFailed to read from the i2c bus.\");\n  }\n  cout &lt;&lt; \"Data read:\\n\";\n  for (int i = 0; i &lt; numBytes; i++) {\n    cout &lt;&lt; buffer[i] &lt;&lt; \"\\t\" &lt;&lt; (int)buffer[i] &lt;&lt; endl;\n  }\n  cout &lt;&lt; \"End!\\n\";\n  return 0;\n}\n</code></pre>\n\n<p>Here is my Arduino code:</p>\n\n<pre><code>#include &lt;Wire.h&gt;\n#include &lt;Adafruit_Sensor.h&gt;\n#include &lt;Adafruit_TSL2591.h&gt;\n\n#define TCAADDR 0x70\n\nint clockSpeed = 100000;\nchar myOutput[32] = {0};\nchar sent[32] = {0};\n\nvoid setup() {\n  digitalWrite(6, HIGH);\n  Wire.begin(0x04);\n  Wire.setClock(clockSpeed);\n  Wire.onReceive(receiveEvent);\n  Serial.begin(9600);\n  tcaselect(1);\n}\n\nvoid loop() {\n  delay(100);\n  if(strcmp(myOutput, sent)) {\n    send(myOutput);\n    strncpy(sent, myOutput, 32);\n  }\n}\n\nvoid tcaselect(uint8_t i) {\n  if (i &gt; 7) return;\n  Wire.beginTransmission(TCAADDR);\n  Wire.write(1 &lt;&lt; i);\n  Wire.endTransmission();\n}\n\nvoid receiveEvent() {\n  char c[32] = {0};\n  int count = 0;\n  while (0 &lt; Wire.available()) {\n    c[count] = Wire.read();\n    Serial.print(c[count]);\n    count++;\n  }\n  Serial.println();\n  strncpy(myOutput, c, 32);\n}\n\nvoid send(char c[]) {\n  Wire.beginTransmission(0x40);\n  Serial.print(\"Sending signal:\\t\");\n  Wire.write(c);\n  Serial.print(c);\n  Serial.println();\n  Wire.endTransmission();\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "boost"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1507148208, "post_id": 46573377, "comment_id": 80100536, "body": "I think C++11 pretty much just adopted boost::tuple. So it&#39;s not surprising they&#39;d be the same."}], "answers": [{"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 3, "creation_date": 1507148829, "post_id": 46573504, "comment_id": 80100815, "body": "One very major difference between boost and std tuple, is that boost tuple has a member <code>get</code> function which is actually probably its most used method. In std <code>get</code> is only offered as a free function, so the refactoring you are suggesting would probably badly break most codebases."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1507148916, "post_id": 46573504, "comment_id": 80100845, "body": "&quot;There&#39;s no functional difference.&quot; this is not quite true. <code>boost::tuple</code> functionality is more reach so you cannot expect everything will work with simple replacement. And your edit is not quite correct - boost provide both member and free function while std only free one."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1507149124, "post_id": 46573504, "comment_id": 80100951, "body": "@Slava &quot;<i><code>boost::tuple</code> functionality is more reach</i>&quot; I don&#39;t know what you&#39;re saying."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1507149274, "post_id": 46573504, "comment_id": 80101001, "body": "boost provides both free function and member function for <code>get&lt;N&gt;</code>, std only provides free, so even OPs example would not compile with you suggested edit, boost also provides <code>operator&lt;&lt;</code> for tuple while <code>std</code> does not. There could be more."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 4, "last_activity_date": 1507148940, "last_edit_date": 1592644375, "creation_date": 1507148427, "answer_id": 46573504, "question_id": 46573377, "link": "https://stackoverflow.com/questions/46573377/c11-how-is-boostmake-tuple-different-from-stdmake-tuple/46573504#46573504", "title": "C++11: How is boost::make_tuple different from std::make_tuple?", "body": "<p>There's no functional difference.</p>\n<p><code>boost::tuple</code> was created almost two decades ago, and <code>std::tuple</code> was introduced to the core Standard Library in C++11, in 2011, only 6 years ago.</p>\n<p>They're not &quot;interchangable&quot;, for a given definition of the term &quot;interchangable&quot;. You can't assign a <code>std::tuple&lt;&gt;</code> to a <code>boost::tuple&lt;&gt;</code> or vice-versa, because even if their implementation is the same, they still represent distinct objects.</p>\n<p>However, because they are essentially the same, you can do a find\u2192replace for <code>boost::tuple</code>\u2192<code>std::tuple</code> and more-or-less arrive with identically behaving and performing code, and because dependency on the boost libraries is not something every programmer can have, it's almost universally recommended that any project which has access to &gt;=C++11 prefer <code>std::tuple</code> in all cases.</p>\n<h1>EDIT:</h1>\n<p>As pointed out by @Nir, there are a few syntactical differences between <code>boost::tuple</code> and <code>std::tuple</code>, notably involving the <code>get&lt;&gt;()</code> syntax, which is also a member function of <code>boost::tuple</code> and only a free function for <code>std::tuple</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 5928097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b32b045df6cfae8744137080225581?s=128&d=identicon&r=PG&f=1", "display_name": "kingkevlar", "link": "https://stackoverflow.com/users/5928097/kingkevlar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 0, "accepted_answer_id": 46573504, "answer_count": 1, "score": 0, "last_activity_date": 1507148940, "creation_date": 1507147884, "question_id": 46573377, "link": "https://stackoverflow.com/questions/46573377/c11-how-is-boostmake-tuple-different-from-stdmake-tuple", "title": "C++11: How is boost::make_tuple different from std::make_tuple?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/utility/tuple/make_tuple\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/utility/tuple/make_tuple</a>\n(for convenience code is pasted)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;tuple&gt;\n#include &lt;functional&gt;\n\nstd::tuple&lt;int, int&gt; f() // this function returns multiple values\n{\n    int x = 5;\n    return std::make_tuple(x, 7); // return {x,7}; in C++17\n}\n\nint main()\n{\n    // heterogeneous tuple construction\n    int n = 1;\n    auto t = std::make_tuple(10, \"Test\", 3.14, std::ref(n), n);\n    n = 7;\n    std::cout &lt;&lt; \"The value of t is \"  &lt;&lt; \"(\"\n              &lt;&lt; std::get&lt;0&gt;(t) &lt;&lt; \", \" &lt;&lt; std::get&lt;1&gt;(t) &lt;&lt; \", \"\n              &lt;&lt; std::get&lt;2&gt;(t) &lt;&lt; \", \" &lt;&lt; std::get&lt;3&gt;(t) &lt;&lt; \", \"\n              &lt;&lt; std::get&lt;4&gt;(t) &lt;&lt; \")\\n\";\n\n    // function returning multiple values\n    int a, b;\n    std::tie(a, b) = f();\n    std::cout &lt;&lt; a &lt;&lt; \" \" &lt;&lt; b &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p><a href=\"https://theboostcpplibraries.com/boost.tuple\" rel=\"nofollow noreferrer\">https://theboostcpplibraries.com/boost.tuple</a></p>\n\n<pre><code>#include &lt;boost/tuple/tuple.hpp&gt;\n#include &lt;boost/tuple/tuple_io.hpp&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n  typedef boost::tuple&lt;std::string, int, bool&gt; animal;\n  animal a = boost::make_tuple(\"cat\", 4, true);\n  a.get&lt;0&gt;() = \"dog\";\n  std::cout &lt;&lt; std::boolalpha &lt;&lt; a &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>It would seem based on the documentation that boost::make_tuple and std::make_tuple are exactly interchangeable. </p>\n\n<p>Are they really exactly interchangeable? In what circumstances are they not? </p>\n\n<p>In the boost documentation it says that boost::tuple and std::tuple are the same in c++11</p>\n\n<p>In the std documentation it says make_tuple returns a std::tuple. </p>\n\n<p>So are there any nuances that I am missing?</p>\n"}, {"tags": ["c++", "timer", "event-handling", "unreal-engine4", "unreal-blueprint"], "comments": [{"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507147724, "post_id": 46573325, "comment_id": 80100297, "body": "Comparing float values that way (for exact equality) is probably a <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">bad idea</a>."}, {"owner": {"reputation": 46, "user_id": 7388371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7396f32abab46d7c77ac2c04f404695?s=128&d=identicon&r=PG", "display_name": "TheInvisibleMan", "link": "https://stackoverflow.com/users/7388371/theinvisibleman"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507151114, "post_id": 46573325, "comment_id": 80101866, "body": "Then how would you like to do that? I&#39;m afraid there isn&#39;t many other ways to check if one variable is equal to another."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507151329, "post_id": 46573325, "comment_id": 80101969, "body": "Regarding C++ code you can use the <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/epsilon\" rel=\"nofollow noreferrer\"><i>epsilon</i> approximation</a>."}, {"owner": {"reputation": 46, "user_id": 7388371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7396f32abab46d7c77ac2c04f404695?s=128&d=identicon&r=PG", "display_name": "TheInvisibleMan", "link": "https://stackoverflow.com/users/7388371/theinvisibleman"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507154242, "post_id": 46573325, "comment_id": 80103162, "body": "How much could it impact on the code&#39;s overall stability or performance (assuming there&#39;s a larg amount of in-game features using this technique)? I&#39;m excluding a potential human factor within code&#39;s structure (eg. instead of comparing, re-writing current variable&#39;s value - a famous mistake of using = instead of ==)."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507154586, "post_id": 46573325, "comment_id": 80103290, "body": "<i>&quot;How much could it impact on the code&#39;s overall stability or performance&quot;</i> It would impact your performance as much as your <code>while()</code> loops condition stays true (it could possibly run infinite). But I&#39;m not sure what really applies here. Are you providing that exact C++ code you posted in your question, or does the Unreal Engine generate something for you? (I&#39;d suspect in the latter case it should be done correctly)."}, {"owner": {"reputation": 46, "user_id": 7388371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7396f32abab46d7c77ac2c04f404695?s=128&d=identicon&r=PG", "display_name": "TheInvisibleMan", "link": "https://stackoverflow.com/users/7388371/theinvisibleman"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507156035, "post_id": 46573325, "comment_id": 80103782, "body": "Anyway, thank you for that advise, it&#39;s worth taking into consideration. In this specific case while wouldn&#39;t run forever, because it&#39;s only related to temporary states, like previously given stamina/health regeneration, which would obviously finish just after leveling off to its initial value, stored in a separated variable."}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 7388371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7396f32abab46d7c77ac2c04f404695?s=128&d=identicon&r=PG", "display_name": "TheInvisibleMan", "link": "https://stackoverflow.com/users/7388371/theinvisibleman"}, "edited": false, "score": 0, "creation_date": 1507639012, "post_id": 46644105, "comment_id": 80282185, "body": "Anyway, thanks for reply. I just got my hands on paper tutorial, which will include this type of operations as well (I hope so :p), so sooner or later I&#39;ll find out :)"}], "tags": [], "owner": {"reputation": 1027, "user_id": 4265481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aa21f.jpg?s=128&g=1", "display_name": "LumbusterTick", "link": "https://stackoverflow.com/users/4265481/lumbustertick"}, "is_accepted": false, "score": 0, "last_activity_date": 1507544308, "creation_date": 1507544308, "answer_id": 46644105, "question_id": 46573325, "link": "https://stackoverflow.com/questions/46573325/unreal-engine-event-handling-inside-while-loop/46644105#46644105", "title": "Unreal Engine - event handling inside &#39;while...&#39; loop", "body": "<p>I recommend when the set timer event is running on loop there is no need for a while loop and complicate things just use a simple branch , again I can be wrong.</p>\n"}], "owner": {"reputation": 46, "user_id": 7388371, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7396f32abab46d7c77ac2c04f404695?s=128&d=identicon&r=PG", "display_name": "TheInvisibleMan", "link": "https://stackoverflow.com/users/7388371/theinvisibleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 917, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507544308, "creation_date": 1507147611, "last_edit_date": 1507154019, "question_id": 46573325, "link": "https://stackoverflow.com/questions/46573325/unreal-engine-event-handling-inside-while-loop", "title": "Unreal Engine - event handling inside &#39;while...&#39; loop", "body": "<p>I'm trying to create an event handler, which affects stamina regeneration in-game, for example every 0.75s tick <em>CurrentStamina</em> variable should be increased by <em>BasicStaminaRegen</em> variable's value. I wanted to include it into a while loop to check at every tick if <em>CurrentStamina == MaxStamina</em>.</p>\n\n<p>Concept C++ code:</p>\n\n<pre><code>...\nfloat currentStamina = 25.0, maxStamina = 100.0, basicStaminaRegen = 5.0;\nwhile(currentStamina != maxStamina) {\n(something related to handle a timer)\n...\ncurrentStamina += basicStaminaRegen;\n}\n...\n</code></pre>\n\n<p>Question is, how can I accomplish it in UE blueprint editor?</p>\n\n<p><a href=\"https://i.stack.imgur.com/XFRsC.png\" rel=\"nofollow noreferrer\"><em>StaminaRegen</em> defined function</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/XFRsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFRsC.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1AE09.png\" rel=\"nofollow noreferrer\">Part of code with an appropriate event handler</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1AE09.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1AE09.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "c", "llvm", "jit"], "comments": [{"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "edited": false, "score": 1, "creation_date": 1507147118, "post_id": 46573148, "comment_id": 80100002, "body": "What exactly are you trying to acomplish? From what you wrote, <code>dlopen</code> would be enough, but you probably mean something different."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 1, "creation_date": 1507147317, "post_id": 46573148, "comment_id": 80100080, "body": "You can&#39;t load and link <code>.obj</code> files dynamically. That&#39;s what <i>shared libraries</i> (<code>.dll</code>&#39;s) are for."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507148437, "post_id": 46573148, "comment_id": 80100627, "body": "Which language, C or C++?  They are different.  Some compilers use <i>name mangling</i> to support C++ overloading of functions.  The C compiler doesn&#39;t do this.  Your shared library interface needs to know whether or not to use name mangling."}, {"owner": {"reputation": 41, "user_id": 7520330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZ7Id.png?s=128&g=1", "display_name": "Jaberwocky", "link": "https://stackoverflow.com/users/7520330/jaberwocky"}, "edited": false, "score": 0, "creation_date": 1507148991, "post_id": 46573148, "comment_id": 80100883, "body": "I don&#39;t want to use shared libraries.  I want to JIT an object file and resolve the references to the functions at runtime. With LLVM it&#39;s like this:  You compile (don&#39;t link) you .cpp file to the bytecode of LLVM. Then you load this object file at runtime. The JIT will extract all Segments and call a function for undefined references like when you use printf. Now you have the chance to give the JIT an address for the function and in the end you have a working function. With the LLVM it is working, but it&#39;s huge. So I&#39;m searching for alternatives"}, {"owner": {"reputation": 2354, "user_id": 9428851, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MBhDff_bdY0/AAAAAAAAAAI/AAAAAAAACAY/lx7DUTjS350/photo.jpg?sz=128", "display_name": "Victor Gubin", "link": "https://stackoverflow.com/users/9428851/victor-gubin"}, "edited": false, "score": 0, "creation_date": 1548190014, "post_id": 46573148, "comment_id": 95452268, "body": "Probably <a href=\"https://gcc.gnu.org/wiki/JIT\" rel=\"nofollow noreferrer\">GCC JIT</a>  doing something like this."}, {"owner": {"reputation": 2354, "user_id": 9428851, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MBhDff_bdY0/AAAAAAAAAAI/AAAAAAAACAY/lx7DUTjS350/photo.jpg?sz=128", "display_name": "Victor Gubin", "link": "https://stackoverflow.com/users/9428851/victor-gubin"}, "edited": false, "score": 0, "creation_date": 1548190136, "post_id": 46573148, "comment_id": 95452313, "body": "On Windows you will need MinGW64 from <a href=\"https://www.msys2.org/\" rel=\"nofollow noreferrer\">MSYS2</a>"}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 9195343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfd026a90f970bcd28725f932153e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Hilton Fernandes", "link": "https://stackoverflow.com/users/9195343/hilton-fernandes"}, "is_accepted": false, "score": 0, "last_activity_date": 1548186950, "creation_date": 1548186950, "answer_id": 54315545, "question_id": 46573148, "link": "https://stackoverflow.com/questions/46573148/load-and-link-obj-files-at-runtime-in-c-c-jit/54315545#54315545", "title": "Load and link obj files at Runtime in C/C++ (JIT)", "body": "<p>I suppose that an analogy that can be taken as a 1st approach is that the <code>.bc</code> is similar to an <code>.o</code> (or <code>.obj</code>) file in that it is just the translation of C++ code to an intermediate language, and tht it can contain references to functions not defined in it, to be searched in libraries. </p>\n\n<p>And that the JIT-ted code is similar to a DLL, in the sense that it will be linked dynamically to the executable where it will run in. </p>\n\n<p>You need not to compile LLVM -- you can download the binaries for LLVM and assorted utilities (like <code>clang</code>) from <a href=\"http://releases.llvm.org/\" rel=\"nofollow noreferrer\">LLVM Download Page</a></p>\n"}], "owner": {"reputation": 41, "user_id": 7520330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZ7Id.png?s=128&g=1", "display_name": "Jaberwocky", "link": "https://stackoverflow.com/users/7520330/jaberwocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 844, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1548186950, "creation_date": 1507146968, "question_id": 46573148, "link": "https://stackoverflow.com/questions/46573148/load-and-link-obj-files-at-runtime-in-c-c-jit", "title": "Load and link obj files at Runtime in C/C++ (JIT)", "body": "<p>I'm searching for a C or C++ library which can load and link obj files (doesn't matter if ELF or obj) dynamicly at runtime. I spend some time searching for such library, but my results weren't successful.</p>\n\n<p>What I tried:</p>\n\n<p><strong>LLVM</strong>:\nCurrently my best solution! I used Clang to generate .obj files in the bytecode format of LLVM and used its JIT functions to dynamic load and execute the function. But, the LLVM is huge and my PC at home hasn't the power to compile the complete LLVM just for the JIT. Also I encountered some problems with relocation overflows or not implemented relocation types.</p>\n\n<p><strong>libjit</strong>:\nI read, that it can load .elf files and link them too. But sadly, I couldn't compile it for windows, so I couldn't try.</p>\n\n<p><strong>Nanojit and NativeJit</strong>:\nIt seems like they don't support JITting an object file.</p>\n\n<p>So... What can I do? Do I have to stick around with the LLVM? Are there any alternatives?</p>\n"}, {"tags": ["c++", "arrays", "bit-shift", "shift"], "comments": [{"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507147041, "post_id": 46573122, "comment_id": 80099962, "body": "<i>&quot;i dont know where my mistake is....&quot;</i> What is the problem actually? Compiler errors? Runtime errors? Unexpected output?"}, {"owner": {"reputation": 95, "user_id": 8500699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72865c9a6636e60b02b84ffcd5aabf7d?s=128&d=identicon&r=PG&f=1", "display_name": "shiv zuh", "link": "https://stackoverflow.com/users/8500699/shiv-zuh"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507147104, "post_id": 46573122, "comment_id": 80099995, "body": "check the desc again, i added more details"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507147186, "post_id": 46573122, "comment_id": 80100029, "body": "Not enough details. Provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, show your observations when stepping through your code with the debugger."}, {"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507147774, "post_id": 46573122, "comment_id": 80100340, "body": "I&#39;m not at all sure I understand what you&#39;re trying to do, but if it doesn&#39;t work for large &quot;shiftBy&quot; inputs, is it because you&#39;re only checking shiftBy &gt; size once? I mean, I would think you would want something more like &quot;while (shiftBy &gt;= size) { shiftBy -= size; }&quot; at the top of your function."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507148921, "post_id": 46573122, "comment_id": 80100848, "body": "Move your <code>temp =</code> statement to before the <code>for</code> loop.  Otherwise it looks like a <i>swap</i> pattern."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 0, "last_activity_date": 1507148870, "creation_date": 1507148870, "answer_id": 46573618, "question_id": 46573122, "link": "https://stackoverflow.com/questions/46573122/shift-by-left-an-array-withh-given-value/46573618#46573618", "title": "shift by left an array withh given value", "body": "<p>Arrays can be shifted either by moving elements or changing the index.  </p>\n\n<p><strong>Shifting by moving elements</strong>\nRepeat for every slot:</p>\n\n<pre><code>array[i] = array[i+1];\n// or \narray[i+1] = array[i];\n</code></pre>\n\n<p><strong>Rotating by moving elements</strong></p>\n\n<pre><code>i = 0;\ncarry_value = array[i];\n// Loop:\narray[i] = array[i+1];\n// end loop\narray[last_slot] = carry_value;\n</code></pre>\n\n<p>A Caesar Cipher works by changing the index value:</p>\n\n<pre><code>new_value = array[(index + offset) % array_capacity];\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8500699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72865c9a6636e60b02b84ffcd5aabf7d?s=128&d=identicon&r=PG&f=1", "display_name": "shiv zuh", "link": "https://stackoverflow.com/users/8500699/shiv-zuh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1507673494, "accepted_answer_id": 46573618, "answer_count": 1, "score": -4, "last_activity_date": 1507148870, "creation_date": 1507146898, "last_edit_date": 1507147090, "question_id": 46573122, "link": "https://stackoverflow.com/questions/46573122/shift-by-left-an-array-withh-given-value", "closed_reason": "Needs details or clarity", "title": "shift by left an array withh given value", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nvoid shiftLeft (char myarray[], int size, int shiftBy)\n{\n    if(shiftBy &gt; size){\n        shiftBy = shiftBy - size;\n    }\n\n    if(size == 1){\n        //do nothing\n    }\n    else{\n        char temp;\n        //for loop to print the array with indexes moved up (to the left) &lt;-- by 2\n        for (int i=0; i &lt; size-shiftBy; i++)\n        {//EXAMPLE shift by 3  for a c-string of 5\n            temp = myarray[i];//temp = myarray[0]\n            myarray[i] = myarray[i + shiftBy];//myarray[0] == myarray[2]\n            myarray[i + shiftBy] = temp;//myarray[2] = temp(value previously at index i)\n        }\n\n    }\n}\n\nint main ()\n{\n    char text[] = \"OPAKMIGWPKBTWAQSZQABTAVWASZGETAATGCEWQEAVFZMHATXSOQLPAMOTZMIATXFWFKMQEMELWBHQZYPQJMFGEMLKTZQEOWAVARATXMXIABTKVAOUKDQFLTQZWDKMYMAFLPUFSULYGWMDLWELWBOQFZWGLIRSZYZWGKMZWIDTMFOMQFBTWEAGLESVPXZARMZDIWWBTWLMJSQKBQNMZAVSGNFZMKWIDZMSADQKPUKPMJVQKANWTXKIEZIWWBASAWANFZMDWQEKWYWUUKBMCMFZMAFTKGBTWZEGCZVAFZMEOMQHWRWIEQEUFLMFLPGEZQNXSSQLPQOWAVAMJMXGDQDGPSZWSVPVMQHJGLQTSDQHZAEQEWAFGSQWXMFLYATQKBAYWNWNAJMUKTQWXMFLYATQKBAYWNWNAJMUKTQWX\" ;\n    char textTwo[] = \"OPAKMIGWPKBTWAQSZQABTAVWASZGETAATGCEWQEAVFZMHATXSOQLPAMOTZMIATXFWFKMQEMELWBHQZYPQJMFGEMLKTZQEOWAVARATXMXIABTKVAOUKDQFLTQZWDKMYMAFLPUFSULYGWMDLWELWBOQFZWGLIRSZYZWGKMZWIDTMFOMQFBTWEAGLESVPXZARMZDIWWBTWLMJSQKBQNMZAVSGNFZMKWIDZMSADQKPUKPMJVQKANWTXKIEZIWWBASAWANFZMDWQEKWYWUUKBMCMFZMAFTKGBTWZEGCZVAFZMEOMQHWRWIEQEUFLMFLPGEZQNXSSQLPQOWAVAMJMXGDQDGPSZWSVPVMQHJGLQTSDQHZAEQEWAFGSQWXMFLYATQKBAYWNWNAJMUKTQWXMFLYATQKBAYWNWNAJMUKTQWX\";\n    string OG=\"OPAKMIGWPKBTWAQSZQABTAVWASZGETAATGCEWQEAVFZMHATXSOQLPAMOTZMIATXFWFKMQEMELWBHQZYPQJMFGEMLKTZQEOWAVARATXMXIABTKVAOUKDQFLTQZWDKMYMAFLPUFSULYGWMDLWELWBOQFZWGLIRSZYZWGKMZWIDTMFOMQFBTWEAGLESVPXZARMZDIWWBTWLMJSQKBQNMZAVSGNFZMKWIDZMSADQKPUKPMJVQKANWTXKIEZIWWBASAWANFZMDWQEKWYWUUKBMCMFZMAFTKGBTWZEGCZVAFZMEOMQHWRWIEQEUFLMFLPGEZQNXSSQLPQOWAVAMJMXGDQDGPSZWSVPVMQHJGLQTSDQHZAEQEWAFGSQWXMFLYATQKBAYWNWNAJMUKTQWXMFLYATQKBAYWNWNAJMUKTQWX\";\n    int size =OG.length(); \n    int count = 0;\n    ofstream outputFile(\"info.txt\");\n    for (int i =1; i&lt;size+1;i++){\n        shiftLeft(text,size,i);\n        string name=\"OPAKMIGWPKBTWAQSZQABTAVWASZGETAATGCEWQEAVFZMHATXSOQLPAMOTZMIATXFWFKMQEMELWBHQZYPQJMFGEMLKTZQEOWAVARATXMXIABTKVAOUKDQFLTQZWDKMYMAFLPUFSULYGWMDLWELWBOQFZWGLIRSZYZWGKMZWIDTMFOMQFBTWEAGLESVPXZARMZDIWWBTWLMJSQKBQNMZAVSGNFZMKWIDZMSADQKPUKPMJVQKANWTXKIEZIWWBASAWANFZMDWQEKWYWUUKBMCMFZMAFTKGBTWZEGCZVAFZMEOMQHWRWIEQEUFLMFLPGEZQNXSSQLPQOWAVAMJMXGDQDGPSZWSVPVMQHJGLQTSDQHZAEQEWAFGSQWXMFLYATQKBAYWNWNAJMUKTQWXMFLYATQKBAYWNWNAJMUKTQWX\";\n        for(int j=0;j&lt;size;j++){\n            if(text[j]==textTwo[j])\n            count++;\n        }\n        outputFile  &lt;&lt;\"Shift right by: \" &lt;&lt; 422-i &lt;&lt; \" Coincidences: \" &lt;&lt; count &lt;&lt;\"text:\" &lt;&lt;text &lt;&lt;endl; \n        strcpy_s(text, name.c_str());\n        count = 0;\n    }\noutputFile.close();\n    return 0;\n}\n</code></pre>\n\n<p>My goal is here to crack The Vigen`ere Cipher but i need to do the following operrationg shift the bits starting from 0 to size of text and check if the shifted and original text match up, the maximum value that they match up gives me the key space but my code doesnt work proper, shifting left seems to not work but i have tested on small inputs it works fine on small inputs..</p>\n"}, {"tags": ["c++", "winapi", "hook"], "comments": [{"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "edited": false, "score": 0, "creation_date": 1507146736, "post_id": 46573033, "comment_id": 80099826, "body": "It will go to next if it <b>is</b> set. So it goes over all of them."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1507149524, "post_id": 46573033, "comment_id": 80101100, "body": "The code is parsing a PE header. There is no hooking anywhere, nor is this low-level by any stretch. Asking about basic C syntax is not what Stack Overflow is meant to be used for."}, {"owner": {"reputation": 181, "user_id": 2419556, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/79c0ee1c6cf5916fae4ad6f74710282e?s=128&d=identicon&r=PG", "display_name": "JimmySmithJR", "link": "https://stackoverflow.com/users/2419556/jimmysmithjr"}, "edited": false, "score": 0, "creation_date": 1507293978, "post_id": 46573033, "comment_id": 80163901, "body": "Thanks for the input but how is this not low level? I mean isn&#39;t dealing with PE headers pretty low level, unless you&#39;re comparing it to assembly (I&#39;m genuinely asking, I&#39;m not familiar with this as much). Sorry most of my background in any type of programming is high level java/web development, I was just  trying to get the hang of dealing with stuff like this. I&#39;ve seen plenty of questions here dealing with basic explanations/syntax for certain things."}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 6, "last_activity_date": 1507154972, "last_edit_date": 1507154972, "creation_date": 1507153158, "answer_id": 46574630, "question_id": 46573033, "link": "https://stackoverflow.com/questions/46573033/image-dos-header-hooking/46574630#46574630", "title": "IMAGE_DOS_HEADER Hooking", "body": "<pre><code>PIMAGE_DOS_HEADER pImgDosHeaders = (PIMAGE_DOS_HEADER)module;\n</code></pre>\n\n<ul>\n<li>A process gets loaded at a particular memory address of the OS's choosing.  The <code>HMODULE</code> instance handle for the process is the same as its load address.  So this is getting a pointer to the process's <code>IMAGE_DOS_HEADER</code> struct at the beginning of the load address.</li>\n</ul>\n\n<p></p>\n\n<pre><code>PIMAGE_NT_HEADERS pImgNTHeaders = (PIMAGE_NT_HEADERS)((LPBYTE)pImgDosHeaders + pImgDosHeaders-&gt;e_lfanew);\n</code></pre>\n\n<ul>\n<li>The <code>e_lfanew</code> field is the offset to the process's <code>IMAGE_NT_HEADERS</code> struct.  This is type-casting <code>pImgDosHeaders</code> to a <code>BYTE*</code> pointer, incrementing its value by <code>e_lfanew</code> bytes, and then type-casting the result to <code>IMAGE_NT_HEADERS*</code>.</li>\n</ul>\n\n<p></p>\n\n<pre><code>PIMAGE_IMPORT_DESCRIPTOR pImgImportDesc = (PIMAGE_IMPORT_DESCRIPTOR)((LPBYTE)pImgDosHeaders + pImgNTHeaders-&gt;OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_IMPORT].VirtualAddress);\n</code></pre>\n\n<ul>\n<li>Same thing as above.  <code>DataDirectory[IMAGE_DIRECTORY_ENTRY_IMPORT].VirtualAddress</code> is an offset to the first <code>IMAGE_IMPORT_DESCRIPTOR</code> struct of the process's Imports table.  <code>pImgDosHeaders</code> is being incremented by that many bytes, and then type-casted to <code>IMAGE_IMPORT_DESCRIPTOR*</code>.</li>\n</ul>\n\n<p></p>\n\n<pre><code>for (IMAGE_IMPORT_DESCRIPTOR *iid = pImgImportDesc; iid-&gt;Name != NULL; iid++)\n</code></pre>\n\n<ul>\n<li>This is looping through the entire imports table.  <code>iid</code> points to the first descriptor in the table, and the loop continues through the table until it finds a descriptor without a <code>Name</code> assigned, denoting the end of the table.</li>\n</ul>\n\n<p>Read this MSDN article for more details:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ms809762.aspx\" rel=\"noreferrer\">Peering Inside the PE: A Tour of the Win32 Portable Executable File Format</a></p>\n"}], "owner": {"reputation": 181, "user_id": 2419556, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/79c0ee1c6cf5916fae4ad6f74710282e?s=128&d=identicon&r=PG", "display_name": "JimmySmithJR", "link": "https://stackoverflow.com/users/2419556/jimmysmithjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1507154972, "creation_date": 1507146557, "last_edit_date": 1507152698, "question_id": 46573033, "link": "https://stackoverflow.com/questions/46573033/image-dos-header-hooking", "title": "IMAGE_DOS_HEADER Hooking", "body": "<p>I'm reading about Windows Hooking and the internals of Win32 executables (<a href=\"https://en.wikipedia.org/wiki/Hooking#Windows\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hooking#Windows</a>) and saw this block of code:</p>\n\n<pre><code>PIMAGE_DOS_HEADER pImgDosHeaders = (PIMAGE_DOS_HEADER)module;\nPIMAGE_NT_HEADERS pImgNTHeaders = (PIMAGE_NT_HEADERS)((LPBYTE)pImgDosHeaders + pImgDosHeaders-&gt;e_lfanew);\nPIMAGE_IMPORT_DESCRIPTOR pImgImportDesc = (PIMAGE_IMPORT_DESCRIPTOR)((LPBYTE)pImgDosHeaders + pImgNTHeaders-&gt;OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_IMPORT].VirtualAddress);\n\nfor (IMAGE_IMPORT_DESCRIPTOR *iid = pImgImportDesc; iid-&gt;Name != NULL; iid++)\n</code></pre>\n\n<p>My C is a little rusty and I probably need to brush up (pointers always confuse me), but I think the way this is working is it's creating an <code>IMAGE_IMPORT_DESCRIPTOR</code> pointer called <code>iid</code>. <code>iid</code> points to an <code>IMAGE_IMPORT_DESCRIPTOR</code>, and is set equal to an object named <code>pImgImportDesc</code>. So it's looking at <code>pImgImportDesc</code>'s <code>Name</code> property, and if it's not set it'll go to the next one? So basically, it's looking for the last one?</p>\n\n<p>Also any recommendations for books or videos to see more about the really low level things like this? Reading the code has me all confused. </p>\n"}, {"tags": ["c++", "switch-statement"], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 4154993, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Bv8Wx.jpg?s=128&g=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/4154993/valentin"}, "edited": false, "score": 0, "creation_date": 1507146225, "post_id": 46572894, "comment_id": 80099557, "body": "So how&#39;s &#39;default&#39; different?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 1040, "user_id": 4154993, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Bv8Wx.jpg?s=128&g=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/4154993/valentin"}, "edited": false, "score": 0, "creation_date": 1507146276, "post_id": 46572894, "comment_id": 80099590, "body": "@Valentin - Different how, you mean?"}, {"owner": {"reputation": 1040, "user_id": 4154993, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Bv8Wx.jpg?s=128&g=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/4154993/valentin"}, "edited": false, "score": 0, "creation_date": 1507146311, "post_id": 46572894, "comment_id": 80099615, "body": "Nvm, @Rakete1111 nailed it"}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1507146266, "last_edit_date": 1507146266, "creation_date": 1507145985, "answer_id": 46572894, "question_id": 46572845, "link": "https://stackoverflow.com/questions/46572845/why-can-you-define-a-variable-in-a-switch-statement-under-default-but-not-unde/46572894#46572894", "title": "Why can you define a variable in a switch statement under &#39;default&#39; but not under &#39;case&#39;", "body": "<p>You can't define it under <code>case 0</code> because a jump to the default label (<a href=\"http://en.cppreference.com/w/cpp/language/switch\" rel=\"nofollow noreferrer\">which is what a switch statement does</a>) will skip the initialization of <code>a</code>.</p>\n\n<p>C++ forbids such skipping. If there's variable being initialized in a block, then control cannot go to a point inside the block that is past the initialization, without preforming it.</p>\n\n<p>However, since <code>int</code> is a type without a constructor, then you can define the variable if you omit the initializer:</p>\n\n<pre><code>switch(myvar)\n{\n    case 0:\n        int a; //OK too\n        break;\n    default:\n        int b = 42; //OK\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1507146456, "post_id": 46572955, "comment_id": 80099689, "body": "I obviously didn&#39;t understand the OP&#39;s confusion :) +1"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507146848, "post_id": 46572955, "comment_id": 80099882, "body": "I had never considered that <code>default</code> could be anything but the last case in a switch."}], "tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": true, "score": 4, "last_activity_date": 1507146558, "last_edit_date": 1507146558, "creation_date": 1507146243, "answer_id": 46572955, "question_id": 46572845, "link": "https://stackoverflow.com/questions/46572845/why-can-you-define-a-variable-in-a-switch-statement-under-default-but-not-unde/46572955#46572955", "title": "Why can you define a variable in a switch statement under &#39;default&#39; but not under &#39;case&#39;", "body": "<p>Try reordering your cases:</p>\n\n<pre><code>switch(myVar)\n{\n    default:\n        int b = 42; // error\n        break;\n    case 0:\n        int a = 12; // ok\n}\n</code></pre>\n\n<p>Now you will see the compiler complain about <code>b</code>, and not <code>a</code>. There is nothing magical about <code>default</code>, it's just that if you define the variable in the last case statement, then there is no way to skip over the initialization of that variable, and so it is perfectly fine to do so.</p>\n\n<p>You can always scope your cases, so that the variables can't be accessed outside of a case, if that was your intention:</p>\n\n<pre><code>switch(myVar)\n{\n    case 0: {\n        int a = 12;\n    }\n    break;\n    default:\n        int b = 42;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 5686684, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/9d1uZ.jpg?s=128&g=1", "display_name": "digitalis", "link": "https://stackoverflow.com/users/5686684/digitalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1507146356, "creation_date": 1507146356, "answer_id": 46572988, "question_id": 46572845, "link": "https://stackoverflow.com/questions/46572845/why-can-you-define-a-variable-in-a-switch-statement-under-default-but-not-unde/46572988#46572988", "title": "Why can you define a variable in a switch statement under &#39;default&#39; but not under &#39;case&#39;", "body": "<p>Initialize all your variable before the switch statement. </p>\n\n<pre><code>int a = 0;\nswitch(myVar)\n{\n    case 0:\n        a = 12; //now ok\n        break;\n    default:\n        int b = 42; //OK\n}\n</code></pre>\n\n<p>It has got something to do with C++ standard. \nMore info here <a href=\"https://stackoverflow.com/questions/11578936/getting-a-bunch-of-crosses-initialization-error\">Cross initialization</a></p>\n"}, {"tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1507146365, "creation_date": 1507146365, "answer_id": 46572989, "question_id": 46572845, "link": "https://stackoverflow.com/questions/46572845/why-can-you-define-a-variable-in-a-switch-statement-under-default-but-not-unde/46572989#46572989", "title": "Why can you define a variable in a switch statement under &#39;default&#39; but not under &#39;case&#39;", "body": "<p>You can also do that:</p>\n\n<pre><code>switch(myVar)\n{\n    case 0:\n    {\n        int a = 0;\n    }\n    break;\n    default:\n        int b = 42; //OK\n}\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 4154993, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Bv8Wx.jpg?s=128&g=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/4154993/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 46572955, "answer_count": 4, "score": 2, "last_activity_date": 1507146558, "creation_date": 1507145803, "question_id": 46572845, "link": "https://stackoverflow.com/questions/46572845/why-can-you-define-a-variable-in-a-switch-statement-under-default-but-not-unde", "title": "Why can you define a variable in a switch statement under &#39;default&#39; but not under &#39;case&#39;", "body": "<p>I <a href=\"https://stackoverflow.com/questions/92396/why-cant-variables-be-declared-in-a-switch-statement\">understand</a> why I can't define a variable under 'case', but why can I define one under 'default' then? I thought it was another label, just like 'case'.</p>\n\n<pre><code>switch(myVar)\n{\n    case 0:\n        int a = 12; //error\n        break;\n    default:\n        int b = 42; //OK\n}\n</code></pre>\n"}, {"tags": ["c++", "performance", "optimization", "time-measurement", "as-if"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1507146037, "post_id": 46572817, "comment_id": 80099449, "body": "That changes the observable behaviour and so doesn&#39;t look like a valid optimization in either case. The issue here isn&#39;t time, it&#39;s that the compiler has to be able to determine that a change won&#39;t affect observable behaviour."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1507146099, "post_id": 46572817, "comment_id": 80099483, "body": "@pvg well I am almost certain that I am wrong with my assumptions somewhere, but what exactly can be observed here that wouldnt be ok with the as if rule?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 1, "creation_date": 1507147657, "post_id": 46572817, "comment_id": 80100266, "body": "<i>&quot;what prevents the compiler from not creating any code for the timing at all?&quot;</i> -- Compiler authors are bound by more standards than just the language standard. The standards of common decency, for one. Assuming the compiler is actually made for professional programmers to use, and not just a toy, of course."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1507190460, "post_id": 46572817, "comment_id": 80114112, "body": "@BenjaminLindley of course I dont expect any compiler to do anything like that, but the c++ standard is usually quite pedantic on everything, so I would be surprised if it was allowed"}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1559048965, "post_id": 46572817, "comment_id": 99290986, "body": "&quot;<i>what prevents the compiler from not creating any code for the timing at all</i>&quot; Because reading the clock is an output-input operation. It&#39;s the same as outputting &quot;what is the current time&quot; on <code>cout</code> and then reading the time on <code>cin</code> (provided by the user). You cannot define &quot;time&quot; in any other way."}], "answers": [{"comments": [{"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1559049606, "post_id": 46573060, "comment_id": 99291391, "body": "The compiler can&#39;t change the order of two &quot;black box function calls&quot;; what it can do is perform optimization on objects not reachable outside the function call, or the function, or the current TU. F.ex. it might notice that a static object is only given positive values, and optimize accordingly, across black box calls, as black box doesn&#39;t mean &quot;can do anything on any object&quot;."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1559050982, "post_id": 46573060, "comment_id": 99292263, "body": "&quot;<i>While in pure theory, it would be allowed to</i>&quot; What &quot;pure theory&quot; allows that?"}], "tags": [], "owner": {"reputation": 4590, "user_id": 2879325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2503121b7e7487cd870c8afe40f0cf21?s=128&d=identicon&r=PG", "display_name": "Ext3h", "link": "https://stackoverflow.com/users/2879325/ext3h"}, "is_accepted": false, "score": 2, "last_activity_date": 1507146645, "creation_date": 1507146645, "answer_id": 46573060, "question_id": 46572817, "link": "https://stackoverflow.com/questions/46572817/timing-vs-the-as-if-rule/46573060#46573060", "title": "Timing vs the &quot;as-if&quot; rule", "body": "<p>The compiler won't do that, you can be sure about that.</p>\n\n<p>While in pure theory, it would be allowed to, getting the system time involves system calls, which are a complete black box for the compiler.</p>\n\n<p>The compiler can't reorder around black box function calls, as it can't assume that this won't have any side effects or contains any barriers.</p>\n"}, {"comments": [{"owner": {"reputation": 4590, "user_id": 2879325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2503121b7e7487cd870c8afe40f0cf21?s=128&d=identicon&r=PG", "display_name": "Ext3h", "link": "https://stackoverflow.com/users/2879325/ext3h"}, "edited": false, "score": 1, "creation_date": 1507146841, "post_id": 46573066, "comment_id": 80099878, "body": "Just accessing a volatile won&#39;t stop the compiler from reordering yet. Only the order of operations on volatile variables are left untouched, all code in between can be shifter to hearts content.  Only the system calls stop the compiler, as no proof can be provided for unknown code. Well, at least if the API or the C++ implementation doesn&#39;t make any additional guarantees by pragma."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507190862, "post_id": 46573066, "comment_id": 80114340, "body": "so the point is that the compiler cannot prove that <code>some_lengthy_calculation(some_params)</code> always yields the same result in the presence of a system call (even if in reality it does), right?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507210524, "post_id": 46573066, "comment_id": 80127087, "body": "@tobi303 Rather, the more relevant question is rather or not the compiler can prove that it is allowed to reorder <code>auto begin = steady_clock::now();</code>. To reorder A and B implies that both A and B will change order, to move A ahead of B would not only change the order of A in relation to B, but it would change B&#39;s order in relation to A. The compiler still have to know that it can reorder it vis-&#224;-vis the timing function call."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1559049219, "post_id": 46573066, "comment_id": 99291166, "body": "Measuring time is in essence an I/O operation."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 2, "last_activity_date": 1507147070, "last_edit_date": 1507147070, "creation_date": 1507146670, "answer_id": 46573066, "question_id": 46572817, "link": "https://stackoverflow.com/questions/46572817/timing-vs-the-as-if-rule/46573066#46573066", "title": "Timing vs the &quot;as-if&quot; rule", "body": "<p>For the As-If rule to apply, the compiler must prove that the proposed change has no impact on the observable behavior. You are correct that the passage of time is not an observable behavior. However, in the case of reordering functions, it must prove that the order the functions are called in doesn't impact the observable behavior.</p>\n\n<p>Using timing features will invariably involve some mechanism for measuring time which the compiler will not be able to prove is safe to reorder. For example, it might involve a call to an opaque system API function or driver function that it can't inspect. If we take the most transparent example, a monotonic software clock that simply advances by 1 unit of time every time it's state is taken, there's no way to prove that the call order doesn't matter because it does matter.</p>\n"}], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 1, "accepted_answer_id": 46573066, "answer_count": 2, "score": 4, "last_activity_date": 1616680589, "creation_date": 1507145688, "last_edit_date": 1616680589, "question_id": 46572817, "link": "https://stackoverflow.com/questions/46572817/timing-vs-the-as-if-rule", "title": "Timing vs the &quot;as-if&quot; rule", "body": "<p>There is a great <a href=\"https://stackoverflow.com/questions/15718262/what-exactly-is-the-as-if-rule\">question about the &quot;as-if&quot; rule</a> in general, but I wonder if there are any exceptions when it comes to measuring time.</p>\n<p>Consider this (taken from <a href=\"https://stackoverflow.com/a/27739925/4117728\">here</a> slightly modified):</p>\n<pre><code>using std::chrono;\nauto begin = steady_clock::now();\n\nauto result = some_lengthy_calculation(some_params);\n\nauto end = std::chrono::steady_clock::now();\n\nstd::cout &lt;&lt; &quot;Time diff = &quot; &lt;&lt; duration_cast&lt;microseconds&gt;(end - begin).count() &lt;&lt;std::endl;\nstd::cout &lt;&lt; &quot;Result = &quot; &lt;&lt; result;\n</code></pre>\n<p>The compiler is allowed to apply any optimization that results in the same <code>result</code>. The point here is that the &quot;as-if&quot; rule does not apply to the measured time directly. Of course the measured time is not something that should be constant when optimizations are applied.</p>\n<p>So my question is: How is it possible that I can reliably measure time with the above code when, according to the &quot;as-if&quot; rule, the compiler is allowed to rearrange it to one of the following?</p>\n<pre><code>auto temp = some_lengthy_calculation(some_params); // clever &quot;optimization&quot;, precompute some stuff\n\nauto begin = steady_clock::now();\nauto result = temp;               // yay, I can use it here to pretend to be faster\nauto end = steady_clock::now();\n\nstd::cout &lt;&lt; &quot;Time diff = &quot; &lt;&lt; duration_cast&lt;microseconds&gt;(end - begin).count() &lt;&lt;std::endl;\nstd::cout &lt;&lt; &quot;Result = &quot; &lt;&lt; result;\n</code></pre>\n<p>or even &quot;more optimized&quot;:</p>\n<pre><code>std::cout &lt;&lt; &quot;Time diff = &quot; &lt;&lt; 42 &lt;&lt;std::endl;\nstd::cout &lt;&lt; &quot;Result = &quot; &lt;&lt; some_lengthy_calculation(some_params);\n</code></pre>\n<p>I assume no sane compiler would do that, but what exactly prevents a compiler from doing such &quot;optimization&quot;?</p>\n<p><strong>TL;DR...</strong></p>\n<ul>\n<li>One can observe the runtime difference between optimized and non-optimized code</li>\n<li>If compiler optimizations are allowed to effect measured times, what prevents the compiler from not creating any code for the timing at all?</li>\n</ul>\n"}, {"tags": ["c++", "linux", "multithreading", "bash", "threadpool"], "comments": [{"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 1, "creation_date": 1507145742, "post_id": 46572789, "comment_id": 80099291, "body": "Why don&#39;t you increase maximum number of user processes (<code>ulimit -u</code>)?"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1507145797, "post_id": 46572789, "comment_id": 80099326, "body": "Could be some <a href=\"https://en.wikipedia.org/wiki/Pluggable_authentication_module\" rel=\"nofollow noreferrer\">PAM</a> limit. Look into <code>&#47;etc&#47;security&#47;limits.conf</code>etc). However creating 100 <i>runnable</i> threads is unreasonable unless you have an expensive multi-socket server."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507149139, "post_id": 46572789, "comment_id": 80100957, "body": "Do you <i>really</i> need over 100 threads?  Remember that the OS still has to swap these threads with other threads.  Unless you can tell the OS to execute a thread on a separate core exclusively, it&#39;s still having to swap your threads with other processes."}, {"owner": {"reputation": 1, "user_id": 2192781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633a075316b12e0b5311e6c0b66aee91?s=128&d=identicon&r=PG", "display_name": "user2192781", "link": "https://stackoverflow.com/users/2192781/user2192781"}, "edited": false, "score": 0, "creation_date": 1507210014, "post_id": 46572789, "comment_id": 80126636, "body": "Sorry, that was a typo on my end. I increased ulimit -u &amp; -n values to 500000. I&#39;m trying to max out my server capabilities so I&#39;m trying to create as many threads as possible. Right now I&#39;m 20% utilization with RAM and 10% CPU but the OS settings seems to be the bottleneck. Once I figure how to tweak these settings I&#39;ll either scale up or down."}], "answers": [{"tags": [], "owner": {"reputation": 908, "user_id": 4148092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KwmJC.jpg?s=128&g=1", "display_name": "Retro Gamer", "link": "https://stackoverflow.com/users/4148092/retro-gamer"}, "is_accepted": false, "score": 0, "last_activity_date": 1507151953, "creation_date": 1507151953, "answer_id": 46574356, "question_id": 46572789, "link": "https://stackoverflow.com/questions/46572789/running-out-of-threads-on-debian/46574356#46574356", "title": "Running Out of Threads on Debian", "body": "<p>From my own experience, when using threads a good rule of thumb for increased performance for CPU bound processes is to use an equal number of threads as cores, except in the case of a hyper-threaded system in which case one should use twice as many cores. The other rule of thumb that can be concluded is for I/O bound processes. This rule is to quadruple the number threads per cores, except for the case of a hyper-threaded system, then one can quadruple the number of threads per core. So you probably shouldn't be making 100's of threads anyway. Just do \"enough\".</p>\n"}], "owner": {"reputation": 1, "user_id": 2192781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633a075316b12e0b5311e6c0b66aee91?s=128&d=identicon&r=PG", "display_name": "user2192781", "link": "https://stackoverflow.com/users/2192781/user2192781"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507151953, "creation_date": 1507145564, "question_id": 46572789, "link": "https://stackoverflow.com/questions/46572789/running-out-of-threads-on-debian", "title": "Running Out of Threads on Debian", "body": "<p>I have a program that creates a specified amount of active threads on my debian machine. When I try to create anything over 100 I get an error saying \"Error in creating thread\" when it reaches the OS limitation and machine doesn't accept any incoming connections and when executing commands I get \"-bash: fork: Cannot allocate memory\". Looking at the top command I see tasks are getting maxed out at 32564 and only 20% of my RAM is being utilized. I tried editing ulimit -a &amp; -n to 500000 and -s to 81920 but still doesn't do anything. Any help is greatly appreciated/.</p>\n"}, {"tags": ["c++", "arrays", "multidimensional-array", "indexing"], "comments": [{"owner": {"reputation": 405, "user_id": 5594432, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3fa6c8f80c6e6359687d627936ede5d3?s=128&d=identicon&r=PG&f=1", "display_name": "AMayer", "link": "https://stackoverflow.com/users/5594432/amayer"}, "edited": false, "score": 0, "creation_date": 1507145663, "post_id": 46572748, "comment_id": 80099247, "body": "I&#39;m always nervous when I see C++ in the topic list but the code isn&#39;t object oriented. If you can solve the problem in C, then there&#39;s no point using the C++ compiller."}, {"owner": {"reputation": 699, "user_id": 5921207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hRLIM.jpg?s=128&g=1", "display_name": "Falla Coulibaly", "link": "https://stackoverflow.com/users/5921207/falla-coulibaly"}, "edited": false, "score": 1, "creation_date": 1507146273, "post_id": 46572748, "comment_id": 80099589, "body": "The simplest way to achieve this will be using a graph, then you could find a path between the current position of the plane and the destination."}], "owner": {"reputation": 87, "user_id": 6831794, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SwFMQ.png?s=128&g=1", "display_name": "firetiger443", "link": "https://stackoverflow.com/users/6831794/firetiger443"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507145394, "creation_date": 1507145394, "question_id": 46572748, "link": "https://stackoverflow.com/questions/46572748/moving-a-char-around-a-2d-array-to-a-location-c", "title": "Moving a char around a 2D array to a location C++", "body": "<p>I am creating a program that mimic's planes flying around. I currently have a 2D array that prints nicely. What I want is to set the planes at user defined locations and have them all fly around to a destination the user defines. For instance they can be set at any point on a 10x10 grid and then all fly to a defined location and then fly back to where they started.</p>\n\n<p>This is the 2D grid:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nvoid printLine(){ std::cout &lt;&lt; \"--------------------------------------------\n-------\" &lt;&lt; std::endl; }\n\nint main(){\n\nconst int WIDTH = 10;\nconst int LENGTH = 10;\nchar chars[WIDTH][LENGTH] = {};\n//chars[0][0] = 'P';\n//chars[4][4] = 'P';\n\nprintLine();\nfor(int i = 0; i &lt; WIDTH; ++i){\n\n    for(int j = 0; j &lt; LENGTH; ++j){\n\n    std::cout &lt;&lt; \"|\" &lt;&lt; std::setw(5) &lt;&lt; chars[i][j] &lt;&lt; std::setw(5) &lt;&lt; ' ';\n\n    }\n\n   std::cout &lt;&lt; \"|\" &lt;&lt; std::endl;\n   printLine();\n\n }\n\n return 0;\n\n}\n</code></pre>\n\n<p>I know I need to retrieve the location of the planes by scanning for user input with std::cin but I am confused on what the best approach is to have the planes move and then re-print that 2D grid to watch them move around in terminal. I do not need to it be live in terminal every time a plane moves the array can just be reprinted. I initially thought just to try and match the location of the plane to the destination and keep incriminating (X,Y) value until they match but I am unsure how to properly tackle that in code that isn't just a hacky work around. I would also would like to try and avoid collisions but I think getting a move function to work would be the first step then work on collisions. If anyone has any advice they could give me on how to structure the code for what I described above that would be greatly appreciated.</p>\n"}, {"tags": ["c++", "cmd", "createprocess", "windows-console"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1507145421, "post_id": 46572646, "comment_id": 80099116, "body": "Stop tag spamming. Read the descriptions of tags before just randomly adding those that look familiar. Two of the ones you added have nothing to do with your question here. Tags have a specific definition and purpose here."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1507146732, "post_id": 46572646, "comment_id": 80099825, "body": "The <code>main</code> entry point defaults to creating a console application. Are you overriding the linker&#39;s defaults?"}, {"owner": {"reputation": 195, "user_id": 1234518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NcGWx.gif?s=128&g=1", "display_name": "script&#39;n&#39;code", "link": "https://stackoverflow.com/users/1234518/scriptncode"}, "edited": false, "score": 0, "creation_date": 1507148967, "post_id": 46572646, "comment_id": 80100871, "body": "Ken White: Perhaps the tags were too generic. Thanks for the advice. - eryksun: Why are you putting me to shame? ;-) I reviewed my linker&#39;s settings/options and noticed that <i>do not create a console window (-mwindows)</i> was set to <i>no</i> (i.e. disabled). After enableing it the window doesn&#39;t appear/show up anymore o_O <b>on a side note:</b> I&#39;ve played with the offending linker setting before, but at that time it didn&#39;t work somehow... call it a mystery, but i still want to find out why it works now out of the blue. Would you mind it if i&#39;ll consider your answer as workaround, and not a solution?"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 1234518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NcGWx.gif?s=128&g=1", "display_name": "script&#39;n&#39;code", "link": "https://stackoverflow.com/users/1234518/scriptncode"}, "edited": false, "score": 0, "creation_date": 1507149599, "post_id": 46572773, "comment_id": 80101132, "body": "Thank you for the tip/advice. I must admit that i&#39;m quite new(bie) to this (C++), so i&#39;ll most likely fail in putting all the pieces of the puzzle together. But i really appreciate the help you&#39;re offering! If i&#39;ll manage to get my head around it, i&#39;ll let you know my findings. It&#39;s just that there are so many ways/methods to achieve something, which can make things a little complicated/complex (every method has its pros/cons). I&#39;ll definetely consider your offered code snippet, but you must understand that there can always be something better (more simple/minimalistic) around the corner ;-)"}], "tags": [], "owner": {"reputation": 59, "user_id": 6402638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2836e5b19dfaf05f04182f9d51837468?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/6402638/steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1507145497, "creation_date": 1507145497, "answer_id": 46572773, "question_id": 46572646, "link": "https://stackoverflow.com/questions/46572646/createprocess-calling-cmd-exe-incl-arguments-with-no-showing-flashing-window/46572773#46572773", "title": "CreateProcess calling cmd.exe incl. arguments with no showing (flashing) window?", "body": "<p>Try Using ProcessBuilder. Here is an example of some code that I have that seems to work just fine. In my code below, the shellScript is a StringBuilder that I am dynamically creating that contains the command and it's parameters that I want to execute.</p>\n\n<pre><code>String[] scriptArray = shellScript.toString().split(\" \");\n\nProcessBuilder builder = new ProcessBuilder(scriptArray);\nFile outputFile = new File(\"/logs/AgentOutputLog.txt\");\nFile errorFile = new File(\"/logs/AgentErrorLog.txt\");\nbuilder.redirectOutput(outputFile);\nbuilder.redirectError(errorFile);\nProcess process = builder.start();\nint errCode = process.waitFor();\n\n//errCode = 0 means online\nif(errCode == 0){\n    success = true;\n    break;\n//errCode = 1 means offline\n} else if (errCode == 1){\n    success = false;\n    break;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1507148695, "post_id": 46572844, "comment_id": 80100748, "body": "Redirecting the standard handles is separate from showing a console window. Internally there are really 4 standard I/O handles -- <code>ConsoleHandle</code>, <code>StandardInput</code>, <code>StandardOutput</code>, and <code>StandardError</code>. Console input/screen buffer handles are useless without being attached to a console, i.e. the internal <code>ConsoleHandle</code>. The console handle is also implicitly used for console functions that don&#39;t take a console buffer handle such as <code>GetConsoleCP</code>. The <code>AllocConsole</code> and <code>AttachConsole</code> functions potentially set all 4 handles."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1507148756, "post_id": 46572844, "comment_id": 80100772, "body": "If a <code>CreateProcess</code> call doesn&#39;t specify the <code>DETACHED_PROCESS</code> creation flag, then a console application automatically attaches to its parent&#39;s console, or it creates a new console when either the parent doesn&#39;t have one or specifies the creation flag <code>CREATE_NEW_CONSOLE</code>. If neither of the latter is used, then <code>CREATE_NO_WINDOW</code> can be used to create a new console that has no window. If a new console with a window is created, the window can be created hidden via <code>SW_HIDE</code> in the startup info."}, {"owner": {"reputation": 195, "user_id": 1234518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NcGWx.gif?s=128&g=1", "display_name": "script&#39;n&#39;code", "link": "https://stackoverflow.com/users/1234518/scriptncode"}, "edited": false, "score": 0, "creation_date": 1507148809, "post_id": 46572844, "comment_id": 80100803, "body": "Thank you for pointing out the mistakes (i&#39;m a newbie to this, guess i don&#39;t have to make a confession about it ;-) ). About the stdin/stdout redirecting: I assume you&#39;re referring to the <b>C++</b> way of redirecting and not the <b>CMD</b> way of redirecting? The <b>C++</b> way of redirection to <i>null</i> is unknown to me (i&#39;ve only seen examples of redirection the output to a file). A lot of this is still a mystery to me, but i&#39;m learning it through failure, looking at people&#39;s code, and not being afraid to ask questions... I&#39;ll see what i can do, but it still sounds a bit abstract to me ;-)"}, {"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "edited": false, "score": 1, "creation_date": 1507149598, "post_id": 46572844, "comment_id": 80101131, "body": "Yes, i&#39;ve meant C++ redirection. <code>nul</code> is a special file/device provided by Windows."}, {"owner": {"reputation": 195, "user_id": 1234518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NcGWx.gif?s=128&g=1", "display_name": "script&#39;n&#39;code", "link": "https://stackoverflow.com/users/1234518/scriptncode"}, "edited": false, "score": 0, "creation_date": 1507149941, "post_id": 46572844, "comment_id": 80101306, "body": "What i was thinking ;-)  .. Perhaps i&#39;m wrong on this, but in case an IDE offers an option to hide (not show) a console window on execution, does the compiler use an alike/comparable method/way to hide the window (internally), as when using ShellExecute(Ex)&#39;s and CreateProcess&#39;s hiding capabilities? (abeit the latter giving way more controlls/handles)"}, {"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507157089, "post_id": 46572844, "comment_id": 80104103, "body": "@eryksun There is not fourth handle (what you call <code>ConsoleHandle</code>). The standard handles themselves are the console buffer handles. <code>GetConsoleCP</code> uses the <code>StandardInput</code> handle. I&#39;ve tried to hunt down these, handles and find out they behave in weird ways. There is a great write up here: <a href=\"https://github.com/rprichard/win32-console-docs\" rel=\"nofollow noreferrer\">github.com/rprichard/win32-console-docs</a>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507176073, "post_id": 46572844, "comment_id": 80108273, "body": "<a href=\"https://docs.microsoft.com/en-us/windows/console/getconsolecp\" rel=\"nofollow noreferrer\"><code>GetConsoleCP</code></a> does not use the <code>StandardInput</code> handle. Use a debugger and check the process parameters, <code>?? @$peb-&gt;ProcessParameters</code>. The <code>ConsoleHandle</code> is an internal, undocumented, implementation detail. Having it set to a valid handle for a console is what it means to be attached to a console."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507176115, "post_id": 46572844, "comment_id": 80108287, "body": "Prior to Windows 8, the <code>ConsoleHandle</code> is an LPC port shared between the console host process, conhost.exe, and an attached client process. Input/screen buffer handles are created and managed by the console and flagged by setting the lower 2 bits  (e.g. 3, 7, 11), which enables the API to route requests over special LPC-based functions instead of using the normal kernel I/O functions. Also, <code>CreateFile</code> is special cased to route opening &quot;con&quot;, &quot;conin$&quot;, and &quot;conout$&quot; to the LPC-based <code>OpenConsoleW</code> function."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507176186, "post_id": 46572844, "comment_id": 80108304, "body": "In Windows 8+, the console uses the &quot;\\Device\\ConDrv&quot; device. &quot;con&quot;, &quot;conin$&quot;, and &quot;conout$&quot; are object symlinks to virtual files on this device, respectively named &quot;Console&quot;, &quot;CurrentIn&quot;, and &quot;CurrentOut&quot;. The initial standard handles are files on the device named &quot;Input&quot; and &quot;Output&quot;, and the <code>ConsoleHandle</code> is a file named &quot;Connect&quot;. Other files named &quot;Server&quot; and &quot;Reference&quot; are used while connecting. Console input/screen buffer handles and the connection handle are kernel handles used with the standard NT I/O system calls <code>NtReadFile</code>, <code>NtWriteFile</code>, and <code>NtDeviceIoControlFile</code>."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507176426, "post_id": 46572844, "comment_id": 80108360, "body": "Here&#39;s a step-by-step overview of <a href=\"https://pastebin.com/fd9h5JCg\" rel=\"nofollow noreferrer\">console initialization</a> at startup when a console application creates a new console using the newer ConDrv device implementation."}, {"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507195227, "post_id": 46572844, "comment_id": 80116785, "body": "@eryksun Yes, there is a handle used to communicate with <code>ConDrv</code> / <code>csrss</code>. However try setting a input handle to <code>INVALID_HANDLE_VALUE</code>. Your <code>GetConsoleCP</code> will change to zero. <a href=\"https://pastebin.com/9rJAHibZ\" rel=\"nofollow noreferrer\">pastebin.com/9rJAHibZ</a> . I also think the console handle is opened just once at the beginning, no matter how many consoles you open, but I could be wrong."}, {"owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "edited": false, "score": 0, "creation_date": 1507201764, "post_id": 46572844, "comment_id": 80121126, "body": "Sorry. It&#39;s not a joke, but my stupidity. That means you are right."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507202915, "post_id": 46572844, "comment_id": 80121797, "body": "Functions that access global data in the attached instance of conhost.exe (e.g. <code>GetConsoleCP</code>, <code>GetConsoleTitle</code>, and <code>GetConsoleWindow</code>) aren&#39;t related to an input/screen buffer, so the API uses the <code>ConsoleHandle</code> implicitly. Additionally, the console API in Window 7 always uses <code>ConsoleHandle</code> implicitly because the input/screen buffer handles are managed by conhost.exe, and internally the system routes all console calls (including a console <code>CreateFile</code>, <code>ReadFile</code> or <code>WriteFile</code>) over the LPC port connection to conhost.exe. In Windows 8+ with the ConDrv device it&#39;s more complicated."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507204090, "post_id": 46572844, "comment_id": 80122499, "body": "In Windows 8+, <code>CreateFile</code>, <code>ReadFile</code> and <code>WriteFile</code> take the normal I/O path to the <code>NtCreateFile</code>, <code>NtReadFile</code>, and <code>NtWriteFile</code> system calls. Other console APIs use <code>NtDeviceIoControlFile</code>, either with an input/screen buffer handle or the &quot;Connect&quot; <code>ConsoleHandle</code>. The way it&#39;s implemented, the default &quot;Input&quot; and &quot;Output&quot; files on ConDrv work with any attached console. A &quot;Connect&quot; handle is specific to a connection to a particular instance of conhost.exe. If you detach via <code>FreeConsole</code>, this File is closed."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507204158, "post_id": 46572844, "comment_id": 80122543, "body": "...If you open &quot;con&quot; (Console), &quot;conin$&quot; (CurrentIn), or &quot;conout$&quot; (CurrentOut), these handles work with that particular console, and only that console. They continue to work if you detach via <code>FreeConsole</code> and then re-attach via <code>AttachConsole</code>."}], "tags": [], "owner": {"reputation": 923, "user_id": 1624527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822d8f4a0ba51b493d49188b59b97692?s=128&d=identicon&r=PG", "display_name": "rkapl", "link": "https://stackoverflow.com/users/1624527/rkapl"}, "is_accepted": false, "score": 1, "last_activity_date": 1507156954, "last_edit_date": 1507156954, "creation_date": 1507145802, "answer_id": 46572844, "question_id": 46572646, "link": "https://stackoverflow.com/questions/46572646/createprocess-calling-cmd-exe-incl-arguments-with-no-showing-flashing-window/46572844#46572844", "title": "CreateProcess calling cmd.exe incl. arguments with no showing (flashing) window?", "body": "<p><strong>Update:</strong> You also seem to confuse <code>CreateProcess</code> flags (its <code>dwCreationFlags</code> argument) with the member of <code>STARTUPINFO</code> structure. These are different flags, <code>CREATE_NO_WINDOW</code> should not be in <code>STARTUPINFO</code>.</p>\n\n<p>You have to pass the <code>CREATE_NO_WINDOW</code> flag, then the console window won't show. Originally I've answered that you have to redirect the standard handles which is not correct (but still highly recommanded).</p>\n\n<p>Set <code>STARTF_USESTDHANDLES</code> and fill in appropriate handles. If you are interested in the output of the process, create pipes, otherwise you can just open <code>nul</code> an pass that.</p>\n"}], "owner": {"reputation": 195, "user_id": 1234518, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NcGWx.gif?s=128&g=1", "display_name": "script&#39;n&#39;code", "link": "https://stackoverflow.com/users/1234518/scriptncode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507156954, "creation_date": 1507145004, "last_edit_date": 1507146767, "question_id": 46572646, "link": "https://stackoverflow.com/questions/46572646/createprocess-calling-cmd-exe-incl-arguments-with-no-showing-flashing-window", "title": "CreateProcess calling cmd.exe incl. arguments with no showing (flashing) window?", "body": "<p><strong>The saga continues...</strong></p>\n\n<p>I've searched the web, i've searched on StackOverflow, i found many hope giving answers/solutions, but somehow they have all failed (up)on me (including the ones related to ShellExecute(Ex) ).</p>\n\n<p><strong>How to hide a (flashing) CMD window (incl. arguments) using CreateProcess??</strong></p>\n\n<p>I basically want to call/execute a set of conditional/native <code>cmd.exe</code> commands (i.e. <code>FOR /F</code>, and <code>||</code>), but also an external command <code>FIND(STR).exe</code>. And this, <strong>without</strong> showing a (flashing) CMD window.</p>\n\n<p>But even hiding something as simple as <code>\"cmd.exe /C ECHO ...flashing window is bad...\"</code> seems impossible to do.</p>\n\n<p><strong>The code i've tried (including many variations related to the <code>dwFlags</code> and <code>wShowWindow</code> flags</strong></p>\n\n<pre><code>#include &lt;windows.h&gt;\n\nint main()\n\n\n{\n\n    char cmdline[] = \"cmd.exe /c ECHO ...flashing window is bad...\";\n\n    PROCESS_INFORMATION pi;\n    STARTUPINFO si;\n\n//  memset(&amp;si,0,sizeof(STARTUPINFO));\n    ZeroMemory(&amp;si, sizeof(STARTUPINFO));\n    si.cb = sizeof(STARTUPINFO);\n\n//  si.dwFlags = STARTF_USESTDHANDLES;\n//  si.dwFlags = CREATE_NO_WINDOW;\n    si.dwFlags = STARTF_USESHOWWINDOW;\n    si.wShowWindow = SW_HIDE;\n//  si.wShowWindow = CREATE_NO_WINDOW;\n\n    CreateProcess(NULL, (LPSTR) cmdline, NULL, NULL, 0, 0, NULL, NULL, &amp;si, &amp;pi);\n\n    WaitForSingleObject(pi.hProcess, INFINITE);\n\n    CloseHandle(pi.hThread);\n    CloseHandle(pi.hProcess);\n\n//  ExitProcess;\n\n    return 0;\n\n}\n</code></pre>\n\n<p>I don't want to rely on external programs i.e. .vbs (Windows Scripting Host) or shortcut tricks, but simply a standalone compiled .exe.</p>\n\n<p>Is this (really) too much to ask, or am i doing it (completely) wrong?</p>\n\n<p><strong>Thanks...</strong></p>\n"}, {"tags": ["c++", "gtk", "gtk3"], "comments": [{"owner": {"reputation": 3671, "user_id": 7728864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hv4Sl.jpg?s=128&g=1", "display_name": "Jos&#233; Fonte", "link": "https://stackoverflow.com/users/7728864/jos%c3%a9-fonte"}, "edited": false, "score": 2, "creation_date": 1507172082, "post_id": 46572620, "comment_id": 80107403, "body": "please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3671, "user_id": 7728864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hv4Sl.jpg?s=128&g=1", "display_name": "Jos&#233; Fonte", "link": "https://stackoverflow.com/users/7728864/jos%c3%a9-fonte"}, "edited": false, "score": 1, "creation_date": 1507203810, "post_id": 46581528, "comment_id": 80122339, "body": "I was thinking about that too but i was not sure if he used GtkBuilder. GtkBuilder instantiates at load. Once destroyed, the widget is gone."}, {"owner": {"reputation": 415, "user_id": 5036399, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-r1UDdT1khE0/AAAAAAAAAAI/AAAAAAAAAJE/Ni69zrsRiPY/photo.jpg?sz=128", "display_name": "Pekov", "link": "https://stackoverflow.com/users/5036399/pekov"}, "reply_to_user": {"reputation": 3671, "user_id": 7728864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hv4Sl.jpg?s=128&g=1", "display_name": "Jos&#233; Fonte", "link": "https://stackoverflow.com/users/7728864/jos%c3%a9-fonte"}, "edited": false, "score": 0, "creation_date": 1507215769, "post_id": 46581528, "comment_id": 80130959, "body": "@Jos&#233;Fonte Yes that&#39;s right this question is related to the other one. And yes I use GtkBulder. I know how to hide it with gtk_widget_hide_on_delete, but it will keep the widget in the memory. Is it possible not to keep the widget in the memory, but to call a brand new instance of it again when I need it?"}, {"owner": {"reputation": 415, "user_id": 5036399, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-r1UDdT1khE0/AAAAAAAAAAI/AAAAAAAAAJE/Ni69zrsRiPY/photo.jpg?sz=128", "display_name": "Pekov", "link": "https://stackoverflow.com/users/5036399/pekov"}, "edited": false, "score": 0, "creation_date": 1507216180, "post_id": 46581528, "comment_id": 80131265, "body": "Following the answers, it seems impossible!"}, {"owner": {"reputation": 415, "user_id": 5036399, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-r1UDdT1khE0/AAAAAAAAAAI/AAAAAAAAAJE/Ni69zrsRiPY/photo.jpg?sz=128", "display_name": "Pekov", "link": "https://stackoverflow.com/users/5036399/pekov"}, "edited": false, "score": 0, "creation_date": 1507216771, "post_id": 46581528, "comment_id": 80131644, "body": "@liberforce I see that with GtkBuilder all the widgets are created at parse and those are kept in memory from the beginning, so no need to bother about it, is that right?"}, {"owner": {"reputation": 10263, "user_id": 518853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjKPw.png?s=128&g=1", "display_name": "liberforce", "link": "https://stackoverflow.com/users/518853/liberforce"}, "edited": false, "score": 1, "creation_date": 1507216853, "post_id": 46581528, "comment_id": 80131695, "body": "Yes, GtkBuilder keeps the widgets around for later use. If you destroy them, they&#39;re gone. Please read the description of <a href=\"https://developer.gnome.org/gtk3/stable/GtkBuilder.html#GtkBuilder.description\" rel=\"nofollow noreferrer\">GtkBuilder</a>"}, {"owner": {"reputation": 10263, "user_id": 518853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjKPw.png?s=128&g=1", "display_name": "liberforce", "link": "https://stackoverflow.com/users/518853/liberforce"}, "edited": false, "score": 2, "creation_date": 1507217081, "post_id": 46581528, "comment_id": 80131847, "body": "If you really want to destroy and reload, if memory is more important than CPU for your use case, you may just create a separate .ui file with just your dialog, and handle it with a separate <code>GtkBuilder</code>, creating it each time you have to run the dialog. But I don&#39;t think it&#39;s worth the trouble..."}], "tags": [], "owner": {"reputation": 10263, "user_id": 518853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjKPw.png?s=128&g=1", "display_name": "liberforce", "link": "https://stackoverflow.com/users/518853/liberforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1507193704, "creation_date": 1507193704, "answer_id": 46581528, "question_id": 46572620, "link": "https://stackoverflow.com/questions/46572620/what-is-the-proper-way-to-create-cancel-button-that-closes-dialog-in-gtk/46581528#46581528", "title": "What is the proper way to create Cancel Button that closes dialog in GTK+?", "body": "<p>I suppose this is a follow up of your other question on the topic:\n<a href=\"https://stackoverflow.com/questions/46519999/how-to-properly-close-a-dialog-made-in-glade\">How to properly close a dialog made in Glade?</a></p>\n\n<p>If it was created using <code>GtkBuilder</code>, if you destroy the window, it's really destroyed: <code>GtkBuilder</code> has created the widgets at parsing time, not when you call <code>get_object</code>, and won't create them again. So I think you should just hide the dialog with something like <code>gtk_widget_hide_on_delete</code>, and show it again when you click on the button in your main dialog.</p>\n"}], "owner": {"reputation": 415, "user_id": 5036399, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-r1UDdT1khE0/AAAAAAAAAAI/AAAAAAAAAJE/Ni69zrsRiPY/photo.jpg?sz=128", "display_name": "Pekov", "link": "https://stackoverflow.com/users/5036399/pekov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 46581528, "answer_count": 1, "score": 0, "last_activity_date": 1507193704, "creation_date": 1507144908, "last_edit_date": 1507145775, "question_id": 46572620, "link": "https://stackoverflow.com/questions/46572620/what-is-the-proper-way-to-create-cancel-button-that-closes-dialog-in-gtk", "title": "What is the proper way to create Cancel Button that closes dialog in GTK+?", "body": "<p>The question is for GTK+ programing in C++.\nI have a main window with a button that activates a dialog window. The dialog window has OK and CANCEL buttons. I did it that way so when I hit the cancel button the dialog is closed. But once it is closed I cannot call it again with the button in the main window.</p>\n\n<p>I have tried to call the dialog <code>delete-event</code> on the button click. I also tried to call the dialog <code>destroy event</code> when the button is clicked. But in both cases the dialog is destroyed and it does not show when I click the button that calls the dialog.</p>\n"}, {"tags": ["c++", "vtk"], "answers": [{"tags": [], "owner": {"reputation": 939, "user_id": 5983462, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd89ca467fe66ef6fddc2a34aa9b3283?s=128&d=identicon&r=PG&f=1", "display_name": "tomj", "link": "https://stackoverflow.com/users/5983462/tomj"}, "is_accepted": true, "score": 1, "last_activity_date": 1507190770, "creation_date": 1507190770, "answer_id": 46580754, "question_id": 46572536, "link": "https://stackoverflow.com/questions/46572536/enable-or-disable-pan-rotation-and-zoom-on-key-pressed-event/46580754#46580754", "title": "Enable or disable pan, rotation and zoom on key pressed event", "body": "<p>There indeed is no such flag to turn it off and I see no other way to to so without modifying the vtk's code (see  <a href=\"https://github.com/Kitware/VTK/blob/master/Interaction/Style/vtkInteractorStyleTrackballCamera.cxx\" rel=\"nofollow noreferrer\">vtkInteractorStyleTrackballCamera.cxx</a> / <a href=\"https://github.com/Kitware/VTK/blob/master/Rendering/Core/vtkInteractorStyle.cxx\" rel=\"nofollow noreferrer\">vtkInteractorStyle.cxx</a>). The way I would go about it would be to make a new class inheriting from vtkInteractorStyleTrackballCamera, added the three boolean flags to it (+ setters) and override the StartRotate, StartZoom and StartPan methods such as:</p>\n\n<pre><code>void vtkMyNewStyle::StartZoom()\n{\n    if (zoomIsEnabled) // your flag set by setZoom(bool)\n        Superclass::StartZoom();\n}\n</code></pre>\n"}], "owner": {"reputation": 1119, "user_id": 2796613, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1286068684/picture?type=large", "display_name": "Hernan", "link": "https://stackoverflow.com/users/2796613/hernan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 46580754, "answer_count": 1, "score": 1, "last_activity_date": 1507208844, "creation_date": 1507144606, "last_edit_date": 1507208844, "question_id": 46572536, "link": "https://stackoverflow.com/questions/46572536/enable-or-disable-pan-rotation-and-zoom-on-key-pressed-event", "title": "Enable or disable pan, rotation and zoom on key pressed event", "body": "<p>I'm trying to set up a vtkInteractorStyle Class \n(vtkInteractorStyleTrackballCamera) handling events to disable pan, zoom, or \nrotation. Each of these functions would be enabled or disabled according to an user's pressed key. \nI think the most common way of doing it, is to generate an event handler \nfunction for each different key and, inside it's block setting some flag of \nthe class vtkRenderWindowInteractor to false or true using a function like \nsetPan(false) or setPan(true), etc. </p>\n\n<p>But as you may know there's no such function or method on the vtkRenderWindowInteractor class. </p>\n\n<h2>Is my approach correct? Does someone have a better idea?</h2>\n"}, {"tags": ["c++", "loops", "if-statement", "switch-statement", "control-flow"], "comments": [{"owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "edited": false, "score": 1, "creation_date": 1507145006, "post_id": 46572500, "comment_id": 80098900, "body": "Have you tried encasing your code in a while loop?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507145054, "post_id": 46572500, "comment_id": 80098927, "body": "You have cases 1 and 2 which you want to loop and case 3 that exits the program. If you surround the entire menu with a loop, 1 and 2 will loop and 3 will still exit the program."}, {"owner": {"reputation": 21, "user_id": 8722325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4d9c692e4faa0ef3d8eff67f3a0217?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando ", "link": "https://stackoverflow.com/users/8722325/fernando"}, "edited": false, "score": 0, "creation_date": 1507146062, "post_id": 46572500, "comment_id": 80099463, "body": "Where would I insert the loop? Before which statement?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507149475, "post_id": 46572500, "comment_id": 80101088, "body": "There are a plethora of calculator assignment programs on StackOverflow.  Maybe you could search them and see how the menu is handled."}], "answers": [{"tags": [], "owner": {"reputation": 18493, "user_id": 8176478, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bfdd0a05bddc5a0bcaf042597babdef?s=128&d=identicon&r=PG&f=1", "display_name": "MKR", "link": "https://stackoverflow.com/users/8176478/mkr"}, "is_accepted": false, "score": 0, "last_activity_date": 1507150803, "last_edit_date": 1507150803, "creation_date": 1507146060, "answer_id": 46572918, "question_id": 46572500, "link": "https://stackoverflow.com/questions/46572500/c-help-loops-and-switches/46572918#46572918", "title": "C++ help: loops and switches", "body": "<p>Use <code>while</code> loop to cover <code>cin</code> and <code>switch</code> cases. You can use something like below with use of one additional variable <code>bContinue</code> that will decide how long to continue loop:</p>\n\n<pre><code>int main() \n{\n    int userOption;\n\n    cout &lt;&lt; \"Hello user, what would you like to do?\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 1: Display a message\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 2: Perform a calculation\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 3: Exit program\" &lt;&lt; endl;\n    bool bContinue = true;\n    while(bContinue)\n    {\n        cin &gt;&gt; userOption;\n\n        switch (userOption)\n        {\n            char op;\n            int num1, num2;\n\n        case 1:\n            cout &lt;&lt; \"Welcome user!\" &lt;&lt; endl;\n            break;\n        case 2:\n            cout &lt;&lt; \"Enter + for addition, - for subtraction, * for multiplication or / for division: \";\n            cin &gt;&gt; op;\n            cout &lt;&lt; \"Enter two numbers: \";\n            cin &gt;&gt; num1 &gt;&gt; num2;\n            if (op == '+')\n                cout &lt;&lt; num1+num2 &lt;&lt; endl;\n            else if (op == '-')\n                cout &lt;&lt; num1-num2 &lt;&lt; endl;\n            else if (op == '*')\n                cout &lt;&lt; num1*num2 &lt;&lt; endl;\n            else if (op == '/')\n                cout &lt;&lt; num1/num2 &lt;&lt; endl;\n            break;\n        case 3:\n            cout &lt;&lt; \"Goodbye!\" &lt;&lt; endl;\n            bContinue = false;\n            break;\n        default:\n            cout &lt;&lt; \"Please enter valid option!\" &lt;&lt; endl;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1507149594, "creation_date": 1507149594, "answer_id": 46573796, "question_id": 46572500, "link": "https://stackoverflow.com/questions/46572500/c-help-loops-and-switches/46573796#46573796", "title": "C++ help: loops and switches", "body": "<p>In simplicity, you could use something like this:</p>\n\n<pre><code>unsigned int selection = 25;\n// Print menu and input selection\nwhile (selection != 3)\n{\n // Do stuff\n  // Print menu and input selection\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8723551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a919420e151caaa3483ab2bceb73817d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Edgar", "link": "https://stackoverflow.com/users/8723551/kevin-edgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507168274, "creation_date": 1507168274, "answer_id": 46576690, "question_id": 46572500, "link": "https://stackoverflow.com/questions/46572500/c-help-loops-and-switches/46576690#46576690", "title": "C++ help: loops and switches", "body": "<p>Use a <code>while</code> loop with the creation of a new variable but reformat some of the code so the user options keep displaying when the loop starts over</p>\n\n<pre><code>cout &lt;&lt; \"Hello user, what would you like to do?\" &lt;&lt; endl;\n\nbool bContinue = true;\nwhile(bContinue)\n{\n    cout &lt;&lt; \"Option 1: Display a message\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 2: Perform a calculation\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 3: Exit program\" &lt;&lt; endl;\n\n    cin &gt;&gt; userOption;\n\n    switch (userOption)\n    {\n        char op;\n        int num1, num2;\n\n    case 1:\n        cout &lt;&lt; \"Welcome user!\" &lt;&lt; endl;\n        break;\n    case 2:\n        cout &lt;&lt; \"Enter + for addition, - for subtraction, * for multiplication or / for division: \";\n        cin &gt;&gt; op;\n        cout &lt;&lt; \"Enter two numbers: \";\n        cin &gt;&gt; num1 &gt;&gt; num2;\n        if (op == '+')\n            cout &lt;&lt; num1+num2 &lt;&lt; endl;\n        else if (op == '-')\n            cout &lt;&lt; num1-num2 &lt;&lt; endl;\n        else if (op == '*')\n            cout &lt;&lt; num1*num2 &lt;&lt; endl;\n        else if (op == '/')\n            cout &lt;&lt; num1/num2 &lt;&lt; endl;\n        break;\n    case 3:\n        cout &lt;&lt; \"Goodbye!\" &lt;&lt; endl;\n        bContinue = false;\n        break;\n    default:\n        cout &lt;&lt; \"Please enter valid option!\" &lt;&lt; endl;\n    }\n}\nreturn 0;\n</code></pre>\n\n<p>This will make the program look better to a user</p>\n"}, {"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 0, "last_activity_date": 1507168765, "creation_date": 1507168765, "answer_id": 46576752, "question_id": 46572500, "link": "https://stackoverflow.com/questions/46572500/c-help-loops-and-switches/46576752#46576752", "title": "C++ help: loops and switches", "body": "<p>Use a do-while loop, which will stop when the <code>userOption</code> will be equal to 3, thus it will continue looping while <code>userOption</code> is different than 3, in code <code>userOption != 3</code>.</p>\n\n<p>Example code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int userOption;\n\n    cout &lt;&lt; \"Hello user, what would you like to do?\" &lt;&lt; endl;\n    do {\n        cout &lt;&lt; \"Option 1: Display a message\" &lt;&lt; endl;\n        cout &lt;&lt; \"Option 2: Perform a calculation\" &lt;&lt; endl;\n        cout &lt;&lt; \"Option 3: Exit program\" &lt;&lt; endl;\n        cin &gt;&gt; userOption;\n\n        switch (userOption)\n        {\n            char op;\n            int num1, num2;\n\n            case 1:\n                cout &lt;&lt; \"Welcome user!\" &lt;&lt; endl;\n                break;\n            case 2:\n                cout &lt;&lt; \"Enter + for addition, - for subtraction, * for multiplication or / for division: \";\n                cin &gt;&gt; op;\n                cout &lt;&lt; \"Enter two numbers: \";\n                cin &gt;&gt; num1 &gt;&gt; num2;\n                if (op == '+')\n                cout &lt;&lt; num1+num2 &lt;&lt; endl;\n                else if (op == '-')\n                    cout &lt;&lt; num1-num2 &lt;&lt; endl;\n                else if (op == '*')\n                    cout &lt;&lt; num1*num2 &lt;&lt; endl;\n                else if (op == '/')\n                    cout &lt;&lt; num1/num2 &lt;&lt; endl;\n                break;\n            case 3:\n                cout &lt;&lt; \"Goodbye!\" &lt;&lt; endl;\n                break;\n            default:\n                cout &lt;&lt; \"Please enter valid option!\" &lt;&lt; endl;\n\n        }\n    } while(userOption != 3);\n    return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hello user, what would you like to do?\nOption 1: Display a message\nOption 2: Perform a calculation\nOption 3: Exit program\n2\nEnter + for addition, - for subtraction, * for multiplication or / for division: \n+\nEnter two numbers:\n1\n1\n2\nOption 1: Display a message\nOption 2: Perform a calculation\nOption 3: Exit program\n3\nGoodbye!\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8722325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4d9c692e4faa0ef3d8eff67f3a0217?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando ", "link": "https://stackoverflow.com/users/8722325/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1507168785, "creation_date": 1507144411, "last_edit_date": 1507168785, "question_id": 46572500, "link": "https://stackoverflow.com/questions/46572500/c-help-loops-and-switches", "title": "C++ help: loops and switches", "body": "<p>How do I go about looping options 1 and 2 considering it's a switch? New to programming and having difficulties solving this. Any help would be m uch appreciated!</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int userOption;\n\n    cout &lt;&lt; \"Hello user, what would you like to do?\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 1: Display a message\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 2: Perform a calculation\" &lt;&lt; endl;\n    cout &lt;&lt; \"Option 3: Exit program\" &lt;&lt; endl;\n    cin &gt;&gt; userOption;\n\n        switch (userOption)\n        {\n            char op;\n            int num1, num2;\n\n        case 1:\n            cout &lt;&lt; \"Welcome user!\" &lt;&lt; endl;\n            break;\n        case 2:\n            cout &lt;&lt; \"Enter + for addition, - for subtraction, * for multiplication or / for division: \";\n            cin &gt;&gt; op;\n            cout &lt;&lt; \"Enter two numbers: \";\n            cin &gt;&gt; num1 &gt;&gt; num2;\n            if (op == '+')\n                cout &lt;&lt; num1+num2 &lt;&lt; endl;\n            else if (op == '-')\n                cout &lt;&lt; num1-num2 &lt;&lt; endl;\n            else if (op == '*')\n                cout &lt;&lt; num1*num2 &lt;&lt; endl;\n            else if (op == '/')\n                cout &lt;&lt; num1/num2 &lt;&lt; endl;\n            break;\n        case 3:\n            cout &lt;&lt; \"Goodbye!\" &lt;&lt; endl;\n            return 0;\n            break;\n        default:\n            cout &lt;&lt; \"Please enter valid option!\" &lt;&lt; endl;\n\n        }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "debugging", "gdb"], "answers": [{"tags": [], "owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "is_accepted": true, "score": 4, "last_activity_date": 1507147120, "creation_date": 1507147120, "answer_id": 46573191, "question_id": 46572440, "link": "https://stackoverflow.com/questions/46572440/gdb-python-module-read-memory-content/46573191#46573191", "title": "gdb python module read memory content", "body": "<p>I guess <a href=\"https://sourceware.org/gdb/onlinedocs/gdb/Inferiors-In-Python.html#Inferiors-In-Python\" rel=\"nofollow noreferrer\">this</a> is what you want</p>\n\n<pre><code>(gdb) python i = gdb.inferiors()[0]\n(gdb) python m = i.read_memory(0x7fffffffe39c, 4) # an int32\n(gdb) python print(m.tobytes())\nb'\\x01\\x00\\x00\\x00'\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 7999545, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c4685d8ad8b5d2dc9fbe0ee22343409c?s=128&d=identicon&r=PG&f=1", "display_name": "user04556", "link": "https://stackoverflow.com/users/7999545/user04556"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2080, "favorite_count": 0, "accepted_answer_id": 46573191, "answer_count": 1, "score": 3, "last_activity_date": 1507147120, "creation_date": 1507144142, "last_edit_date": 1507146422, "question_id": 46572440, "link": "https://stackoverflow.com/questions/46572440/gdb-python-module-read-memory-content", "title": "gdb python module read memory content", "body": "<p>Inside gdb to print the content at a particular memory address, I can ran the below command. It prints the content in hex</p>\n\n<pre><code>x &lt;memoryaddress&gt;\n\n(gdb) x 299395816\n0x11d86ae8: 0x0ec14153\n</code></pre>\n\n<p>I am using the gdb python module inside the gdb, what's the equivalent command to read the memory location with the gdb module inside my python script.</p>\n"}, {"tags": ["c++", "windows", "winapi"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507145063, "post_id": 46572400, "comment_id": 80098932, "body": "If you can load your image as an <code>HCURSOR</code> instead of an <code>HICON</code>, then look at the Win32 API <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648393.aspx\" rel=\"nofollow noreferrer\"><code>SetCursor()</code></a> function."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507150237, "post_id": 46572400, "comment_id": 80101457, "body": "I have updated @RemyLebeau"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1507151545, "post_id": 46572400, "comment_id": 80102074, "body": "If you use a window at all, you can&#39;t use standard <code>BUTTON</code> for this. You need a custom window class (see <code>RegisterClass()</code>) with a custom window procedure that handles <code>WM_ERASEBKGND</code> and <code>WM_PAINT</code> paint messages. Unless you use <code>UpdateLayeredWindow()</code> to assign a bitmap as the window&#39;s entire display, then you don&#39;t need to handle those messages."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507151967, "post_id": 46572400, "comment_id": 80102260, "body": "Thanks, you are saying I should use WNDCLASSEX and put the classname to the second parameter? also I did not use WS_CAPTION, or neither WS_BORDER. This is all I have done, or wait i will update it."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507152141, "post_id": 46572400, "comment_id": 80102343, "body": "damn, this is hard, also the program appears on taskbar, I just wanted a simple small img to be appeared, but i love it because i learn :) @RemyLebeau"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507152439, "post_id": 46572400, "comment_id": 80102463, "body": "Creating custom window is hard. If you don&#39;t understand the basics of how windows work, you are not going to succeed at this.  There is TONS of information on MSDN about this. Also, you can use the <code>WS_EX_TOOLWINDOW</code> style to get rid of the taskbar button."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507152946, "post_id": 46572400, "comment_id": 80102651, "body": "thanks, I got rid of it. I want to be better at this so I will try. my only help is msdn and you guys. also I am going correctly now, right? the window does not appear at this moment when I removed <code>TEXT(&quot;button&quot;)</code> it should be appearing when I put in function inside <code>WM_PAINT</code> I suppose? @RemyLebeau"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507153246, "post_id": 46572400, "comment_id": 80102767, "body": "StackOverflow is not the right place to ask for tutorials on how to do things.  There are plenty of online tutorials for that."}], "answers": [{"comments": [{"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "edited": false, "score": 0, "creation_date": 1507150225, "post_id": 46572481, "comment_id": 80101451, "body": "I have updated the question. I am sorry I got this far, I am really noob at this. This only shows an empty button with a title bar, i am not worried about it being at the top for the moment. how do i make it an icon/cursor, and how do i put the icon there. can you please make some edits? also, thank you very much."}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "reply_to_user": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "edited": false, "score": 1, "creation_date": 1507150996, "post_id": 46572481, "comment_id": 80101794, "body": "@turmuka You have to register a window class and paint the cursor in <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd162487(v=vs.85).aspx\" rel=\"nofollow noreferrer\">WM_PAINT</a> and paint the background with your LWA_COLORKEY color."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "edited": false, "score": 0, "creation_date": 1507151047, "post_id": 46572481, "comment_id": 80101829, "body": "I see, how do i get rid of the title bar? @Ander"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "edited": false, "score": 0, "creation_date": 1507151399, "post_id": 46572481, "comment_id": 80102009, "body": "@turmuka: remove the window&#39;s <code>WS_CAPTION</code> style. You will probably want to remove the <code>WS_BORDER</code> style, too."}, {"owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "edited": false, "score": 0, "creation_date": 1507161508, "post_id": 46572481, "comment_id": 80105124, "body": "@Anders how do i trigger click events inside <code>WM_PAINT</code> ?"}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 1, "creation_date": 1507161979, "post_id": 46572481, "comment_id": 80105248, "body": "You don&#39;t. Your mouse hook will know when the mouse is clicked. When it is clicked you save that state somewhere and call InvalidateRect on your window and in WM_PAINT you use your saved state to decide what to paint."}], "tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": true, "score": 2, "last_activity_date": 1507151693, "last_edit_date": 1507151693, "creation_date": 1507144338, "answer_id": 46572481, "question_id": 46572400, "link": "https://stackoverflow.com/questions/46572400/winapi-display-icon-on-the-screen-with-mouseclick-event/46572481#46572481", "title": "winapi display icon on the screen with mouseclick event", "body": "<p>You would have to create your own always-on-top window to display the cursor.</p>\n\n<p>It probably needs to be a <a href=\"https://msdn.microsoft.com/en-us/library/ms997507.aspx\" rel=\"nofollow noreferrer\">layered window</a> so you can use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms633556(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>UpdateLayeredWindow()</code></a> and a 32-bit RGBA bitmap to get every cursor looking correct.</p>\n\n<p>If you are only using a specific cursor you control, and it does not have an alpha channel, you can save yourself some work by painting the image as-is onto your window in a <code>WM_ERASEBKGND</code> or <code>WM_PAINT</code> message handler, and then use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms633540(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SetLayeredWindowAttributes(..., LWA_COLORKEY, ...)</code></a> to set the window's transparency color.</p>\n"}], "owner": {"reputation": 2238, "user_id": 8518689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LDe4I.jpg?s=128&g=1", "display_name": "turmuka", "link": "https://stackoverflow.com/users/8518689/turmuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 46572481, "answer_count": 1, "score": 0, "last_activity_date": 1507182084, "creation_date": 1507143986, "last_edit_date": 1507182084, "question_id": 46572400, "link": "https://stackoverflow.com/questions/46572400/winapi-display-icon-on-the-screen-with-mouseclick-event", "title": "winapi display icon on the screen with mouseclick event", "body": "<p>In WINAPI, I have seen a virus which displays an icon on the x-y of the mouse whenever a mouse click event occurs (the red one which has a white X inside). How do I show an icon like that whenever I click the mouse? I know how to hook mouse clicks with setwindowshookex. Is there a function like iconshow as I have shown below. </p>\n\n<pre><code>HHOOK msHOOK;\n//getting the icon let's say from a rc file\nHICON redIcon; \n\nmsHOOK = SetWindowsHookEx(WH_MOUSE_LL, mouseProc, NULL, 0);\n\nLRESULT CALLBACK mouseProc(int nCode, WPARAM wPar, LPARAM lPar){\n  IconShow(NULL, redIcon, xofMouse, yofMouse, 0);\n  MessageBox(NULL, \"Icon showed\", \"Cap\", 0);\n  return CallNextHookEx(NULL, nCode, wPar, lPar);\n}\n\nwhile(GetMessage(&amp;msg, NULL, 0, 0) &gt; 0){\n  TranslateMessage(&amp;msg);\n}\n</code></pre>\n\n<p>Thanks </p>\n\n<p>UPDATE</p>\n\n<pre><code>#include &lt;windows.h&gt;\nLRESULT CALLBACK WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam);\n\nint WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR szCmdParam, int iCmdShow){\n    HWND wnd;\n    MSG msg;\n    WNDCLASSEX wc;\n    wc.cbSize        = sizeof(WNDCLASSEX);\nwc.style         = 0;\nwc.lpfnWndProc   = WndProc;\nwc.cbClsExtra    = 0;\nwc.cbWndExtra    = 0;\nwc.hInstance     = hInstance;\nwc.hIcon         = LoadIcon(NULL, IDI_APPLICATION);\nwc.hCursor       = LoadCursor(NULL, IDC_ARROW);\nwc.hbrBackground = (HBRUSH)(COLOR_WINDOW);\nwc.lpszMenuName  = NULL;\nwc.lpszClassName = \"ClassName\";\nwc.hIconSm       = LoadIcon(NULL, IDI_APPLICATION);\n    wnd = CreateWindowEx(WS_EX_TOOLWINDOW | WS_EX_LAYERED, \"ClassName\", \"ss\", NULL, CW_USEDEFAULT, CW_USEDEFAULT, 100, 100, NULL, NULL, NULL, NULL);\n    SetLayeredWindowAttributes(wnd, RGB(255, 255, 0), 20, LWA_COLORKEY);\n    ShowWindow(wnd, SW_SHOW);\n    while (GetMessage(&amp;msg, NULL, 0, 0) &gt; 0) {\n        TranslateMessage(&amp;msg);\n    }\n    return 0;\n}\n\n\nLRESULT CALLBACK WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)\n{\n    switch(msg)\n    {\n        case WM_CLOSE:\n            DestroyWindow(hwnd);\n        break;\n        case WM_DESTROY:\n            PostQuitMessage(0);\n        break;\n        case WM_PAINT:\n            //stuff here\n        break;\n        default:\n            return DefWindowProc(hwnd, msg, wParam, lParam);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "list", "header", "subclass", "composition"], "comments": [{"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 1, "creation_date": 1507142716, "post_id": 46572029, "comment_id": 80097695, "body": "Please structure your code in readable form"}, {"owner": {"reputation": 1, "user_id": 6148935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SsRbcv6oHp0/AAAAAAAAAAI/AAAAAAAAEKc/U8Bzv49KP3Q/photo.jpg?sz=128", "display_name": "Ryan Brown", "link": "https://stackoverflow.com/users/6148935/ryan-brown"}, "reply_to_user": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507142857, "post_id": 46572029, "comment_id": 80097774, "body": "I believe i edited it right."}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1507142952, "post_id": 46572029, "comment_id": 80097820, "body": "figure out where the problem is and provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 2008, "user_id": 1331076, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fT32v.png?s=128&g=1", "display_name": "Henrik", "link": "https://stackoverflow.com/users/1331076/henrik"}, "edited": false, "score": 1, "creation_date": 1507142963, "post_id": 46572029, "comment_id": 80097828, "body": "try attaching a debugger. add breakpoint at &#39;st[st_id]-&gt;AddCourse(course,grade);&#39; and step into code.. maybe the vector is never actually initialised, so there is no place to push back into.. or something"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507143146, "post_id": 46572029, "comment_id": 80097910, "body": "why do you have pointers to students and not students? Why dont you use <code>std::vector&lt;Student&gt;</code>? You also use it inside <code>Student</code>"}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507143239, "post_id": 46572029, "comment_id": 80097956, "body": "char choice; \twhile (choice != &#39;n&#39;)  just after declaring choice is used ..where is the initialization?"}, {"owner": {"reputation": 1, "user_id": 6148935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SsRbcv6oHp0/AAAAAAAAAAI/AAAAAAAAEKc/U8Bzv49KP3Q/photo.jpg?sz=128", "display_name": "Ryan Brown", "link": "https://stackoverflow.com/users/6148935/ryan-brown"}, "edited": false, "score": 0, "creation_date": 1507143274, "post_id": 46572029, "comment_id": 80097974, "body": "I just deleted the code that is not needed so that I can get better help."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507143354, "post_id": 46572029, "comment_id": 80098024, "body": "ok for removing irrelevant code, but initalizing a variable that you use is not irrelevant, because it considerably changes the meaning of your code"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507144366, "post_id": 46572029, "comment_id": 80098564, "body": "Unrelated: Placing stuff outside of the <a href=\"https://en.wikipedia.org/wiki/Include_guard\" rel=\"nofollow noreferrer\">header guards</a> makes the header guards kind of useless. Putting <code>using namespace std;</code>in a header is generally frowned on."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507149826, "post_id": 46572029, "comment_id": 80101249, "body": "Interestingly, I would expect the <code>operator&gt;&gt;</code> to be overloaded if the class performs the input.  I didn&#39;t see that in your <code>main</code> function.  Or an input method for your class.  By accessing the members directly in <code>main</code> you are violating the <i>data hiding</i> rules."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6823991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4abd90fb23e51653c5b8be0528d13ec?s=128&d=identicon&r=PG&f=1", "display_name": "jsn", "link": "https://stackoverflow.com/users/6823991/jsn"}, "is_accepted": false, "score": 0, "last_activity_date": 1507144079, "creation_date": 1507144079, "answer_id": 46572423, "question_id": 46572029, "link": "https://stackoverflow.com/questions/46572029/c-project-where-i-am-trying-to-associate-student-id-to-grade-and-courses-to-ma/46572423#46572423", "title": "C++ Project where I am trying to associate student ID to grade and courses to make report", "body": "<p>st[st_id]->AddCourse(course,grade); is dangerous. Where you can have 30 \nStudents which can have ids like 100 or 1000.</p>\n\n<p>Create another class for course and define an association between them. e.g. Student 1..* &lt;----> 1..* Course.\nSee <a href=\"https://en.wikipedia.org/wiki/Class_diagram#Aggregation\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Class_diagram#Aggregation</a></p>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1507150418, "creation_date": 1507150418, "answer_id": 46573998, "question_id": 46572029, "link": "https://stackoverflow.com/questions/46572029/c-project-where-i-am-trying-to-associate-student-id-to-grade-and-courses-to-ma/46573998#46573998", "title": "C++ Project where I am trying to associate student ID to grade and courses to make report", "body": "<p>I suggest some simplicity.<br>\nCreate an input function for your <code>Student</code> class:</p>\n\n<pre><code>class Student\n{\n  int id;\n  std::string name;\n  // other data members\n  public:\n    void input_with_prompt();\n};\nvoid Student::input_with_prompt()\n{\n  std::cout &lt;&lt; \"Enter student ID: \";\n  std::cin &gt;&gt; id;\n  // etc.\n}\n</code></pre>\n\n<p>Your <code>for</code> loop in <code>main</code> then looks like:  </p>\n\n<pre><code>int record_quantity;\nstd::cout &lt;&lt; \"Enter number of students: \";\nstd::cin &gt;&gt; record_quantity;\nStudent * database = new Student[record_quantity];\nfor (int i = 0; i &lt; record_quantity; ++i)\n{\n  Student s;\n  s.input_with_prompt();\n  // Append to database\n  database[i] = s;\n}\n//...\ndelete [] database;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6148935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SsRbcv6oHp0/AAAAAAAAAAI/AAAAAAAAEKc/U8Bzv49KP3Q/photo.jpg?sz=128", "display_name": "Ryan Brown", "link": "https://stackoverflow.com/users/6148935/ryan-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1507150418, "creation_date": 1507142630, "last_edit_date": 1507143236, "question_id": 46572029, "link": "https://stackoverflow.com/questions/46572029/c-project-where-i-am-trying-to-associate-student-id-to-grade-and-courses-to-ma", "title": "C++ Project where I am trying to associate student ID to grade and courses to make report", "body": "<p>I am writing code for a major project and I am stuck. The project was supposed to ask the user to associate several courses to an existing student along with the grade obtained. The print out a detailed report based off the user entered information. Where I am stuck at is pretty vital, I was able to use classes to input all the user data: first name, last name etc. But when I try to add a grade for the course that I entered the program shuts down, thus I cannot move on from there. any help would be awesome!</p>\n\n<p>Here is the file</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include \"Student.h\"\n    using namespace std;\n\n   void Student::AddCourse(string c,int grade){\n\n    v.push_back(make_pair(c,grade));\n\n    }\n\n\n     vector&lt;course&gt;::iterator it;\n     for(it=v.begin();it!=v.end();it++)\n    {\n        cout&lt;&lt;\"Course: \"&lt;&lt;it-&gt;first&lt;&lt;\" Grade: \"&lt;&lt;it-&gt;second&lt;&lt;endl;;\n    }\n\n    }\n\n    int main()\n    {\n      int N;\n     int st_id;\n     string first_name;\n     string last_name;\n     string degree;\n     string city;\n    string state;\n    string address;\n    cout&lt;&lt;\"Enter Number of student you want to record: \";\n    cin&gt;&gt;N;\n    Student **st=new Student*[N];\n    for(int i=0;i&lt;N;i++)\n    {\n    cout&lt;&lt;\"Enter student's Id: \";\n    cin&gt;&gt;st_id;\n\n    cout&lt;&lt;\"Enter student's First name: \";\n    cin&gt;&gt;first_name;\n\n    cout&lt;&lt;\"Enter student's Last name: \";\n    cin&gt;&gt;last_name;\n\n     cout&lt;&lt;\"Enter student's Degree Abbreviation: \";\n     cin&gt;&gt;degree;\n\n      cout&lt;&lt;\"Enter student's Home City: \";\n      cin&gt;&gt;city;\n\n     cout&lt;&lt;\"Enter student's Home State: (i.e Maryland): \";\n     cin&gt;&gt;state;\n\n     cout&lt;&lt;\"Enter student's Address (i.e 3605-Edmondson-Ave): \";\n    cin&gt;&gt;address;\n\n\n\n     st[i]=new Student(st_id,first_name,last_name,degree,city,state,address);\n     system(\"CLS\");\n     }\n\n     string course;\n     int grade;\n     char choice;\n     while(choice!='n')\n     {\n     cout&lt;&lt;\"Insert Student id: \";\n     cin&gt;&gt;st_id;\n\n     cout&lt;&lt;\"Insert course: \";\n     cin&gt;&gt;course;\n\n    cout&lt;&lt;\"Insert course grade: \";\n    cin&gt;&gt;grade;\n\n    st[st_id]-&gt;AddCourse(course,grade);\n    cout&lt;&lt;\"Want to add another? y/n \";\n    cin&gt;&gt;choice;\n    system(\"CLS\");\n\n   }\n   cout&lt;&lt;\"Enter student id to show the report\";\n   cin&gt;&gt;st_id;\n   st[st_id]-&gt;ShowReport();\n   return 0;\n   }\n</code></pre>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1507142773, "post_id": 46571993, "comment_id": 80097732, "body": "Well, where is the file d3dx9.h in fact located?  Does it exist at all? You&#39;ve mentioned a <code>.lib</code> file with a related name, but that&#39;s an altogether different thing."}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 1, "creation_date": 1507143182, "post_id": 46571993, "comment_id": 80097928, "body": "You need to download and install legacy DirectX SDK and then set project include and lib dirs to point at right locations."}, {"owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1507143450, "post_id": 46571993, "comment_id": 80098067, "body": "John Bollinger, good comment. The error shown above is having no header at all. when I included in either the project&#39;s or platform directory, it throws:"}, {"owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1507143468, "post_id": 46571993, "comment_id": 80098077, "body": "Compiling... Menu.cpp c:\\Users\\Eduardo\\Desktop\\Slot Project\\platform\\d3dx9.h(47) : fatal error C1083: Cannot open include file: &#39;d3dx9math.h&#39;: No such file or directory"}, {"owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1507143619, "post_id": 46571993, "comment_id": 80098165, "body": "VTT, the project implements DirectX 9. I downloaded the DirectX SDK, but I am not certain what the legacy is."}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1507144337, "post_id": 46571993, "comment_id": 80098546, "body": "If you&#39;ve downloaded something named &quot;DirectX SDK&quot; then it is a legacy SDK. Modern DirectX SDK is merged with Windows SDK and is not available as a separate download."}, {"owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "edited": false, "score": 0, "creation_date": 1507144454, "post_id": 46571993, "comment_id": 80098611, "body": "VTT, OK, got it !"}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "is_accepted": true, "score": 1, "last_activity_date": 1507144293, "creation_date": 1507144293, "answer_id": 46572471, "question_id": 46571993, "link": "https://stackoverflow.com/questions/46571993/unexpected-behavior-when-adding-a-static-library-in-c/46572471#46572471", "title": "unexpected behavior when adding a static library in C++", "body": "<p>Error <code>No such file or directory</code> usually happens when the compiler cannot find the folder or cannot gain access to a folder or file. Try using <strong>Run as Administrator</strong> for Visual Studio. Also, in the <strong>Additional include directories</strong> you should give the full path of the include directory. most C++ libraries have this structure: </p>\n\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>include</li>\n</ul>\n\n<p>If we Assume our lib is in the <strong>C:\\</strong> folder, We should enter the:\n<strong>C:\\Libs\\Boost\\include**  in the **Additional include directories</strong>.</p>\n"}], "owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 46572471, "answer_count": 1, "score": 1, "last_activity_date": 1507144293, "creation_date": 1507142514, "last_edit_date": 1507142717, "question_id": 46571993, "link": "https://stackoverflow.com/questions/46571993/unexpected-behavior-when-adding-a-static-library-in-c", "title": "unexpected behavior when adding a static library in C++", "body": "<p>I am reviewing a legacy code in C++ in Visual Studio 2008. When adding the <strong>static lib</strong> d3dx9.h it throws the following error at compilation (for a number of files):</p>\n\n<pre><code>Compiling...\nMenu.cpp\nc:\\users\\jason\\desktop\\slot project\\video_engine.h(33) : fatal error C1083: \nCannot open include file: 'd3dx9.h': No such file or directory\nMAIN.cpp\nc:\\users\\eduardo\\desktop\\slot project\\video_engine.h(33) : fatal error C1083: \nCannot open include file: 'd3dx9.h': No such file or directory\nGameSettings.cpp\nc:\\users\\eduardo\\desktop\\slot project\\video_engine.h(33) : fatal error C1083: \nCannot open include file: 'd3dx9.h': No such file or directory\n...\n...\n...\n</code></pre>\n\n<p>This lib is included in <strong>video_engine.h</strong>:</p>\n\n<pre><code>#include \"d3dx9.h\"\n#pragma comment(lib, \"platform\\\\DirectX\\\\d3d9.lib\")\n#pragma comment(lib, \"platform\\\\DirectX\\\\d3dx9.lib\")\n</code></pre>\n\n<p>Likewise, the header <strong>video_engine.h</strong> is included directly (#include...) and indirectly (including a file that already included this header...) by a number of files. For instance, <strong>Menu.cpp</strong> does not include this header, but it (Menu.cpp) does include <strong>MAIN.cpp</strong> which includes the header (video_engine.h).   </p>\n\n<p>Thanks in advance for any suggestions !</p>\n\n<p>In addition, below the <strong>Property Pages</strong> for <strong>AdditionalIncludeDirectories</strong> and Linker's <strong>AdditionalDependencies</strong> and AdditionalLibraryDirectories:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yKcew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yKcew.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/k91Wb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k91Wb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "string", "file", "vector", "find"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 4, "creation_date": 1507142078, "post_id": 46571854, "comment_id": 80097310, "body": "hint: what is the return type of <code>vector::find</code> ?"}, {"owner": {"reputation": 158, "user_id": 8226050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66da411fe004c8fc634a1a336c491bca?s=128&d=identicon&r=PG&f=1", "display_name": "X21", "link": "https://stackoverflow.com/users/8226050/x21"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507142223, "post_id": 46571854, "comment_id": 80097401, "body": "@tobi303 Oh, yes, it&#39;s index. But can you help to sta on the right way?"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507142252, "post_id": 46571854, "comment_id": 80097420, "body": "@tobi303 you mean <code>string::find</code>, right?"}], "answers": [{"comments": [{"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 1, "creation_date": 1507142367, "post_id": 46571912, "comment_id": 80097501, "body": "I agree  with it"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 158, "user_id": 8226050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66da411fe004c8fc634a1a336c491bca?s=128&d=identicon&r=PG&f=1", "display_name": "X21", "link": "https://stackoverflow.com/users/8226050/x21"}, "edited": false, "score": 0, "creation_date": 1507143833, "post_id": 46571912, "comment_id": 80098282, "body": "@X21 because it enters the body of the if statement and the <code>break</code> gets executed."}, {"owner": {"reputation": 158, "user_id": 8226050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66da411fe004c8fc634a1a336c491bca?s=128&d=identicon&r=PG&f=1", "display_name": "X21", "link": "https://stackoverflow.com/users/8226050/x21"}, "edited": false, "score": 1, "creation_date": 1507144585, "post_id": 46571912, "comment_id": 80098674, "body": "@gsamaras       Thank you so much! Yes, I got all my mistakes! Thank you for helping!!!!!!"}], "tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": true, "score": 4, "last_activity_date": 1507142425, "last_edit_date": 1592644375, "creation_date": 1507142184, "answer_id": 46571912, "question_id": 46571854, "link": "https://stackoverflow.com/questions/46571854/find-line-by-one-word-in-vector/46571912#46571912", "title": "Find line by one word in vector", "body": "<p>Read the ref of <a href=\"http://www.cplusplus.com/reference/string/string/find/\" rel=\"nofollow noreferrer\"><code>string::find</code></a>:</p>\n<blockquote>\n<p><strong>Return Value</strong></p>\n<p>The position of the first character of the first match. If no matches were found, the function returns <code>string::npos</code>.</p>\n</blockquote>\n<p>So, try this instead:</p>\n<pre><code>if (vec_keys[i].find(str) != std::string::npos)\n    std::cout &lt;&lt; &quot;Found:&quot; &lt;&lt; vec_keys[i];\n</code></pre>\n"}], "owner": {"reputation": 158, "user_id": 8226050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66da411fe004c8fc634a1a336c491bca?s=128&d=identicon&r=PG&f=1", "display_name": "X21", "link": "https://stackoverflow.com/users/8226050/x21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46571912, "answer_count": 1, "score": 0, "last_activity_date": 1507142425, "creation_date": 1507141935, "last_edit_date": 1507142352, "question_id": 46571854, "link": "https://stackoverflow.com/questions/46571854/find-line-by-one-word-in-vector", "title": "Find line by one word in vector", "body": "<p>Trying to find a line by one word in a vector.</p>\n\n<p><strong>For example:</strong></p>\n\n<p><em>In a file some data,like:</em></p>\n\n<blockquote>\n  <p>ctrl+a move,find</p>\n  \n  <p>ctrl+c copy,group</p>\n  \n  <p>ctrl+z take,give</p>\n</blockquote>\n\n<p><em>all letters are small.</em></p>\n\n<p>Then I tried to read a file in vector - it's okay</p>\n\n<p>Then the user want to input : move</p>\n\n<p>**I want that if the user input <code>move</code>, I find a line in vector,which has the word <code>move</code> and do something with this line.(for example: erase)*</p>\n\n<p>But what do I do wrong , because my loop stops on zero and it reads only the first string of a file?</p>\n\n<p>code is below:</p>\n\n<pre><code>void HotMap::test(std::string str)\n{   \n        std::string line;\n        std::vector&lt;std::string&gt; vec_keys;\n        std::string file_name_keys(\"read_keys.txt\");\n        std::ifstream file_keys(file_name_keys, std::ios::in);\n        std::vector&lt;std::string&gt;::iterator iter_vec;\n\n\n        while (std::getline(file_keys, line))\n        {\n            for (auto &amp; c : line) c = tolower(c);\n            vec_keys.push_back(line);\n        }\n\n\n        for (int i = 0; i &lt; 3; i++)\n        {\n            vec_keys[i].find(str);\n            if (vec_keys[i].find(str))\n            {\n                std::string found_str;\n                std::cout &lt;&lt; \"Found:\" &lt;&lt; vec_keys[i];\n                //Just help to find the line.....\n                break;\n            }\n        }   \n}\n</code></pre>\n"}, {"tags": ["c++", "c++17", "structured-bindings"], "comments": [{"owner": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "edited": false, "score": 0, "creation_date": 1507141966, "post_id": 46571786, "comment_id": 80097245, "body": "Why are you using <code>&amp;&amp;</code> and not <code>&amp;</code>?"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "edited": false, "score": 1, "creation_date": 1507142357, "post_id": 46571786, "comment_id": 80097491, "body": "@Charles <code>&amp;&amp;</code> will work even if elements are const or temporaries"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 8, "creation_date": 1507142427, "post_id": 46571786, "comment_id": 80097532, "body": "VS bug, it should work. Was even one of the motivations of the language feature (iterating over a map)!"}, {"owner": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1507143397, "post_id": 46571786, "comment_id": 80098041, "body": "Would <code>const auto</code> be ok as well? @GuillaumeRacicot"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "edited": false, "score": 3, "creation_date": 1507143688, "post_id": 46571786, "comment_id": 80098212, "body": "@Charles in that case, you won&#39;t be able to mutate elements, or forward them to a function that either take a const reference or a mutable reference. The thing is, <code>auto&amp;&amp;</code> simply works, and works everywhere, even in fully generic code."}, {"owner": {"reputation": 5809, "user_id": 893406, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NwATJ.png?s=128&g=1", "display_name": "v.oddou", "link": "https://stackoverflow.com/users/893406/v-oddou"}, "reply_to_user": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "edited": false, "score": 0, "creation_date": 1592810494, "post_id": 46571786, "comment_id": 110546491, "body": "@Charles <code>for (auto&amp;&amp; a : ..)</code> even has its own very standard proposal for a shortcut to <code>for (a : ..)</code> exploiting its universality. Refused though IIRC."}], "answers": [{"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": true, "score": 14, "last_activity_date": 1507142984, "last_edit_date": 1507142984, "creation_date": 1507142352, "answer_id": 46571955, "question_id": 46571786, "link": "https://stackoverflow.com/questions/46571786/auto-range-based-structured-bindings-with-vector/46571955#46571955", "title": "Auto range based structured bindings with vector", "body": "<p>It does work, but the intellisense doesn't use the same compiler:\n<a href=\"https://i.stack.imgur.com/SiO5B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SiO5B.png\" alt=\"enter image description here\"></a></p>\n\n<p>So even with the red lines and error shown in the editor it does compile with the <code>ISO C++17 Standard (/std:c++17)</code> switch.</p>\n\n<p>I compiled the following program:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;tuple&gt;\n\nstd::vector&lt;std::tuple&lt;int, int, int&gt;&gt; tupleList;\n//By using a range based for loop with structured bindings :\n\nint main()\n{\n    for(auto&amp;&amp;[x, y, z] : tupleList) {}\n}\n</code></pre>\n\n<p>Visual Studio version:</p>\n\n<blockquote>\n  <p>Microsoft Visual Studio Community 2017 Preview (2) Version 15.4.0\n  Preview 3.0 VisualStudio.15.Preview/15.4.0-pre.3.0+26923.0</p>\n</blockquote>\n\n<p>cl version:</p>\n\n<blockquote>\n  <p>19.11.25547.0</p>\n</blockquote>\n\n<p>From command line:</p>\n\n<pre><code>&gt;cl test.cpp /std:c++17\nMicrosoft (R) C/C++ Optimizing Compiler Version 19.11.25547 for x64\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\ntest.cpp\nC:\\Program Files (x86)\\Microsoft Visual Studio\\Preview\\Community\\VC\\Tools\\MSVC\\14.11.25503\\include\\cstddef(31): warning C4577: 'noexcept' used with no exception handling mode specified; termination on exception is not guaranteed. Specify /EHsc\nMicrosoft (R) Incremental Linker Version 14.11.25547.0\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n/out:test.exe\ntest.obj\n</code></pre>\n"}], "owner": {"reputation": 640, "user_id": 3347633, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f3d5a8085c9da3f4c3bfc9e7d939e84f?s=128&d=identicon&r=PG&f=1", "display_name": "Eejin", "link": "https://stackoverflow.com/users/3347633/eejin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 3, "accepted_answer_id": 46571955, "answer_count": 1, "score": 10, "last_activity_date": 1507142984, "creation_date": 1507141739, "question_id": 46571786, "link": "https://stackoverflow.com/questions/46571786/auto-range-based-structured-bindings-with-vector", "title": "Auto range based structured bindings with vector", "body": "<p>I'm trying to loop over a vector of tuples:</p>\n\n<pre><code>std::vector&lt;std::tuple&lt;int, int, int&gt;&gt; tupleList;\n</code></pre>\n\n<p>By using a range based for loop with structured bindings:</p>\n\n<pre><code>for (auto&amp;&amp; [x, y, z] : tupleList) {}\n</code></pre>\n\n<p>But Visual Studio 2017 15.3.5 gives the error:</p>\n\n<blockquote>\n  <p>cannot deduce 'auto' type (initializer required)</p>\n</blockquote>\n\n<p>But the following does work:</p>\n\n<pre><code>for (auto&amp;&amp; i : tupleList) {\n    auto [x, y, z] = i;\n}\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["c++", "function", "struct", "linked-list"], "comments": [{"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 2, "creation_date": 1507141493, "post_id": 46571684, "comment_id": 80096982, "body": "You&#39;re doing <code>cin &gt;&gt; p-&gt;s.no</code>, but neither <code>p</code> (pointer to some node) nor the list is initialized at the moment. Should allocate some memory for it first..."}, {"owner": {"reputation": 185, "user_id": 8627225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXKhO.jpg?s=128&g=1", "display_name": "Tasneem ZH", "link": "https://stackoverflow.com/users/8627225/tasneem-zh"}, "reply_to_user": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1507141634, "post_id": 46571684, "comment_id": 80097053, "body": "@myaut How&#39;s that? I initialized at before the main(), so I allocated it in memory."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1507141689, "post_id": 46571684, "comment_id": 80097085, "body": "<code>p</code> is a local variable in <code>main</code>. How could you have initialized it before <code>main</code>?"}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507141722, "post_id": 46571684, "comment_id": 80097106, "body": "nodeType *h = NULL, *p = new nodeType();"}, {"owner": {"reputation": 185, "user_id": 8627225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXKhO.jpg?s=128&g=1", "display_name": "Tasneem ZH", "link": "https://stackoverflow.com/users/8627225/tasneem-zh"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1507141764, "post_id": 46571684, "comment_id": 80097134, "body": "@melpomene I meant the linked list. Well.. I will try what you suggested."}, {"owner": {"reputation": 185, "user_id": 8627225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXKhO.jpg?s=128&g=1", "display_name": "Tasneem ZH", "link": "https://stackoverflow.com/users/8627225/tasneem-zh"}, "reply_to_user": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507141795, "post_id": 46571684, "comment_id": 80097159, "body": "@HariomSingh Thanks. I will try this now and tell you the result."}, {"owner": {"reputation": 185, "user_id": 8627225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXKhO.jpg?s=128&g=1", "display_name": "Tasneem ZH", "link": "https://stackoverflow.com/users/8627225/tasneem-zh"}, "reply_to_user": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 1, "creation_date": 1507141947, "post_id": 46571684, "comment_id": 80097240, "body": "@HariomSingh It worked. Thank you very much."}], "owner": {"reputation": 185, "user_id": 8627225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXKhO.jpg?s=128&g=1", "display_name": "Tasneem ZH", "link": "https://stackoverflow.com/users/8627225/tasneem-zh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507141348, "creation_date": 1507141348, "question_id": 46571684, "link": "https://stackoverflow.com/questions/46571684/struct-in-a-struct-linked-list", "title": "struct in a struct linked list", "body": "<p>I wanted to try a struct inside another struct in a linked list. But, I have a syntax error that says p (which is a pointer to the linked list) is uninitialized.</p>\n\n<p>NOTE: I haven't learned this topic at university yet. So, it is expected to find errors in my code.</p>\n\n<p>Here's the code I wrote.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nstruct structType{\n    int no;\n    string name;\n    float salary;\n};\nstruct nodeType {\n    structType s;\n    nodeType *link;\n};\nvoid addFirst(nodeType **, nodeType*);\nint main()\n{\n    nodeType *h=NULL, *p;\n    for (int i=0; i&lt;3; i++)\n    {\n        cout&lt;&lt;\"Enter number #\"&lt;&lt;i+1&lt;&lt;\":\";\n        cin&gt;&gt;p-&gt;s.no;\n        cout&lt;&lt;\"Enter name #\"&lt;&lt;i+1&lt;&lt;\":\";\n        cin&gt;&gt;p-&gt;s.name;\n        cout&lt;&lt;\"Enter salary #\"&lt;&lt;i+1&lt;&lt;\":\";\n        cin&gt;&gt;p-&gt;s.salary;\n        p-&gt;link=NULL;\n        addFirst(&amp;h,p);\n    }\n    system (\"pause\");\n    return 0;\n}\nvoid addFirst(nodeType **h, nodeType *p){\n    if(*h!=NULL)\n    p-&gt;link=*h;\n    *h=p;\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "struct", "compiler-errors", "atomic"], "comments": [{"owner": {"reputation": 59, "user_id": 3721505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100002100923237/picture?type=large", "display_name": "Uttaran", "link": "https://stackoverflow.com/users/3721505/uttaran"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507141287, "post_id": 46571561, "comment_id": 80096860, "body": "a_table[pid % n].number = v; This gives an error std::atomic&lt;snap&gt; has no member number"}, {"owner": {"reputation": 59, "user_id": 3721505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100002100923237/picture?type=large", "display_name": "Uttaran", "link": "https://stackoverflow.com/users/3721505/uttaran"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507141677, "post_id": 46571561, "comment_id": 80097077, "body": "Ok thanks I&#39;ll tinker with it and report what worked"}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": true, "score": 2, "last_activity_date": 1507142693, "last_edit_date": 1507142693, "creation_date": 1507142024, "answer_id": 46571876, "question_id": 46571561, "link": "https://stackoverflow.com/questions/46571561/assigning-values-to-an-array-of-atomic-user-defined-structures/46571876#46571876", "title": "Assigning values to an array of atomic user defined structures", "body": "<p><code>a_table[pid % n]</code> gives you a <code>std::atomic&lt;snap&gt;</code>, not a pointer of that type.</p>\n\n<p>However, you cannot do what you want direcly, you need to use <a href=\"http://www.cplusplus.com/reference/atomic/atomic/store/\" rel=\"nofollow noreferrer\"><code>atomic::store()</code></a>. So change this:</p>\n\n<pre><code>a_table[pid % n]-&gt;number = v;\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>snap tmp {v, myTimestamp};\na_table[pid % n].store(tmp, std::memory_order_relaxed);\n</code></pre>\n\n<hr>\n\n<p>PS: Further read: How <a href=\"https://stackoverflow.com/questions/27069103/misunderstanding-of-atomic-structs-and-pointers\">std::atomic</a> works.</p>\n"}], "owner": {"reputation": 59, "user_id": 3721505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100002100923237/picture?type=large", "display_name": "Uttaran", "link": "https://stackoverflow.com/users/3721505/uttaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 46571876, "answer_count": 1, "score": 2, "last_activity_date": 1507142693, "creation_date": 1507140943, "last_edit_date": 1507142080, "question_id": 46571561, "link": "https://stackoverflow.com/questions/46571561/assigning-values-to-an-array-of-atomic-user-defined-structures", "title": "Assigning values to an array of atomic user defined structures", "body": "<p>I'm trying to create an atomic array of a structure variable. But I cannot assign values to any array element.</p>\n\n<pre><code>   struct snap {\n        int number;\n        int timestamp;\n    };\n\natomic&lt;snap&gt; *a_table;\n\nvoid writer(int i, int n, int t1)\n{\n    int v, pid;\n    int t1;\n    a_table = new atomic&lt;snap&gt;[n];\n    pid = i;\n    while (true)\n    {\n        v = rand() % 1000;\n        a_table[pid % n]-&gt;number = v;\n        this_thread::sleep_for(chrono::milliseconds(100 * t1));\n    }\n}\n</code></pre>\n\n<p>The line <code>a_table[pid % n]-&gt;number = v</code> is showing an error (expression must have pointer type)</p>\n"}, {"tags": ["c++", "namespaces", "operator-overloading", "using"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 2, "creation_date": 1507140786, "post_id": 46571460, "comment_id": 80096582, "body": "ADL doesn&#39;t work with type aliases"}], "owner": {"reputation": 73, "user_id": 8458425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89de7fad38f24d96d39a42009165dafd?s=128&d=identicon&r=PG&f=1", "display_name": "mr miyagi", "link": "https://stackoverflow.com/users/8458425/mr-miyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1507143408, "creation_date": 1507140592, "question_id": 46571460, "link": "https://stackoverflow.com/questions/46571460/c-overload-shift-opertor-inside-namespace", "title": "C++ overload shift opertor inside namespace", "body": "<p>i wonder, why the following minimal codes doesn't compile.</p>\n\n<p>In the namespace myns I defined Tokens aka std:vector of strings and overrides the shift operator inside this namespace to print Tokens.</p>\n\n<p>First I thougt, if Tokens defined in the namespace myns, then the overloaded shiftoperator will be used from there. But it don't.</p>\n\n<p>How can I fix that problem?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nnamespace myns{\n    using Token = std::string;\n    using Tokens = std::vector&lt;Token&gt;;\n\n    template&lt;typename T&gt;\n    T&amp; operator&lt;&lt;(T&amp; t, const Tokens&amp; tokens) {\n        for ( const auto&amp; token : tokens) {\n            t &lt;&lt; '[' &lt;&lt; token &lt;&lt; ']';\n        }\n        return t;\n    }\n}\n\nint main() {\n\n    myns::Tokens tokens {\"sin\", \"(\", \"4\"};\n    std::cout &lt;&lt; tokens &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "perf"], "comments": [{"owner": {"reputation": 80313, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1507159324, "post_id": 46571371, "comment_id": 80104660, "body": "Check <code>perf script -D</code> output to get some info on the format. There is textual description of <code>perf.data</code> at <a href=\"https://github.com/torvalds/linux/blob/master/tools/perf/Documentation/perf.data-file-format.txt\" rel=\"nofollow noreferrer\"><code>tools&#47;perf&#47;Documentation&#47;perf.data-file-format.txt</code></a> in kernel source: &quot;<i>bulk of the file. It consist of a stream of perf_events describing events. This matches the format generated by the kernel.</i>&quot; - List of event attrs is <code>enum perf_event_sample_format</code> <a href=\"http://elixir.free-electrons.com/linux/v4.13.4/source/include/uapi/linux/perf_event.h#L118\" rel=\"nofollow noreferrer\">elixir.free-electrons.com/linux/v4.13.4/source/include/uapi/&zwnj;&#8203;&hellip;</a>, no symbol name. Check also <code>man perf-data</code>"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1507140287, "creation_date": 1507140287, "question_id": 46571371, "link": "https://stackoverflow.com/questions/46571371/perf-store-symbol-names-in-perf-data-in-addition-to-offsets", "title": "perf -- store symbol names in perf.data in addition to offsets", "body": "<p>Does perf have the ability to produce a self-contained <code>perf.data</code> file with symbol information in addition to offsets?</p>\n\n<p>By default, <code>perf report</code> seems to reconstruct the symbol information based on having the file available.</p>\n\n<p>Suppose we have a file <code>hello.cpp</code> in <code>/tmp/perftest</code>:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n\nint store = 0;\n\nint add_to_store(int x) {\n  store += x;\n}\n\nint main() {\n  for (int i = 0; i &lt; 1000000; ++i) {\n    add_to_store(i);\n  }\n  printf(\"%d\\n\", store);\n}\n</code></pre>\n\n<p>If you compile it (with optimization disabled) and run it you get some number</p>\n\n<pre><code>$ g++ -O0 hello.cpp\n$ ./a.out\n1783293664\n</code></pre>\n\n<p>If we want to record where it spends most of its time ... we can use <code>perf</code>.</p>\n\n<pre><code>$ perf record ./a.out\n1783293664\n[ perf record: Woken up 1 times to write data ]\n[ perf record: Captured and wrote 0.007 MB perf.data (15 samples) ]\n</code></pre>\n\n<p>And we get the following output inside a pager-ish program when we run <code>perf report</code></p>\n\n<pre><code> 40.00%  a.out    a.out          [.] add_to_store\n 40.00%  a.out    a.out          [.] main\n 13.33%  a.out    ld-2.17.so     [.] do_lookup_x\n  6.67%  a.out    ld-2.17.so     [.] calloc\n</code></pre>\n\n<p>However, the symbol data does not actually live in <code>perf.data</code>, e.g.</p>\n\n<pre><code>$ strings perf.data | grep add_to_store\nExit 1\n</code></pre>\n\n<p>And if we <code>rm ./a.out</code>, then we see the following for our <code>perf report</code> output:</p>\n\n<pre><code>  20.00%  a.out    a.out             [.] 0x0000000000000608\n  20.00%  a.out    a.out             [.] 0x000000000000062f\n  13.33%  a.out    a.out             [.] 0x000000000000060e\n  13.33%  a.out    a.out             [.] 0x0000000000000626\n  13.33%  a.out    ld-2.17.so        [.] do_lookup_x\n   6.67%  a.out    a.out             [.] 0x0000000000000603\n   6.67%  a.out    a.out             [.] 0x0000000000000636\n   6.67%  a.out    ld-2.17.so        [.] calloc\n</code></pre>\n\n<p>Is there a way to direct <code>perf</code> to collect symbol information and put it in <code>perf.data</code>? Or, failing that, does the <code>perf.data</code> format allow for the possibility of storing symbol information in it? I'm okay with writing a script to munge the data file if I have to.</p>\n"}, {"tags": ["c++", "image", "overlay", "x11", "cimg"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7711582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb7602ade735929a6e6c3c6d164a09?s=128&d=identicon&r=PG&f=1", "display_name": "g duarte", "link": "https://stackoverflow.com/users/7711582/g-duarte"}, "edited": false, "score": 0, "creation_date": 1507142721, "post_id": 46571906, "comment_id": 80097699, "body": "Thank you! Just to note for others that may have the problem I had, I had to put this statement before the img1 was displayed."}], "tags": [], "owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1507142171, "creation_date": 1507142171, "answer_id": 46571906, "question_id": 46571358, "link": "https://stackoverflow.com/questions/46571358/how-do-i-display-one-image-over-the-other-using-cimg-h-library/46571906#46571906", "title": "How do I display one image over the other using CImg.h library?", "body": "<p>Like this:</p>\n\n<pre><code>   // Draw img2 on top of img1 at (x1,y1)\n   img1.draw_image(x1,y1,img2);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7711582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bb7602ade735929a6e6c3c6d164a09?s=128&d=identicon&r=PG&f=1", "display_name": "g duarte", "link": "https://stackoverflow.com/users/7711582/g-duarte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 46571906, "answer_count": 1, "score": 0, "last_activity_date": 1507142171, "creation_date": 1507140248, "question_id": 46571358, "link": "https://stackoverflow.com/questions/46571358/how-do-i-display-one-image-over-the-other-using-cimg-h-library", "title": "How do I display one image over the other using CImg.h library?", "body": "<p>I am trying to display one image over the other but in the same window. I have seen posts doing side by side but I already know how to do that. Here is what I have so far:</p>\n\n<pre><code>string firstFile = \"\";\nstring secondFile = \"\";\ncout &lt;&lt; \"Enter the filenames corresponding to the Image and the Logo (in that order): \" &lt;&lt; endl;\ncin &gt;&gt; firstFile;\ncin &gt;&gt; secondFile;\n\nconst char* filename = firstFile.c_str(); \nCImg&lt;unsigned char&gt; img1(filename); \n\nconst char* filename2 = secondFile.c_str(); \nCImg&lt;unsigned char&gt; img2(filename2); \n\nint w = img1.width(); \nint h = img1.height(); \nint channels = img1.spectrum(); \n\ncout &lt;&lt; \"Successfully loaded image \" &lt;&lt; firstFile &lt;&lt; \" of size \" &lt;&lt; w &lt;&lt; \" x \" &lt;&lt; h &lt;&lt; \" x \" &lt;&lt; channels &lt;&lt; endl;\n\nint w2 = img2.width();\nint h2 = img2.height();\nchannels = img2.spectrum();\ncout &lt;&lt; \"Successfully loaded image \" &lt;&lt; secondFile &lt;&lt; \" of size \" &lt;&lt; w2 &lt;&lt; \" x \" &lt;&lt; h2 &lt;&lt; \" x \" &lt;&lt; channels &lt;&lt; endl;\n\ncout &lt;&lt; \"Enter the position in (x, y) coordinates where this logo must be placed.\" &lt;&lt; endl &lt;&lt; \"x must be between 0 and 239 and y must be between 0 and 191.\" &lt;&lt; endl;\nint x1, y1;\ncin &gt;&gt; x1;\ncin &gt;&gt; y1;\n\nchar title[100];\nsprintf(title, \"%s (%d x %d x %d)\", filename, w, h, channels);\n\n\nCImgDisplay disp(img1, title, 0); \nimg1.display(disp, false); \n</code></pre>\n"}, {"tags": ["c++", "data-structures"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1507140884, "post_id": 46571219, "comment_id": 80096637, "body": "<b>C</b> doesn&#39;t even have <code>std::cout</code> - that&#39;s C++ there. Also: <a href=\"http://idownvotedbecau.se/nodebugging/\" rel=\"nofollow noreferrer\">debugging</a>."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1507140960, "post_id": 46571219, "comment_id": 80096676, "body": "I recommend indenting your code properly, many an error has been found by applying a coding helpful coding style."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 2, "creation_date": 1507140982, "post_id": 46571219, "comment_id": 80096691, "body": "You do not use next to go over the list. You always iterate over underlying array - and it never changes"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1507141224, "post_id": 46571219, "comment_id": 80096839, "body": "Artemy seems right. What makes you think that the line is not executed? @ArtemyVysotsky, would you like to make an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1507141879, "creation_date": 1507141879, "answer_id": 46571834, "question_id": 46571219, "link": "https://stackoverflow.com/questions/46571219/why-is-this-program-not-working-and-i-think-the-error-is-in-linked-list-assignme/46571834#46571834", "title": "Why is this program not working and i think the error is in linked list assignment?", "body": "<p>Original node array</p>\n\n<pre><code>     +-------------------------------------------------+\ndata | 0 | 0 | 1 | 1 | 2 | 2 | 3 | 3 | 4 | 4 | Garbage |\n     +-------------------------------------------------+\nNext   1   2   3   4   5   6   7   8   9   10    NULL\n</code></pre>\n\n<p>After setting next</p>\n\n<pre><code>     +-------------------------------------------------+\ndata | 0 | 0 | 1 | 1 | 2 | 2 | 3 | 3 | 4 | 4 | Garbage |\n     +-------------------------------------------------+\nNext   2   2   4   4   6   6   8   8   10   10    NULL\n</code></pre>\n\n<p>So if you go from head node to the next using next pointer - you'll see filtered list</p>\n\n<p>But since you go using original indexed approach - you still see all nodes.</p>\n\n<p>I have shown next as Index just for illustration instead of real pointer values - So where you see Next == 2 - it means pointer goes to array member node[2]</p>\n"}], "owner": {"reputation": 169, "user_id": 5277189, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-AHC2tx8sJIM/AAAAAAAAAAI/AAAAAAAAAFo/UQGC6aRtpE0/photo.jpg?sz=128", "display_name": "ChandraKumar", "link": "https://stackoverflow.com/users/5277189/chandrakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1507141879, "creation_date": 1507139760, "last_edit_date": 1507141566, "question_id": 46571219, "link": "https://stackoverflow.com/questions/46571219/why-is-this-program-not-working-and-i-think-the-error-is-in-linked-list-assignme", "title": "Why is this program not working and i think the error is in linked list assignment?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\nint main(int argc, char const *argv[]) {\n   struct sam{\n     int data;\n     struct sam *next;\n   };\n   struct sam node[11];\n   for(int i=0;i&lt;10;i++){\n   node[i].data = i/2;\n   node[i].next = &amp;node[i+1];\n }\n node[10].next=NULL;\n for  (size_t i = 0;node[i].next!=NULL; i++) {\n std::cout  &lt;&lt;node[i].data&lt;&lt; '\\t';\n }\n std::cout  &lt;&lt; '\\n';\n for(int i=0;node[i].next-&gt;next!=NULL;i++){\n   if(node[i].data == node[i].next-&gt;data){\n   node[i].next = node[i].next-&gt;next;\n }\n}\n\nfor (size_t i = 0;node[i].next!=NULL; i++) {\nstd::cout &lt;&lt; \"Data is \" &lt;&lt;node[i].data&lt;&lt; '\\t';\n}\nreturn 0;\n}\n</code></pre>\n\n<p>The objective is to Remove duplicates from a sorted linked list\nAnd I've randomly allocated 0,0,1,1,2,2,3,3,4,4 to the list\nThe line node[i].next = node[i].next->next is not executing and henceforth I'm not getting desired output... </p>\n"}, {"tags": ["c++", "windows", "winapi"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1507140830, "post_id": 46571032, "comment_id": 80096610, "body": "It would help clarify your question, if you removed the UWP references, and instead succinctly posted the requirements you are after."}, {"owner": {"reputation": 3413, "user_id": 306930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050d410352880572736fc85f30c170b8?s=128&d=identicon&r=PG", "display_name": "conio", "link": "https://stackoverflow.com/users/306930/conio"}, "edited": false, "score": 0, "creation_date": 1507242177, "post_id": 46571032, "comment_id": 80144195, "body": "The standard way to do this is to have the application check for an existing instance during startup and if there is one pass a request to the old instance and terminate. Everybody does that, not only in regard to protocol handlers. There&#39;s no problem with doing that."}], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 4695999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c019bff1fc78b6e4dfe2556f8035ed?s=128&d=identicon&r=PG", "display_name": "Chris Idzerda", "link": "https://stackoverflow.com/users/4695999/chris-idzerda"}, "edited": false, "score": 0, "creation_date": 1507232126, "post_id": 46571897, "comment_id": 80140027, "body": "I think this is no better than registering a custom protocol handler since it also requires a separate component, a COM component, that executes in a separate process, the shell. UWP apps don&#39;t require any additional components."}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "reply_to_user": {"reputation": 188, "user_id": 4695999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c019bff1fc78b6e4dfe2556f8035ed?s=128&d=identicon&r=PG", "display_name": "Chris Idzerda", "link": "https://stackoverflow.com/users/4695999/chris-idzerda"}, "edited": false, "score": 0, "creation_date": 1507237096, "post_id": 46571897, "comment_id": 80142321, "body": "An out-of-proc COM server executes in your application but yes, it is extra work to do it this way."}, {"owner": {"reputation": 3413, "user_id": 306930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050d410352880572736fc85f30c170b8?s=128&d=identicon&r=PG", "display_name": "conio", "link": "https://stackoverflow.com/users/306930/conio"}, "edited": false, "score": 0, "creation_date": 1507242023, "post_id": 46571897, "comment_id": 80144155, "body": "@Anders: I always thought that &quot;out-of-proc&quot; stands for &quot;out of <i>process</i>&quot;. Does it not? Or do you use a broad definition of &quot;application&quot; that includes multiple processes?"}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 0, "creation_date": 1507243384, "post_id": 46571897, "comment_id": 80144518, "body": "It will create multiple processes when some other process invokes your protocol but that is unavoidable (except the first time when your app is not running). It will not however run in the shell, it will run in another instance of your applications .exe when it is out-of-proc."}], "tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": false, "score": 0, "last_activity_date": 1507142128, "creation_date": 1507142128, "answer_id": 46571897, "question_id": 46571032, "link": "https://stackoverflow.com/questions/46571032/is-there-a-desktop-mechanism-similar-to-uwp-windows-protocol/46571897#46571897", "title": "Is there a desktop mechanism similar to UWP windows.protocol?", "body": "<p>You can implement <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd378382\" rel=\"nofollow noreferrer\"><code>IExecuteCommand</code></a>, that is what Internet Explorer does for its HTTP registration (DelegateExecute). Your implementation can simply look for and communicate with a existing instance of your application (if there is one) or launch normally.</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20100312-01/?p=14623/\" rel=\"nofollow noreferrer\">This blog post</a> should get you started...</p>\n"}], "owner": {"reputation": 188, "user_id": 4695999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c019bff1fc78b6e4dfe2556f8035ed?s=128&d=identicon&r=PG", "display_name": "Chris Idzerda", "link": "https://stackoverflow.com/users/4695999/chris-idzerda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1507232331, "creation_date": 1507139076, "last_edit_date": 1507232331, "question_id": 46571032, "link": "https://stackoverflow.com/questions/46571032/is-there-a-desktop-mechanism-similar-to-uwp-windows-protocol", "title": "Is there a desktop mechanism similar to UWP windows.protocol?", "body": "<p>UWP apps can register for a custom scheme by using <code>Extension Category=\"windows.protocol\"</code> (<a href=\"https://docs.microsoft.com/en-us/uwp/schemas/appxpackage/appxmanifestschema/element-protocol\" rel=\"nofollow noreferrer\">MSDN</a>).  I'm aware of custom protocol handlers by registering a URI scheme (<a href=\"https://msdn.microsoft.com/en-us/library/aa767914(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) but those always launch a new instance of the app.  What I want is the behavior of a UWP app:  if there is a currently running instance, it gets activated.</p>\n\n<p>I also looked into URL Monikers and Asynchronous Pluggable Protocols (<a href=\"https://msdn.microsoft.com/en-us/library/ms774965(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) but those only work when invoking the protocol in-process, such as when using a Web view.  A UWP app gets activated even if some other process, such as a Web browser, invokes the protocol.</p>\n\n<p>This is for a C++ Win32 desktop application; .NET is not an option.</p>\n\n<p>Also, as I said in my comment to Anders's proposal, I don't want to have to create a separate component to activate my running app when some other process, such as a browser, invokes my protocol.  UWP apps have no such requirement and I want the same for my app.</p>\n"}, {"tags": ["c++", "boost", "io"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 1, "creation_date": 1507137928, "post_id": 46570714, "comment_id": 80095064, "body": "Difficult to say since we don\u2019t know what the actual contents are and there\u2019s no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to run"}, {"owner": {"reputation": 53, "user_id": 4190313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a622b4b59aeaeae9b798c2a0d8a5ccf9?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshith", "link": "https://stackoverflow.com/users/4190313/rakshith"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1507138025, "post_id": 46570714, "comment_id": 80095117, "body": "How am I able to open the file by hardcoding the path? What is wrong in giving a string as a parameter to ifstream?"}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1507138104, "post_id": 46570714, "comment_id": 80095156, "body": "Are you really <i>really</i> sure it is <i>exactly</i> the same string? We can\u2019t tell since we don\u2019t have your code or debugger"}, {"owner": {"reputation": 53, "user_id": 4190313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a622b4b59aeaeae9b798c2a0d8a5ccf9?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshith", "link": "https://stackoverflow.com/users/4190313/rakshith"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1507138246, "post_id": 46570714, "comment_id": 80095236, "body": "Yes, both the strings are absolute paths."}, {"owner": {"reputation": 53, "user_id": 4190313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a622b4b59aeaeae9b798c2a0d8a5ccf9?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshith", "link": "https://stackoverflow.com/users/4190313/rakshith"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1507139131, "post_id": 46570714, "comment_id": 80095713, "body": "@AndyG, no its not a UNC path. I wrote that small program for this and it seems to work, but when I use it with this large codebase, its not working. Note that create_new_task function is being called from a new thread. Will that affect I/O?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1507139416, "post_id": 46570714, "comment_id": 80095848, "body": "@Rakshith: I presume that your reference to <code>location</code> is invalidated somewhere else before <code>create_new_task</code> gets called."}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 1, "creation_date": 1507142759, "post_id": 46570714, "comment_id": 80097719, "body": "Then you&#39;ll need to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to replicate this."}], "owner": {"reputation": 53, "user_id": 4190313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a622b4b59aeaeae9b798c2a0d8a5ccf9?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshith", "link": "https://stackoverflow.com/users/4190313/rakshith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507149998, "creation_date": 1507137818, "last_edit_date": 1507140729, "question_id": 46570714, "link": "https://stackoverflow.com/questions/46570714/c-ifstream-throws-file-not-found-even-though-the-file-exists", "title": "C++ ifstream throws file not found even though the file exists", "body": "<p>I am trying to open a file where the file path is taken as a user input.</p>\n\n<p>However, the C++ runtime says that the file does not exist, but when I hardcode the string, I am able to open the file.</p>\n\n<pre><code>std::shared_ptr&lt;Task&gt; Daemon::create_new_task(string &amp;location){\n    std::ifstream file;\n    std::cout&lt;&lt;\"Create new task-&gt;\"&lt;&lt;location&lt;&lt;endl;\n    file.open(location.c_str(), std::ios::in);\n    if (!file.is_open())\n        perror(\"Error\");\n    boost::filesystem::path f(\"&lt;filepath&gt;\");\n    std::cerr&lt;&lt;boost::filesystem::exists(f);\n    std::stringstream buf;\n    buf &lt;&lt; file.rdbuf();\n    return std::make_shared&lt;Task&gt;(location,buf.str());\n}\n</code></pre>\n\n<p><code>perror()</code> says file not found, while the second output is 1.</p>\n\n<p>I tried absolute and relative paths. None of them work.</p>\n\n<p>Any thoughts on this?</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": true, "score": 5, "last_activity_date": 1507137811, "creation_date": 1507137811, "answer_id": 46570709, "question_id": 46570652, "link": "https://stackoverflow.com/questions/46570652/does-template-argument-deduction-takes-return-type-into-account/46570709#46570709", "title": "Does template argument deduction takes return type into account?", "body": "<pre><code>struct A {\n    int value; \n\n    //conversion operator\n    template&lt;class T&gt;\n    operator T() {return static_cast&lt;T&gt;(value);}\n};\n\nA a{4};\nfloat f = a; //conversion from A to float\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 514514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bae5143216d0c560304a06da1a31739?s=128&d=identicon&r=PG", "display_name": "Cheshar", "link": "https://stackoverflow.com/users/514514/cheshar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548446414, "creation_date": 1548446414, "answer_id": 54372047, "question_id": 46570652, "link": "https://stackoverflow.com/questions/46570652/does-template-argument-deduction-takes-return-type-into-account/54372047#54372047", "title": "Does template argument deduction takes return type into account?", "body": "<p>I could think of one more case:</p>\n\n<pre><code>template &lt;typename A, typename B&gt;\nA foo(B)\n{\n    cout &lt;&lt; \"Am I being instantiated? \" &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; endl;\n    return A();\n}\n\nint main ( )\n{        \n    int(*fp)(int) = foo; // Instantiates \"int foo(int) [A = int, B = int]\"\n    fp(1);      \n}\n</code></pre>\n"}], "owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 46570709, "answer_count": 2, "score": 4, "last_activity_date": 1548446414, "creation_date": 1507137564, "last_edit_date": 1507140949, "question_id": 46570652, "link": "https://stackoverflow.com/questions/46570652/does-template-argument-deduction-takes-return-type-into-account", "title": "Does template argument deduction takes return type into account?", "body": "<p>I am going through \"C++ Templates: The Complete Guide (Second Edition)\", page 10.</p>\n\n<p>As per the book, template argument deduction doesn't take return type into account.</p>\n\n<blockquote>\n  <p>Template Deduction can be seen as part of overload resolution. A process that is not based on selection of return types. The sole exception is the return type of conversion operator members</p>\n</blockquote>\n\n<p>Any example will be helpful in which return type is taken into account in deduction.</p>\n"}, {"tags": ["python", "c++", "travis-ci", "read-the-docs"], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 2043407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5aeda53b8ee0b2d91aa61d992b225bd?s=128&d=identicon&r=PG", "display_name": "Yannick Jadoul", "link": "https://stackoverflow.com/users/2043407/yannick-jadoul"}, "is_accepted": true, "score": 0, "last_activity_date": 1514295124, "creation_date": 1514295124, "answer_id": 47979356, "question_id": 46570594, "link": "https://stackoverflow.com/questions/46570594/optimizing-build-time-for-readthedocs-project/47979356#47979356", "title": "Optimizing build time for ReadTheDocs project", "body": "<p>What I ended up doing to solve this problem was to use <a href=\"https://bintray.com/\" rel=\"nofollow noreferrer\">BinTray</a> to upload my wheels built on Travis CI. After this built and upload have succeeded, I manually trigger the ReadTheDocs build, which will then install the project with the right Python wheel from BinTray.</p>\n\n<p>For more details, see <a href=\"https://github.com/YannickJadoul/Parselmouth/commit/d31342a911c7ca13689065fc3a16dadde4a4e3c7\" rel=\"nofollow noreferrer\">this commit</a></p>\n"}], "owner": {"reputation": 391, "user_id": 2043407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5aeda53b8ee0b2d91aa61d992b225bd?s=128&d=identicon&r=PG", "display_name": "Yannick Jadoul", "link": "https://stackoverflow.com/users/2043407/yannick-jadoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 47979356, "answer_count": 1, "score": 1, "last_activity_date": 1514295124, "creation_date": 1507137372, "question_id": 46570594, "link": "https://stackoverflow.com/questions/46570594/optimizing-build-time-for-readthedocs-project", "title": "Optimizing build time for ReadTheDocs project", "body": "<p>I am developing a reasonably-sized binary Python library, <a href=\"http://github.com/YannickJadoul/Parselmouth\" rel=\"nofollow noreferrer\">Parselmouth</a>, which takes some time to build - mainly because I am wrapping an existing program with a large codebase. Consequently, now that I'm trying to set up API documentation, I am running into either the 15 minute time limit or 1 GB memory limit (when I multithread my build, I have some expensive template instantiations and the compiler process gets killed) when building on ReadTheDocs.</p>\n\n<p>However, I have successfully set up Travis CI builds, using ccache to not recompile the large codebase, but only the changed parts of the wrapper code.</p>\n\n<p>I have been thinking about installing from PyPI, but then the versioning gets complicated, and intermediate development builds do not get good API documentation.</p>\n\n<p>So I was wondering: is there a known solution for this kind of case, maybe using the builds from Travis CI?</p>\n"}, {"tags": ["c++", "arrays", "pointers", "unions"], "answers": [{"comments": [{"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1507162609, "post_id": 46575245, "comment_id": 80105408, "body": "Good catch for 12.3\\1 quote on the size of the <code>union</code>. Though I&#39;m not convinced on the bit about it <i>not</i> being UB. Actually, because of this quote I&#39;m more convinced that it&#39;s at best <i>implementation-defined</i> behavior, since whether or not addressing would work would be determined by compiler and platform. Only the first cast to a pointer (1. from my question) would be valid and legal."}], "tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 1, "last_activity_date": 1507156849, "creation_date": 1507156849, "answer_id": 46575245, "question_id": 46570566, "link": "https://stackoverflow.com/questions/46570566/can-an-array-of-a-union-type-be-cast-to-a-pointer-of-the-active-type/46575245#46575245", "title": "Can an array of a union type be cast to a pointer of the active type?", "body": "<p>In theory, this can fail. As per standard:</p>\n\n<blockquote>\n  <p>The size of a union is sufficient to contain the largest of its data members.</p>\n</blockquote>\n\n<p>So, in theory, sizeof(my_union) and sizeof(largest_member) might differ.</p>\n\n<p>If you static_assert() that it's the same, then:</p>\n\n<pre><code>int* array = &amp;storage[0].value0;\n</code></pre>\n\n<p>... does it and you're UB-free due to how array indexing works.</p>\n"}], "owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1507156849, "creation_date": 1507137257, "question_id": 46570566, "link": "https://stackoverflow.com/questions/46570566/can-an-array-of-a-union-type-be-cast-to-a-pointer-of-the-active-type", "title": "Can an array of a union type be cast to a pointer of the active type?", "body": "<p>Given an array of some <code>union</code> type, if the following conditions are met:</p>\n\n<ul>\n<li>the active member of each <code>union</code> in the array is the same,</li>\n<li><code>sizeof</code> each member within the <code>union</code> is the same, and</li>\n<li><code>alignof</code> each member within the <code>union</code> is the same</li>\n<li>(possibly) the union satisfies the requirements for <code>StandardLayoutType</code></li>\n</ul>\n\n<p>then are the following actions safe:</p>\n\n<ol>\n<li>casting this array to a pointer of the active type (for the intent of addressing it as an array of the active type)</li>\n<li>addressing anything other than the first element of the above array?</li>\n<li>assuming 1 &amp; 2 are possible; does this hold for non standard-layout-types?</li>\n</ol>\n\n<p>For example, consider the following code-segment:</p>\n\n<pre><code>template&lt;typename T, typename U&gt;\nunion storage_type\n{\n    T value0;\n    U value1;\n};\n\nstatic_assert( sizeof(int) == sizeof(float), \"\" );\nstatic_assert( alignof(int) == alignof(float), \"\" );\n\nstorage_type&lt;int,float&gt; storage[] = { {1}, {2}, {3} };\n\n// the active type of all storage_type is 'int', so cast to int*\n// to be treated as an array of ints\n\nauto* array = reinterpret_cast&lt;int*&gt;(&amp;storage[0]);\n\nassert( array[0] == 1 );\nassert( array[1] == 2 );\nassert( array[2] == 3 );\n</code></pre>\n\n<p>I'm interested in what the C++ Standard has to explicitly say about such a case. I know that <code>StandardLayoutType</code>s are safe to cast to the first member of the structure or active element of the union, so I suspect that my first cast is safe; but I'm unsure if this would hold true for an array, and treating it like an array of the active type.</p>\n\n<p>I tried doing some searching, both on SO and in the C++ standard (N4660 C++17 draft) -- but I didn't have any luck </p>\n\n<p><strong>Note</strong>: This question is not about whether this will work <em>in practice</em> due to compilers having C compatibility; this is strictly a question on whether this invokes UB in C++, and whether it violates strict-aliasing rules.</p>\n"}, {"tags": ["c++", "visual-studio", "gedit"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 1, "creation_date": 1507137367, "post_id": 46570556, "comment_id": 80094758, "body": "What error message did you see? Did it compile? Maybe you just need to include <code>#include &lt;string&gt;</code>?"}, {"owner": {"reputation": 1522, "user_id": 8157511, "user_type": "registered", "profile_image": "https://graph.facebook.com/638941339628236/picture?type=large", "display_name": "James Maa", "link": "https://stackoverflow.com/users/8157511/james-maa"}, "edited": false, "score": 1, "creation_date": 1507137439, "post_id": 46570556, "comment_id": 80094797, "body": "Where exactly it doesn&#39;t work, how exactly it doesn&#39;t work, it&#39;s nothing to do with your editor, maybe wrong file, maybe compiler etc"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8570751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wel5h2BvIVE/AAAAAAAAAAI/AAAAAAAACLY/JAHOqE4cdg0/photo.jpg?sz=128", "display_name": "Adam Jablonski", "link": "https://stackoverflow.com/users/8570751/adam-jablonski"}, "edited": false, "score": 0, "creation_date": 1507170980, "post_id": 46570622, "comment_id": 80107177, "body": "This worked perfectly. Thanks so much for your help!"}], "tags": [], "owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "is_accepted": true, "score": 3, "last_activity_date": 1507138180, "last_edit_date": 1507138180, "creation_date": 1507137460, "answer_id": 46570622, "question_id": 46570556, "link": "https://stackoverflow.com/questions/46570556/c-code-works-in-gedit-but-not-in-vs/46570622#46570622", "title": "C++ code works in Gedit, but not in VS", "body": "<p>You have <code>string input;</code> and <code>cin &gt;&gt; input;</code>. These statements require the <code>&lt;string&gt;</code> header but you did not include it (explicitly). In some implementations you can get away with free rides since <code>&lt;iostream&gt;</code> includes the <code>&lt;string&gt;</code> header. But you should not. Always include the appropriate header:</p>\n\n<pre><code>#include &lt;string&gt;\n</code></pre>\n\n<p>Without the above header your code <a href=\"http://coliru.stacked-crooked.com/a/02dda32ae8307b4a\" rel=\"nofollow noreferrer\">will compile</a> on Linux using g++ (which is what you are using) but not on Windows using Visual C++. That being said use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\">std::getline</a> to accept strings from the standard input instead of <code>std::cin</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 8570751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wel5h2BvIVE/AAAAAAAAAAI/AAAAAAAACLY/JAHOqE4cdg0/photo.jpg?sz=128", "display_name": "Adam Jablonski", "link": "https://stackoverflow.com/users/8570751/adam-jablonski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 46570622, "answer_count": 1, "score": -2, "last_activity_date": 1507140491, "creation_date": 1507137208, "last_edit_date": 1507140491, "question_id": 46570556, "link": "https://stackoverflow.com/questions/46570556/c-code-works-in-gedit-but-not-in-vs", "title": "C++ code works in Gedit, but not in VS", "body": "<p>I've written a program in Visual Studio on Windows, and the program compiles correctly, but does not display the desired output to the console. However, if I compile and run the program in Gedit on Linux, the correct output displays and everything works. Why is this? Code is below:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nint main()\n{\nstring input;\n\ncout &lt;&lt; \"College Admission Generator\\n\\n\";\n\ncout &lt;&lt; \"To begin, enter the location of the input file (e.g. C:\\\\yourfile.txt):\\n\";\ncin &gt;&gt; input;\n\n\nifstream in(input.c_str());\n\nif (!in)\n{\n    cout &lt;&lt; \"Specified file not found. Exiting... \\n\\n\";\n    return 1;\n}\n\nchar school, alumni;\ndouble GPA, mathSAT, verbalSAT;\nint liberalArtsSchoolSeats = 5, musicSchoolSeats = 3, i = 0;\n\nwhile (in &gt;&gt; school &gt;&gt; GPA &gt;&gt; mathSAT &gt;&gt; verbalSAT &gt;&gt; alumni)\n{\n\n    i++;\n\n    cout &lt;&lt; \"Applicant #: \" &lt;&lt; i &lt;&lt; endl;\n    cout &lt;&lt; \"School = \" &lt;&lt; school;\n    cout &lt;&lt; \"\\tGPA = \" &lt;&lt; GPA;\n    cout &lt;&lt; \"\\tMath = \" &lt;&lt; mathSAT;\n    cout &lt;&lt; \"\\tVerbal = \" &lt;&lt; verbalSAT;\n    cout &lt;&lt; \"\\tAlumnus = \" &lt;&lt; alumni &lt;&lt; endl;\n\n    if (school == 'L')\n    {\n        cout &lt;&lt; \"Applying to Liberal Arts\\n\";\n\n        if (liberalArtsSchoolSeats &gt; 0)\n        {\n\n            if (alumni == 'Y')\n            {\n\n                if (GPA &lt; 3.0)\n                {\n                    cout &lt;&lt; \"Rejected - High school Grade is too low\\n\\n\";\n                }\n\n                else if (mathSAT + verbalSAT &lt; 1000)\n                {\n                    cout &lt;&lt; \"Rejected - SAT is too low\\n\\n\";\n                }\n\n                else\n                {\n                    cout &lt;&lt; \"Accepted to Liberal Arts!!\\n\\n\";\n                    liberalArtsSchoolSeats--;\n                }\n            }\n\n            else\n            {\n                if (GPA &lt; 3.5)\n                {\n                    cout &lt;&lt; \"Rejected - High school Grade is too low\\n\\n\";\n                }\n\n                else if (mathSAT + verbalSAT &lt; 1200)\n                {\n                    cout &lt;&lt; \"Rejected - SAT is too low\\n\\n\";\n                }\n\n                else\n                {\n                    cout &lt;&lt; \"Accepted to Liberal Arts\\n\\n\";\n                    liberalArtsSchoolSeats--;\n                }\n            }\n        }\n\n        else\n        {\n            cout &lt;&lt; \"Rejected - All the seats are full \\n\";\n        }\n    }\n\n    else\n    {\n        cout &lt;&lt; \"Applying to Music\\n\";\n\n        if (musicSchoolSeats&gt;0)\n        {\n            if (mathSAT + verbalSAT &lt; 500)\n            {\n                cout &lt;&lt; \"Rejected - SAT is too low\\n\\n\";\n            }\n\n            else\n            {\n                cout &lt;&lt; \"Accepted to Music\\n\\n\";\n\n                musicSchoolSeats--;\n            }\n        }\n\n        else\n        {\n            cout &lt;&lt; \"Rejected - All the seats are full\\n\";\n        }\n    }\n    cout &lt;&lt; \"*******************************\\n\";\n}\nreturn 0;\n}\n</code></pre>\n\n<p>Thanks for any and all help!</p>\n\n<p>EDIT: removed fluff.</p>\n\n<p>To clarify, the program does compile in VS. It opens the file, but does not echo any information from the file, and instead just prints the \"press any key to exit . . .\" message.</p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1507136376, "post_id": 46570276, "comment_id": 80094272, "body": "You&#39;re missing a set of <code>()</code>.  <code>cout &lt;&lt; &quot;BySimpson:&quot; &lt;&lt; MyInt.BySimpson &lt;&lt; endl &lt;&lt; endl;</code> should be <code>cout &lt;&lt; &quot;BySimpson:&quot; &lt;&lt; MyInt.BySimpson() &lt;&lt; endl &lt;&lt; endl;</code>"}, {"owner": {"reputation": 3, "user_id": 8721616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd70f109c8491f0c8929d85361a000ee?s=128&d=identicon&r=PG&f=1", "display_name": "Yimeng Ma", "link": "https://stackoverflow.com/users/8721616/yimeng-ma"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507136903, "post_id": 46570276, "comment_id": 80094525, "body": "Thanks. I just began to learn and I thought it was ok to not put a () if no variables are needed."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507137248, "post_id": 46570276, "comment_id": 80094698, "body": "@YimengMa Why would you ever think that? <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">Read a good book on C++</a> instead of trying to learn by coding randomly."}, {"owner": {"reputation": 3, "user_id": 8721616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd70f109c8491f0c8929d85361a000ee?s=128&d=identicon&r=PG&f=1", "display_name": "Yimeng Ma", "link": "https://stackoverflow.com/users/8721616/yimeng-ma"}, "edited": false, "score": 0, "creation_date": 1507137612, "post_id": 46570276, "comment_id": 80094889, "body": "well in fact I am taking a course and this is a homework.I know this question was silly but I cant delete it since it has been answered. How can I delete it now? I mean I understand it is not helpful to others and I dont want it to appear on my homepage."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507137898, "post_id": 46570276, "comment_id": 80095053, "body": "@YimengMa 1) If it is your homework, the source material should have been, already, explained to you, so you should&#39;ve, already, known the answer. 2) You can&#39;t. Unless the person who answered your question deletes it, and your question goes back to not being answered."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507138523, "post_id": 46570276, "comment_id": 80095382, "body": "@AlgirdasPreid\u017eius -- the reason that someone would think that is that that&#39;s how it&#39;s done in some languages. Pascal, for example."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507138722, "post_id": 46570276, "comment_id": 80095499, "body": "@PeteBecker Yes, I know that it&#39;s done like that in other languages (I am using PL/SQL from time to time, which shares such functionality as well), but why would one assume, that several, separate, languages must share the same syntax?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507138784, "post_id": 46570276, "comment_id": 80095536, "body": "@AlgirdasPreid\u017eius -- seriously? You&#39;ve never tried something that you thought would work and been surprised that it didn&#39;t?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507139404, "post_id": 46570276, "comment_id": 80095843, "body": "@PeteBecker Typically, when some language feature, that I tried to guess how it worked in a specific language, didn&#39;t work, I consulted the documentation of a language. And no, I never was surprised, that it didn&#39;t - I knew, upfront, that I was just making a guess, and it might not work because of that fact."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507142202, "post_id": 46570276, "comment_id": 80097391, "body": "@AlgirdasPreid\u017eius -- perhaps you&#39;ve forgotten: your question was &quot;Why would you ever think that?&quot; I answered. Now you&#39;re arguing that <b>you</b> wouldn&#39;t think that. Maybe; you might be the most wonderful software engineer in the world, never making incorrect assumptions. Please allow those of us who are less perfect to be merely human."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507150952, "post_id": 46570276, "comment_id": 80101777, "body": "@PeteBecker And your question was &quot;<i>You&#39;ve never tried something that you thought would work and <b>been surprised</b> that it didn&#39;t?</i>&quot;, to which I answered that, yes, I did, sometimes, make incorrect assumptions, but, because I knew, that they were just that - assumptions (=guesses), I was never surprised at the fact that they didn&#39;t work. So, please explain, where &quot;<i>never making incorrect assumptions</i>&quot; came from."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1507136840, "post_id": 46570414, "comment_id": 80094495, "body": "Please don&#39;t answer typo questions.  We have  close vote reason for them."}, {"owner": {"reputation": 3, "user_id": 8721616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd70f109c8491f0c8929d85361a000ee?s=128&d=identicon&r=PG&f=1", "display_name": "Yimeng Ma", "link": "https://stackoverflow.com/users/8721616/yimeng-ma"}, "edited": false, "score": 0, "creation_date": 1507136941, "post_id": 46570414, "comment_id": 80094538, "body": "Thanks. I just began to learn and I thought it was ok to not put a () if no variables are needed."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507138690, "post_id": 46570414, "comment_id": 80095484, "body": "<code>MyInt.BySimpson</code> <b>never</b> meant that you wanted the address of the function, except in Microsoft&#39;s imagination. It was never part of the language. Microsoft informally circulated a paper suggesting that the standards committee endorse their compiler&#39;s bug; the paper got a cumulative shrug, and it quickly disappeared."}], "tags": [], "owner": {"reputation": 17562, "user_id": 568635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25f0758867b3f251cfdf101b9611b9b5?s=128&d=identicon&r=PG", "display_name": "Eelke", "link": "https://stackoverflow.com/users/568635/eelke"}, "is_accepted": true, "score": 4, "last_activity_date": 1507136703, "creation_date": 1507136703, "answer_id": 46570414, "question_id": 46570276, "link": "https://stackoverflow.com/questions/46570276/vs2017-non-standard-syntax-use-to-create-a-pointer-to-member/46570414#46570414", "title": "VS2017 &quot;non-standard syntax; use &#39;&amp;&#39; to create a pointer to member\t&quot;", "body": "<p>On the line </p>\n\n<pre><code>cout &lt;&lt; \"BySimpson:\" &lt;&lt; MyInt.BySimpson &lt;&lt; endl &lt;&lt; endl;\n</code></pre>\n\n<p>You probably meant to make a call to BySimpson but your forgot the <code>()</code></p>\n\n<pre><code>cout &lt;&lt; \"BySimpson:\" &lt;&lt; MyInt.BySimpson() &lt;&lt; endl &lt;&lt; endl;\n</code></pre>\n\n<p>The reason you get this misleading error is because pre ISO standarization MyInt.BySimpson would actually mean you wanted the address just like for normal function the function name on its own gives the address of the function. Later however the use of &amp; to take the address of a member was put in the standard as a requirement. So Visual Studio thinks you are still using the old syntax and wants you to use the new syntax.</p>\n"}], "owner": {"reputation": 3, "user_id": 8721616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd70f109c8491f0c8929d85361a000ee?s=128&d=identicon&r=PG&f=1", "display_name": "Yimeng Ma", "link": "https://stackoverflow.com/users/8721616/yimeng-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3617, "favorite_count": 0, "closed_date": 1507137206, "accepted_answer_id": 46570414, "answer_count": 1, "score": -3, "last_activity_date": 1507136703, "creation_date": 1507136231, "last_edit_date": 1507136518, "question_id": 46570276, "link": "https://stackoverflow.com/questions/46570276/vs2017-non-standard-syntax-use-to-create-a-pointer-to-member", "closed_reason": "Not suitable for this site", "title": "VS2017 &quot;non-standard syntax; use &#39;&amp;&#39; to create a pointer to member\t&quot;", "body": "<pre><code>class DefInt\n{\nprivate:\n    double a;\n    double b;\n    double (*f)(double x);\n    int N;\npublic:\n    DefInt(double c, double d, double (*g)(double y))\n    {\n        a = c;\n        b = d;\n        f = g;\n    }\n\n    double BySimpson()\n    {\n        double sum = f(a) + 4 * f((a + b) / 2) + f(b);\n        return sum * (b - a) / 3;\n    }\n\n};\ndouble g(double y)\n{\n    double sum = 1 - y * y + y * y * y;\n    return sum;\n}\nint main()\n{\n    int c = 1;\n    int d = 2;\n    double y;\n    DefInt MyInt(c, d, g);\n    cout &lt;&lt; \"BySimpson:\" &lt;&lt; MyInt.BySimpson &lt;&lt; endl &lt;&lt; endl;\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>why is there a error saying     'DefInt::BySimpson': non-standard syntax; use '&amp;' to create a pointer to member?\nBy the way I ommited a similar DefInt member function,though it is nearly the same as Bysimpson, it works fine and no error occurs. I do not understand why.\nI have attched it here.</p>\n\n<pre><code>double ByTrapzold(int n)\n{\n    N = n;\n    double sum = f(a + (b - a) / N);\n    for (int i = 2; i &lt;= N; i++)\n    {\n        sum = sum + 2 * f(a + (b - a) * i / N);\n    }\n    sum = sum + f(a + (b - a) * (N + 1) / N);\n    return sum * (b - a) / (2 * N);\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "linker-errors", "static-linking", "gsl"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1507136023, "post_id": 46570138, "comment_id": 80094104, "body": "Your <code>--prefix</code> setting is probably too specific. See <a href=\"https://stackoverflow.com/a/16363784/841108\">stackoverflow.com/a/16363784/841108</a>"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4355519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bbcz5.jpg?s=128&g=1", "display_name": "Void", "link": "https://stackoverflow.com/users/4355519/void"}, "edited": false, "score": 0, "creation_date": 1507137767, "post_id": 46570396, "comment_id": 80094974, "body": "The solution was indeed to write the arguments in gcc the way you state them! (Also, yes, in the right order.)"}], "tags": [], "owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "is_accepted": true, "score": 2, "last_activity_date": 1507137813, "last_edit_date": 1507137813, "creation_date": 1507136630, "answer_id": 46570396, "question_id": 46570138, "link": "https://stackoverflow.com/questions/46570138/linking-to-gnu-scientific-library-on-cluster/46570396#46570396", "title": "Linking to GNU scientific library on cluster?", "body": "<p>Run first <code>configure --help</code>; you'll find out that it accepts the <code>--enable-static</code> option which you do want to use.</p>\n\n<p>BTW you could (and probably should) install Linux on your laptop and compile on it (then <code>scp</code> a mostly statically linked binary to your cluster).</p>\n\n<p>You'll better share a common <code>--prefix</code> for all your autoconf-ed software. See <a href=\"https://stackoverflow.com/a/16363784/841108\">this</a>. Read the <a href=\"https://www.gnu.org/savannah-checkouts/gnu/autoconf/manual/autoconf-2.69/html_node/index.html\" rel=\"nofollow noreferrer\">documentation of autoconf</a>. Let's suppose you always use <code>--prefix=$HOME/soft</code> (which don't require any root permission).</p>\n\n<p>You could compile with <code>make</code> then do a <code>make install DESTDIR=/tmp/gslinst</code> so that installed things go into <code>/tmp/gslinst</code> which you would inspect and latter copy appropriately to a directory related to your prefix.</p>\n\n<p>You'll find both <code>libgsl.a</code> and <code>libgslcblas.a</code>. On my Debian system, the <code>libgsl-dev</code> package provides them (so I don't need to rebuild it).</p>\n\n<p>Then you'll use these static libraries. You could provide a full path for them, that is use <code>$HOME/soft/lib/libgsl.a</code> explicitly in your linking <code>gcc</code> command for <code>harm</code>, e.g. link it with</p>\n\n<pre><code> gcc some.o $HOME/soft/lib/libgsl.a -o harm\n</code></pre>\n\n<p>but YMMV. Order of arguments to <code>gcc</code> matters a lot.</p>\n\n<p>You don't need or want to mess with <code>$LD_LIBRARY_PATH</code> or  <code>-Wl,-rpath</code> with static linking. Read about <a href=\"https://en.wikipedia.org/wiki/Rpath\" rel=\"nofollow noreferrer\">rpath</a> when you want dynamic linking. </p>\n\n<p>See also what <code>pkg-config</code> tells.</p>\n"}], "owner": {"reputation": 125, "user_id": 4355519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bbcz5.jpg?s=128&g=1", "display_name": "Void", "link": "https://stackoverflow.com/users/4355519/void"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 1, "accepted_answer_id": 46570396, "answer_count": 1, "score": 1, "last_activity_date": 1508620138, "creation_date": 1507135807, "last_edit_date": 1508620138, "question_id": 46570138, "link": "https://stackoverflow.com/questions/46570138/linking-to-gnu-scientific-library-on-cluster", "title": "Linking to GNU scientific library on cluster?", "body": "<p>I am running a code (<a href=\"https://github.com/AFD-Illinois/iharm2d_v3\" rel=\"nofollow noreferrer\">iHARM2D</a>) which requires the <a href=\"https://www.gnu.org/software/gsl/\" rel=\"nofollow noreferrer\">GNU scientific library library</a> (GSL) on a cluster. Since the GSL library is not installed on the cluster, I have to compile it there and properly link it during compilation of the actual code. In my shell script I write</p>\n\n<pre><code>cd whereGSLsource\n./configure --prefix=/homefolder/iHARM/GSLcompiled\nmake &amp;&amp; make install\n</code></pre>\n\n<p>This compiles the GSL and puts the results in /homefolder/iHARM/GSLcompiled/lib, /homefolder/iHARM/GSLcompiled/include etc.</p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/4739917/loading-library-on-cluster\">this answer</a>, I should be able to compile by writing the following lines into my shell script before compilation of my main code</p>\n\n<pre><code>export CPATH=\"/homefolder/iHARM/GSLcompiled/include\":$CPATH\nexport LIBRARY_PATH=\"/homefolder/iHARM/GSLcompiled/lib\":$LIBRARY_PATH\n</code></pre>\n\n<p>However, this does not seem to link GSL properly because the compilation returns errors of the type \"undefined reference to `gsl_some_function'\". (It works on my computer when default installation and linking of GSL is used.)</p>\n\n<p>Another possibility suggested by the GSL output during compilation or <a href=\"https://stackoverflow.com/questions/4739917/loading-library-on-cluster\">this answer</a> is to modify the LD_LIBRARY_PATH variable</p>\n\n<pre><code>LD_LIBRARY_PATH=\"/homefolder/iHARM/GSLcompiled/lib\":$LD_LIBRARY_PATH\n</code></pre>\n\n<p>But this gives the same result. Similarly it does not when I try to link using the -L and -I option</p>\n\n<pre><code>cd iHARM\ngcc -someoptions -I../GSLcompiled/include/ -L../GSLcompiled/lib ./some.o -o harm\n</code></pre>\n\n<p>Another option suggested by GSL was to use </p>\n\n<pre><code>gcc -someoptions -Wl,-rpath -Wl,\"/homefolder/iHARM/GSLcompiled/lib\" ./some.o -o harm\n</code></pre>\n\n<p>However, neither of these work. </p>\n\n<p><em>How do I link the GSL properly then?</em> </p>\n\n<p>(I am not very experienced in this so this might also be some really basic mistake in the syntax or so.)</p>\n"}, {"tags": ["c++", "c", "format", "printf", "cross-platform"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 1, "creation_date": 1507135142, "post_id": 46569942, "comment_id": 80093662, "body": "By using proper format specifiers for the types used? It is specifically easy with standard types which you are using."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1507135200, "post_id": 46569942, "comment_id": 80093691, "body": "Read the docs to find the correct format specifier for each standard type."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1507135787, "post_id": 46569942, "comment_id": 80094005, "body": "Post the code that causes the waring and the types of its parameters."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1507136201, "post_id": 46569942, "comment_id": 80094182, "body": "Don&#39;t use <code>*printf()</code> with C++ and avoid the whole issue."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507137848, "post_id": 46569942, "comment_id": 80095018, "body": "Can you use <code>std::cout</code> and avoid the issue?"}, {"owner": {"reputation": 1201, "user_id": 651028, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6d5887835c21dace586b98180544c74e?s=128&d=identicon&r=PG", "display_name": "Sergei G", "link": "https://stackoverflow.com/users/651028/sergei-g"}, "edited": false, "score": 0, "creation_date": 1507141039, "post_id": 46569942, "comment_id": 80096726, "body": "There is a lot of assumptions that people made here.  1st of all not everybody has access to all of C++.  2nd the reason for the question is that on cross-platform systems size_t structure is taken as an argument and thus I work with size_t data type.  3rd is I work with existing libraries that might be using sprintf.  I just imported C code into CPP project.  So, I really need a stanard sprintf support.  On one system it is of one size and on another system it is of another type.  There is no one specifier that fits them all.  Some comments show lack of knowledge."}, {"owner": {"reputation": 1201, "user_id": 651028, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6d5887835c21dace586b98180544c74e?s=128&d=identicon&r=PG", "display_name": "Sergei G", "link": "https://stackoverflow.com/users/651028/sergei-g"}, "edited": false, "score": 0, "creation_date": 1507141410, "post_id": 46569942, "comment_id": 80096935, "body": "Daemons log, log messages use format strings.  If printf or its other forms where not used in production it would not be in use."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1507146048, "post_id": 46569942, "comment_id": 80099455, "body": "&quot;not everybody has access to all of C++.&quot; + &quot;I really need a stanard sprintf support.&quot; --&gt; It would have been clearer to tag this question C and not C++.  Dual tagging confuses if a C <i>or</i> C++ solution is needed or if a C <i>and</i> C++ solution is needed."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1507146349, "post_id": 46569942, "comment_id": 80099634, "body": "<code>printf()</code> with <code>time_t</code> is <b>not</b> as simply as casting to a wide integer nor using a matching printf specifier (there is none).  <code>time_t</code> is not even necessarily an integer.  A good answer is too small for this comment space.  IAC, I suspect a dupe exist on printing <code>time_t</code>.."}], "answers": [{"comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1507135666, "post_id": 46569986, "comment_id": 80093942, "body": "On Windows this cast is narrowing."}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1507135949, "post_id": 46569986, "comment_id": 80094078, "body": "@BaummitAugen Right.  Discussion added."}], "tags": [], "owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "is_accepted": true, "score": 2, "last_activity_date": 1507136074, "last_edit_date": 1507136074, "creation_date": 1507135216, "answer_id": 46569986, "question_id": 46569942, "link": "https://stackoverflow.com/questions/46569942/c-printf-cross-platform-format-without-warnings/46569986#46569986", "title": "C printf cross-platform format without warnings", "body": "<p>For <code>size_t</code>, assuming you have a sufficiently modern C library, use <code>%zu</code>.</p>\n\n<p>If you can't use the <code>z</code> modifier (some older libraries unfortunately don't support it), cast to a wide-enough known type when printing, and then use a width specifier appropriate to that type:</p>\n\n<pre><code>size_t sz = sizeof(whatever);\n...\nprintf(\"%lu\", (unsigned long)sz);\n</code></pre>\n\n<p>This works <em>as long as</em> you're never working with a size larger than 4 billion or so, i.e. that can fit in 32 bits.  If you're on a system where <code>size_t</code> is 64 bits but <code>long</code> is 32, you've theoretically got the problem of a size which <code>size_t</code> can hold but <code>%lu</code> can't print.  Whether this is a problem for you, and what to do if it is, is up to you.  (The ideal solution, if your library supports it, is to go back to <code>%zu</code>, which is the preferred solution and doesn't have this problem in 32-bit, 64-bit, or any other sized environments.  Or I guess you could use <code>unsigned long long</code> and <code>%llu</code>.)</p>\n"}, {"tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 0, "last_activity_date": 1507135703, "last_edit_date": 1507135703, "creation_date": 1507135512, "answer_id": 46570066, "question_id": 46569942, "link": "https://stackoverflow.com/questions/46569942/c-printf-cross-platform-format-without-warnings/46570066#46570066", "title": "C printf cross-platform format without warnings", "body": "<p>This particular warning can be avoided by using explicitly sized integers instead of the native data types.</p>\n\n<pre><code>#include &lt;cstdint&gt;\n\nint8_t a = 15; //usually an alias for char\nuint16_t b = 4980; //usually an alias for unsigned short\nuint32_t c = 1234567890; //usually an alias for unsigned int or unsigned long\nint64_t d = 908070605040302010ll; //usually an alias for long long\n</code></pre>\n\n<p>The trick with the sized integers is that if, for example, <code>long</code> were 32-bits on one platform, but 64 bits on another, any uses of <code>long</code> would be non-portable. But <code>int64_t</code> will <strong>always</strong> be 64-bits, or else it simply won't exist on the given platform.</p>\n\n<p>In your case specifically, your code seems to be presuming that <code>size_t</code> will always be 64-bits, but there's no guarantee of that. So you should be using <code>uint64_t</code> instead, which guarantees that whatever underlying data type it ends up using, it will be 64 bits (and unsigned, which is the only guarantee associated with <code>size_t</code>).</p>\n"}], "owner": {"reputation": 1201, "user_id": 651028, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6d5887835c21dace586b98180544c74e?s=128&d=identicon&r=PG", "display_name": "Sergei G", "link": "https://stackoverflow.com/users/651028/sergei-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "closed_date": 1507135668, "accepted_answer_id": 46569986, "answer_count": 2, "score": -2, "last_activity_date": 1507142149, "creation_date": 1507135064, "last_edit_date": 1507142149, "question_id": 46569942, "link": "https://stackoverflow.com/questions/46569942/c-printf-cross-platform-format-without-warnings", "closed_reason": "Duplicate", "title": "C printf cross-platform format without warnings", "body": "<p>How do you write code to compile cross-platform without warnings.  For example, I don't get warnings on x64 platform, but I do on ARM (raspberry PI):</p>\n\n<p>warning: format \u2018%lu\u2019 expects argument of type \u2018long unsigned int\u2019, but argument 5 has type \u2018size_t {aka unsigned int}</p>\n\n<p>Needless to say I don't want to disable warnings.</p>\n\n<p>More examples and scenarios:</p>\n\n<pre><code>warning: format \u2018%lu\u2019 expects argument of type \u2018long unsigned int\u2019, \nbut argument 5 has type \u2018uint64_t {aka long long unsigned int}\u2019  \n\nuint64_t Created;       // 8 bytes\ntime_t now = time(NULL);\n\"Current time: %li sec, %lu nanosecs\", now, msg.Created\n</code></pre>\n\n<p>size_t is probably the highest offender:</p>\n\n<p>Basic use of sizeof:</p>\n\n<pre><code>warning: format \u2018%lu\u2019 expects argument of type \u2018long unsigned int\u2019, \nbut argument 4 has type \u2018unsigned int\u2019\ntr_debug(\"pbJobs size: %lu\", sizeof(pbJobs));\n</code></pre>\n\n<p>tr_debug is equivalent of printf for Mbed OS platform.  Yes, I compile on Mbed OS and Linux.</p>\n"}, {"tags": ["c++", "c", "visual-studio-2015", "windows64"], "comments": [{"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 1, "creation_date": 1507135160, "post_id": 46569909, "comment_id": 80093676, "body": "<a href=\"http://en.cppreference.com/w/cpp/chrono/time_point/time_since_epoch\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/chrono/time_point/time_since_epoch</a>"}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507135251, "post_id": 46569909, "comment_id": 80093726, "body": "Or even  time_point_cast std::chrono::time_point_cast"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 1, "creation_date": 1507137569, "post_id": 46569909, "comment_id": 80094863, "body": "If the epoch is 1970-01-01, just divide by 1000 and pass to <code>ctime</code> or <code>localtime</code>/<code>gmtime</code> (and then maybe <code>strftime</code>)."}], "owner": {"reputation": 7909, "user_id": 169774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ef760e2a9a24b58476207635c21730f9?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/169774/mick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507135308, "creation_date": 1507134931, "last_edit_date": 1507135308, "question_id": 46569909, "link": "https://stackoverflow.com/questions/46569909/long-long-epoch-time-to-tm", "title": "long long epoch time to tm", "body": "<p>I have a value for milliseconds since epoch stored in a long long variable milliseconds_since_epoch. I wish to convert this to some more standard and easier to process time structure like perhaps tm. Is there some library function to do this?</p>\n\n<p>I have a 64bit PC and am compiling to produce 64 bit code.</p>\n\n<p><strong>EDIT:</strong> just to be clear, my milliseconds_since_epoch is not a measure of the time now. In fact I have a collection of different milliseconds_since_epoch's each referring to a different historical time.</p>\n"}, {"tags": ["c++", "cmake", "cgal"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 1, "creation_date": 1507148972, "post_id": 46569772, "comment_id": 80100876, "body": "Does <code>-DCGAL_DONT_OVERRIDE_CMAKE_FLAGS=TRUE</code> help?"}, {"owner": {"reputation": 311, "user_id": 6552284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d71f89ff63c0a22ed6d95b27977a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor", "link": "https://stackoverflow.com/users/6552284/gregor"}, "reply_to_user": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1507190395, "post_id": 46569772, "comment_id": 80114076, "body": "Thanks. Looks pretty good. Do you know if it makes a problem that I then also ignore all of CGAL&#39;s compilation flags?"}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1507203732, "post_id": 46569772, "comment_id": 80122300, "body": "Depends which flags, but things like -frounding-math are indeed important and ignoring them can be a problem."}], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 1584435, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/91e08d2198292677f855c45c81e3c5a0?s=128&d=identicon&r=PG", "display_name": "Sinapse", "link": "https://stackoverflow.com/users/1584435/sinapse"}, "is_accepted": false, "score": 1, "last_activity_date": 1507141201, "creation_date": 1507141201, "answer_id": 46571635, "question_id": 46569772, "link": "https://stackoverflow.com/questions/46569772/cgal-overwrites-cmake-build-type-debug/46571635#46571635", "title": "CGAL overwrites CMAKE_BUILD_TYPE=Debug", "body": "<p>The reason it should be run twice is that the first time, cmake will run the find package script but the second time cmake will cache the set variables and wouldn't actually run the script again.\nIf what you are saying is correct and that script overrides the build type (the symptoms seems like it is) maybe there is a reason they did that (i don't know what might be the reason but you should investigate it).\nGenerally The workaround to your situation may be cache the build type yourself and reset it after find package like this: (again, it can be dangerous, first, make sure it is safe)</p>\n\n<pre><code>set (CACHED_BUILD_TYPE ${CMAKE_BUILD_TYPE})\nfind_package(CGAL REQUIRED)\nif ( CGAL_FOUND )\n  include(${CGAL_USE_FILE})\n  include( CGAL_CreateSingleSourceCGALProgram )\nendif()\nset (CMAKE_BUILD_TYPE ${CACHED_BUILD_TYPE})\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 6552284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d71f89ff63c0a22ed6d95b27977a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor", "link": "https://stackoverflow.com/users/6552284/gregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1507212615, "creation_date": 1507134400, "last_edit_date": 1507212615, "question_id": 46569772, "link": "https://stackoverflow.com/questions/46569772/cgal-overwrites-cmake-build-type-debug", "title": "CGAL overwrites CMAKE_BUILD_TYPE=Debug", "body": "<p>In my CMake C++ project I am using CGAL.\nIt is installed on my Ubuntu system (version 16.04 LTS) via apt (Package <code>libcgal-dev</code> version 4.7-4).</p>\n\n<p>In my CMakeLists.txt, the CGAL library is included as follows:</p>\n\n<pre><code>find_package(CGAL REQUIRED)\nif ( CGAL_FOUND )\n  include(${CGAL_USE_FILE})\n  include( CGAL_CreateSingleSourceCGALProgram )\nendif()\n</code></pre>\n\n<p>This works fine so far.</p>\n\n<p>The problem comes up when I want to compile in debug mode:\nI call cmake from my build directory:</p>\n\n<pre><code>cmake -DCMAKE_BUILD_TYPE=Debug ..\n</code></pre>\n\n<p>However, in the output, cmake says</p>\n\n<blockquote>\n  <p>-- Build type: Release</p>\n</blockquote>\n\n<p>This seems to be set by this line (35) in <em>/usr/lib/x86_64-linux-gnu/cmake/CGAL/CGALConfig.cmake</em>:</p>\n\n<pre><code>set(CGAL_BUILD_TYPE_INIT \"Release\" )\n</code></pre>\n\n<p>But I don't know how to overwrite this.\nThe only thing I found out was that debug is enabled when running the above command twice, which doesn't seem to be the right way.</p>\n\n<p><strong>How can I compile with debug options while using CGAL?</strong></p>\n"}, {"tags": ["c++", "visual-studio-2017", "opencv3.3"], "comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1507134310, "post_id": 46569706, "comment_id": 80093209, "body": "This is not a question.  Ask something that actually means something, no one knows what should you do because we don&#39;t know what you want to do.   I&#39;m guess what you really want is <code>How can I generate a PDB File to Debug DLL</code>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1507134368, "post_id": 46569706, "comment_id": 80093234, "body": "<b><i>What should i do when i get this message ?</i></b> Probably ignore it. Although it depends on if you think you need to debug the implementation of opencv yourself. Sometimes it is helpful if you are passing a wrong argument to a function to see how that function responds to your bad data. In either case this does not stop your application from running if that is your problem."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1507136324, "post_id": 46569706, "comment_id": 80094246, "body": "<b><i>im new at programming.</i></b> Then definitely ignore this warning. This is for more advanced programmers."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8721488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48f408910f04e5f3a28581752a8a8b3?s=128&d=identicon&r=PG", "display_name": "Muhamad Wijaya Adisaputra", "link": "https://stackoverflow.com/users/8721488/muhamad-wijaya-adisaputra"}, "edited": false, "score": 0, "creation_date": 1507135900, "post_id": 46570068, "comment_id": 80094054, "body": "so opencv 3.3.0 doesn&#39;t fully support for vc141 ? ok, thanks. I will check it"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1507136293, "post_id": 46570068, "comment_id": 80094232, "body": "You can build opencv yourself using the source code and CMake to generate a Visual Studio 2017 project. With that said this probably is not for your level being a person new at programming. Just ignore the warning."}, {"owner": {"reputation": 499, "user_id": 4224564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b051238d39410458e050fa9e68339f7?s=128&d=identicon&r=PG&f=1", "display_name": "globalex", "link": "https://stackoverflow.com/users/4224564/globalex"}, "edited": false, "score": 0, "creation_date": 1507219138, "post_id": 46570068, "comment_id": 80133064, "body": "I build by my self.. Maybe 3.3.0 already have it. Last time i build 3.2 <a href=\"https://funvision.blogspot.cz/2017/04/opencv-build-and-install-visual-studio.html\" rel=\"nofollow noreferrer\">funvision.blogspot.cz/2017/04/&hellip;</a>"}], "tags": [], "owner": {"reputation": 499, "user_id": 4224564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b051238d39410458e050fa9e68339f7?s=128&d=identicon&r=PG&f=1", "display_name": "globalex", "link": "https://stackoverflow.com/users/4224564/globalex"}, "is_accepted": false, "score": 0, "last_activity_date": 1507135517, "creation_date": 1507135517, "answer_id": 46570068, "question_id": 46569706, "link": "https://stackoverflow.com/questions/46569706/visual-studio-2017-c-opencv-3-3-0-opencv-build-x64-vc14-bin-opencv-world330d-d/46570068#46570068", "title": "Visual Studio 2017 &#39;C:\\OpenCV-3.3.0\\opencv\\build\\x64\\vc14\\bin\\opencv_world330d.dll&#39;. Cannot find or open the PDB file", "body": "<p>PDB is for debugging with DLL library. Thinks are little bit complicated but one think you can ignore this.. The PDB is created when you are compile C/C++ program with /ZI or /Zi settings. It could happened when you compile wrong opencv program with wrong settings. I think also that version opencv 3.3.0 have not build for VC141 visual studio 2017, and your library are just VC140. But not sure about this.  </p>\n"}, {"comments": [{"owner": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 0, "creation_date": 1609842764, "post_id": 65576673, "comment_id": 115942041, "body": "You may first mention the cause of the problem the OP had, and how to resolve, or avoid it by using the latest feature as of today - this way your answer would be more helpful. Thanks."}, {"owner": {"reputation": 56, "user_id": 9869623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11464a2ba76245926754217003b707ac?s=128&d=identicon&r=PG&f=1", "display_name": "Motaz Hammouda", "link": "https://stackoverflow.com/users/9869623/motaz-hammouda"}, "reply_to_user": {"reputation": 1838, "user_id": 452090, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c4b0dd664290d8cb6bd3a651af99bf81?s=128&d=identicon&r=PG", "display_name": "hB0", "link": "https://stackoverflow.com/users/452090/hb0"}, "edited": false, "score": 0, "creation_date": 1609850620, "post_id": 65576673, "comment_id": 115945452, "body": "Well, this looks like a problem with the installation of opencv, or not referrencing it well. This can&#39;t be easily solved without access to the actual circumstances of the build and code. Therefore, I thought offering a solution that is both practical and easy to implement might be worth while."}], "tags": [], "owner": {"reputation": 56, "user_id": 9869623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11464a2ba76245926754217003b707ac?s=128&d=identicon&r=PG&f=1", "display_name": "Motaz Hammouda", "link": "https://stackoverflow.com/users/9869623/motaz-hammouda"}, "is_accepted": false, "score": 0, "last_activity_date": 1609840781, "creation_date": 1609840781, "answer_id": 65576673, "question_id": 46569706, "link": "https://stackoverflow.com/questions/46569706/visual-studio-2017-c-opencv-3-3-0-opencv-build-x64-vc14-bin-opencv-world330d-d/65576673#65576673", "title": "Visual Studio 2017 &#39;C:\\OpenCV-3.3.0\\opencv\\build\\x64\\vc14\\bin\\opencv_world330d.dll&#39;. Cannot find or open the PDB file", "body": "<p>Well, now there is a smarter solution with opencv and with most of the c++ packages out there there is a package manager called vcpkg.\nvcpkg compiles the library from source. Therefore you don't need to worry about compiler compatability. So, installing opencv with vcpkg is as simple as\nvcpkg install opencv ( this install 32 bit version)\nFor 64 bit version, it is as simple as\nvcpkg install opencv:x64-windows\nand with visual studio adding a library is something as simple as typing\nvcpkg intgrate install\nConsider using vcpkg for this\n<a href=\"https://github.com/microsoft/vcpkg\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vcpkg</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8721488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48f408910f04e5f3a28581752a8a8b3?s=128&d=identicon&r=PG", "display_name": "Muhamad Wijaya Adisaputra", "link": "https://stackoverflow.com/users/8721488/muhamad-wijaya-adisaputra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 708, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609840781, "creation_date": 1507134184, "last_edit_date": 1507134754, "question_id": 46569706, "link": "https://stackoverflow.com/questions/46569706/visual-studio-2017-c-opencv-3-3-0-opencv-build-x64-vc14-bin-opencv-world330d-d", "title": "Visual Studio 2017 &#39;C:\\OpenCV-3.3.0\\opencv\\build\\x64\\vc14\\bin\\opencv_world330d.dll&#39;. Cannot find or open the PDB file", "body": "<p>What should I do when I get this message?</p>\n\n<blockquote>\n  <p>(Win32): Loaded 'C:\\OpenCV-3.3.0\\opencv\\build\\x64\\vc14\\bin\\opencv_world330d.dll'. Cannot find or open the PDB file.</p>\n</blockquote>\n\n<p>Not only in this file, but I get it in the others as well.</p>\n"}, {"tags": ["c++", "networking", "ms-media-foundation"], "comments": [{"owner": {"reputation": 2204, "user_id": 7000960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WguQ0.jpg?s=128&g=1", "display_name": "farbiondriven", "link": "https://stackoverflow.com/users/7000960/farbiondriven"}, "edited": false, "score": 0, "creation_date": 1507134413, "post_id": 46569677, "comment_id": 80093258, "body": "Every IP camera have some small differences. My suggestion is to test first using VLC your connection string. So you understand correctly how to connect to the rtsp stream. In addition if you can take my suggestion, try to use libVLC for this task which I have used for few years and it&#39;s open. See this for reference: <a href=\"https://www.brickcom.com/support/faq_contents.php?id=7\" rel=\"nofollow noreferrer\">brickcom.com/support/faq_contents.php?id=7</a>"}, {"owner": {"reputation": 11, "user_id": 6352413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygNGq.png?s=128&g=1", "display_name": "geekus42", "link": "https://stackoverflow.com/users/6352413/geekus42"}, "reply_to_user": {"reputation": 2204, "user_id": 7000960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WguQ0.jpg?s=128&g=1", "display_name": "farbiondriven", "link": "https://stackoverflow.com/users/7000960/farbiondriven"}, "edited": false, "score": 1, "creation_date": 1507136552, "post_id": 46569677, "comment_id": 80094354, "body": "I can connect to the camera with VLC using the same URL.  However VLC pops a dialog asking for username and password.  This is the part I am struggling with using Media Foundation.  I&#39;ll check libVLC, thanks!"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1507141212, "post_id": 46569677, "comment_id": 80096828, "body": "@geekus42: that implies that either VLC is ignoring the credentials in the URL and not sending them to the webcam, or it is sending them but the webcam is rejecting them. Either way, the webcam is then prompting VLC for new credentials."}, {"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1507184560, "post_id": 46569677, "comment_id": 80111017, "body": "@geekus42: Have you tried to follow this: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa473824(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>? It should work."}, {"owner": {"reputation": 11, "user_id": 6352413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygNGq.png?s=128&g=1", "display_name": "geekus42", "link": "https://stackoverflow.com/users/6352413/geekus42"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1507217194, "post_id": 46569677, "comment_id": 80131919, "body": "@VuVirt:  I have now carefully followed all of the steps on these MSDN pages.  I have the IMFNetCredentialManager and I have passed it as a property when calling the SourceResolver&#39;s CreateObjectFromURL().  However it looks like BeginGetCredentials() is never called by Media Foundation when trying to open the URL.  I must be missing something.  Since VLC knows it needs credentials with the same URL I don&#39;t know why MF would not."}, {"owner": {"reputation": 11, "user_id": 6352413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygNGq.png?s=128&g=1", "display_name": "geekus42", "link": "https://stackoverflow.com/users/6352413/geekus42"}, "edited": false, "score": 0, "creation_date": 1507217893, "post_id": 46569677, "comment_id": 80132351, "body": "From MSDN:  &quot;The network sources uses the credential manager to get user credentials. If the network source requires credentials to access a network resource, it calls the application&#39;s IMFNetCredentialManager::BeginGetCredentials method.&quot;  So I guess MF doesn&#39;t think it requires credentials?"}], "answers": [{"comments": [{"owner": {"reputation": 2640, "user_id": 1625547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0e98ce506b3bf3d9ef8caaa4f76716?s=128&d=identicon&r=PG", "display_name": "LEADTOOLS Support", "link": "https://stackoverflow.com/users/1625547/leadtools-support"}, "edited": false, "score": 0, "creation_date": 1507568363, "post_id": 46621556, "comment_id": 80251976, "body": "Since you mentioned LEADTOOLS, we recommend making full use of the free evaluation period before you decide to purchase. If you need any assistance, we offer free email and online chat support both during evaluation and after purchasing."}], "tags": [], "owner": {"reputation": 11, "user_id": 6352413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygNGq.png?s=128&g=1", "display_name": "geekus42", "link": "https://stackoverflow.com/users/6352413/geekus42"}, "is_accepted": false, "score": 0, "last_activity_date": 1507387985, "creation_date": 1507387985, "answer_id": 46621556, "question_id": 46569677, "link": "https://stackoverflow.com/questions/46569677/open-source-url-with-login-and-password/46621556#46621556", "title": "Open Source URL with login and password", "body": "<p>After completing my research, here is the conclusion that I have reached.</p>\n\n<p>Windows Media Foundation provides good (but not thorough) support for USB webcams and basic streaming.  It is just a foundation though.  Anything more advanced like communicating with a networked IP camera requires a lot of extra work by the programmer to fully implement their protocol of choice, like RTSP, HTTP or ONVIF.</p>\n\n<p>I was expecting that I could set up a media session for a webcam and then simply switch the source to a network camera with RTSP by using the source resolver with a URL.  Authorization using the network credential manager as shown in MSDN is not part of the media source provided by Media Foundation, which is why BeginGetCredentials() is not called.  It is just an example of what you need to implement with your own scheme.</p>\n\n<p>My solution is therefore to abandon using Media Foundation and go with a 3rd party library from LEADTOOLS, etc.  It costs money, but otherwise it would cost a lot more development time for me to create what I need.</p>\n\n<p>I hope this answer helps save someone all the time I spent chasing this rabbit into the abyss!</p>\n"}], "owner": {"reputation": 11, "user_id": 6352413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygNGq.png?s=128&g=1", "display_name": "geekus42", "link": "https://stackoverflow.com/users/6352413/geekus42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1277, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1507387985, "creation_date": 1507134025, "last_edit_date": 1507224356, "question_id": 46569677, "link": "https://stackoverflow.com/questions/46569677/open-source-url-with-login-and-password", "title": "Open Source URL with login and password", "body": "<p>I am working on preparing a Media Foundation session that reads a video stream from a network security camera, displays it on screen and encodes it to disk.  I have everything working with a webcam and now I'm trying to connect to the network camera using the <code>IMFSourceResolver</code>'s <code>CreateObjectFromURL()</code>.  The problem is that the camera requires a login and password and formatting the URL as:</p>\n\n<p><code>rtsp://login:password@IPaddr</code></p>\n\n<p>still results in a \"permission denied\" response.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee318413(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a> has a few pages on using <code>IMFNetCredentialManager</code> to provide the user name and password, but it is not working and I still get permission denied.  Using WireShark I can see that the camera responds with the \"Unauthorized\" RTSP response to the first MF connection attempt, and then MF just gives up and doesn't check the credential manager, ending in failure.</p>\n\n<p>I don't find any other example using <code>IMFNetCredentialManager</code> out there. It seems like reading a video stream from an IP camera that requires a password should be a common task yet I can find no evidence of it being done in practice.  Is it possible to do with Media Foundation or is there another approach that I missed?</p>\n"}, {"tags": ["c++", "string", "performance", "optimization", "fuse"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1507141530, "post_id": 46569384, "comment_id": 80096997, "body": "If the code is otherwise working, and you are just asking to optimize it for speed/efficiency, then you should post this on <a href=\"http://codereview.stackexchange.com\">CodeReview</a> instead."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1507150326, "post_id": 46569384, "comment_id": 80101503, "body": "Use not <code>unordered_map</code> but <code>map</code>, call <code>upper_bound</code> passing in the directory name to find the first entry in O(lg N), then all the other entries are adjacent.  Final cost of <code>readdir</code>: O(k + lg N)"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "edited": false, "score": 0, "creation_date": 1507133961, "post_id": 46569500, "comment_id": 80093001, "body": "another trivial modification is <code>it-&gt;first.find_last_of(&#39;&#47;&#39;,sp);</code>"}, {"owner": {"reputation": 14285, "user_id": 522479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HRr2f.jpg?s=128&g=1", "display_name": "Cobra_Fast", "link": "https://stackoverflow.com/users/522479/cobra-fast"}, "edited": false, "score": 0, "creation_date": 1507134020, "post_id": 46569500, "comment_id": 80093039, "body": "I&#39;m not sure if a <code>std::vector&lt;std::pair&lt;...&gt;&gt;</code> would be a good choice, since the cache will get a lot of random accesses based on the string key, for example for <code>getattr()</code> calls. With a vector I&#39;d have to scan the entire thing until I found it which is no longer O(1) which unordered_map promises. Right?"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "reply_to_user": {"reputation": 14285, "user_id": 522479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HRr2f.jpg?s=128&g=1", "display_name": "Cobra_Fast", "link": "https://stackoverflow.com/users/522479/cobra-fast"}, "edited": false, "score": 1, "creation_date": 1507134170, "post_id": 46569500, "comment_id": 80093127, "body": "@Cobra_Fast you can add all the paths and sort them, then look for the specific key with a binary search. as always, one cannot guarantee performance gain, until you benchmark these two suggestions, these are all theories."}, {"owner": {"reputation": 14285, "user_id": 522479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HRr2f.jpg?s=128&g=1", "display_name": "Cobra_Fast", "link": "https://stackoverflow.com/users/522479/cobra-fast"}, "reply_to_user": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "edited": false, "score": 0, "creation_date": 1507134410, "post_id": 46569500, "comment_id": 80093256, "body": "@MassimilianoJanes That seems to break it. Maybe because it searches between [0;pos] and not [pos;npos], if I&#39;m interpreting the manual right."}, {"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "reply_to_user": {"reputation": 14285, "user_id": 522479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HRr2f.jpg?s=128&g=1", "display_name": "Cobra_Fast", "link": "https://stackoverflow.com/users/522479/cobra-fast"}, "edited": false, "score": 0, "creation_date": 1507135491, "post_id": 46569500, "comment_id": 80093846, "body": "@Cobra_Fast, ops I confused it with find_first_of; anyway, you can still jump sp ahead to start the search of the last &#39;/&#39; ( using either &lt;algorithm&gt;, or something like boost::string_ref )"}], "tags": [], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "is_accepted": false, "score": 2, "last_activity_date": 1507133846, "last_edit_date": 1507133846, "creation_date": 1507133455, "answer_id": 46569500, "question_id": 46569384, "link": "https://stackoverflow.com/questions/46569384/how-to-optimize-directory-listing-from-list-of-paths/46569500#46569500", "title": "How to optimize directory listing from list of paths?", "body": "<p>The trivial thing to do here is to change the <code>if</code> from this:</p>\n\n<pre><code>if (it-&gt;first.find(path, 0) == 0 &amp;&amp; ls == sp)\n</code></pre>\n\n<p>to simply:</p>\n\n<pre><code>if (ls == sp &amp;&amp; it-&gt;first.find(path, 0) == 0)\n</code></pre>\n\n<p>Obviously, comparing two integers is much faster than looking for a substring.\n<br/> I wouldn't guarantee it'll turn the performance around, but it's a trivial thing that may help to skip a lot of unnecessary <code>std::string::find</code> calls. Maybe the compiler already does that, I'd look into the disassembly.</p>\n\n<p>Also, since filepathes are anyway unique, I would use <code>std::vector&lt;std::pair&lt;...&gt;&gt;</code> instead - better cache locality, less memory allocations etc. just remember to reserve the size first.</p>\n"}, {"tags": [], "owner": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "is_accepted": false, "score": 1, "last_activity_date": 1507181296, "last_edit_date": 1507181296, "creation_date": 1507149847, "answer_id": 46573852, "question_id": 46569384, "link": "https://stackoverflow.com/questions/46569384/how-to-optimize-directory-listing-from-list-of-paths/46573852#46573852", "title": "How to optimize directory listing from list of paths?", "body": "<p>The real problem is </p>\n\n<pre><code>for (auto it = stat_cache.cbegin(); it != stat_cache.cend(); it++)\n</code></pre>\n\n<p>effectively removing unordered_maps greatest advantage and exposing one of the weaknesses. Not only do you not have its O(1) lookup but you might have to search through the map to find an entry, this makes the rutine O(N) with a very large K (if not an extra N ie. O(N^2)).</p>\n\n<p>Fastest solution would be O(1) for the lookup (in a lucky unordered map), O(strlen(target)) in a bucket scheme or O(lgN) in a binary. Then along the <code>struct stat</code> have list of children, for O(#children).</p>\n"}], "owner": {"reputation": 14285, "user_id": 522479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HRr2f.jpg?s=128&g=1", "display_name": "Cobra_Fast", "link": "https://stackoverflow.com/users/522479/cobra-fast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1507181296, "creation_date": 1507133054, "question_id": 46569384, "link": "https://stackoverflow.com/questions/46569384/how-to-optimize-directory-listing-from-list-of-paths", "title": "How to optimize directory listing from list of paths?", "body": "<p>While writing a fuse filesystem, I have an <code>unordered_map&lt;std::string, struct stat&gt;</code> as a cache, that is primed with <em>all</em> files and directories at startup in order to reduce reads on hard drives.</p>\n\n<p>To satisfy <code>readdir()</code> callbacks I wrote the following loop:</p>\n\n<pre><code>const int sp = path == \"/\" ? 0 : path.size();\nfor (auto it = stat_cache.cbegin(); it != stat_cache.cend(); it++)\n{\n    if (it-&gt;first.size() &gt; sp)\n    {\n        int ls = it-&gt;first.find_last_of('/');\n        if (it-&gt;first.find(path, 0) == 0 &amp;&amp; ls == sp)\n            filler(buf, it-&gt;first.substr(ls + 1).c_str(), const_cast&lt;struct stat*&gt;(&amp;it-&gt;second), 0, FUSE_FILL_DIR_PLUS);\n    }\n}\n</code></pre>\n\n<p>The idea being that an object which's path is beginning with the directory path and having its last slash at the end of the directory path would be a member of it. I've tested this thoroughly and it works.<br>\nIllustration:</p>\n\n<pre><code>Reading directory: /foo/bar\nCandidate file:    /bazboo/oof - not in dir (wrong prefix)\nCandidate file:    /foo/bar/baz/boo - not in dir (wrong lastslash location)\nCandidate file:    /foo/bar/baz - in dir!\n</code></pre>\n\n<p>Now, however, this is surprisingly slow (especially in a filesystem with over half a million objects in the cache). Valgrind/Callgrind especially blames the <code>std::string:find_last_of()</code> and <code>std::string::find()</code> calls.</p>\n\n<p>I already added the <code>if (it-&gt;first.size() &gt; sp)</code> in an attempt to speed up the loop, but the performance gain was minimal at best.</p>\n\n<p>I also tried speeding this routine up by parallelizing the loop in four chunks, but that ended in a segfault during <code>unordered_map::cbegin()</code>.<br>\nI don't have the actual code anymore, but I believe it looked something like this:</p>\n\n<pre><code>const int sp = path == \"/\" ? 0 : path.size();\nThreadPool&lt;4&gt; tpool;\nulong cq = stat_cache.size()/4;\nfor (int i = 0; i &lt; 4; i++)\n{\n    tpool.addTask([&amp;] () {\n        auto it = stat_cache.cbegin();\n        std::next(it, i * cq);\n        for (int j = 0; j &lt; cq &amp;&amp; it != stat_cache.cend(); j++, it++)\n        {\n            if (it-&gt;first.size() &gt; sp)\n            {\n                int ls = it-&gt;first.find_last_of('/');\n                if (it-&gt;first.find(path, 0) == 0 &amp;&amp; ls == sp)\n                    filler(buf, it-&gt;first.substr(ls + 1).c_str(), const_cast&lt;struct stat*&gt;(&amp;it-&gt;second), 0, FUSE_FILL_DIR_PLUS);\n            }\n        }\n    });\n}\ntpool.joinAll();\n</code></pre>\n\n<p>I also tried this with splitting it by map buckets, which <code>unordered_map::cbegin(int)</code> provides a convenient overload for, but it still segfaulted out.</p>\n\n<p>Again, I'm currently working with the first (non-parallel) code and would like help for that one since the parallelized one didn't work. I just thought I'd include my parallelized attempt for completeness, noob-bashing and proof of effort.</p>\n\n<p>Are there any other options for optimizing this loop?</p>\n"}, {"tags": ["c++", "linux", "gcc", "makefile"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1507132736, "post_id": 46569261, "comment_id": 80092254, "body": "Are you compiling with C++11 or higher turned on?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1507132749, "post_id": 46569261, "comment_id": 80092263, "body": "It could be that you&#39;re not passing the correct <code>-std</code> flag to the compiler."}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507132847, "post_id": 46569261, "comment_id": 80092338, "body": "I&#39;m not sure which version, my command line input is  <code>gcc -o main main.cc</code> the code i posted is one of the header files in my main"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507132914, "post_id": 46569261, "comment_id": 80092380, "body": "By the way, you want <code>g++</code> for C++, not <code>gcc</code>."}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507132981, "post_id": 46569261, "comment_id": 80092419, "body": "I tried with three different, gcc, g++, and gpp. with all three, I&#39;m getting the same error. when I type just g++ to check the version, it gives me an error that it could not be found, even after reinstalling it, twice. so I stuck with gcc and gpp"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507132992, "post_id": 46569261, "comment_id": 80092425, "body": "@ArkhamWarfare What version of gcc do you have?  Try addding <code>-std=c++11</code> to the build command"}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507133130, "post_id": 46569261, "comment_id": 80092511, "body": "I have version 5.4.0-6 for gcc. and by adding to the command, u mean adding to my compile command? or seperately?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507133174, "post_id": 46569261, "comment_id": 80092547, "body": "Yes, <code>gcc -std=c++11 -o main main.cc</code>"}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507133335, "post_id": 46569261, "comment_id": 80092648, "body": "here&#39;s something strange just happened, when i put in the command <code>gcc  -std=c++11 -c main.cc</code> i only get 2 errors, <code>DefaultClock.cpp: In member function \u2018const AccurateClock::Time AccurateClock::DefaultClock::getTime()\u2019: DefaultClock.cpp:41:23: error: \u2018_CLOCK_REALTIME\u2019 was not declared in this scope          clock_gettime(_CLOCK_REALTIME, &amp;value);                        ^ </code> when i put int <code>gcc -o -std=c++11 main main.cc</code> i get the same errors as before"}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507133386, "post_id": 46569261, "comment_id": 80092681, "body": "same thing, when i switch places between, the -o and the -std command, i only get two errors, different erros"}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "edited": false, "score": 0, "creation_date": 1507134053, "post_id": 46569261, "comment_id": 80093060, "body": "@ArkhamWarfare Well, in your code, you don&#39;t really see where <code>_CLOCK_REALTIME</code> is defined... Plus, you shouldn&#39;t be starting macro names with an underscore, since they are global."}, {"owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "edited": false, "score": 0, "creation_date": 1507139647, "post_id": 46569261, "comment_id": 80095970, "body": "Yoo, you&#39;re totally right, I changed <code>_CLOCK_REALTIME</code> and removed the underscore before it but now i get some other errors, <code>&#47;tmp&#47;ccSXgOzF.o: In function </code>sysWrite(int, char*, long)&#39;: main.cc:(.text+0x3b6): undefined reference to <code>my_open(char*, int)&#39;</code> and more like this <a href=\"https://screenshots.firefoxusercontent.com/images/a93f3459-fefa-41d2-85c4-7344ba5076ec.png\" rel=\"nofollow noreferrer\">screenshots.firefoxusercontent.com/images/&hellip;</a>"}], "owner": {"reputation": 121, "user_id": 8651642, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/01798a380fa763c44b95737994c5a719?s=128&d=identicon&r=PG&f=1", "display_name": "ArkhamWarfare", "link": "https://stackoverflow.com/users/8651642/arkhamwarfare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507132713, "creation_date": 1507132669, "last_edit_date": 1507132713, "question_id": 46569261, "link": "https://stackoverflow.com/questions/46569261/linux-cc-error-does-not-name-a-type", "title": "linux cc error &#39;does not name a type&#39;", "body": "<p>I am trying to create a program which reads and writes buffer sizes, but without standard libraries. so far, I have written a main with header files, however whenever I compile my main, I keep getting errors,such as </p>\n\n<pre><code>In file included from main.cc:6:0:\nDefaultClock.cpp: In member function \u2018double AccurateClock::Time::getTotalMilliseconds() const\u2019:\nDefaultClock.cpp:10:14: error: \u2018milliseconds\u2019 does not name a type\n         auto milliseconds =\n              ^\nDefaultClock.cpp:13:16: error: \u2018milliseconds\u2019 was not declared in this scope\n         return milliseconds;\n                ^\n</code></pre>\n\n<p>and so on for the next 30+ lines. Kind of stuck here, what could be the cause of the errors? I have the classes defined.</p>\n\n<pre><code>    #include \"DefaultClock.h\"\n\nnamespace AccurateClock {\n\n    Time::Time(const timespec &amp;timeValue) : timeValue(timeValue) {\n    }\n\n    double Time::getTotalMilliseconds() const {\n        const double oneThousand = 1000;\n        auto milliseconds =\n                (timeValue.tv_sec * oneThousand) +\n                (timeValue.tv_nsec / oneThousand);\n        return milliseconds;\n    }\n\n    void Time::print(std::ostream &amp;out) const {\n        const double oneThousand = 1000;\n        auto milliseconds = getTotalMilliseconds();\n        auto secondsPart = (long)(milliseconds / oneThousand);\n        auto millisecondsPart = (long)(milliseconds - (secondsPart * oneThousand));\n        auto nsPart = (long)(\n                (milliseconds * oneThousand) -\n                (secondsPart * oneThousand * oneThousand) -\n                (millisecondsPart * oneThousand));\n        out &lt;&lt; secondsPart &lt;&lt; \"sec, \" &lt;&lt; millisecondsPart &lt;&lt; \"ms, \" &lt;&lt; nsPart &lt;&lt; \"ns since the computer booted\";\n    }\n\n\n\n    const Duration Time::operator-(const Time &amp;a) const {\n        auto difference = getTotalMilliseconds()\n                          - a.getTotalMilliseconds();\n\n        auto duration = Duration(difference);\n\n        return duration;\n    }\n\n    const Time DefaultClock::getTime() {\n        auto value = timespec();\n        clock_gettime(_CLOCK_REALTIME, &amp;value);\n        auto time = Time(value);\n        return time;\n    }\n\n    Duration::Duration(double value) : valueInMilliseconds(value) {\n    }\n\n    void Duration::print(std::ostream &amp;out) const {\n        out &lt;&lt; valueInMilliseconds &lt;&lt; \"ms\";\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "visual-c++", "visual-studio-2017", "qt-creator"], "comments": [{"owner": {"reputation": 1830, "user_id": 1047746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82514a7e1e60593716e3460af8676a0d?s=128&d=identicon&r=PG", "display_name": "Xplatforms", "link": "https://stackoverflow.com/users/1047746/xplatforms"}, "edited": false, "score": 0, "creation_date": 1507191907, "post_id": 46569139, "comment_id": 80114866, "body": "try to compile it from console to see what exactly happening there. Use appropriate Visual Sudio Command Line for that"}, {"owner": {"reputation": 4596, "user_id": 3743145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/680680d82143e4d33dc569913e5ef8c5?s=128&d=identicon&r=PG", "display_name": "kyb", "link": "https://stackoverflow.com/users/3743145/kyb"}, "reply_to_user": {"reputation": 1830, "user_id": 1047746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82514a7e1e60593716e3460af8676a0d?s=128&d=identicon&r=PG", "display_name": "Xplatforms", "link": "https://stackoverflow.com/users/1047746/xplatforms"}, "edited": false, "score": 0, "creation_date": 1507195434, "post_id": 46569139, "comment_id": 80116934, "body": "@Xplatforms, updated."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 5220012, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-DeYzojY13Hs/AAAAAAAAAAI/AAAAAAAAFTI/lVFTDI2atBI/photo.jpg?sz=128", "display_name": "ajsmart", "link": "https://stackoverflow.com/users/5220012/ajsmart"}, "edited": false, "score": 4, "creation_date": 1509378663, "post_id": 46582294, "comment_id": 80985294, "body": "What do you mean &#39;Set Dracula style for QtCreator&#39;?"}, {"owner": {"reputation": 4596, "user_id": 3743145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/680680d82143e4d33dc569913e5ef8c5?s=128&d=identicon&r=PG", "display_name": "kyb", "link": "https://stackoverflow.com/users/3743145/kyb"}, "reply_to_user": {"reputation": 183, "user_id": 5220012, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-DeYzojY13Hs/AAAAAAAAAAI/AAAAAAAAFTI/lVFTDI2atBI/photo.jpg?sz=128", "display_name": "ajsmart", "link": "https://stackoverflow.com/users/5220012/ajsmart"}, "edited": false, "score": 4, "creation_date": 1509398039, "post_id": 46582294, "comment_id": 80995610, "body": "Make it dark. Only for appearance. If you following my way you can omit this option."}], "tags": [], "owner": {"reputation": 4596, "user_id": 3743145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/680680d82143e4d33dc569913e5ef8c5?s=128&d=identicon&r=PG", "display_name": "kyb", "link": "https://stackoverflow.com/users/3743145/kyb"}, "is_accepted": true, "score": 1, "last_activity_date": 1607278877, "last_edit_date": 1607278877, "creation_date": 1507196046, "answer_id": 46582294, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl/46582294#46582294", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<p>After next steps all runs fine.</p>\n<ol>\n<li>Set Dracula style for QtCreator :)</li>\n<li>Modify MSVS installation addning VC++ 2015.3 v140 toolset for desktop (x86,x64).</li>\n</ol>\n<p>Very strange. And that is why I don't like windows. It lives its own live!</p>\n<p>So the answer is <strong>TRY TO REINSTALL/modify components</strong>, including QtCreator itself.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5763111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0acb07cb8e5b8b11fb135123b0c3f0d?s=128&d=identicon&r=PG&f=1", "display_name": "ScaledLizard", "link": "https://stackoverflow.com/users/5763111/scaledlizard"}, "is_accepted": false, "score": 5, "last_activity_date": 1526939233, "creation_date": 1526939233, "answer_id": 50457006, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl/50457006#50457006", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<p>I had a similar case, which was solved by adding the path to cl.exe to the path environment variable:</p>\n\n<pre><code>set path=%path%;%qtdir%\\bin;\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\bin\\Hostx64\\x64\"\nset QMakeSpec=win32-msvc\nqmake -tp vc\n</code></pre>\n\n<p>Maybe another cl.exe is interfering here?</p>\n"}, {"tags": [], "owner": {"reputation": 16038, "user_id": 3075942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de479917d8d7ad4b708741f8efd4de01?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/3075942/user"}, "is_accepted": false, "score": 1, "last_activity_date": 1574140218, "creation_date": 1574140218, "answer_id": 58927026, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl/58927026#58927026", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<p>Just reboot. It helped me. Probably finalizes the installation of Visual Studio or Qt.</p>\n"}, {"comments": [{"owner": {"reputation": 4596, "user_id": 3743145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/680680d82143e4d33dc569913e5ef8c5?s=128&d=identicon&r=PG", "display_name": "kyb", "link": "https://stackoverflow.com/users/3743145/kyb"}, "edited": false, "score": 2, "creation_date": 1607216830, "post_id": 65163187, "comment_id": 115203230, "body": "Very good investigation!"}, {"owner": {"reputation": 296, "user_id": 8389251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0664ebde072bd7fe01d5a1f87c794d1?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr \u017bakiewicz", "link": "https://stackoverflow.com/users/8389251/piotr-%c5%bbakiewicz"}, "edited": false, "score": 1, "creation_date": 1616278609, "post_id": 65163187, "comment_id": 117953329, "body": "Exactly - very good investigation! I spent long hours on searching for reason of this strange issue that many people are facing. I could see that PATH is different in cmd and Powershell. I created different Windows user account to ensure that there is something wrong with managing of PATH and finally - Qt started to work. The cherry on top was your solution. Great thanks!"}, {"owner": {"reputation": 575, "user_id": 8602926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2IQZ.png?s=128&g=1", "display_name": "Sv443", "link": "https://stackoverflow.com/users/8602926/sv443"}, "edited": false, "score": 0, "creation_date": 1616403945, "post_id": 65163187, "comment_id": 117981326, "body": "This has been one of the most weird and difficult issues I&#39;ve ever encountered so I&#39;m glad I could help :)"}], "tags": [], "owner": {"reputation": 575, "user_id": 8602926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2IQZ.png?s=128&g=1", "display_name": "Sv443", "link": "https://stackoverflow.com/users/8602926/sv443"}, "is_accepted": false, "score": 3, "last_activity_date": 1618707121, "last_edit_date": 1618707121, "creation_date": 1607211946, "answer_id": 65163187, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl/65163187#65163187", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<h3>This is the solution for anyone who has or had NVMW installed:</h3>\n<p>After a year of not being able to use Qt on my work laptop and private PC, I have <em><strong>finally</strong></em> figured out how to fix it, if you have installed the Node.js version manager for Windows at any point:</p>\n<p>I found the file <code>%HOMEPATH%\\cmd_auto_run.cmd</code> in my user directory (thanks to <a href=\"https://stackoverflow.com/a/32121406/8602926\">this barely related SO answer</a>), which has been constantly resetting the <code>PATH</code> variable to a constant string, overriding any changes I was making to the system environment variables. The path to this file was set in the Windows Registry under <code>HKCU\\SOFTWARE\\Microsoft\\Command Processor\\Autorun</code><br />\nAfter opening the file, I simply added a <code>%PATH%;</code> just after the <code>=</code> sign and just to be sure I removed any duplicate paths that were defined after that. Afterwards, the line was looking like this:</p>\n<pre><code>SET &quot;PATH=%PATH%;C:\\Users\\MYUSER\\nvmw\\nodejs\\v15.2.1&quot;\n</code></pre>\n<p>Then, I added the following paths to the system environment variable named <code>PATH</code>, for both the VS Build Tools (needed for cl.exe - I added 2017 and 2019 just to be safe) and the Windows 10 SDK (needed for rc.exe):</p>\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.27.29110\\bin\\Hostx64\\x64\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.16.27023\\bin\\Hostx64\\x64\nC:\\Program Files (x86)\\Windows Kits\\10\\bin\\10.0.19041.0\\x64\n</code></pre>\n<p>Then I restarted Qt and it found all of the project's files again and I could compile it just like I used to.</p>\n<p>This is a problem with NVMW, a Node.js version manager for Windows. There is an <a href=\"https://github.com/nanjingboy/nvmw/issues/5\" rel=\"nofollow noreferrer\">issue on a repo on GitHub</a> from 2015 but it hasn't been fixed yet and the main repo was archived. This was the most frustrating sh!t ever and it probably took me over 20 hours actively to fix it so I hope I can help someone who has been struggling just like me.</p>\n"}, {"tags": [], "owner": {"reputation": 11256, "user_id": 53420, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b22f0b3304066470193db063a024ea2?s=128&d=identicon&r=PG", "display_name": "RED SOFT ADAIR", "link": "https://stackoverflow.com/users/53420/red-soft-adair"}, "is_accepted": false, "score": 1, "last_activity_date": 1615372153, "creation_date": 1615372153, "answer_id": 66562862, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl/66562862#66562862", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<p>I had the same problem on Windows 10 with VC2019 and Qt 6.0.2.\nWhen i then started</p>\n<blockquote>\n<p>Start-&gt;Visual Studio 2019-&gt;x64 Native Tools Command prompt</p>\n</blockquote>\n<p>i saw a error message in the console window saying something like</p>\n<pre><code>&quot;\\ is syntactically not correct&quot;\n</code></pre>\n<p>This was caused by a backslash at the end of the %path% variable set up in System settings-&gt;system-&gt;extended...\nI removed this backslash and then &quot;x64 Native Tools Command prompt&quot; opened without error, and after restarting qtCreator projects built without error.</p>\n<p>Unfortunately after fixing this once i can not reproduce it any more.</p>\n"}], "owner": {"reputation": 4596, "user_id": 3743145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/680680d82143e4d33dc569913e5ef8c5?s=128&d=identicon&r=PG", "display_name": "kyb", "link": "https://stackoverflow.com/users/3743145/kyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28779, "favorite_count": 6, "accepted_answer_id": 46582294, "answer_count": 5, "score": 14, "last_activity_date": 1618707121, "creation_date": 1507132263, "last_edit_date": 1615377493, "question_id": 46569139, "link": "https://stackoverflow.com/questions/46569139/qtcreator-qmake-cannot-run-compiler-cl", "title": "QtCreator qmake Cannot run compiler &#39;cl&#39;", "body": "<p>Just configured new windows environment with MSVS 2017 and Qt5.9.1.<br />\nWhile building example project <code>bars</code> met an error</p>\n<pre><code>Project ERROR: Cannot run compiler 'cl'. Maybe you forgot to setup the environment?\n</code></pre>\n<p>With mingw build and run fine.</p>\n<hr />\n<p>I tried to add <em>Custom build step</em> before <strong>qmake</strong></p>\n<pre><code>&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build\\vcvarsall.bat&quot; amd64\n</code></pre>\n<p>But got the same results. In <code>cmd</code> this command works fine. After it <code>cl.exe</code> is reachable.</p>\n<hr />\n<p>All toolsets was found automatically by Qt and seems to be right</p>\n<p><sub><em>here were screenshots</em></sub>\n<img src=\"https://image.prntscr.com/image/42ZjeJlRQrWYdMMybs789A.png\" alt=\"\" />\n<img src=\"https://image.prntscr.com/image/IXkGHMWAQgKBc6vbnIY0Bg.png\" alt=\"\" /></p>\n<hr />\n<h3>Update1. Build in Developer Command Prompt for VS 2017</h3>\n<pre><code>**********************************************************************\n** Visual Studio 2017 Developer Command Prompt v15.0.26730.16\n** Copyright (c) 2017 Microsoft Corporation\n**********************************************************************\n\nC:\\Users\\Admin\\source&gt;&quot;C:\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\bin\\qmake.exe&quot; C:\\Devel\\Qt\\Qt5.9.1\\Examples\\Qt-5.9.1\\datavisualization\\bars\\bars.pro -spec win32-msvc\n\nC:\\Users\\Admin\\source&gt;nmake\n\nMicrosoft (R) Program Maintenance Utility Version 14.11.25508.2\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX86\\x86\\nmake.exe&quot; -f Makefile.Release\n\nMicrosoft (R) Program Maintenance Utility Version 14.11.25508.2\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        cl -c -nologo -Zc:wchar_t -FS -Zc:rvalueCast -Zc:inline -Zc:strictStrings -Zc:throwingNew -Zc:referenceBinding -O2 -MD -W3 -w34100 -w34189 -w44996 -w44456 -w44457 -w44458 -wd4577 -wd4467 -EHsc -DUNICODE -DWIN32 -DQT_NO_DEBUG -DQT_DATAVISUALIZATION_LIB -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB -DNDEBUG -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\Examples\\Qt-5.9.1\\datavisualization\\bars -I. -I../../../include -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtDataVisualization -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtWidgets -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtGui -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtANGLE -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtCore -Irelease -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\mkspecs\\win32-msvc -Forelease\\ @C:\\Users\\Admin\\AppData\\Local\\Temp\\nm6ED7.tmp\nmain.cpp\ngraphmodifier.cpp\nGenerating Code...\n        cl -c -nologo -Zc:wchar_t -FS -Zc:rvalueCast -Zc:inline -Zc:strictStrings -Zc:throwingNew -Zc:referenceBinding -O2 -MD -W3 -w34100 -w34189 -w44996 -w44456 -w44457 -w44458 -wd4577 -wd4467 -EHsc -DUNICODE -DWIN32 -DQT_NO_DEBUG -DQT_DATAVISUALIZATION_LIB -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB -DNDEBUG -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\Examples\\Qt-5.9.1\\datavisualization\\bars -I. -I../../../include -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtDataVisualization -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtWidgets -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtGui -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtANGLE -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\include\\QtCore -Irelease -I..\\..\\..\\Devel\\Qt\\Qt5.9.1\\5.9.1\\msvc2017_64\\mkspecs\\win32-msvc -Forelease\\ @C:\\Users\\Admin\\AppData\\Local\\Temp\\nm7EF5.tmp\nmoc_graphmodifier.cpp\n        link /NOLOGO /DYNAMICBASE /NXCOMPAT /INCREMENTAL:NO /SUBSYSTEM:WINDOWS &quot;/MANIFESTDEPENDENCY:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' publicKeyToken='6595b64144ccf1df' language='*' processorArchitecture='*'&quot; /MANIFEST:embed /OUT:release\\bars.exe @C:\\Users\\Admin\\AppData\\Local\\Temp\\nm8417.tmp\nQt5DataVisualization.lib(Qt5DataVisualization.dll) : fatal error LNK1112: module machine type 'x64' conflicts with target machine type 'x86'\nNMAKE : fatal error U1077: '&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX86\\x86\\link.EXE&quot;' : return code '0x458'\nStop.\nNMAKE : fatal error U1077: '&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX86\\x86\\nmake.exe&quot;' : return code '0x2'\nStop.\n\nC:\\Users\\Admin\\source&gt;\n</code></pre>\n<p>Linkage errors. <strong>But <code>cl.exe</code> found.</strong></p>\n"}, {"tags": ["c++", "list"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1507132168, "post_id": 46569038, "comment_id": 80091857, "body": "You seem to be mixing together <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">constructor member initializer lists</a>, the <a href=\"http://en.cppreference.com/w/cpp/utility/initializer_list\" rel=\"nofollow noreferrer\"><code>std::initializer_list</code></a> and <a href=\"http://en.cppreference.com/w/cpp/language/list_initialization\" rel=\"nofollow noreferrer\">list initialization</a>. Those are three different things."}], "answers": [{"tags": [], "owner": {"reputation": 2104, "user_id": 5129504, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/476994845791992/picture?type=large", "display_name": "Josh Weinstein", "link": "https://stackoverflow.com/users/5129504/josh-weinstein"}, "is_accepted": false, "score": 3, "last_activity_date": 1507136935, "creation_date": 1507136935, "answer_id": 46570475, "question_id": 46569038, "link": "https://stackoverflow.com/questions/46569038/list-initialization-initializer-list-and-related-questions-in-c/46570475#46570475", "title": "List initialization, Initializer_list and related questions in C++", "body": "<p>So anytime curly braces are used you are using <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">aggregate initialization</a>, a method of initialization for structs or classes that initializes in order., or via a designator. For example,</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct Foo\n{\n  int a;\n  char b;\n};\n\nclass Doo\n{\npublic: \n  double h;\n  char ch;\n};\n\nint main() {\n  Foo first = {3, 't'};\n  std::cout &lt;&lt; first.b &lt;&lt; \"\\n\";\n  //t\n  Doo second = {'3', 50};\n  std::cout &lt;&lt; second.ch &lt;&lt; \"\\n\";\n  //2 interpreted as char\n}\n</code></pre>\n\n<p>Here, when we use the <code>{}</code> to initialize a class or struct, they are always interpreted as being in the order listed in the class. That's why '2' was printed since 50 in ASCII corresponds to the character '2'.</p>\n\n<p><strong>Constructor Initialization</strong></p>\n\n<p>So you can also use the same logic with constructor initialization lists,</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct Pair\n{\n  int first;\n  long second;\n};\n\nclass Couple\n{\npublic:\n  Pair p;\n  int g;\npublic:\n Couple(): p{3, 700}, g{3}\n {}\n};\n\nint main() {\n  Couple test;\n  std::cout &lt;&lt; test.p.first &lt;&lt; \"\\n\";\n  //3\n}\n</code></pre>\n\n<p>Here, the <code>{3, 700}</code> next to <code>p</code>, would be the same as <code>Pair p = {3, 700};</code> used else where in code. Your basically using an in order aggregate initialization. Now, what happens if we change the curly braces for the Pair field to parenthesis?</p>\n\n<p>We get this error</p>\n\n<pre><code>main.cpp: In constructor 'Couple::Couple()':\nmain.cpp:15:26: error: no matching function for call to 'Pair::Pair(int, int)'\n  Couple(): p(3, 700), g{3}\n</code></pre>\n\n<p>That's because we don't have a constructor for Pair that accepts two numbers. So the key difference between the aggregate initialization and the parenthesis is you need to have constructors implemented for any specific set of arguments you make with parenthesis, yet with curly braces you can just use the default one the compiler hands you.</p>\n\n<p>The std::initializer_list is a not-commonly used form of container for multiple arguments in initialization lists with <code>{}</code>. </p>\n"}], "owner": {"reputation": 499, "user_id": 8252462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf0ec9fee87a4625c1334a02be4400b2?s=128&d=identicon&r=PG&f=1", "display_name": "Getter", "link": "https://stackoverflow.com/users/8252462/getter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507136935, "creation_date": 1507131989, "last_edit_date": 1507132697, "question_id": 46569038, "link": "https://stackoverflow.com/questions/46569038/list-initialization-initializer-list-and-related-questions-in-c", "title": "List initialization, Initializer_list and related questions in C++", "body": "<p>I know it's a subject that has been discussed quite extensively here on stackoverflow but I've a hard time finding thorough answers removing all the confusion I've concerning list initialization and initializer_lists in C++, so I will just give it a try and ask my own questions.</p>\n\n<p>Please, consider the following snippet of code :</p>\n\n<pre><code>class C\n{\npublic :\n    C(int a, int b, int c) : _a (a), _b(b), _c(c) {}; //initialization_list with ()\n    //C(int a, int b, int c) : _a{ a }, _b{ b }, _c{ c } {}; //initialization list with {}\nprivate :\n    int _a, _b, _c;\n};\n\nint main()\n{\n    C a(5.3,3.3,4.3); // no list\n    C b{5.3,3.3,4.3}; // list {}\n    C c({5.3,3.3,4.3}); // list {}\n}\n</code></pre>\n\n<p>I don't understand why those two initialization lists behave similarly? I was expecting, when trying to create the object a of type C using the initialization list of type <code>_a{a}, _b{b}, _c{c}</code> to get a compiler error about narrowing. However, no errors are generated and <code>_a, _b and _c</code> just store the integer values. </p>\n\n<p>It's only when creating the objects b or c using a list \"{}\" that the compiler generates a narrowing error message. Why is that? Is there any differences between writing an initialization list using {} or () that I'm unaware of or are the behaviours identical?</p>\n\n<p>Come my next question:</p>\n\n<pre><code>class C\n{\npublic :\n\n//private :\n    int _a, _b, _c;\n};\n\nint main()\n{\n    C a(5,3,4); //obviously doesn't work as no such constructor\n    C b{5,3,4}; //work only if _a, _b and _c are not private nor protected!\n}\n</code></pre>\n\n<p>How comes that the second statement (with braces) only works if the variables are public? What is the mechanism involved? </p>\n\n<p>So I would like to better understand, beside the <strong>\"narrowing safety\"</strong> provided by creating an object with a list {}, what other <strong>\"functionalities\"</strong> does this list mechanism provide ? Because in the second call, it's still the default constructor that is called (hence, not a default constructor taking an initializer_list as argument), right ? </p>\n\n<p>Lastly, imagine in my <code>class C</code> I've another constructor taking an initializer list as parameter.</p>\n\n<pre><code>class C\n    {\n    public :\n        C() = default; //default constructor\n        C(int a, int b, int c) : _a (a), _b(b), _c(c) {};\n        C(std::initializer_list&lt;int&gt; a) { //do some stuffs with the list};\n    private :\n        int _a, _b, _c;\n    };\n</code></pre>\n\n<p>It's pretty obvious that, if trying to create an object taking any numbers of integers but 3 (or 0 actually), the constructor taking the initializer_list will be invoked. If creating an object like that however :</p>\n\n<pre><code>C c();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>C c{};\n</code></pre>\n\n<p>the default constructor will be called. But if creating an object with exactly <strong>3</strong> integers :</p>\n\n<pre><code>C c(5,2,3);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>C c{5,2,3};\n</code></pre>\n\n<p>the initializer_list constructor will be called. The rule goes like that :</p>\n\n<blockquote>\n  <ul>\n  <li>If either a default constructor or an initializer-list constructor could be invoked, prefer the default constructor</li>\n  <li>If both an initializer-list contructor and an \"ordinary constructor\" could be invoked, prefer the initializer-list constructor</li>\n  </ul>\n</blockquote>\n\n<p>Therefore (and correct me if I'm wrong), if I create my object like that :</p>\n\n<pre><code>C c{5,3,4};\n</code></pre>\n\n<p>The iniatializer-list constructor will be called. However, if I create my object like that :</p>\n\n<pre><code>C\u00a0c(5,3,4);\n</code></pre>\n\n<p>The second constructor (taking 3 ints as arguments) will be called. My question is : how can I create an object with this second constructor instead of the iniatializer-list one if I want to provide narrowing safety as well ? (because if I do as in the first example of this question, the initializer-list constructor will be called instead !).</p>\n\n<p>Don't hesitate to examplify your replies and to discuss on list-related concepts I haven't talk in this question. I would like to get a very good grasp on those. Thanks.</p>\n"}, {"tags": ["c++", "class", "forward-declaration", "member-functions"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1507131586, "post_id": 46568861, "comment_id": 80091460, "body": "In the cpp files include both header files."}, {"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507131696, "post_id": 46568861, "comment_id": 80091537, "body": "Thanks. Though it does not solve the error, it creates a new one: &quot;error: previous definition of &#39;class B&#39;&quot; This happens when in B.cpp I add the line #include &quot;A.h&quot; at the top"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1507131760, "post_id": 46568861, "comment_id": 80091596, "body": "Get rid of <code>#include &quot;B.h&quot;</code> in <code>a.h</code> as it is not needed.  You should also be using include guards."}, {"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507131854, "post_id": 46568861, "comment_id": 80091657, "body": "This example comes from a more advanced example for my work. I include B.h because I want to highlight the fact that I have to use a forward class in class B"}, {"owner": {"reputation": 2640, "user_id": 5195699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f85291bb71f55981b1d412f1efcb7603?s=128&d=identicon&r=PG&f=1", "display_name": "R_Kapp", "link": "https://stackoverflow.com/users/5195699/r-kapp"}, "edited": false, "score": 1, "creation_date": 1507132005, "post_id": 46568861, "comment_id": 80091760, "body": "@oldabl: I&#39;m not sure I follow your logic on how including B.h highlights the forward declaration in B.h. At any rate, though, as Nathan already mentioned, use include guards - e.g., in <code>A.h</code> have <code>#ifndef A_H_</code> <code>#define A_H_</code> at the top of the file and <code>#endif</code> at the bottom of the file, and similarly for B.h (but replace <code>A_H_</code> with <code>B_H_</code>). This ensures that your headers are only included once."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507132072, "post_id": 46568861, "comment_id": 80091802, "body": "@oldabl I&#39;d use a comment for that.  Here is an example expressing a circular relationship: <a href=\"https://stackoverflow.com/questions/625799/resolve-build-errors-due-to-circular-dependency-amongst-classes\" title=\"resolve build errors due to circular dependency amongst classes\">stackoverflow.com/questions/625799/&hellip;</a>"}, {"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "edited": false, "score": 0, "creation_date": 1507132166, "post_id": 46568861, "comment_id": 80091856, "body": "If I was not including it I could just use an include from A.h in B.h. I&#39;ve just edited the exmaple to relate more to how my example goes. Anyway, I&#39;ll use include guards thanks. I&#39;ll edit my example to use them"}, {"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "edited": false, "score": 0, "creation_date": 1507132426, "post_id": 46568861, "comment_id": 80092055, "body": "I have already looked at this example yes. And this is what I essentially do! What I don&#39;t understand is how I can use a function from class A on objectA in a function of B."}, {"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "edited": false, "score": 0, "creation_date": 1507132813, "post_id": 46568861, "comment_id": 80092308, "body": "OK so using include guards and including A.h from B.cpp solved my problem. Thank you all!"}], "answers": [{"tags": [], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "is_accepted": false, "score": 2, "last_activity_date": 1507132922, "last_edit_date": 1507132922, "creation_date": 1507132576, "answer_id": 46569228, "question_id": 46568861, "link": "https://stackoverflow.com/questions/46568861/how-can-i-use-a-member-function-of-a-forward-declared-class/46569228#46569228", "title": "How can I use a member function of a forward declared class?", "body": "<p>In <code>A.cpp</code> , Include both <code>A.h</code> <strong>and</strong> <code>B.h</code><br/>\nIn <code>B.cpp</code>, Include both <code>B.h</code> <strong>and</strong> <code>A.h</code>.</p>\n\n<p>It works because:</p>\n\n<ol>\n<li>We don't have cyclic inclusion (a header file which includes another header file, which includes the original)</li>\n<li>Each class implementation \"sees\" how the other class looks like, but not how it's implemented, we don't break \"separation of interface from implementation\" rule.  there are some cases where we don't do that, but for most cases, it's valid.</li>\n</ol>\n\n<p>The thumb rule (only a thumb rule!) is to include the class header in every <code>.cpp</code> file which uses that class. so if <code>foo.cpp</code> uses the class <code>bar</code>, and class <code>bar</code> interface is in <code>bar.h</code>, then <code>foo.cpp</code> should include <code>bar.h</code>. There are some specific cases we don't follow that rule, but for the most cases, it's valid.</p>\n"}, {"comments": [{"owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "edited": false, "score": 0, "creation_date": 1507135729, "post_id": 46569323, "comment_id": 80093973, "body": "Worked like a charm cheers. I was indeed missing this rather obvious inclusion"}], "tags": [], "owner": {"reputation": 78, "user_id": 7001341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725eb2fae2f56dfe573e62c539a6a2b0?s=128&d=identicon&r=PG&f=1", "display_name": "Antho A", "link": "https://stackoverflow.com/users/7001341/antho-a"}, "is_accepted": true, "score": 3, "last_activity_date": 1507133295, "last_edit_date": 1507133295, "creation_date": 1507132866, "answer_id": 46569323, "question_id": 46568861, "link": "https://stackoverflow.com/questions/46568861/how-can-i-use-a-member-function-of-a-forward-declared-class/46569323#46569323", "title": "How can I use a member function of a forward declared class?", "body": "<p>Look at what is included when compiling <code>B.cpp</code>, you have a forward declaration of class <code>A</code> but not the real definition. So in <code>B.cpp</code> on line 4, <code>functionA</code> is unknown to the compiler therefore your type is incomplete.</p>\n\n<p>You should include <code>A.h</code> in <code>B.cpp</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "is_accepted": false, "score": 1, "last_activity_date": 1507132926, "creation_date": 1507132926, "answer_id": 46569337, "question_id": 46568861, "link": "https://stackoverflow.com/questions/46568861/how-can-i-use-a-member-function-of-a-forward-declared-class/46569337#46569337", "title": "How can I use a member function of a forward declared class?", "body": "<p>Using members of a class with only a forward declaration is impossible.</p>\n\n<p>If your code uses a member function, the class should be fully declared, because the compiler needs to check that the member function with this name actually exists.</p>\n"}], "owner": {"reputation": 336, "user_id": 4173886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2OL21YCAtGc/AAAAAAAAAAI/AAAAAAAAACw/AFm42GC7dHQ/photo.jpg?sz=128", "display_name": "oldabl", "link": "https://stackoverflow.com/users/4173886/oldabl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2141, "favorite_count": 0, "accepted_answer_id": 46569323, "answer_count": 3, "score": 4, "last_activity_date": 1507133295, "creation_date": 1507131492, "last_edit_date": 1507132778, "question_id": 46568861, "link": "https://stackoverflow.com/questions/46568861/how-can-i-use-a-member-function-of-a-forward-declared-class", "title": "How can I use a member function of a forward declared class?", "body": "<p>I have 2 classes A and B and the 4 following files:</p>\n\n<p><strong>A.h</strong></p>\n\n<pre><code>#ifndef A_H\n#define A_H\n\n#include \"B.h\"\nclass A {\npublic:\n    A();\n    int functionA();\n    B objectB;\n};\n\n#endif //A_H\n</code></pre>\n\n<p><strong>B.h</strong></p>\n\n<pre><code>#ifndef B_H\n#define B_H\n\nclass A;\nclass B {\npublic:\n    B();\n    int functionB();\n    A * objectA;\n};\n\n#endif //B_H\n</code></pre>\n\n<p><strong>A.cpp</strong></p>\n\n<pre><code>#include \"A.h\"\nA::A(){}\nint A::functionA() {\n    return 11;\n}\n</code></pre>\n\n<p><strong>B.cpp</strong></p>\n\n<pre><code>#include \"B.h\"\nB::B(){}\nint B::functionB() {\n    return objectA-&gt;functionA();\n}\n</code></pre>\n\n<p>Now I compile using the line: <code>g++ A.cpp B.cpp -Wall -Wextra -O2 -march=native -std=gnu++1z</code></p>\n\n<p>I get this error:</p>\n\n<pre><code>B.cpp: In member function 'int B::functionB()':\nB.cpp:4:19: error: invalid use of incomplete type 'class A'\n     return objectA-&gt;functionA();\n                   ^\nIn file included from B.cpp:1:0:\nB.h:1:7: note: forward declaration of 'class A'\n class A;\n       ^\n</code></pre>\n\n<p>How can I use a member class of the function forward declared here?</p>\n"}, {"tags": ["c++", "cmake", "cuda", "qt-creator"], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 2204093, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/693981127d1ea26d9c4baf5b21a24b96?s=128&d=identicon&r=PG&f=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2204093/ehsan"}, "edited": false, "score": 0, "creation_date": 1507133117, "post_id": 46569189, "comment_id": 80092503, "body": "you are correct, i am using latest version of Cmake and the above new function seems cool too; however by changing it to new commands is not working!. The program runs well without .cu file; therefore, i dont think the problem is from Qt4. and as I said before, with same version of Cmake, a simple program is working well. thanks"}, {"owner": {"reputation": 349, "user_id": 6857772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9311a4916897bd3a90e86346c0769880?s=128&d=identicon&r=PG&f=1", "display_name": "James Sharpe", "link": "https://stackoverflow.com/users/6857772/james-sharpe"}, "reply_to_user": {"reputation": 460, "user_id": 2204093, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/693981127d1ea26d9c4baf5b21a24b96?s=128&d=identicon&r=PG&f=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2204093/ehsan"}, "edited": false, "score": 4, "creation_date": 1507133550, "post_id": 46569189, "comment_id": 80092783, "body": "None of the errors in the posted CMake log file are related to cuda. Note that you need to pass the CUDA flags using CMAKE_CUDA_FLAGS instead of CUDA_NVCC_FLAGS with the style described above.  Without the actual error messages from the console we can&#39;t really help you any more than this."}], "tags": [], "owner": {"reputation": 349, "user_id": 6857772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9311a4916897bd3a90e86346c0769880?s=128&d=identicon&r=PG&f=1", "display_name": "James Sharpe", "link": "https://stackoverflow.com/users/6857772/james-sharpe"}, "is_accepted": false, "score": 1, "last_activity_date": 1507132414, "creation_date": 1507132414, "answer_id": 46569189, "question_id": 46568779, "link": "https://stackoverflow.com/questions/46568779/cmake-error-using-cuda-add-executable-command/46569189#46569189", "title": "Cmake error using cuda_add_executable command", "body": "<p>If you're using a recent version of cmake then you shouldn't be using the cuda_add_executable extension and use the built in functionality for supporting CUDA (see <a href=\"https://devblogs.nvidia.com/parallelforall/building-cuda-applications-cmake/\" rel=\"nofollow noreferrer\">https://devblogs.nvidia.com/parallelforall/building-cuda-applications-cmake/</a>).</p>\n\n<p>So what you need to do is modify your cmakelists like this:</p>\n\n<blockquote>\n  <p>project(PILOT_plugin LANGUAGE C CXX CUDA)</p>\n</blockquote>\n\n<p>The you use the normal add_executable / add_library macros.</p>\n\n<p>However I don't think that this is your issue: I think your install of Qt4 isn't setup properly.</p>\n"}], "owner": {"reputation": 460, "user_id": 2204093, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/693981127d1ea26d9c4baf5b21a24b96?s=128&d=identicon&r=PG&f=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2204093/ehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507132414, "creation_date": 1507131249, "last_edit_date": 1507131637, "question_id": 46568779, "link": "https://stackoverflow.com/questions/46568779/cmake-error-using-cuda-add-executable-command", "title": "Cmake error using cuda_add_executable command", "body": "<p>I am new in cuda programming, I want to build my program and there is a .cu function which is using cuda. I am joind to this project and the project is huge. The *.cpp file of project are added to project using script files.cmake </p>\n\n<pre><code>SUBDIRS(\nsrc/ThirdParty/Matrice\n)\n\nset(SRC_CPP_FILES \n  Operation.cpp \n  Operator.cpp \n  ThirdParty/mt97.cpp \n  Mesh.cpp \n ...\n)\n...\n</code></pre>\n\n<p>and the CmakeList.txt of this project is written :</p>\n\n<pre><code>    project(PILOT_plugin)\n\n\n#set(CMAKE_MODULE_PATH\n#  ${${MY_PROJECT_NAME}_SOURCE_DIR}/CMake\n#  ${CMAKE_MODULE_PATH}\n#  )\n\nMACRO_CREATE_MITK_CTK_PLUGIN(\n  EXPORT_DIRECTIVE PLANNING_EXPORTS\n  EXPORTED_INCLUDE_SUFFIXES src\n  #MODULE_DEPENDS QmitkExt Qmitk\n  MODULE_DEPENDS MitkQtWidgetsExt MitkQtWidgets MitkMapperExt MitkSceneSerialization\n\n)\n\n# Check the architecture and set CMAKE_LIBRARY_ARCHITECTURE accordingly\n#if(UNIX)\n#  if(CMAKE_SIZEOF_VOID_P EQUAL 8)\n#    set(CMAKE_LIBRARY_ARCHITECTURE \"x86_64-linux-gnu\")\n#  endif()\n#endif()\n\nfunction(echo_all_cmake_variable_values)\n  message(STATUS \"\")\n  get_cmake_property(vs VARIABLES)\n  foreach(v ${vs})\n    message(STATUS \"${v}='${${v}}'\")\n  endforeach(v)\n  message(STATUS \"\")\nendfunction()\n\n#echo_all_cmake_variable_values()\n\nSET(QT_USE_QTSQL TRUE)\nfind_package(Boost COMPONENTS serialization filesystem system REQUIRED)\nfind_package(PythonLibs 2.7 REQUIRED)\nset(VTK_CMAKE_DIR ${PILOT_SUPERBUILD_BINARY_DIR}/MITK-superbuild/VTK-src/CMake)\nadd_subdirectory(${PILOT_plugin_SOURCE_DIR}/src/ThirdParty/vtkbioeng ${PILOT_plugin_SOURCE_DIR}/src/ThirdParty/vtkbioeng/Build)\nadd_subdirectory(${PILOT_plugin_SOURCE_DIR}/src/ThirdParty/ompl)\n\ninclude_directories(${Boost_INCLUDE_DIRS} ${PYTHON_INCLUDE_DIR} ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/include /usr/include/libxml2  ${PILOT_plugin_SOURCE_DIR}/src/ThirdParty/vtkbioeng ${PILOT_plugin_SOURCE_DIR}/src/ThirdParty/ompl/src)\n\nadd_dependencies(${PROJECT_NAME} ompl vtkBioeng)\n\n#find_path(CGOGN_LIB_DIR cgogn ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release)\n#message(STATUS ${CGOGN_LIB_DIR})\n\n#link_directories(${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release)\n#set(CMAKE_LIBRARY_PATH ${CMAKE_LIBRARY_PATH} ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release)\n#set(CMAKE_LIBRARY_PATH ${CMAKE_LIBRARY_PATH} ${CGOGN_LIB_DIR})\n#list(APPEND ALL_LIBRARY_DIRS ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release)\n\n\nif(EXISTS ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release/libcgogn.a)\n        TARGET_LINK_LIBRARIES(${PROJECT_NAME} gsl mat ${Boost_LIBRARIES} PythonQt ${PYTHON_LIBRARIES} ompl vtkBioeng  ${PILOT_plugin_SOURCE_DIR}/src/CGoGN/lib/Release/libcgogn.a z)\nelse()\n        TARGET_LINK_LIBRARIES(${PROJECT_NAME} gsl mat ${Boost_LIBRARIES} PythonQt ${PYTHON_LIBRARIES} ompl vtkBioeng)\nendif()\n\n\n#TARGET_LINK_LIBRARIES(${PROJECT_NAME} mat ${Boost_LIBRARIES} PythonQt ${PYTHON_LIBRARIES} cgogn z)\n\n#echo_all_cmake_variable_values()\n\nadd_definitions(-DBOOST_NO_CXX11_RVALUE_REFERENCES)\n</code></pre>\n\n<p>According to my knowledge i should add below command to .cmake file or cmakeLists.txt!</p>\n\n<pre><code>find_package(CUDA REQUIRED)\nadd_definitions(-D_FORCE_INLINES)\nset (CUDA_NVCC_FLAGS ${CUDA_NVCC_FLAGS} --gpu-architecture sm_21 -std=c++11)\n\ncuda_add_executable(PILOT_plugin\n    testcuda.cu)\n</code></pre>\n\n<p>the 'PILOT_plugin' is the name of project and .cu file is my cuda file. but I get '[cmake_check_build_system] Error 1'. in CmakeError.log file I dont understand anything of it. </p>\n\n<p>this is the cmakeError.log</p>\n\n<pre><code>Determining if the Q_WS_WIN exist failed with the following output:\nChange Dir: /home/.../CMakeFiles/CMakeTmp\n\nRun Build Command:\"/usr/bin/make\" \"cmTryCompileExec2072448143/fast\"\nmake[3]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/make -f CMakeFiles/cmTryCompileExec2072448143.dir/build.make CMakeFiles/cmTryCompileExec2072448143.dir/build\nmake[4]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report /home/.../CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding CXX object CMakeFiles/cmTryCompileExec2072448143.dir/CheckSymbolExists.cxx.o\n/usr/bin/c++    -I/usr/include/qt4    -o CMakeFiles/cmTryCompileExec2072448143.dir/CheckSymbolExists.cxx.o -c /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx: In function \u2018int main(int, char**)\u2019:\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:8:19: error: \u2018Q_WS_WIN\u2019 was not declared in this scope\n   return ((int*)(&amp;Q_WS_WIN))[argc];\n                   ^\nCMakeFiles/cmTryCompileExec2072448143.dir/build.make:57: recipe for target 'CMakeFiles/cmTryCompileExec2072448143.dir/CheckSymbolExists.cxx.o' failed\nmake[4]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[4]: *** [CMakeFiles/cmTryCompileExec2072448143.dir/CheckSymbolExists.cxx.o] Error 1\nMakefile:118: recipe for target 'cmTryCompileExec2072448143/fast' failed\nmake[3]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[3]: *** [cmTryCompileExec2072448143/fast] Error 2\n\nFile /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:\n/* */\n#include &lt;QtCore/qglobal.h&gt;\n\nint main(int argc, char** argv)\n{\n  (void)argv;\n#ifndef Q_WS_WIN\n  return ((int*)(&amp;Q_WS_WIN))[argc];\n#else\n  (void)argc;\n  return 0;\n#endif\n}\n\nDetermining if the Q_WS_QWS exist failed with the following output:\nChange Dir: /home/.../CMakeFiles/CMakeTmp\n\nRun Build Command:\"/usr/bin/make\" \"cmTryCompileExec3895328539/fast\"\nmake[3]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/make -f CMakeFiles/cmTryCompileExec3895328539.dir/build.make CMakeFiles/cmTryCompileExec3895328539.dir/build\nmake[4]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report /home/.../CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding CXX object CMakeFiles/cmTryCompileExec3895328539.dir/CheckSymbolExists.cxx.o\n/usr/bin/c++    -I/usr/include/qt4    -o CMakeFiles/cmTryCompileExec3895328539.dir/CheckSymbolExists.cxx.o -c /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx: In function \u2018int main(int, char**)\u2019:\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:8:19: error: \u2018Q_WS_QWS\u2019 was not declared in this scope\n   return ((int*)(&amp;Q_WS_QWS))[argc];\n                   ^\nCMakeFiles/cmTryCompileExec3895328539.dir/build.make:57: recipe for target 'CMakeFiles/cmTryCompileExec3895328539.dir/CheckSymbolExists.cxx.o' failed\nmake[4]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[4]: *** [CMakeFiles/cmTryCompileExec3895328539.dir/CheckSymbolExists.cxx.o] Error 1\nMakefile:118: recipe for target 'cmTryCompileExec3895328539/fast' failed\nmake[3]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[3]: *** [cmTryCompileExec3895328539/fast] Error 2\n\nFile /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:\n/* */\n#include &lt;QtCore/qglobal.h&gt;\n\nint main(int argc, char** argv)\n{\n  (void)argv;\n#ifndef Q_WS_QWS\n  return ((int*)(&amp;Q_WS_QWS))[argc];\n#else\n  (void)argc;\n  return 0;\n#endif\n}\n\nDetermining if the Q_WS_MAC exist failed with the following output:\nChange Dir: /home/.../CMakeFiles/CMakeTmp\n\nRun Build Command:\"/usr/bin/make\" \"cmTryCompileExec816771383/fast\"\nmake[3]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/make -f CMakeFiles/cmTryCompileExec816771383.dir/build.make CMakeFiles/cmTryCompileExec816771383.dir/build\nmake[4]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report /home/.../CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding CXX object CMakeFiles/cmTryCompileExec816771383.dir/CheckSymbolExists.cxx.o\n/usr/bin/c++    -I/usr/include/qt4    -o CMakeFiles/cmTryCompileExec816771383.dir/CheckSymbolExists.cxx.o -c /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx: In function \u2018int main(int, char**)\u2019:\n/home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:8:19: error: \u2018Q_WS_MAC\u2019 was not declared in this scope\n   return ((int*)(&amp;Q_WS_MAC))[argc];\n                   ^\nCMakeFiles/cmTryCompileExec816771383.dir/build.make:57: recipe for target 'CMakeFiles/cmTryCompileExec816771383.dir/CheckSymbolExists.cxx.o' failed\nmake[4]: *** [CMakeFiles/cmTryCompileExec816771383.dir/CheckSymbolExists.cxx.o] Error 1\nmake[4]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nMakefile:118: recipe for target 'cmTryCompileExec816771383/fast' failed\nmake[3]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[3]: *** [cmTryCompileExec816771383/fast] Error 2\n\nFile /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.cxx:\n/* */\n#include &lt;QtCore/qglobal.h&gt;\n\nint main(int argc, char** argv)\n{\n  (void)argv;\n#ifndef Q_WS_MAC\n  return ((int*)(&amp;Q_WS_MAC))[argc];\n#else\n  (void)argc;\n  return 0;\n#endif\n}\n\nDetermining if the pthread_create exist failed with the following output:\nChange Dir: /home/.../CMakeFiles/CMakeTmp\n\nRun Build Command:\"/usr/bin/make\" \"cmTryCompileExec3000733177/fast\"\nmake[3]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/make -f CMakeFiles/cmTryCompileExec3000733177.dir/build.make CMakeFiles/cmTryCompileExec3000733177.dir/build\nmake[4]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report /home/.../CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding C object CMakeFiles/cmTryCompileExec3000733177.dir/CheckSymbolExists.c.o\n/usr/bin/cc   -Wall -Wextra -Wpointer-arith -Winvalid-pch -Wcast-align -Wwrite-strings -Wno-error=unknown-pragmas -Wno-error=strict-overflow -Wno-unused-local-typedefs -Wno-array-bounds -fdiagnostics-show-option -fstack-protector-all     -o CMakeFiles/cmTryCompileExec3000733177.dir/CheckSymbolExists.c.o   -c /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.c\nLinking C executable cmTryCompileExec3000733177\n/usr/bin/cmake -E cmake_link_script CMakeFiles/cmTryCompileExec3000733177.dir/link.txt --verbose=1\n/usr/bin/cc     -Wall -Wextra -Wpointer-arith -Winvalid-pch -Wcast-align -Wwrite-strings -Wno-error=unknown-pragmas -Wno-error=strict-overflow -Wno-unused-local-typedefs -Wno-array-bounds -fdiagnostics-show-option -fstack-protector-all      CMakeFiles/cmTryCompileExec3000733177.dir/CheckSymbolExists.c.o  -o cmTryCompileExec3000733177 -rdynamic \nCMakeFiles/cmTryCompileExec3000733177.dir/CheckSymbolExists.c.o: In function `main':\nCheckSymbolExists.c:(.text+0x29): undefined reference to `pthread_create'\ncollect2: error: ld returned 1 exit status\nCMakeFiles/cmTryCompileExec3000733177.dir/build.make:88: recipe for target 'cmTryCompileExec3000733177' failed\nmake[4]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[4]: *** [cmTryCompileExec3000733177] Error 1\nMakefile:118: recipe for target 'cmTryCompileExec3000733177/fast' failed\nmake[3]: *** [cmTryCompileExec3000733177/fast] Error 2\nmake[3]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\n\nFile /home/.../CMakeFiles/CMakeTmp/CheckSymbolExists.c:\n/* */\n#include &lt;pthread.h&gt;\n\nint main(int argc, char** argv)\n{\n  (void)argv;\n#ifndef pthread_create\n  return ((int*)(&amp;pthread_create))[argc];\n#else\n  (void)argc;\n  return 0;\n#endif\n}\n\nDetermining if the function pthread_create exists in the pthreads failed with the following output:\nChange Dir: /home/.../CMakeFiles/CMakeTmp\n\nRun Build Command:\"/usr/bin/make\" \"cmTryCompileExec2524936657/fast\"\nmake[3]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/make -f CMakeFiles/cmTryCompileExec2524936657.dir/build.make CMakeFiles/cmTryCompileExec2524936657.dir/build\nmake[4]: Entering directory '/home/.../CMakeFiles/CMakeTmp'\n/usr/bin/cmake -E cmake_progress_report /home/.../CMakeFiles/CMakeTmp/CMakeFiles 1\nBuilding C object CMakeFiles/cmTryCompileExec2524936657.dir/CheckFunctionExists.c.o\n/usr/bin/cc   -Wall -Wextra -Wpointer-arith -Winvalid-pch -Wcast-align -Wwrite-strings -Wno-error=unknown-pragmas -Wno-error=strict-overflow -Wno-unused-local-typedefs -Wno-array-bounds -fdiagnostics-show-option -fstack-protector-all  -DCHECK_FUNCTION_EXISTS=pthread_create   -o CMakeFiles/cmTryCompileExec2524936657.dir/CheckFunctionExists.c.o   -c /usr/share/cmake-3.0/Modules/CheckFunctionExists.c\nLinking C executable cmTryCompileExec2524936657\n/usr/bin/cmake -E cmake_link_script CMakeFiles/cmTryCompileExec2524936657.dir/link.txt --verbose=1\n/usr/bin/cc     -Wall -Wextra -Wpointer-arith -Winvalid-pch -Wcast-align -Wwrite-strings -Wno-error=unknown-pragmas -Wno-error=strict-overflow -Wno-unused-local-typedefs -Wno-array-bounds -fdiagnostics-show-option -fstack-protector-all  -DCHECK_FUNCTION_EXISTS=pthread_create    CMakeFiles/cmTryCompileExec2524936657.dir/CheckFunctionExists.c.o  -o cmTryCompileExec2524936657 -rdynamic -lpthreads \n/usr/bin/ld: cannot find -lpthreads\ncollect2: error: ld returned 1 exit status\nCMakeFiles/cmTryCompileExec2524936657.dir/build.make:88: recipe for target 'cmTryCompileExec2524936657' failed\nmake[4]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[4]: *** [cmTryCompileExec2524936657] Error 1\nMakefile:118: recipe for target 'cmTryCompileExec2524936657/fast' failed\nmake[3]: Leaving directory '/home/.../CMakeFiles/CMakeTmp'\nmake[3]: *** [cmTryCompileExec2524936657/fast] Error 2\n</code></pre>\n\n<p>Why I cannot add .cu file to the project? the main project use gcc to compile. Is there any other way that i can add .cu file to the main project and compile using nvcc ? </p>\n\n<p>P.S: if I make a simple project and do the same thing as above in CmakeLists.txt is working well, but I dont understand why I cannot add .cu to this huge project\nany help is much appreciated</p>\n"}, {"tags": ["c++", "memory"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1507131388, "post_id": 46568778, "comment_id": 80091324, "body": "What does next point to if you don&#39;t tell it to point to anything?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1507131407, "post_id": 46568778, "comment_id": 80091335, "body": "What did you think was going to happen here: <code>curr = curr-&gt;next;</code>?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507131427, "post_id": 46568778, "comment_id": 80091347, "body": "The members <code>prev</code> and <code>next</code> are not initialized. <code>cur = cur-&gt;next</code> assigns an uninitialized value to <code>cur</code>. I&#39;m not sure what you expected it to contain that would result in the following <code>curr-&gt;num</code> to do anything meaningful."}], "answers": [{"tags": [], "owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1507135971, "last_edit_date": 1507135971, "creation_date": 1507131495, "answer_id": 46568862, "question_id": 46568778, "link": "https://stackoverflow.com/questions/46568778/simple-c-program-crashes-once-using-node-pointers/46568862#46568862", "title": "Simple C++ program crashes once using node pointers", "body": "<pre><code>node()\n{\n    prev = new node();\n    next = new node();\n}\n</code></pre>\n\n<p>On creation of a new node, you create 2 more nodes.  This process never stops, its a recursive ctor.</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 8721142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b31cc3ecb18fe2a5f9e31822ab2c3?s=128&d=identicon&r=PG&f=1", "display_name": "Zablas", "link": "https://stackoverflow.com/users/8721142/zablas"}, "edited": false, "score": 0, "creation_date": 1507132338, "post_id": 46568908, "comment_id": 80091993, "body": "Aha. I see. So is there like a quick way to initialise them automatically or is that too complicated?"}, {"owner": {"reputation": 1755, "user_id": 5986881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a607dd49a0116e3ba869a66d6fd1ba0?s=128&d=identicon&r=PG", "display_name": "Samer Tufail", "link": "https://stackoverflow.com/users/5986881/samer-tufail"}, "reply_to_user": {"reputation": 162, "user_id": 8721142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b31cc3ecb18fe2a5f9e31822ab2c3?s=128&d=identicon&r=PG&f=1", "display_name": "Zablas", "link": "https://stackoverflow.com/users/8721142/zablas"}, "edited": false, "score": 0, "creation_date": 1507132464, "post_id": 46568908, "comment_id": 80092080, "body": "when you move your pointer to next, do another <code>curr = new node()</code> and then <code>curr-&gt;num=2</code>, provided you fixed the earlier problem."}], "tags": [], "owner": {"reputation": 1755, "user_id": 5986881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a607dd49a0116e3ba869a66d6fd1ba0?s=128&d=identicon&r=PG", "display_name": "Samer Tufail", "link": "https://stackoverflow.com/users/5986881/samer-tufail"}, "is_accepted": true, "score": 1, "last_activity_date": 1507131612, "creation_date": 1507131612, "answer_id": 46568908, "question_id": 46568778, "link": "https://stackoverflow.com/questions/46568778/simple-c-program-crashes-once-using-node-pointers/46568908#46568908", "title": "Simple C++ program crashes once using node pointers", "body": "<p>Your first problem is as mentioned by UKMonkey.</p>\n\n<p>The second one would be</p>\n\n<pre><code>   curr = curr-&gt;next;\n   curr-&gt;num = 2;\n</code></pre>\n\n<p>You dont allocate memory to the next after you move to <code>curr-&gt;next</code> so you cant assign a value to a location which hasn't been initialised.</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 8721142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b31cc3ecb18fe2a5f9e31822ab2c3?s=128&d=identicon&r=PG&f=1", "display_name": "Zablas", "link": "https://stackoverflow.com/users/8721142/zablas"}, "edited": false, "score": 0, "creation_date": 1507133565, "post_id": 46569305, "comment_id": 80092791, "body": "Thank you for this! I&#39;ve looked through and I seem to understand where the problem is. Now talking about the previous node, would I have to set up some sort of a temporary node which I&#39;d set it to the current node and later on initialise the previous node with after I moving curr pointer to next?"}, {"owner": {"reputation": 155, "user_id": 5233057, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tX-waRzjlF0/AAAAAAAAAAI/AAAAAAAAASA/Yymy5iYQ8iE/photo.jpg?sz=128", "display_name": "Matteo Tosato", "link": "https://stackoverflow.com/users/5233057/matteo-tosato"}, "reply_to_user": {"reputation": 162, "user_id": 8721142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b31cc3ecb18fe2a5f9e31822ab2c3?s=128&d=identicon&r=PG&f=1", "display_name": "Zablas", "link": "https://stackoverflow.com/users/8721142/zablas"}, "edited": false, "score": 0, "creation_date": 1507135211, "post_id": 46569305, "comment_id": 80093699, "body": "I&#39;m not sure if I understand properly, but... You can use pointers to operate on your nodes.   &#39;curr&#39; pointer is currently at the third level child node. Look at the line: 19 and 25! But the whole nodes structure has his root to the &#39;root&#39; node.  &#39;curr&#39; is just a utility pointer. You can set that pointer to any node of your structure."}], "tags": [], "owner": {"reputation": 155, "user_id": 5233057, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tX-waRzjlF0/AAAAAAAAAAI/AAAAAAAAASA/Yymy5iYQ8iE/photo.jpg?sz=128", "display_name": "Matteo Tosato", "link": "https://stackoverflow.com/users/5233057/matteo-tosato"}, "is_accepted": false, "score": 1, "last_activity_date": 1507132815, "creation_date": 1507132815, "answer_id": 46569305, "question_id": 46568778, "link": "https://stackoverflow.com/questions/46568778/simple-c-program-crashes-once-using-node-pointers/46569305#46569305", "title": "Simple C++ program crashes once using node pointers", "body": "<p>Actually, the program crash at the <code>cum-&gt;num = 2</code> because you have set curr to <code>curr-&gt;next</code> that is NULL.</p>\n\n<p>If you uncomment the ctor the program will crash again because you are creating an infinite cycle of initializations. Look at the stacktrace:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0p3gE.jpg\" height=\"200\"></p>\n\n<p>I can suggest a working example:</p>\n\n<pre><code>struct node\n{\n    node* prev;\n    node* next;\n    int num = 0;\n};\n\nint main()\n{\n    node* curr;\n\n    // Make a root node:\n    node* root = new node();\n    root-&gt;num = 1;\n    // Create a child node\n    root-&gt;next = new node();\n\n    // Set '2' at the child node\n    curr = root-&gt;next;\n    curr-&gt;num = 2;\n    // Create a child of the child node\n    curr-&gt;next = new node();\n\n    // Set '3' at the child node of the child node\n    curr = curr-&gt;next;\n    curr-&gt;num = 3;\n\n    // Etc...\n\n    return 0;\n}\n</code></pre>\n\n<p>Debug it to understand better:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wp04Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wp04Y.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 162, "user_id": 8721142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b31cc3ecb18fe2a5f9e31822ab2c3?s=128&d=identicon&r=PG&f=1", "display_name": "Zablas", "link": "https://stackoverflow.com/users/8721142/zablas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 46568908, "answer_count": 3, "score": 1, "last_activity_date": 1507135971, "creation_date": 1507131244, "last_edit_date": 1507131464, "question_id": 46568778, "link": "https://stackoverflow.com/questions/46568778/simple-c-program-crashes-once-using-node-pointers", "title": "Simple C++ program crashes once using node pointers", "body": "<p>So I never actually learned graph theory but I had seen some examples so I want to try something myself. I made a simple program which looks like this:</p>\n\n<pre><code>struct node\n{\n   node* prev;\n   node* next;\n   int num = 0;\n   /*node()\n   {\n      prev = new node();\n      next = new node();\n   }*/\n};\n\nint main()\n{\n   node* curr = new node();\n   curr-&gt;num = 1;\n   curr-&gt;prev = curr;\n   curr = curr-&gt;next;\n   curr-&gt;num = 2;\n\n   return 0;\n}\n</code></pre>\n\n<p>When I uncomment the constructor it crashes on the first line of main(). When it's commented out it crashes the \"curr->num = 2;\" line. I don't actually know why that happens and would like to find out. Thanks!</p>\n"}, {"tags": ["c++", "unit-testing", "winapi"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507131322, "post_id": 46568751, "comment_id": 80091279, "body": "For unit testing, you should probably have a way of stubbing out the method of getting processes."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1507132015, "post_id": 46568751, "comment_id": 80091768, "body": "For managed code, there used to be Moles/Pex (now Microsoft Fakes), to provide replacements for system services, to exhibit reproducible behavior. I&#39;m not aware of any such framework for native code, though, but I&#39;d invest time researching the availability of those."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507132586, "post_id": 46568751, "comment_id": 80092164, "body": "Every winapi function can fail.  There are no exception specifications.  It is almost never anything good, and certainly won&#39;t be for EnumProcesses, and testing whether the app successfully terminates with an exception is all that is required."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507132692, "post_id": 46568751, "comment_id": 80092229, "body": "@HansPassant Sure, but the question is how to create a condition that makes <code>EnumProcesses</code> fail?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507132978, "post_id": 46568751, "comment_id": 80092416, "body": "You&#39;ll have to do unspeakable things to the OS.  Do focus on <i>how</i> it reports failure, all you need is a <i>false</i> return value.  Something that #ifdef can do."}], "answers": [{"comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1507143445, "post_id": 46569055, "comment_id": 80098060, "body": "I had hope that this could be done by simply removing process privileges or something similar that would change environmental conditions for <code>EnumProcesses</code> to make it fail. <code>NULL</code> for the received count causes the function to fail, but as you wrote, it could also just crash (if not now, then maybe in a future Windows version). &quot;Simulating&quot; failure would require a different code path for testing compared to release code (some #ifdef as @HansPassant suggested), so I&#39;d like to avoid that."}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1507143989, "post_id": 46569055, "comment_id": 80098369, "body": "But you should already have a helper function wrapping EnumProcesses so you don&#39;t need to deal with retrying etc. directly in your main code IMHO."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1507144218, "post_id": 46569055, "comment_id": 80098486, "body": "Yes I have. But within that wrapper I still have to either #ifdef (different code path) or add a parameter to simulate failure, don&#39;t I?"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1507144339, "post_id": 46569055, "comment_id": 80098547, "body": "@zett42 - <code>EnumProcesses</code> ( <code>ZwQuerySystemInformation</code> with <code>SystemProcessInformation</code>) not fail even if you have no any privileges/sids in token. even after call <code>ZwImpersonateAnonymousToken</code> it not fail. only if you hook this api. however for hook api in own image not need detour or iat hoking. can be done more simply"}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1507144615, "post_id": 46569055, "comment_id": 80098694, "body": "@zett42 Yes you need #ifdef or check a environment variable to know when to simulate the failure but that would be true if you could hook or change EnumProcesses in other ways as well."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1507202633, "post_id": 46569055, "comment_id": 80121647, "body": "@RbMm Can you explain how to do API hooking without detour or IAT or give a link? Thanks."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 2, "creation_date": 1507205419, "post_id": 46569055, "comment_id": 80123355, "body": "@zett42 - all imported functions called via pointer variable. in case <code>K32EnumProcesses</code> this is <code>__imp_K32EnumProcesses</code> for not x86 and <code>__imp__K32EnumProcesses@12</code> for x86. so all what we need - declare this variable as <code>extern &quot;C&quot; { \textern PVOID __imp_K32EnumProcesses; }</code> and modify it. for x86 we can not direct (in c++ code) declare name <code>PVOID __imp__K32EnumProcesses@12</code> but we can use <code>#pragma comment(linker, &quot;&#47;alternatename:___imp_K32EnumProcesses=__imp__K32EnumProces&zwnj;&#8203;ses@12&quot;)</code> . full code <a href=\"https://pastebin.com/NMZe7BDD\" rel=\"nofollow noreferrer\">example</a>"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 2, "creation_date": 1507206433, "post_id": 46569055, "comment_id": 80124012, "body": "@zett42 - so when you declare some api with <code>DECLSPEC_IMPORT</code> linker create named variable for this api and you can access it by name. say if you declare <code>extern &quot;C&quot; extern BOOL (*__imp_K32EnumProcesses)(DWORD*,DWORD,DWORD*);</code> the call <code>__imp_K32EnumProcesses(*);</code> and <code>K32EnumProcesses(*);</code> produce absolute the same binary code. one to one. by fact this same as when we declare function variable and initialize it by <code>GetProcAddress</code> and use this variable for call api. only in case imported functions linker for you call <code>GetProcAddress</code>"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1507206708, "post_id": 46569055, "comment_id": 80124181, "body": "may assume that linker do <code>*(void**)&amp;__imp_K32EnumProcesses=GetProcAddress(GetModuleHan&zwnj;&#8203;dle(L&quot;kernel32&quot;), &quot;K32EnumProcesses&quot;);</code> for you. and calls <code>__imp_K32EnumProcesses()</code> vs <code>K32EnumProcesses()</code>  only different source syntax. in binary level no any different. code will be absolute identical for this 2 forms. and of course i get not x86 names for simply"}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1507211025, "post_id": 46569055, "comment_id": 80127476, "body": "I&#39;ve decided to go with hooking as this allows me to keep the testee free of test code. For IAT hooking I already had working code for which I have created a RAII wrapper that allows me to temporarily hook an API by inserting a single line of code at the beginning of the test code. I like the solution of @RbMm for its simplicity but it seems to be compiler-dependend? Also I couldn&#39;t write a RAII wrapper because of the required #pragma for x86."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1507212523, "post_id": 46569055, "comment_id": 80128634, "body": "@zett42 - this not depend from compiler. you can note that <code>__imp_K32EnumProcesses</code> or <code>__imp__K32EnumProcesses@12</code> is exactly match to names in <code>kernel32.lib</code>. when we call some <code>function</code> marked as <i>dllimport</i> - compiler generate variable with name <code>__imp_function</code> (or <code>__imp__function@N</code> for x86). and than linker search exactly this name in obj/lib files. if not found - will be well known error - unresolved external symbol <code>__imp_function</code>. so names not compiler depended but must be exactly matched (symbol to symbol) to name in lib from sdk/wdk"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1507213149, "post_id": 46569055, "comment_id": 80129047, "body": "also we can use <code>__pragma</code> instead of <code>#pragma</code> this let use macros inside <code>__pragma</code> and even <code>#define SOMENAME __pragma SOMENAME(comment(linker, &quot;&#47;alternatename:***&quot;))</code>"}], "tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": true, "score": 3, "last_activity_date": 1507132046, "creation_date": 1507132046, "answer_id": 46569055, "question_id": 46568751, "link": "https://stackoverflow.com/questions/46568751/what-may-cause-enumprocesses-to-fail/46569055#46569055", "title": "What may cause EnumProcesses() to fail?", "body": "<p>Like most functions, it can fail if you pass it invalid parameters. In this case that means a smaller PID array than the size you tell it or a NULL pointer for the received count. It is a bit risky to do this on purpose because you don't know if the function uses SEH to protect against this or if it will just crash.</p>\n\n<p>Internally the function has to allocate some memory before calling into NTDLL to get the process information and this can cause the function to fail if there is not enough memory available.</p>\n\n<p>You should call EnumProcesses in a helper function to abstract away the memory/retry details anyway and that would be a good place to simulate failures when needed.</p>\n\n<p>If you absolutely need the function itself to fail you could hook it with something like Microsoft Detours or IAT hooking... </p>\n"}], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 46569055, "answer_count": 1, "score": -1, "last_activity_date": 1507203660, "creation_date": 1507131194, "last_edit_date": 1507203660, "question_id": 46568751, "link": "https://stackoverflow.com/questions/46568751/what-may-cause-enumprocesses-to-fail", "title": "What may cause EnumProcesses() to fail?", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682629(v=vs.85).aspx\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>If the function fails, the return value is zero. To get extended error\n  information, call GetLastError.</p>\n</blockquote>\n\n<p>But it doesn't give any example how the function could possibly fail.</p>\n\n<p>For unit testing I need to reliably create a situation that makes <code>EnumProcesses()</code> fail.</p>\n"}, {"tags": ["python", "c++", "python-2.7", "ctypes"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507131135, "post_id": 46568630, "comment_id": 80091157, "body": "[Off Topic] You might want to consider using <a href=\"http://en.cppreference.com/w/cpp/types/aligned_storage\" rel=\"nofollow noreferrer\"><code>std::aligned_storage</code></a> instead like <code>static aligned_storage_t&lt;sizeof(hail::Detector), alignof(hail::Detector)&gt; allocation;</code>"}, {"owner": {"reputation": 586, "user_id": 873389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c256eb7df3685e3d906de0d8bbd45ca0?s=128&d=identicon&r=PG", "display_name": "Kenny", "link": "https://stackoverflow.com/users/873389/kenny"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507131411, "post_id": 46568630, "comment_id": 80091341, "body": "@NathanOliver Nice."}], "owner": {"reputation": 586, "user_id": 873389, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c256eb7df3685e3d906de0d8bbd45ca0?s=128&d=identicon&r=PG", "display_name": "Kenny", "link": "https://stackoverflow.com/users/873389/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1507130873, "creation_date": 1507130873, "question_id": 46568630, "link": "https://stackoverflow.com/questions/46568630/why-might-this-use-of-new-cause-a-segmentation-fault", "title": "Why might this use of new cause a segmentation fault?", "body": "<p>If I use placement new in the following way my code appears to run reliably. If I use the commented code instead I frequently get either a segmentation fault (11) or unexpected results. Returning the address of a statically allocated object also works.</p>\n\n<p>I've verified that null is not returned and that this function is being called exactly once for the single Python object in my test script.</p>\n\n<pre><code>extern \"C\"\n{    \n    void * hail_detector_new()\n    {\n        alignas(alignof(hail::Detector)) static U8 allocation[sizeof(hail::Detector)];\n\n        // return new(std::nothrow) hail::Detector;\n\n        return new(allocation) hail::Detector;\n    }\n}\n</code></pre>\n\n<p>Python arguments and return type declarations:</p>\n\n<pre><code>f = _library.hail_detector_new\n\nf.restype = c_void_p\n\nf.argtypes = None\n\nclass Detector(object):\n\n    def __init__(self):\n\n        self._object =  _library.hail_detector_new()\n</code></pre>\n\n<p>Versions</p>\n\n<pre><code>Squall: clang --version\nApple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n\nSquall: python --version\nPython 2.7.13 :: Continuum Analytics, Inc.\n</code></pre>\n"}, {"tags": ["c++", "assembly", "x86-64", "cpu-architecture", "intel-pin"], "comments": [{"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 1, "creation_date": 1507130783, "post_id": 46568487, "comment_id": 80090925, "body": "0x17 is valid in 16 and 32 bit mode. Are you sure your code runs in 64 bit mode?"}, {"owner": {"reputation": 99, "user_id": 8721032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f1877254df476d5495785d3833a4fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Poduri", "link": "https://stackoverflow.com/users/8721032/rohit-poduri"}, "reply_to_user": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 0, "creation_date": 1507138114, "post_id": 46568487, "comment_id": 80095161, "body": "My generated executable runs in 64 bit mode as I checked the instructions on gdb and it showed the 0x17 instruction as invalid. Not sure why it isn&#39;t seen in Pin though"}, {"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 0, "creation_date": 1507140707, "post_id": 46568487, "comment_id": 80096550, "body": "Very strange indeed. 0x17 is <code>pop ss</code> in 32 bit mode, could you check if your binary crashes with an illegal instruction when run natively?"}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1507145306, "post_id": 46568487, "comment_id": 80099057, "body": "<a href=\"https://stackoverflow.com/questions/34710769/insert-an-undefined-instruction-in-x86-code-to-be-detected-by-intel-pin\" title=\"insert an undefined instruction in x86 code to be detected by intel pin\">stackoverflow.com/questions/34710769/&hellip;</a> mentions that invalid instructions can be detected with <code>INS_IsInvalid</code> in PIN."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1507145870, "post_id": 46568487, "comment_id": 80099365, "body": "closing as a duplicate of your other question for now, since I think sorting that out will answer this.  We can always reopen this if it turns out to need a separate answer."}, {"owner": {"reputation": 99, "user_id": 8721032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f1877254df476d5495785d3833a4fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Poduri", "link": "https://stackoverflow.com/users/8721032/rohit-poduri"}, "reply_to_user": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 0, "creation_date": 1507150201, "post_id": 46568487, "comment_id": 80101441, "body": "@fuz turns out INS_Opcode(ins) does not give the exact assembly opcode so I guess my approach is wrong. Yes my binary crashes when I run my executable natively."}, {"owner": {"reputation": 99, "user_id": 8721032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f1877254df476d5495785d3833a4fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Poduri", "link": "https://stackoverflow.com/users/8721032/rohit-poduri"}, "edited": false, "score": 0, "creation_date": 1507152802, "post_id": 46568487, "comment_id": 80102582, "body": "I tried INS_Valid(ins) in Pin, but it dosent detect the illegal instruction and simply crashes"}], "owner": {"reputation": 99, "user_id": 8721032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f1877254df476d5495785d3833a4fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Poduri", "link": "https://stackoverflow.com/users/8721032/rohit-poduri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "closed_date": 1507145831, "answer_count": 0, "score": 0, "last_activity_date": 1507145494, "creation_date": 1507130395, "last_edit_date": 1507145494, "question_id": 46568487, "link": "https://stackoverflow.com/questions/46568487/emulation-of-new-instruction-in-intel-pin", "closed_reason": "Duplicate", "title": "Emulation of new instruction in Intel PIN", "body": "<p>I am trying to emulate some new instructions in x86 using Intel PIN. For doing this I have created asm functions in a sample C program which would be passed as an executable into the PIN tool.</p>\n\n<p>For example, the opcode 0x17 is illegal in x86-64, so I will be using that opcode to simulate my new instruction.  (It's <code>pop ss</code> in 32-bit mode.)  So I use something like this in my code-</p>\n\n<pre><code>asm(\".byte 0x17\");\n</code></pre>\n\n<p>However when I run my instruction trace using the PIN tool where I instrument instructions I don't detect the 0x17. This is the instrumentation function I am using-</p>\n\n<pre><code>VOID Instruction(INS ins, void *v)\n{\n  if(INS_Opcode(ins)==0x17)\n  {\n        INS_InsertCall(ins, IPOINT_BEFORE, (AFUNPTR)docount, IARG_THREAD_ID, IARG_END);\n        INS_Delete(ins);\n  }\n}\n</code></pre>\n\n<p>I perform my analysis in the <code>docount()</code> function and then delete the instruction.</p>\n\n<p>However I do not detect the illegal instruction at all.  For some reason the instructions I am getting do not share the same opcodes as the x86 ones.</p>\n\n<p>I am compiling everything on x86_64 but still don't get anything. Anywhere I am doing something wrong?</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 5, "creation_date": 1507130337, "post_id": 46568444, "comment_id": 80090678, "body": "I&#39;m voting to close this question as off-topic because SO is not a code writing service. Please show your efforts."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507130580, "post_id": 46568444, "comment_id": 80090817, "body": "Sounds like you want to use <code>std::string::find</code> and an <code>if</code>. Happy coding!"}], "answers": [{"comments": [{"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507132512, "post_id": 46568640, "comment_id": 80092115, "body": "What if <code>&quot;34&quot;</code> is found at position <code>0</code>?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507132704, "post_id": 46568640, "comment_id": 80092237, "body": "The <code>found</code> variable is set to <code>false</code>, indicating that the requirement is not satisfied.  Since the <code>&amp;&amp;</code> operator has short-circuiting, the evaluation stops when a term evaluates to false.  Thus the last term is not evaluated with <code>position</code> is zero."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507133311, "post_id": 46568640, "comment_id": 80092633, "body": "Ah, sorry. I&#39;ve been overlooking the <code>(position &gt; 0)</code> condition."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 0, "last_activity_date": 1507130909, "creation_date": 1507130909, "answer_id": 46568640, "question_id": 46568444, "link": "https://stackoverflow.com/questions/46568444/searching-sub-string-in-string-and-check-another-string-before-that/46568640#46568640", "title": "searching sub string in string and check another string before that", "body": "<p>Here ya go, use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/find\" rel=\"nofollow noreferrer\"><code>std::string::find</code></a>:  </p>\n\n<pre><code>// Notice the double quotes\nstd::string::size_type position = my_string.find(\"34\");\nbool found = \n ((position != std::string::npos) &amp;&amp; (position &gt; 0) &amp;&amp; (my_string[position - 1] == '6'));\n</code></pre>\n\n<p>The <code>find</code> method returns the position of substring, or <code>std::string::npos</code> if it is not found.  </p>\n\n<p>The position must be greater than 0, because of the \"before\" requirement.  </p>\n\n<p>If both conditions are satisified, the character slot before the \"34\" is checked for '6', and assigned to a boolean variable.</p>\n"}], "owner": {"reputation": 1, "user_id": 7473230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f46862b4f6c2322a97c72055af2b42?s=128&d=identicon&r=PG&f=1", "display_name": "poorya shahi", "link": "https://stackoverflow.com/users/7473230/poorya-shahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "closed_date": 1507132528, "accepted_answer_id": 46568640, "answer_count": 1, "score": -6, "last_activity_date": 1507130909, "creation_date": 1507130259, "question_id": 46568444, "link": "https://stackoverflow.com/questions/46568444/searching-sub-string-in-string-and-check-another-string-before-that", "closed_reason": "Not suitable for this site", "title": "searching sub string in string and check another string before that", "body": "<p>I have an array of number  strings \nfor example  156983425\nI want to search if it has '34' or not \nif it has '34' does it have 6 before '34' or not ?</p>\n\n<p>thanks for your help</p>\n"}, {"tags": ["c++", "qt", "qml"], "comments": [{"owner": {"reputation": 2031, "user_id": 7619380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a65ac8b0d03d302e9527fcfd0e9acf0a?s=128&d=identicon&r=PG&f=1", "display_name": "joshwilsonvu", "link": "https://stackoverflow.com/users/7619380/joshwilsonvu"}, "edited": false, "score": 1, "creation_date": 1507130858, "post_id": 46568387, "comment_id": 80090978, "body": "Having never used qml, I would humbly suggest c++ :)"}], "answers": [{"tags": [], "owner": {"reputation": 2059, "user_id": 1138311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67def91a371d970532624092bc75f6ec?s=128&d=identicon&r=PG", "display_name": "KimKulling", "link": "https://stackoverflow.com/users/1138311/kimkulling"}, "is_accepted": false, "score": 3, "last_activity_date": 1507131135, "creation_date": 1507131135, "answer_id": 46568727, "question_id": 46568387, "link": "https://stackoverflow.com/questions/46568387/managing-graphical-user-interface-with-qml-in-c-app/46568727#46568727", "title": "Managing graphical user interface with qml in c++ app", "body": "<p>When you want to get things up and running fast doing the buisness logic in QML is a good way to go. But things will getting complicated when adding new features. After a while we got a lot of cascade-like callbacks by depending signals-slots in your QML-files. Special when mixing view- and buisness-code in one QML-file will make your code hard to maintain.</p>\n\n<p>To avoid this using some kind of MVC or MVVM-pattern to separate buisness-logic from your view-code makes sence. And of course you can do the buissness-logic in QML. Separation of concerns helps a lot to keep your code-base understandable independent from your programming language.</p>\n\n<p>When you have any performance-concerns regarding your buisness-logic using C++ for it is the best way to go ( made these experiences when starting with a first prototype in QML and needed to port it to an embedded platform ). And you can use C++ for some special QML-Elements as well of course.</p>\n\n<p>So it strongly depends on your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 2, "last_activity_date": 1507135366, "creation_date": 1507135366, "answer_id": 46570026, "question_id": 46568387, "link": "https://stackoverflow.com/questions/46568387/managing-graphical-user-interface-with-qml-in-c-app/46570026#46570026", "title": "Managing graphical user interface with qml in c++ app", "body": "<p>Depends on how complex your core logic is. If it is small and simple, do in QML. Even if it is not that small and simple, there can be quite a lot of benefits to using QML, as prototyping there is much, much faster and easier compared to C++. You don't have to recompile, you don't get crashes but fairly useful error messages. I find QML to be 5 to 10 times faster for prototyping than C++.</p>\n\n<p>You can always move things over to C++ if you want better performance or memory efficiency, and it is a seamless plug and play transition, because you can use signals and slots in both worlds. It is usually faster to develop the algorithms in QML and port to C++ than to do in C++ from scratch. The downside is you have a different toolset on the low level, in C++ you can use Qt's core classes whereas in QML you will have to use JavaScript and its programming idioms. It really depends on how much experience you have with both, but with some practice, it is quite easy to translate QML to C++.</p>\n\n<p>That being said, even if you opt for QML for the logic, it is always a good idea to have it as a separate layer from the GUI.</p>\n\n<p>Unless you need <code>QWidget</code>s for something else, there is absolutely no good reason to use <code>QQuickWidget</code>, thus you can avoid the entire widgets module as a dependency. You do not need widgets to do the core logic in C++.</p>\n"}], "owner": {"reputation": 165, "user_id": 8258001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a0d8237cca328f3028ac9030020505d0?s=128&d=identicon&r=PG&f=1", "display_name": "OTmn", "link": "https://stackoverflow.com/users/8258001/otmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 46570026, "answer_count": 2, "score": 2, "last_activity_date": 1507135366, "creation_date": 1507130092, "last_edit_date": 1507131064, "question_id": 46568387, "link": "https://stackoverflow.com/questions/46568387/managing-graphical-user-interface-with-qml-in-c-app", "title": "Managing graphical user interface with qml in c++ app", "body": "<p>I'm developing a C++ app using Qt. The app displays some various customized widgets that are made using QML. These widgets renders values using signal/slot system.</p>\n\n<p>I was wondering what could be the best way to manage:</p>\n\n<ul>\n<li>Manage everything in qml files, including rendering and business rules.</li>\n<li>Embedding qml files into QWidget class (QQuickWidget) and managing rendering and business rules in c++</li>\n</ul>\n"}, {"tags": ["c++", "vector", "boost", "iterator"], "comments": [{"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 1, "creation_date": 1528106913, "post_id": 46568287, "comment_id": 88365623, "body": "I finally had some spare-time to try implementing a proper bi-directional combinations iterator. You can find it <a href=\"https://github.com/artem-ogre/combinations_cpp\" rel=\"nofollow noreferrer\">here</a>. I did not use boost, so the code is more verbose than it could be."}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507139059, "post_id": 46569927, "comment_id": 80095674, "body": "This is practically an iterator. Add the missing operators, add a default constructor, inherit from <a href=\"http://en.cppreference.com/w/cpp/iterator/iterator\" rel=\"nofollow noreferrer\"><code>std::iterator</code></a> and you&#39;re there."}, {"owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1507190144, "post_id": 46569927, "comment_id": 80113935, "body": "This is a reasonable suggestion. I am interested in using a custom iterator as it would allow to directly apply STL algorithms that work on iterator ranges. I think it would also be still clearer in signaling the intent of how to use the code."}, {"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "reply_to_user": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1507197415, "post_id": 46569927, "comment_id": 80118304, "body": "@mikkola you can put all the combinations from <code>Combinator</code> into a container and then work with container&#39;s iterators. IMO it&#39;s a cleaner solution. The only drawback is the memory overhead needed to store all combinations explicitly."}, {"owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1510857512, "post_id": 46569927, "comment_id": 81625564, "body": "@AMA in the end I went with a slight variation of this, so I&#39;m accepting this as an answer. Thanks for your time!"}], "tags": [], "owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "is_accepted": true, "score": 2, "last_activity_date": 1507197669, "last_edit_date": 1507197669, "creation_date": 1507135017, "answer_id": 46569927, "question_id": 46568287, "link": "https://stackoverflow.com/questions/46568287/implementing-an-iterator-over-combinations-of-many-vectors/46569927#46569927", "title": "Implementing an iterator over combinations of many vectors", "body": "<p>Why would you like to use custom iterators?\nOne could instead implement a very simple class that will iterate through all combinations:</p>\n\n<pre><code>class Combinator\n{\npublic:\n    Combinator(std::vector&lt;std::vector&lt;int&gt; &gt;&amp; vectors)\n        : m_vectors(vectors)\n    {\n        m_combination.reserve(m_vectors.size());\n        for(auto&amp; v : m_vectors)\n            m_combination.push_back(v.begin());\n    }\n\n    bool next()\n    {\n        // iterate through vectors in reverse order\n        for(long long i = m_vectors.size() - 1; i &gt;= 0; --i)\n        {\n            std::vector&lt;int&gt;&amp; v = m_vectors[i];\n            std::vector&lt;int&gt;::iterator&amp; it = m_combination[i];\n\n            if(++it != v.end())\n                return true;\n            it = v.begin();\n        }\n        return false;\n    }\n\n    std::vector&lt;std::vector&lt;int&gt;::iterator&gt; combination() const\n    {\n        return m_combination;\n    }\n\nprivate:\n    std::vector&lt;std::vector&lt;int&gt; &gt;&amp; m_vectors; // reference to data\n    std::vector&lt;std::vector&lt;int&gt;::iterator&gt; m_combination;\n};\n</code></pre>\n\n<p><kbd><a href=\"https://wandbox.org/permlink/81BZQKyBl5Vd2yT5\" rel=\"nofollow noreferrer\"><strong>Live Demo</strong></a></kbd></p>\n\n<p><strong>UPDATE:</strong>\nIf you would still like to use iterators, I suggest iterating over combinations. One can put all the combinations from <code>Combinator</code> into a container and then work with container's own iterators. In my opinion it's a cleaner solution. The only drawback is the extra-memory needed to store all combinations explicitly.</p>\n"}], "owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 1, "accepted_answer_id": 46569927, "answer_count": 1, "score": 1, "last_activity_date": 1507197669, "creation_date": 1507129788, "last_edit_date": 1507138843, "question_id": 46568287, "link": "https://stackoverflow.com/questions/46568287/implementing-an-iterator-over-combinations-of-many-vectors", "title": "Implementing an iterator over combinations of many vectors", "body": "<p>I am working on a problem that requires iterating over all combinations of elements of <code>K</code> vectors taken one at a time. So for example for <code>K=2</code> vectors <code>v1 = [0 1]</code> and <code>v2 = [3 4]</code>, I would iterate over <code>(0,3), (0,4), (1,3), (1,4)</code>.</p>\n\n<p>Since <code>K</code> is determined at run-time, I cannot use explicit for loops. My current approach is based on <a href=\"https://stackoverflow.com/a/1703575/5471520\">this solution</a> that implements an \"odometer\" incrementing an index for each vector.</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nint main(int argc, char * argv[])\n{\n    std::vector&lt;int&gt; v1( {1, 2, 3} );\n    std::vector&lt;int&gt; v2( {-2, 5} );\n    std::vector&lt;int&gt; v3( {0, 1, 2} );\n    std::vector&lt;std::vector&lt;int&gt; &gt; vv( {v1, v2 ,v3} );\n\n    // Iterate combinations of elems in v1, v2, v3, one at a time\n    std::vector&lt;std::vector&lt;int&gt;::iterator&gt; vit;\n    for (auto&amp; v : vv)\n        vit.push_back(v.begin());\n    int K = vv.size();\n    while (vit[0] != vv[0].end()) \n    {\n        std::cout &lt;&lt; \"Processing combination: [\"; \n        for (auto&amp; i : vit)\n            std::cout &lt;&lt; *i &lt;&lt; \" \";\n        std::cout &lt;&lt; \"]\\n\";\n\n        // increment \"odometer\" by 1\n        ++vit[K-1];\n        for (int i = K-1; (i &gt; 0) &amp;&amp; (vit[i] == vv[i].end()); --i) \n        {\n        vit[i] = vv[i].begin();\n        ++vit[i-1];\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Processing combination: [1 -2 0 ]\nProcessing combination: [1 -2 1 ]\nProcessing combination: [1 -2 2 ]\nProcessing combination: [1 5 0 ]\nProcessing combination: [1 5 1 ]\nProcessing combination: [1 5 2 ]\nProcessing combination: [2 -2 0 ]\nProcessing combination: [2 -2 1 ]\nProcessing combination: [2 -2 2 ]\nProcessing combination: [2 5 0 ]\nProcessing combination: [2 5 1 ]\nProcessing combination: [2 5 2 ]\nProcessing combination: [3 -2 0 ]\nProcessing combination: [3 -2 1 ]\nProcessing combination: [3 -2 2 ]\nProcessing combination: [3 5 0 ]\nProcessing combination: [3 5 1 ]\nProcessing combination: [3 5 2 ]\n</code></pre>\n\n<p>However, this is somewhat messy and requires a lot of boilerplate code that I'd rather move elsewhere for clarity. Ideally I would like to have a custom iterator class, say <code>my_combination_iterator</code>, that would allow me to do things much cleaner, e.g.:</p>\n\n<pre><code>for (my_combination_iterator it = vv.begin(); it != vv.end(); ++it)\n    // process combination\n</code></pre>\n\n<p>So far, I have looked at <a href=\"http://www.boost.org/doc/libs/1_65_1/libs/iterator/doc/iterator_facade.html#tutorial-example\" rel=\"nofollow noreferrer\">Boost <code>iterator_facade</code></a>. But my case seems more complicated than the one in the tutorial since I would need an iterator over a vector of <code>Value</code>s as opposed to a single value type to define the required operators for the custom iterator.\nHow could such an iterator be implemented?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1507129264, "post_id": 46568051, "comment_id": 80089970, "body": "You can&#39;t. You have to specify what types will appear, how to figure out which bytes mean which types and how to parse them. You can define that everything is a string or that all numbers are <code>double</code>s to combine some cases. Ultimately it depends on what you want to do with the data (printing it to console and calculating the average would be very different requirements), but you didn&#39;t state that in the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1507129303, "post_id": 46568051, "comment_id": 80089999, "body": "CSV doesn&#39;t really have different data  types. That is to say that everything could potentially be a string, and the same column can contain things that can be numeric and things that cannot be."}, {"owner": {"reputation": 5940, "user_id": 4605629, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/741edb45b2f1d3e3c3d9555085004ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4605629/greg"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507129491, "post_id": 46568051, "comment_id": 80090111, "body": "@nwp I am trying to build a general parser. I thought of using throw catch for each vector however that would be very messy... Some data in the CSV could be a std::string, other would be int or float. Trying to understand how to achieve this without specifying the data types manually and without using throw catch statements which try to cast the whole vector."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1507129955, "post_id": 46568051, "comment_id": 80090416, "body": "@Dave The usual approach is to write a parser that treats everything as a string - here&#39;s one I wrote earlier: <a href=\"https://bitbucket.org/neilb/csvparse/src\" rel=\"nofollow noreferrer\">bitbucket.org/neilb/csvparse/src</a>. It&#39;s then up to the application code that uses the parser to check for validity (which you have to do anyway) and perform the desired conversions from strings to other types."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1507129972, "post_id": 46568051, "comment_id": 80090435, "body": "<code>throw</code> <code>catch</code> is not the correct approach for this. If <code>std::string</code>, <code>int</code> and <code>float</code> are the types that you need to support and you need to support arithmetics then you should make a type that can hold those data types, can be initialized with either of these types, remembers which type it is and supports the operations. Some variant type probably. Or you just use <a href=\"https://github.com/search?utf8=%E2%9C%93&amp;q=csv+parser+language%3AC%2B%2B&amp;type=Repositories&amp;ref=advsearch&amp;l=&amp;l=\" rel=\"nofollow noreferrer\">some library</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 0, "creation_date": 1507129232, "post_id": 46568088, "comment_id": 80089952, "body": "I&#39;d argue that variant would be a better fit, since the set of types that can be put in CSV is fixed"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 0, "creation_date": 1507129299, "post_id": 46568088, "comment_id": 80089996, "body": "The parser may parse certain entries into other type - perhaps Colour?"}], "tags": [], "owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "is_accepted": true, "score": 0, "last_activity_date": 1507129183, "creation_date": 1507129183, "answer_id": 46568088, "question_id": 46568051, "link": "https://stackoverflow.com/questions/46568051/how-to-deal-with-different-data-types-when-parsing-a-general-csv-read-function/46568088#46568088", "title": "How to deal with different data types when parsing a general CSV read function? (without specifying them explicitly)", "body": "<p>You need to use <code>std::any</code> - See <a href=\"http://en.cppreference.com/w/cpp/utility/any\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/utility/any</a>.</p>\n\n<p>Store the values into an <code>std::vector&lt;std::vector&lt;std::any&gt;&gt;</code></p>\n"}], "owner": {"reputation": 5940, "user_id": 4605629, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/741edb45b2f1d3e3c3d9555085004ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4605629/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 46568088, "answer_count": 1, "score": -1, "last_activity_date": 1507129183, "creation_date": 1507129062, "question_id": 46568051, "link": "https://stackoverflow.com/questions/46568051/how-to-deal-with-different-data-types-when-parsing-a-general-csv-read-function", "title": "How to deal with different data types when parsing a general CSV read function? (without specifying them explicitly)", "body": "<p>How to deal with different data types when reading in data from an arbitrary CSV?</p>\n\n<p>That is, how to deal with the different data types without specifying them explicitly?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1507128890, "post_id": 46567951, "comment_id": 80089682, "body": "compile time might be a problem"}, {"owner": {"reputation": 841, "user_id": 275780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9fda69904fe03f3c3937634042e4ef6?s=128&d=identicon&r=PG", "display_name": "xyious", "link": "https://stackoverflow.com/users/275780/xyious"}, "edited": false, "score": 0, "creation_date": 1507128951, "post_id": 46567951, "comment_id": 80089726, "body": "There&#39;s no problem. As far as I remember function definitions in header files are by default inline, so if you have long functions you may want to consider the second approach."}, {"owner": {"reputation": 3760, "user_id": 6594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448660dad9fcb2bf8b5f7a3ab8813037?s=128&d=identicon&r=PG", "display_name": "Paul Floyd", "link": "https://stackoverflow.com/users/6594576/paul-floyd"}, "edited": false, "score": 0, "creation_date": 1507129285, "post_id": 46567951, "comment_id": 80089986, "body": "Functions default to inline if defined within the class. Outside of the class (either in the header or implementation file) they need to be marked as inline. The optimizer may also choose to inline."}], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 275780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9fda69904fe03f3c3937634042e4ef6?s=128&d=identicon&r=PG", "display_name": "xyious", "link": "https://stackoverflow.com/users/275780/xyious"}, "edited": false, "score": 0, "creation_date": 1507129352, "post_id": 46568050, "comment_id": 80090032, "body": "Does it really impact binary size ? AFAIK you still only have 1 function definition per binary, regardless of having 1 in each compile unit."}, {"owner": {"reputation": 867, "user_id": 5942797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo0xh.png?s=128&g=1", "display_name": "Scott Mudge", "link": "https://stackoverflow.com/users/5942797/scott-mudge"}, "reply_to_user": {"reputation": 841, "user_id": 275780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9fda69904fe03f3c3937634042e4ef6?s=128&d=identicon&r=PG", "display_name": "xyious", "link": "https://stackoverflow.com/users/275780/xyious"}, "edited": false, "score": 0, "creation_date": 1507129474, "post_id": 46568050, "comment_id": 80090101, "body": "You&#39;re correct, I suppose it depends on how many units are importing the functions, and how they are linked."}, {"owner": {"reputation": 11, "user_id": 8587050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b449e7685fdead714b98712568fea9?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8587050/ali"}, "edited": false, "score": 0, "creation_date": 1507130111, "post_id": 46568050, "comment_id": 80090539, "body": "so which way is better at all?"}, {"owner": {"reputation": 867, "user_id": 5942797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo0xh.png?s=128&g=1", "display_name": "Scott Mudge", "link": "https://stackoverflow.com/users/5942797/scott-mudge"}, "edited": false, "score": 0, "creation_date": 1507130315, "post_id": 46568050, "comment_id": 80090664, "body": "In terms of reducing compile times, not keeping function definitions in their headers is the better choice."}], "tags": [], "owner": {"reputation": 867, "user_id": 5942797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo0xh.png?s=128&g=1", "display_name": "Scott Mudge", "link": "https://stackoverflow.com/users/5942797/scott-mudge"}, "is_accepted": true, "score": 1, "last_activity_date": 1507129487, "last_edit_date": 1507129487, "creation_date": 1507129061, "answer_id": 46568050, "question_id": 46567951, "link": "https://stackoverflow.com/questions/46567951/create-class-and-function-in-one-header-file-without-library/46568050#46568050", "title": "create class and function in one header file without library", "body": "<p>Functionally there is no problem. But by keeping the function definitions inside the header, every time the header is imported into a source file, all of the definitions will be compiled again, negatively impacting both compile time and binary size (in certain cases).</p>\n\n<p>Best practice is to define only once, forward declare wherever possible. Keep your abstractions water tight. </p>\n\n<p>Unless you're using template classes, in which case header definitions are generally required.</p>\n"}], "owner": {"reputation": 11, "user_id": 8587050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b449e7685fdead714b98712568fea9?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8587050/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1507673617, "accepted_answer_id": 46568050, "answer_count": 1, "score": -4, "last_activity_date": 1507129487, "creation_date": 1507128742, "question_id": 46567951, "link": "https://stackoverflow.com/questions/46567951/create-class-and-function-in-one-header-file-without-library", "closed_reason": "Needs more focus", "title": "create class and function in one header file without library", "body": "<p>Hello i want to create my own public c++ tool like auto socket connection. but i have two ways and i want to know which way is better.\nway 1 :\ninsert the functions (with source) inside one header file and other people just include the header file and use the functions... \n<br><strong>sock.h</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass sock {\n\n    public:\n\n    bool create();\n    bool bind();\n    bool listen();\n}\n\ninline bool sock::create() { ... }\ninline bool sock::bind() { ... }\ninline bool sock::listen() { ... }\n</code></pre>\n\n<p>and second way is create a header file and also create static lib (c++)\n<br><strong>sock.h</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass sock {\n\n    public:\n\n    bool create();\n    bool bind();\n    bool listen();\n}\n</code></pre>\n\n<p><strong>sock.cpp</strong></p>\n\n<pre><code>#include \"sock.h\"\n\nbool sock::create() { ... }\nbool sock::bind() { ... }\nbool sock::listen() { ... }\n</code></pre>\n\n<p>which way is better ? ( i choose the first way myself because it's easy for client to just include one header file and use the functions but in second way client must include the header and also include the lib file. is there any problem for first way?</p>\n"}, {"tags": ["c++", "visual-studio", "gcc"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507128817, "post_id": 46567932, "comment_id": 80089638, "body": "Accessing a destroyed object is undefined behavior. There is no guarantee that the memory that it occupied will be cleared or overwritten. Rather, it&#39;s not guaranteed to still be present and intact. Since it&#39;s undefined behavior, it could print anything really. It could crash, print garbage, or do anything you can imagine."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1507128933, "post_id": 46567932, "comment_id": 80089714, "body": "Memory is not &quot;cleared&quot; when a destructor is called. It&#39;s just marked as being free. Some debuggers/compilers might fill memory with a special sequence (like 0xDEADBEEF or 0xCDCDCDCD) to make it obvious when seen in the debugger that something isn&#39;t quite right."}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1507153996, "post_id": 46567932, "comment_id": 80103074, "body": "<code>-fsanitize=address</code>"}], "owner": {"reputation": 484, "user_id": 2266255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a7a29f8f46b2df30b1ca658de9f755?s=128&d=identicon&r=PG&f=1", "display_name": "SpKel", "link": "https://stackoverflow.com/users/2266255/spkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1507129014, "answer_count": 0, "score": 0, "last_activity_date": 1507208372, "creation_date": 1507128679, "last_edit_date": 1507208372, "question_id": 46567932, "link": "https://stackoverflow.com/questions/46567932/reference-to-stdstring-keeps-in-memmory-after-destructor-is-called-in-gcc", "closed_reason": "Duplicate", "title": "Reference to std::string keeps in memmory after destructor is called in gcc", "body": "<p>i have some sample code that behaves different in <code>gcc(6.3)</code> and in <code>MSVC (11)</code>. I know that passing raw <code>\"hello\"</code> is not going to last when i call <code>std::cout</code>. In Microsoft Visual Studio 11 i get the expected output but in <code>gcc</code> the string remains in memory. The problem is that the code in <code>gcc</code> may compile, may behave as expected but is wrong, and i do not know why did not erase the \"hello\" string from memory. What i am missing? (Ignore the memory leaks is just dummy code)</p>\n\n<h2>Edit</h2>\n\n<p>The question is more oriented about the difference of compiling with <code>gcc</code> or <code>MSVC</code>. I have already pointed that the code will yield into undefined behaviour. The point is that something like this has been running ok under linux during years and has crashed at first run under a Windows port. Maybe that was only luck but i was asking more about <code>gcc</code> compiler doing nasty things in the background.</p>\n\n<p><strong>MSVC output</strong></p>\n\n<pre><code>w_holder:\n</code></pre>\n\n<p><strong>Gcc output</strong></p>\n\n<pre><code>w_holder:hello\n</code></pre>\n\n<h2><strong>Code</strong></h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\nclass StringWrapper\n{\npublic:\n    StringWrapper(const std::string&amp; sInput) : _string(sInput) { }\n\n    const std::string&amp; _string;\n};\n\nclass WrapperHolder\n{\npublic:\n    WrapperHolder(const std::string&amp; sInput) { _swrapper = new StringWrapper(sInput); }\n\n    StringWrapper* _swrapper;\n};\n\n\nint main()\n{\n    WrapperHolder* w_holder = 0;\n    w_holder = new WrapperHolder(\"hello\");\n\n    std::cout &lt;&lt; \"w_holder: \" &lt;&lt; w_holder-&gt;_swrapper-&gt;_string &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1507128337, "post_id": 46567686, "comment_id": 80089311, "body": "<code>string name[5] = { 0 };</code> -&gt; <code>string name[5];</code>"}], "answers": [{"comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1507128538, "post_id": 46567830, "comment_id": 80089444, "body": "You can drop the <code>{ }</code> alltogether."}], "tags": [], "owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "is_accepted": false, "score": 3, "last_activity_date": 1507128557, "last_edit_date": 1507128557, "creation_date": 1507128400, "answer_id": 46567830, "question_id": 46567686, "link": "https://stackoverflow.com/questions/46567686/exception-thrown-at-0x50e6f1c0-ucrtbased-dll-in-candidatevotes-exe-0xc0000005/46567830#46567830", "title": "Exception thrown at 0x50E6F1C0 (ucrtbased.dll) in CandidateVotes.exe: 0xC0000005: Access violation reading location 0x00000000", "body": "<p>You are trying to construct <code>std::string</code> with null. Remove 0 from the initialisation list for <code>name</code> or remove the initialisation list completely.</p>\n\n<pre><code>string name[5];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 6, "last_activity_date": 1507131769, "last_edit_date": 1507131769, "creation_date": 1507129000, "answer_id": 46568027, "question_id": 46567686, "link": "https://stackoverflow.com/questions/46567686/exception-thrown-at-0x50e6f1c0-ucrtbased-dll-in-candidatevotes-exe-0xc0000005/46568027#46568027", "title": "Exception thrown at 0x50E6F1C0 (ucrtbased.dll) in CandidateVotes.exe: 0xC0000005: Access violation reading location 0x00000000", "body": "<p>The problem occurs here:</p>\n\n<pre><code>string name[5] = { 0 };\n</code></pre>\n\n<p>This attempts to construct an array of 5 <code>std::string</code> objects, with the first string initialized with <code>0</code>.</p>\n\n<p>As it happens, this calls the following constructor:</p>\n\n<pre><code>basic_string(const char * const _Ptr)\n</code></pre>\n\n<p>And then, as soon as the null pointer is dereferenced, the access violation error is reported.</p>\n\n<p>Passing a null <code>char*</code> pointer to a <code>std::string</code> constructor is <strong>undefined behavior</strong>. </p>\n\n<hr>\n\n<p>There is no need to provide an initializer for the array, as the <code>std::string</code> default constructor will initialize each element properly:</p>\n\n<pre><code>string name[5];\n</code></pre>\n\n<p>If you want to indicate that the initialization was considered then the following syntax would be ok:</p>\n\n<pre><code>string name[5] = {};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>string name[5]{};\n</code></pre>\n\n<hr>\n\n<p>Finally, it is always a good idea to enable as many reasonable warnings as possible. On MSVC with <code>Level4 (/W4)</code>, I get the following warning:</p>\n\n<blockquote>\n  <p>warning C6387: '<em>Param</em>(1)' could be '0':  this does not adhere to the specification for the function 'std::basic_string&lt;char,std::char_traits&lt;char>,std::allocator&lt;char> >::{ctor}'. </p>\n</blockquote>\n\n<p>Taking note of this could avoid some confusion later on.</p>\n"}], "owner": {"reputation": 61, "user_id": 8720840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf22d0d3bf5b6f92485ac031e3ffe438?s=128&d=identicon&r=PG&f=1", "display_name": "Foonbee", "link": "https://stackoverflow.com/users/8720840/foonbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18899, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1507131769, "creation_date": 1507127960, "question_id": 46567686, "link": "https://stackoverflow.com/questions/46567686/exception-thrown-at-0x50e6f1c0-ucrtbased-dll-in-candidatevotes-exe-0xc0000005", "title": "Exception thrown at 0x50E6F1C0 (ucrtbased.dll) in CandidateVotes.exe: 0xC0000005: Access violation reading location 0x00000000", "body": "<p>I'm getting this notification when I try to run my program. </p>\n\n<p>Exception thrown at 0x50E6F1C0 (ucrtbased.dll) in CandidateVotes.exe: 0xC0000005: Access violation reading location 0x00000000.</p>\n\n<p>Here's my code:</p>\n\n<p>Write a program that allows the user to enter the last names of five candidates \nin a local election and the number of votes received by each candidate.\nThe program should then output each candidate's name, the number of votes received, \nand the percentage of the total votes received by the candidate.\nYour program should also output the winner of the election.</p>\n\n<pre><code>void main()\n\n{\n    string name[5] = { 0 };\n    int votes[5] = { 0 };\n    int total = 0;\n\n    for (int i = 0; i &lt; 5; i++)\n    {\n        cout &lt;&lt; \"What is the name of Candidate number \" &lt;&lt; i + 1 &lt;&lt; \"?\" &lt;&lt; endl;\n        cin &gt;&gt; name[i];\n\n        cout &lt;&lt; \"How many votes did \" &lt;&lt; name[i] &lt;&lt; \" receive?\" &lt;&lt; endl;\n        cin &gt;&gt; votes[i];\n\n        total += votes[i];\n\n        cout &lt;&lt; total &lt;&lt; endl;\n    }\n\n    system(\"pause\");\n\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "directx", "ipc"], "comments": [{"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1507129666, "post_id": 46567632, "comment_id": 80090215, "body": "Do you want to share GPU memory with two different process&#39; or share GPU memory with several threads or with several apps or what?"}, {"owner": {"reputation": 11, "user_id": 8720801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bac2fb8d81b78cb5a7d4279b4cd3bf?s=128&d=identicon&r=PG&f=1", "display_name": "Bojan Lovrovic", "link": "https://stackoverflow.com/users/8720801/bojan-lovrovic"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1507130207, "post_id": 46567632, "comment_id": 80090595, "body": "I want to share the GPU memory between two different processes (UE4 and my custom &lt;DirectX or OpenGL&gt; app). Lowering latency is my primary concern."}], "answers": [{"comments": [{"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1507130050, "post_id": 46568137, "comment_id": 80090506, "body": "Shared gl-contexts is not difficult at all. Most APIs (GLFW, SDL. etc) just require a proper flag in the context/window creation. And they share most of GPU RAM buffers and programs."}, {"owner": {"reputation": 867, "user_id": 5942797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo0xh.png?s=128&g=1", "display_name": "Scott Mudge", "link": "https://stackoverflow.com/users/5942797/scott-mudge"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 2, "creation_date": 1507130257, "post_id": 46568137, "comment_id": 80090625, "body": "True, but not between parent processes, just between &quot;Windows&quot;: <a href=\"http://www.glfw.org/docs/latest/context_guide.html\" rel=\"nofollow noreferrer\">glfw.org/docs/latest/context_guide.html</a>. OP asked about sharing GPU resources <i>between processes</i>, not within the same process."}, {"owner": {"reputation": 9788, "user_id": 507043, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kPUHE.png?s=128&g=1", "display_name": "Michael IV", "link": "https://stackoverflow.com/users/507043/michael-iv"}, "edited": false, "score": 0, "creation_date": 1507138218, "post_id": 46568137, "comment_id": 80095221, "body": "Make shared context. As UE4 is open sourced ,you can dig into GL module and even see how they do it. Yes, UE4 itself uses more than one context in the rendering API"}], "tags": [], "owner": {"reputation": 867, "user_id": 5942797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo0xh.png?s=128&g=1", "display_name": "Scott Mudge", "link": "https://stackoverflow.com/users/5942797/scott-mudge"}, "is_accepted": false, "score": 0, "last_activity_date": 1507129355, "creation_date": 1507129355, "answer_id": 46568137, "question_id": 46567632, "link": "https://stackoverflow.com/questions/46567632/opengl-inter-process-gpu-resource-sharing/46568137#46568137", "title": "OpenGL inter-process GPU resource sharing", "body": "<p>Generally GPU resources (textures, shaders, etc.) are bound by their contexts. Contexts are then bound to their parent processes. There are methods of sharing data between OpenGL contexts on Windows (see wglShareList), but it can be difficult. </p>\n\n<p>You may want to look into instead just using multiple contexts. If you must share data between contexts, you can use PBOs to asynchronously copy data from GPU -> CPU (other methods of copying texture data block CPU/parent process) and then copy it back to the other context. Inefficient, but there is no easy way of doing this.</p>\n"}, {"tags": [], "owner": {"reputation": 764, "user_id": 7598582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EeiMh_v63wE/AAAAAAAAAAI/AAAAAAAABSo/N4ZLgGMTlkk/photo.jpg?sz=128", "display_name": "Paritosh Kulkarni", "link": "https://stackoverflow.com/users/7598582/paritosh-kulkarni"}, "is_accepted": false, "score": 0, "last_activity_date": 1507465604, "last_edit_date": 1592644375, "creation_date": 1507465604, "answer_id": 46631094, "question_id": 46567632, "link": "https://stackoverflow.com/questions/46567632/opengl-inter-process-gpu-resource-sharing/46631094#46631094", "title": "OpenGL inter-process GPU resource sharing", "body": "<p>I am not sure about across process but you can share context between two different thread and by sharing opengl context you can create the resource and share it with thread.</p>\n<p>for reference see</p>\n<p><a href=\"https://www.khronos.org/opengl/wiki/OpenGL_and_multithreading\" rel=\"nofollow noreferrer\">OpenGL Multithreading Sharing Context</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8720801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bac2fb8d81b78cb5a7d4279b4cd3bf?s=128&d=identicon&r=PG&f=1", "display_name": "Bojan Lovrovic", "link": "https://stackoverflow.com/users/8720801/bojan-lovrovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1484, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507465604, "creation_date": 1507127831, "last_edit_date": 1507129887, "question_id": 46567632, "link": "https://stackoverflow.com/questions/46567632/opengl-inter-process-gpu-resource-sharing", "title": "OpenGL inter-process GPU resource sharing", "body": "<p>So MSDN says that you can share resources (heaps) between two processes:\n<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/mt186623(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/mt186623(v=vs.85).aspx</a></p>\n\n<p>Is the same thing possible in OpenGL? If so, I could use some function names or any kind of starting point for my search since I haven't found anything yet.</p>\n\n<p>Note that I am trying to avoid copying the data to the system memory and back to the same device, as this would be the most trivial approach to solving this.</p>\n"}, {"tags": ["c++", "windows", "c++11", "frequency", "clock"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128030, "post_id": 46567615, "comment_id": 80089090, "body": "This seems to be something you have to read up on in your processor manufacturer&#39;s manual, not something that can be tested via software to reasonable accuracy. Also modern processors change their frequency all the time, so the value would too."}, {"owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128203, "post_id": 46567615, "comment_id": 80089212, "body": "@nwp So there&#39;s no such thing as a reliably consistent clock? I know that processors run at different speeds, but as far as a timekeeping system, there&#39;s no standard among hardware that gives the same results?"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128358, "post_id": 46567615, "comment_id": 80089324, "body": "Clocks are surprisingly complicated beasts. You can get the current time in some precision, but the result becomes wrong immediately. What do you actually want to achieve? Micro benchmarks?"}, {"owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128718, "post_id": 46567615, "comment_id": 80089568, "body": "@nwp No, it&#39;s just I want to implement a timekeeping system, and I&#39;m currently using either the WINAPI, SDL library which abstracts away the platform specific calls and just lets you get the time nice and easy, or, seeing as though C++ is really becoming standardised these days I figured I may as well write the thing in std::chrono and trust that the standard library will handle it the right way based on where it&#39;s compiled. I&#39;m not sure this will be possible with a such a variable frequency. I know that a library like SDL will simply call the platform-specific API,"}, {"owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128752, "post_id": 46567615, "comment_id": 80089596, "body": "so SDL_GetPerformanceFrequency will call the Windows specific function, and so on. I thought the C++ standard library could manage the same thing."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1507128825, "post_id": 46567615, "comment_id": 80089644, "body": "The only guarantee I see for is_steady is that if you take two time points, they will be in order. I suspect that the chrono code is letting you see how bad time is, which doesn&#39;t actually mean it is any worse than other things on the same hardware. It just doesn&#39;t hide it from you. But ... as far as the resolution, I would trust the local OS more than a library that has to work everywhere."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507128995, "post_id": 46567615, "comment_id": 80089767, "body": "<a href=\"http://en.cppreference.com/w/cpp/chrono/time_point\" rel=\"nofollow noreferrer\"><code>std::chrono::time_point</code></a> seems to be exactly what you want. I would expect library implementers to use OS functions, but it doesn&#39;t really matter."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1507129719, "creation_date": 1507129719, "answer_id": 46568256, "question_id": 46567615, "link": "https://stackoverflow.com/questions/46567615/stdchrono-doesnt-seem-to-be-giving-accurate-clock-resolution-frequency/46568256#46568256", "title": "std::chrono doesn&#39;t seem to be giving accurate clock resolution/frequency", "body": "<p><code>period::num</code> and <code>period::den</code> just tell you what units HPC is in.</p>\n\n<p>On your system, its units are nanoseconds.  The \"tick\" isn't the unit that the clock increases by, but rather the unit the clock time is <em>measured</em> in.</p>\n\n<p>It does not measure \"processor cycles\", it measures nanoseconds.  Its job is to relatively consistently give you the current time in nanoseconds.</p>\n\n<p>Now, if the CPU is running at one cycle every 256 nanoseconds, then two calls to <code>high_resolution_clock::now()</code> and another won't be less than that apart (as they take more than one cycle!).</p>\n\n<p>C++ does not expose the clock time of your CPU.  It isn't all that useful.</p>\n\n<p>If you want to record two time points, use <code>clock::now()</code> for your clock.  If you want the best resolution the std library can pull off, use <code>high_performance_clock</code>.  If having clock times that are 100% guaranteed to <em>never</em> go backwards, use <code>steady_clock</code> (after checking that its resolution is sufficient).</p>\n\n<p>You can convert these time points into system clock, and from that to go time_t if you want calendar time.  (Converting between clocks requires you have a common time point in both in my experience; you should generate this common time point once and reuse it)</p>\n\n<p>If you need more resolution than system clock permits, you can convert time points to system clock, that to time_t, that back to system clock and back to your clock, subtract the difference, and display that difference in a unit like nanoseconds.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15957805/extract-year-month-day-etc-from-stdchronotime-point-in-c\">Here</a> is a SO answer that does a bunch of this stuff.</p>\n\n<p>What chrono provides mainly is a library to make working with different clock systems easy and type safe.  It has durations and time points, each of which carry their units with them so accidentally adding seconds-as-nanoseconds won't happen.</p>\n"}], "owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507129719, "creation_date": 1507127771, "question_id": 46567615, "link": "https://stackoverflow.com/questions/46567615/stdchrono-doesnt-seem-to-be-giving-accurate-clock-resolution-frequency", "title": "std::chrono doesn&#39;t seem to be giving accurate clock resolution/frequency", "body": "<p>I've been reading up about this, and the numbers don't add up. On my operating system (Windows), I can check the resolution of the system clock like this:</p>\n\n<pre><code>LARGE_INTEGER largeInt; // Basically a struct/union containing a long long\nQueryPerformanceFrequency(&amp;largeInt);\n// largeInt now holds the frequency of my system's clock, it's 3903987\n// This ends up being a resolution of about 256 nanoseconds\n</code></pre>\n\n<p>All is good, but now I want to use std::chrono to check the same details. According to cppreference.com and a popular answer on this site, the period of a std::chrono clock is a compile-time ratio consisting of a numerator and denominator which specifies how many seconds there are between ticks.</p>\n\n<p>cppreference.com:</p>\n\n<blockquote>\n  <p>period: a\n  std::ratio representing the tick period(i.e.the number of seconds per\n  tick)</p>\n</blockquote>\n\n<p>And from the a stack overflow answer: </p>\n\n<blockquote>\n  <p>The minimum representable duration is\n  high_resolution_clock::period::num /\n  high_resolution_clock::period::den seconds. You can print it like\n  this:</p>\n</blockquote>\n\n<pre><code>std::cout &lt;&lt;\n(double)std::chrono::high_resolution_clock::period::num /   \nstd::chrono::high_resolution_clock::period::den;\n</code></pre>\n\n<p>So I tried:</p>\n\n<pre><code>// On Windows the result is typedeffed as intmax_t, which is a typedef for a long long\n    intmax_t numerator = std::chrono::high_resolution_clock::period::num;\n    intmax_t denominator = std::chrono::high_resolution_clock::period::den;\n    // numerator is 1 and denominator is one billion, which would suggest a \n    // tick period of one nanosecond?\n</code></pre>\n\n<p>According to what's been explained my system's clock is capable of one nanosecond resolution? The OS doesn't seem to think so. I've also tried some other tools that support that my system's clock frequency is around 3903987, and so I don't see how it could manage a resolution finer than that.</p>\n\n<p>I'm not sure whether the frequency changes with CPU power settings / boost mode or not, though high_resolution_clock::is_steady results as true. I restarted my computer twice and got frequency counters of 3903994 and 3903991, so each time booting up this number seems to change. I guess this wouldn't be ideal to calculate the clock at compile time, as opposed to the start of running the program.</p>\n\n<p>So is there way to get the actual resolution/frequency of your system clock with std::chrono?</p>\n"}, {"tags": ["c++", "macos"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 8, "creation_date": 1507127000, "post_id": 46567298, "comment_id": 80088253, "body": "Undefined behavior works in mysterious ways."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 1, "creation_date": 1507127071, "post_id": 46567298, "comment_id": 80088322, "body": "Your loop should print <code>&quot;hej&quot;</code> ten times, with no digits following the string. Did you copy your loop correctly?"}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "edited": false, "score": 0, "creation_date": 1507127125, "post_id": 46567298, "comment_id": 80088380, "body": "Undefined behavior can to <i>anything</i>"}, {"owner": {"reputation": 1136, "user_id": 2225895, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/835b68c58ccd5d56d4d4479fbcf2b2bc?s=128&d=identicon&r=PG", "display_name": "El_Loco", "link": "https://stackoverflow.com/users/2225895/el-loco"}, "edited": false, "score": 0, "creation_date": 1507127597, "post_id": 46567298, "comment_id": 80088759, "body": "I just changed the printout when I was writing the question to make it clearer. Thanks for the comments!"}], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 2225895, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/835b68c58ccd5d56d4d4479fbcf2b2bc?s=128&d=identicon&r=PG", "display_name": "El_Loco", "link": "https://stackoverflow.com/users/2225895/el-loco"}, "edited": false, "score": 0, "creation_date": 1507127513, "post_id": 46567388, "comment_id": 80088690, "body": "Ok, thanks, I have never seen that before so I was a bit confused. I mean it is not the first time I forget to return something, but that has never caused this kind of problems before."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 1136, "user_id": 2225895, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/835b68c58ccd5d56d4d4479fbcf2b2bc?s=128&d=identicon&r=PG", "display_name": "El_Loco", "link": "https://stackoverflow.com/users/2225895/el-loco"}, "edited": false, "score": 3, "creation_date": 1507127657, "post_id": 46567388, "comment_id": 80088813, "body": "@El_Loco One of the worst things about undefined behavior is that sometimes it looks like it works. Undefined behavior can result in any behavior, including the behavior you expected. It goes undetected for a while and can suddenly stop working at any time for no apparent reason. This can even lead you to believe that something is valid c++ when it&#39;s not."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 1136, "user_id": 2225895, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/835b68c58ccd5d56d4d4479fbcf2b2bc?s=128&d=identicon&r=PG", "display_name": "El_Loco", "link": "https://stackoverflow.com/users/2225895/el-loco"}, "edited": false, "score": 1, "creation_date": 1507128068, "post_id": 46567388, "comment_id": 80089113, "body": "The compiler is free to assume undefined behavior never occurs. One possibility is that the compiler assumed that execution would never reach the end of the function because that would cause undefined behavior, which is assumed to never happen. If the condition of the <code>for</code> loop is ever false, then the end of the function would be reached, so it can also assume that the condition is simply always true. It&#39;s then allowed to optimize the comparison out of the loop, resulting in an infinite loop. But this is <i>just one possibility</i>. There may be many more."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 8, "last_activity_date": 1507127101, "creation_date": 1507127101, "answer_id": 46567388, "question_id": 46567298, "link": "https://stackoverflow.com/questions/46567298/weird-behaviour-in-for-loop-in-c-on-mac/46567388#46567388", "title": "Weird behaviour in for-loop in C++ on Mac", "body": "<p>Failure to return from a function with non-void return type is <a href=\"http://en.cppreference.com/w/cpp/language/ub\" rel=\"noreferrer\">undefined behavior</a>. Doing so makes it, by definition, nearly impossible to reason about the resulting behavior. This can affect the behavior of code that comes before the point where undefined behavior would be expected to be encountered.</p>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1507128076, "creation_date": 1507128076, "answer_id": 46567716, "question_id": 46567298, "link": "https://stackoverflow.com/questions/46567298/weird-behaviour-in-for-loop-in-c-on-mac/46567716#46567716", "title": "Weird behaviour in for-loop in C++ on Mac", "body": "<p>The proper answer here is that this is, of course, undefined behavior, so anything could happen. A more interesting question is, how in the world would something silly, like forgetting a return statement, lead to an infinite loop?</p>\n\n<blockquote>\n  <p>It is not the first time I forget to return something, but that has never caused this kind of problems before.</p>\n</blockquote>\n\n<p>My best guess is that the result that you see has to do with returning an object by value when the object has a non-trivial copy constructor. In your case, copy constructor is rather non-trivial, because it needs to deal with nested arrays. In particular, I suspect that the infinite loop would go away if you change return type to an <code>int</code> (the behavior would remain undefined, though).</p>\n\n<p>My guess is that when your loop calls <code>operator &lt;&lt;</code> it places return address on the stack. Once <code>operator &lt;&lt;</code> returns, the stack frame becomes unused, but its content remains intact. I suspect that the code for copying the returned vector re-interprets the content of the \"garbage\" stack frame as a vector with lots of elements, and invokes loop's body instead of copying array elements.</p>\n\n<p>This is just one possibility. If you would like to find out what is happening, the proper way would be to dig through the disassembly.</p>\n"}], "owner": {"reputation": 1136, "user_id": 2225895, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/835b68c58ccd5d56d4d4479fbcf2b2bc?s=128&d=identicon&r=PG", "display_name": "El_Loco", "link": "https://stackoverflow.com/users/2225895/el-loco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 46567388, "answer_count": 2, "score": 2, "last_activity_date": 1507128076, "creation_date": 1507126861, "last_edit_date": 1507127403, "question_id": 46567298, "link": "https://stackoverflow.com/questions/46567298/weird-behaviour-in-for-loop-in-c-on-mac", "title": "Weird behaviour in for-loop in C++ on Mac", "body": "<p>I have the following function:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;Surfel&gt;&gt; testAddingSift(\n        const Groundtruth &amp;groundtruth, \n        SurfelHelper &amp;surfelHelper) {\n    for (int k = 0; k &lt; 10; k++) {\n        std::cout &lt;&lt; \"hej\" &lt;&lt; k &lt;&lt;std::endl;\n    }\n}\n</code></pre>\n\n<p>When I forgot to return a <code>vector&lt;vector&lt;Surfel&gt;&gt;</code> I got an infinite loop:</p>\n\n<pre><code> hej1025849\n hej1025850\n hej1025851\n hej1025852\n</code></pre>\n\n<p>When I return a <code>vector&lt;vector&lt;Surfel&gt;&gt;</code> I get:</p>\n\n<pre><code>hej0\nhej1\nhej2\nhej3\nhej4\nhej5\nhej6\nhej7 \nhej8\nhej9\n</code></pre>\n\n<p>Of course it was a mistake to forget to return the vector, but why is the for-loop affected?</p>\n\n<p>I am using a MacBook Pro with Sierra and CLion and I think it is clang.</p>\n"}, {"tags": ["c++", "sockets", "ssl", "boost", "asio"], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 1, "last_activity_date": 1507151512, "creation_date": 1507151512, "answer_id": 46574261, "question_id": 46567251, "link": "https://stackoverflow.com/questions/46567251/does-reading-from-or-writing-to-boostasiosslstreamnext-layer-bypass-ss/46574261#46574261", "title": "Does reading from or writing to boost::asio::ssl::stream::next_layer() bypass SSL decryption/encryption?", "body": "<p>Not only does using the underlying socket bypass the encryption, it bypasses all of the protocol. Including handshakes, (re)negotiation, side-channels, keepalive etc.</p>\n\n<p>There's no actual guarantee that it would work at all. The only thing you can expect to work is when you use the underlying socket before initializing any SSL operation for the first time.</p>\n\n<p>Beyond that, it's like writing random data to the filedescriptor of a socket that is managed by openssl.</p>\n"}], "owner": {"reputation": 2782, "user_id": 853791, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/w0oVE.jpg?s=128&g=1", "display_name": "bobeff", "link": "https://stackoverflow.com/users/853791/bobeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 46574261, "answer_count": 1, "score": 0, "last_activity_date": 1507153730, "creation_date": 1507126734, "last_edit_date": 1507153730, "question_id": 46567251, "link": "https://stackoverflow.com/questions/46567251/does-reading-from-or-writing-to-boostasiosslstreamnext-layer-bypass-ss", "title": "Does reading from or writing to boost::asio::ssl::stream::next_layer() bypass SSL decryption/encryption?", "body": "<p><code>boost::asio</code> library provides support for SSL encrypted traffic over sockets by wrapping socket objects in <code>boost::asio::ssl::stream</code> decorator class template. For example:</p>\n\n<pre><code>boost::asio::ssl::stream&lt;boost::asio::ip::tcp::socket&gt; sslSocket;\n</code></pre>\n\n<p>Some operations of <code>tcp::socket</code> are not supported by <code>ssl::stream</code>. Calling <code>ssl::stream::next_layer</code> method returns reference to wrapped object and this way not supported by <code>ssl::stream</code> operations can be performed directly on wrapped object.</p>\n\n<p>However it seems logical for me that performing read and write operations directly on wrapped socket object bypasses SSL decryption and encryption and for correct SSL behavior read and write on <code>sslSocket</code> must be performed directly over wrapping <code>ssl::stream</code> object.</p>\n\n<p>Is this right or I can freely perform read and write operation on wrapped object?</p>\n"}, {"tags": ["c++", "winapi", "console", "windows-console"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1507126923, "post_id": 46567248, "comment_id": 80088192, "body": "Is this what you really need, or just what you think is your solution? This really smells like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. And even if it isn&#39;t, this setting is at the user&#39;s discretion."}, {"owner": {"reputation": 3725, "user_id": 8471208, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zX6iRd9pmRI/AAAAAAAAAAI/AAAAAAAAAgE/F3-J9H4ZCno/photo.jpg?sz=128", "display_name": "Kevin Boone", "link": "https://stackoverflow.com/users/8471208/kevin-boone"}, "edited": false, "score": 0, "creation_date": 1507126968, "post_id": 46567248, "comment_id": 80088220, "body": "I&#39;m guessing that you&#39;re talking about using the mouse for cut-and-copy type operations? I think all you can control with <code>SetConsoleMode()</code> is whether mouse events can be read by the program. I don&#39;t know if console cut-and-copy is controllable using an API call; even if it is, I suspect it might vary between Windows releases."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1507126975, "post_id": 46567248, "comment_id": 80088228, "body": "@Ron: That flag controls, whether you get mouse input notifications in the console. It does not change, how the console itself responds to mouse input."}, {"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1507127008, "post_id": 46567248, "comment_id": 80088256, "body": "@IInspectable True. I stand corrected."}, {"owner": {"reputation": 47, "user_id": 8254526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f9f1a4f6a0c3aff730851ea8664bec?s=128&d=identicon&r=PG&f=1", "display_name": "seqedugi", "link": "https://stackoverflow.com/users/8254526/seqedugi"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507228636, "post_id": 46567248, "comment_id": 80138253, "body": "@eryksun Yes it works, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3930, "user_id": 1474291, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/049bfa78ff2d185b51f711f74de58339?s=128&d=identicon&r=PG", "display_name": "Zingam", "link": "https://stackoverflow.com/users/1474291/zingam"}, "edited": false, "score": 0, "creation_date": 1558558132, "post_id": 46592932, "comment_id": 99145934, "body": "This doesn&#39;t work on Attached Console. I `  AllocConsole();   AttachConsole(GetCurrentProcessId());` I want to disable the selection or any input so that no interaction or selection with the console windows is possible."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 3930, "user_id": 1474291, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/049bfa78ff2d185b51f711f74de58339?s=128&d=identicon&r=PG", "display_name": "Zingam", "link": "https://stackoverflow.com/users/1474291/zingam"}, "edited": false, "score": 0, "creation_date": 1558568921, "post_id": 46592932, "comment_id": 99148807, "body": "@Zingam, it seems like you want to disable all forms of input; use <code>SetConsoleMode(hInput, ENABLE_EXTENDED_FLAGS)</code>, which will disable all input modes. FYI, <code>AllocConsole</code> allocates and attaches to a console. Don&#39;t call <code>AttachConsole</code>; the call is probably failing anyway because the process is already attached to a console."}, {"owner": {"reputation": 1378, "user_id": 1607937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eac48b60589f9a7e483887c07c26c2?s=128&d=identicon&r=PG", "display_name": "Den-Jason", "link": "https://stackoverflow.com/users/1607937/den-jason"}, "edited": false, "score": 0, "creation_date": 1583422289, "post_id": 46592932, "comment_id": 107118713, "body": "You have to obtain the handle using CreateFile (CONIN$) as opposed to using GetConsoleWindow - e.g. &quot;HANDLE hInput = CreateFileW(L&quot;CONIN$&quot;, GENERIC_READ | GENERIC_WRITE, FILE_SHARE_READ | FILE_SHARE_WRITE, nullptr, OPEN_EXISTING, 0, nullptr); &quot;"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 1378, "user_id": 1607937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eac48b60589f9a7e483887c07c26c2?s=128&d=identicon&r=PG", "display_name": "Den-Jason", "link": "https://stackoverflow.com/users/1607937/den-jason"}, "edited": false, "score": 1, "creation_date": 1583449739, "post_id": 46592932, "comment_id": 107131125, "body": "@Den-Jason, first try <code>GetStdHandle(STD_INPUT_HANDLE)</code>. If that handle cause <code>GetConsoleMode</code> to fail with <code>ERROR_INVALID_HANDLE</code>, then you can fall back on opening &quot;CONIN$&quot;. FYI, <code>GetConsoleWindow</code> returns the console window handle, if the console has a window, which it may not. A window handle refers to a window object in the window manager, not a file object in the kernel."}, {"owner": {"reputation": 1378, "user_id": 1607937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7eac48b60589f9a7e483887c07c26c2?s=128&d=identicon&r=PG", "display_name": "Den-Jason", "link": "https://stackoverflow.com/users/1607937/den-jason"}, "edited": false, "score": 0, "creation_date": 1583487833, "post_id": 46592932, "comment_id": 107141825, "body": "@ErykSun OK, noted.  The use of opening CONIN$ is based on the answer given to the MSDN question &quot;how use the ReadConsole() for read enter key or any key&quot;"}], "tags": [], "owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "is_accepted": true, "score": 5, "last_activity_date": 1554335130, "last_edit_date": 1554335130, "creation_date": 1507229822, "answer_id": 46592932, "question_id": 46567248, "link": "https://stackoverflow.com/questions/46567248/how-to-disable-user-selection-in-windows-console/46592932#46592932", "title": "How to disable user selection in Windows console", "body": "<p>The console's quick-edit mode allows the user to quickly select and copy text using the mouse, without having to first enter mark mode (i.e. <kbd>Ctrl+M</kbd>, or Edit -> Mark on the menu). It's usually convenient to enable quick-edit mode, but it does interfere with getting mouse input. You can disable it using a handle for the console input buffer as follows:</p>\n\n<pre><code>DWORD prev_mode;\nGetConsoleMode(hInput, &amp;prev_mode); \nSetConsoleMode(hInput, ENABLE_EXTENDED_FLAGS | \n    (prev_mode &amp; ~ENABLE_QUICK_EDIT_MODE));\n</code></pre>\n\n<p>Remember to restore the previous mode at exit.</p>\n"}], "owner": {"reputation": 47, "user_id": 8254526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f9f1a4f6a0c3aff730851ea8664bec?s=128&d=identicon&r=PG&f=1", "display_name": "seqedugi", "link": "https://stackoverflow.com/users/8254526/seqedugi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3957, "favorite_count": 0, "accepted_answer_id": 46592932, "answer_count": 1, "score": 2, "last_activity_date": 1554335130, "creation_date": 1507126733, "last_edit_date": 1507128338, "question_id": 46567248, "link": "https://stackoverflow.com/questions/46567248/how-to-disable-user-selection-in-windows-console", "title": "How to disable user selection in Windows console", "body": "<p>I need to disable user mouse selection in the Windows console. Is it possible and how? I tried the function <code>SetConsoleMode()</code> to disable mouse input with it, but it did not work as I expected. Selecting was still possible.</p>\n"}, {"tags": ["c++", "eclipse"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1507126649, "post_id": 46567173, "comment_id": 80087982, "body": "Flush the output: <code>cout &lt;&lt; num &lt;&lt; endl;</code>"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1507126662, "post_id": 46567173, "comment_id": 80087992, "body": "You solve this by not using <code>system(&quot;PAUSE&quot;);</code> and instead tell eclipse to not close the window immediately. A quick hack that will produce more problems later is <code>std::cout &lt;&lt; num &lt;&lt; std::flush;</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1507126702, "post_id": 46567173, "comment_id": 80088022, "body": "@nwp &quot; A quick hack that will produce more problems later &quot; - what problems?"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1507126854, "post_id": 46567173, "comment_id": 80088141, "body": "@NeilButterworth Problems like unmaintainable code due to having to remember to flush the buffer every time before using <code>system</code> and incompatibility with systems that don&#39;t have a program called <code>PAUSE</code> and issues with IDEs that are configured correctly which now pause twice before exiting. And those are just the ones I can think of right now."}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507126867, "post_id": 46567173, "comment_id": 80088154, "body": "Better put a break point at return 0 rather than using system(&quot;PAUSE&quot;);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1507126926, "post_id": 46567173, "comment_id": 80088193, "body": "@nwp Needing to flush output is a common thing to have to do, whether you use crap like system(&quot;pause&quot;) or not."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1507126965, "post_id": 46567173, "comment_id": 80088217, "body": "@Hariom Better to learn how to use your IDE properly."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1507127131, "post_id": 46567173, "comment_id": 80088387, "body": "@NeilButterworth You only manually flush if you work with bad libraries. The STL is required to automatically flush if you use, for example, <code>std::cin</code> or <code>printf</code> (unless you explicitly turn that off) and in the destructor of <code>std::cout</code>. Manually flushing buffers is something you only do in very rare cases. This is not one of them."}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "edited": false, "score": 0, "creation_date": 1507127265, "post_id": 46567173, "comment_id": 80088497, "body": "You shouldn&#39;t be using <code>system(&quot;PAUSE&quot;)</code> anyway. Its not good practice, and antivirus programs <i>hate</i> it."}], "answers": [{"tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 3, "last_activity_date": 1507126847, "creation_date": 1507126847, "answer_id": 46567293, "question_id": 46567173, "link": "https://stackoverflow.com/questions/46567173/eclipse-c-twists-code-flow/46567293#46567293", "title": "Eclipse c++ twists code flow", "body": "<p>It's called <em>buffering</em>. Output to <code>std::cout</code> is <em>buffered</em>, and won't be displayed unless the buffer is flushed (which happens at program exit) or you explicitly flush it with the <a href=\"http://en.cppreference.com/w/cpp/io/manip/flush\" rel=\"nofollow noreferrer\"><code>flush</code></a> or <a href=\"http://en.cppreference.com/w/cpp/io/manip/endl\" rel=\"nofollow noreferrer\"><code>endl</code></a> standard <a href=\"http://en.cppreference.com/w/cpp/io/manip\" rel=\"nofollow noreferrer\">I/O manipulators</a>.</p>\n\n<p>That the output of the <code>PAUSE</code> command is displayed is because it bypasses the <code>std::cout</code> buffering of your process, and either writes directly to the console window or because it flushes its own internal buffers (the <code>PAUSE</code> command will be run as an unrelated process, with its own possible buffering).</p>\n"}], "owner": {"reputation": 57, "user_id": 7487158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59e344ea2cfacbf3f602af50ccb0adb?s=128&d=identicon&r=PG&f=1", "display_name": "Mindxxxd", "link": "https://stackoverflow.com/users/7487158/mindxxxd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 46567293, "answer_count": 1, "score": 1, "last_activity_date": 1507126847, "creation_date": 1507126515, "question_id": 46567173, "link": "https://stackoverflow.com/questions/46567173/eclipse-c-twists-code-flow", "title": "Eclipse c++ twists code flow", "body": "<p>with the following code</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    int num;\n    cout &lt;&lt; \"Insert number: \" &lt;&lt; endl; // prints \"Insert number:\"\n    cin &gt;&gt; num; //Reads num\n    cout &lt;&lt; num; //prints num\n\n    system(\"PAUSE\");\n    return 0;\n}    \n</code></pre>\n\n<p>i get the following result in the internal console of eclipse:</p>\n\n<pre><code>Insert number:         //code in line 6\n3                      //code in line 7 (Input)\nPress any button...    //code in line 10\n                       //empty line after pressing any button\n3                      //code in line 8?!?!?\n</code></pre>\n\n<p>And I have no idea why this is happening. It looks like eclipse just twists the execution of the code. But why and how could i solve this problem?</p>\n"}, {"tags": ["c++", "visual-studio", "boost", "boost-coroutine2"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 1223242, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/031e1195f8661e47c1ca59cbac2da94c?s=128&d=identicon&r=PG", "display_name": "MichaelE1000", "link": "https://stackoverflow.com/users/1223242/michaele1000"}, "edited": false, "score": 0, "creation_date": 1507282173, "post_id": 46600888, "comment_id": 80156933, "body": "This was just to simplify the example to reproduce the issue.  The issue occurs before we even get that far. The coroutine is created, tries to execute a few stream operations and throws an exception before it would even get that far."}], "tags": [], "owner": {"reputation": 72, "user_id": 4463900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/324bd64a77d62e42bef740409480e938?s=128&d=identicon&r=PG&f=1", "display_name": "Or&#231;un &#199;olak", "link": "https://stackoverflow.com/users/4463900/or%c3%a7un-%c3%87olak"}, "is_accepted": false, "score": -1, "last_activity_date": 1507276305, "creation_date": 1507276305, "answer_id": 46600888, "question_id": 46567050, "link": "https://stackoverflow.com/questions/46567050/boost-coroutine2-1-63-0-throwing-exception-crashes-visual-studio-on-32bit-wi/46600888#46600888", "title": "boost, coroutine2 (1.63.0): throwing exception crashes visual studio on 32bit windows", "body": "<p>This is just a guess but in your coroutine I think you are supposed to push a boolean to your sink (named as yield in your code) and the code is not doing it. </p>\n"}, {"comments": [{"owner": {"reputation": 1036, "user_id": 192737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f738d8db73053bd199aef3ae0bc10e?s=128&d=identicon&r=PG", "display_name": "Jeff Trull", "link": "https://stackoverflow.com/users/192737/jeff-trull"}, "edited": false, "score": 1, "creation_date": 1560393272, "post_id": 56572542, "comment_id": 99723694, "body": "Update: this actually fixed my own problem :)"}, {"owner": {"reputation": 269, "user_id": 1223242, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/031e1195f8661e47c1ca59cbac2da94c?s=128&d=identicon&r=PG", "display_name": "MichaelE1000", "link": "https://stackoverflow.com/users/1223242/michaele1000"}, "edited": false, "score": 0, "creation_date": 1560421169, "post_id": 56572542, "comment_id": 99734443, "body": "This is awesome, I&#39;m gonna try it as soon as possible :)."}], "tags": [], "owner": {"reputation": 1036, "user_id": 192737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f738d8db73053bd199aef3ae0bc10e?s=128&d=identicon&r=PG", "display_name": "Jeff Trull", "link": "https://stackoverflow.com/users/192737/jeff-trull"}, "is_accepted": false, "score": 1, "last_activity_date": 1560392367, "creation_date": 1560392367, "answer_id": 56572542, "question_id": 46567050, "link": "https://stackoverflow.com/questions/46567050/boost-coroutine2-1-63-0-throwing-exception-crashes-visual-studio-on-32bit-wi/56572542#56572542", "title": "boost, coroutine2 (1.63.0): throwing exception crashes visual studio on 32bit windows", "body": "<p>I realize this question is old but I just finished reading a line in <a href=\"https://www.boost.org/doc/libs/1_70_0/libs/coroutine2/doc/html/coroutine2/overview.html\" rel=\"nofollow noreferrer\">the docs</a> that seemed pertinent:</p>\n\n<blockquote>\n  <p>Windows using fcontext_t: turn off global program optimization (/GL) and change /EHsc (compiler assumes that functions declared as extern \"C\" never throw a C++ exception) to /EHs (tells compiler assumes that functions declared as extern \"C\" may throw an exception).</p>\n</blockquote>\n"}], "owner": {"reputation": 269, "user_id": 1223242, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/031e1195f8661e47c1ca59cbac2da94c?s=128&d=identicon&r=PG", "display_name": "MichaelE1000", "link": "https://stackoverflow.com/users/1223242/michaele1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560392367, "creation_date": 1507126182, "last_edit_date": 1507181374, "question_id": 46567050, "link": "https://stackoverflow.com/questions/46567050/boost-coroutine2-1-63-0-throwing-exception-crashes-visual-studio-on-32bit-wi", "title": "boost, coroutine2 (1.63.0): throwing exception crashes visual studio on 32bit windows", "body": "<p>In my application I'm using coroutine2 to generate some objects which I have to decode from a stream. These objects are generated using coroutines. My problem is that as soon as I reach the end of the stream and would theoretically throw std::ios_base::failure my application crashes under certain conditions.</p>\n\n<p>The function providing this feature is implemented in C++, exported as a C function and called from C#. This all happens on a 32bit process on Windows 10 x64. Unfortunately it only reliably crashes when I start my test from C# in debugging mode WITHOUT the native debugger attached. As soon as I attach the native debugger everything works like expected.</p>\n\n<p>Here is a small test application to reproduce this issue:</p>\n\n<p>Api.h</p>\n\n<pre><code>#pragma once\nextern \"C\" __declspec(dllexport) int __cdecl test();\n</code></pre>\n\n<p>Api.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;sstream&gt;\n#include \"Api.h\"\n\n#define BOOST_COROUTINES2_SOURCE\n#include &lt;boost/coroutine2/coroutine.hpp&gt;\n\nint test()\n{\n    using coro_t = boost::coroutines2::coroutine&lt;bool&gt;;\n\n    coro_t::pull_type source([](coro_t::push_type&amp; yield) {\n        std::vector&lt;char&gt; buffer(200300, 0);\n        std::stringstream stream;\n        stream.write(buffer.data(), buffer.size());\n\n        stream.exceptions(std::ios_base::eofbit | std::ios_base::badbit | std::ios_base::failbit);\n\n        try {\n            std::vector&lt;char&gt; dest(100100, 0);\n            while (stream.good() &amp;&amp; !stream.eof()) {\n                stream.read(&amp;dest[0], dest.size());\n                std::cerr &lt;&lt; \"CORO: read: \" &lt;&lt; stream.gcount() &lt;&lt; std::endl;\n           }\n        }\n        catch (const std::exception&amp; ex) {\n            std::cerr &lt;&lt; \"CORO: caught ex: \" &lt;&lt; ex.what() &lt;&lt; std::endl;\n        }\n        catch (...) {\n            std::cerr &lt;&lt; \"CORO: caught unknown exception.\" &lt;&lt; std::endl;\n        }\n    });\n\n    std::cout &lt;&lt; \"SUCCESS\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>using System;\nusing System.Runtime.InteropServices;\nnamespace CoroutinesTest\n{\n    class Program\n    {\n        [DllImport(\"Api.dll\", EntryPoint = \"test\", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)]\n        internal static extern Int32 test();\n\n        static void Main(string[] args)\n        {\n            test();\n            Console.WriteLine(\"SUCCESS\");\n        }\n    }\n}\n</code></pre>\n\n<p>Some details:</p>\n\n<ul>\n<li>We are using Visual Studio 2015 14 and dynamically link the c++ runtime.</li>\n<li>The test library statically links Boost 1.63.0.</li>\n<li>We also tried to reproduce this behaviour with calling the functionallity directly from c++ and from python. Both tests have not been successful so far.</li>\n<li>If you start the c# code with CTRL F5 (meaning without the .net debugger) everything will also be fine. Only if you start it with F5 (meaning the .NET Debugger attached) the visual studio instance will crash. Also be sure not to enable the native debugger!</li>\n<li>Note: If we don't use the exceptions in the stream, everything seams to be fine as well. Unfortunately the code decoding my objects makes use of them and therefore I cannot avoid this.</li>\n</ul>\n\n<p>It would be amazing if you had some additional hints on what might go wrong here or a solution. I'm not entirely sure if this is a boost bug, could also be the c# debugger interfering with boost-context.</p>\n\n<p>Thanks in advance! Best Regards, Michael</p>\n"}, {"tags": ["c#", "c++", ".net", "c++-cli"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1507126235, "post_id": 46566999, "comment_id": 80087645, "body": "Unrelated to your question, but <code>delete</code> accepts null pointers, it simply does nothing then."}, {"owner": {"reputation": 3133, "user_id": 3668462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2Rj1.jpg?s=128&g=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/3668462/johan"}, "edited": false, "score": 0, "creation_date": 1507126847, "post_id": 46566999, "comment_id": 80088133, "body": "You have stumbled on a bug in your compiler, the best approach is to file it to your compiler vendor and try to find a workaround."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1507127847, "post_id": 46566999, "comment_id": 80088953, "body": "It happens, the C++/CLI compiler is not that bullet-proof when its parser gets too confused by syntax errors.  The code snippet is not nearly good enough to point the finger, a missing ^ hat on a variable declaration is a common scourge.  You&#39;ll have to show us real code."}], "answers": [{"tags": [], "owner": {"reputation": 13842, "user_id": 2790621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/b7bSs.jpg?s=128&g=1", "display_name": "xMRi", "link": "https://stackoverflow.com/users/2790621/xmri"}, "is_accepted": false, "score": 2, "last_activity_date": 1507126785, "creation_date": 1507126785, "answer_id": 46567269, "question_id": 46566999, "link": "https://stackoverflow.com/questions/46566999/internal-compiler-error-in-c-cli-code/46567269#46567269", "title": "Internal compiler error in C++/CLI Code", "body": "<p>The code seams ok, I don't know why you get a compiler error but the code might be written much easier.</p>\n\n<p>Simply use the C++/CLI stack semantics:</p>\n\n<pre><code>{ \n  A a{args1...};\n  B b{args2...};\n\n  dostuff(%a, %b);\n}\n</code></pre>\n\n<p>This implies all IDispose using stuff you need.</p>\n"}], "owner": {"reputation": 488, "user_id": 7384437, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/386e2d14621537e11c4790308b91dbd0?s=128&d=identicon&r=PG&f=1", "display_name": "lars", "link": "https://stackoverflow.com/users/7384437/lars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507132521, "creation_date": 1507126047, "last_edit_date": 1507132521, "question_id": 46566999, "link": "https://stackoverflow.com/questions/46566999/internal-compiler-error-in-c-cli-code", "title": "Internal compiler error in C++/CLI Code", "body": "<p>I translated following C# code</p>\n\n<pre><code>using (var a = new A(args1...))\n{\n    using (var b = new A(args2...))\n    {\n        dostuff(a,b);\n    }\n}\n</code></pre>\n\n<p>into C++/CLI Code like this:</p>\n\n<pre><code>try\n{\n    a = gcnew A(args1...);\n    b = gcnew A(args2...);\n\n    dostuff(a, b);\n}\nfinally\n{\n    if (a != nullptr)\n        delete a;\n    if (b != nullptr)\n        delete b;\n}\n</code></pre>\n\n<p>Types A, B, dostuff() are part of a .NET library. I dont have the source code of that library.</p>\n\n<p>The library received an update, a constructor got an additional argument. </p>\n\n<p>Now it got messy. I added the additional argument (a <code>string^</code>) to both calls (C++/CLI and C#).</p>\n\n<p>Now C# runs just fine, C++/CLI gives an internal compiler error.</p>\n\n<blockquote>\n  <p>fatal error C1001: An internal error has occurred in the compiler.\n  (compiler file 'f:\\dd\\vctools\\compiler\\cxxfe\\sl\\p1\\c\\cpimport.cpp',\n  line 16424)</p>\n</blockquote>\n\n<p>VS2017 latest updates</p>\n\n<p>@Some programmer dude: Yes, but atm of the implementation i wasn't certain it is the case in CLI too. Now i know.</p>\n\n<p>@Hans passant: The code worked previously, so i'm pretty sure thats not the case here. I could minimize the example further.</p>\n\n<p>Actually A and B are actually not different types.\n'A' has a constructor of the form (c#):</p>\n\n<pre><code>A(System.IO.Stream stream); // old version\nA(System.IO.Stream stream, string filename); // new version\n</code></pre>\n\n<p>Now the following single line leads to the internal error (c++):</p>\n\n<pre><code>A^ a = gcnew A( System::IO::File::Open(filename, System::IO::FileMode::Create), filename);\n</code></pre>\n"}, {"tags": ["c++", "cmake", "aix", "xlc"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1507127199, "post_id": 46566874, "comment_id": 80088446, "body": "is there a <code>Makefile</code> in your source dir? Is it configured to use <code>gcc</code>? Good luck."}, {"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1507135015, "post_id": 46566874, "comment_id": 80093595, "body": "(It would be ways easier if you used gmake instead of CMake.)"}], "answers": [{"comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1507153504, "post_id": 46567744, "comment_id": 80102872, "body": "Line <code>The C compiler identification is XL 11.1.0</code> in the configuration log suggests that XL compiler is actually detected by CMake. <code>gcc</code> compiler would produce other identification message."}], "tags": [], "owner": {"reputation": 341, "user_id": 8311639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56b4e25d73662bad7049f0fa75a0150?s=128&d=identicon&r=PG&f=1", "display_name": "Rafik Zurob", "link": "https://stackoverflow.com/users/8311639/rafik-zurob"}, "is_accepted": false, "score": 1, "last_activity_date": 1507128168, "creation_date": 1507128168, "answer_id": 46567744, "question_id": 46566874, "link": "https://stackoverflow.com/questions/46566874/cmake-aix-xlc-compiler-not-getting-used/46567744#46567744", "title": "CMAKE AIX xlc compiler not getting used", "body": "<p>Check the <code>cc</code> symlink on your system to make sure it points to XL and not gcc.  Do a <code>which cc</code> and then <code>ls -l</code> that.</p>\n"}, {"tags": [], "owner": {"reputation": 678, "user_id": 7710354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f2611c4267a7cbd227e43d6c522160d?s=128&d=identicon&r=PG&f=1", "display_name": "Nicole Trudeau", "link": "https://stackoverflow.com/users/7710354/nicole-trudeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1507315453, "creation_date": 1507315453, "answer_id": 46612057, "question_id": 46566874, "link": "https://stackoverflow.com/questions/46566874/cmake-aix-xlc-compiler-not-getting-used/46612057#46612057", "title": "CMAKE AIX xlc compiler not getting used", "body": "<p>According to the <a href=\"https://cmake.org/Wiki/CMake_FAQ#How_do_I_use_a_different_compiler.3F\" rel=\"nofollow noreferrer\">CMake FAQ \"How do I use a different compiler?\" section</a>, there are 3 methods. It looks like you have tried to use all 3, including <code>Method 3 (set())</code>, which is marked \"avoid\". </p>\n\n<p>Could you try <code>Method 1: use environment variables</code> again, but this time with the environment variables listed there, <code>CC</code> (for C) and <code>CXX</code> (for C++) environment variables?</p>\n"}], "owner": {"reputation": 57, "user_id": 7028091, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/10211326594345602/picture?type=large", "display_name": "Tim Edwards", "link": "https://stackoverflow.com/users/7028091/tim-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507315453, "creation_date": 1507125709, "last_edit_date": 1507143094, "question_id": 46566874, "link": "https://stackoverflow.com/questions/46566874/cmake-aix-xlc-compiler-not-getting-used", "title": "CMAKE AIX xlc compiler not getting used", "body": "<p>I am trying to use the xlc compiler for my cpp code on AIX.\nI want the cc compiler for my C code</p>\n\n<p>output:</p>\n\n<pre><code>user@AIX&gt; cmake -DCMAKE_CXX_COMPILER=/usr/vac/bin/xlc ..\n-- The C compiler identification is XL 11.1.0\n-- The CXX compiler identification is XL 11.1.0\n-- Check for working C compiler: /usr/vac/bin/cc\n-- Check for working C compiler: /usr/vac/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working CXX compiler: /usr/vac/bin/xlc\n-- Check for working CXX compiler: /usr/vac/bin/xlc -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n</code></pre>\n\n<p>but when I run make ( right after the above output), it seems to be using the gcc compiler.</p>\n\n<pre><code>user@AIX&gt; make\n[  0%] Building CXX object ../libs/shrxml/CMakeFiles/shrxml.dir/XML.cpp.o\ngcc: unrecognized option '-+'\ngcc: unrecognized option '-qthreaded'\ngcc: unrecognized option '-qhalt=e'\ngcc: unrecognized option '-qnamemangling=v6'\ngcc: unrecognized option '-qmaxmem=9216'\ngcc: unrecognized option '-qnamemangling=v6'\ngcc: unrecognized option '-qmaxmem=9216'\ngcc: unrecognized option '-qpic'\nIn file included from /opt/freeware/lib/gcc/powerpc-ibm-\naix6.1.0.0/4.4.5/include/c++/backward/strstream:47,\n                 from \n/home/user/workspace/bitbucket/ark/src/libs/shrxml/XML.cpp:105:\n/opt/freeware/lib/gcc/powerpc-ibm-\naix6.1.0.0/4.4.5/include/c++/backward/backward_warning.h:28:2: warning: \n#warning This file includes at least one deprecated or antiquated header \nwhich may be removed without further notice at a future date. Please use a \nnon-deprecated interface with equivalent functionality instead. For a \nlisting of replacement headers and interfaces, consult the file \nbackward_warning.h. To disable this warning use -Wno-deprecated.\n</code></pre>\n\n<p>I have tried adding the set inside my CMakeLists.txt file</p>\n\n<pre><code> set(CMAKE_CXX_COMPILER /usr/vac/bin/xlc CACHE PATH \"\" FORCE)\n set(CMAKE_CC_COMPILER  /usr/vac/bin/cc  CACHE PATH \"\" FORCE)\n</code></pre>\n\n<p>I have also exported the environment variable:</p>\n\n<pre><code>user@AIX&gt; echo $CMAKE_CXX_COMPILER\n/usr/vac/bin/xlc\nuser@AIX&gt; \n</code></pre>\n\n<p>Any thoughts?</p>\n\n<p>There are no links for cc or xlc in the /usr/vac/bin directory.</p>\n\n<p>When I grep for gcc and xlc in the shrxlm directory  all I can find is gcc.  Why isn't cmake honoring my request for the xlc compiler?</p>\n"}, {"tags": ["c++", "visual-studio-2015", "refactoring", "deprecated", "automated-refactoring"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507125061, "post_id": 46566616, "comment_id": 80086830, "body": "use the search &amp; replace function of your editor? Not sure if I understand the question"}, {"owner": {"reputation": 634, "user_id": 411115, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b2fac84217078d5e518d929e345f61ff?s=128&d=identicon&r=PG", "display_name": "Daniel Lee", "link": "https://stackoverflow.com/users/411115/daniel-lee"}, "edited": false, "score": 0, "creation_date": 1507125154, "post_id": 46566616, "comment_id": 80086894, "body": "I am not sure if I understand either because these are distinctly different methods with different signatures. You will not only have to modify the signatures, but in every place where you call the original method, you will need to update the code to support the new signature."}, {"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507125154, "post_id": 46566616, "comment_id": 80086895, "body": "Like using a regex? because it&#39;s hard to catch the variable types using regex. (Or maybe I just don&#39;t know how)"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 4, "creation_date": 1507125159, "post_id": 46566616, "comment_id": 80086899, "body": "Have the old function just call the new function? And use an <a href=\"http://en.cppreference.com/w/cpp/language/attributes\" rel=\"nofollow noreferrer\">attribute</a> to mark the old function as <code>[[deprecated]]</code> (so the compiler can warn about its usage and help you find the calls)?"}, {"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507125238, "post_id": 46566616, "comment_id": 80086945, "body": "The idea is that the old functions are going to be erased at some point, not just have them deprecated. So I can&#39;t just say &quot;myFunction(&quot;Hello&quot;, true);&quot; in the deprecated function implementation."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1507125457, "post_id": 46566616, "comment_id": 80087104, "body": "That&#39;s basically what deprecation <i>means</i>, that something should be avoided because it might be removed in the future. With the attribute the compiler should add a warning whenever the deprecated function is called, and help the users of that function to find those locations and replace the calls before the old function is removed. If it&#39;s some kind of public API then it should also be mentioned in the documentation that the function will be removed by this version or by that date. That information could also be included in the reason of the deprecation attribute."}, {"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507125625, "post_id": 46566616, "comment_id": 80087230, "body": "Yes I understand that, I&#39;m asking for a way to replace my old function calls with new ones, because there are too many warnings and I don&#39;t want to do all of them manually, I&#39;m asking for a effective way to replace deprecated methods with new ones"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1507125862, "post_id": 46566616, "comment_id": 80087404, "body": "And for that, the only possible answer is the search-replace functionality in your editor."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1507126386, "post_id": 46566616, "comment_id": 80087771, "body": "You might implement the replacement automatically with clang-tidy."}, {"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1507137910, "post_id": 46566616, "comment_id": 80095056, "body": "@Jarod42 Thanks I will look into that"}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507125418, "post_id": 46566725, "comment_id": 80087076, "body": "I like this answer, but the deprecated methods are going to be deleted at some point and then this will no longer work"}, {"owner": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "reply_to_user": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507125738, "post_id": 46566725, "comment_id": 80087314, "body": "@MichelJiang this would remove the old method since you would have replaced it. but like suggested above you could add the [[deprecated]] or in MSDEV __declspec(deprecated) marker on it to warn at compile time where code uses the old way, and replace as you go."}, {"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 0, "creation_date": 1507138108, "post_id": 46566725, "comment_id": 80095158, "body": "Thanks, I think I might be explaining myself badly in the question, but I want to avoid replacing the functions manually, my compiler already warns me about the fact that the functions are deprecated and that I should change them, I&#39;m more looking for a way to replace them in code automatically :) But I will try what you suggest and see if it helps"}], "tags": [], "owner": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1507125260, "creation_date": 1507125260, "answer_id": 46566725, "question_id": 46566616, "link": "https://stackoverflow.com/questions/46566616/changing-references-to-deprecated-methods-c/46566725#46566725", "title": "Changing references to deprecated methods C++", "body": "<p>Change the old function to call the new with that argument being true (declare the new one above the old of course):</p>\n\n<pre><code> // Deprecated method\n myFunction(char* firstParam, char* secondParam = NULL)\n {\n     myFunction(firstParam, true, secondParam);\n }\n</code></pre>\n\n<p>You can probably inline it too so the compiler will literally change the code for you where appropriate :)</p>\n"}, {"comments": [{"owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "edited": false, "score": 1, "creation_date": 1507125494, "post_id": 46566778, "comment_id": 80087134, "body": "This wouldn&#39;t work for the case where it&#39;s using the new function signature already..."}, {"owner": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "edited": false, "score": 1, "creation_date": 1507125723, "post_id": 46566778, "comment_id": 80087302, "body": "I will add it will not work if other object who  could have similar function names too.. It is better to use an IDE that has a refactor functionality where it will only match the symbols that do compile to be that function call with or without the optional/defaulted argument."}], "tags": [], "owner": {"reputation": 195, "user_id": 4521603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGSmV.png?s=128&g=1", "display_name": "Ren&#233; AD", "link": "https://stackoverflow.com/users/4521603/ren%c3%a9-ad"}, "is_accepted": false, "score": -1, "last_activity_date": 1507125436, "creation_date": 1507125436, "answer_id": 46566778, "question_id": 46566616, "link": "https://stackoverflow.com/questions/46566616/changing-references-to-deprecated-methods-c/46566778#46566778", "title": "Changing references to deprecated methods C++", "body": "<p>What about using \"Edit | Find &amp; replace | Replace in Files\" ?\nReplace <em>\"Hello\", world</em> with <em>\"Hello\", true, world</em></p>\n"}, {"tags": [], "owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "is_accepted": false, "score": 1, "last_activity_date": 1507705363, "creation_date": 1507705363, "answer_id": 46681806, "question_id": 46566616, "link": "https://stackoverflow.com/questions/46566616/changing-references-to-deprecated-methods-c/46681806#46681806", "title": "Changing references to deprecated methods C++", "body": "<p>You can do this with our <a href=\"http://www.semanticdesigns.com/Products/DMS/DMSToolkit.html?site=StackOverflow\" rel=\"nofollow noreferrer\">DMS Software Reengineering Toolkit</a>, using <a href=\"http://www.semanticdesigns.com/Products/DMS/DMSRewriteRules.html?site=StackOverflow\" rel=\"nofollow noreferrer\">DMS's source-to-source transformations</a>.</p>\n\n<p>DMS parses (C++17/VisualStudio2015) source code to an AST, applies the source-to-source transforms which modify the tree, and the the result AST is prettyprinted to regenerate (modified) source code.  This allows one to automate code changes across large code bases in a reliable way.</p>\n\n<p>DMS rewrite rules for OP's examples would look like this: </p>\n\n<pre><code>rule add_true_to_hello_world()\n    :functioncall-&gt;functioncall\n    = \"myFunction( \\\"hello\\\", \\\"world\\\");\"\n    -&gt; \"myFunction( \\\"hello\\\", true, \\\"world\\\");\";\n\nrule add_true_to_call_with_literal_string(s: STRING)\n    : functioncall-&gt;functioncall\n    = \"myFunction(\\s)\"\n    -&gt; \"myFunction(\\s, true);\"\n\nrule add_true_when_char_star(i:IDENTIFIER,s:STRING, a:argument):\n     :functioncall-&gt;functioncall\n     = \"\\i(\\s,\\a);\"\n     -&gt; \"\\i(\\s, true, \\a)\"\n     if IsCharStart(a);\n\nruleset replace_deprecated_calls =\n    { add_true_to_hello_world,\n      add_true_to_call_with_literal_string,\n      add_true_when_char_star\n    }\n</code></pre>\n\n<p>Breif explanation: rules have the form</p>\n\n<pre><code>rule name(metavariable): syntaxclass-&gt;syntaxclass\n  lefthandside -&gt; righthandside  if condition ;\n</code></pre>\n\n<p>Rules have names so people and rulesets can refer to them conveniently; sometimes one might have thousands of rules to carry out very complex transforms.  A rule has parameters specifying what kind of metavariables (written \\v) are allowed inside the rule.  The \"functioncall->functioncall\" notation means we are transforming function calls into function calls and not something else.  Quote marks around C++ text are <em>meta</em>quotes delimiting C++ text from DMS rule text, causing us to need to escape the actual C++ literal string quote marks with \\\". [Yeah we might have designed DMS to make that case non-escaped; can't always be clever enough].</p>\n\n<p>A ruleset just groups rules to they can all be applied as a group.  Not shown is the trivial DMS call to apply the ruleset.</p>\n\n<p>You can read more about rule syntax at the link above.</p>\n\n<p>I implemented his rules differently than OP expressed.  His examples show only a function call as a statement (note the \";\" in his examples) getting changed, but he writes in the text that he wants to replace all function calls.  Thus these rules are about changes to function calls, not statements.  OP's first rule I coded exactly as he showed in his example; it will only work if the function call has literally those argument string literas.  His second rule I generalized to allow an arbitrary literal string rather than just \"world\".  The third rule I generalized to allow an arbitrary function name and added a type check as he indicated.</p>\n\n<p>Note the pattern matches actually occur over syntax trees and not raw text.  DMS won't be fooled by function calls inside comments or with different whitespacing/formatting.</p>\n"}], "owner": {"reputation": 331, "user_id": 6291459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170a51660a64230c1ee52440d3c62bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Michel Jiang", "link": "https://stackoverflow.com/users/6291459/michel-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1507705363, "creation_date": 1507124943, "question_id": 46566616, "link": "https://stackoverflow.com/questions/46566616/changing-references-to-deprecated-methods-c", "title": "Changing references to deprecated methods C++", "body": "<p>I have some methods that are deprecated in my codebase and I know how I'm supposed to replace them, is there any way to do this automatically? I'm using Visual studio 2015 update 3 but I'm open to using other text editors...</p>\n\n<p>The code looks like this :</p>\n\n<pre><code>// Deprecated method\nmyFunction(char* firstParam, char* secondParam = NULL);\n\n// New method, same name, different params\nmyFunction(char* firstParam, bool flag, char* secondParam = NULL);\n</code></pre>\n\n<p>I just want something that could replace all references to the first function with a reference to the second one.\ni.e:</p>\n\n<pre><code>myFunction( \"hello\", \"world\");\n// Replace with\nmyFunction( \"hello\", true, \"world\");\n</code></pre>\n\n<p>and </p>\n\n<pre><code>myFunction(\"hello\");\n// Replace with\nmyFunction(\"hello\", true);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>myFunction(\"hello\", isTrue); // isTrue is a bool here\n// Do not replace with anything\n</code></pre>\n\n<p>and</p>\n\n<pre><code>myFunction(\"hello\", world); //world is a char* here\n// Replace with\nmyFunction(\"hello\", true, world);\n</code></pre>\n\n<p>I'm open to solutions using visual studio or even other text editors. The reason I'm not doing it manually is because codebase is too large.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 6, "creation_date": 1507124952, "post_id": 46566567, "comment_id": 80086749, "body": "If the data is used in another thread, then it&#39;s not really <i>thread local</i>, is it? Perhaps you should consider <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"nofollow noreferrer\">shared pointers</a>?"}, {"owner": {"reputation": 833, "user_id": 3812403, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0963dc953188cca0374d4fa3436748ab?s=128&d=identicon&r=PG&f=1", "display_name": "ByteMe95", "link": "https://stackoverflow.com/users/3812403/byteme95"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1507137232, "post_id": 46566567, "comment_id": 80094690, "body": "its basically a pool allocator which is thread local to the allocating thread, but the data is consumed/freed in another thread."}], "owner": {"reputation": 833, "user_id": 3812403, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0963dc953188cca0374d4fa3436748ab?s=128&d=identicon&r=PG&f=1", "display_name": "ByteMe95", "link": "https://stackoverflow.com/users/3812403/byteme95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507125139, "creation_date": 1507124806, "last_edit_date": 1507125139, "question_id": 46566567, "link": "https://stackoverflow.com/questions/46566567/c11-thread-local-destructor-control", "title": "C++11 thread_local destructor control", "body": "<p>Is there some way to have more control over how thread_local objects are destroyed upon thread exit?  When using the old posix pthread_key_create for TLS storage, one was able to specify a destructor callback and do whatever you want.  I cant seem to find the equivalent for the new c++11 thread_local.\nMy issue is that I need to potentially delay destruction of the thread local data, as is may be pending use in another thread.  I would be able to do this using pthread_key_create.\nAfter some extensive googling I did find __cxa_thread_atexit as a potential answer here, but couldn't find any good documentation on it and its unclear how to actually use it</p>\n"}, {"tags": ["c++", "c", "dll", "decode", "video-processing"], "comments": [{"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 1, "creation_date": 1507178643, "post_id": 46566444, "comment_id": 80108941, "body": "You consult the documentation for the DLL. Anything more is just guessing."}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1507200658, "post_id": 46566444, "comment_id": 80120449, "body": "There is no documentation for that file, it is a custom helper DLL file."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 2, "creation_date": 1507241156, "post_id": 46566444, "comment_id": 80143899, "body": "Then you will have to guess."}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1507244024, "post_id": 46566444, "comment_id": 80144673, "body": "What do you mean by guessing? I already have the application that uses the DLL file, can&#39;t we &quot;spy&quot; on the app while it is calling the DLL to know what commands is it executing to it?"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 2, "creation_date": 1507249587, "post_id": 46566444, "comment_id": 80145890, "body": "There is nothing in the DLL that tells you how to use it. You will have to reverse-engineer it somehow."}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1507249650, "post_id": 46566444, "comment_id": 80145903, "body": "I used <a href=\"http://www.dependencywalker.com/\" rel=\"nofollow noreferrer\">dependencywalker.com</a> and found some info about functions, but I didn&#39;t know how to use them :("}, {"owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "edited": false, "score": 0, "creation_date": 1507583484, "post_id": 46566444, "comment_id": 80259295, "body": "<a href=\"https://stackoverflow.com/questions/311268/monitoring-application-calls-to-dll\" title=\"monitoring application calls to dll\">stackoverflow.com/questions/311268/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 4049435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a6ca9d046f24cac32d48ed5ee3e814?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/4049435/wolfgang"}, "edited": false, "score": 1, "creation_date": 1507315488, "post_id": 46609885, "comment_id": 80176205, "body": "See <a href=\"https://stackoverflow.com/questions/437432/is-there-a-way-to-find-all-the-functions-exposed-by-a-dll\" title=\"is there a way to find all the functions exposed by a dll\">stackoverflow.com/questions/437432/&hellip;</a> to find the exposed dll functions and if you want to see how the application uses the dll file you can wrap the dll (or even hijack it) with your own proxy dll (just rename the original dll and place your own build of it to pass through and record/log the calls to origin dll)."}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "reply_to_user": {"reputation": 251, "user_id": 4049435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a6ca9d046f24cac32d48ed5ee3e814?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/4049435/wolfgang"}, "edited": false, "score": 0, "creation_date": 1507324809, "post_id": 46609885, "comment_id": 80180294, "body": "@Wolfgang - how would you implement a proxy DLL if you didn&#39;t know the function signature or return type of each exported function?"}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507325468, "post_id": 46609885, "comment_id": 80180541, "body": "@selbie thank you very much for your detailed answer, here is the actual problem that lead me after deep investigations to find the DLL that could help me, thought might be useful to tell you, please have a look: <a href=\"https://stackoverflow.com/questions/43306959/create-lrec-file-extension-reader-for-mobile\" title=\"create lrec file extension reader for mobile\">stackoverflow.com/questions/43306959/&hellip;</a>"}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507328948, "post_id": 46609885, "comment_id": 80181558, "body": "Does this mean anything? I recorded it while exporting the video from the application using that DLL: <a href=\"https://imgur.com/a/2HXV5\" rel=\"nofollow noreferrer\">imgur.com/a/2HXV5</a>"}, {"owner": {"reputation": 251, "user_id": 4049435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a6ca9d046f24cac32d48ed5ee3e814?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/4049435/wolfgang"}, "edited": false, "score": 1, "creation_date": 1507405437, "post_id": 46609885, "comment_id": 80199341, "body": "@selbie, <a href=\"https://stackoverflow.com/questions/437432/is-there-a-way-to-find-all-the-functions-exposed-by-a-dll\" title=\"is there a way to find all the functions exposed by a dll\">stackoverflow.com/questions/437432/&hellip;</a>"}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "reply_to_user": {"reputation": 251, "user_id": 4049435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a6ca9d046f24cac32d48ed5ee3e814?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/4049435/wolfgang"}, "edited": false, "score": 1, "creation_date": 1507428538, "post_id": 46609885, "comment_id": 80204221, "body": "@Wolfgang - unless it&#39;s a .NET DLL, to the best of my knowledge, none of those solutions discussed at the link you provided will detect the function signature and return type of an exported DLL function. Otherwise, getting the names of the functions are about the only thing possible when dealing with native code DLLs.  But I encourage you to prove me wrong. Go get tinyCoder&#39;s DLL from the link he provides and show me the function signatures of all the exported functions returned by the <code>dumpbin</code> output above.  You&#39;ll not only impress me, you&#39;ll get all of tinyCoder&#39;s bounty. :)"}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507485757, "post_id": 46609885, "comment_id": 80217907, "body": "@selbie, you are saying we can not go any further than of what we found?"}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1507583324, "post_id": 46609885, "comment_id": 80259228, "body": "I don&#39;t know how to go further. There&#39;s the possibility of attaching windbg and setting breakpoints on the exported function.  I would love to see that  Wolfgang guy above who keeps commenting with the same link show something that I&#39;m missing. But what I see exported from the DLL is not the codec interface, but what appears to be the functions to host the GUI dialog. So even if we did get the function signatures figured out, that would only enable use to bring up the same dialog as the Linktivity app itself shows."}, {"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507899504, "post_id": 46609885, "comment_id": 80407032, "body": "Thank you all, I didn&#39;t get my desired answer yet and still trying to find a way, but thanks to @selbie for the detailed explanation, bounty is ending and I need to award it."}], "tags": [], "owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "is_accepted": false, "score": 4, "last_activity_date": 1507306358, "creation_date": 1507306358, "answer_id": 46609885, "question_id": 46566444, "link": "https://stackoverflow.com/questions/46566444/get-external-commands-of-a-dll-file/46609885#46609885", "title": "Get external commands of a DLL file", "body": "<p>As Raymond said, there's no formal way to inspect the interfaces supported by a DLL.</p>\n\n<p>At best you have these options:</p>\n\n<ol>\n<li><p>Type <code>dumpbin /exports lkExport.dll</code> to see what functions are exported.   You won't see the function signatures or return types, but perhaps you'll recognize it as some well known plugin interface standard for your particular application. Perhaps the media player application itself has a plugin SDK where these functions are documented. In your case, I see what appears to be Java bindings also exported by this DLL... that might be an avenue to explore.</p></li>\n<li><p>Try seeing if the DLL is for COM and exports a type library.  I didn't see any of the usual COM functions exported, but you can load the DLL in Visual Studio with the resource editior and look for one.</p></li>\n<li><p>The resource editor didn't reveal a type library, so that likely rules out COM.  But it does reveal an art resource showing hints showing the name of the product or company that made the DLL. I see both  \"Linktivity\" and \"Inter-Tel (Delaware), Inc.\" listed.  A quick web search reveals they may be out of business, but you're probably a smart and resourceful person...</p></li>\n<li><p>The only think left to do is attempt to hook up a debugger (e.g. windbg) to the application that loads the DLL and set breakpoints on the exported functions and disassemble the stack and try to infer the function parameter types, return values, and meaning of each.  I suspect that's going to be very hard to do if you don't have the PDB symbol file that corresponds to the build of that DLL.  (Maybe you can sent a bp on an exported DLL funtion without symbols? I've never tried...) There are some folks out there that can do this type of stuff...</p></li>\n</ol>\n\n<p>Some hints:</p>\n\n<pre><code>dumpbin /exports lkExport.dll\n\nC:\\Users\\jselbie\\Downloads&gt;dumpbin /exports lkExport.dll\nMicrosoft (R) COFF/PE Dumper Version 14.11.25506.0\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n\nDump of file lkExport.dll\n\nFile Type: DLL\n\n  Section contains the following exports for lkExport.dll\n\n    00000000 characteristics\n    47606859 time date stamp Wed Dec 12 15:01:45 2007\n        0.00 version\n           1 ordinal base\n          14 number of functions\n          14 number of names\n\n    ordinal hint RVA      name\n\n          1    0 00001A80 DispatchMsg\n          2    1 00001AD0 Init\n         10    2 00001D00 ReceiveMsg\n         11    3 00001D90 SendMsg\n         12    4 00001DB0 SendMsgProc\n         13    5 00001B70 Start\n         14    6 00001C40 Stop\n          3    7 00001A40 _Java_linktivity_nativecontrols_ExportAppletDll_DispatchMsg@20\n          4    8 000018B0 _Java_linktivity_nativecontrols_ExportAppletDll_Initialize@24\n          5    9 00001980 _Java_linktivity_nativecontrols_ExportAppletDll_ReceiveMsg@16\n          6    A 00001920 _Java_linktivity_nativecontrols_ExportAppletDll_ReceiveNodeMsg@20\n          7    B 000019C0 _Java_linktivity_nativecontrols_ExportAppletDll_SendMsgProc@16\n          8    C 00001900 _Java_linktivity_nativecontrols_ExportAppletDll_Start@8\n          9    D 00001910 _Java_linktivity_nativecontrols_ExportAppletDll_Stop@8\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/XeOBWa2.png\" /></p>\n"}, {"comments": [{"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1507727332, "post_id": 46655081, "comment_id": 80325673, "body": "It would really help if you could explain <i>how</i> using WinAPIOverride would help."}], "tags": [], "owner": {"reputation": 22187, "user_id": 193892, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6178b59305359920a922edd061a55e7a?s=128&d=identicon&r=PG", "display_name": "Prof. Falken", "link": "https://stackoverflow.com/users/193892/prof-falken"}, "is_accepted": false, "score": 2, "last_activity_date": 1528357276, "last_edit_date": 1528357276, "creation_date": 1507583602, "answer_id": 46655081, "question_id": 46566444, "link": "https://stackoverflow.com/questions/46566444/get-external-commands-of-a-dll-file/46655081#46655081", "title": "Get external commands of a DLL file", "body": "<p>I think you could succeed with <a href=\"http://jacquelin.potier.free.fr/winapioverride32/\" rel=\"nofollow noreferrer\">WinAPIOverride</a>.</p>\n\n<p>It allows you to inspect all the calls to the DLL and see what goes in and what goes out of each call. You use this live, almost like a debugger, but it's explicitly made to help understand how a DLL works.</p>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507843610, "post_id": 46717064, "comment_id": 80384822, "body": "Thank you, but as you see in the comments above, I am already using Dependency Walker, but it didn&#39;t provide me of what I can use."}, {"owner": {"reputation": 866, "user_id": 7607594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OyzH_J0Nigs/AAAAAAAAAAI/AAAAAAAAAFg/tWm2BVaSBwY/photo.jpg?sz=128", "display_name": "Jorge Omar Medra", "link": "https://stackoverflow.com/users/7607594/jorge-omar-medra"}, "reply_to_user": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "edited": false, "score": 0, "creation_date": 1507844245, "post_id": 46717064, "comment_id": 80385143, "body": "Yes and also the information that throw Dependency Walker is the same that @selbie is shared us. The main point is that you want to know how to invoke each method of this DLL and what they (methods) return. You may try reversing code with IDA Pro, or another software like that. It is used to decompile the DLL and try to understand the code. Check this answer <a href=\"https://stackoverflow.com/questions/15148950/how-to-reverse-a-dll-into-c-code\" title=\"how to reverse a dll into c code\">stackoverflow.com/questions/15148950/&hellip;</a>"}], "tags": [], "owner": {"reputation": 866, "user_id": 7607594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OyzH_J0Nigs/AAAAAAAAAAI/AAAAAAAAAFg/tWm2BVaSBwY/photo.jpg?sz=128", "display_name": "Jorge Omar Medra", "link": "https://stackoverflow.com/users/7607594/jorge-omar-medra"}, "is_accepted": false, "score": 1, "last_activity_date": 1507834840, "creation_date": 1507834840, "answer_id": 46717064, "question_id": 46566444, "link": "https://stackoverflow.com/questions/46566444/get-external-commands-of-a-dll-file/46717064#46717064", "title": "Get external commands of a DLL file", "body": "<p>Well, when we are talking about DLL's and how to implement it, it necessary to have the documentation of this DLL and even more if it is and private library, which is not an open product to be used. </p>\n\n<p>In this case, with the library that you shared, you are talking about a standard library which can be analyzed  with several tool, for example <a href=\"http://www.dependencywalker.com/\" rel=\"nofollow noreferrer\">Dependency Walker</a>, and check what interfaces are available in the DLL, but you can get the information of how to use it with parameters and the if the interfaces return some type. Also you can see what other libraries are required by this file, as can you see in the image below.</p>\n\n<p>So, in your case you should have the documentation to see how to use and implement the library in your code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JSEUe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JSEUe.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 469, "user_id": 2654691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wh9yc.jpg?s=128&g=1", "display_name": "tinyCoder", "link": "https://stackoverflow.com/users/2654691/tinycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1528357276, "creation_date": 1507124465, "last_edit_date": 1507160474, "question_id": 46566444, "link": "https://stackoverflow.com/questions/46566444/get-external-commands-of-a-dll-file", "title": "Get external commands of a DLL file", "body": "<p>I have a DLL file that is being used by a video player application, this video player uses that DLL file to export the videos as AVI file format, what is the way to know how that application uses the DLL file so that I can execute it externally?</p>\n\n<p>I have a copy of the file here on <a href=\"https://www.dropbox.com/s/9fkhct7cmvxjtdz/lkExport.dll?dl=0\" rel=\"noreferrer\">Dropbox</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CN81J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CN81J.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "templates", "lambda", "generic-programming"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1507124598, "post_id": 46566436, "comment_id": 80086512, "body": "if you want to follow the stl then your method should take iterators not a container. Concerning the client functions you should show the code instead of describing it in words"}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507124701, "post_id": 46566436, "comment_id": 80086584, "body": "You are correct. I made a mistake while writing this up. The actual code does take an iterator to a custom container."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1507124850, "post_id": 46566436, "comment_id": 80086681, "body": "imho you simplified the code too much. the method does not use its parameter, and its not obvious where <code>queue_element</code> or <code>client_code</code> are coming from"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507125286, "post_id": 46566436, "comment_id": 80086979, "body": "<code>pop</code> returns <code>void</code> and anyhow the <code>queue</code> is empty at that point"}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507125887, "post_id": 46566436, "comment_id": 80087416, "body": "Why would queue be empty? I have only popped one element."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507126284, "post_id": 46566436, "comment_id": 80087690, "body": "it is empty because you just created it one line above and calling <code>pop</code> on an empty queue will do nothing"}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507126374, "post_id": 46566436, "comment_id": 80087756, "body": "In the comments, I am adding a bunch of things from the iterator to the queue."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507127246, "post_id": 46566436, "comment_id": 80088484, "body": "then still <code>Element queue_element = queue.pop();</code> should be <code>Element queue_element = queue.top();</code> or it wont compile. <code>pop</code> returns <code>void</code>"}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507127576, "post_id": 46566436, "comment_id": 80088738, "body": "I forgot the exact syntax of STL queue."}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1508011415, "post_id": 46566436, "comment_id": 80443686, "body": "How is it unclear what I am asking? Two people provided satisfactory answers to the question."}], "answers": [{"comments": [{"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507125997, "post_id": 46566923, "comment_id": 80087495, "body": "Oh Thanks.  did not think of passing a class."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1507126234, "post_id": 46566923, "comment_id": 80087644, "body": "You might want to reorder template parameter to let Container be deduced."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1507126251, "post_id": 46566923, "comment_id": 80087658, "body": "Passing the Traits as parameter would allow to have traits with states."}, {"owner": {"reputation": 329, "user_id": 7547003, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxQdJDNAifI/AAAAAAAAAAI/AAAAAAAAABQ/54b_SY8iHZI/photo.jpg?sz=128", "display_name": "Justin Finnerty", "link": "https://stackoverflow.com/users/7547003/justin-finnerty"}, "edited": false, "score": 0, "creation_date": 1507126618, "post_id": 46566923, "comment_id": 80087945, "body": "Also note that by passing a class like this makes it much easier for the compiler to do function inlining. Passing functions as objects or using virtual functions makes inlining more difficult."}], "tags": [], "owner": {"reputation": 329, "user_id": 7547003, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxQdJDNAifI/AAAAAAAAAAI/AAAAAAAAABQ/54b_SY8iHZI/photo.jpg?sz=128", "display_name": "Justin Finnerty", "link": "https://stackoverflow.com/users/7547003/justin-finnerty"}, "is_accepted": false, "score": 1, "last_activity_date": 1507125841, "creation_date": 1507125841, "answer_id": 46566923, "question_id": 46566436, "link": "https://stackoverflow.com/questions/46566436/best-practice-for-passing-multiple-function-arguments-in-c/46566923#46566923", "title": "Best practice for passing multiple function arguments in C++", "body": "<p>In similar situations to what you describe I have put the client functions into a class/struct and passed the class as either a template argument or as an instance.  (You only need to pass a class object if the functions have shared state from outside the generic function.)</p>\n\n<p>I find putting the functions together in a class also makes it easier to document what the functions are responsible for inside the generic function.</p>\n\n<pre><code>template&lt; class Queue &gt;\nclass a_traits{\npublic:\n   static void client_code1( Queue &amp; );\n   static void client_code2();\n   static void client_code3();\n\n};\ntemplate &lt;class Container, class Queue, class Traits&gt;\nvoid run_generic_algorithm(const Container&amp; container) {\n  Queue queue;\n  Traits::client_code1(queue_element);\n  // Run code modifying queue\n  Traits::client_code2();  \n  // Run code modifying queue\n  Traits::client_code3();    \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507126338, "post_id": 46566942, "comment_id": 80087727, "body": "I am not very familiar with inheritance in C++. Why would they need to be virtual."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507126494, "post_id": 46566942, "comment_id": 80087854, "body": "<code>virtual</code> allows the derived class to <code>override</code> the method of the base class."}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507126559, "post_id": 46566942, "comment_id": 80087907, "body": "Thanks. I understand now."}, {"owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507127624, "post_id": 46566942, "comment_id": 80088785, "body": "Would the new implementation work?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "edited": false, "score": 0, "creation_date": 1507129197, "post_id": 46566942, "comment_id": 80089923, "body": "@Halbort: I fixed some typo in your new implementation and give example usage. It should work."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1507125914, "creation_date": 1507125914, "answer_id": 46566942, "question_id": 46566436, "link": "https://stackoverflow.com/questions/46566436/best-practice-for-passing-multiple-function-arguments-in-c/46566942#46566942", "title": "Best practice for passing multiple function arguments in C++", "body": "<blockquote>\n  <p>there are 5 client functions.</p>\n</blockquote>\n\n<p>You might pass structure instead</p>\n\n<pre><code>template &lt;typename Element&gt;\nstruct Customization {\n    std::function&lt;void(Element)&gt; client_code1;\n    std::function&lt;void(Element)&gt; client_code2;\n    std::function&lt;void(Element)&gt; client_code3;\n    std::function&lt;void(Foo)&gt; client_code4;\n    std::function&lt;void(Bar)&gt; client_code5;\n};\n</code></pre>\n\n<p>or even possibly an interface:</p>\n\n<pre><code>template &lt;typename Element&gt;\nstruct Customization {\n    virtual ~Customization() = default;\n    virtual void client_code1(Element) = 0;\n    virtual void client_code2(Element) = 0;\n    virtual void client_code3(Element) = 0;\n    virtual void client_code4(Foo) = 0;\n    virtual void client_code5(Bar) = 0;\n};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>template&lt;class Range, class Element&gt;\nvoid run_generic_algorithm(Range&amp; r, const Customization &lt;Element&gt;&amp; customization);\n</code></pre>\n\n<blockquote>\n  <p>Most of the time I am not even specifying all the client functions, so I have to put in a lambda function that does nothing.</p>\n</blockquote>\n\n<p>With previous comment, you might give default values to the member of previous structure.</p>\n\n<p>Else you can add default value to argument or create overloads.</p>\n"}], "owner": {"reputation": 642, "user_id": 5071038, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e31e1f9e33d677370764945cb107c552?s=128&d=identicon&r=PG&f=1", "display_name": "Halbort", "link": "https://stackoverflow.com/users/5071038/halbort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "closed_date": 1507315435, "accepted_answer_id": 46566942, "answer_count": 2, "score": 1, "last_activity_date": 1507129130, "creation_date": 1507124448, "last_edit_date": 1507129130, "question_id": 46566436, "link": "https://stackoverflow.com/questions/46566436/best-practice-for-passing-multiple-function-arguments-in-c", "closed_reason": "Needs details or clarity", "title": "Best practice for passing multiple function arguments in C++", "body": "<p>I am wondering what the best practice for passing multiple function arguments in C++ is. I want to follow proper generic design principles as seen in the STL.</p>\n\n<p>I have a generic algorithm function. Using templates, it allows the client to select what data structure will be used for running the algorithm and what container implementation the data will be drawn from. However, in order for it to be reusable, I have selected a number of places where client-designed code should be inserted.</p>\n\n<pre><code>template&lt;class CustomContainerIterator, class Queue, class Element&gt;\nvoid run_generic_algorithm(CustomContainerIterator container,\n                           std::function&lt;void(Element)&gt; client_code1,\n                           std::function&lt;void(Element)&gt; client_code2,\n                           std::function&lt;void(Element)&gt; client_code3)\n{\n    Queue queue;\n    //Push things iterated through onto the queue\n    Element queue_element = queue.top();\n    client_code1(queue_element);\n    // Run code modifying queue\n    client_code2(queue_element);  \n    // Run code modifying queue\n    client_code3(queue_element);    \n}\n</code></pre>\n\n<p>The client_code() functions are specified by the client and may modify the same variables owned by the client. In my code, there are 5 client functions. I originally passed them all as lambda expressions and captured the client variables I wanted to modify. However, this makes for a very verbose function call. </p>\n\n<p>Most of the time I am not even specifying all the client functions, so I have to put in a lambda function that does nothing. Is there a better way, of achieving what I want. I would like to stick to proper generic programming principles?</p>\n\n<hr>\n\n<p>Ok so I have read the answers. Could I combine the ideas like this? Now I don't think I need virtual functions.</p>\n\n<pre><code>template &lt;typename Element&gt;\nstruct Customization {\n    void client_code1(Element) {}\n    void client_code2(Element) {}\n    void client_code3(Element) {}\n    void client_code4(Foo) {}\n    void client_code5(Bar) {}\n};\n\ntemplate &lt;typename Element&gt;\nstruct Implementation : public Customization {\n    Data some_data;\n    void client_code2(Element) {\n        //Fill some_data with information.\n    }\n};\n\ntemplate&lt;class Queue, class CustomContainerIterator, class CustomImplementation&gt;\nvoid run_generic_algorithm(CustomContainerIterator container,\n                           CustomImplementation implementation)\n{\n    Queue queue;\n    //Push things iterated through onto the queue\n    auto queue_element = queue.top();\n\n    implementation.client_code1(queue_element);\n    // Run code modifying queue\n    implementation.client_code2(queue_element);  \n    // Run code modifying queue\n    implementation.client_code3(queue_element);    \n}\n</code></pre>\n\n<p>With usage</p>\n\n<pre><code>std::vector&lt;int&gt; v;\nImplementation &lt;int&gt; custom;\nrun_generic_algorithm&lt;std::queue&lt;int&gt;&gt;(v, custom);\n</code></pre>\n"}, {"tags": ["android", "c++", "opengl-es"], "comments": [{"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1508226204, "post_id": 46566270, "comment_id": 80516170, "body": "I added answer with some more info"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "edited": false, "score": 1, "creation_date": 1507129146, "post_id": 46567616, "comment_id": 80089883, "body": "I made a linear interpolation for the camera rotation <code>xoffset = glm::mix(xoffset, nx,(GLfloat) delta);</code> but didn&#39;t solve the problem, the object itself which is vibrating not the camera and I move it by adding <code>glm::vec3 t(glm::vec3(0, 0, 1) * (velocity * 3.0f));</code> to its direction vector so could I make linear interpolation for that translation vector if yes with what?"}, {"owner": {"reputation": 2059, "user_id": 1138311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67def91a371d970532624092bc75f6ec?s=128&d=identicon&r=PG", "display_name": "KimKulling", "link": "https://stackoverflow.com/users/1138311/kimkulling"}, "reply_to_user": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "edited": false, "score": 1, "creation_date": 1507129293, "post_id": 46567616, "comment_id": 80089990, "body": "From old position to new position I guess."}, {"owner": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "edited": false, "score": 1, "creation_date": 1507130319, "post_id": 46567616, "comment_id": 80090667, "body": "I changed the code to the following  <code>glm::vec3 opos = getPosition(); \t\tglm::vec3 t(glm::vec3(0, 0, 1) * (velocity * 3.0f)); \t\tglm::mat4 nmat(matrix); \t\tnmat = glm::translate(matrix, t); \t\tglm::vec3 npos(nmat[3]); \t\tglm::vec3 ipos = glm::mix(npos, opos, (GLfloat) delta); \t\tmatrix[3] = glm::vec4(ipos, 1.0f); \t\tglm::vec3 f(matrix[2][0], matrix[2][1], matrix[2][2]); \t\tf = -glm::normalize(f) * (velocity * 3.0f); \t\tcamera-&gt;translate(f);</code> I get the old position and apply the translation to a temporary matrix then get the position and make interpolation using glm::mix but not solved"}, {"owner": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "edited": false, "score": 1, "creation_date": 1508155376, "post_id": 46567616, "comment_id": 80484904, "body": "the problem was in the shader precision was medium when I set it to high the vibration hidden, with interpolation the result become very good, thank you"}], "tags": [], "owner": {"reputation": 2059, "user_id": 1138311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67def91a371d970532624092bc75f6ec?s=128&d=identicon&r=PG", "display_name": "KimKulling", "link": "https://stackoverflow.com/users/1138311/kimkulling"}, "is_accepted": false, "score": 3, "last_activity_date": 1507127771, "creation_date": 1507127771, "answer_id": 46567616, "question_id": 46566270, "link": "https://stackoverflow.com/questions/46566270/opengl-object-vibrate-after-moving-a-distance/46567616#46567616", "title": "opengl object vibrate after moving a distance", "body": "<p>This sounds like a numerical effect to me. Even small offsets coming from your game object will influence the rotation of the following camera with small movements / rotations and it looks like a vibrating object / camera. </p>\n\n<p>So what you can do is:</p>\n\n<ul>\n<li>Check if the movement above a threshold value before calculating a new rotation for your camera</li>\n<li>When you are above this threshold: do a linear interpolation between the old and the new rotation using the lerp-algorithm for the quaternion ( see this unity answer to get a better understanding how your code can look like: <a href=\"http://answers.unity3d.com/questions/643141/how-can-i-lerp-an-objects-rotation.html\" rel=\"nofollow noreferrer\">Unity lerp discussion</a> )</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "edited": false, "score": 2, "creation_date": 1508229108, "post_id": 46784974, "comment_id": 80517795, "body": "yes it was Big Numbers problem but using high precision in <code>GLSL</code> solved the problem"}], "tags": [], "owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "is_accepted": true, "score": 3, "last_activity_date": 1508226125, "creation_date": 1508226125, "answer_id": 46784974, "question_id": 46566270, "link": "https://stackoverflow.com/questions/46566270/opengl-object-vibrate-after-moving-a-distance/46784974#46784974", "title": "opengl object vibrate after moving a distance", "body": "<ol>\n<li><p><strong><code>float</code> is sometimes not enough.</strong></p>\n\n<p>I use <code>double</code> precision matrices on <strong>CPU</strong> side to avoid such problems. But as you are on <strong>Android</strong> it might not be possible. For <strong>GPU</strong> use <code>float</code>s again as there are no 64bit interpolators yet.</p></li>\n<li><p><strong>Big numbers are usually the problem</strong></p>\n\n<p>If your world is big then you are passing big numbers into the equations multiplying any errors and only at the final stage the stuff is translated relative to camera position meaning the errors stay multiplied but the numbers got clamped so error/data ratio got big.</p>\n\n<p>To lower this problem before rendering convert all vertexes to coordinate system with origin at or near your camera. You can ignore rotations just offset the positions.</p>\n\n<p>This way you will got higher errors only far away from camera which is with perspective not visible anyway... For more info see:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/25470493/2521214\">ray and ellipsoid intersection accuracy improvement</a></li>\n</ul></li>\n<li><p><strong>Use cumulative transform matrix instead of Euler angles</strong></p>\n\n<p>for more info see <a href=\"https://stackoverflow.com/a/28084380/2521214\">Understanding 4x4 homogenous transform matrices</a> and all the links at bottom of that answer.</p></li>\n</ol>\n"}], "owner": {"reputation": 431, "user_id": 8618223, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cPGJ5.jpg?s=128&g=1", "display_name": "Mohamed Mousa El-Kheshen", "link": "https://stackoverflow.com/users/8618223/mohamed-mousa-el-kheshen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 1, "accepted_answer_id": 46784974, "answer_count": 2, "score": 5, "last_activity_date": 1508226125, "creation_date": 1507123952, "last_edit_date": 1507125125, "question_id": 46566270, "link": "https://stackoverflow.com/questions/46566270/opengl-object-vibrate-after-moving-a-distance", "title": "opengl object vibrate after moving a distance", "body": "<p>I have an object which moves on a terrain and a third person camera follow it, after I move it for some distance in different directions it begin to shaking or vibrating even if it is not moving and the camera rotates around it, this is the moving code of the object</p>\n\n<pre><code>double&amp; delta = engine.getDeltaTime();\nGLfloat velocity = delta * movementSpeed;\nglm::vec3 t(glm::vec3(0, 0, 1) * (velocity * 3.0f));\n//translate the objet atri before rendering\nmatrix = glm::translate(matrix, t);\n//get the forward vetor of the matrix\nglm::vec3 f(matrix[2][0], matrix[2][1], matrix[2][2]);\nf = glm::normalize(f);\nf = f * (velocity * 3.0f);\nf = -f;\ncamera.translate(f);\n</code></pre>\n\n<p>and the camera rotation is </p>\n\n<pre><code>void Camera::rotate(GLfloat xoffset, GLfloat yoffset, glm::vec3&amp; c, double&amp; delta, GLboolean constrainpitch) {\n    xoffset *= (delta * this-&gt;rotSpeed);\n    yoffset *= (delta * this-&gt;rotSpeed);\n    pitch += yoffset;\n    yaw += xoffset;\n    if (constrainpitch) {\n        if (pitch &gt;= maxPitch) {\n            pitch = maxPitch;\n            yoffset = 0;\n        }\n        if (pitch &lt;= minPitch) {\n            pitch = minPitch;\n            yoffset = 0;\n        }\n    }\n    glm::quat Qx(glm::angleAxis(glm::radians(yoffset), glm::vec3(1.0f, 0.0f, 0.0f)));\n    glm::quat Qy(glm::angleAxis(glm::radians(xoffset), glm::vec3(0.0f, 1.0f, 0.0f)));\n    glm::mat4 rotX = glm::mat4_cast(Qx);\n    glm::mat4 rotY = glm::mat4_cast(Qy);\n    view = glm::translate(view, c);\n    view = rotX * view;\n    view = view * rotY;\n    view = glm::translate(view, -c);\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "ffmpeg"], "comments": [{"owner": {"reputation": 62488, "user_id": 45249, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81039d357ce18bee9dd8fac6c1c56290?s=128&d=identicon&r=PG", "display_name": "mouviciel", "link": "https://stackoverflow.com/users/45249/mouviciel"}, "edited": false, "score": 0, "creation_date": 1507123579, "post_id": 46565994, "comment_id": 80085769, "body": "Some answers here: <a href=\"https://stackoverflow.com/q/450865/45249\">What is the equivalent to Posix popen() in the Win32 API?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "is_accepted": false, "score": 1, "last_activity_date": 1507124500, "creation_date": 1507124500, "answer_id": 46566457, "question_id": 46565994, "link": "https://stackoverflow.com/questions/46565994/calling-ffmpeg-from-a-c-program/46566457#46566457", "title": "Calling ffmpeg from a C++ program", "body": "<ol>\n<li>The same way you would launch any other external program using C++ program.</li>\n<li>Yes. Enumerate the videos you need, parse accordingly.</li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 1430954, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e5e264e3a33f97c1e3e77871fcf5aaa0?s=128&d=identicon&r=PG", "display_name": "kkStep", "link": "https://stackoverflow.com/users/1430954/kkstep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507124500, "creation_date": 1507123233, "question_id": 46565994, "link": "https://stackoverflow.com/questions/46565994/calling-ffmpeg-from-a-c-program", "title": "Calling ffmpeg from a C++ program", "body": "<p>I have seen a similar question here <a href=\"https://stackoverflow.com/questions/21263064/how-to-wrap-h264-into-a-mp4-container\">How to wrap H264 into a mp4 container?</a> and <a href=\"https://stackoverflow.com/questions/499293/calling-a-c-function-from-a-c-program\">Calling a C++ function from a C program</a> but i still need some examples to understand.</p>\n\n<ol>\n<li><p>How can ffmpeg command line be launched from  a c++ program to for instance convert a video?</p></li>\n<li><p>Is it possible to use it in a loop for instance where there are a couple of videos in a directory which need to be converted?</p></li>\n</ol>\n\n<p>I intend converting raw videos in a folder to mp4 but i want to do so using the command line.Relevant link or sample code will be most helpful.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c++", "c", "automated-tests", "parasoft"], "answers": [{"tags": [], "owner": {"reputation": 918, "user_id": 3981605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7da93ff376d785f85679880c6ffd5fc2?s=128&d=identicon&r=PG&f=1", "display_name": "eran meiri", "link": "https://stackoverflow.com/users/3981605/eran-meiri"}, "is_accepted": false, "score": 0, "last_activity_date": 1508243971, "creation_date": 1508243971, "answer_id": 46790364, "question_id": 46565700, "link": "https://stackoverflow.com/questions/46565700/how-to-set-compiler-path-in-parasoft-cpptestcli/46790364#46790364", "title": "How to set compiler path in parasoft cpptestcli?", "body": "<p>there is a flag named compiler:</p>\n\n<p>-compiler gcc_4_7</p>\n\n<p>add it and it will use the proper compiler</p>\n"}, {"comments": [{"owner": {"reputation": 2436, "user_id": 6900838, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-vT_oqxXXH9o/AAAAAAAAAAI/AAAAAAAAAIU/0d4XZ9GEmb8/photo.jpg?sz=128", "display_name": "Alperen", "link": "https://stackoverflow.com/users/6900838/alperen"}, "edited": false, "score": 0, "creation_date": 1540540085, "post_id": 53002964, "comment_id": 92911738, "body": "Thanks for the answer but I cannot reach the project environment now. I was working on it when I was intern. So, I cannot confirm or reject your answer now. As far as I remember, I couldn&#39;t use the <code>-compiler</code> flag. Parasoft version was very old. I had some other problems and needed <a href=\"https://stackoverflow.com/a/46275670/6900838\">some old commands or stuff</a> to solve them. I am just writing this down in case of somebody else has the same problem."}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "reply_to_user": {"reputation": 2436, "user_id": 6900838, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-vT_oqxXXH9o/AAAAAAAAAAI/AAAAAAAAAIU/0d4XZ9GEmb8/photo.jpg?sz=128", "display_name": "Alperen", "link": "https://stackoverflow.com/users/6900838/alperen"}, "edited": false, "score": 0, "creation_date": 1540540403, "post_id": 53002964, "comment_id": 92911902, "body": "I have cpptest 10.4 (current version) at hand. By the way, you can also find the identifiers on <a href=\"https://docs.parasoft.com/display/CPPTEST1033/Supported+Compilers\" rel=\"nofollow noreferrer\">docs.parasoft.com/display/CPPTEST1033/Supported+Compilers</a>"}], "tags": [], "owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "is_accepted": false, "score": 0, "last_activity_date": 1540536433, "creation_date": 1540536433, "answer_id": 53002964, "question_id": 46565700, "link": "https://stackoverflow.com/questions/46565700/how-to-set-compiler-path-in-parasoft-cpptestcli/53002964#53002964", "title": "How to set compiler path in parasoft cpptestcli?", "body": "<p>First fo all, use <code>cpptestcli -list-compilers</code> in order to list the supported compilers. Next, use the appropriate <code>COMPILER ID</code> from the list in <code>-compiler &lt;COMPILER ID&gt;</code>, e.g.</p>\n\n<pre><code>cpptestcli -compiler gcc_7-64 \u2026\n</code></pre>\n"}], "owner": {"reputation": 2436, "user_id": 6900838, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-vT_oqxXXH9o/AAAAAAAAAAI/AAAAAAAAAIU/0d4XZ9GEmb8/photo.jpg?sz=128", "display_name": "Alperen", "link": "https://stackoverflow.com/users/6900838/alperen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1540536433, "creation_date": 1507122426, "question_id": 46565700, "link": "https://stackoverflow.com/questions/46565700/how-to-set-compiler-path-in-parasoft-cpptestcli", "title": "How to set compiler path in parasoft cpptestcli?", "body": "<p>I'm using Parasoft C++test 9.0.\nI've used \"cpptestscan.exe\" to create build data file(bdf), then I want to run my ruleset with \"cpptestcli.exe\".\nWhen I use \"New Project -> C++ Test -> Create project from a build data file\" in Parasoft IDE(Eclipse based), it allows me to configure compiler setting(family, c compiler, c++ compiler and linker), and it works in IDE. But, when I create project with:</p>\n\n<pre><code>cpptestcli -bdf \"%BDF_PATH%\\cpptestscan.bdf\" -data \"%REPO_PATH%\"\n</code></pre>\n\n<p>It creates \".metadata\" and \"Source(project name)\" folders, and creates \".project\", \".project\", \".project\" files in Source folder. Then, if I try to run test with:</p>\n\n<pre><code>cpptestcli -data \"%REPO_PATH%\" -config \"%REPO_PATH%\\ruleset.properties\" -import \"%REPO_PATH%\\Source\\.project\" -showdetails -nobuild -report \"%REPORT_PATH%\\Report.html\"\n</code></pre>\n\n<p>Because it doesn't use the proper compiler, it gives this error:</p>\n\n<blockquote>\n  <p>Failed checking foo.c - Coding Standards checker: error during parsing\n  file.</p>\n</blockquote>\n\n<p>How can I tell cpptestcli.exe to use proper compiler? I can't find any option in its help document. Or is any other way to fix this problem?</p>\n"}, {"tags": ["c++", "c", "openldap"], "comments": [{"owner": {"reputation": 31, "user_id": 5775301, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pZVDKWGOSnc/AAAAAAAAAAI/AAAAAAAAABE/s62k6q61AWE/photo.jpg?sz=128", "display_name": "ghitea cosmin", "link": "https://stackoverflow.com/users/5775301/ghitea-cosmin"}, "reply_to_user": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1507177673, "post_id": 46565648, "comment_id": 80108651, "body": "Ok sorry for that."}], "owner": {"reputation": 31, "user_id": 5775301, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pZVDKWGOSnc/AAAAAAAAAAI/AAAAAAAAABE/s62k6q61AWE/photo.jpg?sz=128", "display_name": "ghitea cosmin", "link": "https://stackoverflow.com/users/5775301/ghitea-cosmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507122683, "creation_date": 1507122267, "last_edit_date": 1507122683, "question_id": 46565648, "link": "https://stackoverflow.com/questions/46565648/how-to-get-the-entrycsn-when-using-the-ldap-exop-modify-passwd", "title": "How to get the entryCSN when using the LDAP_EXOP_MODIFY_PASSWD", "body": "<p>What I want is to use ldap_passwd function from OpenLdap to change the password and to make a request with the post read control that should response with the attribute I requested on the control.\nThe problem is I don't receive any data from the request control just the password is change.\nThe same comportment is when I use the ldappasswd functionality.\nHere is my command:<br><br></p>\n\n<pre><code>$ ldappasswd -H ldap://localhost:389 -x -D \"cn=admin,dc=example,dc=com\" -w secret -epostread=entryCSN -a secret -s secret -ZZ\n</code></pre>\n\n<p>The question is why I don't receive any data from the server?</p>\n"}, {"tags": ["c++", "templates", "c++14", "type-deduction", "template-templates"], "answers": [{"tags": [], "owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "is_accepted": true, "score": 4, "last_activity_date": 1507122556, "last_edit_date": 1507122556, "creation_date": 1507122188, "answer_id": 46565616, "question_id": 46565515, "link": "https://stackoverflow.com/questions/46565515/deduce-template-parameter-of-class/46565616#46565616", "title": "Deduce template parameter of class", "body": "<ul>\n<li><p>you haven't declared <code>T</code>. It needs to be a template parameter.</p></li>\n<li><p>drop the <code>T</code> in the <code>template &lt;class T&gt; class GENERAL_t</code></p></li>\n<li><p><code>GENERAL_t</code> is a template template and as such requires a template parameter.</p></li>\n<li><p>please don't use ALL_CAPS for anything except macros</p></li>\n</ul>\n\n<p>This is the working code:</p>\n\n<pre><code>template&lt;class T, template &lt;class&gt; class General_t, \n          class = std::enable_if_t&lt; std::is_same&lt;T,int&gt;::value &gt;\n        &gt;\nvoid foo(General_t&lt;T&gt; a)\n{}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1507124867, "creation_date": 1507124867, "answer_id": 46566585, "question_id": 46565515, "link": "https://stackoverflow.com/questions/46565515/deduce-template-parameter-of-class/46566585#46566585", "title": "Deduce template parameter of class", "body": "<p><a href=\"https://stackoverflow.com/a/46565616/2069064\">bolov's answer</a> is correct in all respects.</p>\n\n<p>But in this case, you don't need the SFINAE on <code>is_same</code>. You can just template on the template-template:</p>\n\n<pre><code>template &lt;template &lt;class&gt; class General&gt;\nvoid foo(General&lt;int&gt; ) { }\n</code></pre>\n"}], "owner": {"reputation": 2091, "user_id": 7006673, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f6993a5041a63d1922494d0dab74a048?s=128&d=identicon&r=PG&f=1", "display_name": "abraham_hilbert", "link": "https://stackoverflow.com/users/7006673/abraham-hilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 46565616, "answer_count": 2, "score": 0, "last_activity_date": 1507124867, "creation_date": 1507121923, "last_edit_date": 1507124763, "question_id": 46565515, "link": "https://stackoverflow.com/questions/46565515/deduce-template-parameter-of-class", "title": "Deduce template parameter of class", "body": "<p>Can someone please help me to understand why the following code does not compile:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\ntemplate&lt; typename T &gt;\nclass A\n{};\n\ntemplate&lt; typename T &gt;\nclass B\n{};\n\ntemplate&lt; template &lt;typename T&gt; class GENERAL_t,  // Note: GENERAL_t is either A&lt;T&gt; or B&lt;T&gt;\n          typename = std::enable_if_t&lt; std::is_same&lt;T,int&gt;::value &gt;\n        &gt;\nvoid foo( GENERAL_t a )\n{}\n</code></pre>\n\n<p>error message:</p>\n\n<pre><code>t.cpp:67:57: error: use of undeclared identifier 'T'\n              typename = std::enable_if_t&lt; std::is_same&lt;T,int&gt;::value &gt;\n                                                        ^\nt.cpp:67:65: error: no type named 'value' in the global namespace\n              typename = std::enable_if_t&lt; std::is_same&lt;T,int&gt;::value &gt;\n                                                              ~~^\nt.cpp:69:15: error: use of class template 'GENERAL_t' requires template arguments\n    void foo( GENERAL_t a )\n              ^\nt.cpp:66:43: note: template is declared here\n    template&lt; template &lt;typename T&gt; class GENERAL_t,  // Note: GENERAL_t is either A&lt;T&gt; or B&lt;T&gt;\n              ~~~~~~~~~~~~~~~~~~~~~       ^\n3 errors generated.\n</code></pre>\n\n<p>Here, <code>foo</code> should take instances of <code>class A</code> or <code>class B</code> but only when the template argument <code>T</code> of <code>A</code> or <code>B</code> is an <code>int</code>.</p>\n"}, {"tags": ["c++", "c++11", "reference"], "comments": [{"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 2, "creation_date": 1507121737, "post_id": 46565424, "comment_id": 80084378, "body": "What is the question? Please take <a href=\"https://stackoverflow.com/tour\">the tour</a> and read <a href=\"https://stackoverflow.com/help\">the help page</a>. Welcome to SO."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 1, "creation_date": 1507121897, "post_id": 46565424, "comment_id": 80084496, "body": "Variable names are case sensitive. <code>Balance</code> is not <code>balance</code>. In your program, <code>Balance</code> is uninitialized when you pass it to your function, and it&#39;s never changed inside the function, so its value could be anything. You also don&#39;t pass it from your pin function to the menu, so there&#39;s no way any change could be made to the variable declared in main."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1507121964, "post_id": 46565424, "comment_id": 80084544, "body": "What is the value of <code>balance</code> each time? And Where do you want to increment it?"}, {"owner": {"reputation": 17209, "user_id": 1055118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/44Trt.jpg?s=128&g=1", "display_name": "doctorlove", "link": "https://stackoverflow.com/users/1055118/doctorlove"}, "edited": false, "score": 0, "creation_date": 1507122012, "post_id": 46565424, "comment_id": 80084582, "body": "Try changing <code>double balance = 1000;</code> to <code>Balance = 1000;</code>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507122119, "post_id": 46565424, "comment_id": 80084657, "body": "afaik a variable can only be initalized once after that it can only be assigned to but not &quot;reinitialized&quot;"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1507122129, "post_id": 46565424, "comment_id": 80084666, "body": "so just remove <code>double balance = 1000;</code> and write directly: <code>Balance = 1000</code>. Remember that C++ is case sensitive so <code>Balance</code> is not <code>balance</code>."}, {"owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "edited": false, "score": 0, "creation_date": 1507122251, "post_id": 46565424, "comment_id": 80084754, "body": "If the <code>pin</code> is determined to be correct, you are calling <code>menu</code> instead of returning to go back to the function that called <code>pin</code>. Therefore, any operations after calling <code>pin</code> never get done, such as <code>Balance = Balance + deposit</code> to add to the balance."}, {"owner": {"reputation": 13, "user_id": 8720136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-9HKvJrtv1D4/AAAAAAAAAAI/AAAAAAAAAJs/sHSdsx5zx48/photo.jpg?sz=128", "display_name": "Rage Games", "link": "https://stackoverflow.com/users/8720136/rage-games"}, "edited": false, "score": 0, "creation_date": 1507122432, "post_id": 46565424, "comment_id": 80084868, "body": "Mark, could you elaborate on that, since the menu does get called and it goes to the other functions such as deposit and withdraw."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507122560, "post_id": 46565424, "comment_id": 80084986, "body": "You don&#39;t pass a variable to menu, so how could anything in menu change that variable? Since you tagged this C++, have you considered a class to store your data and allow member functions to modify it? What you&#39;re creating here is a recursive spaghetti mess."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507122562, "post_id": 46565424, "comment_id": 80084987, "body": "<code>Balance = 1000.0;</code> will reset the value of the variable given to <code>void balance(double&amp;)</code> to 1000 each time it&#39;s called. It seems you are under the impression the function binds the argument it&#39;s given to some object with an initial state of 1000. This is not how c++ works. <code>double &amp; Balance</code> will simply refer to the variable given as arguments to the function and set that variable to 1000."}, {"owner": {"reputation": 13, "user_id": 8720136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-9HKvJrtv1D4/AAAAAAAAAAI/AAAAAAAAAJs/sHSdsx5zx48/photo.jpg?sz=128", "display_name": "Rage Games", "link": "https://stackoverflow.com/users/8720136/rage-games"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507122815, "post_id": 46565424, "comment_id": 80085184, "body": "Francois I have just reached that conclusion how would be the best way to change that. Also @RetiredNinja know how to use classes however the exercise has to be done in one file, which is really annoying it also has to be in the procedural paradigm as well."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1507123005, "post_id": 46565424, "comment_id": 80085338, "body": "@RageGames you can use as many classes as you want in one file. But what you really need to do is pass the state (balance in this case) around to the functions that need to read or modify it. The balance should be defined in <i>one</i> place, not once in each function."}, {"owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "edited": false, "score": 0, "creation_date": 1507123218, "post_id": 46565424, "comment_id": 80085498, "body": "@RageGames You edited your code and now only call <code>pin</code> once, so the issue is no longer present."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507123486, "post_id": 46565424, "comment_id": 80085692, "body": "Procedural doesn&#39;t mean infinitely recursive. Have each function do its work and return the data necessary, either by return value or reference, but return to the menu and then call another function. Get rid of the recursiveness."}, {"owner": {"reputation": 13, "user_id": 8720136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-9HKvJrtv1D4/AAAAAAAAAAI/AAAAAAAAAJs/sHSdsx5zx48/photo.jpg?sz=128", "display_name": "Rage Games", "link": "https://stackoverflow.com/users/8720136/rage-games"}, "reply_to_user": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "edited": false, "score": 0, "creation_date": 1507123508, "post_id": 46565424, "comment_id": 80085714, "body": "@Mark I have fixed part of the issue however, now I&#39;m struggling with getting the value to stay the same I what I should do but not how I do it. I need to get my balance to change when I withdraw or deposit"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8720136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-9HKvJrtv1D4/AAAAAAAAAAI/AAAAAAAAAJs/sHSdsx5zx48/photo.jpg?sz=128", "display_name": "Rage Games", "link": "https://stackoverflow.com/users/8720136/rage-games"}, "edited": false, "score": 0, "creation_date": 1507123724, "post_id": 46565997, "comment_id": 80085864, "body": "yes making it global would work but I&#39;ve been told not too use it for this task."}], "tags": [], "owner": {"reputation": 1, "user_id": 8677297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb7f5a47feb314dc9b6ad352bf2fe75?s=128&d=identicon&r=PG&f=1", "display_name": "Cross", "link": "https://stackoverflow.com/users/8677297/cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1507202531, "last_edit_date": 1507202531, "creation_date": 1507123244, "answer_id": 46565997, "question_id": 46565424, "link": "https://stackoverflow.com/questions/46565424/error-how-could-i-fix-this-issue-with-parameter-passing/46565997#46565997", "title": "ERROR: How could i fix this issue with parameter passing?", "body": "<p>Problem is, you define Balance as a local variable. It means it's not valid outside of function body => it's destroyed.</p>\n\n<p>Simplest solution - if acceptable, and if i understand your problem correctly - is that you make it global (and of course remove local definitions).</p>\n\n<p><strong>Global not a possibility:</strong></p>\n\n<p>Then you need to pass Balance to every func by reference. \nFirst example of function defition:</p>\n\n<pre><code>void pin(double&amp; Balance){ .... }\n</code></pre>\n\n<p>Call it like:</p>\n\n<pre><code>int main()\n{\n   double Balance;\n   ...\n   pin(Balance);\n   ...\n}\n</code></pre>\n\n<p>From pin you call menu, so you must do the same for menu():</p>\n\n<pre><code>void menu(double&amp; Balance) { ... }\n</code></pre>\n\n<p>And modify every function you call from menu the same way.</p>\n\n<p><strong>Next</strong> Remove all local definitions of</p>\n\n<pre><code>double Balance;\n</code></pre>\n\n<p>!!BUT!! - leave it only in main()</p>\n"}, {"comments": [{"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507164193, "post_id": 46566664, "comment_id": 80105769, "body": "The break statements in the switch are necessary and do not break the outer loop, only the switch. <a href=\"https://ideone.com/Pql1u5\" rel=\"nofollow noreferrer\">ideone.com/Pql1u5</a>"}, {"owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507175277, "post_id": 46566664, "comment_id": 80108088, "body": "Yeah, I don&#39;t know what I was thinking last night - removed that point."}], "tags": [], "owner": {"reputation": 1133, "user_id": 5717792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9202e38570333e9b5b1722042e552e6?s=128&d=identicon&r=PG&f=1", "display_name": "bgfvdu3w", "link": "https://stackoverflow.com/users/5717792/bgfvdu3w"}, "is_accepted": false, "score": 0, "last_activity_date": 1507175147, "last_edit_date": 1507175147, "creation_date": 1507125113, "answer_id": 46566664, "question_id": 46565424, "link": "https://stackoverflow.com/questions/46565424/error-how-could-i-fix-this-issue-with-parameter-passing/46566664#46566664", "title": "ERROR: How could i fix this issue with parameter passing?", "body": "<p>You have several major flaws in your code:</p>\n\n<ul>\n<li><p>You should not call <code>menu()</code> at the end of every function - this causes recursion. Just <code>return</code> from the functions and the <code>do while</code> loop will continue to iterate.</p></li>\n<li><p>Your loop in <code>menu</code> has the wrong condition. You can do <code>while(true)</code> and <code>return</code> on <code>case 6</code> or you can do <code>while (choice != 6)</code>. You do not need to do <code>exit(EXIT_FAILURE)</code> there. This way, it will return control to <code>main</code> and exit the program properly.</p></li>\n<li><p>Do not declare <code>Balance</code> locally in functions. Declare it only once (<code>menu</code> looks like a good place) and pass it as a reference to every function that needs it.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "is_accepted": true, "score": 0, "last_activity_date": 1507126211, "creation_date": 1507126211, "answer_id": 46567054, "question_id": 46565424, "link": "https://stackoverflow.com/questions/46565424/error-how-could-i-fix-this-issue-with-parameter-passing/46567054#46567054", "title": "ERROR: How could i fix this issue with parameter passing?", "body": "<p>You need some correction here. First of all you are using local variable which are local to your function and once control return from the function, this local variable values will no longer available. First learn about global variable and local variable. Better you should use a structure like </p>\n\n<pre><code>          customer{\n                      char customerName[200];\n                  double balance = 0;\n                  };\n</code></pre>\n\n<p>If you don\u2019t know about structure declaration and use it better learn it first.</p>\n\n<p>I am just modifying your code to fix it temporarily.</p>\n\n<pre><code> double Balance = 1000.00; \n int main()\n {\n }\n //declare Balance as global variable just above your main function.\n\n //modify your balance method like below\n void balance(double &amp; balance)\n {\n    balance = Balance;\n }\n\nvoid deposit()\n{\n    double deposit;\n    //double balance;//this is your local variable\n    cout &lt;&lt; \"How much you like to deposit: \";\n    cin &gt;&gt; deposit;\n    //balance(balance);\n    //Balance = balance + deposit; \n    //here in above Balance is your global variable   \n    //better use a setBalance() method like below\n    setBalance(deposit);\n    menu();\n}\n\nvoid setBalance(double deposit)\n{\n    Balance = Balance + balance;\n}\n//This is your new method\n</code></pre>\n\n<p>This will fix your issue. But still it is not even upto the mark. Regarding storing the value in the file just learn how to create and read/write file in C++ or C. First try by yourself. If you face any trouble we can help you on that.</p>\n\n<p>GOOD LUCK!</p>\n"}], "owner": {"reputation": 13, "user_id": 8720136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-9HKvJrtv1D4/AAAAAAAAAAI/AAAAAAAAAJs/sHSdsx5zx48/photo.jpg?sz=128", "display_name": "Rage Games", "link": "https://stackoverflow.com/users/8720136/rage-games"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 46567054, "answer_count": 3, "score": -4, "last_activity_date": 1525368786, "creation_date": 1507121664, "last_edit_date": 1525368786, "question_id": 46565424, "link": "https://stackoverflow.com/questions/46565424/error-how-could-i-fix-this-issue-with-parameter-passing", "title": "ERROR: How could i fix this issue with parameter passing?", "body": "<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing std::cout;\nusing std::cin;\nusing std::endl;\nusing std::exit;\nusing std::string;\n\nvoid pin(double &amp;Balance);\nvoid menu(double &amp;Balance);\nvoid helpMenu();\nvoid withdraw(double &amp;Balance);\nvoid deposit(double &amp;Balance);\nvoid overdraft(double &amp;Balance);\nvoid overdraftMenu(double &amp;Balance);\nvoid viewBalance(double &amp;Balance);\nvoid BuisnessOverdraft(double &amp;Balance);\nvoid OverFiveOverdraft(double &amp;Balance);\nvoid UnderFiveOverdraft(double &amp;Balance);\n\n\nint main()\n{   \n    double Balance;\n    pin(Balance);\n    return 0;\n}\n\nvoid pin(double &amp;Balance)\n{\n    int AccountPin = 8376;\n    int AttemptNum = 0;\n    int Pin;\n\n    do\n    {\n        cout &lt;&lt; \"Enter your pin: \";\n        cin &gt;&gt; Pin;\n        if (Pin == AccountPin)\n        {\n            menu(Balance);\n        } \n        else\n        {\n            cout &lt;&lt; \"Wrong pin, please try again.\" &lt;&lt; endl;\n            AttemptNum++;\n        }\n    } while (AttemptNum &lt; 3);\n    cout &lt;&lt; \"You have used all of your attempts, you can no longer attempt with this card\" &lt;&lt; endl;\n    return;\n}\n\nvoid menu(double &amp;Balance)\n{\n    int choice;\n\n    do {\n        cout &lt;&lt; \"Please choose from these options:\\n1: Withdraw\\n2: Deposit\\n3: View balance\\n4: Apply for an Overdraft\\n5: Help menu\\n6: Exit\\nPlease choose between 1 and 6: \";\n        cin &gt;&gt; choice;\n\n        switch (choice)\n        {\n        case 1:\n            withdraw(Balance);\n            break;\n        case 2:\n            deposit(Balance);\n            break;\n        case 3:\n            viewBalance(Balance);\n            break;\n        case 4:\n            overdraftMenu(Balance);\n            break;\n        case 5:\n            helpMenu();\n            break;\n        case 6:\n            exit(EXIT_FAILURE);\n            break;\n        default:\n            cout &lt;&lt; \"Please try again\" &lt;&lt; endl;\n            break;\n        }\n    } while (choice &lt; 0 || choice &gt; 6);\n}\n\nvoid helpMenu()\n{\n    cout &lt;&lt; endl &lt;&lt; \"When prompted by the interface please input a number between the numbers it says.\\nYou cannot withdraw more than \u00a3200\\nIf you have nothing left in your account you can apply for a overdraft\" &lt;&lt; endl &lt;&lt; endl;\n    return;\n}\n\nvoid withdraw(double &amp;Balance)\n{   \n    double withdraw;\n    cout &lt;&lt; \"How much would you like to withdraw: \";\n    cin &gt;&gt; withdraw;\n    menu(Balance);\n    Balance = Balance - withdraw;\n    if (Balance &lt; 0) {\n        cout &lt;&lt; \"You need to apply for an overdraft\" &lt;&lt; endl;\n        Balance =- withdraw;\n    }\n    return;\n}\n\nvoid deposit(double &amp;Balance)\n{\n    double deposit;\n    cout &lt;&lt; \"How much you like to deposit: \";\n    cin &gt;&gt; deposit;\n    menu(Balance);\n    Balance =+ deposit;\n    return;\n}\n\nvoid viewBalance(double &amp;Balance)\n{\n    menu(Balance);\n    double balance = Balance;\n    cout &lt;&lt; \"You have \" &lt;&lt; char(156) &lt;&lt; balance &lt;&lt;  \" in your bank account\" &lt;&lt; endl;\n    return;\n}\nvoid overdraftMenu(double &amp;Balance)\n{\n    char choice;\n    do {\n        cout &lt;&lt; \"Would you like to apply for a overdraft, yes or no? \";\n        cin &gt;&gt; choice;\n        tolower(choice);\n        if (choice == 'y') {\n            overdraft(Balance);\n        }\n        else if (choice == 'n') {\n            return;\n        }\n        else cout &lt;&lt; \"Please try again\";\n    } while (choice != 'y' || choice != 'n');\n}\n\nvoid overdraft(double &amp;Balance)\n{\n    int choice;\n    do {\n        cout &lt;&lt; \"Are you:\\n1: A buisness owner\\n2: A customer of over 5 years\\n3: A customer of under 5 years\\nPlease enter a number between 1 and 3\";\n        cin &gt;&gt; choice;\n        switch (choice)\n        {\n        case 1:\n            BuisnessOverdraft(Balance);\n            break;\n        case 2:\n            OverFiveOverdraft(Balance);\n            break;\n        case 3:\n            UnderFiveOverdraft(Balance);\n            break;\n\n        default:\n            cout &lt;&lt; \"Input a correct value\\nPlease try again\";\n            break;\n        }\n    } while (choice &lt; 1 || choice &gt; 3);\n}\n\n\nvoid BuisnessOverdraft(double &amp;Balance)\n{\n}\n\nvoid OverFiveOverdraft(double &amp;Balance)\n{\n}\n\nvoid UnderFiveOverdraft(double &amp;Balance)\n{\n}\n</code></pre>\n\n<p>I am creating a ATM program for school work and I need to use parameter passing to get the balance value and deposit, withdraw and apply for overdraft. however when I run the code and then deposit the balance doesn't increase. I also need to add a system for saving a users details like name, and account details this will need to be saved to a text file.</p>\n"}, {"tags": ["c++", "wxwidgets"], "comments": [{"owner": {"reputation": 150, "user_id": 1625014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e74e3c13b932e7d1290e8458c28d5a1?s=128&d=identicon&r=PG", "display_name": "rostamn739", "link": "https://stackoverflow.com/users/1625014/rostamn739"}, "edited": false, "score": 0, "creation_date": 1507122676, "post_id": 46565386, "comment_id": 80085081, "body": "WxGrid class implements its own scrolling. You can use it as example"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 1, "creation_date": 1507123933, "post_id": 46565386, "comment_id": 80086019, "body": "@Elmi, wxListBox is a native Windows control. You can&#39;t change it L&amp;F. wxGrid is using native ScrolBar control which also won&#39;t be changed. Most likely you selection of the toolkit is wrong, or you should look at implementing the scrollbar and scrolling yourself."}], "owner": {"reputation": 5191, "user_id": 1138160, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/76ba5bd954a4f842d93c7eaba0b39227?s=128&d=identicon&r=PG", "display_name": "Elmi", "link": "https://stackoverflow.com/users/1138160/elmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507121555, "creation_date": 1507121555, "question_id": 46565386, "link": "https://stackoverflow.com/questions/46565386/change-scrollbar-size-of-wxlistbox", "title": "Change scrollbar size of wxListBox", "body": "<p>I'm developing an application which has to be used with a touch. For this the standard scrollbar of a wxListBox is too small. So my question: how can I change it programmatically?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "windows-10-universal"], "comments": [{"owner": {"reputation": 1346, "user_id": 6670299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf2bef1786e12d7095918a00e1c5faf?s=128&d=identicon&r=PG&f=1", "display_name": "Barry Wang", "link": "https://stackoverflow.com/users/6670299/barry-wang"}, "edited": false, "score": 0, "creation_date": 1507176005, "post_id": 46565287, "comment_id": 80108256, "body": "What are the steps after you create app package(there are many options)? After you&#39;ve created your package,  the appxmanifest file in your project automatically changed? Or you are checking the file from appx package?"}, {"owner": {"reputation": 2099, "user_id": 696219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4921ffa0ec03910dbb190f2bfc638457?s=128&d=identicon&r=PG", "display_name": "sohel14_cse_ju", "link": "https://stackoverflow.com/users/696219/sohel14-cse-ju"}, "reply_to_user": {"reputation": 1346, "user_id": 6670299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf2bef1786e12d7095918a00e1c5faf?s=128&d=identicon&r=PG&f=1", "display_name": "Barry Wang", "link": "https://stackoverflow.com/users/6670299/barry-wang"}, "edited": false, "score": 0, "creation_date": 1507177344, "post_id": 46565287, "comment_id": 80108573, "body": "The service app is an windows run-time component. When i am trying to distribute it by creating package from store option i can see the package manigest in the project is changed(only the extension part i added. Its gone). As my packaged service is not working. But it&#39;s working when i am deploying from visual studio. This is strange. What is the process to distribute a service app? Packaging or copy paste the dlls?"}], "answers": [{"tags": [], "owner": {"reputation": 2099, "user_id": 696219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4921ffa0ec03910dbb190f2bfc638457?s=128&d=identicon&r=PG", "display_name": "sohel14_cse_ju", "link": "https://stackoverflow.com/users/696219/sohel14-cse-ju"}, "is_accepted": false, "score": 0, "last_activity_date": 1507193920, "creation_date": 1507193920, "answer_id": 46581583, "question_id": 46565287, "link": "https://stackoverflow.com/questions/46565287/create-store-application-modifying-the-package-appxmanifest/46581583#46581583", "title": "Create store Application modifying the Package appxmanifest", "body": "<p>Well this was strange. When i edit the Package.appxmanifest from xml editor it's gone while packaging from </p>\n\n<pre><code>Project-&gt;Store-&gt;Create App Package\n</code></pre>\n\n<p>But It remains unchanged if edited from the App Manifest Designer ! This may be helpful for someone trying to distribute offline app(Side-loaded Service App).</p>\n\n<p>I think it's a bug in visual studio.</p>\n"}], "owner": {"reputation": 2099, "user_id": 696219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4921ffa0ec03910dbb190f2bfc638457?s=128&d=identicon&r=PG", "display_name": "sohel14_cse_ju", "link": "https://stackoverflow.com/users/696219/sohel14-cse-ju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507193920, "creation_date": 1507121240, "last_edit_date": 1507123006, "question_id": 46565287, "link": "https://stackoverflow.com/questions/46565287/create-store-application-modifying-the-package-appxmanifest", "title": "Create store Application modifying the Package appxmanifest", "body": "<p>I have a universal windows application (Windows run time component) which I am trying to package from:</p>\n\n<p><code>Project-&gt;Store-&gt;Create App Package</code></p>\n\n<p>But each time after the packaging is done, I can see my Package.appxmanifest is modified.</p>\n\n<p>I have below extension section in the application node which I can't find after the packaging:</p>\n\n<pre><code>&lt;Applications&gt;\n  &lt;Applications&gt;\n   ...\n     &lt;Extensions&gt;\n        &lt;uap:Extension Category=\"windows.appService\" EntryPoint=\"AppForUpdaterService.BackGroundUpdaterTask\"&gt;\n          &lt;uap3:AppService Name=\"com.mhas.appUpdater\" uap4:SupportsMultipleInstances=\"true\" /&gt;\n        &lt;/uap:Extension&gt;\n    &lt;/Extensions&gt;\n  &lt;/Applications&gt;\n&lt;/Applications&gt;\n</code></pre>\n\n<p>As a result I am unable to consume the service after packaging it.</p>\n\n<p>It's working when I am deploying from visual studio.</p>\n\n<p>What am i doing wrong here?<br>\nMy Platform details :</p>\n\n<blockquote>\n  <ul>\n  <li>Target Platform : Windows 10</li>\n  <li>Target Platform Version : 10.0.14393.0</li>\n  <li>Target Platform Min Version : 10.0.10586.0</li>\n  </ul>\n</blockquote>\n"}]