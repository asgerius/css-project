[{"tags": ["c++", "amazon-web-services", "amazon-ec2", "runtime"], "answers": [{"tags": [], "owner": {"reputation": 4760, "user_id": 819019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiYfP.jpg?s=128&g=1", "display_name": "Taterhead", "link": "https://stackoverflow.com/users/819019/taterhead"}, "is_accepted": true, "score": 1, "last_activity_date": 1494485354, "last_edit_date": 1592644375, "creation_date": 1494485354, "answer_id": 43908382, "question_id": 43904390, "link": "https://stackoverflow.com/questions/43904390/aws-c-code-run-on-ec2-cloud-vs-traditional-computing/43908382#43908382", "title": "AWS C++ code run on EC2 (cloud vs traditional computing)", "body": "<p><a href=\"https://i.stack.imgur.com/qdYyO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qdYyO.jpg\" alt=\"enter image description here\" /></a>\nFrom <a href=\"https://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow noreferrer\">AWS EC2 Documentation</a>:</p>\n<blockquote>\n<p><strong>Considerations for Amazon EC2 performance evaluation</strong></p>\n<p>Amazon EC2 provides you with a large number of options across ten different instance types, each with one or more size options, organized into six distinct instance families optimized for different types of applications. We recommend that you assess the requirements of your applications and select the appropriate instance family as a starting point for application performance testing. You should start evaluating the performance of your applications by (a) identifying how your application needs compare to different instance families (e.g. is the application compute-bound, memory-bound, etc.?), and (b) sizing your workload to identify the appropriate instance size. There is no substitute for measuring the performance of your full application since application performance can be impacted by the underlying infrastructure or by software and architectural limitations. We recommend application-level testing, including the use of application profiling and load testing tools and services.</p>\n</blockquote>\n<p>Here are 7 different ways to change your EC2 instances to gain performance (from link above):</p>\n<h2>General Purpose EC2 instances:</h2>\n<p>T2 prefixed instances have burstable performance, M4 and M3 prefixes have balanced between compute/memory/network.</p>\n<h2>EC2 instances that are compute optimized:</h2>\n<p>Instances with higher performing processors.  Instance names with prefix C4 and C3.</p>\n<h2>EC2 instances that are memory optimized:</h2>\n<p>Instances optimized for in memory applications. Instance names with prefix with X1, R4 and R3.</p>\n<h2>EC2 instances with accelerated computing:</h2>\n<p>Instances optimized for GPU processing (P2 name prefix), Graphics processing (G2 name prefix) field programmable gate arrays (F2 name prefix)</p>\n<h2>EC2 instances with storage optimization:</h2>\n<p>High storage instances (I3 prefix) and dense storage (D2 prefix)</p>\n<h2>EC2 instances with dedicated tenacy:</h2>\n<p>The tenancy option determines if your EC2 instance is on shared hardware in the cloud with other AWS customers.  Shared tenancy is the default for all EC2 instances.  The other option would be Dedicated Instances and Dedicated Hosts.  For a higher price you can pay Amazon to host your EC2 instances on single tenant hardware.</p>\n<h2>Load a different AMI/Compiler combo:</h2>\n<p>There are many variations on Operating Systems to choose from (Windows, Unix, Linux, etc).  You might also choose between different <a href=\"http://www.stroustrup.com/compilers.html\" rel=\"nofollow noreferrer\">C++ compilers</a> with <a href=\"http://insights.dice.com/2013/11/04/speed-test-comparing-intel-c-gnu-c-and-llvm-clang-compilers/\" rel=\"nofollow noreferrer\">many optimizations to choose</a>.</p>\n<p>These 7 can be combined with each other in an effort to get the most improvements.  This <a href=\"http://www.ec2instances.info/?region=eu-central-1\" rel=\"nofollow noreferrer\">website can better help you determine cost vs EC2 feature to AWS region</a>.</p>\n<p>Good luck and feel free to post the results you discover.  Thanks!</p>\n"}], "owner": {"reputation": 17, "user_id": 6564945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b033a7f8d40c662847d03e8341c8476?s=128&d=identicon&r=PG&f=1", "display_name": "Bernardo", "link": "https://stackoverflow.com/users/6564945/bernardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 0, "accepted_answer_id": 43908382, "answer_count": 1, "score": 1, "last_activity_date": 1494485354, "creation_date": 1494460617, "question_id": 43904390, "link": "https://stackoverflow.com/questions/43904390/aws-c-code-run-on-ec2-cloud-vs-traditional-computing", "title": "AWS C++ code run on EC2 (cloud vs traditional computing)", "body": "<p>My question is very simple although I could not find answer online.</p>\n\n<p>Currently I'm using EC2 just for proof of concept. I'm Running the Bubble Sort algorithm in C++ with variable integer array size and counting how much time the program takes to finish the ordering either on EC2 and on my computer.</p>\n\n<p>I know C++ is not a default language to be used on the cloud, so like on <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=128209\" rel=\"nofollow noreferrer\">https://forums.aws.amazon.com/thread.jspa?threadID=128209</a> I just connected by ssh and installed the needed packages to run my C++ program. </p>\n\n<p>However the expected gains against traditional computing where not as good as in Python for example... Anyone knows if there is a way of improving these gains? All timing info info bellow.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1bW6s.png\" rel=\"nofollow noreferrer\">Execution times</a></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c++", "templates", "for-loop"], "answers": [{"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 2, "last_activity_date": 1494460939, "creation_date": 1494460939, "answer_id": 43904437, "question_id": 43904378, "link": "https://stackoverflow.com/questions/43904378/trouble-with-templates-and-for-loops/43904437#43904437", "title": "Trouble with templates and for loops", "body": "<p>You stated that your function declaration within the source is as follows:</p>\n\n<blockquote>\n  <p>void GraphMatrix::setVertexInfo(int v, VertexObject&amp; info)</p>\n</blockquote>\n\n<p>However in your for loop you are passing it a type of <code>int</code>. Either change your function declaration &amp; definition to accept a type of <code>int</code> or change the type that you are passing to your function as a <code>VertexObject</code>. </p>\n"}], "owner": {"reputation": 37, "user_id": 6553246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38563d09011b08b4782a3359c36a7209?s=128&d=identicon&r=PG&f=1", "display_name": "B. Bush", "link": "https://stackoverflow.com/users/6553246/b-bush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494460939, "creation_date": 1494460432, "question_id": 43904378, "link": "https://stackoverflow.com/questions/43904378/trouble-with-templates-and-for-loops", "title": "Trouble with templates and for loops", "body": "<p>I have this code, which is giving me a single error that indicates two problems.</p>\n\n<pre><code>int healthyConst = 0;\nint sickConst = 1;\nint recoveredConst = 2;\n\nGraphMatrix&lt;int, double&gt; graph (100);\nfor (int i = 0; i &lt; sampleSize; i++)\n{\n    if(std::rand() % 2 &gt; 0.05) graph.setVertexInfo(i, sickConst); //Error\n    else graph.setVertexInfo(i, healthyConst); \n}\n</code></pre>\n\n<p>The error is:</p>\n\n<blockquote>\n  <p>error: no matching function for call to GraphMatrix::setVertexInfo(int&amp;, int*)</p>\n</blockquote>\n\n<p>And the function in question is declared as follows in the source:</p>\n\n<blockquote>\n  <p>void GraphMatrix::setVertexInfo(int v, VertexObject&amp; info)</p>\n</blockquote>\n\n<p>First, i should not be a reference. This seems nonsensical to me, yet I can not fix this. If I try to outsmart the compiler and type <code>for(int* i = 0...)</code> the error now complains of <code>setVertexInfo(int&amp;*, int*)</code>, and I don't even understand what this means.</p>\n\n<p>Second, sickConst is not a pointer. It is just an int. Now I realize the method, as written, accepts VertexObject&amp;, not VertexObject, but <code>*sickConst</code> also causes the compiler to complain of <code>invalid type argument of 'unary *'</code>. I've also tried <code>&amp;sickConst</code>, which the compiler not unexpectedly interprets as a pointer.</p>\n\n<p>Also note, identical errors are thrown for the second line of the for loop, presumably for the same reasons.</p>\n\n<p>The question is: why am I getting these errors, and how do I fix them?</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1494461962, "post_id": 43904438, "comment_id": 74842955, "body": "avoiding <code>using namespace std;</code> in your code all together I don&#39;t normally enforce it as being 100% proper code, it is still ill advised to use it, however there are some cases that it is okay if it is within a function definition; but I would suggest to never use it at global scope."}], "tags": [], "owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "is_accepted": true, "score": 4, "last_activity_date": 1494461290, "last_edit_date": 1495535474, "creation_date": 1494460956, "answer_id": 43904438, "question_id": 43904368, "link": "https://stackoverflow.com/questions/43904368/how-to-use-a-member-variable-in-a-member-function-which-is-defined-in-a-separate/43904438#43904438", "title": "How to use a member variable in a member function which is defined in a separate file", "body": "<p>First of all, you've declared <code>parseUserInput</code> as a string field in your hpp, not as a function.  Declare it as a member function by using paretheses.</p>\n\n<pre><code>std::string parseUserInput();\n</code></pre>\n\n<p>Second, in userInput.cpp you are defining a global function named <code>parseUserInput()</code>, not a member function.  To define the member function on the <code>UserInput</code> class, use the scope resolution operator <code>::</code></p>\n\n<pre><code>std::string UserInput::parseUserInput() {\n    ...\n}\n</code></pre>\n\n<p>Finally, you should avoid <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\"><code>using namespace std;</code></a> in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "is_accepted": false, "score": 1, "last_activity_date": 1494462127, "last_edit_date": 1494462127, "creation_date": 1494461016, "answer_id": 43904447, "question_id": 43904368, "link": "https://stackoverflow.com/questions/43904368/how-to-use-a-member-variable-in-a-member-function-which-is-defined-in-a-separate/43904447#43904447", "title": "How to use a member variable in a member function which is defined in a separate file", "body": "<p>Hi have you thought about making a get function...</p>\n\n<pre><code>std::string returnRawInput() {return rawInput;}\n</code></pre>\n\n<p>you can then call this function to get the input...</p>\n"}, {"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 1, "last_activity_date": 1494461841, "creation_date": 1494461841, "answer_id": 43904542, "question_id": 43904368, "link": "https://stackoverflow.com/questions/43904368/how-to-use-a-member-variable-in-a-member-function-which-is-defined-in-a-separate/43904542#43904542", "title": "How to use a member variable in a member function which is defined in a separate file", "body": "<p>Your current class looks like this:</p>\n\n<p><strong>userInput.hpp</strong></p>\n\n<pre><code>// Missing Header Guards Or #Pragma Once\n#include &lt;string&gt;\n\nclass UserInput{\npublic:    \n    std::string rawInput;        // Member Variable of UserInput      \n    std::string parseUserInput;  // Member Variable of UserInput   \n};\n</code></pre>\n\n<p><strong>userInput.cpp</strong> </p>\n\n<pre><code>#include &lt;iostream&gt;                // Okay    \n#include \"userInput.hpp\"           // Okay\n#include \"stringManipulation.hpp\"  // Okay\n\nusing namespace std;   // Bad Practice\n\nstring branchCommand;  // non const local Global Variable - can be bad practice \n\n// Looks like a global function that is not a part of your class\nstring parseUserInput(){\n\n    removeWhiteSpaces(rawInput);\n\n    return branchCommand;   // returning global variable that isn't used?\n}\n</code></pre>\n\n<p>Did you mean?</p>\n\n<p><strong>userInput.hpp</strong></p>\n\n<pre><code>#ifndef USER_INPUT_HPP\n#define USER_INPUT_HPP\n\n#include &lt;string&gt;\n\nclass UserInput {\npublic:\n    std::string rawInput; // Member Variable\n    std::string parseUserInput(); // Now a Member Function that Returns a std::string\n};\n\n#endif // USER_INPUT_HPP\n</code></pre>\n\n<p><strong>userInput.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"userInput.hpp\"\n#include \"stringManipulation.hpp\"\n\nstd::string branchCommand; // Still a bad idea if not const or static\n\nstd::string UserInput::parseUserInput( /* should this take a string from the user? */ ) {\n    removeWhiteSpaces( rawInput );\n\n    return branchCommand; // ? ... Still not sure what you are returning.\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4259429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503eecc7e89119af155ea91c269466f?s=128&d=identicon&r=PG&f=1", "display_name": "Merceus", "link": "https://stackoverflow.com/users/4259429/merceus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 43904438, "answer_count": 3, "score": 1, "last_activity_date": 1494462127, "creation_date": 1494460338, "question_id": 43904368, "link": "https://stackoverflow.com/questions/43904368/how-to-use-a-member-variable-in-a-member-function-which-is-defined-in-a-separate", "title": "How to use a member variable in a member function which is defined in a separate file", "body": "<p>userInput.hpp</p>\n\n<pre><code>#include &lt;string&gt;\n\nclass UserInput{\npublic:\n\n    std::string rawInput;\n    std::string parseUserInput;\n\n}; \n</code></pre>\n\n<p>userInput.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include \"userInput.hpp\"\n#include \"stringManipulation.hpp\"\n\nusing namespace std;\n\nstring branchCommand;\n\nstring parseUserInput(){\n\n    removeWhiteSpaces(rawInput);\n\n    return branchCommand;\n}\n</code></pre>\n\n<p>I have created a class in userInput.hpp with the member function <code>parseUserInput</code> and I mean to define that function in userInput.cpp. However, when I try to use rawInput inside the definition, I cannot without making it so that <code>rawInput</code> is declared as <code>static</code>.</p>\n\n<p>Is it possible to use the <code>rawInput</code> string in the function's definition which is in another file without making the <code>rawInput</code> variable static?</p>\n"}, {"tags": ["c++", "qt", "qwt", "qdial"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 2, "creation_date": 1494459519, "post_id": 43904204, "comment_id": 74842487, "body": "You could show what you&#39;ve tried."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 8564364, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/743d591084ab6da13a2246d24a069616?s=128&d=identicon&r=PG&f=1", "display_name": "Gansroy", "link": "https://stackoverflow.com/users/8564364/gansroy"}, "edited": false, "score": 0, "creation_date": 1521498296, "post_id": 43905148, "comment_id": 85747955, "body": "How did you set the range from 0 to 100 and how to change it from 0 to 240?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 229, "user_id": 8564364, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/743d591084ab6da13a2246d24a069616?s=128&d=identicon&r=PG&f=1", "display_name": "Gansroy", "link": "https://stackoverflow.com/users/8564364/gansroy"}, "edited": false, "score": 0, "creation_date": 1521498643, "post_id": 43905148, "comment_id": 85748106, "body": "@Gansroy try with <code>setScale(0, 240)</code>"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 2, "last_activity_date": 1494466958, "creation_date": 1494466958, "answer_id": 43905148, "question_id": 43904204, "link": "https://stackoverflow.com/questions/43904204/qwt-dial-show-unit/43905148#43905148", "title": "QWT Dial, show unit", "body": "<p>The solution I propose is to create a class that inherits from <code>QwtDial</code> and overwrite the <code>paintEvent</code> method.</p>\n\n<p><strong>mydial.h</strong></p>\n\n<pre><code>#ifndef MYDIAL_H\n#define MYDIAL_H\n\n#include &lt;qwt_dial.h&gt;\n\nclass myDial : public QwtDial\n{\n    Q_OBJECT\npublic:\n    myDial(QWidget *parent = NULL );\n\nprotected:\n    void paintEvent(QPaintEvent *event);\n};\n\n#endif // MYDIAL_H\n</code></pre>\n\n<p><strong>mydial.cpp</strong></p>\n\n<pre><code>#include \"mydial.h\"\n\n#include &lt;QPainter&gt;\n\nmyDial::myDial(QWidget *parent):QwtDial(parent)\n{\n\n}\n\nvoid myDial::paintEvent(QPaintEvent *event)\n{\n\n    QwtDial::paintEvent(event);\n    QPainter painter(this);\n    painter.setPen(Qt::black);\n    QFont font;\n    font.setPointSize(11);\n    painter.setFont(font);\n    QString text = QString(\"%1 km/h\").arg(value());\n    auto c = rect().center();\n    auto Size = painter.fontMetrics().size(Qt::TextSingleLine, text);\n    painter.drawText(QPointF(c.x() -Size.width()/2, c.y()+5*Size.height()), text);\n\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include \"mydial.h\"\n#include &lt;qwt_dial_needle.h&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    myDial w;\n    w.setScaleArc(30,330);\n    w.setLineWidth(15);\n    w.setWrapping(false);\n    QwtDialSimpleNeedle *nd = new QwtDialSimpleNeedle(QwtDialSimpleNeedle::Arrow, Qt::white, Qt::red);\n    w.setNeedle(nd);\n    w.setWindowTitle(\"Custom QwtDial\");\n\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1zap2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1zap2.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 7994441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1391125797599670/picture?type=large", "display_name": "Martin Valdo Val&#225;\u0161ek", "link": "https://stackoverflow.com/users/7994441/martin-valdo-val%c3%a1%c5%a1ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 2, "protected_date": 1521498527, "answer_count": 1, "score": 0, "last_activity_date": 1494505166, "creation_date": 1494459099, "question_id": 43904204, "link": "https://stackoverflow.com/questions/43904204/qwt-dial-show-unit", "title": "QWT Dial, show unit", "body": "<p>I try do speedometer in QT 5.8. I use widget QWT Dial. But I have problem as show a label for unit (km/h). I used google, but I don't find it.\nHow Can I do it?\nthank you</p>\n"}, {"tags": ["c++", "directx", "shader"], "comments": [{"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 1, "creation_date": 1494518746, "post_id": 43904187, "comment_id": 74874319, "body": "Legacy DIrect3D 9 is quite old, so I&#39;m unsure why you are using it in the first place. The &#39;mainstream&#39; version of Direct3D today that works on basically all Windows systems and all video hardware is Direct3D 11, which is probably a much better starting point. For 2D drawing with Direct3D 11, take a look at <code>SpriteBatch</code> in the <a href=\"https://github.com/Microsoft/DirectXTK/wiki/Getting-Started\" rel=\"nofollow noreferrer\">DirectX Tool Kit</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6042732"}, "reply_to_user": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1494543615, "post_id": 43904187, "comment_id": 74886933, "body": "@ChuckWalbourn I am hooking into preexisting direct x devices so I have no choice on what version to use."}, {"owner": {"reputation": 2565, "user_id": 4781312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lDEcJ.jpg?s=128&g=1", "display_name": "Asesh", "link": "https://stackoverflow.com/users/4781312/asesh"}, "edited": false, "score": 0, "creation_date": 1508689420, "post_id": 43904187, "comment_id": 80699737, "body": "Old post but there are some issues in your code: you are mixing fixed function pipeline and shader"}], "owner": {"user_type": "does_not_exist", "display_name": "user6042732"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494458983, "creation_date": 1494458983, "question_id": 43904187, "link": "https://stackoverflow.com/questions/43904187/render-shader-on-specific-triangle-direct-x-9", "title": "Render shader on specific triangle Direct X 9", "body": "<p>I'm trying to get a pixel shader to run just on my triangle I'm trying to draw with drawprimitive in d3d9 but I am having trouble doing it.</p>\n\n<p>This is how I'm rendering the triangle, I only call initvertexBuffer once.</p>\n\n<pre><code>void DxFramework::initvertexBuffer() {\n    VOID* pVertices;\n\n    MYVERTEX Vertices[] =\n    {\n        { 250.0f, 100.0f, 0.5f, 1.0f, WHITE(255), }, // white with alpha of 255, this works fine.\n        { 400.0f, 350.0f, 0.5f, 1.0f, WHITE(255), },\n        { 100.0f, 350.0f, 0.5f, 1.0f, WHITE(255), },\n    };\n\n\n    if (FAILED(pDevice-&gt;CreateVertexBuffer(3 * sizeof(MYVERTEX),\n        0, (D3DFVF_XYZRHW | D3DFVF_DIFFUSE),\n        D3DPOOL_DEFAULT, &amp;g_pVertexBuffer, NULL)))\n    {\n        return;\n    }\n\n    if (FAILED(g_pVertexBuffer-&gt;Lock(0, sizeof(Vertices), &amp;pVertices, 0)))\n    {\n        return;\n    }\n\n    memcpy(pVertices, Vertices, sizeof(Vertices));\n\n    g_pVertexBuffer-&gt;Unlock();\n}\n\nvoid DxFramework::rendertriangle() {\n\n    pDevice-&gt;SetStreamSource(0, g_pVertexBuffer, 0, sizeof(MYVERTEX));\n    pDevice-&gt;SetFVF((D3DFVF_XYZRHW | D3DFVF_DIFFUSE));\n    pDevice-&gt;DrawPrimitive(D3DPT_TRIANGLELIST, 0, 1);\n\n\n\n}\n</code></pre>\n\n<p>And I'm calling rendertriangle like so :</p>\n\n<pre><code>  pEffect-&gt;SetTexture(\"origframeTex2D\", backBufferTexture);\n    pEffect-&gt;SetTexture(\"frameTex2D\", buffer2Tex);\n    pEffect-&gt;Begin(&amp;passes, 0);\n    pEffect-&gt;BeginPass(3);\n    rendertriangle();\n    pEffect-&gt;EndPass();\n    pEffect-&gt;End();\n</code></pre>\n\n<p>Yet the triangle is just black on my screen, although I know my shader works fine and have tested it on the whole backbuffer before.</p>\n\n<p>Also if anyone can provide resources on d3d9 shader drawing 2d I would appreciate it as I have found little to no resources.</p>\n"}, {"tags": ["c++", "c++11", "namespaces"], "comments": [{"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494458592, "post_id": 43904130, "comment_id": 74843734, "body": "not sure why you have using std::cout instead of just using namespace std;"}, {"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494458623, "post_id": 43904130, "comment_id": 74843735, "body": "have you tried putting #include &quot;stdafx.h&quot; at the very top of file?"}, {"owner": {"reputation": 1790, "user_id": 4526012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10203662607065332/picture?type=large", "display_name": "SomeStudent", "link": "https://stackoverflow.com/users/4526012/somestudent"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1494458719, "post_id": 43904130, "comment_id": 74842281, "body": "that one was related to the { at the start of case 1. I have no idea why it is throwing all of these errors. It makes 0 sense really."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1494458924, "post_id": 43904130, "comment_id": 74842326, "body": "You&#39;ll really need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but from the code posted here, main.cpp cannot see a definition for <code>std::string</code>, so add a <code>#include &lt;string&gt;</code> to main.cpp"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1494458930, "post_id": 43904130, "comment_id": 74842329, "body": "Is this a feature of Visual Studio rather than C++ itself? It&#39;s ages since I have done anything with it, but anything before <code>#include &quot;stdafx.h&quot;</code> tends to be ignored due to automatic precompilation. What happens if you move <code>#include &lt;iostream&gt;</code> after  <code>#include &quot;stdafx.h&quot;</code>?"}, {"owner": {"reputation": 1790, "user_id": 4526012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10203662607065332/picture?type=large", "display_name": "SomeStudent", "link": "https://stackoverflow.com/users/4526012/somestudent"}, "edited": false, "score": 0, "creation_date": 1494458985, "post_id": 43904130, "comment_id": 74842345, "body": "stdafx.h is automatically generated by Visual Studio as one of its default includes."}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 4526012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10203662607065332/picture?type=large", "display_name": "SomeStudent", "link": "https://stackoverflow.com/users/4526012/somestudent"}, "edited": false, "score": 0, "creation_date": 1494459235, "post_id": 43904197, "comment_id": 74842410, "body": "Spasibya. 100%. My head has just made a China sized hole through my desk. I will keep that in mind for the future when I make more files/projects. I will accept your answer once the timer allows me to."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1494464826, "post_id": 43904197, "comment_id": 74843554, "body": "I recommend not using precompiled headers.  You should measure how much build time it saves you and determine if precompiled headers are worthwhile."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 7, "last_activity_date": 1494459042, "creation_date": 1494459042, "answer_id": 43904197, "question_id": 43904130, "link": "https://stackoverflow.com/questions/43904130/cout-is-not-a-member-of-std-and-other-issues-regarding-c/43904197#43904197", "title": "cout is not a member of std, and other issues regarding c++", "body": "<p>Place the directive</p>\n\n<pre><code>#include \"stdafx.h\"\n</code></pre>\n\n<p>before any other include directives.</p>\n"}], "owner": {"reputation": 1790, "user_id": 4526012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10203662607065332/picture?type=large", "display_name": "SomeStudent", "link": "https://stackoverflow.com/users/4526012/somestudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5103, "favorite_count": 0, "accepted_answer_id": 43904197, "answer_count": 1, "score": 2, "last_activity_date": 1562012876, "creation_date": 1494458436, "last_edit_date": 1562012876, "question_id": 43904130, "link": "https://stackoverflow.com/questions/43904130/cout-is-not-a-member-of-std-and-other-issues-regarding-c", "title": "cout is not a member of std, and other issues regarding c++", "body": "<p>Allow me to preface this by saying that I do have  included (also applies to string, endl, and quite literally everything doesn't work); my IDE is showing no errors as far as syntax goes; and I cannot understand why this issue is happening? It works fine in one of my other C++ code samples I wrote. </p>\n\n<p>So I am trying to make a small game, bulls and cows. My main code looks as follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include \"stdafx.h\"\n#include \"BullsAndCows.h\"\n\n\n\nusing std::cout;\nusing std::endl;\nusing std::cin;\nusing std::string;\n\nint main()\n{\n\n    string userInput = \"\";\n    bool playAgain = false;\n\n    int gameDiff;\n\n    constexpr char * GREETING = \"Welcome to Bulls and Cows! Please enter the difficulty level: (1) Easy, (2) Medium, (3) Hard\";\n\n    cin &gt;&gt; gameDiff;\n\n    do\n    {\n        BullsAndCows *bc = new BullsAndCows();\n        bc-&gt;playGame(gameDiff);\n\n    } while (playAgain);\n\n\n    constexpr char * INFORMATION = \"Total Word Length  is: \";\n\n    //Introduce the game.\n\n    cout &lt;&lt; GREETING &lt;&lt;endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>My header: </p>\n\n<pre><code>#ifndef BULLSANDCOWS_H\n#define BULLSANDCOWS_H\n\n\n\nclass BullsAndCows {\n\npublic:\n\n\n    void playGame(int gameDiff);\n\n\n};\n\n#endif\n</code></pre>\n\n<p>Finally, my BullsAndCows.cpp file: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"stdafx.h\"\n#include \"BullsAndCows.h\"\n\nusing std::cout;\nusing std::endl;\nusing std::cin;\nusing std::string;\n\nvoid BullsAndCows::playGame(int gameDiff) {\n\n    string wordGuess = \"\";\n    string secretWord = \"\";\n    int numBulls = 0;\n    int numCows = 0;\n    int numGuesses = 0;\n\n    switch (gameDiff)\n    {\n\n    case 1: {\n        numGuesses = 30;\n\n        secretWord = \"Hello\";\n\n        for (int i = 0; i &lt; 30; i++) {\n\n            numBulls = 0;\n            numCows = 0;\n\n            cout &lt;&lt; \"Word Length to Guess Is Five, you have \" &lt;&lt; numGuesses &lt;&lt; \" guesses remaining\" &lt;&lt; endl;\n            cout &lt;&lt; \"Enter your word guess\";\n            cin &gt;&gt; wordGuess;\n\n            for (int j = 0; j &lt; wordGuess.length; j++) {\n                if (wordGuess.at(j) == secretWord.at(j)) {\n                    numBulls++;\n                }\n                else if (secretWord.find(wordGuess.at(j)) != -1) {\n                    numCows++;\n                }\n            }\n\n            cout &lt;&lt; \"Bulls: \" &lt;&lt; numBulls &lt;&lt; endl;\n            cout &lt;&lt; \"Cows: \" &lt;&lt; numCows &lt;&lt; endl;\n\n            if (numBulls == secretWord.length) {\n                cout &lt;&lt; \"YOU WIN!\" &lt;&lt; endl;\n                break;\n            }\n\n        }\n\n        break;\n    }\n        case 2:\n            numGuesses = 20;\n            break;\n        case 3:\n            numGuesses = 10;\n            break;\n    }\n\n}\n</code></pre>\n\n<p>Errors I am getting as \"cout is not a member of std\", cout symbol cannot be used in a using declaration. Before that I was using \"using namespace std\" and that would return errors like \"BullsAndCows\" is not a namespace or class (if it is not a class, then I must be a martian). Also something about a missing \";\" before userInput for example in my main.cpp code; which makes no sense as there is nothing that is missing that. I am using VS2017. Why is C++ such an annoying language to work in?</p>\n"}, {"tags": ["c++", "ios", "cocos2d-x"], "comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1494491485, "post_id": 43904083, "comment_id": 74853815, "body": "what do you mean by <code>outside the game</code> ?"}, {"owner": {"reputation": 22, "user_id": 7965318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5905be617553421b2e2d0c40f2fe1dbb?s=128&d=identicon&r=PG&f=1", "display_name": "MinusSign", "link": "https://stackoverflow.com/users/7965318/minussign"}, "reply_to_user": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1494523746, "post_id": 43904083, "comment_id": 74877206, "body": "Meaning I cant actually access the plist file with text editor or anything like that. I have the idea of copying everything from a plist i made to one in the writable folder then changing and using those in game but then I don&#39;t know how to create nested directories and things will get very messy fast."}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 3868346, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/p64br.jpg?s=128&g=1", "display_name": "Yogesh Kumar", "link": "https://stackoverflow.com/users/3868346/yogesh-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1502445423, "last_edit_date": 1502445423, "creation_date": 1502428533, "answer_id": 45627430, "question_id": 43904083, "link": "https://stackoverflow.com/questions/43904083/how-to-change-value-in-plist-coco2dx-c/45627430#45627430", "title": "How to change value in Plist coco2dx c++?", "body": "<p>You can easily change value in plist file, if you are using xcode then you can directly view and edit plist value. Also on windows system you can edit on notepad++ or something equivalent. </p>\n\n<p>Tell me if you face any issue?</p>\n"}], "owner": {"reputation": 22, "user_id": 7965318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5905be617553421b2e2d0c40f2fe1dbb?s=128&d=identicon&r=PG&f=1", "display_name": "MinusSign", "link": "https://stackoverflow.com/users/7965318/minussign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502445423, "creation_date": 1494458166, "last_edit_date": 1494523947, "question_id": 43904083, "link": "https://stackoverflow.com/questions/43904083/how-to-change-value-in-plist-coco2dx-c", "title": "How to change value in Plist coco2dx c++?", "body": "<p>Hi I am wondering how to change the value in a plist file that Ive created. Currently I can save a value in a plist that I made in code with this video <a href=\"https://www.youtube.com/watch?v=865TkhvlkUU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=865TkhvlkUU</a> but then I can't access what I saved outside the game (Is it possible to open files in writeable folder with text editor?). Also can I find answers to questions like this in the cocos2dx api? If so how do i navigate it to get information on plists. Thanks.</p>\n"}, {"tags": ["c#", "c++", "websocket", "pinvoke", "boost-asio"], "comments": [{"owner": {"reputation": 1707, "user_id": 2308106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/662858fafae43964d1c79b8351e15430?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2308106/jan"}, "edited": false, "score": 0, "creation_date": 1517908267, "post_id": 43904050, "comment_id": 84274758, "body": "Try calling FreeLibrary until it fails. true means it just decremented ref count, but as long as it&#39;s above zero, dll won&#39;t be unloaded."}, {"owner": {"reputation": 1707, "user_id": 2308106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/662858fafae43964d1c79b8351e15430?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2308106/jan"}, "edited": false, "score": 0, "creation_date": 1517908349, "post_id": 43904050, "comment_id": 84274804, "body": "Also there are ways how dll unload can be prevented (e.g. if the dll installs hooks or if GetModuleHandleEx is called with GET_MODULE_HANDLE_EX_FLAG_PIN flag) - see <a href=\"https://stackoverflow.com/questions/48631560/freelibrary-returns-true-indefinitely\" title=\"freelibrary returns true indefinitely\">stackoverflow.com/questions/48631560/&hellip;</a> for similar case"}, {"owner": {"reputation": 47, "user_id": 6935294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TJ8i.jpg?s=128&g=1", "display_name": "GenerationTech", "link": "https://stackoverflow.com/users/6935294/generationtech"}, "reply_to_user": {"reputation": 1707, "user_id": 2308106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/662858fafae43964d1c79b8351e15430?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2308106/jan"}, "edited": false, "score": 0, "creation_date": 1518006282, "post_id": 43904050, "comment_id": 84324711, "body": "I eventually did find the root cause of this problem. The issue is using the shared dynamically-linked SSL library. Even though I release memory my DLL uses for interface to SSL library, the OS keeps a portion of my DLL locked in memory due to the way the SSL library initializes itself when called. From what I remember with my research, there&#39;s no good existing way to correct this other than statically linking the SSL source in my DLL, which is what I planned to do to mitigate this issue until I found a better solution, but I tabled the whole idea and just used a non-SSL connection for now."}, {"owner": {"reputation": 1707, "user_id": 2308106, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/662858fafae43964d1c79b8351e15430?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2308106/jan"}, "edited": false, "score": 0, "creation_date": 1518009082, "post_id": 43904050, "comment_id": 84326680, "body": "Thanks for responding back - interresting finding"}], "owner": {"reputation": 47, "user_id": 6935294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TJ8i.jpg?s=128&g=1", "display_name": "GenerationTech", "link": "https://stackoverflow.com/users/6935294/generationtech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1873, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494457877, "creation_date": 1494457877, "question_id": 43904050, "link": "https://stackoverflow.com/questions/43904050/c-using-freelibrary-to-unload-dynamic-loading-of-c-unmanaged-dll-does-not-unl", "title": "C# using FreeLibrary to unload dynamic loading of C++ unmanaged DLL does not unlock the file", "body": "<p>I have a C# program that loads an unmanaged C++ DLL with LoadLibrary and later unloads it with FreeLibrary. The application has been functioning normally and I'm able to load, unload, and file-level replace the DLL at will from within the C# application.</p>\n\n<p>For some (new) reason, now when I FreeLibrary the DLL, it successfully unloads from C# (I get a positive return value from FreeLibrary), but the *.dll file is still locked by the file-system and I'm unable to update it newer versions (which was the whole reason for using dynamic loading).</p>\n\n<p>The application uses Boost ASIO with Beast websockets, and the recent change I made was to switch to SSL. I figure there's something wrong with how I'm invoking or closing the SSL connection that's keeping the DLL locked by the filesystem. But since FreeLibrary returns success (and subsequent calls to FreeLibrary hang), I am unsure why the DLL file would still be locked.</p>\n\n<p>Here's how I load the DLL in C# (snippets):</p>\n\n<pre><code>    [DllImport(\"kernel32.dll\", SetLastError = true)]\n    private static extern IntPtr LoadLibrary(string libname);\n\n    [DllImport(\"kernel32.dll\")]\n    private static extern IntPtr GetProcAddress(IntPtr hModule, string lpProcName);\n\n    [DllImport(\"kernel32.dll\", CharSet = CharSet.Unicode)]\n    private static extern bool FreeLibrary(IntPtr hModule);\n\n    IntPtr Handle;\n\n    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n    private delegate void Initdb();\n    Initdb InitdbFunction;\n</code></pre>\n\n<p>Main</p>\n\n<pre><code>    Handle = LoadLibrary(\"Perks.dll\");\n    if (Handle == IntPtr.Zero) {\n        int errorCode = Marshal.GetLastWin32Error();\n        throw new Exception(string.Format(\"Failed to load library (ErrorCode: {0})\", errorCode));\n    }\n    IntPtr funcaddr;\n\n    funcaddr = GetProcAddress(Handle, \"Initdb\");\n    InitdbFunction = Marshal.GetDelegateForFunctionPointer(funcaddr, typeof(Initdb)) as Initdb;\n</code></pre>\n\n<p>Unload function</p>\n\n<pre><code>    if (FreeLibrary(Handle))\n    {\n        Console.WriteLine(\"FreeLibrary true\");\n    }\n    else\n    {\n        Console.WriteLine(\"FreeLibrary false\");\n    }\n    Handle = IntPtr.Zero;\n</code></pre>\n\n<p>My new implementation of Boost ASIO and Beast websockets in the unmanaged DLL (which is probably causing the problem somehow) is here C++ (snippets)</p>\n\n<pre><code>    std::string                     wsm_SERVER_URL;\n    boost::asio::io_service         wsm_ios;\n    boost::asio::io_service::work   wsm_work{ wsm_ios };\n    boost::asio::ip::tcp::resolver  wsm_r{ wsm_ios };\n    boost::asio::ip::tcp::socket    wsm_sock{ wsm_ios };\n    std::unique_ptr&lt;beast::websocket::stream&lt; boost::asio::ssl::stream&lt;boost::asio::ip::tcp::socket&gt;&gt;&gt; wsm_client;\n    boost::asio::ssl::context wsm_ctx{ boost::asio::ssl::context::sslv23 };\n</code></pre>\n\n<p>Initialize</p>\n\n<pre><code>    wsm_client = std::make_unique&lt;beast::websocket::stream&lt;boost::asio::ssl::stream&lt;boost::asio::ip::tcp::socket&gt;&gt;&gt;(wsm_ios, wsm_ctx);\n</code></pre>\n\n<p>Use</p>\n\n<pre><code>    wsm_client = std::make_unique&lt;beast::websocket::stream&lt;boost::asio::ssl::stream&lt;boost::asio::ip::tcp::socket&gt;&gt;&gt;(wsm_ios, wsm_ctx);\n    boost::asio::ip::tcp::resolver::iterator iter = wsm_r.resolve(boost::asio::ip::tcp::resolver::query{ wsm_SERVER_URL, \"https\" });\n    const boost::asio::ip::tcp::endpoint EP = iter-&gt;endpoint();\n    boost::system::error_code EC;\n    wsm_client-&gt;next_layer().next_layer().connect(EP, EC);\n    wsm_client-&gt;next_layer().set_verify_mode(boost::asio::ssl::verify_none);\n    wsm_client-&gt;next_layer().handshake(boost::asio::ssl::stream_base::client);\n    wsm_client-&gt;handshake(wsm_SERVER_URL, srv_url);\n</code></pre>\n\n<p>Deactivate (called in C++ just before C# does the FreeLibrary portion)</p>\n\n<pre><code>wsm_client-&gt;next_layer().next_layer().close();\nwsm_client-&gt;next_layer().next_layer().cancel();\nwsm_client-&gt;close(beast::websocket::close_code::normal);\nwsm_client.reset();\nwsm_ios.stop();\n</code></pre>\n"}, {"tags": ["c++", "variable-assignment", "fstream", "ifstream", "ofstream"], "comments": [{"owner": {"reputation": 5353, "user_id": 1128551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b2e64745ac36bf554b976e3625a4ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Shibli", "link": "https://stackoverflow.com/users/1128551/shibli"}, "edited": false, "score": 0, "creation_date": 1494458330, "post_id": 43904039, "comment_id": 74842178, "body": "You are getting out of bound: <code>grid[7][i] = t3;</code>."}, {"owner": {"reputation": 141, "user_id": 4040296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/efab897160835e60990dcd98b0a0cef8?s=128&d=identicon&r=PG&f=1", "display_name": "dmaelect", "link": "https://stackoverflow.com/users/4040296/dmaelect"}, "edited": false, "score": 0, "creation_date": 1494458716, "post_id": 43904039, "comment_id": 74842280, "body": "Try hard coding the file name with path and test to see if you get the same issues."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1494458733, "post_id": 43904039, "comment_id": 74842284, "body": "Which is it, the file is opened/created as your title says, or not as your question says? Where are you trying to put the output file?"}, {"owner": {"reputation": 27, "user_id": 7994338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40039a6c4a7d38894078943d862a6292?s=128&d=identicon&r=PG&f=1", "display_name": "dshin", "link": "https://stackoverflow.com/users/7994338/dshin"}, "edited": false, "score": 0, "creation_date": 1494471182, "post_id": 43904039, "comment_id": 74844978, "body": "Thank you for the comments. @Shibili your solution worked,  I feel silly for overlooking the bounds."}, {"owner": {"reputation": 27, "user_id": 7994338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40039a6c4a7d38894078943d862a6292?s=128&d=identicon&r=PG&f=1", "display_name": "dshin", "link": "https://stackoverflow.com/users/7994338/dshin"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1494471467, "post_id": 43904039, "comment_id": 74845048, "body": "@Retired Ninja sorry about the ambiguity.  The error message I used was &quot;cannot open file&quot;.  The program, however, did create and open the file but was not saving, I&#39;m guessing due to the array being out of bound  as mentioned by Shibili and Paul Hashmi."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "reply_to_user": {"reputation": 27, "user_id": 7994338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40039a6c4a7d38894078943d862a6292?s=128&d=identicon&r=PG&f=1", "display_name": "dshin", "link": "https://stackoverflow.com/users/7994338/dshin"}, "edited": false, "score": 0, "creation_date": 1505227527, "post_id": 43904221, "comment_id": 79321374, "body": "No problem dshin"}], "tags": [], "owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "is_accepted": true, "score": 0, "last_activity_date": 1494459238, "creation_date": 1494459238, "answer_id": 43904221, "question_id": 43904039, "link": "https://stackoverflow.com/questions/43904039/ofstream-creates-a-file-but-doesnt-write/43904221#43904221", "title": "ofstream creates a file but doesn&#39;t write", "body": "<pre><code>grid[7][i] = t3;\n</code></pre>\n\n<p>you dont have [7] rows mate think you want grid[5][i] = t3; ?</p>\n"}], "owner": {"reputation": 27, "user_id": 7994338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40039a6c4a7d38894078943d862a6292?s=128&d=identicon&r=PG&f=1", "display_name": "dshin", "link": "https://stackoverflow.com/users/7994338/dshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 43904221, "answer_count": 1, "score": -1, "last_activity_date": 1494459238, "creation_date": 1494457798, "question_id": 43904039, "link": "https://stackoverflow.com/questions/43904039/ofstream-creates-a-file-but-doesnt-write", "title": "ofstream creates a file but doesn&#39;t write", "body": "<p>Here's the code, I try to look up solutions but the things I've tried haven't worked.  Also, the if statement at the bottom of the main that checks if the file is opened, fails and says it cannot open the file, but I don't know what to do with that error.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;iomanip&gt;\nusing namespace std;\nconst int row = 6;\nconst int col = 8;\nvoid cellTemp (double check[][col], double);\nint main()\n{\n    ifstream in;\n    string input;\n    ofstream out;\n    string output;\n    double grid[row][col];\n    double t1, t2, t3, t4, tol;\n\n    cout &lt;&lt; \"Enter input file name: \\n\";\n    cin &gt;&gt; input;\n    cout &lt;&lt; \"Enter output file name: \\n\";\n    cin &gt;&gt; output;\n\n    in.open(input.c_str());\n    out.open(output.c_str());\n\n    in &gt;&gt; t1 &gt;&gt; t2 &gt;&gt; t3 &gt;&gt; t4 &gt;&gt; tol;\n\n\n    for(int i = 0; i &lt; 6; i++)\n    {\n        for(int c = 0; c &lt; 8; c++)\n        {\n            grid[i][c] = 0;\n        }\n    }\n\n    //  Initializes top and bottom rows to 0\n    for(int i = 0; i &lt; 8; i++)\n    {\n        grid[0][i] = t1;\n        grid[7][i] = t3;\n    }\n    //  Initializes left and right columns to 0\n    for(int i = 1; i &lt; 5; i++)\n    {\n        grid[i][0] = t4;\n        grid[i][7] = t2;\n    }\n\n    cellTemp(grid, tol);\n    if(out.is_open())\n    {\n        for(int i = 0; i &lt; 6; i++)\n        {\n            for(int c = 0; c &lt; 8; c++)\n            {\n                out &lt;&lt; grid[i][c];\n            }\n            out &lt;&lt; endl;\n        }\n        out.flush();\n    }\n    else\n    {\n        cout &lt;&lt; \"Cannot open file. \\n\";\n    }\n    out.close();\n    in.close();\n}\nvoid cellTemp (double check[][col], double tolerance){\n\n    double copy[row][col];\n    double max = 0;\n    double prev = 0;\n    double prevMax;\n    double prevTol = tolerance;\n\n    tolerance = -1;\n    while(prevMax &gt; tolerance)\n    {\n        tolerance = prevTol;\n        //  Copies the array before performing actions\n        for(int i = 0; i &lt; 6; i++)\n        {\n            for(int c = 0; c &lt; 8; c++)\n            {\n                copy[i][c] = check[i][c];\n            }\n        }\n\n        //  Sets cell values\n        for(int i = 1; i &lt; 5; i++)\n        {\n            for(int c = 1; c &lt; 7; c++)\n            {\n                check[i][c] = (check[i-1][c] + check[i+1][c] +\n                        check[i][c-1] + check[i][c+1]) / 4;\n            }\n        }\n\n        for(int i = 1; i &lt; 5; i++)\n        {\n            for(int c = 1; c &lt; 7; c++)\n            {\n                prev = check[i][c] - copy[i][c];\n                if(prev &gt; max)\n                {\n                    max = prev;\n                }\n            }\n        }\n        prevMax = max;\n        max = 0;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "fstream", "ifstream"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1494458138, "post_id": 43904030, "comment_id": 74842139, "body": "So you want to ignore anything that might not be a number? Try reading into a string. Then use a regular expresssion to match the string, and grab the number from one of the regular expression&#39;s matched groups. Confused yet? :-) The regex is admittedly simpler than other kinds of reading because of the consecutive series of characters like <code>123</code>, although <code>stoi</code> will generally pull off as many integers from the front of the string as they can so YMMV"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1494458445, "post_id": 43904030, "comment_id": 74842206, "body": "while(!file.eof()) doesnt do what u think it does"}], "answers": [{"comments": [{"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1494459374, "post_id": 43904193, "comment_id": 74842447, "body": "How do you know that the number will always have a space appearing before it?"}, {"owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "reply_to_user": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1494459895, "post_id": 43904193, "comment_id": 74842547, "body": "I don&#39;t i assume it&#39;s a standard in this example since he shows two identical lines, but the concept is the same as long as there is a space in the file before and after the number. Get a substring, see if it can be cast to an int, if not then try the next substr, and so on."}], "tags": [], "owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "is_accepted": false, "score": 0, "last_activity_date": 1494459013, "creation_date": 1494459013, "answer_id": 43904193, "question_id": 43904030, "link": "https://stackoverflow.com/questions/43904030/c-ifstream-read-only-number-of-a-word/43904193#43904193", "title": "C++ ifstream read only number of a word", "body": "<p>You need to check if the file is open, then get the current line, then parse that current line to get the first number:</p>\n\n<pre><code>std::string currentLine = \"\";\nstd::string numbers = \"\";\nifstream file(\"file.txt\");\nif(file.is_open())\n{\n    while(std::getline(file, currentLine))\n    {\n        int index = currentLine.find_first_of(' '); // look for the first space\n        numbers = currentLine.substr(index + 1, xyz);\n    }\n} \n</code></pre>\n\n<p>xyz is the length of numbers ( 3 in this case if always constant ) or you can look for the next blank space by getting a substring from <code>(index, currentLine.back() - index);</code> </p>\n\n<p>I'm sure you can figure out the rest, good luck.</p>\n"}, {"tags": [], "owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1494459706, "last_edit_date": 1495542870, "creation_date": 1494459325, "answer_id": 43904231, "question_id": 43904030, "link": "https://stackoverflow.com/questions/43904030/c-ifstream-read-only-number-of-a-word/43904231#43904231", "title": "C++ ifstream read only number of a word", "body": "<p>There are a number of ways you could do this.  The method you've tried doesn't work because there is no number-like thing sitting at the read position in the stream.  So the input will fail, and the stream's <em>fail-bit</em> will be set.  You'll loop forever because you're only testing for <em>eof</em>.  <a href=\"https://stackoverflow.com/a/5605159/1553090\">Read this</a> for more information.</p>\n\n<p>A simple way is to read a line at a time, and search for the first number by exploiting the second argument to <code>std::strtol</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;experimental/optional&gt;\n\nstd::experimental::optional&lt;int&gt; find_int_strtol( const std::string &amp; s )\n{\n    for( const char *p = s.c_str(); *p != '\\0'; p++ )\n    {\n        char *next;\n        int value = std::strtol( p, &amp;next, 10 );\n        if( next != p ) {\n            return value;\n        }\n    }\n    return {};\n}\n\nint main()\n{\n    for( std::string line; std::getline( std::cin, line ); )\n    {\n        auto n = find_int_strtol( line );\n        if( n )\n        {\n            std::cout &lt;&lt; \"Got \" &lt;&lt; n.value() &lt;&lt; \" in \" &lt;&lt; line &lt;&lt; std::endl;\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p>This is a bit clunky and it will also detect negatives, which you might not want.  But it's a simple approach.  The <code>next</code> pointer will be different to <code>p</code> if any characters were extracted.  Otherwise the function fails.  Then you increment <code>p</code> by 1 and search again.  It looks like a polynomial search, but it's linear.</p>\n\n<p>I've used <code>std::optional</code> from C++17, but I was testing on a C++14 compiler.  It's for convenience.  You could write the function without it.</p>\n\n<p>Live example <a href=\"http://ideone.com/hXBvt9\" rel=\"nofollow noreferrer\">is here</a>.</p>\n\n<p>A more flexible way to solve problems like this is to use a regular expression.  In this case, a simple numeric regex search is all you need.  The following will only find positive integers, but you can use this type of pattern to find complex data too.  Don't forget to include the header <code>&lt;regex&gt;</code>:</p>\n\n<pre><code>std::experimental::optional&lt;int&gt; find_int_regex( const std::string &amp; s )\n{\n    static const std::regex r( \"(\\\\d+)\" );\n    std::smatch match;\n    if( std::regex_search( s.begin(), s.end(), match, r ) )\n    {\n        return std::stoi( match[1] );\n    }\n    return {};\n}\n</code></pre>\n\n<p>Live example <a href=\"http://ideone.com/TzEcwA\" rel=\"nofollow noreferrer\">is here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "is_accepted": false, "score": 0, "last_activity_date": 1494461104, "creation_date": 1494461104, "answer_id": 43904460, "question_id": 43904030, "link": "https://stackoverflow.com/questions/43904030/c-ifstream-read-only-number-of-a-word/43904460#43904460", "title": "C++ ifstream read only number of a word", "body": "<p>Read line by line and remove all chars that are not digits. Finish with a <code>std::stoi</code> before pushing to your <code>std::vector</code>.</p>\n\n<pre><code>std::ifstream file{\"file.txt\"};\nstd::vector&lt;int&gt; numbers;\n\nfor (std::string s; std::getline(file, s);) {\n    s.erase(std::remove_if(std::begin(s), std::end(s),\n        [] (char c) { return !::isdigit(c); }), std::end(s));\n    numbers.push_back(std::stoi(s));\n}\n</code></pre>\n\n<p>Alternatively use <code>std::regex_replace</code> to remove non-digit chars:</p>\n\n<pre><code>auto tmp = std::regex_replace(s, std::regex{R\"raw([^\\d]+(\\d+).+)raw\"}, \"$1\");\nnumbers.push_back(std::stoi(tmp));\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/0cc1d1c244d9d353\" rel=\"nofollow noreferrer\"><strong>Live example</strong></a></p>\n"}], "owner": {"reputation": 137, "user_id": 5508419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6d3033e69897afddfe2ad04c828ac597?s=128&d=identicon&r=PG&f=1", "display_name": "iWillBeMaster", "link": "https://stackoverflow.com/users/5508419/iwillbemaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "accepted_answer_id": 43904231, "answer_count": 3, "score": 4, "last_activity_date": 1494461366, "creation_date": 1494457767, "last_edit_date": 1494461366, "question_id": 43904030, "link": "https://stackoverflow.com/questions/43904030/c-ifstream-read-only-number-of-a-word", "title": "C++ ifstream read only number of a word", "body": "<p>So i'd like to read numbers from a .txt file as integers.</p>\n\n<p>file.txt:</p>\n\n<pre><code>hello 123-abc\nworld 456-def\n</code></pre>\n\n<p>current code:</p>\n\n<pre><code>int number;\nifstream file(\"file.txt\");\nwhile (!file.eof())\n{\n    file &gt;&gt; number; //123, 456\n}\n</code></pre>\n\n<p>Now this obviously doesnt work and ive been trying to solve this for a \"while\" but i just can not get around this.</p>\n"}, {"tags": ["c++", "windows", "print-spooler-api"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1494457482, "post_id": 43903961, "comment_id": 74841980, "body": "Can you install a custom print processor in the printer you&#39;re targeting?"}, {"owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1494457587, "post_id": 43903961, "comment_id": 74842010, "body": "Print device or printer? If print device, then no"}, {"owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1494464000, "post_id": 43903961, "comment_id": 74843382, "body": "@MrEricSir I think I can, can you elaborate on that solution?"}, {"owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1494464539, "post_id": 43903961, "comment_id": 74843494, "body": "Also I&#39;m not targeting one printer in specific, could be many at once."}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1494802498, "post_id": 43903961, "comment_id": 74969058, "body": "The trouble with trying to enumerate jobs and then redirect them to another printer is that by the time you find it and change it, it will usually already have begun printing. You have to intercept it before that happens. With small print jobs that&#39;s going to be a challenge."}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1494802574, "post_id": 43903961, "comment_id": 74969077, "body": "I can think of several ways to do this, but they all involve altering existing printers to use an alternate print processor or port monitor. Is that allowable?"}, {"owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "edited": false, "score": 0, "creation_date": 1494802574, "post_id": 43903961, "comment_id": 74969078, "body": "I was sending them to a non existent printer, so they would stop by default. You are correct though."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "edited": false, "score": 0, "creation_date": 1494471709, "post_id": 43905170, "comment_id": 74845094, "body": "Going to take a look at this now."}], "tags": [], "owner": {"reputation": 2670, "user_id": 313445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fxw3W.jpg?s=128&g=1", "display_name": "Nick Westgate", "link": "https://stackoverflow.com/users/313445/nick-westgate"}, "is_accepted": false, "score": 0, "last_activity_date": 1494467115, "creation_date": 1494467115, "answer_id": 43905170, "question_id": 43903961, "link": "https://stackoverflow.com/questions/43903961/rerouting-print-job-to-another-print-device/43905170#43905170", "title": "Rerouting print job to another print device", "body": "<p><a href=\"http://pages.cs.wisc.edu/~ghost/redmon/\" rel=\"nofollow noreferrer\">RedMon</a> might be useful if you can change the port. (Or at least the source code might inspire you.)</p>\n"}], "owner": {"reputation": 25, "user_id": 7868733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2be05312e0171a0ffd5afff78fbee3bb?s=128&d=identicon&r=PG&f=1", "display_name": "ashmont", "link": "https://stackoverflow.com/users/7868733/ashmont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494467115, "creation_date": 1494457305, "question_id": 43903961, "link": "https://stackoverflow.com/questions/43903961/rerouting-print-job-to-another-print-device", "title": "Rerouting print job to another print device", "body": "<p>I am trying to use the printspoolerapi to take a print job and reroute it to another printer. So far I believe i have captured the information required through enumjobs, but when setting the print job to another printer I get an empty sheet printed out.</p>\n\n<p>So obviously I am not sending along the file or it's contents, just the data type and print job name.</p>\n\n<p>As far as I can tell I need to get the file and send it to the WritePrint? I believe either the .spl file or the actual file itself should be used for this. (using AddJob for getting the actual file, if I can do that)</p>\n\n<p>Specifically, has anyone successfully done this before? I need to see an example or something like that. I've looked all over and haven't really found something that gives me an example on this.</p>\n"}, {"tags": ["c++", "matlab", "diagnostics"], "comments": [{"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 5, "creation_date": 1494456659, "post_id": 43903860, "comment_id": 74841747, "body": "Just redirect the output of your C++ program to a text file and then <a href=\"https://uk.mathworks.com/help/matlab/ref/importdata.html\" rel=\"nofollow noreferrer\">load this directly into MATLAB</a>."}, {"owner": {"reputation": 1897, "user_id": 854183, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c1503cf70823c67b54c197559cc08c63?s=128&d=identicon&r=PG", "display_name": "quantum231", "link": "https://stackoverflow.com/users/854183/quantum231"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1494456902, "post_id": 43903860, "comment_id": 74841818, "body": "A text file and not binary file? OK"}, {"owner": {"reputation": 1897, "user_id": 854183, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c1503cf70823c67b54c197559cc08c63?s=128&d=identicon&r=PG", "display_name": "quantum231", "link": "https://stackoverflow.com/users/854183/quantum231"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1494457246, "post_id": 43903860, "comment_id": 74841912, "body": "I see, I can import the data and then split into blocks in a 3D array. That is nice. In my understanding MATLAB could only input a .m file which I am not sure how to create in C++"}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 1, "creation_date": 1494457348, "post_id": 43903860, "comment_id": 74841943, "body": "Text format is generally preferable unless you have a huge amount of data such that file size becomes a problem - text files are much easier to deal with and more portable."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1494457404, "post_id": 43903860, "comment_id": 74841964, "body": ".m files are for MATLAB program code - however MATLAB supports a wide range of file formats for data I/O - various text formats as well as binary and various image formats."}, {"owner": {"reputation": 1332, "user_id": 1675724, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/pDYqk.jpg?s=128&g=1", "display_name": "Brethlosze", "link": "https://stackoverflow.com/users/1675724/brethlosze"}, "edited": false, "score": 0, "creation_date": 1494469751, "post_id": 43903860, "comment_id": 74844667, "body": "Yes... the flat file approach is the best here, more than any other esoteric data transfer you could think on implement........."}, {"owner": {"reputation": 1408, "user_id": 5358968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OAzKA.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/5358968/steve"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1494490634, "post_id": 43903860, "comment_id": 74853328, "body": "@PaulR Is there an issue with decimal representation compared to the internal binary/float representations, or are the differences generally considered too small to worry about?"}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "reply_to_user": {"reputation": 1408, "user_id": 5358968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OAzKA.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/5358968/steve"}, "edited": false, "score": 2, "creation_date": 1494511152, "post_id": 43903860, "comment_id": 74868347, "body": "@Steve: in general it&#39;s feasible to read/write binary float values, but there can be compatibility issues with e.g. 8/10 byte doubles, and even endianness in some cases. Text is just much easier to deal with, since it&#39;s human-readable, and can be read/written by many different tools, e.g. spreadsheets, databases, etc."}], "answers": [{"comments": [{"owner": {"reputation": 1897, "user_id": 854183, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c1503cf70823c67b54c197559cc08c63?s=128&d=identicon&r=PG", "display_name": "quantum231", "link": "https://stackoverflow.com/users/854183/quantum231"}, "edited": false, "score": 0, "creation_date": 1494535271, "post_id": 43906458, "comment_id": 74883636, "body": "I thought matlab only works with .m files and some other limited non c++ friendly formats. But now it is clear that is not the case."}], "tags": [], "owner": {"reputation": 1680, "user_id": 5282154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a468ae12f72b587ad0c4e89ffde11839?s=128&d=identicon&r=PG", "display_name": "doug", "link": "https://stackoverflow.com/users/5282154/doug"}, "is_accepted": false, "score": 1, "last_activity_date": 1494476270, "creation_date": 1494476270, "answer_id": 43906458, "question_id": 43903860, "link": "https://stackoverflow.com/questions/43903860/how-to-compare-results-between-c-and-matlab/43906458#43906458", "title": "How to compare results between C++ and MATLAB?", "body": "<p>It's very easy to get numerical data from a C++ program to Matlab. Just output numbers as ascii text to a file then read it in using <code>load</code>  Separate each number in a column by a space and each row by a newline.</p>\n\n<p>Let's take a 3 rows of 2 numbers as an example and say you create a file \"text.txt\" that looks like this:</p>\n\n<pre><code>1 2\n3 4\n5 6\n</code></pre>\n\n<p>Then, in Matlab, the command:</p>\n\n<pre><code> load text.txt\n</code></pre>\n\n<p>will read the data into a variable named <code>text</code> that is a 3x2 matrix.</p>\n"}, {"tags": [], "owner": {"reputation": 1408, "user_id": 5358968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OAzKA.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/5358968/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1494495525, "last_edit_date": 1495540959, "creation_date": 1494493455, "answer_id": 43911031, "question_id": 43903860, "link": "https://stackoverflow.com/questions/43903860/how-to-compare-results-between-c-and-matlab/43911031#43911031", "title": "How to compare results between C++ and MATLAB?", "body": "<p>In addition, you could do a little bit of pretty outputting and directly write to a runnable <code>.m</code> file (I use this approach to get numerics into LaTeX documents). A benefit of this approach is that you could define multiple MATLAB variables with a single file. For example:</p>\n\n<pre><code>#include &lt;fstream&gt;\n\nint main() {\n  std::ofstream file;\n  file.open (\"cpp_output.m\");\n  file &lt;&lt; \"out = [\\n\";\n  for (double x = 1; x&lt;6; x++) {\n    file &lt;&lt; x &lt;&lt; ' ' &lt;&lt; 1/(x*x) &lt;&lt; '\\n';\n  }\n  file &lt;&lt; \"];\";\n  file.close();\n}\n</code></pre>\n\n<p>produces the file <code>cpp_output.m</code></p>\n\n<pre><code>out = [\n1 1\n2 0.25\n3 0.111111\n4 0.0625\n5 0.04\n];\n</code></pre>\n\n<p>You probably want to change the precision (e.g. <a href=\"https://stackoverflow.com/q/554063/5358968\">How do I print a double value with full precision using cout?</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 7674962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/976a934a14c12c0b230ae2c25888d8b2?s=128&d=identicon&r=PG&f=1", "display_name": "kedarps", "link": "https://stackoverflow.com/users/7674962/kedarps"}, "is_accepted": false, "score": 2, "last_activity_date": 1494498954, "creation_date": 1494498954, "answer_id": 43912992, "question_id": 43903860, "link": "https://stackoverflow.com/questions/43903860/how-to-compare-results-between-c-and-matlab/43912992#43912992", "title": "How to compare results between C++ and MATLAB?", "body": "<p>Have you considered using mex functions? If you do use them, I highly recommend using the <a href=\"http://arma.sourceforge.net/docs.html\" rel=\"nofollow noreferrer\">Armadillo</a> library, which provides convenient data types and methods to switch between MATLAB and C++.</p>\n\n<p>For example, </p>\n\n<pre><code>#include \"mex.h\"\n#include &lt;armadillo&gt;\n#include \"armaMex.hpp\"\n#include &lt;sstream&gt;    \n\n// gateway function\nvoid mexFunction(int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[])\n{     \n// get data from MATLAB\nmat X = conv_to&lt;mat&gt;::from(armaGetPr(prhs[0],true));\nmat Y = conv_to&lt;mat&gt;::from(armaGetPr(prhs[1],true));\n\n// do some stuff\nmat Z = X + Y;\n\n// Print data in matlab\nstd::ostringstream buffer;\nbuffer &lt;&lt; \"X = \" &lt;&lt; X &lt;&lt; endl;\nbuffer &lt;&lt; \"Y = \" &lt;&lt; Y &lt;&lt; endl;\nbuffer &lt;&lt; \"Z = \" &lt;&lt; Z &lt;&lt; endl;\nmexPrintf(\"%s\", buffer.str().c_str());    \n\n// send data back to Matlab\nplhs[0] = armaCreateMxMatrix(Z.n_rows, Z.n_cols, mxDOUBLE_CLASS, mxREAL); \narmaSetPr(plhs[0], conv_to&lt;mat&gt;::from(Z));\n\nreturn;\n}\n</code></pre>\n"}], "owner": {"reputation": 1897, "user_id": 854183, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c1503cf70823c67b54c197559cc08c63?s=128&d=identicon&r=PG", "display_name": "quantum231", "link": "https://stackoverflow.com/users/854183/quantum231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1494498954, "creation_date": 1494456546, "question_id": 43903860, "link": "https://stackoverflow.com/questions/43903860/how-to-compare-results-between-c-and-matlab", "title": "How to compare results between C++ and MATLAB?", "body": "<p>I have a program that processes 2D array of doubles at several stages. I want to compare its results with MATLAB. I can perhaps use std::cout to print some of 8x8 size blocks the 2D array before and after processing (the algorithm works on blocks) onto the console and then manually type those numbers into MATLAB. But that is error prone and tedius. Is there a way to conviniently get this data into MATLAB?</p>\n\n<p>Matlab has built in functions to simplify many things. I want to get the data before and after processing in the C++ program into MATLAB and then run some checks on it e.g draw graphs and stuff. How do I get the data from the C++ program into MATLAB?</p>\n"}, {"tags": ["c++", "regex"], "comments": [{"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1494456041, "post_id": 43903754, "comment_id": 74841565, "body": "Language is a concern since regex is different from one another. JavaScript, C++, ,...?"}, {"owner": {"reputation": 19547, "user_id": 10755, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/55eac37a13741fa7bd2145de94fd4f28?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10755/tim"}, "reply_to_user": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1494456250, "post_id": 43903754, "comment_id": 74841632, "body": "@zer00ne - thanks - C++ - I updated the tags"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1494456549, "post_id": 43903754, "comment_id": 74841712, "body": "Did you want the space before and after the 10 digit number?"}, {"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1494456555, "post_id": 43903754, "comment_id": 74841715, "body": "So each <code>#</code> represents any single digit? Are those new lines or is it one line wrapped around?"}, {"owner": {"reputation": 113, "user_id": 3277486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4078179149c919a694d9265f1ec48e84?s=128&d=identicon&r=PG&f=1", "display_name": "Wrinn", "link": "https://stackoverflow.com/users/3277486/wrinn"}, "edited": false, "score": 1, "creation_date": 1494456614, "post_id": 43903754, "comment_id": 74841732, "body": "Here&#39;s an example that will capture all 4 of your patterns (only 1 at a time): /(?=(\\d{18})) | (?=(\\d{10})) | (?=((?&gt;\\d{4}[-.]){4}\\d{2})) | (?=(\\d{5}[-.]\\d{5}))/  I&#39;ll post an answer and explain the regex a bit"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1494457215, "post_id": 43903754, "comment_id": 74841906, "body": "It&#39;s pretty simple really <code>^####(?:[ ]####[ ]####[ ]####[ ]##|####(?:[ ]##########|##(?:########)?))$</code> where each # is a digit."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1494457868, "post_id": 43903754, "comment_id": 74842075, "body": "Then there is this <code>^\\d{4}(?: (?:\\d{4} ){3}\\d{2}|\\d{4}(?: \\d{10}|\\d{2}(?:\\d{8})?))$</code> <a href=\"https://regex101.com/r/Dnvdok/1\" rel=\"nofollow noreferrer\">regex101.com/r/Dnvdok/1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 3277486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4078179149c919a694d9265f1ec48e84?s=128&d=identicon&r=PG&f=1", "display_name": "Wrinn", "link": "https://stackoverflow.com/users/3277486/wrinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1494457644, "last_edit_date": 1494457644, "creation_date": 1494457218, "answer_id": 43903946, "question_id": 43903754, "link": "https://stackoverflow.com/questions/43903754/how-do-i-write-a-regex-to-match-the-following-number-formats/43903946#43903946", "title": "How do I write a regex to match the following number formats?", "body": "<p>(Note I'm not sure if this will work in C++, but it's working regex in a normal online regex-checker)\n(EDIT: your question doesn't specify what your delimiter is.  I'm using '.' or '-', but they can be replaced by anything, such as '\\s')</p>\n\n<p><code>(?=(\\d{18}))|(?=(\\d{10}))|(?=((?&gt;\\d{4}[-.]){4}\\d{2}))|(?=(\\d{5}[-.]\\d{5}))</code></p>\n\n<p>Let me break this down:</p>\n\n<ul>\n<li><p>Each <code>|</code> between <code>(?=...)</code> groups is a logical OR.  The regex will return the first group that successfully matches.</p></li>\n<li><p><code>(?=...)</code> means \"positive look ahead\"</p></li>\n<li><p><code>(?=(\\d{18}))</code> Return a group of 18 consecutive digits [0-9]</p></li>\n<li><p><code>(?=(\\d{10}))</code> Return a group of 10 consecutive digits [0-9]</p></li>\n<li><p><code>(?=((?&gt;\\d{4}[-.]){4}\\d{2}))</code> Return a group that follows a pattern of (4 consecutive digits followed by either a '.' or '-') repeated 4 times (the pattern, not the exact values), followed by 2 digits.  The <code>(?&gt;...)</code> bit just means \"don't capture this group\"</p></li>\n<li><p><code>(?=(\\d{5}[-.]\\d{5}))</code> Return a group of 5 consecutive digits followed by a '.' or '-' followed by 5 more digits</p></li>\n</ul>\n\n<p>This is by no means the only way to write this, and somebody else may have a more elegant solution.  But this works!</p>\n"}, {"tags": [], "owner": {"reputation": 1660, "user_id": 2644015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5e2226617f8972e8390cb5a31362371?s=128&d=identicon&r=PG", "display_name": "smead", "link": "https://stackoverflow.com/users/2644015/smead"}, "is_accepted": false, "score": 1, "last_activity_date": 1494457525, "creation_date": 1494457525, "answer_id": 43903990, "question_id": 43903754, "link": "https://stackoverflow.com/questions/43903754/how-do-i-write-a-regex-to-match-the-following-number-formats/43903990#43903990", "title": "How do I write a regex to match the following number formats?", "body": "<p>This should do what you want:</p>\n\n<pre><code>(\\d *){17}\\d|\\d{10}\n</code></pre>\n\n<p>The first option matches any 17 digits followed by 0 or more spaces, followed by an 18th digit. The second option only matches 10 consecutive digits.</p>\n\n<p>If you want a max of one space between digits, you can do this instead:</p>\n\n<pre><code>(\\d ?){17}\\d|\\d{10}\n</code></pre>\n\n<p>Note that the matches will still have the spaces in them, so you'll want to remove the spaces from them after.</p>\n\n<p>If there can be other delimiters like <code>-</code> you can use a character list like:</p>\n\n<pre><code>(\\d[- ]?){17}\\d|\\d{10}\n</code></pre>\n"}], "owner": {"reputation": 19547, "user_id": 10755, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/55eac37a13741fa7bd2145de94fd4f28?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10755/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494457644, "creation_date": 1494455839, "last_edit_date": 1494457464, "question_id": 43903754, "link": "https://stackoverflow.com/questions/43903754/how-do-i-write-a-regex-to-match-the-following-number-formats", "title": "How do I write a regex to match the following number formats?", "body": "<p>I am fairly new to writing regexes.</p>\n\n<p>I need to match the following patterns (all numbers) with a single regex.\nEach of the following is a valid pattern I want to match.\nFinding any of them should satisfy the regex</p>\n\n<p>Each # symbol is one digit [0-9]</p>\n\n<pre><code>##################      \n#### #### #### #### ##  \n######## ##########     \n##########                  \n</code></pre>\n\n<p>18 digits, no delimiters <br/>\n18 digits delimited <br/>\n10 digits</p>\n\n<p>I tried this to match the 10 digits and it does not match.</p>\n\n<pre><code>(?: \\d{10} )\n</code></pre>\n"}, {"tags": ["c++", "c++11", "stl", "move-semantics", "template-specialization"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1494456043, "post_id": 43903698, "comment_id": 74841566, "body": "Why are you specializing <code>std::move</code>?  If you want your toe to be movable just provide a move constructor and move assignment operator."}, {"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1494456242, "post_id": 43903698, "comment_id": 74841629, "body": "@NathanOliver, I agree that the custom move constructor and assignment operator is the proper way to go. But regardless, I cannot explain what I am observing. That&#39;s why I posted the question."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1494456262, "post_id": 43903698, "comment_id": 74841636, "body": "@NathanOliver: I think toes are already movable :-)"}, {"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1494457943, "post_id": 43903698, "comment_id": 74842090, "body": "@AndyG What is a toe?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1494457979, "post_id": 43903698, "comment_id": 74842101, "body": "@ACE: It&#39;s one of those wiggly things attached to your foot ;-)"}, {"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1494458689, "post_id": 43903698, "comment_id": 74842271, "body": "It all started when @NathanOliver made a typo :-))"}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494457446, "post_id": 43903815, "comment_id": 74841972, "body": "1. if <code>a</code> is <code>my_type&amp;</code> and <b><i>not</i></b> <code>my_type&amp;&amp;</code>, then why/how does it bind to the generic move template, which expects <code>T&amp;&amp;</code> and not <code>T&amp;</code> 2. I did try to overload <code>move</code> with <code>my_type&amp;</code> but I the compiler errored about not finding a matching template to specialize: <code>(aka &#39;my_type &amp;&amp;(my_type &amp;&amp;) noexcept&#39;) against ... (aka &#39;my_type &amp;&amp;(my_type &amp;) noexcept&#39;)</code>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494457510, "post_id": 43903815, "comment_id": 74841990, "body": "@ACE:I answered 1) already in the post. &quot;In the context of type deduction it can bind to both my_type&amp;, my_type&amp;&amp; or any cv variation&quot;"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494457571, "post_id": 43903815, "comment_id": 74842007, "body": "@ACE: Regarding 2) You probably didn&#39;t write it correctly (always prefer overloading to template specialization): Try this: <a href=\"https://wandbox.org/permlink/DlkWb1EyZWDZEOFA\" rel=\"nofollow noreferrer\">wandbox.org/permlink/DlkWb1EyZWDZEOFA</a>"}, {"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494457780, "post_id": 43903815, "comment_id": 74842059, "body": "Ah, you&#39;re overloading instead of template specializing"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494457928, "post_id": 43903815, "comment_id": 74842085, "body": "@ACE: The overloading is not necessary. It&#39;s just... weirder with template specialization: <a href=\"https://wandbox.org/permlink/M7VnfDdezjW0nhk6\" rel=\"nofollow noreferrer\">wandbox.org/permlink/M7VnfDdezjW0nhk6</a>"}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "reply_to_user": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494458032, "post_id": 43903815, "comment_id": 74842116, "body": "@ACE: the argument to <code>std::move()</code> is a <i>forwarding reference</i> which is deduced to the appropriate type. Your specialisation takes an <i>rvalue reference</i> as argument. The type of an rvalue reference is clearly specified and not deduced as that of a forwarding reference."}, {"owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "edited": false, "score": 0, "creation_date": 1494458572, "post_id": 43903815, "comment_id": 74842241, "body": "@AndyG, yeah, I did make an error in my specialization for <code>my_type&amp;</code>. Thanks!"}], "tags": [], "owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "is_accepted": true, "score": 6, "last_activity_date": 1494456228, "creation_date": 1494456228, "answer_id": 43903815, "question_id": 43903698, "link": "https://stackoverflow.com/questions/43903698/invoking-specialized-stdmove/43903815#43903815", "title": "Invoking specialized std::move()", "body": "<p>When you call <code>std::move(a)</code> the type of <code>a</code> is <code>my_type&amp;</code>, not <code>my_type&amp;&amp;</code>. Therefore the generic <code>std::move</code> is a better match because it can match exactly.</p>\n\n<p>If you changed your overload of <code>move</code> to look like this:</p>\n\n<pre><code>inline\ntypename std::remove_reference&lt;my_type&gt;::type&amp;&amp;\nmove(my_type&amp; t) noexcept\n{\n    std::cout &lt;&lt; \"Invoke std::move() specialization\\n\";\n    return static_cast&lt;typename remove_reference&lt;my_type&gt;::type&amp;&amp;&gt;(t);\n}\n</code></pre>\n\n<p>Then it would appropriately get called (but the the generic one would get called for <code>std::move(static_cast&lt;my_type&amp;&amp;&gt;(a));</code>)</p>\n\n<p>This happens because the <a href=\"http://en.cppreference.com/w/cpp/utility/move\" rel=\"noreferrer\">generic definition</a> looks like this:</p>\n\n<pre><code>template&lt; class T &gt;\nconstexpr typename std::remove_reference&lt;T&gt;::type&amp;&amp; move( T&amp;&amp; t );\n</code></pre>\n\n<p>That <code>T&amp;&amp;</code> is key. In the context of type deduction it can bind to both <code>my_type&amp;</code>, <code>my_type&amp;&amp;</code> or any cv (<code>const</code> or <code>volatile</code>) variation. This is why in the absence of the specialization it's able to invoke the generic version for both calls.</p>\n\n<p>So to really cover all bases, you'll need more than one overload. Probably, though, you'd be better off with a <code>custom_move</code> constrained for your type.</p>\n"}, {"comments": [{"owner": {"reputation": 4681, "user_id": 6651824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LWsU0.jpg?s=128&g=1", "display_name": "LWimsey", "link": "https://stackoverflow.com/users/6651824/lwimsey"}, "edited": false, "score": 0, "creation_date": 1494460631, "post_id": 43904173, "comment_id": 74842683, "body": "plus1 for <code>Specializations cannot use perfect forwarding</code>"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1494458876, "creation_date": 1494458876, "answer_id": 43904173, "question_id": 43903698, "link": "https://stackoverflow.com/questions/43903698/invoking-specialized-stdmove/43904173#43904173", "title": "Invoking specialized std::move()", "body": "<p>So, your first problem is that any specialization of things in <code>std</code> must obey the requirements of the thing you are specializing.  Which means ... you aren't allowed to do anything different.</p>\n\n<p>Second, the generic version of <code>std::move</code> uses perfect forwarding.  Specializations cannot.</p>\n\n<pre><code>#define SPEC_MOVE(X) \\\ntemplate&lt;&gt; inline \\\ntypename std::remove_reference&lt;X&gt;::type&amp;&amp; move&lt;X&gt;(X t) noexcept \\\n{ \\\n  std::cout &lt;&lt; \"Invoke std::move() specialization\\n\"; \\\n  return static_cast&lt;typename remove_reference&lt;X&gt;::type&amp;&amp;&gt;(t); \\\n}\nSPEC_MOVE(my_type&amp;&amp;)\nSPEC_MOVE(my_type&amp;)\nSPEC_MOVE(my_type const&amp;)\nSPEC_MOVE(my_type const&amp;&amp;)\nSPEC_MOVE(my_type const volatile&amp;&amp;)\nSPEC_MOVE(my_type const volatile&amp;)\nSPEC_MOVE(my_type volatile&amp;)\nSPEC_MOVE(my_type volatile&amp;&amp;)\n</code></pre>\n\n<p>That should do it.</p>\n\n<p>This is a bad plan.</p>\n"}], "owner": {"reputation": 100, "user_id": 7932323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/al0iW.jpg?s=128&g=1", "display_name": "Soumyaroop Roy", "link": "https://stackoverflow.com/users/7932323/soumyaroop-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 1, "accepted_answer_id": 43903815, "answer_count": 2, "score": 2, "last_activity_date": 1494458876, "creation_date": 1494455430, "question_id": 43903698, "link": "https://stackoverflow.com/questions/43903698/invoking-specialized-stdmove", "title": "Invoking specialized std::move()", "body": "<p>I am confused about how template argument deduction is taking place in the example below. I use the term <strong><em>invoke</em></strong> in the rest of this post to imply <strong><em>instantiate and invoke</em></strong>.</p>\n\n<p>I specialized <code>std::move()</code> for my custom type <code>my_type</code> and I observe that, for an instance <code>x</code> of type <code>my_type</code>:</p>\n\n<ol>\n<li><code>std::move(x)</code> continues to invoke the generic template</li>\n<li><code>std::move(static_cast&lt;my_type&amp;&amp;&gt;(x))</code> or <code>std::move(std::forward(x))</code> invokes the specialization</li>\n<li>In the absence of my specialization, all of the above calls invoke the generic template</li>\n</ol>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Why does the call in item #1 above not invoke the specialization?</li>\n<li>In the absence of the specialization, how do the calls in items #1 and #2 behave the same?</li>\n</ul>\n\n<p>Here is the entire code:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;utility&gt;\n\nstruct my_type\n{\n    int x;\n};\n\nnamespace std\n{\n\n// This is the std::move() definition in the preprocessor output:\n//\n// template &lt;class _Tp&gt;\n// inline __attribute__ ((__visibility__(\"hidden\"), __always_inline__)) constexpr\n// typename remove_reference&lt;_Tp&gt;::type&amp;&amp;\n// move(_Tp&amp;&amp; __t) noexcept\n// {\n//     typedef typename remove_reference&lt;_Tp&gt;::type _Up;\n//     return static_cast&lt;_Up&amp;&amp;&gt;(__t);\n// }\n\n// This is std::move() specialized for my_type\ntemplate&lt;&gt;\ninline\ntypename std::remove_reference&lt;my_type&gt;::type&amp;&amp;\nmove&lt;my_type&gt;(my_type&amp;&amp; t) noexcept\n{\n    std::cout &lt;&lt; \"Invoke std::move() specialization\\n\";\n    return static_cast&lt;typename remove_reference&lt;my_type&gt;::type&amp;&amp;&gt;(t);\n}\n\n} // namespace std\n\nint main()\n{\n  auto a = my_type();\n\n  std::cout &lt;&lt; \"Execute 'auto b = std::move(a);'\\n\";\n  auto b = std::move(a); // Invokes the generic template\n\n  std::cout &lt;&lt; \"Execute 'auto c = std::move(static_cast&lt;my_type&amp;&amp;&gt;(a));'\\n\";\n  auto c = std::move(static_cast&lt;my_type&amp;&amp;&gt;(a)); // Invokes the specialization\n\n  return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Execute 'auto b = std::move(a);'\nExecute 'auto c = std::move(static_cast&lt;my_type&amp;&amp;&gt;(a));'\nInvoke std::move() specialization\n</code></pre>\n"}, {"tags": ["c++", "sorting", "file-io", "word-frequency"], "comments": [{"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1494456301, "post_id": 43903692, "comment_id": 74841647, "body": "Is your assignment written such that you can copy and paste it? I think some information is missing. It doesn&#39;t make much sense to do this without maintaining a count of each word somewhere. As you said, a map, unordered_map, or hashtable, would make more sense to me then just vector and strings. You could make a vector&lt; std::pair&lt;int, std::string&gt; &gt; , but I doubt that is what your instructor is going for."}, {"owner": {"reputation": 85, "user_id": 7994280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-qtto6OhjR8g/AAAAAAAAAAI/AAAAAAAAABU/As3D19nK-cM/photo.jpg?sz=128", "display_name": "Jiabei Luo", "link": "https://stackoverflow.com/users/7994280/jiabei-luo"}, "reply_to_user": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1494458536, "post_id": 43903692, "comment_id": 74842236, "body": "Since SO restricts the length of a comment here are the instructions under Homework -&gt; hw5: <a href=\"http://terminus.scu.edu/~ntran/csci61-s17/index.html\" rel=\"nofollow noreferrer\">terminus.scu.edu/~ntran/csci61-s17/index.html</a>"}, {"owner": {"reputation": 85, "user_id": 7994280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-qtto6OhjR8g/AAAAAAAAAAI/AAAAAAAAABU/As3D19nK-cM/photo.jpg?sz=128", "display_name": "Jiabei Luo", "link": "https://stackoverflow.com/users/7994280/jiabei-luo"}, "reply_to_user": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1494458672, "post_id": 43903692, "comment_id": 74842264, "body": "I&#39;m not allowed to use ANY STL container other than vector and string. So that means pairs are not allowed."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1494458820, "post_id": 43903692, "comment_id": 74842303, "body": "Well, I guess you can maintain 2 vectors. 1 with the words and 1 with the # of occurences and keep them synced such that the index of one corresponds with the index of the other. You&#39;d have to keep that in sync every time you sort, insert, or erase. You&#39;d have to search the word vector for each word as you parse the file and then increment occurences, and sort when done. Awfully inefficient and seems to be teaching you bad habits rather than something useful though."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1494458928, "post_id": 43903692, "comment_id": 74842328, "body": "You could just define your own pair like struct. After all it&#39;s just a simple struct, with not much functionality. You wouldn&#39;t even need to template it as you know the types you need."}], "answers": [{"tags": [], "owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "is_accepted": true, "score": 0, "last_activity_date": 1494494854, "creation_date": 1494494854, "answer_id": 43911515, "question_id": 43903692, "link": "https://stackoverflow.com/questions/43903692/sorting-vector-of-strings-with-leading-numbers/43911515#43911515", "title": "Sorting vector of strings with leading numbers", "body": "<p>If I understand you, your problem is that you want to sort your frequency vector, but that then you lose track of their corresponding word. As suggested, using a struct with a custom comparison function is probably desirable:</p>\n\n<pre><code>struct word_freq {\n    int freq;\n    std::string word;\n};\n\nbool operator&lt;(const word_freq&amp; a, const word_freq&amp; b) {\n    return a.freq &lt; b.freq;\n}\n</code></pre>\n\n<p>Now, having a <code>std::vector&lt;word_freq&gt; wf;</code> and applying <code>std::sort(wf.begin(), wf.end())</code> should order your list min -> max. To print the <code>k</code> words with highest frequency you would print from the back of the <code>wf</code> list.</p>\n"}], "owner": {"reputation": 85, "user_id": 7994280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-qtto6OhjR8g/AAAAAAAAAAI/AAAAAAAAABU/As3D19nK-cM/photo.jpg?sz=128", "display_name": "Jiabei Luo", "link": "https://stackoverflow.com/users/7994280/jiabei-luo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 43911515, "answer_count": 1, "score": 2, "last_activity_date": 1494494854, "creation_date": 1494455379, "last_edit_date": 1494458483, "question_id": 43903692, "link": "https://stackoverflow.com/questions/43903692/sorting-vector-of-strings-with-leading-numbers", "title": "Sorting vector of strings with leading numbers", "body": "<p>I'm working on a homework problem which requires me to read in words from an input file, and an integer k. The solution needs to print out a list of words and their frequencies, ranging from the most frequent to the k-th most frequent. If the number of unique words is smaller than k then only output that number of words.</p>\n\n<p>This would have been cake with containers like map, but the problem constrains me to be able to use vectors and strings only and no other STL containers.</p>\n\n<p>I'm stuck at the point where I have a list of all the words in a file and their corresponding frequencies. Now I need to sort them according to their frequencies and output k words. </p>\n\n<p>The problem is, sorting is difficult. The frequencies can be of different digits. If I sort them using <code>string::sort()</code> by padding zeros, I won't be able to know how many zeros to pad since input is unknown to the programmer. </p>\n\n<p>Here's my code for the function:</p>\n\n<pre><code>void word_frequencies(ifstream&amp; inf, int k)\n{\n    vector &lt;string&gt; input;\n    string w;\n    while (inf &gt;&gt; w)\n    {\n        remove_punc(w);\n        input.push_back(w);\n    }\n    sort(input.begin(), input.end());\n\n    // initialize frequency vector\n    vector &lt;int&gt; freq;\n    for (size_t i = 0; i &lt; input.size(); ++i) freq.push_back(1);\n\n    // count actual frequencies\n    int count = 0;\n    for (size_t i = 0; i &lt; input.size()-1; ++i)\n    {\n        if (input[i] == input[i+1])\n        {\n            ++count;\n        } else\n        {\n            freq[i] += count;\n            count = 0;\n        }\n    }\n\n    // words+frequencies\n    vector &lt;string&gt; wf;\n    for (size_t i = 0; i &lt; freq.size()-1; ++i)\n    {\n\n        if (freq[i] &gt; 1 || is_unique(input, input[i]))\n        {\n            string s = to_string(freq[i]) + \" \" + input[i];\n            wf.push_back(s);\n        }\n    }\n}\n</code></pre>\n\n<p>Also, should I even couple the frequency with the word in the first place? I know this is messy so I'm looking for a more elegant solution. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "sockets", "standards"], "comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1494456452, "post_id": 43903614, "comment_id": 74841683, "body": "Could you post some example code showing how you are trying to get this to work, and maybe what does work but is not <code>std::</code>?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1494456945, "post_id": 43903614, "comment_id": 74841831, "body": "There is nothing wrong with using C socket APIs in C++ for this (I do it all the time). How do you think everyone else&#39;s socket libraries are implemented? Everything ultimately has to go through the socket APIs that are provided by the OS, and in C/C++ the BSD-style socket functions (<code>connect()</code>, <code>send()</code>, <code>recv()</code>, etc) are portable across most platforms.  Things like Boost.ASIO, ACE, CURL, etc are built on this.  And <code>SMTP</code> is not that hard to implement using C socket functions."}, {"owner": {"reputation": 14308, "user_id": 1989425, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/aGyIU.png?s=128&g=1", "display_name": "autistic", "link": "https://stackoverflow.com/users/1989425/autistic"}, "edited": false, "score": 0, "creation_date": 1494460544, "post_id": 43903614, "comment_id": 74842668, "body": "Your question is about C++, not C. Please don&#39;t tag spam..."}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1587377803, "post_id": 43903614, "comment_id": 108478272, "body": "As of 2019, you can use the <a href=\"https://github.com/Ybalrid/kissnet\" rel=\"nofollow noreferrer\">kissnet</a> library, which wraps socket.h (and winsock.h on Windows), and has secure sockets via OpenSSL."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 0, "creation_date": 1494456258, "post_id": 43903663, "comment_id": 74841634, "body": "I&#39;m sorry but this is not correct at all. C++ has shipped with a proper production-quality networking library since c++ 11, and in C++ 17 it&#39;s officially part of the standard library."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "reply_to_user": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 1, "creation_date": 1494456475, "post_id": 43903663, "comment_id": 74841690, "body": "News to me. Name it / Link it. My Google search yields nothing at all. I fancy myself pretty up to speed on C++11. C++17 not so much."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 5, "creation_date": 1494456677, "post_id": 43903663, "comment_id": 74841754, "body": "C++11 <b>DOES NOT</b> include a standard networking library. C++ compiler vendors may include their own libraries, but networking will not be part of the standard library until at least C++17 (see <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4656.pdf\" rel=\"nofollow noreferrer\">N4656: Working Draft, C++ Extensions for Networking</a>)."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1494456716, "post_id": 43903663, "comment_id": 74841770, "body": "As I thought. Thanks for clarity."}, {"owner": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 0, "creation_date": 1494457175, "post_id": 43903663, "comment_id": 74841895, "body": "Even though Bjarne stroustrup mentions it in almost every CPPCon presentation going back the last 5 years... <a href=\"http://stackoverflow.com/questions/16289923/networking-library-in-c14\" title=\"networking library in c14\">stackoverflow.com/questions/16289923/networking-library-in-c&zwnj;&#8203;14</a>  The name changes between older versions of compilers, but it can be found in libstdc++ and libc++"}, {"owner": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 0, "creation_date": 1494457254, "post_id": 43903663, "comment_id": 74841914, "body": "Sorry Remy, but you&#39;re wrong. While it&#39;s not a &quot;Standard Library&quot; library, there&#39;s been a common one across compilers since Clang 3.2 and GCC 5.0. And in fact Bjarne&#39;s told people to use it at several presentations."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "reply_to_user": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 2, "creation_date": 1494457481, "post_id": 43903663, "comment_id": 74841979, "body": "@Patrick Again, Name it / Link it. There has been <i>talk</i> about it for decades. There have been <i>proposals</i>. There has not been any inclusion of networking support in the C++03, 11, or 14 standard. If you can show me code that performs networking while linking to nothing but the CRT on all compilers officially supporting C++14, I will Fed Ex you a 6-pack today."}, {"owner": {"reputation": 361, "user_id": 6851375, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/56c37ed085fe1a492a640f2e72b2cd38?s=128&d=identicon&r=PG&f=1", "display_name": "patrickjp93", "link": "https://stackoverflow.com/users/6851375/patrickjp93"}, "edited": false, "score": 0, "creation_date": 1494457914, "post_id": 43903663, "comment_id": 74842082, "body": "#include &lt;experimental/networking&gt; from GCC 5 onward, Clang 3.2 onward, Visual Studio 2012 onward, and while I can&#39;t find any older documentation, at least ICC 15. You really should keep up better.  You can find the full API for it here: <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4656.pdf\" rel=\"nofollow noreferrer\">open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4656.pdf</a>"}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 4, "creation_date": 1494458414, "post_id": 43903663, "comment_id": 74842199, "body": "Experimental is <i>not</i> standard and is not guaranteed to ever be standard. It is, by its very definition &quot;Experimental.&quot; I do no, nor should I, keep up on every proposal that made its way to experimental. I program real production code and answer questions for other professionals who also program real production code."}], "tags": [], "owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "is_accepted": false, "score": 2, "last_activity_date": 1494457088, "last_edit_date": 1494457088, "creation_date": 1494455249, "answer_id": 43903663, "question_id": 43903614, "link": "https://stackoverflow.com/questions/43903614/c-and-network-sockets/43903663#43903663", "title": "C++ and network sockets", "body": "<p>The standard library does not contain sockets or any networking support.</p>\n\n<p>Your choices are</p>\n\n<ol>\n<li>BSD sockets, if you are on *nix via OS specific libraries</li>\n<li>BSD blocking sockets, if you are on Windows, via Winsock</li>\n<li>Async sockets, if you are on Windows, via Winsock and the Windows Message Pump</li>\n<li>IOCP, if you are on Windows, via Winsock</li>\n<li>Boost ASIO, which is portable.</li>\n<li>Some other 3rd party library where someone else used one of the above and wrapped it up for you.</li>\n</ol>\n\n<p>Of all of those, it is my personal opinion that, Boost ASIO is the easiest to use. I would recommend at least going through a tutorial on blocking BSD sockets though to get the concepts down.</p>\n\n<p>All of these, except 5 and 6, are going to be very C like. Network programming really isn't a niche where object orientated programming and C++ rule over old C style. You can wrap things, but that's the best you can hope for.</p>\n\n<p>You really won't be using fstream or ostream in your socket code. Perhaps in a layer above it, but in the end, all these implementations are similar, in that you will be sending and receiving bytes of binary data or text.</p>\n"}, {"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1494457101, "post_id": 43903842, "comment_id": 74841873, "body": "Ever tried to write one? It&#39;s possible, but extremely difficult, and none of the streams documentation will actually tell you how to do it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494457282, "post_id": 43903842, "comment_id": 74841926, "body": "Is this really practical for someone who says &quot;templates and such are way over my head&quot;? He&#39;s looking for a pre-existing library, which makes it off-topic here."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1494458611, "post_id": 43903842, "comment_id": 74842252, "body": "You don&#39;t need to know template programming to derive a <code>streambuf</code> class.  Deriving classes is at the hard of C++ programming, so it is a good skill to learn. Besides, I did say &quot;or find a 3rd party class&quot;.  There are socket <code>streambuf</code> classes available, such as <a href=\"http://www.edm2.com/index.php/Adding_socket_support_to_the_iostreams_hierarchy\" rel=\"nofollow noreferrer\">this one</a>"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1494461939, "post_id": 43903842, "comment_id": 74842949, "body": "Just wondering. My brother, who is no chump, did it about 25 years ago and he said it was one of the worst experiences of his career. The <code>std::stream</code> classes were clearly not designed or documented to be subclassed or extended and just form a monolothic block. It all came down to implementing a single <code>reset()</code> method somewhere which did both input and output depending on the weather! But I can&#39;t agree for a moment that &#39;deriving classes is at the hard end of C++ programming&#39;, except in the case of poorly-designed class hierarchies like this."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1494462225, "post_id": 43903842, "comment_id": 74843004, "body": "It also doesn&#39;t buy you very much. You surely wouldn&#39;t want to use the abused &lt;&lt; and &gt;&gt; operators for formatted data on a socket, and the only other thing you really gain is the rudimentary EOS and error handling."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1494463637, "post_id": 43903842, "comment_id": 74843295, "body": "@EJP you don&#39;t have to subclass the streams themselves, just the streambuf (and yes, I have written custom streambuf classes, just not for sockets). I didn&#39;t mean &quot;the hard end of C++&quot;, that was a typo, I meant &quot;the heart of C++&quot; instead. And why not use use formatted data on sockets? A lot of Internet protocols are text-based, or at least have textual elements to them. I&#39;ve seen tons of examples of people formatting <code>std::string</code> values to send over sockets, so a stringbuf that flushes to a socket can be very useful."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1494464838, "post_id": 43903842, "comment_id": 74843557, "body": "Yes, I know how to do it, my bro. kindly told me, and once again that fact isn&#39;t documented anywhere, let alone how to do it and what you do and don&#39;t need to override. Very curious omission really."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1494470754, "post_id": 43903842, "comment_id": 74844887, "body": "@EJP: see <a href=\"http://www.mr-edd.co.uk/blog/beginners_guide_streambuf\" rel=\"nofollow noreferrer\">A beginner&#39;s guide to writing a custom stream buffer (std::streambuf)</a> and <a href=\"https://artofcode.wordpress.com/2010/12/12/deriving-from-stdstreambuf/\" rel=\"nofollow noreferrer\">Deriving from std::streambuf</a>."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1494458650, "last_edit_date": 1494458650, "creation_date": 1494456457, "answer_id": 43903842, "question_id": 43903614, "link": "https://stackoverflow.com/questions/43903614/c-and-network-sockets/43903842#43903842", "title": "C++ and network sockets", "body": "<p>You can use <code>std:::istream</code> and <code>std::ostream</code> with sockets, you just have to write your own (or find a pre-existing 3rd party) custom <a href=\"http://en.cppreference.com/w/cpp/io/basic_streambuf\" rel=\"nofollow noreferrer\"><code>std::basic_streambuf</code></a>-derived class that uses socket I/O instead of file I/O, and then you can assign an instance of that class to <code>std::(i|o)stream</code> via its constructor or <a href=\"http://en.cppreference.com/w/cpp/io/basic_ios/rdbuf\" rel=\"nofollow noreferrer\"><code>rdbuf()</code></a> method. </p>\n"}], "owner": {"reputation": 81, "user_id": 7890581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N93pn.jpg?s=128&g=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/7890581/tristan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7466, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1494460557, "creation_date": 1494454945, "last_edit_date": 1494460557, "question_id": 43903614, "link": "https://stackoverflow.com/questions/43903614/c-and-network-sockets", "title": "C++ and network sockets", "body": "<p>I have dabbled in C, and I am currently picking up C++.</p>\n\n<p>I want to learn the standard library (<code>std::</code> namespace), so I am working on a few projects.  One is a simple email program that logs into my local SMTP server and shows my email, and has the ability to send mail.  I add a touch of ncurses for that old feel.</p>\n\n<p>The problem is, I haven't been able to find a standard library way to use network sockets.  It seems like I have to use network sockets in C <code>sys/socket.h</code>, but then I end up with a file descriptor, which leaves <code>read()</code> and <code>write()</code> and <code>send()</code> function calls.  I wanted to be able to use the <code>std::fstream</code> or <code>std::ostream</code> classes.  But the <code>open()</code> member functions take a filename, not a file descriptor.</p>\n\n<p>I know that the Boost library has this capability, but templates and such are way over my head, and I want to stick with just the standard library for now.</p>\n\n<p>Before I proceed, I just want to make sure that there isn't a better way to <code>read()</code> and <code>write()</code> to a file descriptor that's been returned by the <code>connect()</code> network socket C function.</p>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "reply_to_user": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 0, "creation_date": 1494455449, "post_id": 43903601, "comment_id": 74841389, "body": "It&#39;s there , sorry I forget to mention here. thanks!"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5802338"}, "reply_to_user": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "edited": false, "score": 0, "creation_date": 1494456993, "post_id": 43903763, "comment_id": 74841847, "body": "What are you typing in the terminal to compile your program?"}, {"owner": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "edited": false, "score": 0, "creation_date": 1494457659, "post_id": 43903763, "comment_id": 74842034, "body": "Yes.. I am using Linux"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5802338"}, "reply_to_user": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "edited": false, "score": 0, "creation_date": 1494457739, "post_id": 43903763, "comment_id": 74842052, "body": "What is the command you are typing, something like <code>g++ &lt;other stuff&gt;</code>"}, {"owner": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "edited": false, "score": 0, "creation_date": 1494458162, "post_id": 43903763, "comment_id": 74842143, "body": "<code>g++ -std=c++11 Driver.h Driver.cpp Customer.h Customer.cpp Main.cpp -o M</code>. Well, I need to tell you one more thing, I am able to create <code>.o</code> file by using <code>g++ -std=c++11 -c Driver.h Driver.cpp</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5802338"}, "reply_to_user": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "edited": false, "score": 0, "creation_date": 1494458351, "post_id": 43903763, "comment_id": 74842183, "body": "Don&#39;t include header files when compiling programs. You&#39;re only supposed to include them. You&#39;re supposed to compile the .cpp files. So something like this <code>g++ Main.cpp Driver.cpp Customer.cpp -o M -std=c++11</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5802338"}, "is_accepted": false, "score": 0, "last_activity_date": 1494455884, "creation_date": 1494455884, "answer_id": 43903763, "question_id": 43903601, "link": "https://stackoverflow.com/questions/43903601/how-to-pass-class-object-as-a-reference-to-another-header-files-function/43903763#43903763", "title": "How to pass class object as a reference to another header file&#39;s function", "body": "<p>In Driver.cpp you forgot to add</p>\n\n<pre><code>#include \"Customer.h\"\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 6855320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e81c72e5e1404824181e29bfabfa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Devesh Pratap Singh", "link": "https://stackoverflow.com/users/6855320/devesh-pratap-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494455884, "creation_date": 1494454869, "last_edit_date": 1494455490, "question_id": 43903601, "link": "https://stackoverflow.com/questions/43903601/how-to-pass-class-object-as-a-reference-to-another-header-files-function", "title": "How to pass class object as a reference to another header file&#39;s function", "body": "<p>I have main.cpp</p>\n\n<pre><code>#include \"Customer.h\"\n#include \"Driver.h\"\n\n int main(){\n   Customer o_customer;        //Customer class object\n   //ManageMenu is a Driver.h method\n      ManageMenu( o_customer );   //calling method\n\n  return 0;\n}\n</code></pre>\n\n<p>My <code>Driver.h</code> is just a <code>.h</code> and <code>.cpp</code> file which does not have any class in it. What it does is handles all the screen display method, sample</p>\n\n<pre><code>#include \"Customer.h\"\nvoid ManageMenu( Customer &amp; customer );\n</code></pre>\n\n<p>and, here is the issue , I am not able to pass the object reference in this function and I also believe that it is valid too as it simply means that we are passing the reference to some function.</p>\n\n<p>My <code>Driver.cpp</code></p>\n\n<pre><code>#include \"Driver.h\"\nvoid ManageMenu( Customer &amp; customer ){\n //do something\n   //calls the method of Customer's class\ncustomer.AddDetails();\n\n}\n</code></pre>\n\n<p>I am not able to pass the object, the error which I am getting in <code>g++</code> is</p>\n\n<pre><code>error: variable or field 'ManageMenu' declared void\nerror: 'Customer' was not declared in this scope\n        'customer' was not declared in this scope\n void ManageMenu( Customer &amp; customer );\n</code></pre>\n\n<p>Please help me out and do explain me where I am doing the mistake. THANKS!!</p>\n"}, {"tags": ["c++", "ignite"], "comments": [{"owner": {"reputation": 7955, "user_id": 1832193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7886121f315ae5348033e4b7b643c09d?s=128&d=identicon&r=PG", "display_name": "Valentin Kulichenko", "link": "https://stackoverflow.com/users/1832193/valentin-kulichenko"}, "edited": false, "score": 0, "creation_date": 1494460864, "post_id": 43903388, "comment_id": 74842729, "body": "What the exception exactly?"}, {"owner": {"reputation": 53, "user_id": 3690224, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b143e86ce4ec4266236ba41812b615fa?s=128&d=identicon&r=PG&f=1", "display_name": "Isai selvan", "link": "https://stackoverflow.com/users/3690224/isai-selvan"}, "reply_to_user": {"reputation": 7955, "user_id": 1832193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7886121f315ae5348033e4b7b643c09d?s=128&d=identicon&r=PG", "display_name": "Valentin Kulichenko", "link": "https://stackoverflow.com/users/1832193/valentin-kulichenko"}, "edited": false, "score": 0, "creation_date": 1494486751, "post_id": 43903388, "comment_id": 74850804, "body": "Hi, I have updated the errors."}, {"owner": {"reputation": 418, "user_id": 5980388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d1dc54a2cc65111e7b1be94a7565b6?s=128&d=identicon&r=PG&f=1", "display_name": "isapego", "link": "https://stackoverflow.com/users/5980388/isapego"}, "edited": false, "score": 0, "creation_date": 1494495963, "post_id": 43903388, "comment_id": 74857102, "body": "Have you defined the same class in Java too?"}, {"owner": {"reputation": 53, "user_id": 3690224, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b143e86ce4ec4266236ba41812b615fa?s=128&d=identicon&r=PG&f=1", "display_name": "Isai selvan", "link": "https://stackoverflow.com/users/3690224/isai-selvan"}, "edited": false, "score": 0, "creation_date": 1494496993, "post_id": 43903388, "comment_id": 74857864, "body": "This is an Ignite c++ server. And I have not defined any Java class for this. If so can you let me know where to create the equivalent java class."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3690224, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b143e86ce4ec4266236ba41812b615fa?s=128&d=identicon&r=PG&f=1", "display_name": "Isai selvan", "link": "https://stackoverflow.com/users/3690224/isai-selvan"}, "edited": false, "score": 0, "creation_date": 1494498823, "post_id": 43912274, "comment_id": 74859091, "body": "Using &lt;property name=&quot;storeKeepBinary&quot; value=&quot;true&quot;/&gt; it worked. Thank you so much."}], "tags": [], "owner": {"reputation": 418, "user_id": 5980388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d1dc54a2cc65111e7b1be94a7565b6?s=128&d=identicon&r=PG&f=1", "display_name": "isapego", "link": "https://stackoverflow.com/users/5980388/isapego"}, "is_accepted": true, "score": 2, "last_activity_date": 1494496862, "creation_date": 1494496862, "answer_id": 43912274, "question_id": 43903388, "link": "https://stackoverflow.com/questions/43903388/ignite-c-serialization-class-not-found-in-cache-store/43912274#43912274", "title": "ignite C++: serialization class not found in cache store", "body": "<p>You may want to set <code>storeKeepBinary</code> on <code>CacheConfiguration</code>, if you only have difinition of your class in C++. Also, you may want to take a look at <a href=\"https://issues.apache.org/jira/browse/IGNITE-4205\" rel=\"nofollow noreferrer\">this ticket</a>, as there are some issues with Cassandra store. It seems to be in \"Patch available\" state, so seems like fix is going to be in master soon.</p>\n"}], "owner": {"reputation": 53, "user_id": 3690224, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b143e86ce4ec4266236ba41812b615fa?s=128&d=identicon&r=PG&f=1", "display_name": "Isai selvan", "link": "https://stackoverflow.com/users/3690224/isai-selvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 43912274, "answer_count": 1, "score": 0, "last_activity_date": 1494496862, "creation_date": 1494453596, "last_edit_date": 1494487032, "question_id": 43903388, "link": "https://stackoverflow.com/questions/43903388/ignite-c-serialization-class-not-found-in-cache-store", "title": "ignite C++: serialization class not found in cache store", "body": "<p>I am trying to use cache store for persistance. I have implemented serialization of user defined object using binarytype template. But still when configuring cassandra cache store in spring xml. Im getting errors like deserializer not found or class id not found expections. I had even tried the binary configurations available in docs, but it didn't work. Can someone help in resolving the issue. </p>\n\n<p>ERROR CODE:</p>\n\n<pre><code>&gt; [21:46:12,349][SEVERE][main][GridDhtAtomicCache] &lt;cachekey&gt; Unexpected\n&gt; exception during cache update class\n&gt; org.apache.ignite.binary.BinaryObjectException: Failed resolve class\n&gt; for ID: -1516436005   at\n&gt; org.apache.ignite.internal.binary.BinaryContext.descriptorForTypeId(BinaryContext.java:699)\n&gt;   at\n&gt; org.apache.ignite.internal.binary.BinaryReaderExImpl.deserialize0(BinaryReaderExImpl.java:1491)\n&gt;   at\n&gt; org.apache.ignite.internal.binary.BinaryReaderExImpl.deserialize(BinaryReaderExImpl.java:1450)\n&gt;   at\n&gt; org.apache.ignite.internal.binary.BinaryObjectImpl.deserializeValue(BinaryObjectImpl.java:637)\n&gt;   at\n&gt; org.apache.ignite.internal.binary.BinaryObjectImpl.value(BinaryObjectImpl.java:142)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.CacheObjectContext.unwrapBinary(CacheObjectContext.java:272)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.CacheObjectContext.unwrapBinaryIfNeeded(CacheObjectContext.java:160)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.CacheObjectContext.unwrapBinaryIfNeeded(CacheObjectContext.java:147)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.GridCacheContext.unwrapBinaryIfNeeded(GridCacheContext.java:1742)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.store.GridCacheStoreManagerAdapter.put(GridCacheStoreManagerAdapter.java:566)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2507)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2479)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1881)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1721)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridNearAtomicAbstractUpdateFuture.mapSingle(GridNearAtomicAbstractUpdateFuture.java:263)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridNearAtomicSingleUpdateFuture.map(GridNearAtomicSingleUpdateFuture.java:494)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridNearAtomicSingleUpdateFuture.mapOnTopology(GridNearAtomicSingleUpdateFuture.java:436)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridNearAtomicAbstractUpdateFuture.map(GridNearAtomicAbstractUpdateFuture.java:208)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update0(GridDhtAtomicCache.java:1236)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.put0(GridDhtAtomicCache.java:671)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.GridCacheAdapter.put(GridCacheAdapter.java:2276)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.GridCacheAdapter.put(GridCacheAdapter.java:2253)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.cache.IgniteCacheProxy.put(IgniteCacheProxy.java:1375)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.platform.cache.PlatformCache.processInStreamOutLong(PlatformCache.java:409)\n&gt;   at\n&gt; org.apache.ignite.internal.processors.platform.PlatformTargetProxyImpl.inStreamOutLong(PlatformTargetProxyImpl.java:61)\n&gt; Caused by: class org.apache.ignite.IgniteCheckedException: Class\n&gt; definition was not found at marshaller cache and local file.\n&gt; [id=-1516436005,\n&gt; file=/apache-ignite-fabric-1.9.0-bin/work/marshaller/-1516436005.classname]\n&gt;   at\n&gt; org.apache.ignite.internal.MarshallerContextImpl.className(MarshallerContextImpl.java:218)\n&gt;   at\n&gt; org.apache.ignite.internal.MarshallerContextAdapter.getClass(MarshallerContextAdapter.java:174)\n&gt;   at\n&gt; org.apache.ignite.internal.binary.BinaryContext.descriptorForTypeId(BinaryContext.java:683)\n</code></pre>\n"}, {"tags": ["c++", "string", "c++11", "uniform-initialization"], "comments": [{"owner": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 3, "creation_date": 1494453834, "post_id": 43903372, "comment_id": 74840794, "body": "I think the wikipedia entry on <a href=\"https://en.wikipedia.org/wiki/C%2B%2B11#Uniform_initialization\" rel=\"nofollow noreferrer\">uniform initialization</a> describes it nicely: &quot;Uniform initialization does not replace constructor syntax, which is still needed at times. If a class has an initializer list constructor (<code>TypeName(initializer_list&lt;SomeType&gt;);</code>), then it takes priority over other forms of construction, provided that the initializer list conforms to the sequence constructor&#39;s type.&quot;"}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 9112, "user_id": 2721883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c8448407184c2a90cc46db06c159ca?s=128&d=identicon&r=PG&f=1", "display_name": "clcto", "link": "https://stackoverflow.com/users/2721883/clcto"}, "edited": false, "score": 0, "creation_date": 1494454199, "post_id": 43903372, "comment_id": 74840905, "body": "@clcto Compiler seems to be eager to use initializer list constructor, even if the list consist of non-conforming types (<a href=\"http://coliru.stacked-crooked.com/a/67a7386717f5b1ef\" rel=\"nofollow noreferrer\">Coliru example</a>). To be fair there is a compiler warning."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1494454455, "post_id": 43903372, "comment_id": 74840991, "body": "@zett42: For the record, that behaviour is guaranteed by <code>[over.match.list]&#47;1</code>; basically; constructors are looked up in two phases and if any initializer-list constructors exist at all then that&#39;s what you get, for better or for worse."}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494453811, "post_id": 43903393, "comment_id": 74840784, "body": "Well, the feature isn&#39;t officially named &quot;uniform initialization&quot; in the standard (or unicorn, for that matter)."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 1, "creation_date": 1494468087, "post_id": 43903393, "comment_id": 74844285, "body": "To be fair, list initialization didn&#39;t <i>have</i> to work out this way. It <i>could</i> have subsumed all forms of initialization, if the committee had not make two mistakes: the preference for <code>initializer_list</code> constructors and forbidding narrowing conversions. Remove both of those, and you could legitimately replace any case of <code>()</code> initialization with <code>{}</code>."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 9, "last_activity_date": 1494453612, "creation_date": 1494453612, "answer_id": 43903393, "question_id": 43903372, "link": "https://stackoverflow.com/questions/43903372/stdstringcount-ch-not-called-when-using-uniform-initialization/43903393#43903393", "title": "std::string(count, ch) not called when using uniform initialization", "body": "<p>You just have to be careful.</p>\n\n<p>In general, when people tell you to \"use uniform initialisation so that everything is consistent and, well, <em>uniform</em>\", <strong>ignore them</strong>. I mean, by all means use uniform initialisation, but don't believe that fairytale.</p>\n\n<p>Also, ignore the name of the feature.</p>\n\n<p><a href=\"https://xkcd.com/927/\" rel=\"noreferrer\" title=\"Fortunately, the charging one has been solved now that we&#39;ve all standardized on mini-USB. Or is it micro-USB? Shit.\"><img src=\"https://imgs.xkcd.com/comics/standards.png\" alt=\"xkcd #927: &quot;Standards&quot;\"></a></p>\n"}], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 2, "accepted_answer_id": 43903393, "answer_count": 1, "score": 1, "last_activity_date": 1494453612, "creation_date": 1494453507, "last_edit_date": 1495541443, "question_id": 43903372, "link": "https://stackoverflow.com/questions/43903372/stdstringcount-ch-not-called-when-using-uniform-initialization", "title": "std::string(count, ch) not called when using uniform initialization", "body": "<p>I just got caught by this seemingly innocent attempt to call the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code> constructor</a> that takes a size and a character value, using uniform initialization syntax:</p>\n\n<pre><code>std::string s{ 10, '\\0' };\n</code></pre>\n\n<p>I thought this would create a string with the length of 10, initialized with <code>\\0</code>.</p>\n\n<p>Though it actually calls the constructor that takes an <strong>initializer list</strong> and thus creates a string with the <strong>length of 2</strong>, initialized with <code>{'\\n', '\\0'}</code>!</p>\n\n<p>See <a href=\"http://coliru.stacked-crooked.com/a/97b3d83a17d3b3f3\" rel=\"nofollow noreferrer\">demo at Coliru</a>.</p>\n\n<p>Is there a way to avoid this pitfall when using uniform initialization? Or do I just have to be careful?</p>\n\n<p><strong>Note:</strong> <a href=\"https://stackoverflow.com/q/38809275/7571258\">Similar question</a> has been asked before, but no answer was given on how to avoid that pitfall.</p>\n"}, {"tags": ["c++", "windows", "winapi"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1494454600, "post_id": 43903305, "comment_id": 74841053, "body": "&quot;This, for some reason, crashes&quot; What&#39;s the crash?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1494454661, "post_id": 43903305, "comment_id": 74841081, "body": "Also, once the loop starts, it won&#39;t ever stop, because you only have one thread, and that thread is busy in the loop. You won&#39;t even be able to move the window properly, much less click on it."}, {"owner": {"reputation": 374, "user_id": 3470353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100007680703128/picture?type=large", "display_name": "Diriector_Doc", "link": "https://stackoverflow.com/users/3470353/diriector-doc"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1494456617, "post_id": 43903305, "comment_id": 74841735, "body": "The crash is just a <code>(not responding)</code> crash.  I don&#39;t really know how else to explain it other than that.  And even when I click &quot;Activate&quot;, the loop does not start, I can&#39;t click really fast like on my working program.  All I&#39;m looking for is a way to get around doing what I want to do."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1494460623, "post_id": 43903305, "comment_id": 74842680, "body": "I know why it has &quot;(not responding)&quot;, but that&#39;s not a crash. That&#39;s a freeze. I&#39;ll give you a hint: When you click &quot;Activate&quot;, the loop <i>does</i> start."}], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 3470353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100007680703128/picture?type=large", "display_name": "Diriector_Doc", "link": "https://stackoverflow.com/users/3470353/diriector-doc"}, "edited": false, "score": 0, "creation_date": 1494538172, "post_id": 43905949, "comment_id": 74884957, "body": "Thanks, that worked, but I had to change <code>input[0]</code> to <code>inputs[0]</code>, there was a compiling error."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 374, "user_id": 3470353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100007680703128/picture?type=large", "display_name": "Diriector_Doc", "link": "https://stackoverflow.com/users/3470353/diriector-doc"}, "edited": false, "score": 0, "creation_date": 1494539578, "post_id": 43905949, "comment_id": 74885570, "body": "@user3470353: fixed"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1494539562, "last_edit_date": 1494539562, "creation_date": 1494472630, "answer_id": 43905949, "question_id": 43903305, "link": "https://stackoverflow.com/questions/43903305/how-do-i-activate-a-while-statement-with-a-button-c/43905949#43905949", "title": "How do I activate a while() statement with a button C++", "body": "<p>Your code is running an endless loop that blocks the app's UI message loop from processing new messages, thus preventing the \"Deactivate\" button from being clickable, and preventing <code>GetKeyState()</code> from updating the calling thread's local key state information.  The app is not crashing, it is simply not responding to the OS.</p>\n\n<p><strong>NEVER block a UI thread from processing messages.</strong></p>\n\n<p>This code needs to be re-written.</p>\n\n<p>When the \"Activate\" button is clicked (or when you receive a <code>WM_KEYDOWN</code> message for the <code>C</code> key), start a timer or worker thread instead, and then exit back to the UI message loop.  Let the timer/thread submit the mouse events as needed (and you should be using <code>SendInput()</code> instead of <code>mouse_event()</code> for that).</p>\n\n<p>When the \"Deactivate\" button is clicked (or when you receive a <code>WM_KEYUP</code> message for the <code>C</code> key), stop the timer/thread.</p>\n\n<p>For example:</p>\n\n<pre><code>LRESULT WINAPI MyWindowProc(HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)\n{\n    switch (message)\n    {\n        case WM_CREATE:\n            CreateWindow(\n                TEXT(\"button\"),TEXT(\"Activate\"),\n                WS_VISIBLE | WS_CHILD,\n                25,\n                30,\n                100,\n                50,\n                hwnd, (HMENU) 1, NULL, NULL\n            );\n\n            CreateWindow(\n                TEXT(\"button\"),TEXT(\"Deactivate\"),\n                WS_VISIBLE | WS_CHILD,\n                150,\n                30,\n                100,\n                50,\n                hwnd, (HMENU) 2, NULL, NULL\n            );\n\n            break;\n\n        case WM_COMMAND:\n            switch (LOWORD(wParam))\n            {\n                case 1:\n                    SetTimer(hwnd, 1, 13, NULL);\n                    break;\n\n                case 2:\n                    KillTimer(hwnd, 1);\n                    break;\n            }\n            break;\n\n        case WM_TIMER:\n            if (GetKeyState(0x43) &amp; 0x8000)\n            {\n                /*\n                mouse_event(MOUSEEVENTF_LEFTDOWN, NULL, NULL, 0, 0);\n                mouse_event(MOUSEEVENTF_LEFTUP, NULL, NULL, 0, 0);\n                */\n\n                INPUT inputs[2] = {0};\n\n                inputs[0].type = INPUT_MOUSE;\n                inputs[0].mi.dwFlags = MOUSEEVENTF_LEFTDOWN;\n\n                inputs[1].type = INPUT_MOUSE;\n                inputs[1].mi.dwFlags = MOUSEEVENTF_LEFTUP;\n\n                SendInput(2, inputs, sizeof(INPUT));\n            }\n            break;\n\n        case WM_DESTROY:\n            PostQuitMessage(0);\n            break;\n\n        default:\n            return DefWindowProc(hwnd, message, wParam, lParam);\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 374, "user_id": 3470353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100007680703128/picture?type=large", "display_name": "Diriector_Doc", "link": "https://stackoverflow.com/users/3470353/diriector-doc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 0, "accepted_answer_id": 43905949, "answer_count": 1, "score": -4, "last_activity_date": 1570851820, "creation_date": 1494453187, "last_edit_date": 1592644375, "question_id": 43903305, "link": "https://stackoverflow.com/questions/43903305/how-do-i-activate-a-while-statement-with-a-button-c", "title": "How do I activate a while() statement with a button C++", "body": "<p>I am making a simple macro clicker with C++. I have a simple program so far.  All it has it 2 buttons, which say &quot;Activate&quot; and &quot;Deactivate&quot; respectively:</p>\n<p><a href=\"https://i.stack.imgur.com/lh6NG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lh6NG.png\" alt=\"\" /></a><br />\n<sub>(source: <a href=\"https://randomcounternet.000webhostapp.com/pastebasket/macro%20clicker%20GUI.png\" rel=\"nofollow noreferrer\">000webhostapp.com</a>)</sub></p>\n<p>The main part of my program is the <code>switch(messages)</code> function:</p>\n<pre><code>bool i = false;\n\nswitch (message)\n{\n    case WM_CREATE:\n        CreateWindow(\n            TEXT(&quot;button&quot;),TEXT(&quot;Activate&quot;),\n            WS_VISIBLE | WS_CHILD,\n            25,\n            30,\n            100,\n            50,\n            hwnd, (HMENU) 1, NULL, NULL\n            );\n        CreateWindow(\n            TEXT(&quot;button&quot;),TEXT(&quot;Deactivate&quot;),\n            WS_VISIBLE | WS_CHILD,\n            150,\n            30,\n            100,\n            50,\n            hwnd, (HMENU) 2, NULL, NULL\n            );\n        break;\n    case WM_COMMAND:\n        if(LOWORD(wParam) == 1){\n            i = true;\n            while(i == true)\n            {\n                if(GetKeyState(0x43) &amp; 0x8000)\n                {\n                    usleep(13625);\n                    mouse_event(MOUSEEVENTF_LEFTDOWN, NULL, NULL, 0, 0);\n                    mouse_event(MOUSEEVENTF_LEFTUP, NULL, NULL, 0, 0);\n                }\n            }\n        }\n        if(LOWORD(wParam) == 2){\n            i = false;\n        }\n        break;\n    case WM_DESTROY:\n        PostQuitMessage (0);\n        break;\n    default:\n        return DefWindowProc (hwnd, message, wParam, lParam);\n}\n</code></pre>\n<p>The <code>while(i == true)</code> loop is the clicking loop that gets activated when the &quot;Activate&quot; button is pressed.  The loop checks if the <code>C</code> key is held, and if true, it will click really, really fast. This, for some reason, crashes whenever the &quot;Activate&quot; button is pressed.</p>\n<p>I have a working Macro Clicker, but I am unhappy with it because it uses the command prompt window and <code>cout &lt;&lt; &quot;Clicking Queued&quot;;</code> as an interface.</p>\n<p>If anyone can tell me what is wrong and how to fix it, it will be greatly appreciated.</p>\n<p>-Thanks</p>\n"}, {"tags": ["c++", "matrix", "gpu", "gpgpu", "metal"], "comments": [{"owner": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494456478, "post_id": 43903290, "comment_id": 74841693, "body": "As you mentioned you already tried to implement a <code>A * B</code> version: Did you run it and compared the runtime to Apples <code>A^T * B</code> kernel?"}, {"owner": {"reputation": 2390, "user_id": 4259255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dce14d258ebddc717ca2cddb4d1577af?s=128&d=identicon&r=PG&f=1", "display_name": "Hundley", "link": "https://stackoverflow.com/users/4259255/hundley"}, "reply_to_user": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494457452, "post_id": 43903290, "comment_id": 74841973, "body": "@Shadow I updated the question with my code. I haven&#39;t compared the times on an identical set of data, but I am extremely certain that mine is much slower. The key lies in the way Apple reads - and then writes - several locations sequentially. This allows the compiler to perform the reads/writes concurrently. I don&#39;t claim to understand all their code (hence the question), but I was hoping that removing the transposition wouldn&#39;t be <i>too</i> difficult."}, {"owner": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494503383, "post_id": 43903290, "comment_id": 74862255, "body": "I took some time to have a closer look at Apples kernel. Only that after one minute I already got demotivated as the notes at the beginning of the file are very confusing - relating (4): if <code>A^T</code> is <code>n x m</code> and <code>B</code> is <code>n x k</code> we cannot compute <code>A^T * B</code>. (5): <code>A</code> has to be padded so that <code>pbytes</code> is a multiple of 32. But whats with that <code>P</code>? They probably meant <code>M</code>. But thats all wrong as this describes a padding of the columns and not the rows (cf. point (6)). And where did the <code>k</code> come from? If we use that <code>k</code>, a transposed <code>M x k</code> matrix still cannot be multiplied with a <code>n x K</code>matrix"}, {"owner": {"reputation": 2390, "user_id": 4259255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dce14d258ebddc717ca2cddb4d1577af?s=128&d=identicon&r=PG&f=1", "display_name": "Hundley", "link": "https://stackoverflow.com/users/4259255/hundley"}, "reply_to_user": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494531399, "post_id": 43903290, "comment_id": 74881448, "body": "@Shadow I agree, the notes are pretty inaccurate. Here&#39;s my best understanding of what&#39;s going on: according to <a href=\"https://developer.apple.com/videos/play/wwdc2016/606/\" rel=\"nofollow noreferrer\">this WWDC video</a> (around 12:00), Metal is best optimized when you have each thread doing as much work as possible. This differs from most CUDA recommendations for matrix multiplication, where each thread only operates on one element of <code>C</code> and you make use of shared threadgroup memory for speed."}, {"owner": {"reputation": 2390, "user_id": 4259255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dce14d258ebddc717ca2cddb4d1577af?s=128&d=identicon&r=PG&f=1", "display_name": "Hundley", "link": "https://stackoverflow.com/users/4259255/hundley"}, "reply_to_user": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494531523, "post_id": 43903290, "comment_id": 74881522, "body": "So Apple&#39;s implementation of <code>A^T * B</code> operates on 64 elements of <code>C</code>, and is written such that all memory reads happen sequentially and all writes happen sequentially, with the arithmetic in between. What I&#39;m trying to accomplish is a similarly-optimized algorithm for <code>A * B</code>."}, {"owner": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "reply_to_user": {"reputation": 2390, "user_id": 4259255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dce14d258ebddc717ca2cddb4d1577af?s=128&d=identicon&r=PG&f=1", "display_name": "Hundley", "link": "https://stackoverflow.com/users/4259255/hundley"}, "edited": false, "score": 1, "creation_date": 1494532735, "post_id": 43903290, "comment_id": 74882232, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/144005/discussion-between-shadow-and-hundley\">continue this discussion in chat</a>."}, {"owner": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1495060466, "post_id": 43903290, "comment_id": 75098272, "body": "(Copy of my last message in the chat:) Were you able to implement it? And does it perform well? If so, why don&#39;t answer your own question? It may help someone else too."}], "answers": [{"tags": [], "owner": {"reputation": 1423, "user_id": 3166255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36453789126d8d51d146a7e5b249a50?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Ollmann", "link": "https://stackoverflow.com/users/3166255/ian-ollmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1502836935, "creation_date": 1502836935, "answer_id": 45702609, "question_id": 43903290, "link": "https://stackoverflow.com/questions/43903290/metal-optimizing-gpu-matrix-multiplication-for-memory-latency/45702609#45702609", "title": "Metal - Optimizing GPU matrix multiplication for memory latency", "body": "<p>MetalPerformanceShaders framework has a builtin matrix multiplication kernel that you can just encode into your metal command buffer.  I recommend doing that instead of wasting a lot of time here. </p>\n"}], "owner": {"reputation": 2390, "user_id": 4259255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dce14d258ebddc717ca2cddb4d1577af?s=128&d=identicon&r=PG&f=1", "display_name": "Hundley", "link": "https://stackoverflow.com/users/4259255/hundley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502836935, "creation_date": 1494453086, "last_edit_date": 1494538224, "question_id": 43903290, "link": "https://stackoverflow.com/questions/43903290/metal-optimizing-gpu-matrix-multiplication-for-memory-latency", "title": "Metal - Optimizing GPU matrix multiplication for memory latency", "body": "<p>This is a pretty basic C++ question for computing matrix multiplication on a GPU. The following code is technically MSL, but the syntax is nearly identical.</p>\n\n<p>Apple provides a <a href=\"https://developer.apple.com/library/content/samplecode/MetalPartialSumsCompute/Listings/MetalMatrixMultiplication_MetalMatrixMulti_metal.html#//apple_ref/doc/uid/TP40015013-MetalMatrixMultiplication_MetalMatrixMulti_metal-DontLinkElementID_20\" rel=\"nofollow noreferrer\">matrix multiplication example</a> for computing <code>A^T * B</code>. I'm looking for some help to modify it to simply compute <code>A * B</code>.</p>\n\n<p>Each call to this shader operates on an 8 x 8 sector of <code>C</code>, and <code>gid</code> is the position of this sector in the grid. Here's the source:</p>\n\n<pre><code>// Note:\n//\n// (1) m is the number of rows in matrices A and C.\n//\n// (2) n is the number of columns in matrix A; number of rows in matrix B.\n//\n// (3) k is the number of columns in matrices B and C.\n//\n// (4) Matrix multiple computes C = A^T * B where A is m x n matrix (so\n//     that, A^T is n x m), B is n x k .\n//\n// (5) pbytes is stride in bytes from row to another of matrix A.\n//     pbytes should be multiple of 32, i.e. A is padded to be\n//     M x k matrix where M &gt; m and P is multiple of 8.\n//\n// (6) Similarly qbytes is stride in bytes from one row to another\n//     of B, i.e. B is n x K matrix where K &gt; k matrix where K is\n//     multiple of 8.\n//\n// (7) The output matrix C is the M x K matrix.\n\ntypedef struct\n{\n    ushort m, k, n, pbytes, qbytes;\n} MetalMatrixDim;\n\n\nkernel void MatrixMultiply(const device float*       A    [[ buffer(0) ]],\n                           const device float*       B    [[ buffer(1) ]],\n                           device float*             C    [[ buffer(2) ]],\n                           constant MetalMatrixDim&amp;  dims [[ buffer(3) ]],\n                           ushort2                   gid  [[ thread_position_in_grid ]])\n{\n    ushort m = dims.m;\n    ushort k = dims.k;\n    ushort n = dims.n;\n\n    ushort pbytes = dims.pbytes;\n    ushort qbytes = dims.qbytes;\n\n    // Multiply gid by 8 to get the absolute position in C\n    ushort2 gidIn = ushort2(gid.x &lt;&lt; 3, gid.y &lt;&lt; 3);\n\n    if (gidIn.x &gt;= m || gidIn.y &gt;= k) return;\n\n    const device float4* a = (const device float4*)(A + gidIn.x);\n    const device float4* b = (const device float4*)(B + gidIn.y);\n\n    C = (device float*)((device char*)C + gidIn.x*qbytes);\n\n    device float4* c = (device float4*)(C + gidIn.y);\n\n    const device float4* Bend = (const device float4*)((const device char*)B + qbytes*n);\n\n    float4 s0  = 0.0f, s1  = 0.0f, s2  = 0.0f, s3  = 0.0f;\n    float4 s4  = 0.0f, s5  = 0.0f, s6  = 0.0f, s7  = 0.0f;\n    float4 s8  = 0.0f, s9  = 0.0f, s10 = 0.0f, s11 = 0.0f;\n    float4 s12 = 0.0f, s13 = 0.0f, s14 = 0.0f, s15 = 0.0f;\n\n    do\n    {\n        float4 aCurr0 = a[0];\n        float4 aCurr1 = a[1];\n        float4 bCurr0 = b[0];\n        float4 bCurr1 = b[1];\n\n        s0   += (aCurr0.x * bCurr0);\n        s2   += (aCurr0.y * bCurr0);\n        s4   += (aCurr0.z * bCurr0);\n        s6   += (aCurr0.w * bCurr0);\n\n        s1   += (aCurr0.x * bCurr1);\n        s3   += (aCurr0.y * bCurr1);\n        s5   += (aCurr0.z * bCurr1);\n        s7   += (aCurr0.w * bCurr1);\n\n        s8   += (aCurr1.x * bCurr0);\n        s10  += (aCurr1.y * bCurr0);\n        s12  += (aCurr1.z * bCurr0);\n        s14  += (aCurr1.w * bCurr0);\n\n        s9   += (aCurr1.x * bCurr1);\n        s11  += (aCurr1.y * bCurr1);\n        s13  += (aCurr1.z * bCurr1);\n        s15  += (aCurr1.w * bCurr1);\n\n        a = (device float4*)((device char*)a + pbytes);\n        b = (device float4*)((device char*)b + qbytes);\n\n    } while(b &lt; Bend);\n\n    c[0] = s0;  c[1] = s1;  c = (device float4*)((device char*)c + qbytes);\n    c[0] = s2;  c[1] = s3;  c = (device float4*)((device char*)c + qbytes);\n    c[0] = s4;  c[1] = s5;  c = (device float4*)((device char*)c + qbytes);\n    c[0] = s6;  c[1] = s7;  c = (device float4*)((device char*)c + qbytes);\n    c[0] = s8;  c[1] = s9;  c = (device float4*)((device char*)c + qbytes);\n    c[0] = s10; c[1] = s11; c = (device float4*)((device char*)c + qbytes);\n    c[0] = s12; c[1] = s13; c = (device float4*)((device char*)c + qbytes);\n    c[0] = s14; c[1] = s15;\n}\n</code></pre>\n\n<p>I've spent quite a bit of time on this, but the best I've come up with is a naive solution which doesn't take memory latency into account. Instead, I'm hoping to modify Apple's code to eliminate the transposition of <code>A</code>, while still allowing the GPU to optimize memory reads/writes.</p>\n\n<p>Can someone help me out here?</p>\n\n<p><strong>Edit:</strong> Here's my (very) naive implementation. It executes roughly 100x slower than Apple's kernel:</p>\n\n<pre><code>int pbytes = (int)dims.pbytes;\nint qbytes = (int)dims.qbytes;\n\nfor (int row = 0; row &lt; 8; row++) {\n    int aStart = (gidIn.y + row) * pbytes / 4;\n    for (int col = 0; col &lt; 8; col++) {\n        int cIdx = gidIn.y + (row * qbytes / 4) + gidIn.x + col;\n        int bStart = gidIn.x + col;\n        float sum = 0.0f;\n        for (int i = 0; i &lt; (pbytes / 4); i++) {\n            float prod = A[aStart + i] * B[bStart + (i * qbytes / 4)];\n            sum += prod;\n        }\n        C[cIdx] = sum;\n    }\n}\n</code></pre>\n\n<p>The issue with this implementation is that it does not optimize for memory access at all. Ideally, you would read and write as much data as possible at a time, allowing the compiler to vectorize the operation.</p>\n"}, {"tags": ["python", "c++", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 1031252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8397aac7eb335001671afc40caa1a3b1?s=128&d=identicon&r=PG", "display_name": "KOlegA", "link": "https://stackoverflow.com/users/1031252/kolega"}, "is_accepted": true, "score": 2, "last_activity_date": 1560937191, "creation_date": 1560937191, "answer_id": 56664626, "question_id": 43903243, "link": "https://stackoverflow.com/questions/43903243/opencv-laplacian-different-results-in-python-and-c/56664626#56664626", "title": "OpenCV - laplacian different results in Python and C++", "body": "<p>Too late for answer, but it works if you specify argument name 'ksize' in python code:</p>\n\n<pre><code>dst = cv2.Laplacian(src, ddepth, ksize=kernel_size)\n</code></pre>\n"}], "owner": {"reputation": 2776, "user_id": 4917686, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GzLa2.png?s=128&g=1", "display_name": "Jo&#227;o Cartucho", "link": "https://stackoverflow.com/users/4917686/jo%c3%a3o-cartucho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 56664626, "answer_count": 1, "score": 2, "last_activity_date": 1560939804, "creation_date": 1494452805, "last_edit_date": 1560939804, "question_id": 43903243, "link": "https://stackoverflow.com/questions/43903243/opencv-laplacian-different-results-in-python-and-c", "title": "OpenCV - laplacian different results in Python and C++", "body": "<p>I was coding the Python version of one of the C++ tutorials and noticed that the output image was different depending if I was using C++ or Python.</p>\n\n<p>For example, with our friend Lena:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KrCKI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrCKI.png\" alt=\"enter image description here\"></a></p>\n\n<p>C++ code:</p>\n\n<pre><code>#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/imgcodecs.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\nusing namespace cv;\n\nint main( int, char** argv )\n{\n    Mat src, dst, abs_dst;\n    int kernel_size = 3;\n    int scale = 1;\n    int delta = 0;\n    int ddepth = CV_16S;\n\n    src = imread( argv[1] );\n\n    Laplacian( src, dst, ddepth, kernel_size, scale, delta, BORDER_DEFAULT );\n    convertScaleAbs( dst, abs_dst );\n\n    const char* window_name = \"Laplace Demo\";\n    namedWindow( window_name, WINDOW_AUTOSIZE );\n    imshow( window_name, abs_dst );\n\n    waitKey(0);\n    return 0;\n}\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>import sys\nimport cv2\n\ndef main(argv):\n\n    ddepth = cv2.CV_16S\n    kernel_size = 3\n\n    src = cv2.imread(sys.argv[1], cv2.IMREAD_COLOR)\n\n    dst = cv2.Laplacian(src, ddepth, kernel_size)\n    abs_dst = cv2.convertScaleAbs(dst)\n\n    window_name = \"Laplace Demo\"\n    cv2.namedWindow(window_name, cv2.WINDOW_AUTOSIZE)\n    cv2.imshow(window_name, abs_dst)\n\n    cv2.waitKey(0)\n    return 0\n\n\nif __name__ == \"__main__\":\n    main(sys.argv[1:])\n</code></pre>\n\n<p>C++ image output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fyo6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fyo6K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Python image output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UOol2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOol2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you have any idea why this happens?</p>\n"}, {"tags": ["c++", "graphics", "raytracing"], "owner": {"reputation": 11, "user_id": 7259978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c8277de54ce63be5da5f1eb2aa66a2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hoskins", "link": "https://stackoverflow.com/users/7259978/chris-hoskins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1494452666, "creation_date": 1494452666, "question_id": 43903216, "link": "https://stackoverflow.com/questions/43903216/path-tracing-striped-reflection", "title": "Path Tracing Striped Reflection", "body": "<p><a href=\"https://i.stack.imgur.com/biGdl.png\" rel=\"nofollow noreferrer\">Striped Reflections Image</a>\nThe reflections of my Path Tracer is looks accurate but has variations in shading which gives it a striped effect. To my understanding, the problem is coming from the large differences between the Wi and Wo vectors that I use in my BRDF. More notably when I hard code the normalization factor in my BRDF it seems to remove the striping, but I can't deduce where the problem is coming from.</p>\n\n<p>Brdf Calculations:</p>\n\n<pre><code>Vector3f m = (wo + wi).normalized();\nfloat distribution = D(m, N, material.roughness);\nfloat geometry = G(m, N, wi, wo, material.roughness);\nVector3f fresnel = F(material.Ks, wi.dot(m));\nVector3f numerator = distribution * geometry * fresnel;\n// Hard coding this removes the striping.\nfloat denominator = 4 * std::abs(wi.dot(N)) * std::abs(wo.dot(N));\nfinal_color = numerator / denominator;\n</code></pre>\n\n<p>I call EvalBrdf which in turn starts the BRDF calculations in two places. In the explicit light phase and implicit light phase.</p>\n\n<p>In the explicit phase I randomly get a point on a random light(In my project there is only light)and I trace a ray towards that point and check for any intersections of the ray to the random point on the light. This calculations comes down to PdfLight / GeometricFactor(initial intersection, Random light point). All lights are spheres. This ray produces the Wi vector I use in my brdf calculations and the Wo is simply the inverse ray of the prior iterations Wi vector.</p>\n\n<p>PdfLight Calculation:</p>\n\n<pre><code>float Scene::PdfLight(Sphere *Q)\n{\n  return 1.0f / ((4.0f * pi * Q-&gt;radius_ * Q-&gt;radius_) * ray_time-\n&gt;light_list_.size());\n}\n</code></pre>\n\n<p>Geometric Factor:</p>\n\n<pre><code>float GeometryFactor(IntersectionData &amp;A, IntersectionData &amp;B)\n{\n  Vector3f D = A.point_ - B.point_;\n    return std::abs((A.normal_.dot(D) * B.normal_.dot(D)) / (D.dot(D) * \n(D.dot(D))));\n}\n</code></pre>\n\n<p>The second time is when I'm extending the ray path as normal when there hasn't been an non-intersection or an intersection to a light.</p>\n\n<p>Finding the new ray directions after intersection.</p>\n\n<pre><code>float cos = float(uniform_random(RNGen));\nfloat phi = float(uniform_random(RNGen));\nphi = 2.0f * pi * phi;\nVector3f m = SampleLobe(N, std::pow(cos, 1.0f/(roughness + 1)), phi);\nfinal_sample = 2 * (wo.dot(m)) * m - wo;\n</code></pre>\n\n<p>Sample lobe</p>\n\n<pre><code>float s = std::sqrtf(1 - c * c); // sinTheta\nVector3f K(s * std::cosf(phi), s * std::sinf(phi), c);\nQuaternionf q = Quaternionf::FromTwoVectors(Vector3f::UnitZ(), N);\nreturn q._transformVector(K);\n</code></pre>\n\n<p>From there I use the Wi and Wo to calculate the color contribution to my object using the previously mentioned BRDF calculation.</p>\n\n<p>I'm not sure what I'm misinterpreting here, but any help would be appreciated.\nThanks in advance.</p>\n"}, {"tags": ["c++", "gcc", "boost", "cmake", "osrm"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1494452355, "post_id": 43903023, "comment_id": 74840203, "body": "As you can see from the error log, Boost 1.64.0 is actually used. However, you problem is that libstdc++ you have is incompatible both with Boost and osrm. It&#39;s no wonder, as libstc++ is taken from <code>&#47;opt&#47;copy-client</code>, but other libraries are taken from <code>&#47;usr&#47;local&#47;lib</code>, <code>&#47;usr&#47;lib</code> and so."}, {"owner": {"reputation": 7076, "user_id": 1610428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e6gnk.jpg?s=128&g=1", "display_name": "krishnab", "link": "https://stackoverflow.com/users/1610428/krishnab"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1494453364, "post_id": 43903023, "comment_id": 74840628, "body": "haha, okay. Man, I just saw <code>opt</code>, which is such a common directory and did not read the rest. man, I deleted that and now it works just fine. Thanks for the extra pair of eyes."}], "owner": {"reputation": 7076, "user_id": 1610428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e6gnk.jpg?s=128&g=1", "display_name": "krishnab", "link": "https://stackoverflow.com/users/1610428/krishnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494451691, "creation_date": 1494451691, "question_id": 43903023, "link": "https://stackoverflow.com/questions/43903023/trouble-with-cmake-finding-dependencies-when-installing-c14-osrm-routing-appli", "title": "trouble with cmake finding dependencies when installing C++14 OSRM routing application", "body": "<p>I have been wrestling with this since yesterday. I am trying to install the <code>Osrm</code> routing library that provides street routing directions between two lat/long points. I cloned the OSRM repo and ran the basic install instructions.</p>\n\n<pre><code>mkdir -p build\ncd build\n&gt;&gt;&gt; cmake .. -DCMAKE_BUILD_TYPE=Release\ncmake --build .\nsudo cmake --build . --target install\n</code></pre>\n\n<p>When I run <code>cmake ..</code> I get these errors about </p>\n\n<pre><code>CMake Warning at /usr/local/share/cmake-3.6/Modules/FindBoost.cmake:743 (message):\n  Imported targets not available for Boost version 106400\nCall Stack (most recent call first):\n  /usr/local/share/cmake-3.6/Modules/FindBoost.cmake:842 (_Boost_COMPONENT_DEPENDENCIES)\n  /usr/local/share/cmake-3.6/Modules/FindBoost.cmake:1395 (_Boost_MISSING_DEPENDENCIES)\n  CMakeLists.txt:482 (find_package)\n</code></pre>\n\n<p>The library still compiles just fine. but when I go to run the first configuration command for the Osrm library, I get this error:</p>\n\n<pre><code>osrm-extract: /opt/copy-client/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by osrm-extract)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by osrm-extract)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by osrm-extract)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by osrm-extract)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /usr/local/lib/libboost_program_options.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/local/lib/libboost_program_options.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /usr/local/lib/libboost_regex.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/local/lib/libboost_regex.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /usr/local/lib/libboost_filesystem.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/local/lib/libboost_filesystem.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/local/lib/libboost_iostreams.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/local/lib/libboost_system.so.1.64.0)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /usr/lib/libstxxl.so.1)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /usr/lib/libstxxl.so.1)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/lib/libstxxl.so.1)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /usr/lib/x86_64-linux-gnu/libtbb.so.2)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /usr/lib/x86_64-linux-gnu/libicui18n.so.55)\nosrm-extract: /opt/copy-client/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /usr/lib/x86_64-linux-gnu/libicuuc.so.55)\n</code></pre>\n\n<p>So that is the problem. Now, I have been googling these errors, but none of the solutions seem relevant to my situation. </p>\n\n<p>First, I have <code>cmake</code> version 3.6.2 installed. Other posts suggested upgrading cmake to a version north of 3.5.</p>\n\n<p>I also have <code>boost</code> version 1.64.0 installed, which is the newest version. Seems like cmake is finding this version when it does the configuration step. </p>\n\n<p>Finally, I am also using <code>gcc</code>,<code>g++</code> version 5.4.1. Other posts were talking about upgrading to gcc version 4.9, but I am actually north of that version as well.</p>\n\n<p>So I looked into the error message during the configuration step I mentioned above:</p>\n\n<pre><code>(_Boost_COMPONENT_DEPENDENCIES)\n      /usr/local/share/cmake-3.6/Modules/FindBoost.cmake:1395 (_Boost_MISSING_DEPENDENCIES)\n      CMakeLists.txt:482 (find_package)\n</code></pre>\n\n<p>I dug into the <code>CMakeLists.txt</code> line 482. That line says </p>\n\n<pre><code>  find_package(Boost 1.54 REQUIRED COMPONENTS ${BOOST_COMPONENTS})\n</code></pre>\n\n<p>So the only think I can see is that the Osrm package is looking for boost 1.54. Now since I have version 1.64.0 should not Cmake accept the newest version? Not sure why these required components?</p>\n\n<p>Anyone have any suggestions?</p>\n"}, {"tags": ["c++", "windows", "batch-file"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1494450930, "post_id": 43902847, "comment_id": 74839562, "body": "I have a solution that was written in C#, where it is a recursive function (copy and pastes a whole directory WITH all subfolders in the directory), and it takes a source and a destination path. You should be able to convert it to C++. Hold on"}, {"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1494450982, "post_id": 43902847, "comment_id": 74839589, "body": "Na I need to remove the subfolders thanks though Kyle"}, {"owner": {"reputation": 80, "user_id": 4627836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rp80x-74Lek/AAAAAAAAAAI/AAAAAAAAADY/O16MjoRtsMM/photo.jpg?sz=128", "display_name": "K.M. Shihab Uddin", "link": "https://stackoverflow.com/users/4627836/k-m-shihab-uddin"}, "edited": false, "score": 0, "creation_date": 1494451010, "post_id": 43902847, "comment_id": 74839611, "body": "if it&#39;s c++, you can use SetCurrentDirectory() to set your desired directory. the loop through  all the file names (with path name) , load images and save them in current directory .. naive .. but it should work"}, {"owner": {"reputation": 80, "user_id": 4627836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rp80x-74Lek/AAAAAAAAAAI/AAAAAAAAADY/O16MjoRtsMM/photo.jpg?sz=128", "display_name": "K.M. Shihab Uddin", "link": "https://stackoverflow.com/users/4627836/k-m-shihab-uddin"}, "edited": false, "score": 0, "creation_date": 1494451075, "post_id": 43902847, "comment_id": 74839643, "body": "if you want to delete a folder / subfolder .. follow this one <a href=\"http://stackoverflow.com/questions/734717/how-to-delete-a-folder-in-c\" title=\"how to delete a folder in c\">stackoverflow.com/questions/734717/how-to-delete-a-folder-in&zwnj;&#8203;-c</a>"}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494451071, "post_id": 43902884, "comment_id": 74839640, "body": "Hi can you pop an example up is it like &quot;cpC:/Users/rudwi/Documents/Visual_Studio_2017/Projects/Extr&zwnj;&#8203;actPhotos/ExtractPho&zwnj;&#8203;tos/lfw-deepfunneled&zwnj;&#8203;/Abbas_Kiarostami/*.&zwnj;&#8203;png C:/&quot;"}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1494451338, "post_id": 43902884, "comment_id": 74839766, "body": "it is possible to use a loop to read from file.. reusable script :P"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "reply_to_user": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1494451391, "post_id": 43902884, "comment_id": 74839789, "body": "@Swift you can do anything you want but I assume the above is a one off thing and programming .bat files is painful!"}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1494451519, "post_id": 43902884, "comment_id": 74839854, "body": "@Anon Mail and if he got text file with 6000 lines like that, replace might not work.. there is limit to script size. Also, .cmd, forget about .bat &lt;.&lt;"}, {"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 1, "creation_date": 1494451706, "post_id": 43902884, "comment_id": 74839928, "body": "cp is linux im on windows here"}, {"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494451761, "post_id": 43902884, "comment_id": 74839953, "body": "im gonna jump to vm brb"}, {"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494453292, "post_id": 43902884, "comment_id": 74840591, "body": "Got there with Xcopy /s C:\\Pics\\Folder1 C:\\Folder2"}], "tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": true, "score": 1, "last_activity_date": 1494451200, "last_edit_date": 1494451200, "creation_date": 1494450976, "answer_id": 43902884, "question_id": 43902847, "link": "https://stackoverflow.com/questions/43902847/moving-files-to-a-different-directory/43902884#43902884", "title": "Moving files to a different directory", "body": "<p>It's easier to just create a .bat file of the commands to do a copy since you already have the source paths.</p>\n\n<p>In your favorite editor do the following:</p>\n\n<ol>\n<li><p>Prepend 'cp ' to all of your lines.</p></li>\n<li><p>Append ' destination path' to all of your lines.</p></li>\n<li><p>Rename the file to .bat and run it from a cmd window.</p></li>\n</ol>\n\n<p>As an example change your line above from</p>\n\n<pre><code>C:/Users/rudwi/Documents/Visual_Studio_2017/Projects/ExtractPhotos/ExtractPhotos/lfw-deepfunneled/Abbas_Kiarostami/*.png\n</code></pre>\n\n<p>to </p>\n\n<pre><code>cp C:/Users/rudwi/Documents/Visual_Studio_2017/Projects/ExtractPhotos/ExtractPhotos/lfw-deepfunneled/Abbas_Kiarostami/*.png C:/DestinationPath\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "is_accepted": false, "score": 2, "last_activity_date": 1494452625, "creation_date": 1494452625, "answer_id": 43903204, "question_id": 43902847, "link": "https://stackoverflow.com/questions/43902847/moving-files-to-a-different-directory/43903204#43903204", "title": "Moving files to a different directory", "body": "<p>a script for cmd may look something like that:</p>\n\n<pre><code>set DESTDIR= C:\\DestinationPath\\\nfor /f \"delims=\" %%i in (filelist.txt) do (xcopy \"%%i\" %DESTDIR% /i /y )\n</code></pre>\n\n<p>Note, don't forget backslash at end of destination. of course, script can be parameterized:</p>\n\n<pre><code>set DESTDIR= %2\nfor /f \"delims=\" %%i in (%1) do (xcopy \"%%i\" %DESTDIR% /i /y )\n</code></pre>\n\n<p>put that into a mcopy.cmd file, and it can be used as this:</p>\n\n<p>mcopy filelist.txt C:\\DestinationPath\\</p>\n"}, {"comments": [{"owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "edited": false, "score": 0, "creation_date": 1494453505, "post_id": 43903283, "comment_id": 74840680, "body": "Yeah got across the line using xCopy from a .bat nasty but did the trick"}], "tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1494453610, "last_edit_date": 1494453610, "creation_date": 1494453043, "answer_id": 43903283, "question_id": 43902847, "link": "https://stackoverflow.com/questions/43902847/moving-files-to-a-different-directory/43903283#43903283", "title": "Moving files to a different directory", "body": "<p>When I had to do something like that and if I needed it done once quickly without writing any scripts I'd do this:</p>\n\n<p>collect all <code>png</code> files from subdirs:\n<code>dir /s /b *.png &gt; copy.bat</code></p>\n\n<p>Then modify your <code>copy.bat</code> by adding <code>@echo off</code> at the top and prepend each filename with <code>call:mycopy</code> and then at the bottom of <code>copy.bat</code> add:</p>\n\n<pre><code>goto:eof\n:mycopy\ncopy %1 C:\\mynewdir\nexit /b 0\n</code></pre>\n\n<p>Not the best approach, but it's quick to do without really doing any scripting. Then when running that copy.bat I'd check output for errors for duplicate filenames.</p>\n"}], "owner": {"reputation": 383, "user_id": 6287102, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a0c36db2ec2fe0112d6407303ede6991?s=128&d=identicon&r=PG", "display_name": "Paul Hashmi", "link": "https://stackoverflow.com/users/6287102/paul-hashmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 0, "accepted_answer_id": 43902884, "answer_count": 3, "score": 1, "last_activity_date": 1494454407, "creation_date": 1494450783, "last_edit_date": 1494454407, "question_id": 43902847, "link": "https://stackoverflow.com/questions/43902847/moving-files-to-a-different-directory", "title": "Moving files to a different directory", "body": "<p>I'm having a nightmare trying to copy files from multiple directories into a single directory.</p>\n\n<p>Basically I received a data set with individual png files in individual folders. What I want is <em>one</em> folder with all the png files.</p>\n\n<p>The reason I want to do this with code is that the data set has approx. 6000 folders, so it is not practical to do it manually. This can be done with WinApi as I have no need to make this cross platform. I just want to merge the bloody folders.</p>\n\n<p>So far I have managed to get the paths to the png files all saved into a .txt which are saved on each line.</p>\n\n<p>Example: </p>\n\n<blockquote>\n  <p>C:/Users/rudwi/Documents/Visual_Studio_2017/Projects/ExtractPhotos/ExtractPhotos/lfw-deepfunneled/Abbas_Kiarostami/*.png</p>\n</blockquote>\n\n<p>Just wondering is there a way I can move from the path above to a different dir.</p>\n\n<p>The solution given by ANON I believe was for linux but it is pretty much the same using xCopy from the command line. Instead, just add /s before the source path to include everything in the directory. Hope this helps someone. </p>\n"}, {"tags": ["c++", "r"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1494450954, "post_id": 43902792, "comment_id": 74839574, "body": "Just by saying &#39;Rcpp&#39; three times your R code does not become C++ code."}, {"owner": {"reputation": 19, "user_id": 4049669, "user_type": "registered", "profile_image": "https://graph.facebook.com/530021022/picture?type=large", "display_name": "user7919", "link": "https://stackoverflow.com/users/4049669/user7919"}, "reply_to_user": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1494451234, "post_id": 43902792, "comment_id": 74839712, "body": "Hehe, I am aware of that. It would be neat if one could pass a function-definition as a string and then get it compiled as a function inside c++. Then it would be actual c++-code, or? This way, if I made a shiny-app where the user could write his own function-definition as a string, it could get passed threw rcpp to c++ and the for-loop would not be slowed down."}, {"owner": {"reputation": 13595, "user_id": 668501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f15b157200c05100d6baeb0ede510f0?s=128&d=identicon&r=PG", "display_name": "Soren", "link": "https://stackoverflow.com/users/668501/soren"}, "edited": false, "score": 0, "creation_date": 1494496463, "post_id": 43902792, "comment_id": 74857453, "body": "What would the benefit be over having the user just passing in a function actually written in Rcpp?"}, {"owner": {"reputation": 19, "user_id": 4049669, "user_type": "registered", "profile_image": "https://graph.facebook.com/530021022/picture?type=large", "display_name": "user7919", "link": "https://stackoverflow.com/users/4049669/user7919"}, "edited": false, "score": 0, "creation_date": 1494517216, "post_id": 43902792, "comment_id": 74873263, "body": "Simple example is as follows: Value of bank account A at time T based on returns from now and up to T and a costfunction C(...) - i.e. A(T, Return-vector, Costfunction(A(t&lt;T,...), ...). The costfunction is one of the userinputs and dependent on A(t&lt;T). I want to use c++ to speed up the for-loop, but still want to give the user the possibility to define a costfunction."}], "owner": {"reputation": 19, "user_id": 4049669, "user_type": "registered", "profile_image": "https://graph.facebook.com/530021022/picture?type=large", "display_name": "user7919", "link": "https://stackoverflow.com/users/4049669/user7919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1494450910, "answer_count": 0, "score": 0, "last_activity_date": 1494451784, "creation_date": 1494450540, "last_edit_date": 1494451784, "question_id": 43902792, "link": "https://stackoverflow.com/questions/43902792/compile-a-r-function-inside-c-using-rcpp", "closed_reason": "Duplicate", "title": "Compile a R-function inside c++ using rcpp", "body": "<p>I have a function in C++ which has, among others, a function as input-parameter:\nf(int x,int y, Function f). I am using Rcpp to make it available in R, and pass a R function as a parameter.</p>\n\n<p>Passing a R-function as parameter makes it go slower, and especially in a for-loop (because it has to call on the R-function in each iteration). I am wondering if it is possible to 'compile' the R-function once inside the c++ function, but before the actual for-loop? Then it doesn't need to evaluate it outside c++ in each iteration of the for-loop.</p>\n\n<p>I am thinking along the lines of defining a function as a string in R and then get it compiled as a function inside c++. Then it would be actual c++-code? This way, if I made a shiny-app where the user could write his own function-definition as a string, it could get passed threw rcpp to c++ and the for-loop would not be slowed down.</p>\n\n<p>Or, do anyone have a suggestion about how to get around this issue? </p>\n\n<p>My goal is to have a for-loop in c++, for speed, which can use a function defined in R, for convenience.</p>\n"}, {"tags": ["c++", "opengl", "fragment-shader"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1494451275, "post_id": 43902715, "comment_id": 74839744, "body": "Read framebuffer depth value, compare to incoming fragment depth, &amp; interpolate colors based on the difference?  I think that would explain the upward &quot;smearing&quot; along the column on the left around <a href=\"https://www.youtube.com/watch?v=mx7dl6A2AvA&amp;t=437\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1016, "user_id": 2796594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrgPn.jpg?s=128&g=1", "display_name": "Josh Parnell", "link": "https://stackoverflow.com/users/2796594/josh-parnell"}, "is_accepted": true, "score": 7, "last_activity_date": 1494452502, "last_edit_date": 1494452502, "creation_date": 1494451751, "answer_id": 43903039, "question_id": 43902715, "link": "https://stackoverflow.com/questions/43902715/how-to-create-depth-fade-effect-in-opengl/43903039#43903039", "title": "How to create Depth Fade effect in OpenGL?", "body": "<p>Sure. I don't know exactly what Unreal means by it, but the general idea is as follows.</p>\n\n<p>First, you need a readable depth buffer.  This means either do a depth-prepass, or just render this special effect <em>after</em> you've rendered the opaque objects in the scene (the ones against which you want this sphere to intersect).  I will assume that you know or can figure out how to create and use your own depth buffer so that you can read it back in the later steps.  You will not be able to use GL's default depth buffer for this (so you will require a framebuffer object, color attachment, depth attachment).</p>\n\n<p>Now, let's talk about rendering the sphere.  In your <strong>vertex shader</strong>, you will need to:</p>\n\n<ul>\n<li>Transform your vertex as usual</li>\n<li>After transformation, <em>write the depth value of the vertex to a varying</em> (you'll need it in the fragment shader)</li>\n</ul>\n\n<p>So the purpose of your vertex shader is to compute your sphere's scene depth and pass it to the fragment shader.</p>\n\n<p>In the <strong>fragment shader</strong>, this is where you do the meat of the technique. You need to bind your readable depth buffer to a uniform sampler2D. Then:</p>\n\n<ul>\n<li>Sample the depth buffer at the current screen position</li>\n<li>Compute the <code>sceneDepth - currDepth</code>, where currDepth is the varying that you passed in from your vert shader, and sceneDepth is the value that you sampled from the depth buffer</li>\n<li>Apply some math however you like to obtain an effect from this difference. For a very rough example, <code>float effectAlpha = exp(-k * max(0.0, sceneDepth - currDepth));</code> <code>k</code> here controls how quickly it fades out. You can then add some color, for example, and multiply it by <code>effectAlpha</code>.</li>\n</ul>\n\n<p>The point, ultimately, is that you're computing the effect based on a difference between the rendered geometry's depth and the occluding scene's depth. Hence 'depth fade.' Similar techniques are used, for example, to make water appear to smoothly fade into a coastline.</p>\n\n<p><strong>EDIT:</strong> I just glossed over the tutorial and noticed he also uses a Fresnel effect. That's giving some highlight at glancing angles. If you do a search for Fresnel effect GLSL, it should be easy to find sources -- Fresnel is ubiquitous in rendering, especially in physically-based rendering. Basic idea is that you'll be computing a value that is 0 where your object 'faces' the camera ('faces' meaning has a normal vector aligned with the direction to the camera), and 1 where your object faces a direction orthogonal to the camera.</p>\n\n<p>It actually doesn't appear that the fresnel is very visible in the screenshot you posted (fresnel is a very slight effect as it fades roughly like a 5th-degree polynomial), so you can probably achieve most of what you want with the depth fade alone.</p>\n"}], "owner": {"reputation": 53, "user_id": 7994053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a55f8ca1ced90c7056c522f32d40a6?s=128&d=identicon&r=PG&f=1", "display_name": "U Ack Fin", "link": "https://stackoverflow.com/users/7994053/u-ack-fin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 3, "accepted_answer_id": 43903039, "answer_count": 1, "score": 4, "last_activity_date": 1494452502, "creation_date": 1494450212, "last_edit_date": 1494450522, "question_id": 43902715, "link": "https://stackoverflow.com/questions/43902715/how-to-create-depth-fade-effect-in-opengl", "title": "How to create Depth Fade effect in OpenGL?", "body": "<p>I would like to create a translucent sphere, which is highlighted where it intersects other objects (for example the ground).</p>\n\n<p>Like the white line in this picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/od3WA.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/od3WA.jpg\" alt=\"image\"></a>\n<br></p>\n\n<p>I've found <a href=\"https://www.youtube.com/watch?v=mx7dl6A2AvA&amp;t=5m46s\" rel=\"noreferrer\">an Unreal Engine 4 tutorial</a> about how to create something like that.</p>\n\n<p>It uses \"depth fade\" in the shader. Unfortunately I haven't found any OpenGL tutorial about Depth Fades.</p>\n\n<p>How is it possible to create an effect like this?</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1494450797, "post_id": 43902582, "comment_id": 74839499, "body": "Helpful Reading: <a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow noreferrer\">Pointers to Member Functions</a>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1494452396, "post_id": 43902582, "comment_id": 74840222, "body": "<code>slots:</code> is not part of Standard C++, are you using something like QT? (If so then tagging your question as QT would help)"}], "answers": [{"tags": [], "owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "is_accepted": false, "score": 1, "last_activity_date": 1494450275, "creation_date": 1494450275, "answer_id": 43902727, "question_id": 43902582, "link": "https://stackoverflow.com/questions/43902582/cannot-create-an-array-of-functions/43902727#43902727", "title": "Cannot create an array of functions", "body": "<pre><code>void (*connections[5])() = { coin5C, coin10C, coin20C, coin50C, coin1EUR };\n</code></pre>\n\n<p>declares an array of function pointers.  You want an array of <em>member</em> function pointers.  Try something like this:</p>\n\n<pre><code>void (MainWindow::*connections[5])() = { &amp;MainWindow::coin5C, &amp;MainWindow::coin10C, &amp;MainWindow::coin20C, &amp;MainWindow::coin50C, &amp;MainWindow::coin1EUR };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5594, "user_id": 1645784, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xZW4T.jpg?s=128&g=1", "display_name": "Aleksei Petrenko", "link": "https://stackoverflow.com/users/1645784/aleksei-petrenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1494451489, "last_edit_date": 1494451489, "creation_date": 1494450806, "answer_id": 43902852, "question_id": 43902582, "link": "https://stackoverflow.com/questions/43902582/cannot-create-an-array-of-functions/43902852#43902852", "title": "Cannot create an array of functions", "body": "<p>Besides making an array of method pointers you also want to put it inside the class body. This works if you declare your array as <code>static constexpr</code>. Look at the example program below. It also defines type <code>AMethod</code>, which is just a pointer to method of <code>A</code>, to make code a little cleaner.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct A\n{\n  typedef void(A::*AMethod)();\n  void a(){ std::cout &lt;&lt; __FUNCTION__ &lt;&lt; std::endl; }\n  void b(){ std::cout &lt;&lt; __FUNCTION__ &lt;&lt; std::endl; }\n  constexpr static AMethod ptrs[2] = {&amp;A::a, &amp;A::b};  \n};\n\n\nint main()\n{\n  A a;\n  (a.*A::ptrs[0])();\n  (a.*A::ptrs[1])();\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2707287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd507997d0200dd1fe9c61d6fb34e684?s=128&d=identicon&r=PG&f=1", "display_name": "Samih", "link": "https://stackoverflow.com/users/2707287/samih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494671349, "creation_date": 1494449710, "last_edit_date": 1494671349, "question_id": 43902582, "link": "https://stackoverflow.com/questions/43902582/cannot-create-an-array-of-functions", "title": "Cannot create an array of functions", "body": "<p>I am trying to create an array of functions so I can later use it to loop through the amount of buttons are displayed on the user interface.</p>\n\n<p>Here is my .hpp snippet:</p>\n\n<pre><code>public slots:\n   void coin5C();\n   void coin10C();\n   void coin20C();\n   void coin50C();\n   void coin1EUR();\n   void (connections[5])() = { coin5C, coin10C, coin20C, coin50C, coin1EUR };\n</code></pre>\n\n<p>The last line is supposed to put them all in to an array, but I seem to be getting a error</p>\n\n<p><code>Declaration of 'connections' as array of functions</code></p>\n\n<p>In my .cpp this is how I want to use my array function (above last line): </p>\n\n<pre><code>  for(int i = 0; i &lt; NumButtons; i++) {\n\n       // Error checking\n       if(btnNames[i] == \"\") {\n           btnNames[i] = \"btnNames \" + QString::number(i);\n       }\n\n       buttons[i] = new QPushButton(btnNames[i]);\n       layout1-&gt;addWidget(buttons[i]);\n\n       connect(buttons[i], SIGNAL(released()), this, SLOT( connections[i]() ));\n\n   }\n</code></pre>\n\n<p>If I use <code>void (*connections[5])() = { coin5C, coin10C, coin20C, coin50C, coin1EUR };</code> I get the error: </p>\n\n<pre><code>cannot convert 'MainWindow::coin5C' from type 'void (MainWindow::)()' to type 'void (*)()'\nvoid (*connections[5])() = { coin5C, coin10C, coin20C, coin50C, coin1EUR };\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3262, "user_id": 5273921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvzQp.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5273921/mike"}, "edited": false, "score": 0, "creation_date": 1494449885, "post_id": 43902475, "comment_id": 74839068, "body": "Why are you setting <code>fam = 0</code> immediately after you set it with <code>shmat</code>?"}, {"owner": {"reputation": 9720, "user_id": 6371123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f90991c1b06c79ae4c6e79fb616d608?s=128&d=identicon&r=PG", "display_name": "G.M.", "link": "https://stackoverflow.com/users/6371123/g-m"}, "edited": false, "score": 0, "creation_date": 1494450238, "post_id": 43902475, "comment_id": 74839233, "body": "Is the value returned from <code>shmget</code> valid?  Also shouldn&#39;t <code>key</code> be initialized -- if only to <code>IPC_PRIVATE</code>?"}], "owner": {"reputation": 11, "user_id": 7196960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d341a78b9b0a3f4ae004841811259a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Kitchen", "link": "https://stackoverflow.com/users/7196960/kitchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1494449299, "creation_date": 1494449299, "question_id": 43902475, "link": "https://stackoverflow.com/questions/43902475/shmat-not-working-properly", "title": "shmat() not working properly", "body": "<p>Can anyone tell me why my shmat is not working how it should be? I am not sure why the int fam is not storing the data properly and going back to 0\nafter I tried incrementing it in the child process. I need to use stored memory so I can update my other class. Can anyone help me figure out what is going on? Thanks</p>\n\n<pre><code>void Execute::terminal(const vector&lt;Command*&gt;&amp; tokens) //runs all the commands\n{\n\n    key_t key;\n    int shmid;\n    // int* fam = (int*)shmat(shm_id, NULL, 0);\n\n    //key = ftok(\"/home/beej/somefile3\", 'R');\n    //shmid = shmget(key, 1024, 0644 | IPC_CREAT);\n    shmid = shmget(key, 10*sizeof(int), 0644 | IPC_CREAT);\n    // fam = static_cast&lt;int*&gt;(shmat(shmid, (void *) 0, 0));\n    int *fam = /*static_cast&lt;int*&gt;*/(int*)(shmat(shmid, NULL, 0));\n    fam = 0;\n    cout &lt;&lt; fam &lt;&lt; endl;\n    int termstat;\n    bool temp;\n    vector&lt;char*&gt;convert;\n    vector&lt;string&gt; parse;\n    string text;\n    // ; = next command is always executed\n    // &amp;&amp; = next command only executes if previous command succesfully executed\n    // || = next command only executes if previous command didnt\n    // # = comment \n    cout &lt;&lt; \"terminal is working - \" &lt;&lt; tokens.size() &lt;&lt; endl;\n    for(int x = 0; x &lt; tokens.size(); x++)\n    {\n\n        convert.resize(0);\n        text = tokens.at(x)-&gt;tokenCheck();\n        parsecmd(text,parse);\n\n        for(int i = 0; i &lt; parse.size(); i++)\n        {\n            convert.push_back(to_char(parse[i]));\n        }\n        char** arg = &amp;convert.at(0);\n\n        pid_t parent = getpid();\n        pid_t pid = fork();\n\n        if(pid &lt; 0)\n        {\n            perror(\"Error: fork failed\");\n            _exit(-127);\n        }\n\n        if(pid &gt; 0)\n        {\n            waitpid(pid, &amp;termstat, 0);\n        }\n        else\n        {\n            if(tokens.at(index)-&gt;signCheck() == 0)  //comment - delete this token\n            {\n                tokens.at(index)-&gt;addstatus(true);\n            }\n            if(tokens.at(index)-&gt;signCheck() == 1)  // ; always runs\n            {\n                tokens.at(index)-&gt;addstatus(true);\n                int check = execvp(arg[0],arg);\n                if(check &lt; 0)\n                {\n                    cout &lt;&lt; fam &lt;&lt; endl;\n                    fam ++;\n                    shmdt(fam);\n                    cout &lt;&lt; fam &lt;&lt; endl;\n                    cout &lt;&lt; \"Error: \" &lt;&lt; arg[0] &lt;&lt;\" command not found (;)\" &lt;&lt; endl;\n                    tokens.at(index)-&gt;addstatus(false);\n                    _exit(-127);\n                }\n                else\n                {\n                 tokens.at(index)-&gt;addstatus(true);\n                 _exit(5);\n                }\n\n            }\n            if(tokens.at(index)-&gt;signCheck() == 2)  // || runs only if first fails\n            {\n                if(tokens.at(index-1)-&gt;statusCheck() == false)\n                {\n\n                    int check = execvp(arg[0],arg);\n                    if(check &lt; 0)\n                    {\n                        fam ++;\n                        cout &lt;&lt; \"Error: \" &lt;&lt; arg[0] &lt;&lt;\" command not found (||)\" &lt;&lt; endl;\n                        tokens.at(index)-&gt;addstatus(false);\n                        _exit(-127);\n                    }\n                    else\n                    {\n                    tokens.at(index)-&gt;addstatus(true);\n                    _exit(5);\n                    }\n                }\n            }\n            if(tokens.at(index)-&gt;signCheck() == 3)  // &amp;&amp; runs only if first passes\n            {\n                if(tokens.at(index-1)-&gt;statusCheck() == true)\n                {\n\n                    int check = execvp(arg[0],arg);\n                    if(check &lt; 0)\n                    {\n                        fam ++;\n                        cout &lt;&lt; \"Error: \" &lt;&lt; arg[0] &lt;&lt;\" command not found (&amp;&amp;)\" &lt;&lt; endl;\n                        tokens.at(index)-&gt;addstatus(false);\n                        _exit(-127);\n                    }\n                    else\n                    {\n                    tokens.at(index)-&gt;addstatus(true);\n                    _exit(5);\n                    }\n                }\n            }\n\n\n\n        }\n        cout &lt;&lt; \"fam at end: \" &lt;&lt;fam &lt;&lt; endl;\n        if(fam == 0)\n        {\n            tokens.at(index)-&gt;addstatus(true);\n        }\n\n        this-&gt;index++;      // keeps track of which command is being executed\n        cout &lt;&lt; \"index: \" &lt;&lt; index &lt;&lt; endl;\n    }\n   for(int i = 0; i &lt; tokens.size(); i++){ \n            cout &lt;&lt; tokens[i]-&gt;statusCheck() &lt;&lt; endl;\n        }\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "visual-studio-2017"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1494449312, "post_id": 43902442, "comment_id": 74838772, "body": "You aren&#39;t supposed to modify a string literal, I believe that&#39;s undefined behavior. Set up a <code>char</code> or <code>wchar_t</code> (or <code>TCHAR</code>) array instead."}], "answers": [{"tags": [], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "is_accepted": true, "score": 1, "last_activity_date": 1494451338, "last_edit_date": 1494451338, "creation_date": 1494450177, "answer_id": 43902706, "question_id": 43902442, "link": "https://stackoverflow.com/questions/43902442/getwindowtext-malfunktion/43902706#43902706", "title": "GetWindowText malfunktion", "body": "<p>The documentation for <a href=\"https://msdn.microsoft.com/de-de/library/windows/desktop/ms633520(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>GetWindowText()</code></a> states that parameter <code>lpString</code> is supposed to point to a \"buffer that will receive the text\", which implies a <em>writable</em> buffer. </p>\n\n<p>With the code <code>LPTSTR title = L\"test\";</code> you create a pointer to a string literal which usually is located in read-only memory. When <code>GetWindowText()</code> tries to write to that memory, it causes an access violation.</p>\n\n<p>To solve the issue, use a writable buffer like this:</p>\n\n<pre><code>// Allocate buffer including terminating null\nstd::wstring title( GetWindowTextLength(hWndTextbox) + 1, 0 );\n\n// Address of first character is used to obtain pointer to non-const data\n// (as opposed to wstring::c_str()).\nint size = GetWindowText( hWndTextbox, &amp;title[0], title.size() );\n\n// Resize buffer to the actual text length\ntitle.resize( size );\n\n// MessageBox only needs pointer to const string, so we can use wstring::c_str() here.\nMessageBox(hWnd, title.c_str(), L\"Message box\", MB_OK);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7993939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Kz1Fsvj4to/AAAAAAAAAAI/AAAAAAAAACU/aQBnZZM5kYU/photo.jpg?sz=128", "display_name": "Svend Lemming Jacobsen", "link": "https://stackoverflow.com/users/7993939/svend-lemming-jacobsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 43902706, "answer_count": 1, "score": 1, "last_activity_date": 1494451338, "creation_date": 1494449131, "question_id": 43902442, "link": "https://stackoverflow.com/questions/43902442/getwindowtext-malfunktion", "title": "GetWindowText malfunktion", "body": "<p>I'm trying to learn how to make a GUI for a C++ using visual studio. but I have encountered some problems while using the GetWindowText() function. It does not change the LPTSTR title to the text in the textbox and I also get an error when debugging saying: \u201cException thrown at 0x74F8207D (user32.dll) in Win32Project1.exe: 0xC0000005: Access violation writing location 0x002B8D38.\u201d The code can be seen below what am I doing wrong?</p>\n\n<pre><code>#define ID_BUTTON1 1\n#define ID_BUTTON2 2\n#define ID_TEXT3 3\nstatic HWND hWndTextbox;\nLRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)\n{\nswitch (message)\n{\ncase WM_CREATE:\n{\n    HMENU hMenubar = CreateMenu();\n    HMENU hFile = CreateMenu();\n    HMENU hOptions = CreateMenu();\n\n    AppendMenu(hMenubar, MF_POPUP, (UINT_PTR)hFile, L\"File\");\n    AppendMenu(hMenubar, MF_POPUP, NULL, L\"Edit\");\n    AppendMenu(hMenubar, MF_POPUP, (UINT_PTR)hOptions, L\"Options\");\n\n    AppendMenu(hFile, MF_STRING, NULL, L\"Exit\");\n    AppendMenu(hOptions, MF_STRING, NULL, L\"option 1\");\n    AppendMenu(hOptions, MF_STRING, NULL, L\"option 2\");\n        SetMenu(hWnd, hMenubar);\n\n    CreateWindow(TEXT(\"button\"), TEXT(\"Hello\"),\n        WS_VISIBLE | WS_CHILD,\n        10, 10, 80, 25,\n        hWnd, (HMENU) ID_BUTTON1, NULL, NULL);\n\n    static HWND hWndTextbox = CreateWindow(TEXT(\"edit\"), TEXT(\"tekst goes here\"),\n        WS_VISIBLE | WS_CHILD|WS_BORDER | ES_AUTOHSCROLL,\n        90, 120, 300, 20,\n        hWnd, (HMENU) ID_TEXT3, NULL, NULL);\n\n    CreateWindow(TEXT(\"button\"), TEXT(\"shiny\"),\n        WS_VISIBLE | WS_CHILD,\n        50, 50, 80, 50,\n        hWnd, (HMENU) ID_BUTTON2, NULL, NULL);\n}\nbreak;\ncase WM_COMMAND:\n    {\n    if (LOWORD(wParam) == ID_BUTTON1) {\n        MessageBox(hWnd, L\"Button has been clicked\", L\"title for popup\", MB_ICONINFORMATION);\n    }\n    if (LOWORD(wParam) == ID_BUTTON2) {\n        // create some default vars\n        // int length = GetWindowTextLength(hWndTextbox) + 1;\n        LPTSTR title = L\"test\" ;\n\n        GetWindowText(hWndTextbox, title, GetWindowTextLength(hWndTextbox) + 1);\n        MessageBox(hWnd, title, L\"Message box\", MB_OK);\n    }\n    break;\n        int wmId = LOWORD(wParam);\n        // Parse the menu selections:\n        switch (wmId)\n        {\n        case IDM_ABOUT:\n            DialogBox(hInst, MAKEINTRESOURCE(IDD_ABOUTBOX), hWnd, About);\n            break;\n        case IDM_EXIT:\n            DestroyWindow(hWnd);\n            break;\n        default:\n            return DefWindowProc(hWnd, message, wParam, lParam);\n        }\n    }\n    break;\ncase WM_PAINT:\n    {\n        PAINTSTRUCT ps;\n        HDC hdc = BeginPaint(hWnd, &amp;ps);\n        // TODO: Add any drawing code that uses hdc here...\n        EndPaint(hWnd, &amp;ps);\n    }\n    break;\ncase WM_DESTROY:\n    PostQuitMessage(0);\n    break;\ndefault:\n    return DefWindowProc(hWnd, message, wParam, lParam);\n}\nreturn 0;\n}\n</code></pre>\n\n<p>the rest of the code was auto generated by visual studio so I have only included the part where I made changes. </p>\n"}, {"tags": ["c++", "performance", "parsing", "c++11"], "comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1494448008, "post_id": 43902045, "comment_id": 74838102, "body": "Please post sample of text file."}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1494448149, "post_id": 43902045, "comment_id": 74838175, "body": "you need to use a profiler to pinpoint bottlenecks. beyond that reserving space in the vector ahead of time should provide a significant boost."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 2, "creation_date": 1494448365, "post_id": 43902045, "comment_id": 74838280, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17925051/fast-textfile-reading-in-c\">Fast textfile reading in c++</a>"}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 3, "creation_date": 1494448533, "post_id": 43902045, "comment_id": 74838360, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17465061/how-to-parse-space-separated-floats-in-c-quickly\">How to parse space-separated floats in C++ quickly?</a>"}, {"owner": {"reputation": 71, "user_id": 6823991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4abd90fb23e51653c5b8be0528d13ec?s=128&d=identicon&r=PG&f=1", "display_name": "jsn", "link": "https://stackoverflow.com/users/6823991/jsn"}, "edited": false, "score": 0, "creation_date": 1494448543, "post_id": 43902045, "comment_id": 74838367, "body": "For an idea on performance see <a href=\"http://stackoverflow.com/questions/3664272/is-stdvector-so-much-slower-than-plain-arrays\" title=\"is stdvector so much slower than plain arrays\">stackoverflow.com/questions/3664272/&hellip;</a>"}, {"owner": {"reputation": 2296, "user_id": 911646, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d9182e8f594a3d77c079eab5210574a3?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/911646/markus"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1494449004, "post_id": 43902045, "comment_id": 74838607, "body": "@BradAllred I&#39;m trying to keep up with all the other comments. But your link does look like the same problem I have. I&#39;ll give it a shot."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1494449146, "post_id": 43902045, "comment_id": 74838679, "body": "Tried your code on my system, takes around 1.3s with 4M floating point numbers (72MiB). Are you sure you are measuring an optimized build?"}, {"owner": {"reputation": 2296, "user_id": 911646, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d9182e8f594a3d77c079eab5210574a3?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/911646/markus"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1494449407, "post_id": 43902045, "comment_id": 74838821, "body": "@BaummitAugen I&#39;m sure. But if you look at Brad Allreds link you can see that fstream is extremly slow on windows compared to maybe fscan. Are you running linux?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1494449618, "post_id": 43902045, "comment_id": 74838917, "body": "@Markus Yes, so maybe that&#39;s it. (Even on Linux, <code>fscanf</code> turns out to be ca. 30% faster, but don&#39;t sue me if I did not measure this correctly.)"}, {"owner": {"reputation": 50347, "user_id": 1763356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zGWG9.png?s=128&g=1", "display_name": "Veedrac", "link": "https://stackoverflow.com/users/1763356/veedrac"}, "edited": false, "score": 0, "creation_date": 1494465380, "post_id": 43902045, "comment_id": 74843669, "body": "That&#39;s like 3000 cycles/byte, or 20000 cycles/float, which is ridiculous. Try reading the whole thing into a string first; if it&#39;s significantly faster then your code is likely not buffering the reads."}], "answers": [{"comments": [{"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1494450757, "post_id": 43902801, "comment_id": 74839483, "body": "copying the file to a <code>std::string</code> is <i>not</i> likely to improve performance. Using a memory mapped file would be much better."}, {"owner": {"reputation": 169, "user_id": 3890169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cZ7bY.jpg?s=128&g=1", "display_name": "diogoslima", "link": "https://stackoverflow.com/users/3890169/diogoslima"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1494450920, "post_id": 43902801, "comment_id": 74839557, "body": "Agreed @BradAllred, I will edit end remove the secondary part of my post as it is misleading."}], "tags": [], "owner": {"reputation": 169, "user_id": 3890169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cZ7bY.jpg?s=128&g=1", "display_name": "diogoslima", "link": "https://stackoverflow.com/users/3890169/diogoslima"}, "is_accepted": false, "score": 0, "last_activity_date": 1494450825, "last_edit_date": 1495535487, "creation_date": 1494450582, "answer_id": 43902801, "question_id": 43902045, "link": "https://stackoverflow.com/questions/43902045/reading-a-text-file-with-floats-fast/43902801#43902801", "title": "Reading a text file with floats fast", "body": "<p>please consider taking a look at the possible duplicates shared by @gsamaras and @Brad Allred. Anyway, I will try to reply with a simple answer that will aim on keeping the code simplicity/friendliness and consider the following two premises:</p>\n\n<ul>\n<li>You have a constraint regarding the file and will neither change the file format, neither the way floats are presented textually in it.</li>\n<li>You want to keep using STL and are not looking for a library specialized/optimized for the challenge you are facing.</li>\n</ul>\n\n<p>With those stated constraints and mindset, my main suggestion would be to preallocate your containers, both the float vector as the internal iostream buffer:</p>\n\n<ul>\n<li>Increase performance of insertion in <strong>number_vec</strong> by reserving the required size in the std vector. This can be achieved by a call to <em>reserve</em> as explained in this <a href=\"https://stackoverflow.com/questions/11888265/is-it-more-efficient-to-preallocate-a-vector\" title=\"Efficient to preallocate a vector\">stackoverflow post</a>. </li>\n<li>Increase performance of the iostream by setting the buffer size used internally. This can be achieved by a call to <em>pubsetbuf</em> as explained in this <a href=\"https://stackoverflow.com/questions/5166263/how-to-get-iostream-to-perform-better\" title=\"Get iostream to perform better\">other stackoverflow post</a>.</li>\n</ul>\n"}], "owner": {"reputation": 2296, "user_id": 911646, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d9182e8f594a3d77c079eab5210574a3?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/911646/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1494450825, "creation_date": 1494447617, "last_edit_date": 1494448619, "question_id": 43902045, "link": "https://stackoverflow.com/questions/43902045/reading-a-text-file-with-floats-fast", "title": "Reading a text file with floats fast", "body": "<p>I have a text file with ~4 mio floats, i.e 30MB, and I want to read them into a <code>vector&lt;float&gt;</code>.</p>\n\n<p>The code I have is very bare bone, and gets the job done</p>\n\n<pre><code>std::fstream is(\"data.txt\", std::ios_base::in);\n\nfloat number;\nwhile (is &gt;&gt; number)\n{\n   //printf(\"%f \", number);\n   number_vec.push_back(number);\n}\n</code></pre>\n\n<p>The problem is that it takes 20-30 s on a modern desktop workstation. At first I assumed I did something stupid, but the more I starred at the code, the more I started accepting that maybe it was just the time it takes to parse all those ascii float values into <code>floats</code></p>\n\n<p>However, then I remembered that Matlab can read, and parse, the same file almost instantly (disk speed seems to be the limit), so it is obvious that my code is just very inefficient.</p>\n\n<p>The only thing I could think of was to reserve the required elements in the vector in advance, but it didn't improve the situation at all.</p>\n\n<p>Can someone help me understand why? and maybe help writing a faster solution?</p>\n\n<p><strong>EDIT</strong> The textfile looks like this:</p>\n\n<blockquote>\n  <p>152.00256  45.8569  5.87214  0.225  -0.0005 .....</p>\n</blockquote>\n\n<p>i.e. One row, space delimited.</p>\n"}, {"tags": ["c++", "class", "vector"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 7, "creation_date": 1494447399, "post_id": 43901959, "comment_id": 74837806, "body": "Does it make sense that an order knows all other orders?  Shouldn&#39;t something else &quot;own&quot; the orders?"}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 1, "creation_date": 1494447686, "post_id": 43901959, "comment_id": 74837952, "body": "static lists are a bit of a smell honestly, they destroy data hiding and make it harder to extend the code. Obviously I can&#39;t see what you want to do, but you should <i>probably</i> have your <code>orders</code> list as a member of some sort of manager or system."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1494447698, "post_id": 43901959, "comment_id": 74837957, "body": "Make a different class to contain all the <code>Orders</code>. Like <code>class Restaurant;</code> ?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1494448977, "post_id": 43901959, "comment_id": 74838595, "body": "I&#39;d recommend not using the static vector"}], "answers": [{"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 1, "last_activity_date": 1494451130, "creation_date": 1494451130, "answer_id": 43902913, "question_id": 43901959, "link": "https://stackoverflow.com/questions/43901959/c-static-vectors-in-classes/43902913#43902913", "title": "C++ Static vectors in classes", "body": "<p>Deciding if static lists of objects makes sense or not, and which class shall hold these objects probably depends on why and how one wants to use the object list. So without being a bit more specific concerning the use-case, clear answers like \"do\" or \"don't\" might be opinion based. </p>\n\n<p>The following is not meant as an answer, because of the missing use-case. But let me just share some thoughts with you:</p>\n\n<p>I'd suggest to express the meaning/the purpose of the list, e.g. by meaningfully naming the variable. This could be <code>openOrders</code>, <code>allOrderObjects</code>, <code>sharedOrders</code>. </p>\n\n<p>Connected with the meaning, you should probably hide the implementation detail that you use a <code>vector</code>. Especially the fact that you even expose the vector to the public makes it hard to ensure the meaning throughout the program. For example, if the meaning is <code>openOrders</code>, who prevents somebody from adding a closed order to the list?</p>\n\n<p>So I'd hide the vector (make it private or at least protected); Add \"control\"-functions that restrict the access, name these functions such that the purpose becomes obvious, and restrict access to the list in order to ensure the meaning properly.</p>\n\n<p>Depending on the meaning, you could also rethink the data structure <code>vector</code>. Maybe a <code>map</code> is more appropriate, e.g. if orders have a unique real world identifier like an order number shared with your customers and if you want to make sure to not create objects with the same order number twice...</p>\n\n<p>Let me stop here. Maybe you get more thoughts from the community.</p>\n\n<p>But I think the main issue is: get the meaning / the purpose of the list clear.</p>\n"}], "owner": {"reputation": 1, "user_id": 7590177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79089b906e58d860a3ff08f2085eff7?s=128&d=identicon&r=PG&f=1", "display_name": "dmikey098", "link": "https://stackoverflow.com/users/7590177/dmikey098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494451130, "creation_date": 1494447344, "question_id": 43901959, "link": "https://stackoverflow.com/questions/43901959/c-static-vectors-in-classes", "title": "C++ Static vectors in classes", "body": "<p>I am working on a restraunt order system as a project for my computer science class and I was wondering if it would be best practice to use a static vector within my Order class to contain all of my orders or should I have it in my main program? I'm still working everything out but basically which one of these is better or is there another way entirely I should explore:</p>\n\n<pre><code>class Order {\npublic:\nstatic vector&lt;Order&gt; orders; //should this be private instead?\n}\n\nint main(){\nvector&lt;Order&gt; orders; //should I just pass this to my methods?\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "edited": false, "score": 0, "creation_date": 1494447510, "post_id": 43901886, "comment_id": 74837858, "body": "Covariance only works for raw pointers and references. <code>std::shared_ptr</code> is neither."}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "reply_to_user": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "edited": false, "score": 0, "creation_date": 1494447637, "post_id": 43901886, "comment_id": 74837915, "body": "I see- so the best course of action would be to return a tuber*?"}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "reply_to_user": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "edited": false, "score": 1, "creation_date": 1494450857, "post_id": 43901886, "comment_id": 74839534, "body": "@yuri kilochek nope, type erasure works with shared_ptr.. that&#39;s overloading virtual function is what doesn&#39;t work"}, {"owner": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "reply_to_user": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 1, "creation_date": 1494451390, "post_id": 43901886, "comment_id": 74839788, "body": "@Swift <code>shared_ptr</code> uses type erasure to store the deleter, yes. I have no idea why you bring that up as that has nothing to do with the issue at hand. Overloading on return type indeed doesn&#39;t work, but you can override a virtual function with another one with a covariant return type, which is either a reference or a pointer to a subtype."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "reply_to_user": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "edited": false, "score": 1, "creation_date": 1494454139, "post_id": 43901886, "comment_id": 74840890, "body": "@yuri kilochek There is way to simulate  covariance  <a href=\"http://stackoverflow.com/questions/6924754/return-type-covariance-with-smart-pointers\" title=\"return type covariance with smart pointers\">stackoverflow.com/questions/6924754/&hellip;</a> but fact that you can do that  doesn&#39;t mean that you should  do it. Same about using raw pointers for covariance, it&#39;s very peculiar case."}], "answers": [{"comments": [{"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1494447949, "post_id": 43902070, "comment_id": 74838066, "body": "It doesn&#39;t seem you can do that - eg std::shared_ptr&lt;abstracter&lt;int,U&gt;::potato&gt; makePotato() just screams about the template argument."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "reply_to_user": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 1, "creation_date": 1494448438, "post_id": 43902070, "comment_id": 74838321, "body": "@ProbablyAStupidQuestion in your case inheritance structure is  really fragged up.It actually doesn&#39;t recognize it as a type, you should use <code>typename</code> keyword:  <code>std::shared_ptr&lt;typename abstracter&lt;int,U&gt;::potato&gt; makePotato()</code>"}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1494448594, "post_id": 43902070, "comment_id": 74838398, "body": "That did it. This whole structure seemed like a really good idea at the time and now it no longer does..."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "reply_to_user": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 1, "creation_date": 1494448644, "post_id": 43902070, "comment_id": 74838428, "body": "@ProbablyAStupidQuestion maybe concreter must be child of abstracter, and you can use  <code>using</code> aliases. They will not work in this case, because it would be &quot;different&quot; type.. unless you&#39;ll make potato  a class in global namespace"}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1494448700, "post_id": 43902070, "comment_id": 74838465, "body": "Oh is that what that thing is for? I&#39;ve seen it but not played with it."}], "tags": [], "owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "is_accepted": true, "score": 1, "last_activity_date": 1494450912, "last_edit_date": 1494450912, "creation_date": 1494447746, "answer_id": 43902070, "question_id": 43901886, "link": "https://stackoverflow.com/questions/43901886/why-isnt-this-combination-of-partially-filled-templates-and-interfaces-allowed/43902070#43902070", "title": "Why isn&#39;t this combination of partially filled templates and interfaces allowed?", "body": "<p>Because virtual methods can't return different type?  And why you need that, all that you need is a factory method that uses  type erasure.</p>\n\n<pre><code>    class tuberMaker : public abstracter&lt;int,U&gt;::potatoMaker\n    {\n    public:\n        std::shared_ptr&lt;typename abstracter&lt;int,U&gt;::potato&gt; makePotato()\n        {\n            return std::make_shared&lt;tuber&gt;();\n        }\n    };\n</code></pre>\n\n<p>Assuming of course, that tuber is  descendant of potato (or child... or subclass... whatever you want to call it).  Using raw pointers that looks more understandable:</p>\n\n<pre><code>        potato* makePotato()\n        {\n            return new tuber();\n        }\n</code></pre>\n"}], "owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 43902070, "answer_count": 1, "score": 0, "last_activity_date": 1494450912, "creation_date": 1494447049, "question_id": 43901886, "link": "https://stackoverflow.com/questions/43901886/why-isnt-this-combination-of-partially-filled-templates-and-interfaces-allowed", "title": "Why isn&#39;t this combination of partially filled templates and interfaces allowed?", "body": "<p>I have a template class I'm trying to partially fill with functionality to provide a more high-level library. The template class has interfaces.</p>\n\n<p>I'm running into an issue. When I try compile the following sample code demonstrating the problem, I get:</p>\n\n<pre><code>C2555   'concreter&lt;int&gt;::tuberMaker::makePotato': overriding virtual function return type differs and is not covariant from 'abstracter&lt;int,U&gt;::potatoMaker::makePotato'\n</code></pre>\n\n<p>However, this makes no sense as a tuber should be covariant with a potato - it explicitly inherits from potato! Why can't I use a tuber factory here? Is there a good workaround?</p>\n\n<pre><code>template &lt;typename T,typename U&gt;\nclass abstracter{\npublic:\n    class potato\n    {\n    public:\n        virtual void doSomething()=0;\n    };\n    class potatoMaker\n    {\n    public:\n        virtual std::shared_ptr&lt;potato&gt; makePotato()=0;\n    };\n};\n\ntemplate &lt;typename U&gt;\nclass concreter\n{\npublic:\n    class tuber : public abstracter&lt;int,U&gt;::potato\n    {\n    public:\n        void doSomething()\n        {\n            std::cout &lt;&lt; \"Something\" &lt;&lt; std::endl;\n        }\n    };\n    class tuberMaker : public abstracter&lt;int,U&gt;::potatoMaker\n    {\n    public:\n        std::shared_ptr&lt;tuber&gt; makePotato()\n        {\n            return std::make_shared&lt;tuber&gt;();\n        }\n    };\n};\n\nint main()\n{\n    concreter&lt;int&gt;::tuberMaker z = concreter&lt;int&gt;::tuberMaker();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "templates", "template-meta-programming"], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494451534, "post_id": 43902157, "comment_id": 74839858, "body": "&quot;in some cases&quot; It returns a reference in <i>every case</i>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494454431, "post_id": 43902157, "comment_id": 74840981, "body": "@T.C. point; I forgot it returned an rvalue reference when passed both an rvalue tuple and value element.  (When I write similar functions, I tend to return a value there because I want reference lifetime extension to work)."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 5, "last_activity_date": 1494454384, "last_edit_date": 1494454384, "creation_date": 1494448030, "answer_id": 43902157, "question_id": 43901862, "link": "https://stackoverflow.com/questions/43901862/finding-type-for-which-is-constructible-holds/43902157#43902157", "title": "finding type, for which is_constructible holds", "body": "<p>First, some metaprogramming toys:</p>\n\n<pre><code>template&lt;class Tag&gt;\nusing type_t = typename Tag::type;\ntemplate&lt;class T&gt; struct tag_t{using type=T; constexpr tag_t(){}};\ntemplate&lt;class T&gt; constexpr tag_t&lt;T&gt; tag{};\n\ntemplate&lt;class...Tuples&gt;\nusing cat_tuples = decltype(std::tuple_cat( std::declval&lt;Tuples&gt;()... ));\n\ntemplate&lt;template&lt;class...&gt;class Z, class Tuple, class=void&gt;\nstruct filter;\ntemplate&lt;template&lt;class...&gt;class Z, class Tuple&gt;\nusing filter_t = type_t&lt;filter&lt;Z,Tuple&gt;&gt;;\n\ntemplate&lt;template&lt;class...&gt;class Z&gt;\nstruct filter&lt;Z, std::tuple&lt;&gt;,void&gt;:tag_t&lt;std::tuple&lt;&gt;&gt;{};\ntemplate&lt;template&lt;class...&gt;class Z, class T0, class...Ts&gt;\nstruct filter&lt;Z, std::tuple&lt;T0, Ts...&gt;, std::enable_if_t&lt;Z&lt;T0&gt;::value&gt;&gt;:\n    tag_t&lt;\n        cat_tuples&lt;\n            std::tuple&lt;T0&gt;,\n            filter_t&lt;Z, std::tuple&lt;Ts...&gt;&gt;\n        &gt;\n    &gt;\n{};\ntemplate&lt;template&lt;class...&gt;class Z, class T0, class...Ts&gt;\nstruct filter&lt;Z, std::tuple&lt;T0, Ts...&gt;, std::enable_if_t&lt;!Z&lt;T0&gt;::value&gt;&gt;:\n    filter&lt;Z, std::tuple&lt;Ts...&gt;&gt;\n{};\n</code></pre>\n\n<p>Now we solve your problem:</p>\n\n<pre><code>template&lt;class...Args&gt;\nstruct is_constructible_test {\n    template&lt;class T&gt;\n    using result=std::is_constructible&lt;T,Args...&gt;;\n};\n\ntemplate&lt;class Tuple, class...Args&gt;\nusing all_constructible_t = filter_t&lt;is_constructible_test&lt;Args...&gt;::template result, Tuple&gt;;\n\ntemplate&lt;class Tuple, class...Args&gt;\nusing first_constructible = std::tuple_element_t&lt;0, all_constructible_t&lt;Tuple,Args...&gt;&gt;;\n</code></pre>\n\n<p>Test code:</p>\n\n<pre><code>struct bob {\n    bob( int, int, int ) {}\n};\ntemplate&lt;std::size_t&gt;\nstruct alice {\n    alice(int) {}\n};\n\nint main() {\n    using is_alice = first_constructible&lt;std::tuple&lt;std::string, bob, alice&lt;1&gt;, alice&lt;2&gt;, int&gt;, int&gt;;\n    static_assert( std::is_same&lt;is_alice, alice&lt;1&gt;&gt;::value, \"works\" );\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/39b94aee7af39e53\" rel=\"nofollow noreferrer\">live example</a>.</p>\n\n<p>C++14, but just for <code>_t</code> aliases.  replace <code>std::foo_t&lt;blah&gt;</code> with <code>typename std::foo&lt;blah&gt;::type</code>.</p>\n\n<p>What I did was find <em>every</em> constructible type, then grabbed the first one.  Filter is a simple concept I had lying around, and it was easier than writing \"get first that passes test\", as filter followed by get first unconditional is logically the same (if a bit more expensive).</p>\n\n<p>You could modify <code>filter</code> above to \"short out\" and return instead of concatinating with tail when the test passes:</p>\n\n<pre><code>template&lt;template&lt;class...&gt;class Z, class Tuple, class=void&gt;\nstruct search;\ntemplate&lt;template&lt;class...&gt;class Z, class Tuple&gt;\nusing search_t = type_t&lt;search&lt;Z,Tuple&gt;&gt;;\n\ntemplate&lt;template&lt;class...&gt;class Z&gt;\nstruct search&lt;Z, std::tuple&lt;&gt;,void&gt;{};\ntemplate&lt;template&lt;class...&gt;class Z, class T0, class...Ts&gt;\nstruct search&lt;Z, std::tuple&lt;T0, Ts...&gt;, std::enable_if_t&lt;Z&lt;T0&gt;::value&gt;&gt;:\n    tag_t&lt;T0&gt;\n{};\ntemplate&lt;template&lt;class...&gt;class Z, class T0, class...Ts&gt;\nstruct search&lt;Z, std::tuple&lt;T0, Ts...&gt;, std::enable_if_t&lt;!Z&lt;T0&gt;::value&gt;&gt;:\n    search&lt;Z, std::tuple&lt;Ts...&gt;&gt;\n{};\n</code></pre>\n\n<p>and replace the <code>first_constructible</code> template with:</p>\n\n<pre><code>template&lt;class Tuple, class...Args&gt;\nusing first_constructible = search_t&lt;is_constructible_test&lt;Args...&gt;::template result, Tuple&gt;;\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/2e310c408402288a\" rel=\"nofollow noreferrer\">live example 2</a>.</p>\n\n<p>I could probably use utility functions like you did that interacts with Tuples rather than specializing, and there would be advantages.</p>\n\n<hr>\n\n<p>One issue I see with yours is that <code>get&lt;&gt;</code> returns a reference, not a value.  <code>std::tuple_element_t</code> might be a better plan.</p>\n"}, {"comments": [{"owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1494488632, "post_id": 43902738, "comment_id": 74852090, "body": "Exactly. As <i>Yakk</i> mentioned. <code>std::declval</code> returns reference, so <code>first_type</code> was deduced to <code>std::string&amp;&amp;</code>."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 2, "last_activity_date": 1494450316, "creation_date": 1494450316, "answer_id": 43902738, "question_id": 43901862, "link": "https://stackoverflow.com/questions/43901862/finding-type-for-which-is-constructible-holds/43902738#43902738", "title": "finding type, for which is_constructible holds", "body": "<p>I don't know what, exactly, doesn't work in you solution (something regarding the <code>using first_type</code>, anyway) but your solution is overcomplicated.</p>\n\n<p>Using partial specialization, you can throw away <code>pop_front_tuple</code> and define <code>first_constructible</code> as follows.</p>\n\n<pre><code>template &lt;typename...&gt;\nstruct first_constructible;\n\ntemplate &lt;typename... Args&gt;\nstruct first_constructible&lt;std::tuple&lt;&gt;, Args...&gt;\n { using type = void; };\n\ntemplate &lt;typename First, typename ... Rest, typename... Args&gt;\nstruct first_constructible&lt;std::tuple&lt;First, Rest...&gt;, Args...&gt;\n {\n   using type = typename std::conditional&lt;\n      std::is_constructible&lt;First, Args...&gt;::value,\n      First,\n      typename first_constructible&lt;std::tuple&lt;Rest...&gt;, Args...&gt;::type\n         &gt;::type;\n };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 4, "last_activity_date": 1494452003, "creation_date": 1494452003, "answer_id": 43903086, "question_id": 43901862, "link": "https://stackoverflow.com/questions/43901862/finding-type-for-which-is-constructible-holds/43903086#43903086", "title": "finding type, for which is_constructible holds", "body": "<pre><code>template&lt;class T, class...Args&gt;\nstruct is_constructible_x : std::is_constructible&lt;T, Args...&gt; {\n    using type = T;\n};\n\nstruct not_found {\n    static constexpr bool value = true;\n    using type = void;\n};\n\ntemplate&lt;class, class...&gt; struct first_constructible;\n\ntemplate&lt;class...Ts, class... Args&gt;\nstruct first_constructible&lt;std::tuple&lt;Ts...&gt;, Args...&gt; \n    : std::disjunction&lt;is_constructible_x&lt;Ts, Args...&gt;..., not_found&gt; {};\n</code></pre>\n\n<p>For implementation of C++17 <code>std::disjunction</code>, see <a href=\"http://en.cppreference.com/w/cpp/types/disjunction\" rel=\"nofollow noreferrer\">cppreference</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1494504633, "creation_date": 1494504633, "answer_id": 43915027, "question_id": 43901862, "link": "https://stackoverflow.com/questions/43901862/finding-type-for-which-is-constructible-holds/43915027#43915027", "title": "finding type, for which is_constructible holds", "body": "<p>One more - the approach avoids type recursion and uses constexpr function recursion instead (if it was c++14, recursion wouldn't be even necessary here):</p>\n\n<pre><code>#include &lt;type_traits&gt;\n#include &lt;tuple&gt;\n#include &lt;string&gt;\n\ntemplate &lt;std::size_t N&gt;\nconstexpr std::size_t first_one(bool const (&amp;c)[N], std::size_t I) {\n    return (I == N)?N:(c[I]?I:first_one(c, I+1));\n}\n\ntemplate &lt;class Tuple, class... Args&gt;\nstruct first_constructible;\n\ntemplate &lt;class... Ts, class... Args&gt;\nstruct first_constructible&lt;std::tuple&lt;Ts...&gt;, Args...&gt; {\n    static constexpr bool constructible[] = { std::is_constructible&lt;Ts, Args...&gt;::value... };\n    using type = typename std::tuple_element&lt;first_one(constructible, 0), std::tuple&lt;Ts..., void&gt;&gt;::type;\n};\n\nint main() {\n    first_constructible&lt;std::tuple&lt;std::string, int&gt;, std::string&gt;::type a1 = \"\"; \n    first_constructible&lt;std::tuple&lt;std::string, int&gt;&gt;::type a2 = \"\";\n    first_constructible&lt;std::tuple&lt;std::string, int&gt;, std::string::size_type, std::string::value_type&gt;::type a3 = \"\"; \n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/opJ9eVN9S0OWli4M\" rel=\"nofollow noreferrer\">[live demo]</a></p>\n"}], "owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 43902157, "answer_count": 4, "score": 3, "last_activity_date": 1494504633, "creation_date": 1494446928, "question_id": 43901862, "link": "https://stackoverflow.com/questions/43901862/finding-type-for-which-is-constructible-holds", "title": "finding type, for which is_constructible holds", "body": "<p>I was playing around with templates and was trying to implement following helper.</p>\n\n<pre><code>first_constructible&lt;Types..., Args...&gt;::type\n</code></pre>\n\n<p>which would return first type of <code>Types</code> which is constructible from <code>Args...</code>. First problem obviously is having two parameter packs in <code>struct</code>, so I changed usage to</p>\n\n<pre><code>first_constructible&lt;std::tuple&lt;Types...&gt;, Args...&gt;::type\n</code></pre>\n\n<p>I've implemented it by splitting tuple types as first and rest, checked using <code>std::is_constructible</code> and recursed if neccessary.</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct pop_front_tuple\n{\n    template&lt;typename U, typename... Us&gt;\n    static std::tuple&lt;Us...&gt; impl(std::tuple&lt;U, Us...&gt;);\n\n    using type = decltype(impl(std::declval&lt;T&gt;())); // std::tuple with removed first type\n};\n\ntemplate&lt;typename Tuple, typename... Args&gt;\nstruct first_constructible\n{\n    using first_type = decltype(std::get&lt;0&gt;(std::declval&lt;Tuple&gt;()));\n\n    using type = typename std::conditional\n    &lt;\n        std::is_constructible&lt;first_type, Args...&gt;::value,\n        first_type,\n        typename first_constructible&lt;typename pop_front_tuple&lt;Tuple&gt;::type, Args...&gt;::type\n    &gt;::type;\n};\n\n// end of recursion\ntemplate&lt;typename... Args&gt;\nstruct first_constructible&lt;std::tuple&lt;&gt;, Args...&gt;\n{\n    using type = void;\n};\n</code></pre>\n\n<p>but it for some reason does not work. I.e</p>\n\n<pre><code>first_constructible&lt;std::tuple&lt;std::string, int&gt;, std::string&gt;::type a = \"\"; // works, a is std::string\nfirst_constructible&lt;std::tuple&lt;std::string, int&gt;&gt;::type a = \"\"; // fails, error: variable or field 'a' declared void\nfirst_constructible&lt;std::tuple&lt;std::string, int&gt;, std::string::size_type, std::string::value_type&gt; // fails, same error\n</code></pre>\n\n<p>I don't know where my mistake is. <code>std::is_constructible&lt;std::string&gt;::value</code> and <code>std::is_constructible&lt;std::string, std::string::size_type, std::string::value_type&gt;::value</code> are true.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/a05235342f43c9c4\" rel=\"nofollow noreferrer\">Coliru link</a></p>\n"}, {"tags": ["c++", "qt"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 2476091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cab418ad165f3a14140c66d351515ed?s=128&d=identicon&r=PG", "display_name": "flash_fire", "link": "https://stackoverflow.com/users/2476091/flash-fire"}, "is_accepted": false, "score": 0, "last_activity_date": 1494531194, "creation_date": 1494531194, "answer_id": 43924125, "question_id": 43901713, "link": "https://stackoverflow.com/questions/43901713/custom-non-alt-shortcuts-for-qmenu/43924125#43924125", "title": "Custom Non Alt Shortcuts for QMenu", "body": "<p>After combing the documentation meticulously, I found the correct function in <a href=\"http://doc.qt.io/qt-5/qmenubar.html#setActiveAction\" rel=\"nofollow noreferrer\">QMenuBar</a>-- setActiveAction.</p>\n\n<p>Unfortunately, there isn't a way to easily select your action via the API by menu name. So, you have to do so manually.</p>\n\n<pre><code>for (QAction* act : menuBar()-&gt;actions())\n{\n    if (act-&gt;text() == tr(\"Settings\"))\n    {\n        menuBar()-&gt;setActiveAction(act);\n    }\n}\n</code></pre>\n\n<p>, and then have this function itself called by the keyboard event handler.</p>\n\n<p>However, if you have a pointer to the desired menu, you can call <a href=\"http://doc.qt.io/qt-5/qmenu.html#menuAction\" rel=\"nofollow noreferrer\">menuAction()</a>, and this becomes much simpler.</p>\n\n<pre><code>menuBar()-&gt;setActiveAction(mySettingsMenu-&gt;menuAction());\n</code></pre>\n\n<p>Hope this saves someone else from searching an insane amount of time, like myself, in the future.</p>\n"}], "owner": {"reputation": 53, "user_id": 2476091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cab418ad165f3a14140c66d351515ed?s=128&d=identicon&r=PG", "display_name": "flash_fire", "link": "https://stackoverflow.com/users/2476091/flash-fire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494531194, "creation_date": 1494446352, "last_edit_date": 1494447072, "question_id": 43901713, "link": "https://stackoverflow.com/questions/43901713/custom-non-alt-shortcuts-for-qmenu", "title": "Custom Non Alt Shortcuts for QMenu", "body": "<p>I have a QMenuBar with some QMenus.  For example,</p>\n\n<pre><code>QMenu* menu = myMainWindow-&gt;menubar()-&gt;addMenu(tr(\"Settings\"));\n</code></pre>\n\n<p>Now, I know that if I add an ampersand, say \"&amp;Settings\", I can open this menu using alt+S.  However, my application requires usage of custom keys. Moreover, in my application, we don't even have an \"alt\" key. Anyhow, for example of custom key, we take an unused location in Qt::Key (specifically what is considered an unknown key), and use them for events.  This works fine normally.  In fact, something like this typically works:</p>\n\n<pre><code>int val = keyEvent-&gt;key();\nif (key == MyCustomKeyEnum::CustomKey)\n   // do stuff\n</code></pre>\n\n<p>But, how do I set a menu to have a custom int key shortcut?  Or, equivalently, how can I open a menu from a menubar programatically? I can trivially connect an event from MyCustomKeyEnum::CustomKey to a custom slot. So, perhaps I can potentially avoid a shortcut custom key in the first place?</p>\n\n<p>I tried to use targetMenu.exec(), but because I'd like to be able to use the arrow keys to navigate to adjacent menus, and have the menu spawned in the right position, this was not a good option.</p>\n"}, {"tags": ["c++", "arrays", "char", "hex", "converter"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1494446310, "post_id": 43901649, "comment_id": 74837269, "body": "I dont really understand the question, but maybe this helps: <a href=\"http://en.cppreference.com/w/cpp/io/manip/hex\" rel=\"nofollow noreferrer\"><code>std::cout &lt;&lt; std::hex &lt;&lt; 42;</code> prints <code>2a</code></a>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 3, "creation_date": 1494446324, "post_id": 43901649, "comment_id": 74837276, "body": "<code>(&quot;%hX &quot;, str[i])</code> is equivalent to <code>str[i]</code>. Google the &quot;comma operator&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 0, "last_activity_date": 1494448591, "last_edit_date": 1494448591, "creation_date": 1494448222, "answer_id": 43902208, "question_id": 43901649, "link": "https://stackoverflow.com/questions/43901649/how-to-convert-an-array-of-chars-to-an-array-of-hex-values/43902208#43902208", "title": "How to convert an array of chars to an array of hex values?", "body": "<p>I am posting this as an answer, even though I will not answer your question directly. The thing is that I believe we have a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">xy-problem</a> here and imho you should rethink if you really need to do that \"conversion\", after all you just need a different representation of the exact same value that you already have available.</p>\n\n<p>Consider for example this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n    char x = 'a';\n    char y = 97;\n    char z = 0x61;\n    if (x == y) { std::cout &lt;&lt; \"I am not sure if \";}\n    if (x == z) { std::cout &lt;&lt; \"you need to \";}\n    if (y == z) { std::cout &lt;&lt; \"convert anything \";}\n    std::cout &lt;&lt; \"because (char)\"  &lt;&lt;       x  \n              &lt;&lt; \"==0x\" &lt;&lt; std::hex &lt;&lt; (int)x \n              &lt;&lt; \"==\"   &lt;&lt; std::dec &lt;&lt; (int)x;\n    return 0;\n}\n</code></pre>\n\n<p>It will print</p>\n\n<pre><code>I am not sure if you need to convert anything because (char)a==0x61==97\n</code></pre>\n\n<p>However, if you really want the hex, then the easiest way I can think of is this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\nint main() {\n    char x = 'a';\n    std::stringstream stream;\n    stream &lt;&lt; std::hex &lt;&lt; (int)x;\n    std::cout &lt;&lt; stream.str();\n    return 0;\n}\n</code></pre>\n\n<p>which prints</p>\n\n<pre><code>61\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7993809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f56a76a60ed480265933d679d740ff?s=128&d=identicon&r=PG&f=1", "display_name": "Sympxthyy", "link": "https://stackoverflow.com/users/7993809/sympxthyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1494448591, "creation_date": 1494446105, "question_id": 43901649, "link": "https://stackoverflow.com/questions/43901649/how-to-convert-an-array-of-chars-to-an-array-of-hex-values", "title": "How to convert an array of chars to an array of hex values?", "body": "<pre><code>cout &lt;&lt; \"Enter a string\" &lt;&lt; endl;\ncin.getline(str, 100);\nchar* point;\npoint = strtok(str, \" \");\nwhile (point != NULL){\n    cout &lt;&lt; point &lt;&lt; endl;\n    point = strtok(NULL, \" \");\n}\n\nfor (int i = 0; i &lt; 100; ++i)\nhexstr[i] = (\"%hX \", str[i]);\n</code></pre>\n\n<p>Hey, my program needs to be able to convert user inputted chars to hexadecimal numbers for example \"a\" should become \"61\". It also needs to be able to convert the hex back into the original sentence, however, i am stuck with the conversion and the other documentations of this I have found didn't work. Currently, when I try to output the values of hexstr[] it outputs the characters but not the hex, help would be much appreciated.</p>\n"}, {"tags": ["c++", "class", "pointers"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 4, "creation_date": 1494445713, "post_id": 43901491, "comment_id": 74836954, "body": "What&#39;s the contents of <code>1.h</code>?"}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 4, "creation_date": 1494445731, "post_id": 43901491, "comment_id": 74836964, "body": "<a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\"><code>valgrind</code></a>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1494445811, "post_id": 43901491, "comment_id": 74837007, "body": "Please <a href=\"https://stackoverflow.com/posts/43901491/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 5, "creation_date": 1494445823, "post_id": 43901491, "comment_id": 74837018, "body": "Indentation please."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1494445984, "post_id": 43901491, "comment_id": 74837105, "body": "<code>a[top++]</code> when top is -1 references the <code>-1</code> index of <code>a</code> which is UB"}, {"owner": {"reputation": 40055, "user_id": 545127, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RJgJM.png?s=128&g=1", "display_name": "Raedwald", "link": "https://stackoverflow.com/users/545127/raedwald"}, "edited": false, "score": 2, "creation_date": 1544104007, "post_id": 43901491, "comment_id": 94163903, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2902064/how-to-track-down-a-double-free-or-corruption-error\">How to track down a &quot;double free or corruption&quot; error</a>"}], "answers": [{"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494446543, "post_id": 43901620, "comment_id": 74837383, "body": "is it really possible to write <code>Stack(Stack const &amp;)</code> instead of <code>Stack(const Stack&amp;)</code> or is it a typo?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494446651, "post_id": 43901620, "comment_id": 74837442, "body": "not a typo, but for some reason I have never seen it before"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1494446653, "post_id": 43901620, "comment_id": 74837443, "body": "@tobi303 It is possible, and I prefer it because it makes complex pointer declarations more obvious -- the <code>const</code> always refers to the thing to the left, so most declarations read naturally right-to-left.  <code>A ** const * const</code> is a constant pointer to a constant pointer to a pointer to <code>A</code>. Likewise, <code>A const &amp;</code> is a reference to a constant <code>A</code>. <code>A const &amp;</code> and <code>const A &amp;</code> name the same type. <code>const A &amp;</code> is permitted, but I find that having <code>const</code> sometimes refer to the thing to the right and sometimes to the left to be a bit silly. I therefore always put it after the thing that&#39;s const."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494446784, "post_id": 43901620, "comment_id": 74837506, "body": "makes sense. I mean it makes no sense to differentiate between reference to const or const reference, but I agree that it helps to be consistent"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494446825, "post_id": 43901620, "comment_id": 74837521, "body": "Right, and I find that consistency helps avoid mistakes. Once you get used to writing <code>A const &amp;</code> it actually feels quite natural."}], "tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": false, "score": 2, "last_activity_date": 1494445998, "last_edit_date": 1495542365, "creation_date": 1494445998, "answer_id": 43901620, "question_id": 43901491, "link": "https://stackoverflow.com/questions/43901491/i-get-the-double-free-or-corruption-error-for-my-class-functions/43901620#43901620", "title": "I get the double free or corruption error , for my class functions", "body": "<ul>\n<li>The default constructor sets <code>top</code> to -1, so <code>a[top++]=data;</code> in <code>Stack::Push(int)</code> is undefined behavior (attempt to write to <code>a[-1]</code>, which is out of the array bounds).  This is the corruption the error message refers to, which is only noticed by your standard library when <code>delete [] a</code> is invoked.  Change this to <code>a[++top] = data;</code>.</li>\n<li>Your copy constructor does not assign to <code>top</code>, leaving its value uninitialized in copies.  Reading <code>top</code> from a copy is therefore <a href=\"https://stackoverflow.com/q/4279264/501250\">undefined behavior</a>.</li>\n<li>Your copy constructor should be <code>Stack(Stack const &amp;)</code>.</li>\n<li>You should implement a copy-assignment operator <code>Stack &amp; operator=(Stack const &amp;);</code>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1494446003, "creation_date": 1494446003, "answer_id": 43901622, "question_id": 43901491, "link": "https://stackoverflow.com/questions/43901491/i-get-the-double-free-or-corruption-error-for-my-class-functions/43901622#43901622", "title": "I get the double free or corruption error , for my class functions", "body": "<p><code>a[top++]</code> should be <code>a[++top]</code> as you initialize <code>top</code> at <code>-1</code>, else you have out of bound access, so UB.</p>\n"}], "owner": {"reputation": 11, "user_id": 3467274, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a19cef619e60339888cef707705899a8?s=128&d=identicon&r=PG&f=1", "display_name": "Leila Saeedy", "link": "https://stackoverflow.com/users/3467274/leila-saeedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1494446003, "creation_date": 1494445579, "last_edit_date": 1494445803, "question_id": 43901491, "link": "https://stackoverflow.com/questions/43901491/i-get-the-double-free-or-corruption-error-for-my-class-functions", "title": "I get the double free or corruption error , for my class functions", "body": "<p>this is my .cpp file content:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include\"1.h\"\nusing namespace std;\n\nStack:: Stack(){\nsize=20;    \n a=new int[size];   \ntop=-1;\n}\n\nStack::Stack (int si){\n\nsize=si;\na=new int[si];\ntop =-1;}\n\nStack::Stack(Stack&amp; s){\n\na=new int[s.size];\nfor(int i=0 ; i&lt;s.size; i++)\n    a[i]=s.a[i];\nsize=s.size;\n}\n\nStack::~Stack(){\n\ndelete [] a;\n}\n\nvoid Stack::Push(int data){\n\nif(this-&gt;isfull())\n    cout&lt;&lt;\"stack is full!\\n\";\nelse\n    a[top++]=data;\n}\n\nint Stack::Pop(){\n\nif(this-&gt;isempty())\n    cout&lt;&lt;\"stack is empty!\\n\";\nelse\n    return a[top--];\n}\n\nbool Stack::isempty(){\n\nif(top==-1) \n     return true;\n else\n    return false ;\n}   \n\nbool Stack::isfull(){\n\nif(top==size-1 ) \n    return true ;\nelse\n    return false ;\n}\n\nvoid Stack::Print(){\n\nfor(int i=top ; i&gt;-1 ; i--)\n    cout&lt;&lt;a[i]&lt;&lt;endl;\n}\n\nint main(){\n\nStack a(3);\na.Push(1);\na.Push(3);\ncout&lt;&lt;a.Pop();\na.Push(5);\na.Push(7);\na.Print();  \nreturn 0;\n}\n</code></pre>\n\n<p>And after running the program, i get the following error:\n Error in `./1': double free or corruption (out): 0x000000000240a010 ***\nAborted (core dumped)\nand I have copy constructor and any thing, what sould I do?</p>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 2, "creation_date": 1494444575, "post_id": 43901153, "comment_id": 74836343, "body": "Try writing the code first. Then come back with <i>specific</i> question(s) about what you can&#39;t get working/don&#39;t understand. We&#39;re not here to teach you basic programming."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1494447756, "post_id": 43901153, "comment_id": 74837984, "body": "Code is nice, but an implementation plan or an approach would also work. Narrow the question down. The best way to do this is to break the problem down into the tasks that must be performed to set off the buzzer. If you don&#39;t know how to perform a task, break the task down more and more until you reach a point where you do know how to do it."}], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 3164339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/336d185d4f3d623614411c862f40c09e?s=128&d=identicon&r=PG&f=1", "display_name": "user3164339", "link": "https://stackoverflow.com/users/3164339/user3164339"}, "is_accepted": false, "score": 2, "last_activity_date": 1494453411, "creation_date": 1494453411, "answer_id": 43903349, "question_id": 43901153, "link": "https://stackoverflow.com/questions/43901153/arduino-heart-rate-sensor-with-buzzer/43903349#43903349", "title": "Arduino heart rate sensor with buzzer", "body": "<p>If you're just looking for somewhere to start then I'd suggest with just getting the buzzer to go off at least once.  After that, make another project file and start trying to read input from the sensor.  To do this you're going to need to google a few things, like how the sensor sends data.  I'd be willing to bet it just sends a pulse down a wire to ur arduino, so you'll probably also have to look up 'how to read voltage input on arduino'.</p>\n\n<p>The scope of you're question is too large to answer with code and I also don't want to take this learning experience from you.  As Jesper pointed out, once you have code (that either works or doesn't) come back and either update you're question or make a new one and we can go from there.</p>\n\n<p>Here's a working example of an arduino taking an analog input and changing the blink rate of an LED accordingly.  <a href=\"https://www.arduino.cc/en/Tutorial/AnalogInput\" rel=\"nofollow noreferrer\">https://www.arduino.cc/en/Tutorial/AnalogInput</a></p>\n\n<p>Arduinos can take both analog and digital input, so that's where you'll need to do some research on the heart rate sensor as the code will be different if it is digital.</p>\n\n<p>Heres another site with beginner style tutorials for arduinos, it might be another nice spot for you to start this project:  <a href=\"https://programmingelectronics.com/arduino-tutorials-all/\" rel=\"nofollow noreferrer\">https://programmingelectronics.com/arduino-tutorials-all/</a></p>\n\n<p>I also don't know how you're buzzer works, but I've seen people have trouble with them before so if whatever you try doesn't work you might want to take a look at this:  <a href=\"https://www.arduino.cc/en/Reference/Tone\" rel=\"nofollow noreferrer\">https://www.arduino.cc/en/Reference/Tone</a></p>\n"}], "owner": {"reputation": 1, "user_id": 7993689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/168164629706ef265d17b7a70ef1e276?s=128&d=identicon&r=PG&f=1", "display_name": "sara ", "link": "https://stackoverflow.com/users/7993689/sara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "closed_date": 1494469308, "answer_count": 1, "score": -6, "last_activity_date": 1494453411, "creation_date": 1494444304, "question_id": 43901153, "link": "https://stackoverflow.com/questions/43901153/arduino-heart-rate-sensor-with-buzzer", "closed_reason": "Needs more focus", "title": "Arduino heart rate sensor with buzzer", "body": "<p>so me and my friend bought a heart rate sensor for arduino board and we wanted to pair it with a buzzer, so everytime when a heartbeat is detected we hear a sound coming from a buzzer. I really don't know how to write a code for this so any help would be fantastic. We tried it last week but without success; we were unable to code it properly and buzzer didn't go off.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 218, "user_id": 6481218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c820f016409eb8640dc95f2b41601dc?s=128&d=identicon&r=PG&f=1", "display_name": "noandpickles", "link": "https://stackoverflow.com/users/6481218/noandpickles"}, "edited": false, "score": 0, "creation_date": 1494444422, "post_id": 43901060, "comment_id": 74836240, "body": "Do you know which line of code in particular is throwing the exception?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1494444426, "post_id": 43901060, "comment_id": 74836247, "body": "Check to make sure <code>*it</code> isn&#39;t <code>nullptr</code> before calling <code>Print</code> on it."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494444428, "post_id": 43901060, "comment_id": 74836251, "body": "From the text of the exception, it appears that the problem is that you are dereferencing a null pointer."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1494444438, "post_id": 43901060, "comment_id": 74836256, "body": "Most likely *it is nullptr."}, {"owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "edited": false, "score": 0, "creation_date": 1494445094, "post_id": 43901060, "comment_id": 74836606, "body": "Please use English identifiers - Hungarian is nice, but not in code."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7992983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737702965250d46a3fee4076e5d0d31d?s=128&d=identicon&r=PG&f=1", "display_name": "Vrbovszki Bence", "link": "https://stackoverflow.com/users/7992983/vrbovszki-bence"}, "edited": false, "score": 0, "creation_date": 1494483678, "post_id": 43901206, "comment_id": 74848954, "body": "Thanks you for your answer, but I&#39;ve already tried this and it won&#39;t help. Tried debugging, and I am still getting the same exception. Nothing changed. :/"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 21, "user_id": 7992983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737702965250d46a3fee4076e5d0d31d?s=128&d=identicon&r=PG&f=1", "display_name": "Vrbovszki Bence", "link": "https://stackoverflow.com/users/7992983/vrbovszki-bence"}, "edited": false, "score": 0, "creation_date": 1494509355, "post_id": 43901206, "comment_id": 74866845, "body": "@VrbovszkiBence What did your debugging reveal?"}, {"owner": {"reputation": 21, "user_id": 7992983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737702965250d46a3fee4076e5d0d31d?s=128&d=identicon&r=PG&f=1", "display_name": "Vrbovszki Bence", "link": "https://stackoverflow.com/users/7992983/vrbovszki-bence"}, "edited": false, "score": 0, "creation_date": 1494597539, "post_id": 43901206, "comment_id": 74911325, "body": "Well it turns out my operator++ was ruining everything. For some reason it did not increase my iterator properly and made it point to weird memory adresses."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 21, "user_id": 7992983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737702965250d46a3fee4076e5d0d31d?s=128&d=identicon&r=PG&f=1", "display_name": "Vrbovszki Bence", "link": "https://stackoverflow.com/users/7992983/vrbovszki-bence"}, "edited": false, "score": 0, "creation_date": 1494599741, "post_id": 43901206, "comment_id": 74912884, "body": "@VrbovszkiBence Yeah, I see it now. You have an array of 100 pointers. Adding one to one of the pointers won&#39;t get you the next element in the array!"}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 2, "last_activity_date": 1494444533, "creation_date": 1494444533, "answer_id": 43901206, "question_id": 43901060, "link": "https://stackoverflow.com/questions/43901060/c-self-written-iterator-access-violation-reading-from-location-0x00000000-ex/43901206#43901206", "title": "c++ self written iterator - access violation reading from location 0x00000000 exception", "body": "<p>Your <code>end</code> returns an iterator past the end of the array. So your iterator will iterate through unfilled elements of the array. Your original <code>for</code> loops only iterates through filled elements. Change your <code>end</code> function as follows:</p>\n\n<pre><code>iterator end() {\n    return iterator(*this, meret);\n}\n</code></pre>\n\n<p>This will refer to the first unfilled element in the array (or one past the end if the array is totally filled), causing your iterator to behave like your for loop.</p>\n"}], "owner": {"reputation": 21, "user_id": 7992983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737702965250d46a3fee4076e5d0d31d?s=128&d=identicon&r=PG&f=1", "display_name": "Vrbovszki Bence", "link": "https://stackoverflow.com/users/7992983/vrbovszki-bence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "closed_date": 1494967471, "answer_count": 1, "score": 0, "last_activity_date": 1494444533, "creation_date": 1494443990, "question_id": 43901060, "link": "https://stackoverflow.com/questions/43901060/c-self-written-iterator-access-violation-reading-from-location-0x00000000-ex", "closed_reason": "Not suitable for this site", "title": "c++ self written iterator - access violation reading from location 0x00000000 exception", "body": "<p>I have to write a program capable of storing movies for a university project. It was all fine until they decided that i had to write my own iterator to print out my heterogen collection in which the movies are stored (there are 3 different kind of movie class). I have absolutely no idea what the problem might be.</p>\n\n<p>This is my class for the heterogen collection:</p>\n\n<pre><code>Class Katalogus {\n    Film* F[100];\n    int meret;\npublic:\n    Katalogus() :meret(0) {}\n    void add(Film* mit) {\n        F[meret++] = mit;\n    }\n    void torol(int mit);\n    void keres_int(int mit);\n    void keres_str(string mit);\n    void kiir(ostream&amp; os); //This is the print method\n    Film* beolvas(istream&amp; is, string&amp; line);\n    ~Katalogus();\n    class iterator;\n    iterator begin() {\n        return iterator(*this);\n    }\n    iterator end() {\n        return iterator(*this, 100);\n    }\n    class iterator {\n        Film *p, *pe;\n    public:\n        iterator():p(0),pe(0){}\n        iterator(Katalogus&amp; a, int ix=0):p(*(a.F+ix)),pe(*(a.F+100)){}\n        iterator&amp; operator++() {\n            if (p != pe)++p;\n            return *this;\n        }\n        bool operator!=(const iterator &amp;i) {\n            return (p != i.p);\n        }\n        Film&amp; operator*() {\n            if (p != pe) return *p;\n            else throw out_of_range(\"Hibas indirekcio\");\n        }\n    };\n\n};\n</code></pre>\n\n<p>The kiir() function:</p>\n\n<pre><code>void Katalogus::kiir(ostream&amp; os) {\n    for (int i = 0; i &lt; meret; ++i) {\n        os &lt;&lt; i + 1 &lt;&lt; \". \"; //just a number in every row\n        F[i]-&gt;Print(os); //calling the print function of my stored movies\n        os &lt;&lt; endl;\n    }\n</code></pre>\n\n<p>In my main() I've tried to test it with a short code:</p>\n\n<pre><code>Katalogus *DB = new Katalogus;\nifstream DataBase_in;\nDataBase_in.open(\"Katalogus.txt\");\nstring line;\nwhile (getline(DataBase_in,line)){ //reading from file and adding it to the collection\n    DB-&gt;add(DB-&gt;beolvas(DataBase_in, line)); //beolvas and add are both working functions\n}\nDataBase_in.close();\n\nfor (Katalogus::iterator it = DB-&gt;begin(); it != DB-&gt;end(); ++it) {\n    (*it).Print(cout); //and this is where i get the exception\n}\n</code></pre>\n\n<p><a href=\"https://imgur.com/a/2aDrP\" rel=\"nofollow noreferrer\">This is the exception</a></p>\n\n<p>My original kiir() function was working fine, but i have to replace it with something thet uses my iterator. If anyone could help with this I would really appriciate it! :)</p>\n"}, {"tags": ["c++", "tensorflow"], "comments": [{"owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1494520622, "post_id": 43900848, "comment_id": 74875467, "body": "Most of TensorFlow&#39;s high-level graph building infrastructure is in Python. However, you can build the graph in Python and <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/README.md\" rel=\"nofollow noreferrer\">export to C++</a>. I would recommend that at the moment, rather than building a model in C++ from scratch."}, {"owner": {"reputation": 691, "user_id": 1294101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a2ebea44a213468b12de6f7dc69dc7ef?s=128&d=identicon&r=PG", "display_name": "Surfer on the fall", "link": "https://stackoverflow.com/users/1294101/surfer-on-the-fall"}, "reply_to_user": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1494525932, "post_id": 43900848, "comment_id": 74878459, "body": "@AllenLavoie let&#39;s suppose the app I&#39;m porting is <a href=\"https://github.com/awjuliani/DeepRL-Agents/blob/master/Deep-Recurrent-Q-Network.ipynb\" rel=\"nofollow noreferrer\">github.com/awjuliani/DeepRL-Agents/blob/master/&hellip;</a> . Please, have a look at the testing section.. Even if I export the graph, In order to make predictions I need to create the network.."}, {"owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1494533002, "post_id": 43900848, "comment_id": 74882377, "body": "Can you construct the prediction network in Python exactly as it will be used, then export that rather than the training network?"}, {"owner": {"reputation": 691, "user_id": 1294101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a2ebea44a213468b12de6f7dc69dc7ef?s=128&d=identicon&r=PG", "display_name": "Surfer on the fall", "link": "https://stackoverflow.com/users/1294101/surfer-on-the-fall"}, "reply_to_user": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1494535399, "post_id": 43900848, "comment_id": 74883705, "body": "@AllenLavoie yes, that would meet requirements. However in my case I wonder how I can do it, since in c++ I won&#39;t have access to, let&#39;s say, rnn_state ... isn&#39;t it?"}, {"owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1494537605, "post_id": 43900848, "comment_id": 74884727, "body": "Ah, yes, you do need some coordination so that C++ knows the names of the Tensors which will be used. There is a bit of infrastructure to help with this in the form of tags (mostly targeted at serving). I&#39;d browse through the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/cc/saved_model/loader_test.cc#L114\" rel=\"nofollow noreferrer\">C++</a> and <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/saved_model_test.py\" rel=\"nofollow noreferrer\">Python</a> unit tests for examples. Or you can just retrieve the Tensor by name directly with session::run in C++."}], "owner": {"reputation": 691, "user_id": 1294101, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a2ebea44a213468b12de6f7dc69dc7ef?s=128&d=identicon&r=PG", "display_name": "Surfer on the fall", "link": "https://stackoverflow.com/users/1294101/surfer-on-the-fall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 2, "answer_count": 0, "score": 0, "last_activity_date": 1494520329, "creation_date": 1494443241, "last_edit_date": 1494520329, "question_id": 43900848, "link": "https://stackoverflow.com/questions/43900848/importing-slim-model-in-tensorflow-c", "title": "Importing slim model in tensorflow c++", "body": "<p>I have a network model defined using slim library in python tensorflow.\nNow I want to port it to c++. However it seems to me that tensorflow.contrib.slim is a python only library. How could I use it in my c++ software?</p>\n\n<p>Basically I have something like:</p>\n\n<pre><code>        self.conv1 = slim.convolution2d( \\\n            inputs=self.imageIn,num_outputs=32,\\\n            kernel_size=[8,8],stride=[4,4],padding='VALID', \\\n            biases_initializer=None,scope=myScope+'_conv1')\n</code></pre>\n\n<p>How could I implement this in c++ tensorflow?</p>\n\n<p>At the moment I'm trying to replace slim implementation with plain tensorflow, and then going c++. However replacing</p>\n\n<pre><code>self.conv1 = slim.convolution2d( \\\n            inputs=self.imageIn,num_outputs=32,\\\n            kernel_size=[8,8],stride=[1,4,4,1],padding='VALID', \\\n            biases_initializer=None, weights_initializer=_initializer, scope=myScope+'_conv1')\n</code></pre>\n\n<p>with plain tf</p>\n\n<pre><code>with tf.variable_scope(myScope+'_conv1'):\n            weights = tf.get_variable(\"weights\",[8, 8, 3, 32],\n            initializer=_initializer,  dtype=tf.float32)\n\n            self.conv1 = tf.nn.conv2d(self.imageIn, weights, [1, 4, 4, 1], padding='VALID')\n</code></pre>\n\n<p>in a working model produces a mess: nothing works anymore. What am I forgetting?</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["c++", "function", "class", "object"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1494443089, "post_id": 43900730, "comment_id": 74835457, "body": "Get a <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">book</a> and don&#39;t skip chapters. And press the return key fewer times and more systematically."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494443093, "post_id": 43900730, "comment_id": 74835459, "body": "Your question falls into a category that makes <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this link</a> a must read."}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 1, "creation_date": 1494443194, "post_id": 43900730, "comment_id": 74835511, "body": "<code>player</code> is declared within the scope of <code>setPlayer</code>, identifiers are bound to the scope in which they&#39;re declared. It seems like you&#39;re missing a lot of info looking at the other code, learning by doing <i>and</i> guessing doesn&#39;t really work in C++."}, {"owner": {"reputation": 91, "user_id": 7313219, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10154285200903877/picture?type=large", "display_name": "Daniel B&#228;ck", "link": "https://stackoverflow.com/users/7313219/daniel-b%c3%a4ck"}, "edited": false, "score": 0, "creation_date": 1494444141, "post_id": 43900730, "comment_id": 74836076, "body": "okay thanks im used to python and have actually created a game with pygame but this is just so different, in a bad way:)"}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 0, "last_activity_date": 1494443272, "last_edit_date": 1495535486, "creation_date": 1494443173, "answer_id": 43900829, "question_id": 43900730, "link": "https://stackoverflow.com/questions/43900730/object-is-undefined-in-function/43900829#43900829", "title": "object is undefined in function", "body": "<p>OK, calling <code>main()</code> from <code>main()</code> is a forbidden (as explained <a href=\"https://stackoverflow.com/questions/27250120/how-do-i-call-main-in-my-main-cpp-file-from-a-seperate-cpp-file\">here</a>), so do not do it.</p>\n\n<p>Here is a typical example with your class (the class is cool as you have it, I just added an initializer list for fun):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nclass Hero\n{\n    private:\n        //member variables\n        string playername;\n    public:\n        //constructor\n        Hero(string name) : playername(name)\n        {\n        }\n\n        string getName()\n        {\n            return playername;\n        }\n};\n\nint main()\n{\n    Hero player(\"Daniel\");\n    cout &lt;&lt; \"Player's name: \" &lt;&lt; player.getName() &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Player's name: Daniel</p>\n</blockquote>\n\n<p>Based on this, try to work your logic and do all sort of stuff that you long for (after reading some books/tutorials)!</p>\n"}], "owner": {"reputation": 91, "user_id": 7313219, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10154285200903877/picture?type=large", "display_name": "Daniel B&#228;ck", "link": "https://stackoverflow.com/users/7313219/daniel-b%c3%a4ck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1494443272, "creation_date": 1494442831, "last_edit_date": 1494443155, "question_id": 43900730, "link": "https://stackoverflow.com/questions/43900730/object-is-undefined-in-function", "title": "object is undefined in function", "body": "<p>Im new to C++ and started working with classes recently for a school excercice.\nI really cant see whats wrong and after creating an object \"player\" to the Hero class i can't use that object later in the \"main Menu\" function to call a method because i get the \"identifier is undefined\" error!</p>\n\n<p>Any suggestions?</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nclass Hero\n{   \n    private:\n        //member variables\n        string playername;\n\n    public:\n        //constructor\n        Hero(string name)\n        {\n            playername = name;\n        }\n\n        string getName()\n        {\n            return playername;\n        }\n\n};\n\n//start 1\nvoid mainMenu()\n{\n    cout &lt;&lt; \" -  -  - |\" &lt;&lt; player.getName() &lt;&lt; \"-  -  - \\n\";\n}\n\nvoid setPlayer()\n{\n    string name;\n    cout &lt;&lt; \"Hello, what is your name? \" &lt;&lt; endl;\n    getline(cin, name);\n\n    Hero player(name);\n    mainMenu();\n}\n\nint main()\n{\n    int selection;\n\n    cout &lt;&lt; \"Shadow of darkness\\n \";\n\n    cout &lt;&lt; \"1.) Start \";\n    cout &lt;&lt; \"2.) Exit \";\n\n    cin &gt;&gt; selection;\n\n    if (selection == 1)\n        setPlayer();\n\n    else if (selection == 2)\n        exit (0);\n\n    else\n        main();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "inheritance"], "comments": [{"owner": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "edited": false, "score": 0, "creation_date": 1494442991, "post_id": 43900705, "comment_id": 74835396, "body": "Since it worked in the TwoD version, just not the ThreeD version, I don&#39;t think is the case, but I&#39;m new, and could be wrong."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1494443091, "post_id": 43900705, "comment_id": 74835458, "body": "Totally not a duplicate of that... did the closer even read the question??"}, {"owner": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "edited": false, "score": 0, "creation_date": 1494443128, "post_id": 43900705, "comment_id": 74835477, "body": "I think M.M has the right idea."}, {"owner": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494443423, "post_id": 43900705, "comment_id": 74835646, "body": "@tobi303 I don&#39;t think it&#39;s a duplicate since it works with main.cpp, shapes.cpp, shapes.h, twod.cpp, and twod.h  Most of the code is just header files and just suggests how it is set up, not the actual coding behind them. It&#39;s a means to show what functions are in play, but not the coding behind them which would take up very much more. Rather this just shows the constructor of the cpps on top of that, which should make it far more minimal."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "edited": false, "score": 0, "creation_date": 1494443860, "post_id": 43900878, "comment_id": 74835890, "body": "Thank you. This seems to have been the right answer. It allowed me to move forward. Such a stupid oversight of me. Thank you for pointing it out, while others were trying to mark it as a duplicate of a non-related post."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "edited": false, "score": 0, "creation_date": 1494444251, "post_id": 43900878, "comment_id": 74836143, "body": "@Greg yeah there&#39;s a few people around who see a question and think something like &quot;too hard for me, or I can&#39;t be bothered reading it ... better close it&quot;"}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1494443339, "creation_date": 1494443339, "answer_id": 43900878, "question_id": 43900705, "link": "https://stackoverflow.com/questions/43900705/c-explicit-instantiation-of-non-template-type/43900878#43900878", "title": "C++ explicit instantiation of non-template type", "body": "<p>In <code>ThreeD.cpp</code> you need:</p>\n\n<pre><code>#include \"ThreeD.h\"\n</code></pre>\n\n<p>Without that, the line <code>template class ThreeD&lt;int&gt;;</code> makes no sense to the compiler, because <code>ThreeD</code> has not been declared.</p>\n"}], "owner": {"reputation": 87, "user_id": 7106712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e198b8d8f4e305c516c57598d4691649?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/7106712/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "accepted_answer_id": 43900878, "answer_count": 1, "score": 1, "last_activity_date": 1494443339, "creation_date": 1494442730, "last_edit_date": 1494443297, "question_id": 43900705, "link": "https://stackoverflow.com/questions/43900705/c-explicit-instantiation-of-non-template-type", "title": "C++ explicit instantiation of non-template type", "body": "<p>I'm reading a book about C++. I'm still fairly to it, but I'm still trying to get the nitty gritty things done. This section involves inheritance, and the goal is to make a shape class, then build onto it with first two dimensional shapes, and then three dimensional shapes building off of two dimensional shapes.</p>\n\n<p>So far I've been able to get all the way up and completing the two dimensional shapes. The functions in there work fine. I've now moved onto three dimensional shapes, and that's where I'm running into a bit of a problem.</p>\n\n<p>The book says to implement a system that allows for length, height, and for three dimensional width to be either ints or floats, so I have put a template into them to do that. This is where I think I'm running into issues.</p>\n\n<p>I did copy and past the two dimensional class into the three dimensional class and try to complete it from there. Then I ran it to a bit of the problem.</p>\n\n<p>When I try to compile, I get two main errors. </p>\n\n<p>error: 'ThreeD' is not a class template\nerror: explicit instantiation of non-template type 'ThreeD'</p>\n\n<p>I think is the smallest piece that needs to be submitted with relevant information. Keeping in mind, main.cpp, shape.h, shape.cpp, twod.h, and twod.cpp do work as is, but I've included the full headers rather than the full others cpps.</p>\n\n<p>Any help that you could provide would be great.</p>\n\n<p>I've put the ThreeD.cpp at the top since that is where the error is coming from.</p>\n\n<p>I don't think it's a duplicate of \"Why can templates only be implemented in the header file?\" because the code works fine with the TwoD class, just not the ThreeD class.</p>\n\n<p>ThreeD.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"shape.h\"\n#include \"TwoD.h\"\n\nusing namespace std;\n\ntemplate class ThreeD&lt;int&gt;;\ntemplate class ThreeD&lt;float&gt;;\n\n\n    template &lt;class T&gt;\n    ThreeD&lt;T&gt;::ThreeD (string oobj, int osides, T olength, T oheight, T owidth)\n        : TwoD&lt;T&gt;(oobj, osides, olength, oheight)\n    {\n        setObject(obj);\n        setSides(sides);\n        setLength(length);\n        setHeight(height);\n        setWidth(owidth);\n    } //End of TwoD constructor\n\ntemplate &lt;class T&gt;\nint ThreeD&lt;T&gt;::getSides() {\n    return sides;\n} //End of function getSides\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"shape.h\"\n#include \"TwoD.h\"\n#include \"ThreeD.h\"\n\nusing namespace std;\n\nint main() {\n\n\nTwoD&lt;float&gt; triangle(\"Triangle\", 3, 3, 3);\n\nThreeD&lt;float&gt; cube(\"Cube\", 6, 3, 3, 3);\n}\n</code></pre>\n\n<p>Shape.h</p>\n\n<pre><code>#ifndef SHAPE_H\n#define SHAPE_H\n\n#include &lt;string&gt;\n\nusing namespace std;\n\n//Implimenting template &lt;class T&gt; as a means to have the sides\n//variable become either a float or an int.\ntemplate &lt;class T&gt;\nclass Shape {\n\npublic:\n    Shape(string, int, T);\n//    void setObject(string); //Used to ensure constructor works\n    virtual void setObject(string) = 0;\n//Used setObject as virtual function since constructor uses it to\n//Make the object using the setObject function.\n    string getObject();\n    int getSides();\n    bool setSides(int);\n    float getLength();\n    void setLength (T);\n\n    float getPerimeter(string, T);\n    float getArea (string, T);\n\n    void display();\nprivate:\n    string object;\n    int sides;\n    T length;\n};\n\n#endif\n</code></pre>\n\n<p>Shape.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"shape.h\"\n\nusing namespace std;\n\n//Telling the compiler template class of Shape which versions for T to\n//expect either int or float.\ntemplate class Shape&lt;int&gt;;\ntemplate class Shape&lt;float&gt;;\n\n//Constructor of Shape. Inputs shape, sides, and length.\n    template &lt;class T&gt;\n    Shape&lt;T&gt;::Shape (string shapes, int sides, T length){\n        setObject(shapes);\n        setSides(sides);\n        setLength(length);\n    } //End of Shape constructor\n</code></pre>\n\n<p>TwoD.h</p>\n\n<pre><code>#ifndef TWOD_H\n#define TWOD_H\n\n#include &lt;string&gt;\n#include \"shape.h\"\n\nusing namespace std;\n\n//Implimenting template &lt;class T&gt; as a means to have the sides\n//variable become either a float or an int.\ntemplate &lt;class T&gt;\nclass TwoD : public Shape&lt;T&gt;\n{\n\npublic:\n    TwoD(std::string, int, T, T);\n    void setObject(string); //Used to ensure constructor works\n//    virtual void setObject(string) = 0;\n//Used setObject as virtual function since constructor uses it to\n//Make the object using the setObject function.\n    string getObject();\n    int getSides();\n    bool setSides(int);\n    T getLength();\n    void setLength (T);\n    T getHeight();\n    void setHeight (T);\n\n    float getPerimeter(string, T, T);\n    float getArea (string, T, T);\n\n    void display();\nprivate:\n    string object;\n    int sides;\n    T length;\n    T height;\n};\n\n#endif\n</code></pre>\n\n<p>TwoD.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"shape.h\"\n#include \"TwoD.h\"\n\nusing namespace std;\n\n//Telling the compiler template class of TwoD which versions for T to\n//expect either int or float.\ntemplate class TwoD&lt;int&gt;;\ntemplate class TwoD&lt;float&gt;;\n\n//Constructor of TwoD. Inputs TwoD, sides, and length.\n    template &lt;class T&gt;\n    TwoD&lt;T&gt;::TwoD (string obj, int sides, T length, T height)\n        : Shape&lt;T&gt;(obj, sides, length)\n    {\n        setObject(obj);\n        setSides(sides);\n        setLength(length);\n        setHeight(height);\n    } //End of TwoD constructor\n</code></pre>\n\n<p>ThreeD.h</p>\n\n<pre><code>#ifndef THREED_H\n#define THREED_H\n\n#include &lt;string&gt;\n#include \"shape.h\"\n#include \"TwoD.h\"\n\nusing namespace std;\n\n//Implimenting template &lt;class T&gt; as a means to have the sides\n//variable become either a float or an int.\ntemplate &lt;class T&gt;\nclass ThreeD : public TwoD&lt;T&gt;\n{\n\npublic:\n    ThreeD(std::string, int, T, T, T);\n    void setObject(std::string); //Used to ensure constructor works\n//    virtual void setObject(string) = 0;\n//Used setObject as virtual function since constructor uses it to\n//Make the object using the setObject function.\n    string getObject();\n    int getSides();\n    bool setSides(int);\n    T getLength();\n    void setLength (T);\n    T getHeight();\n    void setHeight (T);\n\n    T getWidth();\n    void setWidth (T);\n\n    float getPerimeter(string, T, T, T);\n    float getArea (string, T, T, T);\n\n    void display();\nprivate:\n    std::string object;\n    int sides;\n    T length;\n    T height;\n    T width;\n};\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "operator-overloading", "sdl-2"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 1, "creation_date": 1494449936, "post_id": 43900650, "comment_id": 74839088, "body": "Comparison operator overloads can be <a href=\"http://en.cppreference.com/w/cpp/language/operator_comparison\" rel=\"nofollow noreferrer\">free functions</a>, not just member functions."}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 1525453, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5458ba2e717164c4a67274e27bc37826?s=128&d=identicon&r=PG", "display_name": "JoePerkins", "link": "https://stackoverflow.com/users/1525453/joeperkins"}, "edited": false, "score": 0, "creation_date": 1494455296, "post_id": 43900727, "comment_id": 74841318, "body": "Nice, I was thinking something like that, but I wasn&#39;t sure if it&#39;s a good practice. Thanks! :)"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 265, "user_id": 1525453, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5458ba2e717164c4a67274e27bc37826?s=128&d=identicon&r=PG", "display_name": "JoePerkins", "link": "https://stackoverflow.com/users/1525453/joeperkins"}, "edited": false, "score": 1, "creation_date": 1494457401, "post_id": 43900727, "comment_id": 74841959, "body": "@JoePerkins I&#39;d say that it&#39;s fine as long as you&#39;re building a binary, and not a library. If you&#39;re making a library then you probably don&#39;t want to be throwing extra operators into your headers because then they become part of your library&#39;s interface, and if someone wants to use your library along with another library that defines its own <code>operator==</code> for <code>SDL_Point</code>, they&#39;re gonna have a bad time. You can mitigate that somewhat by keeping the operator in your library&#39;s namespace."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 265, "user_id": 1525453, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5458ba2e717164c4a67274e27bc37826?s=128&d=identicon&r=PG", "display_name": "JoePerkins", "link": "https://stackoverflow.com/users/1525453/joeperkins"}, "edited": false, "score": 0, "creation_date": 1494457439, "post_id": 43900727, "comment_id": 74841967, "body": "@JoePerkins (Unless your library&#39;s specific goal is to provide a C++ layer for SDL, that is.)"}, {"owner": {"reputation": 265, "user_id": 1525453, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5458ba2e717164c4a67274e27bc37826?s=128&d=identicon&r=PG", "display_name": "JoePerkins", "link": "https://stackoverflow.com/users/1525453/joeperkins"}, "edited": false, "score": 0, "creation_date": 1494496473, "post_id": 43900727, "comment_id": 74857463, "body": "Not a library, so it should be fine. Good to know, thanks again!"}], "tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": true, "score": 3, "last_activity_date": 1494442821, "creation_date": 1494442821, "answer_id": 43900727, "question_id": 43900650, "link": "https://stackoverflow.com/questions/43900650/compare-two-sdl-point/43900727#43900727", "title": "Compare two SDL_point?", "body": "<p>Just have a utility or sdl_utility header that defines the operator inline:</p>\n\n<pre><code>inline bool operator==(SDL_Point const &amp;a, SDL_Point const &amp;b)\n{\n    return a.x == b.x &amp;&amp; a.y == b.y;\n}\n\ninline bool operator!=(SDL_Point const &amp;a, SDL_Point const &amp;b)\n{\n    return !(a == b);\n}\n</code></pre>\n\n<p>You will have to include this header in any source file that wants to use the operator.</p>\n"}], "owner": {"reputation": 265, "user_id": 1525453, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5458ba2e717164c4a67274e27bc37826?s=128&d=identicon&r=PG", "display_name": "JoePerkins", "link": "https://stackoverflow.com/users/1525453/joeperkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 43900727, "answer_count": 1, "score": -1, "last_activity_date": 1494449661, "creation_date": 1494442572, "last_edit_date": 1494449661, "question_id": 43900650, "link": "https://stackoverflow.com/questions/43900650/compare-two-sdl-point", "title": "Compare two SDL_point?", "body": "<p>I noticed I can't directly compare two <code>SDL_point</code>s:</p>\n\n<pre><code>SDL_Point a = {1, 2};\nSDL_Point b = {1, 2};\n\nif (a == b) std::cout &lt;&lt; \"a = b\\n\"; // Doesn't compile.\nif (a.x == b.x &amp;&amp; a.y == b.y) // I have to do this instead.\n  std::cout &lt;&lt; \"a = b\\n\";\n</code></pre>\n\n<p>I would like to overload the <code>operator==</code>, but since <code>SDL_Point</code> is part of <strong>SDL</strong>, I'm not sure how, because I may want to use the overloaded operator in many different classes of my game.</p>\n\n<p>What's the normal way to do this?</p>\n"}, {"tags": ["c++", "openmp", "undefined-reference"], "comments": [{"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1494443671, "post_id": 43900638, "comment_id": 74835787, "body": "Anyone has seen something like this? I guess I can use pointer to the 0th element of the vector, instead of a <code>std::vector</code>, but I would rather not use pointers directly if possible."}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1494487859, "post_id": 43900638, "comment_id": 74851538, "body": "Note that <code>libomp-dev</code> is the LLVM OpenMP runtime that is unrelated to <code>gomp</code>, which is the OpenMP runtime bundled by <code>gcc</code>."}], "answers": [{"comments": [{"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1494449328, "post_id": 43901272, "comment_id": 74838777, "body": "Tasks are pieces of code that could (and possibly would) execute in a future moment of time. As those are usually expected to work on different set of input values provided in the same variables, it is more natural to expect those to be <code>firstprivate</code> and not <code>shared</code>. Think asynchronous closures."}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "reply_to_user": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1494487780, "post_id": 43901272, "comment_id": 74851479, "body": "@HristoIliev I found the semantics of <code>firstprivate</code> on references not immediately intuitive (think <code>auto firstprivate = reference</code>). Would you agree that there is no semantic difference between <code>firstprivate</code> and <code>shared</code> for references?"}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "reply_to_user": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1494490908, "post_id": 43901272, "comment_id": 74853495, "body": "@Zulan, references are alternative names of some memory object and not pointers, therefore <code>firstprivate</code>, following the semantics of <code>private</code>, creates a copy of the entire object and not simply another reference to it."}, {"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "reply_to_user": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1494491924, "post_id": 43901272, "comment_id": 74854123, "body": "@HristoIliev I might have misread <i>&quot;If a list item in a <code>firstprivate</code> clause on a worksharing construct has a reference type then it must bind to the same object for all threads of the team.&quot;</i>. I can&#39;t find any other good specific description of how references are handled for the different data-sharing clauses in the standard."}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "reply_to_user": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 1, "creation_date": 1494494663, "post_id": 43901272, "comment_id": 74856126, "body": "@Zulan <i>&quot;If the type of a list item is a reference to a type T then the type will be considered to be T for all purposes of this clause&quot;</i> (p.194, <code>private</code> Clause) and <i>&quot;A list item that appears in a <code>firstprivate</code> clause is a subject to the <code>private</code> clause semantics ..., except as noted&quot;</i> (p.197, <code>firstprivate</code> Clause). Also, note that <code>task</code> is not a worksharing construct."}], "tags": [], "owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "is_accepted": false, "score": 1, "last_activity_date": 1494445450, "last_edit_date": 1494445450, "creation_date": 1494444785, "answer_id": 43901272, "question_id": 43900638, "link": "https://stackoverflow.com/questions/43900638/openmp-task-cant-pass-argument-by-reference/43901272#43901272", "title": "OpenMp Task: can&#39;t pass argument by reference", "body": "<p>The problem disappears if you also declare <code>vec</code> as a shared variable:</p>\n\n<pre><code>#pragma omp task shared(sum, vec)\n</code></pre>\n\n<p>It seems that the default visibility for <code>task</code> is <code>firstprivate</code>, not shared as would be expected. You can find more information in <a href=\"http://forum.openmp.org/forum/viewtopic.php?f=3&amp;t=912&amp;start=0#p3622\" rel=\"nofollow noreferrer\">this forum entry</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1494505625, "post_id": 43901338, "comment_id": 74863859, "body": "Intel 18.0b complains that <code>vec</code> is an incomplete or reference type if explicitly specified in a <code>firstprivate</code> clause and compiles without problems otherwise. The program crashes when run because of the infinite recursion."}], "tags": [], "owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "is_accepted": true, "score": 5, "last_activity_date": 1494498573, "last_edit_date": 1494498573, "creation_date": 1494445039, "answer_id": 43901338, "question_id": 43900638, "link": "https://stackoverflow.com/questions/43900638/openmp-task-cant-pass-argument-by-reference/43901338#43901338", "title": "OpenMp Task: can&#39;t pass argument by reference", "body": "<p>To fix the issue, you can manually specify <code>shared(sum, vec)</code> (strongly assuming you want it shared).</p>\n\n<p>Interestingly enough older gcc versions (e.g. 5.4.0) give a much more helpful error message:</p>\n\n<pre><code>error: 'vec' implicitly determined as 'firstprivate' has reference type\n</code></pre>\n\n<p>Whereas the Intel compiler <code>icpc 17.0.1</code> gives an \"<code>internal error : 0_1855</code>\".</p>\n\n<p>Manually specifying <code>firstprivate</code> or <code>private</code> - which makes little sense in your case - results in other more descriptive errors. Note, as Hristo Iliev explained in the other comments, <code>firstprivate</code> would mean that a copy of the vector is made for each thread.</p>\n\n<p>As per the current (4.5) standard:</p>\n\n<blockquote>\n  <p>In an orphaned task generating construct, if no default clause is present, formal arguments passed by reference are <code>firstprivate</code>.</p>\n</blockquote>\n\n<p>I suppose that applies here. Further,</p>\n\n<blockquote>\n  <p>A variable that appears in a <code>firstprivate</code> clause must not have an incomplete C/C++ type or be a reference to an incomplete type.\n  If a list item in a <code>firstprivate</code> clause on a worksharing construct has a reference type then it must bind to the same object for all threads of the team.</p>\n</blockquote>\n\n<p><sup>It doesn't appear in a clause, but I think this is still what the standard means.</sup></p>\n\n<p>Now I don't think that <code>std::vector&lt;T, A&gt;</code> is an incomplete type within the template, unless I am missing something about how templates are instantiated. So I do think your code should be valid and given that each thread just binds to the same object, it actually would make sense.</p>\n\n<p>So I do think this is a bug in recent <code>gcc</code> versions as well as the Intel compiler. It looks like the compiler fails to instantiate some things for the template.</p>\n\n<p>Further, adding:</p>\n\n<pre><code>if (0) std::vector&lt;T, A&gt; wtf = vec;\n</code></pre>\n\n<p>at the beginning of the function makes the code compile and link with <code>gcc</code>. But if <code>firstprivate</code> is added manually, gcc continues to complain that <code>'vec' has incomplete type</code>.</p>\n\n<p>P.S.: Allowing reference types in data sharing attribute clauses was added in OpenMP 4.5, this is the old gcc gives a different error. </p>\n"}, {"tags": [], "owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "is_accepted": false, "score": 2, "last_activity_date": 1494514028, "last_edit_date": 1494514028, "creation_date": 1494513536, "answer_id": 43918595, "question_id": 43900638, "link": "https://stackoverflow.com/questions/43900638/openmp-task-cant-pass-argument-by-reference/43918595#43918595", "title": "OpenMp Task: can&#39;t pass argument by reference", "body": "<p>This looks like a bug in GCC, which fails to generate a copy constructor for <code>std::vector&lt;int, std::allocator&lt;int&gt; &gt;</code>. Note that the error comes from the linker and does not occur during the compilation phase. The copy constructor is used in the copy function that initialises the <code>firstprivate</code> parameters of the outlined task function. Forcing the compiler to generate it, e.g. changing</p>\n\n<pre><code>std::vector&lt;int&gt; a;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>std::vector&lt;int&gt; a, b(a);\n</code></pre>\n\n<p>fixes the problem.</p>\n\n<p>Here is a more elaborate description. GCC transforms the following code</p>\n\n<pre><code>#pragma omp task shared(sum)\n{\n    sum = recursiveSumBody(vec);\n}\n</code></pre>\n\n<p>into something like:</p>\n\n<pre><code>struct omp_data_a data_o;\n\ndata_o.vec = vec;\ndata_o.sum = &amp;sum;\nGOMP_task(omp_fn_0, &amp;data_o, omp_cpyfn_1, 32, 8, 1, 0, 0, 0);\n\n// --- outlined task body ---\nvoid omp_fn_0(struct omp_data_s &amp; restrict data_i)\n{\n   struct vector &amp; vec = &amp;data_i-&gt;vec;\n   *data_i-&gt;sum = recursiveSumBody&lt;int&gt;(vec);\n   std::vector&lt;int&gt;::~vector(vec);\n}\n\n// --- task firstprivate initialisation function ---\nvoid omp_cpyfn_1(struct omp_data_s *data_o, struct omp_data_a *data_i)\n{\n   data_o-&gt;sum = data_i-&gt;sum;\n   struct vector &amp;d40788 = data_i-&gt;vec;\n   struct vector *this = &amp;data_o-&gt;vec;\n   std::vector&lt;int&gt;::vector(this, d40788); // &lt;--- invocation of the copy constructor\n}\n</code></pre>\n\n<p><code>omp_cpyfn_1</code> gets called by <code>GOMP_task()</code> in order to initialise the firstprivate arguments. It calls the copy constructor of <code>std::vector&lt;int&gt;</code>, because <code>(first-)private</code> treats references to type T as type T itself, but the constructor is not generated, therefore the object code fails to link. This is probably a bug in the gimplifier code as the copy constructor gets created when a non-reference <code>std::vector&lt;T, A&gt;</code> gets privatised, e.g., with code like this:</p>\n\n<pre><code>...\nstd::vector&lt;T, A&gt; b;\n#pragma omp task shared(sum)\n{\n    sum = recursiveSumBody(b);\n}\n...\n</code></pre>\n\n<hr>\n\n<p>The code compiles with Intel 18.0b. Explicitly specifying <code>vec</code> as <code>firstprivate</code> breaks it the same way as with GCC (icpc complains about <code>vec</code> being of an incomplete type). The following workaround could be used:</p>\n\n<pre><code>template&lt;typename T, typename A&gt;\nT recursiveSumBody(std::vector&lt;T, A&gt; &amp;vec) {\n    T sum = 0;\n    std::vector&lt;T, A&gt; *ptr = &amp;vec;\n    #pragma omp task shared(sum)\n    {\n        sum = recursiveSumBody(*ptr);\n    }\n    return vec[0];\n}\n</code></pre>\n\n<p>In this case <code>ptr</code> is a pointer. Its <code>firstprivate</code> version is another pointer that points to the same location, i.e. the vector instance. The semantics differs from the original code as here no private copy of the entire vector gets created, rather the original vector is used.</p>\n"}], "owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 1, "accepted_answer_id": 43901338, "answer_count": 3, "score": 8, "last_activity_date": 1494514028, "creation_date": 1494442517, "last_edit_date": 1494444371, "question_id": 43900638, "link": "https://stackoverflow.com/questions/43900638/openmp-task-cant-pass-argument-by-reference", "title": "OpenMp Task: can&#39;t pass argument by reference", "body": "<p><code>g++ -fopenmp main.cpp</code> complains about undefined reference to <code>std::vector</code>. How to fix this?</p>\n\n<p>I have installed the <code>libomp-dev</code> package on Ubuntu.</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include&lt;vector&gt;\n#include&lt;iostream&gt;\n\ntemplate&lt;typename T, typename A&gt;\nT recursiveSumBody(std::vector&lt;T, A&gt; &amp;vec) {\n    T sum = 0;\n    #pragma omp task shared(sum)\n    {\n        sum = recursiveSumBody(vec);\n    }\n    return vec[0];\n}\n\nint main() {\n    std::vector&lt;int&gt; a;\n    recursiveSumBody(a);\n    return 0;\n}\n</code></pre>\n\n<p>Undefined References</p>\n\n<pre><code>/tmp/ccTDECNm.o: In function `int recursiveSumBody&lt;int, std::allocator&lt;int&gt; &gt;(std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;) [clone ._omp_cpyfn.1]':\nmain.cpp:(.text+0x148): undefined reference to `std::vector&lt;int, std::allocator&lt;int&gt; &gt;::vector(std::vector&lt;int, std::allocator&lt;int&gt; &gt; const&amp;)'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n"}, {"tags": ["c++", "variables"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494442547, "post_id": 43900614, "comment_id": 74835114, "body": "You won&#39;t do that. But try to pass a <code>vector</code> of 10000000 items to a function."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1494442559, "post_id": 43900614, "comment_id": 74835118, "body": "So you can use <code>x</code> in more than one place without having separate copies."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1494442628, "post_id": 43900614, "comment_id": 74835158, "body": "@Galik Then why not use <code>x</code>? I think that is the question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494442677, "post_id": 43900614, "comment_id": 74835197, "body": "@StoryTeller, yea.. I know that a functions somehow can access the argument variable instead of copying it as it would without the &amp;.. but other than that?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494442978, "post_id": 43900614, "comment_id": 74835389, "body": "Other than to illustrate how aliases work, I don&#39;t see any reason to do something like in your post."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494443255, "post_id": 43900614, "comment_id": 74835545, "body": "Well, maybe it was a weird example, but I am more thinking about references in general."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1494444390, "post_id": 43900614, "comment_id": 74836219, "body": "You could save some typing by wring <code>auto&amp; foo = someVarWithLongName.OtherLongName.Blaaabla;</code> if you wanted to do a few operations on Blaabla"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494442955, "post_id": 43900683, "comment_id": 74835374, "body": "I actually did know that one.. But is that really the only useful case? Btw thanks for the time!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494443107, "post_id": 43900683, "comment_id": 74835468, "body": "Guess the link could be the answer to my other question. But it really seems like that is about the only useful feature of a reference."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 1, "creation_date": 1494443440, "post_id": 43900683, "comment_id": 74835653, "body": "Glad the link answered your other question @JakeBlandon! Yes this is what comes to my mind now."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1494444550, "post_id": 43900683, "comment_id": 74836324, "body": "@JakeBlandon function parameter passing and returning is certainly the primary use-case for references"}], "tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 2, "last_activity_date": 1494445059, "last_edit_date": 1495542379, "creation_date": 1494442651, "answer_id": 43900683, "question_id": 43900614, "link": "https://stackoverflow.com/questions/43900614/why-would-you-use-a-reference-rather-than-the-original/43900683#43900683", "title": "Why would you use a reference rather than the original?", "body": "<p>Let's not declare it. You just go with <code>x</code> in that case.</p>\n\n<p>However, when you are dealing with large objects, such as huge classes, or even titanic vectors, you do not want to copy the whole thing, that's why you pass a reference to a function that needs that class/object/whatever.</p>\n\n<blockquote>\n  <p>Passing or returning an object as function argument <strong>by reference</strong> instead of <strong>by value</strong></p>\n</blockquote>\n\n<p>is probably the most important reason. For more, please read <a href=\"https://stackoverflow.com/questions/12728794/why-should-i-use-reference-variables-at-all\">Why should I use reference variables at all?</a></p>\n"}, {"tags": [], "owner": {"reputation": 33821, "user_id": 45685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y4RJr.jpg?s=128&g=1", "display_name": "AndersK", "link": "https://stackoverflow.com/users/45685/andersk"}, "is_accepted": false, "score": 2, "last_activity_date": 1494443964, "creation_date": 1494443964, "answer_id": 43901056, "question_id": 43900614, "link": "https://stackoverflow.com/questions/43900614/why-would-you-use-a-reference-rather-than-the-original/43901056#43901056", "title": "Why would you use a reference rather than the original?", "body": "<p>In addition to what gsamaras said reference can be use when you want to modify something</p>\n\n<pre><code>std::vector&lt;int&gt; myvector{ 1,2,3,4,5 };\nfor (auto&amp; elem : myvector) ++elem;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1494444467, "post_id": 43901155, "comment_id": 74836278, "body": "Due to copy elision your last two cases have exactly the same behaviour (if you were consistent with <code>const</code>, that is);  C++17&#39;s so-called &quot;guaranteed copy elision&quot; means the coder doesn&#39;t have to try and prematurely optimize by deciding whether to use a reference here or not"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1494444591, "post_id": 43901155, "comment_id": 74836356, "body": "@M.M - Copy elision is only guaranteed by the standard once C++17 officially comes out. And it&#39;s not too hard to cook up an example in C++14 where it won&#39;t be preformed."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1494444702, "post_id": 43901155, "comment_id": 74836405, "body": "@M.M - And they don&#39;t have exactly the same behavior. The object is modifiable in the first case :P (No need to talk about binding to an rvalue reference)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1494444754, "post_id": 43901155, "comment_id": 74836428, "body": "Yeah well, you could use <code>const</code> in the first case, or use non-const rvalue-reference in the second"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494447832, "post_id": 43901155, "comment_id": 74838020, "body": "Wow thanks man! But this <code>std::string const &amp;res = foo();</code>, would it be a dangling reference is it did not have the specifier <code>const</code>? And if <code>res</code> was an alias for a named object and that object&#39;s scope reached the end, how is the object then destroyed if C++ keeps the object alive because of res?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494447876, "post_id": 43901155, "comment_id": 74838039, "body": "Will the object then be destroyed at the time res&#39; scope reaches the end or?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494478521, "post_id": 43901155, "comment_id": 74846841, "body": "@JakeBlandon - Of course. The objects lifetime is only extended until the end of the enclosing block scope. The same visibility of the new reference."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494478800, "post_id": 43901155, "comment_id": 74846932, "body": "@JakeBlandon - and <code>std::string &amp;res = foo();</code> won&#39;t compile at all, you can&#39;t bind a temporary to a non-const lvalue reference. As for the named object case, it won&#39;t dangle either. Think about it, a reference must be bound the moment it&#39;s declared. It&#39;s not impossible to get a dangling reference, but it won&#39;t happen if everything is in the same block scope."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494493928, "post_id": 43901155, "comment_id": 74855580, "body": "Thanks man! &quot;Think about it, a reference must be bound the moment it&#39;s declared&quot; ahh yeah, and it cannot be changed to refer to another object than what it has been initialized to, right?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1494494440, "post_id": 43901155, "comment_id": 74855966, "body": "@JakeBlandon - Exactly. So the lifetime of a reference created at block scope is no greater than the object it was bound at inside that scope."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1494444930, "last_edit_date": 1494444930, "creation_date": 1494444324, "answer_id": 43901155, "question_id": 43900614, "link": "https://stackoverflow.com/questions/43900614/why-would-you-use-a-reference-rather-than-the-original/43901155#43901155", "title": "Why would you use a reference rather than the original?", "body": "<p>You're looking for a good reason to use a reference instead of an object in block scope?</p>\n\n<p>References bind to objects and allow an alternative means to identify them. The variable that holds 333 in your example, just has two names in essence. If you look at the generated assembly, you probably won't even see an allocation for anything besides the object.  For example, this code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n\nint main()\n{\n    std::srand(std::time(NULL));\n\n    int x = std::rand();\n    int &amp;xx = x;\n\n    ++xx;\n\n    std::cout &lt;&lt; xx;\n\n    return 0;\n}\n</code></pre>\n\n<p>Produces this assembly when optimizations are enabled:</p>\n\n<pre><code>main:\n        sub     rsp, 8\n        mov     edi, 0\n        call    time\n        mov     edi, eax\n        call    srand\n        call    rand\n        lea     esi, [rax+1]\n        mov     edi, OFFSET FLAT:std::cout\n        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;::operator&lt;&lt;(int)\n        mov     eax, 0\n        add     rsp, 8\n        ret\n_GLOBAL__sub_I_main:\n        sub     rsp, 8\n        mov     edi, OFFSET FLAT:std::__ioinit\n        call    std::ios_base::Init::Init()\n        mov     edx, OFFSET FLAT:__dso_handle\n        mov     esi, OFFSET FLAT:std::__ioinit\n        mov     edi, OFFSET FLAT:std::ios_base::Init::~Init()\n        call    __cxa_atexit\n        add     rsp, 8\n        ret\n</code></pre>\n\n<p>If you examine this at the <a href=\"https://godbolt.org/g/3aJtCc\" rel=\"nofollow noreferrer\">live example</a> and see what code maps to where, you'd notice there is absolutely no representation of the reference remaining. All access is to the object.</p>\n\n<p>So if a reference at block scope is just a fancy way to give another name to an object, it isn't all that useful. But what if the object didn't have a name to begin with?</p>\n\n<p>For instance:</p>\n\n<pre><code>std::string foo() { return \"Hello World!\"; }\n\nint main() {\n  foo();\n}\n</code></pre>\n\n<p>When I call <code>foo</code> it returns a temporary object where the result is stored. That object is nameless. I can either use it directly or it's gone the nano-second that <code>;</code> is reached after the call. Sure, I can copy it:</p>\n\n<pre><code>std::string res = foo();\n</code></pre>\n\n<p>But what if the string is very long, and I just want to print it a few times. Why do I have to waste my time with copies?</p>\n\n<p>Turns out you don't have to copy:</p>\n\n<pre><code>std::string const &amp;res = foo();\n</code></pre>\n\n<p>The above is <em>not</em> a dangling reference! A const reference can bind to a temporary object. And the C++ language promises that object will live for as long as the reference does in that block scope. Essentially, we can name the object and make it usable after the call, thus saving a copy.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "edited": false, "score": 0, "creation_date": 1494447511, "post_id": 43901194, "comment_id": 74837859, "body": "Thank you. That makes sense!"}], "tags": [], "owner": {"reputation": 6673, "user_id": 777689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19JOo.jpg?s=128&g=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/777689/petert"}, "is_accepted": false, "score": 1, "last_activity_date": 1494444481, "creation_date": 1494444481, "answer_id": 43901194, "question_id": 43900614, "link": "https://stackoverflow.com/questions/43900614/why-would-you-use-a-reference-rather-than-the-original/43901194#43901194", "title": "Why would you use a reference rather than the original?", "body": "<p>Additionally to the function call and loop usage described in the other answers I also like to use references to avoid repeatedly dereferencing deeply nested structures.</p>\n\n<p>So instead of writing </p>\n\n<pre><code>collection.container[i].subcontainer-&gt;item.func_a();\ncollection.container[i].subcontainer-&gt;item.func_b();\ncollection.container[i].subcontainer-&gt;item.data = d;\n</code></pre>\n\n<p>I sometimes use</p>\n\n<pre><code>auto &amp; cur_item = collection.container[i].subcontainer-&gt;item;\ncur_item.func_a();\ncur_item.func_b();\ncur_item.data = d;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1494445059, "creation_date": 1494442436, "last_edit_date": 1494442736, "question_id": 43900614, "link": "https://stackoverflow.com/questions/43900614/why-would-you-use-a-reference-rather-than-the-original", "title": "Why would you use a reference rather than the original?", "body": "<p>This question might looks subjective, but actually, I am looking for an objective reason this, like the technical and logical part. \nSo let's declare an alias for the variable x:</p>\n\n<pre><code>int x = 333;\nint &amp;xx = x;\n</code></pre>\n\n<p>Why not just use x and save the bother of creating the alias/reference?</p>\n"}, {"tags": ["c++", "c++11", "qt5"], "answers": [{"tags": [], "owner": {"reputation": 1141, "user_id": 5749944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd9f0cd3fedf76ad126abaab58a572c?s=128&d=identicon&r=PG", "display_name": "ThorngardSO", "link": "https://stackoverflow.com/users/5749944/thorngardso"}, "is_accepted": false, "score": 0, "last_activity_date": 1494444820, "creation_date": 1494444820, "answer_id": 43901281, "question_id": 43900611, "link": "https://stackoverflow.com/questions/43900611/signaling-a-sliderreleased-with-the-new-signal-slots-implementation-of-qt5/43901281#43901281", "title": "Signaling a sliderReleased() with the new signal/slots implementation of Qt5", "body": "<p>Looking at the examples in the linked post, I suggest you remove the parentheses. I.e. not:</p>\n\n<pre><code>connect(m_customUIForm.horizontalSliderOr, &amp;QAbstractSlider::sliderReleased(), this, [this]{ sendMoveActuator(1); });\n</code></pre>\n\n<p>But rather:</p>\n\n<pre><code>connect(m_customUIForm.horizontalSliderOr, &amp;QAbstractSlider::sliderReleased, this, [this]{ sendMoveActuator(1); });\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 7812564, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/d25007809f953a1bdbdafa12ccb3d917?s=128&d=identicon&r=PG&f=1", "display_name": "Luigi", "link": "https://stackoverflow.com/users/7812564/luigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494444820, "creation_date": 1494442416, "last_edit_date": 1495541891, "question_id": 43900611, "link": "https://stackoverflow.com/questions/43900611/signaling-a-sliderreleased-with-the-new-signal-slots-implementation-of-qt5", "title": "Signaling a sliderReleased() with the new signal/slots implementation of Qt5", "body": "<p>I'm working with an example based on the following link</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5153157/passing-an-argument-to-a-slot\">Passing an argument to a slot</a></p>\n\n<p>I'm trying to connect a certain function with a given parameter when a certain slider is released.</p>\n\n<pre><code>connect(m_customUIForm.horizontalSliderOr, &amp;QAbstractSlider::sliderReleased(), this, [this]{ sendMoveActuator(1); });\n</code></pre>\n\n<p>The problem seems to lie in the signal <code>&amp;QAbstractSlider::sliderReleased()</code></p>\n\n<pre><code>error: cannot call member function 'void QAbstractSlider::sliderReleased()' without object\n connect(m_customUIForm.horizontalSliderOr, &amp;QAbstractSlider::sliderReleased(), this, [this]{ sendMoveActuator(1); });\n</code></pre>\n\n<p>Which is the proper way to pass the signal of sliderReleased() ?</p>\n\n<pre><code>                                                                             ^\n</code></pre>\n"}, {"tags": ["c++", "c++11", "random", "std", "mt19937"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1494442412, "post_id": 43900558, "comment_id": 74835032, "body": "Youre returning it by value, which means any internal state modification you make by generating random numbers is lost, thus repeating the patter every time you call get() again."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1494442415, "post_id": 43900558, "comment_id": 74835036, "body": "<code>std::mt19937 get();</code> returns by value. This code wouldn&#39;t compile with a standards compliant compiler: <code>std::mt19937 &amp;mt = RandomGenerator::Instance().get();</code>."}, {"owner": {"reputation": 226, "user_id": 6719685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bba0fa8e1d3dc87fdfe24ac804756e0?s=128&d=identicon&r=PG&f=1", "display_name": "Wade Tyler", "link": "https://stackoverflow.com/users/6719685/wade-tyler"}, "edited": false, "score": 1, "creation_date": 1494442458, "post_id": 43900558, "comment_id": 74835063, "body": "<a href=\"http://dilbert.com/strip/2001-10-25\" rel=\"nofollow noreferrer\">Generating random numbers</a>"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1494442511, "post_id": 43900558, "comment_id": 74835098, "body": "This will not compile. <code>&amp;mt = RandomGenerator::Instance().get();</code>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 1, "creation_date": 1494442660, "post_id": 43900558, "comment_id": 74835182, "body": "@gsamaras That statement is non-standard, but it compiles in Visual Studio as it&#39;s part of the language extensions it likes to enable by default."}, {"owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1494442930, "post_id": 43900558, "comment_id": 74835358, "body": "@gsamaras Why this will not compile? Visual Studio compiler  and MinGW compiler quietly compiles."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1494443388, "post_id": 43900558, "comment_id": 74835630, "body": "Because <code>error: non-const lvalue reference to type &#39;mersenne_twister_engine&lt;...&gt;&#39; cannot       bind to a temporary of type &#39;mersenne_twister_engine&lt;...&gt;&#39;</code>. That&#39;s what you get when working with non-standard compilers :/"}, {"owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1494443913, "post_id": 43900558, "comment_id": 74835933, "body": "@gsamaras What compiler are you using? On Dev\u0421++ also compiled."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494444175, "post_id": 43900558, "comment_id": 74836102, "body": "@Harrix it works on Visual Studio as an extension. In order to catch subtle non-standard behaviours like this, I know that Visual Studio has a flag for it (might only be on 2017, but it&#39;s probably on 2015 too). I don&#39;t remember the flag, however."}, {"owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494444585, "post_id": 43900558, "comment_id": 74836351, "body": "@Justin What kind of code are you talking about? Code with the correct method you checked out the visual Studio 2015 compiler mingw (QT version 5.8) and devc++."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1494445015, "post_id": 43900558, "comment_id": 74836567, "body": "@Harrix g++. DevC++ is more ancient than Greece!"}, {"owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "reply_to_user": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 1, "creation_date": 1494476410, "post_id": 43900558, "comment_id": 74846244, "body": "@gsamaras True. In gcc bad code do not compile. The corrected version is compiled."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494483053, "post_id": 43900558, "comment_id": 74848645, "body": "Found the compiler flag I was talking about; it&#39;s in VS 2017: <a href=\"https://blogs.msdn.microsoft.com/vcblog/2016/11/16/permissive-switch/\" rel=\"nofollow noreferrer\"><code>&#47;permissive-</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "edited": false, "score": 0, "creation_date": 1494442822, "post_id": 43900617, "comment_id": 74835296, "body": "Thank you! Stupid mistake."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 5, "last_activity_date": 1494442441, "creation_date": 1494442441, "answer_id": 43900617, "question_id": 43900558, "link": "https://stackoverflow.com/questions/43900558/only-instance-of-stdmt19937-repeats-values-in-c11/43900617#43900617", "title": "Only instance of std::mt19937 repeats values in c++11", "body": "<p><code>std::mt19937 get();</code> returns a copy. Every time you call <code>get()</code> you make a copy of the initial state of the engine. <code>mt19937</code> is a pseudo-random engine, each state produces a predetermined sequence. If the state of two instances are identical, they will produce the same sequence. Make the function return a reference so that the state of the singleton instance is updated with each new number generated.</p>\n\n<pre><code>std::mt19937 &amp; RandomGenerator::get() {\n    return mt;\n}\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 1680906, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/wrLz3.jpg?s=128&g=1", "display_name": "Harrix", "link": "https://stackoverflow.com/users/1680906/harrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 43900617, "answer_count": 1, "score": 2, "last_activity_date": 1494444378, "creation_date": 1494442241, "last_edit_date": 1494444378, "question_id": 43900558, "link": "https://stackoverflow.com/questions/43900558/only-instance-of-stdmt19937-repeats-values-in-c11", "title": "Only instance of std::mt19937 repeats values in c++11", "body": "<p>In the program, often in different classes are generated random numbers. So I want to create a class that returns a single instance of the generator std::mt19937. I also take into account that some compilers do not work with std::random_device (To do this, check the value of entropy). I have created a class singleton. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;chrono&gt;\n\nclass RandomGenerator\n{\npublic:\n    static RandomGenerator&amp; Instance() {\n        static RandomGenerator s;\n        return s;\n    }\n    std::mt19937 get();\n\nprivate:\n    RandomGenerator();\n    ~RandomGenerator() {}\n\n    RandomGenerator(RandomGenerator const&amp;) = delete;\n    RandomGenerator&amp; operator= (RandomGenerator const&amp;) = delete;\n\n    std::mt19937 mt;\n};\n\nRandomGenerator::RandomGenerator() {\n    std::random_device rd;\n\n    if (rd.entropy() != 0) {\n        mt.seed(rd());\n    }\n    else {\n        auto seed = std::chrono::high_resolution_clock::now().time_since_epoch().count();\n        mt.seed(seed);\n    }\n}\n\nstd::mt19937 RandomGenerator::get() {\n    return mt;\n}\n\nint main() {\n\n    std::mt19937 &amp;mt = RandomGenerator::Instance().get();\n    std::uniform_real_distribution&lt;double&gt; dist(0.0, 1.0);\n    for (std::size_t i = 0; i &lt; 5; i++)\n        std::cout &lt;&lt; dist(mt) &lt;&lt; \"\\n\";\n\n    std::cout &lt;&lt; \"\\n\";\n\n    std::mt19937 &amp;mt2 = RandomGenerator::Instance().get();\n    std::uniform_real_distribution&lt;double&gt; dist2(0.0, 1.0);\n    for (std::size_t i = 0; i &lt; 5; i++)\n        std::cout &lt;&lt; dist2(mt2) &lt;&lt; \"\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>But when I get out of class generator std::mt19937, random numbers begin to repeat. How to avoid it? </p>\n\n<pre><code>0.389459\n0.68052\n0.508421\n0.0758856\n0.0137491\n\n0.389459\n0.68052\n0.508421\n0.0758856\n0.0137491\n</code></pre>\n\n<p>P.S. Is there a better way to initialize the generator than time?</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Tested this under the following compilers: Visual Studio, MinGW, DevC++.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;chrono&gt;\n\nclass RandomGenerator\n{\npublic:\n    static RandomGenerator&amp; Instance() {\n        static RandomGenerator s;\n        return s;\n    }\n    std::mt19937 &amp; get();\n\nprivate:\n    RandomGenerator();\n    ~RandomGenerator() {}\n\n    RandomGenerator(RandomGenerator const&amp;) = delete;\n    RandomGenerator&amp; operator= (RandomGenerator const&amp;) = delete;\n\n    std::mt19937 mt;\n};\n\nRandomGenerator::RandomGenerator() {\n    std::random_device rd;\n\n    if (rd.entropy() != 0) {\n        mt.seed(rd());\n    }\n    else {\n        auto seed = std::chrono::high_resolution_clock::now().time_since_epoch().count();\n        mt.seed(seed);\n    }\n}\n\nstd::mt19937 &amp; RandomGenerator::get() {\n    return mt;\n}\n\nint main() {\n\n    std::mt19937 &amp;mt = RandomGenerator::Instance().get();\n    std::uniform_real_distribution&lt;double&gt; dist(0.0, 1.0);\n    for (std::size_t i = 0; i &lt; 5; i++)\n        std::cout &lt;&lt; dist(mt) &lt;&lt; \"\\n\";\n\n    std::cout &lt;&lt; \"\\n\";\n\n    std::mt19937 &amp;mt2 = RandomGenerator::Instance().get();\n    std::uniform_real_distribution&lt;double&gt; dist2(0.0, 1.0);\n    for (std::size_t i = 0; i &lt; 5; i++)\n        std::cout &lt;&lt; dist2(mt2) &lt;&lt; \"\\n\";\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "file", "filesystems", "ntfs"], "comments": [{"owner": {"reputation": 11, "user_id": 7562301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ABjqDxL82fU/AAAAAAAAAAI/AAAAAAAAACY/jdiMAM3X59g/photo.jpg?sz=128", "display_name": "Zia-ur-Rehman Rehmani", "link": "https://stackoverflow.com/users/7562301/zia-ur-rehman-rehmani"}, "edited": false, "score": 1, "creation_date": 1494441969, "post_id": 43900462, "comment_id": 74834744, "body": "If ther is any problem with the Question pleas tell me last time my question was put on rest becuz of which i was unable to ask any question for morthan 4 days so pleas if u see any prolem pleas mp me or leav a comment"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1494442069, "post_id": 43900462, "comment_id": 74834813, "body": "You are need to show what you have tried. Not just ask for help.  Google can answer your question as asked. See: <a href=\"http://stackoverflow.com/help/asking\">stackoverflow.com/help/asking</a>"}, {"owner": {"reputation": 11, "user_id": 7562301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ABjqDxL82fU/AAAAAAAAAAI/AAAAAAAAACY/jdiMAM3X59g/photo.jpg?sz=128", "display_name": "Zia-ur-Rehman Rehmani", "link": "https://stackoverflow.com/users/7562301/zia-ur-rehman-rehmani"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1494442212, "post_id": 43900462, "comment_id": 74834905, "body": "Sory sir i hev no idea how to work with file system in c++ im a newbie to c++ i did try to serch on web but all i find was to learn the bost library and that i cant do becuz it will put mee way behind the dead line"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1494442310, "post_id": 43900462, "comment_id": 74834977, "body": "MSDN file handling functions: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364232(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> C++17 filesystem: <a href=\"http://en.cppreference.com/w/cpp/filesystem\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/filesystem</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7562301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ABjqDxL82fU/AAAAAAAAAAI/AAAAAAAAACY/jdiMAM3X59g/photo.jpg?sz=128", "display_name": "Zia-ur-Rehman Rehmani", "link": "https://stackoverflow.com/users/7562301/zia-ur-rehman-rehmani"}, "edited": false, "score": 0, "creation_date": 1494443020, "post_id": 43900609, "comment_id": 74835410, "body": "Thanks helped alot also find somthing semillar <a href=\"http://en.cppreference.com/w/cpp/experimental/fs\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/experimental/fs</a>"}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "reply_to_user": {"reputation": 11, "user_id": 7562301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ABjqDxL82fU/AAAAAAAAAAI/AAAAAAAAACY/jdiMAM3X59g/photo.jpg?sz=128", "display_name": "Zia-ur-Rehman Rehmani", "link": "https://stackoverflow.com/users/7562301/zia-ur-rehman-rehmani"}, "edited": false, "score": 0, "creation_date": 1494443474, "post_id": 43900609, "comment_id": 74835663, "body": "@Zia-ur-RehmanRehmani you may try to use <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/filesystem/doc/index.htm\" rel=\"nofollow noreferrer\">boost::filesystem</a>"}], "tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1494443651, "last_edit_date": 1494443651, "creation_date": 1494442411, "answer_id": 43900609, "question_id": 43900462, "link": "https://stackoverflow.com/questions/43900462/file-systems-in-c/43900609#43900609", "title": "file systems in C++", "body": "<p>Check <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364232(v=vs.85).aspx\" rel=\"nofollow noreferrer\">file management functions</a> section on msdn.</p>\n\n<p>For example, to copy a file with WinAPI you can use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa363851(v=vs.85).aspx\" rel=\"nofollow noreferrer\">CopyFile</a>:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    BOOL ret = CopyFile(TEXT(\"test.txt\"), TEXT(\"test-copy.txt\"), TRUE);\n    if (ret)\n        std::cout &lt;&lt; \"CopyFile failed. GetLastError:\" &lt;&lt; GetLastError() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>If your compiler supports you may as well use <a href=\"http://en.cppreference.com/w/cpp/experimental/fs\" rel=\"nofollow noreferrer\">std::filesystem</a> which is portable (e.g. that code should work equally well on windows and linux):</p>\n\n<pre><code>#include &lt;filesystem&gt;\n\nint main()\n{\n    std::filesystem::copy(\"test.txt\", \"test-copy.txt\");\n}\n</code></pre>\n\n<p>There is also <a href=\"http://www.boost.org/libs/filesystem\" rel=\"nofollow noreferrer\">boost::filesystem</a> that heavily influenced std::filesystem.</p>\n"}], "owner": {"reputation": 11, "user_id": 7562301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ABjqDxL82fU/AAAAAAAAAAI/AAAAAAAAACY/jdiMAM3X59g/photo.jpg?sz=128", "display_name": "Zia-ur-Rehman Rehmani", "link": "https://stackoverflow.com/users/7562301/zia-ur-rehman-rehmani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 0, "accepted_answer_id": 43900609, "answer_count": 1, "score": -2, "last_activity_date": 1583021108, "creation_date": 1494441894, "last_edit_date": 1583021108, "question_id": 43900462, "link": "https://stackoverflow.com/questions/43900462/file-systems-in-c", "title": "file systems in C++", "body": "<p>I'm working on a project in which I have to do some file handling.</p>\n\n<p>If only someone could tell how to work with file system like\nmoving, copying, deleting, renaming and checking for the existence of files in Windows.</p>\n"}, {"tags": ["c++", "reference", "constants", "abstract-class"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 2, "creation_date": 1494441569, "post_id": 43900304, "comment_id": 74834511, "body": "References and pointers both provide indirection; indirection is required for runtime polymorphism. Therefore, either can be used with a pure virtual class."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1494462539, "post_id": 43900304, "comment_id": 74843058, "body": "Just make sure the <code>Carb</code> doesn&#39;t end its lifetime before the <code>Breakfast</code>."}], "owner": {"reputation": 720, "user_id": 7163293, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6db1c0115965f6a6f13465cad0615d4?s=128&d=identicon&r=PG&f=1", "display_name": "SunnyIsaLearner", "link": "https://stackoverflow.com/users/7163293/sunnyisalearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1494461815, "creation_date": 1494441368, "last_edit_date": 1495541406, "question_id": 43900304, "link": "https://stackoverflow.com/questions/43900304/c-abstract-class-instance-in-a-field-of-another-class", "title": "C++ abstract class instance in a field of another class", "body": "<p>I have the following code:</p>\n\n<pre><code>class Carb {\npublic:\n    virtual void calorie() = 0; // pure virtual\n}\n\nclass Omelette : Carb {\npublic:\n    void calorie() {/*do something*/}; // non-virtual\n}\n\nclass Breakfast {\npublic:\n    Breakfast(const Carb &amp;somecarb):\n    my_carb(somecarb){}\n\nprivate:\n    const Carb &amp;my_carb;\n}\n\n\n}\n</code></pre>\n\n<p>I understand that Carb is a virtual class therefore cannot be an instance, but we can use a pointer from the following stackoverflow questions.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4296276/c-cannot-declare-field-to-be-of-abstract-type\">C++ : Cannot declare field to be of abstract type</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1629925/c-error-cannot-declare-field-to-be-of-abstract-type\">C++ error: cannot declare field to be of abstract type</a></p>\n\n<p>However, it also seems to work by declaring a const reference like my code above. My question is, is it valid to have a class field to be a constant reference to a abstract class? Why does it work this way?</p>\n"}, {"tags": ["c++", "vulkan"], "comments": [{"owner": {"reputation": 2093, "user_id": 2437521, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RuvcM.jpg?s=128&g=1", "display_name": "C. Tewalt", "link": "https://stackoverflow.com/users/2437521/c-tewalt"}, "edited": false, "score": 0, "creation_date": 1494441531, "post_id": 43899933, "comment_id": 74834490, "body": "Thanks for the question. You might try adding a little more detail of what you tried in the code to get a more helpful answer. Good luck!"}, {"owner": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "reply_to_user": {"reputation": 2093, "user_id": 2437521, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RuvcM.jpg?s=128&g=1", "display_name": "C. Tewalt", "link": "https://stackoverflow.com/users/2437521/c-tewalt"}, "edited": false, "score": 0, "creation_date": 1494445386, "post_id": 43899933, "comment_id": 74836767, "body": "what details do you need? I added the call to get the function pointer"}, {"owner": {"reputation": 2093, "user_id": 2437521, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RuvcM.jpg?s=128&g=1", "display_name": "C. Tewalt", "link": "https://stackoverflow.com/users/2437521/c-tewalt"}, "edited": false, "score": 0, "creation_date": 1494974129, "post_id": 43899933, "comment_id": 75053520, "body": "I think your edit was good. Just trying to provide some helpful feedback on your first SO question post. I admit I&#39;m not a subject matter expert on Vulkan. In general, if you ask the question in such a way that someone reading it could say, &quot;I have that problem too! And hey I also tried what this guy tried!&quot; Then you&#39;re doing well :) I will +1 the question because you show clear research effort by adding the call to get the function pointer. Happy Stack Overflowing!"}, {"owner": {"reputation": 2093, "user_id": 2437521, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RuvcM.jpg?s=128&g=1", "display_name": "C. Tewalt", "link": "https://stackoverflow.com/users/2437521/c-tewalt"}, "edited": false, "score": 0, "creation_date": 1494974425, "post_id": 43899933, "comment_id": 75053631, "body": "Also, you may consider upvoting Sascha&#39;s answer since you marked it as the correct answer to your question. It&#39;s not required. Most important is that you marked it accepted."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "edited": false, "score": 0, "creation_date": 1494446567, "post_id": 43901600, "comment_id": 74837394, "body": "as I said the extension is loaded and the cube demo works as well so the drivers should be okay. Okay I just tried it without loading the function manually and it worked. Thanks."}, {"owner": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "edited": false, "score": 0, "creation_date": 1494446947, "post_id": 43901600, "comment_id": 74837568, "body": "how do I know which function I have to load? Because for example the debug report callback functions I had to load even without the VK_NO_PROTOTYPES define"}, {"owner": {"reputation": 8395, "user_id": 3007154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7293bd97c47febd218463c27b394c6?s=128&d=identicon&r=PG&f=1", "display_name": "krOoze", "link": "https://stackoverflow.com/users/3007154/krooze"}, "reply_to_user": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "edited": false, "score": 0, "creation_date": 1494467155, "post_id": 43901600, "comment_id": 74844091, "body": "@ErikSimon (For official loader) you need to load any commands that are not core nor WSI."}, {"owner": {"reputation": 113, "user_id": 5684113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEkGy.jpg?s=128&g=1", "display_name": "Lutopia", "link": "https://stackoverflow.com/users/5684113/lutopia"}, "edited": false, "score": 0, "creation_date": 1525206475, "post_id": 43901600, "comment_id": 87264802, "body": "I was mistakenly loading vkCreateWin32SurfaceKHR with vkGetInstanceProcAddr and that was causing the call the fail silently, now that I call vkCreateWin32SurfaceKHR directly everything works correctly. Therefore not only don&#39;t you have to get the function pointer dynamically, you really shouldn&#39;t."}], "tags": [], "owner": {"reputation": 3724, "user_id": 6077683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/69WTF.jpg?s=128&g=1", "display_name": "Sascha Willems", "link": "https://stackoverflow.com/users/6077683/sascha-willems"}, "is_accepted": true, "score": 3, "last_activity_date": 1494521121, "last_edit_date": 1494521121, "creation_date": 1494445940, "answer_id": 43901600, "question_id": 43899933, "link": "https://stackoverflow.com/questions/43899933/vulkan-vkcreatewin32surfacekhr-fails-to-load/43901600#43901600", "title": "Vulkan vkCreateWin32SurfaceKHR fails to load", "body": "<p>Did you enable the appropriate extension using e.g. the const <code>VK_KHR_WIN32_SURFACE_EXTENSION_NAME</code> at instance creation time?</p>\n\n<p>Also note that you don't need to manually get the function pointer for <code>vkCreateWin32SurfaceKHR</code> unless you define <code>VK_NO_PROTOTYPES</code> as it's part of the core.</p>\n\n<p>If you have enabled the extension and still don't get a valid function pointer, check if your drivers are properly installed, esp. that there is no old ICD registered that may cause problems. The LunarG Vulkan SDK contains a tool called \"via\" (in the bin folder) to check your Vulkan installation.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "edited": false, "score": 0, "creation_date": 1496160908, "post_id": 44101517, "comment_id": 75542492, "body": "is there any downside using the C++ API?"}], "tags": [], "owner": {"reputation": 976, "user_id": 1039086, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bf1f88b95794ff325946fded236e081d?s=128&d=identicon&r=PG", "display_name": "berwyn", "link": "https://stackoverflow.com/users/1039086/berwyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1495398815, "creation_date": 1495398815, "answer_id": 44101517, "question_id": 43899933, "link": "https://stackoverflow.com/questions/43899933/vulkan-vkcreatewin32surfacekhr-fails-to-load/44101517#44101517", "title": "Vulkan vkCreateWin32SurfaceKHR fails to load", "body": "<p>In case you're okay using the C++ API instead of the C one, an easier way to do this is via the <code>vulkan.hpp</code> file that ships in the SDK.</p>\n\n<p>You can <code>#define VK_USE_PLATFORM_WIN32_KHR</code> and <code>vk::Instance</code> will have a <code>vk::Result createWin32SurfaceKHR(vk::Win32SurfaceCreateInfoKHR*, vk::AllocationCallbacks*, vk::SurfaceKHR*)</code> member function. This helps alleviate the need for grabbing function pointers yourself.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10162611"}, "is_accepted": false, "score": 0, "last_activity_date": 1540597994, "last_edit_date": 1540597994, "creation_date": 1540596742, "answer_id": 53017440, "question_id": 43899933, "link": "https://stackoverflow.com/questions/43899933/vulkan-vkcreatewin32surfacekhr-fails-to-load/53017440#53017440", "title": "Vulkan vkCreateWin32SurfaceKHR fails to load", "body": "<p>Did you <code>#include</code> the <code>vulkan_win32.h</code> header in your source file?</p>\n\n<p><code>PFN_vkCreateWin32SurfaceKHR</code> comes from an extension and so it is not defined in the core vulkan headers.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 809504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5783b4010c3d471e11642ae202851b9?s=128&d=identicon&r=PG", "display_name": "Joseph Armbruster", "link": "https://stackoverflow.com/users/809504/joseph-armbruster"}, "is_accepted": false, "score": 0, "last_activity_date": 1543541239, "creation_date": 1543541239, "answer_id": 53549953, "question_id": 43899933, "link": "https://stackoverflow.com/questions/43899933/vulkan-vkcreatewin32surfacekhr-fails-to-load/53549953#53549953", "title": "Vulkan vkCreateWin32SurfaceKHR fails to load", "body": "<p>On this... if you receive an error with the call to vkCreateWin32SurfaceKHR, make sure you defined the sType on the VkWin32SurfaceCreateInfoKHR structure... Even though it's an VkWin32SurfaceCreateInfoKHR struct, forgetting stype is enough to make it fail.</p>\n"}], "owner": {"reputation": 63, "user_id": 7993447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c91e8e8a30b4c9129dfdc730bf0713e?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Simon", "link": "https://stackoverflow.com/users/7993447/erik-simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "accepted_answer_id": 43901600, "answer_count": 4, "score": 3, "last_activity_date": 1543541239, "creation_date": 1494440165, "last_edit_date": 1494445336, "question_id": 43899933, "link": "https://stackoverflow.com/questions/43899933/vulkan-vkcreatewin32surfacekhr-fails-to-load", "title": "Vulkan vkCreateWin32SurfaceKHR fails to load", "body": "<p>Hey I'm trying to create a Windows Surface with Vulkan\nbut the somehow <code>vkGetInstanceProcAddr</code> fails to load the <code>vkCreateWin32SurfaceKHR</code> function even though the extension is loaded properly.</p>\n\n<p>Edit:\nhere I try to get the function pointer:\n<code>vkCreateWin32SurfaceKHR    =\n(PFN_vkCreateWin32SurfaceKHR)vkGetInstanceProcAddr(vulkanInstance.instance, \n\"vkCreateWin32SurfaceKHR\");</code></p>\n"}, {"tags": ["c++", "opengl", "wxwidgets"], "comments": [{"owner": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "edited": false, "score": 0, "creation_date": 1494440455, "post_id": 43899904, "comment_id": 74833876, "body": "What&#39;s the problem exactly? Did you try calling <code>wxGLCanvas::SwapBuffers()</code> from outside? Just remember to make the context current before calling the <code>gl*</code> commands."}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 3, "creation_date": 1494443578, "post_id": 43899904, "comment_id": 74835725, "body": "<i>&quot;But if I call SwapBuffers() in that functions so the result can&#39;t be displayed.&quot;</i>  Please explain this sentence."}], "owner": {"reputation": 289, "user_id": 4640107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9de16c66a9eea778d4386419798e795?s=128&d=identicon&r=PG&f=1", "display_name": "Alan42", "link": "https://stackoverflow.com/users/4640107/alan42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494440028, "creation_date": 1494440028, "question_id": 43899904, "link": "https://stackoverflow.com/questions/43899904/how-to-use-swapbuffers-outside-class-wxglcanvas", "title": "How to use SwapBuffers() outside class &quot;wxGLCanvas&quot;?", "body": "<p>I'm using OpenGL to draw graphics in wxWidgets.</p>\n\n<pre><code>class BasicGLPane : public wxGLCanvas \n...\n  void BasicGLPane::render( wxPaintEvent&amp; evt ){\n  glColor4f(1, 1, 1, 1);\n  glBegin(GL_QUADS);\n  glVertex3f(0,0,0);\n  glVertex3f(getWidth(),0,0);\n  glVertex3f(getWidth(),getHeight(),0);\n  glVertex3f(0,getHeight(),0);\n  glEnd();\n  SwapBuffers();\n}\n</code></pre>\n\n<p>In this render function, I can use SwapBuffers() to display my last OpenGL command. But if I call SwapBuffers() in that functions so the result can't be displayed.</p>\n\n<p>How to use SwapBuffers() outside the class wxGLCanvas? Or is there any way to display the result of OpenGL commands without SwapBuffers()?</p>\n"}, {"tags": ["c++", "multidimensional-array"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 5, "creation_date": 1494439760, "post_id": 43899792, "comment_id": 74833480, "body": "These arrays are way too big to be allocated locally (on stack)."}], "answers": [{"comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1494445745, "post_id": 43900024, "comment_id": 74836971, "body": "Hey. That&#39;s the name of the website."}, {"owner": {"reputation": 11, "user_id": 3796373, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c388514ced127693d5e3cfba61b97da1?s=128&d=identicon&r=PG&f=1", "display_name": "Haniz", "link": "https://stackoverflow.com/users/3796373/haniz"}, "edited": false, "score": 0, "creation_date": 1495522473, "post_id": 43900024, "comment_id": 75274075, "body": "This is my snippet: <a href=\"https://pastebin.com/E0biLAKL\" rel=\"nofollow noreferrer\">pastebin.com/E0biLAKL</a>, however, It&#39;s not work!"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1495552966, "post_id": 43900024, "comment_id": 75296293, "body": "You are using <code>int n,p,i,j,c,a[100000][100000];</code> <code>a</code> is still large array,"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 1, "last_activity_date": 1494440460, "last_edit_date": 1495540977, "creation_date": 1494440460, "answer_id": 43900024, "question_id": 43899792, "link": "https://stackoverflow.com/questions/43899792/use-2d-arrray-segmentation-fault-c/43900024#43900024", "title": "Use 2D-arrray. Segmentation fault - C++", "body": "<p>Use of such large arrays in the stack causes stack overflow. See <a href=\"https://stackoverflow.com/questions/571945/getting-a-stack-overflow-exception-when-declaring-a-large-array\">Getting a stack overflow exception when declaring a large array</a>.</p>\n\n<p>Use <code>std::vector</code> instead.</p>\n\n<pre><code>std::vector&lt;int&gt; k{100000};\nstd::vector&lt;int&gt; i{100000};\nstd::vector&lt;int&gt; j{100000};\nstd::vector&lt;std::vector&lt;int&gt;&gt; a{100000, std::vector&lt;int&gt;{300000}};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 6764663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GlGjM.jpg?s=128&g=1", "display_name": "Tanuj Yadav", "link": "https://stackoverflow.com/users/6764663/tanuj-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1494440980, "creation_date": 1494440980, "answer_id": 43900175, "question_id": 43899792, "link": "https://stackoverflow.com/questions/43899792/use-2d-arrray-segmentation-fault-c/43900175#43900175", "title": "Use 2D-arrray. Segmentation fault - C++", "body": "<p>You are trying to create an array of <strong>30000000000 integers</strong>.<br>\nConsidering 64-bit system, size of <strong>int = 4 bytes</strong>, therefore total required size is around <strong>120 GB</strong>, which is not available on the system stack. </p>\n\n<p>This is the reason for stack overflow error.</p>\n\n<p><strong>Solution</strong>, use vectors instead of arrays in this situation. </p>\n"}], "owner": {"reputation": 11, "user_id": 3796373, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c388514ced127693d5e3cfba61b97da1?s=128&d=identicon&r=PG&f=1", "display_name": "Haniz", "link": "https://stackoverflow.com/users/3796373/haniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 43900024, "answer_count": 2, "score": 0, "last_activity_date": 1494440980, "creation_date": 1494439650, "last_edit_date": 1494439763, "question_id": 43899792, "link": "https://stackoverflow.com/questions/43899792/use-2d-arrray-segmentation-fault-c", "title": "Use 2D-arrray. Segmentation fault - C++", "body": "<p>I'm doing some exercise online, so I have some problems. \nI don't know where is problem in my code. It's return <code>Segmentation fault</code> when I run code! \nMy code below:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nint main() {\n    int n, q, buff;\n    int k[100000], i[100000], j[100000], a[100000][300000];\n    int c;\n\n\n\n   cin &gt;&gt; n &gt;&gt; q;\n\n\n    for(buff=0; buff&lt;n; buff++) {\n        cin &gt;&gt; k[buff];\n        //array\n        for(c = 0;c &lt; k[buff]; c++) {\n           cin &gt;&gt; a[buff][c];  // &lt;-- I think problem is here!\n       }\n    }\n\n\n    for(buff = 0; buff &lt; q; buff++) {\n        cin &gt;&gt; i[buff];\n    }\n\n\n    for(buff = 0; buff &lt; q; buff++) {\n        cin &gt;&gt; j[buff];\n    }   \n\n\n    return 0;\n}\n</code></pre>\n\n<p>Please help me! Sorry for my english.</p>\n"}, {"tags": ["c++", "qt", "bit", "qbytearray"], "comments": [{"owner": {"reputation": 2039, "user_id": 2266412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TvyMj.jpg?s=128&g=1", "display_name": "Max Go", "link": "https://stackoverflow.com/users/2266412/max-go"}, "edited": false, "score": 0, "creation_date": 1494440637, "post_id": 43899661, "comment_id": 74833978, "body": "Please add your current code into the question. I&#39;m wondering why you are not using bitwise operator to know the value of the bit. <a href=\"http://stackoverflow.com/a/523737/2266412\">stackoverflow.com/a/523737/2266412</a>"}, {"owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "reply_to_user": {"reputation": 2039, "user_id": 2266412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TvyMj.jpg?s=128&g=1", "display_name": "Max Go", "link": "https://stackoverflow.com/users/2266412/max-go"}, "edited": false, "score": 0, "creation_date": 1494441004, "post_id": 43899661, "comment_id": 74834163, "body": "Because that accepts an <code>int</code> where I&#39;m looking for raw <code>QByteArray</code> bit checking. I would first have to find the specific byte where the bit is located, convert to an int, and then use that method. Where the byte position and bit position would require logic to figure out. Performance is a concern so I&#39;m wanting something more direct and quicker.  I explained my current code and I&#39;m not looking to use any of it at all. It&#39;s messy so I don&#39;t think posting it would be of any benefit at all."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1494441247, "post_id": 43899661, "comment_id": 74834308, "body": "The &quot;logic&quot; you&#39;re talking about is trivial on modern CPUs. You really should head out to <a href=\"https://godbolt.org\" rel=\"nofollow noreferrer\">godbolt.org</a> and see for yourself."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 0, "creation_date": 1494441319, "post_id": 43899661, "comment_id": 74834357, "body": "<code>unsigned long long bit=reinterpret_cast&lt;unsigned long long*&gt;array.constData() &amp; (1&lt;&lt;bitToCheck);</code> where <code>bitToCheck</code> is 0-based"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 0, "creation_date": 1494442274, "post_id": 43899661, "comment_id": 74834940, "body": "@PaulBentley That will work if all three of the assumptions you&#39;ve made are correct: the order of bytes, the order of bits, and the size of <code>unsigned long long</code>. Your chance of being correct is roughly 1 in 4."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "edited": false, "score": 0, "creation_date": 1494448561, "post_id": 43899661, "comment_id": 74838377, "body": "Well, an unsigned long long is guaranteed to be at least 64 bits.  The order of bytes can be controlled by how mrg95 puts them into the array.  The only outstanding issue would be order of bits within the byte, however I&#39;ve programmed a lot of systems and typically this follows bit 0 = 1, bit 1 = 2 etc.  You have a different experience?"}], "answers": [{"comments": [{"owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494441639, "post_id": 43900248, "comment_id": 74834556, "body": "I&#39;m confused as to what LL, LB, etc stand for? Can you clarify?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442005, "post_id": 43900248, "comment_id": 74834773, "body": "They stand for the order of bits in the byte array. There are four possible orderings. They are graphically illustrated. What&#39;s unclear?"}, {"owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442167, "post_id": 43900248, "comment_id": 74834876, "body": "Well, for starters, what L and B stand for. I assume Little and Big, but I got confused when I noticed that the first 8 bits in LL and LB are not the same."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442364, "post_id": 43900248, "comment_id": 74835005, "body": "@mrg95 They are not the same because the second letter is not the same :) It doesn&#39;t matter what stands for what, treat those as arbitrary identifiers. You still must know which of the four bit orders are used when encoding the byte array, and you have to choose the correct one to extract the data. You can name those four mappings in whatever way works best for you. Instead off <code>LL,LB,BL,BB</code> you could have <code>Mapping1,Mapping2,Mapping3,Mapping4</code>."}, {"owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442536, "post_id": 43900248, "comment_id": 74835109, "body": "Okay let&#39;s say that I want to use only LB, is there a streamlined way of doing this? This seems overcomplicated."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442702, "post_id": 43900248, "comment_id": 74835215, "body": "This needs to make sense to the human reader. The compiler is very good at figuring out how to simplify it :)"}, {"owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "edited": false, "score": 0, "creation_date": 1494442818, "post_id": 43900248, "comment_id": 74835292, "body": "Lol yet I&#39;m having a hard time making sense of it. I believe you, but just humor me. I&#39;m wanting to use only LB, so is there a simple one liner I could implement to do just LB? (And yes I actually do want to only do LB. I&#39;m reading from a data file and that is how the bits are ordered)"}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1494444046, "last_edit_date": 1494444046, "creation_date": 1494441183, "answer_id": 43900248, "question_id": 43899661, "link": "https://stackoverflow.com/questions/43899661/check-specific-bit-of-qbytearray/43900248#43900248", "title": "Check specific bit of QByteArray", "body": "<p><code>QBitArray</code> wasn't designed to be convertible to anything else; its internal representation is indeed internal.</p>\n\n<p>Alas, bit checking is rather easy. Modern architectures use barrel shifters, so shifting is cheap.</p>\n\n<p>There are several possible bit-to-byte mappings. Let's cover all of them:</p>\n\n<pre><code>        byte 0     byte 1       byte n-1   byte n\nLL - [01234567] [89ABCDEF] ...\nLB - [76543210] [FEDCBA98] ...\nBL -                       ... [89ABCDEF] [01234567]\nBB -                       ... [FEDCBA98] [76543210]\n</code></pre>\n\n<p>Thus:</p>\n\n<pre><code>enum class BitMapping { LL, LB, BL, BB };\n\nbool getBit1(const QByteArray &amp; arr, int bit, BitMapping m) {\n  Q_ASSERT(arr.size() &gt;= 8);\n  auto byte = (m == BitMapping::LL || m == BitMapping::LB) ? \n              bit/8 : (7 - bit/8);\n  bit = (m == BitMapping::LB || m == BitMapping::BB) ?\n        (bit%8) : (7 - (bit%8));\n  return arr.at(byte) &amp; (1&lt;&lt;bit);\n}\n</code></pre>\n\n<p>If we assume that the platform has sensible support for 64-bit integers, we can leverage those:</p>\n\n<pre><code>bool getBit2(const QByteArray &amp; arr, int bit, BitMapping m) {\n   Q_ASSERT(arr.size() &gt;= 8);\n   auto value = *reinterpret_cast&lt;const quint64 *&gt;(arr.data());\n   if (m == BitMapping::LL || m == BitMapping::BL)\n      bit = (bit &amp; 0x38) + 7 - (bit &amp; 0x07); // reorder bits\n   if ((Q_BYTE_ORDER == Q_LITTLE_ENDIAN &amp;&amp; (m == BitMapping::BL || m == BitMapping::BB)) ||\n       (Q_BYTE_ORDER == Q_BIG_ENDIAN &amp;&amp; (m == BitMapping::LL || m == BitMapping::LB)))\n      bit = (bit &amp; 0x07) + 0x38 - (bit &amp; 0x38); // reorder bytes\n   return value &amp; (1&lt;&lt;bit);\n}\n</code></pre>\n\n<p>Any decent compiler will inline either implementation above when specialized, e.g.</p>\n\n<pre><code>bool getBit(const QByteArray &amp; arr, int bit) {\n  return getBit2(arr, bit, BitMapping::LB);\n}\n</code></pre>\n\n<p>You can also specialize it by hand for the <code>LB</code> case:</p>\n\n<pre><code>bool getBit1(const QByteArray &amp; arr, int bit) {\n  Q_ASSERT(arr.size() &gt;= 8);\n  auto byte = bit/8;\n  bit = bit%8;\n  return arr.at(byte) &amp; (1&lt;&lt;bit);\n}\n\nbool getBit2(const QByteArray &amp; arr, int bit) {\n   Q_ASSERT(arr.size() &gt;= 8);\n   auto value = *reinterpret_cast&lt;const quint64 *&gt;(arr.data());\n   if (Q_BYTE_ORDER == Q_BIG_ENDIAN)\n      bit = (bit &amp; 0x07) + 0x38 - (bit &amp; 0x38); // reorder bytes\n   return value &amp; (1&lt;&lt;bit);\n}\n</code></pre>\n\n<p>Note that the <code>Q_BYTE_ORDER</code> check is a compile-time constant and incurs no runtime overhead.</p>\n\n<p><code>getBit1</code> and <code>getBit2</code> are portable to all platforms Qt runs on, and <code>getBit2</code> generates a little better code than <code>getBit1</code>. On x86-64, the bit twiddling code from <code>getBit2</code> amounts to 5 instructions:</p>\n\n<pre><code>mov    $0x1,%eax\nshl    %cl,%eax\ncltq   \ntest   %rax,(%rdi)\nsetne  %al\nretq   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6924909, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2Vernr6i6BE/AAAAAAAAAAI/AAAAAAAAFEI/qnc8nV8UL5I/photo.jpg?sz=128", "display_name": "Sachin Nale", "link": "https://stackoverflow.com/users/6924909/sachin-nale"}, "is_accepted": false, "score": 0, "last_activity_date": 1590128814, "creation_date": 1590128814, "answer_id": 61949042, "question_id": 43899661, "link": "https://stackoverflow.com/questions/43899661/check-specific-bit-of-qbytearray/61949042#61949042", "title": "Check specific bit of QByteArray", "body": "<p>I guess all you need to do is traverse through bits.</p>\n\n<p>1) checks for bit you wanted</p>\n\n<pre><code>if(j+(i*CHAR_BIT) == (bit-1)) \n</code></pre>\n\n<p>2) Skips non required bytes if the passed 'bit' doesn't fit in specific byte</p>\n\n<pre><code>(((i+1)*CHAR_BIT) &lt; (bit-1))\n</code></pre>\n\n<p>3) Skips all further bytes if the current bit position is greater than passed bit.</p>\n\n<pre><code>((j+(i*CHAR_BIT)) &gt; (bit-1))\n</code></pre>\n\n<p>Below is the full solution.</p>\n\n<pre><code>quint8 checkBit(QByteArray bytes, int bit) {\n    quint8 result=0;\n    for(int i = 0; i &lt; bytes.count(); ++i) {\n        for (int j = 0; j &lt; CHAR_BIT; ++j) {\n            if(j+(i*CHAR_BIT) == (bit-1)) {\n                result = (bytes.at(i) &amp; (1 &lt;&lt; (7-j))) ? 1 : 0;\n                break;\n            }\n            else if(((i+1)*CHAR_BIT) &lt; (bit-1) || ((j+(i*CHAR_BIT)) &gt; (bit-1))) { // out of range skips\n                break;\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Note: As the position starts from 0,  so when you pass bit ..  say 8 which is actually  8-1 = 7 :  [0,1,2,3,4,5,6,7] </p>\n"}], "owner": {"reputation": 1999, "user_id": 2356609, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e30be80f5e9d2c0a5fb5e985d7107702?s=128&d=identicon&r=PG&f=1", "display_name": "mrg95", "link": "https://stackoverflow.com/users/2356609/mrg95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 0, "accepted_answer_id": 43900248, "answer_count": 2, "score": 2, "last_activity_date": 1590128814, "creation_date": 1494439229, "last_edit_date": 1494440023, "question_id": 43899661, "link": "https://stackoverflow.com/questions/43899661/check-specific-bit-of-qbytearray", "title": "Check specific bit of QByteArray", "body": "<p>I have an 8 byte <code>QByteArray</code> and I need to check a specific bit in that array, but not the same bit every time. It could be any of the 64 bits that make up that 8 byte array. Performance is priority!</p>\n\n<p>My current method first grabs a specific byte from that array, then gets a specific half-byte (or nibble), and then converts to another <code>QByteArray</code> with binary representation using <code>QByteArray::number(x, 2)</code>, and then finally I check the bit. This sucks and I want a better way.</p>\n\n<p>I opted to load it into a <code>QBitArray</code> so I can quickly and easily retrieve a specific bit. I assumed its representation in memory is the same as a <code>QByteArray</code> or <code>quint64</code>, so conversion would be accepted, but conversion is not allowed.</p>\n\n<p>How would I check if a specific bit (0 to 63) in a <code>QByteArray</code> is 1 or 0, quickly?</p>\n"}, {"tags": ["c++", "c++11", "templates", "visual-c++", "boxing"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1494439459, "post_id": 43899655, "comment_id": 74833320, "body": "You probably want something like that <code>template &lt;typename U, std::enable_if_t&lt;std::is_constructible&lt;T, U&gt;::value&gt;* = nullptr&gt;     Vector(const std::vector&lt;U&gt;&amp; values);</code>"}, {"owner": {"reputation": 4400, "user_id": 1531708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ngDh7.png?s=128&g=1", "display_name": "PhilLab", "link": "https://stackoverflow.com/users/1531708/phillab"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 2, "creation_date": 1494440132, "post_id": 43899655, "comment_id": 74833699, "body": "It works perfectly, thanks. Why are the C++ experts here always so humble that they never post their working suggestions as answer but as comment? :-) Do so, if you like"}], "answers": [{"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 1, "last_activity_date": 1494444087, "creation_date": 1494444087, "answer_id": 43901089, "question_id": 43899655, "link": "https://stackoverflow.com/questions/43899655/c-construct-a-vector-of-box-types-from-vector-of-boxed-elements/43901089#43901089", "title": "C++: Construct a vector of Box types from vector of boxed elements", "body": "<p>You may add a template constructor:</p>\n\n<pre><code>template &lt;typename U,\n          std::enable_if_t&lt;std::is_constructible&lt;T, U&gt;::value&gt;* = nullptr&gt; \nVector(const std::vector&lt;U&gt;&amp; values);\n</code></pre>\n"}], "owner": {"reputation": 4400, "user_id": 1531708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ngDh7.png?s=128&g=1", "display_name": "PhilLab", "link": "https://stackoverflow.com/users/1531708/phillab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 43901089, "answer_count": 1, "score": 1, "last_activity_date": 1494444087, "creation_date": 1494439194, "question_id": 43899655, "link": "https://stackoverflow.com/questions/43899655/c-construct-a-vector-of-box-types-from-vector-of-boxed-elements", "title": "C++: Construct a vector of Box types from vector of boxed elements", "body": "<p>The following is a simplified excerpt of my type system:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n\ntemplate&lt;typename T&gt;\nclass Box {\npublic:\n    Box(const T&amp; value) : _value(value) {};\n    T _value;\n};\n\ntemplate &lt;class T&gt;\nclass Vector : protected std::vector&lt;T&gt; {\npublic:\n    Vector() {}\n    Vector(const std::vector&lt;T&gt;&amp; values) { /* ...*/ }\n    using std::vector&lt;T&gt;::push_back;\n};\n\ntypedef Box&lt;int&gt; Int;\ntypedef Box&lt;std::string&gt; String;\n\nint main(int argc, char* argv[]) {\n    Vector&lt;Int&gt; v1;\n    v1.push_back(Int(0));\n\n    std::vector&lt;String&gt; strings2 = { String(\"a\"), String(\"b\") };\n    Vector&lt;String&gt; v2(strings2);\n\n    std::vector&lt;std::string&gt; strings3 = { \"a\", \"b\" };    \n    // The following does not compile, since strings3 elements\n    // are of the sub type\n    Vector&lt;String&gt; v3(strings3);\n}\n</code></pre>\n\n<p><strong>How to define a constructor which allows the last line to compile?</strong></p>\n\n<p>Of course for this small code example there might be better designs for <code>Vector</code> and <code>Box</code> but the types here are over-simplified.</p>\n"}, {"tags": ["c++", "vector", "null", "comparison"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 3, "creation_date": 1494438347, "post_id": 43899419, "comment_id": 74832694, "body": "The compiler tells you that it is an error. If you show the declaration of <code>hasArray</code>, someone might be able to offer a solution."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494438369, "post_id": 43899419, "comment_id": 74832708, "body": "<code>hashArray.count(temp)</code>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1494438759, "post_id": 43899419, "comment_id": 74832934, "body": "@Justin Andr&#233; is writing his own hash map as an exercise. It&#39;s reasonable to assume that <code>hashArray</code> is of that type and not the standard hash map. As such, you can&#39;t assume it has the <code>count</code> method."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 2, "creation_date": 1494438780, "post_id": 43899419, "comment_id": 74832942, "body": "Don&#39;t use <code>NULL</code> in modern C++ - we have <code>nullptr</code> now."}, {"owner": {"reputation": 355, "user_id": 3960991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1641737821/picture?type=large", "display_name": "Andr&#233; Foote", "link": "https://stackoverflow.com/users/3960991/andr%c3%a9-foote"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1494440537, "post_id": 43899419, "comment_id": 74833923, "body": "@RSahu hashArray is a vector&lt;HashEntry&gt; Object"}], "answers": [{"comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1494441432, "post_id": 43900220, "comment_id": 74834425, "body": "I would suggest <code>std::any_of</code> over <code>std::count_if</code> since the condition is <code>&gt; 0</code> -- we can stop early if we find a match."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1494441691, "post_id": 43900220, "comment_id": 74834582, "body": "@cdhowie, Thanks. It&#39;s a better solution."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 0, "last_activity_date": 1494441674, "last_edit_date": 1494441674, "creation_date": 1494441106, "answer_id": 43900220, "question_id": 43899419, "link": "https://stackoverflow.com/questions/43899419/can-i-compare-vector-objects-to-null/43900220#43900220", "title": "Can I compare vector objects to NULL?", "body": "<p>Given,</p>\n\n<blockquote>\n  <p>hashArray is a <code>vector&lt;HashEntry&gt;</code> Object </p>\n</blockquote>\n\n<p><code>hashArray[temp]</code> evaluates to a <code>HashEntry</code>. You cannot compare a <code>HashEntry</code> with <code>NULL</code>.</p>\n\n<p>Use a different strategy to check whether <code>hasArray</code> has any items whose key is equal to <code>temp</code>. I suggest using <a href=\"http://en.cppreference.com/w/cpp/algorithm/count\" rel=\"nofollow noreferrer\"><code>std::count_if</code></a>.</p>\n\n<pre><code>while (i &lt; size &amp;&amp; std::count_if(hashArray.begin(), hashArray.end(),\n                                 [=temp](HashEntry const&amp; e)\n                                 { return (temp == e.getKey());}) &gt; 0 )\n{\n    i++;\n    temp = (hashVal + i*hash_Two(k)) % size;\n}\n</code></pre>\n\n<p>A better solution, as suggested by @cdhowie, is to use <a href=\"http://en.cppreference.com/w/cpp/algorithm/all_any_none_of\" rel=\"nofollow noreferrer\"><code>std::any_of</code></a>.</p>\n\n<pre><code>while (i &lt; size &amp;&amp; std::any_of(hashArray.begin(), hashArray.end(),\n                               [=temp](HashEntry const&amp; e)\n                               { return (temp == e.getKey());}) )\n{\n    i++;\n    temp = (hashVal + i*hash_Two(k)) % size;\n}\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 3960991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1641737821/picture?type=large", "display_name": "Andr&#233; Foote", "link": "https://stackoverflow.com/users/3960991/andr%c3%a9-foote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 43900220, "answer_count": 1, "score": -3, "last_activity_date": 1494441674, "creation_date": 1494438218, "last_edit_date": 1494440710, "question_id": 43899419, "link": "https://stackoverflow.com/questions/43899419/can-i-compare-vector-objects-to-null", "title": "Can I compare vector objects to NULL?", "body": "<p>I come from Python/Java land and I'm trying to tinker with making my own hashmap now in c++.</p>\n\n<p>When I try to check to compare the locations of positions in the hash table to NULL (lines 6 and 11), I get the error:</p>\n\n<pre><code>invalid operands to binary expression ('value_type' (aka 'HashEntry') and 'long')\"\n</code></pre>\n\n<p>I'm hoping someone can steer me in the direction of what I'm doing wrong and how I can fix it.</p>\n\n<pre><code>void CustomHash::insert(HashEntry entry) {\n    int k = entry.getKey();\n    int i = 0;\n    int hashVal = hash_One(k);\n    int temp = hashVal;\n    while (i &lt; size &amp;&amp; hashArray[temp] != NULL) {\n        i++;\n        temp = (hashVal + i*hash_Two(k)) % size;\n    }\n\n    if (hashArray[temp] == NULL) {\n        hashArray[temp] = entry;\n    }\n    else {\n        cout &lt;&lt; \"Failure\" &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>Edit 1: hashArray declaration</p>\n\n<pre><code>CustomHash::CustomHash(int m) {\n    this-&gt;size = m;\n    this-&gt;hashArray = vector&lt;HashEntry&gt;();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1494438184, "post_id": 43899384, "comment_id": 74832596, "body": "Post your code here as text, never post images of code. And explain what your actual problem is. A homework dump is not a valid question. What specific problem did you run into?"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494438321, "post_id": 43899384, "comment_id": 74832677, "body": "Please, edit the question to add a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a> and a question about a specific problem. As you expect quality answer, we expect quality questions."}, {"owner": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "edited": false, "score": 0, "creation_date": 1494438810, "post_id": 43899384, "comment_id": 74832965, "body": "Along with what the others have stated to improve your question, it is unclear what the desired behavior of your code should be. Are you trying to count the number of alphabetic characters in a string? Are you trying to count the number of each character in the string? As far as I can tell your code seems to be doing neither of those, because at minimum it is fundamentally flawed because you are passing a <code>char</code> into the function which in no way could represent a string."}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494439991, "post_id": 43899384, "comment_id": 74833620, "body": "@GuillaumeRacicot  I&#39;m really sorry for posting a question that it seems  &quot; dump&amp; unclear&quot; for you but this was my first question I&#39;ve asked in Stackoverflow,com however, THIS IS THE CODE YOU HAVE ASKED ME TO WRITE &lt;&lt;&lt;&lt;"}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1494440882, "post_id": 43899384, "comment_id": 74834096, "body": "#include &lt;iostream&gt;  using namespace std;  char StringLength (char c) {     char count[256];     int size = 0;      for ( c != 0; ((c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39;) || (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;)) ; c++ )     {     size += count[c];     }     return size; } int main() {     char c;     int size = 0 ,length;     cout &lt;&lt; &quot;Enter your string of characters: &quot;;     cin &gt;&gt; c;     size = StringLength (c);     cout &lt;&lt; &quot;The total number of characters entered is: &quot; &lt;&lt; size &lt;&lt; endl;      return 0; }"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494440900, "post_id": 43899384, "comment_id": 74834109, "body": "@AdamMuman no problem. Just add your code to the question. I&#39;ve been a beginner on stackoverflow once. Knowing how to ask a question properly is as important as being able to answer those questions."}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1494440928, "post_id": 43899384, "comment_id": 74834122, "body": "i can&#39;t  write the letters are limited in the chat."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494440945, "post_id": 43899384, "comment_id": 74834132, "body": "@AdamMuman Please, don&#39;t post code in comments. They are not meant for that, and it&#39;s in fact, unreadable. Edit the question instead."}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494441209, "post_id": 43899384, "comment_id": 74834288, "body": "Do you find the code clear @GuillaumeRacicot I mean the alignment is so mixed up!&gt;"}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1494441320, "post_id": 43899384, "comment_id": 74834359, "body": "Oh, I see, wait a sec,@Carcigenicate"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1494441325, "post_id": 43899384, "comment_id": 74834361, "body": "@AdamMuman No. Comments are really not meant for posting code. You can change the text of the question using the edit button. You can then add your code and format it properly"}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 1, "creation_date": 1494442008, "post_id": 43899384, "comment_id": 74834775, "body": "What do u think about it? @GuillaumeRacicot"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1494442866, "post_id": 43899619, "comment_id": 74835320, "body": "Thanks for the support but I want it to be whenever I enter a letter it gives me the following letter in order e.g cin&gt;&gt; a;   the program should give me &quot;b&quot;."}, {"owner": {"reputation": 74, "user_id": 2763059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/775e08cad1d49500f3e7da51e44d4f45?s=128&d=identicon&r=PG", "display_name": "Pranav", "link": "https://stackoverflow.com/users/2763059/pranav"}, "reply_to_user": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1494491858, "post_id": 43899619, "comment_id": 74854066, "body": "That&#39;s precisely what my algorithm does. Except that I gave you an algorithm and not spoon-fed you your homework. ;-) You&#39;re supposed to find out how to do the little bits yourself."}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 1, "creation_date": 1571122861, "post_id": 43899619, "comment_id": 103124637, "body": "Thanks @Pranav for your kind support I know , sorry for the late response.It&#39;s more than 2 year now, I want to tell in 2017 your answer was correct and helped me to build my passion of programing."}], "tags": [], "owner": {"reputation": 74, "user_id": 2763059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/775e08cad1d49500f3e7da51e44d4f45?s=128&d=identicon&r=PG", "display_name": "Pranav", "link": "https://stackoverflow.com/users/2763059/pranav"}, "is_accepted": false, "score": 0, "last_activity_date": 1494439047, "creation_date": 1494439047, "answer_id": 43899619, "question_id": 43899384, "link": "https://stackoverflow.com/questions/43899384/c-character-counter/43899619#43899619", "title": "C++ character counter", "body": "<ul>\n<li>Take your input</li>\n<li>Check if it is an alphabet</li>\n<li>Check if it is a 'z' or 'Z', if so, make it an 'a', or 'A' (hint: use ascii codes and a little arithmetic)</li>\n<li>Else add a character to it </li>\n<li>Print</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 7610426, "user_type": "registered", "profile_image": "https://graph.facebook.com/385831645113941/picture?type=large", "display_name": "Yousha Arif", "link": "https://stackoverflow.com/users/7610426/yousha-arif"}, "edited": false, "score": 0, "creation_date": 1494439589, "post_id": 43899746, "comment_id": 74833387, "body": "i would recommend the use of ASCI codes as they are simple and will prevent your code to create  a jargon ."}, {"owner": {"reputation": 74, "user_id": 2763059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/775e08cad1d49500f3e7da51e44d4f45?s=128&d=identicon&r=PG", "display_name": "Pranav", "link": "https://stackoverflow.com/users/2763059/pranav"}, "edited": false, "score": 0, "creation_date": 1494492000, "post_id": 43899746, "comment_id": 74854188, "body": "Check for rollover condition, otherwise you&#39;d get &#39;[&#39; after &#39;Z&#39;, and &#39;{&#39; after &#39;z&#39; Again, @Adam Muman needs to figure out where and how to check for this condition, and what to do in that case."}, {"owner": {"reputation": 91, "user_id": 7610426, "user_type": "registered", "profile_image": "https://graph.facebook.com/385831645113941/picture?type=large", "display_name": "Yousha Arif", "link": "https://stackoverflow.com/users/7610426/yousha-arif"}, "reply_to_user": {"reputation": 74, "user_id": 2763059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/775e08cad1d49500f3e7da51e44d4f45?s=128&d=identicon&r=PG", "display_name": "Pranav", "link": "https://stackoverflow.com/users/2763059/pranav"}, "edited": false, "score": 0, "creation_date": 1495049674, "post_id": 43899746, "comment_id": 75093232, "body": "Thanks for mentioning :D"}, {"owner": {"reputation": 16020, "user_id": 9716597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f97c613dca0b157b40551a0d756abeb?s=128&d=identicon&r=PG&f=1", "display_name": "L. F.", "link": "https://stackoverflow.com/users/9716597/l-f"}, "edited": false, "score": 0, "creation_date": 1551007829, "post_id": 43899746, "comment_id": 96474845, "body": "@YoushaArif It is <b>ASCII</b> with two I&#39;s instead of ASCI."}, {"owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "edited": false, "score": 0, "creation_date": 1571123048, "post_id": 43899746, "comment_id": 103124715, "body": "Hello Yousha Arif sorry for not responding. I hope you are doing well . your answer helped me alot back in 2017, many thanks."}], "tags": [], "owner": {"reputation": 91, "user_id": 7610426, "user_type": "registered", "profile_image": "https://graph.facebook.com/385831645113941/picture?type=large", "display_name": "Yousha Arif", "link": "https://stackoverflow.com/users/7610426/yousha-arif"}, "is_accepted": true, "score": 0, "last_activity_date": 1494439505, "creation_date": 1494439505, "answer_id": 43899746, "question_id": 43899384, "link": "https://stackoverflow.com/questions/43899384/c-character-counter/43899746#43899746", "title": "C++ character counter", "body": "<p>using ASCI codes will be helpfull here \nfor e.g</p>\n\n<pre><code>char alphabet ;\ncout  &lt;&lt;\"Enter alphabet\"&lt;&lt;endl;\ncin&gt;&gt;alphabet ;\nint a = (int) alphabet;\na++;\ncout&lt;&lt;\"Next alphabet is :\"&lt;&lt;(char)a&lt;&lt;endl ;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7993260, "user_type": "registered", "profile_image": "https://graph.facebook.com/1365650590178335/picture?type=large", "display_name": "Adam Muman", "link": "https://stackoverflow.com/users/7993260/adam-muman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 0, "accepted_answer_id": 43899746, "answer_count": 2, "score": -3, "last_activity_date": 1494442173, "creation_date": 1494438126, "last_edit_date": 1494442173, "question_id": 43899384, "link": "https://stackoverflow.com/questions/43899384/c-character-counter", "title": "C++ character counter", "body": "<p>I need to design a character counter, whenever I enter single char. it gives me the next one in succession e.g. enter A, it shows B, Z-->A for both lower and Upper letters. only using (for loop)\nWhat went wrong?\nThe characters doesn't show in order I mean whenever I enter a letter it's random response giving me a random number that hasn't any function of the program the body looks acceptable but in turns of internal details something isn't going the way I wanted to be. Here's my code:</p>\n\n<pre><code>char count[256];\nint size = 0;\n\nfor ( c != 0; ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z')) ; c++ )\n{\n    size += count[c];\n}\n\nreturn size;\n\nreturn 0;\n</code></pre>\n"}, {"tags": ["c++", "xml", "qt", "xml-parsing"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1494438405, "post_id": 43899259, "comment_id": 74832733, "body": "Look at <a href=\"http://doc.qt.io/qt-5/qxmlstreamreader.html\" rel=\"nofollow noreferrer\">QXmlStreamReader</a>."}, {"owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1494493703, "post_id": 43899259, "comment_id": 74855422, "body": "Wouldn&#39;t the second <code>&lt;MainTag&gt;</code> be <code>&lt;&#47;MainTag&gt;</code>?"}, {"owner": {"reputation": 496, "user_id": 4552997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eyOCl.png?s=128&g=1", "display_name": "JavaBeast", "link": "https://stackoverflow.com/users/4552997/javabeast"}, "reply_to_user": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1494553112, "post_id": 43899259, "comment_id": 74889073, "body": "@cbuchart you are correct, i have updated it. thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 4552997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eyOCl.png?s=128&g=1", "display_name": "JavaBeast", "link": "https://stackoverflow.com/users/4552997/javabeast"}, "edited": false, "score": 0, "creation_date": 1494553271, "post_id": 43910447, "comment_id": 74889116, "body": "This went above and beyond, thank you so much! I  probably wasnt clear in my question though that my c++ version is before 11, but after fixing that up it worked great.Thanks again!"}], "tags": [], "owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "is_accepted": true, "score": 4, "last_activity_date": 1494493754, "last_edit_date": 1494493754, "creation_date": 1494491805, "answer_id": 43910447, "question_id": 43899259, "link": "https://stackoverflow.com/questions/43899259/parse-xml-in-qt-and-get-tree-tag-structure/43910447#43910447", "title": "Parse XML in qt and get tree tag structure", "body": "<p>When parsing XML files I find more flexible navigating the DOM of the XML than using an stream parser because your code is less aware of the order of the elements and focuses more on the structure and content.</p>\n\n<p>For DOM navigation you can use the <a href=\"http://doc.qt.io/qt-5/qdomdocument.html\" rel=\"nofollow noreferrer\"><code>QDomDocument</code></a> and related classes:</p>\n\n<ul>\n<li><p>first init a document with the content of your XML file using <code>QDomDocument::setContent</code></p></li>\n<li><p>extract the document element (the parent element of your XML)</p></li>\n<li><p>the rest consist on navigating the structure using <a href=\"http://doc.qt.io/qt-5/qdomnode.html#firstChildElement\" rel=\"nofollow noreferrer\"><code>QDomElement::firstChildElement(const QString&amp; tagName)</code></a> and <a href=\"http://doc.qt.io/qt-5/qdomnode.html#nextSiblingElement\" rel=\"nofollow noreferrer\"><code>QDomElement::nextSiblingElement(const QString&amp; tagName)</code></a> (<code>QDomElement</code> inherits from <code>QDomNode</code>); as you don't know the tag name, just keep it empty and it will return all the elements at that level</p></li>\n<li><p>to extract the content of a tag you can use <a href=\"http://doc.qt.io/qt-5/qdomnode.html#nodeValue\" rel=\"nofollow noreferrer\"><code>QDomNode::nodeValue</code></a>, the trick here is to extract the value of the first node that is not an element (see code below)</p></li>\n<li><p>although not mentioned in your question, if you need to access attributes you have <a href=\"http://doc.qt.io/qt-5/qdomelement.html#attribute\" rel=\"nofollow noreferrer\"><code>QDomElement::attribute</code></a></p></li>\n</ul>\n\n<p><strong>Example code for parsing an unknown XML</strong></p>\n\n<p>This code parses the XML and extract tag names as well as its text. It doesn't extract attributes nor empty nodes.</p>\n\n<p><em>Note:</em> I've corrected closing tag from given example <code>&lt;MainTag&gt;</code> to <code>&lt;/MainTag&gt;</code>.</p>\n\n<pre><code>#include &lt;QtXml&gt;\n#include &lt;QtCore&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\n// Recursive function to parse the XML\nvoid parseXML(const QDomElement&amp; root, const QString&amp; baseName, std::vector&lt;QString&gt;&amp; v)\n{\n  // Extract node value, if any\n  if (!baseName.isEmpty() &amp;&amp; !root.firstChild().nodeValue().isEmpty()) { // the first child is the node text\n    v.push_back(baseName + \"=\" + root.firstChild().nodeValue());\n  }\n\n  // Parse children elements\n  for (auto element = root.firstChildElement(); !element.isNull(); element = element.nextSiblingElement()) {\n    parseXML(element, baseName + \".\" + element.tagName(), v);\n  }\n}\n\nint main(int argc, char* argv[])\n{\n  const QString content = \"&lt;MainTag&gt;\"\n                          \"&lt;description&gt;Test Description&lt;/description&gt;\"\n                          \"&lt;type&gt;3&lt;/type&gt;\"\n                          \"&lt;source&gt;\"\n                          \"    &lt;description&gt;Source test Description1&lt;/description&gt;\"\n                          \"    &lt;type&gt;4&lt;/type&gt;\"\n                          \"&lt;/source&gt;\"\n                          \"&lt;source&gt;\"\n                          \"    &lt;description&gt;Source test Description2&lt;/description&gt;\"\n                          \"    &lt;type&gt;5&lt;/type&gt;\"\n                          \"    &lt;name&gt;\"\n                          \"        &lt;element&gt;1&lt;/element&gt;\"\n                          \"    &lt;/name&gt;\"\n                          \"&lt;/source&gt;\"\n                          \"&lt;/MainTag&gt;\";\n  std::vector&lt;QString&gt; v;\n\n  QDomDocument xml(\"xml\");\n  xml.setContent(content);\n  parseXML(xml.documentElement(), \"\", v); // root has no base name, as indicated in expected output\n\n  for (auto it = v.begin(); it != v.end(); ++it) {\n    std::cout &lt;&lt; it-&gt;toStdString() &lt;&lt; std::endl;\n  }\n\n  return 0;\n}\n</code></pre>\n\n<p><strong>DOM from file</strong></p>\n\n<p>To populate the DOM from a file change the <code>setContent</code> line with something like code below (error checking omitted for simplicity):</p>\n\n<pre><code>QFile file(filePath);\nfile.open(QFile::ReadOnly);\nxml.setContent(file.readAll());\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 4552997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eyOCl.png?s=128&g=1", "display_name": "JavaBeast", "link": "https://stackoverflow.com/users/4552997/javabeast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2576, "favorite_count": 0, "accepted_answer_id": 43910447, "answer_count": 1, "score": 1, "last_activity_date": 1556683649, "creation_date": 1494437637, "last_edit_date": 1556683649, "question_id": 43899259, "link": "https://stackoverflow.com/questions/43899259/parse-xml-in-qt-and-get-tree-tag-structure", "title": "Parse XML in qt and get tree tag structure", "body": "<p>I need to parse an XML file in c++(!11)/ QT into a vector holding each value and its xml tag parent structure.</p>\n\n<p>I'm new to QT and I know there are some good options in their library. However, much of what I have found focuses on those who know the tag names ahead of time. For me I need something more generic. The tag names (and values) are irrelevant for my purpose and could be anything, my focus is on the tag structure holding each value. What is the best approach to take for this? QDomDocument?</p>\n\n<p>*Note: The actual xmls will be much more complex in tree structure length.</p>\n\n<p><strong>Example input</strong></p>\n\n<p>Test.xml</p>\n\n<pre><code>&lt;MainTag&gt;\n&lt;description&gt;Test Description&lt;/description&gt;\n&lt;type&gt;3&lt;/type&gt;\n&lt;source&gt;\n    &lt;description&gt;Source test Description1&lt;/description&gt;\n    &lt;type&gt;4&lt;/type&gt;\n&lt;/source&gt;\n&lt;source&gt;\n    &lt;description&gt;Source test Description2&lt;/description&gt;\n    &lt;type&gt;5&lt;/type&gt;\n    &lt;name&gt;\n        &lt;element&gt;1&lt;/element&gt;\n    &lt;/name&gt;\n&lt;/source&gt;\n\n&lt;/MainTag&gt;\n</code></pre>\n\n<p><strong>Example Output</strong> </p>\n\n<p>(string rows contained in c++ vector):</p>\n\n<pre><code>description=Test Description\ntype=3\nsource.description=Source test Description1\nsource.type=4\nsource.description=Source test Description2\nsource.type=5\nsource.name.element=1\n</code></pre>\n"}, {"tags": ["c++", "arrays", "pointers"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 3, "creation_date": 1494437425, "post_id": 43899158, "comment_id": 74832119, "body": "This problem just goes away if you use smart pointers instead of manual memory management.."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1494437451, "post_id": 43899158, "comment_id": 74832133, "body": "<code>std::unique_ptr&lt;treenode&gt;</code> and <code>std::vector&lt;std::unique_ptr&lt;treenode&gt;&gt;</code> to avoid any leaks."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 3, "creation_date": 1494437545, "post_id": 43899158, "comment_id": 74832195, "body": "<code>rightorleft[l]=true</code> is like those annoying people who&#39;ll answer &quot;yes&quot; when you ask &quot;coffee or tea?&quot;. Use <code>enum Direction { left, right };</code> or something like that."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1494439343, "post_id": 43899158, "comment_id": 74833258, "body": "What do you mean by, &quot;delete the content of the pointers&quot;? Are you asking if deleting the dynamic array will call delete on each pointer in it?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7993193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b44524d67dda595ab1a09b1d73c156?s=128&d=identicon&r=PG&f=1", "display_name": "MrSn0w", "link": "https://stackoverflow.com/users/7993193/mrsn0w"}, "edited": false, "score": 0, "creation_date": 1494440246, "post_id": 43899766, "comment_id": 74833752, "body": "Thanks a lot man.I actually want to keep the contents but delete the pointers.So i guess i am ok in this situation?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 11, "user_id": 7993193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b44524d67dda595ab1a09b1d73c156?s=128&d=identicon&r=PG&f=1", "display_name": "MrSn0w", "link": "https://stackoverflow.com/users/7993193/mrsn0w"}, "edited": false, "score": 0, "creation_date": 1494440746, "post_id": 43899766, "comment_id": 74834030, "body": "The terminology &quot;keep the contents&quot; or &quot;delete the contents&quot; is sufficiently confusing that I&#39;m not going to attempt to answer further."}], "tags": [], "owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "is_accepted": false, "score": 1, "last_activity_date": 1494439571, "creation_date": 1494439571, "answer_id": 43899766, "question_id": 43899158, "link": "https://stackoverflow.com/questions/43899158/deleting-an-array-of-pointers/43899766#43899766", "title": "Deleting an array of Pointers", "body": "<p>If you are asking whether <code>delete[] roadnodes;</code> will implicitly <code>delete roadnodes[0]; delete roadnodes[1]; ...</code>, the answer is no. It absolutely will not. You are responsible for deleting them. Using standard containers and smart pointers, as suggested in a couple of comments, is a much better way to go.</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1494439889, "creation_date": 1494439889, "answer_id": 43899860, "question_id": 43899158, "link": "https://stackoverflow.com/questions/43899158/deleting-an-array-of-pointers/43899860#43899860", "title": "Deleting an array of Pointers", "body": "<blockquote>\n  <p>Question is if the deletion of the dynamic array will delete the content of the pointers as well.</p>\n</blockquote>\n\n<p>When you call delete on dynamic array then destructor of each element is called. As you may guess raw pointers do not have destructors or it is a noop so no, that memory would not be released. So you either use smart pointers which destructor would release memory or you need to call delete for each pointer  manually.</p>\n"}], "owner": {"reputation": 11, "user_id": 7993193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b44524d67dda595ab1a09b1d73c156?s=128&d=identicon&r=PG&f=1", "display_name": "MrSn0w", "link": "https://stackoverflow.com/users/7993193/mrsn0w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494439889, "creation_date": 1494437319, "question_id": 43899158, "link": "https://stackoverflow.com/questions/43899158/deleting-an-array-of-pointers", "title": "Deleting an array of Pointers", "body": "<p>I am trying to create an AVL tree and i am using a dynamic array of pointers to track which nodes are affected by the insertion.My Question is if the deletion of the dynamic array will delete the content of the pointers as well.The code is not finished but i think it will give you an idea of what i mean.If it does not work then how should i do it?Thanks in advance.</p>\n\n<pre><code>treenode *newnode,**roadnodes,*parent ;\nint x=(int)log(numberofnodes)+2,l=0 ;\nbool *rightorleft,flag=true ;\nnewnode=new treenode ;\nroadnodes=new treenode*[x] ;\nrightorleft=new bool[x] ;\nnewnode-&gt;id=i ;\nnewnode-&gt;hl=0;\nnewnode-&gt;hr=0;\nnewnode-&gt;hm=0;\nnewnode-&gt;left=NULL;\nnewnode-&gt;right=NULL ;\nif(head==NULL)\n{\n    delete[] roadnodes ;\n    delete[] rightorleft ;\n    numberofnodes++ ;\n    head=newnode ;\n    return true ;\n}\nparent=head ;\nwhile(flag)\n{\n    roadnodes[l]=parent ;\n    if(parent-&gt;id&gt;i)\n    {\n        if(parent-&gt;left)\n            parent=parent-&gt;left ;\n        else\n        {\n            flag=false ;\n            parent-&gt;left=newnode ;\n        }\n        rightorleft[l]=true ;\n        l++ ;\n    }\n    else\n    {\n        if(parent-&gt;right)\n            parent=parent-&gt;right ;\n        else\n        {\n            flag=false ;\n            parent-&gt;right=newnode ;\n        }\n        rightorleft[l]=false ;\n        l++ ;\n    }\n\n}\nreturn true ;\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2013"], "comments": [{"owner": {"reputation": 3466, "user_id": 4558911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7bwkQ.jpg?s=128&g=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/4558911/vincent"}, "edited": false, "score": 0, "creation_date": 1494436871, "post_id": 43898838, "comment_id": 74831797, "body": "Please provide a minimal sample so other people can try to reproduce and help you"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7993123, "user_type": "registered", "profile_image": "https://graph.facebook.com/589640544578034/picture?type=large", "display_name": "Nhi Tr\u1ea7n", "link": "https://stackoverflow.com/users/7993123/nhi-tr%e1%ba%a7n"}, "edited": false, "score": 0, "creation_date": 1494493386, "post_id": 43898886, "comment_id": 74855182, "body": "Yes, I tried to delete the assembly.obj but it didn&#39;t work. So what can I do to fix the error? thank you"}], "tags": [], "owner": {"reputation": 247, "user_id": 7976491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e332cb2aea0faa8ea222642e3e169504?s=128&d=identicon&r=PG&f=1", "display_name": "AppWriter", "link": "https://stackoverflow.com/users/7976491/appwriter"}, "is_accepted": false, "score": 0, "last_activity_date": 1494436412, "creation_date": 1494436412, "answer_id": 43898886, "question_id": 43898838, "link": "https://stackoverflow.com/questions/43898838/module-machine-type-and-target-machine-type-visual-studio-2013/43898886#43898886", "title": "Module machine type and target machine type Visual Studio 2013", "body": "<p>You can't use inline assembly in Visual Studio x64 mode. The assemblyfile.obj is most likely written for x64 anf can't be linked to a x86-compiled c program thereby, causing the second error.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7993123, "user_type": "registered", "profile_image": "https://graph.facebook.com/589640544578034/picture?type=large", "display_name": "Nhi Tr\u1ea7n", "link": "https://stackoverflow.com/users/7993123/nhi-tr%e1%ba%a7n"}, "edited": false, "score": 0, "creation_date": 1494493283, "post_id": 43899143, "comment_id": 74855105, "body": "Oh yes, I edited the second error. Could you show me how to switch them to x64? Thank you."}], "tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1494437271, "creation_date": 1494437271, "answer_id": 43899143, "question_id": 43898838, "link": "https://stackoverflow.com/questions/43898838/module-machine-type-and-target-machine-type-visual-studio-2013/43899143#43899143", "title": "Module machine type and target machine type Visual Studio 2013", "body": "<p>Your solution configuration isn't correct. Looks like you mismatched builds in VS \"Configuration Manager\". Also, it looks like your opencv_ts300.lib is built for x64, so if you don't have x86 built of opencv then you'll have to switch all your projects to x64 as well. </p>\n"}], "owner": {"reputation": 11, "user_id": 7993123, "user_type": "registered", "profile_image": "https://graph.facebook.com/589640544578034/picture?type=large", "display_name": "Nhi Tr\u1ea7n", "link": "https://stackoverflow.com/users/7993123/nhi-tr%e1%ba%a7n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494493071, "creation_date": 1494436250, "last_edit_date": 1494493071, "question_id": 43898838, "link": "https://stackoverflow.com/questions/43898838/module-machine-type-and-target-machine-type-visual-studio-2013", "title": "Module machine type and target machine type Visual Studio 2013", "body": "<p>I am running a project with platform WIN32 but my laptop is 64bit. So if I choose the target machine type x64 it will announce : \nerror LNK1112: module machine type 'X86' conflicts with target machine 'x64' File opencv_ts300.lib\nThen when I change the target machine type X86 it will announce\nerror LNK1112: module machine type 'x64' conflicts with target machine 'X86' File Assemblyinfo.obj.\nSo what should I do? Please help me. Thank you</p>\n"}, {"tags": ["c++", "ruby-on-rails", "boost", "cucumber", "cucumber-cpp"], "owner": {"reputation": 890, "user_id": 4459867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1X0mO.jpg?s=128&g=1", "display_name": "Ganesh kudva", "link": "https://stackoverflow.com/users/4459867/ganesh-kudva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 663, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1494436229, "creation_date": 1494436229, "question_id": 43898833, "link": "https://stackoverflow.com/questions/43898833/cucumber-cpp-all-steps-undefined-in-example", "title": "Cucumber-CPP: All steps undefined in example", "body": "<p>I am following this <a href=\"https://github.com/cucumber/cucumber-cpp\" rel=\"nofollow noreferrer\">Cucumber-CPP</a> github page to setup the framework. I have release version <strong>v0.4</strong>. Unfortunately, none of the step definitions get detected.\n<br><br>When I run <strong>cmake --build build --target features</strong> to check implementation against common cucumber test suite, I get the following result:</p>\n\n<blockquote>\n  <p>[  3%] Performing update step for 'gtest'\n  <br>[  7%] Performing configure step for 'gtest'-- gtest configure command succeeded.  See also /Users/xxxx/Downloads/cucumber-cpp/build/gmock/src/gtest-stamp/gtest-configure-<em>.log\n  <br>[ 11%] Performing build step for 'gtest'-- gtest build command succeeded.  See also /Users/xxxx/Downloads/cucumber-cpp/build/gmock/src/gtest-stamp/gtest-build-</em>.log\n  <br>[ 15%] No install step for 'gtest'\n  <br>[ 19%] Completed 'gtest'\n  <br>[ 30%] Built target gtest\n  <br>[100%] Built target cucumber-cpp\n  UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU</p>\n  \n  <p><br><strong>13 scenarios (13 undefined)</strong>\n  <br><strong>52 steps (52 undefined)</strong>\n  <br><strong>0m0.031s</strong></p>\n</blockquote>\n\n<p><br> My environment:</p>\n\n<blockquote>\n  <p>Ubuntu 15.04 64bit\n  <br>Boost 1.55.0.2\n  <br>Ruby 2.3.3\n  <br>gcc 4.9.2\n  <br>CppSpec latest dev\n  <br>GoogleTest/Mock 1.7.0\n  <br>aruba (0.14.2)\n  <br>cucumber (2.4.0)\n  <br>gherkin (4.0.0)\n  <br>rspec (3.4.0)\n  <br>multi_json (1.12.1)</p>\n</blockquote>\n\n<p><br></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1494435991, "post_id": 43898739, "comment_id": 74831272, "body": "What? Please elaborate on your question. Addition operator is being declared in the following line: <code>CVector operator + (const CVector&amp;);</code>. Why would it need to be declared before the class?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1494436134, "post_id": 43898739, "comment_id": 74831358, "body": "@AlgirdasPreid\u017eius what I mean is... You would say that I overloaded the addition operator, right? If so, why would you say so when the addition operator hasn&#39;t even been declared or defined in CVector before? Isn&#39;t it then just declared for the first time, and therefor not overloaded?"}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1494436222, "post_id": 43898739, "comment_id": 74831412, "body": "+ is already defined for integers, floats, so yours is not the first operator+ declared."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1494436231, "post_id": 43898739, "comment_id": 74831420, "body": "I think you&#39;re confusing overloading with overriding."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1494436287, "post_id": 43898739, "comment_id": 74831462, "body": "You overloading the &quot;global&quot; operator +."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1494436336, "post_id": 43898739, "comment_id": 74831491, "body": "@JakeBlandon You just repeated what you wrote in a question. I asked to <i>elaborate</i> on why are you thinking the way, that you are. Yes, it is overloaded (albeit lacking definition, and you would get missing external symbol error if you tried to use it). Why do you think, that you need to add any additional declarations?"}], "answers": [{"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 2, "last_activity_date": 1494436580, "creation_date": 1494436580, "answer_id": 43898926, "question_id": 43898739, "link": "https://stackoverflow.com/questions/43898739/why-are-you-overloading-an-operator-that-has-not-been-defined-before/43898926#43898926", "title": "Why are you overloading an operator that has not been defined before?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/language/operators\" rel=\"nofollow noreferrer\">cppreference</a> defines operator overloading briefly as </p>\n\n<blockquote>\n  <p>operator overloading: Customizes the C++ operators for operands of user-defined types. Overloaded operators are functions with special function names.</p>\n</blockquote>\n\n<p>So operator <code>+</code> actually is a function with a predefined name <code>operator+</code>, which is already in use for several types. When you now provide a custom implementation of <code>operator+</code> for your  user-defined type <code>CVector</code>, then this is seen as <code>overloading</code>, because you define a different implementation for a given function name for individual parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1494436671, "creation_date": 1494436671, "answer_id": 43898954, "question_id": 43898739, "link": "https://stackoverflow.com/questions/43898739/why-are-you-overloading-an-operator-that-has-not-been-defined-before/43898954#43898954", "title": "Why are you overloading an operator that has not been defined before?", "body": "<blockquote>\n  <p>would you say that the addition operator is overloaded for the type CVector, when the addition operator hasn't even been declared or defined before in this class?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>Let's say you have:</p>\n\n<pre><code>int a = 10;\nint b = 20;\n</code></pre>\n\n<p>If you use <code>a + b</code>, you are using a version of the <code>+</code> operator that is defined for <code>int</code>s.</p>\n\n<p>Now, let's say you have:</p>\n\n<pre><code>std::string as;\nstd::string bs;\n</code></pre>\n\n<p>If you use <code>as + bs</code>, you are using a version of the <code>+</code> operator that is defined for <code>std::strings</code>s.  For this reason, this <code>+</code> operator is <strong>an overload</strong> that works with <code>std::string</code>s.</p>\n\n<p>Coming to your class, let's say you have:</p>\n\n<pre><code>CVector v1 = { ... };\nCVector v2 = { ... };\n</code></pre>\n\n<p>When you define a function that allows you to use <code>v1 + v2</code>, it is <strong>an overload</strong> of the <code>+</code> operator that works with <code>CVector</code>s.</p>\n\n<p>It is not <strong>an overload of the <code>+</code> operator for <code>CVector</code>s</strong>.<br>\nIt is <strong>an overload of the <code>+</code> operator</strong> that works with <code>CVector</code>s.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7982333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494436671, "creation_date": 1494435877, "question_id": 43898739, "link": "https://stackoverflow.com/questions/43898739/why-are-you-overloading-an-operator-that-has-not-been-defined-before", "title": "Why are you overloading an operator that has not been defined before?", "body": "<p>In the example below, the addition operator has been overloaded:</p>\n\n<pre><code>class CVector {\npublic:\nint x,y;\nCVector operator + (const CVector&amp;);\n};\n</code></pre>\n\n<p>BUT would you say that the addition operator is overloaded for the type CVector, when the addition operator hasn't even been declared or defined before in this class?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "class", "oop", "constants", "typename"], "comments": [{"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 3, "creation_date": 1494435973, "post_id": 43898730, "comment_id": 74831258, "body": "is <code>typename</code> even allowed in this case? I thought it was used only to disambiguate the syntax for static data members and member types."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 3, "creation_date": 1494436396, "post_id": 43898730, "comment_id": 74831537, "body": "If any of them causes a compilation error, that&#39;s the one you shouldn&#39;t use."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1494436447, "post_id": 43898730, "comment_id": 74831581, "body": "Simply:<code>template&lt;class T&gt; class Foo {     const T* x = nullptr; };</code>"}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 3, "last_activity_date": 1494437007, "last_edit_date": 1495535486, "creation_date": 1494436632, "answer_id": 43898937, "question_id": 43898730, "link": "https://stackoverflow.com/questions/43898730/should-typename-be-before-or-after-const-in-c/43898937#43898937", "title": "Should typename be before or after const in C++?", "body": "<p><code>typename</code> is not used like this, so both cases are invalid and should produce a compilation error, like this:</p>\n\n<pre><code>main.cpp:4:20: error: expected a qualified name after 'typename'\n    const typename T* x;\n                   ^\n</code></pre>\n\n<p>Here you would need something like <code>T::myType</code> to go on. </p>\n\n<p>Or even this, which is worse:</p>\n\n<pre><code>main.cpp:4:14: error: expected a qualified name after 'typename'\n    typename const T* x;\n             ^\nmain.cpp:4:14: error: expected member name or ';' after declaration specifiers\n</code></pre>\n\n<p>Relevant example in <a href=\"https://stackoverflow.com/questions/17998121/expected-a-qualified-name-after-typename\">expected a qualified name after &#39;typename&#39;</a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>The keyword typename was introduced to specify that the identifier that follows is a type</p>\n</blockquote>\n\n<p>Read more in: <a href=\"https://stackoverflow.com/questions/1600936/officially-what-is-typename-for\">Officially, what is typename for?</a></p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1494436959, "last_edit_date": 1495542873, "creation_date": 1494436654, "answer_id": 43898945, "question_id": 43898730, "link": "https://stackoverflow.com/questions/43898730/should-typename-be-before-or-after-const-in-c/43898945#43898945", "title": "Should typename be before or after const in C++?", "body": "<p><code>typename</code> needs to go with the type your are trying to get.  For example if you have</p>\n\n<pre><code>template &lt;typename T&gt;\nvoid foo(T&amp; t)\n{\n    typename const T::iterator bar = t.begin();\n}\n\nint main()\n{\n    std::vector&lt;int&gt; bar{1,2,3}\n    foo(bar);\n}\n</code></pre>\n\n<p>You will get a compiler error for <code>typename const  T::const_iterator bar = t.begin();</code> along the lines of</p>\n\n<blockquote>\n  <p>expected nested-name-specifier before 'const'</p>\n</blockquote>\n\n<p>Where as</p>\n\n<pre><code>const typename T::iterator bar = t.begin();\n</code></pre>\n\n<p>Works just fine.</p>\n\n<hr>\n\n<p>For a comprehensive explanation on when, where, and why <code>template</code> and <code>typename</code> need to appear see: <a href=\"https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords\">Where and why do I have to put the &quot;template&quot; and &quot;typename&quot; keywords?</a></p>\n"}, {"tags": [], "owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "is_accepted": false, "score": 0, "last_activity_date": 1494436687, "creation_date": 1494436687, "answer_id": 43898965, "question_id": 43898730, "link": "https://stackoverflow.com/questions/43898730/should-typename-be-before-or-after-const-in-c/43898965#43898965", "title": "Should typename be before or after const in C++?", "body": "<p>There's no point in using <code>typename</code> here.</p>\n\n<p>You'll have to use if you want to access an alias type like <code>T::type</code> where you can't have <code>const</code> between <code>typename</code> and <code>T::type</code></p>\n\n<pre><code>const typename T::type * x;  // ok\ntypename T::type const * x;  // ok\ntypename const T::type * x;  // error\n</code></pre>\n"}], "owner": {"reputation": 5754, "user_id": 2867061, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cd59dfa471d99e7c625b5dcb191ec8ae?s=128&d=identicon&r=PG&f=1", "display_name": "user31264", "link": "https://stackoverflow.com/users/2867061/user31264"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2831, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1494437007, "creation_date": 1494435852, "last_edit_date": 1494436689, "question_id": 43898730, "link": "https://stackoverflow.com/questions/43898730/should-typename-be-before-or-after-const-in-c", "title": "Should typename be before or after const in C++?", "body": "<p>Should I write:</p>\n\n<pre><code>template&lt;class T&gt; class Foo {\n    typename const T* x;\n};\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>template&lt;class T&gt; class Foo {\n    const typename T* x;\n};\n</code></pre>\n"}, {"tags": ["c++", "ignite"], "answers": [{"tags": [], "owner": {"reputation": 418, "user_id": 5980388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d1dc54a2cc65111e7b1be94a7565b6?s=128&d=identicon&r=PG&f=1", "display_name": "isapego", "link": "https://stackoverflow.com/users/5980388/isapego"}, "is_accepted": true, "score": 0, "last_activity_date": 1512649632, "last_edit_date": 1512649632, "creation_date": 1494437157, "answer_id": 43899106, "question_id": 43898700, "link": "https://stackoverflow.com/questions/43898700/compile-apache-ignite-c-examples/43899106#43899106", "title": "Compile apache ignite c++ examples", "body": "<p>Examples should be compiled separately. See <code>platforms/cpp/examples/README.txt</code>:</p>\n\n<pre><code>cd platforms/cpp/examples\nlibtoolize &amp;&amp; aclocal &amp;&amp; autoheader &amp;&amp; automake --add-missing &amp;&amp; autoreconf\n./configure\nmake\n</code></pre>\n\n<p>Note, that you have to compile main project prior to building examples (which you've already done, I believe).</p>\n"}], "owner": {"reputation": 107, "user_id": 3158384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461c827e20c35a80bc42d11ed7c3b660?s=128&d=identicon&r=PG&f=1", "display_name": "hlustosa", "link": "https://stackoverflow.com/users/3158384/hlustosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 43899106, "answer_count": 1, "score": -1, "last_activity_date": 1562740846, "creation_date": 1494435730, "last_edit_date": 1562740846, "question_id": 43898700, "link": "https://stackoverflow.com/questions/43898700/compile-apache-ignite-c-examples", "title": "Compile apache ignite c++ examples", "body": "<p>I want to use apache ignite along a c++ application I am developing. So far, I've downloaded ignite from the website, and compiled the ignite c++ as specified in the DEVNOTES.TXT file:</p>\n\n<pre><code>cd platforms/cpp\nlibtoolize &amp;&amp; aclocal &amp;&amp; autoheader &amp;&amp; automake --add-missing &amp;&amp; autoreconf\n./configure\nmake\n</code></pre>\n\n<p>It seems to work, since I got no error messages. However, I couldn't found binaries for the example applications, such as the code in the  putget-example directory, which is close to what I want to do in my own code.</p>\n\n<p>Thus, I'd like to know how can I compile this and other ignite c++ examples. Also, suppose I want to use apache ignite with another application I'm writing, how do I compile it with ignite c++ library?</p>\n"}, {"tags": ["android", "c++", "cocos2d-x", "cocos2d-x-3.0"], "answers": [{"comments": [{"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "edited": false, "score": 0, "creation_date": 1494513268, "post_id": 43899925, "comment_id": 74870082, "body": "Thank you , do you know a link or a sample to connect a Layer and a Directors isPaused?"}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "reply_to_user": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "edited": false, "score": 1, "creation_date": 1494515747, "post_id": 43899925, "comment_id": 74872196, "body": "I don&#39;t know such link but you can easily created your own Layer and can simulate with Pause/Resume buttons."}, {"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "edited": false, "score": 0, "creation_date": 1494516047, "post_id": 43899925, "comment_id": 74872434, "body": "When I added a ColorLayer inside the if condition for the if paused I got the following error. &quot;error: &#39;this&#39; was not captured for this lambda function&quot;.  The error is pointing to the addChild(colorLayer); that I&#39;ve added."}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "reply_to_user": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "edited": false, "score": 1, "creation_date": 1494524258, "post_id": 43899925, "comment_id": 74877520, "body": "<code>by reference [&amp;]</code> you need to use reference in capturelist of lambda function, after that you can able to add child inside lambda function, each time creation of new object(pauseLayer) and deletion is not good solution so I use <code>setVisible</code> method on my my pauseLayer, check updated Answer"}, {"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "edited": false, "score": 1, "creation_date": 1494601259, "post_id": 43899925, "comment_id": 74913988, "body": "Thank you, perfect solution!"}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 3, "last_activity_date": 1494523534, "last_edit_date": 1494523534, "creation_date": 1494440136, "answer_id": 43899925, "question_id": 43898518, "link": "https://stackoverflow.com/questions/43898518/unable-to-implement-pause-functionality-in-cocos2dx/43899925#43899925", "title": "Unable to implement pause functionality in cocos2dx", "body": "<p>You can create <code>Layer</code> or may be <code>ColorLayer</code> with some opacity and add to your current <code>Scene/Layer</code>. Add pause Dialog content like Pause Label, Resume Button on that layer and remove that layer when you resume.</p>\n\n<pre><code>auto pauseButton = MenuItemImage::create(\"pauseNormal.png\",\"pauseSelected.png\",[](Ref*sender){\n\n        if(!Director::getInstance()-&gt;isPaused())\n            Director::getInstance()-&gt;pause();\n        else\n            Director::getInstance()-&gt;resume();\n    });\n\nauto buttons = Menu::create(pauseButton,NULL);\naddChild(buttons);\nbuttons-&gt;setPosition(visibleSize.width / 2.0, visibleSize.height / 2.0);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>auto pauseLayer=LayerColor::create(Color4B::BLACK, visibleSize.width,visibleSize.height);\n\nauto pauseLabel=Label::createWithTTF(\"Paused\", \"fonts/Marker Felt.ttf\", 24);\npauseLabel-&gt;setPosition(origin.x+visibleSize.width/2,origin.y+visibleSize.height-50);\npauseLayer-&gt;addChild(pauseLabel);\n\n// Add your required content to pauseLayer like pauseLabel\npauseLayer-&gt;setVisible(false);\npauseLayer-&gt;setOpacity(220);  // so that gameplay is slightly visible\naddChild(pauseLayer);\n\nauto pauseButton = MenuItemImage::create(\"pauseNormal.png\",\"pauseSelected.png\",[pauseLayer](Ref*sender){\n\n    if(!Director::getInstance()-&gt;isPaused()){\n       Director::getInstance()-&gt;pause();\n       pauseLayer-&gt;setVisible(true);\n    }\n    else {\n        Director::getInstance()-&gt;resume();\n        pauseLayer-&gt;setVisible(false);\n    }\n\n});\n\nauto buttons = Menu::create(pauseButton,NULL);\naddChild(buttons);\nbuttons-&gt;setPosition(visibleSize.width / 2.0, visibleSize.height / 2.0);\n</code></pre>\n"}], "owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 43899925, "answer_count": 1, "score": 0, "last_activity_date": 1494523534, "creation_date": 1494435109, "last_edit_date": 1494494508, "question_id": 43898518, "link": "https://stackoverflow.com/questions/43898518/unable-to-implement-pause-functionality-in-cocos2dx", "title": "Unable to implement pause functionality in cocos2dx", "body": "<p>I have a class that handles and plays the entire game. I tried to implement the pause and restart functionality.However, cannot find the right tutorial.\nI want to implement a functionality to pause the game when the pauseButton is pressed. But I'm not sure where and how. How is a pause and restart or returning one scene back handled in cocos2dx? I would love to hear from you!</p>\n\n<p>Part of my code. How to add a pause in the pauseButton ?</p>\n\n<pre><code>  Scene* GameLayer::createScene(int level)\n    {\n        auto scene = Scene::create();\n        auto layer = GameLayer::create(level);\n        scene-&gt;addChild(layer);\n        return scene;\n    }\n\n    GameLayer* GameLayer::create(int level)\n    {\n        GameLayer *pRet = new GameLayer();\n        pRet-&gt;init(level);\n        pRet-&gt;autorelease();\n\n        return pRet;\n    }\n\n    bool GameLayer::init(int level)\n    {\n        if (!Layer::init())\n            return false;\n\n        auto touchListener = EventListenerTouchOneByOne::create();\n        touchListener-&gt;setSwallowTouches(_swallowsTouches);\n        touchListener-&gt;onTouchBegan = CC_CALLBACK_2(GameLayer::onTouchBegan, this);\n        touchListener-&gt;onTouchMoved = CC_CALLBACK_2(GameLayer::onTouchMoved, this);\n        touchListener-&gt;onTouchEnded = CC_CALLBACK_2(GameLayer::onTouchEnded, this);\n        touchListener-&gt;onTouchCancelled = CC_CALLBACK_2(GameLayer::onTouchCancelled, this);\n        _eventDispatcher-&gt;addEventListenerWithSceneGraphPriority(touchListener, this);\n\n            auto pauseButton = MenuItemImage::create(\"pause1.png\",\"pause2.png\",[](Ref*sender){\n    //Do pause and show the pause menu\n\n            });\n              auto menu = Menu::create(pauseButton, NULL);\n              menu-&gt;setPosition(WINSIZE.width / 2.0, WINSIZE.height - 50);\n              addChild(menu, ZOrder::Level);\n        initBackground(); \n        initBalls(); \n        return true;\n    }\n</code></pre>\n"}, {"tags": ["c++", "eclipse"], "comments": [{"owner": {"reputation": 141, "user_id": 4040296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/efab897160835e60990dcd98b0a0cef8?s=128&d=identicon&r=PG&f=1", "display_name": "dmaelect", "link": "https://stackoverflow.com/users/4040296/dmaelect"}, "edited": false, "score": 0, "creation_date": 1494435592, "post_id": 43898451, "comment_id": 74831050, "body": "You need to include some code, There is not enough information to help. Try some You Tube videos. <a href=\"https://www.youtube.com/watch?v=ny1RbJNgxhc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=ny1RbJNgxhc</a>. I am not endorsing this but it might give you some ideas."}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1494435781, "post_id": 43898451, "comment_id": 74831158, "body": "&quot;C:\\C\\eclipse\\workspace\\Precios\\Debug\\Precios.exe&quot; This path looks odd, is it really supposed to start with &quot;C:\\C\\eclipse&quot;? shouldnt it be just &quot;C:\\eclipse&quot; ?"}], "owner": {"reputation": 1, "user_id": 7993030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c14e7d201bed0392eac1c2e0d799863?s=128&d=identicon&r=PG&f=1", "display_name": "Facundo Conejero", "link": "https://stackoverflow.com/users/7993030/facundo-conejero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494435498, "creation_date": 1494434917, "last_edit_date": 1494435498, "question_id": 43898451, "link": "https://stackoverflow.com/questions/43898451/problems-coding-c-in-eclipse", "title": "Problems coding c++ in eclipse", "body": "<p>I'm having trouble when I try to run my codes in Eclipse. Not a problem of what I write, since the basic code that comes written when I create a \"helloWorld\" project has the same problem.</p>\n\n<p>The programm simply says: \"Launching name.exe\" has encountered a problem. Error starting process. \nThen, when I click on \"See Details\", this is what it says:</p>\n\n<pre><code>Error starting process.\nCannot run program \"C:\\C\\eclipse\\workspace\\Precios\\Debug\\Precios.exe\": Launching failed\nCannot run program \"C:\\C\\eclipse\\workspace\\Precios\\Debug\\Precios.exe\": Launching failed\nCannot run program \"C:\\C\\eclipse\\workspace\\Precios\\Debug\\Precios.exe\": Launching failed\n</code></pre>\n\n<p>I installed the programm in my notebook exactly the same way and ran the same codes and didn't face any trouble.</p>\n\n<p>It would be really helpful if someone could lend a hand, it's really annoying and I need it to continue my homework!</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c++", "openmp"], "answers": [{"tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": false, "score": 2, "last_activity_date": 1494436884, "creation_date": 1494436884, "answer_id": 43899019, "question_id": 43898232, "link": "https://stackoverflow.com/questions/43898232/openmp-parallel-for-efficiency-query/43899019#43899019", "title": "OpenMP parallel-for efficiency query", "body": "<p>Each OMP thread has its own copy of <code>nTotalSum</code>.  At the end of the OMP section these are combined back into the original <code>nTotalSum</code>.  The output you're seeing comes from running loop iterations (0,1) in one thread, and (2,3) in another thread.  If you output <code>nTotalSum</code> at the end of your loop, you should see the expected result of 6.</p>\n\n<p>In you <code>nLocalSum</code> example, move the declaration of <code>nLocalSum</code> to before the <code>#pragma omp</code> line.  The <code>for</code> loop must be on the line immediately following the pragma.</p>\n"}, {"comments": [{"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1494440464, "post_id": 43899659, "comment_id": 74833882, "body": "&quot;the most efficient way to do it would just make total_sum a shared variable in the parallel section and have all threads pump in to it.&quot; that is both wrong (race condition)  and inefficient (contention). your code doesn&#39;t look like C/OpenMP."}, {"owner": {"reputation": 879, "user_id": 5693785, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/mfKhd.jpg?s=128&g=1", "display_name": "ron", "link": "https://stackoverflow.com/users/5693785/ron"}, "reply_to_user": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1494441841, "post_id": 43899659, "comment_id": 74834673, "body": "sorry, bad submission.  i struck it out.  was trying to indicate if there was no complicated data dependency there&#39;s other ways besides reduction clause.  and i often confuse fortran syntax with c, i changed the changed the pragma syntax."}, {"owner": {"reputation": 530, "user_id": 2394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f9b9b9399b329591f7be92da1c5e442?s=128&d=identicon&r=PG", "display_name": "tim18", "link": "https://stackoverflow.com/users/2394541/tim18"}, "edited": false, "score": 0, "creation_date": 1494449811, "post_id": 43899659, "comment_id": 74839029, "body": "With 2 levels of loops, it may be more efficient to use an inner sum with simd reduction and outer with parallel reduction. Details vary among compilers."}], "tags": [], "owner": {"reputation": 879, "user_id": 5693785, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/mfKhd.jpg?s=128&g=1", "display_name": "ron", "link": "https://stackoverflow.com/users/5693785/ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1494442203, "last_edit_date": 1494442203, "creation_date": 1494439217, "answer_id": 43899659, "question_id": 43898232, "link": "https://stackoverflow.com/questions/43898232/openmp-parallel-for-efficiency-query/43899659#43899659", "title": "OpenMP parallel-for efficiency query", "body": "<p>from my parallel programming in openmp book:</p>\n\n<blockquote>\n  <p>reduction clause can be trickier to understand, has both private and shared storage behavior.  The reduction attribute is used on objects that are the target of an arithmetic reduction.  This can be important in many applications...reduction allows it to be implemented by the compiler efficiently... this is such a common operation that openmp has the reduction data scope clause just to handle them...most common example is final summation of temporary local variables at the end of the parallel construct.</p>\n</blockquote>\n\n<p>correction to your second example:</p>\n\n<pre><code>total_sum = 0;  /* do all variable initialization prior to omp pragma */\n\n#pragma omp parallel for \\\n            private(i) \\\n            reduction(+:total_sum)\n\n   for (int i = 0; i &lt; 4; i++)\n   {\n       total_sum += i;  /* you used nLocalSum here */\n   }\n\n#pragma omp end parallel for\n\n/* at this point in the code,\n   all threads will have done your `for` loop where total_sum is local to each thread,\n   openmp will then '+\" together the values in `total_sum` coming from each thread because we used reduction,\n   do not do an explicit nTotalSum += nLocalSum after the omp for loop, it's not needed the reduction clause takes care of this\n*/\n</code></pre>\n\n<p>In your first example, I'm not sure of your use of <code>#pragma omp parallel for num_threads(nMaxThreads) reduction(+:nTotalSum)</code> of what <code>num_threads(nMaxThreads)</code> is doing.  But i suspect the weird output might be caused by print buffering.</p>\n\n<p>In any case, the reduction clause is very useful and very efficient if used properly.  It would be more obvious in a more complicated, real-world example.</p>\n\n<p>Your posted example is so simple that it doesn't show off the usefulness of the reduction clause, <strike>and strictly speaking for your example since all threads are doing a summation the most <em>efficient</em> way to do it would just make <code>total_sum</code> a shared variable in the parallel section and have all threads pump in to it.   At the end the answer would still be correct.  </strike>  <em>would work if using critical directive</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 1006, "user_id": 2369597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yU383.jpg?s=128&g=1", "display_name": "Wad", "link": "https://stackoverflow.com/users/2369597/wad"}, "edited": false, "score": 0, "creation_date": 1494500551, "post_id": 43900830, "comment_id": 74860266, "body": "Thanks.  I confirmed that each thread has its own local copy of <code>nTotalSum</code> by outputting its address before the loop and within in it.  As expected, there were three different addresses; that of the variable before (and after) the loop, and that of the variable in each of the two threads."}], "tags": [], "owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "is_accepted": true, "score": 2, "last_activity_date": 1494443175, "last_edit_date": 1495535488, "creation_date": 1494443175, "answer_id": 43900830, "question_id": 43898232, "link": "https://stackoverflow.com/questions/43898232/openmp-parallel-for-efficiency-query/43900830#43900830", "title": "OpenMP parallel-for efficiency query", "body": "<p>Your output does in fact not indicate a critical section during the loop. Each thread has its own zero-initialized copy, thread 0 working on <code>i = 0,1</code>, thread 1 working on <code>i = 2,3</code>. At the end OpenMP takes care of adding the local copies to the original.</p>\n\n<p>You should not try to implement it yourself unless you have specific evidence that you can do it more efficiently. See for example <a href=\"https://stackoverflow.com/questions/35675466/reductions-in-parallel-in-logarithmic-time/35805567#35805567\">this question / answer</a>.</p>\n\n<p>Your manual version would work if you split the <code>parallel</code> / <code>for</code> into two directives:</p>\n\n<pre><code>int nTotalSum = 0;\n#pragma omp parallel\n{\n  // Declare the local variable it here!\n  // Then it's private implicitly and properly initialized\n  int localSum = 0;\n  #pragma omp for\n  for (int i = 0; i &lt; 4; i++) {\n    localSum += i;\n    cout &lt;&lt; omp_get_thread_num() &lt;&lt; \": nTotalSum is \" &lt;&lt; nTotalSum &lt;&lt; endl;\n  }\n  // Do not forget the atomic, or it would be a race condition!\n  // Alternative would be a critical, but that's less efficient\n  #pragma omp atomic\n  nTotalSum += localSum;\n}\n</code></pre>\n\n<p>I think it's likely that your OpenMP implementation does the reduction just like that.</p>\n"}], "owner": {"reputation": 1006, "user_id": 2369597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yU383.jpg?s=128&g=1", "display_name": "Wad", "link": "https://stackoverflow.com/users/2369597/wad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 43900830, "answer_count": 3, "score": 0, "last_activity_date": 1494443175, "creation_date": 1494434176, "question_id": 43898232, "link": "https://stackoverflow.com/questions/43898232/openmp-parallel-for-efficiency-query", "title": "OpenMP parallel-for efficiency query", "body": "<p>Please consider the following simple code for summing up values in a <code>parallel for</code> loop:</p>\n\n<pre><code>int nMaxThreads = omp_get_max_threads();\nint nTotalSum = 0;\n#pragma omp parallel for num_threads(nMaxThreads) \\\n    reduction(+:nTotalSum)\n    for (int i = 0; i &lt; 4; i++)\n    {\n        nTotalSum += i;\n        cout &lt;&lt; omp_get_thread_num() &lt;&lt; \": nTotalSum is \" &lt;&lt; nTotalSum &lt;&lt; endl;\n    }\n</code></pre>\n\n<p>When I run this on a two-core machine, the output I get is</p>\n\n<pre><code>0: nTotalSum is 0\n0: nTotalSum is 1\n1: nTotalSum is 2\n1: nTotalSum is 5\n</code></pre>\n\n<p>This suggests to me that the critical section, i.e. the update of <code>nTotalSum</code>, is being executed on each loop.  This seems like a waste, when all each thread has to do is calculate a 'local' sum of the values it is adding then update <code>nTotalSum</code> with this 'local sum' after it has done so.</p>\n\n<p>Is my interpretation of the output correct, and if so, how can I make it more efficient? Note I tried the following:</p>\n\n<pre><code>#pragma omp parallel for num_threads(nMaxThreads) \\\n    reduction(+:nTotalSum)\n    int nLocalSum = 0;\n    for (int i = 0; i &lt; 4; i++)\n    {\n        nLocalSum += i;\n    }\n    nTotalSum += nLocalSum;\n</code></pre>\n\n<p>...but the compiler complained stating that it was expecting a <code>for</code> loop following the <code>pragma omp parallel for</code> statement...</p>\n"}, {"tags": ["c++", "multithreading", "concurrency", "condition-variable"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1494434396, "post_id": 43898137, "comment_id": 74830352, "body": "Why &quot;correctly&quot;? Do you expect that by default people would explain how to use something <i>incorrectly</i>?! And what does &quot;safely&quot; mean?"}], "answers": [{"comments": [{"owner": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "edited": false, "score": 0, "creation_date": 1494435589, "post_id": 43898389, "comment_id": 74831045, "body": "Why do you need the lock_guard?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "edited": false, "score": 0, "creation_date": 1494436641, "post_id": 43898389, "comment_id": 74831678, "body": "@dani, to automatically unlock the mutex upon leaving the scope."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 1, "creation_date": 1494436680, "post_id": 43898389, "comment_id": 74831698, "body": "I just wanted to say, never use a lambda with automatic reference capture as a thread function. So. Many. Bugs."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1494436901, "post_id": 43898389, "comment_id": 74831814, "body": "@ZanLynx: What&#39;s the bug?"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 1, "creation_date": 1494436983, "post_id": 43898389, "comment_id": 74831859, "body": "@KerrekSB: I don&#39;t think that you have one here, but I&#39;ve seen so many. For example, adding a use of a variable that isn&#39;t protected by a mutex. Using a reference to a stack variable in a function that exited."}, {"owner": {"reputation": 4681, "user_id": 6651824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LWsU0.jpg?s=128&g=1", "display_name": "LWimsey", "link": "https://stackoverflow.com/users/6651824/lwimsey"}, "edited": false, "score": 0, "creation_date": 1494443011, "post_id": 43898389, "comment_id": 74835409, "body": "@KerrekSB the <code>while</code> loop with <code>done_cv.wait</code> is invalid"}, {"owner": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "edited": false, "score": 0, "creation_date": 1494572782, "post_id": 43898389, "comment_id": 74895268, "body": "@KerrekSB is there a bug in the scope of the <code>lock_guard</code>? According to the last answer here: <a href=\"http://stackoverflow.com/questions/11043049/c11-stdcondition-variable-can-we-pass-our-lock-directly-to-the-notified-thr?rq=1\" title=\"c11 stdcondition variable can we pass our lock directly to the notified thr\">stackoverflow.com/questions/11043049/&hellip;</a> and the documentation: <a href=\"http://en.cppreference.com/w/cpp/thread/condition_variable\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/thread/condition_variable</a> the lock must go out of scope to unlock the mutex before notifying."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "edited": false, "score": 0, "creation_date": 1494581731, "post_id": 43898389, "comment_id": 74900828, "body": "@dani: I think you can notify the CV whenever you like, either while you still hold the lock or after. The notification is just queued up; it can of course only be delivered once the mutex is eventually unlocked."}, {"owner": {"reputation": 3284, "user_id": 1487069, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jsf93.png?s=128&g=1", "display_name": "Carlo Wood", "link": "https://stackoverflow.com/users/1487069/carlo-wood"}, "reply_to_user": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "edited": false, "score": 0, "creation_date": 1617966625, "post_id": 43898389, "comment_id": 118464934, "body": "@dani It might actually be a bug to unlock the mutex before calling notify_one. See for example this answer: <a href=\"https://stackoverflow.com/a/52671238/1487069\">stackoverflow.com/a/52671238/1487069</a>"}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": true, "score": 4, "last_activity_date": 1494446117, "last_edit_date": 1494446117, "creation_date": 1494434730, "answer_id": 43898389, "question_id": 43898137, "link": "https://stackoverflow.com/questions/43898137/how-to-use-a-stdcondition-variable-correctly/43898389#43898389", "title": "How to use a std::condition_variable correctly?", "body": "<p>Typically you'd have some observable shared state on whose change you block:</p>\n\n<pre><code>bool done = false;\nstd::mutex done_mx;\nstd::condition_variable done_cv;\n\n{\n  std::unique_lock&lt;std::mutex&gt; lock(done_mx);\n\n  std::thread worker([&amp;]() {\n    // ...\n    std::lock_guard&lt;std::mutex&gt; lock(done_mx);\n    done = true;\n    done_cv.notify_one();\n  });\n\n  while (true) { done_cv.wait(lock); if (done) break; }\n\n  // ready, do other work\n\n  worker.join();\n}\n</code></pre>\n\n<p>Note that you wait in a loop until the actual condition is met. Note also that access to the actual shared state (<code>done</code>) is serialized via the mutex <code>done_mx</code>, which is locked whenever <code>done</code> is accessed.</p>\n\n<p>There's a helper member function that performs the condition check for you so you don't need the loop:</p>\n\n<pre><code>done_cv.wait(lock, [&amp;]() { return done; });\n</code></pre>\n"}], "owner": {"reputation": 2897, "user_id": 3392714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/302ac6bfbe982dcd53aa123f9bde72eb?s=128&d=identicon&r=PG&f=1", "display_name": "dani", "link": "https://stackoverflow.com/users/3392714/dani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 2, "accepted_answer_id": 43898389, "answer_count": 1, "score": 2, "last_activity_date": 1494446117, "creation_date": 1494433854, "last_edit_date": 1494434893, "question_id": 43898137, "link": "https://stackoverflow.com/questions/43898137/how-to-use-a-stdcondition-variable-correctly", "title": "How to use a std::condition_variable correctly?", "body": "<p>I'm confused about <code>conditions_variables</code> and how to use them (safely). In my application I've a class that makes a gui-thread but while the gui is constructed by the gui-thread, the main thread needs to wait.</p>\n\n<p>The situation is the same as for the function below. The main thread makes a mutex, lock and <code>condition_variable</code>. It then makes the thread. While this <code>worker</code> <code>thread</code> has not passed a certain point (here printing the numbers), the main thread is not allowed to continue (i.e. has to <code>wait</code> for all numbers being printed).</p>\n\n<p>How do I use <code>condition_variables</code> correctly in this context? Also, I've read that spontaneous wake-ups are an issue. How can I handle them?</p>\n\n<pre><code>    int main()\n    {\n        std::mutex mtx;\n        std::unique_lock&lt;std::mutex&gt; lck(mtx);\n        std::condition_variable convar;\n\n        auto worker = std::thread([&amp;]{\n            /* Do some work. Main-thread can not continue. */\n            for(int i=0; i&lt;100; ++i) std::cout&lt;&lt;i&lt;&lt;\" \";\n            convar.notify_all(); // let main thread continue\n            std::cout&lt;&lt;\"\\nworker done\"&lt;&lt;std::endl;       \n        });\n\n\n        // The main thread can do some work but then must wait until the worker has done it's calculations.\n        /* do some stuff */\n        convar.wait(lck);\n        std::cout&lt;&lt;\"\\nmain can continue\"&lt;&lt;std::endl; // allowed before worker is entirely finished\n        worker.join();\n    }\n</code></pre>\n"}, {"tags": ["c++", "function", "dll", "export"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1494434041, "post_id": 43898114, "comment_id": 74830141, "body": "Conditional compilation maybe? Not quite sure what you want."}, {"owner": {"reputation": 61, "user_id": 1056396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1441042325685ad4f789593d3e39bab9?s=128&d=identicon&r=PG", "display_name": "zomri", "link": "https://stackoverflow.com/users/1056396/zomri"}, "reply_to_user": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1494434835, "post_id": 43898114, "comment_id": 74830610, "body": "maybe. I want to find an easy way to have a code repository of functions that can be used &quot;dynamically&quot; to create custom DLLs (per client needs)."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1494435477, "post_id": 43898114, "comment_id": 74830975, "body": "Convert your existing DLL into a static library.  Make a shim/stub DLL project that exports only the necessary functions (for this client) and link with the library."}, {"owner": {"reputation": 61, "user_id": 1056396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1441042325685ad4f789593d3e39bab9?s=128&d=identicon&r=PG", "display_name": "zomri", "link": "https://stackoverflow.com/users/1056396/zomri"}, "edited": false, "score": 0, "creation_date": 1494435514, "post_id": 43898114, "comment_id": 74830997, "body": "well, found some solution. Given that the functions are split to different files (.h/.cpp), then in VS I can simply set unwanted .cpp to &quot;Exclude from Build == yes&quot;.  Seem to do the job. I wonder if there&#39;s some other automatic trick out there.."}], "owner": {"reputation": 61, "user_id": 1056396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1441042325685ad4f789593d3e39bab9?s=128&d=identicon&r=PG", "display_name": "zomri", "link": "https://stackoverflow.com/users/1056396/zomri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494433749, "creation_date": 1494433749, "question_id": 43898114, "link": "https://stackoverflow.com/questions/43898114/how-to-control-c-dll-exported-functions-easily", "title": "How to control C++ DLL exported functions &quot;easily&quot;", "body": "<p>Say I have a bunch of functions exported in a C++ DLL. \nA customer asks for some code implementation which uses only some of the functions in the DLL.\nI'd like to give the customer a DLL with the relevant functions only (because full DLL is too big, I dont want to send code he doesnt need to see, etc..).</p>\n\n<p>Is there any way to export only part of the functions easily (e.g. without adding/removing \"__declspec dllexport\" declarations everytime)?\nPerhaps \"hide\" function from full DLL or re-compile slimmer DLL (but control which functions included in a clean way).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "amazon-web-services", "amazon-s3", "aws-sdk-cpp"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7561303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf67f596845137428b281c3a5b46e64f?s=128&d=identicon&r=PG&f=1", "display_name": "paratrooper", "link": "https://stackoverflow.com/users/7561303/paratrooper"}, "edited": false, "score": 0, "creation_date": 1496438877, "post_id": 44320886, "comment_id": 75679273, "body": "That is funny. :) Thank you."}, {"owner": {"reputation": 51, "user_id": 7561303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf67f596845137428b281c3a5b46e64f?s=128&d=identicon&r=PG&f=1", "display_name": "paratrooper", "link": "https://stackoverflow.com/users/7561303/paratrooper"}, "edited": false, "score": 0, "creation_date": 1541556075, "post_id": 44320886, "comment_id": 93255435, "body": "Yes, it did. Thanks a lot."}], "tags": [], "owner": {"reputation": 2519, "user_id": 140311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d7765491ded8ee7f4059ce5d504d11?s=128&d=identicon&r=PG", "display_name": "Marco M.", "link": "https://stackoverflow.com/users/140311/marco-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1496378177, "creation_date": 1496378177, "answer_id": 44320886, "question_id": 43897926, "link": "https://stackoverflow.com/questions/43897926/aws-sdk-c-some-s3-integration-tests-fail/44320886#44320886", "title": "AWS SDK C++: Some S3 Integration tests fail", "body": "<p>Prior to v1.0.122, s3 integration tests used fixed bucket names. </p>\n\n<p>Since S3 bucket names are globally unique, if someone anywhere in the world ran the integration tests and aborted them half way, the tear-down/cleanup code won't run, and the buckets created with the fixed names will live under that account. That will cause the integration tests to fail for everyone else.</p>\n\n<p>v1.0.122+ fixes that problem by using random suffixes appended to bucket names. </p>\n"}], "owner": {"reputation": 51, "user_id": 7561303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf67f596845137428b281c3a5b46e64f?s=128&d=identicon&r=PG&f=1", "display_name": "paratrooper", "link": "https://stackoverflow.com/users/7561303/paratrooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496378177, "creation_date": 1494433149, "question_id": 43897926, "link": "https://stackoverflow.com/questions/43897926/aws-sdk-c-some-s3-integration-tests-fail", "title": "AWS SDK C++: Some S3 Integration tests fail", "body": "<p>What should I do if some S3 integration tests fail? Could find any helpful solution on the Internet. Only -DBUILD_ONLY=\"s3\" compilation parameter was used. The repo os on 1.0.99 tag. Here is the log of ./aws-cpp-sdk-s3-integration-tests:</p>\n\n<pre><code>[==========] Running 8 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 8 tests from BucketAndObjectOperationTest\n[ RUN      ] BucketAndObjectOperationTest.TestInterrupt\n/home/user/workspace/aws-sdk-cpp/aws-cpp-sdk-s3-integration-tests/BucketAndObjectOperationTest.cpp:317: Failure\nValue of: createBucketOutcome.IsSuccess()\n  Actual: false\nExpected: true\n[  FAILED  ] BucketAndObjectOperationTest.TestInterrupt (580 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestBucketCreationAndListing\n[       OK ] BucketAndObjectOperationTest.TestBucketCreationAndListing (1057 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestBucketLocation\n[       OK ] BucketAndObjectOperationTest.TestBucketLocation (1756 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestObjectOperations\n/home/user/workspace/aws-sdk-cpp/aws-cpp-sdk-s3-integration-tests/BucketAndObjectOperationTest.cpp:468: Failure\nValue of: createBucketOutcome.IsSuccess()\n  Actual: false\nExpected: true\n[  FAILED  ] BucketAndObjectOperationTest.TestObjectOperations (110 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestKeysWithCrazyCharacterSets\n/home/user/workspace/aws-sdk-cpp/aws-cpp-sdk-s3-integration-tests/BucketAndObjectOperationTest.cpp:547: Failure\nValue of: createBucketOutcome.IsSuccess()\n  Actual: false\nExpected: true\n[  FAILED  ] BucketAndObjectOperationTest.TestKeysWithCrazyCharacterSets (121 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestObjectOperationsWithPresignedUrls\n/home/user/workspace/aws-sdk-cpp/aws-cpp-sdk-s3-integration-tests/BucketAndObjectOperationTest.cpp:641: Failure\nValue of: createBucketOutcome.IsSuccess()\n  Actual: false\nExpected: true\n[  FAILED  ] BucketAndObjectOperationTest.TestObjectOperationsWithPresignedUrls (116 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestMultiPartObjectOperations\n[       OK ] BucketAndObjectOperationTest.TestMultiPartObjectOperations (23499 ms)\n[ RUN      ] BucketAndObjectOperationTest.TestThatErrorsParse\n[       OK ] BucketAndObjectOperationTest.TestThatErrorsParse (667 ms)\n[----------] 8 tests from BucketAndObjectOperationTest (27907 ms total)\n\n[----------] Global test environment tear-down\n[==========] 8 tests from 1 test case ran. (29961 ms total)\n[  PASSED  ] 4 tests.\n[  FAILED  ] 4 tests, listed below:\n[  FAILED  ] BucketAndObjectOperationTest.TestInterrupt\n[  FAILED  ] BucketAndObjectOperationTest.TestObjectOperations\n[  FAILED  ] BucketAndObjectOperationTest.TestKeysWithCrazyCharacterSets\n[  FAILED  ] BucketAndObjectOperationTest.TestObjectOperationsWithPresignedUrls\n\n 4 FAILED TESTS\n</code></pre>\n"}, {"tags": ["c++", "qt", "signals-slots"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1494433466, "post_id": 43897916, "comment_id": 74829740, "body": "Remember that being a runtime construct <code>dynamic_cast</code> can fail. So don&#39;t forget to check for <code>nullptr</code> before using the result of the cast."}, {"owner": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1494433513, "post_id": 43897916, "comment_id": 74829764, "body": "@JesperJuhl, yes exactly!"}], "tags": [], "owner": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "is_accepted": false, "score": 2, "last_activity_date": 1494433844, "last_edit_date": 1494433844, "creation_date": 1494433116, "answer_id": 43897916, "question_id": 43897750, "link": "https://stackoverflow.com/questions/43897750/cannot-convert-from-pointer-to-base-class-to-pointer-to-derived-class/43897916#43897916", "title": "Cannot convert from pointer to base class to pointer to derived class", "body": "<p><code>static_cast</code> do this: a static cast is dubbed static because the computation of what is necessary for the cast is done at <em>compile-time</em>, be it pointer arithmetic or conversions.</p>\n\n<p>However, when <strong>virtual inheritance</strong> exists things become a bit more difficult. The main issue is that with virtual inheritance all subclasses share a same instance of the subobject. In order to do that, <code>ElecClock</code> will have a pointer to a ``, instead of a <code>Clock</code> proper, and the <code>Clock</code> base class object will be instantiated outside of <code>ElecClock</code>.</p>\n\n<p>Although, it's impossible at compilation time to be able to deduce the necessary pointer arithmetics. It depends on the runtime type of the object.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>You need <code>RTTI</code> (RunTime Type Information), and making use of RTTI for casts is the job of <code>dynamic_cast</code>.</p>\n\n<p><strong>Safety</strong></p>\n\n<p><code>static_cast</code> from base to derived is safe so long as the invariant holds. Otherwise the result is <code>undefined behavior</code>. However invariants enforced over wide portions of large code bases rarely stay held. </p>\n\n<p>So when using <code>static_cast</code> in the similar cases, consider putting <code>assert(dynamic_cast&lt;...&gt;(...))</code> before.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 7335265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cee01c1401a29969fce31cbb9dcf11?s=128&d=identicon&r=PG&f=1", "display_name": "Manhooo", "link": "https://stackoverflow.com/users/7335265/manhooo"}, "edited": false, "score": 0, "creation_date": 1494516140, "post_id": 43901319, "comment_id": 74872515, "body": "How can i judge whether dynamic and static types of object are same or not\uff1f"}, {"owner": {"reputation": 86, "user_id": 3737966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goF8z.jpg?s=128&g=1", "display_name": "ebeglary", "link": "https://stackoverflow.com/users/3737966/ebeglary"}, "reply_to_user": {"reputation": 65, "user_id": 7335265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cee01c1401a29969fce31cbb9dcf11?s=128&d=identicon&r=PG&f=1", "display_name": "Manhooo", "link": "https://stackoverflow.com/users/7335265/manhooo"}, "edited": false, "score": 0, "creation_date": 1494524268, "post_id": 43901319, "comment_id": 74877526, "body": "It hard to say in this case, the connection wont work for NewClock you can do somethink like that if you want to use ElecClock with timer. `   QApplication a(argc, argv); //    NewClock c;     ElecClock c;     c.connect();     c.show();     return a.exec();`  Where the connect function is encapsulating connect part."}], "tags": [], "owner": {"reputation": 86, "user_id": 3737966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goF8z.jpg?s=128&g=1", "display_name": "ebeglary", "link": "https://stackoverflow.com/users/3737966/ebeglary"}, "is_accepted": true, "score": 1, "last_activity_date": 1494468648, "last_edit_date": 1494468648, "creation_date": 1494444976, "answer_id": 43901319, "question_id": 43897750, "link": "https://stackoverflow.com/questions/43897750/cannot-convert-from-pointer-to-base-class-to-pointer-to-derived-class/43901319#43901319", "title": "Cannot convert from pointer to base class to pointer to derived class", "body": "<p>The problem comes from connection below. As <code>dynamic_cast</code> is working slower the automatically generated <code>qt_static_metacall</code> function used <code>static_cast</code> which is not able to cast in case of multiple inheritance</p>\n\n<p><code>ElecClock::ElecClock(QWidget *parent) :\n    Clock(parent)\n{\n......\n---&gt; connect(timer, SIGNAL(timeout()), this, SLOT(showTime()));\n......\n}</code></p>\n\n<p>As solution I just can advice to encapsulate connection into function and call the function only if dynamic and static types of object are same. Otherwise you have to remove that line or refuse from multiple inheritance.</p>\n"}], "owner": {"reputation": 65, "user_id": 7335265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cee01c1401a29969fce31cbb9dcf11?s=128&d=identicon&r=PG&f=1", "display_name": "Manhooo", "link": "https://stackoverflow.com/users/7335265/manhooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1843, "favorite_count": 0, "accepted_answer_id": 43901319, "answer_count": 2, "score": 1, "last_activity_date": 1494468648, "creation_date": 1494432627, "question_id": 43897750, "link": "https://stackoverflow.com/questions/43897750/cannot-convert-from-pointer-to-base-class-to-pointer-to-derived-class", "title": "Cannot convert from pointer to base class to pointer to derived class", "body": "<p>In headers:</p>\n\n<pre><code>class Clock : public QWidget\n{\n    Q_OBJECT\npublic:\n    explicit Clock(QWidget *parent = 0);\n......\n}\n\nclass ElecClock : virtual public Clock\n{\n    Q_OBJECT\npublic:\n    explicit ElecClock(QWidget *parent = 0);\nprivate slots:\n    void showTime();  //display two LCDNumber\n......\n}\n\nclass MechClock : virtual public Clock\n{\n    Q_OBJECT\npublic:\n    explicit MechClock(QWidget *parent = 0);\n......\n}\n\nclass NewClock : public MechClock, public ElecClock  //combination of Mechclock and ElecClock\n{\n    Q_OBJECT\npublic:\n    explicit NewClock(QWidget *parent = 0);\nprivate slots:\n    void showTime(); //display two LCDNumber\n......\n}\n</code></pre>\n\n<p>In source files:</p>\n\n<pre><code>Clock::Clock(QWidget *parent) :\n    QWidget(parent)\n{\n......\n}\n\nElecClock::ElecClock(QWidget *parent) :\n    Clock(parent)\n{\n......\nconnect(timer, SIGNAL(timeout()), this, SLOT(showTime()));\n......\n}\n\nMechClock::MechClock( QWidget *parent) : \n    Clock(parent)\n{\n......\n}\n\nNewClock::NewClock(QWidget *parent) :\n    MechClock(parent), ElecClock(parent), Clock(parent)\n{\n......\nconnect(timer, SIGNAL(timeout()), this, SLOT(showTime()));\n......\n}\n</code></pre>\n\n<p>In main.cpp:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    NewClock c;\n    c.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>I want to show the NewClock. But when i compile, the error is \"cannot convert from pointer to base class 'QObject' to pointer to derived class 'ElecClock' via virtual base 'Clock'.\" </p>\n\n<p>The error happens in  moc_ElecClock.cpp:</p>\n\n<pre><code>void ElecClock::qt_static_metacall(QObject *_o, QMetaObject::Call _c,int _id, void **_a)\n{\n    if (_c == QMetaObject::InvokeMetaMethod) {\n        ElecClock *_t = static_cast&lt;ElecClock *&gt;(_o); // this line\n        Q_UNUSED(_t)\n        switch (_id) {\n        case 0: _t-&gt;showTime(); break;\n        default: ;\n        }\n    }\n    Q_UNUSED(_a);\n}\n</code></pre>\n\n<p>How to solve this problem? Is there anything wrong in my constructors and slots?\n                                                    ^</p>\n"}, {"tags": ["c++", "multithreading", "sorting", "shellsort"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1494432019, "post_id": 43897403, "comment_id": 74828931, "body": "1. You should be using a <code>std::vector&lt;std::thread&gt;</code> and <code>emplace_back</code> for your thread vector in <code>main()</code>. 2. the <code>wp</code> parameter in your thread construction invoke should be reference-wrapped <code>std::ref(wp)</code>. Ex: the parameters should be <code>shellSort,std::ref(wp),i</code>"}, {"owner": {"reputation": 23, "user_id": 6547222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296e1040a2bcbbdd0d69ded7a5b3ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Chet", "link": "https://stackoverflow.com/users/6547222/chet"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1494432923, "post_id": 43897403, "comment_id": 74829439, "body": "@WhozCraig, oh, thank you! I saw it before, but completely forgot about this.. now it&#39;s ok!"}], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 1591089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73bd58e16fe8bb0a986787535c02ef4d?s=128&d=identicon&r=PG", "display_name": "Andrii", "link": "https://stackoverflow.com/users/1591089/andrii"}, "is_accepted": true, "score": 0, "last_activity_date": 1494432676, "last_edit_date": 1495540493, "creation_date": 1494432676, "answer_id": 43897770, "question_id": 43897403, "link": "https://stackoverflow.com/questions/43897403/shell-sort-using-threads-in-c/43897770#43897770", "title": "Shell sort using threads in c++", "body": "<p>It's answered here <a href=\"https://stackoverflow.com/questions/5116756/difference-between-pointer-and-reference-as-thread-parameter\">Difference between pointer and reference as thread parameter</a>. Thread deduces argument types and stores them by value. That's why references won't work and you should use pointer.</p>\n"}], "owner": {"reputation": 23, "user_id": 6547222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296e1040a2bcbbdd0d69ded7a5b3ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Chet", "link": "https://stackoverflow.com/users/6547222/chet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "closed_date": 1494439756, "accepted_answer_id": 43897770, "answer_count": 1, "score": 0, "last_activity_date": 1494432676, "creation_date": 1494431601, "question_id": 43897403, "link": "https://stackoverflow.com/questions/43897403/shell-sort-using-threads-in-c", "closed_reason": "Duplicate", "title": "Shell sort using threads in c++", "body": "<p>I'm trying to implement parallel shell sort using thread library. </p>\n\n<p>I need to divide initial array of ints into <em>thN</em> parts, sort them in <em>thN</em> threads and finally merge them together. The code below is without merge part because at first i wanna to find out the reason sort in threads doesn't work properly (there aren't any warnings or mistakes, ints just stay unsorted).</p>\n\n<p>I checked thread work in simple examples and everything was ok. </p>\n\n<p>So could anyone tell me what am I doing wrong?</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;ctime&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nvoid shellSort(vector &lt;vector&lt;int&gt;&gt;&amp; wp, int k)\n {\n    int n = wp[k].size();\n    for (int gap = n / 2; gap &gt; 0; gap /= 2)\n     {\n\n       for (int i = gap; i &lt; n; i++)\n        {\n           int temp = wp[k][i];\n           int j;\n           for (j = i; j &gt;= gap &amp;&amp; wp[k][j - gap] &gt; temp; j -= gap)\n               wp[k][j] = wp[k][j - gap];\n           wp[k][j] = temp;\n        }\n      }\n }\n\n  int main()\n {\n    int N, thN, i;\n    cout &lt;&lt; \"\\nEnter the length of array: \";\n    cin &gt;&gt; N;\n    cout &lt;&lt; \"\\nEnter the amount of threads: \";\n    cin &gt;&gt; thN;\n    int* A = new int[N];\n    for (i = 0; i &lt; N; i++)\n        A[i] = rand() % 100;\n\n    thread* t = new thread[thN];\n\n    vector&lt;vector&lt;int&gt; &gt; wp(thN, vector&lt;int&gt;());\n\n    int start = 0;\n    for (i = 0; i &lt; thN; i++){\n        for (int j = start; j &lt; start + N / thN; j++){\n            wp[i].push_back(A[j]);\n        }\n        start += N / thN;\n    }\n\n    double endTime, startTime;\n    startTime = clock();\n\n    for (i = 0; i &lt; thN; i++)\n        t[i] = thread(shellSort,wp,i);\n\n    for (i = 0; i &lt; thN; i++)\n        t[i].join();\n\n    endTime = clock();\n\n    cout &lt;&lt; \"Runtime of shell sort: \" &lt;&lt; (endTime - startTime) / 1000 &lt;&lt; endl;// time in miliseconds\n    system(\"pause\");\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qml"], "answers": [{"comments": [{"owner": {"reputation": 115993, "user_id": 24587, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/859e513beefbf5b330a8842d9d39b00e?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Sch&#246;lly", "link": "https://stackoverflow.com/users/24587/georg-sch%c3%b6lly"}, "edited": false, "score": 0, "creation_date": 1494432119, "post_id": 43897261, "comment_id": 74828986, "body": "Thanks. Somehow I thought because I&#39;m already inheriting from <code>QAbstractListModel</code> this wouldn&#39;t be necessary. The compiler was not helpful when it complained after adding <code>Q_OBJECT</code>. (Running qmake helped.)"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 115993, "user_id": 24587, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/859e513beefbf5b330a8842d9d39b00e?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Sch&#246;lly", "link": "https://stackoverflow.com/users/24587/georg-sch%c3%b6lly"}, "edited": false, "score": 1, "creation_date": 1494432431, "post_id": 43897261, "comment_id": 74829149, "body": "The <code>Q_OBJECT</code> macro is necessary to add type metadata to any <code>QObject</code>-deriving class. When you inherit from <code>QAbstractListModel</code> and not use the macro, your derived class looks exactly like the most derived class that had the macro - and that&#39;s <code>QAbstractListModel</code> in your case, exactly as you observed. It was linker that complained since there was no implementation of the methods that <code>Q_OBJECT</code> macro adds to the class. Re-running <code>qmake</code> added a code generation step to the build so that the implementations would be available to the linker."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1494431192, "creation_date": 1494431192, "answer_id": 43897261, "question_id": 43897232, "link": "https://stackoverflow.com/questions/43897232/subclass-of-qabstractlistmodel-only-available-as-superclass-in-qml/43897261#43897261", "title": "Subclass of QAbstractListModel only available as superclass in QML", "body": "<p>The <code>Q_OBJECT</code> macro is missing.</p>\n"}, {"comments": [{"owner": {"reputation": 115993, "user_id": 24587, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/859e513beefbf5b330a8842d9d39b00e?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Sch&#246;lly", "link": "https://stackoverflow.com/users/24587/georg-sch%c3%b6lly"}, "edited": false, "score": 0, "creation_date": 1494432050, "post_id": 43897294, "comment_id": 74828956, "body": "Thanks, it was the missing macro. For some reason I thought because I inherit from <code>QAbstractListModel</code> I wouldn&#39;t need it again. Also, adding it gave a lot of compiler warnings, running qmake again fixed that though. Actually adding the <code>Q_OBJECT</code> macro made it unnecessary to register the class (I&#39;m not planing on instantiating it in QML.) Thanks again."}], "tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 1, "last_activity_date": 1494431292, "creation_date": 1494431292, "answer_id": 43897294, "question_id": 43897232, "link": "https://stackoverflow.com/questions/43897232/subclass-of-qabstractlistmodel-only-available-as-superclass-in-qml/43897294#43897294", "title": "Subclass of QAbstractListModel only available as superclass in QML", "body": "<p>You are missing the <code>Q_OBJECT</code> macro.</p>\n\n<p>Also, you are registering incorrectly, you need something like:</p>\n\n<pre><code>qmlRegisterType&lt;List&gt;(\"ModuleName\", 1, 0, \"ObjectListModel\");\n</code></pre>\n\n<p><code>QObject</code>s are implicitly meta types, since they get the moc treatment (if you don't forget the macro). So there is no need to registering them as meta types.</p>\n"}], "owner": {"reputation": 115993, "user_id": 24587, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/859e513beefbf5b330a8842d9d39b00e?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Sch&#246;lly", "link": "https://stackoverflow.com/users/24587/georg-sch%c3%b6lly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 43897294, "answer_count": 2, "score": 0, "last_activity_date": 1494431292, "creation_date": 1494431080, "question_id": 43897232, "link": "https://stackoverflow.com/questions/43897232/subclass-of-qabstractlistmodel-only-available-as-superclass-in-qml", "title": "Subclass of QAbstractListModel only available as superclass in QML", "body": "<p>I have a subclass of <code>QAbstractListModel</code> called <code>ObjectListModel</code> which contains a method <code>remove()</code>:</p>\n\n<pre><code>class ObjectListModel : public QAbstractListModel\n{\npublic:\n    Q_INVOKABLE void remove(int index);\n}\n</code></pre>\n\n<p>However, when I try to call <code>remove()</code> from within QML, I get the following error:</p>\n\n<pre><code>TypeError: Property 'remove' of object QAbstractListModel(0x13c3c0) is not a function\n</code></pre>\n\n<p>I expose an instance of <code>ObjectListModel</code> through a property of <code>MyApplication</code>:</p>\n\n<pre><code>Q_PROPERTY(ObjectListModel *uploadModel\n           MEMBER _uploadModel\n           NOTIFY uploadModelChanged)\n</code></pre>\n\n<p>and I register the type as follows in <code>main()</code>:</p>\n\n<pre><code>qRegisterMetaType&lt;ObjectListModel*&gt;(\"ObjectListModel*\");\n</code></pre>\n\n<p>Any idea what is happening here?</p>\n"}, {"tags": ["c++", "multithreading", "bash", "c++11", "exit-code"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1494430791, "post_id": 43896947, "comment_id": 74828148, "body": "It&#39;s your program.  You have complete control over its exit status."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1494430796, "post_id": 43896947, "comment_id": 74828154, "body": "Can you show MCVE ?"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1494430841, "post_id": 43896947, "comment_id": 74828181, "body": "It should be doing this (<code>std::terminate</code> calls <code>std::abort</code>): <i>&quot;Implementation defined status is returned to the host environment that indicates unsuccessful execution.&quot;</i> we need <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> + platform details. see: <a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/program/abort</a>"}], "answers": [{"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1494433615, "post_id": 43897357, "comment_id": 74829843, "body": "Consider yourself smart instead :) You figured out the real cause of the problem by carefully examining what you were doing."}], "tags": [], "owner": {"reputation": 81, "user_id": 5289110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0099191a33fca12dd87511b1ea5320e?s=128&d=identicon&r=PG&f=1", "display_name": "tickferno", "link": "https://stackoverflow.com/users/5289110/tickferno"}, "is_accepted": false, "score": 1, "last_activity_date": 1494431504, "creation_date": 1494431504, "answer_id": 43897357, "question_id": 43896947, "link": "https://stackoverflow.com/questions/43896947/c-program-return-code-when-stdterminate-is-called-in-thread/43897357#43897357", "title": "C++ program return code when std::terminate is called in thread", "body": "<p>Well, consider me stupid. The program properly returns an error code, but as I piped the output (it writes a lot of log) into <code>tee</code>, the return code stored in <code>$?</code> is probably the one of <code>tee</code>, which exits without failure.</p>\n\n<p>[EDIT] I'm using <code>PIPESTATUS</code> now to get the correct exit code.</p>\n"}, {"tags": [], "owner": {"reputation": 5125, "user_id": 98693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef5ae6548ea49522a5ad0e3c57f2bdc7?s=128&d=identicon&r=PG", "display_name": "ovanes", "link": "https://stackoverflow.com/users/98693/ovanes"}, "is_accepted": false, "score": 1, "last_activity_date": 1494483007, "last_edit_date": 1494483007, "creation_date": 1494431906, "answer_id": 43897509, "question_id": 43896947, "link": "https://stackoverflow.com/questions/43896947/c-program-return-code-when-stdterminate-is-called-in-thread/43897509#43897509", "title": "C++ program return code when std::terminate is called in thread", "body": "<p>As Richard Critten has pointed out in the comment <code>std::terminate()</code> calls <code>std::abort()</code>, but that's not all.</p>\n\n<p>C++ offers quite a few mechanisms to control such situations. The one I can suggest is the following:</p>\n\n<p>Register your own handler for calls of <code>std::terminate()</code> using the <a href=\"http://en.cppreference.com/w/cpp/error/set_terminate\" rel=\"nofollow noreferrer\"><code>std::set_terminate()</code></a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;exception&gt;\n\nint main()\n{\n    std::set_terminate\n    ( []()\n      { \n        std::cout &lt;&lt; \"Unhandled exception\\n\";\n        std::exit(EXIT_FAILURE);\n      }\n    );\n\n    throw 1;\n}\n</code></pre>\n\n<p>Calling <a href=\"http://en.cppreference.com/w/cpp/utility/program/exit\" rel=\"nofollow noreferrer\"><code>std::exit()</code></a> causes normal program termination with some cleanup steps.</p>\n\n<p>Another alternative would be to register the <a href=\"http://en.cppreference.com/w/cpp/utility/program/abort\" rel=\"nofollow noreferrer\"><code>SIGABORT</code></a> handler and exit the program with desired exit code. But in that case no resource clean-up is done.</p>\n"}, {"tags": [], "owner": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494432566, "last_edit_date": 1494432566, "creation_date": 1494431928, "answer_id": 43897514, "question_id": 43896947, "link": "https://stackoverflow.com/questions/43896947/c-program-return-code-when-stdterminate-is-called-in-thread/43897514#43897514", "title": "C++ program return code when std::terminate is called in thread", "body": "<p>C++11 has the <code>exception_ptr</code> type that allows to transport exceptions between threads. So in the case if you want to handle exceptions you can consider the following approach.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;thread&gt;\n#include&lt;exception&gt;\n#include&lt;stdexcept&gt;\n\nstatic std::exception_ptr eptr = nullptr;\n\nvoid foo()\n{\n    try\n    {\n        ....\n        throw std::runtime_error(\"Bla bla\"); // put your exception instead of runtime_error\n    }\n    catch(...)\n    {\n        eptr = std::current_exception();\n    }\n}\n\nint main(int argc, char **argv)\n{\n    std::thread t(foo);\n    t.join();\n\n    if (eptr)\n    {\n        try\n        {\n            std::rethrow_exception(eptr);\n        }\n        catch(const std::exception &amp;ex)\n        {\n            std::cerr &lt;&lt; \"Thread exited: \" &lt;&lt; ex.what() &lt;&lt; \"\\n\";\n            return EXIT_FAILURE;\n\n        }\n    }\n\n    return EXIT_SUCCESS;\n}\n</code></pre>\n\n<p>This method makes sure that the program will exit with the status <code>EXIT_FAILURE</code> if the thread throws an exception. </p>\n"}], "owner": {"reputation": 81, "user_id": 5289110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0099191a33fca12dd87511b1ea5320e?s=128&d=identicon&r=PG&f=1", "display_name": "tickferno", "link": "https://stackoverflow.com/users/5289110/tickferno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 916, "favorite_count": 0, "closed_date": 1494460410, "answer_count": 3, "score": -1, "last_activity_date": 1494483007, "creation_date": 1494430312, "question_id": 43896947, "link": "https://stackoverflow.com/questions/43896947/c-program-return-code-when-stdterminate-is-called-in-thread", "closed_reason": "Not suitable for this site", "title": "C++ program return code when std::terminate is called in thread", "body": "<p>I have a program that creates that uses <code>std::thread</code> objects to perform work concurrently. I'm calling the program from a bash script and want to stop the script if the program does not terminate with <code>EXIT_SUCCESS</code>. I've encountered a rather non-intuitive behavior in the following situation: one of the threads throws an exception (thus calling <code>std::terminate</code>), leading to complete program termination. However, the program's return code is <code>EXIT_SUCCESS</code> (instead of some error code, which I would expect). Why is that?</p>\n\n<p>I know that using <code>std::thread</code> is not a clever idea in many cases and I plan to move to <code>std::async</code> (or the like), but at the moment, I'm interested in a quick solution to that.</p>\n"}, {"tags": ["c++", "winapi", "gdi+"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1494435257, "post_id": 43896774, "comment_id": 74830851, "body": "you not show where/how you open file. if <code>old_bmp</code> open file - you need delete it too"}, {"owner": {"reputation": 59, "user_id": 7377752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUmBg.jpg?s=128&g=1", "display_name": "Stampler", "link": "https://stackoverflow.com/users/7377752/stampler"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1494502821, "post_id": 43896774, "comment_id": 74861835, "body": "Ah sorry, I added it in the question. <code>old_bmp</code> is <code>gdiOrgLoaded</code> in this case."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1494519675, "post_id": 43896774, "comment_id": 74874896, "body": "It is just a plain bug, you lost the original pCloneBmp pointer value with the assignment.  Since you did not delete it, you have a memory leak with the most visible side-effect that the file doesn&#39;t get closed.  Use another variable."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 7377752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUmBg.jpg?s=128&g=1", "display_name": "Stampler", "link": "https://stackoverflow.com/users/7377752/stampler"}, "is_accepted": true, "score": 0, "last_activity_date": 1494580789, "creation_date": 1494580789, "answer_id": 43933958, "question_id": 43896774, "link": "https://stackoverflow.com/questions/43896774/magick-bitmapgetthumbnailimage-blocks-file-unable-to-delete-it/43933958#43933958", "title": "Magick++ Bitmap::GetThumbnailImage() blocks file, unable to delete it", "body": "<p>So I did figure it out. It was indeed some memory leak as @HansPassant suggested.</p>\n\n<p>This is now my working function. I managed to shorten it a lot, too.</p>\n\n<pre><code>HBITMAP scale_image( Gdiplus::Bitmap *old_bmp , int x , int y , int width , int height , float scale )\n{\nHBITMAP result = NULL;\nint newWidth = width * scale;\nint newHeight = height * scale;\n\nGdiplus::Bitmap* newBitmap = new Gdiplus::Bitmap( newWidth , newHeight , old_bmp-&gt;GetPixelFormat( ) );\nGdiplus::Graphics *pGraphics = Gdiplus::Graphics::FromImage( newBitmap );\npGraphics-&gt;DrawImage( old_bmp , 0 , 0 , newWidth , newHeight );\n\ndelete( gdiZoomedLoaded );\n\ngdiZoomedLoaded = newBitmap;\n\ndelete pGraphics;\n\nreturn result;\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7377752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUmBg.jpg?s=128&g=1", "display_name": "Stampler", "link": "https://stackoverflow.com/users/7377752/stampler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 43933958, "answer_count": 1, "score": 0, "last_activity_date": 1494580789, "creation_date": 1494429894, "last_edit_date": 1494518108, "question_id": 43896774, "link": "https://stackoverflow.com/questions/43896774/magick-bitmapgetthumbnailimage-blocks-file-unable-to-delete-it", "title": "Magick++ Bitmap::GetThumbnailImage() blocks file, unable to delete it", "body": "<p>Hello fellow programmers.</p>\n\n<p>First of all my C/C++ experience is only 5 weeks.\n( I'm currently an intern and normally work with Java at my real job)</p>\n\n<p>I am working on an application that reads .tif files and shows them to the user. After the user finished looking at the image it should be closed and deleted from the hard disk. </p>\n\n<p>The problem is that I can't remove the image after closing it.\nI think the image process is still running and that denies my program from deleting the file.</p>\n\n<p>My guess is that Gdiplus somehow keeps the file open even though I used <code>delete pCloneBmp;</code> on the Bitmap. Does anyone have an idea or tried something similar with Gdiplus?</p>\n\n<p>I tried this piece of code to delete the file (explanation in the next code block):</p>\n\n<pre><code>delete pCloneBmp;\ndelete gdiZoomedLoaded;\ndelete gdiOrgLoaded;\nDeleteObject( bmpLoaded );\nremove( filenames.at( 0 ).c_str( ) );\nWORD error = GetLastError( ); \n// error codes:\n// 0 == Success\n// 32 == The process cannot access the file because it is being used by another process. \n</code></pre>\n\n<p>Here is what I tried to do:</p>\n\n<pre><code>// This is how I call the function.\nscale_image( (Gdiplus::Bitmap*)gdiOrgLoaded , x_bmp , y_bmp , org_width_bmp , org_height_bmp , scale_bmp );\n\n// vvv Function definition vvv\nHBITMAP scale_image( Gdiplus::Bitmap *old_bmp , int x , int y , int width ,  int height , float scale )\n{\nHBITMAP result = NULL;\nint newWidth = width * scale;\nint newHeight = height * scale;\n\nGdiplus::RectF bmpRect( 0 , 0 , newWidth , newHeight );\nGdiplus::Bitmap *pCloneBmp = old_bmp-&gt;Clone( 0 , 0 , width , height , old_bmp-&gt;GetPixelFormat() );\n\n// If I run the deletion code here the error code is 0\n// and the file gets deleted\n\n// vvv It seems that this line causes the problem vvv\npCloneBmp = ( Gdiplus::Bitmap* )pCloneBmp-&gt;GetThumbnailImage( newWidth , newHeight );\n\n// If I run the deletion code here the error code is 32\n// and the file won't be deleted\n\nGdiplus::Graphics *pGraphics = Gdiplus::Graphics::FromImage( pCloneBmp );\npGraphics-&gt;DrawImage( pCloneBmp , bmpRect , 0 , 0 , newWidth , newHeight , Gdiplus::UnitPixel );\n\nif ( pCloneBmp )\n{\n    pCloneBmp-&gt;GetHBITMAP( Gdiplus::Color( 255 , 255 , 255 ) , &amp;result );\n}\n\ndelete( gdiZoomedLoaded );\n\ngdiZoomedLoaded = pCloneBmp;\n\ndelete pGraphics;\n\nreturn result;\n}\n</code></pre>\n\n<p>Any help is highly appreciated :-)</p>\n\n<p><strong>EDIT:</strong> Here is how I load the image</p>\n\n<pre><code>gdiOrgLoaded = Gdiplus::Image::FromFile( pFilePath , false );\ngdiZoomedLoaded = Gdiplus::Bitmap::FromFile( pFilePath , false );\n\nHBITMAP result; // &lt;-- This is bmpLoaded\ngdiZoomedLoaded-&gt;GetHBITMAP( Gdiplus::Color( 255 , 255 , 255 ) , &amp;result );\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494434724, "post_id": 43896738, "comment_id": 74830540, "body": "Do you control BaseClassA and BaseClassB?"}, {"owner": {"reputation": 329, "user_id": 5471185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACjas.png?s=128&g=1", "display_name": "GARCIN David", "link": "https://stackoverflow.com/users/5471185/garcin-david"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1494435305, "post_id": 43896738, "comment_id": 74830879, "body": "Short answer: No.  I can hardly modify those"}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1498863884, "post_id": 43896738, "comment_id": 76692475, "body": "You can&#39;t simultaneously move <code>data</code> to three distinct objects.   It is necessary to copy it at least twice, or for the base classes to store references."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": true, "score": 0, "last_activity_date": 1494430182, "creation_date": 1494430182, "answer_id": 43896898, "question_id": 43896738, "link": "https://stackoverflow.com/questions/43896738/move-semantic-and-multiple-inheritance/43896898#43896898", "title": "Move semantic and multiple inheritance", "body": "<p>One idea is to copy/move data first into <code>this</code> sub-object and then use it to initialize the other base class sub-objects.</p>\n\n<p>Example:</p>\n\n<pre><code>class ConcreteClass\n    : private Data // Must be inherited first.\n    , public BaseClassA\n    , public BaseClassB\n{\npublic:\n    ConcreteClass(Data&amp;&amp; data)\n        : Data(std::move(data))\n        , BaseClassA(getData())\n        , BaseClassB(getData())\n    {}\n\n    /* Class functions here */\n\nprivate:\n    Data const&amp; getData() const { return *this; }\n};\n</code></pre>\n\n<p>This is a well-known idiom, see <a href=\"http://www.boost.org/doc/libs/1_64_0/libs/utility/doc/html/base_from_member.html\" rel=\"nofollow noreferrer\"><code>boost::base_from_member</code></a> for more details.</p>\n"}], "owner": {"reputation": 329, "user_id": 5471185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACjas.png?s=128&g=1", "display_name": "GARCIN David", "link": "https://stackoverflow.com/users/5471185/garcin-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 43896898, "answer_count": 1, "score": 2, "last_activity_date": 1498863105, "creation_date": 1494429807, "last_edit_date": 1498863105, "question_id": 43896738, "link": "https://stackoverflow.com/questions/43896738/move-semantic-and-multiple-inheritance", "title": "Move semantic and multiple inheritance", "body": "<p>I'm currently using c++11 standard and here is my problem.</p>\n\n<p>I have a code where I build a struct and pass it to a class for initialization purpose only.</p>\n\n<p>I used move semantic to avoid duplicating the data structure.</p>\n\n<p>This class inherits multiple classes needs all or part of the struct and stores references to it/its components.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>class ConcreteClass : public BaseClassA, public BaseClassB\n{\npublic:\n    ConcreteClass(Data&amp;&amp; data)\n        : BaseClassA(data),\n          BaseClassB(data),\n          _data(std::move(data)) // How could I store data in _data and forward _data reference to parent classes ?\n    {\n    }\n\n    /* Class functions here */\n\nprivate:\n    const Data _data;\n};\n\nint main()\n{\n    int i = 1;\n    Data dat = { i, \"test\", std::make_shared&lt;std::string&gt;(\"test2\") };\n    ConcreteClass instance(std::move(dat));\n\n    /* Do stuff with instance */\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/a5425d93159cf5b9\" rel=\"nofollow noreferrer\">Here</a> is a full example. </p>\n\n<p>As expected, the shared shared_pointer and reference stored are consistent.\nThe problem being reference on instances (<code>Data::Str</code> member in this case)</p>\n\n<p>How could I store data in _data and forward _data reference to parent classes?</p>\n\n<p><strong>Extra question</strong></p>\n\n<p>Is the default rvalue reference constructor sufficient?</p>\n"}, {"tags": ["c++", "speech", "grpc"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7992576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56122c17c77b9a7b4070196ce17e79f2?s=128&d=identicon&r=PG", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/7992576/thalhammer"}, "is_accepted": true, "score": 0, "last_activity_date": 1494447620, "creation_date": 1494447620, "answer_id": 43902046, "question_id": 43896560, "link": "https://stackoverflow.com/questions/43896560/grpc-google-login-failure/43902046#43902046", "title": "grpc Google login failure", "body": "<p>After some more trying and reading some more example code I finally found the reason myself.\nI had to use a different URL. Changing \"speech.googleapis.com:443\" to \"speech.googleapis.com\" results in a different error, but connection and login work.</p>\n\n<p>Setting up all parameters for this function correctly and supplying actual audio data returns usable results. I did not expect the port to make a difference, considering both URLs are in many example programs and grpc uses http2 (which in turn uses port 443).</p>\n\n<p><strong>Important piece: Make sure you don't include a port for use with google services.</strong></p>\n"}], "owner": {"reputation": 61, "user_id": 7992576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56122c17c77b9a7b4070196ce17e79f2?s=128&d=identicon&r=PG", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/7992576/thalhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 43902046, "answer_count": 1, "score": 0, "last_activity_date": 1494447620, "creation_date": 1494429349, "last_edit_date": 1494433778, "question_id": 43896560, "link": "https://stackoverflow.com/questions/43896560/grpc-google-login-failure", "title": "grpc Google login failure", "body": "<p>I'am trying to create a application using the cloud speech api of google.\nI cloned all the repositories and created a really simple client app in C++.</p>\n\n<pre><code>#include &lt;grpc++/grpc++.h&gt;\n#include \"google/cloud/speech/v1/cloud_speech.grpc.pb.h\"\nnamespace gs=google::cloud::speech::v1;\nusing gs::Speech;\nusing gs::RecognizeResponse;\nusing gs::RecognizeRequest;\nusing grpc::Channel;\nusing grpc::ClientContext;\nusing grpc::Status;\n\nint main(int argc, char** argv) {\n    try{\n        auto channel_creds = grpc::GoogleDefaultCredentials();\n        auto channel = grpc::CreateChannel(\"speech.googleapis.com:443\", channel_creds);\n        auto stub = Speech::NewStub(channel);\n\n        RecognizeResponse res;\n        RecognizeRequest req;\n        ClientContext ctx;\n\n        auto status = stub-&gt;Recognize(&amp;ctx, req, &amp;res);\n        if(status.ok())\n        {\n            std::cout &lt;&lt; \"ok\" &lt;&lt; std::endl;\n        } else {\n            std::cout &lt;&lt; status.error_code() &lt;&lt; \": \" &lt;&lt; status.error_message() &lt;&lt; std::endl;\n        }\n    }catch(const std::exception&amp; e)\n    {\n        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;\n    }\n    std::cin.get();\n}\n</code></pre>\n\n<p>This compiles fine, but when executed results in the following error message: </p>\n\n<blockquote>\n  <p>16: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See <a href=\"https://developers.google.com/identity/sign-in/web/devconsole-project\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/devconsole-project</a>.</p>\n</blockquote>\n\n<p>I have created a Service account and placed it's json key file next to the env variable \"GOOGLE_APPLICATION_CREDENTIALS\" to the correct file and I'm quite sure it is read (because if I remove it, it just crashes).\nI also have enabled the speech API online.\nI'm out of ideas since no matter what I do I can't get it to work.\nAm I missing something ?</p>\n"}, {"tags": ["c++", "opencv", "c++11", "vector"], "comments": [{"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1494429920, "post_id": 43896491, "comment_id": 74827544, "body": "You could convert the <code>vector&lt;Point3f&gt;</code> to a Mat and use <a href=\"http://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html?highlight=minmaxloc#minmaxloc\" rel=\"nofollow noreferrer\">this</a> to find min and max."}, {"owner": {"reputation": 187, "user_id": 4219280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3413b306303af18059b10cb28d1e906d?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/4219280/harsh-patel"}, "reply_to_user": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1494430174, "post_id": 43896491, "comment_id": 74827744, "body": "@RickM Thanks for suggestion. I thought about this before but as I am using Point3f in other references, I don&#39;t want to convert it into Mat. If I do so, I have to reverse it whenever I need. And that will make it bit slow."}, {"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 1, "creation_date": 1494430622, "post_id": 43896491, "comment_id": 74828034, "body": "It wouldn&#39;t make it slow if you do it like <a href=\"http://www.swarthmore.edu/NatSci/mzucker1/opencv-2.4.10-docs/doc/user_guide/ug_mat.html#memory-management-and-reference-counting\" rel=\"nofollow noreferrer\">this</a>. It is just a pointer to the data."}, {"owner": {"reputation": 187, "user_id": 4219280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3413b306303af18059b10cb28d1e906d?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/4219280/harsh-patel"}, "reply_to_user": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1494430905, "post_id": 43896491, "comment_id": 74828222, "body": "@RickM Okay, I&#39;ll have a look at the documentation, and will try it. Thanks for suggestions"}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 1, "creation_date": 1494431797, "post_id": 43896491, "comment_id": 74828793, "body": "Do whatever you do for a <code>vector&lt;vector&lt;double&gt; &gt;</code> but provide a custom comparator, which compares just the x-coordinates."}], "answers": [{"comments": [{"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1494432170, "post_id": 43897563, "comment_id": 74829008, "body": "ahhh, C++11 you beauty, ** tears **."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 1, "creation_date": 1494432528, "post_id": 43897563, "comment_id": 74829211, "body": "@RickM. - and C++14 is even better (answer modified)"}, {"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1494432673, "post_id": 43897563, "comment_id": 74829287, "body": "Just one word - <b>EPIC</b>"}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 2, "last_activity_date": 1494432885, "last_edit_date": 1494432885, "creation_date": 1494432040, "answer_id": 43897563, "question_id": 43896491, "link": "https://stackoverflow.com/questions/43896491/highest-values-in-vector-vectorpoint3f/43897563#43897563", "title": "Highest values in vector&lt; vector&lt;Point3f&gt; &gt;", "body": "<p>I don't know opencv, so can be simpler solutions but...</p>\n\n<p>What about a couple of <code>std::for_each()</code> with a couple of lambda functions?</p>\n\n<pre><code>std::vector&lt;std::vector&lt;Point3f&gt;&gt; vvp { /* some data */ };\n\nauto mx = vvp[0][0].x;\nauto my = vvp[0][0].y;\nauto mz = vvp[0][0].z;\n\nstd::for_each(vvp.cbegin(), vvp.cend(),\n   [&amp;](std::vector&lt;Point3f&gt; const &amp; vp)\n       { std::for_each(vp.cbegin(), vp.cend(),\n            [&amp;](Point3f const &amp; p)\n               { mx = std::max(mx, p.x);\n                 my = std::max(my, p.y);\n                 mz = std::max(mz, p.z); }); });\n</code></pre>\n\n<p>If you can use C++14, so lambda functions with <code>auto</code> arguments, the double <code>std::for_each()</code> part can be simply written as</p>\n\n<pre><code>std::for_each(vvp.cbegin(), vvp.cend(), [&amp;](auto const &amp; vp)\n { std::for_each(vp.cbegin(), vp.cend(), [&amp;](auto const &amp; p)\n    { mx = std::max(mx, p.x);\n      my = std::max(my, p.y);\n      mz = std::max(mz, p.z); }); });\n</code></pre>\n\n<p>so without expliciting <code>Poinf3f</code> and usable by other point-3d like types.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1494508299, "last_edit_date": 1494508299, "creation_date": 1494437904, "answer_id": 43899339, "question_id": 43896491, "link": "https://stackoverflow.com/questions/43896491/highest-values-in-vector-vectorpoint3f/43899339#43899339", "title": "Highest values in vector&lt; vector&lt;Point3f&gt; &gt;", "body": "<p>This is C++14.</p>\n\n<p>This is a solution without explicit loops in client code.</p>\n\n<pre><code>template&lt;class F&gt;\nauto foreacher(F&amp;&amp; f) {\n  return [f=std::forward&lt;F&gt;(f)](auto&amp;&amp; r)mutable{\n    for (auto&amp;&amp; e:decltype(r)(r))\n      f(decltype(e)(e));\n  };\n}\n\nstd::vector&lt;std::vector&lt;Point3f&gt;&gt; data = {whatever};\nauto mx = data[0][0].x;\nauto task = foreacher(foreacher([&amp;](Point3f const&amp; e){\n  mx = (std::max)(mx, e.x);\n}));\n\ntask(data);\n</code></pre>\n\n<p>We take our lambda that solves the problem on an element, then we wrap it in two modifiers that make it iterate over the contents of the argument.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/6bf81ce906ce3574\" rel=\"nofollow noreferrer\">Live example</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1494439144, "last_edit_date": 1494439144, "creation_date": 1494438822, "answer_id": 43899565, "question_id": 43896491, "link": "https://stackoverflow.com/questions/43896491/highest-values-in-vector-vectorpoint3f/43899565#43899565", "title": "Highest values in vector&lt; vector&lt;Point3f&gt; &gt;", "body": "<p>You can use <code>std::accumulate</code> which maps to this task pretty well:</p>\n\n<pre><code>const auto min = std::numeric_limits&lt;float&gt;::min();\nPoint3f init( min, min, min );\nstd::vector&lt; std::vector&lt;Point3f&gt; &gt; cluster_points;\nauto max = std::accumulate( cluster_points.begin(), cluster_points.end(), init, []( const Point3f &amp;p, const std::vector&lt;Point3f&gt; &amp;v ) {\n    return std::accumulate( v.begin(), v.end(), p, []( const Point3f &amp;p1, const Point3f &amp;p2 ) {\n       return Point3f( std::max( p1.x, p2.x ), std::max( p1.y, p2.y ), std::max( p1.z, p2.z ) );\n   }\n} ) );\n</code></pre>\n\n<p>And this requires only C++11, with C++14 it could be simplified by using <code>auto</code> arguments in lambdas</p>\n"}, {"tags": [], "owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1494443389, "creation_date": 1494443389, "answer_id": 43900894, "question_id": 43896491, "link": "https://stackoverflow.com/questions/43896491/highest-values-in-vector-vectorpoint3f/43900894#43900894", "title": "Highest values in vector&lt; vector&lt;Point3f&gt; &gt;", "body": "<p>Although there are several great answers, I am just writing the one which is <em>pure opencv</em>, I leave the investigation upon the fastest way to you.</p>\n\n<pre><code>std::vector&lt;Point3f&gt; points;\n// .. fill the array\nMat pointsMat = Mat(points).reshape(1); \n</code></pre>\n\n<p><a href=\"http://www.swarthmore.edu/NatSci/mzucker1/opencv-2.4.10-docs/doc/user_guide/ug_mat.html#memory-management-and-reference-counting\" rel=\"nofollow noreferrer\"><strong>Quoting</strong></a> - \nAs a result we get a 32FC1 matrix with 3 columns instead of 32FC3 matrix with 1 column. pointsMat uses data from points and will not deallocate the memory when destroyed. In this particular instance, however, developer has to make sure that lifetime of points is longer than of pointsMat.</p>\n\n<p>Then, now that you have a Mat with all your <code>Point3f</code>, you could use the following:</p>\n\n<pre><code>minMaxLoc(pointsMat, &amp;minVal, &amp;maxVal);\n</code></pre>\n\n<p>If you wish to do this for <code>std::vector&lt;std::vector&lt;Point3f&gt;&gt; All_points</code> you can make a single channel <code>Mat</code> with number of columns = <code>All_points.size() * 3</code> and use the same function <code>minMaxLoc</code>. This will give you <code>minVal</code> and <code>maxVal</code> along all point sets. </p>\n\n<p>You can also get the location of the <code>minVal</code> and <code>maxVal</code> like:</p>\n\n<pre><code>minMaxLoc(pointsMat, &amp;minVal, &amp;maxVal, &amp;minLoc, &amp;maxLoc);\n</code></pre>\n\n<p>which is of course in the <em>reshaped Mat</em>.</p>\n\n<p>Hope it helps!</p>\n\n<p><em>P.S. Kudos to the C++11 and C++14 answers</em></p>\n"}], "owner": {"reputation": 187, "user_id": 4219280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3413b306303af18059b10cb28d1e906d?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/4219280/harsh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1494508299, "creation_date": 1494429131, "last_edit_date": 1494432764, "question_id": 43896491, "link": "https://stackoverflow.com/questions/43896491/highest-values-in-vector-vectorpoint3f", "title": "Highest values in vector&lt; vector&lt;Point3f&gt; &gt;", "body": "<p>I know the how to find the highest values for the data types like <code>int</code>, <code>float</code>, <code>double</code>, etc. But here I am working with <code>x</code>, <code>y</code>, &amp; <code>z</code> coordinates by using <code>Point3f</code>. So can anybody help to find the highest values of <code>x</code>, <code>y</code> or <code>z</code> from  a <code>std::vector</code> of <code>std::vector</code>?   </p>\n\n<pre><code>std::vector&lt; std::vector&lt;Point3f&gt; &gt; cluster_points;\n</code></pre>\n\n<p>for simplicity lets say I want to find the highest values only for <code>x</code> axis among all.</p>\n"}, {"tags": ["c++", ".net"], "comments": [{"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 3, "creation_date": 1494429094, "post_id": 43896405, "comment_id": 74826927, "body": "<code>colorCode gradebookColor = colorCode::Green</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "edited": false, "score": 0, "creation_date": 1494434984, "post_id": 43896517, "comment_id": 74830690, "body": "Thank you. I have tried that. I still receive the same error:  Green: undeclared identifier."}], "tags": [], "owner": {"reputation": 1217, "user_id": 2660911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580a3e9a6939226a59fadb456c38912a?s=128&d=identicon&r=PG", "display_name": "baddger964", "link": "https://stackoverflow.com/users/2660911/baddger964"}, "is_accepted": true, "score": 1, "last_activity_date": 1494429210, "creation_date": 1494429210, "answer_id": 43896517, "question_id": 43896405, "link": "https://stackoverflow.com/questions/43896405/data-types-in-c/43896517#43896517", "title": "Data Types in C++", "body": "<p>Like Ceros says in the comment, you need to append the enum type : </p>\n\n<pre><code>colorCode gradebookColor = colorCode::Green;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "edited": false, "score": 0, "creation_date": 1494435146, "post_id": 43896528, "comment_id": 74830779, "body": "I changed my enum class to enum so the int gradebookColor will be accepted, but it will not print out &quot;green&quot;."}, {"owner": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "edited": false, "score": 0, "creation_date": 1494435202, "post_id": 43896528, "comment_id": 74830819, "body": "enum colorCode { \t\t Green = 1, \t\t Yellow = 5, \t\t Red = 10 \t }; \t  \t unsigned int gradebookColor; //Stores list of values \t colorCode gradebookColor = colorCode::Green; //This line does not need a declaration, it was declared in the line above \t bool isStudentPassing = true; //Could be true or false"}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "reply_to_user": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "edited": false, "score": 0, "creation_date": 1494439080, "post_id": 43896528, "comment_id": 74833107, "body": "@rmac This <code>unsigned int gradebookColor = colorCode::Green;</code> works. Also, a print to console will never print the string representation of the enum, only it&#39;s numerical value sadly."}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "reply_to_user": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "edited": false, "score": 0, "creation_date": 1494439222, "post_id": 43896528, "comment_id": 74833180, "body": "@rmac and you cannot declare twice the same variable. <code>unsigned int gradebookColor;</code> followed by <code>colorCode gradebookColor;</code> You will get a compiler error"}], "tags": [], "owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "is_accepted": false, "score": 1, "last_activity_date": 1494429265, "creation_date": 1494429265, "answer_id": 43896528, "question_id": 43896405, "link": "https://stackoverflow.com/questions/43896405/data-types-in-c/43896528#43896528", "title": "Data Types in C++", "body": "<p>Change the type of your variable.</p>\n\n<pre><code>enum colorCode\n{\n  Green = 1\n};\n\ncolorCode gradebookColor = colorCode::Green;\n\nstd::cout &lt;&lt; gradebookColor &lt;&lt; std::endl;\n</code></pre>\n\n<p>Will output \"1\"</p>\n"}, {"tags": [], "owner": {"reputation": 612, "user_id": 7649016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2b84e8433cb3e43386fab052018f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Stern", "link": "https://stackoverflow.com/users/7649016/sebastian-stern"}, "is_accepted": false, "score": 1, "last_activity_date": 1494429489, "creation_date": 1494429489, "answer_id": 43896624, "question_id": 43896405, "link": "https://stackoverflow.com/questions/43896405/data-types-in-c/43896624#43896624", "title": "Data Types in C++", "body": "<p>When you define an <code>enum class</code> you have to prepend the name of the <code>enum</code> to access its values: <code>colorCode::Green</code>. You could also define your <code>enum</code> without the <code>class</code> specifier, then the name is optional. However, keep in mind that the <code>enum</code> is then implicitly convertible from and to <code>int</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8543015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4pKE4eby5EA/AAAAAAAAAAI/AAAAAAAAGkQ/rv-tO73I0mY/photo.jpg?sz=128", "display_name": "Nishant Sharma", "link": "https://stackoverflow.com/users/8543015/nishant-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1504179763, "creation_date": 1504179763, "answer_id": 45980651, "question_id": 43896405, "link": "https://stackoverflow.com/questions/43896405/data-types-in-c/45980651#45980651", "title": "Data Types in C++", "body": "<p>data types:--Data types are means to identify the type of data and associated operations for handling it.\nbasically two types of data types\n1. fundamental  data types (int, char, bool, float, double, void)\n2.derived data types(array,pointer,struct,class etc)\nfor more detail in simple language click on the link given below\n<a href=\"https://simplifiedtutorial4u.blogspot.in/2017/08/data-types-in-c.html\" rel=\"nofollow noreferrer\">https://simplifiedtutorial4u.blogspot.in/2017/08/data-types-in-c.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 7513452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0857f5fcb26c630b6c67c1c9d925a17?s=128&d=identicon&r=PG&f=1", "display_name": "rmac", "link": "https://stackoverflow.com/users/7513452/rmac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 43896517, "answer_count": 4, "score": 0, "last_activity_date": 1591421121, "creation_date": 1494428953, "last_edit_date": 1494435323, "question_id": 43896405, "link": "https://stackoverflow.com/questions/43896405/data-types-in-c", "title": "Data Types in C++", "body": "<p>I am working on an assignment to Fill in the blank Data Types. \nI have reread the small chapters numerous times in \"Learn C++ for Game Development\" \nand tried various types but,\nMy issue is calling the color Green from the \nEnum.</p>\n\n<p>Here is the original code:</p>\n\n<pre><code>// DataTypes.cpp : The data types to declare each of the variables is missing.\n// Based on the value being stored in the variable and the comments beside it, \n// fill in the data type at the beginning of each line.  Then compile and run \n// program to make sure you selected the correct types.\n//\n// After you submit your answers, try changing the values stored in the\n// variables.  What can you learn about the different data types?\n//\n\n#include \"stdafx.h\"\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int atgc, const char * arg[])\n{\n classAverage = 90.7f; //Decimal number\n letterScore = 'A'; //Single letter\n testScore = 95; //Whole number value\n classTestAverage = 88.4f; //Decimal number, notice the 'f' at the end\n colorCode{\n    Green = 1,\n    Yellow = 5,\n    Red = 10\n} gradebookColor; //Stores list of values\ngradebookColor = Green; //This line does not need a declaration, it was declared in the line above\n isStudentPassing = true; //Could be true or false\n\ncout &lt;&lt; \"The class average is currently \"\n    &lt;&lt; classAverage\n    &lt;&lt; endl;\ncout &lt;&lt; \"The class test average was \"\n    &lt;&lt; classTestAverage\n    &lt;&lt; endl;\ncout &lt;&lt; \"Your test score was \"\n    &lt;&lt; testScore\n    &lt;&lt; endl;\ncout &lt;&lt; \"Your current letter score is \"\n    &lt;&lt; letterScore\n    &lt;&lt; endl;\ncout &lt;&lt; \"The color of your gradebook entry is \"\n    &lt;&lt; gradebookColor\n    &lt;&lt; endl;\ncout &lt;&lt; \"Are you passing? \"\n    &lt;&lt; boolalpha        //This line allows the word 'true' or 'false' to be printed instead of '0' or '1'\n    &lt;&lt; isStudentPassing\n    &lt;&lt; endl;\nreturn 0;\n}\n</code></pre>\n\n<p>Here is what I have completed so far:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int atgc, const char * arg[])\n{\n float classAverage = 90.7f; //Decimal number\n char letterScore = 'A'; //Single letter\n int testScore = 95; //Whole number value\n float classTestAverage = 88.4f; //Decimal number, notice the 'f' at the end\n enum class colorCode {\n     Green = 1,\n     Yellow = 5,\n     Red = 10\n };\n\nunsigned int gradebookColor; //Stores list of values\n colorCode gradebookColor = colorCode::Green; //This line errors out     bool isStudentPassing = true; //Could be true or false\ncout &lt;&lt; \"The class average is currently \"\n    &lt;&lt; classAverage\n    &lt;&lt; endl;\ncout &lt;&lt; \"The class test average was \"\n    &lt;&lt; classTestAverage\n    &lt;&lt; endl;\ncout &lt;&lt; \"Your test score was \"\n    &lt;&lt; testScore\n    &lt;&lt; endl;\ncout &lt;&lt; \"Your current letter score is \"\n    &lt;&lt; letterScore\n    &lt;&lt; endl;\ncout &lt;&lt; \"The color of your gradebook entry is \"\n    &lt;&lt; gradebookColor\n    &lt;&lt; endl;\ncout &lt;&lt; \"Are you passing? \"\n    &lt;&lt; boolalpha        //This line allows the word 'true' or 'false' to be printed instead of '0' or '1'\n    &lt;&lt; isStudentPassing\n    &lt;&lt; endl;\nreturn 0;\n}\n</code></pre>\n\n<p>I know I  am not understanding how to call the  color Green. I have tried various combinations suggested in the book, but nothing seems to work. </p>\n\n<p>Please help so I can fix this and understand why.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 1, "creation_date": 1494428451, "post_id": 43896177, "comment_id": 74826410, "body": "See here for some ideas <a href=\"http://stackoverflow.com/a/17774781/133203\">stackoverflow.com/a/17774781/133203</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "is_accepted": true, "score": 10, "last_activity_date": 1494428695, "creation_date": 1494428695, "answer_id": 43896298, "question_id": 43896177, "link": "https://stackoverflow.com/questions/43896177/check-pointers-nullability-pointer-or-pointer-nullptr/43896298#43896298", "title": "Check pointer&#39;s nullability: !pointer or pointer == nullptr?", "body": "<p>Both are equivaluent because <code>nullptr</code> is guaranteed to be converted to <code>false</code> when converted to a boolean.</p>\n\n<p>From N4296:</p>\n\n<blockquote>\n  <p><strong>4.12 Boolean conversions</strong><br>\n  <sup>1</sup> A prvalue of arithmetic, unscoped enumeration, pointer, or pointer to member type can be\n  converted to a prvalue of type bool. A zero value, null pointer value,\n  or null member pointer value is converted to false; any other value is\n  converted to true. For direct-initialization (8.5), a prvalue of type\n  std::nullptr_t can be converted to a prvalue of type bool; the\n  resulting value is false.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1217, "user_id": 2660911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580a3e9a6939226a59fadb456c38912a?s=128&d=identicon&r=PG", "display_name": "baddger964", "link": "https://stackoverflow.com/users/2660911/baddger964"}, "is_accepted": false, "score": 1, "last_activity_date": 1494428699, "last_edit_date": 1495542865, "creation_date": 1494428699, "answer_id": 43896301, "question_id": 43896177, "link": "https://stackoverflow.com/questions/43896177/check-pointers-nullability-pointer-or-pointer-nullptr/43896301#43896301", "title": "Check pointer&#39;s nullability: !pointer or pointer == nullptr?", "body": "<p>According the standard and this answers (<a href=\"https://stackoverflow.com/questions/33474487/implicit-cast-of-null-pointer-to-bool\">Implicit cast of null pointer to bool</a>) the two syntax have the same behavior </p>\n"}], "owner": {"reputation": 1547, "user_id": 5750052, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/PGxow.png?s=128&g=1", "display_name": "Jules Lamur", "link": "https://stackoverflow.com/users/5750052/jules-lamur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2904, "favorite_count": 0, "closed_date": 1535535208, "accepted_answer_id": 43896298, "answer_count": 2, "score": 4, "last_activity_date": 1494428699, "creation_date": 1494428321, "question_id": 43896177, "link": "https://stackoverflow.com/questions/43896177/check-pointers-nullability-pointer-or-pointer-nullptr", "closed_reason": "Duplicate", "title": "Check pointer&#39;s nullability: !pointer or pointer == nullptr?", "body": "<p>Suppose I have a pointer: <code>int *pointer</code>.</p>\n\n<p>If I want to test its nullability, should I do it with:</p>\n\n<pre><code>bool nullability = !pointer;\n</code></pre>\n\n<p>Or with:</p>\n\n<pre><code>bool nullability = (pointer == nullptr);\n</code></pre>\n\n<p>Are both expressions equivalent?\nIf not, why and what are the side effects?</p>\n"}, {"tags": ["python", "c++", "maya"], "answers": [{"comments": [{"owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494439266, "post_id": 43897959, "comment_id": 74833211, "body": "So i need to construct the output mesh myself, i.e. in the command which constructs the node? I need to have a common node, because the objects are influencing each other in a way, which cannot be computed one after another. I would have liked to have a node for transforms (i.e. groups) or even better for sets, but this doesn&#39;t seem to work well. Sets cannot be reparented and i had problems using a node with a transform."}, {"owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494439353, "post_id": 43897959, "comment_id": 74833262, "body": "Another short question: Is there a common way (or maybe some example code) how a typicial node hides the original (from view and in the outliner) and creates the result? Is it removed from DAG or just hidden in some way?"}, {"owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "reply_to_user": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494449385, "post_id": 43897959, "comment_id": 74838811, "body": "In this case, you should do all your geometry operations in object space so that you change the contents of the geometryShape, leaving the transform hierarchy alone.  If you really need to manage multiple shapes at once you can make a multi attribute.  I&#39;d try outputting just one mesh and then using a plain old Maya <code>polySeparate</code> node to split it up again, instead of managing multiple output meshes.  The other thing is -- does this need to be a node at all? It&#39;s much easier in general to make commands or scripts."}, {"owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494511867, "post_id": 43897959, "comment_id": 74868922, "body": "Its part of a way more complex project. We need to project there values from some mesh around the objects onto the objects. I try to use a structure with one node per object and two inputs, one for the wrapping mesh and one for the object mesh."}, {"owner": {"reputation": 3964, "user_id": 1335032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18a1d5cae5b41b020948885e254ce?s=128&d=identicon&r=PG", "display_name": "joojaa", "link": "https://stackoverflow.com/users/1335032/joojaa"}, "reply_to_user": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494790420, "post_id": 43897959, "comment_id": 74965960, "body": "@allo you can either work with the system or against it. If you work against ot then you will feel like fighting every step on your way."}, {"owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "edited": false, "score": 0, "creation_date": 1494847523, "post_id": 43897959, "comment_id": 74985680, "body": "Currently i am starting to use a structure, which is different from both approaches. Anyway the answer helped at lot. When i asked the question, i did not fully know how a node works and thought it was a much more rigid contruct than it is."}], "tags": [], "owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "is_accepted": true, "score": 3, "last_activity_date": 1494433264, "creation_date": 1494433264, "answer_id": 43897959, "question_id": 43896000, "link": "https://stackoverflow.com/questions/43896000/how-does-maya-know-what-the-output-mesh-of-your-mpxnode-is/43897959#43897959", "title": "How does maya know, what the output mesh of your MPxNode is?", "body": "<p>Maya doesn't detect unconnected plugs. Instead, it evaluates on demand when something in the network of nodes changes and forces re-evaluations where necessary. You set up the conditions it cares about when you initialize a node using <code>MPxNode::attributeAffects()</code>  or its Python equivalent.  Changes to an input will be pushed downstream by other nodes as needed; when a change comes in to your node it will call the <code>MPxNode::compute compute()</code> passing the appropriate plug as an argument.  Your node will then update its outputs, passing them along the chain to other nodes.</p>\n\n<p>You probably don't want to make your node take an array of input nodes an return an array of outputs.  It's simpler and more maya-esque to make a node which modifies only one node at a time. That helps localizes chnges in the dependency graph and makes your scene run faster.</p>\n"}], "owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 43897959, "answer_count": 1, "score": 0, "last_activity_date": 1494439478, "creation_date": 1494427902, "last_edit_date": 1494439478, "question_id": 43896000, "link": "https://stackoverflow.com/questions/43896000/how-does-maya-know-what-the-output-mesh-of-your-mpxnode-is", "title": "How does maya know, what the output mesh of your MPxNode is?", "body": "<p>When using a <a href=\"http://help.autodesk.com/view/MAYAUL/2017/ENU/?guid=__cpp_ref_split_u_v_cmd_2poly_modifier_node_8h_example_html\" rel=\"nofollow noreferrer\">PolyModifierNode</a>, the node has a <code>inMesh</code> and a <code>outMesh</code> attribute/plug, where the <code>inMesh</code> is hidden and replaced by the <code>outMesh</code>. \nBut a general <a href=\"http://help.autodesk.com/view/MAYAUL/2017/ENU/?guid=__cpp_ref_class_m_px_node_html\" rel=\"nofollow noreferrer\">MPxNode</a> may have many inputs and outputs, which can be networked in complicated ways.</p>\n\n<p>My problem in understanding the structure of the MPxNode is, that I do not see in which way maya knows, which objects from the input are transformed into which output objects.\nI would have expected something like the <code>outMesh</code> from the last node in the graph connected to some <code>SceneRenderer.inputMeshes</code> plug, but maya seems to automatically detect in some way which unused <code>outMesh</code> plugs should be rendered.</p>\n\n<p>Finally I want to write a node, which gets an array of input meshes and an additional control mesh and should output an array of modified meshes, which replaces the original meshes. </p>\n\n<p>I am using calculations where all objects in the group influence each other, so it cannot be done one by one. It would be possible to use one node per input, but the compute function would need to trigger the computation on all other input meshes as well.</p>\n"}, {"tags": ["c++", "cuda", "gpu", "nvidia"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 1, "creation_date": 1494427733, "post_id": 43895854, "comment_id": 74825792, "body": "any time you are having trouble with a CUDA code, it&#39;s good practice to use <a href=\"http://stackoverflow.com/questions/14038589/what-is-the-canonical-way-to-check-for-errors-using-the-cuda-runtime-api\">proper CUDA error checking</a> and run your code with <code>cuda-memcheck</code>, <i>before</i> asking others for help.  Even if you don&#39;t understand the error output, it will be useful to others trying to help you."}, {"owner": {"reputation": 1015, "user_id": 7691497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-46wzsjmiSDg/AAAAAAAAAAI/AAAAAAAAAAk/qjgRQMlHINA/photo.jpg?sz=128", "display_name": "Ben Steffan", "link": "https://stackoverflow.com/users/7691497/ben-steffan"}, "edited": false, "score": 0, "creation_date": 1494427765, "post_id": 43895854, "comment_id": 74825821, "body": "Why are you using so many C functions (<code>fread</code>, <code>malloc</code>,  <code>fwrite</code>)?"}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "edited": false, "score": 0, "creation_date": 1494427983, "post_id": 43895854, "comment_id": 74826027, "body": "To Robert : Ok, I will implement error checking and edit question. To Ben:  Those are used for loading and storing information about pixels from .bmp file. This way I managed it -&gt; Seems like I&#39;m not so good in programming"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1494428417, "post_id": 43895854, "comment_id": 74826386, "body": "Try giving a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 1, "creation_date": 1494428485, "post_id": 43895854, "comment_id": 74826433, "body": "at least one problem is here:  <code>cudaMemcpy(&amp;d_size, &amp;size, sizeof(size), cudaMemcpyHostToDevice);</code>  The ampersand (<code>&amp;</code>) on <code>d_size</code> does not belong there.  It should be removed.  If you had implemented proper CUDA error checking, you would have been alerted to this already."}, {"owner": {"reputation": 4270, "user_id": 2386113, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/82njB.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/2386113/skm"}, "edited": false, "score": 0, "creation_date": 1494428733, "post_id": 43895854, "comment_id": 74826635, "body": "@JaroslavPetr&#237;k: I am not sure if you have the same problem but check this nice question about copying RGB image in CUDA. <a href=\"http://stackoverflow.com/questions/31673359/understanding-the-copy-done-by-memcpy\" title=\"understanding the copy done by memcpy\">stackoverflow.com/questions/31673359/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "reply_to_user": {"reputation": 4270, "user_id": 2386113, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/82njB.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/2386113/skm"}, "edited": false, "score": 0, "creation_date": 1494430707, "post_id": 43895854, "comment_id": 74828082, "body": "@skm: I&#39;m afraid this question will not help because it is copying memory only on host(CPU memory) and I need to transfer part of memory between CPU and GPU. Also it was copying from .png to .jpg data type."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "edited": false, "score": 0, "creation_date": 1494431394, "post_id": 43895854, "comment_id": 74828540, "body": "The problem is in variables in these lines of code according to error check, but I don&#39;t know which variable is problem. cudaMemcpy(d_bufferRGB, &amp;bufferRGB, size, cudaMemcpyHostToDevice);  cudaMemcpy(new_bufferRGB, d_new_bufferRGB, size, cudaMemcpyDeviceToHost);  I undesrtand that the first variable is destination, the second is source and the third is size to copy. What is my mistake ?"}, {"owner": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494434497, "post_id": 43895854, "comment_id": 74830411, "body": "What error do you get? Are you sure <code>size</code> is not greater than <code>width*height*4</code>? Is <code>sizeof(RGBTRIPLE)</code> meant to be <code>4</code>? (Referring to the first two lines in the <code>main</code> function) And I am curious: Why do you declare the variables global <i>and</i> parse them to the functions?"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494436580, "post_id": 43895854, "comment_id": 74831645, "body": "The line of code you are showing in your comment: <code>cudaMemcpy(d_bufferRGB, &amp;bufferRGB, size, cudaMemcpyHostToDevice); </code> does not match the line of code you have posted in your question: <code>cudaMemcpy(d_bufferRGB, bufferRGB, size, cudaMemcpyHostToDevice)</code>.  The one in your posting is of the correct form.  The one in your comment is not.  If you&#39;re working with code that you haven&#39;t posted, I&#39;m not sure how you expect help from others."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "reply_to_user": {"reputation": 725, "user_id": 7968757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febedd8312ee6b7f6559b765f27da3e6?s=128&d=identicon&r=PG&f=1", "display_name": "BlameTheBits", "link": "https://stackoverflow.com/users/7968757/blamethebits"}, "edited": false, "score": 0, "creation_date": 1494437367, "post_id": 43895854, "comment_id": 74832084, "body": "@Shadow The error says : &quot;Invalid argument&quot;. size is int value read from BMP header and it is the same value as width*height*3; I made *4 bcs sizeof(RGBTRIPLE) is 4. This type is defined by microsoft in some of its libraries.  In my opinion it should be 3 bcs it stores valued red, green and blue (8 bits each). The variables are global because i have implemented much more filters on host CPU (clasical c++ code) and now I am trying to do the same filters on GPU device.  OFF TOPIC: how do you mark variables with grey ? I am new to this website."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494437950, "post_id": 43895854, "comment_id": 74832443, "body": "@Robert Crovella I made a typo in comment. Sorry. But I am so unlucky that either one option does not work for me, still with the same error. Compiler acts as everything is ok but cudaerrorcheck says that I have invalid  argument in function cudaMemcpy. The result is that i am not able to save bitmap and i am afraid that the code dont even load the bufferRGB into gpu&#39;s d_bufferRGB."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494446914, "post_id": 43895854, "comment_id": 74837550, "body": "one problem you have now is that your <code>width</code> and <code>heigth</code> parameters are being used in <code>main</code> uninitialized.   They are initialized by <code>load_bmp</code>, but you are not calling that till later.  Call <code>load_bmp</code> as the very first line of code in <code>main</code>.  The next issue is that your bitmap <code>size</code> calculation is not correct."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494447255, "post_id": 43895854, "comment_id": 74837721, "body": "another problem is that you are not allocating for <code>new_bufferRGB</code> anywhere.  You should provide a host buffer allocation before attempting to use it in the final <code>cudaMemcpy</code>"}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "edited": false, "score": 0, "creation_date": 1494449733, "post_id": 43895854, "comment_id": 74838987, "body": "@ Robert Crovella MAN I ABSOLUTELY ADMIRE YOU. You made it. Thanks a milion times. Now I only need to make dynamic allocation of size of kernel but i think i can make it. Please make your comment an answer so I can mark it as solution and give you points you deserve.   BTW : why is size calculation wrong ? as far as I can see it works and when I was debbuging filters for CPU, the actual size was the same as width*heigth*3 (which I think is size of pixel data)."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494450747, "post_id": 43895854, "comment_id": 74839479, "body": "I was getting an incorrect size.  I was also (obviously) using a different bitmap file than you, and that may have been the issue.  I was using a  BM8 (photoshop) bitmap file.  Anyway, if the <code>size</code> is correct for you, great."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "edited": false, "score": 0, "creation_date": 1494450903, "post_id": 43895854, "comment_id": 74839550, "body": "Yeah, this code is wrote for 24 color depth, which is BMP ver 3 by Microsoft. BMP of other version have different variables in headers."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494519491, "post_id": 43895854, "comment_id": 74874789, "body": "I was never able to get my code to run perfectly, probably because I was using the wrong kind of BMP file.  My suggestion would be that you post your updated/fixed code as an answer.  I think that would be most useful for future readers.  If you post a reasonably complete answer I would upvote it."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "edited": false, "score": 0, "creation_date": 1494611729, "post_id": 43895854, "comment_id": 74920255, "body": "Ok. I&#39;m gonna put it there."}, {"owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494613755, "post_id": 43895854, "comment_id": 74921377, "body": "One last question @RobertCrovella U dont have to answer me. When i tried to somehow make a frame around a picture in cuda kernel, it made som strange lines around each kernel. Don&#39;t you know how to find out if some pixel is for example 5 r less pixels far from the edge of original picture, not 5 pixels far from kernel edge ?"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1494615707, "post_id": 43895854, "comment_id": 74922341, "body": "I wouldn&#39;t know without seeing the code. Probably you should ask a new question if you need help with it."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "is_accepted": true, "score": 1, "last_activity_date": 1494613274, "creation_date": 1494613274, "answer_id": 43944225, "question_id": 43895854, "link": "https://stackoverflow.com/questions/43895854/cudamemcpy-seems-to-not-work-properly/43944225#43944225", "title": "cudaMemcpy - seems to not work properly", "body": "<p>So, with significant help obtained from @Robert Crovella i had finished my code. I also made some extra features like dynamic kernel allocation as a free gift for internet users. Code is fully functional for BMP ver. 3 from Microsoft(one can create some in Paint). I've tried to upload some image but it can be max 2MB big, which is not enough for true color depth. When compiling, there is error of null pointer but the program is created and stored in project Debug folder. When you run it with an image in the folder, it works without problem. </p>\n\n<p>The problem with code above are > \n1, uninicialised new_bufferRGB\n2, load function do not provide variables sooner then I use them\n3, mistakes in cudaMemcpy function</p>\n\n<p>SO, HERE IS THE CODE >>></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;Windows.h&gt;\n#include &lt;cuda_runtime.h&gt;\n#include &lt;cuda.h&gt;\n#include \"device_launch_parameters.h\"\n#include &lt;iostream&gt;\n\n\nint width, heigth;\nlong size;\nlong *d_size;\nRGBTRIPLE *bufferRGB, *new_bufferRGB;\nRGBTRIPLE *d_bufferRGB, *d_new_bufferRGB;\n\n#define gpuErrchk(ans) { gpuAssert((ans), __FILE__, __LINE__); }\ninline void gpuAssert(cudaError_t code, const char *file, int line, bool abort = true)\n{\n    if (code != cudaSuccess)\n    {\n        fprintf(stderr, \"GPUassert: %s %s %d\\n\", cudaGetErrorString(code), file, line);\n        //if (abort) exit(code);\n    }\n}\n\nvoid load_bmp(RGBTRIPLE **bufferRGB, int *width, int *heigth, const char *file_name)\n{\n    BITMAPFILEHEADER bmp_file_header;\n    BITMAPINFOHEADER bmp_info_header;\n    FILE *file;\n\n    file = fopen(file_name, \"rb\");\n\n    fread(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n\n    fread(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n\n    *width = bmp_info_header.biWidth;\n    *heigth = bmp_info_header.biHeight;\n    size = (bmp_file_header.bfSize - bmp_file_header.bfOffBits);\n    std::cout &lt;&lt; \"size of loaded pixels is \" &lt;&lt; size &lt;&lt; '\\n';\n\n    int x, y;\n    *bufferRGB = (RGBTRIPLE *)malloc(*width* *heigth * 4);\n\n    fseek(file, bmp_file_header.bfOffBits - sizeof(bmp_file_header) - sizeof(bmp_info_header), SEEK_CUR);\n\n    for (y = 0; y &lt; *heigth; y++)\n    {\n        for (x = 0; x &lt; *width; x++)\n        {\n            (*bufferRGB)[(y * *width + x)].rgbtBlue = fgetc(file);\n            (*bufferRGB)[(y * *width + x)].rgbtGreen = fgetc(file);\n            (*bufferRGB)[(y * *width + x)].rgbtRed = fgetc(file);\n        }\n        for (x = 0; x &lt; (4 - (3 * *width) % 4) % 4; x++)\n            fgetc(file);\n    }\n    fclose(file);\n}\n\nvoid save_bmp(RGBTRIPLE *bufferRGB, const char *new_name, const char *old_name)\n{\n    BITMAPFILEHEADER bmp_file_header;\n    BITMAPINFOHEADER bmp_info_header;\n    FILE *file;\n\n    file = fopen(old_name, \"rb\");\n\n    fread(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n\n    fread(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n    fclose(file);\n\n    file = fopen(new_name, \"wb\");\n\n    fwrite(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n    fwrite(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n    fseek(file, bmp_file_header.bfOffBits - sizeof(bmp_file_header) - sizeof(bmp_info_header), SEEK_CUR);\n\n    int alligment_x = (4 - (3 * width) % 4) % 4;\n    unsigned char *to_save = (unsigned char *)malloc((width * 3 + alligment_x)*heigth);\n    unsigned int index = 0;\n    int x, y;\n\n    for (y = 0; y &lt; heigth; y++)\n    {\n        for (x = 0; x &lt; width; x++)\n        {\n            to_save[index++] = bufferRGB[(y * width + x)].rgbtBlue;\n            to_save[index++] = bufferRGB[(y * width + x)].rgbtGreen;\n            to_save[index++] = bufferRGB[(y * width + x)].rgbtRed;\n        }\n        for (x = 0; x &lt; alligment_x; x++)\n            to_save[index++] = 0;\n    }\n    fwrite(to_save, (width * 3 + alligment_x)*heigth, 1, file);\n\n    fclose(file);\n    free(to_save);\n}\n\n\n__global__ void CUDA_filter_grayscale(const RGBTRIPLE *d_bufferRGB, RGBTRIPLE *d_new_bufferRGB, long *d_size)\n{\n    int idx = blockIdx.x*blockDim.x + threadIdx.x;\n    BYTE grayscale;\n\n    if (idx &lt; *d_size)\n    {\n        grayscale = ((d_bufferRGB[idx].rgbtRed + d_bufferRGB[idx].rgbtGreen + d_bufferRGB[idx].rgbtBlue) / 3);\n        d_new_bufferRGB[idx].rgbtRed = grayscale;\n        d_new_bufferRGB[idx].rgbtGreen = grayscale;\n        d_new_bufferRGB[idx].rgbtBlue = grayscale;\n    }\n}\n\nint main()\n{\n    // load to have all variables reachable and loaded\n    load_bmp(&amp;bufferRGB, &amp;width, &amp;heigth, \"test.bmp\");\n\n    // inicialise buffer for copy of proccesed image from device to host \n    new_bufferRGB = (RGBTRIPLE *)malloc(width* heigth * 4);\n\n    //inicializing variables on GPU\n    gpuErrchk(cudaMalloc(&amp;d_new_bufferRGB, width*heigth * 4));\n    gpuErrchk(cudaMalloc(&amp;d_bufferRGB, width*heigth * 4));\n    gpuErrchk(cudaMalloc(&amp;d_size, sizeof(size)));\n\n    // copying variables to GPU\n    gpuErrchk(cudaMemcpy(d_size, &amp;size, sizeof(size), cudaMemcpyHostToDevice));\n    gpuErrchk(cudaMemcpy(d_bufferRGB, bufferRGB, size, cudaMemcpyHostToDevice));\n\n    // find out the kernel size, number of threads depends on your GPU max number of threads\n    int numbThreads = 1024;\n    int numbBlocks = (width*heigth) / numbThreads;\n    if (((width*heigth) % numbThreads)&gt;0)   numbBlocks++;\n\n    CUDA_filter_grayscale &lt;&lt;&lt;numbBlocks, numbThreads &gt;&gt;&gt; (d_bufferRGB, d_new_bufferRGB, d_size); \n\n    //copy result from device to host\n    gpuErrchk(cudaMemcpy(new_bufferRGB, d_new_bufferRGB, size, cudaMemcpyDeviceToHost));\n\n    //save result\n    save_bmp(new_bufferRGB, \"filter_grayscale_GPU.bmp\", \"test.bmp\");\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7987821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b4387f9d50932134244ac26c3bebae?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Petr&#237;k", "link": "https://stackoverflow.com/users/7987821/jaroslav-petr%c3%adk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 43944225, "answer_count": 1, "score": 0, "last_activity_date": 1494613274, "creation_date": 1494427557, "last_edit_date": 1494429679, "question_id": 43895854, "link": "https://stackoverflow.com/questions/43895854/cudamemcpy-seems-to-not-work-properly", "title": "cudaMemcpy - seems to not work properly", "body": "<p>I am trying to copy data from host to device in my GPU greyscale filter program. However, there is some kind of problem because when I try to do so, nothing happens. Probably I have some mistakes in my code but compiler doesn't show any errors. I need to copy variables d_bufferRGB into GPU, process it and return it in d_new_bufferRGB in order to save it with function save_bmp(); </p>\n\n<p>EDIT 1: implemented CUDA error checking in main()\n    It says there is invalid argument in this line cudaMemcpy(d_bufferRGB, bufferRGB, size, cudaMemcpyHostToDevice)</p>\n\n<p>HERE is the code >>></p>\n\n<pre><code>     #include &lt;stdio.h&gt;\n        #include &lt;stdlib.h&gt;\n        #include &lt;Windows.h&gt;\n        #include &lt;cuda_runtime.h&gt;\n        #include &lt;cuda.h&gt;\n        #include \"device_launch_parameters.h\"\n        #include &lt;iostream&gt;\n\n\n        #define gpuErrchk(ans) { gpuAssert((ans), __FILE__, __LINE__); }\ninline void gpuAssert(cudaError_t code, const char *file, int line, bool abort = true)\n{\n    if (code != cudaSuccess)\n    {\n        fprintf(stderr, \"GPUassert: %s %s %d\\n\", cudaGetErrorString(code), file, line);\n        if (abort) exit(code);\n    }\n}\n        int width, heigth;\n        long size;\n        long *d_size;\n        RGBTRIPLE *bufferRGB, *new_bufferRGB;\n        RGBTRIPLE *d_bufferRGB, *d_new_bufferRGB;\n\n\n        void load_bmp(RGBTRIPLE **bufferRGB, int *width, int *heigth, const char *file_name)\n        {\n            BITMAPFILEHEADER bmp_file_header;\n            BITMAPINFOHEADER bmp_info_header;\n            FILE *file;\n\n            file = fopen(file_name, \"rb\");\n\n            fread(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n\n            fread(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n\n            *width = bmp_info_header.biWidth;\n            *heigth = bmp_info_header.biHeight;\n            size = (bmp_file_header.bfSize - bmp_file_header.bfOffBits);\n            std::cout &lt;&lt; \"velkost nacitanych pixelov je \" &lt;&lt; size &lt;&lt;'\\n';\n\n            int x, y;\n            *bufferRGB = (RGBTRIPLE *)malloc(*width* *heigth * 4);\n\n            fseek(file, bmp_file_header.bfOffBits - sizeof(bmp_file_header) - sizeof(bmp_info_header), SEEK_CUR);\n\n            for (y = 0; y &lt; *heigth; y++)\n            {\n                for (x = 0; x &lt; *width; x++)\n                {\n                    (*bufferRGB)[(y * *width + x)].rgbtBlue = fgetc(file);\n                    (*bufferRGB)[(y * *width + x)].rgbtGreen = fgetc(file);\n                    (*bufferRGB)[(y * *width + x)].rgbtRed = fgetc(file);\n                }\n                for (x = 0; x &lt; (4 - (3 * *width) % 4) % 4; x++)\n                    fgetc(file);\n            }\n            fclose(file);\n        }\n\n        void save_bmp(RGBTRIPLE *bufferRGB, const char *new_name, const char *old_name)\n        {\n            BITMAPFILEHEADER bmp_file_header;\n            BITMAPINFOHEADER bmp_info_header;\n            FILE *file;\n\n            file = fopen(old_name, \"rb\");\n\n            fread(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n\n            fread(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n            fclose(file);\n\n            file = fopen(new_name, \"wb\");\n\n            fwrite(&amp;bmp_file_header, sizeof(BITMAPFILEHEADER), 1, file);\n            fwrite(&amp;bmp_info_header, sizeof(BITMAPINFOHEADER), 1, file);\n            fseek(file, bmp_file_header.bfOffBits - sizeof(bmp_file_header) - sizeof(bmp_info_header), SEEK_CUR);\n\n            int alligment_x = (4 - (3 * width) % 4) % 4;\n            unsigned char *to_save = (unsigned char *)malloc((width * 3 + alligment_x)*heigth);\n            unsigned int index = 0;\n            int x, y;\n\n            for (y = 0; y &lt; heigth; y++)\n            {\n                for (x = 0; x &lt; width; x++)\n                {\n                    to_save[index++] = bufferRGB[(y * width + x)].rgbtBlue;\n                    to_save[index++] = bufferRGB[(y * width + x)].rgbtGreen;\n                    to_save[index++] = bufferRGB[(y * width + x)].rgbtRed;\n                }\n                for (x = 0; x &lt; alligment_x; x++)\n                    to_save[index++] = 0;\n            }\n            std::cout &lt;&lt; \"velkost na ulozenie je \" &lt;&lt; sizeof(&amp;to_save) &lt;&lt; '\\n';\n            fwrite(to_save, (width * 3 + alligment_x)*heigth, 1, file);\n\n            fclose(file);\n            free(to_save);\n        }\n\n\n        __global__ void CUDA_filter_grayscale(const RGBTRIPLE *d_bufferRGB, RGBTRIPLE *d_new_bufferRGB, long *d_size)\n        {\n            int idx = blockIdx.x*blockDim.x + threadIdx.x;\n            BYTE grayscale;\n\n            if (idx &lt; *d_size)\n            {\n                grayscale = ((d_bufferRGB[idx].rgbtRed + d_bufferRGB[idx].rgbtGreen + d_bufferRGB[idx].rgbtBlue) / 3);\n                d_new_bufferRGB[idx].rgbtRed = grayscale;\n                d_new_bufferRGB[idx].rgbtGreen = grayscale;\n                d_new_bufferRGB[idx].rgbtBlue = grayscale;\n            }\n        }\n\n        int main()\n    {\n\n            gpuErrchk(cudaMalloc(&amp;d_new_bufferRGB, width*heigth * 4));\n            gpuErrchk(cudaMalloc(&amp;d_bufferRGB, width*heigth * 4));\n            gpuErrchk(cudaMalloc(&amp;d_size, sizeof(size)));\n\n            load_bmp(&amp;bufferRGB, &amp;width, &amp;heigth, \"test.bmp\"); //tu je vztvoreny a naplneny smernik *buffer_RGB\n\n            gpuErrchk(cudaMemcpy(d_size, &amp;size, sizeof(size), cudaMemcpyHostToDevice));\n            gpuErrchk(cudaMemcpy(d_bufferRGB, bufferRGB, size, cudaMemcpyHostToDevice));\n\n            CUDA_filter_grayscale &lt;&lt; &lt;32, 512 &gt;&gt; &gt; (d_bufferRGB, d_new_bufferRGB, d_size); //size of kernel dont bother me for now\n\n            gpuErrchk(cudaMemcpy(new_bufferRGB, d_new_bufferRGB, size, cudaMemcpyDeviceToHost));\n\n            save_bmp(new_bufferRGB, \"filter_grayscale_GPU.bmp\", \"test.bmp\");\n    } \n</code></pre>\n\n<p>It's killing my brain for several days, plese help me with this.</p>\n"}, {"tags": ["c++", "c", "windows", "winapi", "file-attributes"], "answers": [{"tags": [], "owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "is_accepted": true, "score": 8, "last_activity_date": 1494427578, "creation_date": 1494427578, "answer_id": 43895857, "question_id": 43895795, "link": "https://stackoverflow.com/questions/43895795/all-files-has-file-attribute-archive-attribute/43895857#43895857", "title": "All files has FILE_ATTRIBUTE_ARCHIVE attribute", "body": "<p>The \"archive\" attribute doesn't mean \"this file is an archive\" (like a ZIP or 7Z file). Rather, it <a href=\"https://en.wikipedia.org/wiki/Archive_bit\" rel=\"noreferrer\">typically means</a> \"this file needs to be backed up\":</p>\n\n<blockquote>\n  <p>On Windows and OS/2, when a file is created or modified, the archive bit is set, and when the file has been backed up, the archive bit is cleared. Thus, the meaning of the archive bit is: <em>this file is due for archiving</em>, or: <em>this file has not been archived</em>.</p>\n  \n  <p>An <em>incremental backup</em> task may use the archive bit to distinguish which files have already been backed up, and select only the new or modified files for backup.</p>\n</blockquote>\n\n<p>I don't think it's being used much in practice anymore (if it ever was).</p>\n"}], "owner": {"reputation": 82, "user_id": 6153435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce7b82e2733323ab61030fda6dc595e?s=128&d=identicon&r=PG", "display_name": "johnbrovi", "link": "https://stackoverflow.com/users/6153435/johnbrovi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 1, "accepted_answer_id": 43895857, "answer_count": 1, "score": 1, "last_activity_date": 1616259295, "creation_date": 1494427416, "last_edit_date": 1616259295, "question_id": 43895795, "link": "https://stackoverflow.com/questions/43895795/all-files-has-file-attribute-archive-attribute", "title": "All files has FILE_ATTRIBUTE_ARCHIVE attribute", "body": "<p>I'm working on a program that should retrieve attributes of all files from chosen directory in std::vector.</p>\n<p>This code shows how I'm getting file attributes:</p>\n<pre><code>DWORD attr_flags = GetFileAttributes(file_path);\n\nif (attr_flags == INVALID_FILE_ATTRIBUTES) {\n  std::cout &lt;&lt; &quot;Invalid file attributes.&quot; &lt;&lt; std::endl;\n  return;\n}\n</code></pre>\n<p>And the code parses retrieved flags like this:</p>\n<pre><code>if (attr_flags &amp; FILE_ATTRIBUTE_ARCHIVE) {\n  attrs.push_back(defines::Attributes::kArchive);\n  attr_flags &amp;= ~FILE_ATTRIBUTE_ARCHIVE;\n}\n\nif (attr_flags &amp; FILE_ATTRIBUTE_COMPRESSED) {\n  attrs.push_back(defines::Attributes::kCompressed);\n  attr_flags &amp;= ~FILE_ATTRIBUTE_COMPRESSED;\n}\n\n/* etc... */\n</code></pre>\n<p>So, after all I'm printing result to console and get this:</p>\n<p><a href=\"https://i.stack.imgur.com/zZCWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZCWM.png\" alt=\"All files has archive attribute\" /></a></p>\n<p>Can anyone, please, tell me, why all files (not even archive) has archive attribute?</p>\n<p>P.S: <a href=\"https://msdn.microsoft.com/ru-ru/library/windows/desktop/gg258117(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a> tell's</p>\n<pre><code>FILE_ATTRIBUTE_ARCHIVE  32 (0x20)\n</code></pre>\n<p>A file or directory that is an archive file or directory. Applications typically use this attribute to mark files for backup or removal .</p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1494427372, "post_id": 43895674, "comment_id": 74825492, "body": "please provide the exact error message"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1494427375, "post_id": 43895674, "comment_id": 74825494, "body": "First of all, do you want to <i>count</i> the number of objects that satisfy <code>strncmp(...) == 0</code> or return 1 if there is such an object or zero otherwise? <code>ContainsObjectType</code> does the latter, but the new version attempts to do the former."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1494427735, "post_id": 43895674, "comment_id": 74825795, "body": "Considering using <code>std::string</code> and it&#39;s methods instead of <code>CString</code> and c string functions. You do not need to specify <code>struct</code> every time you use a <code>struct</code> type. Consider using standard containers instead of arrays, doing so would eliminate your problem."}, {"owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "edited": false, "score": 0, "creation_date": 1494428024, "post_id": 43895674, "comment_id": 74826061, "body": "I want to return 1 if there is one object of the type. The error is C2784: &#39;const _Elem *std::begin(std::initializer_list&lt;_Elem&gt;) noexcept&#39;: could not deduce template argument for &#39;std::initializer_list&lt;_Elem&gt;&#39; from &#39;nodeinput []&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1494427630, "post_id": 43895840, "comment_id": 74825687, "body": "It would be worth mentioning that <code>std::begin</code> and <code>std::end</code> work with arrays but not if they decayed to pointers."}], "tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": true, "score": 2, "last_activity_date": 1494427763, "last_edit_date": 1494427763, "creation_date": 1494427526, "answer_id": 43895840, "question_id": 43895674, "link": "https://stackoverflow.com/questions/43895674/replace-a-loop-to-implement-contains-on-an-array/43895840#43895840", "title": "Replace a loop to implement Contains on an array", "body": "<p>Just make <code>collection</code> a pointer, maybe a <code>const</code> one:</p>\n\n<pre><code>static int ContainsObjectType(int collectionSize, struct nodeinput *collection, char* objectType)\n{   \n    auto numFound = std::count_if(\n        collection,\n        collection + collectionSize,\n        ...);\n}\n</code></pre>\n\n<p><code>std::count_if</code>'s two first arguments must be iterators, and pointers <em>are</em>, in fact, primitive iterators. </p>\n\n<p><code>std::begin(iterable)</code> is merely <code>pointer</code>, <code>std::end(iterable)</code> is <code>pointer + &lt;data length&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1494516102, "last_edit_date": 1494516102, "creation_date": 1494511186, "answer_id": 43917618, "question_id": 43895674, "link": "https://stackoverflow.com/questions/43895674/replace-a-loop-to-implement-contains-on-an-array/43917618#43917618", "title": "Replace a loop to implement Contains on an array", "body": "<p>Below the complete solution in case someone searches how to replace a c-style loop on an array of objects with the library standard.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"afx.h\"\n#include &lt;string.h&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\n// Legacy code\nclass NodeObject\n{\npublic:\n    CString objectType;  // Keeping CString to minimize the impact for now\n    NodeObject() {}\n    explicit NodeObject(CString objectType) : objectType(objectType) { }\n};\n\n// Legacy code\nclass NodeInput\n{\npublic:\n    NodeObject object;\n    explicit NodeInput(NodeObject object) : object(object) { }\n};\n\n// Code using vector and count_if\nstatic int Contains(std::vector&lt;NodeInput&gt; collection, std::string objectType)\n{\n    auto numFound = std::count_if(std::begin(collection),\n        std::end(collection),\n        [&amp;](const NodeInput oneInput)\n    {\n        return (std::strncmp(objectType.c_str(),\n                             oneInput.object.objectType,\n                             strlen(oneInput.object.objectType)) == 0);\n    });\n\n    return numFound &gt; 0;\n}\n\n// Code using array pointer and count_if\nstatic int Contains(int collectionSize, NodeInput* collection, char* objectType)\n{\n    auto numFound = std::count_if(collection,\n                                  collection + collectionSize,\n                                  [&amp;](const NodeInput oneInput)\n    {\n        return (std::strncmp(objectType,\n            oneInput.object.objectType,\n            strlen(oneInput.object.objectType)) == 0);\n    });\n\n    return numFound &gt; 0;\n}\n\n// Legacy code\nstatic int ContainsOriginal(int collectionSize, NodeInput collection[], char* objectType)\n{\n    auto found = 0;\n    for (auto idx = 0; idx &lt; collectionSize; idx++)\n    {\n        if (strncmp(objectType, \n                    collection[idx].object.objectType, \n                    strlen(collection[idx].object.objectType)) == 0)\n        {\n            found = 1;\n        }\n    }\n    return found;\n}\n\nint main()\n{\n    // Legacy code\n    NodeInput arrayCollection[] { NodeInput(NodeObject(\"fokker\")), \n                                  NodeInput(NodeObject(\"airbus\")), \n                                  NodeInput(NodeObject(\"boing777\")) };\n    auto arrayCollectionSize = 3;\n    auto found = Contains(arrayCollectionSize, arrayCollection, \"boing777\");\n    std::cout &lt;&lt; found &lt;&lt; std::endl;\n\n    // Code using Standard Library\n    std::vector&lt;NodeInput&gt; collection{ NodeInput(NodeObject(\"fokker\")),\n                                       NodeInput(NodeObject(\"airbus\")),\n                                       NodeInput(NodeObject(\"boing777\")) };\n    found = Contains(collection, \"boing777\");\n    std::cout &lt;&lt; found &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 43895840, "answer_count": 2, "score": 0, "last_activity_date": 1494545456, "creation_date": 1494427161, "last_edit_date": 1494545456, "question_id": 43895674, "link": "https://stackoverflow.com/questions/43895674/replace-a-loop-to-implement-contains-on-an-array", "title": "Replace a loop to implement Contains on an array", "body": "<p>Is there a way to use the Standard Library to simplify the loop on an array of struct that compare with strncmp?</p>\n\n<p>Below is my attempt that fails because std::count_if complains there is no instance of overloaded function std::begin matches.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"afx.h\"\n#include &lt;string.h&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n\nstruct nodeobject\n{\n    CString ObjectType;\n    nodeobject() {}\n    explicit nodeobject(CString objectType) { ObjectType = objectType; }\n};\n\nstruct nodeinput\n{\n    struct nodeobject Object;\n};\n\n// Original function I want to rewrite to remove the for loop and the strncmp\nstatic int ContainsObjectType(int collectionSize, struct nodeinput collection[], char* objectType)\n{\n    auto found = 0;\n    for (auto idx = 0; idx &lt; collectionSize; idx++)\n    {\n        if (strncmp(objectType, \n                    collection[idx].Object.ObjectType, \n                    strlen(collection[idx].Object.ObjectType)) == 0)\n        {\n            found = 1;\n        }\n    }\n    return found;\n}\n\n#if 0\n// The implementation below does not compile because there is no instance of \n// overloaded function std::begin matches\nstatic int ContainsObjectType(int collectionSize, struct nodeinput collection[], char* objectType)\n{   \n    auto numFound = std::count_if(std::begin(collection),\n                                  std::end(collection),\n                                  [](struct nodeinput oneNode) \n    { \n        return strncmp(objectType, oneNode.Object.ObjectType, oneNode.Object.ObjectType) == 0); \n    });\n\n    return numFound &gt; 0;\n}\n#endif\n\nint main()\n{\n    struct nodeobject node1(\"fokker\");\n    struct nodeobject node2(\"airbus\");\n    struct nodeobject node3(\"boing777\");\n    struct nodeinput collection[] = {node1, node2, node3};\n    auto nintnode = 3;\n\n    auto found = ContainsObjectType(nintnode, collection, \"boing777\");\n\n    std::cout &lt;&lt; found &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>The error is: </p>\n\n<blockquote>\n  <p>C2784: const _Elem *std::begin(std::initializer_list&lt;_Elem>) noexcept': could not deduce template argument for 'std::initializer_list&lt;_Elem>' from 'nodeinput []</p>\n</blockquote>\n"}, {"tags": ["c++", "recursion", "data-structures", "recursive-datastructures"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1494427348, "post_id": 43895656, "comment_id": 74825465, "body": "the <code>int</code> param <code>n</code> is passed by copy, whilst it recurses the value will have it&#39;s value subtracted by 2 but the outer calls will unroll in reverse order so you get <code>0</code> first then <code>2</code> and <code>4</code> when it fails the <code>if</code> condition"}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 3, "last_activity_date": 1494427319, "creation_date": 1494427319, "answer_id": 43895751, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43895751#43895751", "title": "C++ Recursive Final Exam Review", "body": "<p>Briefly, <em>nothing</em> is printed until <code>(n &gt; 0)</code> is <code>false</code>, and the recursion block is hit.</p>\n\n<p>You get the output, from 0 and effectively increasing by 2, as the stack unwinds.</p>\n\n<p>A line by line debugger is always helpful when looking at stuff like this.</p>\n"}, {"tags": [], "owner": {"reputation": 6009, "user_id": 3313438, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Ks9C6.jpg?s=128&g=1", "display_name": "Ziezi", "link": "https://stackoverflow.com/users/3313438/ziezi"}, "is_accepted": false, "score": 2, "last_activity_date": 1494428136, "last_edit_date": 1494428136, "creation_date": 1494427343, "answer_id": 43895761, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43895761#43895761", "title": "C++ Recursive Final Exam Review", "body": "<p>Because it reaches the print statement only when the <code>if</code> statement is <code>false</code>, i.e. <code>n &lt;= 0</code>. After that it prints the values of <code>n</code> backwards, with respect to the recursive calls.</p>\n\n<p>Perhaps it would be more clear if the code is presented like so:</p>\n\n<pre><code>void test_b(int n)\n{\n   if (n &gt; 0)\n   {\n       test_b(n - 2); // II: execution resumes from here for the rest n's\n   }\n\n   cout &lt;&lt; n &lt;&lt; \" \";  // I: this line is reached first when n &lt;= 0  \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7992465, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c9c9c02c05c8913372c1cddea9d09a55?s=128&d=identicon&r=PG", "display_name": "PMar", "link": "https://stackoverflow.com/users/7992465/pmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1494427597, "creation_date": 1494427597, "answer_id": 43895866, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43895866#43895866", "title": "C++ Recursive Final Exam Review", "body": "<p>Evaluation of test_b(4) generates three nested calls.  In the first call, the condition is true, so it makes the second call; in the second call, the condition is true, so it makes the third call.  In the third call, the condition is false - at that level n=0 - so it skips directly to the output and prints IT'S value of n, i.e 0.  Then the third call returns up to the second call - for which n=2 - and continues to the output and prints 2.  Then the second call returns up to the first call - for which n=4 - and continues to the output and prints 4.  Then the first call ends.</p>\n"}, {"tags": [], "owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1494427616, "creation_date": 1494427616, "answer_id": 43895876, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43895876#43895876", "title": "C++ Recursive Final Exam Review", "body": "<p>One way to imagine how this works is to do a series of replacements and simplifications.<br>\nWe start with <code>test_b(4)</code>. That can be replaced with the body of <code>test_b</code>, except we replace <code>n</code> with <code>4</code>.</p>\n\n<pre><code>if (4&gt;0)\n   test_b(4-2);\ncout &lt;&lt; 4 &lt;&lt; \" \";\n</code></pre>\n\n<p>We know that <code>4&gt;0</code> is <code>true</code> and <code>4-2 == 2</code> so we can simplify to:</p>\n\n<pre><code>test_b(2);\ncout &lt;&lt; 4 &lt;&lt; \" \";\n</code></pre>\n\n<p>Then we substitute again:</p>\n\n<pre><code>if (2&gt;0)\n   test_b(2-2);\ncout &lt;&lt; 2 &lt;&lt; \" \";\ncout &lt;&lt; 4 &lt;&lt; \" \";\n</code></pre>\n\n<p>You can repeat the simplification and substitution steps until you arrive at the final solution.</p>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 2, "creation_date": 1494427968, "post_id": 43895880, "comment_id": 74826011, "body": "This is a nice analysis. Should have more votes. Here&#39;s one."}], "tags": [], "owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "is_accepted": false, "score": 4, "last_activity_date": 1494427752, "last_edit_date": 1494427752, "creation_date": 1494427625, "answer_id": 43895880, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43895880#43895880", "title": "C++ Recursive Final Exam Review", "body": "<p>Think about calls in a <code>V</code> shape:</p>\n\n<pre><code> test_b(4)\n  | //&gt;0, so enter the if\n  |  test_b(2)\n  |   | //&gt;0 so enter the if\n  |   |  test_b(0)\n  |   |   | //==0, so skip if\n  |   |   | print 0 // from the test_b(0)\n  |   |   | return\n  |   |  print 2 // from test_b(2)\n  |   |  return\n  |  print 4 // from test_b(4)\n  |  return\n// end\n</code></pre>\n\n<p>The result is shown as printed, first the 0, then the 2, finally 4: 0 2 4.</p>\n"}, {"tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1494429805, "last_edit_date": 1494429805, "creation_date": 1494429441, "answer_id": 43896603, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review/43896603#43896603", "title": "C++ Recursive Final Exam Review", "body": "<p>Recursive functions work exactly like all other functions.<br>\n(I think this is the most crucial thing to understand about recursion.)</p>\n\n<p>So, let's get rid of the recursion by specialising the function into several.</p>\n\n<p>These functions are equivalent to your \"recurse first\" implementation:</p>\n\n<pre><code>void testb_0()\n{\n    cout &lt;&lt; 0 &lt;&lt; \" \";\n}\n\nvoid testb_2()\n{\n    testb_0();\n    cout &lt;&lt; 2 &lt;&lt; \" \";\n}\n\nvoid testb_4()\n{\n    testb_2();\n    cout &lt;&lt; 4 &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>and these are equivalent to your \"print first\" implementation:</p>\n\n<pre><code>void testa_0()\n{\n    cout &lt;&lt; 0 &lt;&lt; \" \";\n}\n\nvoid testa_2()\n{\n    cout &lt;&lt; 2 &lt;&lt; \" \";\n    testa_0();\n}\n\nvoid testa_4()\n{\n    cout &lt;&lt; 4 &lt;&lt; \" \";\n    testa_2();\n}\n</code></pre>\n\n<p>I'm convinced that you understand how these are different. </p>\n"}], "owner": {"reputation": 45, "user_id": 7643976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FiHOpt59zmY/AAAAAAAAAAI/AAAAAAAAAFU/6OHQTef0Ar4/photo.jpg?sz=128", "display_name": "Zack Maguffin", "link": "https://stackoverflow.com/users/7643976/zack-maguffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1494429805, "creation_date": 1494427123, "last_edit_date": 1494427807, "question_id": 43895656, "link": "https://stackoverflow.com/questions/43895656/c-recursive-final-exam-review", "title": "C++ Recursive Final Exam Review", "body": "<p>While studying for my upcoming final exam I came across this review question, I know the answer when I call <code>test_b(4)</code> is: <code>0 2 4</code>. My question is why it prints the <code>2</code> and <code>4</code> after the <code>0</code> if the first <code>test_b(n - 2)</code> comes before the <code>cout</code>?</p>\n\n<pre><code>void test_b(int n)\n{\n   if (n&gt;0)\n      test_b(n-2);\n   cout &lt;&lt; n &lt;&lt; \" \";\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "vector"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1494426947, "post_id": 43895502, "comment_id": 74825089, "body": "You are printing v[1], not v[i]"}, {"owner": {"reputation": 3339, "user_id": 1374987, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jmuPH.png?s=128&g=1", "display_name": "PentaKon", "link": "https://stackoverflow.com/users/1374987/pentakon"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1494426974, "post_id": 43895502, "comment_id": 74825112, "body": "@JerryCoffin He declares the used namespace above main"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1494426992, "post_id": 43895502, "comment_id": 74825123, "body": "It <i>does</i>  print <code>v[1]</code>, it&#39;s just that <code>v[1]</code> is not the string you expect it to be."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1494427064, "post_id": 43895502, "comment_id": 74825203, "body": "@stark That statement is outside the loop, <code>i</code> is not defined there. Perhaps OP just wants to print the 2nd word."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1494427218, "post_id": 43895502, "comment_id": 74825344, "body": "<a href=\"http://stackoverflow.com/questions/5739937/using-getlinecin-s-after-cin\" title=\"using getlinecin s after cin\">stackoverflow.com/questions/5739937/&hellip;</a>"}, {"owner": {"reputation": 81, "user_id": 7324548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0891a12d5a34dcf9fbc1a9685afb73d3?s=128&d=identicon&r=PG&f=1", "display_name": "gamedev90", "link": "https://stackoverflow.com/users/7324548/gamedev90"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1494427223, "post_id": 43895502, "comment_id": 74825352, "body": "@stark I am using just for testing purpose. But it still doesn&#39;t display <code>v[1]</code>, displays <code>v[0]</code> and the loop runs one time less than it actually should. For example if s=2 loop runs once and displays <code>v[0]</code>, if <code>s=3</code> loop runs twice and still displays` v[0]`"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1494427304, "post_id": 43895502, "comment_id": 74825423, "body": "Your first getline returns the empty line after reading s"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1494427539, "post_id": 43895502, "comment_id": 74825612, "body": "@GameDev90 No, <code>v[0]</code> is the empty string. <a href=\"http://ideone.com/2MPlNM\" rel=\"nofollow noreferrer\">Illustration</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3339, "user_id": 1374987, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jmuPH.png?s=128&g=1", "display_name": "PentaKon", "link": "https://stackoverflow.com/users/1374987/pentakon"}, "is_accepted": false, "score": 0, "last_activity_date": 1494427767, "last_edit_date": 1494427767, "creation_date": 1494427452, "answer_id": 43895811, "question_id": 43895502, "link": "https://stackoverflow.com/questions/43895502/how-to-accept-a-vector-of-strings-where-strings-have-spaces-in-them/43895811#43895811", "title": "How to accept a vector of strings where strings have spaces in them", "body": "<p>Use <code>cin.ignore(INTEGER_MAX, '\\n');</code> before each <code>getline</code> statement to clear the cin buffer.</p>\n"}], "owner": {"reputation": 81, "user_id": 7324548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0891a12d5a34dcf9fbc1a9685afb73d3?s=128&d=identicon&r=PG&f=1", "display_name": "gamedev90", "link": "https://stackoverflow.com/users/7324548/gamedev90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1494427322, "answer_count": 1, "score": 0, "last_activity_date": 1494427767, "creation_date": 1494426772, "question_id": 43895502, "link": "https://stackoverflow.com/questions/43895502/how-to-accept-a-vector-of-strings-where-strings-have-spaces-in-them", "closed_reason": "Duplicate", "title": "How to accept a vector of strings where strings have spaces in them", "body": "<p>My code </p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\n#include&lt;vector&gt;\n\nusing namespace std;\n\nint main(){\n    int s;\n    cin&gt;&gt;s;\n    vector&lt;string&gt; v(s);\n    for(int i=0;i&lt;s;i++){\n        getline(cin,v[i]);\n    }\n    cout&lt;&lt;v[1]&lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n\n<p>I want to accept an array of strings where strings have spaces in them. The above program doesn't work as it terminates before the loop ends and instead of the second string in the vector <code>v[1]</code> it prints first <code>v[0]</code> no matter what the value of <code>int s</code> is. </p>\n\n<p>Can anyone explain why this is happening and how can I correctly accept an array of strings with spaces?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1494426682, "post_id": 43895429, "comment_id": 74824853, "body": "You should not return raw pointer to dynamically allocated memory from a function unless you love to debug memory leaks"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1494426712, "post_id": 43895429, "comment_id": 74824875, "body": "Use <code>std::array</code>. It has a proper copy constructor already."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1494426769, "post_id": 43895429, "comment_id": 74824931, "body": "@Slava The function is only an example to show what I want to achieve, this is not production code."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1494426824, "post_id": 43895429, "comment_id": 74824972, "body": "@nwp std::array has a compile time size. I need it to be dynamic."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1494426889, "post_id": 43895429, "comment_id": 74825030, "body": "Then use  <code>std::vector</code>"}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1494427083, "post_id": 43895429, "comment_id": 74825223, "body": "@Slava I am specifically trying to learn how to do this kind of stuff with arrays. std::vector is indeed what I would normally use for this purpose."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1494428008, "post_id": 43895429, "comment_id": 74826051, "body": "Arrays are C stuff, I doubt you could properly use move semantics with them."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1494428522, "post_id": 43895429, "comment_id": 74826466, "body": "@Slava Arrays are part of C++? There is no alternative as far as I know. In the end classes like <code>std::vector</code> are built using arrays. Correct me if I&#39;m wrong."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1494428693, "post_id": 43895429, "comment_id": 74826601, "body": "I think this can be done with placement new, <code>alignof</code> and some casting, but it would be hideously complicated to avoid undefined behavior."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1494428861, "post_id": 43895429, "comment_id": 74826747, "body": "Hm i feared so. I was hoping I was missing some form of notation."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1494429271, "post_id": 43896335, "comment_id": 74827070, "body": "I do not, that the problem I tried to explain to OP"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1494429743, "post_id": 43896335, "comment_id": 74827423, "body": "Actually I do think its possibly with some ugliness involved"}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1494430132, "post_id": 43896335, "comment_id": 74827713, "body": "The move thing confuses me. As far as I can see there is no moving involved. Array of objects is allocated without actual construction. Objects are constructed in place one by one using their copy constructor. Pointer to heap array is returned. Explanation of where move semantics are missing would be appreciated."}], "tags": [], "owner": {"reputation": 52185, "user_id": 1782792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e8dde1ee800b9687983617bbea3cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "jdehesa", "link": "https://stackoverflow.com/users/1782792/jdehesa"}, "is_accepted": false, "score": 0, "last_activity_date": 1494428804, "creation_date": 1494428804, "answer_id": 43896335, "question_id": 43895429, "link": "https://stackoverflow.com/questions/43895429/initialize-heap-array-from-other-array/43896335#43896335", "title": "Initialize heap array from other array", "body": "<p>Not sure if this is what you are asking, but you can just allocate the memory first and then use <a href=\"https://en.wikipedia.org/wiki/Placement_syntax\" rel=\"nofollow noreferrer\">placement <code>new</code></a> (which is basically what preallocating STL containers do anyway).</p>\n\n<pre><code>template &lt;typename T&gt;\nT* Copy(T* myOriginalArray, size_t myOriginalArraySize)\n{\n    auto t_size = sizeof(T);\n    T* copy = (T *) new char[myOriginalArraySize * t_size];\n    for (size_t i = 0; i &lt; myOriginalArraySize; i++)\n    {\n        new (copy + i) T(*(myOriginalArray + i));\n    }\n    return copy;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1494430638, "post_id": 43896502, "comment_id": 74828044, "body": "This what I am looking for(the same as jdehesa&#39;s answer but more complete). Concern about destroying is righteous. Goal about question for me is learning how stuff like <code>std::vector</code> works internally."}], "tags": [], "owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "is_accepted": true, "score": 2, "last_activity_date": 1494432129, "last_edit_date": 1494432129, "creation_date": 1494429164, "answer_id": 43896502, "question_id": 43895429, "link": "https://stackoverflow.com/questions/43895429/initialize-heap-array-from-other-array/43896502#43896502", "title": "Initialize heap array from other array", "body": "<p>You use <code>::operator new</code> and <code>std::uninitialized_copy</code></p>\n\n<pre><code>#include&lt;memory&gt;\n#include&lt;new&gt;\n\ntemplate&lt;typename T&gt;\nT* Copy(T* src, size_t sz)\n{\n    auto buf = static_cast&lt;T*&gt;(::operator new(sizeof(T) * sz));\n    std::uninitialized_copy(src, src + sz, buf);\n    return buf;    \n}\n</code></pre>\n\n<p>And possibly move, with a bit more hassle.</p>\n\n<pre><code>#include&lt;utility&gt;\n\ntemplate&lt;typename T&gt;\nT* Move(T* src, size_t sz)\n{\n    auto buf = static_cast&lt;T*&gt;(::operator new(sizeof(T) * sz));\n    for(size_t i = 0; i &lt; sz; i++)\n        new (buf + i) T(std::move(src[i]));\n    return buf;\n}\n</code></pre>\n\n<p>This is not really a great idea, considering then you have to deallocate with some crazy code</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid Delete(T* src, size_t sz)\n{\n    for(size_t i = 0; i &lt; sz; i++)\n        src[i].~T();\n    ::operator delete(src);\n}\n</code></pre>\n\n<p>Do consider using <code>std::vector</code> instead.</p>\n\n<h3>Side note</h3>\n\n<p><strong>Q:</strong> Why index with <code>size_t</code> instead of using <code>T*</code>?<br>\n<strong>A:</strong> As it turns out, it is currently slightly faster with indexing.</p>\n"}], "owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 43896502, "answer_count": 2, "score": 0, "last_activity_date": 1494432129, "creation_date": 1494426571, "question_id": 43895429, "link": "https://stackoverflow.com/questions/43895429/initialize-heap-array-from-other-array", "title": "Initialize heap array from other array", "body": "<p>How do I create an array on the heap and initialize it at construction time from another array?</p>\n\n<pre><code>template &lt;typename T&gt;\nT* Copy(T* myOriginalArray, size_t myOriginalArraySize)\n{\n    T* copy = new T[myOriginalArraySize]; // copy data from myOriginalArray here too\n    return copy;\n}\n</code></pre>\n\n<p>I could create the array and then use std::copy, but this would require the array contents to have an empty constructor. You can assume the object has a copy and move constructor. I have access to C++17.</p>\n"}, {"tags": ["c++", "arrays", "string", "casting"], "comments": [{"owner": {"reputation": 391, "user_id": 4693472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5cdf081b2f368f958a7653b26c5799c?s=128&d=identicon&r=PG&f=1", "display_name": "Laurent G", "link": "https://stackoverflow.com/users/4693472/laurent-g"}, "edited": false, "score": 1, "creation_date": 1494425632, "post_id": 43895016, "comment_id": 74824085, "body": "Why do you want to cast to non-const ?"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1494425682, "post_id": 43895016, "comment_id": 74824127, "body": "Casting from <code>const char*</code> to <code>char*</code> even in C is eventually going to lead to Undefined Behavior. Avoid that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1494426498, "post_id": 43895016, "comment_id": 74824719, "body": "&quot;I MUST use c++ casts to avoid any runtime errors&quot; - for example?"}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "edited": false, "score": 0, "creation_date": 1494426163, "post_id": 43895077, "comment_id": 74824503, "body": "I only use <code>txt</code> for comparison so I don&#39;t need to modify it. Thanks !"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "edited": false, "score": 2, "creation_date": 1494426510, "post_id": 43895077, "comment_id": 74824732, "body": "@LoayAshmawy ..but note, that once you are using <code>reinterpret_cast</code> and <code>const_cast</code> your premise &quot;MUST use c++ casts to avoid any runtime errors&quot; does not hold anymore and concerning safety you could as well use the c-style cast. However, I would still use the c++ casts, because it clearly expresses your intent in the code, it is kind-of a: &quot;I am asking for trouble, but I know what I am doing here&quot;"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "edited": false, "score": 2, "creation_date": 1494426665, "post_id": 43895077, "comment_id": 74824841, "body": "@LoayAshmawy If You are going to use it for comparison, there&#39;s no need (and no reason) to strip away constness."}, {"owner": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1494426988, "post_id": 43895077, "comment_id": 74825120, "body": "@Bob__ any Idea on how to assign <code>&quot;AC&quot;</code> to <code>txt</code> that should be an <code>unsigned char *</code> or <code>const unsigned char *</code>?"}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "reply_to_user": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "edited": false, "score": 2, "creation_date": 1494427160, "post_id": 43895077, "comment_id": 74825288, "body": "@LoayAshmawy <code>unsigned char const* txt = reinterpret_cast&lt;unsigned char const*&gt;(&quot;AC&quot;);</code>"}], "tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": true, "score": 6, "last_activity_date": 1494426004, "last_edit_date": 1494426004, "creation_date": 1494425668, "answer_id": 43895077, "question_id": 43895016, "link": "https://stackoverflow.com/questions/43895016/error-when-attempting-to-static-cast-const-char-to-unsigned-char/43895077#43895077", "title": "Error when attempting to static_cast&lt;&gt; const char[] to unsigned char *", "body": "<p><code>unsigned char*</code> and  <code>const char[]</code> are unrelated types, so that <code>static_cast&lt;&gt;</code> won't work. And the constness is different, hence a <code>const_cast&lt;&gt;</code> is required.</p>\n\n<p>Correct cast:</p>\n\n<pre><code>unsigned char* txt = reinterpret_cast&lt;unsigned char*&gt;(const_cast&lt;char*&gt;(\"AC\"));\n</code></pre>\n\n<p>Please note, that you cannot write through that <code>unsigned char* txt</code> pointer, because C++ string literals (\"AC\" here) are immutable and often stored in read-only memory. </p>\n\n<p>See <a href=\"http://en.cppreference.com/w/cpp/language/const_cast\" rel=\"noreferrer\"><code>const_cast&lt;&gt;</code></a>:</p>\n\n<blockquote>\n  <p>Modifying a const object through a non-const access path and referring to a volatile object through a non-volatile glvalue results in undefined behavior.</p>\n</blockquote>\n"}], "owner": {"reputation": 637, "user_id": 7567578, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-XmjrqKxidIg/AAAAAAAAAAI/AAAAAAAAFFI/3Zdsipc1dGU/photo.jpg?sz=128", "display_name": "Loay Ashmawy", "link": "https://stackoverflow.com/users/7567578/loay-ashmawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4582, "favorite_count": 0, "accepted_answer_id": 43895077, "answer_count": 1, "score": 0, "last_activity_date": 1502029580, "creation_date": 1494425536, "last_edit_date": 1502029580, "question_id": 43895016, "link": "https://stackoverflow.com/questions/43895016/error-when-attempting-to-static-cast-const-char-to-unsigned-char", "title": "Error when attempting to static_cast&lt;&gt; const char[] to unsigned char *", "body": "<p>I want to cast <code>const char[]</code> to <code>unsigned char *</code>.</p>\n\n<p>I am using C++ casts (ie:<code>static_cast</code>):</p>\n\n<pre><code>unsigned char * txt = static_cast&lt;unsigned char *&gt;(\"AC\");\n</code></pre>\n\n<p>When I build the application I get the following error:</p>\n\n<blockquote>\n  <p>error:invalid static_cast from type 'const char [3]' to type 'unsigned char *'</p>\n</blockquote>\n\n<p>When I use C like casts:</p>\n\n<pre><code>unsigned char * txt = (unsigned char *)\"AC\";\n</code></pre>\n\n<p>I don't get any compilation error and the program runs perfectly.</p>\n\n<p>I MUST use C++ casts to avoid any runtime errors. How do I cast <code>const char [3]</code> to <code>unsigned char *</code> using C++ casts?</p>\n"}, {"tags": ["c++", "octave"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 1910276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4edfde0b36c177f7677d04d41ae4b4ff?s=128&d=identicon&r=PG", "display_name": "nils", "link": "https://stackoverflow.com/users/1910276/nils"}, "is_accepted": true, "score": 1, "last_activity_date": 1502710069, "creation_date": 1502710069, "answer_id": 45673516, "question_id": 43894733, "link": "https://stackoverflow.com/questions/43894733/octave-c-api-addpath/45673516#45673516", "title": "Octave C++ API: addpath", "body": "<p>After looking at this again, the solution is really obvious.\nJust use the Octave <code>addpath</code> function. </p>\n\n<p>So instead of loading a function by its path and then executing it,</p>\n\n<pre><code>octave_function *fun = load_fcn_from_file(\"/Path/exampleOctaveFunction.m\")\nfeval(octave_function)\n</code></pre>\n\n<p>do</p>\n\n<pre><code>octave_value_list arg;\narg(0) = \"Path\";\nfeval(\"addpath\", arg);\n</code></pre>\n\n<p>Now the function (and all other functions in <code>Path</code>) can be loaded in the common manner</p>\n\n<pre><code>feval(\"exampleOctaveFunction\")\n</code></pre>\n\n<p>Combine the call to <code>addpath</code> with <code>genpath</code> to add all subdirectories of a given path.</p>\n"}], "owner": {"reputation": 310, "user_id": 1910276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4edfde0b36c177f7677d04d41ae4b4ff?s=128&d=identicon&r=PG", "display_name": "nils", "link": "https://stackoverflow.com/users/1910276/nils"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 45673516, "answer_count": 1, "score": 2, "last_activity_date": 1502710069, "creation_date": 1494424831, "last_edit_date": 1494425196, "question_id": 43894733, "link": "https://stackoverflow.com/questions/43894733/octave-c-api-addpath", "title": "Octave C++ API: addpath", "body": "<p>I can run the example - found <a href=\"https://lists.gnu.org/archive/html/help-octave/2009-04/msg00005.html\" rel=\"nofollow noreferrer\">here</a> - to execute an octave function from c++.\nThis works if the function file is located in the same directory in which the c++ code is executed. </p>\n\n<p>If the function file is located in a different path, it can be loaded with:<br>\n<code>octave_function *fun = load_fcn_from_file(\"/Path/exampleOctaveFunction.m\");</code>\nThis would mean, that I have to load each individual function that I want to use.</p>\n\n<p>Is there a method, like <code>addpath</code> in Octave, available in the C++ API to add a full directory? Or can I even set the working directory of the Octave execution to use relative paths?</p>\n"}, {"tags": ["c++", "templates", "c++14", "template-templates"], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 5, "last_activity_date": 1494427667, "creation_date": 1494427667, "answer_id": 43895898, "question_id": 43894672, "link": "https://stackoverflow.com/questions/43894672/passing-template-template-argument-that-is-specified-left-most-template-paramete/43895898#43895898", "title": "passing template template argument that is specified left-most template parameter (without alias)", "body": "<p>You can't write a template alias alias. <code>B&lt;1&gt;</code> can't itself be a template, which would imply that you could write something like <code>B&lt;1&gt;&lt;int&gt;</code>. Which would admittedly be useful on occasion. But you can just name that intermediate template:</p>\n\n<pre><code>template &lt;int N&gt;\nstruct X {\n    template &lt;class T&gt;\n    using apply = B&lt;N,T&gt;;\n};\n\nE&lt;X&lt;1&gt;::apply&gt; e;\n</code></pre>\n\n<p>It's not <em>quite</em> <code>E&lt;X&lt;1&gt;&gt;</code>, but it's quite a bit better than having to write <code>B1</code>, <code>B2</code>, ... </p>\n"}], "owner": {"reputation": 6029, "user_id": 3577745, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4646095ed212f8392ed0cd522b84e7e3?s=128&d=identicon&r=PG&f=1", "display_name": "javaLover", "link": "https://stackoverflow.com/users/3577745/javalover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 43895898, "answer_count": 1, "score": 0, "last_activity_date": 1494427667, "creation_date": 1494424703, "last_edit_date": 1494425408, "question_id": 43894672, "link": "https://stackoverflow.com/questions/43894672/passing-template-template-argument-that-is-specified-left-most-template-paramete", "title": "passing template template argument that is specified left-most template parameter (without alias)", "body": "<p>How to specify left-most template argument of template template argument?</p>\n\n<h2>Example</h2>\n\n<p><code>B&lt;int,T2&gt;</code> is a template class with 2 arguments.<br>\n<code>E&lt;H&gt;</code> is a class that receive \"template template argument\" <code>H&lt;T2&gt;</code>.<br>\nI want to pass <code>B</code> into slot <code>H</code> of <code>E&lt;H&gt;</code> like : <code>E&lt;B&lt;1&gt;&gt;</code>,<code>E&lt;B&lt;2&gt;&gt;</code>,<code>E&lt;B&lt;42&gt;&gt;</code>, etc.</p>\n\n<p>However, I only found poor work around, e.g. alias <code>B1&lt;T&gt;=B&lt;1,T&gt;</code> then pass <code>B1</code> into the <code>H</code>-slot :-</p>\n\n<pre><code>class D{};                                  //a library class\ntemplate&lt;template&lt;class T2&gt;class H&gt;class E{ //a library, don't modify me\n    //\"H&lt;T2&gt;\" is \"B1&lt;T2&gt;\" = \"B&lt;1,T2&gt;\"\n    H&lt;D&gt; h;  //Here, T2=D, so \"H&lt;D&gt;\" = \"B&lt;1,D&gt;\"\n};\ntemplate&lt;int n,class T2&gt; class B{};     //a user class\ntemplate&lt;class T2&gt; using B1 = B&lt;1,T2&gt;;  //a user class\nint main() {\n    E&lt;B1&gt; e;         //I prefer to call it like E&lt;B&lt;1&gt;&gt;. (main objective)\n    //const int n=5;\n    //E&lt;B&lt;n&gt;&gt; en;    //If it is possible, it would be nice. (side objective)\n    return 0;\n}\n</code></pre>\n\n<p>It works (<a href=\"http://ideone.com/G3swJm\" rel=\"nofollow noreferrer\">ideone demo</a>), but I have to alias the ones that I want e.g.   <code>B1&lt;T&gt;</code>,<code>B2&lt;T&gt;</code> .... <code>B42&lt;T&gt;</code>.<br>\nThis approach is not so cute.       Is there a more elegant way?       </p>\n\n<p>I know that Macro or X-Macro is a possible solution, but I try to avoid it.</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 5957, "user_id": 872363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45a31c259d94b9d114c3001f55d2dcbb?s=128&d=identicon&r=PG", "display_name": "slawekwin", "link": "https://stackoverflow.com/users/872363/slawekwin"}, "edited": false, "score": 2, "creation_date": 1494425806, "post_id": 43894642, "comment_id": 74824238, "body": "The same code works when built on different machine? Which compilers are used and were the same ones used to build OpenCV?"}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "reply_to_user": {"reputation": 5957, "user_id": 872363, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45a31c259d94b9d114c3001f55d2dcbb?s=128&d=identicon&r=PG", "display_name": "slawekwin", "link": "https://stackoverflow.com/users/872363/slawekwin"}, "edited": false, "score": 0, "creation_date": 1494484642, "post_id": 43894642, "comment_id": 74849492, "body": "I use the same version of Visual Studio and its compiler for building both this code and OpenCV on both computers."}, {"owner": {"reputation": 17989, "user_id": 365102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e3139989e6548e7deac2cd45253d60df?s=128&d=identicon&r=PG", "display_name": "Mateen Ulhaq", "link": "https://stackoverflow.com/users/365102/mateen-ulhaq"}, "edited": false, "score": 1, "creation_date": 1497604964, "post_id": 43894642, "comment_id": 76158776, "body": "Have you looked at <a href=\"https://stackoverflow.com/questions/23585158/create-mat-from-vectorpoint2f?rq=1\">this</a>? Or is your question to figure out why this happens?"}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "edited": false, "score": 0, "creation_date": 1497605817, "post_id": 43894642, "comment_id": 76159433, "body": "will check it out. tnx . btw i added more info to the question"}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "edited": false, "score": 0, "creation_date": 1497613453, "post_id": 43894642, "comment_id": 76164419, "body": "Mateen Ulhaq, my goal is to make the function <code>undistortPoints()</code> work. This function internally uses <code>getMat()</code> which does not work on Release. It worked up to now and I dont know why it stopped working. If I cannot make it work, I would at least like to know the reason..."}, {"owner": {"reputation": 1175, "user_id": 3665098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/EtI5T.png?s=128&g=1", "display_name": "SIGSEGV", "link": "https://stackoverflow.com/users/3665098/sigsegv"}, "edited": false, "score": 2, "creation_date": 1497627614, "post_id": 43894642, "comment_id": 76174061, "body": "I don&#39;t know if it helps solving your problem but I spotted two things which I find a bit strange.  1. You are you using a <b>c-style</b> cast to cast an vector containing points to an Mat. 2. Why do you use InputArray? As far as I know it&#39;s an internally used class and when a function expects it you can just pass  mats, or vector&lt;T&gt; to it."}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "edited": false, "score": 0, "creation_date": 1497629271, "post_id": 43894642, "comment_id": 76175056, "body": "Tnx for comment. I am using InputArray so that I can call function <code>getMat()</code>. This is just so I can demostrate the problem. std::vector does not have this function. Yes. It is internally used. And wherever it is internally used, I cannot send std::vectors there... because internal call to <code>getMat()</code> will crash the application..."}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 1, "creation_date": 1497731800, "post_id": 43894642, "comment_id": 76205116, "body": "You need to use the same Runtime library across the entire program if you use types like <code>std::vector</code> on interfaces. In general it is very bad to expose types like <code>std::vector</code> on interfaces since their internal representation depend on whether it is release or debug"}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "edited": false, "score": 0, "creation_date": 1497863712, "post_id": 43894642, "comment_id": 76238723, "body": "You want to say that both OpenCV and my program that is using it both need to be built either in Debug or Release? Problems arise when OpenCV is built with Release and the dependent program is built with Debug?"}], "answers": [{"tags": [], "owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "is_accepted": true, "score": 0, "last_activity_date": 1497968891, "creation_date": 1497968891, "answer_id": 44655837, "question_id": 43894642, "link": "https://stackoverflow.com/questions/43894642/opencv-stdvector-for-cvmat-arguments/44655837#44655837", "title": "OpenCV std::vector for cv::Mat arguments", "body": "<p>This is not exactly an answer I was looking for but here goes.</p>\n\n<p>It seems every time this has occurred, it was immediately after a Windows Update.</p>\n\n<p>I completely deleted and re-built the following libraries:\nVTK, OpenCV, Eigen and finally, my project.</p>\n\n<p>This fixed it for me.</p>\n"}], "owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 44655837, "answer_count": 1, "score": 4, "last_activity_date": 1497968891, "creation_date": 1494424648, "last_edit_date": 1497629527, "question_id": 43894642, "link": "https://stackoverflow.com/questions/43894642/opencv-stdvector-for-cvmat-arguments", "title": "OpenCV std::vector for cv::Mat arguments", "body": "<p>Executing this:</p>\n\n<pre><code>std::vector&lt;cv::Point2f&gt; pts; // contains 4 elements\ncv::Mat ptsMat = ((cv::InputArray)pts).getMat();\n</code></pre>\n\n<p>On one machine I get a <strong>4-by-1</strong> <code>cv::Mat</code> with 2 channels. Each element represents a 2D point.\nOn another machine, I get a <strong>2090-by-1</strong> <code>cv::Mat</code> with 2 channels with weird data. <strong>This is wrong and this is a problem</strong>, since the vector contained only 4 items.</p>\n\n<p>On both machines using OpenCV 3.1 built from source using CMake on Windows 10.</p>\n\n<p>EDIT</p>\n\n<p>I started experiencing similar problem on a different machine. \nIn Visual Studio in Debug mode the following snippet works fine:</p>\n\n<pre><code>std::vector&lt;cv::Point2f&gt; points = { cv::Point2f(2, 1), cv::Point2f(2, 1), cv::Point2f(1, 3) };\ncv::InputArray arr = points;\ncv::Mat ma = arr.getMat();\nstd::cout &lt;&lt; ma.ptr&lt;float&gt;(0)[1];\n</code></pre>\n\n<p>But when I compile it in Release, it crashes on the last line with <em>Access violation reading location...</em></p>\n\n<p>Further investigation revealed that the key flag that makes a difference is:</p>\n\n<p>Runtime library: Multithreaded DLL (<strong>/MD</strong>)   -------->\n<strong>crash</strong></p>\n\n<p>Runtime library: Multithreaded DLL Debug (<strong>/MDd</strong>)   --------> <strong>works</strong></p>\n\n<p>EDIT 2</p>\n\n<p>Based on the comment of Mateen Ulhaq, I checked the</p>\n\n<pre><code>std::vector&lt;cv::Point2f&gt; points;\ncv::Mat image(points);\n</code></pre>\n\n<p>and this works fine.\nThe problem is that some of OpenCV larger functions (e.g. <a href=\"http://docs.opencv.org/3.1.0/da/d54/group__imgproc__transform.html#ga55c716492470bfe86b0ee9bf3a1f0f7e\" rel=\"nofollow noreferrer\">undistortPoints</a>) internally use the <code>getMat()</code> conversion. And if I run that on release, the app crashes.</p>\n\n<p>EDIT 3</p>\n\n<p>Just checked, same problem occurs on OpenCV 3.2</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 7825, "user_id": 3684343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee557e309dc42d91a706c70c8c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "mch", "link": "https://stackoverflow.com/users/3684343/mch"}, "edited": false, "score": 0, "creation_date": 1494424770, "post_id": 43894629, "comment_id": 74823375, "body": "Did you try to right-click the project - Index - Re-Resolve Unresolved Includes or the other options there?"}, {"owner": {"reputation": 27, "user_id": 6649568, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/72cc82c856084fdc1b0bdf4eb37cd3b3?s=128&d=identicon&r=PG&f=1", "display_name": "Will Ferguson", "link": "https://stackoverflow.com/users/6649568/will-ferguson"}, "reply_to_user": {"reputation": 7825, "user_id": 3684343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee557e309dc42d91a706c70c8c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "mch", "link": "https://stackoverflow.com/users/3684343/mch"}, "edited": false, "score": 0, "creation_date": 1494427135, "post_id": 43894629, "comment_id": 74825263, "body": "Yes, nothing changes"}], "owner": {"reputation": 27, "user_id": 6649568, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/72cc82c856084fdc1b0bdf4eb37cd3b3?s=128&d=identicon&r=PG&f=1", "display_name": "Will Ferguson", "link": "https://stackoverflow.com/users/6649568/will-ferguson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494424620, "creation_date": 1494424620, "question_id": 43894629, "link": "https://stackoverflow.com/questions/43894629/unresolved-issues-with-eclipse-in-windows-7", "title": "Unresolved issues with Eclipse in windows 7", "body": "<p>I upgraded my eclipse (cpp neon 2) and now I am getting an error every time I try to run my program. Been trying to fix this for couple hours but now I am running out of ideas how to fix it. I've already tried fixes from the google search but so far none have fixed it for me. I am using windows 7 and Cygwin as the compiler.</p>\n\n<p>The errors I am getting are:</p>\n\n<pre><code>''Unresolved inclusion: &lt;iostream&gt;''\n''Unresolved inclusion: &lt;stdio.h&gt;''\n''Symbol 'cout' could not be resolved''\n''Symbol 'std' could not be resolved''\n</code></pre>\n\n<p>my code:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;stdio.h&gt;\n\nusing namespace std;\n\nint main() {\n\n    int data[10];\n    int dataatrec[10],c,c1,c2,c3,i;\n\n    cout&lt;&lt;\"Enter 4 bits of data one by one\\n\";\n    cin&gt;&gt;data[0];\n    cin&gt;&gt;data[1];\n    cin&gt;&gt;data[2];\n    cin&gt;&gt;data[4];\n\n    data[6]=data[0]^data[2]^data[4];\n    data[5]=data[0]^data[1]^data[4];\n    data[3]=data[0]^data[1]^data[2];\n\n    cout&lt;&lt;\"\\nEncoded data is\\n\";\n    for(i=0;i&lt;7;i++)\n        cout&lt;&lt;data[i];\n\n    cout&lt;&lt;\"\\n\\nEnter received data bits one by one\\n\";\n    for(i=0;i&lt;7;i++)\n        cin&gt;&gt;dataatrec[i];\n\n    c1=dataatrec[6]^dataatrec[4]^dataatrec[2]^dataatrec[0];\n    c2=dataatrec[5]^dataatrec[4]^dataatrec[1]^dataatrec[0];\n    c3=dataatrec[3]^dataatrec[2]^dataatrec[1]^dataatrec[0];\n    c=c3*4+c2*2+c1 ;\n\n    if(c==0) {\n        cout&lt;&lt;\"\\nNo error while transmission of data\\n\";\n    }\n    else {\n        cout&lt;&lt;\"\\nError on position \"&lt;&lt;c;\n\n        cout&lt;&lt;\"\\nData sent : \";\n        for(i=0;i&lt;7;i++)\n            cout&lt;&lt;data[i];\n\n        cout&lt;&lt;\"\\nData received : \";\n        for(i=0;i&lt;7;i++)\n            cout&lt;&lt;dataatrec[i];\n\n        cout&lt;&lt;\"\\nCorrect message is\\n\";\n\n        if(dataatrec[7-c]==0)\n            dataatrec[7-c]=1;\n        else\n             dataatrec[7-c]=0;\n        for (i=0;i&lt;7;i++) {\n            cout&lt;&lt;dataatrec[i];\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kIfJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIfJB.png\" alt=\"Folders\"></a></p>\n"}, {"tags": ["c++", "gcc", "c++17", "structured-bindings", "gcc7"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1494425269, "post_id": 43894619, "comment_id": 74823797, "body": "I&#39;ve just tested, and clang 4.0.0 behaves in the same way."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1494427027, "post_id": 43894619, "comment_id": 74825157, "body": "Looks like there were changes in this area at the recent Kona meeting (2017-02-27 - 2017-03-04). This feature isn&#39;t mature yet."}], "answers": [{"tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 12, "last_activity_date": 1494425711, "creation_date": 1494425711, "answer_id": 43895099, "question_id": 43894619, "link": "https://stackoverflow.com/questions/43894619/why-does-including-utility-break-structured-bindings-in-gcc/43895099#43895099", "title": "Why does including &lt;utility&gt; break structured bindings in GCC?", "body": "<p>The core idea behind structured bindings is that <code>std::tuple_size&lt;T&gt;</code> defines how many components you get from unpacking <code>T</code>, and <code>T::get&lt;N&gt;</code> should access the N'th element. Not surprising, this <code>std::tuple_size&lt;T&gt;</code> is a specialization from the base template in <code>&lt;utility&gt;</code>. </p>\n\n<p>Now in this case, <code>Point</code> doesn't have such support for structured bindings, but it is a special case (all public non-static members) for which C++17 states that no special unpacking support is needed. This is an exception to the rule above.</p>\n\n<p>The compiler is tripping over itself here, and trying to use the generic rule when it sees the unspecialized <code>std::tuple_size</code> from <code>&lt;utility&gt;</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1494427109, "post_id": 43895259, "comment_id": 74825245, "body": "@MSalters Man, gcc bugzilla search sucks. I looked for a few minutes and couldn&#39;t find anything..."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 10, "creation_date": 1494440551, "post_id": 43895259, "comment_id": 74833928, "body": "This is a standard bug caused by CWG and LWG not being in sync, not quite a compiler bug (it implements the specification to the letter). Originally step 2 of structured bindings checked <code>tuple_size&lt;T&gt;::value</code>, but <code>tuple_size&lt;cv T&gt;</code> wasn&#39;t SFINAE-friendly. So LWG changed <code>tuple_size&lt;cv T&gt;</code> to be empty if <code>tuple_size&lt;T&gt;::value</code> doesn&#39;t work. Then GB 20 says that checking <code>tuple_size&lt;T&gt;::value</code> is too user-hostile, so now core just checks if <code>tuple_size</code> is complete, and if so commits to the tuple-like mechanism. Of course that then wreaked havoc with library&#39;s fix to <code>tuple_size&lt;cv T&gt;</code>."}, {"owner": {"reputation": 3356, "user_id": 4451432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b46aba1c1ec6b780b9735f0ec7f885?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Popov", "link": "https://stackoverflow.com/users/4451432/ilya-popov"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494587671, "post_id": 43895259, "comment_id": 74904736, "body": "@T.C. Do you know, is there a plan to fix that? Is there a chance to get it fixed in C++17 or would we have a &quot;hotfix&quot; just after it is published?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494618899, "post_id": 43895259, "comment_id": 74923869, "body": "@T.C. Thanks for the edit. Odd that the old link still works, confused me for a while. Just an artifact? Wording itself looks the same to me."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1494621618, "post_id": 43895259, "comment_id": 74925093, "body": "@Barry Maybe they just copied the new files over without cleaning up the old ones when updating. IDK."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 19, "last_activity_date": 1494617197, "last_edit_date": 1494617197, "creation_date": 1494426124, "answer_id": 43895259, "question_id": 43894619, "link": "https://stackoverflow.com/questions/43894619/why-does-including-utility-break-structured-bindings-in-gcc/43895259#43895259", "title": "Why does including &lt;utility&gt; break structured bindings in GCC?", "body": "<p>This is compiler bug <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78939\" rel=\"noreferrer\">78939</a>. Although it's a bit more complicated than that - there were a few issues between the core language and the library that were mutually contradictory (<a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0490r0.html\" rel=\"noreferrer\">GB 20</a>, <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#2770\" rel=\"noreferrer\">LWG 2770</a>, and <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-active.html#2446\" rel=\"noreferrer\">LWG 2446</a>), which lead to the kind of behavior that gcc/libstdc++ exhibit here. It is certainly <em>intended</em> that the code work with or without <code>#include &lt;utility&gt;</code>, it's just a matter of the standard wording having gotten there properly.</p>\n\n<hr />\n\n<p>Yes, classes with all public non-anonymous union members should be usable in structured bindings declarations per <a href=\"http://eel.is/c++draft/dcl.struct.bind#4\" rel=\"noreferrer\">[dcl.struct.bind]/4</a>:</p>\n\n<blockquote>\n  <p>Otherwise, all of <code>E</code>'s non-static data members shall be public direct members of <code>E</code> or of the same unambiguous public base class of <code>E</code>, <code>E</code> shall not have an anonymous union member, and the number of elements in the identifier-list shall be equal to the number of non-static data members of <code>E</code>. Designating the non-static data members of <code>E</code> as m0, m1, m2, ... (in declaration order), each vi is the name of an lvalue that refers to the member mi of e and whose type is cv Ti, where Ti is the declared type of that member; the referenced type is cv Ti. The lvalue is a bit-field if that member is a bit-field. <em>[\u2009Example:</em></p>\n\n<pre><code>struct S { int x1 : 2; volatile double y1; };\nS f();\nconst auto [ x, y ] = f();\n</code></pre>\n</blockquote>\n\n<p>This is completely unrelated to the inclusion of <code>&lt;utility&gt;</code>, nothing in this code depends on any library functionality - the members are grabbed directly, and not via the <code>get</code>/<code>tuple_size</code> mechanism.</p>\n"}], "owner": {"reputation": 2859, "user_id": 138817, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/37489712e5e7696f71e189a266904130?s=128&d=identicon&r=PG", "display_name": "robson3.14", "link": "https://stackoverflow.com/users/138817/robson3-14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 2, "accepted_answer_id": 43895259, "answer_count": 2, "score": 21, "last_activity_date": 1543146380, "creation_date": 1494424601, "last_edit_date": 1543146380, "question_id": 43894619, "link": "https://stackoverflow.com/questions/43894619/why-does-including-utility-break-structured-bindings-in-gcc", "title": "Why does including &lt;utility&gt; break structured bindings in GCC?", "body": "<p>Consider:</p>\n\n<pre><code>struct Point { int x, y; };\n\nint main()\n{\n    const auto [x, y] = Point{};\n}\n</code></pre>\n\n<p>This code compiles fine with gcc 7.1 in C++17 mode, however this one:</p>\n\n<pre><code>#include &lt;utility&gt;\n\nstruct Point { int x, y; };\n\nint main()\n{\n    const auto [x, y] = Point{};\n}\n</code></pre>\n\n<p>gives an error:</p>\n\n<pre><code>bug.cpp: In function 'int main()':\nbug.cpp:7:16: error: 'std::tuple_size&lt;const Point&gt;::value' is not an integral constant expression\n     const auto [x, y] = Point{};\n                ^~~~~~\n</code></pre>\n\n<p>What's going on here? A compiler bug, or is this how structured bindings are supposed to work?</p>\n"}, {"tags": ["c++", "templates", "metaprogramming", "non-type"], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 1, "last_activity_date": 1494424701, "creation_date": 1494424701, "answer_id": 43894670, "question_id": 43894563, "link": "https://stackoverflow.com/questions/43894563/methods-with-non-type-template-parameters/43894670#43894670", "title": "Methods with non-type template parameters", "body": "<p>You are attempting to partially specialize function templates, which is not allowed. Here is a compilable snippet:</p>\n\n<pre><code>class A\n{\n    enum B\n    {\n        C = 0,\n        D\n    };\n    template &lt;A::B value = A::C&gt;\n    int fun();\n};\n\ntemplate&lt;&gt;\nint A::fun&lt;A::B::C&gt;()\n{\n    return 1;\n}\n\ntemplate&lt;&gt;\nint A::fun&lt;A::B::D&gt;()\n{\n    return fun&lt;B::C&gt;() + 1;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": false, "score": 2, "last_activity_date": 1494424721, "creation_date": 1494424721, "answer_id": 43894680, "question_id": 43894563, "link": "https://stackoverflow.com/questions/43894563/methods-with-non-type-template-parameters/43894680#43894680", "title": "Methods with non-type template parameters", "body": "<p>The problem is that your specialization syntax is incorrect.  It's attempting partial specialization of a function, but that doesn't even make sense here -- and isn't allowed anyway.</p>\n\n<p>You also attempt to call <code>fun&lt;B&gt;()</code> in the second specialization, but <code>B</code> is a typename and not a value of the enum, so the call can't be resolved.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>// Removed template argument to make a complete specialization instead of partial.\ntemplate&lt;&gt;\nint A::fun&lt;A::B::C&gt;()\n{\n    return 1;\n}\n\n// Removed template argument to make a complete specialization instead of partial.\ntemplate&lt;&gt;\nint A::fun&lt;A::B::D&gt;()\n{\n    // Changed template argument from B (which is a type) to C (which is a value of\n    // type B.\n    return fun&lt;C&gt;() + 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1760, "user_id": 3255071, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0tVHD.png?s=128&g=1", "display_name": "Adam Hunyadi", "link": "https://stackoverflow.com/users/3255071/adam-hunyadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 43894670, "answer_count": 2, "score": 0, "last_activity_date": 1494424721, "creation_date": 1494424464, "question_id": 43894563, "link": "https://stackoverflow.com/questions/43894563/methods-with-non-type-template-parameters", "title": "Methods with non-type template parameters", "body": "<p>I was wondering what the proper syntax to create non-type templated class methods. I've tried this, but apparently it does not work:</p>\n\n<pre><code>class A\n{\n    enum B\n    {\n        C = 0,\n        D\n    };\n    template &lt;A::B value = A::C&gt;\n    int fun();\n};\n\ntemplate&lt;A::B value&gt;\nint A::fun&lt;A::B::C&gt;()\n{\n    return 1;\n}\n\ntemplate&lt;A::B value&gt;\nint A::fun&lt;A::B::D&gt;()\n{\n    return fun&lt;B&gt;() + 1;\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "gcc", "assembly", "x86", "inline-assembly"], "comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 11, "creation_date": 1494427649, "post_id": 43894511, "comment_id": 74825702, "body": "To summarize: you&#39;re fighting the CPU (invalidation of return stack buffer), you&#39;re fighting the C and C++ languages (co-routines in assembly, modifying registers directly) <i>and</i> you&#39;re fighting GCC. (Trying to alter the generated code). At this point it may be wise to take a step back, and reconsider the decision to use those co-routines. This will be a pain to maintain, and as new CPU&#39;s are released your manual optimization may become a pessimization."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 1, "creation_date": 1494442732, "post_id": 43894511, "comment_id": 74835233, "body": "You have to edit the sources of GCC and create your own version the compiler that uses something like <code>pop %ecx</code> <code>jmp *%ecx</code> instead of the RET instruction."}, {"owner": {"reputation": 49, "user_id": 7780777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c619df7867f0302de78d8b1349857f07?s=128&d=identicon&r=PG&f=1", "display_name": "Yuan Zhu", "link": "https://stackoverflow.com/users/7780777/yuan-zhu"}, "reply_to_user": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1494730133, "post_id": 43894511, "comment_id": 74950664, "body": "@RossRidge I just use a gcc -S and sed&amp;awk shell to replace ret, retq, rep ret, repz ret  and gcc *.S to get the result."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1556900588, "post_id": 43894511, "comment_id": 98598273, "body": "there&#39;s no C/C++ language. Either use C or C++. And you said <code>Some common but not perfect methods</code> but then listed only one method!"}], "answers": [{"tags": [], "owner": {"reputation": 2978, "user_id": 904148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf9d0b9f5d61826525247bd5b79cdc0?s=128&d=identicon&r=PG", "display_name": "Timothy Baldwin", "link": "https://stackoverflow.com/users/904148/timothy-baldwin"}, "is_accepted": false, "score": 3, "last_activity_date": 1494488892, "creation_date": 1494488892, "answer_id": 43909457, "question_id": 43894511, "link": "https://stackoverflow.com/questions/43894511/how-to-force-gcc-to-use-jmp-instruction-instead-of-ret/43909457#43909457", "title": "How to force GCC to use jmp instruction instead of ret?", "body": "<p>Use an assembler macro:</p>\n\n<pre><code>.macro ret\n       pop %ecx\n       jmp *%ecx\n.endm\n</code></pre>\n\n<p>Put that in inline assembler at the top of the file or elsewhere.</p>\n"}], "owner": {"reputation": 49, "user_id": 7780777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c619df7867f0302de78d8b1349857f07?s=128&d=identicon&r=PG&f=1", "display_name": "Yuan Zhu", "link": "https://stackoverflow.com/users/7780777/yuan-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1556900528, "creation_date": 1494424338, "last_edit_date": 1556900528, "question_id": 43894511, "link": "https://stackoverflow.com/questions/43894511/how-to-force-gcc-to-use-jmp-instruction-instead-of-ret", "title": "How to force GCC to use jmp instruction instead of ret?", "body": "<p>I was now using a stackful co-routines for network programming. But I was punished by the invalidation of return stack buffer (see \n<a href=\"http://www.agner.org/optimize/microarchitecture.pdf\" rel=\"nofollow noreferrer\">http://www.agner.org/optimize/microarchitecture.pdf</a> p.36), during the context switch (because we manually change the SP register)</p>\n\n<p>I found out that the <code>jmp</code> instruction is better than <code>ret</code> after assembly language test. However, I have some more functions that indirectly call the context switch function that was written in C++ language (compiled by GCC). How can we force these function return using <code>jmp</code> instead of <code>ret</code> in the GCC assembly result?</p>\n\n<p>Some common but not perfect methods:</p>\n\n<ol>\n<li>using inline assembly and manually set SP register to <code>__builtin_frame_address+2*sizeof(void*)</code> and <code>jmp</code> to the return address, before <code>ret</code>?</li>\n</ol>\n\n<p>This is an unsafe solution. In C++, local variables or right values are destructed before <code>ret</code> instruction. We will omit these instruction if we <code>jmp</code>. What's worse, even if we are in C, callee-saved registers need to be restored before <code>ret</code> instruction and we will also omit these instruction, too.</p>\n\n<p>So what can we do <strong>to force GCC use jmp instead of ret to avoid the problems listing above</strong>?</p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1494424592, "post_id": 43894417, "comment_id": 74823228, "body": "<a href=\"https://www.securecoding.cert.org/confluence/display/cplusplus/OOP50-CPP.+Do+not+invoke+virtual+functions+from+constructors+or+destructors\" rel=\"nofollow noreferrer\">Interesting read</a>"}, {"owner": {"reputation": 1278, "user_id": 166389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a26ca7932c9550b26ff5bcaae562d2f?s=128&d=identicon&r=PG", "display_name": "TBBle", "link": "https://stackoverflow.com/users/166389/tbble"}, "edited": false, "score": 0, "creation_date": 1494436170, "post_id": 43894417, "comment_id": 74831376, "body": "It&#39;s explicitly the case that during a base-class constructor, the vtable and virtual functions are used for that base-class, not the eventual derived class. You may need to move to a factory pattern, to let you construct the object full and then call <code>init()</code> on it."}], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1494424222, "creation_date": 1494424222, "answer_id": 43894462, "question_id": 43894417, "link": "https://stackoverflow.com/questions/43894417/c-inherit-base-constructor-but-still-call-default-derived-constructor/43894462#43894462", "title": "C++ Inherit base constructor, but still call default derived constructor", "body": "<p>Yes. Virtual methods are called non-virtually from constructors, since derived class is not yet constructed when base class constructor is called.</p>\n\n<p>This is a known way to end up calling pure virtual function - just call some intermediate function which calls pure virtual one from the constructor (you can't call pure virtual function from the constructor directly, compiler won't allow you).</p>\n\n<p>To solve your problem, instead of inheriting constructors, declare your own and call base class constructor, followed by your specific initialization.</p>\n"}, {"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1494427896, "post_id": 43895249, "comment_id": 74825946, "body": "Sort of. Virtual dispatch technically happens, but you&#39;d need three levels of inheritance to see it, and then you&#39;d need to try from the intermediate level ctor."}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": false, "score": 2, "last_activity_date": 1494428053, "last_edit_date": 1494428053, "creation_date": 1494426097, "answer_id": 43895249, "question_id": 43894417, "link": "https://stackoverflow.com/questions/43894417/c-inherit-base-constructor-but-still-call-default-derived-constructor/43895249#43895249", "title": "C++ Inherit base constructor, but still call default derived constructor", "body": "<p>You cannot call virtual functions from constructor. This has to do with the order of construction of your objects:</p>\n\n<pre><code>struct E {\n    E() { std::cout &lt;&lt; \"E\" &lt;&lt; std::endl; }\n    int g = 7;\n};\n\nstruct F : E {\n    B() { std::cout &lt;&lt; \"F\" &lt;&lt; g &lt;&lt; std::endl; }\n};\n\nF f;\n</code></pre>\n\n<p>When constructing <code>f</code>, the program will output <code>EF7</code>. The base class is constructed first, so in the derived class you can call methods and use members from the parent.</p>\n\n<p>In fact, with the simple example above, you can use the variable <code>g</code> in <code>F</code> constructor for the reason that the parent constructor is called before. Otherwise it would be ill formed, because <code>E</code>'s constructor is the one setting <code>g</code> to <code>7</code></p>\n\n<p>What does this have to do with your problem?</p>\n\n<p>Well, in the base constructor, your are calling a virtual function. You expect the virtual function called to be dispatched in the derived class. The thing is, the is no derived class yet.</p>\n\n<p>You see, the class <code>B</code> is constructed first. There is no <code>D</code> existing yet! Since no <code>D</code> exist yet, the virtual dispatch cannot be done to call <code>D</code> function! So instead, the compiler will fallback to functions that can be chosen at that moment. In your case, that function is <code>B</code> init function.</p>\n"}, {"tags": [], "owner": {"reputation": 1679, "user_id": 703128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b28d09a40a5c6b6482f20ff0681e00b?s=128&d=identicon&r=PG", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/703128/leonardo"}, "is_accepted": true, "score": 1, "last_activity_date": 1494508773, "creation_date": 1494508773, "answer_id": 43916641, "question_id": 43894417, "link": "https://stackoverflow.com/questions/43894417/c-inherit-base-constructor-but-still-call-default-derived-constructor/43916641#43916641", "title": "C++ Inherit base constructor, but still call default derived constructor", "body": "<p>As other's have said, it is not trivially possible to call a derived virtual function inside a constructor, but it is not the only way to fix your problem, though.</p>\n\n<p>In your specific case, which I understand as you wanting to initialize members of your inherited class but still reusing base class constructor, you can use in-class member initialization. This works:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass Base {\n  public:\n    Base(int, int, int) { std::cout &lt;&lt; \"Calling base constructor\" &lt;&lt; std::endl; }\n};\n\nclass Derived : public Base {\n  public:\n    using Base::Base;\n    std::string member{\"This is a member string\"};\n};\n\nint main() {\n  Derived d(1, 2, 3);\n  std::cout &lt;&lt; d.member &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>\n\n<p>As you can see <a href=\"https://godbolt.org/g/eQR5JT\" rel=\"nofollow noreferrer\">here</a>, compiling above code with GCC (and with no optimizations) does generate a <code>Derived</code> constructor, and it calls <code>Base</code> constructor <em>and</em> initializes the <code>std::string</code> member.</p>\n"}], "owner": {"reputation": 31, "user_id": 6338514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d205eb2f484f167a67b55360ec27734b?s=128&d=identicon&r=PG&f=1", "display_name": "Mathers", "link": "https://stackoverflow.com/users/6338514/mathers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1025, "favorite_count": 0, "accepted_answer_id": 43916641, "answer_count": 3, "score": 1, "last_activity_date": 1494508773, "creation_date": 1494424101, "question_id": 43894417, "link": "https://stackoverflow.com/questions/43894417/c-inherit-base-constructor-but-still-call-default-derived-constructor", "title": "C++ Inherit base constructor, but still call default derived constructor", "body": "<p>I've been struggling with this problem :</p>\n\n<p>At the moment I have this code :</p>\n\n<pre><code>class B {\n  public:\n    B(int, int, int, int);\n    [many other ctors]\n};\n\nclass D : public B {\n  public:\n    using B::B;\n    [other methode]\n};\n</code></pre>\n\n<p>Now I want D to manage some pointer, that I need to initialize independently of the arguments passed to the constructors.</p>\n\n<p>I have tried this :</p>\n\n<pre><code>class B {\n  public:\n    B(int, int, int, int) {\n      [other stuff]\n      init();\n    }\n    [many other ctors]\n    virtual void init() {}\n};\n\nclass D : public B {\n  public:\n    using B::B;\n    void init() {\n      mPointer = new Stuff(42);\n    }\n\n  private:\n    mPointer = nullptr;\n};\n</code></pre>\n\n<p>but apparently if you call a virtual method From B::B(int,int,int,int), it calls B::init, and not D::init.</p>\n\n<p>Is there a nice way to make this work, or do I need to re-write all of B's ctors in D ?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["c++", "header", "locking", "mutex"], "comments": [{"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1494423897, "post_id": 43894173, "comment_id": 74822690, "body": "That mutex is different for every translation unit. Just make it a mutable member."}], "answers": [{"comments": [{"owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "edited": false, "score": 0, "creation_date": 1494485059, "post_id": 43894322, "comment_id": 74849758, "body": "thx for your elaborate answer. So do you say that the &quot;only header files version&quot; worked just by coincidence? I&#39;m just surprised because I got it from a notable reference book. Is it a better solution just to create a struct/class &quot;mutexStruct&quot; in Global.h with a public mutex member variable and create a reference to a  &quot;mutexStruct&quot; object in TestClass and TestClass2?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "edited": false, "score": 0, "creation_date": 1494508253, "post_id": 43894322, "comment_id": 74865909, "body": "@airborne If would reliably work if there was only one .cpp file.  Anonymous namespaces in header files are extremely dangerous when mixed with <code>inline</code> code (either explicitly inline, or functions defined in bodies of classes).  <code>extern</code> lets you have one object publicly exposed but only &quot;exists&quot; within one particular cpp file; note that undefined static initialization order means it isn&#39;t generally safe to use it before the start of <code>main</code>."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 5, "last_activity_date": 1494424276, "last_edit_date": 1494424276, "creation_date": 1494423915, "answer_id": 43894322, "question_id": 43894173, "link": "https://stackoverflow.com/questions/43894173/why-is-moving-the-definition-of-the-operator-from-h-to-cpp-file-causing-a-da/43894322#43894322", "title": "why is moving the definition of the operator() from .h to .cpp file causing a data race?", "body": "<p>This is a mixture of undefined behavior and anonymous namespaces.</p>\n\n<p>First this:</p>\n\n<pre><code>namespace {\n  std::mutex outputMutex;\n}\n</code></pre>\n\n<p>this is an anonymous namespace containing the mutex <code>outputMatrix</code>.  A different <code>outputMatrix</code> exists in <em>every source file</em>, as it has a different name.</p>\n\n<p>That is what anonymous namespaces do.  Think of them as \"generate unique guid here for each cpp file that builds this\".  They are intended to prevent link-time symbol collisions.</p>\n\n<pre><code>class TestClass {\n  std::string name;\npublic:\n  // ...\n  void operator()() {\n    // ...\n  }\n};\n</code></pre>\n\n<p>this is an (implicitly) <code>inline</code> <code>TestClass::operator()</code>.  Its body is compiled in each compilation unit.  By the ODR the body <em>must be the same in every compilation unit</em>, or your program is ill-formed, no diagnostic required.  (methods defined inside a class definition are implicitly <code>inline</code>, with all that baggage).</p>\n\n<p>It uses a token from an anonymous namespace.  This token has a different meaning in each compilation unit.  If there is more than one compilation unit, the result is an ill-formed program with no diagnostic required; the C++ standard places no restrictions on its behavior<sup>1</sup>.</p>\n\n<p>In this particular case, the same compilation unit was chosen for <code>operator()</code> from <code>TestClass</code> and <code>TestClass2</code>.  So it used the same mutex.  This is not reliable; a partial rebuild could cause it to change, or the phases of the moon.</p>\n\n<p>When you put it into its own <code>.cpp</code> file, it was no longer implicitly <code>inline</code>.  Only one definition existed, but they where in separate compilation units.</p>\n\n<p>These two different compilation units got a different <code>outputMatrix</code> mutex.</p>\n\n<hr>\n\n<p><sup>1</sup> The most common effect of violating that particular rule is that the linker picks one implementation based on arbitrary criteria (that can change from build to build!), and silently discards the rest.  This is not good, as innocuous changes to the build process (adding more cores, partial builds, etc) can break your code.  Don't violate the \"inline functions must have the same definition everywhere\" rule.  This is just the most common symptom; you are not guaranteed to have anything this sensible happen.</p>\n"}], "owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 43894322, "answer_count": 1, "score": 1, "last_activity_date": 1494425716, "creation_date": 1494423543, "question_id": 43894173, "link": "https://stackoverflow.com/questions/43894173/why-is-moving-the-definition-of-the-operator-from-h-to-cpp-file-causing-a-da", "title": "why is moving the definition of the operator() from .h to .cpp file causing a data race?", "body": "<p>in my code I have the following header files:</p>\n\n<p>Global.h:</p>\n\n<pre><code>#ifndef GLOBAL_H_\n#define GLOBAL_H_\n#include &lt;mutex&gt;\nnamespace\n{\n    std::mutex outputMutex;\n}\n#endif\n</code></pre>\n\n<p>Test.h:</p>\n\n<pre><code>#ifndef TEST_H_\n#define TEST_H_\n#include\"Global.h\"\n#include&lt;string&gt;\n#include&lt;iostream&gt;\nclass TestClass\n{\n    std::string name;\npublic:\n    TestClass(std::string n):name{n}{}\n    void operator()()\n    {\n        for (int i=0;i&lt;30;++i)\n        {\n            std::lock_guard&lt;std::mutex&gt; lock(outputMutex);\n            std::cout&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;std::endl;\n        }\n    }\n};\n#endif \n</code></pre>\n\n<p>Test2.h is actually equal to Test1.h, only containing a class called <em>\"TestClass2\"</em> instead of <em>\"TestClass\"</em>.\nMy main.cpp looks like this:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include &lt;thread&gt;\n#include \"Global.h\"\n#include \"Test.h\"\n#include \"Test2.h\"\nusing namespace std;\n\nint main()\n{\n    TestClass obj1(\"Hello\");\n    TestClass2 obj2(\"GoodBye\");\n    thread t1(obj1);\n    thread t2(obj2);\n    t1.join();\n    t2.join();\n}\n</code></pre>\n\n<p>If I run the program like this I get the expected output:</p>\n\n<blockquote>\n  <p>HelloHelloHelloHelloHelloHelloHello</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>GoodByeGoodByeGoodByeGoodByeGoodByeGoodByeGoodBye</p>\n</blockquote>\n\n<p>So far so good. But when I put the definition of the ()-operator of Test.h and Test2.h in source files Test.cpp and Test2.cpp:</p>\n\n<p>(Test.cpp, same for Test2.cpp):</p>\n\n<pre><code>#include \"Test.h\"\n#include\"Global.h\"\n\nvoid TestClass::operator()()\n{\n    for (int i=0;i&lt;30;++i)\n    {\n        std::lock_guard&lt;std::mutex&gt; lock(outputMutex);\n        std::cout&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;name&lt;&lt;std::endl;\n    }\n}\n</code></pre>\n\n<p>and accordingly remove the definition from the header-files: <code>void operator()();</code> I suddenly start getting occasional outputs like this:</p>\n\n<blockquote>\n  <p>GoodByeHelloGoodByeHelloGoodByeHelloGoodByeHelloGoodByeHelloGoodByeHelloGoodByeHello</p>\n</blockquote>\n\n<p>I don't know why the lock with the mutex variable <code>outputMutex</code> doesn't work any more, but I assume it has something to do with two versions of the variable being created, but I'd love to get a professional explanation. I'm using Eclipse with Cygwin.</p>\n"}, {"tags": ["c++", "templates"], "owner": {"reputation": 222, "user_id": 1320209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336aa887ab43f043d234490a5f470380?s=128&d=identicon&r=PG", "display_name": "ickby", "link": "https://stackoverflow.com/users/1320209/ickby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1494424091, "answer_count": 0, "score": 1, "last_activity_date": 1494423285, "creation_date": 1494423285, "question_id": 43894070, "link": "https://stackoverflow.com/questions/43894070/resolve-template-function-calls-for-multiple-equal-base-classes", "closed_reason": "Duplicate", "title": "Resolve template function calls for multiple equal base classes", "body": "<p>I have a class A that stores some state dependend on its template parameter and provides access methods for it. In my framework I need to enable derived classes B to add more of those state based classes to the hirarchy, so that they can be accessed from the derived class with a single API. The user should not notice that the state class has been splittet into multiple ones. Thats the schema I came up with:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\nusing namespace std;\n\ntemplate&lt;typename T1&gt; \nstruct Test {\n\n    template&lt;typename T2&gt;\n    typename enable_if&lt;is_same&lt;T1, T2&gt;::value, void&gt;::type myFunction() {};\n};\n\nstruct A : public Test&lt;int&gt; {};\nstruct B : public A, public Test&lt;char&gt; {};\n\nint main() {    \n    B b;\n    b.myFunction&lt;int&gt;();\n\n    return 0;\n}\n</code></pre>\n\n<p>but unfortunately it does not work, the compiler still finds both functions and reports them to be ambiguous.</p>\n\n<p>Any idea how this could be achieved?</p>\n"}, {"tags": ["c++", "visual-studio", "boost", "visual-studio-2015", "cmake"], "comments": [{"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1494429594, "post_id": 43894056, "comment_id": 74827311, "body": "In the CMake GUI, try selecting the Generator &quot;Visual Studio 14 2015 Win64&quot; instead of &quot;Visual Studio 14 2015&quot; or inversely."}, {"owner": {"reputation": 59, "user_id": 5644018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5c9f8c5a7af8a05ffe247577820080de?s=128&d=identicon&r=PG&f=1", "display_name": "Domen Lu\u0161ina", "link": "https://stackoverflow.com/users/5644018/domen-lu%c5%a1ina"}, "reply_to_user": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1494431060, "post_id": 43894056, "comment_id": 74828340, "body": "I changed generator from &quot;Visual Studio 14 2015 Win64&quot; to &quot;Visual Studio 14 2015&quot;. I get an error :            <code>1&gt;------ Build started: Project: vsal, Configuration: Release Win32 ------ 1&gt;opencv_highgui320.lib(opencv_highgui320.dll) : fatal error LNK1112: module machine type &#39;x64&#39; conflicts with target machine type &#39;X86&#39; 2&gt;------ Build started: Project: vsal_player, Configuration: Release Win32 ------ 2&gt;LINK : fatal error LNK1181: cannot open input file &#39;..\\lib\\Release\\vsal.lib&#39; ========== Build: 0 succeeded, 2 failed, 2 up-to-date, 0 skipped ==========</code>"}, {"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1494431817, "post_id": 43894056, "comment_id": 74828808, "body": "I see. If I see it correctly, your Boost library was compiled in 32 bit mode and your OpenCV library in 64 bit mode. The vsal library needs both, which is a problem. I would suggest re-compiling your Boost library in 64 bit mode."}, {"owner": {"reputation": 59, "user_id": 5644018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5c9f8c5a7af8a05ffe247577820080de?s=128&d=identicon&r=PG&f=1", "display_name": "Domen Lu\u0161ina", "link": "https://stackoverflow.com/users/5644018/domen-lu%c5%a1ina"}, "reply_to_user": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1494449477, "post_id": 43894056, "comment_id": 74838862, "body": "This is the right solution. All I had to do, was  run <code>.\\b2 address-model=64</code> command. Thank you so much !"}, {"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "edited": false, "score": 0, "creation_date": 1494487839, "post_id": 43894056, "comment_id": 74851526, "body": "Great! I&#39;ll add this as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "is_accepted": true, "score": 0, "last_activity_date": 1494487950, "creation_date": 1494487950, "answer_id": 43909175, "question_id": 43894056, "link": "https://stackoverflow.com/questions/43894056/error-when-building-vsal-project-in-visual-studio-2015/43909175#43909175", "title": "Error when building vsal project in visual studio 2015", "body": "<p>You are compiling a 64-bit program, but the Boost library you are trying to link against is a 32-bit library.</p>\n\n<p>Recompiling the Boost library in 64-bit mode will solve your problem.</p>\n"}], "owner": {"reputation": 59, "user_id": 5644018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5c9f8c5a7af8a05ffe247577820080de?s=128&d=identicon&r=PG&f=1", "display_name": "Domen Lu\u0161ina", "link": "https://stackoverflow.com/users/5644018/domen-lu%c5%a1ina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 43909175, "answer_count": 1, "score": 0, "last_activity_date": 1494487950, "creation_date": 1494423254, "question_id": 43894056, "link": "https://stackoverflow.com/questions/43894056/error-when-building-vsal-project-in-visual-studio-2015", "title": "Error when building vsal project in visual studio 2015", "body": "<p>I am new to building, compiling projects with cmake/visual studio so please go easy on me ;).</p>\n\n<p>I am trying to configure <a href=\"https://github.com/YuvalNirkin/vsal\" rel=\"nofollow noreferrer\">VSAL</a> lib. I used CMake GUI for configuration and generating (Visual Studio 2015 compiler).</p>\n\n<p>When I build ALL_BUILD in Visual studio I get the following error:</p>\n\n<pre><code>1&gt;------ Build started: Project: vsal, Configuration: Release x64 ------\n1&gt;libboost_program_options-vc140-mt-1_64.lib(value_semantic.obj) : fatal error LNK1112: module machine type 'X86' conflicts with target machine type 'x64'\n2&gt;------ Build started: Project: vsal_player, Configuration: Release x64 ------\n2&gt;LINK : fatal error LNK1181: cannot open input file '..\\lib\\Release\\vsal.lib'\n========== Build: 0 succeeded, 2 failed, 2 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>One thing that is bothering me, why is CMake using x86_amd64 and not amd64 compiler.</p>\n\n<pre><code>Check for working CXX compiler: G:/Programske datoteke (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe\nCheck for working CXX compiler: G:/Programske datoteke (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe -- works\n</code></pre>\n\n<p>Versions:</p>\n\n<ul>\n<li>Visual Studio Professional 2015 </li>\n<li>CMake 3.8.0 </li>\n<li>Boost 1.64.0 </li>\n<li>vsal 1.0</li>\n</ul>\n\n<p>Thank you for your help !</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494423423, "post_id": 43894052, "comment_id": 74822298, "body": "Binary search is for <i>sorted ranges</i>. Yours most probably isn&#39;t."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494423505, "post_id": 43894052, "comment_id": 74822372, "body": "Besides, your are looking at the wrong algorithms. <code>std::sort</code> and <code>std::unique</code> are of interest here."}, {"owner": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494423563, "post_id": 43894052, "comment_id": 74822436, "body": "@StoryTeller Yes, it&#39;s for sorted ranges. Isn&#39;t <code>0 1 2</code> a sorted range? And i&#39;ll look into those"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1494423601, "post_id": 43894052, "comment_id": 74822461, "body": "Yes, <code>0 1 2</code> is sorted. But what if you get a test case of <code>3 6 18 7 22</code>?"}, {"owner": {"reputation": 4480, "user_id": 2261062, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15756b0278dbf58ae90d2ffe8accbb81?s=128&d=identicon&r=PG", "display_name": "Sembei Norimaki", "link": "https://stackoverflow.com/users/2261062/sembei-norimaki"}, "edited": false, "score": 1, "creation_date": 1494423855, "post_id": 43894052, "comment_id": 74822663, "body": "you loop from j=1 to n. That means that the first value is stored in the second position of <code>ar</code> and the last value is not saved at all."}], "answers": [{"comments": [{"owner": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "edited": false, "score": 0, "creation_date": 1494424942, "post_id": 43894345, "comment_id": 74823515, "body": "But aren&#39;t arrays open to interpretation? I mean we can index them both from <code>0</code> or from <code>1</code> depending on preference. Isn&#39;t same the case with vectors?"}, {"owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "reply_to_user": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "edited": false, "score": 0, "creation_date": 1494425641, "post_id": 43894345, "comment_id": 74824093, "body": "Not that I know about: all, arrays, vectors, std::array, etc. goes from 0 to size()-1. Or what do you means with &quot;open to interpretation&quot;?"}], "tags": [], "owner": {"reputation": 11267, "user_id": 903651, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3dda4f66a2b7cc9fdced12a0fbede58?s=128&d=identicon&r=PG", "display_name": "Adrian Maire", "link": "https://stackoverflow.com/users/903651/adrian-maire"}, "is_accepted": true, "score": 0, "last_activity_date": 1494424082, "last_edit_date": 1494424082, "creation_date": 1494423956, "answer_id": 43894345, "question_id": 43894052, "link": "https://stackoverflow.com/questions/43894052/last-element-not-included-in-binary-search/43894345#43894345", "title": "Last element not included in binary_search", "body": "<p>You just seem to have a bug in your code:</p>\n\n<p>In line ~15</p>\n\n<pre><code>for(int j=1; j&lt;=n; j++)\n</code></pre>\n\n<p><code>ar</code> goes from 0 to n-1, not 1 to n. So the last value you are writing will have undefined behavior. </p>\n\n<p>In your case, you get trash value for the first element, in my case it just crashed.</p>\n\n<p>Solving the issue, the result is 1 as expected.</p>\n"}], "owner": {"reputation": 3001, "user_id": 5120092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wXHo9.png?s=128&g=1", "display_name": "Aseem Upadhyay", "link": "https://stackoverflow.com/users/5120092/aseem-upadhyay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 43894345, "answer_count": 1, "score": -1, "last_activity_date": 1494424082, "creation_date": 1494423244, "last_edit_date": 1494423325, "question_id": 43894052, "link": "https://stackoverflow.com/questions/43894052/last-element-not-included-in-binary-search", "title": "Last element not included in binary_search", "body": "<p>I have to find if an element occurs in the array list. \nIf yes, count the distinct number of elements and subtract it from the <code>n</code> which is the total size of the array.</p>\n\n<p>My problem.\nAfter running through a few cases, I noticed, the values at the last index aren't read.\nFor example</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nint main() {\n    // your code goes here\n    int test;\n    cin&gt;&gt;test;\n    for(int i=0;i&lt;test;i++) {\n        int n;\n        cin&gt;&gt;n;\n        vector&lt;int&gt; ar(n);\n        for(int j=1;j&lt;=n;j++) {\n            cin&gt;&gt;ar[j];\n        }\n        int c=0;\n        for(int j=1;j&lt;=n;j++) {\n            if(binary_search(ar.begin(),ar.end(),j)) {\n                c++;\n            }       \n        }\n        cout&lt;&lt;n-c&lt;&lt;endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Test Case</p>\n\n<pre><code>1\n3\n0 1 2\n</code></pre>\n\n<p>Answer should be <code>1</code> as \n1 and 2 are found so, <code>c=0+2=2</code> which implies <code>cout&lt;&lt;n-c&lt;&lt;endl;</code> = <code>3-2=1</code></p>\n\n<p>Answer according to this code,comes out to be <code>2</code></p>\n\n<p>Not able to find where the problem lies.</p>\n"}, {"tags": ["c++", "if-statement", "math", "logic", "inequality"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1494423412, "post_id": 43894028, "comment_id": 74822288, "body": "Why are <code>x</code> and <code>y</code> arrays (?) and not numbers like in the original specification? What are <code>i</code> and <code>j</code>?"}, {"owner": {"reputation": 5579, "user_id": 7456923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaf0e019051e15265ad4d19eddce0521?s=128&d=identicon&r=PG&f=1", "display_name": "gdelab", "link": "https://stackoverflow.com/users/7456923/gdelab"}, "edited": false, "score": 0, "creation_date": 1494423558, "post_id": 43894028, "comment_id": 74822430, "body": "Are you sure there is no mistake with the definitions of dx, dy, Nx, Ny ? Or even with the plotting ? I don&#39;t see any mistake in your code..."}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "is_accepted": true, "score": 2, "last_activity_date": 1494426229, "last_edit_date": 1494426229, "creation_date": 1494425789, "answer_id": 43895135, "question_id": 43894028, "link": "https://stackoverflow.com/questions/43894028/logic-in-c-inequality-if-else-statement/43895135#43895135", "title": "Logic in C++ Inequality. If Else Statement", "body": "<p>The result is due to taking a too large step for dx and dy (0.5 each). In your plotting each \"pixel\" is evaluated according to its left and bottom extremes.</p>\n\n<p>Consider when <code>i = 2</code> and <code>j = 2</code>, your <code>if</code> will succeed with <code>x[i] = 1</code> and <code>y[i] = 1</code>. What you should do is leave your intervals \"open\" on their right-sides:</p>\n\n<pre><code> if((x[i]&gt;=0.5 &amp;&amp; x[i] &lt; 1) &amp;&amp; (y[j]&gt;=0.5 &amp;&amp; y[j] &lt; 1)) {\n //                   ^^^                        ^^^\n</code></pre>\n\n<p>But even then, dur to floating-point arithmetic imprecision you might encouter very special cases where a pixel is drawn not as intended. that's why you should use smaller <code>dx</code> and <code>dy</code>, or equivalently bigger <code>nx</code> and <code>ny</code>.</p>\n\n<p>Another issue in your code, which is not the source of this anomaly but surely needs to be corrected, you are accessing the arrays out of bounds. To avoid this:</p>\n\n<pre><code>for (int j = 0; j &lt; ny; j++) {  // &lt;-- not &lt;=\n// ...           ^^^\n    for (int i = 0; i &lt; nx; i++) {   // &lt;-- not &lt;=\n    //               ^^^\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7899820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/70290374ddb444a02ae3498cc32eb302?s=128&d=identicon&r=PG&f=1", "display_name": "mle0312", "link": "https://stackoverflow.com/users/7899820/mle0312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "accepted_answer_id": 43895135, "answer_count": 1, "score": 1, "last_activity_date": 1494426229, "creation_date": 1494423179, "last_edit_date": 1494424241, "question_id": 43894028, "link": "https://stackoverflow.com/questions/43894028/logic-in-c-inequality-if-else-statement", "title": "Logic in C++ Inequality. If Else Statement", "body": "<p>I am trying to generate the following 2D step function in C++. </p>\n\n<p>U is a function of X and Y. X goes from 0 to 2.  Y goes from 0 to 2</p>\n\n<pre><code>  U(x,y) =2 for 0.5&lt;= x &lt;= 1 and 0.5&lt;=y&lt;=1\n  U(x,y) = 1 for everywhere else \n</code></pre>\n\n<p>Basically, it is a 2 by 2 square with a smaller square in the range (0.5&lt;=x&lt;=1; 0.5&lt;=y&lt;=1) pop out.\nThis is what I have: (Nx, Ny are Number of Points in X, Y respectively). \n(Y, and X are spatial coordinates)</p>\n\n<pre><code>for (int j = 0; j&lt;=ny; j++){\n        y[j] = j*dy;\n        for (int i = 0; i &lt;=nx;i++){\n            x[i] = i*dx;\n            if(x[i]&gt;=0.5 &amp;&amp; x[i]&lt;=1 &amp;&amp; y[j]&gt;=0.5 &amp;&amp; y[j] &lt;=1){\n                u0[j][i] = 2.0;\n            }\n            else{\n                u0[j][i] = 1.0;\n            }\n        }           \n    }\n</code></pre>\n\n<p>Clearly, this is not correct because this is what I got, after plotting\n<a href=\"https://i.stack.imgur.com/bzwyI.png\" rel=\"nofollow noreferrer\">2d step function</a> </p>\n\n<p>I expect my If statement to be incorrect.  Could anyone please help me? </p>\n\n<p>Thank you very much. </p>\n\n<p>UPDATE:  Sorry about the confusion.  X and Y are just counter for the coordinates.  Below is the code (up until what I need to ask) so hopefully all variables are there. I should have done this in the beginning.  Sorry</p>\n\n<pre><code>//Declaring variables\n\n    int nx = 5; //x steps\n    int ny = 5; // y steps\n    int nt = 10; //time steps   \n    int c = 1; //constant\n    double dx = 2/double(nx-1);\n    double dy = 2/double(ny-1);\n    double sigma = 0.2;\n    double dt = sigma*dx;\n    double x[nx], y[ny]; //spatial vectors X and Y\n    double u[ny][nx]; //solution matrix\n    double u0[ny][nx]; //initial matrix\n\n    //Setting up initial conditions\n\n    for (int j = 0; j&lt;=ny; j++){\n        y[j] = j*dy;\n        for (int i = 0; i &lt;=nx;i++){\n            x[i] = i*dx;\n            if((x[i]&gt;=0.5 &amp;&amp; x[i]&lt;=1) &amp;&amp; (y[j]&gt;=0.5 &amp;&amp; y[j] &lt;=1)){\n                u0[j][i] = 2.0;\n            }\n            else{\n                u0[j][i] = 1.0;\n            }\n        }           \n    }\n</code></pre>\n\n<p>A lot of the variables declared are used later so I am not pasting the entire program on here. The variables of interest are X, Y,Nx, Ny, Dx, Dy, and U0.  All defined variables (Nx, Ny, Dx, Dy) are correctly defined and there are no problems (like integer with decimal places).  </p>\n"}]