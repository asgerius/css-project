[{"tags": ["c++"], "comments": [{"owner": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "edited": false, "score": 1, "creation_date": 1493251292, "post_id": 43646457, "comment_id": 74341214, "body": "Ever thought of using the <code>qsort</code> function? Or you can use what @paddy has suggested, <code>std::sort</code>."}, {"owner": {"reputation": 3, "user_id": 7892450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b563e1c79fac0ea8049c3844243b084c?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Richards", "link": "https://stackoverflow.com/users/7892450/garrett-richards"}, "reply_to_user": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "edited": false, "score": 0, "creation_date": 1493251404, "post_id": 43646457, "comment_id": 74341257, "body": "I have never heard of that. My professor had advised us to do it this way with a vector container."}, {"owner": {"reputation": 38136, "user_id": 971127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6289285bbe25ce36ef68fe4932256350?s=128&d=identicon&r=PG&f=1", "display_name": "BLUEPIXY", "link": "https://stackoverflow.com/users/971127/bluepixy"}, "edited": false, "score": 0, "creation_date": 1493251451, "post_id": 43646457, "comment_id": 74341262, "body": "<code>vector data;</code> ?? --&gt; <code>vector&lt;string&gt; datav;</code>,  <code>{while</code> --&gt; <code>}while</code>"}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 1, "creation_date": 1493251468, "post_id": 43646457, "comment_id": 74341265, "body": "Use <code>std::sort</code>.  <code>qsort</code> hails from the C era and is less efficient due to C&#39;s lack of templating."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1493252063, "post_id": 43646457, "comment_id": 74341412, "body": "you have 2 variables with the same name. Not allowed. Start out ignoring the sort requirement, just read lines into the vector until the user types exit. Build it up bit by bit"}], "answers": [{"comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1493252097, "post_id": 43646575, "comment_id": 74341421, "body": "make sure you give Remy full credit when you submit this solution"}, {"owner": {"reputation": 3, "user_id": 7892450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b563e1c79fac0ea8049c3844243b084c?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Richards", "link": "https://stackoverflow.com/users/7892450/garrett-richards"}, "edited": false, "score": 0, "creation_date": 1493253320, "post_id": 43646575, "comment_id": 74341691, "body": "Thank-you a ton Remy!! I have struggled a ton in this class. Also could you explain the &quot;data.push_back(line)&quot;? I appreciate every ones input and I will credit Remy in my assignment"}, {"owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "edited": false, "score": 1, "creation_date": 1493253533, "post_id": 43646575, "comment_id": 74341753, "body": "Look up std::vector in your book/c++ reference; it should explain the push_back member function."}, {"owner": {"reputation": 676, "user_id": 2497968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uwWXN.jpg?s=128&g=1", "display_name": "Thunder Storm", "link": "https://stackoverflow.com/users/2497968/thunder-storm"}, "reply_to_user": {"reputation": 3, "user_id": 7892450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b563e1c79fac0ea8049c3844243b084c?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Richards", "link": "https://stackoverflow.com/users/7892450/garrett-richards"}, "edited": false, "score": 0, "creation_date": 1493253567, "post_id": 43646575, "comment_id": 74341763, "body": "@GarrettRichards it appends the string called line (which is the input coming from the console) to a vector of strings. <a href=\"http://www.cplusplus.com/reference/vector/vector/push_back/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/vector/vector/push_back</a>"}, {"owner": {"reputation": 3, "user_id": 7892450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b563e1c79fac0ea8049c3844243b084c?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Richards", "link": "https://stackoverflow.com/users/7892450/garrett-richards"}, "edited": false, "score": 0, "creation_date": 1493253679, "post_id": 43646575, "comment_id": 74341794, "body": "Thank you guys. Y&#39;all are awesome!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1493252194, "last_edit_date": 1493252194, "creation_date": 1493252051, "answer_id": 43646575, "question_id": 43646457, "link": "https://stackoverflow.com/questions/43646457/how-do-i-make-my-program-print-all-data-typed-by-user-after-exit-is-typed/43646575#43646575", "title": "How do I make my program print all data typed by user after &quot;exit&quot; is typed", "body": "<p>You need to follow the directions you were given:</p>\n\n<blockquote>\n  <p>Write a program that repeatedly asks the user to type in a sentence and press Enter. <strong>Your program will store each sentence the user types into some container</strong>. When the user types \"exit\" or \"Exit\", print every sentence back to the screen in alphabetical order and then exit.</p>\n</blockquote>\n\n<p>You are not storing the sentences anywhere, so you can't sort them.  You need to do something more like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() \n{\n    string line;\n    vector&lt;string&gt; data;\n\n    do\n    {\n        cout &lt;&lt; \"Type a sentence and press enter.\" &lt;&lt; endl;\n        cout &lt;&lt; \"If the word 'exit' is typed, the program will close.\" &lt;&lt; endl;\n\n        if (!getline(cin, line))\n            break;\n\n        // validate if data is equal to \"exit\"\n        if ((line == \"exit\") || (line == \"Exit\"))\n            break;\n\n        data.push_back(line); // &lt;-- ADD THIS!!\n    }\n    while (true);\n\n    // sort the data alphabetically\n    sort(data.begin(), data.end()); // &lt;-- ADD THIS!!\n\n    // then type it back out\n    for(vector&lt;string&gt;::iterator i = data.begin(); i != data.end(); ++i) {\n        cout &lt;&lt; *i &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 7572026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340e7b48d6bfe006ce1b6f7161911df2?s=128&d=identicon&r=PG&f=1", "display_name": "Manav Dubey", "link": "https://stackoverflow.com/users/7572026/manav-dubey"}, "is_accepted": false, "score": 0, "last_activity_date": 1493252126, "last_edit_date": 1493252126, "creation_date": 1493252064, "answer_id": 43646580, "question_id": 43646457, "link": "https://stackoverflow.com/questions/43646457/how-do-i-make-my-program-print-all-data-typed-by-user-after-exit-is-typed/43646580#43646580", "title": "How do I make my program print all data typed by user after &quot;exit&quot; is typed", "body": "<p>When looking for some type of sorting function, I recommend using <code>std:sort()</code>, because it was created for <code>C++</code>. You can use <code>qsort()</code>, but don't due to it's on <code>C</code>. </p>\n\n<p>What the <code>std:sort()</code> function does is sorts a range of elements in ascending order, which is what you want. The header to use when using this function is <code>#include &lt;algorithm&gt;</code>. For more information about this function, <a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\">check this link out</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7892450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b563e1c79fac0ea8049c3844243b084c?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett Richards", "link": "https://stackoverflow.com/users/7892450/garrett-richards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 43646575, "answer_count": 2, "score": 0, "last_activity_date": 1493252194, "creation_date": 1493251143, "last_edit_date": 1493251569, "question_id": 43646457, "link": "https://stackoverflow.com/questions/43646457/how-do-i-make-my-program-print-all-data-typed-by-user-after-exit-is-typed", "title": "How do I make my program print all data typed by user after &quot;exit&quot; is typed", "body": "<p>This is an assignment that I have been given:</p>\n\n<blockquote>\n  <p>Write a program that repeatedly asks the user to type in a sentence and press Enter. Your program will store each sentence the user types into some container. When the user types \"exit\" or \"Exit\", print every sentence back to the screen in alphabetical order and then exit.</p>\n</blockquote>\n\n<p>Below is what I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() \n{\n    string data;\n    vector data;\n    do\n    {\n        cout &lt;&lt; \"Type a sentence and press enter.\"\n            \"If the word 'exit' is typed, the program will close.\" &lt;&lt; endl;\n\n        getline(cin, data);\n\n        // validate if data is not equals to \"exit\"\n        if (data != \"exit\" &amp;&amp; data != \"Exit\" )\n        {\n            // then type back\n            cout &lt;&lt; data &lt;&lt; endl;\n        }\n    }\n    while (data != \"exit\" &amp;&amp; data != \"Exit\");\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "opencl"], "comments": [{"owner": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "edited": false, "score": 2, "creation_date": 1493256813, "post_id": 43646411, "comment_id": 74342565, "body": "Shouldn&#39;t it be <code>err = clSetKernelArg(kernel, 0, sizeof(cl_mem), (void*)&amp;inputImage);</code>?"}, {"owner": {"reputation": 5977, "user_id": 1745695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b932c5253c45af61dc443fbc1b9c935c?s=128&d=identicon&r=PG", "display_name": "Dithermaster", "link": "https://stackoverflow.com/users/1745695/dithermaster"}, "reply_to_user": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "edited": false, "score": 0, "creation_date": 1493332600, "post_id": 43646411, "comment_id": 74384855, "body": "I agree with @MichaelNastenko (although you can skip the <code>(void*)</code>). Also, <code>*outputImage</code> should be <code>&amp;outputImage</code>."}, {"owner": {"reputation": 976, "user_id": 1283286, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/323e7c811cb9777683ec2e7eae5f3086?s=128&d=identicon&r=PG", "display_name": "Ilya  Lapan", "link": "https://stackoverflow.com/users/1283286/ilya-lapan"}, "reply_to_user": {"reputation": 1848, "user_id": 5505741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K0RGKJuJSu4/AAAAAAAAAAI/AAAAAAAAAFw/aodTCStN3gc/photo.jpg?sz=128", "display_name": "Michael Nastenko", "link": "https://stackoverflow.com/users/5505741/michael-nastenko"}, "edited": false, "score": 0, "creation_date": 1493333176, "post_id": 43646411, "comment_id": 74385037, "body": "@MichaelNastenko, you are absolutely right. That fixed it! Thank you!"}], "owner": {"reputation": 976, "user_id": 1283286, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/323e7c811cb9777683ec2e7eae5f3086?s=128&d=identicon&r=PG", "display_name": "Ilya  Lapan", "link": "https://stackoverflow.com/users/1283286/ilya-lapan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493285285, "creation_date": 1493250884, "last_edit_date": 1493285285, "question_id": 43646411, "link": "https://stackoverflow.com/questions/43646411/opencl-1-2-passing-images-to-kernel", "title": "OpenCL 1.2 Passing images to kernel", "body": "<p>I want to pass an image to a kernel and then render the output with OpenGL. Unfortunately, can't find a relevant example on this online anywhere and books I have seen use OpenCL 1.1. Here is how I am trying to do that:</p>\n\n<pre><code>    cl_kernel kernel;                   // compute kernel\n    // Connect to a compute device\n    //\n    err = clGetDeviceIDs(NULL, CL_DEVICE_TYPE_GPU, 1, &amp;device_id, NULL);\n\n\n    // Create a compute context\n    //\n    context = clCreateContext(0, 1, &amp;device_id, NULL, NULL, &amp;err);\n\n\n    // Create a command commands\n    //\n    commands = clCreateCommandQueue(context, device_id, 0, &amp;err);\n\n\n    // Create the compute program from the source buffer\n    //\n    program = clCreateProgramWithSource(context, 1, (const char **) &amp;source_str, (const size_t *)&amp;source_size, &amp;err);\n\n    // Build the program executable\n    //\n    err = clBuildProgram(program, 0, NULL, NULL, NULL, NULL);\n\n    // Create the compute kernel in the program we wish to run\n    //\n    kernel = clCreateKernel(program, \"gaussian_filter\", &amp;err);\n    if (!kernel || err != CL_SUCCESS)\n    {\n        printf(\"Error: Failed to create compute kernel!\\n\");\n        exit(1);\n    }\n\n    size_t static width = 800;\n    size_t static height = 800;\n    char *buffer = new char[width * height * 4](); //create an empty array of bytes\n\n    static const cl_image_format format = { CL_RGBA, CL_FLOAT };\n    cl_mem inputImage = clCreateImage2D(context,\n                                         CL_MEM_READ_ONLY | CL_MEM_COPY_HOST_PTR, &amp;format,\n                                         width, height, 0,\n                                         buffer,\n                                         &amp;err); //deprecated\n\n\n    cl_mem outputImage = clCreateFromGLTexture(context, CL_MEM_WRITE_ONLY, GL_TEXTURE_2D, 0,texture,NULL);\n\n    if (err != CL_SUCCESS)\n    {\n        printf(\"Error creating CL image object\");\n        return 0;\n    }\n\n    cl_sampler sampler = clCreateSampler(context,\n                              CL_TRUE, // Non-normalized coordinates\n                              CL_ADDRESS_CLAMP_TO_EDGE,\n                              CL_FILTER_NEAREST,\n                              &amp;err);\n    if (err != CL_SUCCESS)\n    {\n        printf(\"Error creating CL sampler object\");\n        return 1;\n    }\n\n\n    // Write our data set into the input array in device memory\n    //\n\n    // Set the arguments to our compute kernel\n    //\n    err = clSetKernelArg(kernel, 0, sizeof(cl_mem), inputImage);\n    err |= clSetKernelArg(kernel, 1, sizeof(cl_mem), *outputImage);\n    err |= clSetKernelArg(kernel, 2, sizeof(cl_sampler), &amp;sampler);\n    err |= clSetKernelArg(kernel, 3, sizeof(cl_int), &amp;width);\n    err |= clSetKernelArg(kernel, 4, sizeof(cl_int), &amp;height);\n\n    if (err != CL_SUCCESS)\n    {\n        printf(\"Error: Failed to set kernel arguments! %d\\n\", err);\n        exit(1);\n    }\n</code></pre>\n\n<p>But this gives me a EXC_BAD_ACESS error on <code>err = clSetKernelArg(kernel, 0, sizeof(cl_mem), inputImage);</code>\nHere is my kernel. It just outpus a white pixel:</p>\n\n<pre><code>__kernel void gaussian_filter(__read_only image2d_t srcImg,\n                              __write_only image2d_t dstImg,\n                              sampler_t sampler,\n                              int width, int height)\n{\n    // Gaussian Kernel is:\n    // 1 2 1\n    // 2 4 2\n    // 1 2 1\n    float kernelWeights[9] = { 1.0f, 2.0f, 1.0f,\n        2.0f, 4.0f, 2.0f,\n        1.0f, 2.0f, 1.0f };\n    int2 startImageCoord = (int2) (get_global_id(0) - 1,\n                                   get_global_id(1) - 1);\n    int2 endImageCoord = (int2) (get_global_id(0) + 1,\n                                 get_global_id(1) + 1);\n    int2 outImageCoord = (int2) (get_global_id(0),\n                                 get_global_id(1));\n    if (outImageCoord.x &lt; width &amp;&amp; outImageCoord.y &lt; height)\n    {\n        float4 outColor = (float4)(1.0f, 0.0f, 0.0f, 1.0f);\n\n        // Write the output value to image\n        write_imagef(dstImg, outImageCoord, outColor);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493250926, "post_id": 43646385, "comment_id": 74341121, "body": "Which line is line 31?"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1493250960, "post_id": 43646385, "comment_id": 74341131, "body": "Change: <code>mole::mole(Atom1(), Atom2() )</code> --&gt; <code>mole::mole(Atom Atom1, Atom Atom2 )</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1493251000, "post_id": 43646385, "comment_id": 74341139, "body": "change <code>mole::mole(Atom1(), Atom2() ){</code> to <code>mole::mole(Atom Atom1, Atom Atom2 ){</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1493251012, "post_id": 43646385, "comment_id": 74341144, "body": "Epic would be if the error was on line 6.022140857 &#215; 10^23"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493251013, "post_id": 43646385, "comment_id": 74341145, "body": "It appears that you need <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">good C++ book</a>. in <code>mole::mole(Atom1(), Atom2() )</code> both <code>Atom1</code>, and <code>Atom2</code> are missing type specifiers, and the brackets (<code>()</code>) are not needed."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493251799, "post_id": 43646385, "comment_id": 74341350, "body": "Off topic: It&#39;s generally best to not <code>using namespace std;</code> at all, but in a header it can be particularly vicious.  Other folk who include the header may suddenly find themselves calling the wrong <code>swap</code> or <code>reverse</code> or other nonsense that will waste debugging time."}], "answers": [{"tags": [], "owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1493251201, "creation_date": 1493251201, "answer_id": 43646462, "question_id": 43646385, "link": "https://stackoverflow.com/questions/43646385/class-and-construct-error-c/43646462#43646462", "title": "Class and construct Error C++", "body": "<p>So many errors.  Let's tidy it up a bit and make it real C++.</p>\n\n<pre><code>mole::mole( const Atom &amp; a, const Atom &amp; b )\n    : proton( a.p + b.p )\n    , neutron( a.n + b.n )\n    , electron( a.e + b.e )\n    , valence{}  // or whatever calculation you intended  \n{\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 218, "user_id": 2946062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05de1b7d2101dbf786bf65557ee212ed?s=128&d=identicon&r=PG&f=1", "display_name": "Howard", "link": "https://stackoverflow.com/users/2946062/howard"}, "is_accepted": true, "score": 0, "last_activity_date": 1493251214, "creation_date": 1493251214, "answer_id": 43646465, "question_id": 43646385, "link": "https://stackoverflow.com/questions/43646385/class-and-construct-error-c/43646465#43646465", "title": "Class and construct Error C++", "body": "<p>I'm assuming that <code>Atom</code> is a class that is declared elsewhere? If you wanted to be able to accept two parameters of type <code>Atom</code> in the non-default constructor, you should declare it like so:</p>\n\n<pre><code>mole(Atom atom1, Atom atom2);\n...\nmole::mole(Atom atom1, Atom atom2) {\n    proton = atom1.p + atom2.p\n    ....\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6574982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad9e35cc477ab929a0ec7f8205514b5?s=128&d=identicon&r=PG&f=1", "display_name": "Darius Brown", "link": "https://stackoverflow.com/users/6574982/darius-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 43646465, "answer_count": 2, "score": -3, "last_activity_date": 1493251617, "creation_date": 1493250740, "last_edit_date": 1493251617, "question_id": 43646385, "link": "https://stackoverflow.com/questions/43646385/class-and-construct-error-c", "title": "Class and construct Error C++", "body": "<p>I need help with this error?</p>\n\n<p>molecule.cpp:31:7: error: qualified reference to 'mole' is a constructor name rather than a type wherever a constructor can be declared\nmole::mole(Atom1(), Atom2() ){</p>\n\n<pre><code>class mole {\n\nprivate:\n        string name;\n        int proton;\n        int neutron;\n        int electron;\n        int valence;\npublic:\n        int mass();\n        mole();\n        mole(Atom, Atom);\n        mole(string);\n        mole(string,int,int,int);\n};\n\n\nmole::mole()\n  {\n        name=\"hydrogen\";\n        proton=1;\n        neutron=0;\n        electron=1;\n        valence=1;\n}\n\nmole::mole(Atom1(), Atom2() ){\n        proton= Atom1.p + Atom2.p;\n        neutron=Atom1.n + Atom2.n;\n        electron=Atom1.e + Atom2.e;\n}\n</code></pre>\n\n<p>In another file:</p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nclass Atom {\n\nprivate:\n        string name;\n        int proton;\n        int neutron;\n        int electron;\n        int valence;\npublic:\n        int mass();\n        Atom();\n        Atom(int,int,int);\n        Atom(string);\n        Atom(string,int,int,int);\n};\n\n\nAtom::Atom(){\n        name=\"hydrogen\";\n        proton=1;\n        neutron=0;\n        electron=1;\n        valence=1;\n}\n\nAtom::Atom(int p, int n, int e){\n        proton=p;\n        neutron=n;\n        electron=e;\n}\n\nAtom::Atom(string n){\n        name=n;\n}\n\nAtom::Atom(string nm, int p, int n, int e){\n        name = nm;\n        proton=p;\n        neutron=n;\n        electron=e;\n}\n\n\n\nint Atom::mass(){\n        int mass = proton+neutron;\n        return mass;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "gcc"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1493250284, "post_id": 43646239, "comment_id": 74340960, "body": "Look up &quot;pimpl idiom&quot;, put all the private mechanics in the pimpl"}, {"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1493250906, "post_id": 43646239, "comment_id": 74341112, "body": "@M.M - it&#39;d be nice if I could define the <code>impl</code> pointer to &quot;templatized&quot; structure, but I can&#39;t"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1493251029, "post_id": 43646239, "comment_id": 74341148, "body": "So in your current code, you can only have one kind of container in the entire program? That is <i>weird</i>. And stupid."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493251472, "post_id": 43646239, "comment_id": 74341267, "body": "Don&#39;t give the user a container. Give them a handle for a container and hide everything but a couple container access function prototypes in the implementation files."}, {"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1493252895, "post_id": 43646239, "comment_id": 74341614, "body": "@immibis - I have one <i>weird</i> container, which I want to supply to my customers, without sources, cause they (customers and sources) aren&#39;t stupid"}], "answers": [{"comments": [{"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 0, "creation_date": 1493252689, "post_id": 43646432, "comment_id": 74341564, "body": "I can send only a header and compiled library to users, so this approach won&#39;t work for me - thanks!"}, {"owner": {"reputation": 676, "user_id": 2497968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uwWXN.jpg?s=128&g=1", "display_name": "Thunder Storm", "link": "https://stackoverflow.com/users/2497968/thunder-storm"}, "reply_to_user": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 0, "creation_date": 1493252831, "post_id": 43646432, "comment_id": 74341599, "body": "You could still build a library out of this and pass the header to the customers but maybe I&#39;m misunderstanding something."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493254920, "post_id": 43646432, "comment_id": 74342092, "body": "@ThunderStorm: it sounds like the implementation of the library will be precompiled and distributed as a binary, with a header to interact with it.  In which case, using templates doesn&#39;t work."}, {"owner": {"reputation": 676, "user_id": 2497968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uwWXN.jpg?s=128&g=1", "display_name": "Thunder Storm", "link": "https://stackoverflow.com/users/2497968/thunder-storm"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1493301468, "post_id": 43646432, "comment_id": 74367039, "body": "@RemyLebeau ok, got it."}], "tags": [], "owner": {"reputation": 676, "user_id": 2497968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uwWXN.jpg?s=128&g=1", "display_name": "Thunder Storm", "link": "https://stackoverflow.com/users/2497968/thunder-storm"}, "is_accepted": false, "score": 0, "last_activity_date": 1493250985, "creation_date": 1493250985, "answer_id": 43646432, "question_id": 43646239, "link": "https://stackoverflow.com/questions/43646239/from-forward-declaration-and-conditional-compilation-to-what/43646432#43646432", "title": "From forward declaration and conditional compilation to what?", "body": "<p>I don't think you have many options if you want to hide the template semantics from your customers. Using templates is easy though. If you wanted to have the data type of the stored data as template arguments it could look something like this:</p>\n\n<pre><code>template &lt;typename ITEM&gt;\nstruct Container\n{\n    Container(ITEM a) {\n        //not sure what you want to do here\n        table = new ITEM[100];\n    }\n    // other members\nprivate:\n    //the pointer to the stored array\n    ITEM* table;\n};\n\nint main()\n{\n    Container&lt;int&gt;(1);\n}\n</code></pre>\n\n<p>Notice that the only thing I did was to make ITEM a template argument. Now you can define which type of data your Container should have when you create an instance of it.</p>\n\n<p>Furthermore if you are looking at performance I don't see why you wouldn't just use a pointer to the data. This way you keep the overhead low and the elements don't get copied each time you copy the container object.</p>\n\n<p>Might not be the best solution but you could start with that. Let me know what you had in mind.</p>\n"}, {"comments": [{"owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 0, "creation_date": 1493303050, "post_id": 43646863, "comment_id": 74368195, "body": "The option #2 looks good, however I&#39;ll need to have a <code>switch (type)</code> in each member function, right?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "edited": false, "score": 0, "creation_date": 1493305483, "post_id": 43646863, "comment_id": 74369928, "body": "@HEKTO yes, you would have to do that"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1493254769, "last_edit_date": 1493254769, "creation_date": 1493254395, "answer_id": 43646863, "question_id": 43646239, "link": "https://stackoverflow.com/questions/43646239/from-forward-declaration-and-conditional-compilation-to-what/43646863#43646863", "title": "From forward declaration and conditional compilation to what?", "body": "<p>If you want the user of the container to decide the type of item used at runtime, while still hiding the implementation details, you will have to do something more like this:</p>\n\n<pre><code>struct Container\n{\n  enum ItemType { eItemType1, eItemType2 };\n\n  Container(ItemType aItemType);\n  ~Container();\n\n  // other members\n\nprivate:\n  struct ITEM {\n    virtual ~ITEM() {}\n  };\n  ITEM** table;\n};\n</code></pre>\n\n<p></p>\n\n<pre><code>#include \"Container.h\"\n\nstruct ItemType1 : Container::ITEM\n{\n  // some data fields\n};\n\nstruct ItemType2 : Container::ITEM\n{\n  // some data fields\n};\n\nContainer::Container(Container::ItemType aItemType)\n{\n  table = new ITEM*[100];\n\n  for (int i = 0; i &lt; 100; ++i)\n  {\n    switch (aItemType)\n    {\n      case eItemType1:\n        table[i] = new ItemType1;\n        break;\n\n      case eItemType2:\n        table[i] = new ItemType2;\n        break;\n\n      default:\n        table[i] = new ITEM;\n        break;\n  }\n}\n\nContainer::~Container()\n{\n  for (int i = 0; i &lt; 100; ++i)\n    delete table[i];\n  delete[] table;\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>#include \"Container.h\"\n\nint main()\n{\n  Container c(eItemType1);\n  // and so on\n}\n</code></pre>\n\n<p>If you absolutely cannot have a vtable in <code>ITEM</code>, and the table content must be held in sequential memory, then you will have to do something more like this instead:</p>\n\n<pre><code>struct Container\n{\n  enum ItemType { ItemType1, ItemType2 };\n\n  Container(ItemType aItemType);\n  ~Container();\n\n  // other members\n\nprivate:\n  void* table;\n  ItemType type;\n};\n</code></pre>\n\n<p></p>\n\n<pre><code>#include \"Container.h\"\n\nstruct ItemType1\n{\n  // some data fields\n};\n\nstruct ItemType2\n{\n  // some data fields\n};\n\nContainer::Container(Container::ItemType aItemType)\n{\n  type = aItemType;\n\n  switch (aItemType)\n  {\n      case eItemType1:\n        table = new ItemType1[100];\n        break;\n\n      case type2:\n        table = new ItemType2[100];\n        break;\n\n      default:\n        table = NULL;\n        break;\n  }\n}\n\nContainer::~Container()\n{\n  switch (type)\n  {\n      case eItemType1:\n        delete[] static_cast&lt;ItemType1*&gt;(table);\n        break;\n\n      case type2:\n        delete[] static_cast&lt;ItemType2*&gt;(table);\n        break;\n  }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>#include \"Container.h\"\n\nint main()\n{\n  Container c(eItemType1);\n  // and so on\n}\n</code></pre>\n"}], "owner": {"reputation": 3285, "user_id": 2961540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sECMV.jpg?s=128&g=1", "display_name": "HEKTO", "link": "https://stackoverflow.com/users/2961540/hekto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 43646863, "answer_count": 2, "score": 1, "last_activity_date": 1493254769, "creation_date": 1493249625, "last_edit_date": 1493253704, "question_id": 43646239, "link": "https://stackoverflow.com/questions/43646239/from-forward-declaration-and-conditional-compilation-to-what", "title": "From forward declaration and conditional compilation to what?", "body": "<p>I have a <code>Container</code> class, which has been designed with an item type, declared in the header and conditionally defined in the cpp-file:</p>\n\n<p>Container.h:</p>\n\n<pre><code>struct Container\n{\n  Container();\n  // other members\nprivate:\n  struct ITEM;\n  ITEM* table;\n};\n</code></pre>\n\n<p>Container.cpp:</p>\n\n<pre><code>#include \"Container.h\"\n\n#if CONTAINER_TYPE == 1\n\nstruct Container::ITEM\n{\n  // some data fields\n};\n\n#elif CONTAINER_TYPE == 2\n\nstruct Container::ITEM\n{\n  // some data fields\n};\n\n#else\n#error \"...\"\n#endif\n\nContainer::Container()\n{\n  table = new ITEM[100];\n}\n</code></pre>\n\n<p>Now I want to get rid of conditional compilation, and instead to use some combination of templates and inheritance to choose the item type during the <code>Container</code> construction:</p>\n\n<pre><code>// main.cpp\n#include \"Container.h\"\n\nint main()\n{\n  Container c(1);\n  // and so on\n}\n</code></pre>\n\n<p>My requirements:</p>\n\n<ul>\n<li><p>The <code>ITEM</code> type shouldn't contain <code>vtable</code>, cause the <code>ITEM</code> size and performance are extremely important - I'm talking about really large containers.</p></li>\n<li><p>The template mechanics should begin and end in the cpp-file, cause I don't want to disclose too much know-how to customers - only headers will be accessible to them.</p></li>\n</ul>\n\n<p>What are my options? Are there any design patterns, applicable here?</p>\n"}, {"tags": ["c++", "class", "inheritance", "polymorphism"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1493249855, "post_id": 43646215, "comment_id": 74340838, "body": "It&#39; abd in general class names should not be plural.s hard to see how <code>Enemies</code> can be a <code>Window.</code>  Also, I would suggest writing your game without using inheritance - inheritance is  vastly over-used by beginners."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7794573, "user_type": "registered", "profile_image": "https://graph.facebook.com/1710038432356107/picture?type=large", "display_name": "Julius Tumas", "link": "https://stackoverflow.com/users/7794573/julius-tumas"}, "edited": false, "score": 0, "creation_date": 1493250207, "post_id": 43646260, "comment_id": 74340933, "body": "Thank you a lot ! It helped"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 3, "user_id": 7794573, "user_type": "registered", "profile_image": "https://graph.facebook.com/1710038432356107/picture?type=large", "display_name": "Julius Tumas", "link": "https://stackoverflow.com/users/7794573/julius-tumas"}, "edited": false, "score": 0, "creation_date": 1493250446, "post_id": 43646260, "comment_id": 74340999, "body": "@JuliusTumas if it helps, consider accepting the answer"}], "tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": true, "score": 2, "last_activity_date": 1493249740, "creation_date": 1493249740, "answer_id": 43646260, "question_id": 43646215, "link": "https://stackoverflow.com/questions/43646215/no-matcing-function-to-call-to-classclass/43646260#43646260", "title": "No matcing function to call to class::class", "body": "<pre><code>Ghost::Ghost()\n{\n}\n</code></pre>\n\n<p>This constructor implicitly tries to call the no-argument constructor of all of its base types.  However, there is no no-argument constructor of <code>Enemies</code>, from which <code>Ghost</code> inherits, so this call fails.  (This is where the \"no matching call to Enemies::Enemies()\" comes from -- the compiler is telling you that <code>Ghost::Ghost()</code> is trying to call this constructor, but it doesn't exist.)</p>\n\n<p>One way to resolve this problem would be to accept the same arguments in the <code>Ghost</code> constructor and forward them:</p>\n\n<pre><code>class Ghost : public Enemies {\n    public:\n        Ghost(const Window &amp;window,int w,int h,int x,int y);\n        // ...\n};\n\nGhost::Ghost(const Window &amp;window,int w,int h,int x,int y)\n    : Enemies(window, w, h, x, y)\n{\n}\n</code></pre>\n\n<p>You need to do the same thing with <code>ScaredGhost</code>.</p>\n\n<p>C++11 permits you to inherit constructors like this, which is substantially easier and far less error-prone:</p>\n\n<pre><code>class Ghost : public Enemies {\n    public:\n        using Enemies::Enemies;\n        // ...\n};\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7794573, "user_type": "registered", "profile_image": "https://graph.facebook.com/1710038432356107/picture?type=large", "display_name": "Julius Tumas", "link": "https://stackoverflow.com/users/7794573/julius-tumas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 43646260, "answer_count": 1, "score": 0, "last_activity_date": 1493250036, "creation_date": 1493249421, "last_edit_date": 1493250036, "question_id": 43646215, "link": "https://stackoverflow.com/questions/43646215/no-matcing-function-to-call-to-classclass", "title": "No matcing function to call to class::class", "body": "<p>Im new to c++ and am working on a pacman prototype.\nWhile trying to grasp the concept of polymorphism i came accross this problem.\nEvery time i try to create a constructor or an object for Ghost and ScaredGhost classes i end up with the No matcing function to call to class::class error.</p>\n\n<p>Heres my header file :</p>\n\n<pre><code>    class Enemies : public Window\n    {\n        public:\n            Enemies(const Window &amp;window,int w,int h,int x,int y);\n            virtual ~Enemies();\n            virtual void EnemyDraw() = 0;\n        protected:\n            int gh,gw;          //Height width\n            int gx,gy;             // x and y\n\n    };\n\n    //--------------------------------------------------------\n    class Ghost : public Enemies\n    {\n        public:\n            Ghost();\n            void EnemyDraw();\n    };\n    //--------------------------------------------------------\n    class ScaredGhosts : public Enemies\n    {\n        public:\n            void EnemyDraw();\n    };\n</code></pre>\n\n<p>and the implementation :</p>\n\n<pre><code>Enemies::Enemies(const Window &amp;window,int w,int h,int x,int y):\n    Window(window), gw(w), gh(h), gx(x),gy(y)\n{\n    //ctor\n}\n Enemies::~Enemies(){}\n\n//_________________________________________________________________________________________________________\n\nvoid Ghost::EnemyDraw()\n{\n    SDL_Rect rect;\n    rect.w = gw;\n    rect.h = gh;\n\n    rect.x = gx;\n    rect.y = gy;\n\n    SDL_SetRenderDrawColor(renderer,0,0,255,0);\n    SDL_RenderFillRect(renderer,&amp;rect);\n\n}\n    Ghost::Ghost()\n    {\n    }\n\n//_________________________________________________________________________________________________________\n\nvoid ScaredGhosts::EnemyDraw()\n{\n    SDL_Rect rect;\n    rect.w = gw;\n    rect.h = gh;\n\n    rect.x = gx;\n    rect.y = gy;\n\n    SDL_SetRenderDrawColor(renderer,0,255,255,0);\n    SDL_RenderFillRect(renderer,&amp;rect);\n}\n</code></pre>\n\n<p>This is just the base of this class but I cannot proceed without overcoming this problem.</p>\n"}, {"tags": ["c++", "directx", "direct2d"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7723614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580bcd98312f4170e72ae29c4712f12f?s=128&d=identicon&r=PG", "display_name": "Mr D", "link": "https://stackoverflow.com/users/7723614/mr-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1493734036, "creation_date": 1493734036, "answer_id": 43739982, "question_id": 43646207, "link": "https://stackoverflow.com/questions/43646207/direct2d-duplicate-stretch-1px-image/43739982#43739982", "title": "Direct2d duplicate/stretch 1px image", "body": "<p>To stretch the image you can use scaling transformation.</p>\n\n<p>You can also render your image to <code>D2D1Bitmap</code> and draw it as a bitmap, there's <code>DrawBitmap</code> method with more parameters which allows you to draw any part of the bitmap to any part of the target device with stretching.</p>\n\n<p>To draw repeated patterns you can create bitmap or image brush with <code>CreateBitmapBrush</code>/<code>CreateImageBrush</code> method and set <code>extendMode*</code> properties to <code>D2D1_EXTEND_MODE_WRAP</code> value and then just fill desired shape with this brush.</p>\n"}], "owner": {"reputation": 53, "user_id": 7922356, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6457df835c98bc0f6815dc3dabeaaa37?s=128&d=identicon&r=PG&f=1", "display_name": "vusuzireru", "link": "https://stackoverflow.com/users/7922356/vusuzireru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493734036, "creation_date": 1493249397, "question_id": 43646207, "link": "https://stackoverflow.com/questions/43646207/direct2d-duplicate-stretch-1px-image", "title": "Direct2d duplicate/stretch 1px image", "body": "<p>If i have a 1px thick image How would i go about duplicating it so it becomes bigger, or how would i stretch it.</p>\n\n<p>Because as you can see with my code its not the best looping <code>DrawImage</code></p>\n\n<pre><code>    colorMatrixEffect-&gt;SetInput(0, texture); //texture = ID2D1Bitmap*\n    D2D1_MATRIX_5X4_F matrix = D2D1::Matrix5x4F(color-&gt;r, 0, 0, 0, 0, color-&gt;g, 0, 0, 0, 0, color-&gt;b, 0, 0, 0, 0, 1, 0, 0, 0, 0);\n    colorMatrixEffect-&gt;SetValue(D2D1_COLORMATRIX_PROP_COLOR_MATRIX, matrix);\n\n    if (rect.right == 0)\n    {\n        device_context_d2d1-&gt;DrawImage(colorMatrixEffect.get(),\n            D2D1::Point2F(newRect.left + offsetX, newRect.top + offsetY));\n    }\n    else\n    {\n        for (int i = 0; i &lt; static_cast&lt;int&gt;(newRect.right); i++)\n        {\n            device_context_d2d1-&gt;DrawImage(colorMatrixEffect.get(),\n                D2D1::Point2F(newRect.left + offsetX + i, newRect.top + offsetY));\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "c++11", "networking", "setsockopt"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1493250189, "post_id": 43646197, "comment_id": 74340924, "body": "Yes. (Why not just try it and see?)"}, {"owner": {"reputation": 1224, "user_id": 5309611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d0c7dd6dbcdd7a0d220fc79acc6b3d89?s=128&d=identicon&r=PG&f=1", "display_name": "notAChance", "link": "https://stackoverflow.com/users/5309611/notachance"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1493251833, "post_id": 43646197, "comment_id": 74341359, "body": "Why thank you, I incorrectly assumed it would overwrite the previous settings."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1493254988, "post_id": 43646197, "comment_id": 74342113, "body": "Setting an <i>individual</i> option will overwrite the existing value of only that one option.  Setting an option will not overwrite any other existing options."}], "owner": {"reputation": 1224, "user_id": 5309611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d0c7dd6dbcdd7a0d220fc79acc6b3d89?s=128&d=identicon&r=PG&f=1", "display_name": "notAChance", "link": "https://stackoverflow.com/users/5309611/notachance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493249321, "creation_date": 1493249321, "question_id": 43646197, "link": "https://stackoverflow.com/questions/43646197/need-to-setsockopt-at-the-sol-socket-and-ipproto-ip-levels", "title": "Need to setsockopt at the SOL_SOCKET and IPPROTO_IP levels", "body": "<p>So basically I currently have my socket set up with</p>\n\n<pre><code>setsockopt(nativeSock, SOL_SOCKET, SO_TIMESTAMPING,\n            &amp;so_timestamping_flags, sizeof(so_timestamping_flags)\n</code></pre>\n\n<p>because I need access to the <code>msghdr</code> for timestamping reasons.  However, I also need access to the <code>iphdr</code> to pull <code>ttl</code> and a few other values from incoming datagrams.</p>\n\n<p>Is it possible to <code>setsockopt</code> at more than one level per socket?</p>\n"}, {"tags": ["python", "c++", "swig"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1493249510, "post_id": 43646185, "comment_id": 74340753, "body": "without knowing the source code for <code>Vertices_iterator</code> it&#39;s impossible to give any help."}, {"owner": {"reputation": 1109, "user_id": 1267255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iiQrb.jpg?s=128&g=1", "display_name": "Devan Williams", "link": "https://stackoverflow.com/users/1267255/devan-williams"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1493403972, "post_id": 43646185, "comment_id": 74419398, "body": "FYI, it looks like this commit (<a href=\"https://github.com/swig/swig/pull/560/files\" rel=\"nofollow noreferrer\">github.com/swig/swig/pull/560/files</a>) attempted to fix a similar issue..."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 1, "creation_date": 1494704448, "post_id": 43646185, "comment_id": 74945516, "body": "If you want me to be able to look at this you need a real minimal complete example that I can get running in my own debugger. I ignored it before because there isn&#39;t one and even with a bounty I still can&#39;t help. The traceback shows at least 459 lines of Python you&#39;ve not shown\u200b in your &quot;simple test case&quot; that could be related and goodness knows how much else in the rest of ncore C and Python generated code. If you really want an answer you need to isolate it to something we can reproduce."}], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 1267255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iiQrb.jpg?s=128&g=1", "display_name": "Devan Williams", "link": "https://stackoverflow.com/users/1267255/devan-williams"}, "edited": false, "score": 0, "creation_date": 1494609511, "post_id": 43915883, "comment_id": 74918957, "body": "Thanks for testing. I should mention we tried with g++ 4.6 and g++ 4.9 on Centos 6, and MSVS Pro 2013 on Windows."}, {"owner": {"reputation": 756, "user_id": 7598403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5945e03cfe58474ba442f45d1bbc7e39?s=128&d=identicon&r=PG&f=1", "display_name": "pe3k", "link": "https://stackoverflow.com/users/7598403/pe3k"}, "reply_to_user": {"reputation": 1109, "user_id": 1267255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iiQrb.jpg?s=128&g=1", "display_name": "Devan Williams", "link": "https://stackoverflow.com/users/1267255/devan-williams"}, "edited": false, "score": 0, "creation_date": 1494702006, "post_id": 43915883, "comment_id": 74944795, "body": "@DevanWilliams Works for me also on Centos6/g++ 4.6. Does this simple proposed example produce exactly the same problem? Is there any compilation warning?"}], "tags": [], "owner": {"reputation": 756, "user_id": 7598403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5945e03cfe58474ba442f45d1bbc7e39?s=128&d=identicon&r=PG&f=1", "display_name": "pe3k", "link": "https://stackoverflow.com/users/7598403/pe3k"}, "is_accepted": false, "score": 0, "last_activity_date": 1494701867, "last_edit_date": 1494701867, "creation_date": 1494506878, "answer_id": 43915883, "question_id": 43646185, "link": "https://stackoverflow.com/questions/43646185/systemerror-built-in-function-xxx-iterator-returned-a-result-with-an-error-se/43915883#43915883", "title": "SystemError: &lt;built-in function xxx_iterator&gt; returned a result with an error set", "body": "<p>That is strange, just recompiled everything from scratch. Then I tested your simplified example (if understood correctly):</p>\n\n<p>Mytest.i:</p>\n\n<pre><code>%module mytest                                                                                             \n%{                                                                                                       \n    #include &lt;list&gt;\n     using namespace std;                                                                                     \n%}                                                                                                       \n\n%include \"std_list.i\"\nnamespace std {                                                                                          \n    %template(Ints) list&lt;int&gt;;                                                           \n}   \n</code></pre>\n\n<p>Compile steps:</p>\n\n<pre><code>swig -Wall -c++ -python -py3 -o mytest_wrap.cpp mytest.i\ng++ -c -g -ansi mytest_wrap.cpp -I/usr/local/include/python3.6m/ -fPIC -o mytest_wrap.o\ng++ -g -ansi -o _mytest.so mytest_wrap.o -shared\n</code></pre>\n\n<p>Then, after importing mytest module to python, everything works like a charm.</p>\n\n<p>Tested configurations:</p>\n\n<ul>\n<li>dockerized Ubuntu16.04: Python 3.6.1, SWIG 3.0.12, g++ 5.4.</li>\n<li>dockerized Centos6: Python 3.6.1, SWIG 3.0.12, g++ (4.9.2 and 4.4.7)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11372883, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5lE2rylmgjI/AAAAAAAAAAI/AAAAAAAAAAc/s8gbjPiejos/photo.jpg?sz=128", "display_name": "fangxlmr", "link": "https://stackoverflow.com/users/11372883/fangxlmr"}, "is_accepted": false, "score": 0, "last_activity_date": 1598934005, "creation_date": 1598934005, "answer_id": 63681337, "question_id": 43646185, "link": "https://stackoverflow.com/questions/43646185/systemerror-built-in-function-xxx-iterator-returned-a-result-with-an-error-se/63681337#63681337", "title": "SystemError: &lt;built-in function xxx_iterator&gt; returned a result with an error set", "body": "<p>Though it's an old question relatively, but recently I encountered a similar issue (<code>&lt;built-in function delete_qpol_iterator_t&gt; returned a result with an error set</code>) while dealing with SELinux and setools in CentOS7 docker. Building and installing libsepol and libselinux from <a href=\"https://github.com/SELinuxProject/selinux\" rel=\"nofollow noreferrer\">source code</a> might solve the problem.</p>\n<p>So I guess updating relevant libs and other dependencies might be useful.</p>\n"}], "owner": {"reputation": 1109, "user_id": 1267255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iiQrb.jpg?s=128&g=1", "display_name": "Devan Williams", "link": "https://stackoverflow.com/users/1267255/devan-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6764, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1616306725, "creation_date": 1493249233, "last_edit_date": 1493399955, "question_id": 43646185, "link": "https://stackoverflow.com/questions/43646185/systemerror-built-in-function-xxx-iterator-returned-a-result-with-an-error-se", "title": "SystemError: &lt;built-in function xxx_iterator&gt; returned a result with an error set", "body": "<p>I'm trying to upgrade from:\nSWIG 2.0.11 and Python 2.7.12 to\nSWIG 3.0.12 and Python 3.6,\nbut I get the following exception when I run the tests on any iterator (automatically generated using %template):</p>\n\n<pre><code>SystemError: &lt;built-in function xxx_iterator&gt; returned a result with an error set\n</code></pre>\n\n<p>For example, even the simplest iteration fails:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"testRender.py\", line 459, in testRender\n    for v in vertices:\nFile \"ncore.py\", line 90833, in __iter__\n    return self.iterator()\nFile \"ncore.py\", line 90830, in iterator\n    return _ncore.Vertices_iterator(self)\nSystemError: &lt;built-in function Vertices_iterator&gt; returned a result with an error set\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Again, this was all working great with SWIG 2.0.11 and Python 2.7.12....</p>\n\n<p><strong>Edit: Adding simpler example:</strong></p>\n\n<p>It could be ANY %template-generated iterator, so, for example, this template, defined in the .i file:</p>\n\n<pre><code>%template(Ints) std::list&lt;int&gt;;\n</code></pre>\n\n<p>will fail when using this simple code:</p>\n\n<pre><code>intsList = ncore.Ints()\nintsList.append(1)\nintsList.append(2)\nfor i in intsList:\n    print(i)\n</code></pre>\n\n<p>with a message similar to this:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"testRender.py\", line 459, in testRender\n    for i in intsList:\nFile \"ncore.py\", line 90833, in __iter__\n    return self.iterator()\nFile \"ncore.py\", line 90830, in iterator\n    return _ncore.Ints_iterator(self)\nSystemError: &lt;built-in function Ints_iterator&gt; returned a result with an error set\n</code></pre>\n"}, {"tags": ["c++", "singleton"], "comments": [{"owner": {"reputation": 1463, "user_id": 4784579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KRlU0.jpg?s=128&g=1", "display_name": "ipavlu", "link": "https://stackoverflow.com/users/4784579/ipavlu"}, "edited": false, "score": 0, "creation_date": 1493248753, "post_id": 43646066, "comment_id": 74340543, "body": "ParentClass * ParentClass::mInstance = new ChildClass;"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1493250467, "post_id": 43646066, "comment_id": 74341003, "body": "Try Scott Meyer&#39;s singleton."}], "answers": [{"tags": [], "owner": {"reputation": 275, "user_id": 4416573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c563ec3d34520b416345f53682bca6?s=128&d=identicon&r=PG&f=1", "display_name": "surrz", "link": "https://stackoverflow.com/users/4416573/surrz"}, "is_accepted": false, "score": 0, "last_activity_date": 1493248779, "creation_date": 1493248779, "answer_id": 43646116, "question_id": 43646066, "link": "https://stackoverflow.com/questions/43646066/how-to-call-the-overriden-function-in-the-singleton/43646116#43646116", "title": "How to call the overriden function in the singleton", "body": "<p>Change from <code>ParentClass * ParentClass::mInstance = new ParentClass;</code> to <code>ParentClass * ParentClass::mInstance = new ChildClass;</code> You need to instantiate the child class that overrides the function.</p>\n\n<p>Otherwise, no, with the given <code>mInstance</code> (as instance of <code>ParentClass</code>)  there is no way of calling the overriden function</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 7547836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xk1Xm.jpg?s=128&g=1", "display_name": "Sandesh Nimhan", "link": "https://stackoverflow.com/users/7547836/sandesh-nimhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1493249900, "creation_date": 1493249900, "answer_id": 43646284, "question_id": 43646066, "link": "https://stackoverflow.com/questions/43646066/how-to-call-the-overriden-function-in-the-singleton/43646284#43646284", "title": "How to call the overriden function in the singleton", "body": "<p>Make this following change:</p>\n\n<pre><code>ParentClass * ParentClass::mInstance = new ChildClass;\n</code></pre>\n\n<p>Otherwise you will not be able to call overriden methodA.</p>\n"}, {"tags": [], "owner": {"reputation": 13376, "user_id": 873025, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/d8rRW.jpg?s=128&g=1", "display_name": "Snps", "link": "https://stackoverflow.com/users/873025/snps"}, "is_accepted": false, "score": 0, "last_activity_date": 1493253811, "last_edit_date": 1493253811, "creation_date": 1493250740, "answer_id": 43646386, "question_id": 43646066, "link": "https://stackoverflow.com/questions/43646066/how-to-call-the-overriden-function-in-the-singleton/43646386#43646386", "title": "How to call the overriden function in the singleton", "body": "<p>No. You can't polymorphically call an overriden function that is marked <strong>private</strong> in the base class. A private function can only be called by the owning class itself. If you want a class' function to be exclusively visible to its derived children, then mark it as <strong>protected</strong>.</p>\n\n<p>And your class <code>ParentClass</code> is not a singleton. A singleton class can't have a public constructor as there must only be <em>one</em> static instance. Ever.</p>\n\n<p>It would also seem meaningless to inherit from a singleton class as the derived class, like its base, can never be constructed during runtime (unless the base's ctor is <em>protected</em>, but then it is starting to smell). All it can do is to access static members of the base or itself.</p>\n\n<p>Anyway, the idiomatic C++-singleton class looks like this:</p>\n\n<pre><code>class singleton {\npublic:\n    singleton(const singleton&amp;) = delete;\n    singleton&amp; operator=(const singleton&amp;) = delete;\n    static singleton&amp; get_instance() {\n        static singleton instance;\n        return instance;\n    }\nprivate:\n    singleton() {}\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7928235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B1UGKKx1Qag/AAAAAAAAAAI/AAAAAAAAA-E/lj6URozhMtM/photo.jpg?sz=128", "display_name": "Zhigang Pan", "link": "https://stackoverflow.com/users/7928235/zhigang-pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1493253811, "creation_date": 1493248507, "question_id": 43646066, "link": "https://stackoverflow.com/questions/43646066/how-to-call-the-overriden-function-in-the-singleton", "title": "How to call the overriden function in the singleton", "body": "<p>I am new to C++ and recently I have a problem of calling an overriden function from a singleton, the example code is:     </p>\n\n<pre><code>class ParentClass\n{\npublic:\nParentClass(){};\n~ParentClass(){};\n\nprivate:\n\n    static ParentClass * mInstance;\n\n    virtual methodA()\n    {\n       //...\n    }\n\n};\n\nParentClass * ParentClass::mInstance = new ParentClass;\n\nclass ChildClass : public ParentClass\n{\nprivate:\n\n    virtual methodA() override\n    {\n      //....\n    };\n}\n</code></pre>\n\n<p>Is there anyway to call the overriden methodA for the mInstance? </p>\n"}, {"tags": ["c++", "visual-studio", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7928019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4325c04a7df6aa085ee69d1bd9a03d79?s=128&d=identicon&r=PG&f=1", "display_name": "noir", "link": "https://stackoverflow.com/users/7928019/noir"}, "is_accepted": false, "score": 0, "last_activity_date": 1493249502, "creation_date": 1493249502, "answer_id": 43646230, "question_id": 43645923, "link": "https://stackoverflow.com/questions/43645923/opencv-houghline-function-create-unlimited-lines/43646230#43646230", "title": "OpenCV Houghline function create unlimited lines", "body": "<p>Thank you for your attention. It is solved by taking opencv_world320.lib out of the debug linker input.</p>\n"}], "owner": {"reputation": 1, "user_id": 7928019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4325c04a7df6aa085ee69d1bd9a03d79?s=128&d=identicon&r=PG&f=1", "display_name": "noir", "link": "https://stackoverflow.com/users/7928019/noir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493249502, "creation_date": 1493247686, "question_id": 43645923, "link": "https://stackoverflow.com/questions/43645923/opencv-houghline-function-create-unlimited-lines", "title": "OpenCV Houghline function create unlimited lines", "body": "<p>I am still very new to OpenCV and recently came across the Houghline function. I am using OpenCV 3.2 with Visual Studio 2015. I tried the sample code for HoughlineP without success. The code compiles fine but it runs endless, and sometimes when I push \"stop debugging\" it popup \"Unhandled exception at.........Access violation reading location ...\" errors. When I debugged it, it seems cause by the HoughlinsP function (the Canny and cvtColor works good). The lines size=1152921504603840390 (a ridiculous huge number) after the HoughlinesP function. Could you please advice? Thank you.</p>\n\n<pre><code>#include &lt;opencv2/imgproc.hpp&gt;\n#include &lt;opencv2/highgui.hpp&gt;\nusing namespace cv;\nusing namespace std;\nint main()\n{\nMat src, dst, color_dst;\nsrc = imread(\"C:\\\\\\Temp\\\\\\img.jpg\");\nif (src.empty())\n    return -1;\nCanny(src, dst, 50, 200, 3);\ncvtColor(dst, color_dst, COLOR_GRAY2BGR);\n\nvector&lt;Vec4i&gt; lines;\nHoughLinesP(dst, lines, 1, CV_PI / 180, 80, 30, 10);\nfor (size_t i = 0; i &lt; lines.size(); i++)\n{\n    line(color_dst, Point(lines[i][0], lines[i][1]),\n        Point(lines[i][2], lines[i][3]), Scalar(0, 0, 255), 3, 8);\n}\n\nnamedWindow(\"Source\", 1);\nimshow(\"Source\", src);\nnamedWindow(\"Detected Lines\", 1);\nimshow(\"Detected Lines\", color_dst);\nwaitKey(0);\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "parsing", "fstream"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1493247639, "post_id": 43645897, "comment_id": 74340176, "body": "That&#39;s not a class struct. That&#39;s just a bunch of variables. Also don&#39;t assign <code>NULL</code> to an <code>int</code>. Presumably you mean those numbers to be initialized <code>0</code>."}, {"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 1, "creation_date": 1493247952, "post_id": 43645897, "comment_id": 74340283, "body": "Which class you want to populate from the text file and also you need to show code for <code>States</code>."}, {"owner": {"reputation": 500, "user_id": 1735831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a5b80be844ea71d11e7276af32174ad?s=128&d=identicon&r=PG", "display_name": "0X1A", "link": "https://stackoverflow.com/users/1735831/0x1a"}, "edited": false, "score": 0, "creation_date": 1493247986, "post_id": 43645897, "comment_id": 74340294, "body": "Pat, what you&#39;re looking to do is called serialization. Check out this <a href=\"https://stackoverflow.com/questions/234724/is-it-possible-to-serialize-and-deserialize-a-class-in-c\">related SO question</a>."}, {"owner": {"reputation": 15, "user_id": 5038655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6825a9498c5d862c591f44da77060400?s=128&d=identicon&r=PG&f=1", "display_name": "Pat J Louis", "link": "https://stackoverflow.com/users/5038655/pat-j-louis"}, "reply_to_user": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1493248010, "post_id": 43645897, "comment_id": 74340307, "body": "@svasa will do. tadman got it"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493248665, "post_id": 43645897, "comment_id": 74340513, "body": "Recommended reading <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a>"}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1493257520, "post_id": 43645897, "comment_id": 74342753, "body": "@tadman, NULL <b>is</b> 0. Look it up. It does look <b>bad</b> to us people and the designer of C++ would say don&#39;t use macros but as far as the compiler is concerned, the compiler never sees <i>NULL</i>."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "reply_to_user": {"reputation": 500, "user_id": 1735831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a5b80be844ea71d11e7276af32174ad?s=128&d=identicon&r=PG", "display_name": "0X1A", "link": "https://stackoverflow.com/users/1735831/0x1a"}, "edited": false, "score": 0, "creation_date": 1493257788, "post_id": 43645897, "comment_id": 74342832, "body": "@0X1A, I don&#39;t see class information being read in; just data. Therefore it is just reading data, much as has been done for more than half a century."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 0, "creation_date": 1493258299, "post_id": 43645897, "comment_id": 74342979, "body": "That is not parsing. Everything is in fixed, predictable locations. Please don&#39;t call it parsing, just as it is not serialization. Also, I don&#39;t understand the relevance of the hashTable and that stuff; I see that Robert does not do anything with that; is the hashing unnecessary? I might have an alternative to Robert&#39;s but if the hashing is important then that should be explained. For production code, I would be more conservative and attempt to catch possible problems with the data."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 1, "creation_date": 1493258746, "post_id": 43645897, "comment_id": 74343099, "body": "@user34660 I know what it is, but it&#39;s intended for use as a pointer. This usage is completely absurd."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1493259332, "post_id": 43645897, "comment_id": 74343222, "body": "@tadman, then say that; just don&#39;t imply it is not being set to zero."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5038655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6825a9498c5d862c591f44da77060400?s=128&d=identicon&r=PG&f=1", "display_name": "Pat J Louis", "link": "https://stackoverflow.com/users/5038655/pat-j-louis"}, "edited": false, "score": 0, "creation_date": 1493258620, "post_id": 43647072, "comment_id": 74343069, "body": "Very helpful, but the items aren&#39;t being put into the hashtable? The struct is already defined in the header file:      class hashFunc { private: \tstatic const int HTSize = SIZE;  \tstruct stateData \t{ \t\tstring name; \t\tstring capital; \t\tint area; \t\tint admissionYear; \t\tint admissionOrder;\t \t\tstateData* next; \t};  \tstateData* hashTable[HTSize];"}, {"owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "reply_to_user": {"reputation": 15, "user_id": 5038655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6825a9498c5d862c591f44da77060400?s=128&d=identicon&r=PG&f=1", "display_name": "Pat J Louis", "link": "https://stackoverflow.com/users/5038655/pat-j-louis"}, "edited": false, "score": 0, "creation_date": 1493259315, "post_id": 43647072, "comment_id": 74343215, "body": "Just add,     <code>States.setStateInfo(one.name, one.capital, one.area, one.addYear, one.addOrder);</code> in the while loop replacing <code>all_data.push_back(one);</code> -- if I understood how your custom hash function is structured."}], "tags": [], "owner": {"reputation": 1283, "user_id": 7299313, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3fed28acbbea3d47344e5fca960d6cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert C. Holland", "link": "https://stackoverflow.com/users/7299313/robert-c-holland"}, "is_accepted": true, "score": 0, "last_activity_date": 1493256142, "creation_date": 1493256142, "answer_id": 43647072, "question_id": 43645897, "link": "https://stackoverflow.com/questions/43645897/c-read-from-txt-and-parse-to-class-struct/43647072#43647072", "title": "c++ read from txt and parse to class struct", "body": "<p>If you just need a way to read data and place it in a struct, here's a example that would read your data:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    ifstream inFile(\"Example_State_data.txt\");\n    if(!inFile.good()) { cout &lt;&lt; \"File read error\" &lt;&lt; '\\n'; exit(1); }\n\n    struct data\n    {\n        string name;\n        string capital;\n        int area;\n        int addYear;\n        int addOrder;\n    };\n\n    vector&lt;data&gt; all_data;\n\n    data one;\n\n    while\n    (\n        getline(inFile, one.name)\n        &amp;&amp;\n        getline(inFile, one.capital)\n        &amp;&amp;\n        inFile\n            &gt;&gt; one.area\n            &gt;&gt; one.addYear\n            &gt;&gt; one.addOrder\n    )\n    {\n        all_data.push_back(one);\n        getline(inFile, one.name); // pass third line\n    }\n\n\n    // ---- Read back ---------\n    size_t n = all_data.size();\n    for(size_t i = 0; i &lt; n; ++i)\n    {\n        cout\n            &lt;&lt; all_data[i].name &lt;&lt; '\\t'\n            &lt;&lt; all_data[i].capital &lt;&lt; '\\t'\n            &lt;&lt; all_data[i].area &lt;&lt; '\\t'\n            &lt;&lt; all_data[i].addYear &lt;&lt; '\\t'\n            &lt;&lt; all_data[i].addOrder &lt;&lt; '\\n';\n    }\n    // --------------------------------------\n\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5038655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6825a9498c5d862c591f44da77060400?s=128&d=identicon&r=PG&f=1", "display_name": "Pat J Louis", "link": "https://stackoverflow.com/users/5038655/pat-j-louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 43647072, "answer_count": 1, "score": 0, "last_activity_date": 1493256142, "creation_date": 1493247548, "last_edit_date": 1493248350, "question_id": 43645897, "link": "https://stackoverflow.com/questions/43645897/c-read-from-txt-and-parse-to-class-struct", "title": "c++ read from txt and parse to class struct", "body": "<p>Working on a project where I need to read from a txt file where every three lines has us state information needed, where I have to parse the info into my class I created. I Know I need a couple for loops, but not sure how to format the code.</p>\n\n<p>This is the format if the txt file:</p>\n\n<pre><code>New Hampshire\nConcord\n9304 1788 9\nMassachusetts\nBoston\n8257 1788 6\nVermont\nMontpelier\n9609 1791 14\n</code></pre>\n\n<p>Every third line includes three seperate ints needed to be parsed. Here's my code so far:</p>\n\n<pre><code>int main()\n{\n\n    ifstream file(\"Example_State_data.txt\");\n    string name;\n    string capital;\n    int area = NULL;\n    int index = NULL;\n    int addYear = NULL;\n    int addOrder = NULL;\n\n    hashFunc States;\n    States.setStateInfo(\"Hawaii\", \"Honlulu\", 0, 0, 0);\n    States.printTable();\n\n    if (file.is_open())\n    {\n        while (!file.eof())\n        {\n            file &gt;&gt; name;\n            index++;\n\n        }\n        cout &lt;&lt; index &lt;&lt; \" items found\";\n        file.close();\n    }\n    else\n    {\n        cout &lt;&lt; \"file is not open!\";\n    }\n}\n\nvoid hashFunc::setStateInfo(string name, string capital, int area, int \nadmissionYear, int admissionOrder)\n{\n    int index = Hash(name);\n    if (hashTable[index]-&gt;name == \"empty\")\n    {\n        hashTable[index]-&gt;name = name;\n        hashTable[index]-&gt;capital = capital;\n        hashTable[index]-&gt;area = area;\n        hashTable[index]-&gt;admissionYear = admissionYear;\n        hashTable[index]-&gt;admissionOrder = admissionOrder;\n    }\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "http", "winapi"], "comments": [{"owner": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "edited": false, "score": 0, "creation_date": 1493247413, "post_id": 43645836, "comment_id": 74340098, "body": "Post a custom window message to the UI window.  The window message could just put the data into WPARAM and LPARAM or it could pass a pointer in LPARAM.to a struct containing the data   For example <a href=\"http://stackoverflow.com/questions/19144112/how-can-worker-threads-communicate-with-main-ui-thread\" title=\"how can worker threads communicate with main ui thread\">stackoverflow.com/questions/19144112/&hellip;</a>"}, {"owner": {"reputation": 51094, "user_id": 210102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OViyp.jpg?s=128&g=1", "display_name": "Steve Townsend", "link": "https://stackoverflow.com/users/210102/steve-townsend"}, "edited": false, "score": 0, "creation_date": 1493247527, "post_id": 43645836, "comment_id": 74340135, "body": "if your service is RESTful you could use Casablanca.  Rolling your own async I/O will be challenging. <a href=\"https://casablanca.codeplex.com/wikipage?title=Http%20Client%20Tutorial\" rel=\"nofollow noreferrer\">casablanca.codeplex.com/wikipage?title=Http%20Client%20Tutor&zwnj;&#8203;ial</a>"}], "answers": [{"comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1493296992, "post_id": 43646068, "comment_id": 74363595, "body": "<i>User messages (as opposed to predefined system messages) can be defined as an offset from WM_USER</i> -- that should be <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644930(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>WM_APP</code></a> because predefined controls may use messages in the WM_USER range."}, {"owner": {"reputation": 16850, "user_id": 172642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2a18a04255beea3beff827eecedd64?s=128&d=identicon&r=PG", "display_name": "gavinb", "link": "https://stackoverflow.com/users/172642/gavinb"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1493300049, "post_id": 43646068, "comment_id": 74365941, "body": "True, but that is only an issue if you are subclassing an existing window. For a window class you register yourself, there&#39;s no overlap. Anyway, changed post accordingly. (Relevant <a href=\"http://stackoverflow.com/questions/30843497/wm-user-vs-wm-app\">stackoverflow.com/questions/30843497/wm-user-vs-wm-app</a>)"}], "tags": [], "owner": {"reputation": 16850, "user_id": 172642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2a18a04255beea3beff827eecedd64?s=128&d=identicon&r=PG", "display_name": "gavinb", "link": "https://stackoverflow.com/users/172642/gavinb"}, "is_accepted": false, "score": 2, "last_activity_date": 1493299951, "last_edit_date": 1493299951, "creation_date": 1493248543, "answer_id": 43646068, "question_id": 43645836, "link": "https://stackoverflow.com/questions/43645836/send-an-http-request-in-a-new-thread-c/43646068#43646068", "title": "Send an http request in a new thread C++", "body": "<p>Given you are using a Win32 style message loop, the usual way to pass information back to the main thread from a worker thread is to send a message. (It doesn't look like your sample code would quite work as written as you need at least a dummy <code>HWND</code> though.)</p>\n\n<p>Custom messages (as opposed to predefined system messages) can be defined as an offset from <code>WM_APP</code>, so you can do something like:</p>\n\n<pre><code>#define WM_INSTRUCTIONS_LOADING (WM_APP + 0)\n#define WM_INSTRUCTIONS_READY   (WM_APP + 1)\n/* ... */\n</code></pre>\n\n<p>Then in <code>DownloadInstructions</code> you can notify the main thread that the download is complete by using the <code>PostMessage</code> API (which sends an asynchronous message) where the <code>HWND</code> parameter is passed in to the thread from your main loop:</p>\n\n<pre><code>PostMessage(WM_INSTRUCTIONS_READY, hwndMain, 0, 0);\n</code></pre>\n\n<p>Now it doesn't look like <code>DownloadInstructions</code> is actually running in another thread. You're using the <code>SetTimer</code> API which will just send a <code>WM_TIMER</code> message to your event loop at some point in the future. The message will still be processed in your event loop, and thus on the main thread.</p>\n\n<p>You really do need to spawn a separate thread if you want it to be truly asynchronous. The mechanism for using <code>std::async</code> and is quite different to using <code>CreateThread</code>. The <code>std::async</code> call will spawn a thread and return you a <code>std::future</code> which you need to join on to get the result. This is probably not a great match for your current design.  If you just spawn <code>DownloadInstructions</code> as a separate thread and pass it some context (at least the <code>HWND</code> to post back to) via the <code>void*</code> argument pointer, that should be sufficient to do what you describe.</p>\n\n<p>Now having said all that, are you sure you want to write a C++ app using the rather old-fashioned and low-level C Win32 API? There are numerous libraries and frameworks for C++ which provide a much higher level API to do all these sorts of things more easily.</p>\n"}], "owner": {"reputation": 165, "user_id": 5512940, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/4e227f13da92e4f7f23df6c4e7d9270b?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel23", "link": "https://stackoverflow.com/users/5512940/manuel23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493299951, "creation_date": 1493247202, "last_edit_date": 1493247329, "question_id": 43645836, "link": "https://stackoverflow.com/questions/43645836/send-an-http-request-in-a-new-thread-c", "title": "Send an http request in a new thread C++", "body": "<p>I am new to C ++ and I am designing an application that requires getting information from the internet, my problem is that if there is no internet connection, or this is slow, my application freezes for seconds. My application also has a hook to the keyboard so when my application freezes, Windows also does.</p>\n\n<p>My application is for Windows only.</p>\n\n<p>This is a simulation of my problem:</p>\n\n<pre><code>std::string instruction;\nstd::string otherValue;\nint timerId;\n\nint main(int argc, char* argv[])\n{\n    StartKeysListener(); //Keyboard Hook\n\n    timerId = SetTimer(nullptr, 0, 5000, static_cast&lt;TIMERPROC&gt;(TimerCallback));\n\n    MSG msg;\n    while (GetMessageA(&amp;msg, nullptr, 0, 0) &gt; 0) {\n        TranslateMessage(&amp;msg);\n        DispatchMessage(&amp;msg);\n    }\n}\n\nVOID CALLBACK TimerCallback(HWND hwnd, UINT message, UINT idTimer, DWORD dwTime)\n{\n    DownloadInstructions();\n}\n\nstd::string DownloadInstructions(std::string url)\n{\n    std::string response = HttpRequest(url); //HttpRequest is a function that uses Windows SOCKET to send an http request\n\n    if (!response.empty())\n    {\n        instruction = response.substr(0, 5);\n        otherValue = response.substr(6, 15);\n    }\n}\n</code></pre>\n\n<p>I have tried calling the \"DownloadInstructions\" function on a new thread using <a href=\"http://www.cplusplus.com/reference/future/async/\" rel=\"nofollow noreferrer\">std::async</a> but I do not know how to return the server response to a callback to update the <em>\"instruction\"</em> and <em>\"otherValue\"</em> variables.</p>\n\n<p>How can i solve this problem? I could not find what I'm looking for on Google.</p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1493249580, "post_id": 43645817, "comment_id": 74340772, "body": "There is a recent bug report outstanding with MS: <a href=\"https://developercommunity.visualstudio.com/content/problem/41410/generate-graph-of-include-files-still-not-working.html\" rel=\"nofollow noreferrer\">developercommunity.visualstudio.com/content/problem/41410/&hellip;</a>"}], "owner": {"reputation": 311, "user_id": 4821191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/941638932523140/picture?type=large", "display_name": "Juan Dent", "link": "https://stackoverflow.com/users/4821191/juan-dent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1294, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1570091421, "creation_date": 1493247101, "last_edit_date": 1570091421, "question_id": 43645817, "link": "https://stackoverflow.com/questions/43645817/generate-graph-of-include-files-in-visual-studio-2017-not-working", "title": "&quot;Generate Graph of Include Files&quot; in Visual Studio 2017 not working", "body": "<p>Just downloaded Visual Studio 2017 Community Edition and when I right click on any open .h or .cpp file, and select Generate Graph of Include Files, it does not generate anything! Is this a bug? Is something missing from the installation?\nI have searched in MSDN forums and no one seems to have had this problem...</p>\n\n<p>Thanks in advance!\nJuan Dent</p>\n"}, {"tags": ["c++", "templates", "rvalue", "perfect-forwarding"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1493246358, "post_id": 43645582, "comment_id": 74339740, "body": "Note <code>func(int&amp;&amp;)</code> is not a better match than <code>func(int)</code>.  If you have those two as non-templates, the call is ambiguous."}, {"owner": {"reputation": 1216, "user_id": 902544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b931582c0dad31cc111638b0159c1b4?s=128&d=identicon&r=PG", "display_name": "PhilPotter1987", "link": "https://stackoverflow.com/users/902544/philpotter1987"}, "edited": false, "score": 0, "creation_date": 1493246364, "post_id": 43645582, "comment_id": 74339746, "body": "Because surely the template match void func(int&amp;&amp; param) would be better than void func(int param) - they are not the same. Or am I just being an idiot? Entirely possible I admit :-)"}, {"owner": {"reputation": 1216, "user_id": 902544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b931582c0dad31cc111638b0159c1b4?s=128&d=identicon&r=PG", "display_name": "PhilPotter1987", "link": "https://stackoverflow.com/users/902544/philpotter1987"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1493246453, "post_id": 43645582, "comment_id": 74339774, "body": "@aschepler: ah, I see, that is where my lack of understanding is. I assumed they would be different and overloadable - haven&#39;t actually tried that. Please post that as an answer and I will happily accept."}], "answers": [{"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 5, "last_activity_date": 1493247150, "creation_date": 1493247150, "answer_id": 43645824, "question_id": 43645582, "link": "https://stackoverflow.com/questions/43645582/resolution-of-function-arguments-parameters-in-c/43645824#43645824", "title": "Resolution of function arguments/parameters in C++", "body": "<p>The call <code>func(29)</code> matches the function  <code>void func(int)</code> with no conversions required. This is known as <em>identity conversion</em> for overload resolution, which is in the ranking category <em>Exact Match</em>.</p>\n\n<p>The ranking rules for <em>best viable function</em> in [over.match.best] specify when functions are a better match than other functions during overload resolution.</p>\n\n<p>An identity conversion is never a worse conversion sequence than any other conversion sequence, according to [over.ics.rank], so <code>void func(int)</code> can never be beaten under the first 5 rules.  Rule 6 is:</p>\n\n<blockquote>\n  <p>F1 is defined to be a better function than another viable function\n  F2 if for all arguments   </p>\n  \n  <p>[...]</p>\n  \n  <p>F1 is not a function template specialization and F2 is a function template specialization, [...]</p>\n</blockquote>\n\n<p>So a non-template identity conversion always wins over any template instantiation.</p>\n"}], "owner": {"reputation": 1216, "user_id": 902544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b931582c0dad31cc111638b0159c1b4?s=128&d=identicon&r=PG", "display_name": "PhilPotter1987", "link": "https://stackoverflow.com/users/902544/philpotter1987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 43645824, "answer_count": 1, "score": 0, "last_activity_date": 1493247150, "creation_date": 1493245896, "question_id": 43645582, "link": "https://stackoverflow.com/questions/43645582/resolution-of-function-arguments-parameters-in-c", "title": "Resolution of function arguments/parameters in C++", "body": "<p>I am currently working my way through 'Effective Modern C++' to update my knowledge of the language, and have just finished item 27, which deals with overloading functions which take forwarding (or universal as the book calls them) references. Using the following code I wrote:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename T&gt;\nvoid func(T&amp;&amp; param) {\n    std::cout &lt;&lt; \"forwarding reference version\\n\";\n}\n\nvoid func(int param) {\n    std::cout &lt;&lt; \"int version\\n\";\n}\n\nint main() {\n    func(29);\n}\n</code></pre>\n\n<p>Please can someone explain why the int version is called, even though 29 is an rvalue and therefore the template should instantiate to \"void func(int&amp;&amp; param)\" and the call should be to the forwarding version? Obviously it is what it is so my understanding is clearly lacking, but clarification on this point would be helpful. I understand that the standard says in the case of identical function signatures, a non-templated function should be preferred, but (in my mind at least) this doesn't apply here? Many thanks.</p>\n\n<p>Regards,\nPhil</p>\n"}, {"tags": ["c++", "c++11", "networking", "asio"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1493245899, "post_id": 43645534, "comment_id": 74339583, "body": "Surely there is something equivalent to SO_RCVTIMEO?"}, {"owner": {"reputation": 73, "user_id": 7917986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab6eff8c7e0847e1cfdf206d0e151b4?s=128&d=identicon&r=PG&f=1", "display_name": "Karena D.", "link": "https://stackoverflow.com/users/7917986/karena-d"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1493246779, "post_id": 43645534, "comment_id": 74339875, "body": "@EJP  I was hoping there&#39;d be, but nothing is mentioned in the docs"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1493255164, "post_id": 43645534, "comment_id": 74342159, "body": "Amazing. You can synthesize it with <code>select()</code>, however you do that in asio."}], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 2756123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x71E3.jpg?s=128&g=1", "display_name": "Tom Trebicky", "link": "https://stackoverflow.com/users/2756123/tom-trebicky"}, "is_accepted": false, "score": 0, "last_activity_date": 1503072448, "creation_date": 1503072448, "answer_id": 45760844, "question_id": 43645534, "link": "https://stackoverflow.com/questions/43645534/applying-a-timeout-to-udp-call-receive-from-in-asio/45760844#45760844", "title": "Applying a timeout to UDP call receive_from in ASIO", "body": "<p>As far as I know, this is not possible. By running a synchronous <code>receive_from</code> you've blocked code execution by a syscall <code>recvmsg</code> from <code>#include &lt;sys/socket.h&gt;</code>.</p>\n\n<p>As portability goes, I cannot speak for Windows but a linux/bsd C-flavoured solution would look like this:</p>\n\n<pre><code>void SignalHandler(int signal) {\n  // do what you need to do, possibly informing about timeout and calling exit()\n}\n\n...\nstruct sigaction signal_action;\nsignal_action.sa_flags = 0;\nsigemptyset(&amp;signal_action.sa_mask);\nsignal_action.sa_handler = SignalHandler;\nif (sigaction(SIGALRM, &amp;signal_action, NULL) == -1) {\n  // handle error\n}\n...\nint timeout_in_seconds = 5;\nalarm(timeout_in_seconds);\n...\nsocket.receive_from(asio::buffer(recv_buf), remote_endpoint, 0, error);\n...\nalarm(0);\n</code></pre>\n\n<p>If this is not at all feasible, I would recommend going full async and run it in a <code>boost::asio::io_service</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 7917986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab6eff8c7e0847e1cfdf206d0e151b4?s=128&d=identicon&r=PG&f=1", "display_name": "Karena D.", "link": "https://stackoverflow.com/users/7917986/karena-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503072448, "creation_date": 1493245582, "question_id": 43645534, "link": "https://stackoverflow.com/questions/43645534/applying-a-timeout-to-udp-call-receive-from-in-asio", "title": "Applying a timeout to UDP call receive_from in ASIO", "body": "<p>I have the following bit of ASIO code, that synchronously reads UDP packets. The problem is if no data packets of the given size have arrived in a given time frame  (30 seconds) I'd like the recieve_from function to return with some kind of error to specif icy timeout.</p>\n\n<pre><code>for (;;)\n{\n  boost::array&lt;char, 1000&gt; recv_buf;\n  udp::endpoint remote_endpoint;\n  asio::error_code error;\n\n  socket.receive_from(asio::buffer(recv_buf),   // &lt;-- require timeout\n      remote_endpoint, 0, error);\n\n  if (error &amp;&amp; error != asio::error::message_size)\n    throw asio::system_error(error);\n\n  std::string message = make_daytime_string();\n\n  asio::error_code ignored_error;\n  socket.send_to(asio::buffer(message),\n      remote_endpoint, 0, ignored_error);\n}\n</code></pre>\n\n<p>Looking at the documentation non of the UDP oriented calls support a time-out mechanism.</p>\n\n<p>What is the correct way (also portable if possible) for having a time-out with syncronous UDP calls in ASIO?</p>\n"}, {"tags": ["c++", "arrays", "uninitialized-constant"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1493245117, "post_id": 43645435, "comment_id": 74339314, "body": "What happens when you get to <code>return rate;</code> without any of the <code>rate =</code> lines?"}, {"owner": {"reputation": 2688, "user_id": 990142, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2c17dc83972d868e5a4a065549967ee2?s=128&d=identicon&r=PG", "display_name": "rwols", "link": "https://stackoverflow.com/users/990142/rwols"}, "edited": false, "score": 1, "creation_date": 1493245150, "post_id": 43645435, "comment_id": 74339327, "body": "Suppose that <code>sportsType_array[index] == &#39;a&#39;</code>"}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1493245154, "post_id": 43645435, "comment_id": 74339330, "body": "if sportType_array[index] is something other than f, g, h, say &#39;z&#39;, what will rate be?"}, {"owner": {"reputation": 41, "user_id": 7928105, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/a8d728b70b906c40fb6ac65fbb34092a?s=128&d=identicon&r=PG&f=1", "display_name": "gf807", "link": "https://stackoverflow.com/users/7928105/gf807"}, "edited": false, "score": 0, "creation_date": 1493245230, "post_id": 43645435, "comment_id": 74339357, "body": "Deleted the &quot;rate =&quot; lines only to still get the same error."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1493245237, "post_id": 43645435, "comment_id": 74339361, "body": "What if <code>userAge_array[index] == 25</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7928105, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/a8d728b70b906c40fb6ac65fbb34092a?s=128&d=identicon&r=PG&f=1", "display_name": "gf807", "link": "https://stackoverflow.com/users/7928105/gf807"}, "edited": false, "score": 0, "creation_date": 1493245647, "post_id": 43645471, "comment_id": 74339497, "body": "so your solution worked, but when I try to pass rate to another variable in my next function, I recieve a similair error. &quot;variable &#39;charge&#39; set but not used&quot; you can see the 2nd function here. I should also mention I tried applying your first solution to this variable with no success.  <a href=\"https://gist.github.com/anonymous/ed79f637d0daa0b35a295ddd6136bfdf\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493246105, "post_id": 43645471, "comment_id": 74339655, "body": "Maybe you should do something with charge in that code. I mean you compute it but then don&#39;t do anything with the computed value."}, {"owner": {"reputation": 41, "user_id": 7928105, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/a8d728b70b906c40fb6ac65fbb34092a?s=128&d=identicon&r=PG&f=1", "display_name": "gf807", "link": "https://stackoverflow.com/users/7928105/gf807"}, "edited": false, "score": 0, "creation_date": 1493246290, "post_id": 43645471, "comment_id": 74339713, "body": "Didn&#39;t realize I made a cout statement for &quot;rate&quot; rather than &quot;charge&quot; in that function. Thank you, code works now."}], "tags": [], "owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "is_accepted": true, "score": 4, "last_activity_date": 1493245192, "creation_date": 1493245192, "answer_id": 43645471, "question_id": 43645435, "link": "https://stackoverflow.com/questions/43645435/uninitialized-variable-trouble-c/43645471#43645471", "title": "Uninitialized variable trouble C++", "body": "<p>You are returning <code>rate</code> at the end of the function but it may never initialized because all assignments are inside ifs statements which may not be processed at all. </p>\n\n<p><strong>Solution:</strong></p>\n\n<p>assign it at first using some default value that you will accept in case no one of the ifs works:</p>\n\n<pre><code>double rate=0.0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 6553280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b2bb42a9c4dfa838c1587c173dc6b8?s=128&d=identicon&r=PG&f=1", "display_name": "jdunlop", "link": "https://stackoverflow.com/users/6553280/jdunlop"}, "is_accepted": false, "score": 0, "last_activity_date": 1493245245, "creation_date": 1493245245, "answer_id": 43645478, "question_id": 43645435, "link": "https://stackoverflow.com/questions/43645435/uninitialized-variable-trouble-c/43645478#43645478", "title": "Uninitialized variable trouble C++", "body": "<p>If <code>sportType_array[index]</code> is not 'f', 'g', or 'h', the function drops straight through to the return, where it returns <code>rate</code>, which is not initialized.</p>\n\n<p>What value would you like to return if the values in those arrays are incorrect?  It would be best to set <code>rate</code> to that, even if it's not <em>supposed</em> to happen.</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1493245521, "creation_date": 1493245521, "answer_id": 43645522, "question_id": 43645435, "link": "https://stackoverflow.com/questions/43645435/uninitialized-variable-trouble-c/43645522#43645522", "title": "Uninitialized variable trouble C++", "body": "<p>If <code>sportType_array[index]</code> is not <code>'f'</code>, <code>'g'</code>, or <code>'h'</code>, none of the <code>if</code> blocks will execute. You should change these to <code>if/else if</code> and then add a final <code>else</code> clause when nothing matches.</p>\n\n<p>But more likely, the problem is that <code>userAge_array[index] == 25</code>. You set <code>rate</code> when it's less than <code>25</code> or greater than <code>25</code>, but never set <code>rate</code> when it's exactly equal to <code>25</code>. Try using <code>else</code> instead of <code>else if</code>, so you cover all cases.</p>\n\n<pre><code>double compute_rate(int userAge_array[], char sportType_array[], int index)\n{\n  double rate;\n  if (sportType_array[index] == 'f') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 68.95;\n    }\n    else {\n      rate = 55.95;\n    }\n  }\n  else if (sportType_array[index] == 'g') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 73.95;\n    }\n    else {\n      rate = 65.95;\n    }\n  }\n  else if (sportType_array[index] == 'h') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 99.95;\n    }\n    else {\n      rate = 92.95;\n    }\n  }\n  else {\n      rate = 0.0;\n  }\n\n  return rate;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7928105, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/a8d728b70b906c40fb6ac65fbb34092a?s=128&d=identicon&r=PG&f=1", "display_name": "gf807", "link": "https://stackoverflow.com/users/7928105/gf807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 43645471, "answer_count": 3, "score": -3, "last_activity_date": 1493245521, "creation_date": 1493245005, "question_id": 43645435, "link": "https://stackoverflow.com/questions/43645435/uninitialized-variable-trouble-c", "title": "Uninitialized variable trouble C++", "body": "<p>I keep getting the error message that \"'rate' is uninitialized in this function\". </p>\n\n<p>Can anyone off the bat see why? I've looked through my code and I'm passing it correctly on my other functions, and the error stems from this function. Any ideas?</p>\n\n<pre><code>double compute_rate(int userAge_array[], char sportType_array[], int index)\n{\n  double rate;\n  if (sportType_array[index] == 'f') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 68.95;\n    }\n    else if (userAge_array[index] &gt; 25) {\n      rate = 55.95;\n    }\n  }\n  if (sportType_array[index] == 'g') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 73.95;\n    }\n    else if (userAge_array[index] &gt; 25) {\n      rate = 65.95;\n    }\n  }\n  if (sportType_array[index] == 'h') {\n    if (userAge_array[index] &lt; 25) {\n      rate = 99.95;\n    }\n    else if (userAge_array[index] &gt; 25) {\n      rate = 92.95;\n    }\n  }\n\n  return rate;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1493245157, "post_id": 43645404, "comment_id": 74339334, "body": "what? does this work fine for you?"}, {"owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1493245232, "post_id": 43645404, "comment_id": 74339358, "body": "well in debugger i do get that error, i can post the full code"}, {"owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1493245360, "post_id": 43645404, "comment_id": 74339410, "body": "Try to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the error and update your question with the complete code."}, {"owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "edited": false, "score": 0, "creation_date": 1493245443, "post_id": 43645404, "comment_id": 74339431, "body": "THIS CODE DOES PRODUCE my problem in my pc once the code reaches populating, in the first pass of loop i get this error"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1493245690, "post_id": 43645404, "comment_id": 74339514, "body": "Stop using manual memory management... then you can spend your time actually implementing logic for solving the queen problem, instead of mucking around with memory errors and access violations"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493245711, "post_id": 43645404, "comment_id": 74339524, "body": "<code>std::vector&lt;std::vector&lt;int&gt;&gt; board(size, std::vector&lt;int&gt;(size));</code> -- No error, and you don&#39;t have a memory leak if any of those calls to <code>new[]</code> throw an exception."}], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "edited": false, "score": 0, "creation_date": 1493245591, "post_id": 43645510, "comment_id": 74339482, "body": "you are correct problem solved, i dont know why i put that there, thank you. I can pick your answer in 3 min"}], "tags": [], "owner": {"reputation": 1619, "user_id": 7864413, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208517922736756/picture?type=large", "display_name": "Phil M", "link": "https://stackoverflow.com/users/7864413/phil-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1493245464, "creation_date": 1493245464, "answer_id": 43645510, "question_id": 43645404, "link": "https://stackoverflow.com/questions/43645404/2d-array-fails-when-trying-to-populate/43645510#43645510", "title": "2d-Array fails when trying to populate", "body": "<p>In your constructor, you have the following line:</p>\n\n<pre><code>board[size] = new int[size];\n</code></pre>\n\n<p>Likely, you want this to be</p>\n\n<pre><code>board[i] = new int[size];\n</code></pre>\n"}], "owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 43645510, "answer_count": 1, "score": 0, "last_activity_date": 1493245464, "creation_date": 1493244893, "last_edit_date": 1493245262, "question_id": 43645404, "link": "https://stackoverflow.com/questions/43645404/2d-array-fails-when-trying-to-populate", "title": "2d-Array fails when trying to populate", "body": "<p>I am writing a class that eventually will solve the 8-Queen puzzle. I added a test method named populate, to make sure i am creating the 2d array correctly and dynamically allocating memory correctly, however when this method is called the program crashes, when i debug the following Visual studio error pops up:</p>\n\n<pre><code>Exception thrown at 0x01281DFB in 8Queen.exe: 0xC0000005: Access violation writing location 0xCDCDCDCD.\n\nIf there is a handler for this exception, the program may be safely continued.\n</code></pre>\n\n<p>my constructor:</p>\n\n<pre><code>Queen::Queen(int s)\n{\n    size = s;\n    board = new int *[size];\n\n    for (int i = 0; i &lt; size; ++i)\n        board[size] = new int[size];\n}\n</code></pre>\n\n<p>my populate method:</p>\n\n<pre><code>void Queen::populate()\n\n    {\n        for (int i = 0; i &lt; size; ++i)  // for each row\n            for (int j = 0; j &lt; size; ++j) // for each column\n                board[i][j] = 1;\n    }\n</code></pre>\n\n<p>my deconstruct:</p>\n\n<pre><code>Queen::~Queen()\n{\n    for (int i = 0; i &lt; size; i++)\n        delete[] board[i];\n\n    delete[] board;\n}\n</code></pre>\n\n<p>my main:</p>\n\n<pre><code>int main()\n{\n    fm::Queen board(10);\n\n    board.populate();\n    board.printBoard();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493244957, "post_id": 43645373, "comment_id": 74339261, "body": "Here is a start: <code>int main() { return 0; }</code>.  Get this working first or a &quot;Hello World&quot; program.  Always a good thing to get a small program working first."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1493245152, "post_id": 43645373, "comment_id": 74339329, "body": "I recommend an outer loop representing units of time.  Each iteration could represent a day, an hour, a week, etc.  In the loop, call functions to <i>refresh</i> the environment, such as plants or animals.  Search the internet for &quot;C++ Conway&#39;s game of life&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1493249387, "post_id": 43645458, "comment_id": 74340724, "body": "I think the meme picture is the true answer here."}], "tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 1, "last_activity_date": 1493245792, "last_edit_date": 1493245792, "creation_date": 1493245110, "answer_id": 43645458, "question_id": 43645373, "link": "https://stackoverflow.com/questions/43645373/ecology-c-code/43645458#43645458", "title": "Ecology C++ Code", "body": "<p>I sounds like you're trying to build an individual, <a href=\"https://en.wikipedia.org/wiki/Agent-based_model\" rel=\"nofollow noreferrer\">agent-based</a>, or <a href=\"https://en.wikipedia.org/wiki/Microscale_and_macroscale_models\" rel=\"nofollow noreferrer\">microscale</a> model: this being subsets of the more general topic of <a href=\"https://en.wikipedia.org/wiki/Discrete_event_simulation\" rel=\"nofollow noreferrer\">discrete event simulation</a>. Looking into those topics and reading some of the literature and <a href=\"http://press.princeton.edu/titles/8108.html\" rel=\"nofollow noreferrer\">books</a> around them would be a good start.</p>\n\n<p>One way to get started conceptually might be to play with <a href=\"https://simpy.readthedocs.io/en/latest/examples/carwash.html\" rel=\"nofollow noreferrer\">SimPy</a>. Once you think you understand how its pieces fit together and how to build a model, you'll be in a better position to move to a higher-performance language, like C++, where you'll need to build more of the components yourself.</p>\n\n<p>You should also learn how to program. Having to ask a question as general as you are at the beginning of this endeavour should give you pause: people have devoted careers figuring out how to do this the right way. That said: C++ is a decent choice of language because you'll need to run your model not just once, but tens of thousands of times, in order to get an idea of how variable your results are. Remembering that the number of interactions between variables grows exponentially in the number of variables, you'll also want to explore different combinations of environments with an eye to testing the strength of your assumptions.</p>\n\n<p>All of this will also probably require the use of a high-performance environment: you'll want to learn about <a href=\"https://en.wikipedia.org/wiki/Message_Passing_Interface\" rel=\"nofollow noreferrer\">MPI</a>, <a href=\"https://cran.r-project.org/web/views/HighPerformanceComputing.html\" rel=\"nofollow noreferrer\">R's HPC packages</a>, <a href=\"https://jug.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">jug</a>, or <a href=\"https://spark.apache.org/\" rel=\"nofollow noreferrer\">Spark</a>: each of which would have to be tamed to work with your implementation of the model.</p>\n\n<p><a href=\"http://www.journals.uchicago.edu/doi/10.1086/691796\" rel=\"nofollow noreferrer\">This paper</a> I recently published has a relatively simple agent-based model, along with an analysis and source code, which might help you get started. It may also help you understand the enormity of the undertaking you propose.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VJnwkt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJnwkt.jpg\" alt=\"&quot;One does not simply build agent-based models&quot;\"></a></p>\n"}], "owner": {"reputation": 17, "user_id": 7928096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5272806b8fe46d99c67fa295ed870c?s=128&d=identicon&r=PG&f=1", "display_name": "C.Mike", "link": "https://stackoverflow.com/users/7928096/c-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "closed_date": 1493245898, "answer_count": 1, "score": -6, "last_activity_date": 1493245792, "creation_date": 1493244763, "question_id": 43645373, "link": "https://stackoverflow.com/questions/43645373/ecology-c-code", "closed_reason": "Needs more focus", "title": "Ecology C++ Code", "body": "<p>New to C++ and stuck on how to start coding this problem which is an Ecology question at first to start a cell with plants antelopes and tigers. Based on initial population, birth rates, food supply, dying off and migration into other cells (once 1 cell is discovered then can expand more). Did some tests on paper to see that plants are going to need a Cap because plants multiply more than antelopes can eat them. I dont really know how to start this if anyone can give me a starting point then that will be grateful.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "arrays", "file"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493244593, "post_id": 43645294, "comment_id": 74339122, "body": "See <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493244686, "post_id": 43645294, "comment_id": 74339164, "body": "I recommend using <code>std::string::size_type</code> instead of <code>unsigned</code> for your <code>first</code> and <code>last</code>.  You also need to check the return values for <code>std::string::npos</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1493244820, "post_id": 43645294, "comment_id": 74339213, "body": "You should read up on <code>std::getline(file, line, &#39;#&#39;)</code>."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1493245240, "post_id": 43645294, "comment_id": 74339363, "body": "<i>Visual Studio</i> aborts? Do you mean <i>your program</i> aborts?"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1493245106, "last_edit_date": 1495540934, "creation_date": 1493245106, "answer_id": 43645457, "question_id": 43645294, "link": "https://stackoverflow.com/questions/43645294/visual-studio-aborts-when-filling-array-from-file/43645457#43645457", "title": "Visual Studio aborts when filling array from file", "body": "<h3>Problem 1</h3>\n\n<p>Use of</p>\n\n<pre><code>while (!file.eof())\n</code></pre>\n\n<p>usually leads to problems. See <a href=\"https://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a></p>\n\n<h3>Problem 2</h3>\n\n<p>Use the correct type to capture the return values of <code>std::string::find_first_of</code> and <code>std::string::find_last_of</code>.</p>\n\n<p>Use</p>\n\n<pre><code>auto first = line.find_first_of(delim);\nauto last = line.find_last_of(delim);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>std::string::size_type first = line.find_first_of(delim);\nstd::string::size_type last = line.find_last_of(delim);\n</code></pre>\n\n<h2>Problem 3</h2>\n\n<p>Always check the return values of <code>std::string::find_first_of</code> and <code>std::string::find_last_of</code> before proceeding to use them.</p>\n\n<pre><code>auto first = line.find_first_of(delim);\nauto last = line.find_last_of(delim);\n\nif ( first == std::string::npos )\n{\n  // Didn't find it. Figure out what to do.\n}\n\nif ( last == std::string::npos )\n{\n  // Didn't find it. Figure out what to do.\n}\n\n// Both checks are done. Now you can use first and last.\n</code></pre>\n\n<p><strong>My Suggestion</strong></p>\n\n<p>Use</p>\n\n<pre><code>while (getline(file, line)) {\n\n   unsigned first = line.find_first_of(delim);\n   unsigned last = line.find_last_of(delim);\n\n   if ( first == std::string::npos )\n   {\n      break;\n   }\n\n   if ( last == std::string::npos )\n   {\n      break;\n   }\n\n   unsortedArray[i].toolname = line.substr(first, (last - first) + 1);\n\n   line.erase(first, (last - first) + 1);\n\n   // Don't use ss &lt;&lt; line\n   // Construct ss in the loop. You don't need to mess with its\n   // old state\n\n   std::istringsteram ss(line);\n   ss &gt;&gt; unsortedArray[i].record;\n   ss &gt;&gt; unsortedArray[i].quantity;\n   ss &gt;&gt; unsortedArray[i].cost;\n\n   i++;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7046726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0b4ae4b8855debbcf6e9b6e64e354cf?s=128&d=identicon&r=PG&f=1", "display_name": "Derek H", "link": "https://stackoverflow.com/users/7046726/derek-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493245106, "creation_date": 1493244298, "question_id": 43645294, "link": "https://stackoverflow.com/questions/43645294/visual-studio-aborts-when-filling-array-from-file", "title": "Visual Studio aborts when filling array from file", "body": "<p>I'm trying to read an inventory system into a struct array. When I call the function and it gets to the first line I try and write data into the array, I am given the error:</p>\n\n<p>Unhandled exception at 0x777CA932 in Lab 09.exe: Microsoft C++ exception: std::out_of_range at memory location 0x00F3DC68.</p>\n\n<p>Here's the struct:</p>\n\n<pre><code>struct inventory {\n\nint record;\nstring toolname;\nint quantity;\ndouble cost;\n\n};\n</code></pre>\n\n<p>Array declaration:</p>\n\n<pre><code>inventory unsortedArray[100];\n</code></pre>\n\n<p>Here's the function (assume first line of file is 83 #Electric Sander# 7 57.00):</p>\n\n<pre><code>void fillArray(inventory unsortedArray[]) {\n\nifstream file;\nstring line;\nstring delim = \"#\";\nstringstream ss;\nfile.open(\"records.txt\");\nint i = 0;\n\nwhile (!file.eof()) {\n\n    getline(file, line);\n\n    unsigned first = line.find_first_of(delim);\n    unsigned last = line.find_last_of(delim);\n\n    unsortedArray[i].toolname = line.substr(first, (last - first) + 1);\n\n    line.erase(first, (last - first) + 1);\n\n    ss &lt;&lt; line;\n    ss &gt;&gt; unsortedArray[i].record;\n    ss &gt;&gt; unsortedArray[i].quantity;\n    ss &gt;&gt; unsortedArray[i].cost;\n\n    i++;\n    }\n\n    file.close();\n\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "wxwidgets"], "comments": [{"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1493243999, "post_id": 43645158, "comment_id": 74338857, "body": "which version of wx? did you build it yourself or installed from the repo? if you build it - what is you configure line? how did you build the program? did you use &quot;-g&quot; option? Please compile both the library and you code in debug mode and show useful backtrace"}], "answers": [{"comments": [{"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "reply_to_user": {"reputation": 199, "user_id": 2012685, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f187c86bdbbb23c696b1ea2974e4fcbb?s=128&d=identicon&r=PG", "display_name": "Ashton", "link": "https://stackoverflow.com/users/2012685/ashton"}, "edited": false, "score": 0, "creation_date": 1493245130, "post_id": 43645200, "comment_id": 74339319, "body": "Please accept answers that are useful / correct so the autobump doesn&#39;t keep moving your question up."}], "tags": [], "owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "is_accepted": true, "score": 0, "last_activity_date": 1493243811, "creation_date": 1493243811, "answer_id": 43645200, "question_id": 43645158, "link": "https://stackoverflow.com/questions/43645158/grid1-cleargrid-other-references-to-wxgrid-crash-app/43645200#43645200", "title": "Grid1-&gt;ClearGrid(); &amp; other references to wxGrid crash app", "body": "<p>It's because you have a local uninitialized <code>Grid1</code> in your function that is hiding the class member that you initialize in your constructor.  Get rid of that and use the class member.</p>\n"}], "owner": {"reputation": 199, "user_id": 2012685, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f187c86bdbbb23c696b1ea2974e4fcbb?s=128&d=identicon&r=PG", "display_name": "Ashton", "link": "https://stackoverflow.com/users/2012685/ashton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 43645200, "answer_count": 1, "score": 0, "last_activity_date": 1493243811, "creation_date": 1493243606, "question_id": 43645158, "link": "https://stackoverflow.com/questions/43645158/grid1-cleargrid-other-references-to-wxgrid-crash-app", "title": "Grid1-&gt;ClearGrid(); &amp; other references to wxGrid crash app", "body": "<p>I'm trying to implement my first wxGrid in a small SQLite demo project in Code::Blocks in C++, (Linux Mint 18.1).  Builds without errors.</p>\n\n<p>But, any reference I make to wxGrid in the project crashes the app.\nThe simple code and the gdb results follow.  The first reference that blows up is simply: <code>Grid1-&gt;ClearGrid();</code></p>\n\n<pre><code>#include \"wxForm1.h\"\n#include &lt;wx/msgdlg.h&gt;\n#include &lt;wx/wxsqlite3.h&gt;\n#include &lt;wx/grid.h&gt;\n\n//(*InternalHeaders(wxForm1)\n#include &lt;wx/string.h&gt;\n#include &lt;wx/intl.h&gt;\n//*)\n\n//(*IdInit(wxForm1)\nconst long wxForm1::ID_TEXTCTRL1 = wxNewId();\nconst long wxForm1::ID_BUTTON1 = wxNewId();\nconst long wxForm1::ID_BUTTON2 = wxNewId();\nconst long wxForm1::ID_GRID1 = wxNewId();\n//*)\n\nBEGIN_EVENT_TABLE(wxForm1,wxFrame)\n    //(*EventTable(wxForm1)\n    //*)\nEND_EVENT_TABLE()\n\nwxForm1::wxForm1(wxWindow* parent,wxWindowID id,const wxPoint&amp; pos,const wxSize&amp; size)\n{\n    //(*Initialize(wxForm1)\n    Create(parent, id, wxEmptyString, wxDefaultPosition, wxDefaultSize, wxDEFAULT_FRAME_STYLE, _T(\"id\"));\n    SetClientSize(wxSize(620,420));\n    Move(wxDefaultPosition);\n    SetBackgroundColour(wxColour(240,19,19));\n    txtSQL = new wxTextCtrl(this, ID_TEXTCTRL1, _(\"SELECT * FROM customers;\"), wxPoint(40,48), wxSize(304,29), 0, wxDefaultValidator, _T(\"ID_TEXTCTRL1\"));\n    Button1 = new wxButton(this, ID_BUTTON1, _(\"Using wxButtonClick\"), wxPoint(40,104), wxSize(296,29), 0, wxDefaultValidator, _T(\"ID_BUTTON1\"));\n    Button2 = new wxButton(this, ID_BUTTON2, _(\"Open DB - Fill Grid\"), wxPoint(40,144), wxSize(296,29), 0, wxDefaultValidator, _T(\"ID_BUTTON2\"));\n    Grid1 = new wxGrid(this, ID_GRID1, wxPoint(40,184), wxSize(544,168), 0, _T(\"ID_GRID1\"));\n    Grid1-&gt;CreateGrid(4,4);\n    Grid1-&gt;EnableEditing(true);\n    Grid1-&gt;EnableGridLines(true);\n    Grid1-&gt;SetDefaultColSize(115, true);\n    Grid1-&gt;SetDefaultCellFont( Grid1-&gt;GetFont() );\n    Grid1-&gt;SetDefaultCellTextColour( Grid1-&gt;GetForegroundColour() );\n\n    Connect(ID_BUTTON1,wxEVT_COMMAND_BUTTON_CLICKED,(wxObjectEventFunction)&amp;wxForm1::OnButton1Click);\n    Connect(ID_BUTTON2,wxEVT_COMMAND_BUTTON_CLICKED,(wxObjectEventFunction)&amp;wxForm1::OnButton2Click);\n    //*)\n}\n\nwxForm1::~wxForm1()\n{\n    //(*Destroy(wxForm1)\n    //*)\n}\n\n\nvoid wxForm1::OnButton1Click(wxCommandEvent&amp; event) //*** -&gt;GetValue() test ***\n{\n    wxString sqlLine = txtSQL-&gt;GetValue();\n    wxMessageBox(sqlLine);\n}\n\nvoid wxForm1::OnButton2Click(wxCommandEvent&amp; event)\n{\n     wxGrid *Grid1;\n  wxSQLite3Database* db = new wxSQLite3Database();\n\n  wxString testDBName = wxGetCwd() + wxT(\"/database.db\");\n    db-&gt;Open(testDBName);\n\n   wxSQLite3ResultSet Res = db-&gt;ExecuteQuery(wxString::Format(_(\"%s\"),txtSQL-&gt;GetValue()));\n\n  Grid1-&gt;ClearGrid();  // **** Causes Crash ****\n\n    int count = 0;\n\n    while (Res.NextRow())\n    {\n        Grid1-&gt;SetCellValue(count,0,wxString::Format(_(\"%s\"),Res.GetAsString(0)) ) ;\n        Grid1-&gt;SetCellValue(count,1,wxString::Format(_(\"%i\"),Res.GetInt(1)) ) ;\n        Grid1-&gt;SetCellValue(count,2,wxString::Format(_(\"%s\"),Res.GetAsString(2)) ) ;\n      //  Grid1-&gt;SetCellValue(count,3,wxString::Format(_(\"%s\"),Res.GetAsString(3)) ) ;\n        count++;\n    }\n}\n</code></pre>\n\n<p>This is the gdb result:</p>\n\n<pre><code>(gdb) run\nStarting program: /home/dan/Documents/wxW_Projs/wxSQLi_417/bin/Debug/wxSQLi_417 \n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n*** Caught unhandled unknown exception; terminating\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff50a1820 in ?? () from /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0\n(gdb) bt\n#0  0x00007ffff50a1820 in ?? ()\n   from /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0\nBacktrace stopped: Cannot access memory at address 0x7fffffffdb88\n(gdb)\n</code></pre>\n\n<p>Any advice appreciated, try to be specific please.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 4, "creation_date": 1493242705, "post_id": 43644910, "comment_id": 74338329, "body": "You may not use the iterator i in the lambda if ((player.InInventory((*i)) ) == true) because it is not initialized yet and in any case such a statement does not make sense."}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "edited": false, "score": 0, "creation_date": 1493243631, "post_id": 43644910, "comment_id": 74338706, "body": "As others suggested. <code>i</code> is your result of <code>find_if</code> with lambda, hence, it doesn&#39;t make sense to use it inside the lambda body."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1493243833, "post_id": 43644910, "comment_id": 74338793, "body": "I got lost in all the redundant parentheses in that <code>if</code> statement. Also, comparing a Boolean variable to <code>true</code> is pointless; just test it directly."}], "answers": [{"comments": [{"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 15, "user_id": 7927995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1355943457817758/picture?type=large", "display_name": "Stieven Vermoesen", "link": "https://stackoverflow.com/users/7927995/stieven-vermoesen"}, "edited": false, "score": 0, "creation_date": 1493246082, "post_id": 43645196, "comment_id": 74339646, "body": "@StievenVermoesen this is not related to this answer. You should either ask another question or edit this one, but I won&#39;t read that comment."}, {"owner": {"reputation": 15, "user_id": 7927995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1355943457817758/picture?type=large", "display_name": "Stieven Vermoesen", "link": "https://stackoverflow.com/users/7927995/stieven-vermoesen"}, "edited": false, "score": 0, "creation_date": 1493246684, "post_id": 43645196, "comment_id": 74339839, "body": "what if the forloop has more than one if statement how do you do you turn that into a lambda?"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 15, "user_id": 7927995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1355943457817758/picture?type=large", "display_name": "Stieven Vermoesen", "link": "https://stackoverflow.com/users/7927995/stieven-vermoesen"}, "edited": false, "score": 0, "creation_date": 1493248650, "post_id": 43645196, "comment_id": 74340507, "body": "Well... You can put these statements inside the lambda, as long as you return a <code>bool</code>, it should work."}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": false, "score": 0, "last_activity_date": 1493243772, "creation_date": 1493243772, "answer_id": 43645196, "question_id": 43644910, "link": "https://stackoverflow.com/questions/43644910/debug-assert-vector-iterator-not-dereferncable-with-find-if/43645196#43645196", "title": "debug assert vector iterator not dereferncable with find_if", "body": "<p>You are thinking about the lambda wrongly. The <code>std::find_if</code> function takes, as it's third argument, a lambda that takes an element of the vector, and return if it's the element you searched for.</p>\n\n<p>The purpose of the lambda is to take an element and tell if it's the right one.</p>\n\n<p>Yet, your lambda don't receive an element of your vector of string, but takes a player as parameter. But you obviously don't have a list of player, you have a list of string. Why should the element to check should be a <code>Player</code>?</p>\n\n<p>Instead, capture your player variable and receive the element to check. It would look like this:</p>\n\n<pre><code>void SearchObjectDescription(std::vector&lt;std::string&gt;&amp; input, Player &amp; player)\n{\n    auto i = std::find_if(input.begin(), input.end(),[&amp;](const std::string&amp; item)\n    {\n        // item is equal to the current element being checked\n        // player is captured by reference because of [&amp;]\n\n        // if the item `item` is in inventory, return true.\n        return player.InInventory(item);\n    });\n\n    if (i != input.end()) {\n        // if it's not equal to the end, *i is the found item.\n    }\n}\n</code></pre>\n\n<p>Note that in C++14, you can receive <code>auto&amp;&amp;</code> in your lambda, and it will be deduced to <code>string&amp;</code>:</p>\n\n<pre><code>std::find_if(input.begin(), input.end(), [&amp;](auto&amp;&amp; item)\n{ \n     // type of item is std::string&amp;\n\n     // ...\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1493243944, "creation_date": 1493243944, "answer_id": 43645233, "question_id": 43644910, "link": "https://stackoverflow.com/questions/43644910/debug-assert-vector-iterator-not-dereferncable-with-find-if/43645233#43645233", "title": "debug assert vector iterator not dereferncable with find_if", "body": "<p>You cannot use the <code>i</code> iterator inside of your lambda, because it is not initialized until after <code>std::find_if()</code> exits.  You need to use the input parameter of the lambda instead, which will be a <code>std::string</code> from the <code>vector</code>, not a <code>Player</code> object.</p>\n\n<p>Also, you are not checking the return value of <code>std::find_if()</code> to make sure you have a valid iterator before dereferencing it.</p>\n\n<p>You did not translate your <code>for</code> loop to a lambda-based <code>std::find_if()</code> correctly.  Try this instead:</p>\n\n<pre><code>void SearchObjectDescription(std::vector&lt;std::string&gt;&amp; input, Player &amp; player)\n{\n    auto i = std::find_if(input.begin()+1, input.end(),\n        [&amp;](const std::string &amp;s) { return player.InInventory(s); });\n\n    if (i != input.end())\n    {\n        std::cout &lt;&lt; (player.GetInventory().ItemByName(*i)).ExamineObject() &lt;&lt; std::endl;\n    }\n    else\n    {\n        std::cout &lt;&lt; \"Object not in inventory!\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7927995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1355943457817758/picture?type=large", "display_name": "Stieven Vermoesen", "link": "https://stackoverflow.com/users/7927995/stieven-vermoesen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1493243944, "creation_date": 1493242516, "last_edit_date": 1493242551, "question_id": 43644910, "link": "https://stackoverflow.com/questions/43644910/debug-assert-vector-iterator-not-dereferncable-with-find-if", "title": "debug assert vector iterator not dereferncable with find_if", "body": "<p>I want to convert my for loop into a find_if lambda but I Always get the same result vector iterator not dereferncable.</p>\n\n<pre><code>void SearchObjectDescription(std::vector&lt;std::string&gt;&amp; input, Player &amp; player)\n{\n    //--local variable\n    bool found = false;\n\n    //std::find_if\n    std::vector&lt;std::string&gt;::iterator i = std::find_if(input.begin(), input.end(),[&amp;](Player player)\n    {\n        if ((player.InInventory((*i)) ) == true)\n        {\n            std::cout &lt;&lt; (player.GetInventory().ItemByName((*i))).ExamineObject() &lt;&lt; std::endl;\n            return true;\n        }\n        else\n        {\n            std::cout &lt;&lt; \"Object not in invetory!\" &lt;&lt; std::endl;\n            return false;\n        }\n    });\n    //original for loop\n    //for (std::vector&lt;std::string&gt;::iterator i = input.begin()+1; i != input.end(); i++)\n    //{\n    //  if (player.InInventory((*i))== true)\n    //  {\n    //      std::cout &lt;&lt; (player.GetInventory().ItemByName((*i))).ExamineObject() &lt;&lt; std::endl;\n    //      found = true;\n    //      break;\n    //  }\n    //}\n    //if (found ==false)\n    //{\n    //  std::cout &lt;&lt; \"Object not in invetory!\" &lt;&lt; std::endl;\n    //}\n}\n</code></pre>\n\n<p>Can some one help me please?</p>\n"}, {"tags": ["c++", "search"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1493242229, "post_id": 43644787, "comment_id": 74338126, "body": "Time to drop your code into a debugger and see where and why it&#39;s crashing."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1493242312, "post_id": 43644787, "comment_id": 74338169, "body": "You should also try and use Standard Library containers like <code>std::vector</code> in preference to C-style arrays whenever possible. These provide significantly more functionality and are easier to pass around, plus if used properly will make memory management a lot less messy."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1493242336, "post_id": 43644787, "comment_id": 74338181, "body": "Change this: <code>matrix = new int[matrix_num];</code> to this: <code>std::vector&lt;int&gt; matrix(matrix_num);</code> -- Then use <code>at()</code> instead of <code>[ ]</code> to access the elements in matrix.  Don&#39;t be surprised if you now get an <code>out_of_range</code> exception instead of a crash.  Fix the boundary issues reported by the exception-- test -- change vector back to the abominable <code>matrix = new int[matrix_num];</code>. You&#39;ve fixed your bug."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1493242498, "post_id": 43644787, "comment_id": 74338250, "body": "The last part of changing back the vector to the abomination is optional."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1493242544, "post_id": 43644787, "comment_id": 74338262, "body": "@nwp -- Just in case there is the &quot;you can&#39;t use vector&quot; stipulation a lot of these courses seem to have."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493242626, "post_id": 43644787, "comment_id": 74338300, "body": "@OP -- Why are you starting out with 500 items anyway?  Why not start with 5 or 6 items and make sure it works for those values."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493243246, "post_id": 43644787, "comment_id": 74338556, "body": "And <a href=\"http://coliru.stacked-crooked.com/a/8ef91b821fcdfa35\" rel=\"nofollow noreferrer\">look here</a>, there you go.  Please address the issue brought up by that strange index you&#39;re using at the call to <code>at()</code>."}, {"owner": {"reputation": 41, "user_id": 7737090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73adbebc0af0f7ddd4c0c54e34e54c5e?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisK", "link": "https://stackoverflow.com/users/7737090/chrisk"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493389938, "post_id": 43644787, "comment_id": 74411414, "body": "@PaulMcKenzie Thank you for the answer !  I got the message but i dont know how to fix it at all (I am new to programming):(  terminate called after throwing an instance of &#39;std::out_of_range&#39;   what():  vector::_M_range_check: __n (which is 6) &gt;= this-&gt;size() (which is 6) ) Can you help me fix it ? Thanks"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493394222, "post_id": 43644787, "comment_id": 74414206, "body": "The error is stating that either 1) Your array is too small, or 2) Your index is too large, or 3) Your calculation of the index is not right (related to 2).  You have an array to hold 6 items, and you&#39;re accessing one beyond what is allowed."}, {"owner": {"reputation": 41, "user_id": 7737090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73adbebc0af0f7ddd4c0c54e34e54c5e?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisK", "link": "https://stackoverflow.com/users/7737090/chrisk"}, "edited": false, "score": 0, "creation_date": 1493395945, "post_id": 43644787, "comment_id": 74415298, "body": "According to the book they gave us the calculations should be correct: <a href=\"http://imgur.com/rkX4gQl\" rel=\"nofollow noreferrer\">imgur.com/rkX4gQl</a> . I tested the code that you provided and i cant understand why i get the out of range exception since the key is inside the vector"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1493415492, "post_id": 43644787, "comment_id": 74424642, "body": "You are computing <code>6</code> as the index, and that is out of bounds of the array -- maybe when you use the book calculation, the value is <code>5</code>, but floating point calculations do not work the same as grade school arithmetic due to the computer using binary floating point (thus inexact).  Concentrate on the values you&#39;re using at that one line that is giving you <code>6</code> as the index value -- that is what this all boils down to.  Besides, isn&#39;t debugging supposed to be <i>your</i> exercise?  You know where the error is, <i>why</i> the error is there is now your job."}, {"owner": {"reputation": 41, "user_id": 7737090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73adbebc0af0f7ddd4c0c54e34e54c5e?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisK", "link": "https://stackoverflow.com/users/7737090/chrisk"}, "edited": false, "score": 0, "creation_date": 1493472873, "post_id": 43644787, "comment_id": 74437377, "body": "Thank you for your help ! Is not debbuging my exercise at all . The code that gave should work well . Our exercise is to test the best and worst case of this programms . Anyway i will try fix it . Thank you again"}], "owner": {"reputation": 41, "user_id": 7737090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73adbebc0af0f7ddd4c0c54e34e54c5e?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisK", "link": "https://stackoverflow.com/users/7737090/chrisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493242365, "creation_date": 1493241949, "last_edit_date": 1493242365, "question_id": 43644787, "link": "https://stackoverflow.com/questions/43644787/binary-interpolation-searching-cant-make-it-work", "title": "Binary Interpolation Searching - Cant make it work", "body": "<p>I got an exercise in the university to make the Binary Interpolation Searching\nProgram . But i cant make it work as it should. Sometimes is works and some other not...They gave us the basic program but it was not correct..</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n\nusing namespace std;\n\nvoid bin(int mat_size, double *mat, int key){\n    int left = 0;\n    int right = mat_size;\n    int mid;\n    mid = (mat_size * (key - mat[left]) / (mat[right] - mat[left])) + 1;\n    while(key != mat[mid]){\n        int i = 0;\n        mat_size = right - left +1;\n        if(key &gt;= mat[mid]){\n            while(key &gt; mat[(int)(mid  + i * sqrt(mat_size) - 1)]){\n                i++;\n            }\n            right = mid + i * sqrt(mat_size);\n            left = mid  + (i - 1) * sqrt(mat_size);\n        }\n        else if( key &lt; mat[mid]){\n            while(key &lt;  mat[(int)(mid  - i * sqrt(mat_size) + 1)]){\n                i++;\n            }\n            right = mid - (i - 1) * sqrt(mat_size);\n            left = mid - i * sqrt(mat_size);\n        }\n        mid = left + ((right - left + 1) * ((key -  mat[left]) / (mat[right] - mat[left])));\n    }\n    if(key == mat[mid]){\n        cout&lt;&lt;mat[mid];\n    }\n    else{\n        cout&lt;&lt;\"Key not found\";\n    }\n}\n\n\n\nint main()\n{\n   cout&lt;&lt;\"Hello enter the size of the array!\"&lt;&lt;endl;\n   int matrix_num;\n   cin&gt;&gt;matrix_num;\n   cout&lt;&lt;\"Enter the values of the array\"&lt;&lt;endl;\n   cout&lt;&lt;\"Caution elements must be sorted in order to use Binary Search\"&lt;&lt;endl;\n   double *matrix;\n   matrix = new double[matrix_num];\n   for(int i=0; i&lt;matrix_num; i++){\n     cin&gt;&gt;matrix[i];\n   }\n   cout&lt;&lt;\"Enter a key you wish to search for\"&lt;&lt;endl;\n   int key;\n   cin&gt;&gt;key;\n   bin(matrix_num, matrix, key);\n\n   delete [] matrix;\n} \n</code></pre>\n\n<p>I worked on it for hours but still crashing....\nSo this is what i did :</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n\n\n//Binary Interpolation Searching !\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"Hello enter the size of the array!\" &lt;&lt; endl;\n    int matrix_num;\n    cin &gt;&gt; matrix_num;\n    cout &lt;&lt; \"Enter the values of the array\" &lt;&lt; endl;\n    cout &lt;&lt; \"Caution elements must be sorted in order to use Binary Search\" &lt;&lt; endl;\n    int  *matrix;\n    matrix = new int[matrix_num];\n    for (int i = 0; i&lt;matrix_num; i++) {\n        matrix[i] = i ;\n        cout &lt;&lt; matrix[i] &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"Enter a key you wish to search for\" &lt;&lt; endl;\n    int key;\n    cin &gt;&gt; key;\n\n    int left = 1; // aristera =0\n    int right = matrix_num - 1; // de3ia = teleuteo stoixeio\n    int mid; // kentro\n    int flag = 0;\n\n\n    if (key &lt;= matrix[right]) {\n        mid = (matrix_num * (key - matrix[left]) / (matrix[right] - matrix[left])) + 1;\n\n\n        while ((key != matrix[mid]) &amp;&amp; (flag == 0)) {\n\n            int i = 0;\n\n            matrix_num = right - left + 1;\n\n\n            if (key &gt;= matrix[mid]) {\n                while (key &gt; matrix[(int)(mid + i * sqrt(matrix_num) - 1)]) {\n                    i++;\n\n                }\n                right = mid + i * sqrt(matrix_num);\n                left = mid + (i - 1) * sqrt(matrix_num);\n\n            }\n            else if (key &lt; matrix[mid]) {\n                while (key &lt;  matrix[(int)(mid - i * sqrt(matrix_num) + 1)]) {\n                    i++;\n\n                }\n                right = mid - (i - 1) * sqrt(matrix_num);\n                left = mid - i * sqrt(matrix_num);\n\n            }\n\n\n\n            if (matrix[left] == matrix[right]) {\n                flag++;\n            }\n\n\n            mid = left + ((right - left + 1) * ((key - matrix[left]) / (matrix[right] - matrix[left])));\n\n\n\n        }\n\n    }\n\n    if (key == matrix[mid]) {\n        cout &lt;&lt; matrix[mid];\n    }\n    else {\n        cout &lt;&lt; \"Key not found\"&lt;&lt;endl;\n        system(\"Pause\");\n    }\n\n  delete[] matrix;\n}\n</code></pre>\n\n<p>In my code(the second):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>In the first question \"Hello enter the size of the array!\":\nInput:500\nIn the second question \"Enter a key you wish to search for\":\nInput:499\n</code></pre>\n\n<p>Output:---<br>\nCrashing..</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>In the first question \"Hello enter the size of the array!\":\nInput:500\nIn the second question \"Enter a key you wish to search for\":\nInput:498\n</code></pre>\n\n<p>Output:---<br>\nNever ends....</p>\n\n<p>Also when i change the \"for\" loop in the beggining (to fill the array) in line 22: matrix[i] = i; and change it to matrix[i] = i*5 ;\nso i can test what happens when it cant find it...It never ends too....</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>In the first question \"Hello enter the size of the array!\":\nInput:500\nIn the second question \"Enter a key you wish to search for\":\nInput:498\n</code></pre>\n\n<p>Output:---<br>\nNever ends....</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1493241217, "post_id": 43644558, "comment_id": 74337630, "body": "Please improve your code&#39;s indentation."}, {"owner": {"reputation": 1, "user_id": 7927920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1471416d2f9989106d1ec413c4bd9cb5?s=128&d=identicon&r=PG&f=1", "display_name": "MasterFluent", "link": "https://stackoverflow.com/users/7927920/masterfluent"}, "edited": false, "score": 0, "creation_date": 1493241374, "post_id": 43644558, "comment_id": 74337702, "body": "Sorry I had fixed it. It should be formatted properly now."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 7, "creation_date": 1493241484, "post_id": 43644558, "comment_id": 74337760, "body": "First, get familiar with your debugger.  It doesn&#39;t take 2 days to solve a simple string issue once you know the debugger.  Second, write a simple <code>main</code> function that just calls <code>pigLatinString</code>, and test it with hard-coded data.  You don&#39;t need all of that other stuff in <code>main()</code> or in your program to test such a function."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1493241614, "post_id": 43644558, "comment_id": 74337818, "body": "yr piglatin function is doing exactly what you told it to do, you pass the whole string in and then tell it to move the first letter to the end and add &#39;ay&#39;. You have to pass each word to it"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1493241695, "post_id": 43644558, "comment_id": 74337853, "body": "which means &#39;wordsep&#39; has to return a vector of words"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493241892, "post_id": 43644558, "comment_id": 74337958, "body": "<a href=\"http://coliru.stacked-crooked.com/a/9149431ac2ea21bc\" rel=\"nofollow noreferrer\">See this example</a>.  That is what you should have started with.  You see that there is no issue (there actually is one, such as the string being empty).  Once you fix that, the comment above is correct in that you are passing in a string with spaces in it (multiple words), again, can be verified by the simple program at the link <a href=\"http://coliru.stacked-crooked.com/a/c2c817a3861f9b85\" rel=\"nofollow noreferrer\">as seen here</a>.  It shouldn&#39;t have taken 2 days to diagnose the issue in this way."}], "answers": [{"tags": [], "owner": {"reputation": 919, "user_id": 2428220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fadc6b021c1a7d2443fbe1810234387?s=128&d=identicon&r=PG", "display_name": "sigbjornlo", "link": "https://stackoverflow.com/users/2428220/sigbjornlo"}, "is_accepted": false, "score": 0, "last_activity_date": 1493243789, "creation_date": 1493243789, "answer_id": 43645198, "question_id": 43644558, "link": "https://stackoverflow.com/questions/43644558/pig-latin-program-not-working/43645198#43645198", "title": "Pig Latin Program Not Working", "body": "<p>The reason your pig latin function is not giving you the output you are expecting is because you are passing in the entire string (with spaces and all) as input. If you pass in your input word for word instead, you will get the result you are expecting, as shown below:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n// This is your function\nstring pigLatinString(const string&amp; input) {\n    string firstChar = input.substr(0,1);\n\n    string restChar = input.substr(1, input.size()-1);\n\n    return restChar + firstChar + \"ay\";\n}\n\n// This function takes your input string and calls \n// your pig latin function once for each word\nstring callPigLatinStringWordForWord(const string&amp; input) {\n    string result = \"\";\n\n    // Find first word\n    size_t startPosition = 0;\n    size_t spacePosition = input.find(' ', startPosition);\n\n    while (spacePosition != string::npos) {\n        string word = input.substr(startPosition, spacePosition - startPosition);\n        result += pigLatinString(word) + \" \";\n\n        // Find next word\n        startPosition = spacePosition + 1;\n        spacePosition = input.find(' ', startPosition);\n    }\n\n    // Finally transform the final word\n    result += pigLatinString(input.substr(startPosition));\n\n    return result;\n}\n\nint main() {\n    string input = \"Exceed your expectations\";\n    string result = callPigLatinStringWordForWord(input);\n    cout &lt;&lt; result;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1493247490, "creation_date": 1493247490, "answer_id": 43645878, "question_id": 43644558, "link": "https://stackoverflow.com/questions/43644558/pig-latin-program-not-working/43645878#43645878", "title": "Pig Latin Program Not Working", "body": "<p>When transforming strings where the output will be a different length than the input, it's often easier and more efficient to create a new string while doing a single forward pass over the original string.</p>\n\n<pre><code>std::string pigLatinString(const std::string &amp;source) {\n    std::string target;\n    char first = '\\0';\n    for (const auto ch : source) {\n        if (first == '\\0') {\n            if (std::isspace(ch)) {\n                target += ch;\n            } else {\n                // remember the first char until the end of the word\n                first = ch;\n            }\n        } else {\n            if (std::isspace(ch)) {\n                 target += first;\n                 target += \"ay\";\n                 first = '\\0';\n            }\n            target += ch;\n        }\n    }\n    if (first != '\\0') {\n        target += first;\n        target += \"ay\";\n    }\n    return target;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7927920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1471416d2f9989106d1ec413c4bd9cb5?s=128&d=identicon&r=PG&f=1", "display_name": "MasterFluent", "link": "https://stackoverflow.com/users/7927920/masterfluent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1493247490, "creation_date": 1493240931, "last_edit_date": 1493245320, "question_id": 43644558, "link": "https://stackoverflow.com/questions/43644558/pig-latin-program-not-working", "title": "Pig Latin Program Not Working", "body": "<p>Ok basically this program is supposed to have two tasks. </p>\n\n<p><strong>Task 1</strong>: is a word separator function which takes a string like this </p>\n\n<p><code>FOR EXAMPLE: \"ExceedYourExpectations\" to \"Exceed your expectations\"</code></p>\n\n<p><strong>Task 2</strong>: Pig Latin function that moves the first letter of the word to the end and add \"ay\"</p>\n\n<p><code>FOR EXAMPLE: \"Exceed your expectations\" to \"xceedEay ouryay xpectationseay\"</code></p>\n\n<p>and in the main function of the program it will do this</p>\n\n<ol>\n<li>Ask the user to enter an input string.</li>\n<li>Call the word separator function with the input string as attachment</li>\n<li>Display result string</li>\n<li>Call Pig Latin function with the result string of the word separator function as argument</li>\n<li>Display the result pig latin string.</li>\n</ol>\n\n<p>But for some reason the pig latin function isn't working properly.  Instead it puts the first letter of sentence and put it in the end resulting in the output of</p>\n\n<pre><code>\"xceed your expectationsEay\" instead of \"xceedEay ouryay xpectationseay\"\n</code></pre>\n\n<p>Can someone help me pls?? I been at this for about 2 days and I still can't get it right. THANKS IN ADVANCE!</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;cctype&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\n// function prototype\nvoid wordSep(string&amp;);\nstring pigLatinString(string);\n\nint main()\n{\nstring input;\nstring converted;\n\n//display unformatted sentence\ncout &lt;&lt; \"Enter An Input String: \" &lt;&lt; endl;\ncin &gt;&gt; input;\n\n//seperate the words according to format\nwordSep(input);\n\n// display new formatted sentence\ncout &lt;&lt; \"\\nResult String: \" &lt;&lt; input &lt;&lt; endl;\n\npigLatinString(input);\n\n\nconverted += pigLatinString(input) + \" \";\n\ncout &lt;&lt; \"\\nPig Latin: \" &lt;&lt; converted &lt;&lt; endl;\nconverted = \"\";\n\nreturn 0;\n}\n// ====================================================\n// function definition - converts input to a string where words are \nseparated by spaces and only the\n//first word starts with a capital letter\nvoid wordSep(string &amp;input)\n{\nchar tempLetter; //temporarily stores a letter from &amp;input\nint length;\nlength = input.size(); // get original length to use in the loop\n\n\nfor (int count = 1; count &lt; length; count++) // count starts at 1 to ignore first word(1st capitalization)\n    {\n        tempLetter = input[count];\n        // if uppercase character is found add a space\n        if (isupper(tempLetter))\n        {\n            input.insert(count, 1 ,' ');\n            ++count; //after insertion of a space character we need to add 1 to the index (this makes count go back to the capital letter)\n\n            //set the letter to lowercase (b/c only first word starts with an uppercase letter)\n            input[count] = tolower(input[count]);\n        }\n    }\n}\n\n\nstring pigLatinString(string input)\n{\n\nstring firstChar = input.substr(0,1);\n\nstring restChar = input.substr(1, input.size()-1);\n\nreturn restChar + firstChar + \"ay\";\n\n}\n</code></pre>\n"}, {"tags": ["c++", "boost-coroutine2"], "comments": [{"owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "edited": false, "score": 0, "creation_date": 1493714157, "post_id": 43644359, "comment_id": 74509919, "body": "I also noticed that this has something to do with the Boost version. I used wandbox online compiler to easily select boost version and, for example, it works FINE on Boost 1.59.0. Then on Boost 1.60.0 it also works fine, whereas on Boost 1.61.0 and 1.62.0 it stops compiling. Then it compiles OK but DOES NOT WORK on Boost 1.63.0. What a massacre."}, {"owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "edited": false, "score": 0, "creation_date": 1493714562, "post_id": 43644359, "comment_id": 74510138, "body": "And with Boost 1.64.0 the result is the same as in 1.63.0, I mean compiling ok but working unintuitively. Or maybe I don&#39;t understand something here? Please help!"}, {"owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "edited": false, "score": 0, "creation_date": 1493806684, "post_id": 43644359, "comment_id": 74555748, "body": "I wonder if they repaired a bug from 1.59 in 1.63 version or created one. What do you think?"}], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "is_accepted": false, "score": 0, "last_activity_date": 1511456666, "last_edit_date": 1511456666, "creation_date": 1511455016, "answer_id": 47460008, "question_id": 43644359, "link": "https://stackoverflow.com/questions/43644359/coroutines2-why-yield-runs-when-no-source-called/47460008#47460008", "title": "Coroutines2 - why yield runs when no source called", "body": "<p>The reason lies in a bug in Boost. I checked that in Boost 1.65.1 everything works fine. Here is the proof: <a href=\"https://wandbox.org/permlink/pRuSgnwa3VPdqNUk\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/pRuSgnwa3VPdqNUk</a></p>\n"}], "owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1511456666, "creation_date": 1493240160, "last_edit_date": 1493241562, "question_id": 43644359, "link": "https://stackoverflow.com/questions/43644359/coroutines2-why-yield-runs-when-no-source-called", "title": "Coroutines2 - why yield runs when no source called", "body": "<p>I am learning how to use boost coroutines2 library. I have read some tutorials and started experimenting with it. But then I found something very confusing. Please take a look at this basic example.</p>\n\n<pre><code>#include &lt;boost/coroutine2/all.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\ntypedef boost::coroutines2::coroutine&lt;int&gt; cr;\n\nvoid creator(cr::push_type&amp; yield)\n{\n    cout &lt;&lt; \"First time.\" &lt;&lt; endl;\n    yield(1);\n    cout &lt;&lt; \"Second time. \" &lt;&lt; endl;\n    yield(2);\n}\n\nint main()\n{\n    cr::pull_type source{creator};\n    source();\n}\n</code></pre>\n\n<p>The result is, naturally, this:</p>\n\n<pre><code>First time.\nSecond time. \n</code></pre>\n\n<p>But, to my surprise, when I remove the 'source' call in the main function, the result is just the same! (According to tutorials, the coroutine is called first time at construction time, so it is ok that it is called, but should be now called only once!)</p>\n\n<pre><code>#include &lt;boost/coroutine2/all.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\ntypedef boost::coroutines2::coroutine&lt;int&gt; cr;\n\nvoid creator(cr::push_type&amp; yield)\n{\n    cout &lt;&lt; \"First time.\" &lt;&lt; endl;\n    yield(1);\n    cout &lt;&lt; \"Second time. \" &lt;&lt; endl;\n    yield(2);\n}\n\nint main()\n{\n    cr::pull_type source{creator};\n}\n</code></pre>\n\n<p>The result is still:</p>\n\n<pre><code>First time.\nSecond time. \n</code></pre>\n\n<p>When I remove the second 'yield' in the coroutine, the result is also the same:</p>\n\n<pre><code>#include &lt;boost/coroutine2/all.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\ntypedef boost::coroutines2::coroutine&lt;int&gt; cr;\n\nvoid creator(cr::push_type&amp; yield)\n{\n    cout &lt;&lt; \"First time.\" &lt;&lt; endl;\n    yield(1);\n    cout &lt;&lt; \"Second time. \" &lt;&lt; endl;\n}\n\nint main()\n{\n    cr::pull_type source{creator};\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>First time.\nSecond time. \n</code></pre>\n\n<p>How is that possible? How does it work? I expected that when I don't call the coroutine, then even if there is another 'yield' waiting, nothing will happen. </p>\n\n<p>And I find also strange this behaviour:</p>\n\n<p>When I add another 'source' statements in the main, the code still prints the same, as at the beginning!</p>\n\n<pre><code>#include &lt;boost/coroutine2/all.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\ntypedef boost::coroutines2::coroutine&lt;int&gt; cr;\n\nvoid creator(cr::push_type&amp; yield)\n{\n    cout &lt;&lt; \"First time.\" &lt;&lt; endl;\n    yield(1);\n    cout &lt;&lt; \"Second time. \" &lt;&lt; endl;\n    yield(2);\n}\n\nint main()\n{\n    cr::pull_type source{creator};\n    source();\n    source();\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>First time.\nSecond time. \n</code></pre>\n\n<p>No error, even when sourcing more times than there are 'yield's.\nOnly after adding one more 'source' in the main function do I receive a runtime error (This application has requested the Runtime to terminate it in an unusual way...)</p>\n\n<pre><code>int main()\n{\n    cr::pull_type source{creator};\n    source();\n    source();\n    source();\n}\n</code></pre>\n\n<p>Could someone help me please with understanding this behaviour? </p>\n"}, {"tags": ["c++", "cmake", "archlinux"], "comments": [{"owner": {"reputation": 11839, "user_id": 730346, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86187a52f1e2f64890194d0451748ce5?s=128&d=identicon&r=PG", "display_name": "Daniel YC Lin", "link": "https://stackoverflow.com/users/730346/daniel-yc-lin"}, "edited": false, "score": 0, "creation_date": 1493335184, "post_id": 43644293, "comment_id": 74385645, "body": "Do you figure out how to build? I faced the same problem? I&#39;ve installed openssl both 1.0 &amp; 1.1.0."}, {"owner": {"reputation": 581, "user_id": 7927865, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3306059eab9f4ccd2ceed728518bf504?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/7927865/j-doe"}, "reply_to_user": {"reputation": 11839, "user_id": 730346, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86187a52f1e2f64890194d0451748ce5?s=128&d=identicon&r=PG", "display_name": "Daniel YC Lin", "link": "https://stackoverflow.com/users/730346/daniel-yc-lin"}, "edited": false, "score": 0, "creation_date": 1493393081, "post_id": 43644293, "comment_id": 74413467, "body": "Actually I used the .patch file I posted in your above comment."}], "answers": [{"comments": [{"owner": {"reputation": 11839, "user_id": 730346, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86187a52f1e2f64890194d0451748ce5?s=128&d=identicon&r=PG", "display_name": "Daniel YC Lin", "link": "https://stackoverflow.com/users/730346/daniel-yc-lin"}, "edited": false, "score": 0, "creation_date": 1493338080, "post_id": 43645446, "comment_id": 74386506, "body": "I&#39;ve added these on CMAKE line of PKGBUILD, but can not work. Do you build successfully?  -DOPENSSL_INCLUDE_DIR=/usr/include/openssl-1.0 -DOPENSSL_SSL_LIBRARY=/usr/lib/openssl-1.0/libssl.so -DOPENSSL_CRYPTO_LIBRARY=/usr/lib/openssl-1.0/libcrypto.so"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "reply_to_user": {"reputation": 11839, "user_id": 730346, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86187a52f1e2f64890194d0451748ce5?s=128&d=identicon&r=PG", "display_name": "Daniel YC Lin", "link": "https://stackoverflow.com/users/730346/daniel-yc-lin"}, "edited": false, "score": 0, "creation_date": 1493340785, "post_id": 43645446, "comment_id": 74387246, "body": "@DanielYCLin Unfortunately, it looks like their cmake setup is a little different, so you need to change how to pass the overrides. <code>-DOPENSSL_INCLUDE_DIRS=&#47;usr&#47;include&#47;openssl-1.0 -DOPENSSL_LIBRARIES=&#39;-L&#47;usr&#47;lib&#47;openssl-1.0 -lssl -lcrypto&#39;</code> might work? Also don&#39;t forget to change the dependency."}, {"owner": {"reputation": 581, "user_id": 7927865, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3306059eab9f4ccd2ceed728518bf504?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/7927865/j-doe"}, "edited": false, "score": 1, "creation_date": 1493392982, "post_id": 43645446, "comment_id": 74413415, "body": "You can use <a href=\"https://gist.github.com/anonymous/870e853c7045158bae2ab79bfd27179a\" rel=\"nofollow noreferrer\">this</a> patch for PKGBUILD file if you are using arch linux."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 0, "last_activity_date": 1493245063, "creation_date": 1493245063, "answer_id": 43645446, "question_id": 43644293, "link": "https://stackoverflow.com/questions/43644293/ssl-r-short-read-was-not-declared-in-this-scope-error-while-installing-rstudio/43645446#43645446", "title": "\u2018SSL_R_SHORT_READ\u2019 was not declared in this scope error while installing rstudio-desktop-1.0.143", "body": "<p>Arch Linux recently migrated <a href=\"https://www.archlinux.org/packages/core/x86_64/openssl/\" rel=\"nofollow noreferrer\">openssl</a> to 1.1.0.</p>\n\n<p>If R hasn't been updated, you probably need to install <a href=\"https://www.archlinux.org/packages/extra/x86_64/openssl-1.0/\" rel=\"nofollow noreferrer\">openssl-1.0</a> for compatibility. See the <a href=\"https://www.archlinux.org/todo/openssl-110-rebuild/\" rel=\"nofollow noreferrer\">migration todo list</a> for details.</p>\n"}], "owner": {"reputation": 581, "user_id": 7927865, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3306059eab9f4ccd2ceed728518bf504?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/7927865/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 0, "accepted_answer_id": 43645446, "answer_count": 1, "score": 0, "last_activity_date": 1493245063, "creation_date": 1493239852, "question_id": 43644293, "link": "https://stackoverflow.com/questions/43644293/ssl-r-short-read-was-not-declared-in-this-scope-error-while-installing-rstudio", "title": "\u2018SSL_R_SHORT_READ\u2019 was not declared in this scope error while installing rstudio-desktop-1.0.143", "body": "<p>I have R-3.4.0 installed in a x86 system, and want to install the newest rstudio-desktop from <a href=\"https://aur.archlinux.org/packages/rstudio-desktop\" rel=\"nofollow noreferrer\">AUR</a>. I used MaoCPU's patch file at the comments and then run makepkg -sri after some time an error appeared saying : </p>\n\n<pre><code> /home/orbitz/.bin/AUR/rstudio-desktop/src/rstudio-rstudio-adca7c8/src/cpp/core/http/SocketProxy.cpp:152:60: error: \u2018SSL_R_SHORT_READ\u2019 was not declared in this scope  error.code().value() == ERR_PACK(ERR_LIB_SSL, 0, SSL_R_SHORT_READ);\n</code></pre>\n\n<p><a href=\"https://pastebin.com/k0VU6JAS\" rel=\"nofollow noreferrer\">Here</a> is a complete output of the procedure. Does anyone have an idea on how to fix this ?</p>\n\n<p>P.S I also tried to install the previous version (rstudio-desktop 1.0.136-2) but with the same result.</p>\n"}, {"tags": ["c++", "nodemcu", "arduino-esp8266"], "comments": [{"owner": {"reputation": 746, "user_id": 1324117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3d746308ba9c5f2e0592b9deeaa5bf?s=128&d=identicon&r=PG", "display_name": "mars", "link": "https://stackoverflow.com/users/1324117/mars"}, "edited": false, "score": 0, "creation_date": 1493241557, "post_id": 43644255, "comment_id": 74337792, "body": "What do you mean with &quot;after a while&quot;? Could it be after about 65 seconds, or 65536 milliseconds? If millis() returns a 32 bit number (does it on your particular platform?) and you truncate previousUpdate to 16 bits, then the first condition will always be true at some point. I&#39;m not sure about the second condition. Does &quot;This line shouldn&#39;t be executed&quot; appear at each iteration or just once every 65 seconds?"}, {"owner": {"reputation": 1, "user_id": 7534240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v0Rmg.jpg?s=128&g=1", "display_name": "Jo&#227;o Trevizoli Esteves", "link": "https://stackoverflow.com/users/7534240/jo%c3%a3o-trevizoli-esteves"}, "reply_to_user": {"reputation": 746, "user_id": 1324117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3d746308ba9c5f2e0592b9deeaa5bf?s=128&d=identicon&r=PG", "display_name": "mars", "link": "https://stackoverflow.com/users/1324117/mars"}, "edited": false, "score": 0, "creation_date": 1493384154, "post_id": 43644255, "comment_id": 74407628, "body": "Sir you are absolutely right! The size of previousUpdate was the source of all my problems.... Now I am feeling bad for my silly mistake! Thank you mr. mars"}, {"owner": {"reputation": 746, "user_id": 1324117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3d746308ba9c5f2e0592b9deeaa5bf?s=128&d=identicon&r=PG", "display_name": "mars", "link": "https://stackoverflow.com/users/1324117/mars"}, "edited": false, "score": 0, "creation_date": 1493385038, "post_id": 43644255, "comment_id": 74408180, "body": "You&#39;re welcome, and please don&#39;t feel bad about it. We all make mistakes and need to test if things really work as they should. And we all know how valuable a second pair of eyes are when you&#39;ve been working on a problem for too long."}], "owner": {"reputation": 1, "user_id": 7534240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v0Rmg.jpg?s=128&g=1", "display_name": "Jo&#227;o Trevizoli Esteves", "link": "https://stackoverflow.com/users/7534240/jo%c3%a3o-trevizoli-esteves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493791580, "creation_date": 1493239707, "last_edit_date": 1493791580, "question_id": 43644255, "link": "https://stackoverflow.com/questions/43644255/esp8266-attachinterrupt-millis-ignoring-conditional", "title": "ESP8266 attachinterrupt + millis ignoring conditional", "body": "<p>I am writing a driver for an anemometer, which is based on the Hall effect and I am trying to use hardware interrupts to monitor every rotation of the sensor.</p>\n\n<p>By doing so I found an issue that I am not able to solve and is expressed by the following code:</p>\n\n<pre><code>#if ARDUINO &gt;= 100\n #include \"Arduino.h\"\n#else\n #include \"WProgram.h\"\n#endif\n\nconst int interruptPin = D5;\nvolatile uint16_t lastDebounceTime = 0;\nvolatile int numberOfInterrupts = 0;\nuint16_t previousUpdate = 0;\nconst uint16_t updateInterval = 5000;\nvoid handleInterrupt();\nvoid countInterrupts();\n\nvoid setup() {\n  Serial.begin(115200);\n  pinMode(interruptPin, INPUT_PULLUP);\n  attachInterrupt(digitalPinToInterrupt(interruptPin), handleInterrupt, FALLING);\n}\n\nvoid loop() {\n  if ((millis() - previousUpdate) &gt; updateInterval) {\n    Serial.println(\".................\");\n    uint16_t currentMillis = millis();\n    Serial.println(currentMillis);\n    Serial.println(previousUpdate);\n    Serial.println(currentMillis - previousUpdate);\n    if (currentMillis - previousUpdate &lt; updateInterval) Serial.println(\"This line shoudn't be executed, but it actually is!!\");\n    Serial.println(\".................\");\n    previousUpdate = millis();\n  }\n}\n\nvoid handleInterrupt() {\n  numberOfInterrupts++;\n}\n</code></pre>\n\n<p>At first the code run as it was supposed to, but after a while it simply stop checking the conditionals <code>if ((millis() - previousUpdate) &gt; updateInterval)</code> and <code>if (currentMillis - previousUpdate &lt; updateInterval) Serial.println(\"This line shoudn't be executed, but it actually is!!\");</code> and then the at each iteration the ESP8266 sends data to the serial interface. <code>millis()</code> is working the interrupt function is working as well.</p>\n\n<p>I'm really trying to understand and solve this problem, it would be awesome if somebody could help me with it!</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "class", "inheritance", "virtual-functions"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 6, "creation_date": 1493239595, "post_id": 43644194, "comment_id": 74336759, "body": "Because that breaks their &quot;connection&quot;? <code>void f(int a)</code> and <code>void f(double a)</code> are two distinct function declarations"}, {"owner": {"reputation": 532, "user_id": 7258651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PhS7.jpg?s=128&g=1", "display_name": "Marek Chochol&#225;\u010dek", "link": "https://stackoverflow.com/users/7258651/marek-chochol%c3%a1%c4%8dek"}, "edited": false, "score": 1, "creation_date": 1493239654, "post_id": 43644194, "comment_id": 74336797, "body": "You don&#39;t override base function since they differ in declaration."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1493239731, "post_id": 43644194, "comment_id": 74336837, "body": "Try <code>p-&gt;f(5.0);</code> to see the difference."}, {"owner": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 0, "creation_date": 1493239751, "post_id": 43644194, "comment_id": 74336852, "body": "<code>void f(int a)</code> should be <code>virtual void f(int a) override</code> in the <code>Second</code> class if you want to override it..."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 0, "creation_date": 1493239845, "post_id": 43644194, "comment_id": 74336907, "body": "@Mudi I do not think so. Once a virtual stays virtual. Repeating the keyword in inheriting classes is common practice and makes sense, but is not needed."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "reply_to_user": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 0, "creation_date": 1493239981, "post_id": 43644194, "comment_id": 74336973, "body": "@Mudi <a href=\"http://en.cppreference.com/w/cpp/language/override\" rel=\"nofollow noreferrer\"><code>override</code></a> is not required (and didn&#39;t exist before C++11)"}, {"owner": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493240066, "post_id": 43644194, "comment_id": 74337020, "body": "@Yunnosch agreed!"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493240334, "post_id": 43644194, "comment_id": 74337173, "body": "@Yunnosch: No, the output will be the same, because the static type is <code>First</code>."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493240486, "post_id": 43644194, "comment_id": 74337270, "body": "@ChristianHackl ... and First has no float function to be overridden. Damn, you are right. So: Declare a version with float parameter in First, then try <code>p-&gt;f(5.0);</code>. That demonstrates that the int version is not affected by a float version in Second. Only the float version in First is overridden."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493240867, "post_id": 43644194, "comment_id": 74337475, "body": "I meant &quot;double&quot; in all cases I wrote &quot;float&quot;."}, {"owner": {"reputation": 15204, "user_id": 453271, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/G7rcK.png?s=128&g=1", "display_name": "Andriy Tylychko", "link": "https://stackoverflow.com/users/453271/andriy-tylychko"}, "reply_to_user": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 2, "creation_date": 1493241096, "post_id": 43644194, "comment_id": 74337584, "body": "@Mudi @UnholySheep: while <code>override</code> is not required it was introduced to help in exactly such cases. If <code>override</code> was used compiler would error that <code>void f(double)</code> doesn&#39;t override anything pointing at the problem. I&#39;m surprised both answers (so far) doesn&#39;t mention it"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493241988, "post_id": 43644194, "comment_id": 74338010, "body": "Moral of the story: Overloading and overriding are two different things which should never be mixed."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 2, "creation_date": 1493242082, "post_id": 43644194, "comment_id": 74338057, "body": "And by the way: <code>void main</code> is not legal C++ (it must be <code>int main</code>), <code>using namespace std</code> is a bad habit and <code>_getch();</code> solves the wrong problem."}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1493240346, "creation_date": 1493240346, "answer_id": 43644402, "question_id": 43644194, "link": "https://stackoverflow.com/questions/43644194/virtual-functions-with-different-argument-types/43644402#43644402", "title": "Virtual functions with different argument types", "body": "<p>in fact derived classes do not redeclare virtual functions of base classes. They redefine them that in the terms of C++ means to override definitions of  virtual functions of base classes.</p>\n\n<p>In your second example the derived class declares a new non-virtual function (because the function specifier virtual is absent) with the same name as the name of the virtual function in the base class. The newly declared function hides the declaration of the virtual function in the base class.</p>\n\n<p>In this code snippet</p>\n\n<pre><code>Second s;\nFirst *p = &amp;s;\np-&gt;f(5);\n</code></pre>\n\n<p>the static type of the pointer <code>p</code> is <code>First</code>. So the compiler looks through the table of virtual functions declared in the class First and finds the pointer to the function declared in the class First. This pointer is not overwritten by the address of a virtual function in the derived class because the derived class did not override the base class function.</p>\n\n<p>If you will write for example</p>\n\n<pre><code>Second s;\nSecond *p = &amp;s;\n^^^^^^\np-&gt;f(5);\n</code></pre>\n\n<p>then the non-virtual function declared in the derived class will be called.</p>\n"}, {"comments": [{"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 4, "creation_date": 1493240578, "post_id": 43644453, "comment_id": 74337323, "body": "JVM searcher?! This isn&#39;t Java."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1493240670, "post_id": 43644453, "comment_id": 74337354, "body": "Interpreter? C++ is a compiled language"}, {"owner": {"reputation": 680, "user_id": 5550579, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f54de1d280feb88d491beaed2f21fec?s=128&d=identicon&r=PG&f=1", "display_name": "RoaaGharra", "link": "https://stackoverflow.com/users/5550579/roaagharra"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493240798, "post_id": 43644453, "comment_id": 74337431, "body": "@ChristianHackl That was a typo. Thanks."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 1, "creation_date": 1493240842, "post_id": 43644453, "comment_id": 74337458, "body": "<i>&quot;the compiler&quot;</i> is not really correct, either, because virtual functions are usually resolved at runtime (not necessary in this mini example, but in real life, the concrete subclass may not be known until runtime). The compiler inserts a mechanism by which this resolution can take place."}, {"owner": {"reputation": 680, "user_id": 5550579, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f54de1d280feb88d491beaed2f21fec?s=128&d=identicon&r=PG&f=1", "display_name": "RoaaGharra", "link": "https://stackoverflow.com/users/5550579/roaagharra"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1493240845, "post_id": 43644453, "comment_id": 74337459, "body": "@UnholySheep I wasn&#39;t sure which. I was about to check. Thanks."}, {"owner": {"reputation": 680, "user_id": 5550579, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f54de1d280feb88d491beaed2f21fec?s=128&d=identicon&r=PG&f=1", "display_name": "RoaaGharra", "link": "https://stackoverflow.com/users/5550579/roaagharra"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493240874, "post_id": 43644453, "comment_id": 74337480, "body": "@ChristianHackl That is why I thought it is the interpreter first!"}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493241012, "post_id": 43644453, "comment_id": 74337548, "body": "@RoaaGharra: Nothing stops anyone from creating a C++ interpreter. The language specification itself is neutral about that. However, nobody has ever seen the practical use case for a C++ interpreter, I guess."}], "tags": [], "owner": {"reputation": 680, "user_id": 5550579, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f54de1d280feb88d491beaed2f21fec?s=128&d=identicon&r=PG&f=1", "display_name": "RoaaGharra", "link": "https://stackoverflow.com/users/5550579/roaagharra"}, "is_accepted": false, "score": 1, "last_activity_date": 1493241019, "last_edit_date": 1493241019, "creation_date": 1493240490, "answer_id": 43644453, "question_id": 43644194, "link": "https://stackoverflow.com/questions/43644194/virtual-functions-with-different-argument-types/43644453#43644453", "title": "Virtual functions with different argument types", "body": "<p>In the second piece of code, Second inherits a virtual function called f() and has its own function called also f().</p>\n\n<p>Now, since all calls are done from First (or an object pointed to by First) it works as follows:\nWhen you call from a First object, it's obvious that the function in First will be called. Now, when you call from a Second object pointed to by a pointer to First then since f() is virtual, the \"compiler\" [please see a comment below] searches for it in the actual class (which is Second) but since there is no function there that matches void f(int) then it takes the one from First.</p>\n"}, {"tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": true, "score": 9, "last_activity_date": 1493252453, "last_edit_date": 1493252453, "creation_date": 1493240949, "answer_id": 43644563, "question_id": 43644194, "link": "https://stackoverflow.com/questions/43644194/virtual-functions-with-different-argument-types/43644563#43644563", "title": "Virtual functions with different argument types", "body": "<p>When using virtual function dispatch, the so-called \"final overrider\" is what gets called.  For a function to even override an inherited virtual function, it must meet some criteria:</p>\n\n<blockquote>\n  <p>If a virtual member function <code>vf</code> is declared in a class <code>Base</code> and in a\n  class <code>Derived</code>, derived directly or indirectly from <code>Base</code>, a member\n  function <code>vf</code> with the same name, <strong>parameter-type-list</strong> (8.3.5),\n  cv-qualification, and refqualifier (or absence of same) as <code>Base::vf</code> is\n  declared, then <code>Derived::vf</code> is also virtual (whether or not it is so\n  declared) and it <em>overrides</em> <code>Base::vf</code>.</p>\n</blockquote>\n\n<p>-- ISO/IEC 14882:2001(E) \u00a710.3 (bold emphasis mine)</p>\n\n<p>Quite simply, in your second example the parameter list for <code>Second::f(double)</code> differs from that of <code>First::f(int)</code>, so <code>Second::f(double)</code> is <em>not</em> (automatically) virtual and does <em>not</em> override <code>First::f(int)</code>.</p>\n\n<p>The C++11 keyword <code>override</code> declares your intent that a method override an inherited virtual method so that the compiler can tell you when it does not.  For example, had you done this instead:</p>\n\n<pre><code>void f(double a) override {\n</code></pre>\n\n<p>The compiler would have given you this diagnostic to inform you that it doesn't actually override anything, and it even informs you why it doesn't (<em>\"type mismatch at 1st parameter ('int' vs 'double')\"</em>):</p>\n\n<pre><code>main.cpp:15:18: error: non-virtual member function marked 'override' hides virtual member function\nvoid f(double a) override { //double instead int here!\n                 ^\nmain.cpp:7:14: note: hidden overloaded virtual function 'First::f' declared here: type mismatch at 1st parameter ('int' vs 'double')\nvirtual void f(int a) {\n             ^\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7927760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ed74b9f09ca418cee6b0aa52dcccee?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny", "link": "https://stackoverflow.com/users/7927760/evgeny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5874, "favorite_count": 1, "accepted_answer_id": 43644563, "answer_count": 3, "score": 5, "last_activity_date": 1493252453, "creation_date": 1493239453, "last_edit_date": 1493244415, "question_id": 43644194, "link": "https://stackoverflow.com/questions/43644194/virtual-functions-with-different-argument-types", "title": "Virtual functions with different argument types", "body": "<p>I'm trying to understand how virtual functions work, and I am stuck at a certain part.</p>\n\n<p>I have written this small programm:</p>\n\n<pre><code>class First\n{\npublic:\n    virtual void f(int a) \n    {\n        cout &lt;&lt; \"First!\" &lt;&lt; endl;\n        cout &lt;&lt; a &lt;&lt; endl;\n    }\n};\n\nclass Second : public First\n{\npublic:\n    void f(int a) {\n        cout &lt;&lt; \"Second!\" &lt;&lt; endl;\n        cout &lt;&lt; a &lt;&lt; endl;\n    }\n};\n\nvoid main() {\n    Second s;\n    First *p = &amp;s;\n    p-&gt;f(5);\n    First n;\n    p = &amp;n;\n    p-&gt;f(3);\n    _getch();\n}\n</code></pre>\n\n<p>This code results in:</p>\n\n<pre>\nSecond!\n5\nFirst!\n3\n</pre>\n\n<p>However, if I change <code>int</code> in the <code>Second::f()</code> function to a different type, like this:</p>\n\n<pre><code>class First\n{\npublic:\n    virtual void f(int a) {\n        cout &lt;&lt; \"First!\" &lt;&lt; endl;\n        cout &lt;&lt; a &lt;&lt; endl;\n    }\n};\n\nclass Second : public First\n{\npublic:\n    void f(double a) { //double instead int here!\n        cout &lt;&lt; \"Second!\" &lt;&lt; endl;\n        cout &lt;&lt; a &lt;&lt; endl;\n    }\n};\n\nvoid main() {\n    Second s;\n    First *p = &amp;s;\n    p-&gt;f(5);\n    First n;\n    p = &amp;n;\n    p-&gt;f(3);\n    _getch();\n}\n</code></pre>\n\n<p>My program never calls <code>Second::f()</code>, and I'm getting this as a result:</p>\n\n<pre>\nFirst!\n5\nFirst!\n3\n</pre>\n\n<p>Can someone explain to me why this happens?</p>\n"}, {"tags": ["android", "c++", "c", "gcc", "android-ndk"], "comments": [{"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1493840041, "post_id": 43643831, "comment_id": 74578525, "body": "What kind errors are you getting? Please post error messages, at least."}, {"owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "reply_to_user": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1493893554, "post_id": 43643831, "comment_id": 74600831, "body": "I have added error info"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 1, "creation_date": 1493894277, "post_id": 43643831, "comment_id": 74601331, "body": "At some point you may need to tell gradle where to find the libraries (epic5.1)."}, {"owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "reply_to_user": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1493895586, "post_id": 43643831, "comment_id": 74602171, "body": "how to do that in gradle"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1493898390, "post_id": 43643831, "comment_id": 74604175, "body": "Not familiar with gradle. But check this: <a href=\"https://discuss.gradle.org/t/how-do-i-link-a-c-library-with-another-library-file-that-i-know-the-path-of/7241/6\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/&hellip;</a>"}, {"owner": {"reputation": 918, "user_id": 2135548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/fM5xR.png?s=128&g=1", "display_name": "Mandar", "link": "https://stackoverflow.com/users/2135548/mandar"}, "edited": false, "score": 0, "creation_date": 1493903827, "post_id": 43643831, "comment_id": 74608312, "body": "You can create a gradle task for compiling and copying your lib&#39;s Refer:   <a href=\"https://gist.github.com/pocmo/6461138\" rel=\"nofollow noreferrer\">gist.github.com/pocmo/6461138</a>"}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "edited": false, "score": 0, "creation_date": 1493916248, "post_id": 43643831, "comment_id": 74617627, "body": "@Mr.A <code>-lepic5.1</code> inside <code>cppFlags</code>? Maybe there are <code>ldFlags</code> and you should move there your <code>-lepic5.1</code>."}, {"owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "edited": false, "score": 0, "creation_date": 1493927111, "post_id": 43643831, "comment_id": 74623727, "body": "Gradle sync failed: Could not find method ldFlags()  for arguments [-lepic5.1] on object of type com.android.build.gradle.internal.dsl.ExternalNativeCmakeOpt&zwnj;&#8203;ions. \t\t\t\tConsult IDE log for more details (Help | Show Log)"}, {"owner": {"reputation": 719, "user_id": 1083220, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e36597bde57aaf26954f464b79f5df4?s=128&d=identicon&r=PG&f=1", "display_name": "Misgevolution", "link": "https://stackoverflow.com/users/1083220/misgevolution"}, "edited": false, "score": 0, "creation_date": 1494311510, "post_id": 43643831, "comment_id": 74760582, "body": "Is  libepic in the standard loader path? you should configure that and try again."}, {"owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "edited": false, "score": 0, "creation_date": 1494324697, "post_id": 43643831, "comment_id": 74769051, "body": "I tried with <code>-L&#47;path&#47;to&#47;folder</code> in <code>cppFlags</code>  but failed with same error"}, {"owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "edited": false, "score": 0, "creation_date": 1494324899, "post_id": 43643831, "comment_id": 74769185, "body": "I&#39;m able to compile with gcc and call from Java but failed to use same in Android gradle"}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1494327515, "post_id": 43643831, "comment_id": 74770928, "body": "I think you don&#39;t need an external build system, the NDK it self has some rules for this. I did this once, but don&#39;t remember how. I will check my code to see how I did it."}], "answers": [{"tags": [], "owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "is_accepted": false, "score": 4, "last_activity_date": 1494329022, "creation_date": 1494329022, "answer_id": 43868499, "question_id": 43643831, "link": "https://stackoverflow.com/questions/43643831/convert-a-gcc-command-to-cmake-for-android-ndk/43868499#43868499", "title": "Convert a gcc command to CMake for android ndk", "body": "<p>You simply need to add something to your module <em>build.gradle</em>, like this</p>\n\n<pre><code>ndk {\n    moduleName \"code\"\n    cFlags \"-I/usr/include/epic5.1 -I/usr/include/i386-linux-gnu/epic5.1 -lepic5.1 -frtti -fexceptions\"\n    ldLibs \"log\"\n}\n</code></pre>\n\n<p>and place the source files in <em>main/jni</em>.</p>\n\n<p>Perhaps, you need to change <code>cFlags</code> to <code>cppFlags</code>, but I recommend that you search for more information about this, the suggestion is based on the fact that you have <code>-fnoexceptions</code> flag, which is for c++.</p>\n\n<p>You need of course <code>libepic5.1.so</code> binary to use it for compilation, if you can add it's source code it will work.</p>\n"}], "owner": {"reputation": 1109, "user_id": 3026829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72ee15905cc129607590b061adfb181e?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. A", "link": "https://stackoverflow.com/users/3026829/mr-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1494329022, "creation_date": 1493238101, "last_edit_date": 1495541874, "question_id": 43643831, "link": "https://stackoverflow.com/questions/43643831/convert-a-gcc-command-to-cmake-for-android-ndk", "title": "Convert a gcc command to CMake for android ndk", "body": "<p>I need to add a c project which can be compiled with <code>gcc</code> as follows </p>\n\n<pre><code>gcc  -I/usr/include/epic5.1 -I/usr/include/i386-linux-gnu/epic5.1 -I./smproject/ -o code code.c ./smproject/smlib.so -lepic5.1\n</code></pre>\n\n<p>I have moved the <code>code.c</code> files content to my Android NDK .cpp file (src/main/cpp/native-lib.cpp)  and also moved all files inside <code>smproject</code> directory to <code>src/main/cpp/smproject/</code> directory</p>\n\n<p>Here is my CMakeList.txt content </p>\n\n<pre><code># For more information about using CMake with Android Studio, read the\n# documentation: https://d.android.com/studio/projects/add-native-code.html\n\n# Sets the minimum version of CMake required to build the native library.\n\ncmake_minimum_required(VERSION 3.4.1)\n\n# Creates and names a library, sets it as either STATIC\n# or SHARED, and provides the relative paths to its source code.\n# You can define multiple libraries, and CMake builds them for you.\n# Gradle automatically packages shared libraries with your APK.\ninclude_directories( /usr/include/epic5.1 )\ninclude_directories( /usr/include/i386-linux-gnu/epic5.1 )\ninclude_directories( src/main/cpp )\n\nset_target_properties( delorean PROPERTIES IMPORTED_LOCATION\n                       src/main/cpp/smlib.so\n                        )\nadd_library( smlib STATIC IMPORTED )\n\nadd_library( # Sets the name of the library.\n             native-lib\n\n             # Sets the library as a shared library.\n             SHARED\n\n             # Provides a relative path to your source file(s).\n             src/main/cpp/native-lib.cpp\n             )\n\n# Searches for a specified prebuilt library and stores the path as a\n# variable. Because CMake includes system libraries in the search path by\n# default, you only need to specify the name of the public NDK library\n# you want to add. CMake verifies that the library exists before\n# completing its build.\n\nfind_library( # Sets the name of the path variable.\n              log-lib\n\n              # Specifies the name of the NDK library that\n              # you want CMake to locate.\n              log)\n\n# Specifies libraries CMake should link to your target library. You\n# can link multiple libraries, such as libraries you define in this\n# build script, pre-built third-party libraries, or system libraries.\n\ntarget_link_libraries( # Specifies the target library.\n                       native-lib\n\n                       # Links the target library to the log library\n                       # included in the NDK.\n                       ${log-lib}\n                       smlib\n                       )\n</code></pre>\n\n<p>I tried to follow <a href=\"https://stackoverflow.com/questions/37780921/android-ndk-cmake-with-other-libraries\">Android NDK, CMake with other libraries</a> but that didn't work for me it started throwing gradle error</p>\n\n<p>tried following in <code>build.gradle</code> file</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"in.etpg.sampleapp\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        externalNativeBuild {\n            cmake {\n                cppFlags \"-I/usr/include/epic5.1 -I/usr/include/i386-linux-gnu/epic5.1 -lepic5.1 -frtti -fexceptions\"\n            }\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    externalNativeBuild {\n        cmake {\n            path \"CMakeLists.txt\"\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Errors</p>\n\n<pre><code>Error:cannot find -lepic5.1\nError:error: linker command failed with exit code 1 (use -v to see\nWarning:warning: -lepic5.1: 'linker' input unused\nError:A problem occurred configuring project ':app'.\n&gt; executing external native build for cmake /Users/laptop.user/AndroidStudioProjects/SampleApp/app/CMakeLists.txt\n</code></pre>\n"}, {"tags": ["c++", "c++14", "default-value", "auto"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1493237658, "post_id": 43643473, "comment_id": 74335754, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29944985/is-there-a-way-to-pass-auto-as-an-argument-in-c\">Is there a way to pass auto as an argument in C++?</a>"}, {"owner": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "edited": false, "score": 2, "creation_date": 1493238382, "post_id": 43643473, "comment_id": 74336149, "body": "<i>Assuming</i> <code>auto</code> here is just a syntactic sugar for template parameter, you cannot call this function w/o arguments, because it&#39;s parameter type cannot be deduced in this context."}, {"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 0, "creation_date": 1493251518, "post_id": 43643473, "comment_id": 74341275, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25879705/is-auto-as-a-parameter-in-a-regular-function-a-gcc-4-9-extension\">Is auto as a parameter in a regular function a GCC 4.9 extension?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1493237411, "post_id": 43643601, "comment_id": 74335617, "body": "You are talking about template argument deduction. The OP is asking about deduction for <code>auto</code>."}, {"owner": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1493237885, "post_id": 43643601, "comment_id": 74335867, "body": "@R Sahu how does the type deduction for &quot;auto&quot; parameter (defined in mini-concepts TS) differ from the one for template parameters?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1493238149, "post_id": 43643601, "comment_id": 74335999, "body": "<code>auto</code> types for function parameters are not supported in C++11. It is only supported for lambda functions in C++14. There is a proposal to support it in C++17. I haven&#39;t seen that proposal. I can&#39;t tell how similar it is for template argument deduction. it&#39;s not something we can even discuss meaningfully when dealing with C++11 or C++14."}, {"owner": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 0, "creation_date": 1493238388, "post_id": 43643601, "comment_id": 74336154, "body": "I really can&#39;t tell if a <code>template</code> argument is different from <code>auto</code>. @R Sahu, could you please point me any directions?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 0, "creation_date": 1493238668, "post_id": 43643601, "comment_id": 74336285, "body": "@fljx, I have not been able to track down the C++17 proposal yet."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1493238802, "post_id": 43643601, "comment_id": 74336353, "body": "as far as I know, <code>void foo(auto a)</code> is intended to be the same as <code>template &lt;class T&gt; void foo(T a)</code>."}, {"owner": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 0, "creation_date": 1493305082, "post_id": 43643601, "comment_id": 74369647, "body": "I tried to find out from C++14 draft (<a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4296.pdf\" rel=\"nofollow noreferrer\">open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4296.pdf</a>) whether <code>auto</code> is really just syntactic sugar for <code>template</code> but it is not clear to me. The best I could find is &quot;auto: placeholder for a type to be deduced&quot; (7.1.6.2 and 7.1.6.4). Could anybody help, please?"}, {"owner": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "reply_to_user": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 1, "creation_date": 1493329943, "post_id": 43643601, "comment_id": 74383898, "body": "@fljx it is <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4641.pdf\" rel=\"nofollow noreferrer\">here</a> See 7.1.6.4: &quot;Similarly, if a placeholder appears in a parameter type of a function declaration, the function declaration declares an abbreviated function template&quot;"}], "tags": [], "owner": {"reputation": 13842, "user_id": 759253, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0136e90dfd678a82c1dbba77dcbfc28e?s=128&d=identicon&r=PG", "display_name": "Igor R.", "link": "https://stackoverflow.com/users/759253/igor-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1493237144, "creation_date": 1493237144, "answer_id": 43643601, "question_id": 43643473, "link": "https://stackoverflow.com/questions/43643473/c14-auto-type-deduction-for-argument-with-default-value/43643601#43643601", "title": "C++14+ auto type deduction for argument with default value", "body": "<p>No, <a href=\"http://en.cppreference.com/w/cpp/language/template_argument_deduction\" rel=\"nofollow noreferrer\">it is a non-deduced context</a>.</p>\n\n<blockquote>\n  <p><strong>Non-deduced contexts</strong>.</p>\n  \n  <p>In the following cases, the types, templates, and\n  non-type values that are used to compose P do not participate in\n  template argument deduction, but instead use the template arguments\n  that were either deduced elsewhere or explicitly specified. If a\n  template parameter is used only in non-deduced contexts and is not\n  explicitly specified, template argument deduction fails. </p>\n  \n  <p>&lt;...> </p>\n  \n  <p>4) A\n  template parameter used in the parameter type of a function parameter\n  that has a default argument that is being used in the call for which\n  argument deduction is being done</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 0, "creation_date": 1493239613, "post_id": 43644070, "comment_id": 74336773, "body": "Thanks @max66. I was just wondering if I couldn&#39;t make my code more readable by not repeating <code>( PrintColour c = PrintColour::COLOUR_1 )</code>. I know it didn&#39;t work, but I still want to learn why (and possibly learn another way to tidy my code as well). As from @Igor R. comment, I was considering <code>auto</code> to be &quot;syntactic sugar&quot;."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 1, "creation_date": 1493244439, "post_id": 43644070, "comment_id": 74339041, "body": "@fljx - I see... well... if you want avoid repeating... answer improved."}, {"owner": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 0, "creation_date": 1493299588, "post_id": 43644070, "comment_id": 74365591, "body": "Your edit is tempting... I am considering something like <code>#define\tdef_deduce( p, def_value )\tdecltype( def_value ) p = def_value</code> and later <code>void colour( def_deduce( c, PrintColour::COLOUR_1 ) )</code> but, as you stated. macros are ignominious. Last note, according to g++, it seems that C++14 supports <code>auto</code> as parameter."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "edited": false, "score": 1, "creation_date": 1493306059, "post_id": 43644070, "comment_id": 74370322, "body": "@fljx - g++ accept <code>auto</code> if you forget <code>-pedantic</code>; with <code>-pedantic</code> you get an error; C++14 accept <code>auto</code> for lambda functions only (as far I know) but if you try something like <code>auto colour = [](auto c = PrintColour::COLOUR_1) { };</code>, works when you call <code>colour( PrintColour::COLOUR_1 );</code> but when you call <code>colour();</code> you get an error similar to <code>colour( ); couldn&#39;t deduce template parameter \u2018auto:1\u2019</code> (both clang++ and g++)."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 2, "last_activity_date": 1493244706, "last_edit_date": 1493244706, "creation_date": 1493238920, "answer_id": 43644070, "question_id": 43643473, "link": "https://stackoverflow.com/questions/43643473/c14-auto-type-deduction-for-argument-with-default-value/43644070#43644070", "title": "C++14+ auto type deduction for argument with default value", "body": "<blockquote>\n  <p>Should I be able to declare a function parameter as auto while still being able to give it a default value in C++11 or C++14?</p>\n</blockquote>\n\n<p>I don't know if C++17 support it but, as far I know, C++11 and C++14 don't support an <code>auto</code> parameter for a function (C++14 support it only for lambda functions)</p>\n\n<blockquote>\n  <p>I thought the given default value would be enough to let compiler deduce the parameter type...</p>\n</blockquote>\n\n<p>If instead of <code>auto</code> you accept to use a template type, you have to add the default template type also.</p>\n\n<p>Something as follows</p>\n\n<pre><code>template &lt;typename T = decltype(PrintColour::COLOUR_1)&gt;\nvoid colour( T c = PrintColour::COLOUR_1 )\n{\n    switch ( c )\n    {\n        case PrintColour::COLOUR_1:\n            std::cout &lt;&lt; \"Colour 1\" &lt;&lt; std::endl;\n            break;\n        case PrintColour::COLOUR_2:\n            std::cout &lt;&lt; \"Colour 2\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>I know: is redundant.</p>\n\n<p><strong>-- EDIT --</strong></p>\n\n<p>The OP says</p>\n\n<blockquote>\n  <p>I was just wondering if I couldn't make my code more readable by not repeating </p>\n</blockquote>\n\n<p>More readable probably not but... if you want it not repeating... I know that macros are distilled evil but... if you <strong>really</strong> want avoid repeating...</p>\n\n<pre><code>#define noRepeat(r, n, a, b) \\\nr n (decltype(b) a = b)\n\nnoRepeat(void, colour, c, PrintColour::COLOUR_1)\n{\n    switch ( c )\n    {\n        case PrintColour::COLOUR_1:\n            std::cout &lt;&lt; \"Colour 1\" &lt;&lt; std::endl;\n            break;\n        case PrintColour::COLOUR_2:\n            std::cout &lt;&lt; \"Colour 2\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>or also (if you want make the trick on parameter basis)</p>\n\n<pre><code>#define parDef(a, b)  decltype(b) a = b\n\nvoid colour ( parDef(c, PrintColour::COLOUR_1), parDef(d, 5) )\n{\n    switch ( c )\n    {\n        case PrintColour::COLOUR_1:\n            std::cout &lt;&lt; \"Colour 1\" &lt;&lt; std::endl;\n            break;\n        case PrintColour::COLOUR_2:\n            std::cout &lt;&lt; \"Colour 2\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3329, "user_id": 466339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/960652dda2d376483116e2fa230b5e32?s=128&d=identicon&r=PG", "display_name": "j4x", "link": "https://stackoverflow.com/users/466339/j4x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 43644070, "answer_count": 2, "score": 2, "last_activity_date": 1493298845, "creation_date": 1493236684, "last_edit_date": 1495542855, "question_id": 43643473, "link": "https://stackoverflow.com/questions/43643473/c14-auto-type-deduction-for-argument-with-default-value", "title": "C++14+ auto type deduction for argument with default value", "body": "<p>I apologise for not having time enough to make a deep investigation and relying on your help instead.</p>\n\n<p>Consider the simple code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nenum class PrintColour\n{\n    COLOUR_1        =   0,\n    COLOUR_2        =   1,\n};\n\nvoid colour( auto c = PrintColour::COLOUR_1 )\n{\n    switch ( c )\n    {\n        case PrintColour::COLOUR_1:\n            std::cout &lt;&lt; \"Colour 1\" &lt;&lt; std::endl;\n            break;\n        case PrintColour::COLOUR_2:\n            std::cout &lt;&lt; \"Colour 2\" &lt;&lt; std::endl;\n    }\n}\n\nint main( )\n{\n//  colour( ); couldn't deduce template parameter \u2018auto:1\u2019\n    colour( PrintColour::COLOUR_1 );    // Fine!\n}\n</code></pre>\n\n<p>This code exactly as it is compiles and runs without a problem. If I uncomment the <code>colour( );</code>, though, g++ fires the error:</p>\n\n<pre><code>auto_param.cpp: In function \u2018int main()\u2019:\nauto_param.cpp:27:10: error: no matching function for call to \u2018colour()\u2019\n  colour( );\n          ^\nauto_param.cpp:13:6: note: candidate: template&lt;class auto:1&gt; void colour(auto:1)\n void colour( auto c = PrintColour::COLOUR_1 )\n      ^~~~~~\nauto_param.cpp:13:6: note:   template argument deduction/substitution failed:\nauto_param.cpp:27:10: note:   couldn't deduce template parameter \u2018auto:1\u2019\n  colour( );\n          ^\n</code></pre>\n\n<p>It is possible that I am just missing a silly point or it is possible that I am really stupid and misunderstood the whole thing.</p>\n\n<p>Should I be able to declare a function parameter as <code>auto</code> while still being able to give it a default value in C++11 or C++14?\nI thought the given default value would be enough to let compiler deduce the parameter type...</p>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>It think I need to make my question clearer so it won't be mistaken by <a href=\"https://stackoverflow.com/questions/29944985/is-there-a-way-to-pass-auto-as-an-argument-in-c\">Is there a way to pass auto as an argument in C++?</a></p>\n\n<p>The point here is not passing <code>auto</code> to a function but having <code>auto</code> in conjunction with a <em>default value</em> for the argument, something not considered in the aforementioned question.</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>As clarified in comments here, C++11 does not have such a feature of passing <code>auto</code> as parameter but C++14 and on (g++ 6.3.1 defaults to \"gnu++14\") seem to. My original question is not related to C++11, though, and my question is not whether C++11 supports <code>auto</code> parameters. I was relying on <code>auto</code> as parameter but forgot to double check the minimum standard version for it. My apologies and I fixed that now.</p>\n\n<pre><code>g++ -std=c++11 auto_param.cpp -o auto_param\nauto_param.cpp:13:14: error: use of \u2018auto\u2019 in parameter declaration only available with -std=c++14 or -std=gnu++14\n</code></pre>\n\n<p>I hope it to be clear the difference between my question and <a href=\"https://stackoverflow.com/questions/25879705/is-auto-as-a-parameter-in-a-regular-function-a-gcc-4-9-extension\">Is auto as a parameter in a regular function a GCC 4.9 extension?</a>. Please tell me if not.</p>\n"}, {"tags": ["c++", "node.js", "windows-10"], "comments": [{"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "edited": false, "score": 1, "creation_date": 1493235907, "post_id": 43643211, "comment_id": 74334774, "body": "My guess is that it&#39;s trying to locate some resource on Microsoft&#39;s download site that is no longer where it used to be (HTTP 404). Microsoft keeps moving around things all the time. Perhaps you get more hints if you run <code>npm</code> in verbose mode?"}, {"owner": {"reputation": 77, "user_id": 7858740, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/liIcc.png?s=128&g=1", "display_name": "C.Petrescu", "link": "https://stackoverflow.com/users/7858740/c-petrescu"}, "reply_to_user": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "edited": false, "score": 0, "creation_date": 1493236028, "post_id": 43643211, "comment_id": 74334856, "body": "what is verbose mode? I can&#39;t understand well."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493237524, "post_id": 43643211, "comment_id": 74335673, "body": "<b><i>what is verbose mode?</i></b> A mode that provides more descriptive messages.. add <code>--verbose</code> to your command line. <a href=\"https://docs.npmjs.com/misc/config\" rel=\"nofollow noreferrer\">docs.npmjs.com/misc/config</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1493238713, "post_id": 43643211, "comment_id": 74336310, "body": "It is a failed DNS lookup for &quot;download.microsoft.com&quot;.  It is still there, honest.  You need a better Internet."}], "owner": {"reputation": 77, "user_id": 7858740, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/liIcc.png?s=128&g=1", "display_name": "C.Petrescu", "link": "https://stackoverflow.com/users/7858740/c-petrescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 898, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493235797, "creation_date": 1493235797, "question_id": 43643211, "link": "https://stackoverflow.com/questions/43643211/how-to-install-the-visual-c-component-vcbuild-exe", "title": "How to install the Visual C++ component &quot;VCBuild.exe&quot;?", "body": "<p>I tried to install VCBuilder.exe.</p>\n\n<pre><code>$npm install --global --production windows-build-tools\n</code></pre>\n\n<p>But it doesn't work well.</p>\n\n<p>An Error is like this:</p>\n\n<pre><code>&gt; windows-build-tools@1.2.1 postinstall C:\\Users\\Josephine\\AppData\\Roaming\\npm\\node_modules\\windows-build-tools\n&gt; node ./lib/index.js\n\nDownloading BuildTools_Full.exe\nError: getaddrinfo ENOTFOUND download.microsoft.com download.microsoft.com:443\n{ Error: getaddrinfo ENOTFOUND download.microsoft.com download.microsoft.com:443\n    at errnoException (dns.js:28:10)\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:73:26)\n  code: 'ENOTFOUND',\n  errno: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'download.microsoft.com',\n  host: 'download.microsoft.com',\n  port: 443 }\n</code></pre>\n\n<p>I don't understand this error.\nplease, help me.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "arrays", "multidimensional-array", "assert"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 2, "creation_date": 1493235938, "post_id": 43643126, "comment_id": 74334798, "body": "I&#39;d suggest firing whoever wrote that."}, {"owner": {"reputation": 1291, "user_id": 339789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05f9b75e471ad188fe9f103a3faffdf0?s=128&d=identicon&r=PG", "display_name": "Nightforce2", "link": "https://stackoverflow.com/users/339789/nightforce2"}, "edited": false, "score": 0, "creation_date": 1493236285, "post_id": 43643126, "comment_id": 74334973, "body": "Assert is used to evaluate a equation and abort with or without a message if it fails. <a href=\"https://msdn.microsoft.com/en-us/library/9sb57dw4.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/9sb57dw4.aspx</a> ."}, {"owner": {"reputation": 677, "user_id": 3785680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7953767467649c81b58fe9e5a9278?s=128&d=identicon&r=PG&f=1", "display_name": "Outshined", "link": "https://stackoverflow.com/users/3785680/outshined"}, "edited": false, "score": 0, "creation_date": 1493236316, "post_id": 43643126, "comment_id": 74334992, "body": "Can you show us definition of array a? assert is a c function stopping compilation if it&#39;s argument is false (i.e. 0), unless macro NDEBUG is defined."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1493236786, "post_id": 43643126, "comment_id": 74335259, "body": "<code>assert(0)</code> is the same as <code>assert(false)</code>, meaning that the program (in debug mode) will stop if it reaches that statement. So it means &quot;this should never happen&quot;:"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 677, "user_id": 3785680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7953767467649c81b58fe9e5a9278?s=128&d=identicon&r=PG&f=1", "display_name": "Outshined", "link": "https://stackoverflow.com/users/3785680/outshined"}, "edited": false, "score": 1, "creation_date": 1493236792, "post_id": 43643126, "comment_id": 74335265, "body": "@Caribou No, it doesn&#39;t stop compilation. It aborts the program at runtime."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 2, "creation_date": 1493237353, "post_id": 43643126, "comment_id": 74335580, "body": "Note also that you can rewrite that particular statement as <code>assert(a[637][i] != 15);</code>."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493239103, "post_id": 43643126, "comment_id": 74336523, "body": "<code>assert</code> is not a function but a macro."}, {"owner": {"reputation": 677, "user_id": 3785680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7953767467649c81b58fe9e5a9278?s=128&d=identicon&r=PG&f=1", "display_name": "Outshined", "link": "https://stackoverflow.com/users/3785680/outshined"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1493283591, "post_id": 43643126, "comment_id": 74353745, "body": "@cdhowie You&#39;re right, static_assert throws compile time error, my mistake."}], "answers": [{"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": true, "score": 0, "last_activity_date": 1493237076, "last_edit_date": 1495542375, "creation_date": 1493236842, "answer_id": 43643517, "question_id": 43643126, "link": "https://stackoverflow.com/questions/43643126/in-c-what-does-an-increment-to-a-2d-array-whats-the-function-assert0-doing/43643517#43643517", "title": "In c++, what does an increment to a 2D array? Whats the function assert(0) doing?", "body": "<p>Statement <code>a[637][i]++</code> increases the value of the cell <code>637/i</code> of two-dimensional array <code>a</code>.</p>\n\n<p><code>assert(0)</code> simply aborts program execution at this point (since condition <code>0</code> means <code>false</code>, defining that the assertion is never met). Confer this \n<a href=\"https://stackoverflow.com/a/34236783/2630032\">SO answer</a> for a more detailed explanation.</p>\n"}], "owner": {"reputation": 3, "user_id": 7654241, "user_type": "registered", "profile_image": "https://graph.facebook.com/894516524023714/picture?type=large", "display_name": "Daniel Dylan E", "link": "https://stackoverflow.com/users/7654241/daniel-dylan-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1494373386, "accepted_answer_id": 43643517, "answer_count": 1, "score": -4, "last_activity_date": 1493237168, "creation_date": 1493235490, "last_edit_date": 1493237168, "question_id": 43643126, "link": "https://stackoverflow.com/questions/43643126/in-c-what-does-an-increment-to-a-2d-array-whats-the-function-assert0-doing", "closed_reason": "Needs details or clarity", "title": "In c++, what does an increment to a 2D array? Whats the function assert(0) doing?", "body": "<p>I'm working on a code in C++ but i'm not sure what  <code>a[set][i]++;</code> does. I was assuming that the value located in that array was incremented by 1, but i'm not sure.<br>\nAlso, what's the function of <code>assert(0);</code> in the code? \nThank for your help!   </p>\n\n<p>The code block is:</p>\n\n<pre><code>for (i=0; i&lt;1S; i++)\n{\n   if (a[637][i] &lt; a[637][15]) \n       {\n          a[637][i]++;\n          if (a[637][i] == 15)\n             assert(0);\n       }\n    }\na[637][15] = 0; \n</code></pre>\n\n<p>Edit:\nSorry i forgot to mention the background.<br>\nThe definition of <code>a</code> is <code>uint32_t a[2048][16];</code>so 637 and i are values from a particular loop in order to compare them with another 2D array and then choose which line to evict. This is for a cache replacement policy but i just was curious for those cases. Thanks!</p>\n"}, {"tags": ["c++", "operating-system", "cross-platform"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1493234583, "post_id": 43642747, "comment_id": 74334011, "body": "for windows here is a dupe: <a href=\"http://stackoverflow.com/questions/101647/how-to-schedule-a-task-to-run-when-shutting-down-windows\" title=\"how to schedule a task to run when shutting down windows\">stackoverflow.com/questions/101647/&hellip;</a>"}, {"owner": {"reputation": 787, "user_id": 5617186, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fed3c0195fbfde9e9a88951f59b5be5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5617186/rafael"}, "edited": false, "score": 0, "creation_date": 1493235159, "post_id": 43642747, "comment_id": 74334325, "body": "You could create a batch file that shuts down the computer and call it with system(&quot;mybatchfile.bat&quot;);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1493235217, "post_id": 43642747, "comment_id": 74334360, "body": "For Windows, see <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376890(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1493236079, "last_edit_date": 1493236079, "creation_date": 1493234603, "answer_id": 43642858, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c/43642858#43642858", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<blockquote>\n  <p>Is there a way to temporarily suspend, or override, an OS shutdown/restart in C++?</p>\n</blockquote>\n\n<p>There is no such functionality in standard C++.</p>\n\n<p>Unless there is a platform-specific API to do that, I am afraid you won't be able suspend or override an OS shutdown/restart operation in C++.</p>\n"}, {"comments": [{"owner": {"reputation": 1732, "user_id": 868770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/0OwW1.png?s=128&g=1", "display_name": "Qchmqs", "link": "https://stackoverflow.com/users/868770/qchmqs"}, "edited": false, "score": 0, "creation_date": 1493236677, "post_id": 43642925, "comment_id": 74335193, "body": "in mac, you can ask the os not to shutdown, it&#39;ll cancel the operation and ask the user whether to force it off or not, in linux there is no such a thing, it&#39;ll shutdown whether you like it or not (as only root usually can order shutdown) in windows, there will be a delay after which everything will be forced shut (at least in 7, never tried 8 or 10)"}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1493234795, "creation_date": 1493234795, "answer_id": 43642925, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c/43642925#43642925", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<p>There's nothing in C++ for this. But a typical GUI (Windows, Mac, etc.) will notify your application of a pending shutdown so that you can do final processing. That's specific to the OS, and subject to its rules.</p>\n"}, {"tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": false, "score": 0, "last_activity_date": 1493236782, "creation_date": 1493236782, "answer_id": 43643499, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c/43643499#43643499", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<p>To override a scheduled/in progress shutdown you can:</p>\n\n<p>For Windows 7</p>\n\n<pre><code>system(\"shutdown /a\");\n</code></pre>\n\n<p>For Linux</p>\n\n<pre><code>system(\"shutdown -c\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 7782929, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Od70R8Izoso/AAAAAAAAAAI/AAAAAAAAWyI/cxiXW1xQ-1Y/photo.jpg?sz=128", "display_name": "Kwang-Chun Kang", "link": "https://stackoverflow.com/users/7782929/kwang-chun-kang"}, "is_accepted": false, "score": 0, "last_activity_date": 1493245406, "last_edit_date": 1495542858, "creation_date": 1493244686, "answer_id": 43645354, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c/43645354#43645354", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<p>I have googled the related article that <a href=\"https://stackoverflow.com/questions/22009705/how-to-detect-linux-shutdown-reboot\">how to detect Linux shutdown/reboot</a>\nBut it seems hard to implement for your purpose.</p>\n\n<p>What comes from my mind is; if you can add your program as a service, the linux system will closing the service in advance of its shutdown.</p>\n\n<p>Good Luck</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5934796, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e92feb3dd05974b7a89c739e0859b47c?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/5934796/aaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1493850180, "last_edit_date": 1495535494, "creation_date": 1493850180, "answer_id": 43770950, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c/43770950#43770950", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<p>Thanks to all responses and ideas!</p>\n\n<p>Judging by the responses received, it seems there is no \"safe\" and cross-platform way of achieving such functionality easily using C++.</p>\n\n<p><a href=\"https://stackoverflow.com/users/1593860/pete-becker\">Pete Becker</a> mentioned there could be specific rules per Operating System. This makes sense, and these rules are also always subject to change.</p>\n\n<p>Others have suggested using the <code>system()</code> command. However, this would potentially introduce further issues and vulnerabilities <a href=\"https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=2130132\" rel=\"nofollow noreferrer\">(1)</a> <a href=\"http://www.cplusplus.com/forum/articles/11153/\" rel=\"nofollow noreferrer\">(2)</a> into the system (there may be better explanations and/or examples, so please edit this post if/when you find them).</p>\n\n<p>Considering all of the above, my suggestion would be to configure the application to either have the user manually execute these processes via a GUI (leaving it entirely up to them), execute these processes on startup of the Operating System or both.</p>\n\n<p>Thanks again to all who responded!</p>\n"}], "owner": {"reputation": 91, "user_id": 5934796, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e92feb3dd05974b7a89c739e0859b47c?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/5934796/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 1, "answer_count": 5, "score": 2, "last_activity_date": 1493850180, "creation_date": 1493234216, "question_id": 43642747, "link": "https://stackoverflow.com/questions/43642747/is-there-a-way-to-suspend-os-shutdown-or-restart-in-c", "title": "Is there a way to suspend OS shutdown or restart in C++?", "body": "<p>I'm planning to develop a cross-platform application that may need to do processing prior to the user's Operating System shutting down or restarting. Is there a way to temporarily suspend, or override, an OS shutdown/restart in C++?</p>\n\n<p>As an aside, this feature will be entirely the user's choice via configuration and disabled by default.</p>\n\n<p>I feel this might not be possible without being invasive to the Operating System, but I thought I'd ask for the community's thoughts.</p>\n\n<p>If my only option is to somewhat \"hack\" the OS in order to achieve this feature, then I'll not pursue this idea any further. :)</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "linux", "multithreading", "c++11", "posix"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 2, "creation_date": 1493234490, "post_id": 43642740, "comment_id": 74333962, "body": "<i>&quot;Rest options look much slower than mutex-based solutions.&quot;</i> - For any reason under the sun, you should <b>never</b> guess about performance."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1493234495, "post_id": 43642740, "comment_id": 74333968, "body": "If &quot;runtime portability&quot; is your biggest concern, and if your binaries are compatible with C/C++ lower than C++11, then I would use the POSIX libraries."}, {"owner": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493240541, "post_id": 43642740, "comment_id": 74337303, "body": "If you&#39;re willing to consider a completely different approach, see the following: <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">Immutable object</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 1, "creation_date": 1493357847, "post_id": 43643247, "comment_id": 74391526, "body": "Note that newer versions of the compiler may automatically link the pthread library so it won&#39;t actually fail if you don&#39;t explicitly link it in."}], "tags": [], "owner": {"reputation": 668, "user_id": 7148416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54af0b88b4441b06815e01ed145a2f14?s=128&d=identicon&r=PG&f=1", "display_name": "diametralpitch", "link": "https://stackoverflow.com/users/7148416/diametralpitch"}, "is_accepted": true, "score": 4, "last_activity_date": 1493357151, "last_edit_date": 1493357151, "creation_date": 1493235921, "answer_id": 43643247, "question_id": 43642740, "link": "https://stackoverflow.com/questions/43642740/how-to-create-thread-safe-lib-for-c-and-c-on-linux/43643247#43643247", "title": "How to create thread safe lib for C and C++ on Linux?", "body": "<p>The question in your title seems different than what you are concerned with in the body. If you want to write thread safe code, there is no real answer except for following some guidelines of using discretion when accessing global variables and using a form of protection when accessing globals and or variables shared by threads.</p>\n\n<p>You seem to be really asking about how to write portable multithreaded code. To say C++11 is not POSIX threads, from the perspective of a Linux based machine is not accurate. The purpose of <code>std::thread</code> is to provide an abstraction layer for the system's underlying thread library. In the case of using <code>std::thread</code> on Linux, you will eventually be making pthread calls. As a test, try to compile a program using C++ threads without linking to libpthread (<code>-lpthread</code>) and you should see it fail.</p>\n"}, {"tags": [], "owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "is_accepted": false, "score": 2, "last_activity_date": 1493357774, "creation_date": 1493357774, "answer_id": 43672700, "question_id": 43642740, "link": "https://stackoverflow.com/questions/43642740/how-to-create-thread-safe-lib-for-c-and-c-on-linux/43672700#43672700", "title": "How to create thread safe lib for C and C++ on Linux?", "body": "<p>If your library is thread-safe, you should ensure no unsafe operations can happen when a user calls your library functions from different threads. Of course, it would be silly to not require the user to use at least some discretion him/herself, such as not calling modifying functions on the same object from multiple threads concurrently.</p>\n\n<p>In the end, thread safety comes down to protecting your internal state with things like mutexes. Because it's internal state, what the user does outside of your library shouldn't matter, and thus it also doesn't matter what underlying library you use to provide this synchronisation. As you've written the library in C++11, I'd suggest using its provided threading primitives if they fit your needs.</p>\n"}], "owner": {"reputation": 321, "user_id": 2546231, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2ab149ab3390053ea472bc57a9047f9a?s=128&d=identicon&r=PG", "display_name": "Pavel.Zh", "link": "https://stackoverflow.com/users/2546231/pavel-zh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 43643247, "answer_count": 2, "score": 1, "last_activity_date": 1493357774, "creation_date": 1493234183, "question_id": 43642740, "link": "https://stackoverflow.com/questions/43642740/how-to-create-thread-safe-lib-for-c-and-c-on-linux", "title": "How to create thread safe lib for C and C++ on Linux?", "body": "<p>I want to write some library in C++11, which will be used in C and C++ programs (so all exported function will be marked as extern \"C\"). </p>\n\n<p>I want all exported functions to be thread-safe. So if I would write this library on windows, I can use Critical Section Objects, but what should I use in Linux?</p>\n\n<p>Here's my options:</p>\n\n<ol>\n<li>POSIX mutexes</li>\n<li>C++11 std::mutex</li>\n<li>C++11 atomic variables</li>\n<li>Linux (POSIX) semaphores</li>\n</ol>\n\n<p>Troubles:\nThere is no guarantees of which thread - POSIX or C++11 - will be used in code which will use my library. </p>\n\n<p>So 1) and 2) options cannot be used, because POSIX threads != C++11 threads.</p>\n\n<p>Rest options look much slower than mutex-based solutions.</p>\n\n<p>Does anybody know the correct way to create thread-safe library on Linux?</p>\n"}, {"tags": ["c++", "webassembly"], "answers": [{"comments": [{"owner": {"reputation": 6895, "user_id": 40047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bfbf85a65322d6b98eb0ba4df54ad2c1?s=128&d=identicon&r=PG", "display_name": "John K&#228;ll&#233;n", "link": "https://stackoverflow.com/users/40047/john-k%c3%a4ll%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1493310725, "post_id": 43644379, "comment_id": 74373575, "body": "What I&#39;m trying to understand is how local storage is allocated to provide space for the struct. It seems that global 2 is acting like some sort of explicit stack pointer; it&#39;s copied into local 0, incremented by 16 (<code>sizeof foo</code>) and on procedure exit, it&#39;s reset back to the value in local 0. Would it be correct to assume that the environment provides the &quot;stack pointer&quot; as a global pointer?"}, {"owner": {"reputation": 63083, "user_id": 471795, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b2bd81c28bcafeea19ac72e554859ec0?s=128&d=identicon&r=PG", "display_name": "kanaka", "link": "https://stackoverflow.com/users/471795/kanaka"}, "reply_to_user": {"reputation": 6895, "user_id": 40047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bfbf85a65322d6b98eb0ba4df54ad2c1?s=128&d=identicon&r=PG", "display_name": "John K&#228;ll&#233;n", "link": "https://stackoverflow.com/users/40047/john-k%c3%a4ll%c3%a9n"}, "edited": false, "score": 1, "creation_date": 1493318196, "post_id": 43644379, "comment_id": 74378060, "body": "@JohnK&#228;ll&#233;n Yes, that&#39;s my understanding. I updated the wast using wasm-dis from binaryen since it has more intelligent disassembly and more annotations. I also added some explanatory text for the code explaining that."}], "tags": [], "owner": {"reputation": 63083, "user_id": 471795, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b2bd81c28bcafeea19ac72e554859ec0?s=128&d=identicon&r=PG", "display_name": "kanaka", "link": "https://stackoverflow.com/users/471795/kanaka"}, "is_accepted": true, "score": 4, "last_activity_date": 1493318112, "last_edit_date": 1493318112, "creation_date": 1493240253, "answer_id": 43644379, "question_id": 43642723, "link": "https://stackoverflow.com/questions/43642723/how-do-pointer-to-local-structures-get-translated-to-webassembly/43644379#43644379", "title": "How do pointer to local structures get translated to webassembly?", "body": "<p>I'm going to assume you mean what does the wast textual format look like?</p>\n\n<p>I adjusted up a couple things in your code so that it would compile:</p>\n\n<pre><code>struct foo {\n    int a;\n    float b;\n};\n\nextern void bar(struct foo * p);\n\nvoid my_program() {\n    struct foo my_foo;\n    my_foo.a = 1;\n    my_foo.b = -3.0F;\n    bar(&amp;my_foo);\n} \n</code></pre>\n\n<p>Compiling it using emscripten/binaryen and then using wasm2wast:</p>\n\n<pre><code>emcc -s WASM=1 -s SIDE_MODULE=1 -O2 str.c -o str.js\nwasm-dis str.wasm -o str.wast\n</code></pre>\n\n<p>Note that without <code>-s SIDE_MODULE=1 -O2</code>, emscripten pulls in a bunch of the standard library (malloc, etc) and the wast file is 10,000 lines long. I'm assuming you probably just want the fairly simple wasm/wast result without all the linkages/inclusions.</p>\n\n<p>That results in the following wast file:</p>\n\n<pre><code>(module\n (type $0 (func (param i32)))\n (type $1 (func))\n (import \"env\" \"memoryBase\" (global $import$0 i32))\n (import \"env\" \"_bar\" (func $import$1 (param i32)))\n (import \"env\" \"memory\" (memory $0 256))\n (import \"env\" \"table\" (table 0 anyfunc))\n (import \"env\" \"tableBase\" (global $import$4 i32))\n (global $global$0 (mut i32) (i32.const 0))\n (global $global$1 (mut i32) (i32.const 0))\n (export \"_my_program\" (func $0))\n (export \"__post_instantiate\" (func $2))\n (export \"runPostSets\" (func $1))\n (func $0 (type $1)\n  (local $var$0 i32)\n  (local $var$1 i32)\n  (block $label$0\n   (set_local $var$0\n    (get_global $global$0)\n   )\n   (set_global $global$0\n    (i32.add\n     (get_global $global$0)\n     (i32.const 16)\n    )\n   )\n   (i32.store\n    (tee_local $var$1\n     (get_local $var$0)\n    )\n    (i32.const 1)\n   )\n   (f32.store offset=4\n    (get_local $var$1)\n    (f32.const -3)\n   )\n   (call $import$1\n    (get_local $var$1)\n   )\n   (set_global $global$0\n    (get_local $var$0)\n   )\n  )\n )\n (func $1 (type $1)\n  (nop)\n )\n (func $2 (type $1)\n  (block $label$0\n   (set_global $global$0\n    (get_global $import$0)\n   )\n   (set_global $global$1\n    (i32.add\n     (get_global $global$0)\n     (i32.const 5242880)\n    )\n   )\n   (call $1)\n  )\n )\n ;; custom section \"dylink\", size 5\n)\n</code></pre>\n\n<p>Note that <code>memoryBase</code>, <code>tableBase</code>, <code>__post_instantiate</code>, and <code>runPostSets</code>are emscripten additions for platform memory integration/initialization. <code>memoryBase</code> is basically the start of the C stack and the value is copied by <code>__post_instantiate</code> into <code>$global$0</code> (which is global to all functions in this module). When <code>my_program</code> is called the first thing that happens is we adjust the stack pointer by 16 to point to where the compiler has \"allocated\" space for my_foo structure on stack. We now do a couple of <code>i32.store</code> operations using <code>offset=X</code> to update the fields within <code>foo</code>. When the function returns we restore the stack pointer (<code>$global$0</code>) to where it was when we entered the function.</p>\n"}], "owner": {"reputation": 6895, "user_id": 40047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bfbf85a65322d6b98eb0ba4df54ad2c1?s=128&d=identicon&r=PG", "display_name": "John K&#228;ll&#233;n", "link": "https://stackoverflow.com/users/40047/john-k%c3%a4ll%c3%a9n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 2, "accepted_answer_id": 43644379, "answer_count": 1, "score": 2, "last_activity_date": 1493318112, "creation_date": 1493234098, "question_id": 43642723, "link": "https://stackoverflow.com/questions/43642723/how-do-pointer-to-local-structures-get-translated-to-webassembly", "title": "How do pointer to local structures get translated to webassembly?", "body": "<p>Unfortunately I'm unable to get a working toolchain to compile C/C++ down to a wasm file, but I was hoping a kind soul could help me out here. Given the program fragment:</p>\n\n<pre><code>struct foo {\n    int a;\n    float b;\n};\n\nvoid function(foo * p);\n\nvoid my_program() {\n    struct foo my_foo;\n    my_foo.a = 1;\n    my_foo.b = -3.0F;\n    foo(&amp;my_foo);\n}\n</code></pre>\n\n<p>what does the wasm code for <code>my_program</code> look like?</p>\n"}, {"tags": ["c++", "qt", "class-design"], "comments": [{"owner": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493233038, "post_id": 43642285, "comment_id": 74333085, "body": "First thing that comes to mind is to have a look at the <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator pattern</a>.  Additional reference here: <a href=\"https://sourcemaking.com/design_patterns/decorator\" rel=\"nofollow noreferrer\">Decorator Design Pattern</a>."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493233061, "post_id": 43642285, "comment_id": 74333101, "body": "<b><i>For some reason C is not behaving as expected</i></b> Maybe you should ask a question about that (showing some details so we can possibly help). Perhaps we can fix it if we know what is the problem."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1493233148, "post_id": 43642285, "comment_id": 74333164, "body": "<b><i>class C inherits B and adds some feature, C must be of type QWidget and should do all things done by B</i></b> There really is should be no problem with this. <code>C</code> will be a <code>QWidget</code> by its parent."}, {"owner": {"reputation": 1405, "user_id": 646710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad96b8b96de851fe2308338910a2f31e?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/646710/sumit"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493233411, "post_id": 43642285, "comment_id": 74333323, "body": "@drescherjm  The problem is B is doing something with the layout of the Qwidget that it has which make user interface incorrect, and I don&#39;t have source of B."}, {"owner": {"reputation": 1405, "user_id": 646710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad96b8b96de851fe2308338910a2f31e?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/646710/sumit"}, "reply_to_user": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493233623, "post_id": 43642285, "comment_id": 74333451, "body": "@PhilBrubaker , I have seen exactly the Decorator Design Pattern, but it does not look like solving my problem. It says to pass object of one class to another, if I pass object of B to C&#39;s constructor, manipulation done by B internally on it&#39;s QWidget will persist."}, {"owner": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493233796, "post_id": 43642285, "comment_id": 74333564, "body": "@Sumit Is it possible to instantiate B as a member of C?"}, {"owner": {"reputation": 1405, "user_id": 646710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad96b8b96de851fe2308338910a2f31e?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/646710/sumit"}, "reply_to_user": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493233837, "post_id": 43642285, "comment_id": 74333590, "body": "@PhilBrubaker ,  Yes"}, {"owner": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493234112, "post_id": 43642285, "comment_id": 74333746, "body": "@Sumit So regardless of whether B is passed in to the constructor, or is instantiated as a member, it seems to me that you could (Decorator pattern-style) forward method calls to B untouched that you want to leave alone, and override them in C as necessary.  Does that make sense, or am I missing something?"}, {"owner": {"reputation": 1405, "user_id": 646710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad96b8b96de851fe2308338910a2f31e?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/646710/sumit"}, "reply_to_user": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493234448, "post_id": 43642285, "comment_id": 74333935, "body": "@PhilBrubaker , I explain, suppose there is a temperature sensor, when that gets disconnected from machine, class B draws a content blocker image on the whole area of Qwidget that it owns, I can monitor sensor connect /disconnect and suppose C&#39;s fun. OnDisconnect() gets called, I will call B::OnDisconnect(), B will draw blocker image on its own Qwidget, not on the one which is owned by C"}, {"owner": {"reputation": 1221, "user_id": 6610379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869458e7097eb3f538a64ab550a0aa4b?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Brubaker", "link": "https://stackoverflow.com/users/6610379/phil-brubaker"}, "edited": false, "score": 0, "creation_date": 1493235296, "post_id": 43642285, "comment_id": 74334413, "body": "@Sumit I&#39;m sorry I don&#39;t follow.  Is the idea that a B and a C must coexist and perform similar but different functions at different times, or are you trying to code your own C as an extension of B, and you will use C in place of all B?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1493236111, "post_id": 43642285, "comment_id": 74334894, "body": "I think the OP wants to use <code>C</code> to provide a visualization for <code>B</code>"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1493240756, "post_id": 43642285, "comment_id": 74337409, "body": "&quot;I don&#39;t have source of B&quot; I doubt that. It&#39;s next to impossible to use Qt-based binary libraries."}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1493241338, "last_edit_date": 1495542361, "creation_date": 1493236147, "answer_id": 43643320, "question_id": 43642285, "link": "https://stackoverflow.com/questions/43642285/c-qt-program-design-issue/43643320#43643320", "title": "C++ Qt program design issue", "body": "<blockquote>\n  <p>Suppose there is a temperature sensor, when that gets disconnected from machine, class <code>B</code> draws a content blocker image on the whole area of <code>QWidget</code> that it owns, I can monitor sensor connect /disconnect and suppose <code>C</code>'s fun. <code>OnDisconnect()</code> gets called, I will call <code>B::OnDisconnect()</code>, <code>B</code> will draw blocker image on its own <code>QWidget</code>, not on the one which is owned by <code>C</code>.</p>\n</blockquote>\n\n<p>This has everything to do with C++'s rather inflexible method implementation inheritance when compared e.g. to the Common LISP Object System.</p>\n\n<p>Since <code>B</code>'s obscuration is always meant to be on top of <code>B</code>'s contents, what you effectively need is for <code>B</code> to provide an overlay that draws on top of its contents, even if <code>paintEvent</code> is overriden in derived classes.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/19367454/1329652\">this answer</a> for a simple example, or <a href=\"https://stackoverflow.com/a/19386886/1329652\">another answer</a> for an overlay with blur graphical effect.</p>\n\n<p>This is fairly easy to accomplish by having <code>B</code> add an optional overlay widget to itself.</p>\n\n<p>Example:</p>\n\n<pre><code>class OverlayWidget; // from https://stackoverflow.com/a/19367454/1329652    \n\nclass ObscureOverlay : public OverlayWidget\n{\npublic:\n  ObscureOverlay(QWidget * parent = {}) : OverlayWidget{parent} {}\nprotected:\n  void paintEvent(QPaintEvent *) override {\n    QPainter p{this};\n    p.fillRect(rect(), {Qt::black});\n  }\n};\n\nclass A : public QWidget {\n  ...\nprotected:\n  void paintEvent(QPaintEvent *) override { ... }\n};\n\nclass B : public A {\n  ...\n  ObscureOverlay m_obscure{this};\npublic:\n  B() {\n    m_obscure.hide();\n  }\n  Q_SLOT void OnDisconnect() {\n    m_obscure.show();\n    ...\n  }\n};\n\nclass C : public B {\n  ...\nprotected:\n  void paintEvent(QPaintEvent * event) override {\n    B::paintEvent(event);\n    ...\n  }\n};\n</code></pre>\n\n<p>If you don't have the source code to <code>B</code>, you can add the overlay to <code>C</code>, replicating original <code>B</code>'s functionality when obscured. All of Qt's slots are effectively virtual, so if you pass a <code>C</code> to someone expecting <code>B</code> and connecting to its <code>OnDisconnect</code> slot, it will be <code>C</code>'s slot that will get invoked.</p>\n\n<pre><code>class C : public B {\n  Q_OBJECT\n  ...\n  ObscureOverlay m_obscure{this};\npublic:\n  explicit C(QWidget * parent = {}) : B{parent} {\n    m_obscure.hide();\n  }\n  Q_SLOT void OnDisconnect() { // slots are effectively virtual\n    m_obscure.show();\n    B::OnDisconnect();\n  }\nprotected:\n  void paintEvent(QPaintEvent * event) override {\n    B::paintEvent(event);\n    QPainter p{this};\n    ...\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 1405, "user_id": 646710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ad96b8b96de851fe2308338910a2f31e?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/646710/sumit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493261709, "creation_date": 1493232576, "last_edit_date": 1493261709, "question_id": 43642285, "link": "https://stackoverflow.com/questions/43642285/c-qt-program-design-issue", "title": "C++ Qt program design issue", "body": "<p>In C++ Qt there is a class <code>QWidget</code></p>\n\n<ul>\n<li>class <code>A</code> inherits <code>QWidget</code> and adds some features</li>\n<li>class <code>B</code> inherits <code>A</code> and adds some features</li>\n<li>class <code>C</code> inherits <code>B</code> and adds some features, <code>C</code> must be of type <code>QWidget</code> and should do all things done by <code>B</code></li>\n</ul>\n\n<p>For some reason <code>C</code> is not behaving as expected, I have to rewrite class <code>C</code>. I can not modify code up to class <code>B</code> creation.</p>\n\n<p>How can I solve this problem? Any design pattern, or anything else?</p>\n\n<p>If I try to inherit <code>QWidget</code> and <code>B</code>, a multiple inheritance, there will be two <code>QWidget</code> which leads to problem (QObject - moc does not allow it).</p>\n\n<p>If I inherit from <code>QWidget</code> and pass object of <code>B</code> to <code>C</code>'s constructor, whatever operation <code>B</code> performs applies to another <code>QWidget</code> coming through <code>B</code>, which is not desired, all features provided by <code>B</code> should apply to my <code>C</code>'s <code>QWidget</code>.</p>\n"}, {"tags": ["c++", "algorithm", "pointers", "reference", "binary-search-tree"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 7602403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qtoGS.jpg?s=128&g=1", "display_name": "Chris Leung", "link": "https://stackoverflow.com/users/7602403/chris-leung"}, "edited": false, "score": 0, "creation_date": 1493233481, "post_id": 43642302, "comment_id": 74333376, "body": "Thanks Mikel. I see their reference to <a href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow noreferrer\">persistent data structure</a>, makes sense now."}], "tags": [], "owner": {"reputation": 3189, "user_id": 7016303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dYmXc.jpg?s=128&g=1", "display_name": "Mikel F", "link": "https://stackoverflow.com/users/7016303/mikel-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1493232652, "creation_date": 1493232652, "answer_id": 43642302, "question_id": 43642084, "link": "https://stackoverflow.com/questions/43642084/c-destructive-procedural-variant-results-in-prior-version-of-binary-search-t/43642302#43642302", "title": "C++ &quot;destructive procedural variant&quot; results in prior version of binary search tree being lost", "body": "<p>Further down in the Wikipedia entry, the behavior of Python is noted as a contrasting example. There, you see that 'adding' a node to a tree actually creates a new tree with the extra node. So the tree prior to the call to insert can still be referenced in this case.</p>\n\n<p>However, in the C++ example, the tree structure is changed when a new node is inserted and the previous state is lost. </p>\n"}], "owner": {"reputation": 113, "user_id": 7602403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qtoGS.jpg?s=128&g=1", "display_name": "Chris Leung", "link": "https://stackoverflow.com/users/7602403/chris-leung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 43642302, "answer_count": 1, "score": 1, "last_activity_date": 1493232652, "creation_date": 1493231858, "question_id": 43642084, "link": "https://stackoverflow.com/questions/43642084/c-destructive-procedural-variant-results-in-prior-version-of-binary-search-t", "title": "C++ &quot;destructive procedural variant&quot; results in prior version of binary search tree being lost", "body": "<p>I've been reviewing C++ pointers and references and want to verify I understand what's meant by \"destructive procedural variant\" here in the following example from <a href=\"https://en.wikipedia.org/wiki/Binary_search_tree#Insertion\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>Here's how a typical binary search tree insertion might be performed in a binary tree in C++:</p>\n\n<pre><code>Node* insert(Node*&amp; root, int key, int value) {\n  if (!root) \n    root = new Node(key, value);\n  else if (key &lt; root-&gt;key)\n    root-&gt;left = insert(root-&gt;left, key, value);\n  else  // key &gt;= root-&gt;key\n    root-&gt;right = insert(root-&gt;right, key, value);\n  return root;\n}\n</code></pre>\n  \n  <p>The above <em>destructive</em> procedural variant modifies the tree in place.\n  It uses only constant heap space (and the iterative version uses\n  constant stack space as well), but the prior version of the tree is\n  lost.</p>\n</blockquote>\n\n<p>Is the point here (no pun intended) that there might be other copies of the \"root\" pointer that will still point to a NULL value when our pointer here gets referenced to a new Node object?</p>\n\n<p>If yes, then why use the words \"the prior version of the tree is lost\"? (Wouldn't a simple solution to this in C++ be to make sure nobody stores a pointer to a NULL binary tree, or to make sure they store a reference to the root pointer rather than a copy of it?)</p>\n"}, {"tags": ["c++", "reference", "constants"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 8, "creation_date": 1493231850, "post_id": 43642053, "comment_id": 74332413, "body": "Perhaps overloading is not the right solution here. You should consider simply renaming your methods to indicate the different purpose they fulfil. It&#39;s not clear to me what you are gaining by giving both <code>bar()</code> methods the same name."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 2, "creation_date": 1493232433, "post_id": 43642053, "comment_id": 74332739, "body": "There are <code>std::add_const</code> and friends, but this smells more like a design problem than anything else. You could also do <code>auto const &amp;obj1c = obj1;</code> and then you can use <code>obj1c</code> for invoking <code>const</code> members."}], "owner": {"reputation": 351, "user_id": 2016181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04091ef404c865dbec1da7df7ee82734?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/2016181/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1493232824, "answer_count": 0, "score": 0, "last_activity_date": 1493298831, "creation_date": 1493231747, "last_edit_date": 1495539193, "question_id": 43642053, "link": "https://stackoverflow.com/questions/43642053/c-concise-way-to-create-const-reference-to-modiable-object", "closed_reason": "Duplicate", "title": "C++: concise way to create const reference to modiable object", "body": "<p>I have a class foo with a method bar().\nI want to be able to use bar() on the object, but also use bar() to create a (modified) copy of the object.\nI declare the methods as:</p>\n\n<pre><code>void bar();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>foo bar() const;\n</code></pre>\n\n<p>The second option works fine with a const foo object, but errors on a non const foo object:\nCannot convert void to foo.</p>\n\n<p>Now I can overcome this by:</p>\n\n<pre><code>foo obj2 = ((const foo&amp;)obj1).bar();\n</code></pre>\n\n<p>I am interested in a more concise cast, since the casting gets irritatingly verbose in (other) cases. A workaround has been to append the name of the const method with a c, as in:</p>\n\n<pre><code>foo barc() const.\n</code></pre>\n\n<p>I would hope for something like <code>(const)obj.bar()</code>, but obviously, that will not do.\nAny ideas?</p>\n\n<p>Edit:</p>\n\n<p>I solved it by a simple macro.</p>\n\n<p><code>#define _const(o) ((const decltype(o))o)</code></p>\n\n<p>using it  as</p>\n\n<pre><code>_const(obj1).bar()\n</code></pre>\n\n<p>The underscore appears to be optional.</p>\n\n<p>Another good/better approach through templates, see\n<a href=\"https://stackoverflow.com/questions/23705213/trying-to-use-stdadd-const-to-turn-t-into-const-t\">answer to this question</a></p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1493231888, "post_id": 43642039, "comment_id": 74332430, "body": "Have you tried running it as an administrator?"}, {"owner": {"reputation": 1291, "user_id": 339789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05f9b75e471ad188fe9f103a3faffdf0?s=128&d=identicon&r=PG", "display_name": "Nightforce2", "link": "https://stackoverflow.com/users/339789/nightforce2"}, "edited": false, "score": 0, "creation_date": 1493236624, "post_id": 43642039, "comment_id": 74335169, "body": "Your code requires elevation rights if you have no permission for that operation. Try elevating your code by impersonation of a user with higher elevated privileges or elevate your program by running as user with just the right privileges or administrator."}, {"owner": {"reputation": 11, "user_id": 7927348, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9u-k4P6C714/AAAAAAAAAAI/AAAAAAAAACk/mL-DoLMoVCs/photo.jpg?sz=128", "display_name": "carlos alvarez", "link": "https://stackoverflow.com/users/7927348/carlos-alvarez"}, "edited": false, "score": 0, "creation_date": 1493294223, "post_id": 43642039, "comment_id": 74361376, "body": "I tried running as an administrator and it doesn&#180;t work, and I don&#180;t know how to elevate my program by running as user with just the right privileges or administrator"}, {"owner": {"reputation": 4845, "user_id": 3601660, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9dfe9498ed911a8b1c7e386e14f98ea9?s=128&d=identicon&r=PG&f=1", "display_name": "c z", "link": "https://stackoverflow.com/users/3601660/c-z"}, "edited": false, "score": 0, "creation_date": 1493306690, "post_id": 43642039, "comment_id": 74370755, "body": "If you&#39;ve tried it as admin I suspect it&#39;s what you are trying to open. Try posting the code that shows us that as well."}], "owner": {"reputation": 11, "user_id": 7927348, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9u-k4P6C714/AAAAAAAAAAI/AAAAAAAAACk/mL-DoLMoVCs/photo.jpg?sz=128", "display_name": "carlos alvarez", "link": "https://stackoverflow.com/users/7927348/carlos-alvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493231825, "creation_date": 1493231707, "last_edit_date": 1493231825, "question_id": 43642039, "link": "https://stackoverflow.com/questions/43642039/qserialportserialporterrorpermissionerror", "title": "QSerialPort::SerialPortError(PermissionError)", "body": "<p>I am trying to open the connection for reading and writing (I am working on Windows) but the program says that I have no permission and I don\u00b4t know how to open it.</p>\n\n<p>Here I post which part of code give me the error</p>\n\n<pre><code>if (!serial.open(QIODevice::ReadWrite)) { \n\n    qDebug(\"SERIAL PORT - NOT OPENED\") ;\n    qDebug()&lt;&lt;\"error code = \"&lt;&lt;serial.error();\n\n    processError(tr(\"No puedo abrir el puerto %1, error code %2\")\n                 .arg(serial.portName()).arg(serial.error()));\n    return;\n}\n</code></pre>\n"}, {"tags": ["c++", "macos", "command-line", "opengl-es"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493231818, "post_id": 43642026, "comment_id": 74332392, "body": "Is <code>OpenGLES&#47;ES2&#47;glext.h</code> in a place the compiler will look for?  Some good reading: <a href=\"http://stackoverflow.com/questions/344317/where-does-gcc-look-for-c-and-c-header-files\" title=\"where does gcc look for c and c header files\">stackoverflow.com/questions/344317/&hellip;</a>"}, {"owner": {"reputation": 2031, "user_id": 1114498, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28c184063aa5fb8ab1303de158fa9bc8?s=128&d=identicon&r=PG", "display_name": "Necktwi", "link": "https://stackoverflow.com/users/1114498/necktwi"}, "edited": false, "score": 0, "creation_date": 1493247029, "post_id": 43642026, "comment_id": 74339972, "body": "Don&#39;t know the path of it. I have edited the question regarding it"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1493255282, "post_id": 43642026, "comment_id": 74342182, "body": "I think you can pass the name of the framework to it also <code>-framework OpenGLES</code>..."}, {"owner": {"reputation": 2031, "user_id": 1114498, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28c184063aa5fb8ab1303de158fa9bc8?s=128&d=identicon&r=PG", "display_name": "Necktwi", "link": "https://stackoverflow.com/users/1114498/necktwi"}, "edited": false, "score": 0, "creation_date": 1493266147, "post_id": 43642026, "comment_id": 74345007, "body": "<code>clang: warning: -framework OpenGLES: &#39;linker&#39; input unused [-Wunused-command-line-argument]</code> <code>In file included from my.cpp:9:</code> <code>.&#47;my.hpp:13:9: fatal error: &#39;OpenGLES&#47;ES2&#47;glext.h&#39; file not found</code> <code>#import &lt;OpenGLES&#47;ES2&#47;glext.h&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2031, "user_id": 1114498, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28c184063aa5fb8ab1303de158fa9bc8?s=128&d=identicon&r=PG", "display_name": "Necktwi", "link": "https://stackoverflow.com/users/1114498/necktwi"}, "edited": false, "score": 0, "creation_date": 1493353761, "post_id": 43666576, "comment_id": 74390239, "body": "thats what I am looking for."}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": true, "score": 1, "last_activity_date": 1493322315, "last_edit_date": 1493322315, "creation_date": 1493321976, "answer_id": 43666576, "question_id": 43642026, "link": "https://stackoverflow.com/questions/43642026/macos-command-line-compile-g-opengl-es-cpp-file/43666576#43666576", "title": "macOS command line compile g++ OpenGL ES .cpp file", "body": "<p>The key to solving would be specifying the <code>OpenGLES</code> location:</p>\n\n<pre><code>g++ -c my.cpp -F/Applications/Xcode.app/Contents/Developer/Platforms/iPhon\u200c\u200beOS.platform/Develop\u200c\u200ber/SDKs/iPhoneOS10.3\u200c\u200b.sdk/System/Library/\u200c\u200bFrameworks -framework OpenGLES\n</code></pre>\n\n<blockquote>\n  <p>The <code>-F</code> flag indicates the library location, and <code>-framework</code>\n  indicates which framework to use.</p>\n</blockquote>\n\n<p>Technically <code>-isysroot</code> could work as well:</p>\n\n<pre><code>g++ -c my.cpp -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhon\u200c\u200beOS.platform/Develop\u200c\u200ber/SDKs/iPhoneOS10.3\u200c\u200b.sdk\n</code></pre>\n"}], "owner": {"reputation": 2031, "user_id": 1114498, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28c184063aa5fb8ab1303de158fa9bc8?s=128&d=identicon&r=PG", "display_name": "Necktwi", "link": "https://stackoverflow.com/users/1114498/necktwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 43666576, "answer_count": 1, "score": 1, "last_activity_date": 1493322315, "creation_date": 1493231659, "last_edit_date": 1592644375, "question_id": 43642026, "link": "https://stackoverflow.com/questions/43642026/macos-command-line-compile-g-opengl-es-cpp-file", "title": "macOS command line compile g++ OpenGL ES .cpp file", "body": "<p><code>my.cpp</code> file has <code>#import &lt;OpenGLES/ES2/glext.h&gt;</code>. I am trying to compile it by <code>g++ -c my.cpp</code> which fails with <code>fatal error: 'OpenGLES/ES2/glext.h' file not found #import &lt;OpenGLES/ES2/glext.h&gt;</code></p>\n<p>I am able to compile it from Xcode with <code>GLKit.framework</code>. How to compile it in macOS from command line?</p>\n<p><strong>--EDIT--</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/2197223/where-are-the-opengl-header-files-located-on-macosx#answer-2197234\">Where are the OpenGL header files located on MacOSX?</a> seems relevant but it is to <code>OpenGL</code>. I am looking for <code>OpenGL ES</code></p>\n<p>The include path shown by Xcode is</p>\n<p><a href=\"https://i.stack.imgur.com/tsPh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsPh0.png\" alt=\"enter image description here\" /></a></p>\n<p>but I couldn't figure out its location in the file system to use with compiler's <code>-I</code> option</p>\n"}, {"tags": ["c++", "qt"], "answers": [{"tags": [], "owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "is_accepted": false, "score": 1, "last_activity_date": 1493282162, "creation_date": 1493282162, "answer_id": 43652703, "question_id": 43641837, "link": "https://stackoverflow.com/questions/43641837/using-external-binary-resource/43652703#43652703", "title": "Using External Binary Resource", "body": "<p>You have to change the way the resources are compiled. By default, every resource file (<code>resources.qrc</code>, for example) included in a Qt project is <em>compiled</em> to C++ code (the <code>qrc_resources.cpp</code> you've probably seen after compiling the project). That makes the resource is compiled and linked with your executable (or library). The Qt for Visual Studio plugin does exactly that: adds a custom build step to every QRC file. Open the properties of the QRC file to take a look (right-click on the QRC file, then <em>Properties</em>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sn64H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sn64H.png\" alt=\"Default compilation of a QRC file\"></a></p>\n\n<ul>\n<li>Command line: <code>\"$(QTDIR)\\bin\\rcc.exe\" -name \"%(Filename)\" -no-compress \"%(FullPath)\" -o .\\GeneratedFiles\\qrc_%(Filename).cpp</code></li>\n<li>Outputs: <code>.\\GeneratedFiles\\qrc_%(Filename).cpp</code></li>\n<li><code>%(Filename)</code> is, as you can figure out, the extension-less name of the file</li>\n</ul>\n\n<p>To avoid this behaviour just remove the QRC file from the project. Of course, the problem is that you'll have to manually build the <code>.rcc</code> file. You can do it using a script as part of your makefile.</p>\n\n<p>On the other hand, if you're using Visual Studio, you can change the command used to compile it, adding the <code>-binary</code> option to the <code>rcc</code> tool so it compiles to an external file. In this way it will be included in your usual compilation workflow:\n<a href=\"https://i.stack.imgur.com/7W0GF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7W0GF.png\" alt=\"Custom compilation of QRC to RCC\"></a></p>\n\n<ul>\n<li>Command line: <code>\"$(QTDIR)\\bin\\rcc.exe\" -name \"%(Filename)\" \"%(FullPath)\" -binary -o \"%(Outputs)\"</code></li>\n<li>Outputs: <code>$(OutDir)\\%(Filename).rcc</code> - it is different from screenshot because I took it from an existing project, use the one in the text to place the RCC file in the same dir of your executable.</li>\n</ul>\n\n<p>Important note: be sure you change the build tool for all the configurations.</p>\n\n<p>If you use a makefile or Qt Creator instead, you can use this as a base to create the needed script.</p>\n\n<p>Hope this can help you.</p>\n"}, {"tags": [], "owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "is_accepted": true, "score": 3, "last_activity_date": 1493283032, "creation_date": 1493283032, "answer_id": 43653004, "question_id": 43641837, "link": "https://stackoverflow.com/questions/43641837/using-external-binary-resource/43653004#43653004", "title": "Using External Binary Resource", "body": "<p>Assuming you are using a <code>.pro</code> file for your project, you need to remove the resource file from the <code>RESOURCES</code> list. If you still want it to be listed in your project, you can use <code>OTHER_FILES</code>.</p>\n\n<p><em>Before:</em></p>\n\n<pre><code>RESOURCES += file1.qrc file2.qrc\n</code></pre>\n\n<p><em>After:</em></p>\n\n<pre><code>RESOURCES += file2.qrc\nOTHER_FILES += file1.qrc\n</code></pre>\n\n<p>If you want to go a step further you can automate the build of qrc files:</p>\n\n<pre><code>RCC_BINARY_SOURCES += file1.qrc\n\nasset_builder.commands = $$[QT_HOST_BINS]/rcc -binary ${QMAKE_FILE_IN} -o ${QMAKE_FILE_OUT} -no-compress\nasset_builder.depend_command = $$[QT_HOST_BINS]/rcc -list $$QMAKE_RESOURCE_FLAGS ${QMAKE_FILE_IN}\nasset_builder.input = RCC_BINARY_SOURCES\nasset_builder.output = $$OUT_PWD/$$DESTDIR/${QMAKE_FILE_IN_BASE}.qrb\nasset_builder.CONFIG += no_link target_predeps\nQMAKE_EXTRA_COMPILERS += asset_builder\n\nOTHER_FILES += $$RCC_BINARY_SOURCES\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 5294057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9kr4d.jpg?s=128&g=1", "display_name": "R&#244;mulo M. Farias", "link": "https://stackoverflow.com/users/5294057/r%c3%b4mulo-m-farias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 0, "accepted_answer_id": 43653004, "answer_count": 2, "score": 1, "last_activity_date": 1493283032, "creation_date": 1493231083, "last_edit_date": 1493231601, "question_id": 43641837, "link": "https://stackoverflow.com/questions/43641837/using-external-binary-resource", "title": "Using External Binary Resource", "body": "<p>I'm on a project that used to have Compiled-in Resources.</p>\n\n<p>Now, the user can choose the theme that he wants to work on. No problems until there, in a little research I started to use the <a href=\"http://doc.qt.io/qt-5/resources.html#external-binary-resources\" rel=\"nofollow noreferrer\">External Binary Resource</a> approach.</p>\n\n<p>My resources were build successfully and the <code>QResource::registerResource(\"/path/to/myresource.rcc\");</code> returns true.</p>\n\n<p>It is not working properly though. Apparently the compiled-in resource is still there, in the executable. I can't see the different icons stored in my external binary resource.</p>\n\n<p>How do I remove this compiled-in resource? Do I need to do that to work properly?</p>\n"}, {"tags": ["c++", "strtok", "c-strings"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1493230658, "post_id": 43641642, "comment_id": 74331683, "body": "If you are using C++ why not use a <code>std::sting</code> and <code>std::stringstream</code>?  For example: <a href=\"http://stackoverflow.com/questions/236129/split-a-string-in-c\">stackoverflow.com/questions/236129/split-a-string-in-c</a>"}, {"owner": {"reputation": 1341, "user_id": 4524618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8e1ca7e81266dc3e8f724a4864b3d90e?s=128&d=identicon&r=PG", "display_name": "Sniper", "link": "https://stackoverflow.com/users/4524618/sniper"}, "edited": false, "score": 0, "creation_date": 1493230802, "post_id": 43641642, "comment_id": 74331787, "body": "Can you give an example of what you are asking"}, {"owner": {"reputation": 11, "user_id": 7916514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51abbc0d69d2fea76674bf393b73e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "ajn678", "link": "https://stackoverflow.com/users/7916514/ajn678"}, "edited": false, "score": 0, "creation_date": 1493231001, "post_id": 43641642, "comment_id": 74331916, "body": "I am required to use a C-String. I found out how to make it work though."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493239418, "post_id": 43641642, "comment_id": 74336680, "body": "@ajn678: Who or what requires you to use a &quot;C string&quot;? Why do you use C++ at all?"}], "answers": [{"tags": [], "owner": {"reputation": 12291, "user_id": 592144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57adb29f0cd0f1cdd663d84a09c31652?s=128&d=identicon&r=PG", "display_name": "CSmith", "link": "https://stackoverflow.com/users/592144/csmith"}, "is_accepted": false, "score": 0, "last_activity_date": 1493232145, "last_edit_date": 1493232145, "creation_date": 1493231752, "answer_id": 43642057, "question_id": 43641642, "link": "https://stackoverflow.com/questions/43641642/splitting-a-c-string-with-strtok/43642057#43642057", "title": "Splitting a C-String with strtok", "body": "<p>For the sake of simplicity, you're asking how to determine the Nth element in your tokenizer as a double.  Here is a suggestion:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nint main() {\n\n    char str[] = \"4.5 3.6 9.12 5.99\";\n    double coeffValue;\n\n    coeffValue = getToken(str, 2);   // get 3rd value (0-based math)\n    cout &lt;&lt; coeffValue &lt;&lt; endl;\n    return 0;\n}\n\ndouble getToken(char *values, int n)\n{\n    char *pch;\n\n    // count iterations/tokens with int i\n    for (int i = 0, pch = strtok(values, \" \"); pch != NULL; i++, pch = strtok(NULL, \" \"))\n    {\n        if (i == n)     // is this the Nth value?\n            return (stod(pch));\n    }\n\n    // error handling needs to be tightened up here.  What if an invalid\n    // index is passed?  Or if the string of values contains garbage?  Is 0\n    // a valid value?  Perhaps using nan(\"\") or a negative number is better?\n    return (0);         // &lt;--- error?\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7916514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51abbc0d69d2fea76674bf393b73e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "ajn678", "link": "https://stackoverflow.com/users/7916514/ajn678"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493232145, "creation_date": 1493230410, "question_id": 43641642, "link": "https://stackoverflow.com/questions/43641642/splitting-a-c-string-with-strtok", "title": "Splitting a C-String with strtok", "body": "<p>I am looking for a way to pull a value from a C-String with strtok in a specific way. I have a C-String which I need to take out a number and then convert it to a double. I am able to convert to double easily enough, however I need it to only pull one value based on what \"degree\" is requested. Basically a degree of 0 will pull the first value out of the string. The code I currently has goes through the entire C-string due to the loop I am using. Is there a way to only target one specific value and have it pull that double value out?</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;cstring&gt;\n    using namespace std;\n\n    int main() {\n\n        char str[] = \"4.5 3.6 9.12 5.99\";\n        char * pch;\n        double coeffValue;\n\n        for (pch = strtok(str, \" \"); pch != NULL; pch = strtok(NULL, \" \"))\n        {\n            coeffValue = stod(pch);\n            cout &lt;&lt; coeffValue &lt;&lt; endl;\n        }\n        return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "list"], "comments": [{"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493242567, "post_id": 43641530, "comment_id": 74338275, "body": "Do you realise that you could just use <code>std::vector&lt;Point&gt;</code> or <code>std::array&lt;Point, maxListSize&gt;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "edited": false, "score": 1, "creation_date": 1493232212, "post_id": 43641606, "comment_id": 74332624, "body": "You should consider using points[size++] = std::move(newPoint); And don&#39;t forget about checking that you&#39;re not about to exceed maxListSize."}, {"owner": {"reputation": 9, "user_id": 7339560, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3688eec4cd6711661f4a97566da74a15?s=128&d=identicon&r=PG&f=1", "display_name": "Nikitax", "link": "https://stackoverflow.com/users/7339560/nikitax"}, "reply_to_user": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "edited": false, "score": 0, "creation_date": 1493233140, "post_id": 43641606, "comment_id": 74333159, "body": "@jonesmz do you mean that I shoud go to the beginning  and end of the list?Would it be like a cursor?"}, {"owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "reply_to_user": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "edited": false, "score": 0, "creation_date": 1493234483, "post_id": 43641606, "comment_id": 74333957, "body": "@jonesmz: In this particular example, moving doesn&#39;t really help. Taking the argument by const&amp; would. I&#39;m against checking for overflow, it isn&#39;t the C++ way (efficiency), e.g: see <code>std::vector::operator[]</code>. Instead, this class should provide a <code>capacity()</code> member, so the user can check it before append if unsure."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "edited": false, "score": 0, "creation_date": 1493242510, "post_id": 43641606, "comment_id": 74338253, "body": "@jonesmz: Why would the move constructor or the move assignment operator of <code>Point</code> do anything other than copying the two <code>float</code>s?"}, {"owner": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "reply_to_user": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1493244554, "post_id": 43641606, "comment_id": 74339101, "body": "@ChristianHackl It wouldn&#39;t do anything other than copying the two floats. The OP is trying to learn more about the language. It&#39;s good practice to get into to use std::move when moving, even if the underlying object wouldn&#39;t benefit, the underlying object will almost certainly have it&#39;s implementation changed at some point in the future."}, {"owner": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "reply_to_user": {"reputation": 9, "user_id": 7339560, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3688eec4cd6711661f4a97566da74a15?s=128&d=identicon&r=PG&f=1", "display_name": "Nikitax", "link": "https://stackoverflow.com/users/7339560/nikitax"}, "edited": false, "score": 0, "creation_date": 1493244633, "post_id": 43641606, "comment_id": 74339139, "body": "@Nikitax I&#39;m not certain what you&#39;re asking. I just meant that if you write past the end of the capacity of the array you&#39;ll end up with undefined behavior. Erenon&#39;s comment is an alternative way to avoid going past the end of the array."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "reply_to_user": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "edited": false, "score": 0, "creation_date": 1493267598, "post_id": 43641606, "comment_id": 74345377, "body": "@jonesmz: I think that&#39;s just premature optimisation. The OP should just follow best practices and pass by const reference, adding an rvalue reference overload only if the function is a bottleneck and moving helps, and never pass a <code>Point</code> by value."}], "tags": [], "owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "is_accepted": true, "score": 2, "last_activity_date": 1493230291, "creation_date": 1493230291, "answer_id": 43641606, "question_id": 43641530, "link": "https://stackoverflow.com/questions/43641530/append-and-clear-for-a-list-c/43641606#43641606", "title": "Append and clear for a list c++", "body": "<p>Since you store your list elements by value (<code>Point points[maxListSize]</code>),\nit is quite easy to do:</p>\n\n<pre><code>PointList() :size(0) {}\nvoid append(Point newPoint) { points[size++] = newPoint; }\nvoid clear() { size = 0; }\n</code></pre>\n\n<p>This assumes that your <code>Point</code> object doesn't manage any resource, which is true for this particular example. Otherwise, inserted Point objects should be destroyed in clear.</p>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 3307840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f084d50a0c900aceb5154d255cd2abe6?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmz", "link": "https://stackoverflow.com/users/3307840/jonesmz"}, "is_accepted": false, "score": 1, "last_activity_date": 1493232196, "creation_date": 1493232196, "answer_id": 43642189, "question_id": 43641530, "link": "https://stackoverflow.com/questions/43641530/append-and-clear-for-a-list-c/43642189#43642189", "title": "Append and clear for a list c++", "body": "<p>To get the semantics that you're probably expecting for appending new items, and clearing out existing items, I suggest you look at the placement new operator, and manually calling the destructor of an item in the list. </p>\n\n<p>Currently your class will construct all of the items in the list when you create the list. This can be quite time consuming for complex structures. Then, instead of the constructor for your elements being called, you'll instead be calling the copy-assignment operator, as the items are already constructed.</p>\n\n<p>If you store your array as </p>\n\n<pre><code>char * points[sizeof(Point)*maxListSize];\n</code></pre>\n\n<p>Any only initialize the items when they're actually added, you avoid the construction cost when you create the list.</p>\n\n<p>Your append function takes it's argument by value. Instead, I recommend you have two append functions. One that takes const&amp;, and the other that takes an rvalue-reference. Then, inside the append function, call the placement new operator on the address of the next location in your array.</p>\n\n<p>To clear the array, simple call the destructor for each element in the array one at a time.</p>\n"}], "owner": {"reputation": 9, "user_id": 7339560, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3688eec4cd6711661f4a97566da74a15?s=128&d=identicon&r=PG&f=1", "display_name": "Nikitax", "link": "https://stackoverflow.com/users/7339560/nikitax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 43641606, "answer_count": 2, "score": -1, "last_activity_date": 1493232196, "creation_date": 1493230043, "question_id": 43641530, "link": "https://stackoverflow.com/questions/43641530/append-and-clear-for-a-list-c", "title": "Append and clear for a list c++", "body": "<p>I'm trying to realize two methds <code>append()</code> and <code>clear()</code>. </p>\n\n<p>In <code>appened()</code>, I need to <code>newPoint</code> to the end of a list. If the list is empty, then adds newPoint as the first(and only) point in the list.</p>\n\n<p>In <code>clear()</code>,I need to remove all the points in a list.</p>\n\n<p>Can you give me some advice to realize <code>appened and clear</code>.\nHere is a code:</p>\n\n<pre><code>//\n#pragma once\nconst int maxListSize = 10;\n\nclass Point\n{\nprivate:\n    float x;\n    float y;\npublic:\n    Point(float x0 = 0, float y0 = 0)\n    {\n        x = x0;\n        y = y0;\n    }\n};\n\n\nclass PointList\n{\nprivate:\n    //Data members\n    int size;\n    int cursor;\n    Point points[maxListSize];\npublic:\n    PointList();\n    //List Manipalution operations \n    void append(Point newPoint);\n    void clear();\n\n    ~PointList();\n};\n</code></pre>\n\n<p>*I don't need you to write everything for me, just give me some advice. I would like to realize it by myself. Thank you for helping.</p>\n"}, {"tags": ["c++", "linux", "64-bit", "32bit-64bit", "strftime"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1493229880, "post_id": 43641422, "comment_id": 74331188, "body": "Are you sure a 30 character buffer is big enough?  What is the return value from <code>strftime</code>?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1493230374, "post_id": 43641422, "comment_id": 74331477, "body": "Another thing: <code>size_t</code> does not have to be <code>unsigned long</code>, it can be <code>unsigned long long</code> or any other type that satisfy the requirement of being able to represent any objects size."}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1493230487, "post_id": 43641422, "comment_id": 74331552, "body": "I don&#39;t really get your sentence about <code>%d</code> and size_t size because in this format string <code>%d</code> stands for day of the month (this is not <code>printf</code>). The first suspicious thing here is use non-reentrant version of <code>localtime</code>. If this is multithreaded application the value of <code>*tmp</code> may change randomly."}, {"owner": {"reputation": 6643, "user_id": 2032021, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c1c31bca855c458b3f218ef6a303184d?s=128&d=identicon&r=PG", "display_name": "Dr. Debasish Jana", "link": "https://stackoverflow.com/users/2032021/dr-debasish-jana"}, "edited": false, "score": 0, "creation_date": 1493230633, "post_id": 43641422, "comment_id": 74331663, "body": "This call ensures mutual exclusion, and regarding size_t, I just mentioned %d to bring analogy with printf treating for formatting, I was guessing strftime must be using some similar mechanism"}, {"owner": {"reputation": 6643, "user_id": 2032021, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c1c31bca855c458b3f218ef6a303184d?s=128&d=identicon&r=PG", "display_name": "Dr. Debasish Jana", "link": "https://stackoverflow.com/users/2032021/dr-debasish-jana"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493231879, "post_id": 43641422, "comment_id": 74332422, "body": "@NathanOliver from documentation <a href=\"http://man7.org/linux/man-pages/man3/strftime.3.html\" rel=\"nofollow noreferrer\">man7.org/linux/man-pages/man3/strftime.3.html</a>, I think 30 is not too small, do you see any more suspect causing the memory corruption other than strftime? Commenting out strftime takes the corruption away"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493231924, "post_id": 43641422, "comment_id": 74332452, "body": "@Dr.DebasishJana What does <code>strftime</code> return when you call it?"}, {"owner": {"reputation": 6643, "user_id": 2032021, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c1c31bca855c458b3f218ef6a303184d?s=128&d=identicon&r=PG", "display_name": "Dr. Debasish Jana", "link": "https://stackoverflow.com/users/2032021/dr-debasish-jana"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493280484, "post_id": 43641422, "comment_id": 74351600, "body": "@NathanOliver it&#39;s 19, and commenting the strftime statement does not produce anymemory corruption, strange!"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1493312170, "post_id": 43641422, "comment_id": 74374516, "body": "I have no evidence to confirm this, but it sounds like a bug in the <code>strftime</code> where the timestamp fails to get null-terminated.  If this theory is correct, you can work around it by zeroing <code>s</code> prior to the call to <code>strftime</code>:  <code>char s[30] = {0};</code>."}, {"owner": {"reputation": 111, "user_id": 6145544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df3ab02c3b1dddc40cf49c919ad2130?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Sivertsen", "link": "https://stackoverflow.com/users/6145544/julian-sivertsen"}, "edited": false, "score": 0, "creation_date": 1493325394, "post_id": 43641422, "comment_id": 74381850, "body": "<code>X *&amp; p</code> looks iffy to me.  What pointer is it a reference to?"}], "owner": {"reputation": 6643, "user_id": 2032021, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c1c31bca855c458b3f218ef6a303184d?s=128&d=identicon&r=PG", "display_name": "Dr. Debasish Jana", "link": "https://stackoverflow.com/users/2032021/dr-debasish-jana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493231771, "creation_date": 1493229689, "last_edit_date": 1493231771, "question_id": 43641422, "link": "https://stackoverflow.com/questions/43641422/memory-corruption-with-suspected-strftime-on-64-bit-linux-system", "title": "Memory corruption with suspected strftime on 64-bit Linux system", "body": "<p>I have C++ codebase that gets built on Solaris 10 using <code>g++</code> toolchain v4.9.2. This codebase is being ported to Linux 64-bit. I am facing a strange runtime core dump caused by <code>SIGSEGV</code> while doing apparently innocent call <code>strftime</code>. The API <code>strftime</code> has the following signature:</p>\n\n<pre><code>size_t strftime(char *s, size_t max, const char *format,\n                       const struct tm *tm);\n</code></pre>\n\n<p>As we all know <code>size_t</code> is <code>64-bit (unsigned long)</code> on a 64-bit executable whereas it was 32-bit on a 32-bit system.\nI have some function as below:</p>\n\n<pre><code>void somefunc(X *&amp; p)\n{\n  p = new X[20000];\n  // p gets allocated and have a decent pointer value\n  char s[30];\n  time_t t = time(NULL);\n  struct tm *tmp = localtime(&amp;t);\n  strftime(s, 30, \"%Y %m %d %T\", tmp); // apparently innocent call\n  // after this, p gets garbled and access to p cause crash  \n}\n</code></pre>\n\n<p>Same code on 32-bit Solaris system runs perfectly ok, but causing runtime memory corruption on Linux-64-bit.\nJust a suspect, could size of size_t being 8-byte vs 4-byte could be an issue? For example, just to drawn an analogy, while doing simple <code>printf</code>, 32-bit <code>size_t</code> would require <code>%d</code> as format specifier whereas 64-bit <code>size_t</code> would require <code>%ld</code> as format specifier. Could similar kind of reason exist for strftime formatting as well?\nAnother clue, if I comment out strftime statement, the code runs ok on 64-bit.\nSounds peculiar and surprising. Thoughts, please.</p>\n"}, {"tags": ["c++", "qt", "qt-quick", "qpainterpath", "qpolygon"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493229906, "post_id": 43641421, "comment_id": 74331205, "body": "what do you mean with &quot;this function doesn&#39;t seem to work properly&quot;? often thinking the problem is somewhere else but not in your code just makes it harder to solve it. Rather unlikely that it is broken and noone noticed before, no? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 9, "user_id": 6473018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c667b722147c37077adb308e5f81523?s=128&d=identicon&r=PG&f=1", "display_name": "P.Perez", "link": "https://stackoverflow.com/users/6473018/p-perez"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493230310, "post_id": 43641421, "comment_id": 74331440, "body": "That is not the problem, i have tried to subpathpolygons but I think this is not the way to solve the problem"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1493230572, "post_id": 43641421, "comment_id": 74331617, "body": "Your question is not clear, you could ask something concrete."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1493230605, "post_id": 43641421, "comment_id": 74331645, "body": "What is a simple polygon?"}, {"owner": {"reputation": 9, "user_id": 6473018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c667b722147c37077adb308e5f81523?s=128&d=identicon&r=PG&f=1", "display_name": "P.Perez", "link": "https://stackoverflow.com/users/6473018/p-perez"}, "edited": false, "score": 0, "creation_date": 1493231016, "post_id": 43641421, "comment_id": 74331924, "body": "<a href=\"https://www.google.es/url?sa=i&amp;rct=j&amp;q=&amp;esrc=s&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjHzq3d3sLTAhUFORoKHe1vCxAQjRwIBw&amp;url=http%3A%2F%2Fwww.personal.kent.edu%2F~rmuhamma%2FCompgeometry%2FMyCG%2FDefinitions%2Fdefinition.htm&amp;psig=AFQjCNEXpCkeHPq2a0FPpGoq5Fp2iHZ_rQ&amp;ust=1493317332606474\" rel=\"nofollow noreferrer\">google.es/&hellip;</a>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493231095, "post_id": 43641421, "comment_id": 74331983, "body": "if thats not the problem, then what is the problem? simply follow the definition and check if any of the lines intersect"}, {"owner": {"reputation": 9, "user_id": 6473018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c667b722147c37077adb308e5f81523?s=128&d=identicon&r=PG&f=1", "display_name": "P.Perez", "link": "https://stackoverflow.com/users/6473018/p-perez"}, "edited": false, "score": 0, "creation_date": 1493231158, "post_id": 43641421, "comment_id": 74332010, "body": "How can I know if any of them intersect?"}, {"owner": {"reputation": 3946, "user_id": 4444768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vVqiI.jpg?s=128&g=1", "display_name": "LmTinyToon", "link": "https://stackoverflow.com/users/4444768/lmtinytoon"}, "edited": false, "score": 0, "creation_date": 1493231457, "post_id": 43641421, "comment_id": 74332188, "body": "@P.Perez, I can suggest linear algorithm, which can check whether polygon (with one countour) is simple. Is this sufficient for you?"}, {"owner": {"reputation": 9, "user_id": 6473018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c667b722147c37077adb308e5f81523?s=128&d=identicon&r=PG&f=1", "display_name": "P.Perez", "link": "https://stackoverflow.com/users/6473018/p-perez"}, "edited": false, "score": 0, "creation_date": 1493231565, "post_id": 43641421, "comment_id": 74332247, "body": "I think that would be perfect"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1493231689, "post_id": 43641421, "comment_id": 74332323, "body": "read this: <a href=\"http://stackoverflow.com/questions/4001745/testing-whether-a-polygon-is-simple-or-complex\" title=\"testing whether a polygon is simple or complex\">stackoverflow.com/questions/4001745/&hellip;</a>"}], "owner": {"reputation": 9, "user_id": 6473018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c667b722147c37077adb308e5f81523?s=128&d=identicon&r=PG&f=1", "display_name": "P.Perez", "link": "https://stackoverflow.com/users/6473018/p-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "closed_date": 1493231910, "answer_count": 0, "score": 0, "last_activity_date": 1493230889, "creation_date": 1493229683, "last_edit_date": 1493230889, "question_id": 43641421, "link": "https://stackoverflow.com/questions/43641421/how-can-i-get-if-a-qpolygon-is-simple", "closed_reason": "Duplicate", "title": "how can I get if a QPolygon is simple?", "body": "<p>I am coding a tool that enables to draw polygons.\nI want them to be simple polygons and forbid drawing complex polygons.</p>\n\n<p>I have tried ToSubpathPolygons()</p>\n\n<p>I have the list of QPoints that form the polygon.</p>\n\n<p>I am coding in c++ + Qt. I think I could try with segment intersections and if there is an intersection it is not simple.</p>\n\n<p>I thought qpainterpath tosubpathPolygons should give me more than one if it is a complex polygon.\nThe problem should be something like this:</p>\n\n<pre><code>if(q.toSubpathPolygons().length()==1)\n{\n//whatever\n}\nelse{\n    cout&lt;&lt;\"not a polygon\"&lt;&lt;endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "static-linking", "linker-errors"], "comments": [{"owner": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "edited": false, "score": 0, "creation_date": 1493229764, "post_id": 43641346, "comment_id": 74331117, "body": "Where are the library files located?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7927120"}, "reply_to_user": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "edited": false, "score": 0, "creation_date": 1493229910, "post_id": 43641346, "comment_id": 74331206, "body": "Standard location of Ubuntu, I installed them via apt"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7927120"}, "edited": false, "score": 0, "creation_date": 1493230877, "post_id": 43641535, "comment_id": 74331832, "body": "Thank you, but that doesnt work for me, also, wouldn`t it be OS dependent then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7927120"}, "edited": false, "score": 0, "creation_date": 1493231209, "post_id": 43641535, "comment_id": 74332054, "body": "When I link with -L /usr/lib/libGL.so -L /usr/lib/x86_64-linux-gnu/libGLEW.so, the shared objects are found, but I keep getting errors about g++ not finding the library functions"}, {"owner": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "edited": false, "score": 0, "creation_date": 1493231297, "post_id": 43641535, "comment_id": 74332102, "body": "You&#39;re statically linking it though so it won&#39;t use <code>.so</code>. It will use <code>.a</code> libraries. You need to show the exact error if you want people to help you debug things."}, {"owner": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "edited": false, "score": 0, "creation_date": 1493231495, "post_id": 43641535, "comment_id": 74332209, "body": "And you put directories after <code>-L</code>, not the file"}, {"owner": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "edited": false, "score": 0, "creation_date": 1493231539, "post_id": 43641535, "comment_id": 74332234, "body": "you probably need to install the &#39;-dev&#39; version of those packages to get the static libs"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7927120"}, "edited": false, "score": 0, "creation_date": 1493231662, "post_id": 43641535, "comment_id": 74332304, "body": "Ok, sorry, it finaly worked. That -static wasn`t supposed to be there, I guess -_- Anyway, thanks for answering!"}], "tags": [], "owner": {"reputation": 930, "user_id": 7800665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cidmm.jpg?s=128&g=1", "display_name": "MrJLP", "link": "https://stackoverflow.com/users/7800665/mrjlp"}, "is_accepted": true, "score": 0, "last_activity_date": 1493230066, "creation_date": 1493230066, "answer_id": 43641535, "question_id": 43641346, "link": "https://stackoverflow.com/questions/43641346/g-fails-to-link-libraries-while-creating-a-shared-object/43641535#43641535", "title": "g++ fails to link libraries while creating a shared object", "body": "<p>You need to know the exact paths of the library files to be linked with.\nThe directories that contain them should be added to your link line with <code>-L</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7927120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 43641535, "answer_count": 1, "score": 0, "last_activity_date": 1493230066, "creation_date": 1493229406, "question_id": 43641346, "link": "https://stackoverflow.com/questions/43641346/g-fails-to-link-libraries-while-creating-a-shared-object", "title": "g++ fails to link libraries while creating a shared object", "body": "<p>I am trying to create a static library for my engine.\nThe command (in a makefile) is:</p>\n\n<pre><code>g++ -c -fPIC window.cc -lGL -lGLEW -lSDL2 -std=c++14 -I../include/ &amp;&amp; g++ -static window.o -lSDL2 -lGL -lGLEW -o ../distribute/so/window.so\n</code></pre>\n\n<p>So, the first command compiles successful, but the other one outputs this:</p>\n\n<pre><code>/usr/bin/ld: cannot find -lGL\n/usr/bin/ld: cannot find -lGLEW\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>But I definitely need those arguments. Can we fix it?</p>\n"}, {"tags": ["c++", "windows", "process", "virtualbox"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2015064"}, "edited": false, "score": 0, "creation_date": 1493229939, "post_id": 43641345, "comment_id": 74331226, "body": "If you cannot help, please help other questions instead of downvoting my post."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1493234750, "post_id": 43641345, "comment_id": 74334109, "body": "&quot;Attempt to access invalid address&quot; - are this not say for self ?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1493242877, "post_id": 43641345, "comment_id": 74338395, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can be sure it isn&#39;t just a bug in your code.  It would also be useful if anyone wants to attempt to reproduce the problem."}], "owner": {"user_type": "does_not_exist", "display_name": "user2015064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1493229870, "creation_date": 1493229404, "last_edit_date": 1493229870, "question_id": 43641345, "link": "https://stackoverflow.com/questions/43641345/can-read-process-memory-but-fail-to-write-the-same-memory-contents", "title": "Can read process memory, but fail to write the same memory contents", "body": "<p>I am enumerating all memory blocks with MEM_COMMIT in a process, and try to write the same contents right after I read the memory block. So most of memory blocks have a Protect of 4, which is PAGE_READWRITE. I noticed that there are so many memory blocks that can be read but <strong>can't be written</strong>. Typical output looks like this : </p>\n\n<pre><code>  Reading : 0x012C0000 - Size : 10000 - Protect : 4\nThe same contents written successfully!!!\n  Reading : 0x012D0000 - Size : 10000 - Protect : 4\nThe same contents written successfully!!!\n  Reading : 0x012E0000 - Size : 10000 - Protect : 4\nThe same contents written successfully!!!\n  Reading : 0x012F0000 - Size : 2000 - Protect : 4\nThe same contents written successfully!!!\n</code></pre>\n\n<p>However, most of other memory blocks can be read but cannot be written.</p>\n\n<pre><code>  Reading : 0x31340000 - Size : 200000 - Protect : 4\nFailed to write the same memory contents.\n  Reading : 0x31540000 - Size : 200000 - Protect : 4\nFailed to write the same memory contents.\n  Reading : 0x31740000 - Size : 200000 - Protect : 4\nFailed to write the same memory contents.\n  Reading : 0x31940000 - Size : 200000 - Protect : 4\nFailed to write the same memory contents.\n</code></pre>\n\n<p>Any reason for this? Right now I cannot alter the memory I want to modify. I am using Windows XP 32 bit and I have my process privilege enabled and used this flag to open process : </p>\n\n<pre><code>PROCESS_QUERY_INFORMATION | PROCESS_VM_READ | PROCESS_VM_WRITE | PROCESS_VM_OPERATION\n</code></pre>\n\n<p>The target process is a VirtualBox process that I use for testing.</p>\n\n<p><strong>Edit:</strong> I used GetLastError() and the error returned is <strong>\"Attempt to access invalid address\"</strong>.</p>\n"}, {"tags": ["c++", "search", "parallel-processing", "openmp", "pragma"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493229236, "post_id": 43641214, "comment_id": 74330803, "body": "you have quite some integer divisions in there. Did you make sure all the results are ok? e.g. what is the value of <code>left = (quarter &#47; 3) + start;</code>?"}, {"owner": {"reputation": 63, "user_id": 7515891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56be8346e8b5d38c032380a0da2c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "prog", "link": "https://stackoverflow.com/users/7515891/prog"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493230191, "post_id": 43641214, "comment_id": 74331360, "body": "For the 4 different threads (0,1,2,3) the different values for left are 16, 66, 116, 166. which are correct technically I guess  after I calculated them manually by hand to double check @tobi303"}], "answers": [{"tags": [], "owner": {"reputation": 1807, "user_id": 1900441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3540494c1cb556bf1f517992b172fe?s=128&d=identicon&r=PG", "display_name": "Jim Cownie", "link": "https://stackoverflow.com/users/1900441/jim-cownie"}, "is_accepted": false, "score": 0, "last_activity_date": 1493281821, "creation_date": 1493281821, "answer_id": 43652579, "question_id": 43641214, "link": "https://stackoverflow.com/questions/43641214/why-wont-the-threads-in-the-omp-parallel-section-be-divided-on-their-sections/43652579#43652579", "title": "Why won&#39;t the threads in the omp parallel section be divided on their sections?", "body": "<p>Read further in the OpenMP standard and use tasks for this. They suit recursive problems much better than using nested parallelism.</p>\n"}], "owner": {"reputation": 63, "user_id": 7515891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56be8346e8b5d38c032380a0da2c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "prog", "link": "https://stackoverflow.com/users/7515891/prog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493281821, "creation_date": 1493228919, "last_edit_date": 1493238069, "question_id": 43641214, "link": "https://stackoverflow.com/questions/43641214/why-wont-the-threads-in-the-omp-parallel-section-be-divided-on-their-sections", "title": "Why won&#39;t the threads in the omp parallel section be divided on their sections?", "body": "<p>I am trying to implement the ternary search algorithm using the pragma omp parallel from the OpenMP library. I am using recursion and here is what I have reached so far in my code implementation.</p>\n\n<p>This is the search function:</p>\n\n<pre><code>int ternarySearch(int arr[], int size, int left, int right, int num)\n{\n    if (left &lt; 0 || right &gt; size - 1 || left &gt; right){\n        return -1;\n    }\n    else if (num == arr[left]){\n        return left-1;\n    }\n    else if (num == arr[right]){\n        return right-1;\n    }\n    else if (num &lt; arr[left]){\n        return ternarySearch(arr, size, left - 1, right, num);\n    }\n    else if (num &gt; arr[left] &amp;&amp; num &lt; arr[right]){\n        return ternarySearch(arr, size, left + 1, right - 1, num);\n    }\n    else if (num &gt; arr[right]){\n        return ternarySearch(arr, size, left, right + 1, num);\n    }\n}\n</code></pre>\n\n<p>And here is the part in the main function calling the ternarySearch function:</p>\n\n<pre><code>omp_set_num_threads(4);\n    int quarter = size / 4;\n\n    /*Using Recursion*/\n    cout &lt;&lt; endl &lt;&lt; \"Parallel Using Recursion: \" &lt;&lt; endl &lt;&lt; endl;\n    bool isFound = false;\n    double paraRecStartTime = omp_get_wtime();\n    #pragma omp parallel shared(isFound)\n    {\n        int id, start, end, left, right, result;\n\n        id = omp_get_thread_num();\n        start = id*quarter;\n        end = start + quarter;\n        left = (quarter / 3) + start;\n        right = end - (quarter / 3);\n        cout &lt;&lt; id &lt;&lt; endl;\n        result = ternarySearch(arr, end, left, right, num);\n        if(result != -1) {\n            cout &lt;&lt; \"Found by thread \" &lt;&lt; id &lt;&lt; \" in index \" &lt;&lt; result &lt;&lt; endl;\n            isFound = true;\n        }\n    }\n\n\n    double paraRecRunTime = omp_get_wtime() - paraRecStartTime;\n    cout &lt;&lt; \"Ternary Search took  \" &lt;&lt; paraRecRunTime &lt;&lt; \" sec using 4 threads.\" &lt;&lt; endl &lt;&lt; endl;\n\n    if (isFound == false) {\n        cout &lt;&lt; \"Number does not exist in the array.\" &lt;&lt; endl &lt;&lt; endl;\n    }\n</code></pre>\n\n<p>The problem is that in the output, all the threads find the element, while each thread is supposed to be given only a section of the array to search within using the ternary searching algorithm. Can someone help me know where did I go wrong?</p>\n"}, {"tags": ["c++", "file"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 7, "creation_date": 1493228958, "post_id": 43641210, "comment_id": 74330675, "body": "Please <b><a href=\"https://stackoverflow.com/posts/43641210/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493230804, "post_id": 43641210, "comment_id": 74331789, "body": "That code only gets the first name on each line. There must be something crucial missing."}, {"owner": {"reputation": 313, "user_id": 6066031, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e031e69d7be579f9a4a5c0f72e4cce?s=128&d=identicon&r=PG&f=1", "display_name": "P_Ferreira", "link": "https://stackoverflow.com/users/6066031/p-ferreira"}, "edited": false, "score": 0, "creation_date": 1493232467, "post_id": 43641210, "comment_id": 74332754, "body": "I forgot the loop in which it gets every name."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 6066031, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e031e69d7be579f9a4a5c0f72e4cce?s=128&d=identicon&r=PG&f=1", "display_name": "P_Ferreira", "link": "https://stackoverflow.com/users/6066031/p-ferreira"}, "edited": false, "score": 0, "creation_date": 1493315472, "post_id": 43645580, "comment_id": 74376438, "body": "I found out what the problem was and i am using OpenGl with VBO&#39;s and the problem was with that vbo, but i want to thank you because of the tips you gave."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1493246452, "last_edit_date": 1493246452, "creation_date": 1493245885, "answer_id": 43645580, "question_id": 43641210, "link": "https://stackoverflow.com/questions/43641210/ifstream-segmentation-fault/43645580#43645580", "title": "Ifstream segmentation fault", "body": "<p>The only way I can see the code shown to segfault is if <code>file</code> is not pointing at a valid null-terminated C-style string.</p>\n\n<p>That could happen if:</p>\n\n<ul>\n<li><p>your STL's implementation of <code>std::string</code> does not use a sequential memory block to hold the individual characters.</p></li>\n<li><p>your STL's implementation of <code>std::string</code> does use a sequential memory block, but does not null-terminate that memory block.</p></li>\n</ul>\n\n<p>Either way would cause <code>&amp;espacos[0u]</code> to produce a pointer that is not a valid null-terminated C-style string.  Most STL implementations do use a sequential null-terminated memory block (as it simplifies the implementation), but that is not guaranteed until C++11, which enforces such an implementation.</p>\n\n<p>In any case, you shouldn't be using <code>&amp;espacos[0u]</code> to begin with. You should be using <code>espacos.c_str()</code> instead, which is guaranteed in all C++ versions to return a pointer to a null-terminated C-style string:</p>\n\n<pre><code>const char* file = espacos.c_str();\n</code></pre>\n\n<p>That being said, <code>operator&gt;&gt;</code> splits a stream on spaces and line breaks by default, so you can greatly simplify the code to this:</p>\n\n<pre><code>std::istringstream iss(actions);\nstd::string espacos;\n\nwhile (iss &gt;&gt; espacos) {\n    cout &lt;&lt; espacos &lt;&lt; '\\n';\n    ifstream ficheiro(espacos.c_str());\n    // or, in C++11 and later:\n    // ifstream ficheiro(espacos);\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 6066031, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e031e69d7be579f9a4a5c0f72e4cce?s=128&d=identicon&r=PG&f=1", "display_name": "P_Ferreira", "link": "https://stackoverflow.com/users/6066031/p-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1207, "favorite_count": 0, "accepted_answer_id": 43645580, "answer_count": 1, "score": -1, "last_activity_date": 1493246452, "creation_date": 1493228908, "last_edit_date": 1493246003, "question_id": 43641210, "link": "https://stackoverflow.com/questions/43641210/ifstream-segmentation-fault", "title": "Ifstream segmentation fault", "body": "<p>I have a string named <code>actions</code> with multiple file names, spaces, and line breaks between those file names, like this:</p>\n\n<pre><code>File1 File2 File3 File4\nFile5 File6 File7 File8\n</code></pre>\n\n<p>I want to open the files one by one, so I am splitting the string by spaces to get the file names individually.</p>\n\n<pre><code>std::stringstream ss(actions);\nstd::string newline;\n\nwhile(std::getline(ss, newline, '\\n')){\n    std::stringstream s1(newline);\n    std::string espacos;\n    std::getline(s1,espacos,' ');\n    char* file = &amp;espacos[0u];\n    cout &lt;&lt; file &lt;&lt; '\\n';\n    ifstream ficheiro;\n    ficheiro.open(file);\n    ....\n}\n</code></pre>\n\n<p>This is where I am splitting.</p>\n\n<p>The string <code>espacos</code> is the one which will iterate through the newline by getting the file names one by one.</p>\n\n<p>I am converting from <code>string</code> to <code>char*</code> but in the end I get a segmentation fault.</p>\n\n<p>I used a debugger and it said that this line was causing the segmentation fault:</p>\n\n<pre><code>ficheiro.open(file);\n</code></pre>\n\n<p>So I print <code>char* file</code> to check if everything is ok, and I get this output:</p>\n\n<pre><code>File1\nFile2\nFile3\nFile4\n</code></pre>\n\n<p>Since everything is ok with the file name, and I can open every file but <code>File4</code>, what do you think is causing this error?</p>\n\n<p>PS: I am closing the file after every loop.</p>\n"}, {"tags": ["c++", "templates", "header-only"], "comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1493228417, "post_id": 43641040, "comment_id": 74330387, "body": "I hope you&#39;re not using <code>inline</code> to &quot;help&quot; the compiler optimize your code but you&#39;re doing it for linker purposes."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1493228419, "post_id": 43641040, "comment_id": 74330388, "body": "This seems like a waste of time with any modern compiler. Modern compilers will make their own decisions regarding <code>inline</code> (perhaps using the keyword as a hint) on a case-by-case basis. Additionally, modern compilers can usually eliminate unused code."}, {"owner": {"reputation": 11, "user_id": 7232778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d441791f70e02d929723c869c93c6fee?s=128&d=identicon&r=PG&f=1", "display_name": "ar-org-austral", "link": "https://stackoverflow.com/users/7232778/ar-org-austral"}, "edited": false, "score": 0, "creation_date": 1493229286, "post_id": 43641040, "comment_id": 74330832, "body": "Just for linking propouse, in order to avoid to distribute and compile another cpp source file whit the function implementation."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493229482, "post_id": 43641040, "comment_id": 74330950, "body": "I hope this is not supposed to be the value of pi ;)"}, {"owner": {"reputation": 11, "user_id": 7232778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d441791f70e02d929723c869c93c6fee?s=128&d=identicon&r=PG&f=1", "display_name": "ar-org-austral", "link": "https://stackoverflow.com/users/7232778/ar-org-austral"}, "edited": false, "score": 0, "creation_date": 1493229773, "post_id": 43641040, "comment_id": 74331119, "body": "Value of pi fixed, but shut this work?? :)"}], "answers": [{"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1493230871, "creation_date": 1493230871, "answer_id": 43641766, "question_id": 43641040, "link": "https://stackoverflow.com/questions/43641040/c-inline-functions-and-template-function-in-header-only-library/43641766#43641766", "title": "C++ Inline functions and template function in header-only library", "body": "<p>Marking a function <code>inline</code> tells the compiler that it's okay to have the same function defined in more than one translation unit. It's also a hint that the function ought to be expanded inline, but most compilers make their own judgment in that regard. Similarly, a template function can be instantiated in more than one translation unit, and compilers will make their own judgment as to whether to expand it inline.</p>\n\n<p>Short version: there's no difference in code size. But the template version is harder to understand, harder to compile, harder to use, and more likely to produce errors.</p>\n"}], "owner": {"reputation": 11, "user_id": 7232778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d441791f70e02d929723c869c93c6fee?s=128&d=identicon&r=PG&f=1", "display_name": "ar-org-austral", "link": "https://stackoverflow.com/users/7232778/ar-org-austral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1331, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493230871, "creation_date": 1493228293, "last_edit_date": 1493229543, "question_id": 43641040, "link": "https://stackoverflow.com/questions/43641040/c-inline-functions-and-template-function-in-header-only-library", "title": "C++ Inline functions and template function in header-only library", "body": "<p>In order to avoid code bload due to over-inlining...<br>\nIs this a valid way to implement a template function that acts\nlike an inline function?</p>\n\n<p>Original inline function declaration:<br></p>\n\n<pre><code>inline double MyInlineFunction(){\n        return 3.141592653589;\n}\n</code></pre>\n\n<p>Alternative function declaration using template function:<br></p>\n\n<pre><code>template&lt;typename T = void&gt; double MyInlineFunctionT(){\n    return 3.141592653589;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 5, "creation_date": 1493227594, "post_id": 43640774, "comment_id": 74329917, "body": "Good rule of thumb: if you get a warning you don&#39;t understand, don&#39;t hammer away at your code to make it go away. Try to understand the warning."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 2, "creation_date": 1493227935, "post_id": 43640774, "comment_id": 74330118, "body": "^ you can remove a compiler warning by fixing the problem the compiler&#39;s detecting, or by making detection of the problem too difficult for the compiler to reasonably do so. Hammering away at the code until it &#39;works&#39; is rather more likely to lead to the second, than if you try to understand it first."}, {"owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493232188, "post_id": 43640774, "comment_id": 74332614, "body": "some people are forejudge here, maybe my fault due to the style of writing the way to come into the problem...."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493232072, "post_id": 43640926, "comment_id": 74332541, "body": "To clarify: I didn&#39;t ignored the warning. But my conclusions where different and false. Quick search got the point to boolean convertible too. Josutties Std C++ Lib book section &quot;How manipulators work&quot; showed the operator&lt;&lt;(...(*op)(..)) overload. Hence my thoughs where this must be missing. Wrong conclusion ... The reason why I wrote increase(indent_ostream&amp;..) was to avoid hijacking the std::ostream since the underlaying buffer hasn&#39;t an increase member function. This way the miracle started."}, {"owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493232081, "post_id": 43640926, "comment_id": 74332546, "body": "Anyway, good explanations, but I still not understand why the Segmentation fault - took the operator&lt;&lt;(T const&amp;) the manipulator even that (imo) operator&lt;&lt;(indent_ostream&amp;..) is more viable?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493232655, "post_id": 43640926, "comment_id": 74332875, "body": "@Olx Well... at what point are you putting your override of <code>streambuf</code> into <code>cout</code>?"}, {"owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493233249, "post_id": 43640926, "comment_id": 74333238, "body": "at the point where I use template argument for the ostream, once using the std::ostream directly and not the indent_ostream. I assumed I have to overload the increase/decrease (std::ostream&amp;) with &#39;empty&#39; dummys than."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493251194, "post_id": 43640926, "comment_id": 74341191, "body": "@Olx What function do you think <code>*this &lt;&lt; v;</code> calls?"}, {"owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "edited": false, "score": 0, "creation_date": 1493314311, "post_id": 43640926, "comment_id": 74375769, "body": "after even more thinking about: I would say the same member function - which results into stack overflow due to recursive call, isn&#39;t it?"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 3, "last_activity_date": 1493227900, "creation_date": 1493227900, "answer_id": 43640926, "question_id": 43640774, "link": "https://stackoverflow.com/questions/43640774/derived-from-streambuf-ostream-and-manip-not-compile-or-crashed/43640926#43640926", "title": "derived from streambuf, ostream and manip - not compile or crashed", "body": "<p>So you got a warning:</p>\n\n<blockquote>\n  <p>The first was the compiler error <code>indent_ostream&amp; increase(indent_ostream&amp;)'</code> will always evaluate as 'true'</p>\n</blockquote>\n\n<p>Why? What does that mean? What does <code>os &lt;&lt; increase</code> actually do? Don't just ignore the warning! It is pointing out that you have a real problem in your code! Investigate!</p>\n\n<p>If you look in the list of operators for <a href=\"http://en.cppreference.com/w/cpp/io/basic_ostream/operator_ltlt\" rel=\"nofollow noreferrer\"><code>operator&lt;&lt;</code></a>, there is this one:</p>\n\n<pre><code>basic_ostream&amp; operator&lt;&lt;(\n    std::basic_ostream&lt;CharT,Traits&gt;&amp; (*func)(std::basic_ostream&lt;CharT,Traits&gt;&amp;) );\n</code></pre>\n\n<p>but that one doesn't match your function, it's not a viable candidate. The function <code>Derived&amp;(*)(Derived&amp;)</code> is not a match for <code>Base&amp;(*)(Base&amp;)</code> - it can never work. Instead, the best (only) viable candidate is:</p>\n\n<pre><code>basic_ostream&amp; operator&lt;&lt;( bool value );\n</code></pre>\n\n<p>Because function pointers are convertible to <code>bool</code>. The warning is that this is silly, because obviously this will print <code>1</code> and is probably not what you intended to do. </p>\n\n<p>But you don't actually <em>need</em> the function to take an <code>indent_ostream</code> anyway. All you care about is the buffer. So the solution is to fix your modifiers to match the expected signature:</p>\n\n<pre><code>static inline std::ostream&amp; increase(std::ostream&amp; os)\n{\n    indent_sbuf* buf = static_cast&lt;indent_sbuf*&gt;(os.rdbuf());\n    buf-&gt;increase();\n    return os;\n}\n\nstatic inline std::ostream&amp; decrease(std::ostream&amp; os)\n{\n    indent_sbuf* buf = static_cast&lt;indent_sbuf*&gt;(os.rdbuf());\n    buf-&gt;decrease();\n    return os;\n}\n</code></pre>\n\n<p>And now, it works!</p>\n"}], "owner": {"reputation": 83, "user_id": 7880080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46ebe3a22a0bd328b4e50ccdf67c2a10?s=128&d=identicon&r=PG&f=1", "display_name": "Olx", "link": "https://stackoverflow.com/users/7880080/olx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 43640926, "answer_count": 1, "score": -1, "last_activity_date": 1493227900, "creation_date": 1493227393, "question_id": 43640774, "link": "https://stackoverflow.com/questions/43640774/derived-from-streambuf-ostream-and-manip-not-compile-or-crashed", "title": "derived from streambuf, ostream and manip - not compile or crashed", "body": "<p>So, I started an indenting buffer/ostream,setting the indent level using manipulators and run into problems... The first was the compiler error\n<code>indent_ostream&amp; increase(indent_ostream&amp;)' will always evaluate as 'true'</code>. Just made a operator&lt;&lt; for function pointers as member of the ostream. The next than was <code>ambiguous overload for 'operator&lt;&lt;' (operand types are 'indent_ostream' and 'int')</code>. Also added a member operator&lt;&lt; with templated argument to catch all types to be streamed (string, int, etc).This results into an <code>Segmentation fault</code> and here I am :(</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;streambuf&gt;\n#include &lt;iomanip&gt;\n\nclass indent_sbuf : public std::streambuf\n{\n    std::streambuf*     m_sbuf;\n    std::string         m_indent_str;\n    bool                m_start_of_line;\n    static const int    TAB_WIDTH = 4;\n\npublic:\n    explicit indent_sbuf(std::streambuf* sbuf, size_t indent = 0)\n        : m_sbuf{ sbuf }\n        , m_indent_str(indent, ' ')\n        , m_start_of_line{ true }\n    { }\n\n    ~indent_sbuf()\n    {\n        overflow('\\n');\n    }\n\n    indent_sbuf&amp; increase()\n    {\n        m_indent_str = std::string(m_indent_str.size() + TAB_WIDTH, ' ');\n        return *this;\n    }\n\n    indent_sbuf&amp; decrease()\n    {\n        if(m_indent_str.size() &gt; TAB_WIDTH) {\n            m_indent_str = std::string(m_indent_str.size() - TAB_WIDTH, ' ');\n        }\n        else {\n            m_indent_str = \"\";\n        }\n        return *this;\n    }\n\nprivate:\n    int_type overflow(int_type chr) override\n    {\n        if (m_start_of_line &amp;&amp; chr != '\\n') {\n            m_sbuf-&gt;sputn( m_indent_str.data(), m_indent_str.size() );\n        }\n        m_start_of_line = (chr == '\\n');\n        return m_sbuf-&gt;sputc( chr );\n    }\n};\n\nclass indent_ostream : public std::ostream\n{\n    indent_sbuf buf;\n\npublic:\n    indent_ostream(std::ostream&amp; os, size_t width)\n        : std::ostream(&amp;buf)\n        , buf(os.rdbuf(), width)\n    { }\n\n    indent_ostream&amp; operator&lt;&lt;(indent_ostream&amp; (*fcn)(indent_ostream&amp;))\n    {\n        return (*fcn)(*this);\n    }\n\n    template&lt;typename T&gt;\n    indent_ostream&amp; operator&lt;&lt;(T const&amp; v) // get it to compile\n    {\n        *this &lt;&lt; v; // but crash\n        return *this;\n    }\n};\n\nstatic inline\nindent_ostream&amp; increase(indent_ostream&amp; os)\n{\n    indent_sbuf* buf = static_cast&lt;indent_sbuf*&gt;(os.rdbuf());\n    buf-&gt;increase();\n    return os;\n}\n\nstatic inline\nindent_ostream&amp; decrease(indent_ostream&amp; os)\n{\n    indent_sbuf* buf = static_cast&lt;indent_sbuf*&gt;(os.rdbuf());\n    buf-&gt;decrease();\n    return os;\n}\n\n\nint main()\n{\n    indent_ostream os(std::cout, 0);\n    os &lt;&lt; \"Hallo\\n\";\n    os &lt;&lt; increase &lt;&lt; \"World\\n\";\n    os &lt;&lt; decrease &lt;&lt; 42 &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Also at <a href=\"http://coliru.stacked-crooked.com/a/4763401d424c051f\" rel=\"nofollow noreferrer\">coliru</a>. So, what going on here and where are my faults? How to get it working correct and standard conforming?</p>\n"}, {"tags": ["c++", "file"], "comments": [{"owner": {"reputation": 11751, "user_id": 473194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/15tk9.png?s=128&g=1", "display_name": "Colin Smith", "link": "https://stackoverflow.com/users/473194/colin-smith"}, "edited": false, "score": 0, "creation_date": 1493227098, "post_id": 43640646, "comment_id": 74329605, "body": "You could use a memorymap....using MapViewOfFile....then Windows memory manager efficiently manages the buffering, and caching of that data when you access it. <a href=\"http://stackoverflow.com/questions/10836609/fastest-technique-to-read-a-file-into-memory\" title=\"fastest technique to read a file into memory\">stackoverflow.com/questions/10836609/&hellip;</a>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493227153, "post_id": 43640646, "comment_id": 74329641, "body": "at least you do not need to open the file for each iteration. Keep it open and continue reading in the next iteration. Wont save you much though"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1493227327, "post_id": 43640646, "comment_id": 74329749, "body": "It seems like you are opening the file and iterating through it for the starting point each time. Perhaps building an index of all starting points would save you some execution time. If the file contains data sorted by time, you could also save your last cursor position as your next starting point."}, {"owner": {"reputation": 349, "user_id": 4772809, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0ba7af7774c9d7b40736a957662d5a48?s=128&d=identicon&r=PG&f=1", "display_name": "keronconk", "link": "https://stackoverflow.com/users/4772809/keronconk"}, "edited": false, "score": 0, "creation_date": 1493227376, "post_id": 43640646, "comment_id": 74329774, "body": "I think you can save the result in file after you do each iteration"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1493227766, "post_id": 43640646, "comment_id": 74330021, "body": "It&#39;s unlikely that your C++ program can make your hard drive spin any faster. Your performance is limited entirely by your system&#39;s I/O performance, and there is absolutely nothing, whatsoever, that can be done about it, short of getting a faster hard drive. Or, perhaps reengineering whatever you&#39;re trying to do, so that whatever you&#39;re trying to do no longer involves reading a 20gb file."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 1, "creation_date": 1493228434, "post_id": 43640646, "comment_id": 74330407, "body": "Is the file in time order? If so, just keep it open and track the last timestamp read. The next timestamp will either be the next one in the file, or you&#39;ll have to skip some - there&#39;s no point re-reading the whole thing to get to the same place. Or, at least, remember where you were up to (your last offset) and seek straight there."}], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 4159499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLt6L.jpg?s=128&g=1", "display_name": "Stefan Woehrer", "link": "https://stackoverflow.com/users/4159499/stefan-woehrer"}, "is_accepted": true, "score": 3, "last_activity_date": 1493284952, "last_edit_date": 1493284952, "creation_date": 1493228561, "answer_id": 43641120, "question_id": 43640646, "link": "https://stackoverflow.com/questions/43640646/c-impossible-to-improve-file-reading/43641120#43641120", "title": "c++ Impossible to improve file reading?", "body": "<p>I think there is potential in optimizing (removing) the line skipping code (while (time != TimetoRead))</p>\n\n<p>You open your file in every iteration, and then you skip looots of lines all the time. \nIf your file contains finalTime records, you skip 0 records at the first iteration, 1 record at the second, etc. In total you skip 0+1+2+...(finalTime-1) records, that's (finalTime-1)*(finalTime)/2 :-) Mutliply this by the lines per record and you'll see where a big portion of your time might be lost.</p>\n\n<p>A solution could be:\nExtract the file open operation from your read method to the surrounding code. That way you read a record, then do your calculus, and then when you read the next record you don't have to open the file again and skip all those lines, since the stream will automatically continue on the right position.</p>\n\n<p>That should look like this in \"pseudo code\":</p>\n\n<pre><code>void Funct(ifstream file, ...)\n{\n    if (file)\n    {\n        /* x,y,z are arrays like float x[nbAtoms] */\n\n        for (int i = 0; i &lt; nbAtoms; i++) {\n            file &gt;&gt; x[i]; file &gt;&gt; y[i]; /* etc, load all*/\n        }\n    }\n}\n\nint main()\n{\n    ifstream file(path.c_str());\n\n    for (int TimeToRead = 0; TimeToRead&lt;finalTime; TimeToRead++) {\n        Funct(file, ...);\n        /*Do some Calculus on the atoms coordinates at one given time */\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7668084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910285c9053d11b2c195b792f90e162?s=128&d=identicon&r=PG&f=1", "display_name": "Minamoto", "link": "https://stackoverflow.com/users/7668084/minamoto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 43641120, "answer_count": 1, "score": 0, "last_activity_date": 1493284952, "creation_date": 1493226915, "last_edit_date": 1493227800, "question_id": 43640646, "link": "https://stackoverflow.com/questions/43640646/c-impossible-to-improve-file-reading", "title": "c++ Impossible to improve file reading?", "body": "<p>I have a code written in c++ reading a very big data file (10-20 go). I read each line and it is rather long. Is there any way to improve the effiencicy ?</p>\n\n<p>I know that there is some post about this but my problem is not excatly the same...</p>\n\n<p>The file is containing coordinates of N atoms and their velocity at given times.</p>\n\n<p>My code :</p>\n\n<pre><code>void Funct(std::string path, float TimeToRead, int nbLines, float x[], float y[], float z[], float vx[], float vy[], float vz[], std::string names[], int index[])\n{\n    ifstream file(path.c_str());\n    if (file)\n    {\n        /* x,y,z are arrays like float x[nbAtoms] */\n\n        while (time != TimetoRead) {\n            /*I Put the cursor at the given time to read before*/\n            /*And then read atoms coordinates*/\n        }\n\n        for (int i = 0; i &lt; nbAtoms; i++) {\n            file &gt;&gt; x[i]; file &gt;&gt; y[i]; /* etc, load all*/\n        }\n    }\n}\n\nint main()\n{\n    /*Declarations : hidden*/\n\n    for (int TimeToRead = 0; TimeToRead&lt;finalTime; TimeToRead++) {\n        Funct(...);\n        /*Do some Calculus on the atoms coordinates at one given time */\n    }\n}\n</code></pre>\n\n<p>Currently i have around 2million lines with 8 or 9 column of number each. \nThe file is a succesion of atom coordinates at one given time.</p>\n\n<p>I have to do calculation on each time step, so i am now calling this function for every time step (around 4000 time steps and there is a large amount of atoms).  At the end is very expensive in time. </p>\n\n<p>I have read somewhere that i could save in memory in one row and not read file every time but when the file is 20Go i cannot really save it all in RAM!</p>\n\n<p>What can i do to improve this reading ?</p>\n\n<p>Thanks you very much                                  </p>\n\n<p>Edit1: I am on Linux</p>\n\n<p>Edit2: \nThe file to read contains a line header like :</p>\n\n<pre><code>time= 1\ncoordinates atom 1\ncoordinate atom 2\n...\n...\n...\ntime=2\ncoordinates atom 1\ncoordinate atom 2\n...\n...\n...\netc\n</code></pre>\n\n<p>the while loop is just reading each line since the begining until he finds the t= TimeToRead</p>\n"}, {"tags": ["c++", "list", "merge"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493227050, "post_id": 43640559, "comment_id": 74329588, "body": "What good is a linked list if you can&#39;t retrieve the data from it?  Note that your entire <code>struct list</code> has no way to get the data added to it from <code>main</code> or able to iterate from beginning to end from <code>main</code>.  That would be the first step in getting a <code>merge()</code> to work properly."}, {"owner": {"reputation": 35, "user_id": 7884601, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d14f512e67c19a96b007dd9a32fa0996?s=128&d=identicon&r=PG&f=1", "display_name": "newb13.", "link": "https://stackoverflow.com/users/7884601/newb13"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493228833, "post_id": 43640559, "comment_id": 74330610, "body": "Sorry, i am new to c++ language and i don&#39;t quite understand what are you talking about. What should i do to &quot;get the data added to it from main or able to iterate from beginning to end from main&quot;?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1493229714, "post_id": 43640559, "comment_id": 74331084, "body": "You built a linked list class, and there is no way to read the data from those lists from outside the <code>list</code> struct.  Second, your <code>addList1</code> and <code>addList2</code> functions do not change the passed-in parameter.  You&#39;re sending uninitialized pointers to <code>addList1</code> and <code>addList2</code>, and they will remain uninitialized on return of those functions. If you want proof, set <code>list1</code> and <code>list2</code> to <code>nullptr</code> before calling your <code>add...()</code> functions.  You will see that they are still <code>nullptr</code> after those functions are called.  So your entire <code>main</code> has bugs whenever you use <code>list1</code> and <code>list2</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2425, "user_id": 7891828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVvYo.png?s=128&g=1", "display_name": "AS Mackay", "link": "https://stackoverflow.com/users/7891828/as-mackay"}, "is_accepted": false, "score": 0, "last_activity_date": 1493248714, "creation_date": 1493248714, "answer_id": 43646096, "question_id": 43640559, "link": "https://stackoverflow.com/questions/43640559/function-that-merges-two-singly-linked-lists-to-form-a-third-one/43646096#43646096", "title": "function that merges two singly linked lists to form a third one", "body": "<p>Here is a version of your code, but using an STL list container to provide the linked list, and this provides its own functions that will achieve what you want. This code is for demonstration, and is not optimised for efficiency, it just shows one possible method of merging unique elements from two lists. (For this to work, the list requires its elements to be sorted, and you need to provide predicates for \"less than\" and \"equal to\" for the nodes in the list.) \n(Its true that it takes time to learn some of the STL containers and functions, but many people would recommend doing that instead of trying to create your own raw-pointer-based linked list from scratch.)</p>\n\n<p>Hope this helps, or is of interest.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;list&gt;\n\nstruct node\n{\n    int info;\n    node (int i)\n    {\n        info = i;\n    }\n    ~node()\n    {\n        //std::cout &lt;&lt;\"NODE CONTAINING \\\"\" &lt;&lt; info &lt;&lt; \"\\\" WAS DELETED!\" &lt;&lt; std::endl;\n    }\n};\n\nbool nodeLess(node n1, node n2)\n{\n    return n1.info &lt; n2.info;\n}\n\nbool nodeEqual(node n1, node n2)\n{\n    return n1.info == n2.info;\n}\n\nstruct mylist\n{\n    int menuOption;\n\n    std::list&lt;node&gt; list1;\n    std::list&lt;node&gt; list2;\n\n    void addList(std::list&lt;node&gt;&amp; l)\n    {\n        int x;\n        std::cout &lt;&lt; \"PLEASE INPUT VALUE WHICH YOU WANT IN THE NODE: \";\n        std::cin &gt;&gt; x;\n        node n(x);\n        l.push_back(n);\n    }\n\n    void printList(const std::list&lt;node&gt;&amp; l)\n    {\n        for (std::list&lt;node&gt;::const_iterator it = l.cbegin(); it != l.cend(); ++it)\n        {\n            std::cout &lt;&lt; it-&gt;info &lt;&lt; std::endl;\n        }\n    }\n\n    void addList1()  { addList(list1); }\n    void addList2()  { addList(list2); }\n\n    void printList1() { printList(list1); }\n    void printList2() { printList(list2); }\n\n    // this just prints first and second lists to show what is inside..\n    void printBoth()\n    {\n        std::cout &lt;&lt; \"Elements of the first list:\" &lt;&lt; std::endl;\n        printList1();\n        std::cout &lt;&lt; \"Elements of the second list:\" &lt;&lt; std::endl;\n        printList2();\n    }\n\n    void simpleMerge()\n    {\n        std::list&lt;node&gt; merged;\n        merged.insert(merged.end(), list1.begin(), list1.end());\n        merged.insert(merged.end(), list2.begin(), list2.end());\n        std::cout &lt;&lt; \"CONTENTS OF LIST1 THEN LIST2: \" &lt;&lt; std::endl;\n        printList(merged);\n    }\n\n    void uniqueSortMerge()\n    {\n        std::list&lt;node&gt; sorted1(list1.begin(), list1.end());\n        std::list&lt;node&gt; sorted2(list2.begin(), list2.end());\n        sorted1.sort(nodeLess);\n        sorted2.sort(nodeLess);\n        sorted1.unique(nodeEqual);\n        sorted2.unique(nodeEqual);\n        std::list&lt;node&gt; merged;\n        std::merge(sorted1.begin(), sorted1.end(),\n                   sorted2.begin(), sorted2.end(),\n                   std::back_inserter(merged),\n                   nodeLess);\n        std::cout &lt;&lt; \"UNIQUE CONTENTS OF LIST1 AND LIST2 SORTED AND MERGED: \" &lt;&lt; std::endl;\n        printList(merged);\n    }\n\n    void printMenu()\n    {\n        std::cout &lt;&lt; \"MENU\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(1) ADD ELEMENT LIST1.\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(2) PRINT LIST1\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(3) ADD ELEMENT LIST2\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(4) PRINT LIST2\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(5) PRINT BOTH LISTS\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(6) USE SIMPLE MERGE FUNCTION\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(7) USE UNIQUE, SORT AND MERGE FUNCTION\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"(8) TO EXIT\" &lt;&lt; std::endl;\n\n        std::cin &gt;&gt; menuOption;\n        system (\"cls\");\n    };\n\n\n    void dragons()\n    {\n        list1.clear();\n        list2.clear();\n    };\n};\n\nint main()\n{\n    mylist s;\n\n    do\n    {\n        s.printMenu();\n        switch (s.menuOption)\n        {\n            case 1:\n                s.addList1();\n                break;\n            case 2:\n                s.printList1();\n                break;\n            case 3:\n                s.addList2();\n                break;\n            case 4:\n                s.printList2();\n                break;\n            case 5:\n                s.printBoth();\n                break;\n            case 6:\n                s.simpleMerge();\n                break;\n            case 7:\n                s.uniqueSortMerge();\n                break;\n            case 8:\n                break;\n            default:\n                std::cout &lt;&lt; \"SOMETHING WENT WRONG!!!!\" &lt;&lt; std::endl;\n                break;\n        }\n        system (\"pause\");\n        system (\"cls\");\n    } while(s.menuOption != 8);\n\n    s.dragons();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7884601, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d14f512e67c19a96b007dd9a32fa0996?s=128&d=identicon&r=PG&f=1", "display_name": "newb13.", "link": "https://stackoverflow.com/users/7884601/newb13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493248714, "creation_date": 1493226631, "question_id": 43640559, "link": "https://stackoverflow.com/questions/43640559/function-that-merges-two-singly-linked-lists-to-form-a-third-one", "title": "function that merges two singly linked lists to form a third one", "body": "<p>So i am writing a programm where user fills two linked lists with integers, and now i need to create a function that creates third linked list with values from both first and second lists without duplicates. \nHere is the code i have right now:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\nusing namespace std;\n\nstruct node\n{\n    int info;\n    node *next;\n    node (int i, node *n=NULL)\n    {\n        info = i;\n        next = n;\n    }\n    ~node() \n    {\n        cout &lt;&lt;\"NODE CONTAINING \\\"\" &lt;&lt; info &lt;&lt; \"\\\" WAS DELETED!\" &lt;&lt; endl;\n    }\n};\nstruct list\n{\n    node* startList1, *lastList1, *startList2, *lastList2;\n    int menuOption;\n    int nodeCount1=0, nodeCount2=0; \n\n\n    list() {\n        startList1 = NULL;\n        startList2 = NULL;\n\n    }\n\n\n    void addList1(node *p)\n    {\n        int n;\n        cout &lt;&lt; \"PLEASE INPUT VALUE WHICH YOU WANT IN THE NODE:\";\n        cin &gt;&gt; n;\n        p = new node(n);\n        nodeCount1++;\n        if(startList1==NULL)\n        {\n            startList1 = lastList1 = p;\n        }\n        else\n        {\n            lastList1-&gt;next = p;\n            lastList1 = p;\n        }\n    }\n\n    void printList1(node *pr)\n    {\n        node *pr;\n        for (pr=startList1; pr!=NULL; pr=pr-&gt;next)\n        {\n            cout &lt;&lt; pr-&gt;info &lt;&lt; endl;\n        }\n    }\n\n\n\n    void addList2(node *q)\n    {\n        int n;\n        cout &lt;&lt; \"PLEASE INPUT VALUE WHICH YOU WANT IN THE NODE:\";\n        cin &gt;&gt; n;\n        q = new node(n);\n        nodeCount2++;\n        if(startList2==NULL)\n        {\n            startList2 = lastList2 = q;\n        }\n        else\n        {\n            lastList2-&gt;next = q;\n            lastList2 = q;\n        }\n    }\n    void printList2(node *pr)\n    {\n        for (pr=startList2; pr!=NULL; pr=pr-&gt;next)\n        {\n            cout &lt;&lt; pr-&gt;info &lt;&lt; endl;\n        }\n    }\n\n   // this just prints first and second lists to show what is inside..\n    void printBoth(node *pr, node *qr)\n    {\n        cout &lt;&lt; \"Elements of the first list:\" &lt;&lt; endl;\n        for (pr=startList1; pr!=NULL; pr=pr-&gt;next)\n        {\n            cout &lt;&lt; pr-&gt;info &lt;&lt; endl;\n        }\n        cout &lt;&lt; \"Elements of the second list:\" &lt;&lt; endl;\n        for (pr=startList2; pr!=NULL; pr=pr-&gt;next)\n        {\n            cout &lt;&lt; pr-&gt;info &lt;&lt; endl;\n        }\n    }\n\n\n    void printMenu()\n    {\n        cout &lt;&lt; \"MENU\" &lt;&lt; endl;\n        cout &lt;&lt; \"(1) ADD ELEMENT LIST1.\" &lt;&lt; endl;\n        cout &lt;&lt; \"(2) PRINT LIST1\" &lt;&lt; endl;\n        cout &lt;&lt; \"(3) ADD ELEMENT LIST2\" &lt;&lt; endl;\n        cout &lt;&lt; \"(4) PRINT LIST2\" &lt;&lt; endl;\n        cout &lt;&lt; \"(5) PRINT BOTH LISTS\" &lt;&lt; endl;\n    cout &lt;&lt; \"(6) USE MERGE FUNCTION\" &lt;&lt; endl;\n        cout &lt;&lt; \"(7) TO EXIT\" &lt;&lt; endl;\n\n        cin &gt;&gt; menuOption;\n        system (\"cls\");\n    };\n\n\n    void dragons()\n    {\n\n        node *temp1 = startList1;\n        node *temp2 = startList2;\n        while(temp1)\n        {\n            temp1 = startList1-&gt;next;\n            delete startList1;\n            startList1=temp1;\n        }\n        while(temp2)\n        {\n            temp2 = startList2-&gt;next;\n            delete startList2;\n            startList2=temp2;\n        }\n    };      \n\n};\n\nint main()\n{\n    struct node *p = NULL, *q = NULL;\n\n    list s;\n    s.printMenu();\n    node* list1;\n    node* list2;\n    node* sorting;\n    while(s.menuOption!=7)\n    {\n        switch (s.menuOption)\n        {\n            case 1: s.addList1(list1);\n                    break;\n            case 2: s.printList1(list1);\n                    break;\n            case 3: s.addList2(list2);\n                    break;\n            case 4: s.printList2(list2);\n                    break;\n            case 5:s.printBoth(list1, list2);\n                    break;\n            case 6:s.merge();\n                    break;\n            default: cout &lt;&lt; \"SOMETHING WENT WRONG!!!!\" &lt;&lt; endl;\n                    break;\n        }\n        system (\"pause\");\n        system (\"cls\");\n        s.printMenu();\n    }\n    s.dragons();\n    return 0;\n}\n</code></pre>\n\n<p>So now user can input elements to both lists and see them, but how can i create a function, that will merge those lists without duplicate values? for example:\nList1 = 1, 2, 3, 6, 8;\nList2 = 2, 4, 5, 7, 8;</p>\n\n<p>Merged list = 1, 2, 3, 4, 5, 7, 8; (can be whatever order actually, it doesn't matter)</p>\n\n<p>Any advice would be appreciated! Thanks!</p>\n"}, {"tags": ["c++", "cin"], "comments": [{"owner": {"reputation": 439, "user_id": 6451036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019e9a99df029cdb07a38f13899850a7?s=128&d=identicon&r=PG&f=1", "display_name": "Aroic", "link": "https://stackoverflow.com/users/6451036/aroic"}, "edited": false, "score": 1, "creation_date": 1493226677, "post_id": 43640524, "comment_id": 74329359, "body": "Your program is ending after <code>cin&gt;&gt;answer</code>...what are you expecting it to do?"}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1493226689, "post_id": 43640524, "comment_id": 74329365, "body": "What did you observe while debugging your program? If you have not already tried it, do so"}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 3, "creation_date": 1493226925, "post_id": 43640524, "comment_id": 74329506, "body": "Did you mean for <i>&quot;something you&#39;ve never told anyone before&quot;</i> to be a number?"}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1493227153, "post_id": 43640524, "comment_id": 74329642, "body": "If you enter a non-number for that, it puts <code>cin</code> into a fail state, and the program won\u2019t look at any more input until you have code that handles the error."}, {"owner": {"reputation": 1, "user_id": 7537943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8e3af81186437109702f8e984b5c41?s=128&d=identicon&r=PG&f=1", "display_name": "Zain N.", "link": "https://stackoverflow.com/users/7537943/zain-n"}, "edited": false, "score": 0, "creation_date": 1493241276, "post_id": 43640524, "comment_id": 74337657, "body": "thank you for your help guys!"}], "answers": [{"comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1493239438, "post_id": 43643625, "comment_id": 74336685, "body": "Also, note that if you need to fix <code>std::cin</code> after breaking it like this, you use <a href=\"http://stackoverflow.com/a/10877539/5386374\"><code>std::cin.clear()</code></a> to clear the error flag, then either attempt to read the data as a different type, or remove it with <a href=\"http://stackoverflow.com/questions/25475384/when-and-why-do-i-need-to-use-cin-ignore-in-c\"><code>std::cin.ignore()</code></a>."}], "tags": [], "owner": {"reputation": 259, "user_id": 7886227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hec3U.jpg?s=128&g=1", "display_name": "Dr t", "link": "https://stackoverflow.com/users/7886227/dr-t"}, "is_accepted": false, "score": 2, "last_activity_date": 1493237248, "creation_date": 1493237248, "answer_id": 43643625, "question_id": 43640524, "link": "https://stackoverflow.com/questions/43640524/c-not-able-to-type-after-cin-answer/43643625#43643625", "title": "C++ not able to type after cin &gt;&gt; answer;", "body": "<p>your variable named \"answer\" has a data type integer.  the first time you prompt the user to enter something from the console (apparently to be a string) the cin object attempts to initialize \"answer\" with a string (probably because the prompts does not ask for a number) which kills the cin object which will not allow the object to take instructions...so the next time you want to use it there is no cin object.</p>\n\n<p>Just change the data type for \"answer\" to string.  </p>\n\n<p>Dr t</p>\n"}], "owner": {"reputation": 1, "user_id": 7537943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8e3af81186437109702f8e984b5c41?s=128&d=identicon&r=PG&f=1", "display_name": "Zain N.", "link": "https://stackoverflow.com/users/7537943/zain-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1528814884, "creation_date": 1493226527, "last_edit_date": 1528814884, "question_id": 43640524, "link": "https://stackoverflow.com/questions/43640524/c-not-able-to-type-after-cin-answer", "title": "C++ not able to type after cin &gt;&gt; answer;", "body": "<p>I'm writing a basic program, similar to ELIZA(online therapist) simple questions and answers but I'm stuck at the end. after cin >> answer; I'm not able to write anything.  </p>\n\n<pre><code>int main () {\n    short number;\n    string color;\n    string sport;\n    int answer;\n    string travel;\n\n\n    // Greets user\n    cout &lt;&lt; \"Hello, I'm Samantha\" &lt;&lt; endl;\n    // Asks user for their favorite sport\n    cout &lt;&lt; \"What's your favorite sport?\";\n    cin &gt;&gt; sport;\n    cout &lt;&lt; \"I like \" &lt;&lt; sport &lt;&lt; \" too!\" &lt;&lt; endl;\n    cout &lt;&lt; \"How about your favorite color?\";\n    cin &gt;&gt; color;\n    cout &lt;&lt; \"Not my favorite color but it's nice!\" &lt;&lt; endl;\n    cout &lt;&lt; \"Tell me something you've never told anyone before\";\n    cin &gt;&gt; answer;\n    cout &lt;&lt; \"Don't worry, your secret is safe with me!\" &lt;&lt; endl;\n    cout &lt;&lt; \"Hows your life going?\";\n    cin &gt;&gt; answer;\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "index-buffer"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493229741, "post_id": 43641020, "comment_id": 74331103, "body": "Thanks! :D That got me a step further (I should be more tidy). However now I only see around half of the triangles I draw. The indexbuffer and vertexbuffer seem fine and I tried moving some indexes around and disable Cull face, but I keep seeing the same triangles of each mesh. Any idea why it&#39;s like that? Image good: <a href=\"https://puu.sh/vwZAc/e108f7fb9c.png\" rel=\"nofollow noreferrer\">puu.sh/vwZAc/e108f7fb9c.png</a>. Image not good: <a href=\"https://puu.sh/vx0j6/a8eddd1d7d.png\" rel=\"nofollow noreferrer\">puu.sh/vx0j6/a8eddd1d7d.png</a>"}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493231385, "post_id": 43641020, "comment_id": 74332154, "body": "try releasing &quot; glBindVertexArray(0); //release vao&quot; outside the loop.... I mean after for each loop....in the function &quot;Render()&quot;"}, {"owner": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493231720, "post_id": 43641020, "comment_id": 74332341, "body": "That doesn&#39;t seem to work :\\. Also tried glBindVertexArray(Vao) outside the loop (which seems logical then), but no change unfortunately."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493232143, "post_id": 43641020, "comment_id": 74332586, "body": "glBindVertexArray(Vao) should be inside loop only as you want &quot;Vao&quot; for each mesh of world.objects... Just have &quot;glBindVertexArray(0);&quot; alone outside the loop. Could you please post, how you created &quot;Vao&quot; for good &quot;render()&quot; function.... I mean the &quot;Vao&quot; in first render function, where loop does not exist."}, {"owner": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493235165, "post_id": 43641020, "comment_id": 74334330, "body": "I added the code where the buffers are created and filled once for both render methods. The first render method (without the loop) doesn&#39;t change them and just renders them. In the second Render method (with the loop) the data is overriden with the data for each mesh. I already tried only putting glBindVertexArray(Vao) inside the loop and glBindVertexArray(0) outside, but it dind&#39;t change anything unfortunately."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493240785, "post_id": 43641020, "comment_id": 74337428, "body": "Updated the answer. Please look into it."}, {"owner": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493744409, "post_id": 43641020, "comment_id": 74529694, "body": "Thanks that&#39;s an option I will keep my mind on, but in this case even one single Mesh object isn&#39;t drawn completely. Each house consists of a cube and a pyramid which are two meshes. Both meshes are drawn half it seems even though the entire cube its vertices and indexes are loaded in the buffers. If I work with just one Mesh (a cube e.g.) it still only draws half of the cube. I read some articles and posts which said loading different VBO&#39;s (one per Mesh e.g.) is fine which is what I&#39;m doing here. If I just can&#39;t get this to work I&#39;ll try one buffer, but I&#39;m at least curious in this."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "edited": false, "score": 0, "creation_date": 1493745357, "post_id": 43641020, "comment_id": 74530187, "body": "I guess you add each mesh using Object3D object. Double check there it self whether your vertices are proper or not in each object of Object3D (mesh).  Because the later portion of the code is.. just indicating frame buffer to draw &quot;these vertices in this format&quot;....."}], "tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 2, "last_activity_date": 1493240718, "last_edit_date": 1493240718, "creation_date": 1493228234, "answer_id": 43641020, "question_id": 43640489, "link": "https://stackoverflow.com/questions/43640489/opengl-indexbuffer-not-working-when-loading-objects-one-by-one/43641020#43641020", "title": "OpenGL indexbuffer not working when loading objects one by one", "body": "<p>As soon as I see your <code>UpdateBuffer</code> function, I feel that the <code>glBufferData</code> for <code>vbo</code> is not loaded properly.</p>\n\n<p>The second parameter <code>vertices.size()</code> returns just number of elements in vector but not the actual size of object.</p>\n\n<p>So the second parameter should be <code>vertices.size() * sizeof(glm::vec3)</code></p>\n\n<p>And the third parameter is ok as it returns  pointer to the underlying array. If not working ....directly pass the address of first element as shown below.</p>\n\n<p>Overall it should be something like as shown below.</p>\n\n<pre><code>glBufferData(\n   GL_ARRAY_BUFFER,\n   vertices.size() * sizeof(glm::vec3),\n   &amp;vertices[0],\n   GL_STATIC_DRAW\n);\n</code></pre>\n\n<p>Check if it works.</p>\n\n<p><strong>Why you are seeing differences?</strong></p>\n\n<p><em>First render:</em></p>\n\n<p>Your buffer contain all the world's data for vertices continuosly, when the <code>glDrawElements</code> is called.\nSo here the <strong><em>mesh1 last vertex is continued with mesh 2 fist vertex</em></strong>.... So you see a kind of closed shape.</p>\n\n<p><em>Second render:</em></p>\n\n<p>your buffer contains only one mesh data at a time, when the <code>glDrawElements</code> is called.</p>\n\n<p>so your shape ends for each mesh after calling <code>glDrawElements</code>.</p>\n\n<p>To obtain the same result as  first render, you have to first update a single vertex buffer for all meshes ( use <code>glBufferSubData</code>).</p>\n\n<p>Then call <code>glDrawElements</code> once. Then you will see same result.</p>\n"}], "owner": {"reputation": 123, "user_id": 2751667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000541203074/picture?type=large", "display_name": "Sebastiaan Hoedeman", "link": "https://stackoverflow.com/users/2751667/sebastiaan-hoedeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493240718, "creation_date": 1493226409, "last_edit_date": 1493235004, "question_id": 43640489, "link": "https://stackoverflow.com/questions/43640489/opengl-indexbuffer-not-working-when-loading-objects-one-by-one", "title": "OpenGL indexbuffer not working when loading objects one by one", "body": "<p>I'm learning OpenGL and ran into an \"obstacle\".\nI drew some houses (blocks and pyramids) using an indexbuffer.\nThis works fine when loading all the vertices (from all houses) into the vertexbuffer and using 1 big indexbuffer. Now I want to animate the objects and load them in the vertexbuffer one by one so I can execute transformation on the objects one by one. The code is not much different from one big buffer, but when I do this I just see some random shapes shooting around on the screen. My code is as follows:</p>\n\n<p>I have a world class which holds the list of 3D objects, has one big list of all vertices (for trial purposes), one big list of indices (also trial) and a method to add an Object3D object to the world.</p>\n\n<pre><code>class World\n{\npublic:\nWorld();\n~World();\n\nvector&lt;Object3D&gt; objects;\nvector&lt;glm::vec3&gt; Vertices;\nvector&lt;GLushort&gt; Indices;\n\nvoid AddObject(Object3D &amp;object);\n</code></pre>\n\n<p>}; </p>\n\n<p>Object3D class:</p>\n\n<pre><code>class Object3D\n{\npublic:\nObject3D();\n~Object3D();\n\nglm::vec3 Position;\nvector&lt;glm::vec3&gt; Vertices;\nvector&lt;unsigned int&gt; Indices;\n};\n</code></pre>\n\n<p>World AddObject method, simply adds the object to the \"objects\" list and adds the vertices and indices to the \"Vertices\" and \"Indices\" lists to create one big buffer:</p>\n\n<pre><code>void World::AddObject(Object3D &amp;object) {\n\nint oldVerticesSize = Vertices.size();\nobjects.push_back(object);\nVertices.insert(Vertices.end(), object.Vertices.begin(), object.Vertices.end());\n\nfor each (GLushort index in object.Indices)\n{\n    Indices.push_back(index + oldVerticesSize);\n}\n}\n</code></pre>\n\n<p>When I render the big buffer with all the vertices and indices (as shown below) it works fine.</p>\n\n<pre><code>void WorldRenderer::Render()\n{\nglClearColor(0.0, 0.0, 0.0, 1.0);\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\nglBindVertexArray(Vao); //use vao\nglDrawElements(GL_TRIANGLES, World.Indices.size(), GL_UNSIGNED_SHORT, 0);\n//glDrawArrays(GL_TRIANGLES, 0, World.Vertices.size());\nglBindVertexArray(0); //release vao\n\n//Model = glm::rotate(Model, 0.01f, glm::vec3(0.0f, 1.0f, 0.0f));\nMvp = Projection * View * Model;\n\nglUniformMatrix4fv(UniformMvp, 1, GL_FALSE, glm::value_ptr(Mvp));\nglutSwapBuffers();\n\n//glutPostRedisplay();\n</code></pre>\n\n<p>}</p>\n\n<p>When I loop through the objects and load the vertices of the objects in the buffer one-object-at-a-time (as shown below) it shows some random \"shapes\" which keep \"shooting around\" or rapidly changing. What am I doing wrong here?\nThanks in advance for any advice.</p>\n\n<pre><code>void WorldRenderer::Render()\n{\nglClearColor(0.0, 0.0, 0.0, 1.0);\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\nint index = 0;\nfor each (Object3D mesh in World.objects)\n{\n    Mvp = Projection * View * Model;\n\n    UpdateBuffer(mesh.Vertices, mesh.Indices);\n\n    glBindVertexArray(Vao); //use vao\n    glDrawElements(GL_TRIANGLES, mesh.Indices.size() , GL_UNSIGNED_SHORT, 0);\n    glBindVertexArray(0); //release vao\n    glUniformMatrix4fv(UniformMvp, 1, GL_FALSE, glm::value_ptr(Mvp));\n    index++;\n}\n\nglutSwapBuffers();\n}\n</code></pre>\n\n<p>UpdateBuffers method:</p>\n\n<pre><code>void WorldRenderer::UpdateBuffer(vector&lt;glm::vec3&gt; vertices, vector&lt;unsigned int&gt; indices) {\n\n//fill Vbo\nglBindBuffer(GL_ARRAY_BUFFER, Vbo);\nglBufferData(GL_ARRAY_BUFFER, vertices.size(), vertices.data(), GL_STATIC_DRAW);\nglBindBuffer(GL_ARRAY_BUFFER, 0);\n\n//fill ibo\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, Ibo);\nglBufferData(GL_ELEMENT_ARRAY_BUFFER, indices.size() * sizeof(unsigned int), indices.data(), GL_STATIC_DRAW);\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\nglBindVertexArray(Vao);\nglBindBuffer(GL_ARRAY_BUFFER, Vbo);\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, Ibo);\n}\n</code></pre>\n\n<p>For the first Render method (without the loop) the buffers are created once in the init method which looks like this:</p>\n\n<pre><code>void WorldRenderer::Init(int argc, char ** argv) {\nInitGlutGlew(argc, argv);\nInitMatrices();\n\nglDisable(GL_CULL_FACE);\n//-------------- init buffers --------------\n// vbo vertices\nglGenBuffers(1, &amp;Vbo);\nglBindBuffer(GL_ARRAY_BUFFER, Vbo);\nglBufferData(GL_ARRAY_BUFFER, World.Vertices.size() * sizeof(glm::vec3),\n    &amp;World.Vertices[0], GL_STATIC_DRAW);\nglBindBuffer(GL_ARRAY_BUFFER, 0);\n//ibo\nglGenBuffers(1, &amp;Ibo);\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, Ibo);\nglBufferData(GL_ELEMENT_ARRAY_BUFFER, World.Indices.size() * sizeof(unsigned int),\n    &amp;World.Indices[0], GL_STATIC_DRAW);\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\n// VAO setup\nglGenVertexArrays(1, &amp;Vao);\nglBindVertexArray(Vao);\n// Bind vertices to vao\nglBindBuffer(GL_ARRAY_BUFFER, Vbo);\n//Bind elements\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, Ibo);\n\n//------ init shaders -----------\nInitShader();\n}\n</code></pre>\n"}, {"tags": ["c++", "openssl", "cryptography", "pkcs#7"], "owner": {"reputation": 11, "user_id": 7926861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1787b7dff67e3822ae2e47cb5340051a?s=128&d=identicon&r=PG&f=1", "display_name": "J. M", "link": "https://stackoverflow.com/users/7926861/j-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493813574, "creation_date": 1493225766, "last_edit_date": 1493237531, "question_id": 43640282, "link": "https://stackoverflow.com/questions/43640282/how-to-get-the-hash-of-the-signedattrs-for-a-pkcs7", "title": "How to get the hash of the signedAttrs for a PKCS7", "body": "<p>I am struggling because I need to manually verify the signature of an <code>PKCS7</code> file and the verification fails with the hash I get using the <code>PKCS7_digest_from_attributes()</code> method.</p>\n\n<p>It appears that the signature is done on several signed attributes rather than this hash. I found a method called <code>cms_msgSigDigest()</code> that seems to do what I need but it is not callable using the <code>OpenSSL</code> <em>API</em>.</p>\n\n<p>Thanks to guide me.</p>\n"}, {"tags": ["c++", "class", "getline", "strtok"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 4, "creation_date": 1493226131, "post_id": 43640233, "comment_id": 74329015, "body": "It&#39;s not clear what you&#39;re asking. Also, <code>while (!fin.eof())</code> is incorrect."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1493231058, "post_id": 43640233, "comment_id": 74331952, "body": "Post the smallest code example you can come up with that compiles, runs, and shows the problem."}], "answers": [{"tags": [], "owner": {"reputation": 2425, "user_id": 7891828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVvYo.png?s=128&g=1", "display_name": "AS Mackay", "link": "https://stackoverflow.com/users/7891828/as-mackay"}, "is_accepted": false, "score": 0, "last_activity_date": 1493242043, "creation_date": 1493242043, "answer_id": 43644806, "question_id": 43640233, "link": "https://stackoverflow.com/questions/43640233/why-does-getline-initialize-the-info/43644806#43644806", "title": "why does &#39;getline&#39; initialize the info?", "body": "<p>Try changing code that opens the file and reads lines in a loop to  something like this:</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main (int argc, char* argv[])\n{\n    std::string line;\n    std::ifstream fin(\"ItemList.txt\");\n    if (fin)\n    {\n        while (std::getline(fin, line))\n        {\n            // add code here to process each line\n        }\n\n        fin.close();\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1493242381, "creation_date": 1493242381, "answer_id": 43644885, "question_id": 43640233, "link": "https://stackoverflow.com/questions/43640233/why-does-getline-initialize-the-info/43644885#43644885", "title": "why does &#39;getline&#39; initialize the info?", "body": "<pre><code>i_name = my_tok(read, \"/\");         \n</code></pre>\n\n<p>The <code>my_tok</code> function returns a pointer into the buffer, right? And you've saved that pointer in <code>i_name</code>.</p>\n\n<p>Well, since you saved a pointer into your buffer, when you change what's in the buffer, you change what values the pointer points to. You need to make a copy of the value you want to save and use a pointer to the copy.</p>\n\n<p>Also, as others have pointed out, your use of <code>feof</code> is incorrect. It can't predict the future.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7926767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1493242381, "creation_date": 1493225613, "last_edit_date": 1493226148, "question_id": 43640233, "link": "https://stackoverflow.com/questions/43640233/why-does-getline-initialize-the-info", "title": "why does &#39;getline&#39; initialize the info?", "body": "<pre><code>while (!fin.eof())\n{\n    fin.getline(read, 49); subcnt++;    \n    i_sequence = subcnt;                \n    i_name = my_tok(read, \"/\");         \n    i_price = atoi(my_tok(NULL, \"/\"));  \n    i_quantity = atoi(my_tok(NULL, \"/\"));\n\n    if (subcnt &lt;= 10)\n        loadlist[subcnt-1].setList(i_sequence, i_name, i_price, i_quantity);\n}\n</code></pre>\n\n<p><code>my_tok</code> is a function which I made to use instead of <code>strtok</code>.\nThe <code>loadlist</code> class contains information on an item.</p>\n\n<p>I want this load function to read information line by line from an \"ItemList.txt\" file, and save written information to class.\nThe first loop is implemented as I want, but when it comes to the next loop and <code>fin.getline(read,49)</code> is called, all the info that previously saved is initialized.</p>\n\n<p>I have no idea why the information is continuously changing when <code>fin.getline</code> is called.</p>\n\n<p>Thanks for helping me.</p>\n"}, {"tags": ["c++", "validation", "constexpr", "c++17", "if-constexpr"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493225033, "post_id": 43639945, "comment_id": 74328427, "body": "Function arguments are not const expression :-/ You might pass <code>std::integral_constant&lt;std::size_t, 4u&gt;</code> to allow the compile time check inside the constructor."}], "answers": [{"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 5, "last_activity_date": 1493225310, "creation_date": 1493225310, "answer_id": 43640153, "question_id": 43639945, "link": "https://stackoverflow.com/questions/43639945/using-constexpr-to-validate-literal-parameters-in-constructor/43640153#43640153", "title": "Using constexpr to validate literal parameters in constructor", "body": "<p>Function arguments are not const expression :-/</p>\n\n<p>You might pass <code>std::integral_constant&lt;std::size_t, 4u&gt;</code> to allow the compile time check inside the constructor:</p>\n\n<pre><code>struct MyStruct final\n{\n    // For runtime or constexpr usage.\n    constexpr MyStruct(int v) : _v{validate(v)} {}\n\n    // For compile-time values\n    template &lt;std::size_t N&gt;\n    constexpr MyStruct(std::integral_constant&lt;std::size_t, N&gt;) : _v{N}\n    {\n        static_assert(N &gt; 4, \"Unexpected\");\n    }\n\n    // ...\n};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>MyStruct b{std::integral_constant&lt;std::size_t, 500&gt;{}};\n</code></pre>\n"}], "owner": {"reputation": 947, "user_id": 7086463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4855da83c7f8e52c058154993de942d2?s=128&d=identicon&r=PG", "display_name": "Stefano Azzalini", "link": "https://stackoverflow.com/users/7086463/stefano-azzalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 43640153, "answer_count": 1, "score": 3, "last_activity_date": 1493225310, "creation_date": 1493224615, "question_id": 43639945, "link": "https://stackoverflow.com/questions/43639945/using-constexpr-to-validate-literal-parameters-in-constructor", "title": "Using constexpr to validate literal parameters in constructor", "body": "<p>I started experimenting with <code>constexpr</code>.<br>\nWhat I'm trying to achieve is to validate <code>literal</code> numeric values\nprovided as ctor parameters.<br>\nI started with the following, throwing if constructing <code>MyStruct</code>\nwith a value &lt;= 4.</p>\n\n<pre><code>constexpr int validate(int v)\n{\n  return (v &gt; 4) ? v : throw exception();\n};\n\nstruct MyStruct final\n{\n  constexpr MyStruct(const int v)\n    : _v{validate(v)}\n  {\n  }\n\n  void add(int toAdd)\n  {\n    _v += toAdd;\n  }\n\n  int _v;\n};\n\nint main(int argc, char**)\n{\n  constexpr MyStruct a{500};  // ok so far...\n  a.add(argc);                // ...nope \n  MyStruct b{500};            // check at runtime :(\n  MyStruct c{argc};           // runtime check ok\n}\n</code></pre>\n\n<p>Marking <code>MyStruct</code> as <code>constexpr</code> works as expected but this prevent calling <code>add</code> since it is not mutable.</p>\n\n<p>I think this could be done since I'm targeting only literal values (known at compile time).<br>\nI'd like to avoid templates.</p>\n"}, {"tags": ["c++", "sorting", "linked-list"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1493224041, "post_id": 43639749, "comment_id": 74327813, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493224647, "post_id": 43639749, "comment_id": 74328195, "body": "off topic: you want to use <code>&amp;&amp;</code> (<a href=\"http://en.cppreference.com/w/cpp/language/operator_logical\" rel=\"nofollow noreferrer\">logical AND</a>) rather than <code>&amp;</code> (bitwise AND) here: <code>if(tail == nullptr &amp; head == nullptr)</code>, but know that if you fix this bug you will reveal two others, so expect more debugging to follow."}, {"owner": {"reputation": 415, "user_id": 7572374, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh4.googleusercontent.com/-AYl8FWoZXiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rex8ZiUs8QhOKV1o_7S5MZYVefZzw/mo/photo.jpg?sz=128", "display_name": "new_programmer_22", "link": "https://stackoverflow.com/users/7572374/new-programmer-22"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493225874, "post_id": 43639749, "comment_id": 74328877, "body": "@user4581301 ahh yes thank you. Did not see that I had forgotten the second &amp;"}], "owner": {"reputation": 415, "user_id": 7572374, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh4.googleusercontent.com/-AYl8FWoZXiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rex8ZiUs8QhOKV1o_7S5MZYVefZzw/mo/photo.jpg?sz=128", "display_name": "new_programmer_22", "link": "https://stackoverflow.com/users/7572374/new-programmer-22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493225235, "creation_date": 1493223956, "last_edit_date": 1493225235, "question_id": 43639749, "link": "https://stackoverflow.com/questions/43639749/sorting-a-linked-list-with-multiple-parameters", "title": "Sorting a linked list with multiple parameters", "body": "<p>I am wanting to insert nodes according to their location year and month. So basically all locations are clumped together and then they are sorted according to the year and the months. Below is the code in my linkedlist.cpp file. My insert function I believe is the main cause of my issues. When I use the overload operator to print the list and then the copied list, it is only printing one of the inserted nodes.       </p>\n\n<pre><code> #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;vector&gt;\n    #include \"linkedlist.h\"\n    using namespace std;\n\n    LinkedList::LinkedList() : head(nullptr), tail(nullptr){\n        // Implement this function\n    }\n\n    LinkedList::~LinkedList() {\n        // Implement this function\n        this-&gt;clear();\n    }\n\n    LinkedList::LinkedList(const LinkedList&amp; source) {\n        // Implement this function\n        head = nullptr;\n        tail = nullptr;\n        Node* tempNode = source.head;\n\n        while(tempNode != nullptr)  {\n            insert(tempNode-&gt;loc, tempNode-&gt;yr, tempNode-&gt;mo, tempNode-&gt;temp);\n            tempNode = tempNode-&gt;next;\n        }\n\n    }\n\n    LinkedList&amp; LinkedList::operator=(const LinkedList&amp; source) {\n        if (this != &amp;source) {\n            this-&gt;clear();\n            Node* tempNode = source.head;\n            while(tempNode != nullptr){\n                insert(tempNode-&gt;loc, tempNode-&gt;yr, tempNode-&gt;mo, tempNode-&gt;temp);\n                tempNode = tempNode-&gt;next;\n            }\n        }\n        return *this;\n    }\n\n\n\n    void LinkedList::insert(int location, int year, int month, double temperature) {\n        // Implement this function\n        Node* newNode = new Node();\n        newNode-&gt;loc = location;\n        newNode-&gt;yr = year;\n        newNode-&gt;mo = month;\n        newNode-&gt;temp = temperature;\n        Node* tempNode = head;\n\n        if(tail == nullptr &amp; head == nullptr){\n            newNode = head;\n        }\n        while(tempNode != nullptr){\n            if((tempNode-&gt;loc == newNode-&gt;loc) &amp;&amp; (tempNode-&gt;yr == newNode-&gt;yr)){\n                if(tempNode-&gt;mo &gt; newNode-&gt;mo){\n                    newNode-&gt;next = tempNode-&gt;next;\n                    tempNode-&gt;next = newNode;\n                }\n                if(tempNode-&gt;mo &lt; newNode-&gt;mo){\n                    newNode-&gt;next = tempNode;\n                }\n            }\n            if(tempNode-&gt;loc &gt; newNode-&gt;loc){\n                newNode-&gt;next = tempNode-&gt;next;\n                tempNode-&gt;next = newNode;\n            }\n            if(tempNode-&gt;loc &lt; newNode-&gt;loc){\n                newNode-&gt;next = tempNode-&gt;next;\n                tempNode-&gt;next = newNode;\n            }\n            tempNode = tempNode-&gt;next;\n        }\n    }\n\n    void LinkedList::clear() {\n        // Implement this function\n        Node* current = head;\n        while (current != nullptr) {\n            Node* deleteNode = current;\n            current = current-&gt;next;\n            delete deleteNode;\n        }\n        head = nullptr;\n        tail = nullptr;\n    }\n\n    void LinkedList::print() const {\n        /* Do not modify this function */\n        print(cout);\n    }\n\n    void LinkedList::print(ostream&amp; os) const {\n        /* Do not modify this function */\n        os &lt;&lt; *this;\n    }\n\n    ostream&amp; operator&lt;&lt;(ostream&amp; os, const LinkedList&amp; ll) {\n        // Implement this function\n        Node* tempNode = ll.head;\n        if (tempNode == nullptr) {\n            os &lt;&lt; \" &lt;Empty List&gt;\";\n        }\n        while (tempNode != nullptr) {\n            if (tempNode != ll.head)\n            cout &lt;&lt; \" \" &lt;&lt; tempNode-&gt;loc &lt;&lt; \" \" &lt;&lt; tempNode-&gt;yr &lt;&lt; \" \" &lt;&lt; tempNode-&gt;mo &lt;&lt; \" \" &lt;&lt; tempNode-&gt;temp &lt;&lt; endl;\n        }\n        tempNode = tempNode-&gt;next;\n        return os;\n    }\n</code></pre>\n"}, {"tags": ["c++", "windows", "process", "virtualbox"], "comments": [{"owner": {"reputation": 4241, "user_id": 48026, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBv5r.jpg?s=128&g=1", "display_name": "Hern&#225;n", "link": "https://stackoverflow.com/users/48026/hern%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1493231573, "post_id": 43639704, "comment_id": 74332252, "body": "Can you show the code that shows your &quot;string found&quot; and the VirtualProtect at the desired page base address?  How do you scan the VM pages?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1493243602, "post_id": 43639704, "comment_id": 74338692, "body": "If I remember rightly, VirtualBox is hypervisor-based, which means that it has components running in the host&#39;s kernel and/or components that layer between the host and the bare hardware.  That means that it is perfectly capable of overriding the host&#39;s usual memory protection rules if it chooses to do so.  (I&#39;m not sure offhand <i>why</i> it would choose to do so, but that might explain the behaviour you&#39;re seeing.)"}], "owner": {"user_type": "does_not_exist", "display_name": "user2015064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1493226211, "creation_date": 1493223797, "last_edit_date": 1493226211, "question_id": 43639704, "link": "https://stackoverflow.com/questions/43639704/writeprocessmemory-for-virtualbox-c-invalid-address", "title": "WriteProcessMemory for VirtualBox C++ : Invalid address", "body": "<p>I have a program which scans a whole process to find a desired string, then write it with a different string. So it works for normal processes which are <strong>outside VirtualBox</strong>. The problem is that it can detect the string in a process inside a running VirtualBox process but when I use the same address to write data, the program continues to say : \"<strong>Attempt to access invalid address</strong>\".</p>\n\n<p>Here is the output, 2656 is PID of a running VirtualBox that contains the desired string : </p>\n\n<pre><code>Memory Changer Program\n+ PID : 2656\n  String found : ABCDE12345\n  Address found : 0x45ab0830\n  Block size : 2097154\n  Failed to enable Memory Permission.\n  Attempt to access invalid address.\n\n  Attempt to write with 12345ABCDE. . .\n  Contents written failed.\n  Attempt to access invalid address.\n\nOperation failed.\n</code></pre>\n\n<p>I have my process privilege enabled, and I open the process with flags : </p>\n\n<p><code>PROCESS_QUERY_INFORMATION | PROCESS_VM_READ | PROCESS_VM_WRITE | PROCESS_VM_OPERATION</code></p>\n\n<p>I enable Memory Permission by using VirtualProtect. As I said before, my program works very well for normal processes outside VirtualBox. I am using Windows XP 32 bit.</p>\n\n<p>What is the cause that my program can read memory but cannot write memory for this certain process? Thank you.</p>\n\n<p>Edit : I notice that the address is abnormally too high, does it mean WriteProcessMemory will fail? And how to get the true address of it?</p>\n\n<p>When I close the string process and open the process again in the running VirtualBox process (Still PID 2656), my Memory Changer program can still detect the desired string, but the base address is <code>0x31c6a830</code> which looks too different. I wonder if they are just virtual memory addresses not real memory addresses but I don't know how to deal with it.</p>\n\n<p>There is a structure of my interest, but I don't know how to use it. It may be the solution to the problem.</p>\n\n<pre><code>typedef struct _MEMORY_BASIC_INFORMATION_VLM {\n    union {\n        PVOID64 BaseAddress;\n        ULONGLONG BaseAddressAsUlongLong;\n    };\n    union {\n        PVOID64 AllocationBase;\n        ULONGLONG AllocationBaseAsUlongLong;\n    };\n    ULONGLONG RegionSize;\n    DWORD AllocationProtect;\n    DWORD State;\n    DWORD Protect;\n    DWORD Type;\n} MEMORY_BASIC_INFORMATION_VLM, *PMEMORY_BASIC_INFORMATION_VLM;\n</code></pre>\n"}, {"tags": ["c++", "collision", "detection"], "comments": [{"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 6, "creation_date": 1493223791, "post_id": 43639663, "comment_id": 74327676, "body": "Such list handling is an extremely bad practice in C++. You should use standard containers instead, such as <code>std::vector</code>. The variables you introduce as helpers should also be const and declared when they are first assigned, not at the top of the function. As for your actual problem, there&#39;s not enough information here to reproduce it. Try writing a unit test that passes some example data and checks the result."}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 1, "creation_date": 1493223995, "post_id": 43639663, "comment_id": 74327782, "body": "Care to elaborate more on why a custom linked list is &quot;extremely bad practice&quot;? Also I don&#39;t think he asked for code styling help..."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1493224063, "post_id": 43639663, "comment_id": 74327827, "body": "<a href=\"http://coliru.stacked-crooked.com/a/5292512c0e622896\" rel=\"nofollow noreferrer\">Here&#39;s a draft of such a unit test</a>. Your routine is almost ready for testing (the global collision counter is the only problem)."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 3, "creation_date": 1493224177, "post_id": 43639663, "comment_id": 74327898, "body": "@RonE That would take more than a comment can fit, but, in random order - it&#39;s error prone, hard to read (as you&#39;ve just demonstrated), hard to maintain, hard to use (write), and it&#39;s not styling - it&#39;s essential functionality and correctness of the produced solutions. You also can&#39;t benefit from any existing algorithms."}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "reply_to_user": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1493224707, "post_id": 43639663, "comment_id": 74328236, "body": "@BartekBanachewicz You are literally the first person I&#39;ve seen complain about a custom linked list in 20 years. Also it&#39;s pretty easy to read (I misread a for loop, a STL linked list would not help there), write (Compsci 101 doesn&#39;t cover advanced topics and covers linked lists) and maintenance is no more than using an STL container. Also using algorithms relies on an interface, not a specify parent class so that&#39;s not a problem either."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 1, "creation_date": 1493224819, "post_id": 43639663, "comment_id": 74328299, "body": "@RonE I complain about it all the time. Aside from obvious homework or other learning exercise questions, the answer is almost always &quot;stop doing what you&#39;re doing and use <code>std::list</code> if you really need a linked list, otherwise use <code>std::vector</code>.&quot; The standard library containers are much better optimized and almost certain to have fewer bugs than the implementations you will find on SO."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 2, "creation_date": 1493224826, "post_id": 43639663, "comment_id": 74328303, "body": "@RonE in order - then you mustn&#39;t have been very active here, no (and that&#39;s why you failed at reading it, it would help - see my answer), no (containers aren&#39;t &quot;advanced&quot;), no. And the interface for structs mixing concerns of storage and data model is universally horrendous."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 2, "creation_date": 1493225035, "post_id": 43639663, "comment_id": 74328429, "body": "And to make it clear - were we talking C, my answers and reaction would be entirely different. But given the modern C++ toolset and goals, forcing such primitive approaches on beginners is actively harmful."}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "reply_to_user": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1493225216, "post_id": 43639663, "comment_id": 74328517, "body": "@BartekBanachewicz No I&#39;m not very active here, and you&#39;ve misread my comment. Also structs and classes in c++ are the same, so any complaints about interfaces on structs also apply to classes."}, {"owner": {"reputation": 10545, "user_id": 238902, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BRFti.png?s=128&g=1", "display_name": "Default", "link": "https://stackoverflow.com/users/238902/default"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 2, "creation_date": 1493225902, "post_id": 43639663, "comment_id": 74328895, "body": "@RonE I can complain as well! I am currently maintaining a legacy system where the custom lists aren&#39;t generic and only link via pointers - this means that the debugging tools are much harder to use to inspect the data and also there are multiple different versions of the different custom lists - I would <i>*MUCH*</i> (I can&#39;t seem to emphasize that word enough) rather have standard containers for those data structures!"}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 1, "creation_date": 1493227566, "post_id": 43639663, "comment_id": 74329895, "body": "I&#39;d just like to gently point out that the question is about collision detection, not about what coding style is best."}], "answers": [{"tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": false, "score": 5, "last_activity_date": 1493224256, "creation_date": 1493224256, "answer_id": 43639835, "question_id": 43639663, "link": "https://stackoverflow.com/questions/43639663/c-game-missile-collision-detection/43639835#43639835", "title": "C++ game missile collision detection", "body": "<pre><code>for( ; ast ; ast = ast-&gt;next)\n</code></pre>\n\n<p>This line is the problem.  After this loop terminates, <code>ast</code> is null but it is not reset for the next iteration of the outer <code>mis</code> loop.  This means that only the first iteration of the <code>mis</code> loop actually sees any asteroids.</p>\n\n<p>To correct this, declare a new variable for this loop:</p>\n\n<pre><code>for(struct particle *ast2 = ast ; ast2 ; ast2 = ast2-&gt;next)\n</code></pre>\n\n<p>(Or choose a better name than <code>ast2</code>.) Then, obviously, replace <code>ast</code> with <code>ast2</code> in the loop body.</p>\n"}, {"comments": [{"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 0, "creation_date": 1493225117, "post_id": 43639943, "comment_id": 74328463, "body": "All of these auto&#39;s increase compile time, and increase misdirection. This is actually harder for me to read than the original. I can also create a custom linked list that uses an iterator and take advantage of a foreach loop so nothing special there. Otherwise this is the same."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 0, "creation_date": 1493225326, "post_id": 43639943, "comment_id": 74328578, "body": "@RonE It&#39;s harder for you to read because you&#39;re stuck doing C++ from 20 years ago. I suggest you try out writing in (and reading) the modern code for more than 15 minutes and then reevaluate your opinion. At this point, you&#39;re not arguing with me - you&#39;re arguing with the community consensus, pretty much. And nothing&#39;s preventing you from writing a &quot;custom linked list that uses an iterator&quot; and posting your own answer - let the votes decide, then. I&#39;d rather not argue this and drag the comment thread anymore."}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 0, "creation_date": 1493225461, "post_id": 43639943, "comment_id": 74328653, "body": "oh I&#39;ve definitely written modern C++ for more than 15 mins, and you&#39;ve addressed none of my issues. It may be easier to read for you, but what type are those autos? what methods can I call on them? how do I know what docs to look up? what about compile time?"}, {"owner": {"reputation": 15006, "user_id": 2797826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3bab2302a0d633206bdcfca569f666c8?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Brindle", "link": "https://stackoverflow.com/users/2797826/tristan-brindle"}, "reply_to_user": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "edited": false, "score": 1, "creation_date": 1493226913, "post_id": 43639943, "comment_id": 74329500, "body": "@RonE No data to back this up, but I&#39;d be very surprised if the use of <code>auto</code> here increases compile times in any way. The compiler needs to check the assignments anyway, so it needs to know the type of the RHS as it is."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 2, "creation_date": 1493228005, "post_id": 43639943, "comment_id": 74330161, "body": "If <i>the type of the autos</i> is important, you also need to know the type on the right-hand-side of the assignment (in case you&#39;re invoking a custom conversion operator). So without <code>auto</code>, you still have the same effective level of indirection, the same requirement to check docs or code to find that type, but an additional coupling if you change that type."}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "reply_to_user": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1493307387, "post_id": 43639943, "comment_id": 74371245, "body": "@Useless not true at all, with the left hand side declared you have the type in front of you. Without it declared (or declared as auto) you have to guess. Here&#39;s when Bjourne Stroustrup says to use it (and it&#39;s not on every variable like this developer suggests) <a href=\"http://www.stroustrup.com/C++11FAQ.html#auto\" rel=\"nofollow noreferrer\">stroustrup.com/C++11FAQ.html#auto</a>"}, {"owner": {"reputation": 2158, "user_id": 71734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dfe7f38901cb0db708165fa81b6dd6?s=128&d=identicon&r=PG", "display_name": "Ron E", "link": "https://stackoverflow.com/users/71734/ron-e"}, "reply_to_user": {"reputation": 15006, "user_id": 2797826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3bab2302a0d633206bdcfca569f666c8?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Brindle", "link": "https://stackoverflow.com/users/2797826/tristan-brindle"}, "edited": false, "score": 0, "creation_date": 1493307423, "post_id": 43639943, "comment_id": 74371267, "body": "@TristanBrindle in this small of a code sample no it won&#39;t. in a much larger codebase it most definitely will. type inference is not free, the compiler has to walk the tree."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 1, "creation_date": 1493307577, "post_id": 43639943, "comment_id": 74371370, "body": "No, with the LHS type declared, you know what type the local variable is. To know what the assignment does, you <i>also</i> need to know the RHS type, which <i>still</i> means looking it up. I&#39;m saying that if the type of the local variable is critically important, it&#39;s very likely that the type of the RHS is also critically important, and you didn&#39;t get any benefit from the extra typing."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 1, "creation_date": 1493307813, "post_id": 43639943, "comment_id": 74371535, "body": "Equivalently, even when you declare the LHS type, the compiler needs to know the RHS type before <i>it</i> can figure out what the assignment does. So, no saving there either. The only thing you&#39;ve added is an assumption about what type the RHS is, which may be (or become) mistaken - and it can be a silent mistake if there&#39;s an implicit conversion."}], "tags": [], "owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1493225090, "last_edit_date": 1493225090, "creation_date": 1493224611, "answer_id": 43639943, "question_id": 43639663, "link": "https://stackoverflow.com/questions/43639663/c-game-missile-collision-detection/43639943#43639943", "title": "C++ game missile collision detection", "body": "<p>This is how a more modern C++ version could look like:</p>\n\n<pre><code>// drop the pointer from the struct\n\nvoid checkMissileAsteroidCollision(std::vector&lt;particle&gt;&amp; asteroids, std::vector&lt;particle&gt;&amp; missiles)\n{\n    for(auto &amp; mis : missiles) \n    {\n        for(auto &amp; ast : asteroids)\n        {\n            const auto missileX = mis.x;\n            const auto missileY = mis.y;\n            const auto asteroidX = ast.x;\n            const auto asteroidY = ast.y;\n            const auto asteroidSize = ast.size;\n\n            if(missileX &lt; asteroidX + asteroidSize &amp;&amp;\n                 missileX &gt; asteroidX &amp;&amp;\n                 missileY &lt; asteroidY + asteroidSize &amp;&amp;\n                 missileY &gt; asteroidY &amp;&amp; mis.draw == 1 &amp;&amp; ast.draw == 1)\n            {\n                collisionCounter++;\n                ast.draw = false;\n                mis.draw = false;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then example creation and use:</p>\n\n<pre><code>std::vector&lt;particle&gt; asteroids { { 0, 0, 0, 0, 0, 0, 10, true } };\nstd::vector&lt;particle&gt; missiles { { 5, 5, 0, 0, 0, 0, 10, true } };\n\ncheckMissileAsteroidCollision(asteroids, missiles);\n\nstd::cout &lt;&lt; std::boolalpha &lt;&lt; asteroids[0].draw;\n</code></pre>\n\n<p>There are more improvements to be made here (encapsulation in a class, not taking parameters to mutate, not using <code>draw</code> as collision flag), but I believe those belong to Code Review and I encourage you to post your solution there once you get it to work.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6009023"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493225090, "creation_date": 1493223656, "question_id": 43639663, "link": "https://stackoverflow.com/questions/43639663/c-game-missile-collision-detection", "title": "C++ game missile collision detection", "body": "<p>I'm recreating the classic game Asteroids and I'm having some problems with getting the collision detection working correctly. Currently, the below code works well, but for some reason it will only detect collisions on the last missile that has been fired. What I mean is if I fire 3 missiles in a straight line at a stationary asteroid, the first two will pass through the asteroid whilst only the last one will collide with it and act as intended. I'm not quite sure why this is happening but I think it has something to do with iterating through the list of missiles. </p>\n\n<p>Here's the partially working function that is used to detect collisions:</p>\n\n<pre><code>void checkMissileAsteroidCollision(struct particle *ast, struct particle *mis)\n{\n        float missileX = 0;\n        float missileY = 0;\n\n        float asteroidX = 0;\n        float asteroidY = 0;\n        float asteroidSize = 0;\n\n    for( ; mis ; mis = mis-&gt;next ) \n    {\n            missileX = mis-&gt;x;\n            missileY = mis-&gt;y;\n\n        for( ; ast ; ast = ast-&gt;next)\n        {\n            asteroidX = ast-&gt;x;\n            asteroidY = ast-&gt;y;\n            asteroidSize = ast-&gt;size;\n\n            if(missileX &lt; asteroidX + asteroidSize &amp;&amp;\n                 missileX &gt; asteroidX &amp;&amp;\n                 missileY &lt; asteroidY + asteroidSize &amp;&amp;\n                 missileY &gt; asteroidY &amp;&amp; mis-&gt;draw == 1 &amp;&amp; ast-&gt;draw == 1)\n            {\n                collisionCounter++;\n                ast-&gt;draw = 0;\n                mis-&gt;draw = 0;\n\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>The particle struct;</p>\n\n<pre><code>typedef struct particle{\n    float x;\n        float y;\n    float vx;\n        float vy;\n        float heading;\n    float dur;\n        int size;\n        int draw;\n    struct particle *next;\n} node_t;\n</code></pre>\n\n<p>I've included two links below that link to the whole source file and its header where this code comes from, in case any other information is needed to figure out why this is happening.</p>\n\n<p>gamestate.cpp: <a href=\"https://gist.github.com/Jakemangan/d286ef1f9159e6682778ec2e0daf516c\" rel=\"nofollow noreferrer\">https://gist.github.com/Jakemangan/d286ef1f9159e6682778ec2e0daf516c</a></p>\n\n<p>gamestate.h: <a href=\"https://gist.github.com/Jakemangan/6c3788a46825a86cd0e2642864fcad68\" rel=\"nofollow noreferrer\">https://gist.github.com/Jakemangan/6c3788a46825a86cd0e2642864fcad68</a></p>\n"}, {"tags": ["c++", "c++11", "constexpr", "reinterpret-cast", "gcc6"], "comments": [{"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1493223440, "post_id": 43639552, "comment_id": 74327429, "body": "Can you alter the constant to add the size suffix? Maybe that&#39;d help."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493223524, "post_id": 43639552, "comment_id": 74327482, "body": "Related to <a href=\"http://stackoverflow.com/questions/26200827/getting-around-the-reinterpret-cast-limitation-with-constexpr\">getting-around-the-reinterpret-cast-limitation-with-constexp&zwnj;&#8203;r</a>"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493223550, "post_id": 43639552, "comment_id": 74327498, "body": "Why do you think you need <code>reinterpret_cast</code> rather than <code>static_cast</code>?"}, {"owner": {"reputation": 173, "user_id": 7583004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2944753c3c4a73f7e664864c0ec383b?s=128&d=identicon&r=PG&f=1", "display_name": "gerion", "link": "https://stackoverflow.com/users/7583004/gerion"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493224334, "post_id": 43639552, "comment_id": 74327996, "body": "@Jarod42 And GCC enforces this only in 32 bit mode?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493224888, "post_id": 43639552, "comment_id": 74328337, "body": "@gerion: it should also be invalid in 64bit mode... Maybe the check is done according to (possible) <code>sizeof(int)</code> and <code>sizeof(void*)</code> and so is not caught in 64bits mode.."}], "owner": {"reputation": 173, "user_id": 7583004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2944753c3c4a73f7e664864c0ec383b?s=128&d=identicon&r=PG&f=1", "display_name": "gerion", "link": "https://stackoverflow.com/users/7583004/gerion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1591, "favorite_count": 0, "closed_date": 1493223632, "answer_count": 0, "score": 0, "last_activity_date": 1493223317, "creation_date": 1493223317, "question_id": 43639552, "link": "https://stackoverflow.com/questions/43639552/error-reinterpret-cast-from-integer-to-pointer", "closed_reason": "Duplicate", "title": "error: reinterpret_cast from integer to pointer", "body": "<p>The following code fails to compile with GCC 6 and 32bit-mode (on a amd64 host).</p>\n\n<pre><code>class foo {\n  static constexpr const char* ptr = reinterpret_cast&lt;const char*&gt;(0xff);\n};\n\nint main() {\n  return 0;\n}\n</code></pre>\n\n<p>Compilation command:</p>\n\n<pre><code>g++ -m32 test.cc\n</code></pre>\n\n<p>Error message is:</p>\n\n<pre><code>test.cc:2:38: error: reinterpret_cast from integer to pointer\n   static constexpr const char* ptr = reinterpret_cast&lt;const char*&gt;(0xff);\n                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n</code></pre>\n\n<p>It works with older compilers (GCC 4.9). It also works as inline definition (not as static member variable) or compiled in 64 bit mode.</p>\n\n<p>Is there a way to get it working with GCC 6?</p>\n"}, {"tags": ["c++", "console", "printf"], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1493223264, "creation_date": 1493223264, "answer_id": 43639531, "question_id": 43639387, "link": "https://stackoverflow.com/questions/43639387/how-to-print-label-for-a-value-in-c/43639531#43639531", "title": "How to print label for a value in c++", "body": "<p><strong>Option 1</strong> Simply add \"MPH\" to the format string.</p>\n\n<pre><code>printf(\"Flight Number %d: speed %d MPH: longitude %.f, latitude %.f\\n\",\n       packet.clientID,\n       packet.speed,\n       packet.longitude,\n       packet.latitude);\n</code></pre>\n\n<p><strong>Option 2</strong> Add \"MPH\" as another argument to <code>printf</code>.</p>\n\n<pre><code>printf(\"Flight Number %d: speed %d %s: longitude %.f, latitude %.f\\n\",\n       packet.clientID,\n       packet.speed,\n       \"MPH\"\n       packet.longitude,\n       packet.latitude);\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7253933, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51eba14f48e40c5b1f5c25421413af69?s=128&d=identicon&r=PG&f=1", "display_name": "J.Dave", "link": "https://stackoverflow.com/users/7253933/j-dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493223264, "creation_date": 1493222849, "last_edit_date": 1493223154, "question_id": 43639387, "link": "https://stackoverflow.com/questions/43639387/how-to-print-label-for-a-value-in-c", "title": "How to print label for a value in c++", "body": "<p>I have print function in c++ which prints out the speed and other things as well. The function output speed:325 but I am trying to add MPH with value of speed for example 320 mph but i am not shore how to do this. packet.speed function receives data from the the client. Here is the below function I have used.</p>\n\n<pre><code>printf(\"Flight Number %d: speed %d: longitude %.f, latitude %.f\\n\",\n       packet.clientID,\n       packet.speed,\n       packet.longitude,\n       packet.latitude);\n</code></pre>\n"}, {"tags": ["c++", "llvm", "lldb", "llvm-clang", "llvm-c++-api"], "comments": [{"owner": {"reputation": 20083, "user_id": 2465073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f7ba796598ce99fe9d17b66c119b00?s=128&d=identicon&r=PG", "display_name": "Jim Ingham", "link": "https://stackoverflow.com/users/2465073/jim-ingham"}, "edited": false, "score": 0, "creation_date": 1493258150, "post_id": 43639285, "comment_id": 74342932, "body": "Are you linking to the lldb dylib?  If so this failure is expected, the lldb dylib only exports the SB API&#39;s.  That&#39;s its public interface.  You might have more luck linking with the liblldb.a and all the other .a files that go into making the lldb dylib."}, {"owner": {"reputation": 1846, "user_id": 1601448, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7d6abd2bfe7848e0693972db9f82c2e7?s=128&d=identicon&r=PG", "display_name": "Russell Greene", "link": "https://stackoverflow.com/users/1601448/russell-greene"}, "reply_to_user": {"reputation": 20083, "user_id": 2465073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f7ba796598ce99fe9d17b66c119b00?s=128&d=identicon&r=PG", "display_name": "Jim Ingham", "link": "https://stackoverflow.com/users/2465073/jim-ingham"}, "edited": false, "score": 0, "creation_date": 1493486544, "post_id": 43639285, "comment_id": 74441810, "body": "I don&#39;t see a <code>liblldb.a</code>, I the SB APIs are compiled directly into <code>liblldb.so</code>, according to the link command."}], "owner": {"reputation": 1846, "user_id": 1601448, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7d6abd2bfe7848e0693972db9f82c2e7?s=128&d=identicon&r=PG", "display_name": "Russell Greene", "link": "https://stackoverflow.com/users/1601448/russell-greene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1493258051, "creation_date": 1493222585, "last_edit_date": 1493258051, "question_id": 43639285, "link": "https://stackoverflow.com/questions/43639285/link-to-both-lldb-and-clang-in-the-same-executable", "title": "Link to both LLDB and clang in the same executable", "body": "<p>I'm trying to create an exectuable that uses both LLDB and clang (The C++ API, not the libclang C API) but I'm coming across an error: clang initializes it's commandline parameters statically and because LLDB has it's own copy of clang linked in, then it is initialized twice, and I get this error:\n<code>\n: CommandLine Error: Option 'enable-value-profiling' registered more than once!\nLLVM ERROR: inconsistency in registered CommandLine options\n</code></p>\n\n<h2>Steps to reproduce</h2>\n\n<p>Compile the file</p>\n\n<pre><code>// main.cpp\n#include &lt;memory&gt;\n\n#include &lt;clang/CodeGen/CodeGenAction.h&gt;\n\nint main() {\n    auto compilerAction = std::make_unique&lt;clang::EmitLLVMOnlyAction&gt;(nullptr);\n}\n</code></pre>\n\n<p>With the commandline </p>\n\n<pre><code>g++  main.cpp  -std=c++14 \\\n    -llldb \\\n    -lclangRewrite -lclangFrontendTool -lclangCodeGen \\\n    -lclangFrontend -lclangParse -lclangSerialization \\\n    -lclangSerialization -lclangSema -lclangEdit -lclangAnalysis \\\n    -lclangAST -lclangLex -lclangDriver -lclangBasic -lLLVM\n</code></pre>\n\n<p>Then run it:</p>\n\n<pre><code>./a.out\n</code></pre>\n\n<h1>My Environment</h1>\n\n<p>I'm running a fully updated Arch Linux, LLVM version 4.0, which is LLVM 4 built like this:</p>\n\n<pre><code>  cmake \\\n    -DCMAKE_BUILD_TYPE=Release \\\n    -DCMAKE_INSTALL_PREFIX=/usr \\\n    -DLLVM_BUILD_LLVM_DYLIB=ON \\\n    -DLLVM_LINK_LLVM_DYLIB=ON \\\n    -DLLVM_INSTALL_UTILS=ON \\\n    -DLLVM_ENABLE_RTTI=ON \\\n    -DLLVM_ENABLE_FFI=ON \\\n    -DLLVM_BUILD_TESTS=ON \\\n    -DLLVM_BUILD_DOCS=ON \\\n    -DLLVM_ENABLE_SPHINX=ON \\\n    -DLLVM_ENABLE_DOXYGEN=OFF \\\n    -DLLDB_DISABLE_LIBEDIT=1 \\\n    -DSPHINX_WARNINGS_AS_ERRORS=OFF \\\n    -DFFI_INCLUDE_DIR=$(pkg-config --variable=includedir libffi) \\\n    -DLLVM_BINUTILS_INCDIR=/usr/include \\\n    .. &amp;&amp; make\n</code></pre>\n\n<h1>Things that make the problem not happen:</h1>\n\n<ol>\n<li>Remove <code>-llldb</code> from the commandline</li>\n<li>Remove that function call in main</li>\n</ol>\n\n<p>What makes sense to me as a good solution is only linking to lldb, and not clang, and rely on lldb's copy of clang to call clang. This seems to not work, I get linker errors:</p>\n\n<pre><code>$ clang++  main.cpp -I .. -std=c++14 -llldb -lLLVM           \n/tmp/main-14b759.o: In function `std::_MakeUniq&lt;clang::EmitLLVMOnlyAction&gt;::__single_object std::make_unique&lt;clang::EmitLLVMOnlyAction, decltype(nullptr)&gt;(decltype(nullptr)&amp;&amp;)':\nmain.cpp:(.text._ZSt11make_uniqueIN5clang18EmitLLVMOnlyActionEJDnEENSt9_MakeUniqIT_E15__single_objectEDpOT0_[_ZSt11make_uniqueIN5clang18EmitLLVMOnlyActionEJDnEENSt9_MakeUniqIT_E15__single_objectEDpOT0_]+0x51): undefined reference to `clang::EmitLLVMOnlyAction::EmitLLVMOnlyAction(llvm::LLVMContext*)'\nclang-4.0: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"}, {"tags": ["c++", "ffmpeg", "m4a"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 6177938, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/382fe9962005e0c41818ff9fd013bc38?s=128&d=identicon&r=PG&f=1", "display_name": "trigger_death", "link": "https://stackoverflow.com/users/6177938/trigger-death"}, "is_accepted": false, "score": 1, "last_activity_date": 1493222820, "creation_date": 1493222820, "answer_id": 43639381, "question_id": 43639276, "link": "https://stackoverflow.com/questions/43639276/ffmpeg-library-m4a-moov-atom-not-found-when-using-custom-iocontext/43639381#43639381", "title": "ffmpeg library m4a moov atom not found when using custom IOContext", "body": "<p>It turns out there was only one problem and it was with my seek function. Apparently ffmpeg has another whence option available <code>AVSEEK_SIZE</code>. Here's the implementation. After this it works.</p>\n\n<pre><code>int64_t seek(void* opaque, int64_t offset, int whence) {\n    sf::InputStream* stream = (sf::InputStream*)opaque;\n    switch (whence) {\n    case SEEK_SET:\n        break;\n    case SEEK_CUR:\n        offset += stream-&gt;tell();\n        break;\n    case SEEK_END:\n        offset = stream-&gt;getSize() - offset;\n        break;\n    case AVSEEK_SIZE:\n        return (int64_t)stream-&gt;getSize();\n    }\n    return (int64_t)stream-&gt;seek(offset);\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6177938, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/382fe9962005e0c41818ff9fd013bc38?s=128&d=identicon&r=PG&f=1", "display_name": "trigger_death", "link": "https://stackoverflow.com/users/6177938/trigger-death"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493222820, "creation_date": 1493222556, "question_id": 43639276, "link": "https://stackoverflow.com/questions/43639276/ffmpeg-library-m4a-moov-atom-not-found-when-using-custom-iocontext", "title": "ffmpeg library m4a moov atom not found when using custom IOContext", "body": "<p>I'm currently trying to implement FFmpeg into SFML so I have a wider range of audio files to read from but I get the error <code>[mov,mp4,m4a,3gp,3g2,mj2 @ #] moov atom not found</code> when opening an m4a file. Now this only happens when I use a custom IOContext to read the file instead of opening it from URL. <a href=\"https://github.com/fluent-ffmpeg/node-fluent-ffmpeg/issues/638\" rel=\"nofollow noreferrer\">This page</a> here says I'm not supposed to use streams to open m4a files but is an IOContext considered a stream? Because I have no way to open it as a URL as that's how SFML works.</p>\n\n<pre><code>// Explanation of InputStream class\nclass InputStream {\n    int64_t getSize()\n    int64_t read(void* data, int64_t size);\n    int64_t seek(int64_t position);\n    int64_t tell(); // Gets the stream position\n};\n\n// Used for IOContext\nint read(void* opaque, uint8_t* buf, int buf_size) {\n    sf::InputStream* stream = (sf::InputStream*)opaque;\n    return (int)stream-&gt;read(buf, buf_size);\n}\n// Used for IOContext\nint64_t seek(void* opaque, int64_t offset, int whence) {\n    sf::InputStream* stream = (sf::InputStream*)opaque;\n    switch (whence) {\n    case SEEK_SET:\n        break;\n    case SEEK_CUR:\n        offset += stream-&gt;tell();\n        break;\n    case SEEK_END:\n        offset = stream-&gt;getSize() - offset;\n    }\n    return (int64_t)stream-&gt;seek(offset);\n}\n\nbool open(sf::InputStream&amp; stream) {\n    AVFormatContext* m_formatContext = NULL;\n    AVIOContext* m_ioContext = NULL;\n    uint8_t* m_ioContextBuffer = NULL;\n    size_t m_ioContextBufferSize = 0;\n\n    av_register_all();\n    avformat_network_init();\n    m_formatContext = avformat_alloc_context();\n\n    m_ioContextBuffer = (uint8_t*)av_malloc(m_ioContextBufferSize);\n    if (!m_ioContextBuffer) {\n        close();\n        return false;\n    }\n    m_ioContext = avio_alloc_context(\n        m_ioContextBuffer, m_ioContextBufferSize,\n        0, &amp;stream, &amp;::read, NULL, &amp;::seek\n    );\n    if (!m_ioContext) {\n        close();\n        return false;\n    }\n    m_formatContext = avformat_alloc_context();\n    m_formatContext-&gt;pb = m_ioContext;\n\n    if (avformat_open_input(&amp;m_formatContext, NULL, NULL, NULL) != 0) {\n        // FAILS HERE\n        close();\n        return false;\n    }\n\n    //...\n\n    return true;\n}\n</code></pre>\n"}, {"tags": ["c++", "llvm", "llvm-c++-api"], "owner": {"reputation": 71, "user_id": 7758961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80583cfdfd074cd85a61522399410bea?s=128&d=identicon&r=PG&f=1", "display_name": "0xd34d10cc", "link": "https://stackoverflow.com/users/7758961/0xd34d10cc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1493242544, "creation_date": 1493222496, "last_edit_date": 1495540956, "question_id": 43639256, "link": "https://stackoverflow.com/questions/43639256/how-to-properly-use-exceptions-with-llvm-jit", "title": "How to properly use exceptions with LLVM JIT?", "body": "<p>Going through <em>llvm</em> tutorial I've implemented <em>JIT</em> and found that my <em>REPL</em> unexpectedly fails with segfault. Debugger shows that operator throw causes this segfault. But crash happens only if some code was compiled with <em>JIT</em> before exception is thrown.\nCode from <a href=\"https://stackoverflow.com/a/42998776/7758961\">this</a> answer with some modifications can be used to reproduce problem:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\n#include \"llvm/IR/LLVMContext.h\"\n#include \"llvm/IR/Module.h\"\n#include \"llvm/IR/IRBuilder.h\"\n#include \"llvm/IR/Verifier.h\"\n#include \"llvm/ADT/iterator_range.h\"\n#include \"llvm/ADT/STLExtras.h\"\n#include \"llvm/ExecutionEngine/ExecutionEngine.h\"\n#include \"llvm/ExecutionEngine/RTDyldMemoryManager.h\"\n#include \"llvm/ExecutionEngine/RuntimeDyld.h\"\n#include \"llvm/ExecutionEngine/SectionMemoryManager.h\"\n#include \"llvm/ExecutionEngine/Orc/CompileUtils.h\"\n#include \"llvm/ExecutionEngine/Orc/IRCompileLayer.h\"\n#include \"llvm/ExecutionEngine/Orc/LambdaResolver.h\"\n#include \"llvm/ExecutionEngine/Orc/ObjectLinkingLayer.h\"\n#include \"llvm/ExecutionEngine/JITSymbol.h\"\n#include \"llvm/IR/DataLayout.h\"\n#include \"llvm/IR/Mangler.h\"\n#include \"llvm/Support/DynamicLibrary.h\"\n#include \"llvm/Support/raw_ostream.h\"\n#include \"llvm/Support/TargetSelect.h\"\n\nusing namespace llvm;\ntypedef orc::ObjectLinkingLayer&lt;&gt; ObjLayerT;\ntypedef orc::IRCompileLayer&lt;ObjLayerT&gt; CompileLayerT;\n\nstatic LLVMContext Context;\nstatic auto MyModule = make_unique&lt;Module&gt;(\"my compiler\", Context);\n\nFunction *createFunc(IRBuilder&lt;&gt; &amp;Builder, std::string Name) {\n    std::vector&lt;Type*&gt; Integers(2, Builder.getInt32Ty());\n    auto *funcType = FunctionType::get(Builder.getInt32Ty(), Integers, false);\n    auto *fooFunc = Function::Create(funcType, Function::ExternalLinkage, Name, MyModule.get());\n    return fooFunc;\n};\n\nvoid updateBody(Function *fooFunc, IRBuilder&lt;&gt; &amp;Builder) {\n    auto *entry = BasicBlock::Create(Context, \"entry\", fooFunc);\n    Builder.SetInsertPoint(entry);\n    auto args = fooFunc-&gt;arg_begin();\n    Value *arg1 = &amp;(*args);\n    args = std::next(args);\n    Value *arg2 = &amp;(*args);\n    auto *sum = Builder.CreateAdd(arg1, arg2, \"tmp\");\n    Builder.CreateRet(sum);\n};\n\nint main(int argc, char* argv[]) {\n    // Prepare the module\n    static IRBuilder&lt;&gt; Builder(Context);\n    auto *fooFunc = createFunc(Builder, \"sum\");\n    updateBody(fooFunc, Builder);\n    verifyFunction(*fooFunc);\n\n    // Initilaze native target\n    InitializeNativeTarget();\n    InitializeNativeTargetAsmPrinter();\n    InitializeNativeTargetAsmParser();\n\n    // Prepare jit layer\n    ObjLayerT ObjectLayer;\n    std::unique_ptr&lt;TargetMachine&gt; TM(EngineBuilder().selectTarget());\n    DataLayout DL(TM-&gt;createDataLayout());\n    CompileLayerT CompileLayer(ObjectLayer, orc::SimpleCompiler(*TM));\n    auto Resolver = orc::createLambdaResolver(\n        [&amp;](const std::string &amp;Name) {\n            if (auto Sym = CompileLayer.findSymbol(Name, false))\n                return Sym;\n            return JITSymbol(nullptr);\n        },\n        [](const std::string &amp;S) { return nullptr; }\n    );\n\n    // Add MyModule to the jit layer\n    std::vector&lt;std::unique_ptr&lt;Module&gt;&gt; Modules;\n    Modules.push_back(std::move(MyModule));\n    auto handle = CompileLayer.addModuleSet(std::move(Modules),\n                        make_unique&lt;SectionMemoryManager&gt;(),\n                        std::move(Resolver));\n\n    // Retrieve the foo symbol\n    std::string MangledName;\n    raw_string_ostream MangledNameStream(MangledName);\n    Mangler::getNameWithPrefix(MangledNameStream, \"sum\", DL);\n    auto Sym = CompileLayer.findSymbol(MangledNameStream.str(), true);\n\n    // Cast to function\n    auto func = (int(*)(int, int))Sym.getAddress();\n\n    // Try it\n    std::cout &lt;&lt; func(5, 7) &lt;&lt; std::endl;\n\n    CompileLayer.removeModuleSet(handle);\n\n    try {\n      throw std::runtime_error(\"Whoops!\");\n    } catch (const std::runtime_error&amp; e) {\n      std::cout &lt;&lt; \"Exception: \" &lt;&lt; e.what() &lt;&lt; '\\n';\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Compiled with :</p>\n\n<pre><code>$ clang++ -std=c++11 -lLLVM code.cpp -o jittest\n</code></pre>\n\n<p>Provides following output :</p>\n\n<pre><code>$ ./jittest \n12\nSegmentation fault (core dumped)\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1493226473, "post_id": 43638960, "comment_id": 74329240, "body": "Absolutely no idea what you&#39;re asking. Maybe an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> would be a good starting point?"}, {"owner": {"reputation": 401, "user_id": 971161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc631baabcc146d133c9a42dfba7ab78?s=128&d=identicon&r=PG", "display_name": "userr1728854", "link": "https://stackoverflow.com/users/971161/userr1728854"}, "edited": false, "score": 0, "creation_date": 1493226973, "post_id": 43638960, "comment_id": 74329529, "body": "Have you tried connecting with Qt::QueuedConnection?"}, {"owner": {"reputation": 1, "user_id": 7924551, "user_type": "registered", "profile_image": "https://graph.facebook.com/909103729227363/picture?type=large", "display_name": "Tr\u1ea7n An", "link": "https://stackoverflow.com/users/7924551/tr%e1%ba%a7n-an"}, "edited": false, "score": 0, "creation_date": 1493281688, "post_id": 43638960, "comment_id": 74352423, "body": "first of all, thanks you for you answer, but the library run multi thread without qt ,  how can i emit any signal from any thread of library"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7924551, "user_type": "registered", "profile_image": "https://graph.facebook.com/909103729227363/picture?type=large", "display_name": "Tr\u1ea7n An", "link": "https://stackoverflow.com/users/7924551/tr%e1%ba%a7n-an"}, "edited": false, "score": 0, "creation_date": 1493543712, "post_id": 43677870, "comment_id": 74454138, "body": "thanks you for your answer, but the library run multi thread without qt"}, {"owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "reply_to_user": {"reputation": 1, "user_id": 7924551, "user_type": "registered", "profile_image": "https://graph.facebook.com/909103729227363/picture?type=large", "display_name": "Tr\u1ea7n An", "link": "https://stackoverflow.com/users/7924551/tr%e1%ba%a7n-an"}, "edited": false, "score": 1, "creation_date": 1493573082, "post_id": 43677870, "comment_id": 74462365, "body": "I think you can call QMetaObject::invokeMethod() from a non Qt thread."}], "tags": [], "owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1493374866, "creation_date": 1493374866, "answer_id": 43677870, "question_id": 43638960, "link": "https://stackoverflow.com/questions/43638960/qt-signal-slots-in-one-class-but-emitted-from-different-threads/43677870#43677870", "title": "Qt Signal/Slots in one class but emitted from different threads", "body": "<p>In your interface function instead of emitting a signal, use <code>QMetaObject::invokeMethod()</code> or <code>QTimer::singleShot()</code>.</p>\n\n<p>For <code>QMetaObject::invokeMethod()</code> you may need to explicitly pass <code>Qt::QueuedConnection</code>.</p>\n\n<p>For <code>QTimer::singleShot()</code> set a delay of 0 ms.</p>\n\n<p>Also technically <code>connect(this, SIGNAL(xyz), this, SLOT(xyz),Qt::QueuedConnection);</code> and then calling the signal your interface function would work. But I am not a big fan of emitting signals from outside the class. This was not possible in Qt 4 as signals were protected functions, this has changed since Qt 5 as public signals was a necessity for the new connect syntax.</p>\n"}], "owner": {"reputation": 1, "user_id": 7924551, "user_type": "registered", "profile_image": "https://graph.facebook.com/909103729227363/picture?type=large", "display_name": "Tr\u1ea7n An", "link": "https://stackoverflow.com/users/7924551/tr%e1%ba%a7n-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493374866, "creation_date": 1493221681, "last_edit_date": 1493262146, "question_id": 43638960, "link": "https://stackoverflow.com/questions/43638960/qt-signal-slots-in-one-class-but-emitted-from-different-threads", "title": "Qt Signal/Slots in one class but emitted from different threads", "body": "<p>The project is divided in two parts, a library where all processing is done and the GUI. The library is completely in C++/MFC and should not be changed that much because it is also used in none Qt projects which have to be running without Qt dependencies.</p>\n\n<p>The library defines an interface to make calls to an GUI. So the Qt GUI also implements this interface in order to receive the calls from the library. The library runs several threads.\nSome of the processing of the GUI calls should not block the library from running. So the GUI class defines slots and signals, the signals are emitted in the implemented interface functions. The signals and slots are connected using:</p>\n\n<pre><code>connect(this, SIGNAL(xyz), this SLOT(xyz));\n</code></pre>\n\n<p>I think the problem is that the interface functions that emit the signals are running in <code>thread A</code> but the GUI runs in <code>thread B</code>. The right way would be create QObjects inside the library and define the signals on that side, but this is not possible in my case. Any suggestions?</p>\n"}, {"tags": ["c++", "qt", "binary-tree"], "answers": [{"tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": false, "score": 0, "last_activity_date": 1493223562, "last_edit_date": 1495540017, "creation_date": 1493223000, "answer_id": 43639434, "question_id": 43638923, "link": "https://stackoverflow.com/questions/43638923/qt-printing-binary-tree-instruction-messages/43639434#43639434", "title": "QT printing binary tree instruction messages", "body": "<p>Seems you forgot to update the pointer to the last inserted,</p>\n\n<p>Try this:</p>\n\n<pre><code>        ...\n        if(aWord &lt; ptr-&gt;word)\n        {\n            ...\n            ptr = ptr-&gt;below;\n        }\n        else if(aWord &gt; ptr-&gt;word)\n        {\n            ...\n            ptr = ptr-&gt;above;\n        }\n        ...\n</code></pre>\n\n<p>PS: I'm not completly sure what I'm doing beacause you don'n provide a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, but I think the post is suficient to infer that you are not changing the pointer to the last inserted.</p>\n"}], "owner": {"reputation": 35, "user_id": 5558046, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/281d26d9ceea9c35d15338736b6f7827?s=128&d=identicon&r=PG&f=1", "display_name": "user_1", "link": "https://stackoverflow.com/users/5558046/user-1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493223562, "creation_date": 1493221579, "question_id": 43638923, "link": "https://stackoverflow.com/questions/43638923/qt-printing-binary-tree-instruction-messages", "title": "QT printing binary tree instruction messages", "body": "<p>I am having an issue trying to display correct debugging messages in my GUI on qt.  I am implementing a binary tree based on words that are entered by a user.  And for each word that is entered an appropriate debugging message should display.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p>user enters : <code>a</code></p></li>\n<li><p>then user enters <code>b</code></p></li>\n<li><p>debugging message <code>word is greater than a</code></p></li>\n</ul>\n\n<p>The problem that I am having is that if the user was to then type a third word in the debugging message is incorrect.</p>\n\n<ul>\n<li><p>user enters <code>c</code></p></li>\n<li><p>debugging message still displays as <code>word is greater than a</code></p></li>\n</ul>\n\n<p>But I would like it to display <code>word is greater than b</code> instead.</p>\n\n<p>If the user inputs a duplicate word the message should display <code>'word' has already been detected</code>.  This message only works if its the original word that the user has entered and is duplicating.  For the example above if the user enters <code>a</code> again the correct message appears.  If they enter <code>b</code> again the duplicate message does not appear.</p>\n\n<p>How can I fix this? </p>\n\n<pre><code>QStringList tree::VerboseModeinsert(NodePtr &amp;ptr, QString aWord)\n{\n\n    aWord.remove(QRegExp(\"[[]\"));\n    aWord.remove(QRegExp(\"[]]\"));\n\n    if(!(aWord.contains(QRegExp(\"[0123456789]\"))))\n    {\n    aWord = aWord.toLower();\n    if(ptr != NULL)\n    {\n        if(aWord &lt; ptr-&gt;word)\n        {\n            insert(ptr-&gt;below, aWord);\n            QString a = \"Word is less than \";\n            QString b = ptr-&gt;word;\n            verboseList &lt;&lt; a + b;\n        }\n        else if(aWord &gt; ptr-&gt;word)\n        {\n            insert(ptr-&gt;above, aWord);\n            QString a = \"Word is greater than \";\n            QString b = ptr-&gt;word;\n            verboseList &lt;&lt; a + b;\n        }\n        else\n        {\n            ptr-&gt;occurence++;\n            QString c = \" has already been detected\";\n            verboseList &lt;&lt; aWord + c;\n        }\n    }\n    else\n    {\n        ptr = new WordTree;\n        ptr-&gt;word = aWord;\n        ptr-&gt;below = NULL;\n        ptr-&gt;above = NULL;\n        ptr-&gt;occurence = 1;\n    }\n}\nreturn verboseList;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "translation", "qtranslator"], "comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493221405, "post_id": 43638680, "comment_id": 74326010, "body": "Qt will append a suffix (default <code>.qm</code>) first, so I&#39;d recommend removing that from the filename argument.  Note that the documentation recommends using the overload that accepts a <code>QLocale</code> as first argument, too.  For example, <code>translator.load(QLocale::French, &quot;qt&quot;, QApplication::applicationDirPath())</code>."}, {"owner": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493223550, "post_id": 43638680, "comment_id": 74327499, "body": "Indeed you&#39;re right: the loading process is straightforward if no extension is added to the filename. But since Qt backtracks and retries when load fails, adding the .qm extension shouldn&#39;t have lead to failure.  I also tried the version with QLocale but it still does not work. Any other suggestion would be welcome."}, {"owner": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493223680, "post_id": 43638680, "comment_id": 74327598, "body": "Furthermore, using QLocale assumes that the qm file we&#39;re loading matches with the language installed on the OS running our software. But <a href=\"https://camo.githubusercontent.com/8e48efe46e756e80f900584241c5c108ebc7fcef/68747470733a2f2f757365722e6f632d7374617469632e636f6d2f75706c6f61642f323031372f30312f32362f31343835343536393833393335385f696d6734372e706e67\" rel=\"nofollow noreferrer\">sometimes</a> we may choose english while being German (for instance).  The above-provided snippet of mine works fine when I use my own .qm file (lupdate &amp; lrelease) but when it comes to loading Qt builtin .qm files, the loading process fails."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 1, "creation_date": 1493245357, "post_id": 43638680, "comment_id": 74339409, "body": "My comment was just a &quot;best practice&quot; rather than a solution (which was why it&#39;s a comment and not an answer).  But it definitely allows use of a locale that&#39;s not supported by the OS - hence my use of <code>QLocale::French</code> (and, implicitly, the constructor that accepts a <code>QLocale::Language</code>) rather than simply <code>QLocale{}</code>.  As to solving the problem, I&#39;d be interested to read some actual answers, and learn a bit more for myself about translation in Qt."}, {"owner": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1493253204, "post_id": 43638680, "comment_id": 74341673, "body": "You&#39;re definitely right. It&#39;s even stated in the doc: shame on me. Anyway hope somebody will be able to provide me with a solution since it seems that the Qt builtin .qm files are not deployed the same way as those I would create myself (using lupdate &amp; lrelease). And yet I&#39;m not using various versions of Qt."}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "edited": false, "score": 0, "creation_date": 1493297450, "post_id": 43653049, "comment_id": 74363965, "body": "Indeed I didn&#39;t copy the dependency files and that&#39;s why the translator always failed at loading the qm file. I now also realize that since I only want to translate text edit contextual menus, loading <b>qtbase_fr</b> perfectly suits my needs and no dependency file is required. Thanks a lot, I would have 10 up-voted if I could. :) Btw how do you know about the lconvert tool? That is I&#39;ve never heard of it, I&#39;m not that new to Qt and unless somebody told me, I know no magic tricks that could have helped me out. <i>Sorry for the tenses, not a native english speaker here</i>."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "reply_to_user": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "edited": false, "score": 1, "creation_date": 1493297648, "post_id": 43653049, "comment_id": 74364145, "body": "LConvert seems not to be very well known - it&#39;s only mentioned briefly in passing in the Qt documentation, and doesn&#39;t come with a manual page.  Everything I know about it I learnt using <code>lconvert -help</code>.  And yes, I should have suggested you might need only the <code>qtbase</code> translations, but you seem to have worked that out without my help!  :-)  I&#39;ve edited the last paragraph a little, for future readers."}], "tags": [], "owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "is_accepted": true, "score": 2, "last_activity_date": 1493297883, "last_edit_date": 1493297883, "creation_date": 1493283154, "answer_id": 43653049, "question_id": 43638680, "link": "https://stackoverflow.com/questions/43638680/qt-use-builtin-translations/43653049#43653049", "title": "Qt - Use builtin translations", "body": "<p>I think the problem may be that you haven't copied the complete message catalog.  The following works for me on a Debian system, using the QM files in their standard locations:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QLocale&gt;\n#include &lt;QTranslator&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    QTranslator translator;\n    const QString dir = \"/usr/share/qt5/translations\";\n\n    if (translator.load(\"qt_fr\", dir)) {\n        qDebug() &lt;&lt; \"first load succeeded:\"\n                 &lt;&lt; \"'Open' =&gt;\" &lt;&lt; translator.translate(\"QShortcut\", \"Open\");\n    }\n\n    if (translator.load(QLocale::French, \"qt\", \"_\", dir)) {\n        qDebug() &lt;&lt; \"second load succeeded:\"\n                 &lt;&lt; \"'Open' =&gt;\" &lt;&lt; translator.translate(\"QShortcut\", \"Open\");\n    }\n}\n</code></pre>\n\n<p>Output is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>first load succeeded: 'Open' =&gt; \"Ouvrir\"\nsecond load succeeded: 'Open' =&gt; \"Ouvrir\"\n</code></pre>\n\n<p>(I removed the <code>.qm</code> from the filename, as Qt will try that first, and I've also shown how to compose the filename from a specific locale object).</p>\n\n<p>If we inspect the <code>qt_fr.qm</code> file using <code>lconvert -of ts /usr/share/qt5/translations/qt_fr.qm</code>, we can see it's just a very small file that incorporates other files by reference:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE TS&gt;\n&lt;TS version=\"2.1\" language=\"fr_FR\"&gt;\n&lt;dependencies&gt;\n&lt;dependency catalog=\"qtbase_fr\"/&gt;\n&lt;dependency catalog=\"qtscript_fr\"/&gt;\n&lt;dependency catalog=\"qtquick1_fr\"/&gt;\n&lt;dependency catalog=\"qtmultimedia_fr\"/&gt;\n&lt;dependency catalog=\"qtxmlpatterns_fr\"/&gt;\n&lt;/dependencies&gt;\n&lt;/TS&gt;\n</code></pre>\n\n<p>I think that the most likely cause of your symptoms is that one or more of the dependency files could not be loaded.  You should ensure that all of those files area available in the same location that you copied <code>qt_fr.qm</code> to - or, if you only need the \"base\" translations, just copy <code>qtbase_fr.qm</code>, and change your <code>translator.load()</code> call appropriately.</p>\n"}], "owner": {"reputation": 140, "user_id": 7269722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1b1390a4de9422dc77cf873deca96b?s=128&d=identicon&r=PG&f=1", "display_name": "misterFad", "link": "https://stackoverflow.com/users/7269722/misterfad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 43653049, "answer_count": 1, "score": 0, "last_activity_date": 1493297883, "creation_date": 1493220904, "last_edit_date": 1493221714, "question_id": 43638680, "link": "https://stackoverflow.com/questions/43638680/qt-use-builtin-translations", "title": "Qt - Use builtin translations", "body": "<p>I'm using Qt and want to translate the texts \"natively\" shown by Qt widgets. By \"texts natively shown\" I'm for instance referring to the ones shown in context menus for text edits (copy, paste, ...).</p>\n\n<p>Here is what I've already done:</p>\n\n<pre><code>#include &lt;QApplication&gt;\n#include &lt;QDebug&gt;\n#include &lt;QTranslator&gt;\n\n#include &lt;QFile&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n\n    QTranslator translator;\n    if(translator.load(\"qt_fr.qm\", QApplication::applicationDirPath())) {\n        qDebug() &lt;&lt; a.installTranslator(&amp;translator);\n    }\n\n    qDebug() &lt;&lt; QFile::exists(QApplication::applicationDirPath() + \"/qt_fr.qm\"); // just to debug file existence\n\n    // MainWindow w;      // not related to my question\n    // w.showMaximized(); // neither is this\n\n    return a.exec();\n}\n</code></pre>\n\n<p>The <strong>qt_fr.qm</strong> file is located at <strong>path_to_qt/Qt5.6.2/5.6/mingw49_32/translations</strong> for Qt5.6.2 and MinGW users. I copy the said file to the running software directory but the translator always fails to load it. But when I use my own qm file (built from a .ts file using the Qt lupdate and lrelease tools), the qm file is properly loaded and installed.</p>\n\n<p>Is there something I'm missing or doing wrong?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 4, "creation_date": 1493220817, "post_id": 43638571, "comment_id": 74325556, "body": "If your sets are sorted or if they may be sorted you may be able to use <a href=\"http://en.cppreference.com/w/cpp/algorithm/set_difference\" rel=\"nofollow noreferrer\"><code>std::set_difference</code></a>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493221045, "post_id": 43638571, "comment_id": 74325733, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/43099696/how-to-compare-2-vectors-and-create-a-separate-vector-based-on-the-comparison\">How to compare 2 vectors and create a separate vector based on the comparison</a>"}, {"owner": {"reputation": 115, "user_id": 1491101, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/26470de21dfa1249048a225e3ab4ae87?s=128&d=identicon&r=PG", "display_name": "ericc", "link": "https://stackoverflow.com/users/1491101/ericc"}, "edited": false, "score": 0, "creation_date": 1493221635, "post_id": 43638571, "comment_id": 74326184, "body": "The arrays contain objects which encapusulate strings from text files and other formats along with a load of metadata for each string. They cannot be sorted as we need to preserve the order of the strings."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1493222223, "post_id": 43638571, "comment_id": 74326595, "body": "It doesn&#39;t look like you have a specific question. It&#39;s more akin to an open-ended request for recommendations."}], "owner": {"reputation": 115, "user_id": 1491101, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/26470de21dfa1249048a225e3ab4ae87?s=128&d=identicon&r=PG", "display_name": "ericc", "link": "https://stackoverflow.com/users/1491101/ericc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493220664, "creation_date": 1493220664, "question_id": 43638571, "link": "https://stackoverflow.com/questions/43638571/generating-difference-of-two-object-arrays-in-c", "title": "Generating difference of two object arrays in C++", "body": "<p>I'm working on an interesting problem at the moment where I have a C++ program which uses two arrays of objects, of possibly different lengths which may contain some, all, or none of the same objects at the same or different indices.</p>\n\n<p>I want to create a list (keeping it data structure agnostic for the moment) of pairs of these objects that represents a diff of these arrays. The reason for this is that the list will be passed to a UI control that expects the data in this format.</p>\n\n<p>If an object is in the first array, but not the other, then that qualifies as an insertion as you would expect in diff or another comparison tool, so I want to add that object to my list without a corresponding object from the second array. The opposite is true if I find an object in the second array that isn't in the first.</p>\n\n<p>For objects that are either the same or not insertions/deletions, we set the first and second object of each entry in the list to the value in the first and second array accordingly.</p>\n\n<p>I've been investigating various diff algorithms such as the ones outlined here <a href=\"http://www.somethinkodd.com/oddthinking/2006/01/16/comparing-strings-an-analysis-of-diff-algorithms/\" rel=\"nofollow noreferrer\">http://www.somethinkodd.com/oddthinking/2006/01/16/comparing-strings-an-analysis-of-diff-algorithms/</a>\nHowever I get the impression they may be overkill for what I am trying to do. If anyone has any suggestions I'd be very grateful, thanks.</p>\n"}, {"tags": ["c++", "c++11", "templates", "shared-libraries", "extern"], "comments": [{"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 0, "creation_date": 1493221561, "post_id": 43638368, "comment_id": 74326138, "body": "<a href=\"http://eel.is/c++draft/temp.explicit#5\" rel=\"nofollow noreferrer\">the explicit instantiation has no effect</a>"}, {"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1493589288, "post_id": 43638368, "comment_id": 74467496, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">Why can templates only be implemented in the header file?</a>"}], "owner": {"reputation": 4160, "user_id": 371239, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/decd51f67e3f34f4d6c526fed9b4a2dd?s=128&d=identicon&r=PG", "display_name": "Vahagn", "link": "https://stackoverflow.com/users/371239/vahagn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493252809, "creation_date": 1493220204, "last_edit_date": 1493252809, "question_id": 43638368, "link": "https://stackoverflow.com/questions/43638368/will-extern-template-reduce-the-compile-time-for-a-full-specialization", "title": "Will extern template reduce the compile time for a full specialization?", "body": "<p>Consider a program consists of files <code>AA.hpp</code>, <code>A1.hpp</code>, <code>A1.cpp</code>, and <code>main.cpp</code> compiled with <code>g++ -std=c++11 main.cpp A1.cpp</code>.</p>\n\n<hr>\n\n<pre><code>// file AA.hpp\ntemplate &lt; int &gt; struct AA;\n</code></pre>\n\n<hr>\n\n<pre><code>// file A1.hpp\n#include \"AA.hpp\"\ntemplate &lt;&gt; struct AA&lt;1&gt; { /*implementation goes here...*/ };\nextern template struct AA&lt;1&gt;;\n</code></pre>\n\n<hr>\n\n<pre><code>// file A1.cpp\n#include \"A1.hpp\"\ntemplate struct AA&lt;1&gt;;\n</code></pre>\n\n<hr>\n\n<pre><code>// file main.cpp\n#include \"A1.hpp\"\nint main()\n{\n    AA&lt;1&gt; a1;\n    // use a1 ...\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<p>Compare this with a scenario when there is no <code>A1.cpp</code> and there is no explicit instantiation declaration in <code>A1.hpp</code>. Will I get any compilation time benefits in the first scenario? And why?</p>\n\n<p>Another question. What if I make a shared library of <code>A1.cpp</code> by <code>g++ -std=c++11 -shared -o libA1.so A1.cpp</code> and then make executable with <code>g++ -std=c++11 -lA1 main.cpp</code>? Will the calls of <code>A1</code>'s functions in <code>man.cpp</code> refer to the code in <code>libA1.so</code> or they will be generated (inlined or not) in the executable?</p>\n"}, {"tags": ["c++", "arrays", "multidimensional-array", "sprite", "tile"], "comments": [{"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493220761, "post_id": 43638346, "comment_id": 74325513, "body": "It depends on how your sprite is implemented."}, {"owner": {"reputation": 3805, "user_id": 4165552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18b32c5e142791fca01cbf252f663ac?s=128&d=identicon&r=PG&f=1", "display_name": "pptaszni", "link": "https://stackoverflow.com/users/4165552/pptaszni"}, "edited": false, "score": 0, "creation_date": 1493220824, "post_id": 43638346, "comment_id": 74325561, "body": "Please explain precisely what your Sprite actually is and what do you mean by &quot;create&quot; and &quot;draw&quot;? What is the logic you are trying to implement? If your point is to execute some specific action for each maze element equal to &quot;1&quot;, you should just use the appropriate function inside your IF condition."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1493223798, "post_id": 43638346, "comment_id": 74327679, "body": "It may be possible to create the sprite objects in place. More information required to provide a usable answer."}, {"owner": {"reputation": 13, "user_id": 7892317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9b8bed76ab75100c64be30ca164c70?s=128&d=identicon&r=PG&f=1", "display_name": "Jemma", "link": "https://stackoverflow.com/users/7892317/jemma"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493237588, "post_id": 43638346, "comment_id": 74335707, "body": "Ok, so the Sprite object is a class that is just going to load a small bitmap, then render it to the backbuffer (Render to backbuffer is what I meant by draw). By create I meant using the new keyword so <code>Sprite Tile = new Sprite(); </code> command (Think I should have said create an instance of the sprite object to be more accurate ... My bad :| ). What I&#39;m trying to do is render a wall bitmap where each element is equal to 1 and a grass bitmap where the element is equal to 0.  Hope I&#39;ve made it somewhat clearer. @appleapple @Pawe\u0142Ptasznik @user4581301"}, {"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493303481, "post_id": 43638346, "comment_id": 74368510, "body": "if your sprite object don&#39;t keep the bitmap than there is no significant difference here. It&#39;s still not clear about your sprite class. What I can say is you should <b>load bitmap once</b> and use that for every draw (do this in sprite class or outer is not matter)"}], "owner": {"reputation": 13, "user_id": 7892317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e9b8bed76ab75100c64be30ca164c70?s=128&d=identicon&r=PG&f=1", "display_name": "Jemma", "link": "https://stackoverflow.com/users/7892317/jemma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493220152, "creation_date": 1493220152, "question_id": 43638346, "link": "https://stackoverflow.com/questions/43638346/should-each-element-of-a-2d-array-create-a-new-sprite-object", "title": "Should each element of a 2d array create a new Sprite object?", "body": "<p>I'm trying to create a tilemap with a 2d array and was struggling slightly with it. When I iterate through the array should I create a new Sprite object for each element in the array or is it possible to just create a sprite object for each of the different tiles then copy them to the relevant positions on screen. For example - note Rows and Columns are const ints already initialised to 5</p>\n\n<pre><code>    int MazeMap[Rows][Columns] = { //Should the array type be int or Sprite*\n{1, 1, 1, 1, 1}, \n{1, 0, 0, 0, 1}, \n{1, 0, 1, 1, 1}, \n{1, 0, 0, 0, 1}, \n{1, 1, 1, 1, 1}\n};\nfor(int x = 0; x&lt;Rows; x++)\n{  \n   for(int y = 0; y&lt;Columns; y++)\n   { \n      if(MazeMap[x][y]==1)\n      {\n        //should I create a new Sprite object here or should I create\n        // a Tile1 sprite object above the array and then just pass it into\n        //this array to draw it to the screen?\n       }\n   }\n}\n</code></pre>\n\n<p>To me it just seems really inefficient to have (in this case) 25 sprite objects when you can just have 2 sprite objects and copy them to a number of different locations on screen.</p>\n"}, {"tags": ["c++", "macos", "fsevents"], "comments": [{"owner": {"reputation": 768, "user_id": 7419656, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/232d47a20e2ca36fd17ca7833c513f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Ssswift", "link": "https://stackoverflow.com/users/7419656/ssswift"}, "edited": false, "score": 0, "creation_date": 1493229813, "post_id": 43638230, "comment_id": 74331151, "body": "Well, it&#39;s not technically lying.  Those 4 events did occur within an update period.  It&#39;s true you can&#39;t look at them in isolation to tell that the user swapped subdir1&lt;-&gt;subdir2, but you couldn&#39;t actually tell that in the first case, either (they could have been renamed to/from paths outside of your <code>_monitoredPaths</code> at just the same time)."}, {"owner": {"reputation": 3772, "user_id": 85642, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/6dd3ed8c534b8ea9f73872c6e5395ed4?s=128&d=identicon&r=PG", "display_name": "Steve Broberg", "link": "https://stackoverflow.com/users/85642/steve-broberg"}, "reply_to_user": {"reputation": 768, "user_id": 7419656, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/232d47a20e2ca36fd17ca7833c513f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Ssswift", "link": "https://stackoverflow.com/users/7419656/ssswift"}, "edited": false, "score": 0, "creation_date": 1493238102, "post_id": 43638230, "comment_id": 74335974, "body": "It&#39;s lying by omission, though.  And although you&#39;re technically correct about the first case involving moves outside the monitored area, it could be mitigated by simply monitoring &quot;/&quot; for the volume and receiving all events.  As it stands, the current implementation may as well not even bother giving rename events, since they can never be trusted to be correct."}], "answers": [{"comments": [{"owner": {"reputation": 3772, "user_id": 85642, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/6dd3ed8c534b8ea9f73872c6e5395ed4?s=128&d=identicon&r=PG", "display_name": "Steve Broberg", "link": "https://stackoverflow.com/users/85642/steve-broberg"}, "edited": false, "score": 0, "creation_date": 1573068916, "post_id": 58549054, "comment_id": 103764687, "body": "Good to know!  Unfortunately, we&#39;re shipping code that needs to run all the way back to 10.7 :(."}], "tags": [], "owner": {"reputation": 813, "user_id": 426736, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/edddecf45c7c30f5540f8fa7826bc538?s=128&d=identicon&r=PG", "display_name": "Tomek Sowi\u0144ski", "link": "https://stackoverflow.com/users/426736/tomek-sowi%c5%84ski"}, "is_accepted": false, "score": 1, "last_activity_date": 1571950685, "creation_date": 1571950685, "answer_id": 58549054, "question_id": 43638230, "link": "https://stackoverflow.com/questions/43638230/how-to-solve-broken-event-compression-in-fseventstream/58549054#58549054", "title": "How to solve broken event compression in FSEventStream", "body": "<p>The solution for overly aggressive event folding can be using <code>kFSEventStreamCreateFlagUseExtendedData</code> (available since OS X 10.13). A stream created with that flag will include the <strong>inode</strong> of the event file. That way you can detect \"rename chains\" that happened in a reported event batch.</p>\n\n<p>P.S. I tried your scenario in my file monitor; the event sequence was correct.</p>\n"}], "owner": {"reputation": 3772, "user_id": 85642, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/6dd3ed8c534b8ea9f73872c6e5395ed4?s=128&d=identicon&r=PG", "display_name": "Steve Broberg", "link": "https://stackoverflow.com/users/85642/steve-broberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1571950685, "creation_date": 1493219763, "last_edit_date": 1493220173, "question_id": 43638230, "link": "https://stackoverflow.com/questions/43638230/how-to-solve-broken-event-compression-in-fseventstream", "title": "How to solve broken event compression in FSEventStream", "body": "<p>Our C++ application is using FSEventStream to monitor the filesystem with file-level granularity (creating the stream with the kFSEventStreamCreateFlagFileEvents flag), with one listener per volume.  However, there appears to be some bugs/misfeatures in the Apple FSEvent API, stemming from how they compress (remove duplicate) events from the stream before sending them to us:</p>\n\n<ol>\n<li><p>Minor, but annoying: when starting up the stream using a previous event id as a starting point (in order to capture changes to the filesystem since the last time we were monitoring), the order of the events provided is different from what we get if we're listening to the events as they occur, in that the events don't arrive in eventId order, but instead sorted alphanumerically by filename.  We've worked around this issue by accumulating all the historical events in an id-sorted list before processing the set.</p></li>\n<li><p>Major:  If rename events occur fast enough, the actual events being given to us in the callback function do not represent what has actually happened on the filesystem.  Consider our test case where we swap dir names:</p>\n\n<p>a.  change a file</p>\n\n<p>b.  rename its parent dir to _temp</p>\n\n<p>c.  rename another dir to name of previous parent</p>\n\n<p>d.  rename _temp to the dir in step c.</p></li>\n</ol>\n\n<p>If we put a 50 ms delay in between each of these steps (essentially, any delay which guarantees that a given event will not be in the same callback as another event), we get the correct sequence of events (with renames showing up as pairs of events):</p>\n\n<pre><code>fsEventsCallback: Received FSEvents callback with 1 events:\nfsEventsCallback: ID=34303406 PATH= /Users/stebro/swaptest/subdir1/file_1.txt FLAGS=kFSEventStreamEventFlagItemInodeMetaMod, kFSEventStreamEventFlagItemIsFile, kFSEventStreamEventFlagItemModified\nfsEventsCallback: Received FSEvents callback with 2 events:\nfsEventsCallback: ID=34303436 PATH= /Users/stebro/swaptest/subdir1 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: ID=34303437 PATH= /Users/stebro/swaptest/subdir1_temp FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: Received FSEvents callback with 2 events:\nfsEventsCallback: ID=34303620 PATH= /Users/stebro/swaptest/subdir2 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: ID=34303621 PATH= /Users/stebro/swaptest/subdir1 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: Received FSEvents callback with 2 events:\nfsEventsCallback: ID=34303741 PATH= /Users/stebro/swaptest/subdir1_temp FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: ID=34303742 PATH= /Users/stebro/swaptest/subdir2 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\n</code></pre>\n\n<p>However, with no delay (or a delay small enough that the multiple rename events will arrive in the same callback invocation), it appears that the OS is doing use the \"favor\" of removing what it sees as redundant events, resulting in this mess:</p>\n\n<pre><code>fsEventsCallback: Received FSEvents callback with 4 events:\nfsEventsCallback: ID=34251572 PATH= /Users/stebro/swaptest/subdir1/file_1.txt FLAGS=kFSEventStreamEventFlagItemInodeMetaMod, kFSEventStreamEventFlagItemIsFile, kFSEventStreamEventFlagItemModified\nfsEventsCallback: ID=34251580 PATH= /Users/stebro/swaptest/subdir1 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: ID=34251583 PATH= /Users/stebro/swaptest/subdir1_temp FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\nfsEventsCallback: ID=34251584 PATH= /Users/stebro/swaptest/subdir2 FLAGS=kFSEventStreamEventFlagItemIsDir, kFSEventStreamEventFlagItemRenamed\n</code></pre>\n\n<p>Is there something we can do to suppress this compression?  We're creating the stream using this call:</p>\n\n<pre><code>FSEventStreamCreateRelativeToDevice(kCFAllocatorDefault,\n                                    &amp;fsEventsCallback,\n                                    &amp;context,\n                                    device,\n                                    reinterpret_cast&lt;CFArrayRef&gt;(_monitoredPaths),\n                                    lastEventId,\n                                    0, // Latency - problem exists with values of 1, 0.1 and 3 as well\n                                    kFSEventStreamCreateFlagFileEvents | kFSEventStreamCreateFlagNoDefer);\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "concurrency", "locking", "lock-free"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 3274999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/hPUK0.jpg?s=128&g=1", "display_name": "Kasun", "link": "https://stackoverflow.com/users/3274999/kasun"}, "edited": false, "score": 0, "creation_date": 1493225427, "post_id": 43638740, "comment_id": 74328637, "body": "thanks for the answer..i  have few doubts about this..say tow threads come to execute increase_head_count function and one is suspended at the beginning. Now one thread going to execute all the way and even delete the old_node pointer as well (see the full implementation given in the link) now when suspended thread wake up, isn&#39;t it going to throw exception (invalid memory or some thing like that ) when executing ++new_counter.external_count; code since it refer deleted node(by first thread)."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "reply_to_user": {"reputation": 177, "user_id": 3274999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/hPUK0.jpg?s=128&g=1", "display_name": "Kasun", "link": "https://stackoverflow.com/users/3274999/kasun"}, "edited": false, "score": 0, "creation_date": 1493293041, "post_id": 43638740, "comment_id": 74360479, "body": "The first thread (that goes all the way through method <code>increase_head_count()</code> ) will take control of <code>head</code> before deleting it.  It attempts to remove it from the stack before deleting.  When it is successfully removed from the stack, the second thread (which wakes up in <code>increase_head_count()</code> ) will not have any reference to head.   As I said above, <code>old_counter</code> will now be updated to point at the new <code>head</code>, so it will not be trying to access any node that has been deleted."}, {"owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "reply_to_user": {"reputation": 177, "user_id": 3274999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/hPUK0.jpg?s=128&g=1", "display_name": "Kasun", "link": "https://stackoverflow.com/users/3274999/kasun"}, "edited": false, "score": 0, "creation_date": 1493294563, "post_id": 43638740, "comment_id": 74361636, "body": "My concerns with this code would be, if the first (successful) thread gains control of the last pushed node, and <code>head</code> now points to the original <code>counted_node_ptr</code>, the code (in method <code>pop</code>) for this second thread will not attempt to delete this <code>head</code>, as <code>ptr</code> is <code>NULL</code>.  Not deleting the head will allow all secondary threads looping inside <code>counted_node_ptr</code> to leave <code>pop</code> return an empty value of <code>T</code>.  However <code>ptr</code> for the original value of <code>head</code> is not guaranteed to be <code>NULL</code>, as without a constructor it won&#39;t have been initialised."}], "tags": [], "owner": {"reputation": 329, "user_id": 610605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52676a7f64a6723d917d6cc7be176ec8?s=128&d=identicon&r=PG", "display_name": "Paul Bentley", "link": "https://stackoverflow.com/users/610605/paul-bentley"}, "is_accepted": false, "score": 1, "last_activity_date": 1493221075, "creation_date": 1493221075, "answer_id": 43638740, "question_id": 43638129, "link": "https://stackoverflow.com/questions/43638129/implementation-of-lock-free-stack-using-split-reference-count-in-the-concurrency/43638740#43638740", "title": "Implementation of lock free stack using split reference count in the concurrency in action book", "body": "<p>If in the while clause, the old_counter still equals new_counter, then head is set to new_counter.  This is the case for the single thread that succeeds at any one time.</p>\n\n<p>For other threads accessing this method simultaneously, compare_exchange_strong() returns false causing a loop iteration.  However, it will also copy head over the contents of old_counter.  </p>\n\n<p>This means in the next loop for these other (unsuccessful) threads, old_counter has been updated with the current contents of head.</p>\n"}], "owner": {"reputation": 177, "user_id": 3274999, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/hPUK0.jpg?s=128&g=1", "display_name": "Kasun", "link": "https://stackoverflow.com/users/3274999/kasun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493221075, "creation_date": 1493219509, "question_id": 43638129, "link": "https://stackoverflow.com/questions/43638129/implementation-of-lock-free-stack-using-split-reference-count-in-the-concurrency", "title": "Implementation of lock free stack using split reference count in the concurrency in action book", "body": "<p>In Anthony williams's Concurrency in action book, he implements lock free stack using split reference count. After the initial load of head node.Here he use method call increase_head_count which is listed in the below code.</p>\n\n<pre><code>counted_node_ptr old_head = head.load();\nincrease_head_count(old_head);\n\nvoid increase_head_count(counted_node_ptr&amp; old_counter)\n{\n    counted_node_ptr new_counter;\n\n    do\n    {\n        new_counter = old_counter;\n        ++new_counter.external_count;\n    }\n    while (!head.compare_exchange_strong(old_counter, new_counter));\n\n    old_counter.external_count = new_counter.external_count;\n}  \n</code></pre>\n\n<p>full implementation can be found in this link <a href=\"https://github.com/subjam/concurrency-in-action/blob/master/ch7/stack_ref.cpp\" rel=\"nofollow noreferrer\">https://github.com/subjam/concurrency-in-action/blob/master/ch7/stack_ref.cpp</a>.</p>\n\n<p>my question is,if a senario occures that more than one thread try to execute pop() concurrently and all threads read head node and then only one executed untill end and others start to execute this fuction afterwards how this implementation works. </p>\n\n<p>I am stuck here for quite some time, I would be really glad if anyone can help me understanding this.  </p>\n"}, {"tags": ["java", "c++", "arrays", "qt"], "answers": [{"tags": [], "owner": {"reputation": 5001, "user_id": 902217, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w2DJ9.gif?s=128&g=1", "display_name": "CAMOBAP", "link": "https://stackoverflow.com/users/902217/camobap"}, "is_accepted": false, "score": 0, "last_activity_date": 1506425695, "creation_date": 1506425695, "answer_id": 46425423, "question_id": 43638128, "link": "https://stackoverflow.com/questions/43638128/manipulating-qandroidjniobject-array/46425423#46425423", "title": "Manipulating QAndroidJniObject array", "body": "<p>For your task better to use </p>\n\n<pre><code>jobjectArray asdf = QtAndroid::androidActivity()\n        .callMethod&lt;jobjectArray&gt;(\"getPath\", \"(I)Ljava/lang/String;\", 10);\n</code></pre>\n\n<p>Instead</p>\n\n<pre><code>QAndroidJniObject asdf = QtAndroid::androidActivity()\n        .callObjectMethod(\"getPath\", \"(I)Ljava/lang/String;\", 10)\n</code></pre>\n"}], "owner": {"reputation": 3849, "user_id": 6008453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3f29d4474cf818b192e452474933ef4c?s=128&d=identicon&r=PG&f=1", "display_name": "Mirakurun", "link": "https://stackoverflow.com/users/6008453/mirakurun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1506425695, "creation_date": 1493219509, "question_id": 43638128, "link": "https://stackoverflow.com/questions/43638128/manipulating-qandroidjniobject-array", "title": "Manipulating QAndroidJniObject array", "body": "<p>When I return a string from java method in MyActivity, I can print it with </p>\n\n<pre><code>QAndroidJniObject asdf = QtAndroid::androidActivity().callObjectMethod(\"getPath\", \"(I)Ljava/lang/String;\", 10)\n\nqInfo() &lt;&lt; asdf.toString();\n</code></pre>\n\n<p>But What if I want to return an array? How to manipulate it with C++ and how to print it out?</p>\n\n<pre><code>public class MyActivity extends QtActivity\n{\n\n    private String [] imagePaths = new String[100];\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n       //some code\n    }\n\n    public String [] getPath (int index) {\n\n        /*some code*/\n        return imagePaths;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "stl", "unordered-set"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1493219397, "post_id": 43638055, "comment_id": 74324506, "body": "Code::Blocks is not a compiler. Can you include your compiler and the corresponding flags? It <a href=\"http://ideone.com/ojTLUm\" rel=\"nofollow noreferrer\">works for me</a>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1493219433, "post_id": 43638055, "comment_id": 74324527, "body": "Did you turn on C++11?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1493219552, "post_id": 43638055, "comment_id": 74324607, "body": "<a href=\"https://stackoverflow.com/questions/18174988/how-can-i-add-c11-support-to-codeblocks-compiler\" title=\"how can i add c11 support to codeblocks compiler\">stackoverflow.com/questions/18174988/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 7300436, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260110964028406/picture?type=large", "display_name": "Samyak Jain", "link": "https://stackoverflow.com/users/7300436/samyak-jain"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1493221736, "post_id": 43638055, "comment_id": 74326256, "body": "@CoryKramer Thanks man! that solved my problem."}], "owner": {"reputation": 1, "user_id": 7300436, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260110964028406/picture?type=large", "display_name": "Samyak Jain", "link": "https://stackoverflow.com/users/7300436/samyak-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1493221687, "answer_count": 0, "score": 0, "last_activity_date": 1493219293, "creation_date": 1493219293, "question_id": 43638055, "link": "https://stackoverflow.com/questions/43638055/i-am-using-codeblocks-16-01-compiler-and-i-am-getting-an-error-when-i-try-to-use", "closed_reason": "Duplicate", "title": "I am using Codeblocks 16.01 compiler and I am getting an error when i try to use unordered_set in my code", "body": "<pre><code>#include&lt;iostream&gt;\n#include&lt;unordered_set&gt;\nusing namespace std;\nunordered_set&lt;int&gt; s;\nint main()\n{\n  int n, k, val;\n  cin &gt;&gt; n &gt;&gt; k;\n  for (int i = 0; i &lt; n; i++)\n  {\n    cin &gt;&gt; val;\n    s.insert(val);\n  }\n  int ans = 0;\n  for (unordered_set&lt;int&gt;::iterator it = s.begin(); it != s.end(); ++it)\n    if (s.find(*it + k) != s.end()) ans++;\n  cout &lt;&lt; ans &lt;&lt; endl;\n  return 0;}\n</code></pre>\n\n<p>It just says </p>\n\n<blockquote>\n  <p>error: 'unordered_set' does not name a type</p>\n</blockquote>\n\n<p>Am I missing anything? or is there some problem with the compiler?</p>\n"}, {"tags": ["javascript", "html", "c++", "node.js"], "comments": [{"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1493220005, "post_id": 43638029, "comment_id": 74324929, "body": "I don&#39;t feel right on control webpage using c++. Probably you need a javascript which can read the radar&#39;s value? Or you need another representation other than HTML?"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1493221034, "post_id": 43638029, "comment_id": 74325725, "body": "Can I suggest looking up websockets?"}], "answers": [{"tags": [], "owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "is_accepted": false, "score": 0, "last_activity_date": 1493230762, "creation_date": 1493230762, "answer_id": 43641730, "question_id": 43638029, "link": "https://stackoverflow.com/questions/43638029/how-can-i-let-a-c-parameter-decide-what-the-html-of-the-webpage-will-look-like/43641730#43641730", "title": "How can I let a c++ parameter decide what the HTML of the webpage will look like?", "body": "<p>In your c++ program, that's responsible for reading the radar output, you probably have a loop that constantly reads values from the radar. Add a timer and choose a time interval. In the loop, if the timer has reached the time interval, make it update a file with a label, telling you what event occurred most recently, e.g. a swipe, or if no even occurred.</p>\n\n<p>In you JavaScript, make a loop that reads that file with the same time interval as it's updated by the radar program. Then, if the label in the file corresponds to an event, make the JavaScript take the appropriate action.</p>\n\n<p>You could update the content of your page with functions like <code>document.getElementById()</code>, <code>removeChild()</code>, <code>document.createElement()</code>, and <code>appendChild()</code>.</p>\n"}], "owner": {"reputation": 51, "user_id": 7868290, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-srfdYveurhU/AAAAAAAAAAI/AAAAAAAAAbs/r6bUh1T7p-U/photo.jpg?sz=128", "display_name": "Ruben Debien", "link": "https://stackoverflow.com/users/7868290/ruben-debien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493230762, "creation_date": 1493219223, "question_id": 43638029, "link": "https://stackoverflow.com/questions/43638029/how-can-i-let-a-c-parameter-decide-what-the-html-of-the-webpage-will-look-like", "title": "How can I let a c++ parameter decide what the HTML of the webpage will look like?", "body": "<p>I'm working on a project in which I'm using a Walabot (a radar sensor) in c++. With this sensor I can detect if I wave my hand in front of the sensor. I'm also doing other stuff ofcourse with the sensor but that doesn't matter for this, but I need a webpage where I can show different things and I want to be able to 'swipe' in between them. I can detect the swipes in my c++ code but how do I translate this to HTML or javascript? The swipe can be made into a boolean or just a simple integer with the number showing which page I want to show.</p>\n\n<p>In short: I want to pass an integer or boolean from c++ code to HTML/javascript and if that value changes it has to reflect aswell in the html, it can't be a static thing that only gets initialised in the beginning.</p>\n\n<p>I saw something about nodejs but can't really see how that is supposed to make the value obtainable by the HTML. REST seems like a possibility too.</p>\n"}, {"tags": ["c++", "stdvector", "stdset", "set-union"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493219177, "post_id": 43637936, "comment_id": 74324331, "body": "If you&#39;re only interested in the length, why don&#39;t you add the lengths together and compare that instead of creating union vectors that will be discarded immediately?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493219213, "post_id": 43637936, "comment_id": 74324355, "body": "if you are only interested in the length of the shortest union, you should maybe rethink the whole algorithm, as there might be something more efficient than explicitly constructing the unions"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493219277, "post_id": 43637936, "comment_id": 74324403, "body": "@Rakete1111 it is not that easy (just almost), e.g. union of 1 2 3 and 2 3 4 is 1 2 3 4 and has size 4 only"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493219337, "post_id": 43637936, "comment_id": 74324456, "body": "@tobi303 True, missed that point :)"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493219543, "post_id": 43637936, "comment_id": 74324599, "body": "Have you profiled to see where time is spend ? Some <code>reserve</code> might help... From your description, I would do similar code."}, {"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1493219789, "post_id": 43637936, "comment_id": 74324772, "body": "You can&#39;t.  You&#39;re going to need to look at every element and make sure it&#39;s unique.  It&#39;s possible do this this is O(V*(N+M)) where V is the number of vectors and N and M are the length of the pair of vectors being unioned.  That&#39;s really the best case.  You can also do it just by counting and comparing, the union never needs to be created."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493219844, "post_id": 43637936, "comment_id": 74324815, "body": "@Flauer <a href=\"http://en.cppreference.com/w/cpp/algorithm/set_intersection\" rel=\"nofollow noreferrer\"><code>std::set_intersection</code></a> is fairly fast. For 2 vectors, add the lengths, and remove the length of the set returned by the intersection function."}, {"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493220392, "post_id": 43637936, "comment_id": 74325220, "body": "@Rakete1111 I already think of that... i will try it!"}, {"owner": {"reputation": 3432, "user_id": 399436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0325de57bac5882c49e320af9851042?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/399436/mike"}, "edited": false, "score": 0, "creation_date": 1493220524, "post_id": 43637936, "comment_id": 74325338, "body": "You will probably need to roll your own loop to process the unions.  Since you are only interested in the shortest union, you should remember that one and stop processing the union if it exceeds that length."}, {"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493221207, "post_id": 43637936, "comment_id": 74325862, "body": "@Rakete1111 okay now I remember why I only &quot;think of that&quot; ... this solution is very simple for only 2 vectors, for more than two its more complex. Or am I wrong?"}, {"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "reply_to_user": {"reputation": 3432, "user_id": 399436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0325de57bac5882c49e320af9851042?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/399436/mike"}, "edited": false, "score": 0, "creation_date": 1493221296, "post_id": 43637936, "comment_id": 74325926, "body": "@Mike stop the processing if the union exceeds the shortest previous length could save some time, thanks."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493221476, "post_id": 43637936, "comment_id": 74326068, "body": "@Flauer Yes. Just add every length together, then remove the length of every permutation of the vectors."}, {"owner": {"reputation": 1173, "user_id": 1741297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6OT8.gif?s=128&g=1", "display_name": "D Drmmr", "link": "https://stackoverflow.com/users/1741297/d-drmmr"}, "edited": false, "score": 0, "creation_date": 1493222356, "post_id": 43637936, "comment_id": 74326692, "body": "<i>&quot;...with several thousand unsigned integers; always sorted and unique...&quot;</i> With 8 bit integers? How did you do that?"}, {"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "reply_to_user": {"reputation": 1173, "user_id": 1741297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6OT8.gif?s=128&g=1", "display_name": "D Drmmr", "link": "https://stackoverflow.com/users/1741297/d-drmmr"}, "edited": false, "score": 0, "creation_date": 1493223564, "post_id": 43637936, "comment_id": 74327518, "body": "@DDrmmr I choose uint8_t only for the small example ... normally these are uint64_t"}, {"owner": {"reputation": 1173, "user_id": 1741297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6OT8.gif?s=128&g=1", "display_name": "D Drmmr", "link": "https://stackoverflow.com/users/1741297/d-drmmr"}, "edited": false, "score": 0, "creation_date": 1493224471, "post_id": 43637936, "comment_id": 74328081, "body": "The solution to your problem may be very different if the data would be <code>uint8_t</code>. I suggest changing your question to better match your actual problem."}], "answers": [{"tags": [], "owner": {"reputation": 1806, "user_id": 4146351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2WTdU1bWVaQ/AAAAAAAAAAI/AAAAAAAABeg/yvJBsxf1slM/photo.jpg?sz=128", "display_name": "Eric Yang", "link": "https://stackoverflow.com/users/4146351/eric-yang"}, "is_accepted": false, "score": 2, "last_activity_date": 1493219251, "creation_date": 1493219251, "answer_id": 43638043, "question_id": 43637936, "link": "https://stackoverflow.com/questions/43637936/fast-union-building-of-multiple-vectors-in-c/43638043#43638043", "title": "Fast union building of multiple vectors in C++", "body": "<p>If they're sorted you can roll your own thats O(N+M) in runtime. Otherwise you can use a hashtable with similar runtime</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "edited": false, "score": 0, "creation_date": 1493295375, "post_id": 43639000, "comment_id": 74362279, "body": "this works well for only 2 vectors but not for more than 2. Or am I wrong?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6418134"}, "is_accepted": false, "score": 0, "last_activity_date": 1493221781, "creation_date": 1493221781, "answer_id": 43639000, "question_id": 43637936, "link": "https://stackoverflow.com/questions/43637936/fast-union-building-of-multiple-vectors-in-c/43639000#43639000", "title": "Fast union building of multiple vectors in C++", "body": "<p>The de facto way in C++98 is <a href=\"http://en.cppreference.com/w/cpp/algorithm/set_intersection\" rel=\"nofollow noreferrer\">set_intersection</a>, but with c++11 (or TR1) you can go for <a href=\"http://en.cppreference.com/w/cpp/container/unordered_set\" rel=\"nofollow noreferrer\">unordered_set</a>, provided the initial vector is sorted, you will have a nice O(N) algorithm.</p>\n\n<ol>\n<li>Construct an unordered_set out of your first vector</li>\n<li>Check if the elements of your 2nd vector are in the set</li>\n</ol>\n\n<p>Something like that will do:</p>\n\n<pre><code>std::unordered_set&lt;int&gt; us(std::begin(v1), std::end(v1));\nauto res = std::count_if(std::begin(v2), std::end(v2), [&amp;](int n) {return us.find(n) != std::end(us);}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "edited": false, "score": 0, "creation_date": 1493295897, "post_id": 43639486, "comment_id": 74362737, "body": "Sorry, but I don&#39;t understand the second for-loop."}], "tags": [], "owner": {"reputation": 1173, "user_id": 1741297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6OT8.gif?s=128&g=1", "display_name": "D Drmmr", "link": "https://stackoverflow.com/users/1741297/d-drmmr"}, "is_accepted": false, "score": 0, "last_activity_date": 1493362671, "last_edit_date": 1493362671, "creation_date": 1493223145, "answer_id": 43639486, "question_id": 43637936, "link": "https://stackoverflow.com/questions/43637936/fast-union-building-of-multiple-vectors-in-c/43639486#43639486", "title": "Fast union building of multiple vectors in C++", "body": "<p>There's no need to create the entire union vector. You can count the number of unique elements among the selected vectors by keeping a list of iterators and comparing/incrementing them appropriately.</p>\n\n<p>Here's the pseudo-code:</p>\n\n<pre><code>int countUnique(const std::vector&lt;std::vector&lt;unsigned int&gt;&gt;&amp; selection)\n{\n  std::vector&lt;std::vector&lt;unsigned int&gt;::const_iterator&gt; iters;\n  for (const auto&amp; sel : selection) {\n    iters.push_back(sel.begin());\n  }\n  auto atEnd = [&amp;]() -&gt; bool {\n    // check if all iterators equal end\n  };\n  int count = 0;\n  while (!atEnd()) {\n    const int min = 0; // find minimum value among iterators\n\n    for (size_t i = 0; i &lt; iters.size(); ++i) {\n      if (iters[i] != selection[i].end() &amp;&amp; *iters[i] == min) {\n        ++iters[i];\n      }\n    }\n\n    ++count;\n  }\n  return count;\n}\n</code></pre>\n\n<p>This uses the fact that your input vectors are sorted and only contain unique elements.</p>\n\n<p>The idea is to keep an iterator into each selected vector. The minimum value among those iterators is our next unique value in the union vector. Then we increment all iterators whose value is equal to that minimum. We repeat this until all iterators are at the end of the selected vectors.</p>\n"}], "owner": {"reputation": 11, "user_id": 7926054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a7f559c0386d0d745bb10b8d326d51?s=128&d=identicon&r=PG&f=1", "display_name": "Flauer", "link": "https://stackoverflow.com/users/7926054/flauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1493362671, "creation_date": 1493219038, "last_edit_date": 1493308413, "question_id": 43637936, "link": "https://stackoverflow.com/questions/43637936/fast-union-building-of-multiple-vectors-in-c", "title": "Fast union building of multiple vectors in C++", "body": "<p>I\u2019m searching for a fast way to build a union of multiple vectors in C++. </p>\n\n<p>More specifically: I have a collection of vectors (usually 15-20 <code>vector</code>s with several thousand unsigned integers; always sorted and unique so they could also be an <code>std::set</code>). For each stage, I choose some (usually 5-10) of them and build a union vector. Than I save the length of the union vector and choose some other vectors. This will be done for several thousand times. In the end I'm only interested in the length of the shortest union vector. </p>\n\n<pre><code>Small example: \n\nV1: {0, 4, 19, 40}\nV2: {2, 4, 8, 9, 19}\nV3: {0, 1, 2, 4, 40}\nV4:\u00a0{9, 10} \n\n// The Input Vectors V1, V2 \u2026 are always sorted and unique (could also be an std::set) \n\nChoose V1 , V3; \nUnion Vector = {0, 1, 2, 4, 19, 40} -&gt; Size = 6; \n\nChoose V1, V4; \nUnion Vector = {0,4, 9, 10, 19 ,40} -&gt; Size = 6; \n\n\u2026 and so on \u2026 \n</code></pre>\n\n<p>At the moment I use <code>std::set_union</code> but I\u2019m sure there must be a faster way. </p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>vector&lt; vector&lt;uint64_t&gt;&gt; collection; \nvector&lt;uint64_t&gt; chosen; \n\nfor(unsigned int i = 0; i&lt;chosen-&gt;size(); i++) {\n    set_union(collection.at(choosen.at(i)).begin(),\n              collection.at(choosen.at(i)).end(),\n              unionVector.begin(),\n              unionVector.end(),\n              back_inserter(unionVectorTmp));\n    unionVector.swap(unionVectorTmp);\n    unionVectorTmp.clear();\n}\n</code></pre>\n\n<p>I'm grateful for every reference. </p>\n\n<p><strong>EDIT 27.04.2017</strong> \nA new Idea: </p>\n\n<pre><code>     unordered_set&lt;unsigned int&gt; unionSet;\n     unsigned int counter = 0;\n\n     for(const auto &amp;sel : selection){\n        for(const auto &amp;val : sel){\n            auto r = unionSet.insert(val);\n            if(r.second){\n                counter++;\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "c++", "code-conversion"], "comments": [{"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 1, "creation_date": 1493219977, "post_id": 43637640, "comment_id": 74324913, "body": "Your company is doing things wrong. Sometimes the cheapest solution in the short range is the most expensive in the long range. Instead of converting code without documenting it, it should be documented before conversion. That is more expensive in the short term but will save in the long run. As it is, it will be expensive for them to determine any mistakes in the conversion. I hope they have an adequate amount of test cases."}, {"owner": {"reputation": 10050, "user_id": 501196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kuQ41.png?s=128&g=1", "display_name": "yms", "link": "https://stackoverflow.com/users/501196/yms"}, "edited": false, "score": 1, "creation_date": 1493224724, "post_id": 43637640, "comment_id": 74328245, "body": "Take a look at <a href=\"http://www.cplusplus.com/reference/fstream/\" rel=\"nofollow noreferrer\">fstream</a> and <a href=\"http://www.cplusplus.com/reference/fstream/ofstream/\" rel=\"nofollow noreferrer\">ofstream</a> in <a href=\"https://en.wikipedia.org/wiki/Standard_Template_Library\" rel=\"nofollow noreferrer\">STL</a>."}, {"owner": {"reputation": 41, "user_id": 7910372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a8d5de8b9341fa4c219f64e51694a158?s=128&d=identicon&r=PG&f=1", "display_name": "primeQuestion", "link": "https://stackoverflow.com/users/7910372/primequestion"}, "edited": false, "score": 0, "creation_date": 1493241612, "post_id": 43637640, "comment_id": 74337817, "body": "Thanks @ yms i&#39;ll take a look at those. Any other tips from people as to how to translate those objects to standard C++ will be appreciated."}], "owner": {"reputation": 41, "user_id": 7910372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a8d5de8b9341fa4c219f64e51694a158?s=128&d=identicon&r=PG&f=1", "display_name": "primeQuestion", "link": "https://stackoverflow.com/users/7910372/primequestion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493218748, "creation_date": 1493218364, "last_edit_date": 1493218748, "question_id": 43637640, "link": "https://stackoverflow.com/questions/43637640/how-to-translate-streamwriter-streamreader-functionality-to-c", "title": "How to translate StreamWriter/StreamReader functionality to C++?", "body": "<p>I am working on translating a large code base written in C# to ansi C++ (<strong>not</strong> C++/CLI) that has to be able to run both on Linux and Windows. So has to be standard (and without the use of third party libraries such as boost since it's against company policy). \nI manage to convert almost the entire project, but thee are parts that use    </p>\n\n<pre><code>StreamWriter, FileStream\n</code></pre>\n\n<p>objects, and i am nut sure how to translate their functionality to pure C++? </p>\n\n<p>There are two separate questions:\n1) Design wise - do i completely replace the <code>StreamWriter</code>, <code>FileStream</code> code in my project and put different code that does the same thing, or do i create my own   <code>StreamWriter</code>, <code>FileStream</code> classes and implement the same functionality and this way the original code can stay the same. I am leaning towards the second approach. \n2) My main issues is - how to replace <code>FileStream .Read()</code> and <code>StreamWriter.WriteLine</code> functionality? Is there an online C++ equivalent implementation or do i have to implement it from scratch? That seems like a big undertaking that's gonna take lots of time. </p>\n"}, {"tags": ["c++", "c++11", "iterator", "stdlist"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1493218393, "post_id": 43637621, "comment_id": 74323626, "body": "@EdChum More precisely, you cannot increment a list iterator like that. (+ Op knows about advance, its in comment)"}, {"owner": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 0, "creation_date": 1493218418, "post_id": 43637621, "comment_id": 74323651, "body": "<code>iter += 3</code> means  <code>iter = iter + 3</code>, which you can&#39;t do."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493218462, "post_id": 43637621, "comment_id": 74323690, "body": "provided that the error message is rather clear I dont really understand what the question is"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "edited": false, "score": 0, "creation_date": 1493222505, "post_id": 43637621, "comment_id": 74326800, "body": "@Mudi -- no. <code>iter += 3</code> means &quot;call the overloaded operator <code>+=</code>&quot;. Unlike for numeric types, it has no inherent connection to <code>+</code>."}, {"owner": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1493223465, "post_id": 43637621, "comment_id": 74327441, "body": "@PeteBecker agreed!"}], "answers": [{"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 3, "creation_date": 1493218569, "post_id": 43637726, "comment_id": 74323779, "body": "The OP already had this in their code commented out so the use of <code>advance</code> is already known, so you don&#39;t need to include this bit"}, {"owner": {"reputation": 4467, "user_id": 3867787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gBELu.png?s=128&g=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3867787/beginner"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 5, "creation_date": 1493218769, "post_id": 43637726, "comment_id": 74323974, "body": "@EdChum it might be helpful to the next viewer of the question."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1493219657, "post_id": 43637726, "comment_id": 74324690, "body": "@EdChum I added some explanations about <code>std::advance</code>. From the question (about iterator category) I think OP might don&#39;t understand it enough."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1493220691, "post_id": 43637726, "comment_id": 74325463, "body": "OK, to be honest I missed this when I commented to the question when it was first posted so it&#39;s worth highlighting"}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 15, "last_activity_date": 1493220221, "last_edit_date": 1493220221, "creation_date": 1493218520, "answer_id": 43637726, "question_id": 43637621, "link": "https://stackoverflow.com/questions/43637621/why-cant-i-use-operator-on-a-list-iterator/43637726#43637726", "title": "Why can&#39;t I use += operator on a list iterator?", "body": "<p>The iterator for <a href=\"http://en.cppreference.com/w/cpp/container/list#Member_types\" rel=\"noreferrer\">std::list</a> is <a href=\"http://en.cppreference.com/w/cpp/concept/BidirectionalIterator\" rel=\"noreferrer\">BidirectionalIterator</a>, which doesn't support <code>operator+=</code> like <a href=\"http://en.cppreference.com/w/cpp/concept/RandomAccessIterator\" rel=\"noreferrer\">RandomAccessIterator</a>.</p>\n\n<p>You can use <code>operator++</code>, which is supported by <a href=\"http://en.cppreference.com/w/cpp/concept/InputIterator\" rel=\"noreferrer\">InputIterator</a> (including <code>BidirectionalIterator</code>), something like</p>\n\n<pre><code>++iter;\n++iter;\n++iter;\n</code></pre>\n\n<p>But it's ugly. The best way is as you commented, to use <a href=\"http://en.cppreference.com/w/cpp/iterator/advance\" rel=\"noreferrer\">std::advance</a> (or <a href=\"http://en.cppreference.com/w/cpp/iterator/next\" rel=\"noreferrer\">std::next</a> (since C++11)) instead, which could be used with <a href=\"http://en.cppreference.com/w/cpp/concept/InputIterator\" rel=\"noreferrer\">InputIterator</a> (including <code>BidirectionalIterator</code>), and also takes advantage of the features supported by <code>RandomAccessIterator</code>. </p>\n\n<p>(emphasis mine)</p>\n\n<blockquote>\n  <p>Complexity</p>\n  \n  <p>Linear.</p>\n  \n  <p>However, if <code>InputIt</code> additionally meets the requirements of\n  <code>RandomAccessIterator</code>, <strong>complexity is constant</strong>.</p>\n</blockquote>\n\n<p>So you can just use it without considering about the category of the iterator, <code>std::advance</code> will do the best choice for you. e.g.</p>\n\n<pre><code>std::advance(iter, 3);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>iter = std::next(iter, 3);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 3, "last_activity_date": 1493218530, "creation_date": 1493218530, "answer_id": 43637732, "question_id": 43637621, "link": "https://stackoverflow.com/questions/43637621/why-cant-i-use-operator-on-a-list-iterator/43637732#43637732", "title": "Why can&#39;t I use += operator on a list iterator?", "body": "<p>A <code>std::list::iterator</code> is not a <a href=\"http://en.cppreference.com/w/cpp/concept/RandomAccessIterator\" rel=\"nofollow noreferrer\">Random Access Iterator</a>. It is not possible to \"jump ahead\" several elements in a list, you must iterate through the list until you reach the desired element. You can use <a href=\"http://en.cppreference.com/w/cpp/iterator/advance\" rel=\"nofollow noreferrer\"><code>std::advance</code></a> which will deduce the best way to advance the iterator based on the iterator category. In the case of a <code>std::list::iterator</code> it will increment the iterator in a loop.</p>\n"}, {"tags": [], "owner": {"reputation": 4467, "user_id": 3867787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gBELu.png?s=128&g=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3867787/beginner"}, "is_accepted": false, "score": 5, "last_activity_date": 1493222609, "last_edit_date": 1493222609, "creation_date": 1493218729, "answer_id": 43637819, "question_id": 43637621, "link": "https://stackoverflow.com/questions/43637621/why-cant-i-use-operator-on-a-list-iterator/43637819#43637819", "title": "Why can&#39;t I use += operator on a list iterator?", "body": "<p>The reason is simply that the <code>+=</code> operator is not defined for the Bidirectional iterator you are using.</p>\n\n<p>For all iterators there is at least:</p>\n\n<ul>\n<li>Copy-assignable and destructible, i.e. <code>X b(a);</code> and <code>b = a;</code></li>\n<li>Can be incremented, i.e. <code>++a</code> and <code>a++</code></li>\n</ul>\n\n<p>Everything else depends on the type of iterator check the table <a href=\"http://www.cplusplus.com/reference/iterator/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3UrJJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3UrJJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you see a random-access iterator would do the trick.</p>\n"}], "owner": {"reputation": 2634, "user_id": 5138909, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/qBvCy.png?s=128&g=1", "display_name": "KiYugadgeter", "link": "https://stackoverflow.com/users/5138909/kiyugadgeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 1, "accepted_answer_id": 43637726, "answer_count": 3, "score": 3, "last_activity_date": 1493222683, "creation_date": 1493218320, "last_edit_date": 1493222683, "question_id": 43637621, "link": "https://stackoverflow.com/questions/43637621/why-cant-i-use-operator-on-a-list-iterator", "title": "Why can&#39;t I use += operator on a list iterator?", "body": "<p>I have a iterator from a <code>std::list&lt;std::string&gt;</code>, but when I attempt to advance it using <code>+=</code>, I get a compilation error.</p>\n\n<p>The code is:</p>\n\n<pre><code>#include &lt;list&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nint main() {\n    std::list&lt;std::string&gt; x;\n\n    x.push_front(\"British\");\n    x.push_back(\"character\");\n    x.push_front(\"Coding is unco\");\n    x.push_back(\"Society\");\n    x.push_back(\"City Hole\");\n    auto iter = x.begin();\n    iter += 3;\n    //std::advance(iter, 3);\n    x.erase(iter);\n\n    for (auto &amp;e: x) {\n        std::cout &lt;&lt; e &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n\n<p>If I compile this using <code>clang++ -std=c++11 -o li li.cpp</code>, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>li.cpp:13:10: error: no viable overloaded '+='\n    iter += 3;\n    ~~~~ ^  ~\n1 error generated.\n</code></pre>\n\n<p>Why can't I use <code>+=</code> with this iterator?</p>\n"}, {"tags": ["c++", "compiler-errors"], "comments": [{"owner": {"reputation": 3249, "user_id": 7147233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/94f37773a80589840319d063ee51ab16?s=128&d=identicon&r=PG&f=1", "display_name": "WhatsThePoint", "link": "https://stackoverflow.com/users/7147233/whatsthepoint"}, "edited": false, "score": 0, "creation_date": 1493218279, "post_id": 43637571, "comment_id": 74323505, "body": "where does it give the error?"}, {"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 2, "creation_date": 1493218293, "post_id": 43637571, "comment_id": 74323519, "body": "Show us the definition of <code>tupleCompare</code>"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 4, "creation_date": 1493218352, "post_id": 43637571, "comment_id": 74323588, "body": "<code>collisionOfCars</code> is not trivially assignable because it contains reference members, which cannot be reseated. This means that <code>std::sort()</code> is <i>unable to swap <code>collisionOfCars</code> instances</i> around, which is required to sort the vector. Consider using pointers in this struct instead of references."}, {"owner": {"reputation": 164, "user_id": 7926163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b02e37e7e81a1da05e46542b78f24d89?s=128&d=identicon&r=PG&f=1", "display_name": "PassingBy", "link": "https://stackoverflow.com/users/7926163/passingby"}, "edited": false, "score": 0, "creation_date": 1493218369, "post_id": 43637571, "comment_id": 74323608, "body": "The error does not appear till I add sort() to my code"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1493218637, "post_id": 43637571, "comment_id": 74323840, "body": "Try writing your own operator= for that class. You can&#39;t do it. Neither can the compiler. Use pointers instead."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 1, "creation_date": 1493218763, "post_id": 43637571, "comment_id": 74323970, "body": "Or there are very complicated solutions involving proxy arrays of pointers or indexes which get sorted and then create a new sorted array by copying the original items in sorted order. But you&#39;d only do that if you really HAD to."}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1493219279, "post_id": 43637571, "comment_id": 74324407, "body": "I must say that even though C++ error messages have improved immensely over the last 10-20 years, the error given here is still terrible and probably very difficult to understand for anyone who isn&#39;t an expert in C++."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1493233251, "post_id": 43637571, "comment_id": 74333240, "body": "There are 2 things to try when error messages are too confusing for you.  The easiest is to try compiling your code, unchanged, with clang++ (i.e. simply replace your current use of g++ with clang++, you have it installed, right?)"}], "answers": [{"comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1493219025, "post_id": 43637850, "comment_id": 74324209, "body": "@ZhiyuanRuan The error is likely because you have to now treat it as a pointer everywhere. E.g. you have to change <code>collisionOfCars{car1, car2, sol1}</code> to <code>collisionOfCars{&amp;car1, &amp;car2, sol1}</code>, etc."}], "tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": true, "score": 1, "last_activity_date": 1493219258, "last_edit_date": 1493219258, "creation_date": 1493218818, "answer_id": 43637850, "question_id": 43637571, "link": "https://stackoverflow.com/questions/43637571/why-wont-sort-work/43637850#43637850", "title": "Why won&#39;t sort work", "body": "<p>In order for <code>std::sort()</code> to work, <code>std::swap()</code> must be instantiated for the type of object being sorted (<code>collisionOfCars</code>). In order for this to happen, it must either be copy- or move-assignable (or have an <code>std::swap()</code> specialization).  Your type does not declare either operator, and the compiler is not generating one for you because your type does not meet the requirements to have the operator generated.</p>\n\n<p>This is because the type has non-static data members of a reference type. (Keep in mind that references <em>cannot</em> be reseated, so it's impossible to swap two references such that they refer to different objects -- you can only swap the content of the referred-to objects, which is not what you want.)</p>\n\n<blockquote>\n  <p>A defaulted copy assignment operator for class T is defined as <em>deleted</em> if any of the following is true:</p>\n  \n  <p>...</p>\n  \n  <ul>\n  <li>T has a non-static data member of a reference type;</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/language/copy_assignment\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<blockquote>\n  <p>The implicitly-declared or defaulted move assignment operator for class T is defined as <em>deleted</em> if any of the following is true:</p>\n  \n  <p>...</p>\n  \n  <ul>\n  <li>T has a non-static data member of a reference type;</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/language/move_assignment\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<p>This means that <code>collisionOfCars</code> instances <em>cannot be assigned on top of each other</em> and this is <em>required</em> to sort the vector.  (How else can the vector be sorted if not by swapping elements around on top of each other?)</p>\n\n<p>The simplest solution would be to change <code>collisionOfCars</code> to use <code>Car *</code> (pointer-to-<code>Car</code>) instead of <code>Car &amp;</code> (reference-to-<code>Car</code>).  You could also use <a href=\"http://en.cppreference.com/w/cpp/utility/functional/reference_wrapper\" rel=\"nofollow noreferrer\"><code>std::reference_wrapper&lt;Car&gt;</code></a> (which is just a wrapper around a pointer anyway).</p>\n"}], "owner": {"reputation": 164, "user_id": 7926163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b02e37e7e81a1da05e46542b78f24d89?s=128&d=identicon&r=PG&f=1", "display_name": "PassingBy", "link": "https://stackoverflow.com/users/7926163/passingby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 43637850, "answer_count": 1, "score": -1, "last_activity_date": 1493219258, "creation_date": 1493218176, "last_edit_date": 1493219109, "question_id": 43637571, "link": "https://stackoverflow.com/questions/43637571/why-wont-sort-work", "title": "Why won&#39;t sort work", "body": "<p>I write the following program to sort vector of struct by time after read in and process certain info, but it won't work and give me error message:</p>\n\n<blockquote>\n<pre><code>`no matching function for call to \u2018swap(collisionOfCars&amp;, collisionOfCars&amp;)\u2019`,`error: no type named \u2018type\u2019 in \u2018struct\nstd::enable_if&lt;false, void&gt;\u2019` and `error: use of deleted function\n\u2018collisionOfCars&amp; collisionOfCars::operator=(collisionOfCars&amp;&amp;)\u2019\n*(__first + __holeIndex) = _GLIBCXX_MOVE(*(__first + __secondChild));`\n</code></pre>\n</blockquote>\n\n<p>My guess is sort function has some issues, but I do not know how to fix it.\nHere is my code;</p>\n\n<pre><code>  class Car{\n public:\n    string ID;\n    double xPos, yPos, xVel, yVel;\n    bool collided;\n    Car(){\n\n    }\n    Car(string ID, double xPos, double yPos, double xVel, double yVel, bool collided){\n      this-&gt;ID = ID;\n      this-&gt;xPos = xPos;\n      this-&gt;yPos = yPos;\n      this-&gt;xVel = xVel;\n      this-&gt;yVel = yVel;\n      this-&gt;collided = collided;\n    }\n};\nstruct collisionOfCars{\n public:\n  Car &amp;firstCar;\n  Car &amp;secondCar;\n  double time;\n};\nbool tupleCompare(collisionOfCars first, collisionOfCars second) {\n  return first.time &lt; second.time;\n}\ncollisionOfCars willCollide(Car &amp;car1, Car &amp;car2) {\n   double posDifX = car1.xPos - car2.xPos;\n   double posDifY = car1.yPos - car2.yPos;\n   double velDifX = car1.xVel - car2.xVel;\n   double velDifY = car1.yVel - car2.yVel;\n\n   double a = velDifX*velDifX + velDifY*velDifY;\n   double b = posDifX*velDifX+posDifY*velDifY;\n   double c = posDifX*posDifX + posDifY*posDifY - 100;\n   double possibleSol = b*b - a*c;     // b^2-4ac\n\n  double sol1, sol2;\n  if ((a == 0) || possibleSol &lt; 0) {     // check for a = 0 or b^2-4ac &lt; 0\n    return collisionOfCars{car1, car2, -1};\n  } else if (possibleSol == 0) {\n    sol1 = -b/(2*a);\n    if(sol1 &gt;= 0){\n      return collisionOfCars{car1, car2, sol1};\n    }\n  } else {\n    sol1 = (-b + sqrt(possibleSol))/(a);\n    sol2 = (-b - sqrt(possibleSol))/(a);\n    if (sol1 &lt;= sol2 &amp;&amp; sol1 &gt;= 0) {\n      return collisionOfCars{car1, car2, sol1};\n    } else if (sol2 &lt;= sol1 &amp;&amp; sol2 &gt;= 0) {\n      return collisionOfCars{car1, car2, sol2};\n    } else {\n      return collisionOfCars{car1, car2, -1};\n    }\n  }\n}\nint main() {\n  vector&lt; Car &gt; collection;     // All info of cars\n  vector&lt; collisionOfCars &gt; collision;      // all possible collision\n  string ID;\n  double xPos, yPos, xVel, yVel;\n  while (cin &gt;&gt; ID &gt;&gt; xPos &gt;&gt; yPos &gt;&gt; xVel &gt;&gt; yVel) {\n    collection.push_back(Car(ID, xPos, yPos, xVel, yVel, false));\n  }\n  for (int i = 0; i &lt; collection.size(); i++) {\n    for (int j = i+1; j &lt; collection.size(); j++) {\n      collisionOfCars result = willCollide(collection[i], collection[j]);\n      if (result.time != -1) {\n        collision.push_back(result);\n      }\n    }\n  }\n  sort(collision.begin(), collision.end(), tupleCompare); // where goes wrong\n}\n</code></pre>\n\n<p>In case you are wondering, I use reference in struct to make sure any change to Car pass in to struct will reflect on vector&lt; Car > collection</p>\n\n<hr>\n\n<p>I have changed the reference to pointer but now it gives me new error message as following</p>\n\n<pre><code>cannot convert \u2018Car\u2019 to \u2018Car*\u2019 in initialization\n       return collisionOfCars{car1, car2, sol1};\n</code></pre>\n"}, {"tags": ["c++", "protocol-buffers", "proto"], "answers": [{"tags": [], "owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "is_accepted": true, "score": 2, "last_activity_date": 1493498760, "creation_date": 1493498760, "answer_id": 43700301, "question_id": 43637549, "link": "https://stackoverflow.com/questions/43637549/what-is-the-lifetime-of-the-descriptor-of-a-generated-protobuf-message/43700301#43700301", "title": "What is the lifetime of the descriptor of a generated protobuf message?", "body": "<p>Descriptors for generated-code / compiled-in message classes live forever, so you should be good.</p>\n\n<p>But if your types are complied-in, then there's no reason to use <code>DynamicMessageFactory</code>. Dynamic messages are much slower than generated code, and generated code supports the whole dynamic interface in addition to the generated interface. You could use <a href=\"https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.message#MessageFactory.generated_factory.details\" rel=\"nofollow noreferrer\">the generated factory</a> instead to get instances of generated messages. Or, an even cleaner strategy is to get the message's prototype by calling <code>MyType::default_instance()</code>, and then pass around that pointer rather than passing around the descriptor.</p>\n\n<p>If you need to mix some dynamic types with some generated types, also consider using <a href=\"https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.dynamic_message#DynamicMessageFactory.SetDelegateToGeneratedFactory.details\" rel=\"nofollow noreferrer\"><code>DynamicMessageFactory::SetDelegateToGeneratedFactory()</code></a>.</p>\n"}], "owner": {"reputation": 2184, "user_id": 1112010, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2c06679b27da6bbc84a4bf036da82648?s=128&d=identicon&r=PG", "display_name": "Mukul Gupta", "link": "https://stackoverflow.com/users/1112010/mukul-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 43700301, "answer_count": 1, "score": 1, "last_activity_date": 1493498760, "creation_date": 1493218122, "question_id": 43637549, "link": "https://stackoverflow.com/questions/43637549/what-is-the-lifetime-of-the-descriptor-of-a-generated-protobuf-message", "title": "What is the lifetime of the descriptor of a generated protobuf message?", "body": "<p>I am using Protobuf 2 in my project. I want to use <code>DynamicMessageFactory</code> to create messages at run-time. <code>DynamicMessageFactory</code>requires a <code>Descriptor*</code>. I am passing <code>Descriptor*</code> of a mutable message of a generated class. The documentation says that <code>Descriptor</code> must outlive <code>DynamicMessageFactory</code> which in turn should outlive the message generated by the factory.</p>\n\n<p>What is the lifetime of the descriptor of a generated class? Is it static member of the class?</p>\n"}, {"tags": ["c++", "visual-studio-2015", "c-preprocessor", "conditional-compilation"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1493218237, "post_id": 43637414, "comment_id": 74323464, "body": "What you might look for is an auto-formatter that can parse <code>#if</code> directives and indent the code accordingly. That would help you to see the flow, and make the code more readable while you were at it."}, {"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1493218716, "post_id": 43637414, "comment_id": 74323922, "body": "@CodyGray - It helps, but it rarely leaves the code in a way that you&#39;d want it permanantaly.  #ifs often show up in the middle of blocks, and you don&#39;t really want that indented again permanantly.  While trying to figure out the preprocessor flow it helps, though."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493250518, "post_id": 43637414, "comment_id": 74341011, "body": "Do you need to include included headers in the analysis? I.e. is it OK to assume that the <code>#if</code> and <code>#endif</code> are on .c file level? I.e. can we assume that no <code>#if</code> will be opended and not closed in a header?"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493250748, "post_id": 43637414, "comment_id": 74341072, "body": "Are you thinking of &quot;a given piece of code&quot; as in &quot;a few specific lines&quot; for which you want the surrounding prepro constructs? Or is it more like a special way of preprocessing whole files? Do it once and then be able to read the complete code, while having convenient access to the desired info. Phrased differently, how would a parser identify the &quot;given piece of code&quot; ?"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493250924, "post_id": 43637414, "comment_id": 74341117, "body": "Proposal for representation: Insert comment lines with all currently active preprocessor constructs before each new prepro construct. Would that be helpful?"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493251066, "post_id": 43637414, "comment_id": 74341158, "body": "Could you make a sample input for playing with? Something showing all cases you are interested in."}, {"owner": {"reputation": 2522, "user_id": 1332468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/47c408da0aac005a99e87161caf3b903?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/1332468/srm"}, "reply_to_user": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493264227, "post_id": 43637414, "comment_id": 74344434, "body": "@Yunnosch Yes, assume all #if/#else/#endif are at the same level. Also, yes, adding comments is my current strategy. I&#39;m not interested in solutions where I&#39;m mapping out the file. I am seeking automation: from top of file to current line, which #ifs had to be true or false to make the current line active."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493272169, "post_id": 43637414, "comment_id": 74346983, "body": "With that it sounds like self-made solution in awk or perl is possible (sed for masochists or brain joggers). Just one info I still miss: How would such a parser know the &quot;current line&quot;? Could you e.g. provide the line number as parameter to that parser? Otherwise it sounds like you could accept the proposed representation, inserted comment lines at each <code>#if</code>. You (human eye) could look backwards from current line to the first (or last) <code>#if</code> you find before. I might try to implement on the weekend, but I really want a sample input. Use any level of complicated constructs you like."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493272681, "post_id": 43637414, "comment_id": 74347182, "body": "Just to clarify: &quot;masochists or brain joggers&quot; I consider no insult to anybody, at least it is not meant to be one. I myself love trying to solve things in sed. And &quot;brain jogger&quot; might be no actual English expression; it could be a typical &quot;I think this is English&quot; mistake by me and my fellows in language. ;-)"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1493273189, "post_id": 43637414, "comment_id": 74347383, "body": "On the topic of internet-searching for programming keywords: Did you try looking for &quot;preprocessor if&quot;? Also, I find searching non-English pages for quasi-English keywords helpful; if they mention &quot;if&quot; then it is usually programming related. This assumes that you have a second language skill of course. Your participation in language related stackexchange might indicate that."}], "answers": [{"tags": [], "owner": {"reputation": 938, "user_id": 3151394, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/WI4I9.jpg?s=128&g=1", "display_name": "xitas", "link": "https://stackoverflow.com/users/3151394/xitas"}, "is_accepted": false, "score": 1, "last_activity_date": 1493218996, "creation_date": 1493218996, "answer_id": 43637923, "question_id": 43637414, "link": "https://stackoverflow.com/questions/43637414/how-to-find-all-the-if-conditions-that-surround-a-given-line-of-c-code/43637923#43637923", "title": "How to find all the #if conditions that surround a given line of C++ code?", "body": "<p>Not a proper answer but you can use sublime text editor.<br></p>\n\n<p>In sublime you can select <code>#if</code>by pressing <code>ctrl + D</code>one by one. </p>\n\n<p>and if you want to find all press <code>ctrl + f</code> and type #if it will select all.</p>\n\n<blockquote>\n  <p>it want take too long to download it. you can download it from <a href=\"https://www.sublimetext.com/3\" rel=\"nofollow noreferrer\">here</a>. it is only about 8 mb in windows.</p>\n</blockquote>\n"}], "owner": {"reputation": 2522, "user_id": 1332468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/47c408da0aac005a99e87161caf3b903?s=128&d=identicon&r=PG", "display_name": "srm", "link": "https://stackoverflow.com/users/1332468/srm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493218996, "creation_date": 1493217766, "last_edit_date": 1493218071, "question_id": 43637414, "link": "https://stackoverflow.com/questions/43637414/how-to-find-all-the-if-conditions-that-surround-a-given-line-of-c-code", "title": "How to find all the #if conditions that surround a given line of C++ code?", "body": "<p>I'm trying to untangle some code I didn't write. There are a lot of #if statements nested throughout this long file. I'd like a way to quickly identify all the #if statements that surround a given piece of code. Trying to search the Web for \"#if\" is hard since that either gets hashtags or ignores the punctuation, and \"conditional preprocessor directives\" didn't turn up anything other than a description of what they are. </p>\n\n<ul>\n<li>Are there any commandline tools that already exist to find all the #ifs affecting a given line? </li>\n<li>I'm using Visual Studio 2015 Pro. Are there any extensions that do that? </li>\n</ul>\n"}, {"tags": ["c++", "nao-robot"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7926090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f8096093448f3b21479b0a8e47df25?s=128&d=identicon&r=PG&f=1", "display_name": "JCS", "link": "https://stackoverflow.com/users/7926090/jcs"}, "edited": false, "score": 0, "creation_date": 1493363225, "post_id": 43642912, "comment_id": 74394078, "body": "Thanks Alexandre, just to clarify at what point does the  optimizedImage code run/get the image(or the pointer to)? is it when the call to:ALTools::mainFunction(&quot;optimizedimage&quot;, argc, argv, sig); is made or at some other point? I tried a cout in the &quot;/*do whatever..&quot; section of the code to test this (should print a message on the remote computer unless i am mistaken) but nothing seemed to happen."}, {"owner": {"reputation": 1, "user_id": 7926090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f8096093448f3b21479b0a8e47df25?s=128&d=identicon&r=PG&f=1", "display_name": "JCS", "link": "https://stackoverflow.com/users/7926090/jcs"}, "edited": false, "score": 0, "creation_date": 1493364937, "post_id": 43642912, "comment_id": 74395154, "body": "Just as a note i put cout statements in the OptimizedImage::init section of the code and these statements do print on the remote computer when I run the optimizedImage code, it is only the cout in the image processing section that does not run."}], "tags": [], "owner": {"reputation": 2129, "user_id": 1081418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb7a53fa3588f212cb3a6824c67196b?s=128&d=identicon&r=PG", "display_name": "Alexandre Mazel", "link": "https://stackoverflow.com/users/1081418/alexandre-mazel"}, "is_accepted": false, "score": 0, "last_activity_date": 1493234756, "creation_date": 1493234756, "answer_id": 43642912, "question_id": 43637305, "link": "https://stackoverflow.com/questions/43637305/nao-robot-optimized-access-to-images-tutorial/43642912#43642912", "title": "NAO Robot Optimized access to images tutorial", "body": "<p>There's no bound method: \nthe idea is to personnalize the \"optimizedImage module\" by putting your processing at this place: \"/** Do whatever processing you want... */\"</p>\n\n<p>And then after your processing, depending of your architecture, you can decide to post results in ALMemory, or to bind your own method in your \"optimizedModule\" to give services to your own application.</p>\n\n<p>By the way: it looks strange to me, that giving you just a pointer to an image in another process (as you're in remote, it means it's not your process) give you the permission to read the data. </p>\n\n<p>A such system would haveno control of what every process can access, and so it seems very bizarre nowadays. (as some old MS DOS system)</p>\n\n<p>I remember having done that kind of code on NAO from a python code to acquire an image, but then I was in the same memory space (ALPythonBridge) and so can read and interpret the raw image.</p>\n"}], "owner": {"reputation": 1, "user_id": 7926090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f8096093448f3b21479b0a8e47df25?s=128&d=identicon&r=PG&f=1", "display_name": "JCS", "link": "https://stackoverflow.com/users/7926090/jcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493234756, "creation_date": 1493217464, "last_edit_date": 1493218629, "question_id": 43637305, "link": "https://stackoverflow.com/questions/43637305/nao-robot-optimized-access-to-images-tutorial", "title": "NAO Robot Optimized access to images tutorial", "body": "<p>I was just wondering if anyone had used the \"Optimized access to images\" example from the tutorial section of the naoqi help pages?</p>\n\n<p><a href=\"http://doc.aldebaran.com/2-1/dev/cpp/examples/vision/optimizedimage/optimizedimage.html\" rel=\"nofollow noreferrer\">http://doc.aldebaran.com/2-1/dev/cpp/examples/vision/optimizedimage/optimizedimage.html</a></p>\n\n<p>i can get the code to compile and create the module in naoqi but I am at a loss on how to use it. none of the functions are callable and the only instruction on how to use the module is: \"To retrieve the images, subscribe as usual using a proxy to ALVideoDevice, and specify the framerate, resolution etc.\"</p>\n\n<p>All examples for retrieving images have the line: ALValue img = camProxy.getImageRemote(clientName); which does not seem to go through the optimization routine.</p>\n\n<p>my question is , how do i use the optimization module in my main c++ code?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 5, "creation_date": 1493217600, "post_id": 43637302, "comment_id": 74322983, "body": "There&#39;s no mechanism defined by the C++ standard; each compiler is free to remember variables however it wants. Generally, they&#39;re going to use some kind of list of maps to track each nested scope and what each symbol means. It would not be much faster if the programmer wrote raw memory addresses. In fact, a human is going to be much slower at this kind of work than the compiler."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1493217674, "post_id": 43637302, "comment_id": 74323038, "body": "It can just stuff all the variables encountered into some sort of internal map."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 2, "creation_date": 1493219425, "post_id": 43637302, "comment_id": 74324522, "body": "First, understand that variable names do not exist in the output object file except for use by people for debugging. Next you need to understand what the linker does. Otherwise it seems simple and obvious to me. It would really help if you can explain the specific problem you are trying to solve."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "reply_to_user": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 0, "creation_date": 1493220234, "post_id": 43637302, "comment_id": 74325095, "body": "@user34660, I have tried to explain it... One of the things noted is the wondering about how the names are remembered to represent a certain memory address and where this data is stored. Whoops, just saw that you said &quot;problem&quot; - There is not any problem that I am trying to solve, it is just curiosity."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1493220655, "post_id": 43637302, "comment_id": 74325434, "body": "That is not a problem to be solved; it is a philosophical question that it is not the type of thing that StackOverflow is designed to help with. As @cdhowie says, it depends on the compiler writer&#39;s personal style."}, {"owner": {"reputation": 1874, "user_id": 2392247, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c75972031d4bef871cc9cb8da36a67f9?s=128&d=identicon&r=PG", "display_name": "user34660", "link": "https://stackoverflow.com/users/2392247/user34660"}, "edited": false, "score": 3, "creation_date": 1493221470, "post_id": 43637302, "comment_id": 74326066, "body": "See my <a href=\"http://simplesamples.info/CPluPlus/Flex.aspx\" rel=\"nofollow noreferrer\">Flex</a> and search for articles on Flex and Bison. Many articles about Bison and YACC will also describe symbol tables. That will entertain you for a while. Also search for articles such as <a href=\"http://www.cs.dartmouth.edu/~mckeeman/cs48/mxcom/doc/Symbols.html\" rel=\"nofollow noreferrer\">A Short Course in Compilers -- Symbol Tables and Type</a> and <a href=\"https://www.tutorialspoint.com/compiler_design/compiler_design_symbol_table.htm\" rel=\"nofollow noreferrer\">Compiler Design - Symbol Table</a>. There are many <b>books</b> about compiler construction; you might find one in a library."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "edited": false, "score": 0, "creation_date": 1493284292, "post_id": 43637302, "comment_id": 74354272, "body": "Thanks but I still do not understand where and how the names/identifiers are saved and remembered so that the compiler remembers what memory address they refer to. And does this data also have an address that the compiler will access in order to check what names refer to what memory address?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1493285539, "post_id": 43637302, "comment_id": 74355197, "body": "The names don&#39;t have a memory address associated with them until the linker gets through with the code. So the compiler just stores them in a symbol table."}], "answers": [{"tags": [], "owner": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "is_accepted": true, "score": 1, "last_activity_date": 1493290033, "creation_date": 1493290033, "answer_id": 43655575, "question_id": 43637302, "link": "https://stackoverflow.com/questions/43637302/how-are-names-remembered-with-its-associated-memory-address/43655575#43655575", "title": "How are names remembered with its associated memory address?", "body": "<p>For a more in-depth understanding, you have to consult some learning resources about language- and compilerdesign.</p>\n\n<p>The definition of the C++ language comes with a concept of declaration points and scopes. These things need to be respected by compilers, so for every expression in a well formed code, the compiler will know which scope this expression belongs to and how the scopes are nested.</p>\n\n<p>A typical compiler implementation will have a data structure, where each scope is associated with a symbol table, where the declared / defined symbols of the current scope are listed. Now, when the compiler (typical implementation, it can possibly be done completely different!) encounters a symbol in code (like the <code>x = 5;</code>), it will look into the symbol table of the current scope and its parent scope, until the symbol <code>x</code> is first found. Then the symbol usage is linked with the symbol definition as it was found in one of the symbol tables.</p>\n\n<p>Skipping some details, your example contains at least the following scope nesting:</p>\n\n<pre><code>global scope\n  function bla scope\n    function bla body scope\n</code></pre>\n\n<p>Since <code>x</code> is not locally declared / defined in any of the inner scopes, the compiler will link the usage to the definition which is found in global scope.</p>\n\n<blockquote>\n  <p>Technically, would it be faster if the programmer wrote the actual\n  memory addresses instead of names so that the compiler(you probably\n  know by now that I am not sure about what handles these things) does\n  not have to replace all variables etc. with the addresses?</p>\n</blockquote>\n\n<p>When we talk about development, the compiler will be much faster than the programmer at this task, so no time saving here.</p>\n\n<p>Regarding program execution, the symbol doesn't exist anymore (except for debugging information) because the compiler is replacing it by its program-local memory address. Generally you can't save execution time by doing any thing by hand which is otherwise done by the compiler.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7926026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 43655575, "answer_count": 1, "score": 3, "last_activity_date": 1493290033, "creation_date": 1493217453, "last_edit_date": 1493285409, "question_id": 43637302, "link": "https://stackoverflow.com/questions/43637302/how-are-names-remembered-with-its-associated-memory-address", "title": "How are names remembered with its associated memory address?", "body": "<p>In order to define my wonder, I think it would be great with an example:</p>\n\n<ul>\n<li><p>The variable x is declared with the initial value of 2 and has global scope</p>\n\n<pre><code>int x = 2;\n</code></pre></li>\n<li><p>Because that variable x has global scope, it is visible everywhere, which means that the compiler must somehow remember its memory address. Anyway, x is then changed from a given function called \"bla\"</p>\n\n<pre><code>void bla()\n{\n    x = 5;\n}\n</code></pre></li>\n<li><p>So the compiler(not sure what handles all this) remembers this name \"x\" and can somehow know the memory address that belongs to the name x... </p></li>\n</ul>\n\n<p>So my questions are:</p>\n\n<ol>\n<li>How does the compiler(still not sure about this) remember what name/identifier and memory address that belong together? and where is this information stored - Is it also stored as memory addresses?</li>\n<li>Technically, would it be faster if the programmer wrote the actual memory addresses instead of names so that the compiler(you probably know by now that I am not sure about what handles these things) does not have to replace all variables etc. with the addresses?</li>\n</ol>\n\n<p>Thanks! I have really tried not to make anything ambiguous but if you still find it confusing, please comment or suggest an edit + please correct me if I am wrong, thanks again!</p>\n"}, {"tags": ["c++", "c++11", "printf"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1493217557, "post_id": 43637275, "comment_id": 74322945, "body": "&quot;Where is this newfangled behavior documented?&quot; In the <a href=\"https://linux.die.net/man/3/printf\" rel=\"nofollow noreferrer\">man pages</a> of course, as always. You should always look through them first :)"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 1, "creation_date": 1493217845, "post_id": 43637275, "comment_id": 74323178, "body": "And by &quot;newfangled&quot; you mean &quot;old as the hills,&quot; right? :)"}, {"owner": {"reputation": 642, "user_id": 608950, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73ab41fd3f39ec81f01429f8c3c38d04?s=128&d=identicon&r=PG", "display_name": "Blake Senftner", "link": "https://stackoverflow.com/users/608950/blake-senftner"}, "edited": false, "score": 0, "creation_date": 1493218755, "post_id": 43637275, "comment_id": 74323960, "body": "I swear I looked at man pages first, as well as the page linked by the answer below. I must have looked right over the info I wanted and not realized it. My use of &quot;newfangled&quot; was humor."}], "answers": [{"tags": [], "owner": {"reputation": 42691, "user_id": 93884, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f912a87ba919942acb4048838f6b2572?s=128&d=identicon&r=PG", "display_name": "Chowlett", "link": "https://stackoverflow.com/users/93884/chowlett"}, "is_accepted": true, "score": 1, "last_activity_date": 1493217747, "creation_date": 1493217747, "answer_id": 43637407, "question_id": 43637275, "link": "https://stackoverflow.com/questions/43637275/seeking-explainers-on-c11-printf-format-args-that-consume-more-than-one-value/43637407#43637407", "title": "Seeking explainers on C++11 printf format args that consume more than one value", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/io/c/fprintf\" rel=\"nofollow noreferrer\">Here</a> is a good reference for the format specifiers. In some detail, then, the conversion specification consists of:</p>\n\n<blockquote>\n  <ul>\n  <li>introductory <code>%</code> character</li>\n  <li>(optional) one or more flags that modify the behavior of the conversion:\n  \n  <ul>\n  <li><code>-</code>: the result of the conversion is left-justified within the field (by default it is right-justified)</li>\n  <li><code>+</code>: the sign of signed conversions is always prepended to the result of the conversion (by default the result is preceded by minus only when it is negative)</li>\n  <li><em>space</em>: if the result of a signed conversion does not start with a sign character, or is empty, space is prepended to the result. It is ignored if <code>+</code> flag is present.</li>\n  <li><code>#</code> : alternative form of the conversion is performed. See the table below for exact effects otherwise the behavior is undefined.</li>\n  <li><code>0</code> : for integer and floating point number conversions, leading zeros are used to pad the field instead of space characters. For integer numbers it is ignored if the precision is explicitly specified. For other conversions using this flag results in undefined behavior. It is ignored if <code>-</code> flag is present.</li>\n  </ul></li>\n  <li>(optional) integer value or <code>*</code> that specifies minimum field width. The result is padded with space characters (by default), if required, on the left when right-justified, or on the right if left-justified. <strong>In the case when <code>*</code> is used, the width is specified by an additional argument of type <code>int</code>.</strong> If the value of the argument is negative, it results with the <code>-</code> flag specified and positive field width. (Note: This is the minimum width: The value is never truncated.)</li>\n  <li>(optional) <code>.</code> followed by integer number or <code>*</code>, or neither that specifies precision of the conversion. <strong>In the case when <code>*</code> is used, the precision is specified by an additional argument of type <code>int</code></strong>. If the value of this argument is negative, it is ignored. If neither a number nor <code>*</code> is used, the precision is taken as zero. See the table below for exact effects of precision.</li>\n  <li>(optional) length modifier that specifies the size of the argument</li>\n  <li>conversion format specifier</li>\n  </ul>\n</blockquote>\n\n<p>(emphasis mine).</p>\n\n<p>So you'll need to specify an additional integer argument when using <code>*</code> either as a field width, or (after <code>.</code>) as a precision.</p>\n"}], "owner": {"reputation": 642, "user_id": 608950, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73ab41fd3f39ec81f01429f8c3c38d04?s=128&d=identicon&r=PG", "display_name": "Blake Senftner", "link": "https://stackoverflow.com/users/608950/blake-senftner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 43637407, "answer_count": 1, "score": 2, "last_activity_date": 1493217747, "creation_date": 1493217383, "last_edit_date": 1493217421, "question_id": 43637275, "link": "https://stackoverflow.com/questions/43637275/seeking-explainers-on-c11-printf-format-args-that-consume-more-than-one-value", "title": "Seeking explainers on C++11 printf format args that consume more than one value", "body": "<p>I have started working in a code base heavily using C++11. I am finding many resources to help me learn, but I can't find any mention of a type of printf format string I am seeing used:</p>\n\n<pre><code>printf( \"%.*s\", integerValue, charPointer );\n</code></pre>\n\n<p>I think I know what it is doing: the integerValue is the length of the character buffer. However, my decades of C/C++ tells me that is a single argument specification in the format string, yet it consumes two values after the format string. </p>\n\n<p>Where is this newfangled behavior documented? Are there more multiple-value consuming printf format args like this? I've been searching printf format string documentations, and finding nothing. </p>\n"}, {"tags": ["c++", "debugging", "winapi", "breakpoints"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1493229281, "post_id": 43637131, "comment_id": 74330829, "body": "hard say what is go wrong in your code, but when breakpoint exception was in wow64 code debugger view <code>STATUS_WX86_BREAKPOINT</code> (0x4000001F) but not <code>STATUS_BREAKPOINT</code> (0x80000003) and you can use &quot;normal&quot; context Get[Set]ThreadContext even with wow64 code"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1493230795, "post_id": 43637131, "comment_id": 74331784, "body": "however ( STATUS_WX86_BREAKPOINT or STATUS_BREAKPOINT depended are your debugger 64bit or 32 bit)"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1493264613, "post_id": 43637131, "comment_id": 74344559, "body": "By the way, I upvoted this when I made the indentation edit. The reason is because, even though this is a simple, face-palm kind of question, you asked it well and presented all the information necessary to allow someone to answer it. Thanks for doing that, and for reading our help. Welcome to Stack Overflow! (I wanted to say this because I see someone has downvoted it, and I want you to ignore that, because this is a perfectly valid question. If you keep asking questions like this, you&#39;ll have a fine time here.)"}, {"owner": {"reputation": 51, "user_id": 7899066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1689ef9a129f325a2acf58391d5e0456?s=128&d=identicon&r=PG&f=1", "display_name": "EggHead ", "link": "https://stackoverflow.com/users/7899066/egghead"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1493330723, "post_id": 43637131, "comment_id": 74384219, "body": "@CodyGray Thank you for the encouraging comment! I am sure I will refer back here often for more problems and maybe even to help others. StackOverflow is kind of intimidating at first, not gonna lie, and it&#39;s nice to have someone let you know you&#39;re doing something right. :)"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7899066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1689ef9a129f325a2acf58391d5e0456?s=128&d=identicon&r=PG&f=1", "display_name": "EggHead ", "link": "https://stackoverflow.com/users/7899066/egghead"}, "edited": false, "score": 0, "creation_date": 1493259830, "post_id": 43644704, "comment_id": 74343365, "body": "Much appreciated. It occurs to me now that I should have checked the return value of <code>WaitForDebugEvent</code>. <b>Facepalm</b>. It is working well now, thank you very much. :)"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1493241947, "last_edit_date": 1493241947, "creation_date": 1493241567, "answer_id": 43644704, "question_id": 43637131, "link": "https://stackoverflow.com/questions/43637131/debugger-not-suspending-debugee-upon-exception-c/43644704#43644704", "title": "Debugger not suspending debugee upon exception C++", "body": "<p>The <code>dwMilliseconds</code> parameter tells <code>WaitForDebugEvent()</code> how long to wait for a debug event to arrive:</p>\n\n<blockquote>\n  <p><em>dwMilliseconds</em> [in]<br>\n  The number of milliseconds to wait for a debugging event. If this parameter is zero, the function tests for a debugging event and returns immediately. If the parameter is INFINITE, the function does not return until a debugging event has occurred</p>\n</blockquote>\n\n<p>You need to check the return value of <code>WaitForDebugEvent()</code> to make sure you actually have a real debug event that needs processing:</p>\n\n<blockquote>\n  <p>If the function succeeds, the return value is nonzero.</p>\n  \n  <p>If the function fails, the return value is zero. To get extended error information, call <code>GetLastError</code>.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>while (1)\n{\n    if (WaitForDebugEvent(&amp;dbgEvent, AnyValueHere)) // &lt;--\n    {\n        ProcessDebugEvent(&amp;dbgEvent);\n        ContinueDebugEvent(dbgEvent.dwProcessId, dbgEvent.dwThreadId, DBG_CONTINUE);\n    }\n    ...\n}\n</code></pre>\n\n<p>That being said, the <code>dwMilliseconds</code> parameter has no effect on how long the debuggee waits when a breakpoint is hit.  When the breakpoint is hit, the debugee stops immediately, and your debugger is notified.  This is clearly stated in the documentation:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms679302.aspx\" rel=\"nofollow noreferrer\">Debugging Events</a></p>\n\n<blockquote>\n  <p>When the system notifies the debugger of a debugging event, it also suspends all threads in the affected process. The threads do not resume execution until the debugger continues the debugging event by using <code>ContinueDebugEvent</code>. </p>\n</blockquote>\n\n<p>So chances are, <code>ProcessDebugEvent()</code> is simply not handling the breakpoint correctly, and then the debuggee is woken up only when you call <code>ContinueDebugEvent()</code> after done processing.</p>\n"}], "owner": {"reputation": 51, "user_id": 7899066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1689ef9a129f325a2acf58391d5e0456?s=128&d=identicon&r=PG&f=1", "display_name": "EggHead ", "link": "https://stackoverflow.com/users/7899066/egghead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 2, "accepted_answer_id": 43644704, "answer_count": 1, "score": 2, "last_activity_date": 1493241947, "creation_date": 1493217031, "last_edit_date": 1493217341, "question_id": 43637131, "link": "https://stackoverflow.com/questions/43637131/debugger-not-suspending-debugee-upon-exception-c", "title": "Debugger not suspending debugee upon exception C++", "body": "<p>I made a very simple debugger in C++ and it seems to work alright except if I call <code>WaitForDebugEvent</code> with any value for <code>dwMilliseconds</code> besides <code>INFINITE</code> it doesn't suspend the debugee immediately.</p>\n\n<p>I have an <code>if</code> statement that checks whether the exception address matches the address of the breakpoint I set <code>if(ExceptionDebugInfo.ExceptionRecord.ExceptionAddress == lpBreakpoint)</code>.</p>\n\n<p>Decrements <code>eip</code>(<code>wow64cntxt.Eip --;</code>), replaces the breakpoint(<code>int3</code>) byte with the original instruction(<code>WriteProcessMemory</code>), flushes the instruction cache(<code>FlushInstructionCache</code>), and then sets <code>eip</code> to point to the breakpoint I replaced with the original instruction(<code>Wow64SetThreadContext</code>). </p>\n\n<p>Then it returns to the main debug loop(<code>break</code>) and continues debugging(<code>ContinueDebugEvent</code>).</p>\n\n<pre><code>case EXCEPTION_BREAKPOINT:\n{\n    WOW64_CONTEXT wow64cntxt = {0};\n\n    wow64cntxt.ContextFlags = WOW64_CONTEXT_ALL;\n\n    if(!Wow64GetThreadContext(hThread, &amp;wow64cntxt))\n    {\n        printf(\"Error getting thread context: %lu\\n\", GetLastError());\n    }\n\n    //lpFunction is the address of a mov instruction I set a breakpoint on\n    if(excDbgInfo.ExceptionRecord.ExceptionAddress == lpBreakpoint)\n    {\n        printf(\"EIP-Before: 0x%X\\n\", wow64cntxt.Eip);\n\n        //Decrement eip value to point back to the opcode I wrote over with int3\n        wow64cntxt.Eip --;\n\n        printf(\"EIP-After: 0x%X\\n\", wow64cntxt.Eip);\n\n        //original opcode I replaced with int3(0xCC)\n        instr = 0x89;\n\n        //replace the breakpoint with the original instruction\n        if(!WriteProcessMemory(hProcess, lpBreakpoint, &amp;instr, sizeof(CHAR), NULL))\n        {\n            printf(\"Error reversing breakpoint: %lu\\n\", GetLastError());\n        }\n\n        //Flush the instruction cache\n        FlushInstructionCache(hProcess, lpBreakpoint, 1);\n\n        //Set eip to previous instruction\n        if(!Wow64SetThreadContext(hThread, &amp;wow64cntxt))\n        {\n            printf(\"Error setting thread context: %lu\\n\", GetLastError());\n        }\n\n    }\n    system(\"pause\");\n    //Return to main debug loop, ContinueDebugEvent...\n    break;\n}\n</code></pre>\n\n<p>If I use anything other than <code>INFINITE</code> with <code>WaitForDebugEvent</code> then <code>eip</code> is set to an address that executes some time after the breakpoint I set.</p>\n\n<p>The problem is that if I don't use <code>WaitForDebugEvent</code> with <code>INFINITE</code> then <code>eip</code> has already gone past the breakpoint when the debugger catches the exception. Even if I have <code>WaitForDebugEvent</code> wait for 0 milliseconds, return immediately, the debugee still runs past the breakpoint.</p>\n\n<p>This then results in an access violation, I'm guessing because the other half of the instruction I replaced with the breakpoint becomes a new opcode that modifies memory it isn't allowed to.</p>\n\n<p>Here's my main debug loop:</p>\n\n<pre><code>while(1)\n{\n    WaitForDebugEvent(&amp;dbgEvent, INFINITE);\n\n    ProcessDebugEvent(&amp;dbgEvent);\n\n    ContinueDebugEvent(dbgEvent.dwProcessId, dbgEvent.dwThreadId, DBG_CONTINUE);\n}\n</code></pre>\n\n<p>Any information, insight, tips, explanations, etc would be greatly appreciated. Thanks.</p>\n"}, {"tags": ["c++", "mysql", "database", "qt", "qsqlquery"], "comments": [{"owner": {"reputation": 4163, "user_id": 6401403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5e6e113b3335b200f4d4946e1bcaff84?s=128&d=identicon&r=PG&f=1", "display_name": "Michael O.", "link": "https://stackoverflow.com/users/6401403/michael-o"}, "edited": false, "score": 0, "creation_date": 1493222705, "post_id": 43636928, "comment_id": 74326928, "body": "And which error is in  <code>lQueryResult.LastError()</code> ?"}, {"owner": {"reputation": 428, "user_id": 6193767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eaa9d367a8d622f367b1cd651c627bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Anonyme", "link": "https://stackoverflow.com/users/6193767/anonyme"}, "reply_to_user": {"reputation": 4163, "user_id": 6401403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5e6e113b3335b200f4d4946e1bcaff84?s=128&d=identicon&r=PG&f=1", "display_name": "Michael O.", "link": "https://stackoverflow.com/users/6401403/michael-o"}, "edited": false, "score": 0, "creation_date": 1493283243, "post_id": 43636928, "comment_id": 74353495, "body": "Juste updated the question."}], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 6193767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eaa9d367a8d622f367b1cd651c627bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Anonyme", "link": "https://stackoverflow.com/users/6193767/anonyme"}, "edited": false, "score": 0, "creation_date": 1493286702, "post_id": 43653341, "comment_id": 74356010, "body": "OK ! There is a mean to backup my database with .sql dump by executing a command wich return a QSqlQuery ? And why if I do a select after the source command my tables are not ready ? But If I do in shell it&#39;s ok."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "reply_to_user": {"reputation": 428, "user_id": 6193767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eaa9d367a8d622f367b1cd651c627bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Anonyme", "link": "https://stackoverflow.com/users/6193767/anonyme"}, "edited": false, "score": 0, "creation_date": 1493358888, "post_id": 43653341, "comment_id": 74391950, "body": "As I wrote: Instead of executing <code>SOURCE</code>, read commands from that file and execute them directly."}], "tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": true, "score": 1, "last_activity_date": 1493283974, "creation_date": 1493283974, "answer_id": 43653341, "question_id": 43636928, "link": "https://stackoverflow.com/questions/43636928/syntaxe-error-source-with-qsqlquery/43653341#43653341", "title": "Syntaxe error source with QSqlQuery", "body": "<p><code>SOURCE</code> is <a href=\"https://dev.mysql.com/doc/refman/5.7/en/mysql-commands.html\" rel=\"nofollow noreferrer\">MySQL client command</a> which means it is executed by MySQL shell, not by MySQL server, so you can't execute it via <code>QSqlQuery</code>. You can work around this by reading whole file and then sending it's contents to server.</p>\n"}], "owner": {"reputation": 428, "user_id": 6193767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eaa9d367a8d622f367b1cd651c627bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Anonyme", "link": "https://stackoverflow.com/users/6193767/anonyme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 43653341, "answer_count": 1, "score": -1, "last_activity_date": 1493283974, "creation_date": 1493216505, "last_edit_date": 1493283967, "question_id": 43636928, "link": "https://stackoverflow.com/questions/43636928/syntaxe-error-source-with-qsqlquery", "title": "Syntaxe error source with QSqlQuery", "body": "<p>I have a problem with a QSqlQuery when I execute a source command on my database.\nThis code works :</p>\n\n<pre><code>QString myRequest = \"CREATE DATABASE MY_DATABASE;\";\nlQueryResult.Exec(myRequest);\nif(!lQueryResult.GetMexec())\n{\n    qDebug() &lt;&lt; \"Error in the request\";\n    return false;\n}\nelse\n{\n    qDebug() &lt;&lt; \"The request is OK\";\n}\n</code></pre>\n\n<p>This code doesn't works, I have a syntax error : </p>\n\n<blockquote>\n  <p>You have an error in\n  your SQL syntax; check the manual that corresponds to your MariaDB\n  server version for the right syntax to use near 'source\n  ./folder/myFile.sql' at line 1 QMYSQL: Unable to execute query</p>\n</blockquote>\n\n<p>This is the code :</p>\n\n<pre><code>myRequest = \"source myFile.sql\";\nlQueryResult.Exec(myRequest);\nif(!lQueryResult.GetMexec())\n{\n    qDebug() &lt;&lt; \"Error\";\n    qDebug() &lt;&lt; lQueryResult.LastError();\n    return false;\n}\nelse\n{\n    qDebug() &lt;&lt; \"OK\";\n}\n</code></pre>\n\n<p>I can successfully do my source with this command :</p>\n\n<pre><code>QString lCommand(\"mysql -uUsername -pPassword Data_Base -e \\\"source \" + variablePath + variableFile + \".sql\\\"\");\n        system(lCommandeProvisoire.toStdString().c_str());\n</code></pre>\n\n<p>I have no error. But, if I execute this code juste after, I have the error </p>\n\n<blockquote>\n  <p>No database selected QMYSQL: Unable to execute query</p>\n</blockquote>\n\n<p>:</p>\n\n<pre><code>TheRequest = \"SELECT * FROM MyTable;\";\n        QueryResult.Exec(TheRequest);\n        if(!QueryResult.GetMexec())\n        {\n            qDebug() &lt;&lt; QueryResult.LastError();\n            return false;\n        }\n        else\n        {\n            qDebug() &lt;&lt; \"OK\";\n        }\n</code></pre>\n\n<p>But, If I execute a select * from MyTable in shell, it works.</p>\n\n<p>Also, if I execute this in a shell logged in mysql, it works :</p>\n\n<pre><code>source myFile.sql\n</code></pre>\n"}, {"tags": ["c++", "thrift"], "answers": [{"comments": [{"owner": {"reputation": 959, "user_id": 7902545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fbc604c9916ba8651236a6087b9355?s=128&d=identicon&r=PG", "display_name": "didiz", "link": "https://stackoverflow.com/users/7902545/didiz"}, "edited": false, "score": 0, "creation_date": 1493222415, "post_id": 43638573, "comment_id": 74326734, "body": "Thank you! I guess I will just add some validation before send :)"}], "tags": [], "owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "is_accepted": true, "score": 1, "last_activity_date": 1493220667, "creation_date": 1493220667, "answer_id": 43638573, "question_id": 43636885, "link": "https://stackoverflow.com/questions/43636885/list-syntax-in-thrift-idl/43638573#43638573", "title": "list syntax in Thrift IDL", "body": "<p><strong>Short answer: No</strong>. </p>\n\n<p>There is no restriction possible at the IDL level. If you need functionality like that the recommended way is to handle it in the biz logic or wherever else it makes sense in your architecture. </p>\n\n<p>The alternative, but rather cumbersome way would be sth like</p>\n\n<pre><code>struct cumbersome {\n  1: optional SomeClass elm0\n  2: optional SomeClass elm1\n  3: optional SomeClass elm2\n  // ... some more elements omitted ...\n  28: optional SomeClass elm29\n  29: optional SomeClass elm30\n  30: optional SomeClass elm31\n}\n</code></pre>\n\n<p>I can't really recommend this, and it is not even a <code>list&lt;&gt;</code> construct anymore, but technically it would solve the task to limit the number of elements.</p>\n"}], "owner": {"reputation": 959, "user_id": 7902545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fbc604c9916ba8651236a6087b9355?s=128&d=identicon&r=PG", "display_name": "didiz", "link": "https://stackoverflow.com/users/7902545/didiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 43638573, "answer_count": 1, "score": 0, "last_activity_date": 1493220667, "creation_date": 1493216402, "question_id": 43636885, "link": "https://stackoverflow.com/questions/43636885/list-syntax-in-thrift-idl", "title": "list syntax in Thrift IDL", "body": "<p>Is there a Thrift syntax for this declaration  TAO IDL?</p>\n\n<pre><code>typedef sequence&lt; SomeClass, 31 &gt; SomeSeq;\n</code></pre>\n\n<p>It means that SomeClass should appear maximum 31 times. I am working with Thrift in C++.</p>\n"}, {"tags": ["c++", "qt", "3d", "visualization", "qt3d"], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 4599792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61088b54ff4323076d64d3a517dc9655?s=128&d=identicon&r=PG&f=1", "display_name": "sirop", "link": "https://stackoverflow.com/users/4599792/sirop"}, "is_accepted": true, "score": 1, "last_activity_date": 1494855180, "creation_date": 1494855180, "answer_id": 43980947, "question_id": 43636863, "link": "https://stackoverflow.com/questions/43636863/3d-visualization-of-cylindrical-trajectory/43980947#43980947", "title": "3D visualization of cylindrical trajectory", "body": "<p>As <a href=\"http://assimp.sourceforge.net/main_features_formats.html\" rel=\"nofollow noreferrer\">Open Asset Import Library (Assimp)</a> is a part of Qt3D, you can definitely import a variety of 3D formats.</p>\n\n<p>If you want to create cylinders or something cylinder-like, then this example <a href=\"https://doc.qt.io/GammaRay/gammaray-qt3d-geometry-example.html\" rel=\"nofollow noreferrer\">https://doc.qt.io/GammaRay/gammaray-qt3d-geometry-example.html</a> is very enlightening.</p>\n"}], "owner": {"reputation": 101, "user_id": 4027652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nj8k3.jpg?s=128&g=1", "display_name": "Behzad", "link": "https://stackoverflow.com/users/4027652/behzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 43980947, "answer_count": 1, "score": 0, "last_activity_date": 1494855180, "creation_date": 1493216362, "last_edit_date": 1493229064, "question_id": 43636863, "link": "https://stackoverflow.com/questions/43636863/3d-visualization-of-cylindrical-trajectory", "title": "3D visualization of cylindrical trajectory", "body": "<p>As Qt developers know, in new Qt version, Qt 3D has been extended a lot. <code>QtDataVisualization</code>, <code>Qt3DCore</code>, <code>Qt3DExtras</code> and so on are the new examples have recently been added in Qt.</p>\n\n<p>Because there are only a few examples of 3D, I ask about that. I have in mind to draw a 3D visualization of cylindrical trajectory as shown in the picture. Is it possible in Qt? Is it worth to spend my time to learn that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/PKnI6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKnI6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "class", "templates", "constructor"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 1, "creation_date": 1493214527, "post_id": 43636014, "comment_id": 74320382, "body": "What does <code>tmp_var</code> receive, and how does it differ from what you expect?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1493214567, "post_id": 43636014, "comment_id": 74320415, "body": "each template instantiation gets its own set of <code>static</code> members, ie <code>Counter1&lt;Foo&gt;</code> and <code>Counter&lt;Bar&gt;</code> have independent <code>total1</code>. Most likely you dont need both <code>Counter1</code> and <code>Counter2</code>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 4, "creation_date": 1493214620, "post_id": 43636014, "comment_id": 74320459, "body": "please show real code, preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493214666, "post_id": 43636014, "comment_id": 74320500, "body": "Do note that since your classes are templates each different template type will have its own static members.  For example a <code>Counter1&lt;int&gt;</code> and a <code>Counter1&lt;double&gt;</code> have different <code>total1</code>&#39;s."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493214753, "post_id": 43636014, "comment_id": 74320590, "body": "Please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In the current state, of your example, we can&#39;t copy-paste your code to reproduce your problem."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493215682, "post_id": 43636014, "comment_id": 74321362, "body": "Please post some real code. <code>Counter2(){++total1;}</code> wouldn&#39;t compile."}, {"owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1493290982, "post_id": 43636014, "comment_id": 74358940, "body": "@Quentin tmp_var stays at zero and never increments. I updated my inital post with a more complex code sample."}, {"owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493291024, "post_id": 43636014, "comment_id": 74358964, "body": "@tobi303 I updated my inital post, I hope it is clearer now."}, {"owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493291042, "post_id": 43636014, "comment_id": 74358982, "body": "@NathanOliver I updated my inital post, I hope it is clearer now."}, {"owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493291088, "post_id": 43636014, "comment_id": 74359016, "body": "@molbdnilo I updated my inital post. You are right, it was a typo (++total2)"}, {"owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493291113, "post_id": 43636014, "comment_id": 74359024, "body": "@AlgirdasPreid\u017eius I updated my inital post, I hope it is clearer now."}], "answers": [{"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493218111, "post_id": 43636834, "comment_id": 74323360, "body": "not sure if your incomplete code is any better than OPs incomplete code..."}, {"owner": {"reputation": 61, "user_id": 7808304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e303bc65cc31cc38029f36fb343ce458?s=128&d=identicon&r=PG&f=1", "display_name": "Kumssa wakoo", "link": "https://stackoverflow.com/users/7808304/kumssa-wakoo"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493219633, "post_id": 43636834, "comment_id": 74324677, "body": "@tobi303 I just have changed the original code just to show him he can increment   the counter 2.  This is not meant to correct his code just to show him it might be brute-forced to do what he wants albeit maybe in a wrong way. But he knows better and maybe he has scenario to implement such code so I am putting the ball in his court so to speak ... hope you understand"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493219909, "post_id": 43636834, "comment_id": 74324867, "body": "Sorry, no I dont really understand. I am almost certain that the <code>return total1++; </code> is a typo in OPs question but not his original code, because it would not compile hence no wrong numbers for <code>tmp_var</code> as OP reports. You fixed that typo, but I am pretty sure that the problem in the original code is still unsolved and it will be unless OP shows real code"}, {"owner": {"reputation": 61, "user_id": 7808304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e303bc65cc31cc38029f36fb343ce458?s=128&d=identicon&r=PG&f=1", "display_name": "Kumssa wakoo", "link": "https://stackoverflow.com/users/7808304/kumssa-wakoo"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1493220022, "post_id": 43636834, "comment_id": 74324941, "body": "His question is: Sadly tmp_var never gets a valid number. What am I doing wrong?  so the way I understood this is he is unable to get a valid number.  And only based on given info the reason is he is not incrementing or setting counter2. So without dealing with the unknown, I showed him the sample code is not properly coded to get the values. That is all."}], "tags": [], "owner": {"reputation": 61, "user_id": 7808304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e303bc65cc31cc38029f36fb343ce458?s=128&d=identicon&r=PG&f=1", "display_name": "Kumssa wakoo", "link": "https://stackoverflow.com/users/7808304/kumssa-wakoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1493304000, "last_edit_date": 1493304000, "creation_date": 1493216312, "answer_id": 43636834, "question_id": 43636014, "link": "https://stackoverflow.com/questions/43636014/counting-created-objects-over-2-different-classes-leads-to-problems/43636834#43636834", "title": "Counting created objects over 2 different classes leads to problems", "body": "<p>Following your new sample, the following is my opinion.\nFirst of all, do not forget that each instance of the template has its own static variable. It is not like other standard classes. That is what is playing a trick on you.</p>\n\n<p>The reason </p>\n\n<pre><code>const int varTotal1 = Counter1&lt;int&gt;::getCounter1();\n</code></pre>\n\n<p>is always 0 is the instance of the template counter1 is inherited by class2.  But you are asking the counter1's  getCounter1() from class1 to give you the count or the value of total1.  Class1 does not know about getCounter1(). Note that when instantiating the class using the following line of code in your sample code total1 of counter1 is incremented rightly as you are instantiating Class2 and Class2 knows about getCounter1() and if you happen to include getCounter1() in Class2 you can see the total1 value.</p>\n\n<pre><code>static Class2 class_pool[64];\n</code></pre>\n\n<p>As to the following code as far as I can tell it works.</p>\n\n<pre><code>Counter2&lt;int&gt;::setCounter2(0);\n</code></pre>\n\n<p>As a final note, if I were you I will have only one template say counter. Use that as you do normally to control count of created objects for each class. If you want to see the count of one class from another class why not create a third utility shared class where you can store the counts of the objects. Or you can use mixin to combine the classes as required (using inheritance and composition), but may be this is an overkill. </p>\n\n<p>By the way, your code is not complete you missed to define</p>\n\n<pre><code> TASKS_PER_PROCESS  in \n  _PoolsObj[TASKS_PER_PROCESS] = {};\n   I added the following to just compile your code ..\n   #define TASKS_PER_PROCESS 10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "is_accepted": true, "score": 0, "last_activity_date": 1493361140, "last_edit_date": 1493361140, "creation_date": 1493306092, "answer_id": 43661715, "question_id": 43636014, "link": "https://stackoverflow.com/questions/43636014/counting-created-objects-over-2-different-classes-leads-to-problems/43661715#43661715", "title": "Counting created objects over 2 different classes leads to problems", "body": "<p>I figured out, what I was doing wrong and I made some major improvements. <br><br>\n1) Thanks to the comment of @tobi303 I could remove one counter and only use one for different objects. <br><br>\n2) I had a semantical error inside of my code. <code>_PoolsObj[TASKS_PER_PROCESS] = {};</code> is completly wrong. I wanted to initalize all array elements with 0, but this only called the constructor a fifth time and set the forth (TASK_PER_PROCESS) element to 0. I now placed the initialize list after the variable declaration to ensure proper creation. <br><br>\n3) </p>\n\n<pre><code>public:\n        Class1 _PoolsObj[TASKS_PER_PROCESS];\n</code></pre>\n\n<p>This is of course not the nice way, so I included a getter function and set the array to private. <br><br>\n4) My problems were cause by this two lines of code: </p>\n\n<pre><code>Counter1&lt;int&gt;::getCounter1();\nCounter2&lt;int&gt;::setCounter2(0); \n</code></pre>\n\n<p>The type should not be int, it should be the class name:</p>\n\n<pre><code>Counter1&lt;Class2&gt;::getCounter();\nCounter2&lt;Class1&gt;::setCounter(0); \n</code></pre>\n\n<p>I think I set and get a counter for int and not for my classes. <br><br></p>\n\n<p>Here my fixed code just for completion:</p>\n\n<pre><code>template &lt;class Obj&gt;\nclass Counter\n{\n    private:\n        static int total;\n\n    public:\n        Counter() {++total;}\n        Counter(const Counter&amp; countObj) {if(this != &amp;countObj) {++total;}}\n        ~Counter() {--total;}\n\n        static int getCounter() {return total;}\n        static void setCounter(int var){total = var;}\n};\ntemplate &lt;class Obj&gt; int Counter&lt;Obj&gt;::total(0);\n\nclass Class1 : private Counter&lt;Class1&gt;\n{\n    private:\n        int member;\n\n    public:\n        int getMember();\n        Class1();\n};\n\nclass Class2 : private Counter&lt;Class2&gt;\n{\n    private:\n        Class1 _PoolsObj[TASKS_PER_PROCESS] = {};\n    public:\n        Class1 getPool(int index);\n        Class2();\n};\n\nClass1::Class1()\n{\n    const int varTotal1 = Counter&lt;Class2&gt;::getCounter()-1;\n    const int varTotal2 = getCounter()-1;\n\n    std::cout&lt;&lt;\"varTotal1: \"&lt;&lt;varTotal1&lt;&lt;std::endl;\n    std::cout&lt;&lt;\"varTotal2: \"&lt;&lt;varTotal2&lt;&lt;std::endl;\n}\n\nint Class1::getMember()\n{\n    return member;\n}\n\n\nClass2::Class2()\n{\n    std::cout&lt;&lt;\"Class2 Constructor\"&lt;&lt;std::endl&lt;&lt;std::endl;\n\n    /* Reset the task counter */\n    Counter&lt;Class1&gt;::setCounter(0);\n}\n\nClass1 Class2::getPool(int index)\n{\n    return _PoolsObj[index];\n}\n\nstatic Class2 class_pool[64];\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 7684979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55dee8eaddd0b1bef61d118334acefb9?s=128&d=identicon&r=PG&f=1", "display_name": "xMutzelx", "link": "https://stackoverflow.com/users/7684979/xmutzelx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 43661715, "answer_count": 2, "score": 0, "last_activity_date": 1493361140, "creation_date": 1493214220, "last_edit_date": 1493291960, "question_id": 43636014, "link": "https://stackoverflow.com/questions/43636014/counting-created-objects-over-2-different-classes-leads-to-problems", "title": "Counting created objects over 2 different classes leads to problems", "body": "<p>I want to count created objects. If I do this with one class it is easy, but I want count objects from 2 different classes with 2 different counters interacting with each other.\nSimplified example:</p>\n\n<pre><code>template &lt;class Obj&gt;\nclass Counter1\n{\n    private: \n        static int total1;\n    public:\n        Counter1(){++total1;}\n        .. destuctor, copy constructor ..\n       static int getCounter1() {return total1;}\n       static void setCounter1(int var) {total1 = var;}\n};\ntemplate&lt;class Obj&gt; int Counter1&lt;Obj&gt;::total1(0);\n\ntemplate &lt;class Obj&gt;\nclass Counter2\n{\n    private: \n        static int total2;\n    public:\n        Counter2(){++total2;}\n        .. destuctor, copy constructor ..\n       static int getCounter2() {return total2;}\n       static void setCounter2(int var) {total2 = var;}\n};\ntemplate&lt;class Obj&gt; int Counter2&lt;Obj&gt;::total2(0);\n\nclass Test1 : private Counter1&lt;Test1&gt;\n{\n .. some code ..\n};\nTest1::Test1() : Counter1()\n{\n   int tmp_var;\n   tmp_var = Counter2&lt;int&gt;::getCounter2();\n}\n</code></pre>\n\n<p>Sadly <code>tmp_var</code> never gets a valid number. Or in other words, it stays at zero and doesn't increase. What am I doing wrong? </p>\n\n<p>_________________EDIT__________________ <br>\nHere a more detailed example as requested:</p>\n\n<pre><code>template &lt;class Obj&gt;\nclass Counter1\n{\n    private:\n        static int total1;\n\n    public:\n        Counter1() {++total1;}\n        Counter1(const Counter1&amp; countObj) {if(this != &amp;countObj) {++total1;}}\n        ~Counter1() {--total1;}\n\n        static int getCounter1() {return total1;}\n        static void setCounter1(int var){total1 = var;}\n};\ntemplate &lt;class Obj&gt; int Counter1&lt;Obj&gt;::total1(0);\n\ntemplate &lt;class Obj&gt;\nclass Counter2\n{\n    private:\n        static int total2;\n\n    public:\n        Counter2() {++total2;}\n        Counter2(const Counter2&amp; countObj) {if(this != &amp;countObj) {++total2;}}\n        ~Counter2() {--total2;}\n\n        static int getCounter2() {return total2;}\n        static void setCounter2(int var){total2 = var;}\n};\ntemplate &lt;class Obj&gt; int Counter2&lt;Obj&gt;::total2(0);\n\n/* Memory are with a static Size with variable object Size allocator */\nclass Class1 : private Counter2&lt;Class1&gt;\n{\n    public:\n        Class1();\n\n        .. some methods ..\n\n    private:\n       .. some members ..\n    };\n\n/* Constructor */\nClass1::Class1() : Counter2()\n{\n    const int varTotal1 = Counter1&lt;int&gt;::getCounter1();\n    const int varTotal2 = getCounter2()-1;\n\n    .. some code ..\n}\n\n.. some methods ..\n\nclass Class2 : private Counter1&lt;Class2&gt;\n{\n    public:\n        Class1 _PoolsObj[TASKS_PER_PROCESS];\n\n        Class2();\n};\n\nClass2::Class2() : Counter1()\n{\n    _PoolsObj[TASKS_PER_PROCESS] = {};\n\n    /* Reset the task counter */\n    Counter2&lt;int&gt;::setCounter2(0);\n}\n\nstatic Class2 class_pool[64];\n</code></pre>\n\n<p>I have two problems: \n<br> 1) <code>Counter2&lt;int&gt;::setCounter2(0);</code> doesn't work\n<br> 2) <code>const int varTotal1 = Counter1&lt;int&gt;::getCounter1();</code> Is always 0</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1493216566, "post_id": 43636129, "comment_id": 74322105, "body": "So something like: <code>ClassTest::ClassTest(classOne&amp; classOne, ClassTwo&amp; classTwo, ClassThree&amp; classThree)</code>."}, {"owner": {"reputation": 21, "user_id": 3458964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1882c904bf93bc02da1c77a6153661?s=128&d=identicon&r=PG&f=1", "display_name": "pjwl", "link": "https://stackoverflow.com/users/3458964/pjwl"}, "edited": false, "score": 0, "creation_date": 1493639122, "post_id": 43636129, "comment_id": 74480307, "body": "The problem is that I need to acces for example a serialport through the entire application, but in some classes this will no be the case that I need the serialport."}, {"owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "reply_to_user": {"reputation": 21, "user_id": 3458964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1882c904bf93bc02da1c77a6153661?s=128&d=identicon&r=PG&f=1", "display_name": "pjwl", "link": "https://stackoverflow.com/users/3458964/pjwl"}, "edited": false, "score": 0, "creation_date": 1493654400, "post_id": 43636129, "comment_id": 74487811, "body": "@user3458964, why is that a problem? You should have a class responsible for handling the serial port, which you construct in <code>main</code> and pass to those parts of the application that need access to it. Or you can make it available from your class derived from <code>QApplication</code>, that is a singleton already anyway."}], "tags": [], "owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "is_accepted": false, "score": 2, "last_activity_date": 1493214550, "creation_date": 1493214550, "answer_id": 43636129, "question_id": 43635996, "link": "https://stackoverflow.com/questions/43635996/c-determine-best-way-for-external-class-pointer/43636129#43636129", "title": "C++ determine best way for external class pointer", "body": "<p>The best way is to not do it and instead use <a href=\"https://stackoverflow.com/questions/130794/what-is-dependency-injection\">dependency injection</a>.</p>\n\n<p>If you choose to do it anyway, you should at least use getter/factory functions (i.e. <code>ClassOne &amp;getClassOne()</code>)) so you can:</p>\n\n<ul>\n<li>be sure random code can't <em>change</em> the objects and</li>\n<li>handle order of construction implicitly by constructing on first use (sometimes appropriate, sometimes not).</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1493217127, "post_id": 43637066, "comment_id": 74322592, "body": "shouldn&#39;t <code>Instance()</code> be static too? And do you really want to return a non-const reference?"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "reply_to_user": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1493217311, "post_id": 43637066, "comment_id": 74322742, "body": "lol of course it should be <code>static</code>. I&#39;m dumb. The <code>const</code>ness is dependent on what the class does, so I wouldn&#39;t necessarily just plop that in."}, {"owner": {"reputation": 21, "user_id": 3458964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1882c904bf93bc02da1c77a6153661?s=128&d=identicon&r=PG&f=1", "display_name": "pjwl", "link": "https://stackoverflow.com/users/3458964/pjwl"}, "edited": false, "score": 0, "creation_date": 1493283779, "post_id": 43637066, "comment_id": 74353896, "body": "Thanks.. I need a global class for the use of serial port, which is needed trough the entire code. I have heared thats singleton not always are the best choice.?"}, {"owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493653580, "post_id": 43637066, "comment_id": 74487380, "body": "Singleton is an <i>anti</i>-pattern: it mixes the availability of a well known instance into the logic of the class itself. It is better to put the well known instance in some kind of \u201ccontext\u201d object, separate from the class itself. That way you can replace the instance in the context with a mock for testing or when it turns out you actually need to extend it in some cases."}, {"owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493653874, "post_id": 43637066, "comment_id": 74487516, "body": "Also, Singleton is a Java pattern. It exists in large part because Java can&#39;t have functions outside classes, so it puts the <code>getInstance()</code> into the class it returns. But this is a C++ question and in C++ functions can be outside of classes, which is more appropriate here: have <code>getClassA()</code>, not <code>ClassA::getInstance()</code>."}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "reply_to_user": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493655549, "post_id": 43637066, "comment_id": 74488384, "body": "@JanHudec I agree mostly with your first point with some caveats, it doesn&#39;t actually matter since we ruled out dependency injection, but  I strongly disagree with <code>getClassA()</code>. <code>getInstance()</code> is essentially a &quot;constructor&quot; of sorts, having it outside the class makes little to no sense, made worse if it actually needed to be friended for lazy initialization. And no I&#39;m not endorsing lazy singletons."}, {"owner": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493656721, "post_id": 43637066, "comment_id": 74488944, "body": "@PasserBy, the thing is that the existence of well known instance is (usually) <i>not</i> a property of the class itself. It is the application that needs a shared instance, so it should be the application (the function/class implementing start-up) that should create it and put it somewhere public, e.g. in some \u201ccontext\u201d. See also <a href=\"http://www.onelib.org/article/singletons-solving-problems-you-didnt-know-you-never-had-since-1995\" rel=\"nofollow noreferrer\">Singletons: Solving problems you didn\u2019t know you never had since 1995</a>."}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "reply_to_user": {"reputation": 65310, "user_id": 201725, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/616f7a1cbb20fe949d883393657c039a?s=128&d=identicon&r=PG", "display_name": "Jan Hudec", "link": "https://stackoverflow.com/users/201725/jan-hudec"}, "edited": false, "score": 0, "creation_date": 1493659777, "post_id": 43637066, "comment_id": 74490560, "body": "@JanHudec Point taken"}], "tags": [], "owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "is_accepted": false, "score": 2, "last_activity_date": 1493217323, "last_edit_date": 1493217323, "creation_date": 1493216850, "answer_id": 43637066, "question_id": 43635996, "link": "https://stackoverflow.com/questions/43635996/c-determine-best-way-for-external-class-pointer/43637066#43637066", "title": "C++ determine best way for external class pointer", "body": "<p>Having a global state is generally <a href=\"https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil\">not a great idea</a>, seek to eliminate it.</p>\n\n<p>If that cannot be done, try the <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a>.</p>\n\n<pre><code>class Singleton\n{\n    Singleton();  //keep constructors private to avoid creation by others\n    static Singleton inst;\npublic:\n    static Singleton&amp; Instance() {return inst;}\n};\nSingleton Singleton::inst;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3458964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1882c904bf93bc02da1c77a6153661?s=128&d=identicon&r=PG&f=1", "display_name": "pjwl", "link": "https://stackoverflow.com/users/3458964/pjwl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1493217323, "creation_date": 1493214165, "question_id": 43635996, "link": "https://stackoverflow.com/questions/43635996/c-determine-best-way-for-external-class-pointer", "title": "C++ determine best way for external class pointer", "body": "<p>For a c++ application which I'm currently being busy to develop, I have several classes which I need to access through my entire code, without creating a new object</p>\n\n<p>So searching I have found that one of methods that can be used is with the extern linkage specifier.</p>\n\n<p>I would like to know what is best way to use this extern method, I wrote a little sample code</p>\n\n<pre><code>classone.h\n#ifndef CLASSONE_H\n#define CLASSONE_H\n\nclass ClassOne\n{\npublic:\n    ClassOne();\n\n    void showClassOneInt();\n\nprivate:\n    int m_classOneInt;\n};\n\nextern ClassOne *classOne;\n---------------------------------------\nclassone.cpp\n#include \"classone.h\"\n\n#include &lt;QDebug&gt;\n\nClassOne *classOne;\n\nClassOne::ClassOne()\n{\n    m_classOneInt = 1;\n}\n\nvoid ClassOne::showClassOneInt()\n{\n    qDebug() &lt;&lt; \"ClassOneInt: \" &lt;&lt; m_classOneInt;\n}\n---------------------------------------\nclasstwo.h\n#ifndef CLASSTWO_H\n#define CLASSTWO_H\n\nclass ClassTwo\n{\npublic:\n    ClassTwo();\n\n    void showClassTwoInt();\n\nprivate:\n    int m_classTwoInt;\n};\n\n#endif // CLASSTWO_H\n---------------------------------------\nclasstwo.cpp\n#include \"classtwo.h\"\n\n#include &lt;QDebug&gt;\n\nClassTwo::ClassTwo()\n{\n    m_classTwoInt = 2;\n}\n\nvoid ClassTwo::showClassTwoInt()\n{\n    qDebug() &lt;&lt; \"ClassTwoInt: \" &lt;&lt; m_classTwoInt;\n}\n---------------------------------------\nclassthree.h\n#ifndef CLASSTHREE_H\n#define CLASSTHREE_H\n\nclass ClassThree\n{\npublic:\n    ClassThree();\n\n    void showClassThreeInt();\n\nprivate:\n    int m_classThreeInt;\n};\n\n#endif // CLASSTHREE_H\n---------------------------------------\nclassthree.cpp\n#include \"classthree.h\"\n\n#include &lt;QDebug&gt;\n\nClassThree::ClassThree()\n{\n    m_classThreeInt = 3;\n}\n\nvoid ClassThree::showClassThreeInt()\n{\n    qDebug() &lt;&lt; \"ClassThreeInit: \" &lt;&lt; m_classThreeInt;\n}\n---------------------------------------\nclasstest.cpp\n#include \"classtest.h\"\n#include \"classone.h\"\n#include \"classtwo.h\"\n#include \"classthree.h\"\n\n//Class one pointer already in header\n\n//Class two\nextern ClassTwo *classTwo;\n\n//Class three\nextern ClassThree *classThree;\n\nClassTest::ClassTest()\n{\n    //Execute class one\n    classOne-&gt;showClassOneInt();\n\n    //Execute class two\n    classTwo-&gt;showClassTwoInt();\n\n    //Execute class three\n    classThree-&gt;showClassThreeInt();\n}\n---------------------------------------\nmain.cpp\n#include &lt;QCoreApplication&gt;\n#include \"classone.h\"\n#include \"classtwo.h\"\n#include \"classthree.h\"\n#include \"classtest.h\"\n\n//Class one pointer already in header file\n\n//Class two pointer\nClassTwo *classTwo;\n\n//Class three pointer\nClassThree *classThree;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    //Create object for class one\n    classOne = new ClassOne;\n\n    //Create object for class two\n    classTwo = new ClassTwo;\n\n    //Create object for class three\n    ClassThree three;\n    classThree = &amp;three;\n\n    //Create a classTest object\n    ClassTest test;\n\n    return a.exec();\n}\n</code></pre>\n\n<p>Please could you tell me what is the best way, thanks for you help.</p>\n"}, {"tags": ["c++", "ogre3d", "resourcemanager"], "comments": [{"owner": {"reputation": 1029, "user_id": 7878485, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15dabd902549f21699b86daa04ecaeed?s=128&d=identicon&r=PG&f=1", "display_name": "nitronoid", "link": "https://stackoverflow.com/users/7878485/nitronoid"}, "edited": false, "score": 0, "creation_date": 1493214311, "post_id": 43635946, "comment_id": 74320214, "body": "Can you show us your <code>ResourceManagement</code> class?"}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1493214414, "post_id": 43635946, "comment_id": 74320296, "body": "A declaration of <code>Ogre::Entity</code> and of <code>ResourceManagement</code> needs to be visible to the compiler (e.g. from another header file) before the code you have shown from LevelManager,h.   If either declaration is not visible, that will explain the error messages.    Similarly, a definition (not just declaration) of <code>ResourceManager</code> needs to be visible to the compiler before calling its member functions."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1493215018, "post_id": 43635946, "comment_id": 74320829, "body": "@Peter Definitions of functions are not needed for a compiler. Definitions are needed for a linker, which is invoked after the compilation has already completed."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493215161, "post_id": 43635946, "comment_id": 74320951, "body": "There should be at least one error before those, probably regarding a missing type declaration. (My crystal ball thinks that it&#39;s <code>ResourceManagement</code> and that your headers have a circular dependency.)"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1493215203, "post_id": 43635946, "comment_id": 74320979, "body": "Copy messages from the Output window instead of the Error List."}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493215224, "post_id": 43635946, "comment_id": 74320995, "body": "@AlgirdasPreid\u017eius - to call a member function of a class, the definition of the class (not just a declaration) needs to be visible to the compiler.  <code>ResourceManager</code> is a class (evidenced by member functions of it being called in code) not a function."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1493215785, "post_id": 43635946, "comment_id": 74321449, "body": "@Peter Ah, Somehow I had functions on mind in addition to mistaking <i>class</i> declarations with definitions. Yes, you are correct on that."}, {"owner": {"reputation": 624, "user_id": 6144523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B5cil.jpg?s=128&g=1", "display_name": "KevinTheGreat", "link": "https://stackoverflow.com/users/6144523/kevinthegreat"}, "edited": false, "score": 0, "creation_date": 1493216638, "post_id": 43635946, "comment_id": 74322170, "body": "So I tried to declare the manager in the levelManager.cpp like this <code>mgr = new ResourceManagement;</code> however it has the pure functional error"}, {"owner": {"reputation": 624, "user_id": 6144523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B5cil.jpg?s=128&g=1", "display_name": "KevinTheGreat", "link": "https://stackoverflow.com/users/6144523/kevinthegreat"}, "reply_to_user": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1493218710, "post_id": 43635946, "comment_id": 74323914, "body": "@Peter Could you maybe show me an example where this is done, quiet new to C++ and Ogre"}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 2, "creation_date": 1493224453, "post_id": 43635946, "comment_id": 74328071, "body": "Sorry, I won&#39;t do that. You&#39;re trying to jump into learning C++ and Ogre together - that&#39;s a recipe for disaster. Instead you need to learn C++ basics first without Ogre - start with a basic C++ textbook/tutorial.  My comments above - or any example I might give - won&#39;t make any sense to you before you follow that basic text and reach a point of creating a simple project involving multiple source files and (at least) one header file. Once you understand such C++ basics, you&#39;ll be able to start learning Ogre - since Ogre documentation ASSUMES you already know those C++ basics."}], "owner": {"reputation": 624, "user_id": 6144523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B5cil.jpg?s=128&g=1", "display_name": "KevinTheGreat", "link": "https://stackoverflow.com/users/6144523/kevinthegreat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493215103, "creation_date": 1493214064, "last_edit_date": 1493215103, "question_id": 43635946, "link": "https://stackoverflow.com/questions/43635946/type-specifier-required-for-class", "title": "type specifier required for class", "body": "<p>I am trying to use my class ResourceManagement in my levelmanager, so that I can start creating resources.</p>\n\n<p>however I get the following error(s)</p>\n\n<blockquote>\n  <p>Severity  Code    Description Project File    Line    Suppression State\n  Error C4430   missing type specifier - int assumed. Note: C++ does not\n  support default-int   levelmanager.h  49</p>\n  \n  <p>Severity  Code    Description Project File    Line    Suppression State\n  Error C2143   syntax error : missing ';' before\n  '*'   Diabro  levelmanager.h  49</p>\n</blockquote>\n\n<p>I have declared the ResourceManagement class as followed in the LevelManager.h</p>\n\n<pre><code>private:\n    Ogre::Entity* _playerEntity;\n\n    ResourceManagement* mgr;\n</code></pre>\n\n<p>and then use it like this in the LevelManager.cpp</p>\n\n<pre><code>mgr-&gt;createResource(\"Diabro\\Diabro\\media\\models\", \"MESH\", \"ninja.mesh\",  \"Mesh\", \"meshes\"); //location of file, codeType of resourcetype, name of resource, type of resource, resourcegroup\n    mgr-&gt;loadResource(\"meshes\");\n    mgr-&gt;reloadResource(\"ninja.mesh\", \"meshes\");\n    mgr-&gt;unloadResource(\"ninja.mesh\", \"meshes\");\n</code></pre>\n\n<p>ResourceManagement class</p>\n\n<pre><code>void ResourceManagement::initialize()\n{\n\n_groupManager == new Ogre::ResourceGroupManager;\n}\n\nvoid ResourceManagement::createResource(std::string pLocation, std::string pLocType, std::string pResourceName, std::string pResourceType, std::string pGroupName)\n{\n    _groupManager-&gt;getSingleton().addResourceLocation(pLocation , pLocType);\n    _groupManager-&gt;getSingleton().declareResource(pResourceName, pResourceType, pGroupName);\n    _groupManager-&gt;getSingleton().initialiseResourceGroup(pGroupName);\n    // Ogre::ResourceGroupManager::getSingleton().initialiseAllResourceGroups(); can be used to just load all, need decision which we want\n}\n\n\nvoid ResourceManagement::unloadResource(std::string pResourceName, std::string pGroupName) // unloads a single resource\n{\n    Ogre::ResourcePtr ptr = _resourceMgr-&gt;getResourceByName(pResourceName);\n    ptr-&gt;unload();\n    _resourceMgr-&gt;remove(pResourceName);    \n}\n\n\nvoid ResourceManagement::unloadResourceGoup(std::string pGroupName)\n{\n    _groupManager-&gt;getSingleton().unloadResourceGroup(pGroupName);\n\n}\n\nvoid ResourceManagement::loadResource(std::string pGroupName)\n{\n    _groupManager-&gt;getSingleton().loadResourceGroup(pGroupName);\n}\n\n\nvoid ResourceManagement::reloadResource(std::string pResourceName, std::string pGroupName)\n{\n    Ogre::ResourcePtr ptr = _resourceMgr-&gt;load(pResourceName, pGroupName);\n    ptr-&gt;escalateLoading();\n    ptr-&gt;reload();\n\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "polymorphism", "reset"], "comments": [{"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 3, "creation_date": 1493214050, "post_id": 43635876, "comment_id": 74320003, "body": "<a href=\"/questions/274626/what-is-object-slicing\">What is object slicing?</a>"}, {"owner": {"reputation": 924, "user_id": 4899740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96c5e1381891a68f8b805b5e29f860e?s=128&d=identicon&r=PG&f=1", "display_name": "Serikov", "link": "https://stackoverflow.com/users/4899740/serikov"}, "edited": false, "score": 2, "creation_date": 1493214302, "post_id": 43635876, "comment_id": 74320203, "body": "<code>*ptr</code> has type <code>Base&amp;</code>. <code>*ptr = Derived();</code> invoking Base::operator=(const Base&amp;). And there you get slicing mentioned above."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1493217067, "post_id": 43635876, "comment_id": 74322547, "body": "If you <i>know</i> the object pointed to by <code>ptr</code> is a <code>Derived</code> object then you could do <code>*dynamic_cast&lt;Derived *&gt;(ptr) = Derived();</code>. But it might be better to give <code>Base</code> a <code>virtual void clear();</code> method and override it in <code>Derived</code>."}, {"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1539154804, "post_id": 43635876, "comment_id": 92393501, "body": "Note that this is not slicing. It&#39;s a matter of not defining an adequate <code>virtual Base::operator=(const Derived &amp;rhs)</code> which must be overridden in <code>Derived</code> to take care of the additional members. See  <a href=\"http://tpcg.io/fxGfNT\" rel=\"nofollow noreferrer\">tpcg.io/fxGfNT</a>  ."}, {"owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1539155278, "post_id": 43635876, "comment_id": 92393739, "body": "It <i>is</i> interesting that calling a member function through the dereferenced pointer (in <code>*p = Derived()</code>, or in other words <code>(*p).operator=(Derived())</code>) does invoke the method defined in <code>Derived</code> if <code>p</code> actually points to a <code>Derived</code>. But then it is equivalent to <code>p-&gt;operator=(Derived())</code> which looks more virtual-prone ;-). And nobody would call &quot;slicing!&quot; if it were written thusly."}], "owner": {"reputation": 927, "user_id": 2935371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vEgD.png?s=128&g=1", "display_name": "Fritzip", "link": "https://stackoverflow.com/users/2935371/fritzip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1493214056, "answer_count": 0, "score": 1, "last_activity_date": 1539154715, "creation_date": 1493213859, "last_edit_date": 1539154715, "question_id": 43635876, "link": "https://stackoverflow.com/questions/43635876/resetting-pointer-using-polymorphism", "closed_reason": "Duplicate", "title": "Resetting pointer using polymorphism", "body": "<p>Here's an instantition: <code>Base * ptr = new Derived() ;</code></p>\n\n<p>After working with <code>ptr</code>, I want to reset it.</p>\n\n<p><strong>Why derived class members are not reset when doing <code>*ptr = Derived() ;</code> while base class members are ?</strong></p>\n\n<p>See for yourself in a complete example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nvoid print_array(const std::vector&lt;int&gt; &amp; vec, const std::string &amp; name = \"\" )\n{\n    std::cout &lt;&lt; name &lt;&lt; \" =&gt; [ \" ;\n    for (unsigned i = 0; i &lt; vec.size(); ++i)\n    {\n        std::cout &lt;&lt; vec[i] &lt;&lt; \" \" ;\n    }\n    std::cout &lt;&lt; \"]\" &lt;&lt; std::endl ;\n}\n\nvoid do_stuff(std::vector&lt;int&gt; &amp; vec, unsigned size)\n{\n    vec.resize(size) ;\n    std::fill(vec.begin(), vec.end(), size) ;\n}\n\nclass Base\n{\npublic:\n    std::vector&lt;int&gt; base ;\n\n    Base() {}\n    virtual ~Base() {}\n};\n\nclass Derived : public Base\n{\npublic:\n    std::vector&lt;int&gt; derv ;\n\n    Derived() {}\n    virtual ~Derived() {}\n};\n\n\nint main()\n{\n    // Working but without polymorphism\n    // Derived * ptr = new Derived() ;\n\n    //Non-working\n    Base * ptr = new Derived() ;\n\n    std::vector&lt;int&gt; &amp; vecbase = static_cast&lt;Derived*&gt;(ptr)-&gt;base ;\n    std::vector&lt;int&gt; &amp; vecderv = static_cast&lt;Derived*&gt;(ptr)-&gt;derv ;\n\n    print_array(vecbase, \"vecbase\") ;\n    print_array(vecderv, \"vecderv\") ;\n    do_stuff(vecbase, 3) ;\n    do_stuff(vecderv, 3) ;\n    print_array(vecbase, \"vecbase\") ;\n    print_array(vecderv, \"vecderv\") ;\n\n    // Non-working\n    *ptr = Derived() ;\n\n    // Working but non-optimal\n    // delete ptr ;\n    // ptr = new Derived() ;\n\n    print_array(vecbase, \"vecbase\") ;\n    print_array(vecderv, \"vecderv\") ;\n    do_stuff(vecbase, 5) ;\n    do_stuff(vecderv, 5) ;\n    print_array(vecbase, \"vecbase\") ;\n    print_array(vecderv, \"vecderv\") ;\n\n    return 0;\n}\n</code></pre>\n\n<p>Current output: </p>\n\n<pre><code>vecbase =&gt; [ ]\nvecderv =&gt; [ ]\nvecbase =&gt; [ 3 3 3 ]\nvecderv =&gt; [ 3 3 3 ]\nvecbase =&gt; [ ]\nvecderv =&gt; [ 3 3 3 ]  &lt;=\nvecbase =&gt; [ 5 5 5 5 5 ]\nvecderv =&gt; [ 5 5 5 5 5 ]\n</code></pre>\n\n<p>Expected output: </p>\n\n<pre><code>vecbase =&gt; [ ]\nvecderv =&gt; [ ]\nvecbase =&gt; [ 3 3 3 ]\nvecderv =&gt; [ 3 3 3 ]\nvecbase =&gt; [ ]\nvecderv =&gt; [ ] &lt;=\nvecbase =&gt; [ 5 5 5 5 5 ]\nvecderv =&gt; [ 5 5 5 5 5 ]\n</code></pre>\n\n<p>[Edit by Peter:] Note that this is not slicing because <code>*p</code> <strong>is a</strong> <code>Derived</code>, even if its static type is <code>Base</code>.]</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1493213455, "post_id": 43635658, "comment_id": 74319493, "body": "<i>apologies for std, but this isn&#39;t advanced enough for me to warrant not using std</i> That might be the case but you should really just avoid it.  Its a good habit to get into just using <code>std::</code>.  There are some really simple samples of code where not using <code>std::</code> does cause problems."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1493213578, "post_id": 43635658, "comment_id": 74319603, "body": "<i>Is this possible?</i> Yes. Did you attempt at implementing such a feature, or should we?"}, {"owner": {"reputation": 3, "user_id": 7915590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uogBZJp2_6E/AAAAAAAAAAI/AAAAAAAAAJY/2opeBaj5IVo/photo.jpg?sz=128", "display_name": "Henryk Haniewicz", "link": "https://stackoverflow.com/users/7915590/henryk-haniewicz"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493214003, "post_id": 43635658, "comment_id": 74319956, "body": "@AlgirdasPreid\u017eius Yeah, but it didn&#39;t work. I did it by writing out a bunch of if statements which ran overtime something was picked. The code found what was picked, increased a variable to do with that element, and then checked if the variable was at a certain value. This, however, meant that the code contained list after list of if statements and as many dummy variables as elements in the array. I&#39;d prefer one counter for everything if possible?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1493214117, "post_id": 43635658, "comment_id": 74320064, "body": "<code>std::shuffle</code> if you can &quot;duplicate&quot; <code>seniorClasses</code> 8 times."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493214333, "post_id": 43635658, "comment_id": 74320234, "body": "@HenrykHaniewicz So, include your solution in the question, because, currently, it looks as if you decided to outsource your problem to SO, before even <i>attempting</i> it on your own."}, {"owner": {"reputation": 3, "user_id": 7915590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uogBZJp2_6E/AAAAAAAAAAI/AAAAAAAAAJY/2opeBaj5IVo/photo.jpg?sz=128", "display_name": "Henryk Haniewicz", "link": "https://stackoverflow.com/users/7915590/henryk-haniewicz"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493215510, "post_id": 43635658, "comment_id": 74321229, "body": "@AlgirdasPreid\u017eius okay, edited. Please to help now?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493216043, "post_id": 43635658, "comment_id": 74321663, "body": "@HenrykHaniewicz Since answer has already been posted - I will just post it in a comment, without any superfluous information: If you feel that you need that many variables, coupled with bunch of copy-pasted code - using an array, of some sort, should be the first idea that you think about."}, {"owner": {"reputation": 3, "user_id": 7915590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uogBZJp2_6E/AAAAAAAAAAI/AAAAAAAAAJY/2opeBaj5IVo/photo.jpg?sz=128", "display_name": "Henryk Haniewicz", "link": "https://stackoverflow.com/users/7915590/henryk-haniewicz"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1493216205, "post_id": 43635658, "comment_id": 74321804, "body": "@AlgirdasPreid\u017eius sorry. I&#39;m not really a programmer. Definitely in the wrong job, but so are many people round the world :&#39;)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7915590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uogBZJp2_6E/AAAAAAAAAAI/AAAAAAAAAJY/2opeBaj5IVo/photo.jpg?sz=128", "display_name": "Henryk Haniewicz", "link": "https://stackoverflow.com/users/7915590/henryk-haniewicz"}, "edited": false, "score": 0, "creation_date": 1493215687, "post_id": 43636397, "comment_id": 74321369, "body": "Thanks. I&#39;ll certainly give it a whirl and let you know how it works! Yeah, the array sizes in my program might increase by 1 or 2 but that&#39;s it, and I&#39;m not planning to export any of this code so something like this will be fine!"}], "tags": [], "owner": {"reputation": 155, "user_id": 7718627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3hXE.jpg?s=128&g=1", "display_name": "Vic", "link": "https://stackoverflow.com/users/7718627/vic"}, "is_accepted": true, "score": 0, "last_activity_date": 1493215201, "creation_date": 1493215201, "answer_id": 43636397, "question_id": 43635658, "link": "https://stackoverflow.com/questions/43635658/c-counter-for-selecting-things-from-an-array/43636397#43636397", "title": "C++ counter for selecting things from an array", "body": "<p>One way to solve this would be to add an array that increments each element by one every time you add the RandIndex item that is associated with it. Say your element 0 = Free and element 3 = 7A; when 7A is randomly selected you would increment element 3 by one.</p>\n\n<p>One way this might look is such:</p>\n\n<pre><code>    RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n    if (seniorClass[RandIndex]);        \n      counterArray[RandIndex]++;\n    if (counterArray[RandIndex] &lt; someValue)\n     timetable[i][j][k] = seniorClasses[RandIndex];\n</code></pre>\n\n<p>This is not the most elegant answer, but in your nested for loops a solution like this would work as long as your array sizes didn't get too large. If you ever wanted to export this to an application with possible array sizes approaching 100 or greater then you would have to re-work it without three nested for loops.</p>\n\n<p>I haven't tried to run this code so please play with this idea and be creative because you can make this work for your current approach.</p>\n"}, {"tags": [], "owner": {"reputation": 1033, "user_id": 7667894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cbd2317a1ddffc1e8f9ca0ff56b6f6?s=128&d=identicon&r=PG&f=1", "display_name": "AlexG", "link": "https://stackoverflow.com/users/7667894/alexg"}, "is_accepted": false, "score": 0, "last_activity_date": 1493217379, "creation_date": 1493217379, "answer_id": 43637272, "question_id": 43635658, "link": "https://stackoverflow.com/questions/43635658/c-counter-for-selecting-things-from-an-array/43637272#43637272", "title": "C++ counter for selecting things from an array", "body": "<p>You might want to use a map to store the indices you've already been using and the number of times you've used them. This is not a complete example but it gives you an idea of what you could do.</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;map&gt;\nusing namespace std;\n\nint main()\n{\nmap&lt;size_t, size_t&gt; indexCountMap; // key : index. value : number of times that index has been used\n\nwhile(1)\n    {\n    size_t randomIndex = 0; // Generate a random index here that is within the boundary of \"seniorClasses\"\n\n    auto it = indexCountMap.find(randomIndex);\n    if (it == indexCountMap.end())\n        indexCountMap[randomIndex] = 1; // Create the entry in the map\n    else\n        indexCountMap[randomIndex]++;   // Increment existing entry\n\n    if (10 == indexCountMap[randomIndex])\n        break;\n    }\n}\n</code></pre>\n\n<p>Also, I'm not sure why you would ever need to use a 3D string array. There are probably better ways of expressing your data in a 1D array of structures.</p>\n"}], "owner": {"reputation": 3, "user_id": 7915590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uogBZJp2_6E/AAAAAAAAAAI/AAAAAAAAAJY/2opeBaj5IVo/photo.jpg?sz=128", "display_name": "Henryk Haniewicz", "link": "https://stackoverflow.com/users/7915590/henryk-haniewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 43636397, "answer_count": 2, "score": 0, "last_activity_date": 1493217379, "creation_date": 1493213337, "last_edit_date": 1493215580, "question_id": 43635658, "link": "https://stackoverflow.com/questions/43635658/c-counter-for-selecting-things-from-an-array", "title": "C++ counter for selecting things from an array", "body": "<p>I have some code that randomly selects an element from an array of strings and stores that element in some other location, however I only want to be able to select the elements a certain number of times each. Here is an excerpt of my code outlining the issue. (apologies for std, but this isn't advanced enough for me to warrant not using std).</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\nusing namespace std;\nvoid setDaysOff();\n\nstring prepClasses[] = { \"FREE\", \"1X\", \"4A\", \"4X\", \"5A\", \"5X\", \"6B\", \"6X\" };\n\nstring seniorClasses[] = { \"FREE\", \"7A\", \"7B\", \"7AB\",\n    \"8A\", \"8B\", \"8AB\", \"9A\", \"9B\", \"9AB\", \"10D\", \"10T\",\"10X\", \"10AX\",\n    \"10BX\", \"10CX\", \"10Q\", \"11D\", \"11T\", \"11X\", \"11AX\", \"11BX\", \"11CX\" };\n\nstring timetable[25][6][5];\n\nint main() {\n\n    // ZEROING\n    setDaysOff();\n    // END OF ZEROING\n\n    srand ( time(NULL) );\n    int RandIndex;\n    int a1 = 0, a2 = 0, a3 = 0, a4 = 0, a5 = 0, a6 = 0, a7 = 0, a8 = 0, a9 = 0, a10 = 0,\n        a11 = 0, a12 = 0, a13 = 0, a14 = 0, a15 = 0, a16 = 0, a17 = 0, a18 = 0, a19 = 0,\n        a20 = 0, a21 = 0, a22 = 0, a23 = 0;\n\n    for(int k = 0; k &lt; 5; k++) {\n        for(int i = 0; i &lt; 25; i++) {\n            for(int j = 0; j &lt; 6; j++) {\n                if(timetable[i][j][k] != \"0\") {\n                    RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                if(RandIndex == 0) {\n                    a1++;\n                    while(RandIndex == 0 &amp;&amp; a1 &gt; 12) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 1) {\n                    a2++;\n                    while(RandIndex == 1 &amp;&amp; a2 &gt; 8) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 2) {\n                    a3++;\n                    while(RandIndex == 2 &amp;&amp; a3 &gt; 10) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 3) {\n                    a4++;\n                    while(RandIndex == 3 &amp;&amp; a4 &gt; 8) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 4) {\n                    a5++;\n                    while(RandIndex == 4 &amp;&amp; a5 &gt; 8) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 5) {\n                    a6++;\n                    while(RandIndex == 5 &amp;&amp; a6 &gt; 10) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 6) {\n                    a7++;\n                    while(RandIndex == 6 &amp;&amp; a7 &gt; 3) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 7) {\n                    a8++;\n                    while(RandIndex == 7 &amp;&amp; a8 &gt; 5) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 8) {\n                    a9++;\n                    while(RandIndex == 8 &amp;&amp; a9 &gt; 6) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 9) {\n                    a10++;\n                    while(RandIndex == 9 &amp;&amp; a10 &gt; 5) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 10) {\n                    a11++;\n                    while(RandIndex == 10 &amp;&amp; a11 &gt; 9) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 11) {\n                    a12++;\n                    while(RandIndex == 11 &amp;&amp; a12 &gt; 3) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 12) {\n                    a13++;\n                    while(RandIndex == 12 &amp;&amp; a13 &gt; 8) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 13) {\n                    a14++;\n                    while(RandIndex == 13 &amp;&amp; a14 &gt; 4) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 14) {\n                    a15++;\n                    while(RandIndex == 14 &amp;&amp; a15 &gt; 6) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 15) {\n                    a16++;\n                    while(RandIndex == 15 &amp;&amp; a16 &gt; 6) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 16) {\n                    a17++;\n                    while(RandIndex == 16 &amp;&amp; a17 &gt; 8) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 17) {\n                    a18++;\n                    while(RandIndex == 17 &amp;&amp; a18 &gt; 12) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 18) {\n                    a19++;\n                    while(RandIndex == 18 &amp;&amp; a19 &gt; 10) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 19) {\n                    a20++;\n                    while(RandIndex == 19 &amp;&amp; a20 &gt; 7) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 20) {\n                    a21++;\n                    while(RandIndex == 20 &amp;&amp; a21 &gt; 5) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 21) {\n                    a22++;\n                    while(RandIndex == 21 &amp;&amp; a22 &gt; 10) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                else if(RandIndex == 22) {\n                    a23++;\n                    while(RandIndex == 22 &amp;&amp; a23 &gt; 9) {\n                        RandIndex = rand() % (sizeof(seniorClasses)/sizeof(string));\n                    }\n                }\n                    timetable[i][j][k] = seniorClasses[RandIndex];\n                    cout &lt;&lt; timetable[i][j][k] &lt;&lt; \" \" &lt;&lt; flush;\n                }\n                else if(timetable[i][j][k] == \"0\") {\n                    cout &lt;&lt; \"ABS \" &lt;&lt; flush;\n                }\n            }\n            cout &lt;&lt; endl;\n        }\n        cout &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>So, right now, the code selects data from seniorClasses and inputs them but I WANT it to after, say, picking out 10X 8 times, stop the code from selecting 10X again. Is this possible? Thanks!</p>\n"}, {"tags": ["c++", "xaml", "windows-phone-8", "windows-phone", "xaudio2"], "comments": [{"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1493270562, "post_id": 43635596, "comment_id": 74346386, "body": "First, you should look at using Windows phone 8.1 and VS 2013 instead of VS 2012 / Windows phone 8.0. Second, take a look at <a href=\"https://github.com/Microsoft/DirectXTK/wiki\" rel=\"nofollow noreferrer\">DirectX Tool Kit for Audio</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7925681"}, "reply_to_user": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1493474376, "post_id": 43635596, "comment_id": 74437775, "body": "I have a windows phone 8.0, so coding for another version is not really an option.  Also, the link you provided seems helpful but is also too complicated for me.  I just want to be able to use Xaduio2 to generate sine tones, and that seems to be really difficult to do."}], "owner": {"user_type": "does_not_exist", "display_name": "user7925681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502213902, "creation_date": 1493213171, "last_edit_date": 1502213902, "question_id": 43635596, "link": "https://stackoverflow.com/questions/43635596/implementing-xaudio2-for-windows-phone-8-application", "title": "Implementing Xaudio2 for windows phone 8 application", "body": "<p>I am new to coding for windows phone 8, but have coded a lot in python before.  I am trying to make an application that uses Xaudio2 to generate a sine wave in real time and loop it infinitely as a drone pitch.  I am using Visual Studio Express 2012 and writing the application in C++ and XAML.  I  have figured out the graphical interface, which was not very hard, and tried using MediaElement to loop a short sound file to make the constant pitch, but there was a small gap in the sound every time the file restarted.  I read that using Xaudio2 could remove the gap and even generate the sound in real time without the need for a recorded sound (since I am concerned about memory) without any gaps.  This sounds like exactly what I needed, but I have had extreme troubles with Xaudio2.  I have looked at tutorials, as many as I can find, but I am not sure how to start the function, how to call the function, or where the code even goes on the page.  I am assuming it goes on the C++ page, but I don't even know that.  What I am trying to do is really simple, but I cannot get started because I do not know how to use this API in my code.  If anyone could help me to figure out how to get Xaudio2 started and working in my code, that would be really amazing!</p>\n"}, {"tags": ["c++", "multithreading", "visual-studio-2010", "openmp"], "comments": [{"owner": {"reputation": 20828, "user_id": 620382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf285996e4e7188feac84786a47d9f3a?s=128&d=identicon&r=PG", "display_name": "Zulan", "link": "https://stackoverflow.com/users/620382/zulan"}, "edited": false, "score": 0, "creation_date": 1493226104, "post_id": 43635311, "comment_id": 74328997, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/23656592/all-openmp-tasks-running-on-the-same-thread\">All OpenMP Tasks running on the same thread</a> - The question may sound different, but the answers are very fitting. @HristoIliev provides a limited way to emulate tasks with ancient compilers."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1493280770, "post_id": 43635311, "comment_id": 74351781, "body": "Don&#39;t use OpenMP 2.0 with C++, see also <a href=\"http://stackoverflow.com/questions/13837696/can-i-safely-use-openmp-with-c11\">this post</a>. What you can use is <a href=\"https://www.threadingbuildingblocks.org/\" rel=\"nofollow noreferrer\">tbb</a> which is build on and supports task-based parallelism using a thread pool with work-stealing. If you want to know more, ask another question."}], "owner": {"reputation": 371, "user_id": 1568957, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/vFWQ8.png?s=128&g=1", "display_name": "Milo\u0161 Ljumovi\u0107", "link": "https://stackoverflow.com/users/1568957/milo%c5%a1-ljumovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493280288, "creation_date": 1493212389, "last_edit_date": 1495542855, "question_id": 43635311, "link": "https://stackoverflow.com/questions/43635311/openmp-2-0-distributing-linked-list-nodes-to-multiple-threads", "title": "OpenMP 2.0 distributing linked list nodes to multiple threads", "body": "<p>I have to use VS 2010 which supports OpenMP 2.0 I have a large single linked list and I'd like to distribute processing of nodes for threads team using OpenMP. I found some articles about using single thread to iterate and then assigning copy of each node to every thread member from the team:</p>\n\n<pre><code>#pragma omp parallel\n{\n    #pragma omp single default(none)\n    {\n        element *p = listHead;\n        while( p != NULL )\n        {\n            #pragma omp task private(p)\n            Process( p );\n\n            p = p-&gt;next;\n        }\n    }\n}\n</code></pre>\n\n<p>Here 'single' directive specifies that one thread should do iteration and inside - directive 'private' specifies that each thread receives copy of 'p' variable and do processing. Though I need something else. I'd like to distribute different nodes to threads. For example if my list contains 10 nodes and I set to use 4 threads, I'd like that first thread receives 3 nodes, second 3 nodes, third 2 nodes and fourth 2 nodes. This is just approximate assumption. Basically I'd like that each thread gets different node. I was thinking to use 'single' or 'master' directive to specify that one thread should perform iteration through the list, but I don't know how to specify this nodes distribution. Any ideas?</p>\n\n<p>Update: And no it is not a duplicate as @Zulan suggested cause answer from <a href=\"https://stackoverflow.com/questions/23656592/all-openmp-tasks-running-on-the-same-thread\">All OpenMP Tasks running on the same thread</a> cannot be used in VS2010. 'task' directive is not supported on OpenMP 2.0 which VS2010 deploys.</p>\n"}, {"tags": ["c++", "opengl", "vbo", "vao"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1493213776, "post_id": 43635303, "comment_id": 74319778, "body": "Use corect tags. This is not C."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1493217095, "post_id": 43635303, "comment_id": 74322567, "body": "&quot;<i>how to bind this buffer to the vao without uploading the data once more?</i>&quot; You never attached this buffer to the VAO to begin with. Uploading data to a buffer has <i>nothing</i> to do with using that buffer for vertex data (other than that you would be passing vertex data to it)."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7723614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580bcd98312f4170e72ae29c4712f12f?s=128&d=identicon&r=PG", "display_name": "Mr D", "link": "https://stackoverflow.com/users/7723614/mr-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1493617610, "creation_date": 1493617610, "answer_id": 43714845, "question_id": 43635303, "link": "https://stackoverflow.com/questions/43635303/single-vbo-and-multiple-ibos/43714845#43714845", "title": "Single VBO and multiple IBOs", "body": "<p>You never attached your VBO to any VAO you use. Each vao must have both buffers attached. However, there's a bit of confusion of how VBO and IBO attached to the VAO (and pipeline if you don't use VAO).</p>\n\n<p>The difference is that when you use <code>glBindBuffer</code> with IBO (<code>ELEMENT_ARRAY_BUFFER</code> target) it does what it means - sets the buffer as index buffer into the pipeline or VAO. However, if you use <code>glBindBuffer</code> with VBO (<code>ARRAY_BUFFER</code> target) it only sets sort of internal variable and indicates that next commands related to VBO will use that buffer.\nActual binding happens when you call <code>glVertexAttribPointer</code>, it implicitly uses last bound VBO.</p>\n\n<p>Keep in mind, that with your approach you should have correct indexes in your IBO which adjusted respectively or use <code>glDrawElementsBaseVertex</code> function with correct offset (in case you use original mesh indexes) or use correct offset into vertex data for each VAO you create.</p>\n\n<p>In general you should minimize state changes and having many IBOs or VAOs won't help you with this. It's better to have as much as possible data in one big vertex/index array and use <code>glDrawElementsBaseVertex</code> function to render different \"parts\" of your big buffers.</p>\n"}], "owner": {"reputation": 1, "user_id": 5036970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b36ee01f3fa02ea9be40f6d2f7bd972?s=128&d=identicon&r=PG&f=1", "display_name": "akoww", "link": "https://stackoverflow.com/users/5036970/akoww"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493617610, "creation_date": 1493212381, "last_edit_date": 1493213752, "question_id": 43635303, "link": "https://stackoverflow.com/questions/43635303/single-vbo-and-multiple-ibos", "title": "Single VBO and multiple IBOs", "body": "<p>I have a problem with rendering multiple objects from one vertex buffer.\nI have a VBO containing all vertices and multiple IBOs.\nMy idea was to create n VAOs for n IBOs and bind for each of this VAOs the VBO and one of the IBOs. Dont realy know how to fix this. </p>\n\n<pre><code>// all indices\nstd::vector&lt;std::vector&lt;unsigned int&gt;&gt; allIndices;\n\n// gen buffers for ibos\nglGenBuffers(allIndices.size(),ibos);\n// gen vaos\nglGenVertexArray(allIndices.size(),vaos);\n\n// vbo for vertices\nglGenBuffers(1,&amp;vbo);\nglBindBuffer(GL_ARRAY_BUFFER,vbo);\nglBufferData(GL_ARRAY_BUFFER,...);\n\n// bind VAOn + IBOn + VBO\nfor(unsigned int x = 0; x &lt; allIndices.size(); x++) {\n  glBindVertexArray(vao[x]);\n\n  // bind current ibo\n  glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,ibo[x]);\n  glBufferData(GL_ELEMENT_ARRAY_BUFFER,...);\n\n  // \n  glBindBuffer(GL_ARRAY_BUFFER,vbo);\n  // how to bind this buffer to the vao without uploading the data once more?\n\n  glBindVertexArray(0);\n}\n</code></pre>\n\n<p>My second idea was to concatinate all indices and call them with glDrawRangeElements()</p>\n"}, {"tags": ["c++", "move"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 7, "creation_date": 1493212368, "post_id": 43635263, "comment_id": 74318563, "body": "Add a proper move constructor and move assignment operator to <code>sample</code>. See &quot;rule of 5&quot;. Also <code>sample b();</code> is a function, see &quot;most vexing parse&quot;."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 1, "creation_date": 1493212466, "post_id": 43635263, "comment_id": 74318645, "body": "You can specialize <code>std::swap</code> for your own type, or provide an implementation of <code>swap</code> in your type&#39;s namespace and call it via ADL."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1493212471, "post_id": 43635263, "comment_id": 74318651, "body": "<code>a = sample();</code> seems more appropriate BTW. <code>a.clear()</code> would be even better I think."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1493213174, "post_id": 43635263, "comment_id": 74319255, "body": "What you wan&#39;t is not really possible,  You need a object to store the state of the object you overwrite.  Sometimes, if it numeric data, you can do it without a temporary but all the math needed to do that makes the function slower than just making a copy.  If you want to avoid copies and you have C++11 or higher then make a move constructor and move assignment operator."}], "answers": [{"tags": [], "owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "is_accepted": false, "score": -1, "last_activity_date": 1493214273, "creation_date": 1493214273, "answer_id": 43636030, "question_id": 43635263, "link": "https://stackoverflow.com/questions/43635263/achieve-non-copying-swap-function/43636030#43636030", "title": "achieve non copying swap function", "body": "<p>Your function swaps <code>a</code> with a default-constructed object. If this is the intended semantics just do</p>\n\n<pre><code>a = sample();\n</code></pre>\n\n<p>and provide move constructor and assignment as you see fit.</p>\n"}, {"tags": [], "owner": {"reputation": 15006, "user_id": 2797826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3bab2302a0d633206bdcfca569f666c8?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Brindle", "link": "https://stackoverflow.com/users/2797826/tristan-brindle"}, "is_accepted": true, "score": 2, "last_activity_date": 1493214386, "creation_date": 1493214386, "answer_id": 43636074, "question_id": 43635263, "link": "https://stackoverflow.com/questions/43635263/achieve-non-copying-swap-function/43636074#43636074", "title": "achieve non copying swap function", "body": "<p>The C++11 solution to your problem is to provide a move constructor and move-assignment operator in your <code>sample</code> class. Then, <code>std::swap</code> will use move rather than copy operations, which should be more efficient (you'll still see the destructor being called, but this will usually be on an \"empty\" object and should be very cheap).</p>\n\n<p>Generally, if you're writing your own copy constructor and copy assignment operator then you also need to write a move constructor and move assignment operator (as well as a destructor of course) -- this is the \"rule of 5\" in C++11, which expands on the \"rule of 3\" known from C++98. For example, consider this (bad) example class which manually manages memory (N.B. this is just an example for exposition, in real life use <code>std::vector</code> or <code>std::unique_ptr</code> rather than doing this):</p>\n\n<pre><code>class example {\npublic:\n    example() \n        : ptr{new int[1024]}\n    {}\n\n    example(const example&amp; other)\n        : ptr{new int[1024]}\n    {\n        // Copy other's member array\n        std::copy(other.ptr, other.ptr + 1024, ptr);\n    }\n\n    example&amp; operator=(const example&amp; other)\n    {\n         if (this != &amp;other) {\n             std::copy(other.ptr, other.ptr + 1024, ptr);\n         }\n         return *this;\n    }\n\n    ~example()\n    {\n        delete[](ptr); \n    }\n\n    example(example&amp;&amp; other)\n        : ptr(other.ptr) // \"steal\" other's ptr\n    {\n        other.ptr = nullptr;\n    }\n\n    example&amp; operator=(example&amp;&amp; other)\n    {\n        std::swap(ptr, other.ptr);\n        return *this;\n    }\n\nprivate:\n    int* ptr;\n};\n</code></pre>\n\n<p>Now, when you <code>std::swap</code> two <code>example</code>s, the swap function will use move operations and no additional allocations will take place, just some (cheap) pointer swaps, and a no-op call to <code>delete[](nullptr)</code>.</p>\n"}], "owner": {"reputation": 9700, "user_id": 257530, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30e3d6214c397f9d5f1b4470da44c958?s=128&d=identicon&r=PG", "display_name": "oneat", "link": "https://stackoverflow.com/users/257530/oneat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 43636074, "answer_count": 2, "score": -2, "last_activity_date": 1493214386, "creation_date": 1493212282, "question_id": 43635263, "link": "https://stackoverflow.com/questions/43635263/achieve-non-copying-swap-function", "title": "achieve non copying swap function", "body": "<p>I want to create function like:</p>\n\n<pre><code>void func(sample &amp;a){\n    sample b();\n    std::swap(b,a);\n}\n</code></pre>\n\n<p>problem is that always when I use swap then copy constructor is used and destructor is applied on temporary object used in swap function.</p>\n\n<p>Is there possibility to achieve non copying swap?</p>\n"}, {"tags": ["c++", "multithreading", "opengl", "sdl-2"], "comments": [{"owner": {"reputation": 117, "user_id": 7824191, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gzrIweOadSk/AAAAAAAAAAI/AAAAAAAAABY/IcLei4Dohl4/photo.jpg?sz=128", "display_name": "zoly01", "link": "https://stackoverflow.com/users/7824191/zoly01"}, "edited": false, "score": 1, "creation_date": 1493212899, "post_id": 43635118, "comment_id": 74319023, "body": "yes you&#39;re right"}], "answers": [{"tags": [], "owner": {"reputation": 457, "user_id": 5406471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DAZpo.png?s=128&g=1", "display_name": "xvnm", "link": "https://stackoverflow.com/users/5406471/xvnm"}, "is_accepted": false, "score": 0, "last_activity_date": 1493213652, "creation_date": 1493213652, "answer_id": 43635779, "question_id": 43635118, "link": "https://stackoverflow.com/questions/43635118/are-multiple-threads-rendering-to-individual-opengl-contexts-thread-safe/43635779#43635779", "title": "Are multiple threads rendering to individual OpenGL contexts thread safe?", "body": "<p>Ok I was silly.</p>\n\n<p>I was reading documents and found it:</p>\n\n<blockquote>\n  <p>SDL_GL_GetCurrentContext: Use this function to get the currently active OpenGL context.\n  SDL_GLContext SDL_GL_GetCurrentContext(void)</p>\n</blockquote>\n\n<p>And realized that there's only one OpenGL context activated, which means without calling 'SDL_GL_MakeCurrent' rendering with multiple context is impossible. That is, the first case is barely different to the second case.</p>\n\n<p>So I concluded it's not thread safe. Sorry for my silliness.</p>\n"}], "owner": {"reputation": 457, "user_id": 5406471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DAZpo.png?s=128&g=1", "display_name": "xvnm", "link": "https://stackoverflow.com/users/5406471/xvnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493213652, "creation_date": 1493211917, "last_edit_date": 1493212284, "question_id": 43635118, "link": "https://stackoverflow.com/questions/43635118/are-multiple-threads-rendering-to-individual-opengl-contexts-thread-safe", "title": "Are multiple threads rendering to individual OpenGL contexts thread safe?", "body": "<p>I'm using SDL2 and OpenGL 3.3, and wondering if following situations are thread safe:</p>\n\n<p>case 1</p>\n\n<ol>\n<li>There are multiple threads and each of them has a context and a SDL window.</li>\n<li>Those threads render geometries multi-threaded.</li>\n</ol>\n\n<p>case 2</p>\n\n<ol>\n<li>There are multiple threads and each of them has a SDL window. But there's only one context that is shared.</li>\n<li>Those threads render geometries multi-threaded.</li>\n</ol>\n\n<p>I guess latter case is not safe because threads change current context by calling 'SDL_GL_MakeCurrent', but I'm not sure.</p>\n"}, {"tags": ["c++", "qt", "ssh"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 7925456, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1603518133039481/picture?type=large", "display_name": "Polina Bodnar", "link": "https://stackoverflow.com/users/7925456/polina-bodnar"}, "edited": false, "score": 0, "creation_date": 1493212769, "post_id": 43634992, "comment_id": 74318898, "body": "Thank you so much! It worked perfectly! With no warnings and asking a password. Thanx!!!"}, {"owner": {"reputation": 141, "user_id": 7925456, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1603518133039481/picture?type=large", "display_name": "Polina Bodnar", "link": "https://stackoverflow.com/users/7925456/polina-bodnar"}, "edited": false, "score": 0, "creation_date": 1493213423, "post_id": 43634992, "comment_id": 74319461, "body": "thank you for your tip! I have just been looking how to mark the answer &quot;right&quot;."}], "tags": [], "owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "is_accepted": true, "score": 6, "last_activity_date": 1493212195, "last_edit_date": 1493212195, "creation_date": 1493211668, "answer_id": 43634992, "question_id": 43634876, "link": "https://stackoverflow.com/questions/43634876/ssh-command-from-qt/43634992#43634992", "title": "Ssh command from Qt", "body": "<p>Those are separate arguments, when you use string list. Try this:</p>\n\n<pre><code>params.append(\"user@\" + ::host\");\nparams.append(\"rm /tmp/\" + ::fileName);\n</code></pre>\n\n<p>That will make Qt pass two arguments for ssh, the login string and the command to execute at remote host.</p>\n\n<p><strong>Important note!</strong> Above assumes <code>::filename</code> does not contain spaces or anything else nasty!. You can get around spaces with this:</p>\n\n<pre><code>params.append(\"rm '/tmp/\" + ::fileName + \"'\");\n</code></pre>\n\n<p>But it won't help against wild cards or <code>..</code> in path... Imagine if file name was <code>../home/user/*</code> for example... So that is better be trusted input, or you need to sanitize it (but that is beyond scope of this answer).</p>\n\n<hr>\n\n<p>What you do in the question code is to construct a single argument, equivalent to this shell command line:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>ssh 'user@host \"rm /path/filename\"'\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 7925456, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1603518133039481/picture?type=large", "display_name": "Polina Bodnar", "link": "https://stackoverflow.com/users/7925456/polina-bodnar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2274, "favorite_count": 0, "accepted_answer_id": 43634992, "answer_count": 1, "score": 2, "last_activity_date": 1493212195, "creation_date": 1493211354, "question_id": 43634876, "link": "https://stackoverflow.com/questions/43634876/ssh-command-from-qt", "title": "Ssh command from Qt", "body": "<p>I have a problem with ssh in my Qt application. I need to run a command which removes a file on a remote server. I tried to use a QProcess class to achieve it. So I pass \"ssh\" as a name of command and necessary args. In common it looks like this:</p>\n\n<pre><code>QStringList params;    \nparams.append(\" user@\" + ::host +\n              \" \\\"rm /tmp/\" + ::fileName + \"\\\"\");\nd-&gt;impDelProcess-&gt;start(\"ssh\", params);\n</code></pre>\n\n<p>But after all it keeps asking a password, though I generated ssh keys and copied a public key to the remote server. Moreover, when I run the command above in the terminal like this:</p>\n\n<pre><code>ssh user@host \"rm /path/fileName\"\n</code></pre>\n\n<p>it works perfect. The file is deleted and no password is asked. So, the problem is somwhere in QProcess. Is any way to get rid of asking a password? Thank you!</p>\n"}]