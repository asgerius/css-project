[{"tags": ["c++", "visual-studio-2017", "directx-12"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 3, "creation_date": 1512603944, "post_id": 47685333, "comment_id": 82330438, "body": "Please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 3311, "user_id": 383277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c5a6259a9dd83d74a8c1db56e61be956?s=128&d=identicon&r=PG", "display_name": "Shirik", "link": "https://stackoverflow.com/users/383277/shirik"}, "edited": false, "score": 1, "creation_date": 1512603951, "post_id": 47685333, "comment_id": 82330443, "body": "What is type T? You are attempting to assign NULL to it, but that&#39;s only going to be valid if T is a pointer, which you have not specified."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1512604117, "post_id": 47685333, "comment_id": 82330515, "body": "You should read a good C++ book before proceeding."}, {"owner": {"reputation": 1, "user_id": 9064531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1940391936224863/picture?type=large", "display_name": "jshone94", "link": "https://stackoverflow.com/users/9064531/jshone94"}, "edited": false, "score": 0, "creation_date": 1512604321, "post_id": 47685333, "comment_id": 82330580, "body": "T would be the Type, so in this case an int"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1512605614, "post_id": 47685333, "comment_id": 82330988, "body": "There&#39;s nothing in the shown code that indicates that <code>T</code> is an int. If it were an <code>int</code>, then, yes, it will not work, since the shown code attempts to assign a <code>NULL</code> to an <code>int</code> which, of course, will not work."}, {"owner": {"reputation": 3209, "user_id": 5794048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Egkox.jpg?s=128&g=1", "display_name": "Murphy", "link": "https://stackoverflow.com/users/5794048/murphy"}, "edited": false, "score": 0, "creation_date": 1512651772, "post_id": 47685333, "comment_id": 82350870, "body": "You&#39;re reinventing the wheel. If you need a vector, why don&#39;t you just use <code>std::vector</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9064531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1940391936224863/picture?type=large", "display_name": "jshone94", "link": "https://stackoverflow.com/users/9064531/jshone94"}, "edited": false, "score": 0, "creation_date": 1512604246, "post_id": 47685375, "comment_id": 82330558, "body": "Thank you, Im not very knowledgeable of C++ and this is linked with a uni project, I had tried it with setting it to equal 0 but that give the same error. so if im right your saying i dont need this anyway?"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 1, "user_id": 9064531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1940391936224863/picture?type=large", "display_name": "jshone94", "link": "https://stackoverflow.com/users/9064531/jshone94"}, "edited": false, "score": 0, "creation_date": 1512725956, "post_id": 47685375, "comment_id": 82382863, "body": "@jshone94: 0 or <code>NULL</code> are pretty much the same. Exactly what does it mean to have a <code>Vector&lt;ChessBoardPosition&gt;</code> with <code>ChessBoardPosition</code> set to <code>0</code>? Does that even make sense? No - you&#39;re assuming that any type <code>T</code> can be assigned the value <code>0</code>, and that&#39;s just not true."}], "tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 1, "last_activity_date": 1512603989, "creation_date": 1512603989, "answer_id": 47685375, "question_id": 47685333, "link": "https://stackoverflow.com/questions/47685333/error-c2679-binary-no-operator-found-which-takes-a-right-hand-operand-of-ty/47685375#47685375", "title": "Error C2679 binary &#39;=&#39;: no operator found which takes a right-hand operand of type &#39;int&#39; (or there is no acceptable conversion)", "body": "<p>You're writing java or C#, not c++ there. C++ has value semantics. Objects generally can't be set to NULL (which is just a macro for the value zero). Nor is there any need, generally, as you have a proper value: <code>T{}</code>, the default constructed object</p>\n"}, {"tags": [], "owner": {"reputation": 473, "user_id": 8089201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d09739a15b23d2add3bf24ffa13677b?s=128&d=identicon&r=PG&f=1", "display_name": "idontseethepoint", "link": "https://stackoverflow.com/users/8089201/idontseethepoint"}, "is_accepted": false, "score": 0, "last_activity_date": 1512604133, "creation_date": 1512604133, "answer_id": 47685395, "question_id": 47685333, "link": "https://stackoverflow.com/questions/47685333/error-c2679-binary-no-operator-found-which-takes-a-right-hand-operand-of-ty/47685395#47685395", "title": "Error C2679 binary &#39;=&#39;: no operator found which takes a right-hand operand of type &#39;int&#39; (or there is no acceptable conversion)", "body": "<p>It looks like the problem is that you are assuming that obj[i] is a pointer to a type T, but it actually is an object of type T. obj is a pointer to the first allocated T object, obj[i] it the T object at address obj + i*sizeof(T)</p>\n"}], "owner": {"reputation": 1, "user_id": 9064531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1940391936224863/picture?type=large", "display_name": "jshone94", "link": "https://stackoverflow.com/users/9064531/jshone94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1512658301, "creation_date": 1512603674, "last_edit_date": 1592644375, "question_id": 47685333, "link": "https://stackoverflow.com/questions/47685333/error-c2679-binary-no-operator-found-which-takes-a-right-hand-operand-of-ty", "title": "Error C2679 binary &#39;=&#39;: no operator found which takes a right-hand operand of type &#39;int&#39; (or there is no acceptable conversion)", "body": "<p>I'm trying to make a dynamic array in C++ using DirectX 12. I found a good one on here made some miner changes because it was created for DirectX 11.</p>\n<p>I get this error when I run it.</p>\n<blockquote>\n<p>Severity Code Description Project File Line Suppression State</p>\n<p>Error C2679   binary '=': no operator found which takes a right-hand operand of type 'int' (or there is no acceptable conversion)</p>\n</blockquote>\n<p>Here is the code it is saying has the issue.</p>\n<pre><code>    Vector(int a)\n{\n  size = a;\n  obj = new T[size];\n  for(int i = 0 ; i&lt;size; i++)\n  {\n    obj[i] = NULL;\n  }\n}\n</code></pre>\n<p>Here is the full header.</p>\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\ntemplate &lt;class T&gt;\nclass Vector\n{\nprivate:\n    int size,capacity;\n    T *obj;\npublic:\n    Vector()\n    {\n        size = capacity = 0;\n        obj = NULL;\n    }\n    ~Vector()\n    {\n        delete [] obj;\n    }\n    Vector(int a)\n    {\n        size = a;\n        obj = new T[size];\n        for(int i = 0 ; i&lt;size; i++)\n        {\n            obj[i] = NULL;\n        }\n    }\n    int size_of_list();\n    bool empty();\n    void reserve(int);\n    T&amp; operator[](int);\n    T at(int);\n    T front();\n    T back();\n    void push_back(T element);\n    void pop_back();\n    void insert(int,T);\n    void erase(int);\n};\n</code></pre>\n<p>The .cpp file is available on request.</p>\n"}, {"tags": ["c++", "algorithm", "c++11", "stl"], "comments": [{"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 2, "creation_date": 1512604803, "post_id": 47685309, "comment_id": 82330748, "body": "I think that typically each node of the tree contains a pointer to the parent  in addition to the left and right node pointers.  So an iterator referencing a particular node can navigate whichever way it needs to in the tree in order to get the next value (or previous value)."}, {"owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "reply_to_user": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1512607842, "post_id": 47685309, "comment_id": 82331515, "body": "Yeah I had considered that too, but now you\u2019ve got a pointer to parent, a pointer to each subtree, and now two more pointers to be stored per node for next and prev. That\u2019s 66% size increase in the memory penalty per node. Plus, remove and insert and possibly rebalance gets complicated but still doable. So yeah ok that\u2019s a space trade off to avoid painful iteration, but still, I\u2019m wondering if there is some better trick \u201cthey\u201d use that\u2019s \u201cfree\u201d or linear amortized"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 1, "creation_date": 1512612878, "post_id": 47685309, "comment_id": 82332627, "body": "You don&#39;t need next and prev pointers. With a parent pointer, computing next/prev  is amortized constant time."}], "answers": [{"comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 2, "creation_date": 1512664749, "post_id": 47699203, "comment_id": 82359400, "body": "Maintaining the stack in the pointer may be problematic because of the iterator invalidation rules."}, {"owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "edited": false, "score": 0, "creation_date": 1512944369, "post_id": 47699203, "comment_id": 82448237, "body": "The \u201cparent-child 2x traversal per edge overall\u201d expl. was the insight I was looking for. Right on."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": true, "score": 3, "last_activity_date": 1512683857, "last_edit_date": 1512683857, "creation_date": 1512662999, "answer_id": 47699203, "question_id": 47685309, "link": "https://stackoverflow.com/questions/47685309/how-is-stdset-red-black-tree-forward-iteration-implemented/47699203#47699203", "title": "how is std::set (red/black tree) forward iteration implemented?", "body": "<p>There is no trick in the in-order iteration; all you need is an O(1) mechanism for finding the parent of the current node.</p>\n\n<p>The in-order scan traverses each parent-child edge exactly twice: once from parent-to-child and once from child-to-parent. Since there are the same number of edges as non-root nodes in the tree, it follows that the complete iteration performs &Theta;(<em>n</em>) transitions to iterate over <em>n</em> nodes, which is amortised constant time per node.</p>\n\n<p>The usual way to find the parent is to store a parent link in the node. The extra link certainly increases the size of a node (four pointers instead of three) but the cost is within reason.</p>\n\n<p>If it were not for the C++ iterator invalidation rules, which require that iterators to elements of  ordered associative containers must not be invalidated by insertion or deletion of other elements, it would be possible to maintain a stack of size O(log <em>n</em>) in the iterator. Such an iterator would be bulky but not unmanageably so (since log <em>n</em> is limited in practice to a smallish integer), but it would not be usable after any tree modification.</p>\n"}], "owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 2, "accepted_answer_id": 47699203, "answer_count": 1, "score": 4, "last_activity_date": 1512683857, "creation_date": 1512603557, "question_id": 47685309, "link": "https://stackoverflow.com/questions/47685309/how-is-stdset-red-black-tree-forward-iteration-implemented", "title": "how is std::set (red/black tree) forward iteration implemented?", "body": "<p>if i did an inorder traversal of a balanced BST from smallest to largest value, i'd use a DFS which maintains a stack of size lg(n). but if I needed to find the inorder successor of an arbitrary node, it's a worst case lg(n) operation. but if I wanted to iterate in order, id need to find the inorder successor repeatedly for each node yielding O(n*lg(n)). Does std::set use some trick for inorder iteration, or does it really cost O(n*lg(n)), or is the time cost amortized somehow?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1512603504, "post_id": 47685290, "comment_id": 82330276, "body": "So, stop execution if you want to, what&#39;s the problem?"}, {"owner": {"reputation": 499, "user_id": 5325102, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/iZeNv.jpg?s=128&g=1", "display_name": "Francisco Gallego Salido", "link": "https://stackoverflow.com/users/5325102/francisco-gallego-salido"}, "edited": false, "score": 0, "creation_date": 1512603852, "post_id": 47685290, "comment_id": 82330412, "body": "You can also throw an exception and call <code>std::terminate()</code>"}, {"owner": {"reputation": 17, "user_id": 9064521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d5d5f6c75c5038b85922eb13728205?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmin jak", "link": "https://stackoverflow.com/users/9064521/jasmin-jak"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512604073, "post_id": 47685290, "comment_id": 82330490, "body": "@AlgirdasPreid\u017eius im a noob at coding, wanna suggest how to do it?"}, {"owner": {"reputation": 17, "user_id": 9064521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d5d5f6c75c5038b85922eb13728205?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmin jak", "link": "https://stackoverflow.com/users/9064521/jasmin-jak"}, "reply_to_user": {"reputation": 499, "user_id": 5325102, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/iZeNv.jpg?s=128&g=1", "display_name": "Francisco Gallego Salido", "link": "https://stackoverflow.com/users/5325102/francisco-gallego-salido"}, "edited": false, "score": 0, "creation_date": 1512604094, "post_id": 47685290, "comment_id": 82330501, "body": "@FranciscoGallegoSalido where to add the terminate() code?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512604173, "post_id": 47685290, "comment_id": 82330541, "body": "@Jasminjak In any way you want: exceptions, functions returning <code>bool</code> (as a flag of success/failure), <code>std::exit</code>. If you are just learning, I would suggest learning from a <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">good C++ book</a>."}, {"owner": {"reputation": 4915, "user_id": 181783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1fb6e1466afe620716fcdd839fe54bba?s=128&d=identicon&r=PG", "display_name": "Olumide", "link": "https://stackoverflow.com/users/181783/olumide"}, "edited": false, "score": 0, "creation_date": 1512604293, "post_id": 47685290, "comment_id": 82330572, "body": "@Jasminjak Did you write this program?"}, {"owner": {"reputation": 17, "user_id": 9064521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d5d5f6c75c5038b85922eb13728205?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmin jak", "link": "https://stackoverflow.com/users/9064521/jasmin-jak"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512604410, "post_id": 47685290, "comment_id": 82330617, "body": "@AlgirdasPreid\u017eius where can i add the std::exit at in my code?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512606639, "post_id": 47685290, "comment_id": 82331263, "body": "@Jasminjak Where do you want it to terminate?"}], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 6642285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZmEeNAHiDJs/AAAAAAAAAAI/AAAAAAAABpI/OuwFp_Si22o/photo.jpg?sz=128", "display_name": "Adam Snaider", "link": "https://stackoverflow.com/users/6642285/adam-snaider"}, "is_accepted": false, "score": 1, "last_activity_date": 1512604770, "creation_date": 1512604770, "answer_id": 47685474, "question_id": 47685290, "link": "https://stackoverflow.com/questions/47685290/when-file-couldnt-be-opened-in-c-i-want-it-to-end-the-program-and-not-outpu/47685474#47685474", "title": "when file couldn&#39;t be opened in c++, I want it to end the program, and not output more stuff", "body": "<p>A good way to do this is to use the exit command that is in cstdlib.\nBasically anytime you throw an error also call exit. For example</p>\n\n<pre><code>std::cout &lt;&lt; \"Fatal error: Invalid file\" &lt;&lt; std::endl;\nstd::exit(1);\n</code></pre>\n\n<p>exit will terminate the program and by passing the '1' argument, it will terminate \"unsuccessfully\"</p>\n"}], "owner": {"reputation": 17, "user_id": 9064521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d5d5f6c75c5038b85922eb13728205?s=128&d=identicon&r=PG&f=1", "display_name": "Jasmin jak", "link": "https://stackoverflow.com/users/9064521/jasmin-jak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1512604770, "creation_date": 1512603447, "last_edit_date": 1512604085, "question_id": 47685290, "link": "https://stackoverflow.com/questions/47685290/when-file-couldnt-be-opened-in-c-i-want-it-to-end-the-program-and-not-outpu", "title": "when file couldn&#39;t be opened in c++, I want it to end the program, and not output more stuff", "body": "<p>when file couldn't be opened in c++, I want it to end the program, and not output more stuff!</p>\n\n<p>my code:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include &lt;fstream&gt;\n#include&lt;stdlib.h&gt;\nusing namespace std;\n\n// Function to accept a file names from the user and read file contents\n// First Parameter: Student Answer file\n// Second Parameter: Correct Answer file\n// Third Parameter: Character type array to store student answers\n// Fourth Parameter: Character type array to store correct answers\nvoid readFile(string fileStuAns, string fileCorrAnswer, char sAns[], char           cAns[])\n{\n    // Initialize the line counter to zero\n    int counter = 0;\n    // Creates ifstream class objects\n    ifstream inSFile, inCFile;\n    // Opens the file for reading data from text file student answer\n    inSFile.open (fileStuAns.c_str());\n    // Opens the file for reading data from text file for correct answer\n    inCFile.open (fileCorrAnswer.c_str());\n    // Checks if student answer file can be opened or not\n    if(inSFile.fail())\n    {\n        // Displays error message\n        cout&lt;&lt;\"File \"&lt;&lt;\"\\\"\"&lt;&lt;fileStuAns&lt;&lt;\"\\\"\"&lt;&lt; \" could not be opened\"&lt;&lt;endl;\n        return;\n    }// End of if condition\n     // Checks if file can be opened or not\n    if(inCFile.fail())\n    {\n        // Displays error message\n        cout&lt;&lt;\"File \"&lt;&lt;\"\\\"\"&lt;&lt;fileCorrAnswer&lt;&lt;\"\\\"\"&lt;&lt; \" could not be opened\";\n        return;\n    }// End of if condition\n     // Loops till end of the student answer file\n    while(!inSFile.eof())\n    {\n        // Reads data from file and stores student answer character array's counter      index position\n        inSFile&gt;&gt;sAns[counter];\n        // Increase the current line counter by one\n        counter++;\n    }// End of while\n     //Close student answer file\n    inSFile.close();\n    // Reset the counter to zero\n    counter = 0;\n    // Loops till end of correct answer the file\n    while(!inCFile.eof())\n    {\n        // Reads data from file and stores correct answer character array's counter      index position\n        inCFile&gt;&gt;cAns[counter];\n        // Increase the current line counter by one\n        counter++;\n    }// End of while\n\n     // Close correct answer file\n    inCFile.close();\n}// End of function\n\n// Displays the student result\n// First Parameter: Character type array contains student answers\n// Second Parameter: Character type array contains correct answers\nvoid resultSheet(char sAns[], char cAns[])\n{\n    // Displays student answers\n}// End of function\n\n// Function to write data to file entered by the user\n// First Parameter: Invalid Answer file\n// Second Parameter: Character type array contains student answers\n// Third Parameter: Character type array contains correct answers\nvoid writeTextFile(string fileInAnschar, char sAns[], char cAns[])\n{\n    // To store number of lines\n    int cA, iA;\n    cA = iA = 0;\n    // ofstream class object created\n    ofstream outFile;\n    // Opens the file for writing onto a text file\n    outFile.open(fileInAnschar.c_str());\n    // Checks if file can be opened or not\n    if(outFile.fail())\n    {\n        // Displays error message\n        cout&lt;&lt;\"\\n Error: Unable to open \"&lt;&lt;fileInAnschar;\n        return;\n    }// End of if condition\n     // Loops till 20 times for 20 questions\n\n    for(int c = 0; c &lt; 20; c++)\n    {\n        // If student answers current index position value is not equals to correct      answer's current index position\n        if(sAns[c] != cAns[c])\n        {\n            // Writes the result to the file\n            outFile&lt;&lt;\"Question \"&lt;&lt;(c + 1)&lt;&lt;\" has incorrect answer \"&lt;&lt;\"'\"&lt;&lt;sAns[c]&lt;&lt;\"'\" &lt;&lt;\", the correct answer is \"&lt;&lt;\"'\"&lt;&lt;cAns[c]&lt;&lt;\"'\"&lt;&lt;endl;\n            // Displays the result\n            cout&lt;&lt;\"Question \"&lt;&lt;(c+1)&lt;&lt;\" has incorrect answer \"&lt;&lt;\"'\"&lt;&lt;sAns[c]&lt;&lt;\"'\"&lt;&lt;\",      the correct answer is \"&lt;&lt;\"'\"&lt;&lt;cAns[c]&lt;&lt;\"'\"&lt;&lt;endl;\n            // Increase the counter by one\n            iA++;\n        }// End of if condition\n    }// End of for loop\n     // Calculates number of correct answers\n    cA = 20 - iA;\n    // Calculates the average\n    double percent = cA / 20;\n    // Checks if the average is greater than or equals 70\n    if(iA &lt;= 6)\n    {\n        // Displays the result\n        cout&lt;&lt;iA&lt;&lt;\" questions were missed\"&lt;&lt;endl;\n        cout&lt;&lt;\"The student passed\"&lt;&lt;endl;\n    }// End of if condition\n     // Otherwise fail\n    else\n    {\n        cout&lt;&lt;iA&lt;&lt;\" questions were missed\"&lt;&lt;endl;\n        cout&lt;&lt;\"The student failed\"&lt;&lt;endl;\n    }// End of else\n     //Close file\n    outFile.close();\n}//End of function\n\n// main function definition\nint main()\n{\n    // Character array to store student answers\n    char studentAnswer[21];\n    // Character array to store correct answers\n    char correctAnswer[21];\n    // To store the file name\n    string fileNameStu, fileNameCorr;\n    // Accepts the file name to read\n\n    cin&gt;&gt;fileNameStu;\n\n    cin&gt;&gt;fileNameCorr;\n    // Calls the file to read student answer and correct answer and stores it in respective arrays\n    readFile(fileNameStu, fileNameCorr, studentAnswer, correctAnswer);\n    // Calls the function to display student answer and correct answer\n    resultSheet(studentAnswer, correctAnswer);\n    // Accepts the file name to write invalid answers\n\n    cin&gt;&gt;fileNameStu;\n    // Calls the function to write invalid answers\n    writeTextFile(fileNameStu, studentAnswer, correctAnswer);\n}// End of main function\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>File \"invalidfile.txt\" could not be opened\n\nb\"Question 1 has incorrect answer '\\xf0', the correct answer is '\\x00'\\nQuestion 2 has incorrect answer ';', the correct answer is '\\x00'\\nQuestion 3 has incorrect answer '\\xae', the correct answer is '\\x00'\\nQuestion 4 has incorrect answer '\\xa7', the correct answer is '\\x00'\\nQuestion 5 has incorrect answer '\\xff', the correct answer is '\\x00'\\nQuestion 6 has incorrect answer '\\x7f', the correct answer is '\\x00'\\n\"Question 9 has incorrect answer 'T', the correct answer is ''\nQuestion 10 has incorrect answer '', the correct answer is ''\nQuestion 11 has incorrect answer '@', the correct answer is ''\nQuestion 17 has incorrect answer '', the correct answer is 'p'\nQuestion 18 has incorrect answer '', the correct answer is ''\nQuestion 19 has incorrect answer '', the correct answer is '@'\n\n12 questions were missed\n\nThe student failed\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>File \"invalidfile.txt\" could not be opened\n</code></pre>\n\n<p>Attached picture of output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SFFge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SFFge.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "dictionary", "if-statement"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1512603408, "post_id": 47685240, "comment_id": 82330240, "body": "Usually if you have an <code>if</code> - <code>else if</code> chain where you are returning bools, you should collapse it all down to <code>return (cond) &amp;&amp; (cond2) &amp;&amp; ...</code> or something similar"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1512603512, "post_id": 47685240, "comment_id": 82330280, "body": "How about: <code>return std::tie(it-&gt;second.get_mean(), it-&gt;second.get_median(), it-&gt;first) &lt; std::tie(d.it-&gt;second.get_mean(), d.it-&gt;second.get_median(), d.it-&gt;first);</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 767718, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "is_accepted": true, "score": 3, "last_activity_date": 1512605452, "last_edit_date": 1512605452, "creation_date": 1512604307, "answer_id": 47685415, "question_id": 47685240, "link": "https://stackoverflow.com/questions/47685240/formatting-of-sequential-if-statements-with-similar-returns-c/47685415#47685415", "title": "Formatting of sequential if statements with similar returns (C++)", "body": "<p>I consider the <code>if ... return ... else</code> to be messy coding since the <code>else</code> is totally superfluous.</p>\n\n<p>You can neaten up your code to be more readable by applying that guideline, and with some judicious variable usage, something like:</p>\n\n<pre><code>bool operator&lt;(const data_t &amp;d) {\n    // Check means first.\n\n    auto myMean = it-&gt;second.get_mean();\n    auto otherMean = d.it-&gt;second.get_mean();\n    if(myMean &lt; otherMean) return true;\n    if(myMean &gt; otherMean) return false;\n\n    // Means are equal, medians comes into play.\n\n    auto myMedian = it-&gt;second.get_median();\n    auto otherMedian = d.it-&gt;second.get_median();\n    if (myMedian &lt; otherMedian) return true;\n    if (myMedian &gt; otherMedian) return false;\n\n    // Means and medians are equal, use the names.\n\n    return (it-&gt;first &lt; d.it-&gt;first);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8917797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b19349d00e074cf107c1c3f1a9dafca?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Johnson", "link": "https://stackoverflow.com/users/8917797/mathias-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 47685415, "answer_count": 1, "score": 0, "last_activity_date": 1512605452, "creation_date": 1512603157, "question_id": 47685240, "link": "https://stackoverflow.com/questions/47685240/formatting-of-sequential-if-statements-with-similar-returns-c", "title": "Formatting of sequential if statements with similar returns (C++)", "body": "<p>\nIn my program, I use the map <code>map&lt;name,labscores&gt;</code> to store pairs of classes that store data about students and their grades. The overloaded <code>operator&lt;</code> returns true if the mean of the first is lower than the second, but if they're equal, it then checks which has a smaller median, then which was a smaller name. The data_t class contains an iterator of the map which points to a specific pair.\n</p>\n\n<pre><code>bool operator&lt;(const data_t &amp;d){\n    if(it-&gt;second.get_mean() &lt; d.it-&gt;second.get_mean())\n        return true;\n    else if((it-&gt;second.get_mean() == d.it-&gt;second.get_mean()) &amp;&amp; (it-&gt;second.get_median() &lt; d.it-&gt;second.get_median()))\n        return true;\n    else if((it-&gt;second.get_mean() == d.it-&gt;second.get_mean()) &amp;&amp; (it-&gt;second.get_median() == d.it-&gt;second.get_median()) &amp;&amp; (it-&gt;first &lt; d.it-&gt;first))\n        return true;\n    else\n        return false;\n}\n</code></pre>\n\n<p>\nThe above code works, but I'm trying to learn more efficient ways of coding, and I wanted to know if there was a simpler way of doing this or if there was a command that can help.\n</p>\n"}, {"tags": ["c++", "pointers", "stdvector"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512603129, "post_id": 47685226, "comment_id": 82330133, "body": "I am certain there&#39;s a duplicate for it, but I can&#39;t for the life of me, to find an exact duplicate. But, related: <a href=\"https://stackoverflow.com/questions/6946217/pointer-to-a-vector\">stackoverflow.com/questions/6946217/pointer-to-a-vector</a> ."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1512603291, "post_id": 47685226, "comment_id": 82330190, "body": "<code>currentPlayer[i]</code> &quot;works&quot; because of pointer arithmetic. You need <code>(*currentPlayer)[i]</code>. And the condition in the for loop would fail; you need <code>for(int i = 0; i &lt; currentPlayer-&gt;size(); ++i)</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1512603303, "post_id": 47685226, "comment_id": 82330195, "body": "Life would be much easier if you stop using pointers"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1512603765, "post_id": 47685226, "comment_id": 82330384, "body": "this code has to be wrong: <code>currentPlayer.size()</code> is invalid. Part of your code wants currentplayer to be a vector, other parts want to be a pointer to a vector. Which is it?"}], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 2, "creation_date": 1512603392, "post_id": 47685259, "comment_id": 82330233, "body": "or <code>(*currentPlayer)[i]-&gt;memberFunctionOfPiece();</code>"}], "tags": [], "owner": {"reputation": 168, "user_id": 6642285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZmEeNAHiDJs/AAAAAAAAAAI/AAAAAAAABpI/OuwFp_Si22o/photo.jpg?sz=128", "display_name": "Adam Snaider", "link": "https://stackoverflow.com/users/6642285/adam-snaider"}, "is_accepted": true, "score": 1, "last_activity_date": 1512603273, "creation_date": 1512603273, "answer_id": 47685259, "question_id": 47685226, "link": "https://stackoverflow.com/questions/47685226/base-operand-of-has-non-pointer-type-vectorobject/47685259#47685259", "title": "Base operand of &#39;-&gt;&#39; has non-pointer type vector&lt;object*&gt;", "body": "<p>The problem is that you are trying to use square brackets on a pointer type:</p>\n\n<pre><code>currentPlayer[i]-&gt;memberFunctionOfPiece();\n</code></pre>\n\n<p>you can use operator[] or even better use the at function</p>\n\n<pre><code>currentPlayer-&gt;at(i)-&gt;memberFunctionOfPiece();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>currentPlayer-&gt;operator[](i)-&gt;memberFunctionOfPiece();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 614, "user_id": 1671981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5b7445074686dbe35ed2bb4c393680c2?s=128&d=identicon&r=PG", "display_name": "Max Rahm", "link": "https://stackoverflow.com/users/1671981/max-rahm"}, "is_accepted": false, "score": 0, "last_activity_date": 1512605578, "last_edit_date": 1512605578, "creation_date": 1512605185, "answer_id": 47685527, "question_id": 47685226, "link": "https://stackoverflow.com/questions/47685226/base-operand-of-has-non-pointer-type-vectorobject/47685527#47685527", "title": "Base operand of &#39;-&gt;&#39; has non-pointer type vector&lt;object*&gt;", "body": "<p>You could also use ranged for loop on STL containers</p>\n\n<pre><code>for(auto&amp;&amp; player : *currentPlayer)\n{\n    player-&gt;memberFunctionOfPiece();\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2235284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ccd8f04f5c5dfc22afee50ea61a6910?s=128&d=identicon&r=PG", "display_name": "sskirren", "link": "https://stackoverflow.com/users/2235284/sskirren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 47685259, "answer_count": 2, "score": -2, "last_activity_date": 1512605578, "creation_date": 1512603056, "question_id": 47685226, "link": "https://stackoverflow.com/questions/47685226/base-operand-of-has-non-pointer-type-vectorobject", "title": "Base operand of &#39;-&gt;&#39; has non-pointer type vector&lt;object*&gt;", "body": "<pre><code>std::vector&lt;Piece*&gt; player1, player2;\n\n/* Filling player 1 and 2 vith piece \n   player1.push_back(new Piece()) */\n\nstd::vector&lt;Piece*&gt; *currentPlayer, *opponent;\n\ncurrentPlayer = &amp;player1;\nopponent      = &amp;player2\n\nfor(int i = 0; i &lt; currentPlayer.size(); ++i)\n{\n    // This is where i get the error\n    // error: base operand of '-&gt;' has non-pointer type 'std::vector&lt;Piece*&gt;'\n    currentPlayer[i]-&gt;memberFunctionOfPiece()\n}\n</code></pre>\n\n<p>As you can see I am trying to use a pointer pointing to a vector of pointers. but getting non-pointer type when trying to access the vector\nWhy can't i access the member function?</p>\n"}, {"tags": ["c++", "pointers", "segmentation-fault", "parent", "derived-class"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 4, "creation_date": 1512602277, "post_id": 47685093, "comment_id": 82329799, "body": "You haven&#39;t included enough code to tell for certain, but most likely you&#39;re putting in objects which are local to a function, and then later trying to use those pointers after the objects&#39; lifetimes have ended."}, {"owner": {"reputation": 55, "user_id": 8942152, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94ed907283a89e675031cde645ba91d7?s=128&d=identicon&r=PG&f=1", "display_name": "Carol", "link": "https://stackoverflow.com/users/8942152/carol"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1512602495, "post_id": 47685093, "comment_id": 82329885, "body": "@aschepler I&#39;m not yet far with this - but in the next few lines I do try read through the array and if a child object is found - print out something specific. I&#39;m confused why the objects wouldn&#39;t exist here though?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 4, "creation_date": 1512602540, "post_id": 47685093, "comment_id": 82329906, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It&#39;s hard to suggest anything useful with bits and pieces of code."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512603073, "post_id": 47685093, "comment_id": 82330117, "body": "What is the error"}, {"owner": {"reputation": 55, "user_id": 8942152, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94ed907283a89e675031cde645ba91d7?s=128&d=identicon&r=PG&f=1", "display_name": "Carol", "link": "https://stackoverflow.com/users/8942152/carol"}, "reply_to_user": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512603142, "post_id": 47685093, "comment_id": 82330143, "body": "@JakeFreeman a segmentation fault"}], "owner": {"reputation": 55, "user_id": 8942152, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/94ed907283a89e675031cde645ba91d7?s=128&d=identicon&r=PG&f=1", "display_name": "Carol", "link": "https://stackoverflow.com/users/8942152/carol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512602123, "creation_date": 1512602123, "question_id": 47685093, "link": "https://stackoverflow.com/questions/47685093/pointers-of-abstract-parent-class-pointing-to-derived-class-objects-in-2d-array", "title": "Pointers of abstract parent class pointing to derived class objects in 2D array C++", "body": "<p>I have a superclass Human (which is abstract), of which child is a derived class of. I'm trying to make a 2D array of pointers which will point to some type of human. I'm trying to then fill in the coordinates of this array with some derived class of Human, like child. However, when I try the following code; I keep getting a segmentation fault, and I can't figure out why?                                                                                           </p>\n\n<pre><code>Human* map[rows][col]; // rows and col are globally defined values of 8\nfor (int i = 0; i &lt; rows; i++) {\n  for (int j = 0; j &lt; col; j++) {\n    map[i][j] = NULL;\n  }\n}\n\nChild child1, child2; // child is a derived class of Human\n\nmap[0][4] = &amp;child1;\nmap[7][4] = &amp;child2;\n</code></pre>\n\n<p>(I first initilise them all to zero because I only want some of them to point to derived classes).</p>\n"}, {"tags": ["c++", "version", "highlight"], "answers": [{"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1512603231, "creation_date": 1512603231, "answer_id": 47685255, "question_id": 47685055, "link": "https://stackoverflow.com/questions/47685055/c-version-highlighting/47685255#47685255", "title": "C++ version highlighting", "body": "<p>I am not sure about tool. But you can go with a kind of elimination process.. Use command line flags for specific version of c++.</p>\n\n<p><strong>For example when using GCC</strong></p>\n\n<p>First compile your working source code with option <code>-std=c++14</code>. Then you can find all c++17 errors.</p>\n\n<p>After fixing all c++17 errors next compile with option <code>-std=c++11</code>. You can find all c++14 errors.</p>\n\n<p>Look into below link for overview.</p>\n\n<p><a href=\"https://gcc.gnu.org/projects/cxx-status.html\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/projects/cxx-status.html</a></p>\n"}], "owner": {"reputation": 462, "user_id": 5272185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c19a0dbde5767679f37b4c315400a361?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/5272185/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1512624303, "accepted_answer_id": 47685255, "answer_count": 1, "score": 0, "last_activity_date": 1512603231, "creation_date": 1512601934, "question_id": 47685055, "link": "https://stackoverflow.com/questions/47685055/c-version-highlighting", "closed_reason": "Not suitable for this site", "title": "C++ version highlighting", "body": "<p>Is there a tool or plugin that one could use to tell </p>\n\n<ol>\n<li><p>What c++ version is needed to compile the source files.</p></li>\n<li><p>Let you highlight only the parts of the code that belongs to a certain c++ version.</p></li>\n</ol>\n\n<p>Use case, I have a library that uses C++11, 14 and 17. I need to back port it to C++11. Hence I want to easily find what parts of the library I need to rework.</p>\n"}, {"tags": ["c++", "file", "class", "ms-access"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1512602144, "post_id": 47685020, "comment_id": 82329742, "body": "What is the third class you mention in the text? The code you&#39;ve shown contains only two classes."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1512602310, "post_id": 47685020, "comment_id": 82329825, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/625799/resolve-build-errors-due-to-circular-dependency-amongst-classes\">Resolve build errors due to circular dependency amongst classes</a>"}, {"owner": {"reputation": 11, "user_id": 5754321, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208090681322694/picture?type=large", "display_name": "Chris Skan", "link": "https://stackoverflow.com/users/5754321/chris-skan"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1512602370, "post_id": 47685020, "comment_id": 82329841, "body": "Well didnt write it well just tell me how to make this code work ignore the user-defined type thing"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512602921, "post_id": 47685020, "comment_id": 82330040, "body": "As currently defined, Your classes would be of an infinite size (<code>myclass</code> instance contains <code>anotherclass</code> instance, which contains <code>myclass</code> instance, which contains <code>anotherclass</code> instance, ad infinitum..). Can you see a problem in that? Solution? Pointers."}, {"owner": {"reputation": 614, "user_id": 1671981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5b7445074686dbe35ed2bb4c393680c2?s=128&d=identicon&r=PG", "display_name": "Max Rahm", "link": "https://stackoverflow.com/users/1671981/max-rahm"}, "edited": false, "score": 0, "creation_date": 1512605818, "post_id": 47685020, "comment_id": 82331042, "body": "Not directly related to the question but you may want to use &quot;#pragma once&quot; at the top of the file rather than the old c style #ifndef #define #endif"}], "answers": [{"tags": [], "owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "is_accepted": false, "score": 1, "last_activity_date": 1512602789, "creation_date": 1512602789, "answer_id": 47685187, "question_id": 47685020, "link": "https://stackoverflow.com/questions/47685020/have-classes-in-separte-files-access-its-other-c/47685187#47685187", "title": "have classes in separte files access it&#39;s other c++", "body": "<p>If the class definitions (the bodies that is) must be in separate files then the members of the declared type can only be a pointer (or a reference but that is unusual). You would then need a function in the source file where the class is actually defined that returns a pointer-to-instance of the type.</p>\n\n<p>MyClass.h:</p>\n\n<pre><code>#if !defined(MYCLASS_H)\n#define MYCLASS_H\nclass MyClass;\nMyClass * CreateMyClass();\n#endif\n</code></pre>\n\n<p>OtherClass.h:</p>\n\n<pre><code>#if !defined(OTHERCLASS_H)\n#define OTHERCLASS_H\nclass OtherClass;\nOtherClass * CreateOther();\n#endif\n</code></pre>\n\n<p>myclass.cpp</p>\n\n<pre><code>#include \"otherclass.h\"\nclass MyClass\n{\nOtherClass * ptrOther;\npublic:\nMyClass()\n: ptrOther(CreateOther())\n{}\n};\n</code></pre>\n\n<p>otherclass.cpp:</p>\n\n<pre><code>#include \"myclass.h\"\nclass OtherClass\n{\nMyClass * ptrMyClass;\npublic:\nOtherClass()\n: ptrMyClass(CreateMyClass())\n{}\n};\n</code></pre>\n\n<p>Note that doing things this way you would not actually be able to do anything with ptrOther or ptrMyClass ((possibly not even free them correctly), It would be much more typical to place the class definitions in the header and separate out the member definitions (for functions and statics), like the following:</p>\n\n<p>MyClass2.h:</p>\n\n<pre><code>#if !defined(MYCLASS2_H)\n#define MYCLASS2_H\n#include \"OtherClass.h\"\nclass MyClass2\n{\nOtherClass * ptrOther;\npublic:\nMyClass2();\n};\n#endif\n</code></pre>\n\n<p>cMyClass.cpp:</p>\n\n<pre><code>#include \"MyClass2.h\"\nMyClass2::MyClass2()\n: ptrOther(CreateOther())\n{}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1512651234, "post_id": 47685193, "comment_id": 82350532, "body": "(1) You&#39;ve misinterpreted the code in the question: the .cpp files <i>do</i> only contain the class definitions and the .h files only contain the declarations; (2) .cpp and .h can contain whatever they want, using them the way you describe is just a convention."}], "tags": [], "owner": {"reputation": 1334, "user_id": 969968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5821e6e6e5740184c507fa045e963f0?s=128&d=identicon&r=PG&f=1", "display_name": "DannyK", "link": "https://stackoverflow.com/users/969968/dannyk"}, "is_accepted": false, "score": -1, "last_activity_date": 1512602854, "creation_date": 1512602854, "answer_id": 47685193, "question_id": 47685020, "link": "https://stackoverflow.com/questions/47685020/have-classes-in-separte-files-access-its-other-c/47685193#47685193", "title": "have classes in separte files access it&#39;s other c++", "body": "<p>Header files define class interfaces.  Source code '.cpp' files are using for the implementation.  Your source code has the implementation and the class interface.</p>\n"}], "owner": {"reputation": 11, "user_id": 5754321, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208090681322694/picture?type=large", "display_name": "Chris Skan", "link": "https://stackoverflow.com/users/5754321/chris-skan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512685733, "creation_date": 1512601758, "last_edit_date": 1512685733, "question_id": 47685020, "link": "https://stackoverflow.com/questions/47685020/have-classes-in-separte-files-access-its-other-c", "title": "have classes in separte files access it&#39;s other c++", "body": "<p>Well I have 2 classes in 2 header and 2 cpp files </p>\n\n<pre><code>#class1.h\n#ifndef class1_h\n#define class1_h\nclass myclass;\n#endif\n\n#class2.h\n#ifndef class2_h\n#define class2_h\nclass anotherclass;\n#endif\n\n#class1.cpp\n\nclass myclass\n{\n    anotherclass test1;\n}\n\n#class2.cpp\n\nclass anotherclass\n{\n    myclass test2;\n}\n</code></pre>\n\n<p>And of course a simple main\nWell I think it's obvious why this thing wont even compile\nmy question here is how to make it compile?<br>\nHaving the classes in different files is mandatory..</p>\n"}, {"tags": ["c++", "c++11", "casting", "type-conversion", "typecast-operator"], "comments": [{"owner": {"reputation": 1362, "user_id": 7131301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/95feecfe61cbcdf86514a34cdc248623?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas By", "link": "https://stackoverflow.com/users/7131301/tomas-by"}, "edited": false, "score": 0, "creation_date": 1512602949, "post_id": 47685014, "comment_id": 82330056, "body": "You should use the buttons to mark code as `code.&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9064468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc423ce0b29718539c4de70fafc3b80?s=128&d=identicon&r=PG&f=1", "display_name": "bala", "link": "https://stackoverflow.com/users/9064468/bala"}, "edited": false, "score": 0, "creation_date": 1513015281, "post_id": 47685727, "comment_id": 82478567, "body": "This is what I want, but how do I specify the conversion between <code>vector&lt;double&gt;</code> and <code>Eigen::VectorXd</code> since it is not an in-built conversion?"}, {"owner": {"reputation": 156, "user_id": 6622480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBhqe.png?s=128&g=1", "display_name": "Jack Zhou", "link": "https://stackoverflow.com/users/6622480/jack-zhou"}, "reply_to_user": {"reputation": 1, "user_id": 9064468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc423ce0b29718539c4de70fafc3b80?s=128&d=identicon&r=PG&f=1", "display_name": "bala", "link": "https://stackoverflow.com/users/9064468/bala"}, "edited": false, "score": 0, "creation_date": 1513310104, "post_id": 47685727, "comment_id": 82613541, "body": "I don&#39;t know how Eigen works, but you can create a manual templated conversion function with signature <code>template &lt;typename eigen_vec_t&gt; std::vector&lt;double&gt; convert(const eigen_vec_t&amp;)</code> and call it, assuming Eigen has some uniform way to iterate through the elements."}], "tags": [], "owner": {"reputation": 156, "user_id": 6622480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBhqe.png?s=128&g=1", "display_name": "Jack Zhou", "link": "https://stackoverflow.com/users/6622480/jack-zhou"}, "is_accepted": false, "score": 0, "last_activity_date": 1512606674, "creation_date": 1512606674, "answer_id": 47685727, "question_id": 47685014, "link": "https://stackoverflow.com/questions/47685014/how-to-add-a-user-defined-typecast-for-a-variable-in-c/47685727#47685727", "title": "How to add a user-defined typecast for a variable in c++?", "body": "<p>Depending on what you're looking for, you might be able to achieve this with a basic templated function, i.e.</p>\n\n<pre><code>template &lt;typename vec_t&gt;\nvec_t do_something(const vec_t&amp; input)\n{\n  // Do things\n}\n</code></pre>\n\n<p>This works fine if you want to do something generic like calculate a norm where the dimension of the vector doesn't matter.</p>\n"}], "owner": {"reputation": 1, "user_id": 9064468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cc423ce0b29718539c4de70fafc3b80?s=128&d=identicon&r=PG&f=1", "display_name": "bala", "link": "https://stackoverflow.com/users/9064468/bala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1513015179, "creation_date": 1512601716, "last_edit_date": 1513015179, "question_id": 47685014, "link": "https://stackoverflow.com/questions/47685014/how-to-add-a-user-defined-typecast-for-a-variable-in-c", "title": "How to add a user-defined typecast for a variable in c++?", "body": "<p>I have a class with functions that take <code>vector&lt;double&gt;</code> as input and also return <code>vector&lt;double&gt;</code>.</p>\n\n<p>I want to overload this function to take <code>Eigen::vectorXd</code> as input and output. I have many functions that need to be overloaded. Is there a way to create a typecast which would typecast <code>Eigen::vecrtorXd</code> to <code>vector&lt;double&gt;</code> for all these functions?  </p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 841, "user_id": 4410241, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/97aa5d63c4461ea7b79c29514064f084?s=128&d=identicon&r=PG", "display_name": "aln447", "link": "https://stackoverflow.com/users/4410241/aln447"}, "reply_to_user": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1512602283, "post_id": 47685004, "comment_id": 82329805, "body": "@O&#39;Neil Worked!! Thanks. Could you post this as an answer?"}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1512602591, "post_id": 47685004, "comment_id": 82329933, "body": "Answer posted :)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512602861, "post_id": 47685004, "comment_id": 82330021, "body": "The simplest solution is to make the vector be <code>vector &lt; Obiekt &gt; stos;</code>"}, {"owner": {"reputation": 3311, "user_id": 383277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c5a6259a9dd83d74a8c1db56e61be956?s=128&d=identicon&r=PG", "display_name": "Shirik", "link": "https://stackoverflow.com/users/383277/shirik"}, "edited": false, "score": 1, "creation_date": 1512603412, "post_id": 47685004, "comment_id": 82330242, "body": "Since it appears you&#39;re developing for windows/VS, I recommend you learn to recognize the value &quot;-858993460&quot; (0xCCCCCCCC). This is one of several special values with which Visual Studio fills newly allocated memory when you&#39;re building in Debug mode. If you see this value, it&#39;s a pretty good indicator you have a memory error going on. <a href=\"https://www.softwareverify.com/memory-bit-patterns.php\" rel=\"nofollow noreferrer\">softwareverify.com/memory-bit-patterns.php</a>"}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 3, "creation_date": 1512602843, "post_id": 47685148, "comment_id": 82330017, "body": "It is conventional that if a parameter is passed by reference then its address should not be stored beyond the call, so this is not good style"}], "tags": [], "owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "is_accepted": true, "score": 1, "last_activity_date": 1512602945, "last_edit_date": 1512602945, "creation_date": 1512602498, "answer_id": 47685148, "question_id": 47685004, "link": "https://stackoverflow.com/questions/47685004/vector-of-object-pointers-returns-odd-values/47685148#47685148", "title": "Vector of object pointers returns odd values", "body": "<p>The parameters <code>Obiekt n</code> in</p>\n\n<pre><code>Stos::Stos(Obiekt n) {\n    add(n);\n}\n\nvoid Stos::add(Obiekt n) {\n    stos.push_back(&amp;n);\n}\n</code></pre>\n\n<p>are temporary copies destroyed immediatly after each call.</p>\n\n<p>You have to use a reference <code>Obiekt &amp; n</code> instead, or better: by pointer <code>Obiekt * n</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 841, "user_id": 4410241, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/97aa5d63c4461ea7b79c29514064f084?s=128&d=identicon&r=PG", "display_name": "aln447", "link": "https://stackoverflow.com/users/4410241/aln447"}, "edited": false, "score": 0, "creation_date": 1512603093, "post_id": 47685210, "comment_id": 82330122, "body": "Task requirement was for the array to be of class pointer type"}, {"owner": {"reputation": 168, "user_id": 6642285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZmEeNAHiDJs/AAAAAAAAAAI/AAAAAAAABpI/OuwFp_Si22o/photo.jpg?sz=128", "display_name": "Adam Snaider", "link": "https://stackoverflow.com/users/6642285/adam-snaider"}, "reply_to_user": {"reputation": 841, "user_id": 4410241, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/97aa5d63c4461ea7b79c29514064f084?s=128&d=identicon&r=PG", "display_name": "aln447", "link": "https://stackoverflow.com/users/4410241/aln447"}, "edited": false, "score": 0, "creation_date": 1512603397, "post_id": 47685210, "comment_id": 82330235, "body": "Gotcha. M.M is right though, you should pass by pointer value instead of by reference"}], "tags": [], "owner": {"reputation": 168, "user_id": 6642285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZmEeNAHiDJs/AAAAAAAAAAI/AAAAAAAABpI/OuwFp_Si22o/photo.jpg?sz=128", "display_name": "Adam Snaider", "link": "https://stackoverflow.com/users/6642285/adam-snaider"}, "is_accepted": false, "score": 3, "last_activity_date": 1512602959, "last_edit_date": 1592644375, "creation_date": 1512602959, "answer_id": 47685210, "question_id": 47685004, "link": "https://stackoverflow.com/questions/47685004/vector-of-object-pointers-returns-odd-values/47685210#47685210", "title": "Vector of object pointers returns odd values", "body": "<p>The issue with your code as O'Neil correctly explained is that you're adding the pointer to a <strong>copy</strong> of the Obiekt object. So basically, you create your object in main, and pass it to the constructor and the .add function in Stos. You then add the <strong>pointer</strong> to the vector. When the function finishes, the copy that was passed is destroyed and the pointer in your vector is dangling.\nThere are two ways to fix this:</p>\n<h1>1 Pass by reference</h1>\n<p>This is very simple, basically you just add an ampersand to your function parameters. For instance:</p>\n<pre><code>void Stos::add(Obiekt &amp;n) {\n    stos.push_back(&amp;n);\n}\n</code></pre>\n<p>This will ensure that the object isn't destroyed at the end of the function</p>\n<h1>2 Don't use pointers</h1>\n<p>Another way of getting your problem to work is to avoid using pointers at all. Your vector will actually copy the contents of the Obiekt object into it. For example:</p>\n<pre><code>vector &lt; Obiekt &gt; stos; // notice how we define it without the pointer type\n</code></pre>\n<p>...</p>\n<pre><code>void Stos::add(Obiekt n) {\n    stos.push_back(n); // Creates copy which will then contain the correct value\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 8909872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171b2deb6da24a8ebf58f4e4346e47da?s=128&d=identicon&r=PG", "display_name": "C3H8", "link": "https://stackoverflow.com/users/8909872/c3h8"}, "is_accepted": false, "score": 0, "last_activity_date": 1512605102, "last_edit_date": 1512605102, "creation_date": 1512604295, "answer_id": 47685413, "question_id": 47685004, "link": "https://stackoverflow.com/questions/47685004/vector-of-object-pointers-returns-odd-values/47685413#47685413", "title": "Vector of object pointers returns odd values", "body": "<p>I'm reluctant to assert that the objects exist at the time display is called. </p>\n\n<h1>Problem(s)</h1>\n\n<p>According to GCC's implementation they don't.\nThey fall out of scope and are immediately destructed. Give \"Obiekt\" a non-trivial destructor and this behavior becomes obvious:</p>\n\n<pre><code>~Obiekt(){std::cout &lt;&lt; \"Bye from: \" &lt;&lt; it &lt;&lt; std::endl;}\n</code></pre>\n\n<p>Secondarily, note that you shouldn't specify the class membership for functions defined within the class itself (no class_name::function_name(parameters), just function_name(parameters) )</p>\n\n<h1>Possible Fix</h1>\n\n<p>You (might) want to changing \"Stos\" such that:</p>\n\n<pre><code>Stos(Obiekt &amp;n) {add(n);}\nvoid add(Obiekt &amp;n) {stos.push_back(&amp;n);}\n</code></pre>\n"}], "owner": {"reputation": 841, "user_id": 4410241, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/97aa5d63c4461ea7b79c29514064f084?s=128&d=identicon&r=PG", "display_name": "aln447", "link": "https://stackoverflow.com/users/4410241/aln447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47685148, "answer_count": 3, "score": 0, "last_activity_date": 1512605102, "creation_date": 1512601637, "last_edit_date": 1592644375, "question_id": 47685004, "link": "https://stackoverflow.com/questions/47685004/vector-of-object-pointers-returns-odd-values", "title": "Vector of object pointers returns odd values", "body": "<p>I have a task to create an object <strong>Stos</strong> which would feature a heap of objects <strong>Obiekt</strong>, to which I could add things as I please.</p>\n<p>In order to make the program better support dynamic arrays I decided to use a Vector.\nThe whole implementation seems to run perfectly, the returned value is completely off.\nHere is an example with code:</p>\n<pre><code>class Obiekt {\nprivate:\n    int id;\n\npublic:\n    Obiekt::Obiekt(int i) {\n        id = i;\n    }\n\n    void Obiekt::display() {\n        cout &lt;&lt; &quot;This object has id of: &quot; &lt;&lt; id &lt;&lt; endl;\n    }\n};\n\nclass Stos {\nprivate:\n    vector &lt; Obiekt* &gt; stos;\npublic:\n    Stos::Stos(Obiekt n) {\n        add(n);\n    }\n\n    void Stos::add(Obiekt n) {\n        stos.push_back(&amp;n);\n    }\n\n    void Stos::display() {\n        cout &lt;&lt; endl &lt;&lt; &quot;===HEAP DISPLAY===&quot; &lt;&lt; endl;\n        for (int i = 0; i &lt; stos.size(); i++) {\n            stos[i]-&gt;display();\n        }\n    }\n};\n\nvoid Zad1()\n{\n    Obiekt obj1(5);\n    Obiekt obj2(23);\n\n    Stos s1(obj1);\n    s1.add(obj2);\n    s1.display();\n\n    getchar();\n}\n</code></pre>\n<p>And the outcome being:</p>\n<blockquote>\n<p>===HEAP DISPLAY===</p>\n<p>This object has id of: -858993460</p>\n<p>This object has id of:9805925</p>\n</blockquote>\n<p>I'm not a cpp expert, and believe the issue is related to the <code>stos.push_back(&amp;n)</code> portion, but I can't catch the moment the id gets so distorted.</p>\n<p>It's probably a noob question, so sorry for that on start.</p>\n<p>Any help would be amazing.</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5892486"}, "edited": false, "score": 0, "creation_date": 1512601869, "post_id": 47684987, "comment_id": 82329663, "body": "what error do you exactly have?"}, {"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1512601986, "post_id": 47684987, "comment_id": 82329702, "body": "@clyky invalid parameters. I don&#39;t think I am declaring these arrays right. Is a pointer needed for an array?"}, {"owner": {"reputation": 735, "user_id": 4711098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3cc7b6d4644ecb2b44b9344f273d79?s=128&d=identicon&r=PG&f=1", "display_name": "Thinkeye", "link": "https://stackoverflow.com/users/4711098/thinkeye"}, "edited": false, "score": 0, "creation_date": 1512602245, "post_id": 47684987, "comment_id": 82329789, "body": "There is no memory there behind your pointers. Try to use int32_t **idsArray, if the function allocates memory to be returned, or provide an non zero length array as argument and indicate maximum length available in the count parameter."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512602439, "post_id": 47684987, "comment_id": 82329863, "body": "do you mean &quot;how do you declare a function to receive an array&quot; ?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512602509, "post_id": 47684987, "comment_id": 82329891, "body": "what is the meaning of the return value (being added to <code>rc</code>) ?"}, {"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512602940, "post_id": 47684987, "comment_id": 82330050, "body": "@M.M   No. Because I am trying to get the data back based on the parameters. For example the count, I am getting a count back from the parameter by using pointers. I can now log the value in count after calling this method. As for the rc, you can ignore it. The short that it returns represent the error code. It has nothing to do with the question."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512603047, "post_id": 47684987, "comment_id": 82330103, "body": "well, what you actually said (&quot;declare an array to received an array&quot;) makes no sense. Arrays just store values, they don&#39;t receive anything"}], "answers": [{"tags": [], "owner": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "is_accepted": false, "score": 1, "last_activity_date": 1512602277, "creation_date": 1512602277, "answer_id": 47685119, "question_id": 47684987, "link": "https://stackoverflow.com/questions/47684987/how-do-declare-an-array-in-c-as-a-parameter/47685119#47685119", "title": "How do declare an array in C++ as a parameter?", "body": "<p>You cannot pass an array in C or C++, because they will always decay to a pointer to the first element.</p>\n\n<p>You <em>can</em>, however, pass a <strong>reference</strong> to an array.  It retains its array type rather than decay to a pointer, so sizeof() will return the actual size of the array rather than the sizeof pointer, and so on.</p>\n\n<pre><code>void f(char(&amp;charArray)[30])\n{\n}\n</code></pre>\n\n<p>Syntax is pretty ugly though.  A type alias can help:</p>\n\n<pre><code>using CharArray30 = char(&amp;)[30];\nvoid f(CharArray30 charArray)\n{\n}\n</code></pre>\n\n<p>etc.  It has restrictions, though.  For example, you cannot pass arrays of a different size.</p>\n\n<p>If you need your function to work with various sizes, you can use a function template with a non-type parameter for the size:</p>\n\n<pre><code>template &lt;size_t SIZE&gt;\nvoid f(int32_t module, int32_t(&amp;idArray)[SIZE])\n{\n  // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1512603210, "creation_date": 1512603210, "answer_id": 47685250, "question_id": 47684987, "link": "https://stackoverflow.com/questions/47684987/how-do-declare-an-array-in-c-as-a-parameter/47685250#47685250", "title": "How do declare an array in C++ as a parameter?", "body": "<p>I guess that what you are trying to do is to have the function output a set of <code>int</code> values where the length is not known at compile-time.</p>\n\n<p>In C++ an array has a fixed size that must be known at compile-time.  The concept of \"runtime-sized array\" is called <code>vector</code> in C++.</p>\n\n<p>Also, it is more natural to use the return value for values being returned. Your code could look like:</p>\n\n<pre><code>std::vector&lt;int&gt; WI_GetIDsFromList(int32_t mod);\n</code></pre>\n\n<p>and the calling code could be:</p>\n\n<pre><code>auto values = WI_GetIDsFromList(mod);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1512604109, "post_id": 47685345, "comment_id": 82330510, "body": "Yes. Let me try this, but you are correct. Like I said these are header files that are propriety code, it helps me access a hardware device. I can only use these methods declared in a header file based on their parameters. Thank you for understanding."}, {"owner": {"reputation": 132, "user_id": 4032654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36c44479ed54f0ed08a6e15543432117?s=128&d=identicon&r=PG&f=1", "display_name": "schmitze333", "link": "https://stackoverflow.com/users/4032654/schmitze333"}, "reply_to_user": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1512604373, "post_id": 47685345, "comment_id": 82330607, "body": "In case it does not work, please share the error message."}, {"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "edited": false, "score": 0, "creation_date": 1512605295, "post_id": 47685345, "comment_id": 82330877, "body": "It worked! Thank you! The maximumExpectedIds are actually returned in a different method. I didn&#39;t know I just had to change the declaration."}], "tags": [], "owner": {"reputation": 132, "user_id": 4032654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36c44479ed54f0ed08a6e15543432117?s=128&d=identicon&r=PG&f=1", "display_name": "schmitze333", "link": "https://stackoverflow.com/users/4032654/schmitze333"}, "is_accepted": true, "score": 1, "last_activity_date": 1512603757, "creation_date": 1512603757, "answer_id": 47685345, "question_id": 47684987, "link": "https://stackoverflow.com/questions/47684987/how-do-declare-an-array-in-c-as-a-parameter/47685345#47685345", "title": "How do declare an array in C++ as a parameter?", "body": "<p>I think Mochi's question is how to declare the array that it suits the need of the function given in the header. If I understand him right, he has no influence to the function taking the array as parameter.</p>\n\n<p>Did you try:</p>\n\n<pre><code>int32_t returnedIdsArray[MaximumExpectedIds];\n</code></pre>\n\n<p>Maybe there is also a function in the API giving you the number of Ids that you could use to determine the array size.</p>\n"}], "owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47685345, "answer_count": 3, "score": 0, "last_activity_date": 1512603780, "creation_date": 1512601514, "last_edit_date": 1512603780, "question_id": 47684987, "link": "https://stackoverflow.com/questions/47684987/how-do-declare-an-array-in-c-as-a-parameter", "title": "How do declare an array in C++ as a parameter?", "body": "<p>I am working with propriety code in my iOS project and all I have access to is the header files for my project. How do you declare an array in C++ so that it will return an array when I make a call?</p>\n\n<p>Here's the header file method,</p>\n\n<pre><code> short WI_GetIDsFromList(int32_t module, int32_t *idsArray, uint32_t *count);\n</code></pre>\n\n<p>How do you declare an array to received an array of in32_t? I keep getting a parameter error for returnedIdsArray when I make this call? It works perfectly fine for count? I tried making it into a pointer but it did not work?</p>\n\n<pre><code>    //Array of ID's\n    int32_t returnedIdsArray[] = {};\n\n    // Array of ID's count\n    uint32_t count;\n\n rc += WI_GetIDsFromList(mod, returnedIdsArray, &amp;count);\n</code></pre>\n\n<p>Another Example</p>\n\n<pre><code>short dpCount;\n\n//Get number of data points from the device\nWI_GetDatapointCount(modIDHDS, &amp;dpCount);\n\n//dpCount now has returned value of method WI_GetDatapointCount\nNSLog@\"%d\", int(dpCount);\n</code></pre>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1512600749, "post_id": 47684828, "comment_id": 82329217, "body": "Please post actual, compilable code.  The code above has syntax errors.  In particular, where is <code>counter</code> declared?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1512601157, "post_id": 47684828, "comment_id": 82329389, "body": "If the bulk of your code <i>can be removed</i> and still produce the problem state you&#39;re describing, you&#39;re <i>far, far</i> better off posting <i>that</i> as a complete problem source than posting uncompilable conjecture. And don&#39;t be surprised if you find the actual problem while reducing your code; it happens more often than you may think."}, {"owner": {"reputation": 1, "user_id": 4152361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xnc7P.jpg?s=128&g=1", "display_name": "Danielx511", "link": "https://stackoverflow.com/users/4152361/danielx511"}, "edited": false, "score": 0, "creation_date": 1512603820, "post_id": 47684828, "comment_id": 82330403, "body": "The code I removed is not needed because it works fine. I completed that part of the assignment. Just implementing the counter to count every operation that is not working."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4152361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xnc7P.jpg?s=128&g=1", "display_name": "Danielx511", "link": "https://stackoverflow.com/users/4152361/danielx511"}, "edited": false, "score": 0, "creation_date": 1512603835, "post_id": 47684933, "comment_id": 82330408, "body": "I will test this! Thank you."}, {"owner": {"reputation": 1, "user_id": 4152361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xnc7P.jpg?s=128&g=1", "display_name": "Danielx511", "link": "https://stackoverflow.com/users/4152361/danielx511"}, "edited": false, "score": 0, "creation_date": 1512604072, "post_id": 47684933, "comment_id": 82330489, "body": "It worked. Thank you very much. Makes perfect sense."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1512606585, "post_id": 47684933, "comment_id": 82331250, "body": "+1, good catch! Might be worth mentioning though that it&#39;s not guaranteed that &quot;<i>count is still 0 when it prints.</i>&quot; This is in fact undefined behavior. See <a href=\"https://stackoverflow.com/questions/4176328/undefined-behavior-and-sequence-points\">this question</a> for more information."}], "tags": [], "owner": {"reputation": 160, "user_id": 2070644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0b00bbca4fae90362aba842af87ba2?s=128&d=identicon&r=PG", "display_name": "acesar", "link": "https://stackoverflow.com/users/2070644/acesar"}, "is_accepted": true, "score": 2, "last_activity_date": 1512601231, "creation_date": 1512601231, "answer_id": 47684933, "question_id": 47684828, "link": "https://stackoverflow.com/questions/47684828/c-recursive-counter/47684933#47684933", "title": "C++ - Recursive counter", "body": "<p>The problem is this line:</p>\n\n<p><code>\ncout &lt;&lt; karatsuba(123, 456, counter) &lt;&lt; \" \" &lt;&lt; counter &lt;&lt; endl;\n</code></p>\n\n<p>Try instead \n<code>\ncout &lt;&lt; karatsuba(123, 456, counter);\ncout &lt;&lt; \" \" &lt;&lt; counter &lt;&lt; endl;\n</code></p>\n\n<p>the problem is cout, count is still 0 when it prints.</p>\n"}], "owner": {"reputation": 1, "user_id": 4152361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xnc7P.jpg?s=128&g=1", "display_name": "Danielx511", "link": "https://stackoverflow.com/users/4152361/danielx511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "closed_date": 1512631441, "accepted_answer_id": 47684933, "answer_count": 1, "score": -7, "last_activity_date": 1512604892, "creation_date": 1512600609, "last_edit_date": 1512604892, "question_id": 47684828, "link": "https://stackoverflow.com/questions/47684828/c-recursive-counter", "closed_reason": "Not suitable for this site", "title": "C++ - Recursive counter", "body": "<p>I am trying to create a counter. It counts each operation such as multiplication, addition, subtraction, division. Every time I try to cout the counter, it stays as zero.</p>\n\n<p>Can anyone shed any light on what I am doing wrong?</p>\n\n<p>A bulk of my code is missing so I can protect it from other classmates, however I have listed how many operations is in that section where the code would be.</p>\n\n<pre><code>long karatsuba(int num1, int num2, int &amp;counter)\n{\n if (num1 &lt; 10 || num2 &lt; 10)\n {\n    counter++ // 1 operation\n    return num1 * num2;\n }\n /* calculates the size of the number */\n ... 4 operations\n\n /* split the digit sequences about the middle */\n ... 4 operations\n\n /* 3 calls made to numbers approximately half the size */\n int z0 = karatsuba(..., ..., counter);\n int z1 = karatsuba(..., ..., counter);\n int z2 = karatsuba(..., ..., counter);\n\n\n return ... // 9 operations\n}\n-------------------------------------------------------------\nint main()\n{\n int counter = 0;\n cout &lt;&lt; karatsuba(123, 456, counter) &lt;&lt; \" \" &lt;&lt; counter &lt;&lt; endl;\n\n cout &lt;&lt; endl;\n system(\"Pause\");\n return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1512600335, "post_id": 47684603, "comment_id": 82329067, "body": "<a href=\"https://stackoverflow.com/questions/23783985/set-child-process-name-in-windows\" title=\"set child process name in windows\">stackoverflow.com/questions/23783985/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1512600428, "post_id": 47684603, "comment_id": 82329100, "body": "Why do you think you want to do that?"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 1, "creation_date": 1512600999, "post_id": 47684603, "comment_id": 82329319, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23783985/set-child-process-name-in-windows\">Set child process name in Windows?</a>"}, {"owner": {"reputation": 7, "user_id": 8652232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f088a346736bf773d9aa0f423ac9984d?s=128&d=identicon&r=PG", "display_name": "Dwarf Killer", "link": "https://stackoverflow.com/users/8652232/dwarf-killer"}, "edited": false, "score": 0, "creation_date": 1512601769, "post_id": 47684603, "comment_id": 82329623, "body": "Trying to set the main process name, not the child process names."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1512602473, "post_id": 47684603, "comment_id": 82329880, "body": "the task manager show file description of exe file if it exist. if not exist - show exe file name. so you can set &quot;Name&quot; in <code>&quot;FileDescription&quot;</code> (the 32bit auto added to wow64 processes)"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1512639828, "post_id": 47684603, "comment_id": 82342931, "body": "Your question is based on the false premise, that processes had names. This is not the case, making the question somewhat useless. At any rate, this <i>is</i> a duplicate. Had you taken the time to actually read through the answers, you&#39;d understand that it applies to <i>&quot;main processes&quot;</i> (whatever that is supposed to be) just as well. Besides, if you fire up Process Explorer you&#39;ll see, that (with the exception of a few system processes), all processes are in fact child processes, so what you believe to be a <i>&quot;main process&quot;</i> is a child process after all."}], "answers": [{"tags": [], "owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "is_accepted": false, "score": 4, "last_activity_date": 1512607410, "last_edit_date": 1512607410, "creation_date": 1512603338, "answer_id": 47685266, "question_id": 47684603, "link": "https://stackoverflow.com/questions/47684603/how-do-i-set-the-background-process-name/47685266#47685266", "title": "How do I set the background process name?", "body": "<p>Processes in Windows have no \"name\" property, which can be set or read.</p>\n\n<p>Different utilities, like Task Manager, can show you the name of the EXE file which created the process, as well as the <code>FileDescription</code> from the EXE's <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa381058.aspx\" rel=\"nofollow noreferrer\"><code>VERSIONINFO</code></a> resource (if it exists), the process's command line, etc.</p>\n\n<p>However, you have no control over how such utilities decide to display your process. Currently, Task Manager tries to show the <code>FileDescription</code> from the EXE's version resource, and if it does not exist then shows the name of EXE file instead.</p>\n"}], "owner": {"reputation": 7, "user_id": 8652232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f088a346736bf773d9aa0f423ac9984d?s=128&d=identicon&r=PG", "display_name": "Dwarf Killer", "link": "https://stackoverflow.com/users/8652232/dwarf-killer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1512607410, "creation_date": 1512599569, "last_edit_date": 1512599681, "question_id": 47684603, "link": "https://stackoverflow.com/questions/47684603/how-do-i-set-the-background-process-name", "title": "How do I set the background process name?", "body": "<p>How do I set the name of my program's process, so in task manager instead of seeing \"Program.exe(32 bit)\" it just shows the name like \"Name (32 bit)\".Such as it not having the .exe at the end.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512599639, "post_id": 47684547, "comment_id": 82328795, "body": "If you want us to help you, we need you to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 0, "creation_date": 1512602283, "post_id": 47684547, "comment_id": 82329804, "body": "instead of <code>protagonist-&gt;setFocus();</code> try <code>view-&gt;setFocus();</code>."}, {"owner": {"reputation": 15, "user_id": 8089018, "user_type": "registered", "profile_image": "https://graph.facebook.com/1824080771161461/picture?type=large", "display_name": "Zacks", "link": "https://stackoverflow.com/users/8089018/zacks"}, "reply_to_user": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 0, "creation_date": 1512605251, "post_id": 47684547, "comment_id": 82330862, "body": "@scopchanov That works! Thanks a lot!"}, {"owner": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 0, "creation_date": 1512607556, "post_id": 47684547, "comment_id": 82331460, "body": "You&#39;re welcome!"}, {"owner": {"reputation": 15, "user_id": 8089018, "user_type": "registered", "profile_image": "https://graph.facebook.com/1824080771161461/picture?type=large", "display_name": "Zacks", "link": "https://stackoverflow.com/users/8089018/zacks"}, "reply_to_user": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 1, "creation_date": 1541517598, "post_id": 47684547, "comment_id": 93239453, "body": "@scopchanov sorry, accepted"}], "answers": [{"tags": [], "owner": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1512608174, "creation_date": 1512608174, "answer_id": 47685933, "question_id": 47684547, "link": "https://stackoverflow.com/questions/47684547/qgraphicsitem-loses-focus-after-using-qcombobox/47685933#47685933", "title": "QGraphicsItem loses focus after using QComboBox", "body": "<p>By clicking <em>QComboBox</em> the <em>QGraphicsView</em> looses the focus. You attempt to return it back by calling <code>setFocus();</code> on the <em>QGraphicsPixmapItem</em>. This approach doesn't work as you expect, because it sets the focus item inside the view, but the view itself still does not have focus. To fix that in <code>MainWindow::sceneScaleChanged</code> instead of <code>protagonist-&gt;setFocus();</code> write <code>view-&gt;setFocus();</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 8089018, "user_type": "registered", "profile_image": "https://graph.facebook.com/1824080771161461/picture?type=large", "display_name": "Zacks", "link": "https://stackoverflow.com/users/8089018/zacks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 47685933, "answer_count": 1, "score": 1, "last_activity_date": 1512608174, "creation_date": 1512599356, "last_edit_date": 1512601930, "question_id": 47684547, "link": "https://stackoverflow.com/questions/47684547/qgraphicsitem-loses-focus-after-using-qcombobox", "title": "QGraphicsItem loses focus after using QComboBox", "body": "<p>I am doing a small game in Qt and try to use WASD to move my protagonist(QGraphicsPixmapItem). The map is quite big so I use a QComboBox to change the scale of the scene.</p>\n\n<p>The game looks like this:</p>\n\n<p>The simple game</p>\n\n<p><img src=\"https://i.stack.imgur.com/6Yu4P.png\" alt=\"\"></p>\n\n<p>How I built the protagonist:</p>\n\n<pre><code>protagonist = new MyProtagonist();\nprotagonist-&gt;setFlag(QGraphicsItem::ItemIsFocusable);\nprotagonist-&gt;setFocus();\nscene-&gt;addItem(protagonist);\n</code></pre>\n\n<p>How I built the combox:</p>\n\n<pre><code>sceneScaleCombo = new QComboBox;\nQStringList scales;\nscales &lt;&lt; tr(\"1%\")&lt;&lt;tr(\"10%\") &lt;&lt; tr(\"20%\") &lt;&lt;tr(\"50%\") &lt;&lt; tr(\"100%\") &lt;&lt;tr(\"200%\");\nsceneScaleCombo-&gt;addItems(scales);\nsceneScaleCombo-&gt;setCurrentIndex(4);\nconnect(sceneScaleCombo,SIGNAL(currentIndexChanged(QString)),this,SLOT(sceneScaleChanged(QString)));\n\nvoid MainWindow::sceneScaleChanged(const QString &amp;scale)\n{\n    double newScale = scale.left(scale.indexOf(tr(\"%\"))).toDouble() / 100;\n    QMatrix oldMatrix = view-&gt;matrix();\n    view-&gt;resetMatrix();\n    view-&gt;translate(oldMatrix.dx(),oldMatrix.dy());\n    view-&gt;scale(newScale,newScale);\n    protagonist-&gt;setFocus();\n}\n</code></pre>\n\n<p>Everything worked well at the beginning. However, after I clicking the combobox, my protagonist cannot be controlled by keyboard any more. I need to click my protagonist to make it focused again.</p>\n\n<p>Is there any way to set it focused automatically?</p>\n\n<p>Thanks a lot. </p>\n"}, {"tags": ["c++", "visual-studio-2017", "cl.exe"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1512600609, "post_id": 47684526, "comment_id": 82329160, "body": "&quot;Invoke-Build&quot; sounds like a magic wand that lost its magic.  Using the wrong CL.exe version isn&#39;t very different from using the wrong include paths, corecrt.h should always be easy to find since it is part of the universal crt.  File a bug with the project or avoid wands."}, {"owner": {"reputation": 686, "user_id": 1915961, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3d5632c7f8d3e75d0f08642dcdac09a1?s=128&d=identicon&r=PG", "display_name": "Mark Raymond", "link": "https://stackoverflow.com/users/1915961/mark-raymond"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1512639112, "post_id": 47684526, "comment_id": 82342474, "body": "Invoke-Build is correctly calling MSBuild (just the 64-bit version rather than the 32-bit version). MSBuild is calling a different, but I believe still correct, CL.exe. Upgrading Invoke-Build is merely the reason I ended up looking into the difference between 32-bit and 64-bit MSBuild/CL.exe."}], "owner": {"reputation": 686, "user_id": 1915961, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3d5632c7f8d3e75d0f08642dcdac09a1?s=128&d=identicon&r=PG", "display_name": "Mark Raymond", "link": "https://stackoverflow.com/users/1915961/mark-raymond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512639175, "creation_date": 1512599264, "last_edit_date": 1512639175, "question_id": 47684526, "link": "https://stackoverflow.com/questions/47684526/64-bit-net-c-project-compiles-with-32-bit-msbuild-cl-exe-but-fails-to-find-co", "title": "64-bit .NET C++ project compiles with 32-bit MSBuild/CL.exe but fails to find corecrt.h with 64-bit MSBuild.exe/CL.exe", "body": "<p>I have a small vcxproj. It is 64-bit only, uses v141 platform toolset, and was using Windows SDK 8.1, I have also tried using Windows SDK 10.0.16299.0 to see if that made any difference, but it didn't.</p>\n\n<p>Previously, the project was being compiled using 32-bit MSBuild, and working fine. Recently I tried compiling using 64-bit MSBuild. The command line call to the C++ compiler is identical (including all include directories), apart from the compiler it calls is</p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\CL.exe</code></p>\n\n<p>instead of</p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX86\\x64\\CL.exe\"</code></p>\n\n<p>(changed HostX86 -> Hostx64). This results in the following error message:</p>\n\n<p><code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\VC\\Tools\\MSVC\\14.11.25503\\include\\crtdefs.h(10, 0): error C1083: Cannot open include file: 'corecrt.h': No such file or directory</code></p>\n\n<p>I am at a loss as to what the problem could be; it's using the same include paths, and the same Windows SDK. I don't see why the bitness of the compiler should affect whether it can find a header file when the target architecture hasn't changed!</p>\n\n<p>The machine this is running on has Visual Studio 2017 Enterprise, Windows SDK 8.1 and Windows SDK 10.0.16299.0 installed.</p>\n\n<p>Slightly wider context: this came up as part of updating our build dependencies. We use Invoke-Build to run the build, and as of 3.6.3 it started detecting 64-bit MSBuild installations, and using them by default. I could, of course, simply pin to 32-bit MSBuild, but I would like to get to the bottom of why the bitness of the build tools makes a difference in this situation.</p>\n"}, {"tags": ["c++", "gcc", "cmake", "gnu-make"], "comments": [{"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512599651, "post_id": 47684410, "comment_id": 82328799, "body": "Maybe try to use <code>link_library(stdc++)</code> instead of passing the &quot;-lstdc++&quot; compiler flag. It is probable that cmake perform the compilation in 2 steps, one for compiling an object file using <code>gcc</code>, and a second to link using <code>ld</code>. The <code>-lstdc++</code> is passed to <code>gcc</code> while it is usefull to <code>ld</code>. Using link_library solve this problem."}, {"owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512599990, "post_id": 47684410, "comment_id": 82328936, "body": "@Oliv <code>link_library()</code> is unknown to my version of CMake, but <code>link_libraries()</code> exists. If I use that, CMake will run successfully, but I still get the same behavior, except that the second make now fails with the same error like in the first run."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512600626, "post_id": 47684410, "comment_id": 82329167, "body": "This should not, try to define CMAKE_EXE_LINKER_FLAGS to stdc++,"}, {"owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512600948, "post_id": 47684410, "comment_id": 82329297, "body": "@Oliv I added <code>set(CMAKE_EXE_LINKER_FLAGS &quot;-lstdc++&quot;)</code> but it&#39;s still the same original behavior."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512602327, "post_id": 47684410, "comment_id": 82329831, "body": "This is not normal, this symbol is not exported by libstdc++.so. May be you could grep &quot;extern template&quot; on your source."}, {"owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512638458, "post_id": 47684410, "comment_id": 82342048, "body": "@Oliv what exactly do you mean by &quot;grep extern template&quot;?"}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "reply_to_user": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "edited": false, "score": 0, "creation_date": 1512642470, "post_id": 47684410, "comment_id": 82344805, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160702/discussion-between-oliv-and-comfreak\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "edited": false, "score": 0, "creation_date": 1512646224, "post_id": 47693909, "comment_id": 82347367, "body": "In the chat with @Oliv I figured out that my CMake file caused my code to be compiled with the compiler that I declared in the CMake file but linked with the system&#39;s libraries which apparently don&#39;t match. When I remove the corresponding line from the CMakeLists file, everything compiles on the first run. However, I still only see compiler warnings on the second run. Is this normal? -- Regarding your last sentence, what is a better way to define the compiler settings than putting them in the CMakeLists file?"}, {"owner": {"reputation": 31426, "user_id": 4763489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89773f016f1f4cc2c4e790a6c3f7b004?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/4763489/florian"}, "reply_to_user": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "edited": false, "score": 1, "creation_date": 1512646792, "post_id": 47693909, "comment_id": 82347735, "body": "@comfreak Ok. The compilers are normally set from the outside. Either with <a href=\"https://cmake.org/cmake/help/latest/manual/cmake-env-variables.7.html\" rel=\"nofollow noreferrer\">environment variables</a> or <a href=\"https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html\" rel=\"nofollow noreferrer\">toolchain files</a>. In your case I would probably just reduce your <code>PATH</code> environment variable to just point the the compiler toolchain you want and then call <code>cmake ..</code>."}, {"owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "edited": false, "score": 0, "creation_date": 1512648836, "post_id": 47693909, "comment_id": 82349099, "body": "I do want to mention that simply moving the <code>project()</code> command right after defining the minimum version (and therefore before any compiler settings) solved the issue and the code now successfully builds on the first try, including all the compiler warnings I was missing. Thanks! - And thanks for the links, I will check them out too. ;-)"}], "tags": [], "owner": {"reputation": 31426, "user_id": 4763489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89773f016f1f4cc2c4e790a6c3f7b004?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/4763489/florian"}, "is_accepted": true, "score": 3, "last_activity_date": 1512645970, "last_edit_date": 1512645970, "creation_date": 1512645552, "answer_id": 47693909, "question_id": 47684410, "link": "https://stackoverflow.com/questions/47684410/cmake-and-make-need-to-be-run-twice-in-order-to-build-code-successfully/47693909#47693909", "title": "CMake and Make need to be run twice in order to build code successfully", "body": "<p>If it only works the second time it has to do with cached variables.</p>\n\n<p>So I'm pretty sure that it will work the first time if you modify <code>CMAKE_CXX_COMPILER</code> setting by adding <code>set(... CACHE INTERNAL \"\"</code>) to:</p>\n\n<pre><code>set(CMAKE_CXX_COMPILER \"${CMAKE_SOURCE_DIR}/toolchain/binary/gcc-6.4.0/bin/gcc\" CACHE INTERNAL \"\")\n</code></pre>\n\n<p>And move <code>set(CMAKE_CXX_FLAGS ...)</code> after the <code>project()</code> command.</p>\n\n<p>But please also be noted that you shouldn't put the compiler into your <code>CMakeLists.txt</code>.</p>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30503631/cmake-in-which-order-are-files-parsed-cache-toolchain\">CMake: In which Order are Files parsed (Cache, Toolchain, \u2026)?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44284275/passing-compiler-options-cmake\">Passing compiler options cmake</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32801638/cmake-error-at-cmakelists-txt30-project-no-cmake-c-compiler-could-be-found\">CMake Error at CMakeLists.txt:30 (project): No CMAKE_C_COMPILER could be found</a></li>\n</ul>\n"}], "owner": {"reputation": 164, "user_id": 5000766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e03cec892ed4b38ec3d77a110cd2ab?s=128&d=identicon&r=PG&f=1", "display_name": "comfreak", "link": "https://stackoverflow.com/users/5000766/comfreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2855, "favorite_count": 2, "accepted_answer_id": 47693909, "answer_count": 1, "score": 6, "last_activity_date": 1512645970, "creation_date": 1512598806, "last_edit_date": 1512600134, "question_id": 47684410, "link": "https://stackoverflow.com/questions/47684410/cmake-and-make-need-to-be-run-twice-in-order-to-build-code-successfully", "title": "CMake and Make need to be run twice in order to build code successfully", "body": "<p>I am using CMake 3.8.2, GNU make 4.2.1 and GCC 6.4.0 for my C++14 project and I noticed a strange behavior when building. I am using CMake for an out-of-source build in a sub-folder called \"build\" where I run <code>cmake ..</code> followed by <code>make</code>. </p>\n\n<p>CMake runs fine without any errors and make will build all source files like I expect until it is done compiling and starts linking them. It will then fail with an error </p>\n\n<pre><code>[ 83%] ...\n[100%] Linking CXX executable myproject\n/usr/bin/ld: some-source-file.cc.o: undefined reference to symbol '_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv@@GLIBCXX_3.4.21'\n</code></pre>\n\n<p>Interestingly it doesn't show any compiler warnings up to this point and only shows the above mentioned linker error. </p>\n\n<p>Now when I ignore the error and simply run <code>cmake ..</code> and then <code>make</code> again (just like I did before) I get all the compiler warnings that my code should produce and everything links perfectly fine, even though I didn't change any code or CMake-related files in the meantime. </p>\n\n<p>I can reproduce this behavior by deleting all files in the <code>build</code> dir by running <code>rm -r *</code>.</p>\n\n<p>Here is my <code>CMakeLists.txt</code> file:</p>\n\n<pre><code># Define minimum required CMake version\ncmake_minimum_required(VERSION 3.8.2)\n\n# Setting compiler related settings\nset(CMAKE_CXX_COMPILER \"${CMAKE_SOURCE_DIR}/toolchain/binary/gcc-6.4.0/bin/gcc\")\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wall -Wextra -Wconversion -O2 -lstdc++\")\nset(CMAKE_CXX_STANDARD 14)\n\n# Define project name\nproject(MyProject)\n\n# Find source files\nfile(GLOB_RECURSE SOURCES application/*.cc)\n\n# Adding third-party sources\nset(SOURCES ${SOURCES} \"third-party/cpp-base64/base64.cpp\")\n\n# Executable to be built from which source files\nadd_executable(myproject ${SOURCES})\n\n# Find and include and link Botan\nfind_library(BOTAN botan-2 \"third-party/botan/build/lib\")\ninclude_directories(\"third-party/botan/build/include/botan-2\")\n\n# Includes that are part of the project\ninclude_directories(\"${CMAKE_SOURCE_DIR}/application/include\")\n\n# Include nlohmann/json\ninclude_directories(\"third-party/json/src\")\n\n# Include cpp-base64 by Ren\u00e9 Nyffenegger\ninclude_directories(\"third-party/cpp-base64\")\n\nfind_package(Boost REQUIRED COMPONENTS program_options)\nif(Boost_FOUND)\n  include_directories(${Boost_INCLUDE_DIRS})\nendif()\n\n# Link third-party libraries\ntarget_link_libraries(myproject ${Boost_LIBRARIES} ${BOTAN})\n</code></pre>\n\n<p>Note: I am required to check-in the compiler and libraries I am using, which is why I specified them in the CMake file. </p>\n"}, {"tags": ["c++", "linked-list"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1512599052, "post_id": 47684396, "comment_id": 82328524, "body": "well the position is <code>curr</code> if you find it. What else you want?"}, {"owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "edited": false, "score": 0, "creation_date": 1512599349, "post_id": 47684396, "comment_id": 82328676, "body": "And I would think you would want to check both first and last (assuming they are names), if(cur-&gt;first==first &amp;&amp; cur-&gt;last==last) found=true;"}, {"owner": {"reputation": 199, "user_id": 8761016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8093e5252e23c068ecc6166698601dc?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Doe", "link": "https://stackoverflow.com/users/8761016/frank-doe"}, "edited": false, "score": 0, "creation_date": 1512600421, "post_id": 47684396, "comment_id": 82329096, "body": "For the delete method I have, it needs the position to be an <code>int</code> type."}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1512600460, "post_id": 47684396, "comment_id": 82329110, "body": "You check matches if first OR last name is the same.  Shouldn&#39;t they both have to match?"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1512601245, "post_id": 47684396, "comment_id": 82329424, "body": "If you need to keep track of the index, add a counter that gets incremented (similarly to how you have the <code>curr</code> pointer), it&#39;s unclear why you didn&#39;t try doing that"}], "answers": [{"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": true, "score": 0, "last_activity_date": 1512603486, "creation_date": 1512603486, "answer_id": 47685298, "question_id": 47684396, "link": "https://stackoverflow.com/questions/47684396/getting-position-in-linked-list-from-method/47685298#47685298", "title": "Getting position in linked list from method", "body": "<pre><code>node *curr = head;\nfound = false;\nint idx = -1;\nwhile (curr != NULL &amp; !found)\n{\n    idx++;\n    ....\n }\n</code></pre>\n\n<p>if found idx has the index         </p>\n"}], "owner": {"reputation": 199, "user_id": 8761016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8093e5252e23c068ecc6166698601dc?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Doe", "link": "https://stackoverflow.com/users/8761016/frank-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 0, "accepted_answer_id": 47685298, "answer_count": 1, "score": 1, "last_activity_date": 1512603486, "creation_date": 1512598755, "question_id": 47684396, "link": "https://stackoverflow.com/questions/47684396/getting-position-in-linked-list-from-method", "title": "Getting position in linked list from method", "body": "\n\n<p>In this function (part of a bigger contact book program I am working on) it displays an item in a linked list, or in my case a contact. I would like to get the position of this item in the linked list, in order to delete the contact and add it back to the linked list.</p>\n\n\n\n<pre><code>void display_contact(std::string first, std::string last)\n{\n        bool found;\n\n        node *curr = head;\n        found = false;\n\n        while (curr != NULL &amp; !found)\n        {\n            if (curr-&gt;firstName == first)\n            {\n                found = true;\n            }\n            else if (curr-&gt;lastName == last)\n            {\n                found = true;\n            }\n            else\n            {\n                curr = curr-&gt;next;\n            }\n\n        }\n        if (found)\n        {\n            std::cout &lt;&lt; \"First Name: \" &lt;&lt; curr-&gt;firstName &lt;&lt; \"\\n\";\n            std::cout &lt;&lt; \"Last Name: \" &lt;&lt; curr-&gt;lastName &lt;&lt; \"\\n\";\n            std::cout &lt;&lt; \"Phone Number: \" &lt;&lt; curr-&gt;phoneNumber &lt;&lt; \"\\n\";\n            std::cout &lt;&lt; \"Editing contacts is coming soon.\\n\";\n        }\n        else\n        {\n            std::cout &lt;&lt; \"\\n\" &lt;&lt; first &lt;&lt; \" \" &lt;&lt; last &lt;&lt; \" was not found.\\n\";\n        }\n}\n</code></pre>\n\n\n\n\n\n<p>The actual result I get right now is just the contact information (Variables from the linked list)</p>\n"}, {"tags": ["c++", "unreal-engine4"], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 7834504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be01f43911e325b92b63cfa4364d8ae7?s=128&d=identicon&r=PG&f=1", "display_name": "JKovalsky", "link": "https://stackoverflow.com/users/7834504/jkovalsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1513044279, "creation_date": 1513044279, "answer_id": 47764302, "question_id": 47684360, "link": "https://stackoverflow.com/questions/47684360/ue4-can-i-load-umap-into-packaged-standalone/47764302#47764302", "title": "UE4 Can I load .umap into packaged standalone?", "body": "<p>You should take a look at <a href=\"https://docs.unrealengine.com/latest//INT/Engine/Basics/AssetsAndPackages/AssetManagement/index.html\" rel=\"nofollow noreferrer\">UAssetManager</a> class, which could be used for loading UE4 assets at runtime. However, I can't promise you it will load entire map for you, i've never used this mechanism at my own.</p>\n"}], "owner": {"reputation": 21, "user_id": 4726690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bdb4f9be1bb12f9f5d714d5065d1a22f?s=128&d=identicon&r=PG&f=1", "display_name": "tux", "link": "https://stackoverflow.com/users/4726690/tux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1057, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523150552, "creation_date": 1512598612, "question_id": 47684360, "link": "https://stackoverflow.com/questions/47684360/ue4-can-i-load-umap-into-packaged-standalone", "title": "UE4 Can I load .umap into packaged standalone?", "body": "<p>I need to load on start .umap files created after packaging standalone version of my app. The problem is that .umap need to be cooked (even when I uncheck Pak flag). How can I solve that?</p>\n\n<p>What I want to accomplish is that to build standalone app. Let designers to create some .umap level files in Unreal Editor. And finally to be able to start my app with new .umap level.</p>\n\n<p>I see 2 possible ways:</p>\n\n<p>Find some plugin or tool which can separately cook .umap file and add it to packaged project. Does such a plugin exists?</p>\n\n<p>Build standalone project without cooking (I don't need to redistribute the project, it's tool for internal use). Is it possible?</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["c++", "angular", "webpack", "asp.net-core", "visual-studio-2017"], "answers": [{"comments": [{"owner": {"reputation": 1981, "user_id": 618490, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/244dd40ac73e282859bb528d2411431f?s=128&d=identicon&r=PG", "display_name": "makoshichi", "link": "https://stackoverflow.com/users/618490/makoshichi"}, "edited": false, "score": 0, "creation_date": 1540981902, "post_id": 47698521, "comment_id": 93059598, "body": "&quot;Remember back when you just added a package with NuGet, and everything just worked? Sigh...&quot; Yes, and I sorely miss those days"}], "tags": [], "owner": {"reputation": 389, "user_id": 3709064, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/abe4484ad88ade8482c96cb550df18cb?s=128&d=identicon&r=PG&f=1", "display_name": "JRS", "link": "https://stackoverflow.com/users/3709064/jrs"}, "is_accepted": false, "score": 1, "last_activity_date": 1547293940, "last_edit_date": 1547293940, "creation_date": 1512660808, "answer_id": 47698521, "question_id": 47684247, "link": "https://stackoverflow.com/questions/47684247/visual-studio-2017-net-core-2-0-angular-publish-fails/47698521#47698521", "title": "Visual Studio 2017 .Net Core 2.0 Angular Publish Fails", "body": "<p>I found a solution for this problem (which sadly just led to another, but...).</p>\n\n<p>I believe that this was/is a bug in the version of NPM which I was using. I had npm version 5.0.3 installed. After hours of searching, I came across this GitHub discussion: <a href=\"https://github.com/npm/npm/issues/16839\" rel=\"nofollow noreferrer\">here</a> in which many people complained about the npm install command actually removing modules. I downgraded my npm instance from 5.0.3 to 3.10.3 (which is what my home environment was using), and I found that the packages were no longer removed. (Why anybody would write something that would remove packages with a command like \"npm install\" is utterly beyond me, but read the linked article and you will see the frustration this has caused!)</p>\n\n<p>As a .Net developer, of course, I did not even know how to downgrade my npm instance, so I had to look that up. For those who might be helped, the command is: npm install -g npm@3.10.3. I found that <a href=\"https://github.com/expo/expo/issues/297\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>So, now my publish process runs without deleting packages, which is what I asked about in my question. That issue is resolved, so I am treating this as an answer.</p>\n\n<p>But this is not to say that the downgrade solved all of my problems. When I attempted to publish, I got new errors, which I think are unrelated to the npm version:</p>\n\n<p>Can't resolve './../$$_gendir/ClientApp/app/app.module.browser.ngfactory' in 'C:\\Projects\\ForthrightProjects\\CaseManagementReporting\\CaseManagementReporting\\ClientApp' CaseManagementReporting Module not found    0   </p>\n\n<p>Can't resolve './../$$_gendir/ClientApp/app/app.module.server.ngfactory' in 'C:\\Projects\\ForthrightProjects\\CaseManagementReporting\\CaseManagementReporting\\ClientApp'  CaseManagementReporting Module not found    0 </p>\n\n<p>Yet more Googling found this article: <a href=\"https://github.com/aspnet/JavaScriptServices/issues/1168\" rel=\"nofollow noreferrer\">here</a>\nwhich suggests commenting out this line in the webpack.config.js file:</p>\n\n<p>// { test: /.ts$/, include: /ClientApp/, use: isDevBuild ? ['awesome-typescript-loader?silent=true', 'angular2-template-loader'] : '@ngtools/webpack' },</p>\n\n<p>Or, alternatively, changing it to this:\n{ test: /.ts$/, include: /ClientApp/, use: ['awesome-typescript-loader?silent=true', 'angular2-template-loader'] },</p>\n\n<p>I tried both options, and both of them worked to get past the errors above. HOWEVER, I now am faced with yet another error in attempting to publish:\nERROR in Metadata version mismatch for module: C:/Projects/ForthrightProjects/CaseManagementReporting/CaseManagementReporting/node_modules/primeng/components/dom/domhandler.d.ts, found version 4, expected 3</p>\n\n<p>So, after some additional searching and trials and errors, I came across this link: <a href=\"https://github.com/primefaces/primeng/issues/4401\" rel=\"nofollow noreferrer\">here</a>\nOne of the suggestions there was to change the primeng entry in the project.json file to this: \"primeng\": \"^4.2.4\"</p>\n\n<p>Amazingly enough, this actually worked. I am now able to publish. Hopefully successful deployment of the published files will not be so terribly painful.</p>\n\n<p>To .Net developers: Remember back when you just added a package with NuGet, and everything just worked? <em>Sigh...</em></p>\n"}], "owner": {"reputation": 389, "user_id": 3709064, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/abe4484ad88ade8482c96cb550df18cb?s=128&d=identicon&r=PG&f=1", "display_name": "JRS", "link": "https://stackoverflow.com/users/3709064/jrs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547293940, "creation_date": 1512598036, "last_edit_date": 1512600444, "question_id": 47684247, "link": "https://stackoverflow.com/questions/47684247/visual-studio-2017-net-core-2-0-angular-publish-fails", "title": "Visual Studio 2017 .Net Core 2.0 Angular Publish Fails", "body": "<p>I am running a Windows 7 Professional PC, using Visual Studio 2017 version 15.4.5. When I created a .Net Core 2.0 project and selected the type of Angular, it ran fine out of the box.</p>\n\n<p>Then I added font awesome and primeng (<a href=\"https://www.primefaces.org/primeng/#/\" rel=\"nofollow noreferrer\">https://www.primefaces.org/primeng/#/</a>) in what I think is the standard way, i.e., adding references to the package.json file, then to the nonTreeShakableModules section of the webpack.config.vendor.js file, then adding modules to app.module.shared.ts. This was primeng version 5.0.2 and font-awesome version 4.7.0.</p>\n\n<p>In development, all is good - everything is running fine. However, when I try to publish, I see the following lines in the Output window:</p>\n\n<blockquote>\n<pre><code>npm install\nremoved 3 packages in 3.389s\nnode node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js --env.prod\n</code></pre>\n</blockquote>\n\n<p>What? Why would it <strong>remove 3 packages</strong>?</p>\n\n<p>And then the publish attempt fails. After the failure, I see that 3 of my npm packages have been UNINSTALLED:\n1) @types/jquery\n2) font-awesome\n3) primeng</p>\n\n<p>And I see a bunch of \"Module not found\" errors - of course they are not found, because they were just <em>removed!</em></p>\n\n<p>I looked at the .csproj file, and I see the following:</p>\n\n<pre><code>&lt;Target Name=\"PublishRunWebpack\" AfterTargets=\"ComputeFilesToPublish\"&gt;\n    &lt;!-- As part of publishing, ensure the JS resources are freshly built in production mode --&gt;\n    &lt;Exec Command=\"npm install\" /&gt;\n    &lt;Exec Command=\"node node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js --env.prod\" /&gt;\n    &lt;Exec Command=\"node node_modules/webpack/bin/webpack.js --env.prod\" /&gt;\n</code></pre>\n\n<p>So, as far as I can tell, the \"npm install\" command, or something triggered by that command, is removing these modules. I have to re-install them after every Publish attempt.</p>\n\n<p>So, my question: Why are these packages being removed, and what can I do about it?</p>\n\n<p>My package.json file:</p>\n\n<pre><code>{\n    \"name\": \"CaseManagementReporting\",\n    \"private\": true,\n    \"version\": \"0.0.0\",\n    \"scripts\": {\n        \"test\": \"karma start ClientApp/test/karma.conf.js\"\n    },\n    \"dependencies\": {\n        \"@angular/animations\": \"4.2.5\",\n        \"@angular/common\": \"4.2.5\",\n        \"@angular/compiler\": \"4.2.5\",\n        \"@angular/compiler-cli\": \"4.2.5\",\n        \"@angular/core\": \"4.2.5\",\n        \"@angular/forms\": \"4.2.5\",\n        \"@angular/http\": \"4.2.5\",\n        \"@angular/platform-browser\": \"4.2.5\",\n        \"@angular/platform-browser-dynamic\": \"4.2.5\",\n        \"@angular/platform-server\": \"4.2.5\",\n        \"@angular/router\": \"4.2.5\",\n        \"@ngtools/webpack\": \"1.5.0\",\n        \"@types/webpack-env\": \"1.13.0\",\n        \"angular2-template-loader\": \"0.6.2\",\n        \"aspnet-prerendering\": \"^3.0.1\",\n        \"aspnet-webpack\": \"^2.0.1\",\n        \"awesome-typescript-loader\": \"3.2.1\",\n        \"bootstrap\": \"3.3.7\",\n        \"css\": \"2.2.1\",\n        \"css-loader\": \"0.28.4\",\n        \"es6-shim\": \"0.35.3\",\n        \"event-source-polyfill\": \"0.0.9\",\n        \"expose-loader\": \"0.7.3\",\n        \"extract-text-webpack-plugin\": \"2.1.2\",\n        \"file-loader\": \"0.11.2\",\n        \"font-awesome\": \"4.7.0\",\n        \"html-loader\": \"0.4.5\",\n        \"isomorphic-fetch\": \"2.2.1\",\n        \"jquery\": \"3.2.1\",\n        \"json-loader\": \"0.5.4\",\n        \"preboot\": \"4.5.2\",\n        \"primeng\": \"5.0.2\",\n        \"raw-loader\": \"0.5.1\",\n        \"reflect-metadata\": \"0.1.10\",\n        \"rxjs\": \"5.4.2\",\n        \"style-loader\": \"0.18.2\",\n        \"to-string-loader\": \"1.1.5\",\n        \"typescript\": \"2.4.1\",\n        \"url-loader\": \"0.5.9\",\n        \"webpack\": \"2.5.1\",\n        \"webpack-hot-middleware\": \"2.18.2\",\n        \"webpack-merge\": \"4.1.0\",\n        \"zone.js\": \"0.8.12\"\n    },\n    \"devDependencies\": {\n        \"@types/chai\": \"4.0.1\",\n        \"@types/jasmine\": \"2.5.53\",\n        \"@types/jquery\": \"3.2.1\",\n        \"chai\": \"4.0.2\",\n        \"jasmine-core\": \"2.6.4\",\n        \"karma\": \"1.7.0\",\n        \"karma-chai\": \"0.1.0\",\n        \"karma-chrome-launcher\": \"2.2.0\",\n        \"karma-cli\": \"1.0.1\",\n        \"karma-jasmine\": \"1.1.0\",\n        \"karma-webpack\": \"2.0.3\"\n    }\n}\n</code></pre>\n\n<p>My tsconfig.json file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es5\",\n    \"sourceMap\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"skipDefaultLibCheck\": true,\n    \"skipLibCheck\": true, // Workaround for https://github.com/angular/angular/issues/17863. Remove this if you upgrade to a fixed version of Angular.\n    \"strict\": true,\n    \"lib\": [ \"es6\", \"dom\" ],\n    \"types\": [ \"webpack-env\", \"jquery\" ]\n  },\n  \"exclude\": [ \"bin\", \"node_modules\" ],\n  \"atom\": { \"rewriteTsconfig\": false }\n}\n</code></pre>\n\n<p>My webpack.config.vendor.js file:</p>\n\n<pre><code>const path = require('path');\nconst webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst merge = require('webpack-merge');\nconst treeShakableModules = [\n    '@angular/animations',\n    '@angular/common',\n    '@angular/compiler',\n    '@angular/core',\n    '@angular/forms',\n    '@angular/http',\n    '@angular/platform-browser',\n    '@angular/platform-browser-dynamic',\n    '@angular/router',\n    'zone.js'\n];\n\nconst nonTreeShakableModules = [\n    'bootstrap',\n    'bootstrap/dist/css/bootstrap.css',\n    'es6-promise',\n    'es6-shim',\n    'event-source-polyfill',\n    'jquery',\n    'font-awesome/css/font-awesome.css',\n    'primeng/resources/themes/bootstrap/theme.css',\n    'primeng/resources/primeng.min.css',\n    'primeng/primeng'\n];\nconst allModules = treeShakableModules.concat(nonTreeShakableModules);\n\nmodule.exports = (env) =&gt; {\n    const extractCSS = new ExtractTextPlugin('vendor.css');\n    const isDevBuild = !(env &amp;&amp; env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        resolve: { extensions: [ '.js' ] },\n        module: {\n            rules: [\n                { test: /\\.(png|woff|woff2|eot|ttf|svg|jpg|jpeg|gif)(\\?|$)/, use: 'url-loader?limit=100000' }\n            ]\n        },\n        output: {\n            publicPath: 'dist/',\n            filename: '[name].js',\n            library: '[name]_[hash]'\n        },\n        plugins: [\n            new webpack.ProvidePlugin({ $: 'jquery', jQuery: 'jquery' }), // Maps these identifiers to the jQuery package (because Bootstrap expects it to be a global variable)\n            new webpack.ContextReplacementPlugin(/\\@angular\\b.*\\b(bundles|linker)/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/11580\n            new webpack.ContextReplacementPlugin(/angular(\\\\|\\/)core(\\\\|\\/)@angular/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/14898\n            new webpack.IgnorePlugin(/^vertx$/) // Workaround for https://github.com/stefanpenner/es6-promise/issues/100\n        ]\n    };\n\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: {\n            // To keep development builds fast, include all vendor dependencies in the vendor bundle.\n            // But for production builds, leave the tree-shakable ones out so the AOT compiler can produce a smaller bundle.\n            vendor: isDevBuild ? allModules : nonTreeShakableModules\n        },\n        output: { path: path.join(__dirname, 'wwwroot', 'dist') },\n        module: {\n            rules: [\n                { test: /\\.css(\\?|$)/, use: extractCSS.extract({ use: isDevBuild ? 'css-loader' : 'css-loader?minimize' }) }\n            ]\n        },\n        plugins: [\n            extractCSS,\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'wwwroot', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ].concat(isDevBuild ? [] : [\n            new webpack.optimize.UglifyJsPlugin()\n        ])\n    });\n\n    const serverBundleConfig = merge(sharedConfig, {\n        target: 'node',\n        resolve: { mainFields: ['main'] },\n        entry: { vendor: allModules.concat(['aspnet-prerendering']) },\n        output: {\n            path: path.join(__dirname, 'ClientApp', 'dist'),\n            libraryTarget: 'commonjs2',\n        },\n        module: {\n            rules: [\n                { test: /\\.css(\\?|$)/, use: ['to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize'] }\n            ]\n        },\n        plugins: [\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'ClientApp', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ]\n    });\n\n    return [clientBundleConfig, serverBundleConfig];\n}\n</code></pre>\n\n<p>My webpack.config.js file:</p>\n\n<pre><code>const path = require('path');\nconst webpack = require('webpack');\nconst merge = require('webpack-merge');\nconst AotPlugin = require('@ngtools/webpack').AotPlugin;\nconst CheckerPlugin = require('awesome-typescript-loader').CheckerPlugin;\n\nmodule.exports = (env) =&gt; {\n    // Configuration in common to both client-side and server-side bundles\n    const isDevBuild = !(env &amp;&amp; env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        context: __dirname,\n        resolve: { extensions: [ '.js', '.ts' ] },\n        output: {\n            filename: '[name].js',\n            publicPath: 'dist/' // Webpack dev middleware, if enabled, handles requests for this URL prefix\n        },\n        module: {\n            rules: [\n                { test: /\\.ts$/, include: /ClientApp/, use: isDevBuild ? ['awesome-typescript-loader?silent=true', 'angular2-template-loader'] : '@ngtools/webpack' },\n                { test: /\\.html$/, use: 'html-loader?minimize=false' },\n                { test: /\\.css$/, use: [ 'to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize' ] },\n                { test: /\\.(png|jpg|jpeg|gif|svg)$/, use: 'url-loader?limit=25000' }\n            ]\n        },\n        plugins: [new CheckerPlugin()]\n    };\n\n    // Configuration for client-side bundle suitable for running in browsers\n    const clientBundleOutputDir = './wwwroot/dist';\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: { 'main-client': './ClientApp/boot.browser.ts' },\n        output: { path: path.join(__dirname, clientBundleOutputDir) },\n        plugins: [\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./wwwroot/dist/vendor-manifest.json')\n            })\n        ].concat(isDevBuild ? [\n            // Plugins that apply in development builds only\n            new webpack.SourceMapDevToolPlugin({\n                filename: '[file].map', // Remove this line if you prefer inline source maps\n                moduleFilenameTemplate: path.relative(clientBundleOutputDir, '[resourcePath]') // Point sourcemap entries to the original file locations on disk\n            })\n        ] : [\n            // Plugins that apply in production builds only\n            new webpack.optimize.UglifyJsPlugin(),\n            new AotPlugin({\n                tsConfigPath: './tsconfig.json',\n                entryModule: path.join(__dirname, 'ClientApp/app/app.module.browser#AppModule'),\n                exclude: ['./**/*.server.ts']\n            })\n        ])\n    });\n\n    // Configuration for server-side (prerendering) bundle suitable for running in Node\n    const serverBundleConfig = merge(sharedConfig, {\n        resolve: { mainFields: ['main'] },\n        entry: { 'main-server': './ClientApp/boot.server.ts' },\n        plugins: [\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./ClientApp/dist/vendor-manifest.json'),\n                sourceType: 'commonjs2',\n                name: './vendor'\n            })\n        ].concat(isDevBuild ? [] : [\n            // Plugins that apply in production builds only\n            new AotPlugin({\n                tsConfigPath: './tsconfig.json',\n                entryModule: path.join(__dirname, 'ClientApp/app/app.module.server#AppModule'),\n                exclude: ['./**/*.browser.ts']\n            })\n        ]),\n        output: {\n            libraryTarget: 'commonjs',\n            path: path.join(__dirname, './ClientApp/dist')\n        },\n        target: 'node',\n        devtool: 'inline-source-map'\n    });\n\n    return [clientBundleConfig, serverBundleConfig];\n};\n</code></pre>\n"}, {"tags": ["c++", "input", "stream", "getline"], "comments": [{"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512597383, "post_id": 47684046, "comment_id": 82327799, "body": "Getline allows you to get a string till the \\n character on a stream or overload to what character it goes to."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512597507, "post_id": 47684046, "comment_id": 82327851, "body": "Also your current code with getline would not work."}, {"owner": {"reputation": 1, "user_id": 9064246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbff0799ee38aeaf4402cc9939ccd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Grappuccino", "link": "https://stackoverflow.com/users/9064246/grappuccino"}, "reply_to_user": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512597546, "post_id": 47684046, "comment_id": 82327877, "body": "is that because it has location, month, year, temp and can only take 1 extra argument"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512597591, "post_id": 47684046, "comment_id": 82327895, "body": "The syntax is getline(stream, string) or getline(stream, string, char)"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1512597656, "post_id": 47684046, "comment_id": 82327930, "body": "<code>getline</code>, as the name suggests, <b>gets</b> a <b>line</b>. Typically, you read a line into a string, then create a <code>std::istringstream</code> from that string, and use extractors to get the values from the string; repeat until done."}, {"owner": {"reputation": 1, "user_id": 9064246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbff0799ee38aeaf4402cc9939ccd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Grappuccino", "link": "https://stackoverflow.com/users/9064246/grappuccino"}, "edited": false, "score": 0, "creation_date": 1512598941, "post_id": 47684046, "comment_id": 82328478, "body": "so would i want to use getline, then seperate the values by the spaces then check to see if there are 4, and then convert them to int?"}], "answers": [{"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1512600767, "creation_date": 1512600767, "answer_id": 47684850, "question_id": 47684046, "link": "https://stackoverflow.com/questions/47684046/more-depth-on-how-getline-works/47684850#47684850", "title": "More Depth on how getline works", "body": "<p><a href=\"http://www.cplusplus.com/reference/string/string/getline/\" rel=\"nofollow noreferrer\"><code>getline()</code></a> reads a full line from an <code>istream</code>. Your loop would look like:  </p>\n\n<pre><code>string line;  \nwhile (getline(file,line)) {\n    // parse the string in line to extract the compnents\n    ... \n}\n</code></pre>\n\n<p>One way to decompose <code>line</code> is to use a <a href=\"http://www.cplusplus.com/reference/sstream/stringstream/?kw=stringstream\" rel=\"nofollow noreferrer\"><code>stringstream</code></a>:  </p>\n\n<pre><code>    stringstream is(line);  \n    is &gt;&gt; location &gt;&gt; year &gt;&gt; month &gt;&gt; temp; \n</code></pre>\n\n<p>If an error would happen in the format of the line, the state of <code>is</code> would be changed accordingly. </p>\n"}], "owner": {"reputation": 1, "user_id": 9064246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbff0799ee38aeaf4402cc9939ccd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Grappuccino", "link": "https://stackoverflow.com/users/9064246/grappuccino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512600798, "creation_date": 1512597145, "last_edit_date": 1512600798, "question_id": 47684046, "link": "https://stackoverflow.com/questions/47684046/more-depth-on-how-getline-works", "title": "More Depth on how getline works", "body": "<p>So for example if I had a .dat file like this </p>\n\n<pre><code>410000 1905 7 50\n410001 2015 3 25 \n410023 1857 12 -25\n</code></pre>\n\n<p>I am trying to figure out how to store these numbers into a linked list, which i understand the linked list, but on cases where the .dat might look like</p>\n\n<pre><code>410000 1905 7 50\n410001 2015 3 25 \n410023 1857 12 \n</code></pre>\n\n<p>where the last line only has 3 values, I am not quite sure how to get those values. what i originally had was. </p>\n\n<pre><code>while(filename &gt;&gt; location &gt;&gt; year &gt;&gt; month &gt;&gt; temp) \n</code></pre>\n\n<p>but i was wondering if there were only 3 values on that line, would i get an error or would the temp value be taken off the next line, and since I did not think that would work, i wondered how getline works, and so I thought that maybe i could try </p>\n\n<pre><code>while ( getline(filename,location,year,month,temp)) \n</code></pre>\n\n<p>and i was wondering what would happen if that while loop hit the line with 3 values instead of 4. \nSo if anyone could possibly explain how I could get around the problem, any help is appreciated.</p>\n\n<p>If there are only 3 values on a line i must tell the user there is an error, but keep checking all the other values, i cannot just return 0; and exit the program. </p>\n"}, {"tags": ["javascript", "c++", "ios"], "answers": [{"tags": [], "owner": {"reputation": 9434, "user_id": 528720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpqMk.png?s=128&g=1", "display_name": "&#214;&#246; Tiib", "link": "https://stackoverflow.com/users/528720/%c3%96%c3%b6-tiib"}, "is_accepted": true, "score": 1, "last_activity_date": 1512632975, "creation_date": 1512632975, "answer_id": 47690083, "question_id": 47684001, "link": "https://stackoverflow.com/questions/47684001/how-do-i-create-a-c-callback-invoked-from-javascript-using-javascriptcore-on-i/47690083#47690083", "title": "How do I create a C++ callback invoked from JavaScript using JavaScriptCore on iOS?", "body": "<p>It is easiest to do with <a href=\"https://developer.apple.com/documentation/javascriptcore/1451336-jsobjectmakefunctionwithcallback?language=objc\" rel=\"nofollow noreferrer\">JSObjectMakeFunctionWithCallback</a> to what you can provide <a href=\"https://developer.apple.com/documentation/javascriptcore/jsobjectcallasfunctioncallback?language=objc\" rel=\"nofollow noreferrer\">JSObjectCallAsFunctionCallback</a> declared by you that then calls your C++ functions. Then you can call the callback in JavaScript code by name that you gave to it in JSObjectMakeFunctionWithCallback.</p>\n\n<p>Also note that you should not perhaps use the very thing like ...</p>\n\n<pre><code>JSGlobalContextRef globalContext =\n                   JSGlobalContextCreateInGroup(JSContextGroupCreate(), nullptr);\n</code></pre>\n\n<p>... because that way you leak the group (result of <code>JSContextGroupCreate()</code>). I try to fabricate example OSX code (no time to test it):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;JavaScriptCore/JavaScriptCore.h&gt;\n\nJSValueRef HelloCallback( JSContextRef ctx             \n                        , JSObjectRef function         \n                        , JSObjectRef thisObject       \n                        , size_t argumentCount         \n                        , const JSValueRef arguments[] \n                        , JSValueRef* exception)       \n{\n    // here do the C++ stuff\n    std::cout &lt;&lt; \"Hello World\" &lt;&lt; std::endl;\n    return JSValueMakeUndefined(ctx);\n}\n\nint main(int argc, const char * argv[]) \n{\n    // bad raw opaque pointers TODO: manage with smart pointers \n    JSContextGroupRef group = JSContextGroupCreate();\n    JSGlobalContextRef globalContext = JSGlobalContextCreateInGroup(group, nullptr);\n    JSObjectRef globalObject = JSContextGetGlobalObject(globalContext);\n    JSStringRef helloFunctionName = JSStringCreateWithUTF8CString(\"hello\");\n\n    // make function object\n    JSObjectRef functionObject = JSObjectMakeFunctionWithCallback( globalContext\n                                                         , helloFunctionName\n                                                         , &amp;HelloCallback);\n    // set it as proprty of global object\n    JSObjectSetProperty( globalContext\n                       , globalObject\n                       , helloFunctionName\n                       , functionObject\n                       , kJSPropertyAttributeNone\n                       , nullptr );\n\n    // make javascript\n    JSStringRef statement = JSStringCreateWithUTF8CString(\"hello()\");\n    // evaluate it\n    JSEvaluateScript( globalContext\n                    , statement\n                    , nullptr\n                    , nullptr\n                    , 1\n                    , nullptr );\n\n    // manual raw pointer management ... hopefully did not forget any\n    JSGlobalContextRelease(globalContext);\n    JSContextGroupRelease(group);\n    JSStringRelease(helloFunctionName);\n    JSStringRelease(statement);\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3338, "user_id": 1284353, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PZ8tK.jpg?s=128&g=1", "display_name": "Kirby", "link": "https://stackoverflow.com/users/1284353/kirby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 47690083, "answer_count": 1, "score": 0, "last_activity_date": 1512632975, "creation_date": 1512596916, "question_id": 47684001, "link": "https://stackoverflow.com/questions/47684001/how-do-i-create-a-c-callback-invoked-from-javascript-using-javascriptcore-on-i", "title": "How do I create a C++ callback invoked from JavaScript using JavaScriptCore on iOS?", "body": "<p>I'm using JavaScript core to facilitate communication between C++ and JavaScript for an iOS project I'm working on.  The following works to invoke a javascript function from C++:</p>\n\n<pre><code>#include &lt;JavaScriptCore/JavaScriptCore.h&gt;\n\nvoid myCPPFunction()\n{\n    JSGlobalContextRef globalContext = \n    JSGlobalContextCreateInGroup(JSContextGroupCreate(), nullptr);\n    auto funcOutput = JSEvaluateScript(globalContext,\n        JSStringCreateWithUTF8CString((\"function test() { \n            return 'hi'; } test();\", nullptr, nullptr, 1, nullptr);\n\n    // funcOutput now contains a JSValue containing the \n    // return value of the function ('hi').\n\n}\n</code></pre>\n\n<p>Now, I want to invoke a C++ function from the JavaScript.  For example, if I have a C++ function defined as follows:</p>\n\n<pre><code>double myCPPCallback(unsigned long x)\n{\n    // do stuff\n}\n</code></pre>\n\n<p>How do I invoke this C++ code from the JavaScript I'm currently running with <code>JSEvaluateScript</code>?</p>\n"}, {"tags": ["c++", "pthreads"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1512597061, "post_id": 47683964, "comment_id": 82327652, "body": "Note that pthreads is a POSIX thing, not a C++ thing. The C++ standard doesn&#39;t say anything about how this code should work."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512597232, "post_id": 47683964, "comment_id": 82327732, "body": "Yes, your code starts a thread. And it will run until it exits, or your process terminates. Why do you think that it doesn&#39;t run?"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512597723, "post_id": 47683964, "comment_id": 82327959, "body": "1) use <code>std::thread</code> not posix threads. 2) you are using threads: be very, very afraid. 3) you are using threads: you have bugs (unless you are one of a very small group of experts). 4) you don&#39;t yet know what pain those threads will cause you down the line. - threads are <i>hard</i> to get correct."}, {"owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "edited": false, "score": 0, "creation_date": 1512598271, "post_id": 47683964, "comment_id": 82328190, "body": "True. But threads are 1) necessary, 2) fast and 3) fun :)"}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1512598385, "post_id": 47683964, "comment_id": 82328233, "body": "@JesperJuhl: you overdramatize a little bit. Threads + mutexes are not that hard. What&#39;s hard is lockless programming."}, {"owner": {"reputation": 157, "user_id": 595466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21cf52f4280b28efb01abbe97bc2282f?s=128&d=identicon&r=PG", "display_name": "campana", "link": "https://stackoverflow.com/users/595466/campana"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1512655669, "post_id": 47683964, "comment_id": 82353388, "body": "@PeteBecker Absolutely right - I guess the intent was how to check in c++."}, {"owner": {"reputation": 157, "user_id": 595466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21cf52f4280b28efb01abbe97bc2282f?s=128&d=identicon&r=PG", "display_name": "campana", "link": "https://stackoverflow.com/users/595466/campana"}, "reply_to_user": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512655699, "post_id": 47683964, "comment_id": 82353405, "body": "@geza I do prints, etc, it always runs, but just wanted to doubly be sure that the rest of the code waits at least until the thread is running."}, {"owner": {"reputation": 157, "user_id": 595466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21cf52f4280b28efb01abbe97bc2282f?s=128&d=identicon&r=PG", "display_name": "campana", "link": "https://stackoverflow.com/users/595466/campana"}, "edited": false, "score": 0, "creation_date": 1512655737, "post_id": 47683964, "comment_id": 82353424, "body": "At all - Thanks for good input!"}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512659313, "post_id": 47683964, "comment_id": 82355874, "body": "@campana: I don&#39;t know what you mean. If a thread still runs, and your process exists (returns from main), all your threads will be destroyed (won&#39;t be waited until they exit)"}], "answers": [{"tags": [], "owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "is_accepted": false, "score": 0, "last_activity_date": 1512598468, "creation_date": 1512598468, "answer_id": 47684333, "question_id": 47683964, "link": "https://stackoverflow.com/questions/47683964/c-pthread-t-how-can-i-ensure-that-it-has-started/47684333#47684333", "title": "c++ pthread_t: how can I ensure that it has started?", "body": "<p>This is the declaration of <code>pthread_create</code> :</p>\n\n<pre><code>int pthread_create(pthread_t *thread, const pthread_attr_t *attr,\n                          void *(*start_routine) (void *), void *arg);\n</code></pre>\n\n<p><code>pthread_create</code> returns an <code>&lt;errno.h&gt;</code> code :</p>\n\n<p>On success, <code>pthread_create()</code> returns <code>0;</code> on error, it returns an <code>error</code>\n       number, and the contents of <code>*thread</code> are undefined.</p>\n"}], "owner": {"reputation": 157, "user_id": 595466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21cf52f4280b28efb01abbe97bc2282f?s=128&d=identicon&r=PG", "display_name": "campana", "link": "https://stackoverflow.com/users/595466/campana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512598468, "creation_date": 1512596733, "question_id": 47683964, "link": "https://stackoverflow.com/questions/47683964/c-pthread-t-how-can-i-ensure-that-it-has-started", "title": "c++ pthread_t: how can I ensure that it has started?", "body": "<p>I haven't worked with threads a lot, but wondering how I can ensure that a thread has started (it will run until the system shuts down, I'm just using the default attributes on create).</p>\n\n<p>I've googled this, but there's nothing for threads that won't terminate, have a thread_join waiting for them - I don't need or want to wait for it to terminate.</p>\n\n<pre><code>pthread_attr_t attr = { 0 };\npthread_t TID = 0;\npthread_attr_init(&amp;attr);\nif (!pthread_create(&amp;TID, &amp;attrSys, &amp;threadProcess, NULL))\n    std::cout &lt;&lt; \"Error on thread create.\" &lt;&lt; std::endl;\n</code></pre>\n\n<p>Is that enough to guarantee that the thread has actually started? I've looked at TID.joinable (which my compiler complained about), trying pthread_kill and looking for an error (but that was discounted due to the unreliability of the thread id in some cases).</p>\n\n<p>Thanks so much.</p>\n"}, {"tags": ["c++", "winapi", "exception", "com", "throw"], "comments": [{"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1513281978, "post_id": 47683878, "comment_id": 82604942, "body": "Did you get anywhere with this?"}, {"owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1513381227, "post_id": 47683878, "comment_id": 82646615, "body": "@MichaelGunter, I still didn&#39;t implement a 100% correct solution (possibly starting with your code), but since my needs are simply dealing with system COM objects, the approach I wrote in the question just works, I ran several tests. I plan to go deeper on this as soon as I find time."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1512598249, "post_id": 47684128, "comment_id": 82328179, "body": "It&#39;s important to note, that you <b>must not</b> pass an <code>HRESULT</code> when using the <code>std::system_category</code> as the context. That category is meant for use with error codes returned by <code>GetLastError</code>. For example, if you pass the COM success code <code>S_FALSE</code>, it would get interpreted as <code>ERROR_INVALID_FUNCTION</code>. Information on how to implement your custom <code>error_category</code> can be found at <a href=\"http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-4.html\" rel=\"nofollow noreferrer\">System error support in C++0x - part 4</a>."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1512632789, "post_id": 47684128, "comment_id": 82338981, "body": "@IInspectable <code>S_FALSE</code> is not a good example, because it is not an error code. So there is no reason to throw it. The <i>error</i> values which a <code>HRESULT</code> can represent do not overlap with the error codes returned by <code>GetLastError</code>, because <code>HRESULT</code> errors are always negative. So in my opinion a special category for <code>HRESULT</code> is not required aslong as you only throw values for which <code>FAILED(hr)==true</code>."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1512636306, "post_id": 47684128, "comment_id": 82340761, "body": "@zett42: That depends on your code logic. A successful COM call can yield a condition, from which you cannot recover, and need to throw. Even if that weren&#39;t the case, you still need a custom error category to produce error messages. While <code>FormatMessage</code> can be used with system-defined <code>HRESULT</code> values, things look different when you deal with customer-defined codes. You need additional information to turn those into error messages, namely the module handle. That needs to be encoded in the category, since you cannot pass additional information alongside the error code."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1539771581, "post_id": 47684128, "comment_id": 92620346, "body": "Found another reason to create a dedicated <code>error_category</code> for <code>HRESULT</code>: to be able to examine error codes in a generic way. E. g. the following doesn&#39;t work: <code>std::error_code e(HRESULT_FROM_WIN32(ERROR_FILE_NOT_FOUND), std::system_category()); if(e == std::errc::no_such_file_or_directory){&#47;*do something*&#47;}</code>. This could be solved by overriding <code>std::error_category::default_error_condition()</code> in a derived class."}], "tags": [], "owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "is_accepted": false, "score": 4, "last_activity_date": 1512597510, "creation_date": 1512597510, "answer_id": 47684128, "question_id": 47683878, "link": "https://stackoverflow.com/questions/47683878/how-to-throw-an-stdsystem-error-exception-from-a-failedhresult/47684128#47684128", "title": "How to throw an std::system_error exception from a FAILED(HRESULT)?", "body": "<p>Typically, I handle this using the Microsoft standard <code>_com_error</code> exception type, which can be easily raised by one of the following.</p>\n\n<pre><code>_com_util::CheckError(hr); // throws when FAILED(hr)\n_com_issue_error(hr); // throws always\n</code></pre>\n\n<p>A Win32 error can be converted to an <code>HRESULT</code> like so:</p>\n\n<pre><code>hr = HRESULT_FROM_WIN32(GetLastError());\n</code></pre>\n\n<p>However, this means that you have to deal with a new exception type, which may be problematic. To do this the pure STL way, I think you need to derive a new <code>error_category</code> and use that instead of <code>system_category</code>. I would look at the <code>&lt;system_error&gt;</code> header and copy the implementation of <code>system_category</code>, updating as necessary for <code>HRESULT</code>s.</p>\n\n<p>Ideally, the different <a href=\"https://msdn.microsoft.com/en-us/library/cc231198.aspx\" rel=\"nofollow noreferrer\">facility codes</a> in the <code>HRESULT</code> would be served by different <code>error_category</code> implementations -- doing so would very effectively communicate the exception and its source. But that is tricky, and you can probably get away with a single <code>com_category</code> that deals with <code>HRESULT</code>s generically.</p>\n"}], "owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1555, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1512597510, "creation_date": 1512596358, "question_id": 47683878, "link": "https://stackoverflow.com/questions/47683878/how-to-throw-an-stdsystem-error-exception-from-a-failedhresult", "title": "How to throw an std::system_error exception from a FAILED(HRESULT)?", "body": "<p>This is <a href=\"https://stackoverflow.com/a/15855015/6923555\">how to throw</a> ordinary Win32 errors correctly, automatically retrieving the error description, and it works marvellously well:</p>\n\n<pre><code>if (!SomeWinFunc()) {\n  throw std::system_error(GetLastError(),\n    std::system_category(),\n    \"SomeWinFunc crashed badly\");\n}\n</code></pre>\n\n<p>However, I'm uncertain on how to deal with COM errors, which are checked <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms693474(v=vs.85).aspx\" rel=\"nofollow noreferrer\">idiomatically</a> like this:</p>\n\n<pre><code>HRESULT hr = comObj-&gt;SomeFunc();\nif (FAILED(hr)) {\n  throw std::system_error(hr, // &lt;-- is it correct here?\n    std::system_category(),\n    \"SomeFunc crashed right now\");\n}\n</code></pre>\n\n<p>Is it correct to pass an <code>HRESULT</code> to <code>system_error</code>, or there is another way to throw exceptions from a COM function?</p>\n"}, {"tags": ["c++", "compiler-errors", "compilation"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1512595939, "post_id": 47683654, "comment_id": 82327086, "body": "That&#39;s sub-optimal to read. Please work on your formatting/indentation."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1512596313, "post_id": 47683654, "comment_id": 82327283, "body": "Works fine here with input <code>1 2 3 4 5 0</code>, except that the terminating 0 is also enqueued,"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1512596919, "post_id": 47683654, "comment_id": 82327593, "body": "<i>I am getting no errors but when I run the code nothing happens</i> -- When something like this happens, take a step back and strip your code down to make sure you are getting input.  Then add code until you are not able to get input.  But that begs the question -- you added all of this code all at once without running it, i.e. develop incrementally?"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1512598550, "post_id": 47683654, "comment_id": 82328295, "body": "This is what a debugger is for.  Hardly what SO is for."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 8909872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171b2deb6da24a8ebf58f4e4346e47da?s=128&d=identicon&r=PG", "display_name": "C3H8", "link": "https://stackoverflow.com/users/8909872/c3h8"}, "is_accepted": false, "score": 1, "last_activity_date": 1512597848, "creation_date": 1512597848, "answer_id": 47684204, "question_id": 47683654, "link": "https://stackoverflow.com/questions/47683654/code-gives-no-errors-but-does-nothing-in-command-prompt/47684204#47684204", "title": "Code Gives No Errors but Does Nothing in Command Prompt", "body": "<p>I suspect you're just not executing your code. It compiles and runs.</p>\n\n<p>You're compiling the program (not executing it) with:</p>\n\n<pre><code>g++ -o ehQue ehQue.cpp\n</code></pre>\n\n<p>The command can be understood as calling the program \"g++\" which should be just an alias to \"gcc\" which is the compiler. It takes sources code and produces object code, which is then linked to produce an executable binary (program.)</p>\n\n<pre><code>-o ehQue\n</code></pre>\n\n<p>Is the command parameter to specify the output file name. The compiler will take the provided files and (attempt to) produce a working executable called \"ehQue\".</p>\n\n<pre><code>ehQue.cpp\n</code></pre>\n\n<p>Is your source code, which you specified to the compiler.</p>\n\n<p>Within your terminal (where you typed the g++ command) you will, also, need to call the program using a command such as:</p>\n\n<pre><code>./ehQue\n</code></pre>\n\n<p>Or to be specific to the Windows command prompt:</p>\n\n<pre><code>ehQue\n</code></pre>\n\n<p>Where you should find that your program runs.</p>\n\n<p>(Tangential) Unless you specifically need to re-invent the wheel, one of CPP's defining features is the Standard Template Library (STL) which is part of the core specification... wrapping a <a href=\"http://en.cppreference.com/w/cpp/container/deque\" rel=\"nofollow noreferrer\">std::deque</a> in a class with your print functions would be advisable.</p>\n"}], "owner": {"reputation": 19, "user_id": 8943061, "user_type": "registered", "profile_image": "https://graph.facebook.com/1981359561904695/picture?type=large", "display_name": "Devin Drake", "link": "https://stackoverflow.com/users/8943061/devin-drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1512597848, "creation_date": 1512595346, "question_id": 47683654, "link": "https://stackoverflow.com/questions/47683654/code-gives-no-errors-but-does-nothing-in-command-prompt", "title": "Code Gives No Errors but Does Nothing in Command Prompt", "body": "<p>I am having trouble getting my code to run on command prompt, I am getting no errors but when I run the code nothing happens. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\nusing namespace std;\n//defines the maximum queue size \n#define MAX_QUE_SIZE 10\n//creates the \"rules\" for the queue\nclass queue {\nprivate:\nint A[MAX_QUE_SIZE];\nint front;\nint rear;\n\npublic:\nqueue() {\n    front = -1;\n    rear = -1;\n}\n\n//checks to see if the queue is empty\nbool isEmpty() {\n    return (front == -1 &amp;&amp; rear == -1);\n}\n\n//checks to see if the queue if full\nbool isFull() {\n    return (rear + 1) % MAX_QUE_SIZE == front ? true : false;\n}\n\n//checks to see if the queue is full, if not then it adds to the queue.\n//if so it gives an error message.\nvoid enqueue(int element) {\n    if (isFull()) {\n        throw std::overflow_error(\"QUEUE FULL\");\n    }\n    if (isEmpty()) {\n        front = 0;\n        rear = 0;\n    }\n    else {\n        rear = (rear + 1) % MAX_QUE_SIZE;\n    }\n    A[rear] = element;\n}\n\n//checks to see if the queue is empty, if not then it deletes from the queue\n//if sos it gives an error message.\nvoid dequeue() {\n    if (isEmpty()) {\n        throw std::underflow_error(\"QUEUE EMPTY\");\n    }\n    else if (front == rear) {\n        rear = -1;\n        front = -1;\n    }\n    else {\n        front = (front + 1) % MAX_QUE_SIZE;\n    }\n}\n\n//checks to see if the queue is empty, if so it gives a message saying so\n//if not then it prints all the items in the queue\n\nvoid printqueue() {\n    if (isEmpty()) {\n        cout &lt;&lt; \"EMPTY QUEUE\";\n    }\n    else {\n        int count = (rear + MAX_QUE_SIZE - front) % MAX_QUE_SIZE + 1;\n        cout &lt;&lt; \"Queue       : \";\n        for (int i = 0; i &lt; count; i++) {\n            int index = (front + i) % MAX_QUE_SIZE;\n            cout &lt;&lt; A[index] &lt;&lt; \" \";\n        }\n        cout &lt;&lt; \"\\n\\n\";\n    }\n}\n};\n\nint main()\n{\nqueue Q; // creating an instance of Queue. \nint i;\nint k = 0;\nint x;\n\nstd::cout &lt;&lt; \"Please enter some integers (enter 0 to exit):\\n\";\n//a do-while statement that adds to the queue\ndo {\n    std::cin &gt;&gt; i;\n    //tries to add to the queue, if the queue is full it gives and overflow error\n    try {\n        Q.enqueue(i);\n    }\n    catch (std::overflow_error e) {\n        std::cout &lt;&lt; e.what() &lt;&lt; endl;\n    }\n} while (i != 0);\nstd::cout &lt;&lt; endl;\nQ.printqueue();\n\nstd:cout &lt;&lt; \"How many values do you want to dequeue:\\n\";\nstd::cin &gt;&gt; x;\ncout &lt;&lt; endl;\n//a for loop that dequeues the number of items the user wants to delete\n//try the foor loop and dequeue function, if the queue is empty then it gives an underflow error\ntry {\n    for (int k = 0; k &lt; x; k++) {\n\n        Q.dequeue();\n    }\n}\n    catch (std::underflow_error e) {\n        std::cout &lt;&lt; e.what() &lt;&lt; endl;\n    }\n\n\nQ.printqueue();\n\nreturn 0;\n }\n</code></pre>\n\n<p>I am also typing in g++ -o ehQue ehQue.cpp to compile it. I am not sure if this is causing the error or if my code itself is causing the error. Any amount of help will be appreciated. </p>\n"}, {"tags": ["c++", "winapi", "touch", "mouse"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1512595853, "post_id": 47683618, "comment_id": 82327052, "body": "Touch input has changed a lot across versions of Windows. What version(s) of Windows are you targeting? I&#39;m not sure this is even possible, but I&#39;d look into <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms645536.aspx\" rel=\"nofollow noreferrer\">Raw Input</a> to see, if you can intercept touch input and prevent from being passed on to the system."}, {"owner": {"reputation": 385, "user_id": 1485759, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/822f1b0221437edb26ace5808a792f0a?s=128&d=identicon&r=PG", "display_name": "Esenthel", "link": "https://stackoverflow.com/users/1485759/esenthel"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1512689191, "post_id": 47683618, "comment_id": 82371083, "body": "I&#39;m targeting the latest version. Windows 10."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 2768273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLrop.jpg?s=128&g=1", "display_name": "Herlin Drew", "link": "https://stackoverflow.com/users/2768273/herlin-drew"}, "is_accepted": false, "score": 1, "last_activity_date": 1529913654, "creation_date": 1529913654, "answer_id": 51018724, "question_id": 47683618, "link": "https://stackoverflow.com/questions/47683618/prevent-touch-input-moving-mouse-cursor-on-windows/51018724#51018724", "title": "Prevent touch input moving mouse cursor on Windows", "body": "<p>Here's a solution.\nUse WH_MOUSE_LL hook, and block mouse event cause by touching. Then compare MSLLHOOKSTRUCT->dwExtraInfo and 0xFF515700 to determine if it's a touch-caused mouse event.</p>\n"}], "owner": {"reputation": 385, "user_id": 1485759, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/822f1b0221437edb26ace5808a792f0a?s=128&d=identicon&r=PG", "display_name": "Esenthel", "link": "https://stackoverflow.com/users/1485759/esenthel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1529913654, "creation_date": 1512595162, "question_id": 47683618, "link": "https://stackoverflow.com/questions/47683618/prevent-touch-input-moving-mouse-cursor-on-windows", "title": "Prevent touch input moving mouse cursor on Windows", "body": "<p>I'm writing a C++ Win32 application that supports both mouse and touch input.\nHowever when I put my finger on the touchscreen, then the OS moves the mouse cursor into that position.</p>\n\n<p>If I move the finger across the screen, and move the mouse at the same time, then OS will cause mouse cursor flickering, one frame it's under finger, 2nd frame under old mouse position.</p>\n\n<p>I want the touch input to stop changing mouse cursor position.\nI want to keep the 2 inputs separate - touch not affecting the mouse.\nI want to keep reading 2 inputs at the same time - touch not affecting the mouse.</p>\n"}, {"tags": ["c++", "pointers", "for-loop", "vector"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1512594992, "post_id": 47683551, "comment_id": 82326642, "body": "<code>for (auto element : storage)</code> -&gt; <code>for (auto&amp; element : storage)</code>"}, {"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1512595254, "post_id": 47683551, "comment_id": 82326767, "body": "Thanks... Why doesn&#39;t it affect copy_storage?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1512595540, "post_id": 47683551, "comment_id": 82326902, "body": "<code>copy_of_storage.push_back(&amp;(element));</code> is currently pushing back the address of an Automatic variable that goes out of scope at the end of loop iteration. Using pointers to invalid data has unpredictable results."}, {"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512595621, "post_id": 47683551, "comment_id": 82326945, "body": "Any suggestions to remedy this? @user4581301... I seem to be able to print the content out outside the loop?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1512595842, "post_id": 47683551, "comment_id": 82327046, "body": "Hard to suggest anything. If you do that @Justin suggests, you&#39;ll get your expected behaviour, but you WON&#39;T get a copy. With pointers you get a reference to an exiting object, not a copy of it. On the other hand, if you drop the pointer (<code>std::vector&lt;abstract_data_structure&gt; copy_of_storage;</code>) and instead <code>copy_of_storage.push_back(element);</code>  then you will have copies."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512596227, "post_id": 47683551, "comment_id": 82327236, "body": "&quot;I seem to be able to print the content out outside the loop?&quot; unfortunately the unpredictable results include everything from the program crashing to the outright fantastic. In the middle somewhere you get the utterly horrible &quot;It looks like it works.&quot; With a crash or Elves dancing on your keyboard, you know something is wrong, but the only way to tell that something looking right is actually wrong is with careful inspection. Or in the aftermath of the Autopilot steering the jumbo jet into the side of a mountain because the computed course was actually out by a tenth of a degree."}, {"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512597173, "post_id": 47683551, "comment_id": 82327706, "body": "yes.. @user4581301 you are right in the given example are they not the same.."}, {"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "edited": false, "score": 0, "creation_date": 1512597572, "post_id": 47683551, "comment_id": 82327886, "body": "would it help if they were contained within a class..?  as the case I am currently working has both variable in same class, and the test shows that their content are the same.."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1512597608, "post_id": 47683551, "comment_id": 82327906, "body": "@salam -- Even if you were to accomplish your goal, it isn&#39;t a good idea to grab and hold onto pointers to elements within a vector.  If that vector is resized in any way, those pointers become invalidated."}, {"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512597767, "post_id": 47683551, "comment_id": 82327981, "body": "@PaulMcKenzie yes.. you are right... didn&#39;t think of that..  are there any alternatives to shallow vector copies?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512597969, "post_id": 47683551, "comment_id": 82328077, "body": "@salam Well, <code>std::list</code> doesn&#39;t invalidate elements when resized (unless the element is removed).  But I don&#39;t know if that meets your requirements wrt vector (contiguous properties, for example)."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512596668, "post_id": 47683726, "comment_id": 82327470, "body": "Not the downvoter, But is the issue fixed? The asker did not make a copy, and if anything triggers a resize of the source <code>vector</code>, cometh the nasal demons."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512597650, "post_id": 47683726, "comment_id": 82327925, "body": "@user4581301 The OP said in their original post &quot;<i>I am currently trying to make a light copy of a vector. A light copy meaning that the content of the copy, is a vector of pointer of the original vector.</i>&quot;. This code does exactly what they asked, and solves the problem with their code which was attempting to do that. It&#39;s not my place to tell the user they <i>shouldn&#39;t</i> be trying to do this unless they clearly have an XY-Problem, which it isn&#39;t clear they do."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1512626594, "post_id": 47683726, "comment_id": 82336314, "body": "You have raisins, as the French say."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 1, "last_activity_date": 1512596061, "last_edit_date": 1512596061, "creation_date": 1512595628, "answer_id": 47683726, "question_id": 47683551, "link": "https://stackoverflow.com/questions/47683551/push-back-keeps-rewriting-all-entries-in-the-vector-to-the-item-pushed-back/47683726#47683726", "title": "push_back keeps rewriting all entries in the vector to the item pushed_back?", "body": "<pre><code>//***1***\nfor (auto element : storage)\n{\n    std::cout &lt;&lt; \"in storage\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; element.name &lt;&lt; std::endl;\n    //***2***\n    copy_of_storage.push_back(&amp;(element));\n    std::cout &lt;&lt; \"in copy storage\" &lt;&lt; std::endl; \n\n    for (auto copy_element: copy_of_storage)\n    {\n        std::cout &lt;&lt; copy_element-&gt;name &lt;&lt; std::endl; \n    }\n}\n</code></pre>\n\n<p>At <code>***1***</code>, you're making a local copy of each variable.</p>\n\n<p>At <code>***2***</code>, you're taking the address of that local copy and saving it in the vector.</p>\n\n<p>When you leave scope, the object has been destructed and no longer exists. So when you later try to read it, you get <strong>Undefined Behavior</strong>, which means you cannot guarantee the behavior that will take place.</p>\n\n<p>What <em>seems</em> to be happening is that each time, you're taking the address of the local variable, and each iteration of the for-loop, that location of the variable is the same, so each address in the final copy vector is the same, and because the most recent copy is whichever entry in the <code>storage</code> vector you were most recently working with, that's the version that gets read by the pointer.</p>\n\n<p>If you change <code>***1***</code> to <code>for(auto &amp; element : storage)</code>, your issue should be fixed.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "edited": false, "score": 0, "creation_date": 1512598456, "post_id": 47684173, "comment_id": 82328255, "body": "Thanks for the explanations... And to elaborate a bit on the copy, the idea to have a copy_vector was so it would not be memory heavy as the first one,  and to have a vector in which I can change the order of the elements in the vector without actually messing with the way is it stored in storage (The order is important).. My intention was to sort the copy_vector and do some matching, and see which one  the test matches best, and output the name given."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "edited": false, "score": 0, "creation_date": 1512626572, "post_id": 47684173, "comment_id": 82336309, "body": "In that case, so long as you are careful about the contents of <code>storage</code> (build it and don&#39;t change it with also regenerating <code>copy_of_storage</code>, go with Xirema&#39;s answer."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1512597704, "creation_date": 1512597704, "answer_id": 47684173, "question_id": 47683551, "link": "https://stackoverflow.com/questions/47683551/push-back-keeps-rewriting-all-entries-in-the-vector-to-the-item-pushed-back/47684173#47684173", "title": "push_back keeps rewriting all entries in the vector to the item pushed_back?", "body": "<p>The problem is a bit deeper than you may suspect. In </p>\n\n<pre><code>std::vector&lt;abstract_data_structure&gt; storage;\nstd::vector&lt;abstract_data_structure*&gt; copy_of_storage;\n</code></pre>\n\n<p><code>copy_of_storage</code> cannot be a copy of <code>storage</code> without a lot of extra effort and probably dynamic allocation of <code>abstract_data_structure</code>s.</p>\n\n<p><code>copy_of_storage</code> contains pointers and those pointers have to point to <code>abstract_data_structure</code>s. These <code>abstract_data_structure</code>s may or may not be copies.</p>\n\n<p>The naive fix, swapping </p>\n\n<pre><code>for (auto element : storage)\n</code></pre>\n\n<p>for </p>\n\n<pre><code>for (auto &amp; element : storage)\n</code></pre>\n\n<p>makes element a reference to an <code>abstract_data_structure</code> stored within <code>storage</code>. This means that <code>element</code> references a variable that has longer life than a single iteration of the for loop, but</p>\n\n<pre><code>copy_of_storage.push_back(&amp;(element));\n</code></pre>\n\n<p>doesn't make a copy. It just points to the original <code>abstract_data_structure</code> inside <code>storage</code>. Sometimes this is useful, but when one list is supposed to be a copy of the other, it probably should directly refer to the other list.</p>\n\n<p>For example, adding another <code>abstract_data_structure</code> to <code>storage</code> will invalidate the pointers. The contents of <code>storage</code> can be moved in the existing storage. The storage may be replaced with a larger block and the pointers left pointing to invalid memory. All sorts of nasty things can happen.</p>\n\n<p>Instead, I recommend </p>\n\n<pre><code>std::vector&lt;abstract_data_structure&gt; storage;\nstd::vector&lt;abstract_data_structure&gt; copy_of_storage;\n</code></pre>\n\n<p>and later </p>\n\n<pre><code>for (auto &amp; element : storage)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>copy_of_storage.push_back(element);\n</code></pre>\n\n<p>Now you have a copy.</p>\n\n<p>But... there are easier ways. <code>std::vector</code> is a very smart beast. You can </p>\n\n<pre><code>copy_of_storage = storage;\n</code></pre>\n\n<p>and <code>storage</code> will copy itself.</p>\n\n<p>Recommended extra reading: <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">What is The Rule of Three?</a> This is not required for your example, but very very important to learn early in a programming career.</p>\n"}], "owner": {"reputation": 3, "user_id": 9064128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1aa641fbcb5db0768df3a17fcbd921?s=128&d=identicon&r=PG&f=1", "display_name": "salam", "link": "https://stackoverflow.com/users/9064128/salam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 47683726, "answer_count": 2, "score": -2, "last_activity_date": 1512597704, "creation_date": 1512594866, "last_edit_date": 1512595210, "question_id": 47683551, "link": "https://stackoverflow.com/questions/47683551/push-back-keeps-rewriting-all-entries-in-the-vector-to-the-item-pushed-back", "title": "push_back keeps rewriting all entries in the vector to the item pushed_back?", "body": "<p>I am currently trying to make a light copy of a <code>vector</code>. A light copy meaning that the content of the copy, is a <code>vector</code> of pointer of the original <code>vector</code>.  I am for some reasons having problems doing so... Each time I <code>push_back</code> a new entry into the copy <code>vector</code>, I seem to overwrite all the entries in the <code>vector</code>, to the element I just <code>push_back</code>, why is this happening: </p>\n\n<p>MWE: </p>\n\n<pre><code>// This file is a \"Hello, world!\" in C++ language by GCC for wandbox.\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;experimental/filesystem&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\n\nstruct abstract_data_structure\n{\n    int x;\n    int y;\n    std::vector&lt;int&gt; points;\n    std::string name;\n\n    abstract_data_structure(int x, int y , std::vector&lt;int&gt; points, std::string name)\n    {\n        this-&gt;x= x;\n        this-&gt;y = y;\n        this-&gt;points = points;\n        this-&gt;name = name;\n    }\n};\n\nint main()\n{\n     std::vector&lt;abstract_data_structure&gt; storage;\n     std::vector&lt;abstract_data_structure*&gt; copy_of_storage;\n\n     std::srand(std::time(0));\n     for (int i = 0; i&lt; 5 ; i++)\n     {     \n        int x = std::rand();\n        int y = std::rand();\n        std::vector&lt;int&gt; vecOfRandomNums(10);\n        std::generate(vecOfRandomNums.begin(), vecOfRandomNums.end(), []() {\n           return rand() % 100;\n        });\n        std::string name = \"something\"+std::to_string(i);\n        abstract_data_structure something(x,y,vecOfRandomNums,name);\n        storage.push_back(something);\n\n     }\n\n    std::cout &lt;&lt; storage.size() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Make the copy\" &lt;&lt; std::endl;\n\n    for (auto element : storage)\n    {\n        std::cout &lt;&lt; \"in storage\" &lt;&lt; std::endl;\n        std::cout &lt;&lt; element.name &lt;&lt; std::endl;\n        copy_of_storage.push_back(&amp;(element));\n        std::cout &lt;&lt; \"in copy storage\" &lt;&lt; std::endl; \n\n        for (auto copy_element: copy_of_storage)\n        {\n            std::cout &lt;&lt; copy_element-&gt;name &lt;&lt; std::endl; \n        }\n    }\n\n\n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/Xn96xbIshd6RXTRa\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/Xn96xbIshd6RXTRa</a></p>\n\n<p>which outputs this: </p>\n\n<pre><code>5\nMake the copy\nin storage\nsomething0\nin copy storage\nsomething0\nin storage\nsomething1\nin copy storage\nsomething1\nsomething1\nin storage\nsomething2\nin copy storage\nsomething2\nsomething2\nsomething2\nin storage\nsomething3\nin copy storage\nsomething3\nsomething3\nsomething3\nsomething3\nin storage\nsomething4\nin copy storage\nsomething4\nsomething4\nsomething4\nsomething4\nsomething4\n0\n</code></pre>\n\n<p>As one might see are all the entries in the copy vector, modified to point to last element inserted? why?</p>\n"}, {"tags": ["c++", "visual-studio-2015"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 2, "creation_date": 1512596194, "post_id": 47683375, "comment_id": 82327217, "body": "If you ever put code like <code>res+=*d.px+++*d.py+++*d.pz++;</code> into any codebase I have any control over; I&#39;m going to do something really unpleasant to you."}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 1, "creation_date": 1512596212, "post_id": 47683375, "comment_id": 82327224, "body": "<a href=\"https://godbolt.org/g/LGWjbr\" rel=\"nofollow noreferrer\">The assembly</a> generated from your examples is fairly interesting.  MSVC seems smart enough to do some significant optimization of the first example <i>sometimes</i>.  Other times not so much.  The second example never seems to get the same optimizations applied."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "reply_to_user": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 0, "creation_date": 1512596337, "post_id": 47683375, "comment_id": 82327296, "body": "@Miles Budnek who cares? Nobody should write obfuscated code like this in the first place. Not even if it saves a few nanoseconds."}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 2, "creation_date": 1512596492, "post_id": 47683375, "comment_id": 82327372, "body": "@JesperJuhl Oh, I&#39;m not saying it&#39;s clean or good code.  Just that the assembly is somewhat interesting.  Indeed, the obfuscation is likely what&#39;s <i>preventing</i> the compiler from realizing that the second example is simple iteration over three vectors and applying the same optimizations as the first case."}, {"owner": {"reputation": 927, "user_id": 823922, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c2f93fcb646aadee0bba1cfc129e131?s=128&d=identicon&r=PG", "display_name": "Sava B.", "link": "https://stackoverflow.com/users/823922/sava-b"}, "edited": false, "score": 0, "creation_date": 1512596536, "post_id": 47683375, "comment_id": 82327398, "body": "I didn&#39;t mind that line. Wouldn&#39;t put it in production code, I guess, but it&#39;s pretty obvious what it does."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 2, "creation_date": 1512596564, "post_id": 47683375, "comment_id": 82327420, "body": "this is fine <code>res += *d.px++ + *d.py++ + *d.pz++</code> and the fact that the machine code that gets generate is totally different (and hence takes twice as long in the second case) is interesting"}], "answers": [{"comments": [{"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1512653585, "post_id": 47683845, "comment_id": 82352054, "body": "strictly speaking those are SSE not MMX. There is actually a huge architectural different between the two."}], "tags": [], "owner": {"reputation": 1569, "user_id": 2328447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0de19095009cfa136440130a79b73b0e?s=128&d=identicon&r=PG", "display_name": "user2328447", "link": "https://stackoverflow.com/users/2328447/user2328447"}, "is_accepted": false, "score": 1, "last_activity_date": 1512596227, "creation_date": 1512596227, "answer_id": 47683845, "question_id": 47683375, "link": "https://stackoverflow.com/questions/47683375/visual-studio-2015-loop-performance-degradation-when-storing-pointers-in-struct/47683845#47683845", "title": "Visual Studio 2015 loop performance degradation when storing pointers in struct", "body": "<p>Fascinating. This seems to be indeed a performance/optimization issue.\nLoop #1 uses MMX opcodes:</p>\n\n<pre><code>for(unsigned int i = 0; i &lt; N; ++i) {\nres += *p++ + *q++ + *r++;\n00C812C0  lea         eax,[eax+20h]  \n00C812C3  lea         esi,[esi+20h]  \n00C812C6  lea         edx,[edx+20h]  \n00C812C9  movups      xmm0,xmmword ptr [esi-20h]  \n00C812CD  movups      xmm1,xmmword ptr [eax-20h]  \n00C812D1  paddd       xmm1,xmm0  \n00C812D5  movups      xmm0,xmmword ptr [edx-20h]  \n00C812D9  paddd       xmm1,xmm0  \n00C812DD  paddd       xmm3,xmm1  \n00C812E1  movups      xmm0,xmmword ptr [esi-10h]  \n00C812E5  movups      xmm1,xmmword ptr [eax-10h]  \n00C812E9  paddd       xmm1,xmm0  \n00C812ED  movups      xmm0,xmmword ptr [edx-10h]  \n00C812F1  paddd       xmm1,xmm0  \n00C812F5  paddd       xmm2,xmm1  \n00C812F9  sub         ecx,1  \n00C812FC  jne         \n</code></pre>\n\n<p>while Loop #2 uses standard opcodes:</p>\n\n<pre><code>for(unsigned int i = 0; i &lt; N; ++i) {\nres += *d.px++ + *d.py++ + *d.pz++;\n00C81340  mov         eax,dword ptr [edi]  \n00C81342  lea         ecx,[ecx+14h]  \n00C81345  add         eax,dword ptr [esi]  \n00C81347  lea         edi,[edi+14h]  \n00C8134A  add         eax,dword ptr [ecx-14h]  \n00C8134D  lea         esi,[esi+14h]  \n00C81350  mov         edx,dword ptr [edi-4]  \n00C81353  add         ebx,eax  \n00C81355  mov         eax,dword ptr [edi-10h]  \n00C81358  add         eax,dword ptr [esi-10h]  \n00C8135B  add         eax,dword ptr [ecx-10h]  \n00C8135E  add         edx,dword ptr [esi-4]  \nfor(unsigned int i = 0; i &lt; N; ++i) {\nres += *d.px++ + *d.py++ + *d.pz++;\n00C81361  add         ebx,eax  \n00C81363  mov         eax,dword ptr [edi-0Ch]  \n00C81366  add         eax,dword ptr [esi-0Ch]  \n00C81369  add         eax,dword ptr [ecx-0Ch]  \n00C8136C  add         edx,dword ptr [ecx-4]  \n00C8136F  add         ebx,eax  \n00C81371  mov         eax,dword ptr [edi-8]  \n00C81374  add         eax,dword ptr [esi-8]  \n00C81377  add         eax,dword ptr [ecx-8]  \n00C8137A  add         ebx,eax  \n00C8137C  add         ebx,edx  \n00C8137E  sub         dword ptr [ebp-4],1  \n00C81382  jne         &lt;lambda_90dad2b8e1a29d982a00cc5b5b0ef516&gt;::operator()+20h (0C81340h)  \n</code></pre>\n\n<p>I have next to no knowledge about X86/MMX assembler, but obviously the MMX stuff is much faster.\nI don't know why it is not as optimized when using a struct. The only real difference I see between the both is that you declare <code>int*</code> in your struct, but your <code>auto</code> variables should be <code>const int*</code>. But I already played a bit around with const and it didn't change anything.</p>\n"}, {"comments": [{"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 1, "creation_date": 1512597641, "post_id": 47684113, "comment_id": 82327921, "body": "And on -O3 GCC and clang both use MMX instructions similar to what MSVC uses for the first version.  This is almost certainly programmer cleverness defeating compiler optimizations."}], "tags": [], "owner": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "is_accepted": false, "score": 1, "last_activity_date": 1512597445, "creation_date": 1512597445, "answer_id": 47684113, "question_id": 47683375, "link": "https://stackoverflow.com/questions/47683375/visual-studio-2015-loop-performance-degradation-when-storing-pointers-in-struct/47684113#47684113", "title": "Visual Studio 2015 loop performance degradation when storing pointers in struct", "body": "<p>There's nothing inherently wrong with your code in either case, and using a different c++ compiler yields different results.</p>\n\n<p>I put each version of your code in a separate function f() and g(), and compiled on a recent g++ (7.2) with -O2 and the results for both versions are literally identical in output.</p>\n\n<pre><code>unsigned int f(std::vector&lt;int&gt;&amp; x, std::vector&lt;int&gt;&amp; y, std::vector&lt;int&gt;&amp; z)\n{\n    auto p=x.data();\n    auto q=y.data();\n    auto r=z.data();\n\n    unsigned int res = 0;\n    for(unsigned int i=0;i&lt;N;++i){\n        res+=*p++ + *q++ + *r++;\n    }\n    return res;\n}\n\nunsigned int g(std::vector&lt;int&gt;&amp; x, std::vector&lt;int&gt;&amp; y, std::vector&lt;int&gt;&amp; z)\n{\n    struct pdata{int *px,*py,*pz;};\n\n    unsigned int res=0;\n    pdata d{x.data(),y.data(),z.data()};\n    for(unsigned int i=0;i&lt;N;++i){\n        res += *d.px++ +*d.py++ +*d.pz++;\n    }\n    return res;\n}\n</code></pre>\n\n<p>And the relevant output:</p>\n\n<p>First, f(), your faster version:</p>\n\n<pre><code>f(std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;):\n  mov r8, QWORD PTR [rdi]\n  xor eax, eax\n  mov rdi, QWORD PTR [rsi]\n  mov rsi, QWORD PTR [rdx]\n  xor edx, edx\n.L2:\n  mov ecx, DWORD PTR [rdi+rdx]\n  add ecx, DWORD PTR [r8+rdx]\n  add ecx, DWORD PTR [rsi+rdx]\n  add rdx, 4\n  add eax, ecx\n  cmp rdx, 4000000\n  jne .L2\n  rep ret\n</code></pre>\n\n<p>The version with pointers in the struct incur zero additional overhead:</p>\n\n<pre><code>g(std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;, std::vector&lt;int, std::allocator&lt;int&gt; &gt;&amp;):\n  mov r8, QWORD PTR [rdi]\n  xor eax, eax\n  mov rdi, QWORD PTR [rsi]\n  mov rsi, QWORD PTR [rdx]\n  xor edx, edx\n.L6:\n  mov ecx, DWORD PTR [rdi+rdx]\n  add ecx, DWORD PTR [r8+rdx]\n  add ecx, DWORD PTR [rsi+rdx]\n  add rdx, 4\n  add eax, ecx\n  cmp rdx, 4000000\n  jne .L6\n  rep ret\n</code></pre>\n\n<p>You can see for yourself on Godbolt:\n<a href=\"https://godbolt.org/g/DBqhDh\" rel=\"nofollow noreferrer\">https://godbolt.org/g/DBqhDh</a></p>\n\n<p>So this is an issue with MSVC.  Hopefully it's better on a newer version.</p>\n"}, {"comments": [{"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1512632460, "post_id": 47684127, "comment_id": 82338816, "body": "I&#39;ve used <code>__restrict</code> as per your indication and performance improves a bit but is still well below the <code>struct</code>-less case :-("}], "tags": [], "owner": {"reputation": 2991, "user_id": 3877787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPxhf.jpg?s=128&g=1", "display_name": "Zalman Stern", "link": "https://stackoverflow.com/users/3877787/zalman-stern"}, "is_accepted": false, "score": 1, "last_activity_date": 1512597509, "creation_date": 1512597509, "answer_id": 47684127, "question_id": 47683375, "link": "https://stackoverflow.com/questions/47683375/visual-studio-2015-loop-performance-degradation-when-storing-pointers-in-struct/47684127#47684127", "title": "Visual Studio 2015 loop performance degradation when storing pointers in struct", "body": "<p>As the poster has pointed out above, the compiler has done some vectorization in the first case. Likely it is having trouble proving, or perhaps didn't try to prove at all, that the pointers for the <code>std::vector</code> cannot overlap the struct itself on the stack.</p>\n\n<p>You can try labeling the pointers with the <a href=\"http://en.cppreference.com/w/c/language/restrict\" rel=\"nofollow noreferrer\">restrict</a> qualifier, though I am not sure it is supported in your target environment.</p>\n"}], "owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1512597509, "creation_date": 1512594032, "last_edit_date": 1512596808, "question_id": 47683375, "link": "https://stackoverflow.com/questions/47683375/visual-studio-2015-loop-performance-degradation-when-storing-pointers-in-struct", "title": "Visual Studio 2015 loop performance degradation when storing pointers in struct", "body": "<p>I found that the following loop</p>\n\n<pre><code>std::vector&lt;int&gt; x,y,z;\n...\nunsigned int res=0;\nauto p=x.data();\nauto q=y.data();\nauto r=z.data();\nfor(unsigned int i=0;i&lt;N;++i){\n  res+=*p++ +*q++ +*r++;\n}\n</code></pre>\n\n<p>runs almost twice as fast as this one, which merely packs the pointers in a struct:</p>\n\n<pre><code>struct pdata{int *px,*py,*pz;};\n\nunsigned int res=0;\npdata d{x.data(),y.data(),z.data()};\nfor(unsigned int i=0;i&lt;N;++i){\n  res+=*d.px++ +*d.py++ +*d.pz++;\n}\nreturn res;\n</code></pre>\n\n<p>Is this a known performance issue? Please find below complete program and performance measurements for Visual C++ 2015 in 32-bit (x86) release mode (default settings), Windows 7 64-bit, Intel Core i5-2520M @2.5GHz:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;array&gt;\n#include &lt;chrono&gt;\n#include &lt;cmath&gt;\n#include &lt;numeric&gt; \n\nstd::chrono::high_resolution_clock::time_point measure_start,measure_pause;\n\ntemplate&lt;typename F&gt;\ndouble measure(F f)\n{\n  using namespace std::chrono;\n\n  static const int              num_trials=10;\n  static const milliseconds     min_time_per_trial(200);\n  std::array&lt;double,num_trials&gt; trials;\n  volatile decltype(f())        res; /* to avoid optimizing f() away */\n\n  for(int i=0;i&lt;num_trials;++i){\n    int                               runs=0;\n    high_resolution_clock::time_point t2;\n\n    measure_start=high_resolution_clock::now();\n    do{\n      res=f();\n      ++runs;\n      t2=high_resolution_clock::now();\n    }while(t2-measure_start&lt;min_time_per_trial);\n    trials[i]=duration_cast&lt;duration&lt;double&gt;&gt;(t2-measure_start).count()/runs;\n  }\n  (void)res; /* var not used warn */\n\n  std::sort(trials.begin(),trials.end());\n  return std::accumulate(\n    trials.begin()+2,trials.end()-2,0.0)/(trials.size()-4);\n}\n\ntemplate&lt;typename F&gt;\ndouble measure(unsigned int n,F f)\n{\n  double t=measure(f);\n  return (t/n)*10E9;\n}    \n\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n  static const unsigned int N=100000;\n  std::vector&lt;int&gt; x(N),y(N),z(N);\n\n  for(int i=0;i&lt;N;i++){\n    x[i]=i;\n    y[i]=i+1;\n    z[i]=i+2;\n  }\n\n  std::cout&lt;&lt;measure(N,[&amp;]{\n    unsigned int res=0;\n    auto p=x.data();\n    auto q=y.data();\n    auto r=z.data();\n    for(unsigned int i=0;i&lt;N;++i){\n      res+=*p++ +*q++ +*r++;\n    }\n    return res;\n  })&lt;&lt;\",\";\n\n  std::cout&lt;&lt;measure(N,[&amp;]{\n    struct pdata{int *px,*py,*pz;};\n\n    unsigned int res=0;\n    pdata d{x.data(),y.data(),z.data()};\n    for(unsigned int i=0;i&lt;N;++i){\n      res+=*d.px++ +*d.py++ +*d.pz++;\n    }\n    return res;\n  })&lt;&lt;\"\\n\";\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>4.24541,7.44588\n</code></pre>\n\n<p>Thank you,</p>\n"}, {"tags": ["c++", "for-loop", "if-statement", "syntax"], "comments": [{"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "edited": false, "score": 2, "creation_date": 1512592864, "post_id": 47683094, "comment_id": 82325529, "body": "What do you mean by <code>side by side</code>?"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 4, "creation_date": 1512592955, "post_id": 47683094, "comment_id": 82325567, "body": "That&#39;s just an if statement inside a for loop. What exactly don&#39;t you get? Put a newline before the &quot;if&quot; and it&#39;ll do exactly the same but be more readable. Add curly braces if you like to make it even more clear."}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1512593010, "post_id": 47683094, "comment_id": 82325598, "body": "the if doesnt have to be on the next line, in most cases how much whitespace (including new lines) you put in is up to you."}, {"owner": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "edited": false, "score": 1, "creation_date": 1512593036, "post_id": 47683094, "comment_id": 82325618, "body": "It&#39;s just formatting.  The first if is the body the for loop.  The rest of the code is in the &quot;true&quot; body of the first if."}, {"owner": {"reputation": 33597, "user_id": 2445184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0b51ece74c2314ba345a862c4b00d804?s=128&d=identicon&r=PG", "display_name": "cmaster - reinstate monica", "link": "https://stackoverflow.com/users/2445184/cmaster-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1512593052, "post_id": 47683094, "comment_id": 82325625, "body": "That&#39;s probably not the most intuitive way to write it, but it&#39;s just a loop that contains only an <code>if()</code> statement as its body. So the programmer went clever, and omitted the braces of the loop body."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 2, "creation_date": 1512593223, "post_id": 47683094, "comment_id": 82325735, "body": "Don&#39;t write code like that."}, {"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "edited": false, "score": 0, "creation_date": 1512594328, "post_id": 47683094, "comment_id": 82326280, "body": "OT: The code is used in the Dijkstra algorithm to find the next closest vertex. :)"}], "answers": [{"tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": false, "score": 0, "last_activity_date": 1512593032, "creation_date": 1512593032, "answer_id": 47683142, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683142#47683142", "title": "Using for loop and if statement side by side C++", "body": "<p>If you intend about the loop without parenthesis, it can be used to execute a single block of statements. In this case the <code>if</code>statement groups all other statements in a pair of parenthesis, making them a single block.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512593605, "post_id": 47683155, "comment_id": 82325930, "body": "You don&#39;t <i>need</i> them; no. But you should still put them in (IMHO) as they are extremely helpful to the casual reader of your code - who <i>may</i> be a greenhorn not familiar with the details of C++ syntax. Write code for the readers, not for the compiler (the compiler will figure it out on its own if it is valid)."}, {"owner": {"reputation": 499, "user_id": 5325102, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/iZeNv.jpg?s=128&g=1", "display_name": "Francisco Gallego Salido", "link": "https://stackoverflow.com/users/5325102/francisco-gallego-salido"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512594023, "post_id": 47683155, "comment_id": 82326138, "body": "@JesperJuhl I agree with you, brackets really differentiate the scope, but is good know that they&#39;re not always necessary as you can come across with other code."}], "tags": [], "owner": {"reputation": 499, "user_id": 5325102, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/iZeNv.jpg?s=128&g=1", "display_name": "Francisco Gallego Salido", "link": "https://stackoverflow.com/users/5325102/francisco-gallego-salido"}, "is_accepted": false, "score": 2, "last_activity_date": 1512593063, "creation_date": 1512593063, "answer_id": 47683155, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683155#47683155", "title": "Using for loop and if statement side by side C++", "body": "<p>This is exactly the same:</p>\n\n<pre><code>int min_dist = huge;\nint v = -1;\n\nfor (int i = 0; i &lt; N; ++i){\n    if (!done[i]) {\n        if (d[i] &gt;= min_dist) continue;\n        min_dist = d[i];\n        v = i;\n    }\n}\n</code></pre>\n\n<p>As an explanation, when you only have one statement inside a for or if, you don't need the brackets.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 7421495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ddf7bcd0ab08296674d911663a0b522?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Boschma", "link": "https://stackoverflow.com/users/7421495/jeroen-boschma"}, "is_accepted": false, "score": 2, "last_activity_date": 1512593065, "creation_date": 1512593065, "answer_id": 47683157, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683157#47683157", "title": "Using for loop and if statement side by side C++", "body": "<p>The layout may fool you. It's just a for-loop with a single if-statement:</p>\n\n<ul>\n<li>for each item indexed by i</li>\n<li>if item i not done already, then proces item i in if-body</li>\n<li>else next item (in for-loop)</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512593285, "post_id": 47683159, "comment_id": 82325762, "body": "And (what I think is relevant to OP); is the same as <code>for(...) if (...)</code> on one line."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 8, "last_activity_date": 1512593394, "last_edit_date": 1512593394, "creation_date": 1512593075, "answer_id": 47683159, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683159#47683159", "title": "Using for loop and if statement side by side C++", "body": "<p>It's not side by side. It's an <code>if</code> inside a <code>for</code>. The syntax of a <code>for</code> is</p>\n\n<pre><code>for(...)\n  statement\n</code></pre>\n\n<p>And it just so happens that an <code>if</code> is also a statement. So your code is equivalent to this:</p>\n\n<pre><code>for(...)\n  if() {\n  }\n</code></pre>\n\n<p>Because white-spaces are pretty much ignored by the compilation process. It doesn't matter if there's a new line or not. It's still a statement. Just like it doesn't matter for the one-liner</p>\n\n<pre><code>if (d[i] &gt;= min_dist) continue;\n</code></pre>\n\n<p>And if we don't omit those obviously crucial braces:</p>\n\n<pre><code>for(...) {\n  if() {\n  }\n}\n</code></pre>\n\n<p>We'll be far less likely to be confused in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "is_accepted": false, "score": 1, "last_activity_date": 1512593133, "creation_date": 1512593133, "answer_id": 47683169, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683169#47683169", "title": "Using for loop and if statement side by side C++", "body": "<p>I always find when looking at code I don't understand the best method is to rewrite it in a format which I find easier to read, in this case:</p>\n\n<pre><code>for (int i = 0; i &lt; N; ++i) {\n    if (!done[i]) {\n        if (d[i] &gt;= min_dist) {\n            continue;\n        }\n        min_dist = d[i];\n        v = i;\n    }\n}\n</code></pre>\n\n<p>The fact that the <code>if</code> statement is beside the loop merely means that that is the expression to be resolved as the loop body (note this is always the case, blocks <code>{}</code> are also used). This <code>if</code> then has a body as well, by putting in the omitted blocks explicitly it is easier to see what is going on.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1512593565, "creation_date": 1512593565, "answer_id": 47683272, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683272#47683272", "title": "Using for loop and if statement side by side C++", "body": "<p>This is a case of poorly indented and organized code. It is equivalent to:</p>\n\n<pre><code>for (int i = 0; i &lt; N; ++i)\n{  \n  if (!done[i])\n  {\n    if (d[i] &gt;= min_dist) continue;\n    min_dist = d[i];\n    v = i;\n  }\n} \n</code></pre>\n\n<p>Adding the block <code>{}</code> right after the <code>for</code> line makes it easier to read.</p>\n\n<p>You can add another block for the second <code>if</code> statement to make it still easier.</p>\n\n<pre><code>for (int i = 0; i &lt; N; ++i)\n{\n  if (!done[i])\n  {\n    if (d[i] &gt;= min_dist)\n    {\n      continue;\n    }\n\n    min_dist = d[i];\n    v = i;\n  }\n} \n</code></pre>\n\n<p>You can simplify it to:</p>\n\n<pre><code>for (int i = 0; i &lt; N; ++i)\n{\n  if (!done[i])\n  {\n    if (d[i] &lt; min_dist)\n    {\n      min_dist = d[i];\n      v = i;\n    }\n  }\n} \n</code></pre>\n\n<p>The two <code>if</code>s can be combined to make it simpler still.</p>\n\n<pre><code>for (int i = 0; i &lt; N; ++i)\n{\n  if (!done[i] &amp;&amp; d[i] &lt; min_dist)\n  {\n    min_dist = d[i];\n    v = i;\n  }\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512594270, "post_id": 47683303, "comment_id": 82326266, "body": "For extra clarity; add braces for the for loop as well."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1512596658, "post_id": 47683303, "comment_id": 82327462, "body": "@JesperJuhl -- for extra confusion, add braces to the for loop as well. &lt;g&gt; Seriously: this is more of a personal style issue. In my code I don&#39;t add redundant braces."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1512597041, "post_id": 47683303, "comment_id": 82327646, "body": "I agree that it&#39;s a style issue. But my personal experience is that newbies get less confused if you always add the braces. I myself find that unfamiliar code reads easier that way. So I (personally) am of the opinion that you should <i>always</i> just add the braces - required or not. But; it&#39;s a matter of taste.."}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1512593696, "creation_date": 1512593696, "answer_id": 47683303, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c/47683303#47683303", "title": "Using for loop and if statement side by side C++", "body": "<p>The <strong>right way</strong> to write this code is like this:</p>\n\n<pre><code>for (int i  0; i &lt; N; ++i)\n    if (!done[i] &amp;&amp; d[i] &lt; min_dist) {\n        min_dist = d[i];\n        v = i;\n    }\n</code></pre>\n\n<p>Putting the <code>if</code> on the same line as the <code>for</code> just confuses things. As is having two <code>if</code> statements instead of one.</p>\n"}], "owner": {"reputation": 29, "user_id": 8832027, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wldq1DiVtcs/AAAAAAAAAAI/AAAAAAAAFYw/z_zn7g8XCt4/photo.jpg?sz=128", "display_name": "Susanna Beglaryan", "link": "https://stackoverflow.com/users/8832027/susanna-beglaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 47683272, "answer_count": 7, "score": 0, "last_activity_date": 1512593986, "creation_date": 1512592785, "last_edit_date": 1512593986, "question_id": 47683094, "link": "https://stackoverflow.com/questions/47683094/using-for-loop-and-if-statement-side-by-side-c", "title": "Using for loop and if statement side by side C++", "body": "<p>Can someone explain this syntax of using for and if side by side?    </p>\n\n<pre><code>int min_dist = huge;\nint v = -1;\n\nfor (int i = 0; i &lt; N; ++i) if (!done[i]) {\n    if (d[i] &gt;= min_dist) continue;\n    min_dist = d[i];\n    v = i;\n} \n</code></pre>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1512591815, "post_id": 47682833, "comment_id": 82324950, "body": "The error is telling you that your <code>std::string</code> from <code>kurzbez.at(kurs_auswahl)</code> is not correct for the function accepting a <code>string* var[]</code> parameter. How do you expect that to work?"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1512591820, "post_id": 47682833, "comment_id": 82324952, "body": "You are passing in a <code>string</code>.  The function&#39;s argument is <code>string**</code>.  What happens if you change the function&#39;s argument from <code>string**</code> to <code>string const&amp;</code> or just <code>string</code>?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512592215, "post_id": 47682833, "comment_id": 82325163, "body": "please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You cannot use <code>kurzbez</code> before declaring it"}, {"owner": {"reputation": 37, "user_id": 8795144, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666320970046403/picture?type=large", "display_name": "Heiko Thober", "link": "https://stackoverflow.com/users/8795144/heiko-thober"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1512592332, "post_id": 47682833, "comment_id": 82325240, "body": "@crashmstr: My thought was: I have a vector with elements of string type, so define a function with a string argument, and call the function with that vector element."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1512592415, "post_id": 47682833, "comment_id": 82325282, "body": "<code>void datei_oeffnen(string* var[]);</code> does not declare a function that takes a <code>std::string</code> argument. That would have less <code>*</code>, <code>[</code>, and <code>]</code>."}, {"owner": {"reputation": 37, "user_id": 8795144, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666320970046403/picture?type=large", "display_name": "Heiko Thober", "link": "https://stackoverflow.com/users/8795144/heiko-thober"}, "reply_to_user": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1512592501, "post_id": 47682833, "comment_id": 82325326, "body": "@Eljay: Tried, but there were other errors."}, {"owner": {"reputation": 37, "user_id": 8795144, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666320970046403/picture?type=large", "display_name": "Heiko Thober", "link": "https://stackoverflow.com/users/8795144/heiko-thober"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512592506, "post_id": 47682833, "comment_id": 82325331, "body": "@tobi303: I declare it before I use it, i simply wrote it that way."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8795144, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666320970046403/picture?type=large", "display_name": "Heiko Thober", "link": "https://stackoverflow.com/users/8795144/heiko-thober"}, "edited": false, "score": 0, "creation_date": 1512654967, "post_id": 47683065, "comment_id": 82352958, "body": "Thank you, that did the trick.   Can this be modified to work with a pointer?"}], "tags": [], "owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "is_accepted": true, "score": 0, "last_activity_date": 1512592675, "creation_date": 1512592675, "answer_id": 47683065, "question_id": 47682833, "link": "https://stackoverflow.com/questions/47682833/passing-one-vector-element-as-function-parameter/47683065#47683065", "title": "Passing one vector element as function parameter", "body": "<p>Change the argument from string *[] to just string (or even better string const &amp;), for what you are doing there is no need to pass a pointer to the element in the vector.</p>\n"}], "owner": {"reputation": 37, "user_id": 8795144, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666320970046403/picture?type=large", "display_name": "Heiko Thober", "link": "https://stackoverflow.com/users/8795144/heiko-thober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 47683065, "answer_count": 1, "score": -3, "last_activity_date": 1512592675, "creation_date": 1512591640, "last_edit_date": 1512592399, "question_id": 47682833, "link": "https://stackoverflow.com/questions/47682833/passing-one-vector-element-as-function-parameter", "title": "Passing one vector element as function parameter", "body": "<p>i would like to pass a vector element at a certain position as a function argument, to generate a string. With that string I would like to open a file.\nRight now my vector is filled with some strings, I print them with cout, the user should type a number and with the vector element at this position should the other function be called.</p>\n\n<pre><code>vector &lt;string&gt; kurzbez;                    //vector definition\n\nvoid datei_oeffnen(string* var[]);          //function definition\n\ncout &lt;&lt; (\"Bitte die Zahl eingeben\") &lt;&lt; endl;     \ncin &gt;&gt; kurs_auswahl;                        //Type in Number\ncout &lt;&lt; endl;\n\ndatei_oeffnen(kurzbez.at(kurs_auswahl))     //function call with problem\n</code></pre>\n\n<p>I expect that the function is called with the vector element at the specific iterator.</p>\n\n<p>The result i'm getting is this error at compiling: 69   41  D:\\main.cpp [Error] cannot convert 'std::basic_string' to 'std::string** {aka std::basic_string<strong>}' for argument '1' to 'void datei_oeffnen(std::string</strong>)'</p>\n\n<p>I've tried to wrap my head around that error and searched several days, but to no avail. Could somebody more knowledgeable help me?<br>\nI'm using Dev-C++  5.8.2 with GCC 4.8.1.</p>\n"}, {"tags": ["c++", "arrays", "multithreading", "2d"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1512591563, "post_id": 47682725, "comment_id": 82324805, "body": "What is <code>cO2tmp</code>?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1512591646, "post_id": 47682725, "comment_id": 82324850, "body": "Change <code>cO2tmp</code> to <code>cO2</code> and the code is okay. You have some other problem. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 1, "creation_date": 1512591864, "post_id": 47682725, "comment_id": 82324976, "body": "I have tested on Clang and GCC, there are no error. Which compiler do you use?"}, {"owner": {"reputation": 182, "user_id": 1885349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e448f5cf36b039b86a34b2bcdd4be442?s=128&d=identicon&r=PG", "display_name": "user1885349", "link": "https://stackoverflow.com/users/1885349/user1885349"}, "edited": false, "score": 0, "creation_date": 1512592991, "post_id": 47682725, "comment_id": 82325588, "body": "I am using g++7"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1513191280, "post_id": 47682725, "comment_id": 82561583, "body": "@user1885349: Your edit compiles, but your question is complaining about a compiler error. Please clarify exactly what your problem is."}, {"owner": {"reputation": 182, "user_id": 1885349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e448f5cf36b039b86a34b2bcdd4be442?s=128&d=identicon&r=PG", "display_name": "user1885349", "link": "https://stackoverflow.com/users/1885349/user1885349"}, "edited": false, "score": 0, "creation_date": 1513616859, "post_id": 47682725, "comment_id": 82711737, "body": "Thanks to think about this questions. Main question is more precisly how to send a function (ADI_N) with its 2D table argument as a reference. If I give brutally the tables (n, CO2,...) to the thread it is going to copy them. This will slow done the execution of the code."}], "owner": {"reputation": 182, "user_id": 1885349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e448f5cf36b039b86a34b2bcdd4be442?s=128&d=identicon&r=PG", "display_name": "user1885349", "link": "https://stackoverflow.com/users/1885349/user1885349"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512593728, "creation_date": 1512591230, "last_edit_date": 1512593728, "question_id": 47682725, "link": "https://stackoverflow.com/questions/47682725/2d-array-argument-to-thread-c", "title": "2D array argument to thread c++", "body": "<p>I am trying pass 2D arrays to c++ threads. If I understood well I should do something like that :</p>\n\n<pre><code>double DDnx[Nx], AAnx[Nx], BBnx[Nx], CCnx[Nx],    DDny[Ny], AAny[Ny],BBny[Ny], CCny[Ny];\ndouble n[Nx][Ny], cO2[Nx][Ny];\ndouble DtDbDxs, Dxs2;\nthread th1(&amp;ADI_N, n, cO2, AAnx, BBnx, CCnx, DDnx, AAny, BBny, CCny, DDny, DtDbDxs, Dxs2);\n</code></pre>\n\n<p>The function ADI_N takes all these argument.</p>\n\n<pre><code>void ADI_N(double n[][Ny], double cO2[][Ny],\n       double AAx[], double BBx[], double CCx[], double DDx[],\n       double AAy[], double BBy[], double CCy[], double DDy[], double DbDtDxs, double Dxs2);\n</code></pre>\n\n<p>I have an error : No matching constructor for initialization of 'std::__1::thread'</p>\n\n<p>The point is that I would like to pass my argument by reference to ADI_N() to avoid the waist of time copying data.\nOf course just putting ref() around the argument does not work</p>\n\n<p>Any idea? </p>\n\n<p>All the best</p>\n\n<p>///EDIT///</p>\n\n<p>Here is an example which compile without threading </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string&gt;\n#include &lt;thread&gt;\nusing namespace std;\n#define Nx 100\n#define Ny 100\n\nvoid ADI_N(double n[][Ny], double cO2[][Ny],\n       double AAx[], double BBx[], double CCx[], double DDx[],\n       double AAy[], double BBy[], double CCy[], double DDy[],\n       double DbDtDxs, double Dxs2)\n{\n    //do things\n}\n\n\nint main()\n{\ndouble DDnx[Nx], AAnx[Nx], BBnx[Nx], CCnx[Nx],    DDny[Ny], AAny[Ny],BBny[Ny], CCny[Ny];\ndouble n[Nx][Ny], cO2[Nx][Ny];\ndouble DtDbDxs, Dxs2;\n\n//pass by pointer or ref the 2D matrix to the function ADI_N\nthread th1(&amp;ADI_N, n, cO2, AAnx, BBnx, CCnx, DDnx, AAny, BBny, CCny, DDny, DtDbDxs, Dxs2);\n//ADI_N(n, cO2, AAnx, BBnx, CCnx, DDnx, AAny, BBny, CCny, DDny, DtDbDxs, Dxs2); //this compile\n\n//th1.join();\n\n}\n</code></pre>\n"}, {"tags": ["c++", "sql-server", "xml", "performance", "stored-procedures"], "comments": [{"owner": {"reputation": 35, "user_id": 6131342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfa859fb0977b3589a35858619efddf?s=128&d=identicon&r=PG&f=1", "display_name": "user255377", "link": "https://stackoverflow.com/users/6131342/user255377"}, "edited": false, "score": 0, "creation_date": 1512591116, "post_id": 47682679, "comment_id": 82324578, "body": "I should also say the slightest performance improvement is desired since this process can be called 100,000 time concurrently."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1512591151, "post_id": 47682679, "comment_id": 82324597, "body": "Either use BULK INSERT or use a table valued parameter to an insert procedure."}, {"owner": {"reputation": 35, "user_id": 6131342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfa859fb0977b3589a35858619efddf?s=128&d=identicon&r=PG&f=1", "display_name": "user255377", "link": "https://stackoverflow.com/users/6131342/user255377"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1512591375, "post_id": 47682679, "comment_id": 82324711, "body": "So it would be quicker to convert the xml on the C++ side to the table value parameter and then pass that over, versus doing the xml parsing and string processing on the sqlserver side?"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1512591702, "post_id": 47682679, "comment_id": 82324885, "body": "It is impossible to state that with certainty because I don&#39;t know what your data is or how much processing needs to happen but sql server is not very good at string manipulation. I would be surprised if it was faster doing it in sql. But the absolute best way to know is to build it and try it out both ways."}, {"owner": {"reputation": 35, "user_id": 6131342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfa859fb0977b3589a35858619efddf?s=128&d=identicon&r=PG&f=1", "display_name": "user255377", "link": "https://stackoverflow.com/users/6131342/user255377"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1512592385, "post_id": 47682679, "comment_id": 82325268, "body": "Is there any good examples I can follow for using table valued pairs with C++?"}], "answers": [{"comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1512594493, "post_id": 47683020, "comment_id": 82326371, "body": "This is great except cursors suck. Make your procedure receive a table valued parameter and do the inserts as a single insert statement. Doing this in a cursor is going to be hideous with the amount of data the OP is talking about."}], "tags": [], "owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "is_accepted": true, "score": 0, "last_activity_date": 1512592498, "creation_date": 1512592498, "answer_id": 47683020, "question_id": 47682679, "link": "https://stackoverflow.com/questions/47682679/what-is-the-fastest-way-to-pass-a-large-amount-of-data-from-a-c-application-to/47683020#47683020", "title": "What is the fastest way to pass a large amount of data from a C++ application to SQLServer Stored Procedure?", "body": "<p>Set up a table-valued parameter, one row for each parameter set. And then use the rows of that parameter to call the stored procedure. Even if you were to submit the rows as a batch to a stored procedure each row would be a separate communication with the server but if you do it as a TVP the driver is able to bundle it into a single round trip (that is, all the data would be sent then the server would start processing, instead of one parameter set getting sent and the result returned for that parameter set).</p>\n\n<p>I don't know about the XML processing, that may well depend on the nature of the required manipulation, that part sounds like a job for profiling.</p>\n\n<p>basically something like:</p>\n\n<pre><code>CREATE TYPE ARGS_TABLE TABLE (ID BIGINT, DATA XML);\n\nCREATE PROCEDURE WRAPPER_PROC\n@Args ARGS_TABLE READONLY\nAS\nBEGIN\nDECLARE @ID BIGINT, @Data XML\nDECLARE ArgCurs CURSOR FOR SELECT ID, DATA FROM @Args;\nOPEN ArgsCurs ;\nFETCH NEXT FROM ArgsCurs INTO @ID, @Data\nWHILE @@FETCH_STATUS = 0\nBEGIN\nEXEC dbo.REAL_PROC @ID, @Data\nFETCH NEXT FROM ArgsCurs INTO @ID, @Data\nEND\nCLOSE ArgsCurs \n    DEALLOCATE ArgsCurs \nEND\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6131342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfa859fb0977b3589a35858619efddf?s=128&d=identicon&r=PG&f=1", "display_name": "user255377", "link": "https://stackoverflow.com/users/6131342/user255377"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 47683020, "answer_count": 1, "score": 0, "last_activity_date": 1512592498, "creation_date": 1512591035, "question_id": 47682679, "link": "https://stackoverflow.com/questions/47682679/what-is-the-fastest-way-to-pass-a-large-amount-of-data-from-a-c-application-to", "title": "What is the fastest way to pass a large amount of data from a C++ application to SQLServer Stored Procedure?", "body": "<p>I am trying to pass a thousand rows from an xml object in a c++ application to a sqlserver stored procedure in the most efficient way possible.  There is some string processing/conversions that needs to happen to the xml elements before it is inserted into the database.  At the moment we are taking each individual xml node in the C++ application and then calling sqlserver to insert it (and doing this a thousand times).  To improve this I would like to send all 1000 records to sqlserver at the same time.   What is the fastest way to do this?</p>\n\n<p>Also, I have seen that I can send xml straight to a stored procedure, but that would involve me doing a lot of processing to the data before I insert it into the database.  Is it more efficient to process strings in the C++ application and then send it via xml or send it to SQLServer in the unprocessed xml then process/convert the strings or is there another way to pass the data altogether?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "edited": false, "score": 0, "creation_date": 1512591775, "post_id": 47682637, "comment_id": 82324922, "body": "how can a rocket fly if it&#39;s initial velocity is ZERO???, plus there are a lot of conceptual and programmatic errors... recheck your code, try to point what you think is wrong."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "edited": false, "score": 0, "creation_date": 1512591925, "post_id": 47682637, "comment_id": 82325014, "body": "@organicoman: Err, at lift-off, the rocket&#39;s velocity <i>is</i> zero - it then accelerates upwards.  (Look at any space launch)."}, {"owner": {"reputation": 2198, "user_id": 8459055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdc4d783c65c0ab6ff327551fb953c4?s=128&d=identicon&r=PG&f=1", "display_name": "omkaartg", "link": "https://stackoverflow.com/users/8459055/omkaartg"}, "edited": false, "score": 0, "creation_date": 1512591978, "post_id": 47682637, "comment_id": 82325041, "body": "Remove float *v,*h and add(after getting value of a) float v[Math.ceil(a)], h[Math.ceil(a)]"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 2198, "user_id": 8459055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdc4d783c65c0ab6ff327551fb953c4?s=128&d=identicon&r=PG&f=1", "display_name": "omkaartg", "link": "https://stackoverflow.com/users/8459055/omkaartg"}, "edited": false, "score": 0, "creation_date": 1512592138, "post_id": 47682637, "comment_id": 82325122, "body": "@Omkaar.K: 1. Math.ceil is not C++ (it&#39;s Java).  2.  C++ requires array bounds to be a compile-time constant (although some compilers have extensions which allow variable sized arrays)."}, {"owner": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1512593213, "post_id": 47682637, "comment_id": 82325725, "body": "@MartinBonner suppose you are true, then your rocket starts at V=0 goes to a max Value V=Max then to Zero again, then starts to Negative values which means changed direction, the same as projectile. as it loses fuel and thrust it starts to lose velocity, not change direction."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "edited": false, "score": 0, "creation_date": 1512593987, "post_id": 47682637, "comment_id": 82326124, "body": "@organicoman OP&#39;s physical model is 1D, so the &quot;direction&quot; can be up (positive velocity) or down (negative velocity) only. In 3D, whether the rocket crashes or stay in orbit depends on the velocity (and direction) it can reach (due to the total effective thrust)."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1512594345, "post_id": 47682637, "comment_id": 82326293, "body": "BTW, in your code the &quot;rocket&quot; starts with a mass of 3000 whatever, loses up to 2400 somewhat else /g till 60 (seconds?) and then immediately regain and mantein 3000/g... There&#39;s something wrong here, I think."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 1, "creation_date": 1512594601, "post_id": 47682637, "comment_id": 82326428, "body": "Before thinking in coding you may consider review your solution!And this problem as a well known symbolic solution so, it will help you to compare with the result of your code, this is just an integration. Maybe after you could consider more accurate numerical integration scheme."}, {"owner": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1512595966, "post_id": 47682637, "comment_id": 82327096, "body": "@Bob__ even if it is 1D going from + to - (and vice versa) imposes passing by zero, what his definition of his Zero here?."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 134, "user_id": 8599142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa460d1b8eb70cd862ac0dfdaff807a?s=128&d=identicon&r=PG&f=1", "display_name": "organicoman", "link": "https://stackoverflow.com/users/8599142/organicoman"}, "edited": false, "score": 0, "creation_date": 1512597120, "post_id": 47682637, "comment_id": 82327679, "body": "@organicoman Well, I can&#39;t speak for they. For me, the rockect at time 0 has height 0, velocity 0 (let&#39;s assume that reference system) and max mass (plenty of fuel). It is subject to two fighting forces, gravity and its thrust (we are not considering the restraining reaction of terrain and as a result of bad data, OP&#39;s rocket is falling down). If the thrust were enough the rocket would accelerate, gaining speed (positive, upwards) and reach the maximum speed just when the fuel ends (g is costant in this model). It&#39;s still climbing, but now decelerating, V become 0 at the maximum heigth."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1512630160, "post_id": 47682637, "comment_id": 82337767, "body": "@Bob There is actually a term for air resistance."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1512631420, "post_id": 47682637, "comment_id": 82338336, "body": "@MartinBonner Yes, there is and it is correct only for positive velocity. It should have a sign opposite to the velocity (direction of motion). BTW, the main problem is probably in the calculation of the mass. A misplacement of a bracket, at least."}, {"owner": {"reputation": 2198, "user_id": 8459055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdc4d783c65c0ab6ff327551fb953c4?s=128&d=identicon&r=PG&f=1", "display_name": "omkaartg", "link": "https://stackoverflow.com/users/8459055/omkaartg"}, "edited": false, "score": 0, "creation_date": 1512661575, "post_id": 47682637, "comment_id": 82357336, "body": "@MartinBoner yes, Martin sorry you are right how did I mess up java and C. Sorry just use floor instead of Math.ceil and get the value before declaring array"}], "answers": [{"tags": [], "owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "is_accepted": false, "score": 0, "last_activity_date": 1512591514, "creation_date": 1512591514, "answer_id": 47682794, "question_id": 47682637, "link": "https://stackoverflow.com/questions/47682637/modeling-velocity-and-height-of-rocket-c/47682794#47682794", "title": "Modeling velocity and height of rocket c++", "body": "<p>You are using v[i-1] but i starts out at 0, therefore this calculation is going to use whatever happens to be at v[-1]. I suggest you initialize i to 1 (and then check all the uses of i to ensure that the correct array elements will be used).</p>\n"}, {"tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 0, "last_activity_date": 1512591576, "creation_date": 1512591576, "answer_id": 47682815, "question_id": 47682637, "link": "https://stackoverflow.com/questions/47682637/modeling-velocity-and-height-of-rocket-c/47682815#47682815", "title": "Modeling velocity and height of rocket c++", "body": "<p>I am not 100% convinced about the forumla, I dont understand why it contains a <code>v[i]</code> and a <code>v[i-1]</code> term. Anyhow, even if correct, in the first iteration (<code>i==0</code>) you are accesing out of bounds of the velocity array: <code>v[i-1]</code>. That is undefined behaviour. </p>\n\n<p>To fix this, either review the formula, does it really contain a <code>v[i-1]</code> term? ..or start the iteration at <code>i=1</code> (and initialize <code>v[0]</code> and <code>v[1]</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1512630046, "last_edit_date": 1512630046, "creation_date": 1512592630, "answer_id": 47683054, "question_id": 47682637, "link": "https://stackoverflow.com/questions/47682637/modeling-velocity-and-height-of-rocket-c/47683054#47683054", "title": "Modeling velocity and height of rocket c++", "body": "<p>Ignoring the out-of-bounds access to <code>v[-1]</code> when <code>i</code> is zero, there is something wrong with your thrust, mass, or g.  </p>\n\n<p>thrust is 7000, mass is 3000 at time = 0.  That means thrust/mass is just over 2.  With g=32 (really? you are doing rocketry calculations in imperial units?), that means the rocket never has enough thrust to counter gravity, and just sits on the pad.</p>\n\n<hr>\n\n<p>Edit:  That would be reality.  Because this is a fairly simple simulation, and doesn't include a \"pad\", in the model the rocket starts free-falling to the centre of the earth.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9016471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576e0e95bda2aac5fce26e3a38278921?s=128&d=identicon&r=PG&f=1", "display_name": "Maz", "link": "https://stackoverflow.com/users/9016471/maz"}, "is_accepted": true, "score": 0, "last_activity_date": 1512952874, "creation_date": 1512952874, "answer_id": 47745043, "question_id": 47682637, "link": "https://stackoverflow.com/questions/47682637/modeling-velocity-and-height-of-rocket-c/47745043#47745043", "title": "Modeling velocity and height of rocket c++", "body": "<p>Thank you guys for your help I was able to solve it. </p>\n\n<pre><code>    #include &lt;iostream&gt;\n\n    using namespace std;\n\n   int main()\n  {\n  double *v;\ndouble *h;\ndouble g = 32.2;\ndouble K = .008;\ndouble mass;\ndouble t;\ndouble dt;\ndouble tt = 0;\ndouble thrust;\n\ncout &lt;&lt; \"t \\n\";\ncin &gt;&gt; t;\ncout &lt;&lt; \"dt \\n\";\ncin &gt;&gt; dt;\n\ndouble a = t/dt;\nv = new double[a];\nh = new double[a];\nv[0] = 0;\nh[0] = 0;\nfor (int i = 0; i &lt;= a; i++)\n{\n\n    tt = tt+dt;\n\n    if( tt == 0)\n    {\n        thrust = 7000;\n        mass = (3000 -40*dt)/g;\n        v[i+1] = v[i] + ((thrust/mass)-g)*dt;\n    }\n    else if( tt &gt; 0 &amp;&amp; tt &lt; 60)\n    {\n        thrust = 7000;\n        mass = (3000 - 40 *tt)/g;\n        v[i+1] = v[i] - ((K/mass)*v[i]*v[i-1] * dt) + ((thrust/mass) - g)*dt;\n    }\n    else if (tt &gt; 60)\n    {\n        thrust = 0;\n        mass = 600/g;\n        v[i+1] = v[i] - ((K/mass)*v[i]*v[i-1] * dt) + ((thrust/mass) - g)*dt;\n    }\n    h[i+1] = v[i+1] * dt + h[i];\n\n}\n\n\n\ncout &lt;&lt; \" end results \\n\";\nfor(int i = 0; i &lt;= a; i++)\n{\n    cout &lt;&lt; i &lt;&lt; \" v - \" &lt;&lt; v[i] &lt;&lt; \" h - \" &lt;&lt; h[i] &lt;&lt;endl;\n\n}\n\nreturn 0;\n}\n</code></pre>\n\n<p>New results:</p>\n\n<p>t \n120\ndt \n.01\n end results \n0 v - 0 h - 0\n1 v - 0.429434 h - 0.00429434\n2 v - 0.858967 h - 0.012884\n3 v - 1.2886 h - 0.02577\n4 v - 1.71833 h - 0.0429534\n5 v - 2.14817 h - 0.064435\n6 v - 2.5781 h - 0.090216\n7 v - 3.00813 h - 0.120297</p>\n\n<p>You can see below at 60s where the velocity changes due to no more thrust\n5997 - Velocity:890.361 \n5998 - Velocity:890.392 \n5999 - Velocity:890.422\n6000 - Velocity:886.697 \n6001 - Velocity:882.985 \n6002 - Velocity:879.302 </p>\n"}], "owner": {"reputation": 1, "user_id": 9016471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576e0e95bda2aac5fce26e3a38278921?s=128&d=identicon&r=PG&f=1", "display_name": "Maz", "link": "https://stackoverflow.com/users/9016471/maz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 47745043, "answer_count": 4, "score": 0, "last_activity_date": 1512952874, "creation_date": 1512590846, "last_edit_date": 1512593394, "question_id": 47682637, "link": "https://stackoverflow.com/questions/47682637/modeling-velocity-and-height-of-rocket-c", "title": "Modeling velocity and height of rocket c++", "body": "<p>Hi We are supposed to model the height and velocity of a rocket in c++ for our final project. Having user input the total flight time and delta time for the points during flight that they wish to measure. The following is the code I have written for this project. The velocity is supposed to start positive and after 60 seconds at which point there is no fuel left and thus no thrust the velocity should start becoming negative. However both my height and velocity are coming out as negative from the start and reaching negative infinite by the end.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    float *v;\n    float *h;\n    float a;\n\n    double mass=0.0, thrust, time, dt;\n    double g = 32.2;\n    double K = 0.008;\n\n    cout &lt;&lt; \"enter time\";\n    cin &gt;&gt; time;\n    cout &lt;&lt; \"enter dt\";\n    cin &gt;&gt; dt;\n\n    a = (time/dt);\n    v = new float[a];\n    h = new float[a];\n\n    v[0] = 0;\n    h[0] = 0;\n    float tt = 0;\n\n    // for loop to calculate velocity and time\n    for(int i = 0; i &lt;= (time/dt) ; i++)\n    {\n        tt = dt + tt;\n\n        if( tt &lt;= 60)\n        {\n            mass = (3000-(40*tt)/g);\n            thrust = 7000;\n        }\n        if ( tt &gt; 60)\n        {\n            mass = 3000/g;\n            thrust = 0;\n        }\n\n        // these are the formulas for velocity and height position our prof gave us\n        v[i+1] = v[i] - (K/mass)*v[i]*v[i-1] * dt + (thrust/mass - g)*dt;\n        h[i+1] = v[i+1] * dt + h[i];\n    }\n\n    // for loop to output\n    for(int i = 0; i &lt;= (time/dt); i++)\n    {\n        cout &lt;&lt; i &lt;&lt; \" - \" &lt;&lt; \"Velocity:\" &lt;&lt; v[i+1] &lt;&lt; \" Position:\" &lt;&lt; h[i+1] &lt;&lt;endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>sample output:</p>\n\n<pre><code>enter time120\nenter dt.01\n0 - Velocity:-0.298667 Position:-0.00298667\n1 - Velocity:-0.597333 Position:-0.00896\n2 - Velocity:-0.895999 Position:-0.01792\n3 - Velocity:-1.19467 Position:-0.0298666\n4 - Velocity:-1.49333 Position:-0.0448\n5 - Velocity:-1.792 Position:-0.0627199\n6 - Velocity:-2.09066 Position:-0.0836266\n7 - Velocity:-2.38933 Position:-0.10752\n\n&lt;...i left out a lot of numbers in the middle to not make this post too long...&gt;\n\n11994 - Velocity:-inf Position:-inf\n11995 - Velocity:-inf Position:-inf\n11996 - Velocity:-inf Position:-inf\n11997 - Velocity:-inf Position:-inf\n11998 - Velocity:-inf Position:-inf\n11999 - Velocity:-inf Position:-inf\n12000 - Velocity:-inf Position:-inf\nProgram ended with exit code: 0\n</code></pre>\n\n<p>I have compared with my friends who are getting good results and we can not determine a difference between their code and mine. I have the rest of my program complete and working fine I just cannot figure out why my calculations are wrong</p>\n"}, {"tags": ["c++", "visual-studio", "disassembly"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1512591564, "post_id": 47682617, "comment_id": 82324806, "body": "Hard to guess what you are talking about, I <i>think</i> you want the function to get inlined.  That is not going to happen until you build the Release build, right now you are looking at unoptimized Debug built code."}], "answers": [{"comments": [{"owner": {"reputation": 1123, "user_id": 2035790, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57e5e0a2efd36a92a7dc79cc5fd08154?s=128&d=identicon&r=PG&f=1", "display_name": "userInThisWorld", "link": "https://stackoverflow.com/users/2035790/userinthisworld"}, "edited": false, "score": 0, "creation_date": 1512591296, "post_id": 47682706, "comment_id": 82324678, "body": "Yes, I know, but my concern is the order of the instruction code, i.e. I want the function code as its a part of the main"}, {"owner": {"reputation": 5673, "user_id": 2376156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2s2R4.jpg?s=128&g=1", "display_name": "edtheprogrammerguy", "link": "https://stackoverflow.com/users/2376156/edtheprogrammerguy"}, "edited": false, "score": 0, "creation_date": 1512591523, "post_id": 47682706, "comment_id": 82324787, "body": "But it isn&#39;t a part of the main.  As the disassembly shows, it&#39;s a <code>call</code> to another function with its own local variables and stack operations.  Not the same exact instructions as if the code were actually in <code>main</code>"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 1123, "user_id": 2035790, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57e5e0a2efd36a92a7dc79cc5fd08154?s=128&d=identicon&r=PG&f=1", "display_name": "userInThisWorld", "link": "https://stackoverflow.com/users/2035790/userinthisworld"}, "edited": false, "score": 0, "creation_date": 1512593752, "post_id": 47682706, "comment_id": 82326007, "body": "@noor: the compiler often doesn&#39;t know whether there are more callers. That hinders inlining"}], "tags": [], "owner": {"reputation": 11238, "user_id": 7594711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7872c871b0431b72df6350dd0394bea?s=128&d=identicon&r=PG&f=1", "display_name": "SoronelHaetir", "link": "https://stackoverflow.com/users/7594711/soronelhaetir"}, "is_accepted": false, "score": 0, "last_activity_date": 1512591180, "creation_date": 1512591180, "answer_id": 47682706, "question_id": 47682617, "link": "https://stackoverflow.com/questions/47682617/disassembler-visual-studio-c/47682706#47682706", "title": "Disassembler Visual Studio C++", "body": "<p>Disassembly is always going to be a separate window, there are options on the context menu for the disassembly window that allows you to control what is shown (source code or not, or instruction addresses or not, for example).</p>\n"}, {"tags": [], "owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "is_accepted": true, "score": 1, "last_activity_date": 1512593041, "creation_date": 1512593041, "answer_id": 47683147, "question_id": 47682617, "link": "https://stackoverflow.com/questions/47682617/disassembler-visual-studio-c/47683147#47683147", "title": "Disassembler Visual Studio C++", "body": "<p>Based on <code>mov eax, 0CCCCCCCCh</code> it seems you're working with a Debug build.</p>\n\n<p>In Debug mode Visual Studio does not inline any function by default.</p>\n\n<p>You can switch to Release mode or enable function inlining in compiler settings (C/C++ - Optimization - Inline Function Expansion) and the call to <code>fun()</code> will probably get inlined.</p>\n"}], "owner": {"reputation": 1123, "user_id": 2035790, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57e5e0a2efd36a92a7dc79cc5fd08154?s=128&d=identicon&r=PG&f=1", "display_name": "userInThisWorld", "link": "https://stackoverflow.com/users/2035790/userinthisworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 47683147, "answer_count": 2, "score": 1, "last_activity_date": 1512593041, "creation_date": 1512590753, "question_id": 47682617, "link": "https://stackoverflow.com/questions/47682617/disassembler-visual-studio-c", "title": "Disassembler Visual Studio C++", "body": "<p>I am using debugging in Visual Studio and <strong><em>disassembler</em></strong> window to get the instruction code in hex, but when the main call a function (as Fig.1), the function instructions appear in a sperate section (as Fig. 2)\nIs there any way to show the function instructions appears as a part of the main?</p>\n\n<p><strong><em>main section in dissasembler window</em></strong>\n<a href=\"https://i.stack.imgur.com/z9Vk6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z9Vk6.png\" alt=\"main section idisassemblerer window\"></a></p>\n\n<p><strong><em>function section in dissasembler window</em></strong>\n<a href=\"https://i.stack.imgur.com/GaYif.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GaYif.png\" alt=\"function section in dissasembler window\"></a>\nThanks,</p>\n"}, {"tags": ["c++", "ios", "objective-c", "opengl-es"], "comments": [{"owner": {"reputation": 6020, "user_id": 4052193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6062c93ce987aa90ac59d06e758f03b6?s=128&d=identicon&r=PG&f=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/4052193/columbo"}, "edited": false, "score": 2, "creation_date": 1512594223, "post_id": 47682603, "comment_id": 82326237, "body": "Are you missing a call to glEnableVertexAttribArray?"}, {"owner": {"reputation": 1018, "user_id": 2083887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/adcfe3c37fa0824bcf64b0b661445ac8?s=128&d=identicon&r=PG&f=1", "display_name": "jProg2015", "link": "https://stackoverflow.com/users/2083887/jprog2015"}, "reply_to_user": {"reputation": 6020, "user_id": 4052193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6062c93ce987aa90ac59d06e758f03b6?s=128&d=identicon&r=PG&f=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/4052193/columbo"}, "edited": false, "score": 0, "creation_date": 1512594486, "post_id": 47682603, "comment_id": 82326367, "body": "Thanks, I did try that one, didn&#39;t seem to make a difference - and it also works rendering a basic square without that"}, {"owner": {"reputation": 6020, "user_id": 4052193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6062c93ce987aa90ac59d06e758f03b6?s=128&d=identicon&r=PG&f=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/4052193/columbo"}, "edited": false, "score": 0, "creation_date": 1512661151, "post_id": 47682603, "comment_id": 82357057, "body": "Maybe try looping through all your indices and make sure all of them are &lt; verticesCount"}], "answers": [{"tags": [], "owner": {"reputation": 1018, "user_id": 2083887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/adcfe3c37fa0824bcf64b0b661445ac8?s=128&d=identicon&r=PG&f=1", "display_name": "jProg2015", "link": "https://stackoverflow.com/users/2083887/jprog2015"}, "is_accepted": true, "score": 0, "last_activity_date": 1513041466, "creation_date": 1513041466, "answer_id": 47763985, "question_id": 47682603, "link": "https://stackoverflow.com/questions/47682603/ios-gl-es-exc-bad-access-on-gldrawelements/47763985#47763985", "title": "iOS GL ES exc_bad_access on glDrawElements", "body": "<p>The reason this was happening is because I was using GLubyte for the Indices type; which is too small for my high poly model. Not sure why the error manifested itself with this error message though; on other platforms the same code would render a junk model. Perhaps iOS specific? Hopefully this can help someone else.</p>\n"}], "owner": {"reputation": 1018, "user_id": 2083887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/adcfe3c37fa0824bcf64b0b661445ac8?s=128&d=identicon&r=PG&f=1", "display_name": "jProg2015", "link": "https://stackoverflow.com/users/2083887/jprog2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 47763985, "answer_count": 1, "score": 0, "last_activity_date": 1513041466, "creation_date": 1512590708, "last_edit_date": 1512592320, "question_id": 47682603, "link": "https://stackoverflow.com/questions/47682603/ios-gl-es-exc-bad-access-on-gldrawelements", "title": "iOS GL ES exc_bad_access on glDrawElements", "body": "<p>I'm trying to make a small application that loads and renders a model on iOS using assimp and GL ES. I've worked with OpenGL before but not GL ES; and never anything on iOS.</p>\n\n<p>Currently I'm getting a EXC_BAD_ACCESS error upon calling glDrawElements; and I can't see what I'm doing wrong.</p>\n\n<p>This is my Vertex type:</p>\n\n<pre><code>typedef struct {\n    float Position[3];\n} Vertex;\n</code></pre>\n\n<p>And this is my Mesh type:</p>\n\n<pre><code>class Mesh {\npublic:\n    Vertex* vertices;\n    GLuint verticesCount;\n    GLubyte* indices;\n    GLuint indicesCount;\n\n    std::vector&lt;Texture&gt; textures;\n    GLuint vertexBuffer, indexBuffer;\n\n    Mesh(Vertex* vertices, GLubyte* indices, std::vector&lt;Texture&gt; textures);\n};\n</code></pre>\n\n<p>I am pretty confident that I'm loading the models correctly through assimp as I've done it before and lifted this code from another project. So I'm using that data to pass into Mesh constructor and I am populating the VBO's using this:</p>\n\n<pre><code>    glGenBuffers(1, &amp;this-&gt;vertexBuffer);\n    glBindBuffer(GL_ARRAY_BUFFER, this-&gt;vertexBuffer);\n    int sizeOfVerts = sizeof(Vertex) * this-&gt;verticesCount;\n    std::cout &lt;&lt; \"Size of verts in bytes \" &lt;&lt; unsigned(sizeOfVerts) &lt;&lt; std::endl;\n    glBufferData(GL_ARRAY_BUFFER, (GLsizeiptr)sizeOfVerts, &amp;this-&gt;vertices[0], GL_STATIC_DRAW);\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n\n    glGenBuffers(1, &amp;this-&gt;indexBuffer);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, this-&gt;indexBuffer);\n    int sizeOfInd = sizeof(GLubyte) * this-&gt;indicesCount;\n    std::cout &lt;&lt; \"Size of inds in bytes \" &lt;&lt; unsigned(sizeOfInd) &lt;&lt; std::endl;\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, (GLsizeiptr)sizeOfInd, &amp;this-&gt;indices[0], GL_STATIC_DRAW);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n</code></pre>\n\n<p>With the projection and view model matricies already set up in a pre-render function I am then calling this to render my meshes:</p>\n\n<pre><code>- (void)renderMesh:(Mesh*)mesh\n{\n    glBindBuffer(GL_ARRAY_BUFFER, mesh-&gt;vertexBuffer);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, mesh-&gt;indexBuffer);\n\n    glVertexAttribPointer(_positionSlot, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), 0);\n\n    int meshSize = mesh-&gt;indicesCount;\n    glDrawElements(GL_TRIANGLES, meshSize, GL_UNSIGNED_BYTE, 0);\n\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n}\n</code></pre>\n\n<p>With _positionSlot being an attrib location in my shader. I know my shader works as I have already used it to draw boring squared and such - so the error is definitely in the above code - <em>somewhere</em>.</p>\n\n<p>Thanks in advance guys, I'll make sure I both upvote and accept :)</p>\n"}, {"tags": ["c++", "qt", "word-wrap", "qstring", "qlabel"], "comments": [{"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512596967, "post_id": 47682196, "comment_id": 82327619, "body": "do you want to  resize QLabel automatically with inside text?"}, {"owner": {"reputation": 6908, "user_id": 5366641, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/71e9ba6e3cdac2461999d9c32ad9d507?s=128&d=identicon&r=PG", "display_name": "scopchanov", "link": "https://stackoverflow.com/users/5366641/scopchanov"}, "edited": false, "score": 0, "creation_date": 1512608590, "post_id": 47682196, "comment_id": 82331668, "body": "If the <i>QLabel</i> is not part of a layout, try to set its height to the value returned by <a href=\"http://doc.qt.io/qt-5/qwidget.html#heightForWidth\" rel=\"nofollow noreferrer\">QWidget::heightForWidth</a>."}, {"owner": {"reputation": 1, "user_id": 9056978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bcfa3dbffaa9b08d0ba39a42e53a24?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ueda", "link": "https://stackoverflow.com/users/9056978/rafael-ueda"}, "reply_to_user": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512651939, "post_id": 47682196, "comment_id": 82350983, "body": "@Mohammadreza Panahi yes, I want exactly this."}, {"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512659786, "post_id": 47682196, "comment_id": 82356219, "body": "can you give me some minutes?"}, {"owner": {"reputation": 1, "user_id": 9056978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bcfa3dbffaa9b08d0ba39a42e53a24?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ueda", "link": "https://stackoverflow.com/users/9056978/rafael-ueda"}, "edited": false, "score": 0, "creation_date": 1512660059, "post_id": 47682196, "comment_id": 82356396, "body": "Yes. Thanks man"}, {"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512668415, "post_id": 47682196, "comment_id": 82361455, "body": "I did it.... :)"}, {"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512675467, "post_id": 47682196, "comment_id": 82365088, "body": "was it really useful?"}, {"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1512675553, "post_id": 47682196, "comment_id": 82365123, "body": "please answer me... please accept my answer as the best....."}, {"owner": {"reputation": 2748, "user_id": 6165833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b6bbdd7a7472d52c14da82af5eb6d20?s=128&d=identicon&r=PG&f=1", "display_name": "ymoreau", "link": "https://stackoverflow.com/users/6165833/ymoreau"}, "edited": false, "score": 0, "creation_date": 1512723340, "post_id": 47682196, "comment_id": 82381272, "body": "You need to explain how are organized your layouts and the window to understand why your <code>QLabel</code> gets cropped, it is not the normal behaviour."}], "answers": [{"comments": [{"owner": {"reputation": 2748, "user_id": 6165833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b6bbdd7a7472d52c14da82af5eb6d20?s=128&d=identicon&r=PG&f=1", "display_name": "ymoreau", "link": "https://stackoverflow.com/users/6165833/ymoreau"}, "reply_to_user": {"reputation": 1, "user_id": 9056978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bcfa3dbffaa9b08d0ba39a42e53a24?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ueda", "link": "https://stackoverflow.com/users/9056978/rafael-ueda"}, "edited": false, "score": 0, "creation_date": 1512723261, "post_id": 47697943, "comment_id": 82381229, "body": "@RafaelUeda Then you should check your layouts, maybe the sizePolicy of other widgets, because the <code>QLabel</code> preferred size will always fit your whole text height (even for multiple lines). I strongly discourage to use the solution of <i>Mohammadreza Panahi</i> because layouts allow you to do this automatically in a more flexible way, except if you have a very very specific use case. Playing yourself with the sizes is always a source of bugs and future limitations, very bad idea when you can avoid it."}], "tags": [], "owner": {"reputation": 2748, "user_id": 6165833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b6bbdd7a7472d52c14da82af5eb6d20?s=128&d=identicon&r=PG&f=1", "display_name": "ymoreau", "link": "https://stackoverflow.com/users/6165833/ymoreau"}, "is_accepted": false, "score": 0, "last_activity_date": 1512659004, "creation_date": 1512659004, "answer_id": 47697943, "question_id": 47682196, "link": "https://stackoverflow.com/questions/47682196/fit-qlabel-height-without-wordwrap/47697943#47697943", "title": "Fit QLabel height without WordWrap", "body": "<p><code>QLabel</code> should resize automatically to the needed height if you place it in the layout, it does not matter if wordWrap is enabled or not, see the doc :\n<a href=\"http://doc.qt.io/qt-5/layout.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/layout.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "is_accepted": false, "score": 1, "last_activity_date": 1512668227, "creation_date": 1512668227, "answer_id": 47700731, "question_id": 47682196, "link": "https://stackoverflow.com/questions/47682196/fit-qlabel-height-without-wordwrap/47700731#47700731", "title": "Fit QLabel height without WordWrap", "body": "<p>I write it as <code>height</code> scalable :</p>\n\n<pre><code>QLabel lbl;\nint count = 0;\nQString str = \"\";\n\n// set lbl text \nlbl.setText(\"hfdsf\\ncsad\\nfsc\\dajkjkjkjhhkdkca\\n925\");\nstr = lbl.text();\n\nfor(int i = 0;i &lt; str.length();i++)\n    if(str.at(i).cell() == '\\n')\n        count++;\n\n// resize lbl (width and height)\nlbl.resize(lbl.fontMetrics().width(\"this is the max-length line in qlabel\")\n         , lbl.fontMetrics().height() * (count + 1));\n</code></pre>\n\n<p>Notice : this work if you change <code>QLable</code> font <code>face</code> or <code>size</code>! just in height scalable (before every thing set your <code>QLabel</code> frameShape to <code>BOX</code>).</p>\n\n<p>if you want do <code>width</code> scalable-content, you should do these steps :</p>\n\n<ul>\n<li>read <code>QLabel</code>(lbl <code>object</code>) text as line to line</li>\n<li>calculate every line length</li>\n<li>select maximum of line length</li>\n<li>use of <code>QLabel::fontMetrics().width(QString str)</code> for investigate <code>str</code> size in <code>width</code></li>\n</ul>\n\n<p>I hope this can help you...</p>\n"}], "owner": {"reputation": 1, "user_id": 9056978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bcfa3dbffaa9b08d0ba39a42e53a24?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ueda", "link": "https://stackoverflow.com/users/9056978/rafael-ueda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561468930, "creation_date": 1512589141, "last_edit_date": 1561468930, "question_id": 47682196, "link": "https://stackoverflow.com/questions/47682196/fit-qlabel-height-without-wordwrap", "title": "Fit QLabel height without WordWrap", "body": "<p>I need to do a manual word wrap because the native wordWrap from Qt splits in wrong places. I've already done the wrap to my text, but the content wasn't showing all the content. The QLabel was cutting the top and the bottom like the image:</p>\n\n<p>Can I fit the Qlabel to the height of the text inside it without wordWrap?</p>\n"}, {"tags": ["c++", "qt", "background", "qgraphicsview"], "comments": [{"owner": {"reputation": 1605, "user_id": 4179302, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-71QIq2eev8E/AAAAAAAAAAI/AAAAAAAAA0c/KCUZGf1P-7Y/photo.jpg?sz=128", "display_name": "apalomer", "link": "https://stackoverflow.com/users/4179302/apalomer"}, "edited": false, "score": 0, "creation_date": 1512590798, "post_id": 47682185, "comment_id": 82324415, "body": "Do you want the image (which has lines but could have a lion), or to have lines drawn in the background as a grid similar to your attached image? If it is the earlier, <a href=\"https://forum.qt.io/topic/6313/qgraphicsview-with-qpixmap-background\" rel=\"nofollow noreferrer\">this</a> might help. If it is the later, maybe <a href=\"https://stackoverflow.com/questions/37981512/draw-a-line-with-qpainter-using-qgraphicsview-subclass\">this</a> can help."}, {"owner": {"reputation": 153, "user_id": 9047822, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6a63eba58fdd74c846ef0128e02414c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gamma", "link": "https://stackoverflow.com/users/9047822/gamma"}, "reply_to_user": {"reputation": 1605, "user_id": 4179302, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-71QIq2eev8E/AAAAAAAAAAI/AAAAAAAAA0c/KCUZGf1P-7Y/photo.jpg?sz=128", "display_name": "apalomer", "link": "https://stackoverflow.com/users/4179302/apalomer"}, "edited": false, "score": 0, "creation_date": 1512591609, "post_id": 47682185, "comment_id": 82324825, "body": "@apalomer I need second one, lines drawn in the background as a grid similar to this image"}], "owner": {"reputation": 153, "user_id": 9047822, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6a63eba58fdd74c846ef0128e02414c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gamma", "link": "https://stackoverflow.com/users/9047822/gamma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512589105, "creation_date": 1512589105, "question_id": 47682185, "link": "https://stackoverflow.com/questions/47682185/how-to-change-qgraphicsview-background", "title": "How to change QGraphicsView background", "body": "<p>How can I change <code>QGraphicsView</code> background like this image. </p>\n\n<p><a href=\"https://i.imgur.com/JgIUqNL.png?1\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/JgIUqNL.png?1\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512589913, "post_id": 47682036, "comment_id": 82323923, "body": "Supposedly this array contains population count of 16-bit numbers. I.e., at each index, it is stored, how many bits are set in that particular 16-bit number. <code>1&lt;&lt;16</code> expresses this better, than using 65536. Note: <code>int</code> can be changed to <code>signed char</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 3, "creation_date": 1512589478, "post_id": 47682055, "comment_id": 82323692, "body": "@KirillBulygin I didn&#39;t downvote, but it&#39;s likely because you haven&#39;t answered the question. OP expresses that he understands bit manipulation (so likely already knows how big the array will be). He&#39;s more curious as to <b>why</b> someone would do this, which your post doesn&#39;t answer. (granted the only way to really know why someone would do this would be to ask them, which is why I <i>did</i> vote to close this as opinion based)"}, {"owner": {"reputation": 3180, "user_id": 4875869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Et6rMvbhpQ4/AAAAAAAAAAI/AAAAAAAAAIM/tGpQoqm18cs/photo.jpg?sz=128", "display_name": "Kirill Bulygin", "link": "https://stackoverflow.com/users/4875869/kirill-bulygin"}, "reply_to_user": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1512591288, "post_id": 47682055, "comment_id": 82324674, "body": "@scohe001 You have a point, although there&#39;s no evidence that OP understood that <code>1&lt;&lt;16 = 2**16</code>. I&#39;ve updated the answer."}], "tags": [], "owner": {"reputation": 3180, "user_id": 4875869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Et6rMvbhpQ4/AAAAAAAAAAI/AAAAAAAAAIM/tGpQoqm18cs/photo.jpg?sz=128", "display_name": "Kirill Bulygin", "link": "https://stackoverflow.com/users/4875869/kirill-bulygin"}, "is_accepted": true, "score": 2, "last_activity_date": 1512591922, "last_edit_date": 1512591922, "creation_date": 1512588493, "answer_id": 47682055, "question_id": 47682036, "link": "https://stackoverflow.com/questions/47682036/reason-for-using-bit-manipulation-in-array-size/47682055#47682055", "title": "Reason for using bit manipulation in array size", "body": "<p><code>1&lt;&lt;16</code> is a common way to write <code>2 ** 16</code>, which is easier to verify and modify than the \"magic number\" 65536. You may also encounter things like <code>1000 * 1000</code> instead of <code>1000000</code> for the same reason (although C++14 allows for <code>1000'000</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 3, "last_activity_date": 1512589747, "last_edit_date": 1512589747, "creation_date": 1512589300, "answer_id": 47682247, "question_id": 47682036, "link": "https://stackoverflow.com/questions/47682036/reason-for-using-bit-manipulation-in-array-size/47682247#47682247", "title": "Reason for using bit manipulation in array size", "body": "<p>Unless you find a comment in the code and unless you find out what the intent of <code>popcount</code> is, one can just guess why one writes  <code>1 &lt;&lt; 16</code> instead of, for example, <code>65536</code>.</p>\n\n<p>A common case could be that you want to count the number of occurrences of a particular id in, for example, a file. If the range of such an id where 16 bits,  then such code could look as follows. The <code>[1&lt;&lt;16]</code> then expresses that you expect a range of not more  than 16 bits:</p>\n\n<pre><code> int popcounts[1&lt;&lt;16] = { 0 };\n\n int main() {\n    uint16_t id;\n    while (myfile &gt;&gt; id) {\n      popcounts[id]++;\n    }\n }\n</code></pre>\n\n<p>Note that this is more accurate than writing <code>int popcounts[UINT_MAX]</code>, because <code>UINT_MAX</code> is guaranteed to be <em>equal or greater</em> than <code>65536</code>, and it is not guaranteed to be exactly <code>65536</code>.</p>\n"}], "owner": {"reputation": 197, "user_id": 8598843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd4e52fed49ae83d586498d4bd6e7603?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush Soni", "link": "https://stackoverflow.com/users/8598843/piyush-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1512589584, "accepted_answer_id": 47682055, "answer_count": 2, "score": 1, "last_activity_date": 1512602693, "creation_date": 1512588413, "last_edit_date": 1512602693, "question_id": 47682036, "link": "https://stackoverflow.com/questions/47682036/reason-for-using-bit-manipulation-in-array-size", "closed_reason": "Needs details or clarity", "title": "Reason for using bit manipulation in array size", "body": "\n\n\n\n\n\n<p>\nI have recently got a basic idea of bit manipulation, and I was going through a problem where I found this C++ statement:</p>\n\n<pre><code>int popcount[1&lt;&lt;16];\n</code></pre>\n\n<p>I do have a basic idea of left/right Bit shift, but I would like to know why it is used in array size place.</p>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 4620, "user_id": 5260982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ww1JG.png?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/5260982/dave"}, "edited": false, "score": 1, "creation_date": 1512588610, "post_id": 47682028, "comment_id": 82323238, "body": "Please include your code in the question now a link to pictures of the code."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1512588645, "post_id": 47682028, "comment_id": 82323258, "body": "Welcome to StackOverflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 573, "user_id": 2765456, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8eSE2.jpg?s=128&g=1", "display_name": "BooleanCheese", "link": "https://stackoverflow.com/users/2765456/booleancheese"}, "edited": false, "score": 0, "creation_date": 1512588691, "post_id": 47682028, "comment_id": 82323293, "body": "Format your post correctly rather than including the code in imgur"}, {"owner": {"reputation": 1053, "user_id": 7885081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZvVb.png?s=128&g=1", "display_name": "Jose Fernando Lopez Fernandez", "link": "https://stackoverflow.com/users/7885081/jose-fernando-lopez-fernandez"}, "reply_to_user": {"reputation": 573, "user_id": 2765456, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8eSE2.jpg?s=128&g=1", "display_name": "BooleanCheese", "link": "https://stackoverflow.com/users/2765456/booleancheese"}, "edited": false, "score": 1, "creation_date": 1512588778, "post_id": 47682028, "comment_id": 82323330, "body": "But after you format your post correctly as @BooleanCheese said, please format your actual code correctly. Please don&#39;t format it like that. Please."}, {"owner": {"reputation": 1, "user_id": 9063650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iQdrERjq90s/AAAAAAAAAAI/AAAAAAAAACU/rf-klTPrCps/photo.jpg?sz=128", "display_name": "naksmoester luetarpa", "link": "https://stackoverflow.com/users/9063650/naksmoester-luetarpa"}, "edited": false, "score": 0, "creation_date": 1512589278, "post_id": 47682028, "comment_id": 82323583, "body": "I have entered the code as required. Please review the question. Thank you."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1512589404, "post_id": 47682028, "comment_id": 82323654, "body": "p is a pointer to a char. You have not allocated space for the char but you attempt input a value into it. I assume you are not permitted to use a <code>std::string</code>."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1512589544, "post_id": 47682028, "comment_id": 82323727, "body": "<code>sizeof(class file))</code> we leave out the class here. Note that sizeof() is a compile time constant. and name is a pointer to a character array that is  outside the class. Your binary read / write will not store the data that name points to."}, {"owner": {"reputation": 1, "user_id": 9063650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iQdrERjq90s/AAAAAAAAAAI/AAAAAAAAACU/rf-klTPrCps/photo.jpg?sz=128", "display_name": "naksmoester luetarpa", "link": "https://stackoverflow.com/users/9063650/naksmoester-luetarpa"}, "edited": false, "score": 0, "creation_date": 1512589652, "post_id": 47682028, "comment_id": 82323780, "body": "yep! that worked @drescherjim .!! Thanks !!    i FEEL like an ass right now !"}, {"owner": {"reputation": 1, "user_id": 9063650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iQdrERjq90s/AAAAAAAAAAI/AAAAAAAAACU/rf-klTPrCps/photo.jpg?sz=128", "display_name": "naksmoester luetarpa", "link": "https://stackoverflow.com/users/9063650/naksmoester-luetarpa"}, "edited": false, "score": 0, "creation_date": 1512589732, "post_id": 47682028, "comment_id": 82323824, "body": "but it&#39;s working fine with the keyword class being added there . :-/"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1512589757, "post_id": 47682028, "comment_id": 82323841, "body": "If it is working that is bad luck. It should not work. Sometimes undefined behavior appears to work. If you separated this into 2 programs it will fail. What I mean by that is you are not saving the text to the binary file at all."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1512590433, "post_id": 47682028, "comment_id": 82324204, "body": "@naksmoesterluetarpa Here&#39;s <a href=\"https://stackoverflow.com/questions/46991224/are-there-any-valid-use-cases-to-use-new-and-delete-raw-pointers-or-c-style-arr\">why you shouldn&#39;t use raw pointers with c++ at all</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4732, "user_id": 8477999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8172e1919af53269de92316dcf03a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gem Taylor", "link": "https://stackoverflow.com/users/8477999/gem-taylor"}, "is_accepted": true, "score": 0, "last_activity_date": 1512589506, "creation_date": 1512589506, "answer_id": 47682295, "question_id": 47682028, "link": "https://stackoverflow.com/questions/47682028/file-handling-i-o-c-error/47682295#47682295", "title": "file handling I/O c++ error", "body": "<p>You have p as some pointer. Who is going to allocate the memory that pointer points to?<br>\nIn C it is almost always the responsibility of the caller to allocate any buffers before the call.<br>\nIf you don't want to, then use a std::string instead.</p>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 1469167, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/06958996a4d5d3d7a26a7360e84d2394?s=128&d=identicon&r=PG", "display_name": "Triskeldeian", "link": "https://stackoverflow.com/users/1469167/triskeldeian"}, "is_accepted": false, "score": 0, "last_activity_date": 1512590314, "creation_date": 1512590314, "answer_id": 47682504, "question_id": 47682028, "link": "https://stackoverflow.com/questions/47682028/file-handling-i-o-c-error/47682504#47682504", "title": "file handling I/O c++ error", "body": "<p>First of all I would advise you to read some basic manual about the c++ pointers and memory handling so you will better understand the source of the problem.</p>\n\n<p>There are two major problems in your code.\nThe first is that you are creating a pointer which is not connected to any allocated memory. In simple words you are asking to access a memory address without asking the system to reserve it for you.</p>\n\n<p>Additionally, in that memory location there can already be stored any bit configuration. The initialization of a variable is the task of giving a chunk of memory some data which have a meaningful interpretation. I'm not even sure what the in-stream operator of char* is supposed to do in this particular case. He is probably appending your characters after the last one which is not a 0 or an end of line.</p>\n"}], "owner": {"reputation": 1, "user_id": 9063650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iQdrERjq90s/AAAAAAAAAAI/AAAAAAAAACU/rf-klTPrCps/photo.jpg?sz=128", "display_name": "naksmoester luetarpa", "link": "https://stackoverflow.com/users/9063650/naksmoester-luetarpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 47682295, "answer_count": 2, "score": -5, "last_activity_date": 1512590314, "creation_date": 1512588394, "last_edit_date": 1512589220, "question_id": 47682028, "link": "https://stackoverflow.com/questions/47682028/file-handling-i-o-c-error", "title": "file handling I/O c++ error", "body": "<blockquote>\n  <p>this is the code which i am trying to run.The compiler shows some warning that the variable 'p' may be possible to be used uninitialized.\n  And ..on running it has a problem ..i will show..below.\n  please correct me and explain .\n  Thank you. \n  <a href=\"https://i.stack.imgur.com/V49bR.png\" rel=\"nofollow noreferrer\">execution of code</a>\n  *\n  <a href=\"https://i.stack.imgur.com/4GTqN.png\" rel=\"nofollow noreferrer\">code </a>\n  that error is that..the first two elements of the character array being output are somewhat messed up!!!*</p>\n</blockquote>\n\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nclass file{\npublic:int a;\nchar* name;\npublic:\nfile(int x,char* b):a(x){name=b;}\nvoid printfile(){cout&lt;&lt;a&lt;&lt;\" \"&lt;&lt;name&lt;&lt;endl;}\n};\nint main(){\nchar *p;\nint x=10;\ncout&lt;&lt;\"enter a name\"&lt;&lt;endl;\ncin&gt;&gt;p;\nfile k(x,p);\nofstream f(\"file\",ios::out|ios::binary);\nf.write((char*)&amp;k,sizeof(class file));\nf.close();\nifstream of(\"file\",ios::in|ios::binary);\nfile o(0,'\\0');\nof.read((char*)&amp;o,sizeof(class file));\no.printfile();\nof.close();\nreturn 1;\n}\n</code></pre>\n"}, {"tags": ["c++", "openssl", "hmac"], "comments": [{"owner": {"reputation": 1362, "user_id": 1366027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113fc570a09e03414126d8cda5f971c?s=128&d=identicon&r=PG", "display_name": "pcarter", "link": "https://stackoverflow.com/users/1366027/pcarter"}, "edited": false, "score": 0, "creation_date": 1512588904, "post_id": 47682005, "comment_id": 82323401, "body": "Your second code block doesn&#39;t change <code>result</code>. You have just copied the prototypes of the functions. You have to <b>call</b> the functions if you expect result to change like in your first code block."}, {"owner": {"reputation": 1, "user_id": 8854331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d81fb841b3393a777029a3a0722fdd?s=128&d=identicon&r=PG&f=1", "display_name": "jonB", "link": "https://stackoverflow.com/users/8854331/jonb"}, "reply_to_user": {"reputation": 1362, "user_id": 1366027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113fc570a09e03414126d8cda5f971c?s=128&d=identicon&r=PG", "display_name": "pcarter", "link": "https://stackoverflow.com/users/1366027/pcarter"}, "edited": false, "score": 0, "creation_date": 1512627109, "post_id": 47682005, "comment_id": 82336512, "body": "you can write an example?"}, {"owner": {"reputation": 1955, "user_id": 8967928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0acd9a5526f9cfc04266e4e2b83f60?s=128&d=identicon&r=PG&f=1", "display_name": "lockcmpxchg8b", "link": "https://stackoverflow.com/users/8967928/lockcmpxchg8b"}, "edited": false, "score": 0, "creation_date": 1512628441, "post_id": 47682005, "comment_id": 82337045, "body": "They&#39;re mostly the same functions...have you even tried?  (SO is not a code writing service after all...)"}, {"owner": {"reputation": 1, "user_id": 8854331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d81fb841b3393a777029a3a0722fdd?s=128&d=identicon&r=PG&f=1", "display_name": "jonB", "link": "https://stackoverflow.com/users/8854331/jonb"}, "edited": false, "score": 0, "creation_date": 1512658479, "post_id": 47682005, "comment_id": 82355285, "body": "Of course I tried. I have obtained all the time  HMAC digest: 0000000000000000000000000000000000000000"}, {"owner": {"reputation": 1362, "user_id": 1366027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113fc570a09e03414126d8cda5f971c?s=128&d=identicon&r=PG", "display_name": "pcarter", "link": "https://stackoverflow.com/users/1366027/pcarter"}, "edited": false, "score": 1, "creation_date": 1512693935, "post_id": 47682005, "comment_id": 82372337, "body": "You seem confused about the difference between a function <b>prototype</b> and a function <b>call</b>. What happens if you use the first code block with the new library? In your second block, you just define the function prototypes, you don&#39;t actually <i>call</i> any of the library functions. So the <code>result</code> array isn&#39;t changed from what <code>malloc</code> initializes it to. So it&#39;s no surprise at all that it&#39;s all zeroes."}, {"owner": {"reputation": 1, "user_id": 8854331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d81fb841b3393a777029a3a0722fdd?s=128&d=identicon&r=PG&f=1", "display_name": "jonB", "link": "https://stackoverflow.com/users/8854331/jonb"}, "edited": false, "score": 0, "creation_date": 1512821422, "post_id": 47682005, "comment_id": 82417276, "body": "the problem decided. thanks to all"}], "owner": {"reputation": 1, "user_id": 8854331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d81fb841b3393a777029a3a0722fdd?s=128&d=identicon&r=PG&f=1", "display_name": "jonB", "link": "https://stackoverflow.com/users/8854331/jonb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512658532, "creation_date": 1512588287, "last_edit_date": 1512658532, "question_id": 47682005, "link": "https://stackoverflow.com/questions/47682005/update-openssl-do-not-work-hmac", "title": "update openssl, do not work hmac", "body": "<p>there is code</p>\n\n<pre><code> #include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;openssl/hmac.h&gt;\n\nint main() {\n    const char key[] = \"012345678\";\n    char data[] = \"hello world\";\n    unsigned char* result;\n    unsigned int len = 20;\n    result = (unsigned char*)malloc(sizeof(char) * len);\n    HMAC_CTX ctx;\n    HMAC_CTX_init(&amp;ctx);\n    HMAC_Init_ex(&amp;ctx, key, strlen(key), EVP_sha1(), NULL);\n    HMAC_Update(&amp;ctx, (unsigned char*)&amp;data, strlen(data));\n    HMAC_Final(&amp;ctx, result, &amp;len);\n    HMAC_CTX_cleanup(&amp;ctx);\n    printf(\"HMAC digest: \");\n\n    for (int i = 0; i != len; i++)\n        printf(\"%02x\", (unsigned int)result[i]);\n\n    printf(\"\\n\");\n    free(result);\n\n}\n</code></pre>\n\n<p>output HMAC digest: e19e220122b37b708bfb95aca2577905acabf0c0</p>\n\n<p>I can not update this code for openssl 1.1.0.\nThe new version changed the syntax hmac.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string.h&gt;\n#include &lt;openssl/hmac.h&gt;\n\n\nusing namespace std;\nint main() {\n    const char key[] = \"012345678\";\n    char data[] = \"hello world\";\n    int datalen = strlen(data);\n    int keylen = strlen(key);\n\n\n    unsigned char* result;\n    unsigned int len = 20;\n    result = (unsigned char*)malloc(sizeof(char) * len);\n    cout &lt;&lt; datalen  &lt;&lt; endl;\n    cout &lt;&lt; keylen  &lt;&lt; endl;\n    cout &lt;&lt; len  &lt;&lt; endl;\n\n    HMAC_CTX *HMAC_CTX_new();\n    int HMAC_CTX_reset(HMAC_CTX *ctx);\n    int HMAC_Init_ex(HMAC_CTX *ctx, const  char key, int keylen, const EVP_MD  EVP_sha1());\n    int HMAC_Update(HMAC_CTX * ctx,  char &amp;data, int datalen);\n    int HMAC_Final(HMAC_CTX * ctx, char result, int &amp;len);\n    int HMAC_CTX_cleanup(HMAC_CTX * ctx);\n\n    printf(\"HMAC digest: \");\n\n    for (int i = 0; i != len; i++)\n        printf(\"%02x\", (unsigned int)result[i]);\n\n    printf(\"\\n\");\n    free(result);\n    return 0;\n}\n</code></pre>\n\n<p>output HMAC digest: 0000000000000000000000000000000000000000</p>\n\n<p>I will be glad of any help</p>\n"}, {"tags": ["c++", "uwp", "visual-studio-2017", "anti-cheat"], "comments": [{"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512597809, "post_id": 47682002, "comment_id": 82328011, "body": "Can you answer the question from the closed (duplicate) question?"}, {"owner": {"reputation": 1, "user_id": 8077235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WfG8l3EP5yk/AAAAAAAAAAI/AAAAAAAAACg/sTCOZu0T72k/photo.jpg?sz=128", "display_name": "\u0414\u0430\u043d\u0438\u043b \u0421\u043f\u0438\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/8077235/%d0%94%d0%b0%d0%bd%d0%b8%d0%bb-%d0%a1%d0%bf%d0%b8%d1%80%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512637993, "post_id": 47682002, "comment_id": 82341747, "body": "I&#39;ve answered. Maybe notification didn&#39;t come. Here is a copy-paste from closed question: \t I changed TargetDeviceFamily like you said.Target platform version and Target platform min version- 10.0.16299.0 the result remained the same \u2013 \u0414\u0430\u043d\u0438\u043b \u0421\u043f\u0438\u0440\u0438\u043d 2 days ago"}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512698355, "post_id": 47682002, "comment_id": 82373354, "body": "I can reproduce the issue... checking..."}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512768152, "post_id": 47682002, "comment_id": 82405245, "body": "Are you working with a Microsoft account rep for your game? You can&#39;t use this feature, even for side - loading, without permission from Microsoft."}, {"owner": {"reputation": 1, "user_id": 8077235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WfG8l3EP5yk/AAAAAAAAAAI/AAAAAAAAACg/sTCOZu0T72k/photo.jpg?sz=128", "display_name": "\u0414\u0430\u043d\u0438\u043b \u0421\u043f\u0438\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/8077235/%d0%94%d0%b0%d0%bd%d0%b8%d0%bb-%d0%a1%d0%bf%d0%b8%d1%80%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512852352, "post_id": 47682002, "comment_id": 82426572, "body": "No, i didn&#39;t get this permission. How can i reseive it?"}, {"owner": {"reputation": 1, "user_id": 8077235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WfG8l3EP5yk/AAAAAAAAAAI/AAAAAAAAACg/sTCOZu0T72k/photo.jpg?sz=128", "display_name": "\u0414\u0430\u043d\u0438\u043b \u0421\u043f\u0438\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/8077235/%d0%94%d0%b0%d0%bd%d0%b8%d0%bb-%d0%a1%d0%bf%d0%b8%d1%80%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1512852360, "post_id": 47682002, "comment_id": 82426580, "body": "I&#39;m doing a research work which is related with anti-cheat technologies in university, if it&#39;s matter."}], "owner": {"reputation": 1, "user_id": 8077235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WfG8l3EP5yk/AAAAAAAAAAI/AAAAAAAAACg/sTCOZu0T72k/photo.jpg?sz=128", "display_name": "\u0414\u0430\u043d\u0438\u043b \u0421\u043f\u0438\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/8077235/%d0%94%d0%b0%d0%bd%d0%b8%d0%bb-%d0%a1%d0%bf%d0%b8%d1%80%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512588276, "creation_date": 1512588276, "question_id": 47682002, "link": "https://stackoverflow.com/questions/47682002/trueplay-interface", "title": "TruePlay interface", "body": "<p>I tried to run TruePlay tutorial from <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/mt808781(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/mt808781(v=vs.85).aspx</a> , but got an error :</p>\n\n<blockquote>\n  <p>\"Unable to activate Windows Store app 'AppName'. The ProcessName\n  process started, but the activation request failed with error\n  'ErrorNumber'(it says \"an error has been found in the system binary file, try to restore your PC)- translation from russian \"</p>\n</blockquote>\n\n<p>I used a new C++ UWP project in Visual Studio 2017</p>\n\n<p>Also, when i change my Package.appxmanifest (like in tutorial from link above) and build the project this warning comes out:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2gflN.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2gflN.png</a></p>\n\n<p><em>File manifest:</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n\r\n&lt;Package\r\n  xmlns=\"http://schemas.microsoft.com/appx/manifest/foundation/windows10\"\r\n  xmlns:mp=\"http://schemas.microsoft.com/appx/2014/phone/manifest\"\r\n  xmlns:uap=\"http://schemas.microsoft.com/appx/manifest/uap/windows10\"\r\n  xmlns:rescap=\"http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities\"\r\n  IgnorableNamespaces=\"uap mp rescap\"&gt;\r\n\r\n\r\n  &lt;Identity\r\n    Name=\"76f3b46c-58e3-422b-a2ee-c9d7dfd62e9b\"\r\n    Publisher=\"CN=dana\"\r\n    Version=\"1.0.0.0\" /&gt;\r\n\r\n  &lt;mp:PhoneIdentity PhoneProductId=\"76f3b46c-58e3-422b-a2ee-c9d7dfd62e9b\" PhonePublisherId=\"00000000-0000-0000-0000-000000000000\"/&gt;\r\n\r\n  &lt;Properties&gt;\r\n    &lt;DisplayName&gt;App6&lt;/DisplayName&gt;\r\n    &lt;PublisherDisplayName&gt;dana&lt;/PublisherDisplayName&gt;\r\n    &lt;Logo&gt;Assets\\StoreLogo.png&lt;/Logo&gt;\r\n  &lt;/Properties&gt;\r\n\r\n  &lt;Dependencies&gt;\r\n    &lt;TargetDeviceFamily Name=\"Windows.Universal\" MinVersion=\"10.0.0.0\" MaxVersionTested=\"10.0.0.0\" /&gt;\r\n  &lt;/Dependencies&gt;\r\n\r\n  &lt;Resources&gt;\r\n    &lt;Resource Language=\"x-generate\"/&gt;\r\n  &lt;/Resources&gt;\r\n\r\n  &lt;Applications&gt;\r\n    &lt;Application Id=\"App\"\r\n      Executable=\"$targetnametoken$.exe\"\r\n      EntryPoint=\"App6.App\"&gt;\r\n      &lt;uap:VisualElements\r\n        DisplayName=\"App6\"\r\n        Square150x150Logo=\"Assets\\Square150x150Logo.png\"\r\n        Square44x44Logo=\"Assets\\Square44x44Logo.png\"\r\n        Description=\"App6\"\r\n        BackgroundColor=\"transparent\"&gt;\r\n        &lt;uap:DefaultTile Wide310x150Logo=\"Assets\\Wide310x150Logo.png\"/&gt;\r\n        &lt;uap:SplashScreen Image=\"Assets\\SplashScreen.png\" /&gt;\r\n      &lt;/uap:VisualElements&gt;\r\n    &lt;/Application&gt;\r\n  &lt;/Applications&gt;\r\n\r\n  &lt;Capabilities&gt;\r\n    &lt;Capability Name=\"internetClient\" /&gt;\r\n    &lt;rescap:Capability Name=\"gameMonitor\" /&gt;\r\n    &lt;rescap:Capability Name=\"protectedApp\" /&gt;\r\n  &lt;/Capabilities&gt;\r\n&lt;/Package&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c++", "linux", "qt", "ssl"], "comments": [{"owner": {"reputation": 4406, "user_id": 4911665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f4f3ec7f68e33af504b9055abed79b7?s=128&d=identicon&r=PG&f=1", "display_name": "talamaki", "link": "https://stackoverflow.com/users/4911665/talamaki"}, "edited": false, "score": 0, "creation_date": 1512645512, "post_id": 47682000, "comment_id": 82346837, "body": "Please clarify the question: are you developing both client and server on Qt? Are you running them on the same machine (same openssl version)? How are you setting SSL configuration parameters, certificates, protocol version etc.."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 6555919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ebe3f9ab8ea1aff04f996830a06c2e?s=128&d=identicon&r=PG&f=1", "display_name": "sebaskow", "link": "https://stackoverflow.com/users/6555919/sebaskow"}, "is_accepted": false, "score": 2, "last_activity_date": 1524813193, "creation_date": 1524813193, "answer_id": 50057205, "question_id": 47682000, "link": "https://stackoverflow.com/questions/47682000/linux-qt-error-creating-ssl-context-error-140a90c4/50057205#50057205", "title": "Linux/Qt - Error creating SSL Context (error: 140A90C4 ...)", "body": "<p>Try to install a new library.\nsudo apt-get install libssl1.0-dev</p>\n\n<p>see: <a href=\"https://github.com/subutai-io/control-center/issues/528\" rel=\"nofollow noreferrer\">https://github.com/subutai-io/control-center/issues/528</a></p>\n"}], "owner": {"reputation": 35, "user_id": 7148312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fbcf1e567deb3eb6038e66bbceddecc?s=128&d=identicon&r=PG&f=1", "display_name": "Papierschnellboot", "link": "https://stackoverflow.com/users/7148312/papierschnellboot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1961, "favorite_count": 0, "protected_date": 1524813652, "answer_count": 1, "score": 1, "last_activity_date": 1524813193, "creation_date": 1512588266, "question_id": 47682000, "link": "https://stackoverflow.com/questions/47682000/linux-qt-error-creating-ssl-context-error-140a90c4", "title": "Linux/Qt - Error creating SSL Context (error: 140A90C4 ...)", "body": "<p>Trying to set up a TCP-Server with a SSL-Encryption via QSslSocket in Qt5 on a Ubuntu 17.04 System. When I connect with a client QAbstractSocket throws out the following error:</p>\n\n<p><em>Error creating SSL context (error:140A90C4:SSL routines:SSL_CTX_new:null ssl method passed, error:140A90C4:SSL routines:SSL_CTX_new:null ssl method passed)</em></p>\n\n<p>Here are some things I already found in other threats:</p>\n\n<pre><code>qDebug() &lt;&lt; \"SSL Support: \" &lt;&lt; QSslSocket::supportsSsl();\nqDebug() &lt;&lt; \"Compile Time: \" &lt;&lt; QSslSocket::sslLibraryBuildVersionString();\nqDebug() &lt;&lt; \"Run Time: \" &lt;&lt; QSslSocket::sslLibraryVersionString();\n</code></pre>\n\n<p>gives out:</p>\n\n<pre><code>SSL Support:  true\nCompile Time:  \"OpenSSL 1.0.2g  1 Mar 2016\"\nRun Time:  \"OpenSSL 1.0.2g  1 Mar 2016\"\n</code></pre>\n\n<p>When I run <code>openssl version</code> in the terminal, I get <code>OpenSSL 1.0.2g  1 Mar 2016</code> as answer.</p>\n\n<p>Anyone any idea how to fix that error?</p>\n"}, {"tags": ["c++", "multithreading", "assembly", "arm", "atomic"], "comments": [{"owner": {"reputation": 4681, "user_id": 6651824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LWsU0.jpg?s=128&g=1", "display_name": "LWimsey", "link": "https://stackoverflow.com/users/6651824/lwimsey"}, "edited": false, "score": 1, "creation_date": 1512588419, "post_id": 47681748, "comment_id": 82323138, "body": "Both atomic and non-atomic operations work on a cache line basis. It&#39;s allowed by the C++ memory model to concurrently modify variables at a different address, even when they&#39;re in the same cache line (which is somewhat hard to tell anyway)."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "reply_to_user": {"reputation": 4681, "user_id": 6651824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LWsU0.jpg?s=128&g=1", "display_name": "LWimsey", "link": "https://stackoverflow.com/users/6651824/lwimsey"}, "edited": false, "score": 1, "creation_date": 1512590587, "post_id": 47681748, "comment_id": 82324271, "body": "@LWimsey The C++ memory model goes out the window when <code>asm</code> is used. A C++ compiler might for example make various optimizations (eg. accessing <code>atomic_data</code> and <code>data</code> in one 64-bit access or not using &quot;unnecessary&quot; atomic instructions) that still results in the code it generates conforming to the C++ memory model, but breaks when this asm statement is used (or breaks the assumptions this asm statement makes)."}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1512591155, "post_id": 47681748, "comment_id": 82324598, "body": "Honestly, more concerned if the <code>stxr</code> will return <code>1</code> here because the hardware detected that someone modified the atomic variable&#39;s cache line, but not the actual atomic variable so therefore causing spurious failures.  If so, then in a case where many other vars are on the atomic&#39;s line, it could cause a case where the atomic is never able to &quot;complete&quot; due to this cache line meddling and therefore causing a forever lock trying to atomically increment the variable."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1512593399, "post_id": 47681748, "comment_id": 82325823, "body": "Certainly false negatives will be an issue if the C++ compiler is also generating exclusive access instructions that access the same cache line and are being run in parallel on other CPUs at the same time. It seems unlikely that you&#39;d run into the case where one thread never is able to acquire a lock or whatever because of this contention, but ultimately it&#39;s up to you to ensure that."}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1512597060, "post_id": 47681748, "comment_id": 82327651, "body": "But what about non-exclusive accesses?  Will non-exclusive accesses to the same cache line as an exclusive access cause contention?"}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 1, "creation_date": 1512603806, "post_id": 47681748, "comment_id": 82330395, "body": "Are you asking whether stores to <code>data</code> from <i>different</i> CPUs will cause the atomic RMW of <code>atomic_data</code> to fail, or about accesses to <code>data</code> from the <i>same</i> CPU? In the first case, the answer is an obvious YES, a write to the same cacheline by another thread will absolutely cause the RMW to fail."}], "answers": [{"comments": [{"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 2, "creation_date": 1512621988, "post_id": 47685344, "comment_id": 82334844, "body": "Just to be clear, when they say &quot;fail&quot;, they almost certainly mean that the <code>stxr</code> will need to retry.  (i.e. that it won&#39;t store anything, and will set <code>w2</code> non-zero so the CBNZ will be taken).  It&#39;s not really plausible that it could result in a non-atomic store becoming visible to other threads!  Especially when the store isn&#39;t even between the <code>ldaxr</code> and <code>stxr</code> (LL/SC pair)"}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1512622181, "post_id": 47685344, "comment_id": 82334892, "body": "You could test on the CPU(s) you have access to by instrumenting your code: incrementing one counter outside the LL/SC retry loop, and another (in a register) inside the LL/SC loop.  The difference is the number of LL/SC retries.  If you get more than interrupts can explain in single-threaded code, then there are conditions where an in-flight store to the same cache line is problematic."}, {"owner": {"reputation": 50907, "user_id": 149138, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cfd457233c8ebbab383475fc097442d9?s=128&d=identicon&r=PG", "display_name": "BeeOnRope", "link": "https://stackoverflow.com/users/149138/beeonrope"}, "edited": false, "score": 0, "creation_date": 1512622597, "post_id": 47685344, "comment_id": 82334997, "body": "Of course ARM&#39;s position is is <i>totally reasonable</i>. They want to keep their options for a variety of current and future implementations, and even if they did want to explain the behavior it would probably not have a simple rule at all. You should assume that concurrent stores to the same line could cause some LL/SC operations to fail since the general model how these work is that the load basically sets a flag on the cache line &quot;has a pending SC&quot; which gets cleared if the line gets lost to another core. That&#39;s why you want to keep the critical region as small as possible."}, {"owner": {"reputation": 50907, "user_id": 149138, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cfd457233c8ebbab383475fc097442d9?s=128&d=identicon&r=PG", "display_name": "BeeOnRope", "link": "https://stackoverflow.com/users/149138/beeonrope"}, "edited": false, "score": 2, "creation_date": 1512622750, "post_id": 47685344, "comment_id": 82335039, "body": "Now some implementation might, as a QoS issue, have a policy where they delay relinquishing a cache line with LL set to a snoop from another core, to give the SC a better chance to succeed, but even that is going to be a short bounded delay. You think even if ARM did that on some chip they are doing to document as architectural behavior? No way! Probably not even as a performance hint in an optimization guide. It&#39;s mostly all academic since you should avoid that kind of contention anyways."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1512637359, "post_id": 47685344, "comment_id": 82341353, "body": "In practice this really shouldn&#39;t matter. Another CPU would need to be constantly writing to the same cache line you&#39;re trying to perform the atomic operation in order to cause the atomic operation to never complete and &quot;fail&quot;. However this is a situation you need to avoid anyways, because it doesn&#39;t take such an extreme amount of contention for the same cache line to cause big performance problems."}, {"owner": {"reputation": 18888, "user_id": 1880339, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0PkGx.png?s=128&g=1", "display_name": "artless noise", "link": "https://stackoverflow.com/users/1880339/artless-noise"}, "edited": false, "score": 1, "creation_date": 1512670986, "post_id": 47685344, "comment_id": 82362747, "body": "It should be fine if your re-order the code to put the generic load/store inside the ldxr/stxr test.  This will say the whole cache line was committed atomically.  Also, this is faster as you are writing to CPU cache.  The other way, the CPU would have to flush before the <code>ldarx</code>.  If the values are not related, then don&#39;t put them in the same cache line (or always allocate atomics in cache granules).  In this light, I don&#39;t think they are that limiting of a restriction."}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1512674343, "post_id": 47685344, "comment_id": 82364480, "body": "Inherited code failing a brain dead test...  The truth is, I expected a write to the same cache line/granule to cause the atomic to fail as this is common sense, but was just looking for 100% confirmation from the docs.  Seeing the implementation defined statement annoyed me :)  This drove me to fix my problem in a 100% generic way anyway so good still came from this sojourn."}, {"owner": {"reputation": 2991, "user_id": 3877787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPxhf.jpg?s=128&g=1", "display_name": "Zalman Stern", "link": "https://stackoverflow.com/users/3877787/zalman-stern"}, "edited": false, "score": 0, "creation_date": 1512677016, "post_id": 47685344, "comment_id": 82365874, "body": "This is why people do things like make mutexes 128 bytes in size and align them to 128-byte boundaries despite that the basic structure can be much smaller. It is also a strong justification for hardware atomic-fetch-op support for things like histogram computation, etc. As elegant as LL/SC seems, it is hardly perfect."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "reply_to_user": {"reputation": 2991, "user_id": 3877787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPxhf.jpg?s=128&g=1", "display_name": "Zalman Stern", "link": "https://stackoverflow.com/users/3877787/zalman-stern"}, "edited": false, "score": 0, "creation_date": 1512683510, "post_id": 47685344, "comment_id": 82368963, "body": "@ZalmanStern: if you&#39;re going to multi-thread a histogram, it&#39;s probably faster to have each thread keep a separate count array.  Maybe I&#39;m biased by x86, where atomic increment is only available with a full memory barrier; If HW supports relaxed atomic increment without hurting memory pipelining in the uncontended case, it could be good for very large bin counts where separate copies are problematic.  Related: If you&#39;re not counting, but rather just setting bits, you can non-atomic update / fence / read back the globally visible state to check it: <a href=\"https://stackoverflow.com/a/45994685/224132\">stackoverflow.com/a/45994685/224132</a>."}, {"owner": {"reputation": 2991, "user_id": 3877787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPxhf.jpg?s=128&g=1", "display_name": "Zalman Stern", "link": "https://stackoverflow.com/users/3877787/zalman-stern"}, "edited": false, "score": 0, "creation_date": 1512695892, "post_id": 47685344, "comment_id": 82372806, "body": "Histogram was more intended as something more people can visualize/reason about than as a something where this happens a lot, but fetch-op implementations do get used on GPUs. It comes up more when things get complex and multiple types of bins are kept at once. (Also in some situations, the performance of the cross-thread reduction matters too. One can do it via a tree of course. Fetch-op tries to push these complexities to the hardware.) We plan to add atomic-arithemtic-op support to Halide for some of these GPU use cases. (I&#39;d edit my original, but it&#39;s too late :-))"}], "tags": [], "owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "is_accepted": true, "score": 2, "last_activity_date": 1512675131, "last_edit_date": 1512675131, "creation_date": 1512603753, "answer_id": 47685344, "question_id": 47681748, "link": "https://stackoverflow.com/questions/47681748/will-a-non-atomic-load-to-the-same-cache-line-as-an-atomic-variable-cause-the-at/47685344#47685344", "title": "Will a non-atomic load to the same cache line as an atomic variable cause the atomic variable to fail?", "body": "<p>Ok, finally found what I needed, though I don't like it:</p>\n\n<p>According to the ARM documentation, It is IMPLEMENTATION DEFINED whether a non-exclusive store to the same cache line as the exclusive store causes the exclusive store to fail.  Thanks ARM.  Appreciate that wonderful non-conclusive info.  </p>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>By fail, I mean the <code>stxr</code> command did not write to memory and returned a \"1\" in the status register.  \"Your atomic data updated and needs new RMW\" status.</p>\n\n<p><strong>To answer other statements:</strong></p>\n\n<ul>\n<li><p>Yes, atomic critical areas should be as small as possible.  The docs event give numbers on how small, and they are very reasonable indeed.  I hope that my sections never span 1k or more...</p></li>\n<li><p>And yes, any situation where you would need to worry about this kind of contention killing performance or worse means your code is \"doing it wrong.\"  The ARM docs are state this in a round about manner :)</p></li>\n<li><p>As to putting the non-atomic loads and stores inside the atomics - my pseudo test above was just demonstrating a random access to the same cache line as an example.  In real code, you obviously should avoid this.  I was just trying to get a feeling for how \"bad\" it might be if, perhaps a high speed hardware timer store was hitting the same cache line as a lock.  Again, don't do this... </p></li>\n</ul>\n"}], "owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 47685344, "answer_count": 1, "score": 4, "last_activity_date": 1512675302, "creation_date": 1512587284, "last_edit_date": 1512675302, "question_id": 47681748, "link": "https://stackoverflow.com/questions/47681748/will-a-non-atomic-load-to-the-same-cache-line-as-an-atomic-variable-cause-the-at", "title": "Will a non-atomic load to the same cache line as an atomic variable cause the atomic variable to fail?", "body": "<p>Given something like this on an ARMv8 CPU (though this may apply to many others as well):</p>\n\n<pre><code>class abcxzy \n{\n  // Pragma align to cacheline to ensure they exist on same line.\n  unit32_t atomic_data;\n  uint32_t data;\n\n  void foo()\n  {\n    volatile asm (\n      \"   ldr w0, [address of data]\\n\"\n      \"# Do stuff with data in w0...\"\n      \"   str w0, [address of data]\\n\"\n\n      \"1: ldaxr w0, [address of atomic_data]\\n\"\n      \"   add w1, w0, #0x1\\n\"\n      \"   stxr w2,w1, [address of atomic_data]\\n\"\n      \"   cbnz w2, 1b\\n\"\n    );\n  }\n}\n</code></pre>\n\n<p>With proper clobbers and such set on the Asm inline so that C and Asm can coexist happily in a world of rainbow ponies and sunshine.</p>\n\n<p>In a multiple CPU situation, all running this code at the same time, will the stores to <code>data</code> cause the atomic load/store to <code>atomic_data</code> to fail?  From what I've read, the ARM atomic stuff works on a cache line basis, but it is not clear if the non-atomic store will affect the atomic.  I hope that it it doesn't (and assume that it does...), but I am looking to see if anyone else can confirm this.</p>\n"}, {"tags": ["c++", "c++11", "std"], "comments": [{"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 1, "creation_date": 1512588036, "post_id": 47681582, "comment_id": 82322907, "body": "<code>to_array&lt;Point&gt;({{3, 3}, {5, 5}, {1, 5}});</code>. This overload of <code>to_array</code> is not included in N4391, but its implementation is present in <a href=\"https://gist.github.com/lichray/6034753\" rel=\"nofollow noreferrer\">gist.github.com/lichray/6034753</a> ."}, {"owner": {"reputation": 1073, "user_id": 3763139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkUYr.jpg?s=128&g=1", "display_name": "Sopel", "link": "https://stackoverflow.com/users/3763139/sopel"}, "edited": false, "score": 0, "creation_date": 1512589617, "post_id": 47681582, "comment_id": 82323761, "body": "if you&#39;re assigning to constexpr variable then I don&#39;t see how you could think there is another way"}, {"owner": {"reputation": 5213, "user_id": 457488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3265ae55bf80e40f9fe031c6378306e6?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/457488/brad"}, "reply_to_user": {"reputation": 1073, "user_id": 3763139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkUYr.jpg?s=128&g=1", "display_name": "Sopel", "link": "https://stackoverflow.com/users/3763139/sopel"}, "edited": false, "score": 0, "creation_date": 1512593194, "post_id": 47681582, "comment_id": 82325710, "body": "@Sopel, I didn&#39;t think constexpr would matter, as it works fine with regular types, so I ran a test and it still wouldn&#39;t build.  I&#39;ve removed constexpr from the example to clarify."}, {"owner": {"reputation": 5213, "user_id": 457488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3265ae55bf80e40f9fe031c6378306e6?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/457488/brad"}, "reply_to_user": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 0, "creation_date": 1512593720, "post_id": 47681582, "comment_id": 82325989, "body": "@cpplearner, that implementation of to_array did indeed work.  If you want to submit that as an answer I&#39;d be happy to accept it.  Do you know any details on the difference between to_array and make_array?  I&#39;ve seen references to both but no clear distinctions on when to use one vs the other."}], "owner": {"reputation": 5213, "user_id": 457488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3265ae55bf80e40f9fe031c6378306e6?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/457488/brad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1512595003, "creation_date": 1512586659, "last_edit_date": 1512595003, "question_id": 47681582, "link": "https://stackoverflow.com/questions/47681582/using-stdmake-array-with-c-structs", "title": "Using std::make_array with C structs", "body": "<p>I have been experimenting with <a href=\"http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4391.html\" rel=\"nofollow noreferrer\">std::make_array()</a>, and overall very happy with the results.  The code is a little cleaner and I don't have to specify the array size as a template parameter.</p>\n\n<p>One unknown I've run into is how to use make_array with raw C structs.  For example,</p>\n\n<pre><code>struct Point {\n    int x, y;\n};\n\nauto triangle = std::make_array&lt;point&gt;({3, 3}, {5, 5}, {1, 5});\n</code></pre>\n\n<p>I can get this to work if I create a constexpr constructor for Point.  This isn't always an option - some of my structs are defined in headers used by C code.  Using std::array's constructor works fine.  Is there any way to get this to work with std::make_array?</p>\n"}, {"tags": ["c++", "linux", "multithreading", "qt", "qt5"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "edited": false, "score": 0, "creation_date": 1512587214, "post_id": 47681630, "comment_id": 82322456, "body": "Will it stop the child thread being running? If not, then while emitting the signal, will the thread pause inside the block <code>if (hide == 0)</code> or will it just emit the signal and the child thread remains in the execution?"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "edited": false, "score": 0, "creation_date": 1512587592, "post_id": 47681630, "comment_id": 82322653, "body": "@xcfg96 No, emitting a signal does not block. It will continue with the while-loop until the thread is interrupted. Keep in mind, though, that this will emit a signal <i>each time</i> it goes through the loop and the condition is valid. Also, doing <code>hide = 1 - hide</code> means that the visibility of the main window will <i>toggle</i> each time through the loop if the if-statement condition is met. I think you just want to set <code>hide</code> to the value of that if-statement&#39;s condition. I.e., hide if the position is something, else show."}, {"owner": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "edited": false, "score": 0, "creation_date": 1512588988, "post_id": 47681630, "comment_id": 82323443, "body": "Thanks. One last thing, can you give me a <code>connect</code> statement as mine is giving error as I don&#39;t know how to create object of MainWindow? I tried but failed in errors : <code>connect(&amp;mouseThread, SIGNAL(MouseTrack::toggleMainDisplay(bool)), MainWindow, SLOT(MainWindow::changeDisplayStatus(bool)), Qt::DirectConnection);</code> I will implement your above comment. I got it. But what about the parent class object inside the connect function?"}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "edited": false, "score": 0, "creation_date": 1512590488, "post_id": 47681630, "comment_id": 82324232, "body": "That&#39;s because the signal is not a member of the thread object, it&#39;s a member of the <code>MouseTrack</code> object. Make the connection in the <code>MainWindow</code> constructor, where you make the others. Use <code>QObject::connect(mT, &amp;MouseTrack::toggleMainDisplay, this, &amp;MainWindow::changeDisplayStatus)</code>. I&#39;d really recommend you (re-)read the docs on <a href=\"https://doc.qt.io/qt-5/signalsandslots.html\" rel=\"nofollow noreferrer\">signals and slots</a>."}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "edited": false, "score": 0, "creation_date": 1512590764, "post_id": 47681630, "comment_id": 82324391, "body": "Also, you shouldn&#39;t need to use <code>X11</code>-specific stuff for this. All <code>QWidget</code> subclasses (including your <code>MainWindow</code>) receive events related to mouse tracking, such as position, clicks, etc. You can override the <a href=\"https://doc.qt.io/qt-5/qwidget.html#mouseMoveEvent\" rel=\"nofollow noreferrer\"><code>QWidget::mouseMoveEvent()</code></a> event handler, doing the hiding/showing of the window within that method. Look at how <a href=\"https://doc.qt.io/qt-5/qtwidgets-widgets-scribble-example.html\" rel=\"nofollow noreferrer\">this example</a> overrides that event-handler for details."}], "tags": [], "owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "is_accepted": true, "score": 1, "last_activity_date": 1512586847, "creation_date": 1512586847, "answer_id": 47681630, "question_id": 47681466, "link": "https://stackoverflow.com/questions/47681466/how-to-call-the-parent-thread-function-from-the-separately-running-child-thread/47681630#47681630", "title": "How to call the parent thread function from the separately running child thread in loop in Qt", "body": "<p>The way you've set this up, the <code>MainWindow</code> and the <code>MouseTrack</code> objects live in different threads. So directly calling the <code>MainWindow::showDisplay()</code> member function from <code>MouseTrack::trackpointer()</code> is not a good idea. This is exactly what signals and slots are for.</p>\n\n<p>Add a signal to your <code>MouseTrack</code> class, called something like <code>requestHide(bool)</code>, and connect it to the <code>MainWindow::setVisible()</code> slot. In the <code>MouseTrack::trackpointer()</code> function, emit the signal with <code>emit requestHide(hide)</code>. The <code>MainWindow</code> will then toggle its visibility.</p>\n"}], "owner": {"reputation": 23, "user_id": 9060633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba388ecb2a1d60caeb0da56363e1eca?s=128&d=identicon&r=PG&f=1", "display_name": "xcfg96", "link": "https://stackoverflow.com/users/9060633/xcfg96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 47681630, "answer_count": 1, "score": 1, "last_activity_date": 1512586847, "creation_date": 1512586177, "question_id": 47681466, "link": "https://stackoverflow.com/questions/47681466/how-to-call-the-parent-thread-function-from-the-separately-running-child-thread", "title": "How to call the parent thread function from the separately running child thread in loop in Qt", "body": "<p>I have the <code>QMainWindow::show()</code> and <code>hide()</code> functions respectively in the MainWindow class that creates the Qt window (GUI) and returns the <code>exec()</code>. From the same class constructor, I have called made the thread to another class slot function that runs in a background continuously listening to the global mouse coordinates and it should toggle display/hide the GUI mainwindow when the mouse is at the bottom of the screen and is moving along the x axis. Here is the code :  </p>\n\n<pre><code>#include \"mainwindow.hpp\"\n#include \"Xmousetrack.hpp\"\n\nMainWindow::MainWindow(QWidget *parent) : QMainWindow(parent)\n{\n\n    MouseTrack * mT = new MouseTrack;\n    mT-&gt;moveToThread(&amp;mouseThread);\n\n    connect(&amp;mouseThread, SIGNAL(finished()), mT, SLOT(deleteLater()));\n    connect(this, SIGNAL(signalPointer(int&amp;,int&amp;)), mT, SLOT(trackPointer(int&amp;,int&amp;)));\n    mouseThread.start();\n}\n\nvoid MainWindow::showDisplay()\n{\n    MainWindow::show();\n}\n\nvoid MainWindow::hideDisplay()\n{\n    MainWindow::hide();\n}\n\n\nMainWindow::~MainWindow()\n{\n    mouseThread.requestInterruption();\n    mouseThread.quit();\n    mouseThread.wait();\n}\n\n// class blueprint in Xmousetrack.hpp\nMouseTrack::MouseTrack()\n{\n    dpr = XOpenDisplay(NULL);\n    if (!dpr)\n    {\n      std::cerr &lt;&lt; \"XOpenDisplay(0x0) returned 0x0\" &lt;&lt; std::endl;\n      std::exit(EXIT_FAILURE);\n    }\n\n    Xheight = HeightOfScreen(dpr);\n    Xheight -= (Xheight - 20); //the last 20 height in pixels of the screen\n    xdo = xdo_new(NULL);\n}\n\nMouseTrack::~MouseTrack() { xdo_free(xdo); }\n\n\nvoid MouseTrack::trackpointer(int &amp;x, int &amp;y) //slot function \n{\n    xdo_get_mouse_location(xdo, &amp;x , &amp;y , CURRENTWINDOW); // libx11 fucntion\n    prev_x = x;\n\n    while(!QThread::currentThread()-&gt;isInterruptionRequested())\n    {\n        usleep(1000);\n        xdo_get_mouse_location(xdo, &amp;x , &amp;y , CURRENTWINDOW);\n        if ( abs(x - prev_x) &gt; 10 and y &gt;= Xheight)\n        {\n            hide = 1 - hide;\n            if (hide == 0)\n           {\n            // I NEED TO CALL MainWindow::showDisplay() here \n           }\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>I have tried all the Qt mouse functions for the purpose and failed and now I am using X11 lib and it works fine as a separate module. This is my problem in combined all in one and calling the <code>MainWindow::showDisplay()</code> function of the parent thread.</p>\n"}, {"tags": ["c++", "string", "for-loop", "if-statement", "boolean"], "comments": [{"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 2, "creation_date": 1512586450, "post_id": 47681446, "comment_id": 82322041, "body": "<code>int dim=0; char common[dim];</code> doesn&#39;t look right"}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1512586756, "post_id": 47681446, "comment_id": 82322212, "body": "<code>dim</code> and <code>common</code> in <code>print_2c()</code> are not the same as <code>dim</code> and <code>common</code> in <code>main()</code>, that could be the source of your confusion"}, {"owner": {"reputation": 11, "user_id": 9063460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d8160d1e67d9263523011ff3f87493e?s=128&d=identicon&r=PG&f=1", "display_name": "Progrm", "link": "https://stackoverflow.com/users/9063460/progrm"}, "reply_to_user": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1512586896, "post_id": 47681446, "comment_id": 82322280, "body": "Yes! Exactly. How do I make them the same?"}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1512587229, "post_id": 47681446, "comment_id": 82322465, "body": "either make them global, or pass references to the function as parameters"}, {"owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "edited": false, "score": 0, "creation_date": 1512589217, "post_id": 47681446, "comment_id": 82323549, "body": "Hi @Progrm, I show you how to pass in common array as a parameter in my answer below"}, {"owner": {"reputation": 11, "user_id": 9063460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d8160d1e67d9263523011ff3f87493e?s=128&d=identicon&r=PG&f=1", "display_name": "Progrm", "link": "https://stackoverflow.com/users/9063460/progrm"}, "edited": false, "score": 0, "creation_date": 1512590823, "post_id": 47681446, "comment_id": 82324429, "body": "Just noticed, thank you so much!!"}, {"owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "edited": false, "score": 0, "creation_date": 1512601700, "post_id": 47681446, "comment_id": 82329594, "body": "@Progrm Great! Be sure to mark it as the selected answer!"}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 1967221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5U3DX.png?s=128&g=1", "display_name": "JTejedor", "link": "https://stackoverflow.com/users/1967221/jtejedor"}, "is_accepted": false, "score": 0, "last_activity_date": 1512586914, "last_edit_date": 1512586914, "creation_date": 1512586502, "answer_id": 47681546, "question_id": 47681446, "link": "https://stackoverflow.com/questions/47681446/int-stays-the-same-outside-for-loop/47681546#47681546", "title": "INT stays the same outside FOR loop", "body": "<p>You are creating a char array with size 0.</p>\n\n<pre><code>int dim=0;//&lt;-- Here!!\nchar common[dim];\n</code></pre>\n\n<p>Change dim for the proper length (s1 or s2 length) and I think you would solve your problem</p>\n"}, {"tags": [], "owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "is_accepted": false, "score": 1, "last_activity_date": 1512589535, "last_edit_date": 1512589535, "creation_date": 1512587871, "answer_id": 47681901, "question_id": 47681446, "link": "https://stackoverflow.com/questions/47681446/int-stays-the-same-outside-for-loop/47681901#47681901", "title": "INT stays the same outside FOR loop", "body": "<p>Couple issues here.</p>\n\n<p>This logic:</p>\n\n<pre><code>int dim=0;\nchar common[dim];\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    if (s1[i]==s2[i])\n    {\n    common[dim++];\n    }\n}\n</code></pre>\n\n<p>...Does nothing. common[dim++] performs a lookup and throws out the value because it\u2019s not getting assigned to anything. What it seems like you\u2019re trying is to determine the the array size dim or at least increment it\u2019s size based on the number of expected matches. To do that, you must first calculate dim before you declare you\u2019re array. So:</p>\n\n<pre><code>int dim=0;\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    if (s1[i]==s2[i])\n    {\n    dim++;\n    }\n}\n\nchar common[dim]; //won\u2019t compile\n</code></pre>\n\n<p>This approach will not compile though because the compiler can\u2019t know the size of dim until the program runs. You\u2019ll need to dynamically allocate the array using \u2018new\u2019 you if you still think an array is the way to do this (consider std::vector).  </p>\n\n<pre><code>int dim=0;\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    if (s1[i]==s2[i])\n    {\n    dim++;\n    }\n}\n\nchar* common = new char[dim];\n</code></pre>\n\n<p>ALSO:</p>\n\n<p>Regarding </p>\n\n<pre><code>void print_2c(string s1, string s2, int l1, int l2){\n\n int dim=0;\nchar common[dim]; //a local array, not what you e setup\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    for (int j=0; j&lt;l1 &amp;&amp; j&lt;l2; j++){\n        if (s1[i]==s2[i])\n        common[j]=s1[i];\n        cout &lt;&lt; common[j] &lt;&lt; \"is a common letter. \\n\";      \n        }\n  }\n}\n</code></pre>\n\n<p>Whatever logic is running here is being performed on a local and empty array called common, different from the common you\u2019ve created prior to this call. It seems you want access to you array. You\u2019ll need to pass in common in some form (probably as an argument) and then you\u2019ll be able to use what you\u2019ve setup. So:</p>\n\n<pre><code>void print_2c(string s1, string s2, int l1, int l2, char* common, const int dim){\n\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    for (int j=0; j&lt;l1 &amp;&amp; j&lt;l2; j++){\n        if (s1[i]==s2[i])\n        common[j]=s1[i];\n        cout &lt;&lt; common[j] &lt;&lt; \"is a common letter. \\n\";      \n        }\n  }\n}\n</code></pre>\n\n<p>And called as:</p>\n\n<pre><code>print_2c(s1,s2,l1,l2,common,dim);\n</code></pre>\n\n<p>LASTLY:\nthis logic:</p>\n\n<pre><code>for (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    for (int j=0; j&lt;l1 &amp;&amp; j&lt;l2; j++){\n        if (s1[i]==s2[i])\n        common[j]=s1[i];\n        cout &lt;&lt; common[j] &lt;&lt; \"is a common letter. \\n\";      \n        }\n  }\n</code></pre>\n\n<p>Probably isn\u2019t doing what you want.  In the inner loop, when the char in s1 matches s2, all values in common up to min(l1,l2) are set to that char, and it\u2019ll just print out \u201cis a common letter\u201d for that char repeatedly. Common will stay filled with all entries being the same char until the next match when all values get overwritten and set to the new char value. Not what you want.</p>\n\n<p>If common instead was an array of bools and each index represented an eligible matching character (ie vowel), you could do something like:</p>\n\n<pre><code>for (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    //no inner loop needed\n        if (s1[i]==s2[i])\n        common[s1[i]]=true;\n        cout &lt;&lt; s1[i] &lt;&lt; \"is a common letter. \\n\";      \n        }\n  }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9063460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d8160d1e67d9263523011ff3f87493e?s=128&d=identicon&r=PG&f=1", "display_name": "Progrm", "link": "https://stackoverflow.com/users/9063460/progrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512589535, "creation_date": 1512586120, "last_edit_date": 1512586702, "question_id": 47681446, "link": "https://stackoverflow.com/questions/47681446/int-stays-the-same-outside-for-loop", "title": "INT stays the same outside FOR loop", "body": "<p>Function \"f_vowels\" works; it prints the number of common vowels the two strings have. The other one, \"two_c\", should work as well; it gives true if the two strings share at least two common letters in the same position. My problem is the third one, cause it should print those letters but always prints the message \"Strings don't have 2 common letters\". I think I know why: I'm increasing \"dim\" with a FOR loop, but the boolean function's still working with the original \"dim\". How do I fix this?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string.h&gt;\nusing namespace std;\n\n// functions' calls\n\nvoid f_vowels(string, string);\nbool two_c(int);\nvoid print_2c(string, string, int, int);\n\n// main\nint main(){\nstring s1, s2;\nint i, j, vowels;\nint l1, l2;\nchar vow, c1, c2;\n\ncout &lt;&lt; \"Enter your string: \";\ngetline(cin, s1);\ncout &lt;&lt; \"\\n\";\n\ncout &lt;&lt; \"Enter your string: \";\ngetline(cin, s2);\ncout &lt;&lt; \"\\n\";\n\nf_vowels(s1, s2);\n\nint dim=0;\nchar common[dim];\n\nfor (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n    if (s1[i]==s2[i])\n    {\n    common[dim++];\n    }\n}\n\ntwo_c(dim);\n\nif (two_c(dim)==true){\nprint_2c(s1, s2, l1, l2);\n} \n\nelse cout &lt;&lt; \"Strings don't have 2 common letters.\";\n\n}\n\n//functions\n\n//common vowels\n\nvoid f_vowels(string s1, string s2){\n\nint l1=s1.length();\nchar c1[l1];\ns1.copy(c1, l1);\n\nint l2=s2.length();\nchar c2[l2];\ns2.copy(c2, l2);\n\nint vowels=0;\nchar vow[]={'a','e','i','o','u','A','E','I','O','U'};\n\nfor (int i=0; i&lt;10; i++){\n    for (int j=0; j&lt;l1 &amp;&amp; j&lt;l2; j++){\n    if (c1[j]=vow[i] &amp;&amp; c2[j]==vow[i]){\n        vowels++;\n        }\n      }\n    }\n    cout &lt;&lt; vowels &lt;&lt; \"\\n\\n\";    \n    }\n\n // true if strings have at least 2 common letters in the same position\n\nbool two_c(int dim){\n\nif (dim&lt;2){\nreturn false;\n}\nelse return true;\n\n}\n\n// print boolean function\n\nvoid print_2c(string s1, string s2, int l1, int l2){\n\nint dim=0;\nchar common[dim];\n\n    for (int i=0; i&lt;l1 &amp;&amp; i&lt;l2; i++){\n        for (int j=0; j&lt;l1 &amp;&amp; j&lt;l2; j++){\n            if (s1[i]==s2[i])\n            common[j]=s1[i];\n            cout &lt;&lt; common[j] &lt;&lt; \"is a common letter. \\n\";      \n            }\n      }\n}\n</code></pre>\n"}, {"tags": ["c++", "variables", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 1754147, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89bebff4243e1faf5c8aaa37f4c92b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/1754147/dreamer"}, "edited": false, "score": 0, "creation_date": 1512888562, "post_id": 47731713, "comment_id": 82433536, "body": "&quot;The scope for.....So, the proj2 cmake file shouldn&#39;t have access to proj1_SOURCE_DIR, etc.&quot;  I don&#39;t  think this is true."}, {"owner": {"reputation": 2081, "user_id": 3048763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EdaRb.jpg?s=128&g=1", "display_name": "compor", "link": "https://stackoverflow.com/users/3048763/compor"}, "reply_to_user": {"reputation": 502, "user_id": 1754147, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89bebff4243e1faf5c8aaa37f4c92b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/1754147/dreamer"}, "edited": false, "score": 0, "creation_date": 1512904417, "post_id": 47731713, "comment_id": 82436682, "body": "yeah, that wasn&#39;t very clear. The truth is that they behave the same as other vars, but they get special treatment on <b>when</b> they are defined. Updated my answer to reflect that. Also note, that the order of <code>add_subdirectory</code> still plays the usual role."}, {"owner": {"reputation": 502, "user_id": 1754147, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89bebff4243e1faf5c8aaa37f4c92b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/1754147/dreamer"}, "edited": false, "score": 0, "creation_date": 1512930216, "post_id": 47731713, "comment_id": 82444065, "body": "Thanks for looking into this. You can take a look at my findings and see if I missed anything."}], "tags": [], "owner": {"reputation": 2081, "user_id": 3048763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EdaRb.jpg?s=128&g=1", "display_name": "compor", "link": "https://stackoverflow.com/users/3048763/compor"}, "is_accepted": false, "score": 1, "last_activity_date": 1512912163, "last_edit_date": 1512912163, "creation_date": 1512843591, "answer_id": 47731713, "question_id": 47681402, "link": "https://stackoverflow.com/questions/47681402/cmake-project-name-source-dir-variable-scope/47731713#47731713", "title": "CMake &lt;PROJECT-NAME&gt;_SOURCE_DIR Variable Scope", "body": "<p>From the documentation of <a href=\"https://cmake.org/cmake/help/v3.10/command/project.html\" rel=\"nofollow noreferrer\"><code>project</code></a>:</p>\n\n<blockquote>\n  <p>The top-level CMakeLists.txt file for a project must contain a\n  literal, direct call to the project() command; loading one through the\n  include() command is not sufficient. If no such call exists CMake will\n  implicitly add one to the top that enables the default languages (C\n  and CXX).</p>\n</blockquote>\n\n<p>So, those variables are already there and propagate scopes down the layout.</p>\n\n<p>Now, the <code>project</code> command should normally be used once in project, since it sets up various flags. If your other sub-projects are also required to be built by themselves as standalone, then a common idiom is to have a check like this:</p>\n\n<pre><code>if(CURRENT_CMAKE_SOURCE_DIR STREQUAL CMAKE_SOURCE_DIR)\n  project(foo CXX)\n\n  # other stuff here\nendif()\n</code></pre>\n\n<p>Please note that the <code>PARENT_SCOPE</code> is useful in the context of functions and their call sites.</p>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 1754147, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89bebff4243e1faf5c8aaa37f4c92b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/1754147/dreamer"}, "is_accepted": true, "score": 1, "last_activity_date": 1512930074, "creation_date": 1512930074, "answer_id": 47742003, "question_id": 47681402, "link": "https://stackoverflow.com/questions/47681402/cmake-project-name-source-dir-variable-scope/47742003#47742003", "title": "CMake &lt;PROJECT-NAME&gt;_SOURCE_DIR Variable Scope", "body": "<p>I figured out the answer by taking a close look at the cmake source code. The project command is actually setting cache entry at the top level. In this way, <code>$proj1_SOURCE_DIR</code> and <code>$proj1_BINARY_DIR</code> will be available to other sibling scopes.</p>\n\n<p><a href=\"https://github.com/Kitware/CMake/blob/420874bfaa20772525c60b20d1ee5b6ef5ed9298/Source/cmProjectCommand.cxx#L30-L40\" rel=\"nofollow noreferrer\">https://github.com/Kitware/CMake/blob/420874bfaa20772525c60b20d1ee5b6ef5ed9298/Source/cmProjectCommand.cxx#L30-L40</a></p>\n\n<p>In sum, for command project(proj1), cmake will do:\n<code>\nset(proj1_SOURCE_DIR, CACHE STATIC \"\")\nset(proj1_BINARY_DIR, CACHE STATIC \"\")\n</code></p>\n\n<p>Unlike regular <code>set(var value)</code>, the cache entry could be shared by other sibling scope.</p>\n"}], "owner": {"reputation": 502, "user_id": 1754147, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89bebff4243e1faf5c8aaa37f4c92b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/1754147/dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "accepted_answer_id": 47742003, "answer_count": 2, "score": 0, "last_activity_date": 1512930074, "creation_date": 1512585953, "question_id": 47681402, "link": "https://stackoverflow.com/questions/47681402/cmake-project-name-source-dir-variable-scope", "title": "CMake &lt;PROJECT-NAME&gt;_SOURCE_DIR Variable Scope", "body": "<p>Based on the <a href=\"https://stackoverflow.com/questions/6891447/cmake-variable-scope-add-subdirectory\">thread \"cmake variable scope, add_subdirectory\"</a>, the CMake <a href=\"https://cmake.org/cmake/help/v3.9/command/set.html\" rel=\"nofollow noreferrer\">set</a> command will set the variable in the current scope only, unless the <code>PARENT_SCOPE</code> parameter is specified.</p>\n\n<p>Recently when I was looking at the <a href=\"https://cmake.org/cmake/help/v3.9/command/project.html\" rel=\"nofollow noreferrer\">project</a> command, per CMake doc, variables <code>&lt;PROJECT-NAME&gt;_SOURCE_DIR</code> and <code>&lt;PROJECT-NAME&gt;_BINARY_DIR</code> will be set. But it didn't mention what is the scope of these variables. Can these variable be used in other subdirectory? For example:</p>\n\n<p><code>\n|- root\n| |- CMakeLists.txt  // add_subdirectory(proj1); add_subdirectory(proj2)\n| |\n| |- proj1\n| |  |- CMakeLists.txt  // project(proj1)\n| |\n| |- proj2\n| |  |- CMakeLists.txt  // Does this have access to proj1_SOURCE_DIR or \n                        // poj1_BINARY_DIR?\n</code></p>\n\n<p>What about variables for other command like <code>Find_Package</code>? What is the scope of the <code>&lt;Module&gt;_FOUND</code> variable? Thanks!</p>\n"}, {"tags": ["c++", "visual-c++", "stl"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1512586051, "post_id": 47681377, "comment_id": 82321852, "body": "I don&#39;t know for sure whether it&#39;s related, but you&#39;re giving a vector to a function that expects iterators."}, {"owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512586515, "post_id": 47681377, "comment_id": 82322077, "body": "Thanks a lot, I will search how to pass an insert forward iterator on the vector."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1512586636, "post_id": 47681377, "comment_id": 82322150, "body": "Your vector is empty. You have to use a back_inserter."}, {"owner": {"reputation": 17331, "user_id": 8950365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c6ba3b19f86f1bea8cf76e691db4349?s=128&d=identicon&r=PG&f=1", "display_name": "rafix07", "link": "https://stackoverflow.com/users/8950365/rafix07"}, "edited": false, "score": 1, "creation_date": 1512586912, "post_id": 47681377, "comment_id": 82322290, "body": "You also have to correct <code>ws_re(&quot;\\\\&quot;)</code>, it should be <code>ws_re(&quot;\\\\\\\\&quot;)</code>."}, {"owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "edited": false, "score": 0, "creation_date": 1512587074, "post_id": 47681377, "comment_id": 82322376, "body": "Sorry of my inexperience with std. The following fails with type &#39;unknown-type&#39; unexpected.  Can someone give me a direction on what&#39;s wrong?   std::copy(std::sregex_token_iterator(line.begin(), line.end(), ws_re, -1),               std::sregex_token_iterator(),               std::back_insert_iterator&lt;std::vector&lt;std::string&gt;&gt;(to_vecto&zwnj;&#8203;r));"}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 1, "creation_date": 1512589279, "post_id": 47681377, "comment_id": 82323584, "body": "Which compiler/version? The code as shown compiles and runs fine in VS 2017 and clang 5. No L3 or L4 warnings."}, {"owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "edited": false, "score": 0, "creation_date": 1512589714, "post_id": 47681377, "comment_id": 82323813, "body": "I am using Visual Studio 2015 (I will edit the question to mention it)"}, {"owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "edited": false, "score": 0, "creation_date": 1512590082, "post_id": 47681377, "comment_id": 82324004, "body": "It looks the problem was the settings using MFC and stdafx.h. I am sorry for my misunderstanding. The code compiles fine with VS2015 Level 5."}], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "is_accepted": false, "score": 1, "last_activity_date": 1512589562, "last_edit_date": 1512589562, "creation_date": 1512589251, "answer_id": 47682228, "question_id": 47681377, "link": "https://stackoverflow.com/questions/47681377/how-to-copy-stdregex-token-iterator-to-a-stdvector/47682228#47682228", "title": "How to copy std::regex_token_iterator to a std::vector?", "body": "<p>Here my solution to store the values extracted by regex_token_iterator to a vector:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n#include &lt;regex&gt;\n\nint main()\n{\n    std::string s(\"dir1\\\\dir2\\\\dir3\\\\dir4\");\n\n    // Split the line in words\n    const std::regex reg_exp(\"\\\\\\\\\");\n    const std::regex_token_iterator&lt;std::string::iterator&gt; end_tokens;\n    std::regex_token_iterator&lt;std::string::iterator&gt; it(s.begin(), s.end(), reg_exp, -1);\n    std::vector&lt;std::string&gt; to_vector;\n    while (it != end_tokens)\n    {\n        to_vector.emplace_back(*it++);\n    }\n\n    // Display the content of the vector\n    std::copy(begin(to_vector), \n              end(to_vector), \n              std::ostream_iterator&lt;std::string&gt;(std::cout, \"\\n\"));\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 812, "user_id": 1596045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2c1e43768a22cf234ddcf4a6306190?s=128&d=identicon&r=PG", "display_name": "PraveenB", "link": "https://stackoverflow.com/users/1596045/praveenb"}, "is_accepted": false, "score": 0, "last_activity_date": 1594779880, "creation_date": 1594779880, "answer_id": 62906676, "question_id": 47681377, "link": "https://stackoverflow.com/questions/47681377/how-to-copy-stdregex-token-iterator-to-a-stdvector/62906676#62906676", "title": "How to copy std::regex_token_iterator to a std::vector?", "body": "<p>Very old code but as i was also looking for a solution. It is very simple the third parameter should be back_inserter to vector.</p>\n<pre><code>std::copy(std::sregex_token_iterator(line.begin(), line.end(), ws_re, -1),\n          std::sregex_token_iterator(),\n          std::back_inserter(to_vector));\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 7988757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c508743a0ca210b2bb768d482a219688?s=128&d=identicon&r=PG&f=1", "display_name": "Less White", "link": "https://stackoverflow.com/users/7988757/less-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1594779880, "creation_date": 1512585855, "last_edit_date": 1512589637, "question_id": 47681377, "link": "https://stackoverflow.com/questions/47681377/how-to-copy-stdregex-token-iterator-to-a-stdvector", "title": "How to copy std::regex_token_iterator to a std::vector?", "body": "<p>The code below fails to copy values from regex_token_iterator to a std::vector; Visual Studio 2015 reports that 'std::copy' with parameters may be unsafe.</p>\n\n<p>Anyone knows how to fix it?</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n#include &lt;regex&gt;\n\nint main()\n{\n    // String to split in words\n    std::string line = \"dir1\\\\dir2\\\\dir3\\\\dir4\";\n\n    // Split the string in words\n    std::vector&lt;std::string&gt; to_vector;\n    const std::regex ws_re(\"\\\\\\\\\"); \n    std::copy(std::sregex_token_iterator(line.begin(), line.end(), ws_re, -1),\n              std::sregex_token_iterator(),\n              std::back_insert_iterator&lt;std::vector&lt;std::string&gt;&gt;(to_vector));\n\n    // Display the words\n    std::cout &lt;&lt; \"Words: \";\n    std::copy(begin(to_vector), end(to_vector), std::ostream_iterator&lt;std::string&gt;(std::cout, \"\\n\"));\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "firebird", "qsqldatabase"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1512586517, "post_id": 47681212, "comment_id": 82322080, "body": "<i>&quot;it doesn&#39;t work&quot;</i> Can you be more specific? Do you get an error, what happens? Which driver are you using? As &quot;InterBase ODBC driver&quot; suggests you are not using the Firebird ODBC driver, but instead one for InterBase."}, {"owner": {"reputation": 493, "user_id": 7358413, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1e71f6e176c4d45a8a6c70d34a81d1db?s=128&d=identicon&r=PG&f=1", "display_name": "karollo", "link": "https://stackoverflow.com/users/7358413/karollo"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1512587237, "post_id": 47681212, "comment_id": 82322468, "body": "I can&#39;t connect to database. You are right, &quot;InterBase ODBC driver&quot;  syntax is wrong.  Is this only mistake there is in my code? Greets"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1512587395, "post_id": 47681212, "comment_id": 82322545, "body": "I&#39;m not familiar with QT, and my experience with ODBC is very limited. Consider posting to the firebird-odbc mailinglist or checking the <a href=\"https://www.firebirdsql.org/file/documentation/reference_manuals/driver_manuals/odbc/html/fbodbc205.html\" rel=\"nofollow noreferrer\">documentation of the Firebird ODBC driver</a>"}, {"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1512634932, "post_id": 47681212, "comment_id": 82340022, "body": "u use C++? then perhaps IBPP library would help better"}], "answers": [{"tags": [], "owner": {"reputation": 493, "user_id": 7358413, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1e71f6e176c4d45a8a6c70d34a81d1db?s=128&d=identicon&r=PG&f=1", "display_name": "karollo", "link": "https://stackoverflow.com/users/7358413/karollo"}, "is_accepted": true, "score": 1, "last_activity_date": 1512597834, "last_edit_date": 1512597834, "creation_date": 1512597605, "answer_id": 47684149, "question_id": 47681212, "link": "https://stackoverflow.com/questions/47681212/connecting-to-firebird-database-in-qt/47684149#47684149", "title": "Connecting to Firebird database in Qt", "body": "<p>I finally got it.\nYou have to set up your ODBC driver in windows:\n<a href=\"https://kb.brainwaregroup.com/operationsmanager/faces/kb/brainwaregroup%20kb/article/AA-00486\" rel=\"nofollow noreferrer\">https://kb.brainwaregroup.com/operationsmanager/faces/kb/brainwaregroup%20kb/article/AA-00486</a></p>\n\n<p>Then you can connect it directly using dsn  configured in windows administrative tools:</p>\n\n<pre><code>QString servername = \"localhost\";\nQSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\ndb.setHostName(servername);\ndb.setDatabaseName(\"YOUR_DSN_NAME\");\ndb.setUserName(\"SYSDBA\");\ndb.setPassword(\"masterkey\");\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 7358413, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1e71f6e176c4d45a8a6c70d34a81d1db?s=128&d=identicon&r=PG&f=1", "display_name": "karollo", "link": "https://stackoverflow.com/users/7358413/karollo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "accepted_answer_id": 47684149, "answer_count": 1, "score": 0, "last_activity_date": 1513008836, "creation_date": 1512585308, "last_edit_date": 1513008836, "question_id": 47681212, "link": "https://stackoverflow.com/questions/47681212/connecting-to-firebird-database-in-qt", "title": "Connecting to Firebird database in Qt", "body": "<p>I have local database, that I want to connect with.\nHere is my code, but unfortunately it doesn't work.</p>\n\n<pre><code>    QString servername = \"SYSDBA@localhost\";\n    QSqlDatabase db = QSqlDatabase::addDatabase(\"QODBC\");\n    db.setHostName(servername);     \n    db.setDatabaseName(\"Driver={InterBase ODBC driver};DATABASE=D:\\\\baza\\\\BAZA.fdb;\");      \n    db.setUserName(\"SYSDBA\");\n    db.setPassword(\"masterkey\");\n    if (db.open())\n        qDebug() &lt;&lt; \"Connected\";\n    else\n        qDebug() &lt;&lt; \"Nope :(\";  \n</code></pre>\n\n<p>I would appreciate any help.</p>\n"}, {"tags": ["java", "c++", "protocols", "protocol-buffers"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1512588963, "post_id": 47681146, "comment_id": 82323429, "body": "Do you mean &quot;how is this structured on the wire?&quot; - or do you mean &quot;how do I work with this in my app?&quot; - they&#39;re very different questions."}, {"owner": {"reputation": 162, "user_id": 8960744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nD6kc.jpg?s=128&g=1", "display_name": "Mona Wade", "link": "https://stackoverflow.com/users/8960744/mona-wade"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1512671584, "post_id": 47681146, "comment_id": 82363033, "body": "I mean, &quot;how is this structured on the wire?&quot;"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1512672345, "post_id": 47681146, "comment_id": 82363412, "body": "the encoding spec is available - just search &quot;protobuf encoding&quot; - however, frankly that&#39;s only of interest to library implementors. If you&#39;re just consuming an existing library, it is the job of the library to worry about that"}], "answers": [{"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 1, "last_activity_date": 1512599284, "creation_date": 1512599284, "answer_id": 47684530, "question_id": 47681146, "link": "https://stackoverflow.com/questions/47681146/how-are-google-protocol-repeated-values-structured-what-are-their-limitations-a/47684530#47684530", "title": "How are Google Protocol repeated values structured? What are their limitations and advantages?", "body": "<p>If you mean <em>on the wire</em> - then firstly: it is the serializer's job to worry about that, but <em>in this case</em> it is implemented simply as (per repeated element):</p>\n\n<pre><code>0x0a = \"field 1, length prefixed\" (strings are always length prefixed)\n{number of bytes as UTF8, varint-encoded}\n{that many bytes of UTF8}\n</code></pre>\n\n<p>So if you have 3 items repeated you'll have 3 lots of 0x0a, varint, payload slammed one after the other. In the case of some primitive types - integers etc, there is a \"packed\" encoding that removes the need for a header per element, by prepending the byte-length of the entire array <em>first</em>, then just the array contents as raw non-tokenized data.</p>\n\n<hr>\n\n<p>If you mean <em>from the caller's perspective</em>, then: it is down to the implementation, but essentially you should expect <em>some familiar API</em> - common to that framework. This might mean that <code>repeated</code> data is exposed as an array / vector, or it might mean a \"collection\" class with an <code>Add</code> etc API. It will depend entirely on what is sensible for the target framework and the implementing author's whimsy.</p>\n"}], "owner": {"reputation": 162, "user_id": 8960744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nD6kc.jpg?s=128&g=1", "display_name": "Mona Wade", "link": "https://stackoverflow.com/users/8960744/mona-wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 47684530, "answer_count": 1, "score": 1, "last_activity_date": 1512599284, "creation_date": 1512584996, "question_id": 47681146, "link": "https://stackoverflow.com/questions/47681146/how-are-google-protocol-repeated-values-structured-what-are-their-limitations-a", "title": "How are Google Protocol repeated values structured? What are their limitations and advantages?", "body": "<p>I'm trying to create an array that is going to transfer data from C++ application to a Java app. Because of the two languages, how do you format the a Google Protocol message? </p>\n\n<p>Also, what are their limitations and advantages?</p>\n\n<p>So far, I have the following: </p>\n\n<pre><code>message Config {\n    repeated string types = 1;\n}\n</code></pre>\n\n<p>I think I'm missing somethings!</p>\n"}, {"tags": ["c++", "arrays", "binary-search-tree"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7922198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234321f9fab980e9382bf7bec21a44b1?s=128&d=identicon&r=PG&f=1", "display_name": "j.pebbles", "link": "https://stackoverflow.com/users/7922198/j-pebbles"}, "edited": false, "score": 0, "creation_date": 1512591954, "post_id": 47681367, "comment_id": 82325028, "body": "Thank you. I tried the other changes you made above and I got a runtime error. I think dropping the temp is the way to go."}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "reply_to_user": {"reputation": 3, "user_id": 7922198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234321f9fab980e9382bf7bec21a44b1?s=128&d=identicon&r=PG&f=1", "display_name": "j.pebbles", "link": "https://stackoverflow.com/users/7922198/j-pebbles"}, "edited": false, "score": 0, "creation_date": 1512630766, "post_id": 47681367, "comment_id": 82338021, "body": "Then your array might not be large enough."}], "tags": [], "owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "is_accepted": true, "score": 1, "last_activity_date": 1512585830, "creation_date": 1512585830, "answer_id": 47681367, "question_id": 47681127, "link": "https://stackoverflow.com/questions/47681127/array-implementation-of-binary-search-tree/47681367#47681367", "title": "Array implementation of Binary Search Tree", "body": "<p>You are maintaining the current node in two different variables: a pointer to the node is kept in <code>temp</code> and the index of the node is kept in <code>i</code>. This by itself - although probably not optimal - is not a problem. However, you don't keep the two variables consistent (you update the pointer differently than the index). A simple fix would be to make this consistent:</p>\n\n<pre><code>temp = &amp;ptr-&gt;arr[i*2]; //the pointer update is correct\ni = i * 2; //same update as above\n//...\ntemp = &amp;ptr-&gt;arr[i*2+1];\ni = i * 2 + 1; //same update as above\n</code></pre>\n\n<p>In my opinion, it is also a good idea to drop the pointer <code>temp</code> completely and always access the array by its index. This would not require any synchronization between two variables.</p>\n"}], "owner": {"reputation": 3, "user_id": 7922198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234321f9fab980e9382bf7bec21a44b1?s=128&d=identicon&r=PG&f=1", "display_name": "j.pebbles", "link": "https://stackoverflow.com/users/7922198/j-pebbles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 47681367, "answer_count": 1, "score": 0, "last_activity_date": 1512585830, "creation_date": 1512584940, "question_id": 47681127, "link": "https://stackoverflow.com/questions/47681127/array-implementation-of-binary-search-tree", "title": "Array implementation of Binary Search Tree", "body": "<p>I am creating a binary search tree using a 1D array. My problem is with the insertion function.</p>\n\n<p>Inserting 5, 8, 3, 1, 4, and 9 results in the correct index when I output the tree. However, when I try to add numbers after 9 into the tree, the index is incorrect. For example, with the previous numbers mentioned, 9 has an index of 7. If I insert 17, which should be 9's right child, instead of its index at 15, it's index is 11. </p>\n\n<p>I know that the issue is with how I increment <em>i</em> but I'm not sure how to fix it. Any help is appreciated. Thanks!</p>\n\n<pre><code>    void insert(int x)             \n    {   \n    int i = 1;  //Counter\n\n    if (ptr-&gt;arr[1] == -1)   //If bst is empty.\n    {\n        ptr-&gt;arr[1] = x;\n    }\n    else                    \n    {\n        int *temp = &amp;ptr-&gt;arr[1];  //Temp starts at root\n        int *parent = NULL;\n        while (*temp != -1 &amp;&amp; *temp != x)\n        {\n            if (x &lt; *temp)\n            {\n                parent = temp;\n                temp = &amp;ptr-&gt;arr[i*2];\n                i++;\n            }\n\n            else\n            {\n                parent = temp;\n                temp = &amp;ptr-&gt;arr[i*2+1];\n                i+=2;\n            }\n\n        }\n\n        *temp = x;\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 1793, "user_id": 1824064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1a122305c12f0de56c1332fb59f85bc5?s=128&d=identicon&r=PG", "display_name": "amnesia", "link": "https://stackoverflow.com/users/1824064/amnesia"}, "edited": false, "score": 1, "creation_date": 1512583584, "post_id": 47680686, "comment_id": 82320664, "body": "If you can &quot;skip&quot; the allegedly required parameters, then it seems that technically all of the parameters are optional.  Why have them all in the constructor to begin with?  Could you not just have them as member variables with accessor functions and then call an initialization method after you&#39;ve set which ones you want?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1512601525, "post_id": 47680686, "comment_id": 82329524, "body": "Another option is to have the constructor take an object that has those paths as members with default values"}, {"owner": {"reputation": 10194, "user_id": 3291506, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fr49T.png?s=128&g=1", "display_name": "Startec", "link": "https://stackoverflow.com/users/3291506/startec"}, "reply_to_user": {"reputation": 1793, "user_id": 1824064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1a122305c12f0de56c1332fb59f85bc5?s=128&d=identicon&r=PG", "display_name": "amnesia", "link": "https://stackoverflow.com/users/1824064/amnesia"}, "edited": false, "score": 0, "creation_date": 1512615643, "post_id": 47680686, "comment_id": 82333380, "body": "@amnesia the first two parameters can not be skipped."}], "answers": [{"tags": [], "owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "is_accepted": true, "score": 2, "last_activity_date": 1512602304, "last_edit_date": 1512602304, "creation_date": 1512585587, "answer_id": 47681302, "question_id": 47680686, "link": "https://stackoverflow.com/questions/47680686/how-to-configure-the-positioning-of-optional-arguments-to-a-constructor/47681302#47681302", "title": "How to configure the positioning of optional arguments to a constructor", "body": "<blockquote>\n  <p>Is there a clean or simple way to get rid of this? Put another way: is there a way to make specific parameter placement unnecsary?</p>\n</blockquote>\n\n<p>The simplest thing I can think of is to provide the following class design with chainable setters for the optional parameters:</p>\n\n<pre><code>class MyClass {\n    int required_param1_;\n    int required_param2_;\n    int optional_param1_;\n    int optional_param2_;\npublic:\n     MyClass (int required_param1, int required_param2) \n     : required_param1_(required_param1)\n     , required_param2_(required_param2)\n     , optional_param1_() // Use default\n     , optional_param2_() // Use default\n     {}\n     // The 2 following statements are only for emphasis, and can be completely \n     // omitted as well, since the compiler generates these automatically.\n     MyClass (const MyClass&amp; other) = default;\n     MyClass&amp; operator=(const MyClass&amp; other) = default;\n\n     // Class getter / setter declarations\n     int required_param1() const { return required_param1_; }\n     int required_param2() const { return required_param2_; }\n     int optional_param1() const { return optional_param1_; }\n     MyClass&amp; optional_param1(int value) { \n         optional_param1_ = value;\n         return *this; }\n     int optional_param2() const { return optional_param2_; }\n     MyClass&amp; optional_param2(int value) { \n         optional_param2_ = value;\n         return *this; }\n};\n</code></pre>\n\n<p>That allows you to use the following syntax:</p>\n\n<pre><code>MyClass myClass1 = MyClass(1,2 /* &lt;- the required parameters*/)\n                          .optional_param1(5)\n                          ;\nMyClass myClass2 = MyClass(3,4 /* &lt;- the required parameters*/)\n                          .optional_param2(24)\n                          .optional_param1(42)\n                          ;\n</code></pre>\n\n<p>Here's a fully working <a href=\"http://coliru.stacked-crooked.com/a/5233635fb4b74915\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a>.</p>\n\n<blockquote>\n  <p>Ideally I would have something like:</p>\n\n<pre><code>GlslProgram().vertex_path(\"path\")\n             .fragment_path(\"path\")\n             .geo_path(\"path\")\n             .tesselation_path(\"path\");\n</code></pre>\n</blockquote>\n\n<p>My above proposal comes pretty close ...</p>\n\n<blockquote>\n  <p>but the issue here is that there is a final initialization step that needs to happen when all parameters are done (all file paths done) and so I don't see how I would know what the final 'path' in the chain is.</p>\n</blockquote>\n\n<p>... the <em>final initialization</em> step is still needed and realized with the copy constructor. Though you can rely on the compiler's optimization capabilities and that <em>copy elision</em> would take place there.</p>\n"}], "owner": {"reputation": 10194, "user_id": 3291506, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fr49T.png?s=128&g=1", "display_name": "Startec", "link": "https://stackoverflow.com/users/3291506/startec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 47681302, "answer_count": 1, "score": 3, "last_activity_date": 1512602304, "creation_date": 1512583262, "last_edit_date": 1512588555, "question_id": 47680686, "link": "https://stackoverflow.com/questions/47680686/how-to-configure-the-positioning-of-optional-arguments-to-a-constructor", "title": "How to configure the positioning of optional arguments to a constructor", "body": "<p>I have a class whose constructor looks like this:</p>\n\n<pre><code>GlslProgram(const char* vertex_shader_path, const char* fragment_shader_path, const char* tess_control_shader_path = \"\", const char* tess_eval_shader_path = \"\", const char* geom_shader_path = \"\");\n</code></pre>\n\n<p>The final three parameters are all optional as a <code>\"\"</code> is used as a default parameter.</p>\n\n<p>However, because C++ doesn't support positional arguments, if one wants to call the constructor without <code>tess_control_shader_path</code> and <code>tess_eval_shader_path</code> but with <code>geom_shader_path</code> they have to pass in two positional <code>\"\"</code> arguments (as opposed to <code>nullptr</code> or something more clear).</p>\n\n<p>Is there a clean or simple way to get rid of this? Put another way: is there a way to make specific parameter placement unnecsary?</p>\n\n<p>I am looking at the <a href=\"http://www.cs.technion.ac.il/users/yechiel/c++-faq/named-ctor-idiom.html\" rel=\"nofollow noreferrer\">named constructor idiom</a> but I do not love that idea because in this case, the naming convention wouldn't really make sense (i.e. <code>GlslProgram::withGeometryShader</code>, <code>GlslProgram::withTesselation</code>) doesn't seem to make sense.</p>\n\n<p>Ideally I would have something like:</p>\n\n<pre><code>GlslProgram().vertex_path(\"path\")\n             .fragment_path(\"path\")\n             .geo_path(\"path\")\n             .tesselation_path(\"path\");\n</code></pre>\n\n<p>but the issue here is that there is a final initialization step that needs to happen when all parameters are done (all file paths done) and so I don't see how I would know what the final 'path' in the chain is.</p>\n"}, {"tags": ["c#", "c++", "algorithm"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512583346, "post_id": 47680673, "comment_id": 82320549, "body": "Why is this tagged as C++ and C#?"}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512583601, "post_id": 47680673, "comment_id": 82320672, "body": "Just studying this problem in both languages"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512583672, "post_id": 47680673, "comment_id": 82320706, "body": "Ok.  But if the question doesn&#39;t explicitly have anything to do with a language (i.e. it could just as easily have been Rust + Go), then please don&#39;t tag it as such :/"}], "owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512583219, "creation_date": 1512583219, "question_id": 47680673, "link": "https://stackoverflow.com/questions/47680673/why-full-fence-allows-mix-store-load-operation", "title": "Why full fence allows mix store-load operation", "body": "<p>What is idea to allow mixing Store with Load procedure in <code>Full fence</code>? According to my understanding it is still not safe in case I load the same variable I store to:</p>\n\n<pre><code>int a=0;\n...\na=2;\nfull_fence;\nprint(a)\n</code></pre>\n\n<p>According to my understanding it is possible <code>0</code> to be printed? What is idea to leave such gap?</p>\n\n<p><a href=\"https://i.stack.imgur.com/uyuam.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uyuam.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "templates", "operator-overloading"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512583054, "post_id": 47680617, "comment_id": 82320395, "body": "What&#39;s <code>T1</code>/<code>T2</code>? They are undeclared."}, {"owner": {"reputation": 499, "user_id": 5325102, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/iZeNv.jpg?s=128&g=1", "display_name": "Francisco Gallego Salido", "link": "https://stackoverflow.com/users/5325102/francisco-gallego-salido"}, "edited": false, "score": 0, "creation_date": 1512583057, "post_id": 47680617, "comment_id": 82320399, "body": "You must return <code>*this</code>"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1512583121, "post_id": 47680617, "comment_id": 82320440, "body": "s/<code>Pair&lt;T1, T2&gt; operator = (const Pair&lt;T1, T2&gt;&amp; otherPair)</code>/<code>Pair&lt;T1, T2&gt;&amp; operator = (const Pair&lt;T1, T2&gt;&amp; otherPair)</code> and s/<code>return this;</code>/<code>return *this;</code>."}, {"owner": {"reputation": 25063, "user_id": 3313064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBXlB.jpg?s=128&g=1", "display_name": "Christian Hackl", "link": "https://stackoverflow.com/users/3313064/christian-hackl"}, "edited": false, "score": 0, "creation_date": 1512583176, "post_id": 47680617, "comment_id": 82320464, "body": "Post the exact error message so that future readers can find your question more easily."}, {"owner": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1512583199, "post_id": 47680617, "comment_id": 82320474, "body": "@Algirdas Preid\u017eius i have edit and corrected my question."}, {"owner": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "edited": false, "score": 0, "creation_date": 1512583458, "post_id": 47680617, "comment_id": 82320614, "body": "Why so many downvotes?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1512583844, "post_id": 47680617, "comment_id": 82320796, "body": "@DevendraVerma &quot;<i>Why so many downvotes?</i>&quot; 1) Typically, when asking about compilation errors, you would include such error into the question. 2) Or, alternatively, you could just read the error, since it, typically, states exactly what&#39;s wrong."}], "answers": [{"comments": [{"owner": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "edited": false, "score": 0, "creation_date": 1512583363, "post_id": 47680650, "comment_id": 82320562, "body": "why you are returning *this instead of this? and also changed the return type from Pair&lt;T1, T2&gt; to Pair&lt;T1, T2&gt;&amp;/."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "edited": false, "score": 1, "creation_date": 1512583484, "post_id": 47680650, "comment_id": 82320622, "body": "@DevendraVerma this has type Pair * while the return type is Pair. There is no implicit conversion from the pointer to an object of the type Pair. In C++ the assignment operator returns reference to lvalue for fundamental types. So a user-defined class should follow this convention."}, {"owner": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "edited": false, "score": 0, "creation_date": 1512583770, "post_id": 47680650, "comment_id": 82320762, "body": "Oh I got this. I was not clear about basics of operator overloading."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 2, "last_activity_date": 1512583379, "last_edit_date": 1512583379, "creation_date": 1512583103, "answer_id": 47680650, "question_id": 47680617, "link": "https://stackoverflow.com/questions/47680617/overload-assignment-operator-in-pair-template/47680650#47680650", "title": "Overload assignment(=) operator in Pair Template", "body": "<p>The operator should look like</p>\n\n<pre><code>//overloading = operator\nPair&lt;T1, T2&gt; &amp; operator = (const Pair&lt;T1, T2&gt;&amp; otherPair) \n{\n    if ( this != &amp;otherPair )\n    {\n        first=otherPair.first;\n        second=otherPair.second;\n    }\n\n    return *this;\n}\n</code></pre>\n\n<p>As for the error then you are trying to convert the pointer <code>this</code> to an object of the type <code>Pair</code> in the operator.</p>\n"}], "owner": {"reputation": 835, "user_id": 6573592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1020935187991144/picture?type=large", "display_name": "Devendra Verma", "link": "https://stackoverflow.com/users/6573592/devendra-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "closed_date": 1512583865, "accepted_answer_id": 47680650, "answer_count": 1, "score": -3, "last_activity_date": 1512583689, "creation_date": 1512582988, "last_edit_date": 1512583689, "question_id": 47680617, "link": "https://stackoverflow.com/questions/47680617/overload-assignment-operator-in-pair-template", "closed_reason": "Duplicate", "title": "Overload assignment(=) operator in Pair Template", "body": "<p>Hello everyone I am trying to implement a <code>pair</code> like Template. I have tried this:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\ntemplate&lt;class T1, class T2&gt;\nclass Pair\n{\n    //defining two points\n    public:\n    T1 first;\n    T2 second;\n\n    //default constructor\n    Pair():first(T1()), second(T2())\n    {}\n\n    //parametrized constructor\n    Pair(T1 f, T2 s) : first(f),second(s)\n    {}\n\n    //copy constructor\n    Pair(const Pair&lt;T1,T2&gt;&amp; otherPair) : first(otherPair.first), second(otherPair.second)\n    {}\n\n    //overloading == operator\n    bool operator == (const Pair&lt;T1, T2&gt;&amp; otherPair) const\n    {\n        return (first == otherPair.first) &amp;&amp; (second == otherPair.second);\n    }\n\n    //overloading = operator\n    Pair&lt;T1, T2&gt; operator = (const Pair&lt;T1, T2&gt;&amp; otherPair) \n    {\n        first=otherPair.first;\n        second=otherPair.second;\n        return this;\n    }\n\n\n    int main()\n    {\n        Pair&lt;int, int&gt; p1(10,20);\n        Pair&lt;int, int&gt; p2;\n        p2 = p1;\n    }\n</code></pre>\n\n<p>But I am getting the error in the last line of  the overloaded method =. It is not allowing to return the <code>this</code> object. </p>\n\n<p>Can anyone help where i am doing wrong?</p>\n"}, {"tags": ["c++", "geometry", "bresenham"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 0, "creation_date": 1512583956, "post_id": 47680696, "comment_id": 82320859, "body": "Do you think,I can implement 2D Linear Interpolation.If you dont mind,could you please share the algo,so that I can try it out and find it.Also,please explain how do I determine the size of the pixel,which has the intermediate point as its center."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 1, "creation_date": 1512584132, "post_id": 47680696, "comment_id": 82320940, "body": "I&#39;ve already written formula (similar for Y). Piece size is length(segment) divided by N"}, {"owner": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 0, "creation_date": 1512585494, "post_id": 47680696, "comment_id": 82321599, "body": "The &#39;N&#39; in your code is Number of Intermediate points (or) Number of Divisions ?? So,if the vertices are (0,0) and (5,0); intermediate points are 5, Pixel size would be 5/5 = 1? Is that right?"}, {"owner": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 0, "creation_date": 1512593273, "post_id": 47680696, "comment_id": 82325756, "body": "But if I have three Edges of a triangle, then if distance between vertex1 and vertex2(connecting edge1); vertex2 and vertex 3(connecting edge2) is different, then even the length of Pieces(or pixels like square) drawn between along edge 1 and edge 2 is different right? if thats the case,how would I apply filling algorithm? Plz explain."}, {"owner": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 0, "creation_date": 1512593275, "post_id": 47680696, "comment_id": 82325757, "body": "But if I have three Edges of a triangle, then if distance between vertex1 and vertex2(connecting edge1); vertex2 and vertex 3(connecting edge2) is different, then even the length of Pieces(or pixels like square) drawn between along edge 1 and edge 2 is different right? if thats the case,how would I apply filling algorithm? Plz explain."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "edited": false, "score": 1, "creation_date": 1512611650, "post_id": 47680696, "comment_id": 82332316, "body": "What is your <b>real</b> problem?"}, {"owner": {"reputation": 12625, "user_id": 1095108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f26c5fe39742b7be7d859c2ddc11b55b?s=128&d=identicon&r=PG", "display_name": "user1095108", "link": "https://stackoverflow.com/users/1095108/user1095108"}, "edited": false, "score": 0, "creation_date": 1522176759, "post_id": 47680696, "comment_id": 86046450, "body": "He wants to rasterize a triangle and write a MMORPG."}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1512583314, "creation_date": 1512583314, "answer_id": 47680696, "question_id": 47680464, "link": "https://stackoverflow.com/questions/47680464/control-the-number-of-intermediate-points-between-two-vertices-extension-of-br/47680696#47680696", "title": "Control the number of intermediate points between two vertices - Extension of Bresenham&#39;s algorithm", "body": "<p>Seems you don't need Bresenham algo at all.<br>\nAnd intermediate points might have non-integer coordinates.</p>\n\n<p>Just use linear interpolation</p>\n\n<pre><code> x[i] = x0 + (x1-x0) * i / (N + 1)\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 9063262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41df59dc27f2b18792f538018e7d1892?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Enthusiast", "link": "https://stackoverflow.com/users/9063262/math-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1512583314, "creation_date": 1512582499, "last_edit_date": 1512582632, "question_id": 47680464, "link": "https://stackoverflow.com/questions/47680464/control-the-number-of-intermediate-points-between-two-vertices-extension-of-br", "title": "Control the number of intermediate points between two vertices - Extension of Bresenham&#39;s algorithm", "body": "<p>I have the following working Bresenham's algorithm,which finds intermediate points between two vertices.But this is for a pixel of size 1.</p>\n\n<pre><code>void Bresenham(int x1,\n    int y1,\n    int const x2,\n    int const y2)\n{\n    int delta_x(x2 - x1);\n    // if x1 == x2, then it does not matter what we set here\n    signed char const ix((delta_x &gt; 0) - (delta_x &lt; 0));\n    delta_x = std::abs(delta_x) &lt;&lt; 1;\n\n    int delta_y(y2 - y1);\n    // if y1 == y2, then it does not matter what we set here\n    signed char const iy((delta_y &gt; 0) - (delta_y &lt; 0));\n    delta_y = std::abs(delta_y) &lt;&lt; 1;\n\n    cout &lt;&lt; \"(\" &lt;&lt; x1 &lt;&lt; \",\" &lt;&lt; y1 &lt;&lt; \")\\n\";\n    //plot(x1, y1);\n\n    if (delta_x &gt;= delta_y)\n    {\n        // error may go below zero\n        int error(delta_y - (delta_x &gt;&gt; 1));\n\n        while (x1 != x2)\n        {\n            // reduce error, while taking into account the corner case of error == 0\n            if ((error &gt; 0) || (!error &amp;&amp; (ix &gt; 0)))\n            {\n                error -= delta_x;\n                y1 += iy;\n            }\n            // else do nothing\n\n            error += delta_y;\n            x1 += ix;\n\n            cout &lt;&lt; \"(\" &lt;&lt; x1 &lt;&lt; \",\" &lt;&lt; y1 &lt;&lt; \")\\n\";\n            //plot(x1, y1);\n        }\n    }\n    else\n    {\n        // error may go below zero\n        int error(delta_x - (delta_y &gt;&gt; 1));\n\n        while (y1 != y2)\n        {\n            // reduce error, while taking into account the corner case of error == 0\n            if ((error &gt; 0) || (!error &amp;&amp; (iy &gt; 0)))\n            {\n                error -= delta_y;\n                x1 += ix;\n            }\n            // else do nothing\n\n            error += delta_x;\n            y1 += iy;\n\n            cout &lt;&lt; \"(\" &lt;&lt; x1 &lt;&lt; \",\" &lt;&lt; y1 &lt;&lt; \")\\n\";\n            //plot(x1, y1);\n        }\n    }\n}\n</code></pre>\n\n<p>I want to control the number of intermediate points formed between the two given vertices.In the code above,I am not able to control it currently.</p>\n\n<p>For e.g: If I have vertices (0,0) and (3,3); if I want 2 points in between,it would be (1,1) and (2,2).</p>\n\n<p>Could you please suggest the changes to be done in my code so that I can control the number of intermediate points between given two vertices and also ,please let me know the way to determine the length of each pixel(as currently,the pixel size is fixed to be 1)</p>\n\n<p>I want my overall function to look like : void Bresenham(int x1,\n    int y1,\n    int const x2,\n    int const y2, int TotalIntermediatePoints)</p>\n\n<p>Thanks in Advance!</p>\n"}, {"tags": ["c++", "qt", "qt5", "qpainter"], "answers": [{"tags": [], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "is_accepted": true, "score": 0, "last_activity_date": 1512941611, "creation_date": 1512941611, "answer_id": 47743690, "question_id": 47680336, "link": "https://stackoverflow.com/questions/47680336/drawing-an-arc-correctly-with-qt5-painter/47743690#47743690", "title": "Drawing an arc correctly with Qt5 painter", "body": "<p>I am sorry to bring you the real answer which unfortunately is <strong>no, there is no automatic way to scale to bounding box of drawing operations with <code>QPainter</code> in Qt5</strong>. You will therefore have to calculate this in your own code on a per case basis.</p>\n\n<p>On the bright side, this calculation is not very hard, and by doing it yourself you are certain to maintain full control over the process.</p>\n"}], "owner": {"reputation": 407, "user_id": 8908459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ad6bd397f0f8e361bf3bc05da4aa2929?s=128&d=identicon&r=PG&f=1", "display_name": "user8908459", "link": "https://stackoverflow.com/users/8908459/user8908459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 47743690, "answer_count": 1, "score": 1, "last_activity_date": 1513008955, "creation_date": 1512581997, "last_edit_date": 1513008955, "question_id": 47680336, "link": "https://stackoverflow.com/questions/47680336/drawing-an-arc-correctly-with-qt5-painter", "title": "Drawing an arc correctly with Qt5 painter", "body": "<p>I am trying to draw an arc at the edge of the bounding rectangle. This is important since I want it to scale with the control. However, This leads to the edges getting clipped off when using <code>boundingRect()</code> as an argument for the <code>drawArc()</code>. </p>\n\n<pre><code>QBrush brush(QColor(\"#007430\"));\npainter-&gt;setBrush(brush);\nQPen pen;\npen.setStyle(Qt::SolidLine);\nfloat lineWidth1 = 6.0;\npen.setWidthF(lineWidth1);\npainter-&gt;setPen(pen);\npainter-&gt;setRenderHint(QPainter::Antialiasing);\npainter-&gt;drawArc(boundingRect(), 45*16, 270*16);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mdWPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdWPU.png\" alt=\"enter image description here\"></a></p>\n\n<p>To make it work correctly, I must pass in a rectangle that is 1/2 of the pen width smaller on each side. <strong>Is there a more direct way to do this in QT without manual calculating/adjusting?</strong></p>\n\n<pre><code>QRectF arcRect(0 + lineWidth1/2,\n               0 + lineWidth1/2,\n               boundingRect().width() - lineWidth1,\n               boundingRect().height() - lineWidth1);\n\npainter-&gt;drawArc(arcRect, 45*16, 270*16);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tr1Qh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tr1Qh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512582306, "post_id": 47680241, "comment_id": 82320017, "body": "show your .pro."}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512664548, "post_id": 47680241, "comment_id": 82359292, "body": "Done, I&#39;ve just added the .pro file source"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512664683, "post_id": 47680241, "comment_id": 82359361, "body": "I do not see that you have linked the library to your project: <code>LIBS +=</code>"}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512665039, "post_id": 47680241, "comment_id": 82359540, "body": "So basically I have to LIBS += all the headers? I&#39;ve just started with QT sorry if I do stupid question"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512665108, "post_id": 47680241, "comment_id": 82359580, "body": "Do you have .dlls or .lib?"}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512668334, "post_id": 47680241, "comment_id": 82361420, "body": "No, i don&#39;t have any .lib or .DLL"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512668379, "post_id": 47680241, "comment_id": 82361442, "body": "Could you tell me where you got the .h?"}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512675432, "post_id": 47680241, "comment_id": 82365072, "body": "I got CkString and CkObject for this site: <a href=\"https://codeload.github.com/clickteam-plugin/PBKDF2/zip/master\" rel=\"nofollow noreferrer\">codeload.github.com/clickteam-plugin/PBKDF2/zip/master</a> and CkMail and CkMailman form GitHub, I had to make a change in CkMailman.h I had to add an #include &lt;windows.h&gt; for it to work"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512676059, "post_id": 47680241, "comment_id": 82365389, "body": "This project has the .lib, you have to link it, follow the next manual to do it: <a href=\"http://doc.qt.io/qtcreator/creator-project-qmake-libraries.html\" rel=\"nofollow noreferrer\">doc.qt.io/qtcreator/creator-project-qmake-libraries.html</a>"}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512677852, "post_id": 47680241, "comment_id": 82366291, "body": "but I don&#39;t have any .lib or .dll if I need to add some lib, what lib I need to add"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512678395, "post_id": 47680241, "comment_id": 82366552, "body": "You have 2, check your repo: <a href=\"https://github.com/clickteam-plugin/PBKDF2\" rel=\"nofollow noreferrer\">github.com/clickteam-plugin/PBKDF2</a>, Debug: ChilkatDbg.lib and release: ChilkatRel.lib, If you have any problems I could help you through teamviewer."}, {"owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1512682498, "post_id": 47680241, "comment_id": 82368451, "body": "I added the debug library and the release one as a dynamic and I get this error: cannot find -lChilkatDbgd/Rel I tried each on separate and I get the same error, I tried to add them as a static library and this error pop up,  No rule to make target &#39;C:/Users/.../Documents/Emailer/./libChilkatDbgd.a&#39;, needed by &#39;debug\\Emailer.exe&#39;.  Stop."}], "owner": {"reputation": 1, "user_id": 6905935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae25d63236539fb72df51b7bb9af17c0?s=128&d=identicon&r=PG&f=1", "display_name": "M1S0", "link": "https://stackoverflow.com/users/6905935/m1s0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537281747, "creation_date": 1512581659, "last_edit_date": 1537281747, "question_id": 47680241, "link": "https://stackoverflow.com/questions/47680241/undefined-reference-to-ckmailmanput-smtphostchar-const", "title": "Undefined reference to `CkMailMan::put_SmtpHost(Char const*)", "body": "<p>\nI want this program to send emails, and I'm trying to do that with Qt</p>\n\n<p>emailer.h</p>\n\n<pre><code>#ifndef EMAILER_H\n#define EMAILER_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass Emailer;\n}\n\nclass Emailer : public QMainWindow\n{\nQ_OBJECT\n\npublic:\nexplicit Emailer(QWidget *parent = 0);\n~Emailer();\n\nprivate slots:\nvoid on_pushButton_clicked();\n\nvoid on_radioButton_toggled(bool checked);\n\nvoid on_pushButton_2_clicked();\n\nvoid ChilkatSample();\n\n private:\n Ui::Emailer *ui;\n };\n\n #endif // EMAILER_H\n</code></pre>\n\n<p>WARNING This code is so catastrophic that gave me a headache just to remember what I coded</p>\n\n<pre><code>emailer.cpp\n\n#include \"emailer.h\"\n#include \"ui_emailer.h\"\n#include &lt;CkMailMan.h&gt;\n#include &lt;CkEmail.h&gt;\n#include \"QString\"\n#include &lt;windows.h&gt;\n#include &lt;string.h&gt;\nEmailer::Emailer(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::Emailer)\n{\n    ui-&gt;setupUi(this);\n}\n\n\n\nEmailer::~Emailer()\n{\n    delete ui;\n}\n\n//Bug\n\nvoid Emailer::on_pushButton_2_clicked()\n{\n\n}\n//bug\n\nCkMailMan mailman;\n bool success = mailman.UnlockComponent(\"test\");\n CkEmail email;\n\nvoid Emailer::ChilkatSample()\n    {\n    QString Subject = ui-&gt;label_4-&gt;text();\n    QString Body = ui-&gt;label_5-&gt;text();\n    QString Mailer = ui-&gt;label-&gt;text();\n    std::string Subject1 = Subject.toLocal8Bit().constData();\n    std::string Body1 = Body.toLocal8Bit().constData();\n    std::string Mailer1 = Mailer.toLocal8Bit().constData();\n\n    //  Set the SMTP server.\n    mailman.put_SmtpHost(\"smtp.gmail.com\");\n\n    //  Set the SMTP login/password (if required)\n    mailman.put_SmtpUsername(\"***\");\n    mailman.put_SmtpPassword(\"***\");\n\n    //  Create a new email object\n\n    email.put_Subject(Subject1.c_str());\n    email.put_Body(Body1.c_str());\n    email.put_From(\"\",\"***\");\n    success = email.AddTo(\"\",Mailer1.c_str());\n}\nbool caca = false;\nvoid Emailer::on_radioButton_toggled(bool checked)\n{\n    caca = true;\n}\nvoid Emailer::on_pushButton_clicked()\n{\n    if (caca == false){\n        success = mailman.SendEmail(email);\n    if (success != true) {\n\n        return;\n    }\n\n    success = mailman.CloseSmtpConnection();\n    if (success != true) {\n\n    }\n\n    }\n    else if (caca == true){\n        QString Days = ui-&gt;label_7-&gt;text();\n         std::string Days1 = Days.toLocal8Bit().constData();\n         int Days2 = std::stoi(Days1,nullptr,0);\n       for (int i = 0;i == ui-&gt;label_7-&gt;text();i++){\n           success = mailman.SendEmail(email);\n       if (success != true) {\n\n           return;\n       }\n\n       success = mailman.CloseSmtpConnection();\n       if (success != true) {\n\n       }\n\n\n           Sleep(Days2 * 86400000);\n       }\n    }\n}\n</code></pre>\n\n<p>Emailer.pro</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2017-12-05T22:32:50\n#\n#-------------------------------------------------\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = Emailer\nTEMPLATE = app\n\n# The following define makes your compiler emit warnings if you use\n# any feature of Qt which as been marked as deprecated (the exact warnings\n# depend on your compiler). Please consult the documentation of the\n# deprecated API in order to know how to port your code away from it.\nDEFINES += QT_DEPRECATED_WARNINGS\n\n# You can also make your code fail to compile if you use deprecated APIs.\n# In order to do so, uncomment the following line.\n# You can also select to disable deprecated APIs only up to a certain version of Qt.\n#DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs deprecated before Qt 6.0.0\n\n\nSOURCES += main.cpp\\\n        emailer.cpp\n\nHEADERS  += emailer.h \\\n    CkCrypt2.h \\\n    CkEmail.h \\\n    CkMailMan.h \\\n    CkObject.h \\\n    CkString.h\n\nFORMS    += emailer.ui\n</code></pre>\n\n<p>and this is the output (fun fact: you fix that last one error BOOM 16 more errors)</p>\n\n<p>Output raw:</p>\n\n<p><a href=\"https://pastebin.com/pMrQ3Mcr\" rel=\"nofollow noreferrer\">https://pastebin.com/pMrQ3Mcr</a></p>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/biyBF.png\" rel=\"nofollow noreferrer\">Issues output</a></p>\n\n<p>I got more headers files most of them are ck things and their sources can be fetched from GitHub, I only had to add an #include windows.h to Ckmailman.h source</p>\n"}, {"tags": ["c++", "c++14", "sfinae"], "comments": [{"owner": {"reputation": 1533, "user_id": 3209112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSvXj.jpg?s=128&g=1", "display_name": "ABcDexter", "link": "https://stackoverflow.com/users/3209112/abcdexter"}, "edited": false, "score": 0, "creation_date": 1512581620, "post_id": 47680152, "comment_id": 82319661, "body": "Please read this &quot; This requires C++14 for the &#39;auto&#39; (aka deduced) return type. For C++11 you&#39;d basically have to repeat the decltype expression inside the operator for the return type.&quot; in one of the answers."}, {"owner": {"reputation": 91, "user_id": 9028058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add85cc9edd30e33a3b0786461d02de3?s=128&d=identicon&r=PG&f=1", "display_name": "Federico", "link": "https://stackoverflow.com/users/9028058/federico"}, "reply_to_user": {"reputation": 1533, "user_id": 3209112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSvXj.jpg?s=128&g=1", "display_name": "ABcDexter", "link": "https://stackoverflow.com/users/3209112/abcdexter"}, "edited": false, "score": 0, "creation_date": 1512581716, "post_id": 47680152, "comment_id": 82319704, "body": "I am passing the c++14 flag to the compiler. I edited the tag. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9028058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add85cc9edd30e33a3b0786461d02de3?s=128&d=identicon&r=PG&f=1", "display_name": "Federico", "link": "https://stackoverflow.com/users/9028058/federico"}, "edited": false, "score": 0, "creation_date": 1512585803, "post_id": 47680477, "comment_id": 82321732, "body": "Thanks, your solution looks very elegant. However, for some reason it doesn&#39;t compile."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 91, "user_id": 9028058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add85cc9edd30e33a3b0786461d02de3?s=128&d=identicon&r=PG&f=1", "display_name": "Federico", "link": "https://stackoverflow.com/users/9028058/federico"}, "edited": false, "score": 0, "creation_date": 1512586656, "post_id": 47680477, "comment_id": 82322160, "body": "@Federico Was missing a <code>&gt;</code>"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 1, "last_activity_date": 1512586647, "last_edit_date": 1512586647, "creation_date": 1512582533, "answer_id": 47680477, "question_id": 47680152, "link": "https://stackoverflow.com/questions/47680152/add-implicit-promotion-to-complex-class-last-step/47680477#47680477", "title": "Add implicit promotion to complex class, last step", "body": "<p>The second argument is a <a href=\"https://stackoverflow.com/a/25245676/2069064\">non-deduced context</a>. You have to rewrite this so that <code>U</code> can actually be deduced. The typical way is to stick the SFINAE into the return type. </p>\n\n<pre><code> template &lt;typename T, typename U&gt;\n using add_t = decltype(std::declval&lt;T&gt;() + std::declval&lt;U&gt;());\n\n template &lt;typename T, typename U&gt;\n auto operator+(const std::complex&lt;T&gt;&amp; a, const U&amp; b)\n     -&gt; std::enable_if_t&lt;std::is_arithmetic&lt;U&gt;::value,\n                         std::complex&lt;add_t&lt;T, U&gt;&gt;&gt;\n {\n     std::complex&lt;add_t&lt;T, U&gt;&gt; res = a;\n     res += b;\n     return res;\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8409, "user_id": 2001017, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/H0Z0x.jpg?s=128&g=1", "display_name": "Picaud Vincent", "link": "https://stackoverflow.com/users/2001017/picaud-vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1512587397, "last_edit_date": 1512587397, "creation_date": 1512584315, "answer_id": 47680962, "question_id": 47680152, "link": "https://stackoverflow.com/questions/47680152/add-implicit-promotion-to-complex-class-last-step/47680962#47680962", "title": "Add implicit promotion to complex class, last step", "body": "<p>I am not sure that you need SFINAE here. A minimal working C++14 code is:</p>\n\n<pre><code>#include &lt;ccomplex&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;typename T, typename U&gt;\nusing add_t = decltype(std::declval&lt;T&gt;() + std::declval&lt;U&gt;());\n\ntemplate &lt;typename T, typename U&gt;\nconstexpr std::complex&lt;add_t&lt;T, U&gt;&gt; operator+(const std::complex&lt;T&gt;&amp; a,\n                                              const std::complex&lt;U&gt;&amp; b) noexcept\n{\n  using returnType = decltype(a + b);\n  return returnType(a.real() + b.real(), a.imag() + b.imag());\n}\n\ntemplate &lt;typename T, typename U&gt;\nconstexpr std::complex&lt;add_t&lt;T, U&gt;&gt; operator+(const std::complex&lt;T&gt;&amp; a,\n                                              const U&amp; b) noexcept\n{\n  using returnType = decltype(a + b);\n  return returnType(a.real() + b, a.imag());\n}\n\ntemplate &lt;typename T, typename U&gt;\nconstexpr auto operator+(const T&amp; a, const std::complex&lt;U&gt;&amp; b) noexcept\n{\n  return b + a;  // assume commutativity of + operator\n}\n\nusing namespace std;\n\nint main()\n{\n\n  constexpr complex&lt;double&gt; a;\n  constexpr complex&lt;long double&gt; b;\n  constexpr int i = 1;\n\n  constexpr auto s1 = a + b;  // (1)\n  constexpr auto s2 = a + i;  // (2)\n  constexpr auto s3 = i + a;  // (3)\n  constexpr auto s4 = a + 2;  // (4)\n  constexpr auto s5 = 2 + a;  // (5)\n}\n</code></pre>\n\n<p>Note: it also works with <code>constexpr</code> expressions.</p>\n"}], "owner": {"reputation": 91, "user_id": 9028058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add85cc9edd30e33a3b0786461d02de3?s=128&d=identicon&r=PG&f=1", "display_name": "Federico", "link": "https://stackoverflow.com/users/9028058/federico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1512587397, "creation_date": 1512581284, "last_edit_date": 1512581998, "question_id": 47680152, "link": "https://stackoverflow.com/questions/47680152/add-implicit-promotion-to-complex-class-last-step", "title": "Add implicit promotion to complex class, last step", "body": "<p>I would like to allow implicit conversion when summing complex numbers.\nFor example:</p>\n\n<pre><code> complex&lt;double&gt; a; \n complex&lt;long double&gt; b;\n int i;\n\n auto sum = a + b; // (1)\n auto SUM = a + i; // (2)\n</code></pre>\n\n<p>I have the code that enable conversion (1) thanks to answer <a href=\"https://stackoverflow.com/questions/47562514/simple-way-to-add-implicit-type-promotion-to-the-stdcomplex-class-operators/47563513?noredirect=1#comment82153089_47563513\">implicit type promotion in summing two complex&lt;></a>\nIn order to enable also the (2) conversion I used enable_if_t</p>\n\n<pre><code>  template &lt;typename T, typename U&gt;\n  auto operator +(const ::std::complex&lt;T&gt; &amp;a,     std::enable_if_t&lt;std::is_arithmetic&lt;U&gt;::value, U&gt;  &amp;b) \n  {\n   typedef decltype(::std::declval&lt;T&gt;() + ::std::declval&lt;U&gt;()) comcomp_t;\n   typedef ::std::complex&lt;comcomp_t&gt; result_t;\n   return ::std::operator +(result_t{a}, result_t{b});\n  }\n</code></pre>\n\n<p>However, I got a compilation error saying \"couldn't deduce template paramter 'U'. I guess my comprehension of SFINAE is very shallow. Any help would be highly appreciated. Thanks</p>\n"}, {"tags": ["c++", "c++11", "c++14", "c++17"], "answers": [{"comments": [{"owner": {"reputation": 1778, "user_id": 9063139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bze7O.png?s=128&g=1", "display_name": "Martin Morterol", "link": "https://stackoverflow.com/users/9063139/martin-morterol"}, "edited": false, "score": 0, "creation_date": 1512581796, "post_id": 47680090, "comment_id": 82319743, "body": "Thank, that sad we lost the &quot;unsigned&quot; is the promotion"}], "tags": [], "owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "is_accepted": true, "score": 0, "last_activity_date": 1512581077, "creation_date": 1512581077, "answer_id": 47680090, "question_id": 47679982, "link": "https://stackoverflow.com/questions/47679982/uint8-t-and-binary-or/47680090#47680090", "title": "uint8_t and binary OR", "body": "<p>see <a href=\"http://en.cppreference.com/w/cpp/language/implicit_cast#Integral_promotion\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/implicit_cast#Integral_promotion</a>\nall arithmetic operations promote integer types smaller than int to int or unsigned int.</p>\n"}], "owner": {"reputation": 1778, "user_id": 9063139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bze7O.png?s=128&g=1", "display_name": "Martin Morterol", "link": "https://stackoverflow.com/users/9063139/martin-morterol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "closed_date": 1512580924, "accepted_answer_id": 47680090, "answer_count": 1, "score": 0, "last_activity_date": 1512581077, "creation_date": 1512580710, "question_id": 47679982, "link": "https://stackoverflow.com/questions/47679982/uint8-t-and-binary-or", "closed_reason": "Duplicate", "title": "uint8_t and binary OR", "body": "<p>Does someone know why uint8_t&amp;uint8_t produce an int ?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n#include &lt;cstdint&gt;\n#include &lt;typeinfo&gt;\n\nusing namespace std;\n\nint main() {\n    {\n        uint8_t a {}, b{};\n        auto c = a &amp; b ;\n        cout &lt;&lt; is_unsigned&lt;decltype(a)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(b)&gt;::value \n        &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(c)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype( a &amp; b)&gt;::value &lt;&lt; \" \";\n        cout &lt;&lt; \"\\t \" &lt;&lt; typeid(a).name() &lt;&lt; \" \" &lt;&lt; typeid(c).name() &lt;&lt; endl;\n    }\n    cout &lt;&lt; endl;\n    {\n        uint32_t a {}, b{};\n        auto c = a &amp; b ;\n        cout &lt;&lt; is_unsigned&lt;decltype(a)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(b)&gt;::value \n        &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(c)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype( a &amp; b)&gt;::value &lt;&lt; \" \";\n        cout &lt;&lt; \"\\t \" &lt;&lt; typeid(a).name() &lt;&lt; \" \" &lt;&lt; typeid(c).name() &lt;&lt; endl;\n\n    }\n    cout &lt;&lt; endl;\n    {\n        size_t a {}, b{};\n        auto c = a &amp; b ;\n        cout &lt;&lt; is_unsigned&lt;decltype(a)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(b)&gt;::value \n        &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype(c)&gt;::value &lt;&lt; \" \"&lt;&lt; is_unsigned&lt;decltype( a &amp; b)&gt;::value &lt;&lt; \" \";\n        cout &lt;&lt; \"\\t \" &lt;&lt; typeid(a).name() &lt;&lt; \" \" &lt;&lt; typeid(c).name() &lt;&lt; endl;\n\n    }\n}\n</code></pre>\n\n<p>live here : <a href=\"https://www.jdoodle.com/embed/v0/gqH\" rel=\"nofollow noreferrer\" title=\"jdoodle\">jdoodle</a></p>\n\n<p>The output is : </p>\n\n<pre><code>1 1 0 0      h i\n\n1 1 1 1      j j\n\n1 1 1 1      m m\n</code></pre>\n\n<p>I don't find any clue in cppreference, just: </p>\n\n<blockquote>\n  <p>The result of operator&amp; is the bitwise AND value of the operands (after usual arithmetic conversions)</p>\n</blockquote>\n\n<p>So, I don't know it's standard or implementation dependant.</p>\n\n<p>Thank you for your help :)</p>\n"}, {"tags": ["c++", "window", "windows-10"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1512586193, "post_id": 47679911, "comment_id": 82321917, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms632626(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}, {"owner": {"reputation": 442, "user_id": 2300396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5824da2d9c3403af82e577ccb07836e3?s=128&d=identicon&r=PG", "display_name": "Dwedit", "link": "https://stackoverflow.com/users/2300396/dwedit"}, "edited": false, "score": 0, "creation_date": 1551665356, "post_id": 47679911, "comment_id": 96710404, "body": "See this answer: <a href=\"https://stackoverflow.com/questions/32159675/retrieve-window-size-without-windows-shadows\" title=\"retrieve window size without windows shadows\">stackoverflow.com/questions/32159675/&hellip;</a>"}, {"owner": {"reputation": 1334, "user_id": 637987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47e98f619e6b1fd3c1162253865b6c3b?s=128&d=identicon&r=PG", "display_name": "Vaillancourt", "link": "https://stackoverflow.com/users/637987/vaillancourt"}, "reply_to_user": {"reputation": 442, "user_id": 2300396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5824da2d9c3403af82e577ccb07836e3?s=128&d=identicon&r=PG", "display_name": "Dwedit", "link": "https://stackoverflow.com/users/2300396/dwedit"}, "edited": false, "score": 0, "creation_date": 1551673226, "post_id": 47679911, "comment_id": 96711945, "body": "@dwedit thanks, I&#39;ll check that out when I get back to that task."}], "answers": [{"tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 1, "last_activity_date": 1512595505, "creation_date": 1512595505, "answer_id": 47683694, "question_id": 47679911, "link": "https://stackoverflow.com/questions/47679911/how-to-resize-a-windows-10-window-and-ignore-the-transparent-border/47683694#47683694", "title": "How to resize a Windows 10 window and ignore the transparent border?", "body": "<p>This is handled by the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb688195(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Desktop Window Manager</a> and can be overridden. The chief step is WM_NCCALCSIZE (window message, non client) which you override to return 0,0</p>\n"}, {"tags": [], "owner": {"reputation": 1334, "user_id": 637987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47e98f619e6b1fd3c1162253865b6c3b?s=128&d=identicon&r=PG", "display_name": "Vaillancourt", "link": "https://stackoverflow.com/users/637987/vaillancourt"}, "is_accepted": false, "score": 3, "last_activity_date": 1602187156, "creation_date": 1602187156, "answer_id": 64269787, "question_id": 47679911, "link": "https://stackoverflow.com/questions/47679911/how-to-resize-a-windows-10-window-and-ignore-the-transparent-border/64269787#64269787", "title": "How to resize a Windows 10 window and ignore the transparent border?", "body": "<p>I found two ways to achieve this.</p>\n<h2>By using the <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/dwmapi/nf-dwmapi-dwmgetwindowattribute\" rel=\"nofollow noreferrer\"><code>DwmGetWindowAttribute</code></a> function</h2>\n<p>With this approach, we <code>MoveWindow</code> twice. The first time we move it will position the window and calculate all its size information. This will allow us to get two aspects of its dimensions. And the second time, we'll take into account the &quot;drop shadow&quot; border. For this to work, we need to <code>ShowWindow( SW_SHOW );</code> <em>before</em> we <code>MoveWindow</code>.</p>\n<pre><code>void MyCFrameWndMain::applyWindowSizeAndShow()\n{\n  ShowWindow( SW_SHOW );\n  \n  int targetWidth = ::GetSystemMetrics( SM_CXSCREEN );\n  int targetHeight = ::GetSystemMetrics( SM_CYSCREEN );\n\n  MoveWindow( 0, 0, targetWidth, targetHeight, TRUE );\n  \n  RECT decoratedRect;\n  // This gets the rectangle &quot;with the decoration&quot;:\n  GetWindowRect( &amp;decoratedRect ); \n  RECT leanRECT;\n  // This gets the rectangle &quot;without the decoration&quot;:\n  ::DwmGetWindowAttribute( m_hWnd, DWMWA_EXTENDED_FRAME_BOUNDS, &amp;leanRECT, sizeof( leanRECT ) ); \n  \n  int leftDecoration   = leanRECT.left        - decoratedRect.left;\n  int rightDecoration  = decoratedRect.right  - leanRECT.right;\n  int topDecoration    = leanRECT.top         - decoratedRect.top;\n  int bottomDecoration = decoratedRect.bottom - leanRECT.bottom;\n  \n  // Apparently, the &quot;rectangle without the decoration&quot; still has a 1 pixel border on the sides and \n  // at the bottom, so we use the GetSystemMetrics to figure out the size of that border, and \n  // correct the size.\n  int xBorder = ::GetSystemMetrics( SM_CXBORDER );\n  int yBorder = ::GetSystemMetrics( SM_CYBORDER );\n\n  MoveWindow( \n    0 - leftDecoration - xBorder\n    , 0 - topDecoration - yBorder\n    , targetWidth + leftDecoration + rightDecoration + 2*xBorder\n    , targetHeight + topDecoration + bottomDecoration + 2*yBorder\n    , TRUE );\n}\n</code></pre>\n<p>This approach seemed to work better than the other.</p>\n<h2>By handling the <a href=\"https://docs.microsoft.com/en-us/windows/win32/winmsg/wm-nccalcsize\" rel=\"nofollow noreferrer\"><code>WM_NCCALCSIZE</code></a> message</h2>\n<p>Using this method, the idea is to <code>MoveWindow</code> <em>before</em> it is shown.</p>\n<pre><code>void MyCFrameWndMain::applyWindowSizeAndShow()\n{\n  int targetWidth = ::GetSystemMetrics( SM_CXSCREEN );\n  int targetHeight = ::GetSystemMetrics( SM_CYSCREEN );\n\n  MoveWindow( 0, 0, targetWidth, targetHeight, TRUE );\n\n  ShowWindow( SW_SHOW );\n}\n</code></pre>\n<p>and then handling the <code>WM_NCCALCSIZE</code> message:</p>\n<pre><code>LRESULT MyCFrameWndMain::WindowProc(UINT message, WPARAM wParam, LPARAM lParam)\n{\n  switch (message)\n  {\n  \n  // ...\n  \n  case WM_NCCALCSIZE:\n  { // https://docs.microsoft.com/en-us/windows/win32/winmsg/wm-nccalcsize?redirectedfrom=MSDN\n    int titleBarHeight = ::GetSystemMetrics( SM_CYCAPTION );\n    if ( wParam == TRUE )\n    {\n      NCCALCSIZE_PARAMS* params = reinterpret_cast&lt;NCCALCSIZE_PARAMS*&gt;( lParam );\n      params-&gt;rgrc[0].top = titleBarHeight;\n      return WVR_REDRAW;\n    }\n    else //if ( wParam == FALSE )\n    {\n      RECT* rect = reinterpret_cast&lt;RECT*&gt;( lParam );\n      rect-&gt;top = titleBarHeight;\n      return 0;\n    }\n  }\n  break;\n\n  // ...\n\n  }\n}\n</code></pre>\n<p>The drawbacks I found using this method:</p>\n<ul>\n<li>there was a one pixel line between the top edge of the window and the top edge of the screen</li>\n<li>when I had two monitors that did not use the same scaling (e.g. the main one being at 150% and the second being at 100%), when I dragged the window using the title bar from one monitor to the other, the title bar would vanish and everything would be all messed up. I have not been able to reproduce this issue when both were at 100%. This should not be an issue when the typical usage is to not move the window (which is our case).</li>\n<li>I suppose I'm not too sure how this all works, but it seemed that some of the window elements were a bit out of place.</li>\n</ul>\n<p>If I had not been able to find the first method, this second method would have worked well enough for our needs, even if it has a couple of issues.</p>\n<hr />\n<p>I've used those answers (among other resources):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/32645155/637987\">Retrieve Window Size without Windows Shadows</a></li>\n<li><a href=\"https://stackoverflow.com/a/42491227/637987\">windows 10 screen coordinates are offset by 7</a></li>\n<li><a href=\"https://stackoverflow.com/a/47683694/637987\">Other answer to this question by MSalters</a></li>\n</ul>\n"}], "owner": {"reputation": 1334, "user_id": 637987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47e98f619e6b1fd3c1162253865b6c3b?s=128&d=identicon&r=PG", "display_name": "Vaillancourt", "link": "https://stackoverflow.com/users/637987/vaillancourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1602187885, "creation_date": 1512580432, "last_edit_date": 1602187885, "question_id": 47679911, "link": "https://stackoverflow.com/questions/47679911/how-to-resize-a-windows-10-window-and-ignore-the-transparent-border", "title": "How to resize a Windows 10 window and ignore the transparent border?", "body": "<p>Our 3d application window needs to cover the whole desktop of the user, including the task bar (not resizable, not <em>maximized</em>, not <em>full screen</em> as seen in video games, just a window with the [X] in the top-right corner, the title bar, and the status bar).</p>\n<p>To achieve this, we used the following code:</p>\n<pre><code>void\nCTheApp::SetFullScreenMode()\n{\n  HWND hwnd = getHandle();\n\n  long style = ::GetWindowLong(hwnd, GWL_STYLE);\n  style &amp;= ~(WS_MAXIMIZEBOX|WS_MINIMIZEBOX|WS_THICKFRAME);\n  ::SetWindowLong(hwnd, GWL_STYLE, style);\n\n  // get screen dimensions\n  int width  = ::GetSystemMetrics(SM_CXSCREEN);\n  int height = ::GetSystemMetrics(SM_CYSCREEN);\n\n  ::MoveWindow(hwnd, 0, 0, width, height, TRUE);\n}\n</code></pre>\n<p>It worked for our needs... until Windows 10 arrived.</p>\n<p>With Windows 10, there is a small gap on the left, right and bottom that the window does not cover. (More precisely: 9 pixels on the left, 9 pixels on the right, and 9 pixels on the bottom.)</p>\n<p>It seems that Windows 10 adds this transparent style to the border of non-maximized windows.</p>\n<p>How could I make it so that the window would stretch visually correctly on the whole screen in Windows 10 (leave no apparent gap), while keeping the feature valid for previous versions of Windows (Windows 7 - Windows 8.1)? Is there a clean way to set this &quot;transparency&quot; to zero?</p>\n<hr />\n<p>I thought about hacking it and expanding the sizes by 9 pixels on each side, but this could cause issues when the user has another Theme set up (e.g. High contrast), or when the app will be using multiple windows on multiple monitors.</p>\n"}, {"tags": ["java", "android", "c++", "delphi", "c++builder"], "comments": [{"owner": {"reputation": 7477, "user_id": 8041231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPCNu.png?s=128&g=1", "display_name": "Victoria", "link": "https://stackoverflow.com/users/8041231/victoria"}, "edited": false, "score": 4, "creation_date": 1512580402, "post_id": 47679846, "comment_id": 82318939, "body": "Typecasting in Delphi goes like <code>Type(Value)</code>, not <code>Value(Type)</code>."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 3, "creation_date": 1512582246, "post_id": 47679846, "comment_id": 82319986, "body": "Typecasting in Delphi is documented. It&#39;s always depressing when people who don&#39;t know stuff ask before reading the documentation."}, {"owner": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "edited": false, "score": 0, "creation_date": 1512636585, "post_id": 47679846, "comment_id": 82340912, "body": "<code>var         val: JLong;        begin         val:= JLong(60000);</code> <b>&quot;Incorrect transtyping&quot;</b>, I&#39;m not talking about JavaTypes for nothing..."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1512686319, "post_id": 47679846, "comment_id": 82370106, "body": "@IDS: Java&#39;s <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> (uppercase) is a class type wrapper for a primitive <code>long</code> (lowercase)  value. Delphi&#39;s <code>JLong</code> is an interface wrapper for <code>Long</code>. You can&#39;t type-cast an integer to an interface and back. In your example, you have to use Delphi&#39;s <code>TJLong</code> wrapper class to perform the conversion, eg: <code>val := TJLong.JavaClass.init(60000);</code> To go the other way, simply call the <code>JLong.doubleValue()</code> (or similar) method, eg: <code>var val: JLong; dbl: Double; begin val := TJLong.JavaClass.init(60000); dbl := val.doubleValue;</code>"}, {"owner": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "edited": false, "score": 0, "creation_date": 1512725392, "post_id": 47679846, "comment_id": 82382526, "body": "Thanks Remy it works :) I understand JClass -&gt; Interface, TJClass -&gt; Wrappers now."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "edited": false, "score": 0, "creation_date": 1512635984, "post_id": 47681940, "comment_id": 82340592, "body": "Operator do not work for this type of operand... ELAPSED_REALTIME is a JLong."}, {"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "reply_to_user": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "edited": false, "score": 2, "creation_date": 1512645062, "post_id": 47681940, "comment_id": 82346539, "body": "Ah, I see that in the translation, a JLong is an interface. And that has a method called <code>doubleValue</code>."}, {"owner": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "edited": false, "score": 0, "creation_date": 1512725210, "post_id": 47681940, "comment_id": 82382407, "body": "Oh okay thanks, wasn&#39;t obvious in the compiling error. It compiles right now ! The Androidapi.JNIMarshal.pas is apparently not found by RAD Studio when executing the app tho. I didn&#39;t call it myself and app wasn&#39;t missing any Androidapi before x)"}], "tags": [], "owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "is_accepted": true, "score": 2, "last_activity_date": 1512645122, "last_edit_date": 1512645122, "creation_date": 1512588022, "answer_id": 47681940, "question_id": 47679846, "link": "https://stackoverflow.com/questions/47679846/jlong-to-double-type-casting-with-delphi/47681940#47681940", "title": "JLong to Double type casting with Delphi", "body": "<p>Apart from the fact that you <em>use the wrong syntax to cast</em> (and the cast syntax is <a href=\"http://docwiki.embarcadero.com/RADStudio/Tokyo/en/Expressions_(Delphi)#Typecasts\" rel=\"nofollow noreferrer\">well documented</a>), in Delphi, <a href=\"http://docwiki.embarcadero.com/RADStudio/Tokyo/en/E2089_Invalid_typecast_(Delphi)\" rel=\"nofollow noreferrer\"><em>you can't cast an integral type to a floating point type</em></a> anyway. And you certainly can't cast a JLong to a double.</p>\n\n<p>But apparently, in the Delphi translation, <code>JLong</code> is an interface with a method called <code>doubleValue</code>. Use that:</p>\n\n<pre><code>Result := TJSystemClock.JavaClass.ELAPSED_REALTIME.doubleValue / 60000.0;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 7416225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131aaf171308a1bf5feeb0b5b2c8667c?s=128&d=identicon&r=PG&f=1", "display_name": "IDS", "link": "https://stackoverflow.com/users/7416225/ids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 47681940, "answer_count": 1, "score": 0, "last_activity_date": 1512645122, "creation_date": 1512580228, "question_id": 47679846, "link": "https://stackoverflow.com/questions/47679846/jlong-to-double-type-casting-with-delphi", "title": "JLong to Double type casting with Delphi", "body": "<p>I searched online how to cast a JLong (JavaType) to a Double to use it in C++ code but didn't find examples.\nI tried various ways to cast this JLong but none work.</p>\n\n<pre><code>function TimeSinceBoot(const aContext: JContext): Double;\n  begin\n    result := (((TJSystemClock.JavaClass.ELAPSED_REALTIME div 1000(JLong)) div 60(JLong))(JDouble))(Double);\n  end;\n</code></pre>\n\n<p>It says still <strong><em>Operator or ; missing.</em></strong>\nAny suggestions ?</p>\n"}, {"tags": ["c++", "c++11", "exception", "c++14", "constexpr"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 12, "creation_date": 1512579979, "post_id": 47679737, "comment_id": 82318633, "body": "Careful there, your pointer&#39;s dangling."}, {"owner": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1512580278, "post_id": 47679737, "comment_id": 82318851, "body": "Ok, get it now. Thanks Barry. Is there a way to achieve what I want to do ?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1512580524, "post_id": 47679737, "comment_id": 82319013, "body": "What is it that you want to do? I feel you asked about a snag in your solution rather than about your problem."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512580818, "post_id": 47679737, "comment_id": 82319188, "body": "Store the string inside a member of the class either at construction or by using a mutable member."}], "answers": [{"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 5, "last_activity_date": 1512581344, "last_edit_date": 1512581344, "creation_date": 1512580659, "answer_id": 47679968, "question_id": 47679737, "link": "https://stackoverflow.com/questions/47679737/use-of-constexpr-in-exception-message/47679968#47679968", "title": "Use of constexpr in exception message", "body": "<p>Disaster awaits - here's gcc's warning:</p>\n\n<pre><code>&lt;source&gt;: In member function 'virtual const char* test_throw::what() const':\n9 : &lt;source&gt;:9:51: warning: function returns address of local variable [-Wreturn-local-addr]\n         return (std::string(\"THROW \")+TEST).c_str();\n</code></pre>\n\n<p>Here are a few ways to make it safe:</p>\n\n<p>Option 1 - derive from a more concrete standard exception, initialising\nthe message in the constructor.</p>\n\n<pre><code>#include &lt;stdexcept&gt;\n#include &lt;string&gt;\n\nconstexpr auto TEST = \"test\";\n\nclass test_throw : public std::runtime_error \n{\npublic:\n    test_throw()\n    : runtime_error(std::string(\"THROW \")+TEST)\n    {}\n};\n</code></pre>\n\n<p>Option 2 - construct the message in a thread_safe static way:</p>\n\n<pre><code>class test_throw : public std::exception \n{\npublic:\n    const char* what() const noexcept\n    {\n        thread_local static std::string message;\n\n        try\n        {\n            message = std::string(\"THROW \") + TEST;\n            return message.c_str();\n        }\n        catch(...)\n        {\n            return \"can't give you a message\";\n        }\n    }\n};\n</code></pre>\n\n<p>Option 3 - reinvent the wheel.</p>\n\n<pre><code>class test_throw : public std::exception \n{\n    std::string message_;\n\npublic:\n    test_throw()\n    : message_ { std::string(\"THROW \") + TEST }\n    {}\n\n    const char* what() const noexcept\n    {\n        return message_.c_str();\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 47679968, "answer_count": 1, "score": 0, "last_activity_date": 1512581344, "creation_date": 1512579878, "question_id": 47679737, "link": "https://stackoverflow.com/questions/47679737/use-of-constexpr-in-exception-message", "title": "Use of constexpr in exception message", "body": "<p>I was trying to use a constexpr inside an exception message, but this does not work:\nThe followoing code is compiling well on g++ (using c++11 or c++14).</p>\n\n<pre><code>#include &lt;exception&gt;\n\nconstexpr auto TEST = \"test\";\n\nclass test_throw : public std::exception {\npublic:\n    virtual const char* what() const throw() {\n        return (std::string(\"THROW \")+TEST).c_str();\n    }\n};\n\nint main()\n{\n    throw test_throw{};\n} \n</code></pre>\n\n<p>I wonder why my exception is outputting an empty message, ok that seems like a bad trick, but I don't understand how the message can be empty.</p>\n\n<p>Is there a way to achieve this without replacing the constexpr by a macro ? </p>\n"}, {"tags": ["c++", "function", "constants", "operator-keyword"], "comments": [{"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "edited": false, "score": 0, "creation_date": 1512580067, "post_id": 47679704, "comment_id": 82318709, "body": "Welcome. It&#39;s good to post Complete Minimal Examples when you are asking debugging help! Even the error you posted is not complete.. :/ I will attempt to reply, but please take my advice for next time! =)"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1512580160, "post_id": 47679704, "comment_id": 82318770, "body": "your <code>operator==</code> should be also marked as const. Make it your default to declare methods as const and only non-const them if needed. Fixing const correctness afterwards can be painful"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 4, "creation_date": 1512580285, "post_id": 47679704, "comment_id": 82318857, "body": "Are you aware that <code>return name &lt; x.name;</code> does the same as your pesky <code>if</code> but shorter and more readable? One should use <code>if( something ) return true; else return false;</code> if they paid by lines of code."}, {"owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "edited": false, "score": 3, "creation_date": 1512580399, "post_id": 47679704, "comment_id": 82318938, "body": "Half your &quot;code&quot; is explanation what the closing brace belongs too. If you need that much documentation on closing braces, it&#39;s <b>really</b> time to pick another style for your braces."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 2, "creation_date": 1512580464, "post_id": 47679704, "comment_id": 82318975, "body": "<i>&quot;It keeps giving me the message&quot;</i> (A) Where? Post the full message, including the line and column number that it gives you. (A2) You missed out the places where you called these methods, which makes the question incomplete. (B) And you disagree with that message why? It seems quite clear to me. Bonus (C) Please do not write end-of-block comments in such trivial cases, where it is obvious what they&#39;re ending, and they are only visual noise, not any help."}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1512581438, "post_id": 47679704, "comment_id": 82319560, "body": "@Slava <code>bool paidByLinesOfCode = something;</code> <code>bool result;</code> <code>if(paidByLinesOfCode)</code> <code>{</code> <code>result = true;</code> <code>}</code> <code>else</code> <code>{</code> <code>result = false;</code> <code>}</code> <code>return result;</code>. Questionable bonus points: only one <code>return</code>!"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1512583995, "post_id": 47679704, "comment_id": 82320875, "body": "@Caleth you can also add another <code>if</code> - <code>if( result )  { return true; } else { return false; }</code> as well to make it even better."}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": true, "score": 4, "last_activity_date": 1512580193, "creation_date": 1512580193, "answer_id": 47679828, "question_id": 47679704, "link": "https://stackoverflow.com/questions/47679704/error-candidate-function-not-viable-this-argument-has-type-const-but-metho/47679828#47679828", "title": "Error: candidate function not viable: &#39;this&#39; argument has type &#39;const&#39; but method is not marked const", "body": "<p>Change this:</p>\n\n<pre><code>bool operator==(const node&amp; x) {\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>bool operator==(const node&amp; x) const {\n</code></pre>\n\n<p>in order to mark your other function const as well.</p>\n"}], "owner": {"reputation": 132, "user_id": 9063088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88a8c3e5a7bf7b2cbfdc3e53956044c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jet.Black.Pope", "link": "https://stackoverflow.com/users/9063088/jet-black-pope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6110, "favorite_count": 0, "accepted_answer_id": 47679828, "answer_count": 1, "score": -1, "last_activity_date": 1512583939, "creation_date": 1512579772, "last_edit_date": 1512583939, "question_id": 47679704, "link": "https://stackoverflow.com/questions/47679704/error-candidate-function-not-viable-this-argument-has-type-const-but-metho", "title": "Error: candidate function not viable: &#39;this&#39; argument has type &#39;const&#39; but method is not marked const", "body": "<p>I have been running into some issues trying to compile a project.  It keeps giving me the message: \"candidate function not viable: 'this' argument has type 'const' but method is not marked const\".  Below are the functions that this error is appearing by.</p>\n\n<pre><code>bool operator&lt;(const node&amp; x) const{\n    if(name &lt; x.name){\n        return true;\n    } else{\n        return false;\n    }\n}\n\nbool operator==(const node&amp; x){\n    if(name == x.name){\n        return true;\n    } else{\n        return false;\n    }\n}\n</code></pre>\n\n<p>If anyone has any thoughts or knows where I've gone wrong with using const I'd be extremely grateful.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1512578907, "post_id": 47679383, "comment_id": 82317960, "body": "Why does <code>unique_ptr</code> &quot;not helps here&quot; [sic]?"}, {"owner": {"reputation": 5913, "user_id": 1244932, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d2c608e688b798896e8b516855fc1ab1?s=128&d=identicon&r=PG", "display_name": "user1244932", "link": "https://stackoverflow.com/users/1244932/user1244932"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1512579033, "post_id": 47679383, "comment_id": 82318046, "body": "@Yakk I thought that I can not assign value pointed by <code>const unique_ptr</code>, but looks like I am wrong here?"}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1512579482, "post_id": 47679383, "comment_id": 82318325, "body": "<code>const std::unique_ptr&lt;T&gt;</code>, or <code>std::unique_ptr&lt;T const&gt;</code>?"}], "owner": {"reputation": 5913, "user_id": 1244932, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d2c608e688b798896e8b516855fc1ab1?s=128&d=identicon&r=PG", "display_name": "user1244932", "link": "https://stackoverflow.com/users/1244932/user1244932"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 1, "closed_date": 1512579093, "answer_count": 0, "score": 1, "last_activity_date": 1512578753, "creation_date": 1512578753, "question_id": 47679383, "link": "https://stackoverflow.com/questions/47679383/map-with-fixed-const-keys-and-changeable-data", "closed_reason": "Duplicate", "title": "map with fixed (const) keys and changeable data?", "body": "<p>I have map like this:</p>\n\n<pre><code>struct cmp_str\n{\n   bool operator()(char const *a, char const *b)\n   {\n      return std::strcmp(a, b) &lt; 0;\n   }\n};\nstd::map&lt;char *, std::atomic&lt;bool&gt;, cmp_str&gt; my_map;\n</code></pre>\n\n<p>I add keys to <code>my_map</code> only during creation,\nthis is important because of I use <code>my_map</code> from multiply threads\nwithout locking.</p>\n\n<p>I want compiler to check that nobody add keys to <code>my_map</code> after creation.</p>\n\n<p>But I can not define <code>my_map</code> as <code>const</code>, because of then I can not change\ndata. Is it possible somehow to make half <code>const</code> map?</p>\n\n<p>I mean it have fixed number of keys and all them defined during creation,\nbut it is possible to change data (not keys) in map?</p>\n\n<p>I thought about holding <code>std::atomic&lt;bool&gt; *const</code> in <code>const std::map</code>,\nbut I have to manually free memory after this. Smart pointers like <code>std::unique_ptr</code> not helps here.</p>\n\n<p>Any ideas how to make half <code>const</code> map with help of <code>std::</code> from <code>c++11</code>?</p>\n"}, {"tags": ["c++", "parallel-processing", "kernel", "opencl", "reduction"], "comments": [{"owner": {"reputation": 17562, "user_id": 568635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25f0758867b3f251cfdf101b9611b9b5?s=128&d=identicon&r=PG", "display_name": "Eelke", "link": "https://stackoverflow.com/users/568635/eelke"}, "edited": false, "score": 1, "creation_date": 1512579465, "post_id": 47679251, "comment_id": 82318316, "body": "<code>offset &gt;&gt;= 1</code> means shift offset by 1 to the right and assign to offset it is shorthand for <code>offset = offset &gt;&gt; 1</code>"}], "owner": {"reputation": 25, "user_id": 3134996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96ee5e384d03545c17b71f5ae6c3e89?s=128&d=identicon&r=PG&f=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/3134996/christine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512579882, "creation_date": 1512578318, "last_edit_date": 1512579882, "question_id": 47679251, "link": "https://stackoverflow.com/questions/47679251/find-index-of-max-value-in-array-inside-kernel", "title": "Find index of Max value in array inside kernel", "body": "<p>I'm very new to OpenCL and I'm creating 2 functions for finding index of minimum OR maximum value in kernel function. According to this <a href=\"http://developer.amd.com/resources/articles-whitepapers/opencl-optimization-case-study-simple-reductions/\" rel=\"nofollow noreferrer\">article</a>  I was able to find index of the minimum value based on parallel tree reduction.</p>\n\n<p>How can I change it to find only index of maximum value in array? This is my working Min function:</p>\n\n<pre><code>__kernel void Min(__global float* buffer, __global int* result, __const int length, __local float* scratch, __local int* sc_index)\n{\n\n    int global_index = get_global_id(0);\n    int local_index = get_local_id(0);\n\n    // Load data into local memory\n    if (global_index &lt; length) {\n        scratch[local_index] = buffer[global_index];\n        sc_index[local_index] = global_index;\n    } else {\n        // INFINITY is the identity element for the min operation\n        scratch[local_index] = INFINITY;\n    }\n\n    barrier(CLK_LOCAL_MEM_FENCE);    \n    for(int offset = get_local_size(0) / 2;  offset &gt; 0; offset &gt;&gt;= 1)\n    {\n        if (local_index &lt; offset) {\n            float other = scratch[local_index + offset];\n            int other_index = sc_index[local_index + offset];\n\n            float mine = scratch[local_index];\n            int mine_index = sc_index[local_index];\n\n            if (mine &lt; other) {\n                scratch[local_index] = mine;\n                sc_index[local_index] = mine_index;\n            }\n            else {\n                scratch[local_index] = other;\n                sc_index[local_index] = other_index;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n\n    if (local_index == 0) {\n        result[get_group_id(0)] = sc_index[0];\n    }\n}\n</code></pre>\n\n<p>I guess I should change INFINITY to -INFINITY for finding index of max value. </p>\n\n<p>Also what is the exact meaning of the double angle brackets here?</p>\n\n<pre><code>for(int offset = get_local_size(0) / 2;  offset &gt; 0; offset &gt;&gt;= 1) {\n</code></pre>\n\n<p>Thank you for your advice!</p>\n"}, {"tags": ["c++", "visual-studio", "vector"], "comments": [{"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1512581644, "post_id": 47679171, "comment_id": 82319669, "body": "you caller isn&#39;t calling your skeleton function, is your caller function ReadFileStable by any chance? Infinite recursion would explain the stack overflow"}, {"owner": {"reputation": 187, "user_id": 5780302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9938aeb2dc7f8c36a3b1c999022fa528?s=128&d=identicon&r=PG&f=1", "display_name": "DLyons", "link": "https://stackoverflow.com/users/5780302/dlyons"}, "reply_to_user": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1512583401, "post_id": 47679171, "comment_id": 82320583, "body": "Sorry, main calls both of them.  ReadFileStable just gets the input lines for processing by LinesToCards."}, {"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1512595333, "post_id": 47679171, "comment_id": 82326806, "body": "we can&#39;t tell you what the subtle problem with your program is if you don&#39;t show us the whole program"}, {"owner": {"reputation": 187, "user_id": 5780302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9938aeb2dc7f8c36a3b1c999022fa528?s=128&d=identicon&r=PG&f=1", "display_name": "DLyons", "link": "https://stackoverflow.com/users/5780302/dlyons"}, "reply_to_user": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1512596084, "post_id": 47679171, "comment_id": 82327160, "body": "Absolutely true.  I have about 1300 lines of what was working, but monolithic and kludgy, C++ code which I&#39;m refactoring and cleaning.  That drives several pieces of 3rd party C DLLs and lua scripts.  So it&#39;s all a bit fragile, and apparently straightforward changes seem to have consequences in unexpected places.  Once I get it sorted I&#39;ll try to summarise what the issues were."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 5780302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9938aeb2dc7f8c36a3b1c999022fa528?s=128&d=identicon&r=PG&f=1", "display_name": "DLyons", "link": "https://stackoverflow.com/users/5780302/dlyons"}, "edited": false, "score": 0, "creation_date": 1512578629, "post_id": 47679233, "comment_id": 82317776, "body": "Yes, I suppose so.  I&#39;m refactoring stuff that was working fine, but which calls a very hungry 3rd party DLL and conceivably I&#39;ve messed up some earlier call."}, {"owner": {"reputation": 187, "user_id": 5780302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9938aeb2dc7f8c36a3b1c999022fa528?s=128&d=identicon&r=PG&f=1", "display_name": "DLyons", "link": "https://stackoverflow.com/users/5780302/dlyons"}, "edited": false, "score": 0, "creation_date": 1512583715, "post_id": 47679233, "comment_id": 82320730, "body": "Somewhere else entirely I&#39;m generating a file for processing by a different 3rd party program.  Nothing has changed in that code section and my generated file looks perfectly OK.  But, inexplicably, it now will only run with a blank header line and a blank trailer line.  Once I manually add those the stack overflow issue goes away!  Thanks for the help."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1512578263, "creation_date": 1512578263, "answer_id": 47679233, "question_id": 47679171, "link": "https://stackoverflow.com/questions/47679171/unhandled-exception-in-apparently-trivial-function-call/47679233#47679233", "title": "Unhandled exception in apparently trivial function call", "body": "<p>You're out of stack space.</p>\n\n<p>The function where the failure happens is not the function that's to blame, and that's why it doesn't happen in your small test program.</p>\n\n<p>One of the functions in the call path to the failing code was very greedy and didn't leave enough stack available for the functions it calls.</p>\n\n<p>Look for both large objects on the stack and also too-deep recursion.</p>\n"}], "owner": {"reputation": 187, "user_id": 5780302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9938aeb2dc7f8c36a3b1c999022fa528?s=128&d=identicon&r=PG&f=1", "display_name": "DLyons", "link": "https://stackoverflow.com/users/5780302/dlyons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512630049, "creation_date": 1512578069, "last_edit_date": 1512630049, "question_id": 47679171, "link": "https://stackoverflow.com/questions/47679171/unhandled-exception-in-apparently-trivial-function-call", "title": "Unhandled exception in apparently trivial function call", "body": "<p>I have a function that reads a text file and successfully returns a vector of the small number of lines in the file.  I passed this vector to a function to process the lines and it threw an error</p>\n\n<pre><code>Unhandled exception at 0x00267EF9 in Bridge.exe: 0xC00000FD: Stack overflow (parameters: 0x00000000, 0x00A82000). occurred\n</code></pre>\n\n<p>So, as Ben Voigt pointed out, there was a stack overflow that probably had nothing to do with the function that apparently threw it i.e.  </p>\n\n<pre><code>   int LinesToCards(std::vector&lt;std::string&gt;&amp; lines) {\n        int retval = -999;\n        return retval;\n    }\n</code></pre>\n\n<p>This was called from main which had a line needed by a 3rd party DLL</p>\n\n<pre><code>    int main()\n        {\n            std::string cards[MAXDEALS][DDS_HANDS][DDS_SUITS] ;\n            int retval = -999;        \n            retval = LinesToCards(lines);       \n            return 0;\n    }\n</code></pre>\n\n<p>The \n    #define DDS_HANDS 4\n    #define DDS_SUITS 4\ncannot be changed but the original working </p>\n\n<pre><code>#define MAXDEALS 999\n</code></pre>\n\n<p>now throws the exception.  If I reduce it to </p>\n\n<pre><code>#define MAXDEALS 890\n</code></pre>\n\n<p>the code runs again.  If I up that to</p>\n\n<pre><code>#define MAXDEALS 891\n</code></pre>\n\n<p>it crashes.  Is there some magic number between 16240 and 16256?</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 0, "creation_date": 1512578037, "post_id": 47679140, "comment_id": 82317419, "body": "Have you tried <code>std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(4) &lt;&lt; q &lt;&lt; std::endl;</code>? Also, <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">don&#39;t use <code>using namespace std;</code></a>"}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 1, "creation_date": 1512578121, "post_id": 47679140, "comment_id": 82317476, "body": "The accepted answer here -- <a href=\"https://stackoverflow.com/questions/554063/how-do-i-print-a-double-value-with-full-precision-using-cout\" title=\"how do i print a double value with full precision using cout\">stackoverflow.com/questions/554063/&hellip;</a> -- shows code that will do this for you."}, {"owner": {"reputation": 37, "user_id": 4913128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd430b06dc14c1750147e1dc692144a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/4913128/roman"}, "edited": false, "score": 0, "creation_date": 1512578173, "post_id": 47679140, "comment_id": 82317514, "body": "why shouldnt i use using namespace std?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1512578176, "post_id": 47679140, "comment_id": 82317516, "body": "Just take the substring that excludes the digits you don&#39;t want?"}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1512578200, "post_id": 47679140, "comment_id": 82317531, "body": "Notice that when Xirema said that, they made it a link to a page that explains why not."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1512578217, "post_id": 47679140, "comment_id": 82317541, "body": "@Roman <i>&quot;why shouldnt i use using namespace std?&quot;</i> Try clicking the link."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 1, "creation_date": 1512578394, "post_id": 47679140, "comment_id": 82317650, "body": "Please clarify if the string is an intermediate object or if you start from it and not from a <code>double</code> value."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1512579091, "post_id": 47679140, "comment_id": 82318091, "body": "Removed duplicate mark. The code <b>clearly</b> starts with a string, and the claimed duplicate started with a double. Unless you <b>absolutely know</b> the precision limits that are required here, converting to a double is not appropriate, because it can affect the result."}], "answers": [{"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1512595813, "post_id": 47679238, "comment_id": 82327032, "body": "Slightly  more lines would be needed if you have to deal with malformed input, but that check probadly belongs in it&#39;s own function."}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 3, "last_activity_date": 1512578269, "creation_date": 1512578269, "answer_id": 47679238, "question_id": 47679140, "link": "https://stackoverflow.com/questions/47679140/is-there-any-way-to-round-a-string/47679238#47679238", "title": "Is there any way to round a string?", "body": "<p>Sure, and it only requires a handful of lines of code; certainly not 100. Just consider the rules for rounding: to round to 4 digits, look at the 5th digit; if it's greater than <code>'5'</code>, add one to the 4th digit; if it's less than <code>'5'</code>, leave the 4th digit alone; if it's exactly <code>'5'</code>, if anything after the 4th digit is not zero, add one to the 4th digit; otherwise, apply your tie-break rule (round-to-even, round-to-odd, round toward zero, etc.). When you add one to the 4th digit, it might roll over from <code>'9'</code> to something greater than <code>'9'</code>; if that happens, add one to the 3rd digit, etc. When all that is finished, discard the characters after the 4th digit.</p>\n"}, {"comments": [{"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1512640260, "post_id": 47680643, "comment_id": 82343247, "body": "By <i>&quot;just use the system libraries to do this&quot;</i>, what do you mean specifically? Converting to a double and then back again? Do you think there are any risks with that approach? Or is there a standard &quot;way to round a string&quot; already without that return trip?"}, {"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1512653151, "post_id": 47680643, "comment_id": 82351785, "body": "if your number is exactly representable as a double then yes converting it to a double and then printing it will be the simplest method. If you want to guarantee no loss of precision of arbitrary numbers then you either need to work on the string or use some precise number library. As you only want to round to 4 decimal places doubles will be accurate enough unless your numbers are very large."}], "tags": [], "owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "is_accepted": false, "score": 0, "last_activity_date": 1519215078, "last_edit_date": 1519215078, "creation_date": 1512583066, "answer_id": 47680643, "question_id": 47679140, "link": "https://stackoverflow.com/questions/47679140/is-there-any-way-to-round-a-string/47680643#47680643", "title": "Is there any way to round a string?", "body": "<p>This should do what you want. It's much easier to just use the system libraries to do this, though.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nvoid increment( std::string&amp; num )\n{\n    for ( auto ch = num.rbegin(); ch != num.rend(); ch++ )\n    {\n        switch ( *ch )\n        {\n        case '9':\n                *ch = '0';\n        case '.':\n                continue;\n        case '-':\n                num.insert( 1, 1, '1' );\n                return;\n        default:\n            (*ch)++;\n            return;\n        }\n    }\n    num.insert( 0, 1, '1' );\n}\n\nstd::string round( const std::string&amp; num, size_t precision )\n{\n    size_t dot = num.find( '.' );\n    if ( dot == std::string::npos || dot + precision &gt;= num.size() )\n    {\n        return num;\n    }\n    size_t length = std::min( dot + precision + 1, num.size() );\n    char lastCh = num[ length ];\n    std::string result = num.substr( 0, length );\n    if ( lastCh &gt;= '5' &amp;&amp; lastCh &lt;= '9' )\n    {\n        increment( result );\n    }\n    return result;\n}\n\nint main()\n{\n    std::cout &lt;&lt; round( \"123.45\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"123.456\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"123.4567\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"123.45678\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"123.456789\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"123.456723\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"999.9999995\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"-123.456723\", 4 ) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; round( \"-999.9999995\", 4 ) &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4913128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd430b06dc14c1750147e1dc692144a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/4913128/roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1519215078, "creation_date": 1512577936, "question_id": 47679140, "link": "https://stackoverflow.com/questions/47679140/is-there-any-way-to-round-a-string", "title": "Is there any way to round a string?", "body": "<p>So i have a string for exampe <code>\"-389761456.6570000000\"</code> and i need to round this number to 4 characters behind the dor. I wrote a whole function for this but its too long(100 lines).\ni cant convert it like this:</p>\n\n<pre><code>void Calculator::Display(string a)\n{\n    long double q = stod(a);\n    cout &lt;&lt; setprecision(4) &lt;&lt; q &lt;&lt; endl;\n}\n</code></pre>\n\n<p>because it will look like this (3.89e^-10 etc)(just an example not the real result)\nand i want smth like this <code>\"-389761456.6570\"</code>\nis there any way to do it?</p>\n"}, {"tags": ["c++", "class", "methods", "lambda", "field"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1512578032, "post_id": 47679110, "comment_id": 82317414, "body": "If the vector <code>vtst</code> has to reallocate the captured <code>this</code> pointer is left hanging.  <code>Tester</code> indirectly contains a pointer to it&#39;s own instance and you have broken the rule of 3 or 5."}, {"owner": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "edited": false, "score": 0, "creation_date": 1512578091, "post_id": 47679110, "comment_id": 82317449, "body": "use <code>[v]() { cout &lt;&lt; v &lt;&lt; &quot;\\n&quot;;}</code>."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "edited": false, "score": 0, "creation_date": 1512578157, "post_id": 47679110, "comment_id": 82317504, "body": "@qdbp it&#39;s better to not use endl if you don&#39;t want to flush the stream explictly"}, {"owner": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1512578227, "post_id": 47679110, "comment_id": 82317547, "body": "@UKMonkey: ok, thanks"}, {"owner": {"reputation": 21, "user_id": 7251926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeno5.jpg?s=128&g=1", "display_name": "Darksy", "link": "https://stackoverflow.com/users/7251926/darksy"}, "reply_to_user": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "edited": false, "score": 0, "creation_date": 1512578229, "post_id": 47679110, "comment_id": 82317552, "body": "@qdbp two compiler errors: capture of non-variable Tester::v; &#39;this&#39; was not captured in this lambda function"}, {"owner": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "edited": false, "score": 0, "creation_date": 1512578663, "post_id": 47679110, "comment_id": 82317791, "body": "Ah, I didn&#39;t recognize <code>v</code> was a member of the class. Then I would try <code>[this]() {... this-&gt;v ...}</code>"}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512578750, "post_id": 47679110, "comment_id": 82317861, "body": "replace <code>Test tst(i+0.365); vtst.push_back(tst);</code> by <code>vtst.emplace_back(i+0.365)</code> , whatsoever if you copy your vector, you will get the error again."}, {"owner": {"reputation": 21, "user_id": 7251926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeno5.jpg?s=128&g=1", "display_name": "Darksy", "link": "https://stackoverflow.com/users/7251926/darksy"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512579228, "post_id": 47679110, "comment_id": 82318174, "body": "@Oliv it helps))) thanks so much!"}, {"owner": {"reputation": 21, "user_id": 7251926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeno5.jpg?s=128&g=1", "display_name": "Darksy", "link": "https://stackoverflow.com/users/7251926/darksy"}, "reply_to_user": {"reputation": 99, "user_id": 6463480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf91b2f436654cfebf6675a2b41bdba7?s=128&d=identicon&r=PG&f=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/6463480/qdbp"}, "edited": false, "score": 0, "creation_date": 1512579254, "post_id": 47679110, "comment_id": 82318191, "body": "@qdbp doesn&#39;t help... I found one solution: auto vv = this-&gt;v; writeV = [vv]() {cout &lt;&lt; vv &lt;&lt; endl;} but I have no idea why it works =)"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1512579626, "post_id": 47679110, "comment_id": 82318414, "body": "@Darksy: But it is no longer bound to member. (if you change <code>v</code>, lambda would still print old value)."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512580111, "post_id": 47679110, "comment_id": 82318737, "body": "@Darsky, If you plain to maintain your program, you should consider following Jarod42&#39;s answer."}], "answers": [{"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1512579513, "creation_date": 1512579513, "answer_id": 47679621, "question_id": 47679110, "link": "https://stackoverflow.com/questions/47679110/c-lambda-function-as-class-member-strange-behaviour/47679621#47679621", "title": "C++ lambda function as class member: strange behaviour", "body": "<p>As state in comment you have broken rule of 0/3/5, you have to implement copy constructor</p>\n\n<pre><code>class Tester\n{\npublic:\n    Tester(double val) : v(val) {\n        writeV = [this](){std::cout &lt;&lt; \"inside lambda \" &lt;&lt; v &lt;&lt; '\\n';};\n    }\n\n    Tester(const Tester&amp; rhs) : v(rhs.v) {\n        writeV = [this](){std::cout &lt;&lt; \"inside lambda \" &lt;&lt; v &lt;&lt; '\\n';};\n    }\n\n    Tester&amp; operator =(const Tester&amp; rhs) {\n        v = rhs.v;\n        // Keep function\n        return *this;\n    }\n\n    void writeVexp() const { std::cout &lt;&lt; \"inside simple function \" &lt;&lt; v &lt;&lt; '\\n'; }\nprivate:\n    double v;\n    std::function&lt;void()&gt; writeV;\n};\n</code></pre>\n\n<p><a href=\"https://ideone.com/UgJEAV\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7251926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeno5.jpg?s=128&g=1", "display_name": "Darksy", "link": "https://stackoverflow.com/users/7251926/darksy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512579513, "creation_date": 1512577850, "question_id": 47679110, "link": "https://stackoverflow.com/questions/47679110/c-lambda-function-as-class-member-strange-behaviour", "title": "C++ lambda function as class member: strange behaviour", "body": "<p>I have a class where I would like to use lambda function (for example, just write a value of public member). Lambda is keeped in the std::function object:</p>\n\n<pre><code>class Tester\n{\n\npublic:\n\n    Tester() {};\n    Tester(double val);\n    ~Tester() {}\n\n    //- variable\n    double v;\n\n    //- write v using lambda\n    std::function&lt;void()&gt; writeV;\n\n    //- write v using simple function\n    void writeVexp();\n};\n\nTester::Tester(double val)\n{\n    v = val;\n\n    writeV = [this]() { std::cout &lt;&lt; \"inside lambda \" &lt;&lt; v &lt;&lt; '\\n'; };\n}\n\nvoid Tester::writeVexp()\n{\n    std::cout &lt;&lt; \"inside simple function \" &lt;&lt; v &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>I have another class which collects these testers in std::vector:</p>\n\n<pre><code>class vectorTester\n{\n    std::vector&lt;Tester&gt; vtst;\n\n    double size;\n\npublic:\n\n    //- default constructor\n    vectorTester() {}\n\n    //- construct by number of testers\n    vectorTester(double num);\n\n    ~vectorTester() {}\n\n    //- write publuc members of all Testers \n    void useTesterLambda();\n    void useTesterSimple();\n    void useTesterVar();\n};\n\nvectorTester::vectorTester(double num)\n{\n    vtst.reserve(num);\n\n    size = num;\n\n    for (int i = 0; i &lt; num; ++i)\n    {\n        Tester tst (i + 0.365);\n        vtst.push_back(tst);\n    }\n}\n\n\nvoid vectorTester::useTesterLambda()\n{\n    cout &lt;&lt; \"\\n tester's lambda \\n\";\n\n    for (int i = 0; i &lt; size; ++i)\n    {\n        vtst[i].writeV();\n    }\n}\n\nvoid vectorTester::useTesterSimple()\n{\n    cout &lt;&lt; \"\\n tester's simple function \\n\";\n\n    for (int i = 0; i &lt; size; ++i)\n    {\n        vtst[i].writeVexp();\n    }\n}\n\nvoid vectorTester::useTesterVar()\n{\n    cout &lt;&lt; \"\\n tester's vars \\n\";\n\n    for (int i = 0; i &lt; size; ++i)\n    {\n        cout &lt;&lt; vtst[i].v &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>And the main function is simple:</p>\n\n<pre><code>int main()\n{\n    vectorTester vtst(5);\n\n    vtst.useTesterLambda();\n    vtst.useTesterSimple();\n    vtst.useTesterVar();\n\n    return 0;\n}\n</code></pre>\n\n<p>The output said me that lambda function can not see the value V of class Tester!</p>\n\n<pre><code>     tester's lambda \ninside lambda 0\ninside lambda 4.94066e-324\ninside lambda 9.88131e-324\ninside lambda 1.4822e-323\ninside lambda 1.97626e-323\n\n tester's simple function \ninside simple function 0.365\ninside simple function 1.365\ninside simple function 2.365\ninside simple function 3.365\ninside simple function 4.365\n\n tester's vars \n0.365\n1.365\n2.365\n3.365\n4.365\n</code></pre>\n\n<p>What is the reason of this strange behaviour?</p>\n"}, {"tags": ["c++", "qt", "qwidget", "qapplication"], "comments": [{"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1512578758, "post_id": 47679077, "comment_id": 82317868, "body": "The error means that you need to create an object of type <code>QApplication</code> before you create an object of a type that is or inherits from <code>QWidget</code>. The recommended way to do it is to create a <code>QApplication</code> on the first line of your <code>main</code> function. Also, you can&#39;t create widgets as global variables or inside the constructor of a global variable since global variables are created and their constructors are called before entering the <code>main</code> function. If you really need a widget as a global variable, create a pointer to it initially equal to <code>NULL</code>, then create the widget in the <code>main</code> function."}, {"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1512579384, "post_id": 47679077, "comment_id": 82318275, "body": "Also, you might be interested in <a href=\"https://stackoverflow.com/q/21590421/4284627\">stackoverflow.com/q/21590421/4284627</a>."}, {"owner": {"reputation": 123, "user_id": 8966543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r9mCIh9TJ1E/AAAAAAAAAAI/AAAAAAAAAD8/TYT92LSI3_Q/photo.jpg?sz=128", "display_name": "Omar Krichen", "link": "https://stackoverflow.com/users/8966543/omar-krichen"}, "reply_to_user": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1512579901, "post_id": 47679077, "comment_id": 82318586, "body": "@Donald Duck i m working in project qt Application with widgets"}, {"owner": {"reputation": 123, "user_id": 8966543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r9mCIh9TJ1E/AAAAAAAAAAI/AAAAAAAAAD8/TYT92LSI3_Q/photo.jpg?sz=128", "display_name": "Omar Krichen", "link": "https://stackoverflow.com/users/8966543/omar-krichen"}, "reply_to_user": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1512922965, "post_id": 47679077, "comment_id": 82441786, "body": "@DonaldDuck can you help me please ? it doesn t work"}, {"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1512923734, "post_id": 47679077, "comment_id": 82442010, "body": "@\u200bOmarKrichen You haven&#39;t provided enough information for me to solve your problem. Please read how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. All I can say now is that you need to create a <code>QApplication</code> object at the beginning of your <code>main</code> function and that you can&#39;t have any global or static variables of any type that is or inherits from <code>QWidget</code>, and you can&#39;t create any such objects in the constructors of any class that instantiates a global or static variable."}], "owner": {"reputation": 123, "user_id": 8966543, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r9mCIh9TJ1E/AAAAAAAAAAI/AAAAAAAAAD8/TYT92LSI3_Q/photo.jpg?sz=128", "display_name": "Omar Krichen", "link": "https://stackoverflow.com/users/8966543/omar-krichen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 887, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512578968, "creation_date": 1512577776, "last_edit_date": 1512578968, "question_id": 47679077, "link": "https://stackoverflow.com/questions/47679077/why-am-i-getting-the-error-qwidget-must-construct-a-qapplication-before-a-widg", "title": "Why am I getting the error &quot;QWidget: must construct a QApplication before a widget&quot;?", "body": "<p>I get the following error:</p>\n\n<blockquote>\n  <p>QWidget: must construct a QApplication before a widget</p>\n</blockquote>\n\n<p>It worked 3 days ago, but now it doesn't work anymore, and I don't know why.</p>\n\n<p>What does this error mean? I don't know if I modified something.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>mainwindw.cpp</strong></p>\n\n<pre><code>void MainWindow::on_Statistic_button_clicked(){\n    s1 =new stat1(this);\n    s1-&gt;show();\n}\n</code></pre>\n\n<p><strong>stat1.cpp</strong></p>\n\n<pre><code>stat1::stat1(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::stat1)\n{\n    ui-&gt;setupUi(this);\n    //mLayout = new QVBoxLayout;\n    mChart = new OpenChart(this);\n    setCentralWidget(mChart);\n    //mLayout-&gt;addWidget(mChart);\n    //mLayout-&gt;setMargin(0);\n    //setLayout(mLayout);\n    //int num;\n    QSqlQuery q,q1,q2;\n    q1.exec(\"SELECT count(distinct adresse) from abonne\");\n    q1.next();\n    int n = q1.value(0).toInt();\n    QString adr[100];\n\n    int j = 0;\n    q.exec(\"SELECT distinct adresse from abonne\");\n    while(j&lt;n)\n    {\n        q.next();\n        adr[j]=q.value(0).toString();\n        j++;\n    }\n\n\n    QMap&lt;QString,int&gt; cartes;\n    for(j=0;j&lt;n;j++)\n    {\n        q2.exec(\"SELECT count(abonne.id_abonne) FROM abonne,fidels where abonne.id_abonne=fidels.id_abonne and abonne.adresse='\"+adr[j]+\"'\");\n        q2.next();\n        int nbr = q2.value(0).toInt();\n        cartes[adr[j]] = nbr;\n    }\n\n\n    mChart-&gt;setTitle(\"Cartes/Adresses\");\n    mChart-&gt;setTipo(OpenChart::Sectores_2D);\n    mChart-&gt;setTipoleyenda(OpenChart::Circular);\n    const auto cartesEnd=cartes.end();\n    for(auto i=cartes.begin(); i!=cartesEnd; ++i){\n        mChart-&gt;addItem(i.key(), i.value());\n    }\n}\n\nstat1::~stat1()\n{\n    delete ui;\n}\n</code></pre>\n"}, {"tags": ["c++", "makefile", "g++", "pybind11"], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 5224286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b3b9910cbb2254c651fca2c71edd84af?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Lee", "link": "https://stackoverflow.com/users/5224286/zack-lee"}, "edited": false, "score": 0, "creation_date": 1578113804, "post_id": 50671866, "comment_id": 105342148, "body": "This doesn&#39;t seem to really answer the question."}, {"owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "reply_to_user": {"reputation": 2132, "user_id": 5224286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b3b9910cbb2254c651fca2c71edd84af?s=128&d=identicon&r=PG&f=1", "display_name": "Zack Lee", "link": "https://stackoverflow.com/users/5224286/zack-lee"}, "edited": false, "score": 0, "creation_date": 1578162221, "post_id": 50671866, "comment_id": 105352332, "body": "@ZackLee, I believe it answers the question - the OP said they need to extend a pre-existing makefile, so I described the changes that they&#39;d need to make to their makefile. If you&#39;re writing a makefile from scratch, you could use one of the various examples or templates online, then apply the changes described here."}], "tags": [], "owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "is_accepted": false, "score": 2, "last_activity_date": 1528068313, "creation_date": 1528068313, "answer_id": 50671866, "question_id": 47678976, "link": "https://stackoverflow.com/questions/47678976/how-to-embedding-python-in-c-with-pybind-and-make-instead-of-cmake/50671866#50671866", "title": "How to embedding Python in C++ with PyBind and make instead of CMake?", "body": "<p>It's pretty straightforward.  You need to make the following changes:</p>\n\n<ol>\n<li>Add the pybind11 include directory to your includes (<code>-I</code> flags).</li>\n<li>Add the Python 3 headers to your includes (<code>-I</code> flags).</li>\n<li>Add the Python 3 libraries to your libraries (<code>-L</code> flags).</li>\n</ol>\n\n<p>Python's <code>python3-config</code> program is the best way of doing #2 and #3.</p>\n\n<p>For example, if you have a makefile that looks something like this:</p>\n\n<pre><code>%.o: %.cc\n    $(CXX) -o $@ -c $^\n\nmain: main.o\n    $(CXX) -o $@ $^\n</code></pre>\n\n<p>Then you'll need to change it like this:</p>\n\n<pre><code>%.o: %.cc\n    $(CXX) -o $@ -c $^ -Ipath/to/pybind11-2.2.3/include $(shell python3-config --includes)\n\nmain: main.o\n    $(CXX) -o $@ $^ $(shell python3-config --libs)\n</code></pre>\n\n<p>In practice, your Makefile probably has variables giving the include paths, C++ compiler flags, libraries, and/or linker flags, so you'd add the <code>-I</code> and <code>python3-config</code> calls there.</p>\n"}], "owner": {"reputation": 1245, "user_id": 987397, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/fa7ae7d9bd13c2d04335c3209865c262?s=128&d=identicon&r=PG", "display_name": "Derk", "link": "https://stackoverflow.com/users/987397/derk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1992, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1534322755, "creation_date": 1512577441, "last_edit_date": 1534322755, "question_id": 47678976, "link": "https://stackoverflow.com/questions/47678976/how-to-embedding-python-in-c-with-pybind-and-make-instead-of-cmake", "title": "How to embedding Python in C++ with PyBind and make instead of CMake?", "body": "<p>I am trying to embed some Python code in C++ with PyBind. Most of documentation is on extending Python with C++, but I am interested in embedding:</p>\n\n<p>On <a href=\"http://pybind11.readthedocs.io/en/stable/advanced/embedding.html\" rel=\"nofollow noreferrer\">http://pybind11.readthedocs.io/en/stable/advanced/embedding.html</a> there is a simple example with cmake. However for my project I have to extend a makefile.</p>\n\n<p>Is it possible to change this example</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.0)\nproject(example)\n\nfind_package(pybind11 REQUIRED)  # or `add_subdirectory(pybind11)`\n\nadd_executable(example main.cpp)\ntarget_link_libraries(example PRIVATE pybind11::embed)\n</code></pre>\n\n<p>with this c++ file</p>\n\n<pre><code>#include &lt;pybind11/embed.h&gt; // everything needed for embedding\nnamespace py = pybind11;\n\nint main() {\n    py::scoped_interpreter guard{}; // start the interpreter and keep it alive\n\n    py::print(\"Hello, World!\"); // use the Python API\n}\n</code></pre>\n\n<p>to a version with a makefile?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 2, "creation_date": 1512577479, "post_id": 47678950, "comment_id": 82317052, "body": "Can you sort the array first - or update it to use std::vector?"}, {"owner": {"reputation": 4826, "user_id": 193789, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a17cc57e47435930a48f7c80bcd53863?s=128&d=identicon&r=PG", "display_name": "kebs", "link": "https://stackoverflow.com/users/193789/kebs"}, "edited": false, "score": 0, "creation_date": 1512577526, "post_id": 47678950, "comment_id": 82317088, "body": "Why would there be ? No magic in computers, you have to search one by one..."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 3, "creation_date": 1512577618, "post_id": 47678950, "comment_id": 82317161, "body": "@Karol Borecki  It is the linear search. If the array is not sorted then there is no other methods. On the other hand the function implementation is bad. There is already standard algorithm std::find in C++."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1512577984, "post_id": 47678950, "comment_id": 82317376, "body": "related:  <a href=\"https://stackoverflow.com/questions/249392/binary-search-in-array\" title=\"binary search in array\">stackoverflow.com/questions/249392/binary-search-in-array</a>"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1512578154, "post_id": 47678950, "comment_id": 82317499, "body": "@UKMonkey how would vector help. Its just a wrapped array"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1512578228, "post_id": 47678950, "comment_id": 82317548, "body": "@Karol Borecki  The function declaration should look at least like size_t find( const int a[], size_t n, int x );"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1512578589, "post_id": 47678950, "comment_id": 82317757, "body": "@pm100 it doesn&#39;t help the issue of searching for an item; it helps on # of arguments to the function, maintainability, memory management, abstraction (potentially)."}, {"owner": {"reputation": 16, "user_id": 7600544, "user_type": "registered", "profile_image": "https://graph.facebook.com/1845512625736128/picture?type=large", "display_name": "Karol Borecki", "link": "https://stackoverflow.com/users/7600544/karol-borecki"}, "edited": false, "score": 0, "creation_date": 1512582772, "post_id": 47678950, "comment_id": 82320255, "body": "No i cant sort this first, thanks guys a lot, i just want to make sure this is the best way."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1512581256, "creation_date": 1512581256, "answer_id": 47680146, "question_id": 47678950, "link": "https://stackoverflow.com/questions/47678950/how-to-find-an-object-in-table-c/47680146#47680146", "title": "How to find an object in table C++", "body": "<p>For linear search two optimizations come to mind:</p>\n\n<ol>\n<li>Build a vectorized implementation that uses SIMD instructions to do multiple comparisons at the same time.</li>\n<li>Parallelize search to multiple CPUs. That only makes sense if the array to search is sufficiently large to warrant multi-threading overhead.</li>\n</ol>\n\n<p>Intel <a href=\"https://software.intel.com/en-us/get-started-with-pstl\" rel=\"nofollow noreferrer\">Parallel STL</a> can do both optimizations for you.</p>\n"}], "owner": {"reputation": 16, "user_id": 7600544, "user_type": "registered", "profile_image": "https://graph.facebook.com/1845512625736128/picture?type=large", "display_name": "Karol Borecki", "link": "https://stackoverflow.com/users/7600544/karol-borecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512581256, "creation_date": 1512577371, "last_edit_date": 1512578025, "question_id": 47678950, "link": "https://stackoverflow.com/questions/47678950/how-to-find-an-object-in-table-c", "title": "How to find an object in table C++", "body": "<p>i have function which finds a number in a table: </p>\n\n<pre><code>int find(int arrf[], int len, int seek)\n{\n    for (int i = 0; i &lt; len; ++i)\n        if (arrf[i] == seek) \n            return i;\n    return -1;\n}\n</code></pre>\n\n<p>Is there a faster way to do this? </p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1512577440, "post_id": 47678945, "comment_id": 82317030, "body": "<code>==</code> instead of <code>=</code> to compare."}, {"owner": {"reputation": 1702, "user_id": 3747770, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cbc0310d87016a34afa034e5e0661fba?s=128&d=identicon&r=PG&f=1", "display_name": "NJMR", "link": "https://stackoverflow.com/users/3747770/njmr"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1512577511, "post_id": 47678945, "comment_id": 82317070, "body": "Sorry for the typo, I modified the compare."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 4, "creation_date": 1512577611, "post_id": 47678945, "comment_id": 82317157, "body": "Are both functions in the same file? Otherwise, how is the <code>main</code> function supposed to know what <code>getV()</code> returns?"}, {"owner": {"reputation": 1702, "user_id": 3747770, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cbc0310d87016a34afa034e5e0661fba?s=128&d=identicon&r=PG&f=1", "display_name": "NJMR", "link": "https://stackoverflow.com/users/3747770/njmr"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1512577736, "post_id": 47678945, "comment_id": 82317241, "body": "@BoPersson: I have included the header, the one in which I have declared the namespace and also the function declaration."}], "answers": [{"tags": [], "owner": {"reputation": 3193, "user_id": 6608866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/395a0bd6f09706e701866702448c5924?s=128&d=identicon&r=PG&f=1", "display_name": "PaulR", "link": "https://stackoverflow.com/users/6608866/paulr"}, "is_accepted": false, "score": 2, "last_activity_date": 1512578247, "last_edit_date": 1512578247, "creation_date": 1512577909, "answer_id": 47679133, "question_id": 47678945, "link": "https://stackoverflow.com/questions/47678945/using-constexpr-in-a-namespace-with-static-assert-is-giving-error/47679133#47679133", "title": "Using constexpr in a namespace with static_assert is giving error", "body": "<p>If you want the compiler compiling <code>main</code> to know about the value <code>getV</code> returns <em>at compile time</em>, you must implement the function in the header too.\nSince you use <code>static_assert</code> the definition is needed at compile time.</p>\n\n<p>The way you do it only the compiler of the .cpp file containing <code>getV</code> can know what it returns. This is usually a different compiler call. </p>\n\n<p>By link time, it is too late to check the <code>static_assert</code>.</p>\n\n<p>The error message: <code>expression did not evaluate to a constant</code> is caused by the compiler not knowing the implementation. In a \"runtime\" context it would insert a call here, to be later fixed up by the linker and executed at runtime. A runtime call is however never a compile time constant.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 3, "last_activity_date": 1512578823, "creation_date": 1512578823, "answer_id": 47679413, "question_id": 47678945, "link": "https://stackoverflow.com/questions/47678945/using-constexpr-in-a-namespace-with-static-assert-is-giving-error/47679413#47679413", "title": "Using constexpr in a namespace with static_assert is giving error", "body": "<p>In practice, the C++ compilation model is 2 phase.  First you compile, then you link.</p>\n\n<p><code>constexpr</code> only works in the compile phase.  There is no requirement that compilers can fold <code>constexpr</code> function bodies into call sites when doing so would require link-time <code>constexpr</code> evaluation.</p>\n\n<p>So when you fail to provide a body for your <code>constexpr</code> function, anyone that cannot see that body <em>will not evaluate it at compile time</em>, but rather wait until runtime.</p>\n\n<p><code>constexpr</code> doesn't mean \"will be run at compile time\", but rather \"could be run at compile time in some situations\".</p>\n"}], "owner": {"reputation": 1702, "user_id": 3747770, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cbc0310d87016a34afa034e5e0661fba?s=128&d=identicon&r=PG&f=1", "display_name": "NJMR", "link": "https://stackoverflow.com/users/3747770/njmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 47679413, "answer_count": 2, "score": 0, "last_activity_date": 1512578823, "creation_date": 1512577353, "last_edit_date": 1512577612, "question_id": 47678945, "link": "https://stackoverflow.com/questions/47678945/using-constexpr-in-a-namespace-with-static-assert-is-giving-error", "title": "Using constexpr in a namespace with static_assert is giving error", "body": "<p>I have declared the following in header file.</p>\n\n<pre><code>namespace G1\n{\n    inline namespace V1\n    {\n        constexpr float getV();\n    }\n}\n</code></pre>\n\n<p>In CPP file, I have defined the <code>getV</code> function as</p>\n\n<pre><code>constexpr float G1::V1::getV()\n{\n    return 0.1f;\n}\n</code></pre>\n\n<p>In the main I am using <code>static_assert</code> to compare the version as shown.</p>\n\n<pre><code>int main()\n{\n    static_assert( G1::getV() == 1.0f, \"Error\"); // Please Ignore the way I am comparing the floats\n    return 0;\n}\n</code></pre>\n\n<p>But when I compile the code, I am getting <code>expression did not evaluate to a constant</code>.</p>\n\n<p>Am I doing anything wrong here? I am using VS2015.\nThanks in advance</p>\n"}, {"tags": ["c++", "arrays", "sorting"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 2, "creation_date": 1512577303, "post_id": 47678895, "comment_id": 82316948, "body": "You don&#39;t ask a question. Use a debugger. Use std::vector instead of new[]."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "edited": false, "score": 0, "creation_date": 1512577399, "post_id": 47678895, "comment_id": 82317005, "body": "@manni66 I have tried debugger. But I cant get the logic right."}, {"owner": {"reputation": 12858, "user_id": 6752050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5c4caa7ff50e6e492c3957ca20ef6c?s=128&d=identicon&r=PG&f=1", "display_name": "S.M.", "link": "https://stackoverflow.com/users/6752050/s-m"}, "edited": false, "score": 0, "creation_date": 1512580118, "post_id": 47678895, "comment_id": 82318743, "body": "Your program does what you said, it does it correctly. You have an error in the algorithm."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 12858, "user_id": 6752050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5c4caa7ff50e6e492c3957ca20ef6c?s=128&d=identicon&r=PG&f=1", "display_name": "S.M.", "link": "https://stackoverflow.com/users/6752050/s-m"}, "edited": false, "score": 0, "creation_date": 1512581172, "post_id": 47678895, "comment_id": 82319406, "body": "@S.M. Yes, true. Can you please provide a hint how should I correct my algorithm"}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512581653, "post_id": 47678895, "comment_id": 82319674, "body": "If you use a debugger, then it should be obvious when a value is different that the expected one... so you fix your formula and repeat."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512581874, "post_id": 47678895, "comment_id": 82319777, "body": "@Phil1970 I cant figure out the logic of the formula. Rest I have tried in debugger  and know at what point I stopped getting expected output."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512582785, "post_id": 47678895, "comment_id": 82320259, "body": "Why would you think that you could do a function <code>myfunc</code> that could compare item since you want to reorder item according to the index and not the value..."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512582865, "post_id": 47678895, "comment_id": 82320299, "body": "@Phil1970 I am not much familiar with STL. Is there any way to reorder item according to index?"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 1, "creation_date": 1512589647, "post_id": 47678895, "comment_id": 82323778, "body": "It looks like you want to perform a specific one-to-one mapping, which has absolutely nothing to do with the numbers inside the array, right? So that should be pretty easy, but it has nothing to do with sort. It actually looks very easy if you start over, and don&#39;t do anything other than the exact steps you wanted to accomplish."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512589792, "post_id": 47678895, "comment_id": 82323858, "body": "@KennyOstrom yes, thats what I exactly want to do. Thanks."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512589800, "post_id": 47678895, "comment_id": 82323864, "body": "Is your mapping something like where you would select binary tree nodes, if the input were a previously sorted array?"}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512589833, "post_id": 47678895, "comment_id": 82323886, "body": "@KennyOstrom yes, exactly my intention!"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512590060, "post_id": 47678895, "comment_id": 82323995, "body": "Before I look at that, I need to complain about your communication skills. Then I need to complain about &lt;bits/stdc++.h&gt;, never use that. I don&#39;t like using namespace std but I can live with it on small programs. Don&#39;t #include &lt;vector&gt; and then declare a c-style array of ints right afterwards, seriously! Okay, I think my anal phase is over."}, {"owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512591044, "post_id": 47678895, "comment_id": 82324548, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160648/discussion-between-shankhadeep-mukerji-and-kenny-ostrom\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1512699260, "post_id": 47678895, "comment_id": 82373540, "body": "You formula and your sample data are incoherent. You tell us that <code>arr[3] = arr[n&#47;8]</code>. If <code>n</code> is 11, then 11/8 give 1 and not 0 as is your sample data: <code>myvector[3] = arr[0]</code>. Because of these inconsistencies, it is very hard to help you as we cannot guess what you want to do. By the way, the first mapping give duplicate for some n. For example, with <code>n</code>equals to <code>11</code> we get <code>2</code> bot at index <code>1</code> <b>(n/4)</b> and index <code>8</code> <b>(3n/16)</b>. Thus your formula is clearly wrong."}], "answers": [{"tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": true, "score": 1, "last_activity_date": 1512683461, "last_edit_date": 1512683461, "creation_date": 1512665456, "answer_id": 47699928, "question_id": 47678895, "link": "https://stackoverflow.com/questions/47678895/how-to-map-array-elements-to-select-binary-tree-nodes/47699928#47699928", "title": "How to map array elements to select binary tree nodes?", "body": "<p>It appears you want a binary search tree (BST) stored in array form, using the same internal represenation which is often used to store a heap.</p>\n\n<p>The expected output is an array such that the one based indexes form a tree, where for any one-based index x, the left node of x is at index 2*x, and the right node of x is at index 2*x+1. Additionally, there are no gaps, meaning every member of the array is used, up to N. (It is a complete binary tree) Since c++ uses zero-based indexing, you need to be careful with this one-based index.</p>\n\n<p>That way of representing a tree is very good for storing a heap data structure, but very bad for a binary search tree where you want to insert things, thus breaking the completeness, and forcing you into a very expensive rebalance.</p>\n\n<p>You asked for a mapping from the sorted array index to this array format. We can build it using a recursive function. This recursive function will take exactly the same amount of work as it would have taken to build the binary tree, and in fact, it is nearly identical to how you would write that function, so this is not an optimal approach. We are doing as much work as the entire problem requires, just to come up with an intermediary step.</p>\n\n<p>The special note here is that we do not want the median. We want to ensure that the left subtree forms a perfect binary tree, so that it fits in the array with no gaps. Therefore, it must have a power of 2, minus 1 nodes. The right subtree can be merely complete.</p>\n\n<pre><code>int log2(int n) {\n    if (n &gt; 1)\n        return 1 + log2(n / 2);\n    return 0;\n}\n\n// current_position is the index in bst_indexes\nvoid build_binary_tree_index_mapping(std::vector&lt;int&gt; &amp;bst_indexes, int lower, int upper, int current_position=0) {\n    if (current_position &gt;= bst_indexes.size())\n        return;\n\n    int power = log2(upper - lower);\n    int number = 1 &lt;&lt; (power); // left subtree must be perfect\n    int root = lower + number - 1;\n\n    // fill current_position\n    // std::cout &lt;&lt; current_position &lt;&lt; \" = \" &lt;&lt; root &lt;&lt; std::endl;\n    bst_indexes[current_position] = root;\n\n    if (lower &lt; root) {\n        // fill left subtree\n        int left_node_position = (current_position + 1) * 2 - 1;\n        build_binary_tree_index_mapping(bst_indexes, lower, root - 1, left_node_position);\n    }\n\n    if (root &lt; upper) {\n        // fill right subtree\n        int right_node_position = (current_position + 1) * 2 + 1 - 1;\n        build_binary_tree_index_mapping(bst_indexes, root + 1, upper, right_node_position);\n    }\n}\n</code></pre>\n\n<p>This gives me {7, 3, 9, 1, 5, 8, 10, 0, 2, 4, 6} as the index mapping. It differs from yours because you left spaces in the lower left of the tree, and I am ensuring that the array is completely filled, so I had to shift the bottom row over, then the BST property required reordering everything.</p>\n\n<p>As a side note, in order to use this mapping, you first must sort the data, which is also about the same complexity as the whole problem.</p>\n\n<p>Additionally, the sorted vector already gives you a superior way to do a binary search, using std::binary_search <a href=\"http://en.cppreference.com/w/cpp/algorithm/binary_search\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/algorithm/binary_search</a>.</p>\n"}], "owner": {"reputation": 620, "user_id": 6641380, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-xpKbsD1iVLg/AAAAAAAAAAI/AAAAAAAAAGg/MAO7biFVz9I/photo.jpg?sz=128", "display_name": "Shankhadeep Mukerji", "link": "https://stackoverflow.com/users/6641380/shankhadeep-mukerji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 47699928, "answer_count": 1, "score": 0, "last_activity_date": 1512683461, "creation_date": 1512577156, "last_edit_date": 1512591405, "question_id": 47678895, "link": "https://stackoverflow.com/questions/47678895/how-to-map-array-elements-to-select-binary-tree-nodes", "title": "How to map array elements to select binary tree nodes?", "body": "<p>I have an array of length n. I want to sort the array elements such that my new array elements are like</p>\n\n<pre><code>arr[0] = arr[n/2]\narr[1] = arr[n/4]\narr[2] = arr[3n/4]\narr[3] = arr[n/8]\narr[4] = arr[3n/8]\narr[5] = arr[5n/8] \n</code></pre>\n\n<p>and so on...</p>\n\n<p>What I have tried, using vectors.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nbool myfunc (int l, int r)\n{\n        int m = (l+r)/2;\n        return m;\n}\n\nint main()\n{\n    std::vector&lt;int&gt; myvector = {3,1,20,9,7,5,6,22,17,14,4};\n    std::sort (myvector.begin(), myvector.end(), myfunc);\n\n    for (std::vector&lt;int&gt;::iterator it=myvector.begin(); it!=myvector.end(); ++it)\n        std::cout &lt;&lt; ' ' &lt;&lt; *it;\n    std::cout &lt;&lt; '\\n';\n\n    return 0;\n\n}\n</code></pre>\n\n<p>So, for an array for length 11, I expect </p>\n\n<pre><code>myvector[0] = arr[5]\nmyvector[1] = arr[2]\nmyvector[2] = arr[8]\nmyvector[3] = arr[0]\nmyvector[4] = arr[3]\nmyvector[5] = arr[6]\nmyvector[6] = arr[9]\nmyvector[7] = arr[1]\nmyvector[8] = arr[4]\nmyvector[9] = arr[7]\nmyvector[10] = arr[10]\n</code></pre>\n\n<p>My question is, what should be my function definition of myfunc, such that I get expected output</p>\n\n<pre><code>bool myfunc (int l, int r)\n    {\n            int m = (l+r)/2;\n            //Cant figure out this logic\n    }\n</code></pre>\n\n<p>I have tried debugger, but that definitely doesnt help in defining the function! Any clues would be appreciated.</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"comments": [{"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512579800, "post_id": 47679353, "comment_id": 82318521, "body": "I asked this question because of this <a href=\"https://stackoverflow.com/questions/47668769/when-defining-a-prototype-of-an-overloaded-c-function-template-is-it-legal-to?noredirect=1#comment82308210_47668769\">tricky case</a>. I had seen compilers all agree, but because of the &quot;no diagnostic required&quot;, I was doubting. But I am still doubting, the paragraph you cite is about <i>equivalence</i>, but this not exclude them from being <i>functionaly equivalent</i>."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512580485, "post_id": 47679353, "comment_id": 82318993, "body": "@Oliv: If my understanding is correct, we must distinguish between &quot;equivalent&quot; and &quot;functionally equivalent&quot;. It&#39;s possible to be functionally equivalent, but not equivalent, which is ill-formed."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1512580842, "post_id": 47679353, "comment_id": 82319207, "body": "So to prove &quot;is not ill-formed&quot;, you must proove that these declarations &quot;are not equivalent&quot; (what you have done), and you also must proove that they &quot;are not functionnaly equivalent&quot;. You have not done the last demonstration, this may seem obvious for you, but this is exactly my problem: why <code>t_&lt;T&gt;::type</code> and <code>T</code> are not functionnaly equivalent, they result in the same type??"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 1, "creation_date": 1512581207, "post_id": 47679353, "comment_id": 82319422, "body": "It&#39;s precisely because <code>t_&lt;T&gt;::type</code> is always <code>T</code> that makes them functionally equivalent. You could theoretically specialize <code>t_</code> to create a declaration that is not functionally equivalent, however."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1512687307, "post_id": 47679353, "comment_id": 82370461, "body": "&quot;functionally equivalent&quot; is a relationship between two <i>function templates</i>, not two <i>function template specializations</i>. The ambiguity between the two specializations causes overload resolution to fail, but that&#39;s plain ill-formed, not NDR."}], "tags": [], "owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "is_accepted": false, "score": 2, "last_activity_date": 1512579558, "last_edit_date": 1512579558, "creation_date": 1512578645, "answer_id": 47679353, "question_id": 47678870, "link": "https://stackoverflow.com/questions/47678870/template-equivalence-or-template-functional-equivalence/47679353#47679353", "title": "Template equivalence or template functional equivalence?", "body": "<p>I think that in this scenario they are considered different:</p>\n\n<pre><code>template&lt;class T&gt;\nstruct t_{\n   using type = T;\n   };\n//ill-formed or different?\ntemplate&lt;class T&gt; T f(T);\ntemplate&lt;class T&gt; typename t_&lt;T&gt;::type f(T);\n</code></pre>\n\n<p>Because [temp.over.link] says (<strong>emphasis mine</strong>)</p>\n\n<blockquote>\n  <p>For determining whether two\n  dependent names  are equivalent, <strong>only the name itself is considered, not the result of name lookup in\n  the context of the template</strong>.</p>\n</blockquote>\n\n<p>Since <code>T</code> and <code>typename t_&lt;T&gt;::type</code> differ in naming, the compiler will accept these template declarations.</p>\n\n<p>Now, you couldn't actually <em>call</em> either of them because the resulting template instantiations are <em>functionally equivalent</em>, resulting in ambiguity. This sort of program is ill-formed, no diagnostic required* (See <a href=\"https://stackoverflow.com/a/47679533/27678\">@Barry's great answer</a>).</p>\n\n<p><a href=\"http://rextester.com/LKTII28811\" rel=\"nofollow noreferrer\">MSVC 19.00.23506</a>, <a href=\"https://wandbox.org/permlink/frpEr6zTQujIEZFJ\" rel=\"nofollow noreferrer\">clang 6.0.0</a>, and <a href=\"https://wandbox.org/permlink/WMrL5wP1VHxN33Qb\" rel=\"nofollow noreferrer\">gcc 8.0.0</a> all appear to agree with me on this (none of them issue a diagnostic).</p>\n\n<p>Note that the compiler allows these templates to be declared, so long as they aren't called, whereas something like this won't compile even if the templates are not instantiated:</p>\n\n<pre><code>template&lt;class U&gt; typename t_&lt;U&gt;::type f(U){return {};}\ntemplate&lt;class T&gt; typename t_&lt;T&gt;::type f(T){return {};}\n</code></pre>\n\n<hr>\n\n<p>* \"If a program contains declarations of function\ntemplates that are functionally equivalent but not equivalent, the program is ill-formed, no diagnostic\nrequired.\"</p>\n"}, {"comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1512580137, "post_id": 47679533, "comment_id": 82318755, "body": "Haha, clang and gcc crash because of &quot;id_t&quot; being a typdef (need to include iostream)"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1512580698, "post_id": 47679533, "comment_id": 82319115, "body": "Good point there at the end about it being possible to have actually different declarations. In this scenario, is it even possible to construct such a specialization such that a resulting function call attempt is not ambiguous, though?"}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1512581128, "post_id": 47679533, "comment_id": 82319379, "body": "@AndyG So this is it, the question I posted in my last comment of your answer, <code>T</code> and <code>id&lt;T&gt;</code> are not equivalent because <code>id&lt;T&gt;</code> can be specialized. He is realy strong!!"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1512687099, "post_id": 47679533, "comment_id": 82370387, "body": "The first example looks like a redeclaration to me - though it&#39;s really another &quot;how transparent are alias templates?&quot; issue (see CWG 1979 and issues linked therein). Note that the token-identity-based &quot;equivalent&quot; rule is for expressions only."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 3, "last_activity_date": 1512579196, "creation_date": 1512579196, "answer_id": 47679533, "question_id": 47678870, "link": "https://stackoverflow.com/questions/47678870/template-equivalence-or-template-functional-equivalence/47679533#47679533", "title": "Template equivalence or template functional equivalence?", "body": "<p>Let's start with the simple case:</p>\n\n<pre><code>template &lt;typename T&gt; using id = T;\n\ntemplate&lt;class T&gt; T f(T);\ntemplate&lt;class T&gt; id&lt;T&gt; f(T);\n</code></pre>\n\n<p>This to me is clearly ill-formed, no diagnostic required, per <a href=\"https://timsong-cpp.github.io/cppwp/n4659/temp.over.link#6\" rel=\"nofollow noreferrer\">the relevant rule</a>. The two declarations are functionally equivalent, but not in a way that's simply renaming template parameters (and there aren't any dependent names to consider).</p>\n\n<hr />\n\n<p>With the more complicated case:</p>\n\n<pre><code>template &lt;typename T&gt; struct id_t { using type = T; };\ntemplate &lt;typename T&gt; using id = typename id_t&lt;T&gt;::type;\n\ntemplate&lt;class T&gt; T f(T);\ntemplate&lt;class T&gt; id&lt;T&gt; f(T);\n</code></pre>\n\n<p>I think this is probably <em>not</em> ill-formed, because they aren't truly functionally equivalent. There could be specializations of <code>id_t</code> such that these two declarations are actually different - so these are actually different declarations. </p>\n"}], "owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 2, "accepted_answer_id": 47679533, "answer_count": 2, "score": 5, "last_activity_date": 1512579558, "creation_date": 1512577084, "last_edit_date": 1512578083, "question_id": 47678870, "link": "https://stackoverflow.com/questions/47678870/template-equivalence-or-template-functional-equivalence", "title": "Template equivalence or template functional equivalence?", "body": "<p>In the C++ standard [temp.over.link], it is explained that the determination of function template equivalence should not involve \"heroic efforts\" of the compiler.</p>\n\n<p>As an example, the C++ standard propose this:</p>\n\n<pre><code>// guaranteed to be the same\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);\n// guaranteed to be different\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+11&gt;);\n// ill-formed, no diagnostic required\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+10&gt;);\ntemplate &lt;int I&gt; void f(A&lt;I&gt;, A&lt;I+1+2+3+4&gt;);\n</code></pre>\n\n<p>Is this rule also applies to cases involving meta programming, as in the example below?</p>\n\n<pre><code>template&lt;class T&gt;\nstruct t_{\n   using type = T;\n   };\n//ill-formed or different?\ntemplate&lt;class T&gt; T f(T);\ntemplate&lt;class T&gt; typename t_&lt;T&gt;::type f(T);\n</code></pre>\n"}, {"tags": ["c++", "regex", "qt"], "answers": [{"comments": [{"owner": {"reputation": 932, "user_id": 2426559, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/07c882b7b629b021477a2427cbfa8458?s=128&d=identicon&r=PG", "display_name": "Phiber", "link": "https://stackoverflow.com/users/2426559/phiber"}, "edited": false, "score": 0, "creation_date": 1512578571, "post_id": 47679178, "comment_id": 82317746, "body": "Excellent !, can you edit explanation and add what does it mean ? and : in the beginning ?"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 932, "user_id": 2426559, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/07c882b7b629b021477a2427cbfa8458?s=128&d=identicon&r=PG", "display_name": "Phiber", "link": "https://stackoverflow.com/users/2426559/phiber"}, "edited": false, "score": 1, "creation_date": 1512578672, "post_id": 47679178, "comment_id": 82317798, "body": "@Phiber I&#39;ve added it to my explanation. It&#39;s a non-capture group. Basically, instead of capturing whatever matches in the parentheses <code>()</code>, it doesn&#39;t. It&#39;s used to separate logic just as you would in an <code>if</code> statement. In this case it&#39;s used to say <i>match this, or this, or this</i> (but don&#39;t capture it)"}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 3, "last_activity_date": 1512578615, "last_edit_date": 1512578615, "creation_date": 1512578089, "answer_id": 47679178, "question_id": 47678786, "link": "https://stackoverflow.com/questions/47678786/qregularexpression-match-pattern/47679178#47679178", "title": "QRegularExpression match pattern", "body": "<h2>Brief</h2>\n\n<p>As you've mentioned, you have spaces in your regex, which is why your regex is not working. This solution reduces the number of steps required to return a match.</p>\n\n<h2>Code</h2>\n\n<p>The regex below can be used if you only want to ensure the string is valid. Note that if the <code>\\s</code> is absolutely required (and a word boundary <code>\\b</code> doesn't suffice after the <code>^FO</code> option, you can simply add it to the regular expressions below so that <code>FO</code> becomes <code>FO\\s</code></p>\n\n<p><a href=\"https://regex101.com/r/Bb5E7V/2\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>^(?:@FOOB|FO|.*\\bFOOBAR)\\b.*\n</code></pre>\n\n<p>If you are looking for valid strings and trying to return the match as well, you can use the following regex instead.</p>\n\n<pre><code>(?:^(?:@FOOB|FO)|\\bFOOBAR)\\b\n</code></pre>\n\n<hr>\n\n<h2>Results</h2>\n\n<h3>Input</h3>\n\n<pre><code>Anywhere FOOBAR in the string\nFO in the beginning\n@FOOB in the beginning\nFOOBAR is in the string\nIn the string is FOOBAR\n@FOOBAR is valid because foobar (uppercase) exists\n\nAnywhere FOOBARY in the string\nAnywhere FOOBA in the string\nFOO is not a valid start\n@FOOBA is not a valid start\nThe @FOOB is not at the start\n</code></pre>\n\n<h3>Output</h3>\n\n<p>Below shows matches only</p>\n\n<pre><code>Anywhere FOOBAR in the string\nFO in the beginning\n@FOOB in the beginning\nFOOBAR is in the string\nIn the string is FOOBAR\n@FOOBAR is valid because foobar (uppercase) exists\n</code></pre>\n\n<hr>\n\n<h2>Explanation</h2>\n\n<ul>\n<li><code>^</code> Assert position at the start of the line</li>\n<li><code>(?:@FOOB|FO|.*\\bFOOBAR)</code> Non-capture group to match either of the following\n\n<ul>\n<li><code>@FOOB</code> Match this literally</li>\n<li><code>FO</code> Match this literally</li>\n<li><code>.*\\bFOOBAR</code> Match the following\n\n<ul>\n<li><code>.*</code> Any character any number of times</li>\n<li><code>\\b</code> Assert position as a word boundary</li>\n<li><code>FOOBAR</code> Match this literally</li>\n</ul></li>\n</ul></li>\n<li><code>\\b</code> Assert position as a word boundary</li>\n<li><code>.*</code> Match any character any number of times</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1512578191, "creation_date": 1512578191, "answer_id": 47679210, "question_id": 47678786, "link": "https://stackoverflow.com/questions/47678786/qregularexpression-match-pattern/47679210#47679210", "title": "QRegularExpression match pattern", "body": "<p>You can prune the regex a bit more after remiving unnecessary spaces:</p>\n\n<pre><code>QRegularExpression rx(\"^(?:FO\\\\s|@FOOB\\\\b)|\\\\bFOOBAR\\\\b\");\n</code></pre>\n\n<p>Details:</p>\n\n<ul>\n<li><code>^(?:FO\\\\s|@FOOB\\\\b)</code> - <code>FO</code> and any whitespace or a whole word <code>@FOOB</code> at the start of the string</li>\n<li><code>|</code> - or</li>\n<li><code>\\\\bFOOBAR\\\\b</code> - a whole word <code>FOOBAR</code></li>\n</ul>\n"}], "owner": {"reputation": 932, "user_id": 2426559, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/07c882b7b629b021477a2427cbfa8458?s=128&d=identicon&r=PG", "display_name": "Phiber", "link": "https://stackoverflow.com/users/2426559/phiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "accepted_answer_id": 47679178, "answer_count": 2, "score": -1, "last_activity_date": 1512665592, "creation_date": 1512576824, "last_edit_date": 1512665592, "question_id": 47678786, "link": "https://stackoverflow.com/questions/47678786/qregularexpression-match-pattern", "title": "QRegularExpression match pattern", "body": "<p>I want to <strong>QRegularExpressionMatch</strong> returns true in the following cases:  </p>\n\n<ul>\n<li>The string <strong>starts</strong> with FO . \"<em>There is one space after FO</em>\"</li>\n<li>The string <strong>starts</strong> with @FOOB.</li>\n<li>The string <strong>contains</strong> FOOBAR.  </li>\n</ul>\n\n<p>So, I did:  </p>\n\n<pre><code>QRegularExpression rx(\"(^(\\\\bFO\\\\s\\\\b|\\\\@\\\\bFOOB\\\\b)) | (\\\\bFOOBAR\\\\b)\");\n\nQString string0 = \"Anywhere FOOBAR in the string\";\nQString string1 = \"FO in the beginning\";\nQString string2 = \"@FOOB in the beginning\";\n\nQRegularExpressionMatch match = rx.match(string1);\nif (match.hasMatch())\n    QTextStream(stdout) &lt;&lt; match.captured(0) &lt;&lt; endl;\n</code></pre>\n\n<p>in the code above, there is three patterns. the first and second match in the beginning of the string for FO and @FOOB, the third pattern match anywhere in the string.<br>\nWithout the third pattern, the code works fine for string1 and string2. With the third pattern, it works just for string0 and string2 and not for string1. I guess the space after FO not match the third pattern then the all the match fails? There is | operator between [first, second] and the third pattern!<br>\nOr I miss something, someone can help?\nThank you !</p>\n\n<p><strong>Edit:</strong>\nFind solution 30 seconds after I posted: These extras space are the problem</p>\n\n<pre><code>QRegularExpression rx(\"(^(\\\\bFO\\\\s\\\\b|\\\\@\\\\bFOOB\\\\b)) | (\\\\bFOOBAR\\\\b)\");  \n                                                     ^ ^ \n</code></pre>\n\n<p>But I'm not convinced ! Why we use parenthesis then? </p>\n"}, {"tags": ["c++", "sockets", "networking", "server", "raknet"], "comments": [{"owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 0, "creation_date": 1512576915, "post_id": 47678722, "comment_id": 82316688, "body": "Editor: please embed image."}, {"owner": {"reputation": 523, "user_id": 3172137, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ZUOJW.jpg?s=128&g=1", "display_name": "Mantracker", "link": "https://stackoverflow.com/users/3172137/mantracker"}, "edited": false, "score": 0, "creation_date": 1520789657, "post_id": 47678722, "comment_id": 85449504, "body": "Try asking your question at <a href=\"https://www.slikesoft.com/forum/\" rel=\"nofollow noreferrer\">slikesoft.com/forum</a> and see if anyone can help you with it"}], "owner": {"reputation": 3, "user_id": 9054388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854431d5f2a20f2287ffc78ee572c250?s=128&d=identicon&r=PG&f=1", "display_name": "Asokanta", "link": "https://stackoverflow.com/users/9054388/asokanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1512580507, "creation_date": 1512576599, "last_edit_date": 1512580507, "question_id": 47678722, "link": "https://stackoverflow.com/questions/47678722/how-can-i-accept-raknet-connecting-request-in-c", "title": "How can i accept RakNet Connecting request in c++?", "body": "<p>I want <b>accept client's connecting request</b> but i don't know how can i do this.</p>\n\n<p><strong><h1>Serverside :</h1></strong></p>\n\n<pre><code>enum GameMessages\n{\n    ID_GAME_MESSAGE_1 = ID_USER_PACKET_ENUM + 1\n};\n\nusing namespace std;  \nint main(void)\n{\n    RakNet::RakPeerInterface *peer = RakNet::RakPeerInterface::GetInstance();\n    bool isServer;\n    RakNet::Packet *packet;\n    RakNet::SocketDescriptor sd(SERVER_PORT, 0);\n    peer-&gt;Startup(MAX_CLIENTS, &amp;sd, 1);\n    isServer = true;\n    if (isServer)\n    {\n        printf(\"Sunucu baslatiliyor.\\n\");\n        // We need to let the server accept incoming connections from the clients\n        peer-&gt;SetMaximumIncomingConnections(MAX_CLIENTS);\n    }   \n    while (1)\n    {\n        for (packet = peer-&gt;Receive(); packet; peer-&gt;DeallocatePacket(packet), packet = peer-&gt;Receive())\n        {\n            switch (packet-&gt;data[0])\n            {\n            case ID_REMOTE_DISCONNECTION_NOTIFICATION:\n                printf(\"Another client has disconnected.\\n\");\n                break;\n            case ID_REMOTE_CONNECTION_LOST:\n                printf(\"Another client has lost the connection.\\n\");\n                break;\n            case ID_REMOTE_NEW_INCOMING_CONNECTION:\n                printf(\"Another client has connected.\\n\");\n                break;\n            case ID_CONNECTION_REQUEST_ACCEPTED:\n            {\n                printf(\"Our connection request has been accepted.\\n\");\n\n                // Use a BitStream to write a custom user message\n                // Bitstreams are easier to use than sending casted structures, and handle endian swapping automatically\n                RakNet::BitStream bsOut;\n                bsOut.Write((RakNet::MessageID)ID_GAME_MESSAGE_1);\n                bsOut.Write(\"Oyuna hosgeldin emmolu.\");\n                peer-&gt;Send(&amp;bsOut, HIGH_PRIORITY, RELIABLE_ORDERED, 0, packet-&gt;systemAddress, false);\n            }\n            break;\n            case ID_NEW_INCOMING_CONNECTION:\n                printf(\"Bir baglanti geliyor.\\n\");\n                break;\n            case ID_NO_FREE_INCOMING_CONNECTIONS:\n                printf(\"The server is full.\\n\");\n                break;\n            case ID_DISCONNECTION_NOTIFICATION:\n                if (isServer) {\n                    printf(\"A client has disconnected.\\n\");\n                }\n                else {\n                    printf(\"We have been disconnected.\\n\");\n                }\n                break;\n            case ID_CONNECTION_LOST:\n                if (isServer) {\n                    printf(\"A client lost the connection.\\n\");\n                }\n                else {\n                    printf(\"Connection lost.\\n\");\n                }\n                break;\n            case ID_GAME_MESSAGE_1:\n            {\n                RakNet::RakString rs;\n                RakNet::BitStream bsIn(packet-&gt;data, packet-&gt;length, false);\n                bsIn.IgnoreBytes(sizeof(RakNet::MessageID));\n                bsIn.Read(rs);\n                printf(\"%s\\n\", rs.C_String());\n            }\n            break;\n            default:\n                printf(\"Message with identifier %i has arrived.\\n\", packet-&gt;data[0]);\n                break;\n            }\n        }\n    }\n\n\n    RakNet::RakPeerInterface::DestroyInstance(peer);\n\n\n    return 0;\n}\n</code></pre>\n\n<p>When i try my work it's giving me <img src=\"https://i.stack.imgur.com/gRlqc.png\" alt=\"this\">.</p>\n\n<p><strong>[LOG]</strong> <br>\n<b>Server</b> : Server started. <br>\n<b>Client</b> : Sent request to connect server. <br>\n<b>Server</b> : A request received from client to connect server. <br>\n<b>Server</b> : Accept client's request. ( What i'm trying to do )</p>\n"}, {"tags": ["c#", "c++", "visual-c++", "c++-cli", "managed-c++"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 1750472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c5985f4e2b064898d1b2cd6e3a37f7?s=128&d=identicon&r=PG", "display_name": "PPPereira", "link": "https://stackoverflow.com/users/1750472/pppereira"}, "edited": false, "score": 0, "creation_date": 1512581021, "post_id": 47679365, "comment_id": 82319309, "body": "Thanks a lot this solved the issue for me, I got confused with all the ^ ^ in a row (no pun intended with the internet emojis)"}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 5, "last_activity_date": 1512578677, "creation_date": 1512578677, "answer_id": 47679365, "question_id": 47678699, "link": "https://stackoverflow.com/questions/47678699/how-to-correctly-implement-c-interface-with-event-in-managed-c/47679365#47679365", "title": "How to correctly implement C# interface with event in managed C++", "body": "<p>First error is caused by missing the ^ hat, second error is caused by not naming the interface method you implement.  Assuming the interface event is named \"Loaded\", correct syntax ought to resemble:</p>\n\n<pre><code>public ref class MyClass : IMyInterface {\n    EventHandler&lt;MyEventArgs^&gt;^ MyLoadedEventBackingStore;\npublic:\n    virtual event EventHandler&lt;MyEventArgs^&gt;^ MyLoadedEvent {\n        void add(EventHandler&lt;MyEventArgs^&gt;^ arg) = IMyInterface::Loaded::add {\n            MyLoadedEventBackingStore += arg;\n        }\n        void remove(EventHandler&lt;MyEventArgs^&gt;^ arg) = IMyInterface::Loaded::remove {\n            MyLoadedEventBackingStore -= arg;\n        }\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 1750472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c5985f4e2b064898d1b2cd6e3a37f7?s=128&d=identicon&r=PG", "display_name": "PPPereira", "link": "https://stackoverflow.com/users/1750472/pppereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 1, "accepted_answer_id": 47679365, "answer_count": 1, "score": 2, "last_activity_date": 1512578677, "creation_date": 1512576529, "question_id": 47678699, "link": "https://stackoverflow.com/questions/47678699/how-to-correctly-implement-c-interface-with-event-in-managed-c", "title": "How to correctly implement C# interface with event in managed C++", "body": "<p>\nHello I'm trying to implement a C# interface in my managed c++ dll as seen bellow:</p>\n\n\n\n<pre><code>public ref class MyClass : public IMyInterface \n{\n // Inherited via IMyInterface\n virtual event EventHandler&lt;MyEventArgs ^&gt; ^ MyLoadedEvent;\n\n public:\n     virtual event EventHandler&lt;MyEventArgs ^&gt; MyLoadedEvent \n                {\n                    void add(MyEventArgs ^ f)\n                    {\n                      // some magic\n                    }\n                    void remove(MyEventArgs ^ f)\n                    {\n                      // some magic\n                    }\n                }\n}\n</code></pre>\n\n<p>\nBut I keep getting two errors:</p>\n\n<p>1) event type must be a handle-to-delegate type</p>\n\n<p>2) class fails to implement interface member function \"MyLoadedEvent::add\" declared in ...dll</p>\n\n<p>What am I missing in the implementation or what is the correct way to implement the event of the interface?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 1, "last_activity_date": 1512576599, "creation_date": 1512576599, "answer_id": 47678721, "question_id": 47678676, "link": "https://stackoverflow.com/questions/47678676/struggling-to-change-the-value-of-an-element-within-an-array-in-c/47678721#47678721", "title": "Struggling to change the value of an element within an array in C++", "body": "<blockquote>\n  <p>Here is the funtion I used to increment the maximum by 5.</p>\n</blockquote>\n\n<p>The argument is passed by value to the function.  Any changes made to it affect only the local copy of the argument, not the variable in the calling function. If you want to see the change reflected in the calling function, change the argument to be a reference argument.</p>\n\n<pre><code>//            |\n//            v\nvoid incre(int&amp; y){\n  y+=5;\n  cout &lt;&lt; \"The new max after 5 is added is \" &lt;&lt; y &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9062659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510e1b70f291d5e194dfc6728afe8381?s=128&d=identicon&r=PG&f=1", "display_name": "M. Roshid", "link": "https://stackoverflow.com/users/9062659/m-roshid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1512577398, "accepted_answer_id": 47678721, "answer_count": 1, "score": -4, "last_activity_date": 1512576599, "creation_date": 1512576455, "question_id": 47678676, "link": "https://stackoverflow.com/questions/47678676/struggling-to-change-the-value-of-an-element-within-an-array-in-c", "closed_reason": "Duplicate", "title": "Struggling to change the value of an element within an array in C++", "body": "<p>One of my tasks in this assignment is to add 5 to the maximum value within my array. The professor said to use a void function and to pass a value, which I did. The program adds 5 to the max, 67, to get 72. But, when I printed the array it says 67 is in the array when it should say 72. Is there a way to make it say 72 in the main function, without just adding 5 to the element holding 67 in the main function, but by using void incre(int y)? </p>\n\n<p>Here is the funtion I used to increment the maximum by 5. </p>\n\n<pre><code>void incre(int y){\ny+=5;\ncout &lt;&lt; \"The new max after 5 is added is \" &lt;&lt; y &lt;&lt; endl;\n</code></pre>\n\n<p>}</p>\n\n<p>And here is the code I used to print out the array, which outputs </p>\n\n<p>0    21</p>\n\n<p>1    23</p>\n\n<p>2    67</p>\n\n<p>When it should output</p>\n\n<p>0    21</p>\n\n<p>1    23</p>\n\n<p>2    72</p>\n\n<pre><code>cout &lt;&lt; \"Elements ------ Values\\n\";\nfor (int r = 0; r &lt; array_size; r++){\ncout &lt;&lt; r &lt;&lt; \" ------------- \" &lt;&lt; A[r]&lt;&lt; endl;\n}\n</code></pre>\n\n<p>Also, how do you pass an array to a function using passing by reference? I'm not so sure if I did passing by value or passing by reference in my code here</p>\n\n<pre><code>void fill_array(int x[], int size){\ncout &lt;&lt; \"Enter in the values 23, then 21 and then 67\\n\";\nfor (int z=0;z&lt;size; z++) {\n    cin &gt;&gt; x[z];\n} }\n</code></pre>\n\n<p>In the main function I put </p>\n\n<pre><code>fill_array(A, array_size);\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1512576386, "post_id": 47678631, "comment_id": 82316338, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/integer_literal\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/integer_literal</a>"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1512576469, "post_id": 47678631, "comment_id": 82316388, "body": "Sometimes you are not assigning to a variable, but using it as a term in an expression. This can be used to force a widening conversion, for example."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1512576483, "post_id": 47678631, "comment_id": 82316397, "body": "If you&#39;re using <code>auto</code> instead of a specific type, the literal will deduce to the correct type."}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1512576591, "post_id": 47678631, "comment_id": 82316481, "body": "<code>int i = 33L</code> is not declaring a <code>long int</code>. It is declaring an <code>int</code> that is initialized with a sloppy narrowing cast."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1512576832, "post_id": 47678631, "comment_id": 82316642, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13134956/what-is-the-reason-for-explicitly-declaring-l-or-ul-for-long-values\">what is the reason for explicitly declaring L or UL for long values</a>"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1512576909, "post_id": 47678631, "comment_id": 82316681, "body": "<a href=\"https://stackoverflow.com/q/1380653/995714\">Why do you need to append an L or F after a value assigned to a C++ constant?</a>, <a href=\"https://stackoverflow.com/q/975942/995714\">Are long-suffix and unsigned-suffix needed when declaring long literals in C++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 1, "last_activity_date": 1512576471, "creation_date": 1512576471, "answer_id": 47678683, "question_id": 47678631, "link": "https://stackoverflow.com/questions/47678631/c-suffix-l-vs-specifying-long-double/47678683#47678683", "title": "C++ suffix L vs specifying long double", "body": "<p>Although in many instances, you can rely on the extremely well-defined widening conversion rules, sometimes you need to be explicit about the <em>type</em> of a literal.</p>\n\n<p>For example</p>\n\n<pre><code>long double f = 1.0;\nf = std::max(f, 2.0L);\n</code></pre>\n\n<p>does not compile unless the arguments of <code>max</code> have the same type. Writing <code>double b = 3.0L</code> would indeed be pointless, and a compiler will almost certainly ignore you and compile <code>double b = 3.0</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 2, "last_activity_date": 1512576657, "creation_date": 1512576657, "answer_id": 47678739, "question_id": 47678631, "link": "https://stackoverflow.com/questions/47678631/c-suffix-l-vs-specifying-long-double/47678739#47678739", "title": "C++ suffix L vs specifying long double", "body": "<blockquote>\n  <p>I am confused why not to specify long int i = 33 instead of int i = 33L?</p>\n</blockquote>\n\n<p>Because that 2 statements mean 2 different things:</p>\n\n<pre><code>long int i = 33; // take constant of type int, convert it to long int and assign to i.\n\nint i = 33L; // take constant of type long int, convert it to int and assign to i.\n</code></pre>\n\n<p>So you end up with variable <code>i</code> of different type. Same for the double in your example. </p>\n"}], "owner": {"reputation": 51, "user_id": 9062783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3267bdc7f69ec6acf9c41079aabf1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "ty452567", "link": "https://stackoverflow.com/users/9062783/ty452567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 1, "accepted_answer_id": 47678739, "answer_count": 2, "score": 0, "last_activity_date": 1512576657, "creation_date": 1512576316, "question_id": 47678631, "link": "https://stackoverflow.com/questions/47678631/c-suffix-l-vs-specifying-long-double", "title": "C++ suffix L vs specifying long double", "body": "<p>Question <a href=\"https://stackoverflow.com/questions/2958007/what-does-the-l-mean-at-the-end-of-an-integer-literal\">What does the &quot;L&quot; mean at the end of an integer literal?</a> describes what <code>L</code> means at the end of int literal. I am confused why not to specify <code>long int i = 33</code> instead of <code>int i = 33L</code>? The same thing applies to other types. Instead of specifying <code>double b = 3.0L</code> why not to write <code>long double</code>? </p>\n"}, {"tags": ["c++", "random"], "comments": [{"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 1, "creation_date": 1512582752, "post_id": 47678620, "comment_id": 82320241, "body": "Just out of curiosity, but why aren&#39;t you using the one implemented in the Standard Library: <a href=\"http://en.cppreference.com/w/cpp/numeric/random\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/numeric/random</a> ?"}, {"owner": {"reputation": 185, "user_id": 3895476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f60ebc7468b5f90f67d1a0828fac7e?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik", "link": "https://stackoverflow.com/users/3895476/frederik"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1512583281, "post_id": 47678620, "comment_id": 82320506, "body": "Hi, thanks. I am using an IDE for ABMs called  <a href=\"https://github.com/marcov64/Lsd\" rel=\"nofollow noreferrer\">LSD</a> which only recently started using c++11/14. I will check if the c++11 MT is as easy to use as the Bedaux implementation (was/should be...). Still, this issue is rather miraculous to me and I&#39;d like to understand it. Most times similar problems hunt me sometimes later..."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 3895476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f60ebc7468b5f90f67d1a0828fac7e?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik", "link": "https://stackoverflow.com/users/3895476/frederik"}, "edited": false, "score": 0, "creation_date": 1512588852, "post_id": 47681988, "comment_id": 82323371, "body": "Many thanks, that is something I could not have known, I guess. But I checked if I can switch to std c++11 MT implementation, as suggested also by @Bob__"}, {"owner": {"reputation": 185, "user_id": 3895476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f60ebc7468b5f90f67d1a0828fac7e?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik", "link": "https://stackoverflow.com/users/3895476/frederik"}, "edited": false, "score": 0, "creation_date": 1512589248, "post_id": 47681988, "comment_id": 82323569, "body": "Many thanks, that is something I could not have known, I guess. But I checked if I can switch to std c++11 MT implementation, as suggested also by @Bob,<b>and it worked.</b> (forgot that last part)"}], "tags": [], "owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "is_accepted": true, "score": 3, "last_activity_date": 1512588225, "creation_date": 1512588225, "answer_id": 47681988, "question_id": 47678620, "link": "https://stackoverflow.com/questions/47678620/prng-mtrand-mt-seed-not-working-as-intended/47681988#47681988", "title": "PRNG MTRand mt.seed() not working as intended (?)", "body": "<p>It is because of some weird reason, <code>MTRand</code>'s state is <code>static</code>, so the state is shared between <code>MTRand</code> instances. A really bad decision.</p>\n\n<p>Perhaps you can fix this with making the state non-static. Or just use a better implementation of MT. (btw, C++11 has <code>std::mersenne_twister_engine</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 1, "creation_date": 1512639094, "post_id": 47691465, "comment_id": 82342457, "body": "&quot;whether it is a &quot;really bad decision&quot; is up for discussion.&quot; - No, it really isn&#39;t. It&#39;s a class that from its interface pretends to have separate, independent instances, but shares all its state internally. That is the kind of design decision that I would describe with expletives."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512643881, "post_id": 47691465, "comment_id": 82345752, "body": "@Jan: sorry, I hope I wasn&#39;t too offensive. Thanks for this explanation! But it still a bad decision in my opinion. The interface suggests that multiple MT&#39;s can be created, but actually cannot. &quot;Which solution is best depends on what you are trying to accomplish and how well programmers understand the implementation of the RNG.&quot;: I agree with this. But, if someone is not skilled enough to use (seed) a random generator properly, they might not want to use MT either, and a &quot;simple&quot; PRNG will fit their need. If someone needs a very good PRNG, then they must learn it how to use it well."}, {"owner": {"reputation": 11, "user_id": 9064141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135b24c277ddf353611bbfa19f1f28a3?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/9064141/jan"}, "edited": false, "score": 0, "creation_date": 1512644753, "post_id": 47691465, "comment_id": 82346340, "body": "Sebastian and geza, I admit in my post I was too focused on how the RNG is working. From this point of view I think it is a good decision to make the state vector shared. But I agree that from the point of view of the design of the C++ class the way it is implemented is not a good choice. It should be implemented in a way that reflects this, maybe as a Singleton class, although that might have some drawbacks."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512645801, "post_id": 47691465, "comment_id": 82347069, "body": "Yes, a proper singleton interface would have been much better. Or at least a warning, that the state is shared. If <code>seed</code> is called on an instance, it is unexpected that a shared state is modified, instead of some property of that instance. Note, there&#39;s a long standing debate about (properly implemented) singletons&#39; usefulness. I&#39;m in the &quot;dislike&quot; camp. I dislike, when a class is inherently singleton. I much better like non-singleton classes, and if I just need one instance, then I&#39;ll just create one. Btw, using different PRNG&#39;s at the same time are not that rare as you might think..."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512645933, "post_id": 47691465, "comment_id": 82347166, "body": "... There is a real need for them, when a program has different modules, and these modules should not interfere with each other at all. For a lot of people, current working is the confusing one. To be honest, I don&#39;t know any other random implementations (which are widely used), which works like this."}, {"owner": {"reputation": 185, "user_id": 3895476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f60ebc7468b5f90f67d1a0828fac7e?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik", "link": "https://stackoverflow.com/users/3895476/frederik"}, "edited": false, "score": 0, "creation_date": 1512726452, "post_id": 47691465, "comment_id": 82383139, "body": "Having different instances can be very useful if one has a program with conceptually different aspects, where a PRNG is used. I needed it for a replication study in agent-based computational economics <a href=\"https://www.researchgate.net/project/Analysis-of-Agent-based-Models/update/5a29f8de4cde266d58794065\" rel=\"nofollow noreferrer\">Sample Size and Composition Effects: The Original El Farol Bar Model Revisited</a>, where I wanted to understand the impact of two different, randomised initial conditions."}], "tags": [], "owner": {"reputation": 11, "user_id": 9064141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135b24c277ddf353611bbfa19f1f28a3?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/9064141/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1512648654, "last_edit_date": 1512648654, "creation_date": 1512638106, "answer_id": 47691465, "question_id": 47678620, "link": "https://stackoverflow.com/questions/47678620/prng-mtrand-mt-seed-not-working-as-intended/47691465#47691465", "title": "PRNG MTRand mt.seed() not working as intended (?)", "body": "<p>Indeed the Mersenne Twister state vector is static in this port, as it is in many implementations, including the original implementation at <a href=\"http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\" rel=\"nofollow noreferrer\">http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html</a>.</p>\n\n<p>This is not for \"some weird reason\" and whether it is a \"really bad decision\" is up for discussion.</p>\n\n<p>In the C++ standard implementation it is not static. The drawback of this is that it is quite easy to (accidentally) create multiple state vectors if you e.g. construct a new MT engine in some class. Every time a new MT engine is constructed, a new state vector is initialized and seeded. Probably most programmers will not realize this and may forget to properly seed each new instance, which may lead to problems with the quality of the pseudo random numbers depending on the implementation of the default seed (chance of repeating sequences), see e.g. <a href=\"http://www.pcg-random.org/posts/cpp-seeding-surprises.html\" rel=\"nofollow noreferrer\">http://www.pcg-random.org/posts/cpp-seeding-surprises.html</a>.\nIn normal circumstances you should only use one generator engine, but the problem is programmers might not realize this.\nTaking the next number from one properly seeded and used MT state vector will probably always be better then initialize and seed a separate state vector (which is also expensive). That is the reason for choosing one static (centralized) state vector: protecting users from accidentally creating multiple state vectors.\nI agree however that this is not a good solution and is confusing when you are trying by purpose to create two separate state vectors, which is by the way only useful in very specific cases, like studying the behavior of the engine. When you are only looking for good quality random numbers it is probably only harmful to use more than 1 state vector.</p>\n\n<p>Which solution is best depends on what you are trying to accomplish and how well programmers understand the implementation of the RNG.</p>\n\n<p>Anyway, the lines</p>\n\n<pre><code>tester_sh.seed( sh );\ntester_se.seed( se );\n</code></pre>\n\n<p>in the example are with this implementation equivalent to</p>\n\n<pre><code>tester_se.seed( se );\n</code></pre>\n\n<p>Edit: as geza and Sebastian point out in the comments below, the way the class is designed is not a good choice because it does not reflect the internal working.</p>\n"}], "owner": {"reputation": 185, "user_id": 3895476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f60ebc7468b5f90f67d1a0828fac7e?s=128&d=identicon&r=PG&f=1", "display_name": "Frederik", "link": "https://stackoverflow.com/users/3895476/frederik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 47681988, "answer_count": 2, "score": 0, "last_activity_date": 1512648654, "creation_date": 1512576275, "question_id": 47678620, "link": "https://stackoverflow.com/questions/47678620/prng-mtrand-mt-seed-not-working-as-intended", "title": "PRNG MTRand mt.seed() not working as intended (?)", "body": "<p>In a simulation project where I need different PRNG with common random numbers (reproducability) I am using the Mersenne Twister implementation by Jasper Bedaux (<a href=\"http://www.bedaux.net/mtrand/\" rel=\"nofollow noreferrer\">http://www.bedaux.net/mtrand/</a>). Now, the following loop should, in my understanding, produce a unique random number associated to the integer (i.e. the different instances should yield the same random numbers if initialised with the same seed):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"mtrand.cpp\"\n\nint main()\n{\n  MTRand tester_sh;\n  MTRand tester_se;\n  std::cout &lt;&lt; std::fixed;\n  std::cout &lt;&lt; \"This is a simple test program.\\n\";\n  for (int sh = 1; sh &lt; 3; sh++) {\n    for (int se = 1; se &lt; 3; se++) {   \n      tester_sh.seed( sh );\n      tester_se.seed( se );\n      std::cout &lt;&lt; \"\\n\" &lt;&lt; sh &lt;&lt; \"\\t\" &lt;&lt; tester_sh() &lt;&lt; \"\\t\" &lt;&lt; se &lt;&lt; \"\\t\" &lt;&lt; tester_se() ;\n    }\n  }  \n  return 0;\n}\n</code></pre>\n\n<p>The output I do get, however is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Cmrsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cmrsa.png\" alt=\"Output test program\"></a></p>\n\n<p>Neither are the random numbers the same, nor does the \"resetting\" work for the individual generator. [edit: there is a pattern, of course, but I do not understand it / it is not as it should be]</p>\n\n<p>As I am not a programmer, I am more than puzzled and do not know what I should do.</p>\n\n<p>If important, I am compiling the model with <strong>cygwin64\\bin\\x86_64-w64-mingw32-g++.exe</strong> and the options <strong>-g  -Wall  -lm -std=gnu++14 -o %Name%.exe %Name%%Ext%</strong>, using a current version of cygwin on windows 7, 64bit.</p>\n\n<p>Any help is welcome!\n</p>\n\n\n"}, {"tags": ["python", "c++", "matrix", "random"], "comments": [{"owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 0, "creation_date": 1512582464, "post_id": 47678568, "comment_id": 82320096, "body": "Comments are not for extended discussion; this conversation has been <a href=\"http://chat.stackoverflow.com/rooms/160639/discussion-on-question-by-the-wind-up-bird-deterministic-pseudorandom-number-g\">moved to chat</a>."}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 1, "creation_date": 1512582557, "post_id": 47678568, "comment_id": 82320140, "body": "Why don&#39;t you just try? It looks simple enough."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1512584029, "post_id": 47678568, "comment_id": 82320894, "body": "This sounds very broad and unclear. The most important question for me is: what do you want to do with this matrix? What operations are needed (indexing/lookup only; arithmetic)? Think in terms of the usual sparse-matrix formats like lil, dok, coo, csr and co. which are different in terms of allowed (or let&#39;s call it: efficient) operations and also in terms of handling duplicate values."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1512586753, "post_id": 47678568, "comment_id": 82322211, "body": "Your use case is so specialized that, if it were me, I&#39;d design my own element generator. Your last paragraph sums up the problem: designers expect their RNGs to be used by taking a long stream of numbers after seeding, not many seeds and one number for each seed."}, {"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 0, "creation_date": 1512588885, "post_id": 47678568, "comment_id": 82323390, "body": "Use a hash for this. Seeding a random generator based on the matrix index, then getting a random number is a bad idea (even, if it is not the first random number, but the1000th). Usually, a random generator produces numbers which has strong correlation to the initial seed."}], "answers": [{"comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1512588647, "post_id": 47681859, "comment_id": 82323260, "body": "There is no link to sparse-matrices. Let&#39;s assume we wan&#39;t to do one of the most easy tasks involving sparse-matrices: get all nonzeros (in time linear in #nnz): how would you do that? (an outer random binary-decision index-wise might generate a sparse-matrix, but finding nnz&#39;s is then as costly as trying all n*m indices)."}, {"owner": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1512657910, "post_id": 47681859, "comment_id": 82354870, "body": "@sascha perhaps it was a bit misleading when I called it a &quot;sparse matrix&quot;, because it implies I want to use this matrix to do typical sparse matrix operations. It is a matrix, formally, but the only time that it ever appears in my problem is as a quadratic form with a vector, and only parts of that quadratic form ever need to be computed at a time. So, while it is a sparse matrix, any typical matrix operation is unnecessary (no multiplication). I just need to be able to look up the elements, and element (i, j) has a meaning in the problem."}, {"owner": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512658144, "post_id": 47681859, "comment_id": 82355048, "body": "Is this hash pseudorandom, though? In the sense that I could dictate the distribution from which the elements appear to be drawn?"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512658625, "post_id": 47681859, "comment_id": 82355375, "body": "@TheWind-UpBird \t Sure. But that also implies the need for some operations. Imagine a coo-format. Probably the easiest for your task of non-explicit PRNG-like storage. In this quad-form, you will need to query the matrix what entries are within this row/column (in linear time of nnzs in this row/column only). Which is quite a bad thing for coo for example. It does not allow efficient indexing (will need going through all nnzs of the whole matrix; even when looking for index i,v). (calculating some distribution-based positions/values of elements seems like the least of all problems to me)"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512659031, "post_id": 47681859, "comment_id": 82355653, "body": "@TheWind-UpBird And in regards to your pseudorandom-question: it&#39;s unclear what you want. I never saw some distribution-model. The basic concept is: with access to uniform numbers in [0,1) (which a good hash provides; in best-case a crypto-hash which is slow), you can always generate any distribution, at the cost of using more than one uniform number (e.g. wiki&#39;s article of sampling gaussians for a specialized variant; inverse-transform sampling for a general slower approach given a cdf)."}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1512628476, "last_edit_date": 1512628476, "creation_date": 1512587695, "answer_id": 47681859, "question_id": 47678568, "link": "https://stackoverflow.com/questions/47678568/deterministic-pseudorandom-number-generation/47681859#47681859", "title": "&quot;Deterministic&quot; pseudorandom number generation", "body": "<p>Not a precise answer, but some tryes.</p>\n\n<p>A hash function seems to be a simple and efficient mean to achieve your goal.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/664014/what-integer-hash-function-are-good-that-accepts-an-integer-hash-key\">Here</a> are some good ideas about integer to integer hash-functions.</p>\n\n<p>From this article I try that : </p>\n\n<pre><code>from numba import uint64, njit \nimport pylab as pl\n\n@njit(uint64(uint64,uint64))    \ndef hash64(i,j) :\n    x= i + (j &lt;&lt; 32)\n    x = (x ^ (x &gt;&gt; 30)) * (0xbf58476d1ce4e5b9);\n    x = (x ^ (x &gt;&gt; 27)) * (0x94d049bb133111eb);\n    x = x ^ (x &gt;&gt; 31);\n    return x;  \n\nn=1000    \nim=[[hash64(i,j) for i in range(n)] for j in range(n)]\npl.subplot(121)\npl.imshow(im)\npl.colorbar()\npl.subplot(122)\npl.hist(np.array(im).ravel(),bins=100)\npl.show()  \n</code></pre>\n\n<p>This numba <code>hash64</code> function compute a hash code in ~ 200 ns. </p>\n\n<p>And this plot (even it demonstrates nothing) shows that this function could be a good candidate.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xnEvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnEvp.png\" alt=\"enter image description here\"></a></p>\n\n<p>By contrast the python hash function (<code>hash((i,j)) on tuple</code>) do not pass the test :\n<a href=\"https://i.stack.imgur.com/x4Npe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x4Npe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here for A Knuth Generator :</p>\n\n<p><a href=\"https://i.stack.imgur.com/xkcO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkcO0.png\" alt=\"enter image description here\"></a></p>\n\n<p>And some benchmarks :</p>\n\n<pre><code>In [61]: %timeit hash64(0,1)\n215 ns \u00b1 9.11 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\n\nIn [62]: %timeit np.random.seed(0+1&lt;&lt;30);a=np.random.randint(2**30)\n4.18 \u00b5s \u00b1 126 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n\nIn [63]:%timeit  hash((0,1))\n102 ns \u00b1 19.5 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512658321, "post_id": 47685768, "comment_id": 82355167, "body": "Two questions. 1) Is there no issue about seeding with the matrix element index, in terms of correlations between the generated random numbers? 2) Jump-ahead complexity means the ability to produce the Nth number in logarithmic time? Would it be better to just use that property and consider the whole thing one sequence?"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512661987, "post_id": 47685768, "comment_id": 82357616, "body": "@TheWind-UpBird 2. Jump-ahead complexity means given current seed (say, position #0),you could skip generation of N numbers instead of O(N) time (basically, calling RNG N times) using O(log2(N)) algorithm and arriving at position #N.It is seed independent algorithm.PCG random has better random property but still retains such inherited from LCG feature. <code>Would it be better to just use that property and consider the whole thing one sequence?</code> sure, up to you, but basically you&#39;re slowing yourself down a bit - instead of single RNG call (O(1)) now you have O(log2N)) call.But should work,I believe"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "edited": false, "score": 0, "creation_date": 1512662103, "post_id": 47685768, "comment_id": 82357703, "body": "@TheWind-UpBird 1. There is a correlation, no questions about it. But there is a correlation for each and any algorithm in existence - after all, for each index there are some predetermined and fixed set of instructions to be executed, that&#39;s it. So the only question is how much correlation you would be able to tolerate. There is further development of LCG - PCG random (pcg-random.org) which is hardened LCG but retaining log2(N) jump-ahead feature. Python code: <a href=\"https://github.com/rkern/pcg-python\" rel=\"nofollow noreferrer\">github.com/rkern/pcg-python</a>"}], "tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": false, "score": 0, "last_activity_date": 1512606975, "creation_date": 1512606975, "answer_id": 47685768, "question_id": 47678568, "link": "https://stackoverflow.com/questions/47678568/deterministic-pseudorandom-number-generation/47685768#47685768", "title": "&quot;Deterministic&quot; pseudorandom number generation", "body": "<p>Basically, you want 10<sup>16</sup> ~ 2<sup>53</sup> random numbers which uniquely determined by matrix element linear index.</p>\n\n<p>Simplest random number generator would be 64bit <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">Linear Congruential one</a>. Basically any\nreasonable one with 63-64bits length and full period will work. Code below\nimplements Knuth LCG with seed equal to matrix element linear index.\nAnother good property of the LCG is jump-ahead with logarithmic complexity - jump ~ log<sub>2</sub>(N)</p>\n\n<p>Code</p>\n\n<pre><code>import numpy as np\n\nA = np.uint64(6364136223846793005) # multiplier\nC = np.uint64(1442695040888963407) # increment\nK = np.float64(5.421010862427522170037E-20) # 1/2^64\n\ndef K64(seed):\n    \"\"\"\n    Knuth 64bit MMIX LCG, return uint64 in the range [0...2^64)\n    \"\"\"\n    return A*np.uint64(seed) + C\n\ndef KLCG64(seed):\n    \"\"\"\n    Knuth 64bit MMIX LCG, return float64 in the range [0.0...1.0)\n    \"\"\"\n    #return np.float64(K64(seed))*K # here is proper implementation, but slower than inlined code below\n    return np.float64(A*np.uint64(seed) + C)*K\n\ndef randomMat(i, j, N):\n    \"\"\"\n    return random element of the matrix\n    \"\"\"\n    return KLCG64(np.uint64(i) + np.uint64(j)*np.uint64(N))\n\nnp.seterr(over='ignore') # important! LCG relies on unsigned overflow for mod operation\n\nprint(randomMat(123738, 9276, 735111))\n</code></pre>\n"}], "owner": {"reputation": 641, "user_id": 1032856, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/4rnGZ.gif?s=128&g=1", "display_name": "The Wind-Up Bird", "link": "https://stackoverflow.com/users/1032856/the-wind-up-bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1512658085, "creation_date": 1512576130, "last_edit_date": 1512658085, "question_id": 47678568, "link": "https://stackoverflow.com/questions/47678568/deterministic-pseudorandom-number-generation", "title": "&quot;Deterministic&quot; pseudorandom number generation", "body": "<p>I am in a situation where I need to generate a very large (~10^16 elements) random matrix with a certain random sparsity pattern. Obviously storing all of these elements is completely infeasible. Only a few of the elements are needed at any given time, so they can be drawn on-demand - however, once an element is stored, it may be needed later, and it's important that the same value is used. i.e, elements cannot be thrown out and randomly redrawn - once a random element is drawn, it needs to be saved.</p>\n\n<p>Based on the problem itself, there are potentially some clever ways to handle this that I won't get into. However, a colleague says that it should be possible to deterministically generate these random numbers as needed by using a pseudorandom number generator with seed given by the index in the matrix, i.e. use <code>i + N*j</code> for element <code>(i, j)</code> of the matrix where the matrix is size <code>N*N</code>. This would not be calling the <code>rand()</code> function, but using the underlying pseudorandom function with specific arguments to deterministically generate previously drawn random values. Then no numbers would need to be saved, and they could be deterministically redrawn on demand.</p>\n\n<p>My understanding of PRG's was that for a sequence of numbers appear random, you must fix the seed. Does the above approach make sense? It seems to me to be like repeatedly re-seeding the PRG and just taking the first element.</p>\n"}, {"tags": ["c++", "c++11", "visual-c++", "visual-studio-2012"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1512575863, "post_id": 47678392, "comment_id": 82315943, "body": "The entire design here looks <i>incredibly</i> broken. Just rewriting the relevant stuff you can&#39;t change from scratch is definitely worth a thought."}, {"owner": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 2, "creation_date": 1512575982, "post_id": 47678392, "comment_id": 82316035, "body": "<code>reinterpret_cast</code> does not take the vtable into account. You can lose RTTI and have undefined behavior. So <b>NO it&#39;s not valid</b>."}, {"owner": {"reputation": 5824, "user_id": 781743, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d19aed08825cbb3a52289ce9d5613035?s=128&d=identicon&r=PG", "display_name": "graywolf", "link": "https://stackoverflow.com/users/781743/graywolf"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1512576149, "post_id": 47678392, "comment_id": 82316171, "body": "@BaummitAugen would love to but I&#39;m just fixing another team&#39;s mess, rewrite is sadly on in the budget :/"}, {"owner": {"reputation": 5824, "user_id": 781743, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d19aed08825cbb3a52289ce9d5613035?s=128&d=identicon&r=PG", "display_name": "graywolf", "link": "https://stackoverflow.com/users/781743/graywolf"}, "reply_to_user": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1512577507, "post_id": 47678392, "comment_id": 82317067, "body": "@user1810087 what I wonder is why it&#39;s not valid... I mean, after <code>typeid(*msg) == typeid(Z)</code> I know it was instance of Z originally anyway no? So why it is not valid to do <code>reinterpret_cast&lt;Z*&gt;(&amp;msg)</code> to tell compiler it&#39;s instance of Z? I don&#39;t understand why taking vtable into account is need at all here..."}], "answers": [{"comments": [{"owner": {"reputation": 5824, "user_id": 781743, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d19aed08825cbb3a52289ce9d5613035?s=128&d=identicon&r=PG", "display_name": "graywolf", "link": "https://stackoverflow.com/users/781743/graywolf"}, "edited": false, "score": 0, "creation_date": 1512575925, "post_id": 47678438, "comment_id": 82315984, "body": "I&#39;ll just use dynamic_cast then instead, thank you :)"}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 1, "last_activity_date": 1512576041, "last_edit_date": 1512576041, "creation_date": 1512575729, "answer_id": 47678438, "question_id": 47678392, "link": "https://stackoverflow.com/questions/47678392/is-using-reinterpret-cast-after-typeid-check-valid/47678438#47678438", "title": "Is using reinterpret_cast after typeid check valid?", "body": "<p>No, the behaviour would still formally be undefined.</p>\n\n<p>Using <code>reinterpret_cast</code> in this way still breaks strict aliasing rules.</p>\n\n<p>If performance <em>really</em> is an issue here, then you may well want to avoid <code>virtual</code> classes altogether.</p>\n"}, {"comments": [{"owner": {"reputation": 4732, "user_id": 8477999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8172e1919af53269de92316dcf03a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gem Taylor", "link": "https://stackoverflow.com/users/8477999/gem-taylor"}, "edited": false, "score": 0, "creation_date": 1512587673, "post_id": 47679188, "comment_id": 82322710, "body": "Yes this should work for most cases, unless you have repeated multiple inheritance base classes (eg IUnknown) - I think the compiler will complain about those."}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": false, "score": 1, "last_activity_date": 1512578120, "creation_date": 1512578120, "answer_id": 47679188, "question_id": 47678392, "link": "https://stackoverflow.com/questions/47678392/is-using-reinterpret-cast-after-typeid-check-valid/47679188#47679188", "title": "Is using reinterpret_cast after typeid check valid?", "body": "<p>As with Bathsheba answer, you'll still have undefined behavior.</p>\n\n<p>However, If you don't have virtual inheritance, you can use <code>static_cast</code>, which will offset the pointer to the child class correctly:</p>\n\n<pre><code>void fn(Base &amp; msg) {\n    const auto &amp; tid = typeid(msg);\n    if (tid == typeid(A)) {\n        A * ptr = static_cast&lt;A*&gt;(&amp;msg);\n    } else if (tid == typeid(B)) {\n        B * ptr = static_cast&lt;B*&gt;(&amp;msg);\n    } else if (tid == typeid(Z)) {\n        Z * ptr = static_cast&lt;Z*&gt;(&amp;msg);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5824, "user_id": 781743, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d19aed08825cbb3a52289ce9d5613035?s=128&d=identicon&r=PG", "display_name": "graywolf", "link": "https://stackoverflow.com/users/781743/graywolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 47678438, "answer_count": 2, "score": 1, "last_activity_date": 1512578815, "creation_date": 1512575634, "question_id": 47678392, "link": "https://stackoverflow.com/questions/47678392/is-using-reinterpret-cast-after-typeid-check-valid", "title": "Is using reinterpret_cast after typeid check valid?", "body": "<p>If I verify first that pointer to base class is of some type (using <code>typeid</code>), is it valid to do <code>reinterpret_cast</code> on it to save some performance?</p>\n\n<pre><code>class Base {\n    virtual ~Base() {}\n};\nclass A : Base {};\nclass B : Base {};\n...\nclass Z : Base {};\n</code></pre>\n\n<p>and later on somewhere:</p>\n\n<pre><code>void fn(Base &amp; msg) {\n    const auto &amp; tid = typeid(msg);\n    if (tid == typeid(A)) {\n        A * ptr = reinterpret_cast&lt;A*&gt;(&amp;msg);\n    } else if (tid == typeid(B)) {\n        B * ptr = reinterpret_cast&lt;B*&gt;(&amp;msg);\n    } ...\n    ...\n    } else if (tid == typeid(Z)) {\n        Z * ptr = reinterpret_cast&lt;Z*&gt;(&amp;msg);\n    }\n}\n</code></pre>\n\n<p>As far as I can tell, this code works fine as I think it should. However, I'm curious if it's just because I'm lucky or is this actually well defined usage and all? Using <code>reinterpret_cast</code> this way.</p>\n\n<p>And before you say to just use normal polymorphism for this, I'm not able to change classes as they are so I need to build this way around it.</p>\n"}, {"tags": ["c++", "c", "ssl", "openssl"], "comments": [{"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1512582110, "post_id": 47678368, "comment_id": 82319898, "body": "Please study <a href=\"https://www.openssl.org/docs/man1.0.2/apps/ciphers.html\" rel=\"nofollow noreferrer\">man ciphers</a>. It boils down to `...:!DES&#39; for disabling DES but note that 3DES is not the same as DES and you probably want to disable this too. Please see <a href=\"https://wiki.mozilla.org/Security/Server_Side_TLS\" rel=\"nofollow noreferrer\">wiki.mozilla.org/Security/Server_Side_TLS</a> for useful cipher strings."}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 1967221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5U3DX.png?s=128&g=1", "display_name": "JTejedor", "link": "https://stackoverflow.com/users/1967221/jtejedor"}, "is_accepted": false, "score": 0, "last_activity_date": 1512579291, "last_edit_date": 1512579291, "creation_date": 1512578918, "answer_id": 47679447, "question_id": 47678368, "link": "https://stackoverflow.com/questions/47678368/disable-des-in-my-https-server/47679447#47679447", "title": "Disable DES in my https server", "body": "<p>I found an example of <code>SSL_CTX_set_cipher_list</code> usage in this <a href=\"https://stackoverflow.com/questions/18449332/limit-openssl-server-cipher-options\">question</a>.</p>\n\n<p>Summarizing you should declare an string of algorithms using <code>:</code> as separators between them (you  can consult the algorihtm names in <a href=\"https://wiki.openssl.org/index.php/Manual:Ciphers(1)\" rel=\"nofollow noreferrer\">wiki openssl</a>) and create the context before (as you suggested) setting the cypher list. A little example in code:</p>\n\n<pre><code>// List of allowed ciphers in a colon-separated list.\nconst char *allowedCiphers = \"ECDHE-ECDSA-AES256-SHA384:AES256-GCM-SHA384\";\nint main()\n{\n  const SSL_METHOD *method;\n  SSL_CTX *ctx;\n\n  method = SSLv23_server_method();\n  ctx = SSL_CTX_new(method);    \n  // Set the allowed ciphers\n  if (SSL_CTX_set_cipher_list(ctx, ciphers) != 1)\n  {\n    //define error\n  }\n  SSL_CTX_free(ctx);\n  cleanup_openssl();\n  return 0;\n}\n</code></pre>\n\n<p>Finally I would suggest change your version of openSSL if the library allows DES method, because, as you can see in <a href=\"https://github.com/openssl/openssl/issues/3717\" rel=\"nofollow noreferrer\">this proposal</a>, DES is disabled by default except if you compile explicitly. So, I highly recommend update your openSSL version.</p>\n"}], "owner": {"reputation": 35623, "user_id": 1003575, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cceded39fb12d936211b56afc86dcb04?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMED", "link": "https://stackoverflow.com/users/1003575/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1512579291, "creation_date": 1512575553, "question_id": 47678368, "link": "https://stackoverflow.com/questions/47678368/disable-des-in-my-https-server", "title": "Disable DES in my https server", "body": "<p>have a light http server (embedded software solution). This http server is calling openssl functions to handle https connexions.</p>\n\n<p>I want to disable the DES cipher in my https server so I find the function:</p>\n\n<pre><code>SSL_CTX_set_cipher_list(SSL_CTX *ctx, const char *str);\n</code></pre>\n\n<p>I m newbie in openssl and I want to find the right string to pass in the function <code>SSL_CTX_set_cipher_list()</code></p>\n\n<p>What's the string to use in <code>SSL_CTX_set_cipher_list()</code> in order to disable DES in my server?</p>\n\n<p>Is it correct to call the <code>SSL_CTX_set_cipher_list()</code> just after <code>ctx = SSL_CTX_new(meth);</code> ?</p>\n"}, {"tags": ["python", "c++", "factory", "boost-python", "derived-class"], "answers": [{"tags": [], "owner": {"reputation": 6810, "user_id": 1668622, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2RRcb.png?s=128&g=1", "display_name": "frans", "link": "https://stackoverflow.com/users/1668622/frans"}, "is_accepted": true, "score": 0, "last_activity_date": 1519633831, "creation_date": 1519633831, "answer_id": 48984258, "question_id": 47678246, "link": "https://stackoverflow.com/questions/47678246/create-a-derived-class-from-a-boost-python-wrapped-factory/48984258#48984258", "title": "Create a derived class from a boost-python wrapped factory", "body": "<p>A colleague told me how to do it but would not post an answer. The trick is to implement <code>__new__()</code> and set the instance' class with this cool magic: </p>\n\n<pre><code>class MyEnhancedServer(MyServer):\n    def __new__(cls, config):\n        self = cls.create(config)\n        self.__class__ = cls.__class__(cls.__name__, (cls, ), {})\n        return self\n</code></pre>\n"}], "owner": {"reputation": 6810, "user_id": 1668622, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2RRcb.png?s=128&g=1", "display_name": "frans", "link": "https://stackoverflow.com/users/1668622/frans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 48984258, "answer_count": 1, "score": 0, "last_activity_date": 1519633831, "creation_date": 1512575202, "last_edit_date": 1512985423, "question_id": 47678246, "link": "https://stackoverflow.com/questions/47678246/create-a-derived-class-from-a-boost-python-wrapped-factory", "title": "Create a derived class from a boost-python wrapped factory", "body": "<p>In a C++ library I have a class with private constructors and a factory:</p>\n\n<pre><code>class MyServer {\n    MyServer() {..};\n  public:\n    MyServer create(std::string &amp;config);\n};\n</code></pre>\n\n<p>With boost-python I create a wrapper which lets me use this factory:</p>\n\n<pre><code>from MyWrappedLibrary import MyServer, StartServer\nserver = MyServer.create('some: magic, config: string')\nStartServer(server)\n</code></pre>\n\n<p>Now I want to add a method to MyServer like this:</p>\n\n<pre><code>from MyWrappedLibrary import MyServer, StartServer\n\nclass MyEnhancedServer(MyServer):\n    def __init__(self, config):\n        super().__init__(config)\n\n    def another_method(self):\n        do(something)\n</code></pre>\n\n<p>But of course this does not work since I can't instantiate <code>MyServer</code> directly.</p>\n\n<p>Of course I could create a class which doesn't derive from <code>MyServer</code> but it would not feel good since I had to wrap every method:</p>\n\n<pre><code>class MyEnhancedServer:\n    def __init__(self, config):\n        self.core_instance = MyServer.create(config)\n\n    def foo_1(self):  # wrapper\n        self.core_instance.foo_1()\n\n    def foo_2(self):  # wrapper\n        return self.core_instance.foo_2()\n\n    def another_method(self):\n        do(something)\n\nserver = MyEnhancedServer('some: magic, config: string')\nStartServer(server.core_instance)\n</code></pre>\n\n<p><strong>Question:</strong> Is there a way to make the result of <code>MyServer.create()</code> the 'base instance' of MyEnhancedServer?</p>\n\n<p>The result would be something like this:</p>\n\n<pre><code>class MyEnhancedServer(MyServer):\n    def __init__(self, config):\n        self.MyServer = MyServer.create()\n\n    def another_method(self):\n        do(something)\n</code></pre>\n"}, {"tags": ["c++", "c++11", "templates"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512575340, "post_id": 47678237, "comment_id": 82315595, "body": "you want <code>GetItem</code> to return a <code>U</code> when <code>T==U</code> and when <code>T==U*</code> ? I wouldnt do that, because it breaks expectations. If I have a container of <code>T</code> then I want to insert and retrieve <code>T</code>s not <code>T*</code> or <code>T</code> with pointer removed. Just keep it simple"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512575462, "post_id": 47678237, "comment_id": 82315670, "body": "btw if all occurences of <code>T</code> appear as <code>T*</code> then imho you better remove the <code>*</code> and let the user decide whether they want to store pointers or objects"}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1512575574, "post_id": 47678237, "comment_id": 82315738, "body": "What do you mean by pointer type? Just (cv-qualified) <code>FOO *</code>, or are smart pointers included?"}, {"owner": {"reputation": 1995, "user_id": 2718002, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a1ed8371bd619c1d0297cea4efbf984b?s=128&d=identicon&r=PG&f=1", "display_name": "powerpete", "link": "https://stackoverflow.com/users/2718002/powerpete"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512575622, "post_id": 47678237, "comment_id": 82315769, "body": "@tobi303 That would be fine, but It&#39;s not possible in my case. My case is a little bit more complicated as my example ..."}, {"owner": {"reputation": 1995, "user_id": 2718002, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a1ed8371bd619c1d0297cea4efbf984b?s=128&d=identicon&r=PG&f=1", "display_name": "powerpete", "link": "https://stackoverflow.com/users/2718002/powerpete"}, "reply_to_user": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1512575949, "post_id": 47678237, "comment_id": 82316007, "body": "@Useless Only standard pointers, no smart pointers"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1512576074, "post_id": 47678237, "comment_id": 82316119, "body": "Can <code>T</code> be something different than <code>FOO</code>/<code>FOO*</code> ? as partial specialization of method is not allowed, but full specialization is allowed."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1512576084, "post_id": 47678237, "comment_id": 82316125, "body": "So just write an overloaded helper function <code>FOO* GetItemHelper(FOO **array, int index)</code> and <code>FOO* GetItemHelper(FOO *array, int index)</code>. A single instance of your method will forward to the correct overload."}], "answers": [{"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": true, "score": 3, "last_activity_date": 1512580148, "last_edit_date": 1512580148, "creation_date": 1512576234, "answer_id": 47678598, "question_id": 47678237, "link": "https://stackoverflow.com/questions/47678237/partial-template-specialization-only-for-a-single-function/47678598#47678598", "title": "Partial template specialization only for a single function", "body": "<p>Defer to an overloaded free function:</p>\n\n<pre><code>#include &lt;cstddef&gt;\n\nclass FOO {};\n\ntemplate&lt;class T&gt;\nT* get_t(T* array, std::size_t index)\n{\n    return array + index;\n}\n\ntemplate&lt;class T&gt;\nT* get_t(T** array, std::size_t index)\n{\n    return array[index];\n}\n\ntemplate&lt;class T&gt;\nclass ArrayContainer {\n    T *array;\npublic:\n    ArrayContainer(T * array) \n    : array(array)\n    {\n    }\n\n    /*\n     * A lot of other functions.\n     * I want to write them only once\n     * ....\n     */\n\n     auto GetItem(std::size_t index)\n     {\n         return get_t(array, index);\n     }\n\n};\n\nvoid usage() {\n  FOO fooArray[100];\n  FOO * fooPointerArray[100];\n\n  auto bar1 = ArrayContainer&lt;FOO&gt;(fooArray);\n  auto bar2 = ArrayContainer&lt;FOO*&gt;(fooPointerArray);\n\n  FOO* f = bar1.GetItem(2);\n  f = bar2.GetItem(5);\n}\n</code></pre>\n\n<p>or, for better encapsulation, derive privately from a services class which exports the getter function overloads as static members.</p>\n\n<pre><code>#include &lt;cstddef&gt;\n\nclass FOO {};\n\n\nstruct ArrayContainerServices\n{\n    template&lt;class T&gt;\n    static \n    T* ImplementGetItem(T* array, std::size_t index)\n    {\n        return array + index;\n    }\n\n    template&lt;class T&gt;\n    static\n    T* ImplementGetItem(T** array, std::size_t index)\n    {\n        return array[index];\n    }\n};\n\ntemplate&lt;class T&gt;\nclass ArrayContainer \n: private ArrayContainerServices  // note - private inheritance\n{\n    T *array;\npublic:\n    ArrayContainer(T * array) \n    : array(array)\n    {\n    }\n\n    /*\n     * A lot of other functions.\n     * I want to write them only once\n     * ....\n     */\n\n     auto GetItem(std::size_t index)\n     {\n         return ImplementGetItem(array, index);\n     }\n\n};\n\nvoid usage() {\n  FOO fooArray[100];\n  FOO * fooPointerArray[100];\n\n  auto bar1 = ArrayContainer&lt;FOO&gt;(fooArray);\n  auto bar2 = ArrayContainer&lt;FOO*&gt;(fooPointerArray);\n\n  FOO* f = bar1.GetItem(2);\n  f = bar2.GetItem(5);\n}\n</code></pre>\n"}], "owner": {"reputation": 1995, "user_id": 2718002, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a1ed8371bd619c1d0297cea4efbf984b?s=128&d=identicon&r=PG&f=1", "display_name": "powerpete", "link": "https://stackoverflow.com/users/2718002/powerpete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 47678598, "answer_count": 1, "score": 0, "last_activity_date": 1512580148, "creation_date": 1512575176, "question_id": 47678237, "link": "https://stackoverflow.com/questions/47678237/partial-template-specialization-only-for-a-single-function", "title": "Partial template specialization only for a single function", "body": "<p>I've a template where I want to use a pointer type or an instance type as the template parameter. An Example:</p>\n\n<pre><code>class FOO {};\n\nclass ItemGetter {\n    virtual FOO * GetItem(int index) = 0;\n};\n\ntemplate&lt;class T&gt;\nclass ArrayContainer : public ItemGetter {\n    T *array;\n    ArrayContainer(T * array) {\n        this-&gt;array = array;\n    }\n\n    /*\n     * A lot of other functions.\n     * I want to write them only once\n     * ....\n     */\n\n    /* If the T Parameter is an instance Type */\n    FOO * GetItem(int index) {\n        return &amp;this-&gt;array[index];\n    }\n    /* If the T Parameter is an pointer Type */\n    FOO * GetItem(int index) {\n        return this-&gt;array[index];\n    }\n};\n\nvoid usage() {\n  FOO fooArray[100];\n  FOO * fooPointerArray[100];\n\n  auto bar1 = ArrayContainer&lt;FOO&gt;(fooArray);\n  auto bar2 = ArrayContainer&lt;FOO*&gt;(fooPointerArray);\n}\n</code></pre>\n\n<p>How can I specialize the <code>GetItem()</code> function for the pointer and the instance variant (without writing all the other functions twice)?</p>\n"}, {"tags": ["c++", "arrays", "malloc"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 6, "creation_date": 1512574316, "post_id": 47677902, "comment_id": 82314856, "body": "Don&#39;t use malloc in C++, use <code>new</code>"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 4, "creation_date": 1512574350, "post_id": 47677902, "comment_id": 82314875, "body": "Or better yet, use a container from the STL, or a smart pointer. Avoid managing memory manually if you can!"}, {"owner": {"reputation": 64049, "user_id": 812912, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/732c48dee9ac15216258118fb8c0a764?s=128&d=identicon&r=PG", "display_name": "Ivaylo Strandjev", "link": "https://stackoverflow.com/users/812912/ivaylo-strandjev"}, "edited": false, "score": 6, "creation_date": 1512574365, "post_id": 47677902, "comment_id": 82314883, "body": "<code>tab[799][599]</code> is not valid, first index should be up to 599, SECOND is up to 799. Take a loot at your second double loop, which also reflects that"}, {"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 3, "creation_date": 1512574429, "post_id": 47677902, "comment_id": 82314918, "body": "You swapped your <code>sizeof</code>s."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1512574983, "post_id": 47677902, "comment_id": 82315338, "body": "It looks like there is another problem, namely Turbo C++."}], "answers": [{"comments": [{"owner": {"reputation": 217, "user_id": 6821488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe2af092c7fdb98d4b77416edf757e4?s=128&d=identicon&r=PG&f=1", "display_name": "phan801", "link": "https://stackoverflow.com/users/6821488/phan801"}, "reply_to_user": {"reputation": 15, "user_id": 9021738, "user_type": "registered", "profile_image": "https://graph.facebook.com/1626685190730502/picture?type=large", "display_name": "Adam Wa\u015bniewski", "link": "https://stackoverflow.com/users/9021738/adam-wa%c5%9bniewski"}, "edited": false, "score": 0, "creation_date": 1512679560, "post_id": 47678211, "comment_id": 82367103, "body": "@AdamWa\u015bniewski Glad it helped! If it solved your problem then maybe you could accept this answer?"}], "tags": [], "owner": {"reputation": 217, "user_id": 6821488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe2af092c7fdb98d4b77416edf757e4?s=128&d=identicon&r=PG&f=1", "display_name": "phan801", "link": "https://stackoverflow.com/users/6821488/phan801"}, "is_accepted": true, "score": 0, "last_activity_date": 1512575105, "creation_date": 1512575105, "answer_id": 47678211, "question_id": 47677902, "link": "https://stackoverflow.com/questions/47677902/c-malloc-and-two-dimension-array-not-reserving-enough-memory/47678211#47678211", "title": "c++ malloc and two-dimension array not reserving enough memory", "body": "<p>Your malloc is wrong, it needs to be like:</p>\n\n<pre><code>int **tab;\ntab = (int**)malloc((800) * sizeof(int*));\n\nfor (int i = 0; i&lt;800; i++)\n{\n    tab[i] = (int*)malloc((600) * sizeof(int));\n}\n</code></pre>\n\n<p>If you want your array to be 800x600. If you want it to be 600x800 just swap the values. </p>\n"}], "owner": {"reputation": 15, "user_id": 9021738, "user_type": "registered", "profile_image": "https://graph.facebook.com/1626685190730502/picture?type=large", "display_name": "Adam Wa\u015bniewski", "link": "https://stackoverflow.com/users/9021738/adam-wa%c5%9bniewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 47678211, "answer_count": 1, "score": 0, "last_activity_date": 1512575105, "creation_date": 1512574189, "question_id": 47677902, "link": "https://stackoverflow.com/questions/47677902/c-malloc-and-two-dimension-array-not-reserving-enough-memory", "title": "c++ malloc and two-dimension array not reserving enough memory", "body": "<p>I need to creat a 2 dimension array with malloc, so that I can return it's pointer with a function. In this function I also allocate integers (by getpixel() function) into this array. I do it this way:</p>\n\n<pre><code>int **tab;\ntab = (int**)malloc((600) * sizeof(int));\n\nfor (int i = 0; i&lt;600; i++)\n{\n    tab[i] = (int*)malloc((800) * sizeof(int*));\n}\n\n\nfor (int i = 0; i&lt;600; i++)\n{\n    for (int j = 0; j&lt;800; j++)\n    {\n        tab[i][j] = getpixel(i, j);\n    }\n}\n</code></pre>\n\n<p>This array works of course in most of the cases, when I check it, it has the values I expected inside. However, it stops working, when I get to a bigger Y. So eg. when I want to check array tab[799][599], I can't, because there is an error about exception, I can't copy it directly, because I have the other language than English verion, but it goes something like that:</p>\n\n<p>\"The unsupported exception in 0x00E71C05 w bgi.exe: 0xC0000005: violation of rules of access when reading from the location 0x0000095C.\"</p>\n\n<p>I think it means, that mallock() didn't reserve enought memory for me. But how can I make array big enough then? Or is this any other problem?</p>\n"}, {"tags": ["c++", "static", "overriding", "parent-child", "public"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1512574353, "post_id": 47677864, "comment_id": 82314878, "body": "Does it link ? You have multiple (different) definitions of <code>const std::string Foo::PARAM_VALUE</code> -&gt; ODR violation."}, {"owner": {"reputation": 315, "user_id": 6694972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d8a48aa6d925b77c79e5d5bccbe58a11?s=128&d=identicon&r=PG&f=1", "display_name": "GDYendell", "link": "https://stackoverflow.com/users/6694972/gdyendell"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1512574682, "post_id": 47677864, "comment_id": 82315118, "body": "It compiles and runs as I would like it to."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 6694972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d8a48aa6d925b77c79e5d5bccbe58a11?s=128&d=identicon&r=PG&f=1", "display_name": "GDYendell", "link": "https://stackoverflow.com/users/6694972/gdyendell"}, "edited": false, "score": 0, "creation_date": 1512574857, "post_id": 47678009, "comment_id": 82315242, "body": "Is it possible different compilers would complain about this? I am using gcc (GCC) 4.4.7 20120313 (Red Hat 4.4.7-18)."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 315, "user_id": 6694972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d8a48aa6d925b77c79e5d5bccbe58a11?s=128&d=identicon&r=PG&f=1", "display_name": "GDYendell", "link": "https://stackoverflow.com/users/6694972/gdyendell"}, "edited": false, "score": 0, "creation_date": 1512574900, "post_id": 47678009, "comment_id": 82315276, "body": "Formally it&#39;s the link stage that ought to issue a complaint."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 1, "last_activity_date": 1512574574, "creation_date": 1512574574, "answer_id": 47678009, "question_id": 47677864, "link": "https://stackoverflow.com/questions/47677864/overriding-public-static-const-members-in-child-classes/47678009#47678009", "title": "Overriding public static const members in child classes", "body": "<p>I'm not convinced that your linker would allow this, the behaviour is certainly undefined if it does.</p>\n\n<p>Your code is in violation of the <em>one definition rule</em>.</p>\n\n<p>You can resort to <em>variable shadowing</em> if you want, but bear in mind that this would not be polymorphic. If you want polymorphism, then you'd need to use virtual functions.</p>\n"}], "owner": {"reputation": 315, "user_id": 6694972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d8a48aa6d925b77c79e5d5bccbe58a11?s=128&d=identicon&r=PG&f=1", "display_name": "GDYendell", "link": "https://stackoverflow.com/users/6694972/gdyendell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512574574, "creation_date": 1512574104, "question_id": 47677864, "link": "https://stackoverflow.com/questions/47677864/overriding-public-static-const-members-in-child-classes", "title": "Overriding public static const members in child classes", "body": "<p>I have a piece of working code that I am not sure about. See below for a mocked up version. The jist of it is I have a <code>Foo</code> class, a <code>ChildFoo</code> class and <code>Bar</code> class which has an instance of <code>Foo</code>. <code>Foo</code> presents some keys to <code>Bar</code> to parse a json dictionary. <code>Bar</code> is generic and used in multiple ways, <code>Foo</code> is subclassed for each implementation.</p>\n\n<p>I have a <code>public static const std::string</code> in <code>Foo</code>, which defaults to <code>\"\"</code> in which case the <code>Bar</code> method to parse the value out just uses its own name instead of a specific key. I override <code>PARAM_VALUE</code> in <code>ChildFoo</code> because it's json dictionary is more complicated and provides <code>{value: [], type:[], ...}</code>, whereas other implementations just return <code>{mName: []}</code>.</p>\n\n<p>Foo.h:</p>\n\n<pre><code>class Foo\n{\npublic:\n    static const std::string PARAM_VALUE;\n}\n</code></pre>\n\n<p>Foo.cpp:</p>\n\n<pre><code>const std::string Foo::PARAM_VALUE = \"\";\n\nFoo::Foo ()\n{\n...\n}\n</code></pre>\n\n<p>ChildFoo.cpp:</p>\n\n<pre><code>const std::string Foo::PARAM_VALUE = \"value\";\n\nChildFoo::ChildFoo() : Foo()\n{\n...\n}\n</code></pre>\n\n<p>Bar.h</p>\n\n<pre><code>class Bar\n{\nprivate:\n    std::string mName;\n    ChildFoo * mFoo;\n}\n</code></pre>\n\n<p>Bar.cpp:</p>\n\n<pre><code>Bar::Bar ()\n{\n...\n}\n\nint Bar::parseValue ()\n{\n    std::string key;\n    if (!mFoo-&gt;PARAM_VALUE.empty()) {\n        key = mFoo-&gt;PARAM_VALUE;\n    }\n    else {\n        key = mName;\n    }\n    ...\n}\n</code></pre>\n\n<p>I assumed I would have to go down the route of virtual getters for these keys, but thought I would try this out and was slightly surprised to find it works. On thinking about it, I believe it works because <code>Foo::PARAM_VALUE</code> is overridden by <code>ChildFoo</code> at compile time, so the <code>const</code> isn't restrictive at that point. I'm not completely sure, though.</p>\n\n<p>Is it unsurprising that this works? Is this considered OK? Are there any drawbacks that could come from doing things in this way?</p>\n\n<p>Cheers,\nGary</p>\n"}, {"tags": ["c++", "visual-studio", "unreal-engine4"], "comments": [{"owner": {"reputation": 8454, "user_id": 958529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3ec25db39c63bab1a11037649e326b8?s=128&d=identicon&r=PG", "display_name": "halfelf", "link": "https://stackoverflow.com/users/958529/halfelf"}, "edited": false, "score": 0, "creation_date": 1512614800, "post_id": 47677789, "comment_id": 82333132, "body": "What is your vs version? UE4.10 only supports vs2015 and 2013 in my mind."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1406595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a2f9cee080186cf4813ef98442067a7?s=128&d=identicon&r=PG", "display_name": "hps", "link": "https://stackoverflow.com/users/1406595/hps"}, "is_accepted": false, "score": 0, "last_activity_date": 1513242195, "creation_date": 1513242195, "answer_id": 47809475, "question_id": 47677789, "link": "https://stackoverflow.com/questions/47677789/error-when-opening-unrealengine/47809475#47809475", "title": "Error when opening UnrealEngine", "body": "<p>Please take a look at\n<a href=\"https://docs.unrealengine.com/latest/INT/Programming/Development/VisualStudioSetup/\" rel=\"nofollow noreferrer\">https://docs.unrealengine.com/latest/INT/Programming/Development/VisualStudioSetup/</a>\nand check that you are using the correct Visual Studio version.</p>\n\n<p>Also, is there a reason that you are using Unreal Engine 4.10 instead of the newest version, even though you are just starting with UE and, I assume, you don't have any previous projects?</p>\n"}], "owner": {"reputation": 1, "user_id": 9062538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f96e44ef481bd311eed4f1ec71f1cd?s=128&d=identicon&r=PG&f=1", "display_name": "Bebo_47", "link": "https://stackoverflow.com/users/9062538/bebo-47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513242195, "creation_date": 1512573872, "question_id": 47677789, "link": "https://stackoverflow.com/questions/47677789/error-when-opening-unrealengine", "title": "Error when opening UnrealEngine", "body": "<p>Im new to UnrealEngine but I have worked with unity before. im trying to create a new unreal engine file but I keep getting this error every time I try (Can not compile, basically):</p>\n\n<pre><code>    The project could not be compiled. Would you like to open it in Visual Studio?\n\n    Running C:/Program Files/Epic Games/UE_4.10/Engine/Binaries/DotNET/UnrealBuildTool.exe test Development Win64 -project=\"C:/Users/abdel/Desktop/gamemaking/Unreal/BuildingEscape/test/test.uproject\" -rocket -editorrecompile -progress -noubtmakefiles -2015\n@progress push 5%\nParsing headers for testEditor\n  Running UnrealHeaderTool \"C:/Users/abdel/Desktop/gamemaking/Unreal/BuildingEscape/test/test.uproject\" \"C:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Intermediate\\Build\\Win64\\testEditor\\Development\\UnrealHeaderTool.manifest\" -LogCmds=\"loginit warning, logexit warning, logdatabase error\" -rocket -installed\nReflection code generated for testEditor in 7.1584488 seconds\n@progress pop\nPerforming 8 actions (2 in parallel)\n[2/8] Resource PCLaunch.rc\nPCH.test.h.cpp\n[3/8] Resource ModuleVersionResource.rc.inl\ntestGameMode.cpp\ntest.generated.cpp\nC:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Intermediate\\Build\\Win64\\UE4Editor\\Inc\\test\\test.generated.cpp: error C4599: '/IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE': command line argument number 228 does not match precompiled headerC:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Source\\test\\testGameMode.cpp: error C4599: '/IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE': command line argument number 228 does not match precompiled header\n\ntestCharacter.cpp\nC:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Source\\test\\testCharacter.cpp: error C4599: '/IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE': command line argument number 228 does not match precompiled header\ntest.cpp\nC:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Source\\test\\test.cpp: error C4599: '/IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE': command line argument number 228 does not match precompiled header\n-------- End Detailed Actions Stats -----------------------------------------------------------\nERROR: UBT ERROR: Failed to produce item: C:\\Users\\abdel\\Desktop\\gamemaking\\Unreal\\BuildingEscape\\test\\Binaries\\Win64\\UE4Editor-test.dll\nTotal build time: 26.15 seconds\n</code></pre>\n\n<p>I have visual studio downloaded and when I try to open it in Visual Studio, I get a build error.</p>\n\n<p>please help :)</p>\n"}, {"tags": ["c++", "arrays", "2d"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1512573901, "post_id": 47677757, "comment_id": 82314602, "body": "You can wrap it into a class and check at runtime with an additional table if you have right to write on specific cell."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1512574076, "post_id": 47677757, "comment_id": 82314704, "body": "why do you want this? Isnt it confusing to have <code>const</code> and <code>non-const</code> values in the same array? What if you pass the array to a function that expects a non-const / const array?"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512574568, "post_id": 47677757, "comment_id": 82315034, "body": "If you wrap it in a class you could to an effect do this"}], "answers": [{"tags": [], "owner": {"reputation": 1971, "user_id": 2096824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fzfxa.jpg?s=128&g=1", "display_name": "Justin Randall", "link": "https://stackoverflow.com/users/2096824/justin-randall"}, "is_accepted": false, "score": 4, "last_activity_date": 1512574100, "creation_date": 1512574100, "answer_id": 47677862, "question_id": 47677757, "link": "https://stackoverflow.com/questions/47677757/making-an-element-of-a-2d-array-a-constant/47677862#47677862", "title": "Making an element of a 2d array a constant", "body": "<p>You can make the <em>whole array</em> constant, but you cannot make just part of it constant.  If part of the array is mutable, then the whole array has to be mutable.</p>\n"}], "owner": {"reputation": 725, "user_id": 8980525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a04e32857e9f6e07ff2429fbf3656f?s=128&d=identicon&r=PG&f=1", "display_name": "amm98d", "link": "https://stackoverflow.com/users/8980525/amm98d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512574100, "creation_date": 1512573759, "question_id": 47677757, "link": "https://stackoverflow.com/questions/47677757/making-an-element-of-a-2d-array-a-constant", "title": "Making an element of a 2d array a constant", "body": "<p>Suppose I have a 2d array as</p>\n\n<pre><code>arr[10][15];\n</code></pre>\n\n<p>Now, I want just one element of the array to be constant. I want the arr[9][8] to be fixed to 101:</p>\n\n<pre><code>arr[9][8] = 101;\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>const arr[9][8] = 101;\n</code></pre>\n\n<p>But the compiler gave errors.\nHow can I make it constant?</p>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 4, "creation_date": 1512573860, "post_id": 47677676, "comment_id": 82314570, "body": "Assuming an infinite plane, unless all points lie on the same line they will form a triangle with positive area. So you just need to test if all points are on the same straight line to know if it&#39;s a valid triangle."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512573901, "post_id": 47677676, "comment_id": 82314601, "body": "<code>slope1!=slope2</code> will be almost always true, even if the slopes are almost the same"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1512574046, "post_id": 47677676, "comment_id": 82314693, "body": "I believe there&#39;s a reason for the description only mentioning positive area and not slopes."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512574136, "post_id": 47677676, "comment_id": 82314742, "body": "The formula is (x1 - x2)/(y1-y2) - (x2 - x3)/(y2 - y3) != 0 then its a triangle"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 1, "creation_date": 1512574504, "post_id": 47677676, "comment_id": 82314977, "body": "Well... You have a problem with <code>division by 0</code>. What if the coordinates are <code>(3, 4), (3, 5) and (5, 6)</code> (which is a valid triangle)? <code>((y2-y1)&#47;(x2-x1))</code> will yield <code>(4 - 5)&#47;(3-3)</code> which is <code>-1&#47;0</code>. Likewise with <code>((y3-y2)&#47;(x3-x2))</code>."}, {"owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "reply_to_user": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1512574618, "post_id": 47677676, "comment_id": 82315076, "body": "@SaniSinghHuttunen What should I do to avoid 1/0?"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1512574705, "post_id": 47677676, "comment_id": 82315132, "body": "@AdamHussein: Check if the denominator is zero and if it is then the slope is undefined. I.e. It&#39;s a vertical line."}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1512579308, "post_id": 47677676, "comment_id": 82318230, "body": "You have already computed the area (without division), you can check if it is 0, what else do you need? All the rest seems unnecessary."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512589190, "post_id": 47679016, "comment_id": 82323542, "body": "I tried your code. when I entered (1, 1) , (3, 1) (3, 9) it didn&#39;t print &quot;Poor boy&quot; on the screen."}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "reply_to_user": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512589877, "post_id": 47679016, "comment_id": 82323903, "body": "@AdamHussein: It shouldn&#39;t... Since that is a valid triangle... It should print <code>68</code>."}, {"owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512590911, "post_id": 47679016, "comment_id": 82324488, "body": "With your code it prints nothing.Can you edit it please? and I will approve your answer."}, {"owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512591455, "post_id": 47679016, "comment_id": 82324750, "body": "With the relation you used  of each side1, side2 and side3, If I enter (1, 1) , (3, 1) (3, 9) it will print 400 not 68"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "reply_to_user": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512591719, "post_id": 47679016, "comment_id": 82324897, "body": "Fixed the <code>side2</code> and <code>side3</code> calculations. They were incorrect. It should print out 68 now. But as I said: Code is not tested. You should be able to get it working if there are any more calculation mistakes since every step is explained."}, {"owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "edited": false, "score": 0, "creation_date": 1512649308, "post_id": 47679016, "comment_id": 82349432, "body": "It also gives me wrong answer at test 9 in codeforces what else should I put in the if statements, this gonna blow my mind. (-10^9&lt;=X,Y&lt;=10^9)"}], "tags": [], "owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "is_accepted": false, "score": 1, "last_activity_date": 1512592117, "last_edit_date": 1512592117, "creation_date": 1512577574, "answer_id": 47679016, "question_id": 47677676, "link": "https://stackoverflow.com/questions/47677676/using-three-points-x-y-how-to-find-whether-it-is-triangle-or-not/47679016#47679016", "title": "Using three points (x, y), How to find whether it is triangle or not", "body": "<p>Your biggest problem is that you keep getting <code>division by 0</code> on inputs where the denominator is 0 when calculating the slope. I.e. Points <code>(3, 4), (3, 5) and (5, 6)</code> will yield <code>-1/0</code>.</p>\n\n<p>Another thing is that you are \"over-complicating\" things.</p>\n\n<p>This is a step by step example for clarity how to approach this (I.e. not optimal code):</p>\n\n<pre><code>// Check if any two points are the same. I.e. no triangle\nif (x1 == x2 &amp;&amp; y1 == y2 || x1 == x3 &amp;&amp; y1 == y3 || x2 == x3 &amp;&amp; y2 == y3) {\n  cout &lt;&lt; \"Poor boy\";\n  return 0;\n}\n\n// Check if all points are on the same horizontal or vertical line\nif (x1 == x2 &amp;&amp; x1 == x3 || y1 == y2 &amp;&amp; y1 == y3) {\n  cout &lt;&lt; \"Poor boy\";\n  return 0;\n}\n\n// Calculate the nominators and denominators\nnominator1 = y2-y1;\ndenominator1 = x2-x1;\nnominator2 = y3-y2;\ndenominator2 = x3-x2;\nnominator3 = y1-y3;\ndenominator3 = x1-x3;\n\n// Calculate the slopes, if possible.\nif (denominator1 == 0) slope1 = 0;\nelse slope1 = nominator1 / denominator1;\nif (denominator2 == 0) slope2 = 0;\nelse slope2 = nominator2 / denominator2;\nif (denominator3 == 0) slope3 = 0;\nelse slope3 = nominator3 / denominator3;\n\n// Check if the three points form a triangle or a straight line.\n// I.e. if all slopes are the same, it is a line.\nif ((slope1 == slope2 &amp;&amp; slope1 == slope3)) {\n  cout &lt;&lt; \"Poor boy\";\n  return 0;\n}\n\n// Calculate the square of the length of each side\n// (No abs is needed since a square of negative numbers is positive.)\n// (Also no sqrt is needed since we're only interrested in the square of the longest side.)\nside1 = (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\nside2 = (x3-x2)*(x3-x2) + (y3-y2)*(y3-y2);\nside3 = (x1-x3)*(x1-x3) + (y1-y3)*(y1-y3);\n\n// Note: This can be used instead which is the same calculation:\n// side1 = denominator1 * denominator1 + nominator1 * nominator1;\n// side2 = denominator2 * denominator2 + nominator2 * nominator2;\n// side3 = denominator3 * denominator3 + nominator3 * nominator3;\n\n// Get the longest side squared.\nmaxSide = side1 &gt; side2 ? side1 &gt; side3 ? side1 : side2 &gt; side3 ? side2 : side3;\n\ncout &lt;&lt; maxSide;\n</code></pre>\n\n<p><em>Disclaimer: Code not tested!</em></p>\n"}, {"tags": [], "owner": {"reputation": 25508, "user_id": 847269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/564ffe2e3f1ffe82696cd1ac01ac035e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick87", "link": "https://stackoverflow.com/users/847269/patrick87"}, "is_accepted": false, "score": 2, "last_activity_date": 1512654310, "creation_date": 1512654310, "answer_id": 47696492, "question_id": 47677676, "link": "https://stackoverflow.com/questions/47677676/using-three-points-x-y-how-to-find-whether-it-is-triangle-or-not/47696492#47696492", "title": "Using three points (x, y), How to find whether it is triangle or not", "body": "<p>As in Sani's answer, I recommend calculating the rise and run between each pair of points:</p>\n\n<pre><code>rise1 = y2 - y1\nrise2 = y3 - y2\nrise3 = y1 - y3\n\nrun1 = x2 - x1\nrun2 = x3 - x2\nrun3 = x1 - x3\n</code></pre>\n\n<p>Also the same, I recommend checking whether any two points are coincident. Note that this is equivalent to what Sani's code is checking:</p>\n\n<pre><code>if (rise1 = run1 = 0) or (rise2 = run2 = 0) or (rise3 = run3 = 0) then\n    print \"Poor Boy\"\n    return 0\n</code></pre>\n\n<p>Now, similar to Sani, we move on to checking whether the points are on a line. However, we can simplify the conditions to check somewhat. Note that, if no two points are on a vertical line, then the three points are on one line if the slopes between any two points are equal. That is, m1 = m2, m2 = m3, or m3 = m1, equivalently. We can check whether m1 = m2. This is true when rise1/run1 = rise2/run2, which is safe since we assume no points are on a vertical line. We can rearrange this to rise1 * run2 = rise2 * run1, again safely. If no two points are on a vertical line, this is the only check we need.</p>\n\n<p>What if two points are on a vertical line? Then at least one of run1 and run2 will be zero. However, because we have already guaranteed no two points are coincident, we can be absolutely sure that if either of these is zero, the corresponding rise is non-zero. There are two other cases (besides no two points being on a vertical line):</p>\n\n<ul>\n<li><p>Exactly two points are on a vertical line. Then either run1 or run2, but not both, are zero. Without loss of generality, assume run1 is zero. Then the condition rise1 * run2 = rise2 * run1 simplifies to rise1 * run2 = 0. Because we know rise1 is not zero, this is satisfied only if run2 = 0, which contradicts our assumed case. This means that, in this case, the condition we derived earlier will produce the correct result and identify the points as not being on the same line.</p></li>\n<li><p>Three points are on a vertical line. Then both run1 and run2 are zero. Then the condition rise1 * run2 = rise2 * run1 simplifies to 0 = 0, which is always true. In this case, the condition will produce the correct result and identify three points as being on the same line.</p></li>\n</ul>\n\n<p>Because the condition we derived for the case of no two points on a vertical line happens to produce the correct result for all other possible cases, we can use it in all cases (under the assumption no two points are coincident). Therefore, we don't need to check anything except rise1 * run2 = rise2 * run1:</p>\n\n<pre><code>if rise1 * run2 = rise2 * run1 then\n    print \"Poor Boy\"\n    return 0\n</code></pre>\n\n<p>Now we know we have a triangle and need to return the largest of the three sides. We need the sum of squared differences of respective coordinates. Luckily, we already have the coordinate differences, so:</p>\n\n<pre><code>d1 = (rise1 * rise1) + (run1 * run1)\nd2 = (rise2 * rise2) + (run2 * run2)\nd3 = (rise3 * rise3) + (run3 * run3)\nreturn max(d1, d2, d3)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 9057048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ab6419bdfb6402040cb2a7eb1cdd2bc?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hussein", "link": "https://stackoverflow.com/users/9057048/adam-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2693, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1512654310, "creation_date": 1512573544, "question_id": 47677676, "link": "https://stackoverflow.com/questions/47677676/using-three-points-x-y-how-to-find-whether-it-is-triangle-or-not", "title": "Using three points (x, y), How to find whether it is triangle or not", "body": "<p>I have an assignment in codeforces which says:<br> \nLike all problem solvers, Ebram loves eating crepe! As we all know, crepe usually served in a triangular shape. Now Ebram wants to know how large can a crepe side be! So he tries to draw a triangle on a plane using three points and calculate the maximum length of the three sides of the triangle. But sometimes he falls asleep as he has been busy with the team preparing the training problems! As a result, the three points he uses may not form a triangle that could represent a piece of crepe! A triangle can represent a piece of crepe only if it has a positive area. So you are here to help Ebram! Given the coordinates Ebram used, determine whether they form a triangle that could represent a piece of crepe or not.\n<br> <br> Input:\nThree integer coordinates (X,Y) that represent the three points Ebram used. Each point on a separate line.\n<br> <br>\nOutput: If the points form a triangle that can represent a piece of crepe, print the square of the maximum length of the three sides of the triangle. Otherwise print \"Poor boy\" <br>\nExamples <br></p>\n\n<pre><code>input \n1 1 \n3 1 \n3 9 \noutput \n68 \n</code></pre>\n\n<p><br></p>\n\n<pre><code>input \n -10 8 \n  9 100 \n  3 8 \n  output \n  8825\n</code></pre>\n\n<p><br></p>\n\n<pre><code>input \n7 3 \n3 3 \n19 3 \noutput \nPoor boy \n</code></pre>\n\n<p>Here is my code that I used: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\nusing namespace std;\nint main () {\n   double x1,y1,x2,y2,x3,y3;\n    double area;\n    double s1,s2,s3;\n   double slope1, slope2;\ncin &gt;&gt; x1 &gt;&gt; y1;\ncin &gt;&gt; x2 &gt;&gt; y2;\ncin &gt;&gt; x3 &gt;&gt; y3;\nslope1 =((y2-y1)/(x2-x1));\nslope2 =((y3-y2)/(x3-x2));\narea = 0.5*abs(((x2-x1)*(y3-y1)-(x3-x1)*(y2-y1)));\nif (slope1!=slope2 &amp;&amp;  (area)!=0){\n\n\n    s1 = sqrt(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)));\n    s2 = sqrt(((x2-x3)*(x2-x3))+((y2-y3)*(y2-y3)));\n    s3 = sqrt(((x1-x3)*(x1-x3))+((y1-y3)*(y1-y3)));\n     if (s1 &gt; s2 &amp;&amp; s1 &gt; s3)\n        cout&lt;&lt;s1*s1&lt;&lt;endl;\n     if (s2 &gt; s1 &amp;&amp; s2 &gt; s3)\n        cout&lt;&lt;s2*s2&lt;&lt;endl;\n     if (s3 &gt; s1 &amp;&amp; s3 &gt; s2)\n        cout &lt;&lt;s3*s3&lt;&lt;endl;\n}\n\nelse\n    cout &lt;&lt;\"Poor boy\";\nreturn 0;\n\n\n}\n</code></pre>\n\n<p><br> First I find the slope1 and slope2 to check if the three points aren't at the same line. So If they're not equal it forms a triangle (crepe).\nUsing this:</p>\n\n<pre><code>slope1 =((y2-y1)/(x2-x1));\nslope2 =((y3-y2)/(x3-x2));\n</code></pre>\n\n<p>Then I wrote a relation to find the area of triangle using this formula: <br></p>\n\n<pre><code>area = 0.5*abs(((x2-x1)*(y3-y1)-(x3-x1)*(y2-y1)));\n</code></pre>\n\n<p>Finally I put the if statements to find if it is a triangle or not and find the length of each side of the triangle then find the maximum length and print the square of it. <br> </p>\n\n<pre><code>if (slope1!=slope2 &amp;&amp;  (area)!=0){\n\n\n    s1 = sqrt(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)));\n    s2 = sqrt(((x2-x3)*(x2-x3))+((y2-y3)*(y2-y3)));\n    s3 = sqrt(((x1-x3)*(x1-x3))+((y1-y3)*(y1-y3)));\n     if (s1 &gt; s2 &amp;&amp; s1 &gt; s3)\n        cout&lt;&lt;s1*s1&lt;&lt;endl;\n     if (s2 &gt; s1 &amp;&amp; s2 &gt; s3)\n        cout&lt;&lt;s2*s2&lt;&lt;endl;\n     if (s3 &gt; s1 &amp;&amp; s3 &gt; s2)\n        cout &lt;&lt;s3*s3&lt;&lt;endl;\n}\n\nelse\n    cout &lt;&lt;\"Poor boy\";\nreturn 0;\n\n\n}\n</code></pre>\n\n<p><br> I tested the code in my compiler and it runs the i/o shown in the example perfectly fine. I submitted the code on codeforces but I stuck wrong answer at test 8 I don't know why?, and my code runs inputs and outputs fine. I will be very pleased if you help guys. </p>\n"}, {"tags": ["c++", "visual-c++", "boost", "boost-asio", "threadpool"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1512579982, "post_id": 47677592, "comment_id": 82318636, "body": "Is this the &quot;wrong&quot; output you get? <a href=\"http://rextester.com/ZNHVP40490\" rel=\"nofollow noreferrer\">rextester.com/ZNHVP40490</a>"}, {"owner": {"reputation": 192, "user_id": 4999407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e3f8bb510a9d4f6a9accc8e9d9b6d16?s=128&d=identicon&r=PG", "display_name": "eldruin", "link": "https://stackoverflow.com/users/4999407/eldruin"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1512636186, "post_id": 47677592, "comment_id": 82340699, "body": "@sehe yes. I will add the link to the post"}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 4999407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e3f8bb510a9d4f6a9accc8e9d9b6d16?s=128&d=identicon&r=PG", "display_name": "eldruin", "link": "https://stackoverflow.com/users/4999407/eldruin"}, "edited": false, "score": 0, "creation_date": 1513075800, "post_id": 47733861, "comment_id": 82502381, "body": "wow, what a great answer. Thank you very much for your investigation and explanation. I will close the current bug I reported to boost and open a new one with your reproducer code."}, {"owner": {"reputation": 192, "user_id": 4999407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e3f8bb510a9d4f6a9accc8e9d9b6d16?s=128&d=identicon&r=PG", "display_name": "eldruin", "link": "https://stackoverflow.com/users/4999407/eldruin"}, "edited": false, "score": 1, "creation_date": 1513077358, "post_id": 47733861, "comment_id": 82503337, "body": "Please find the bug on the boost issue tracker here: <a href=\"https://svn.boost.org/trac10/ticket/13337\" rel=\"nofollow noreferrer\">#13337</a>"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 1, "last_activity_date": 1513079297, "last_edit_date": 1513079297, "creation_date": 1512858357, "answer_id": 47733861, "question_id": 47677592, "link": "https://stackoverflow.com/questions/47677592/difference-in-boostasioio-service-behaviour-between-gcc-and-msvc-cannot-can/47733861#47733861", "title": "Difference in boost::asio::io_service behaviour between GCC and MSVC: cannot cancel posted jobs", "body": "<p>At first I saw a problem with your tests. </p>\n\n<p>Let's start with that first.</p>\n\n<h2>Cancel, Racy Tests</h2>\n\n<p><code>ThreadPool::cancel</code> does two things:</p>\n\n<ul>\n<li>reset <code>work</code> (allowing <code>io_service::run()</code> to complete)</li>\n<li><code>stop</code> the service</li>\n</ul>\n\n<p>The problem is, resetting <code>work</code> doesn't affect any work already in progress. Neither does <code>stop</code>. So, any work already posted will be completed.</p>\n\n<p>The only situation in which you get your \"expected\" behaviour is in the off chance that you <code>stop</code> the <code>io_service</code> even before the first thread in the pool started running one of the posted tasks.</p>\n\n<p>The fact that you <strong><em>seem</em></strong> to get this behaviour on GCC consistently is a fluke. In reality it's a race, and that's easily demonstrated by adding the tiniest delay before <code>cancel()</code>. </p>\n\n<p>In fact, even with the code as is, repeated runs showed spurious failures like:</p>\n\n<pre><code>checkWorkCanBeCancelled\n    Error: functor 1 call expected: false actual: true\n    passed (functor 2 call).\n    Error: running time expected: 150 actual: 200\n</code></pre>\n\n<p>Enabling handler tracking confirms that only one handler was abandoned:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1wYIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wYIv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even just enabling address sanitizer made the failure become pretty much always reproducible.</p>\n\n<h2>Digging Deeper: <code>io_service::stop</code></h2>\n\n<p>If it's a race, and the tests are limited to a single service thread, surely the subtle race window would not be large enough to allow the second task to run even though <code>io_service::stop()</code> had been called?</p>\n\n<p>I struggled with this one, so I instrumented the <code>Functor</code> function with some more timing sampling. Let's also record the invocation of a task so we can distinguish tasks that were never started from those that merely didn't complete:</p>\n\n<pre><code>struct Functor {\n    void operator()() {\n        {\n            boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n            state_.invocation = Clock::now();\n        }\n        boost::this_thread::sleep(boost::posix_time::milliseconds(200));\n        {\n            boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n            state_.completion = Clock::now();\n        }\n    }\n\n    struct State {\n        TP start, invocation, completion;\n\n        friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, State const&amp; s) {\n            return os &lt;&lt; \"[\" &lt;&lt; relative(s.invocation, s.start) &lt;&lt; \",\" &lt;&lt; relative(s.completion, s.start) &lt;&lt; \"]\";\n        }\n    };\n\n    State sample() const {\n        boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n        return state_;\n    }\n\n  private:\n    State state_ = { TP::min(), TP::min(), TP::min() };\n    mutable boost::mutex mutex;\n};\n\n\nstruct Functor {\n    void operator()() {\n        {\n            boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n            state_.wasInvoked = true;\n        }\n        boost::this_thread::sleep(boost::posix_time::milliseconds(200));\n        {\n            boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n            state_.wasCompleted = true;\n        }\n    }\n\n    struct State {\n        bool wasInvoked, wasCompleted;\n\n        friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, State const&amp; s) {\n            if (s.wasInvoked &amp;&amp; s.wasCompleted) return os &lt;&lt; \"[invoked,completed]\";\n            if (s.wasInvoked) return os &lt;&lt; \"[invoked]\";\n            assert(!s.wasCompleted);\n            return os &lt;&lt; \"[]\";\n        }\n    };\n\n    State sample() const {\n        boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n        return state_;\n    }\n\n  private:\n    State state_ = { false, false };\n    mutable boost::mutex mutex;\n};\n</code></pre>\n\n<p>Now, <code>runTests</code> can be extended to keep timings of all tasks as well as those of the actions/pool shutdown:</p>\n\n<pre><code>struct ThreadPoolTest {\n    boost::int_least64_t getRunningTimeInMS() const { return relative(Clock::now(), start); }\n\n    template &lt;typename FunctorType, typename ScenarioAction&gt;\n    void runTest(ScenarioAction action, bool shouldFunctor1BeCalled, bool shouldFunctor2BeCalled) {\n        struct Task {\n            std::string name;\n            Task(std::string name) : name(name) {}\n\n            FunctorType functor;\n            Functor::State before, after, final_;\n        } tasks[] = { {\"functor1\"}, {\"functor2\"} };\n\n        TP before_action, after_action, pool_final;\n\n        {\n            ThreadPool pool(1);\n            for (auto&amp; task : tasks) pool.post(std::ref(task.functor));\n\n            for (auto&amp; task : tasks) task.before = task.functor.sample();\n\n            before_action = Clock::now();\n            action(pool);\n            after_action = Clock::now();\n\n            for (auto&amp; task : tasks) task.after = task.functor.sample();\n        }\n\n        pool_final = Clock::now();\n        for (auto&amp; task : tasks) task.final_ = task.functor.sample();\n\n        // aids in pretty printing\n        for (auto&amp; task : tasks) for (auto sample : { &amp;Task::before, &amp;Task::after, &amp;Task::final_ }) {\n            (task.*sample).start = start;\n        }\n\n        for (auto&amp; task : tasks)\n            std::cout &lt;&lt; \"DEBUG: \" &lt;&lt; task.name &lt;&lt; \" before:\" &lt;&lt; task.before &lt;&lt; \" after:\" &lt;&lt; task.after &lt;&lt; \" final:\" &lt;&lt; task.final_ &lt;&lt; \"\\n\";\n        std::cout &lt;&lt; \"DEBUG: pool/action before:\" &lt;&lt; relative(before_action, start) &lt;&lt; \" after:\" &lt;&lt; relative(after_action, start) &lt;&lt; \" final:\" &lt;&lt; relative(pool_final, start) &lt;&lt; \"\\n\";\n\n        check(std::equal_to&lt;&gt;{}, shouldFunctor1BeCalled, is_set(tasks[0].final_.completion), \"functor 1 call\");\n        check(std::equal_to&lt;&gt;{}, shouldFunctor2BeCalled, is_set(tasks[1].final_.completion), \"functor 2 call\");\n    }\n\n  private:\n    TP start = Clock::now();\n};\n</code></pre>\n\n<p>And our GCC run prints:</p>\n\n<pre><code>checkWorkCanBeCancelled\nDEBUG: functor1 before:[-1,-1] after:[-1,-1] final:[0,200]\nDEBUG: functor2 before:[-1,-1] after:[-1,-1] final:[-1,-1]\nDEBUG: pool/action before:0 after:0 final:200\n    Error: functor 1 call expected: false actual: true\n    passed (functor 2 call).\n    Error: running time expected: 150 actual: 200\n</code></pre>\n\n<p>It shows that the action function (<code>cancel</code> in this case) got invoked at the same time that our service thread was invoking <code>functor1</code>. And <code>functor2</code> was never invoked.</p>\n\n<p><strong><kbd><a href=\"http://rextester.com/ASCJO53404\" rel=\"nofollow noreferrer\">On MSVC</a></kbd></strong>, the same test prints:</p>\n\n<pre><code>checkWorkCanBeCancelled\nDEBUG: functor1 before:[-1,-1] after:[-1,-1] final:[2,198]\nDEBUG: functor2 before:[-1,-1] after:[-1,-1] final:[198,401]\nDEBUG: pool/action before:0 after:0 final:404\n    Error: functor 1 call expected: false actual: true\n    Error: functor 2 call expected: false actual: true\n    Error: running time expected: 150 actual: 405\n</code></pre>\n\n<p>Like with GCC, the <code>cancel</code> action ran at time 0ms, but strangely both tasks completed even though they got invoked <em>after</em> that action ran.</p>\n\n<blockquote>\n  <p>This indicates that on Windows, Asio will not prevent existing tasks being dispatched to threads if <code>io_service::stop()</code> is invoked. Increasing the load to 9 tasks shows consistent results: </p>\n\n<pre><code>DEBUG: functor1 before:[-1,-1] after:[-1,-1] final:[2,195]\nDEBUG: functor2 before:[-1,-1] after:[-1,-1] final:[195,398]\nDEBUG: functor3 before:[-1,-1] after:[-1,-1] final:[399,602]\nDEBUG: functor4 before:[-1,-1] after:[-1,-1] final:[602,821]\nDEBUG: functor5 before:[-1,-1] after:[-1,-1] final:[821,1024]\nDEBUG: functor6 before:[-1,-1] after:[-1,-1] final:[1024,1228]\nDEBUG: functor7 before:[-1,-1] after:[-1,-1] final:[1228,1431]\nDEBUG: functor8 before:[-1,-1] after:[-1,-1] final:[1431,1634]\nDEBUG: functor9 before:[-1,-1] after:[-1,-1] final:[1634,1837]\nDEBUG: pool/action before:0 after:0 final:1838\n</code></pre>\n</blockquote>\n\n<h2>Interrupt</h2>\n\n<p>Interruptions work fine on <strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/68ab6b5f86bee9f2\" rel=\"nofollow noreferrer\">Linux/GCC</a></kbd></strong> and <strong><kbd><a href=\"http://rextester.com/FPIQR62671\" rel=\"nofollow noreferrer\">MSVC</a></kbd></strong>.</p>\n\n<h2>Uninterruptables</h2>\n\n<p>The last scenario is effectively identical to the second (because the tasks are immune to interruption). </p>\n\n<h2>Summary:</h2>\n\n<p>On windows, the behaviour of <code>io_service::stop()</code> contradicts the documentation, so that would be a bug:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YVcD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVcD8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's a much simpler reproducer:</p>\n\n<pre><code>#include &lt;boost/asio.hpp&gt;\n#include &lt;thread&gt;\n#include &lt;iostream&gt;\nusing namespace std::chrono_literals;\n\nint main() {\n    boost::asio::io_service s;\n\n    s.post([] { std::this_thread::sleep_for(5ms); std::cout &lt;&lt; \"1\\n\"; });\n    s.post([] { std::this_thread::sleep_for(5ms); std::cout &lt;&lt; \"2\\n\"; });\n    s.post([] { std::this_thread::sleep_for(5ms); std::cout &lt;&lt; \"3\\n\"; });\n\n    std::thread th([&amp;] { s.run(); });\n\n    std::this_thread::sleep_for(1ms);\n    s.stop();\n\n    th.join();\n}\n</code></pre>\n\n<p>Which prints <code>1</code> on GCC and <code>1 2 3</code> on MSVC.</p>\n"}], "owner": {"reputation": 192, "user_id": 4999407, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e3f8bb510a9d4f6a9accc8e9d9b6d16?s=128&d=identicon&r=PG", "display_name": "eldruin", "link": "https://stackoverflow.com/users/4999407/eldruin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 1, "accepted_answer_id": 47733861, "answer_count": 1, "score": 3, "last_activity_date": 1513079297, "creation_date": 1512573262, "last_edit_date": 1512636518, "question_id": 47677592, "link": "https://stackoverflow.com/questions/47677592/difference-in-boostasioio-service-behaviour-between-gcc-and-msvc-cannot-can", "title": "Difference in boost::asio::io_service behaviour between GCC and MSVC: cannot cancel posted jobs", "body": "<p>When implementing a basic thread pool using <code>boost::asio::io_service</code>, I am observing some differences in how queued tasks are handled when stopping the <code>io_service</code>.</p>\n\n<p>On MSVC 14 (MS Visual Studio 2015), for some reason the queued tasks which were not started yet are not dropped when stopping the <code>io_service</code> but are run nonetheless. These tasks are dropped when running this on Ubuntu 16.04 (GCC 5.4.0).</p>\n\n<p>I have simplified and cleaned up the original tests and put them in a <a href=\"https://svn.boost.org/trac10/attachment/ticket/13317/ThreadPoolTests.cpp\" rel=\"nofollow noreferrer\">single file</a> (also listed below) which only depends on boost and uses some sleeps to demonstrate the problem. You can build it with the <a href=\"https://svn.boost.org/trac10/attachment/ticket/13317/CMakeLists.txt\" rel=\"nofollow noreferrer\"><code>CMakeLists.txt</code></a> (also listed below) if you wish or use the online compilers linked below.<br>\n<em>Notice that the thread pool uses only one worker thread so that the jobs are run sequentially.</em></p>\n\n<p>The output with GCC is as expected (<a href=\"https://wandbox.org/permlink/CY4onVi1ktxSzUGR\" rel=\"nofollow noreferrer\">Here on an online compiler</a>):</p>\n\n<pre><code> checkAllWorkIsProcessedBeforeDestruction  \n     passed.  \n     passed.  \n     passed.  \ncheckWorkCanBeCancelled\n     passed.\n     passed.\n     passed.\ncheckWorkCanBeInterrupted\n     passed.\n     passed.\n     passed.\ncheckUninterruptableWorkIsNotInterruptedButCanBeDropped\n     passed.\n     passed.\n     passed.\n     passed.\n</code></pre>\n\n<p>This is the output on MSVC 14 (Visual Studio 2015) (<a href=\"http://rextester.com/ZNHVP40490\" rel=\"nofollow noreferrer\">Here on an online VC++ compiler</a>):</p>\n\n<pre><code>checkAllWorkIsProcessedBeforeDestruction\n     passed.\n     passed.\n     passed.\ncheckWorkCanBeCancelled\n     Error: functor 1 call expected: false current: true\n     Error: functor 2 call expected: false current: true\n     Error: running time expected: 150 current: 402\ncheckWorkCanBeInterrupted\n     passed.\n     passed.\n     passed.\ncheckUninterruptableWorkIsNotInterruptedButCanBeDropped\n     passed.\n     Error: functor 2 call expected: false current: true\n     passed.\n     Error: running time expected: 250 current: 404\n</code></pre>\n\n<p><strong>Am I doing something wrong?</strong></p>\n\n<p>I have also filled a bug to boost but got no response so far: <a href=\"https://svn.boost.org/trac10/ticket/13317\" rel=\"nofollow noreferrer\">#13317</a></p>\n\n<hr>\n\n<p>Source code: <code>ThreadPoolTests.cpp</code>\n</p>\n\n<pre><code>// Copyright (c) 2017 Diego Barrios Romero &lt;eldruin@gmail.com&gt;\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;memory&gt;\n#include &lt;boost/asio.hpp&gt;\n#include &lt;boost/bind.hpp&gt;\n#include &lt;boost/thread.hpp&gt;\n#include &lt;boost/chrono.hpp&gt;\n\nclass ThreadPool\n{\npublic:\n  ThreadPool(const size_t threadCount = boost::thread::hardware_concurrency())\n    : work(new boost::asio::io_service::work(service))\n  {\n    for (size_t i = 0; i &lt; threadCount; ++i)\n    {\n      threads.create_thread(boost::bind(&amp;boost::asio::io_service::run, &amp;service));\n    }\n  }\n  template&lt;typename FunctionType&gt;\n  void post(FunctionType f)\n  {\n    service.post(f);\n  }\n\n  void interrupt()\n  {\n    threads.interrupt_all();\n  }\n\n  void cancel()\n  {\n    work.reset();\n    service.stop();\n  }\n\n  ~ThreadPool()\n  {\n    work.reset();\n    threads.join_all();\n  }\nprivate:\n  boost::asio::io_service service;\n  boost::thread_group threads;\n  std::unique_ptr&lt;boost::asio::io_service::work&gt; work;\n};\n\n\nstruct Functor\n{\n  void operator()()\n  {\n    boost::this_thread::sleep(boost::posix_time::milliseconds(200));\n    boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n    wasCalled_ = true;\n  }\n  bool wasCalled() const\n  {\n    boost::lock_guard&lt;boost::mutex&gt; lock(mutex);\n    return wasCalled_;\n  }\n\nprivate:\n  bool wasCalled_ = false;\n  mutable boost::mutex mutex;\n};\n\nstruct UninterruptableFunctor : public Functor\n{\n  void operator()()\n  {\n    boost::this_thread::disable_interruption disableInterruptions;\n    Functor::operator()();\n  }\n};\n\ntemplate&lt;typename F, typename T1, typename T2&gt;\nvoid check(F compare, T1 expected, T2 current, const std::string&amp; msg)\n{\n  if (compare(expected, current))\n  {\n    std::cout &lt;&lt; \"\\tpassed.\" &lt;&lt; std::endl;\n  }\n  else\n  {\n    std::cout &lt;&lt; std::boolalpha\n              &lt;&lt; \"\\tError: \" &lt;&lt; msg &lt;&lt; \" expected: \" &lt;&lt; expected\n              &lt;&lt; \" current: \" &lt;&lt; current &lt;&lt; std::endl;\n  }\n}\n\nstruct ThreadPoolTest\n{\n  boost::int_least64_t getRunningTimeInMS() const\n  {\n    auto executionTime = boost::chrono::high_resolution_clock::now() - start;\n    return boost::chrono::duration_cast&lt;boost::chrono::milliseconds&gt;(executionTime).count();    \n  }\n\n  template&lt;typename FunctorType, typename F&gt;\n  void runTest(F f, bool shouldFunctor1BeCalled, bool shouldFunctor2BeCalled)\n  {\n    FunctorType functor1, functor2;\n    {\n      ThreadPool pool(1);\n      pool.post(boost::bind(&amp;FunctorType::operator(), &amp;functor1));\n      pool.post(boost::bind(&amp;FunctorType::operator(), &amp;functor2));\n      f(pool);\n    }\n\n    auto eq = [](bool a, bool b) { return a == b; };\n    check(eq, shouldFunctor1BeCalled, functor1.wasCalled(), \"functor 1 call\");\n    check(eq, shouldFunctor2BeCalled, functor2.wasCalled(), \"functor 2 call\");\n  }\n\nprivate:\n  boost::chrono::high_resolution_clock::time_point start = boost::chrono::high_resolution_clock::now();\n};\n\nvoid doNothing(ThreadPool&amp;) { }\nvoid cancel(ThreadPool&amp; pool)\n{\n  pool.cancel();\n}\nvoid waitForStartThenInterruptThenCancel(ThreadPool&amp; pool)\n{\n  boost::this_thread::sleep(boost::posix_time::milliseconds(100));\n  pool.interrupt();\n  pool.cancel();\n}\n\nbool lessEq (const boost::int_least64_t a, const boost::int_least64_t b) { return a &lt;= b; }\nbool greaterEq (const boost::int_least64_t a, const boost::int_least64_t b) { return a &gt;= b; }\n\nvoid checkAllWorkIsProcessedBeforeDestruction()\n{\n  ThreadPoolTest test;\n  std::cout &lt;&lt; \"checkAllWorkIsProcessedBeforeDestruction\\n\";\n  test.runTest&lt;Functor&gt;(doNothing, true, true);\n  check(lessEq, 350, test.getRunningTimeInMS(), \"running time\");\n}\n\nvoid checkWorkCanBeCancelled()\n{\n  ThreadPoolTest test;\n  std::cout &lt;&lt; \"checkWorkCanBeCancelled\\n\";\n  test.runTest&lt;Functor&gt;(cancel, false, false);\n  check(greaterEq, 150, test.getRunningTimeInMS(), \"running time\");\n}\n\nvoid checkWorkCanBeInterrupted()\n{\n  ThreadPoolTest test;\n  std::cout &lt;&lt; \"checkWorkCanBeInterrupted\\n\";\n  test.runTest&lt;Functor&gt;(waitForStartThenInterruptThenCancel, false, false);\n  check(greaterEq, 150, test.getRunningTimeInMS(), \"running time\");\n}\n\nvoid checkUninterruptableWorkIsNotInterruptedButCanBeDropped()\n{\n  ThreadPoolTest test;\n  std::cout &lt;&lt; \"checkUninterruptableWorkIsNotInterruptedButCanBeDropped\\n\";\n  test.runTest&lt;UninterruptableFunctor&gt;(waitForStartThenInterruptThenCancel, true, false);\n  check(lessEq, 150, test.getRunningTimeInMS(), \"running time\");\n  check(greaterEq, 250, test.getRunningTimeInMS(), \"running time\");\n}\n\nint main(int, char*[])\n{\n  checkAllWorkIsProcessedBeforeDestruction();\n  checkWorkCanBeCancelled();\n  checkWorkCanBeInterrupted();\n  checkUninterruptableWorkIsNotInterruptedButCanBeDropped();\n}\n</code></pre>\n\n<p>Here the <code>CMakeLists.txt</code> for compilation ease.\n</p>\n\n<pre><code>cmake_minimum_required (VERSION 2.8.11)\nproject (ThreadPoolTests)\n\nset(CMAKE_CXX_STANDARD 11)\n\nfind_package(Boost COMPONENTS thread)\nif (Boost_FOUND)\n  include_directories(${Boost_INCLUDE_DIR})\nelse()\n  message(FATAL_ERROR \"No Boost found\")\nendif()\n\nadd_executable (ThreadPoolTests ThreadPoolTests.cpp)\ntarget_link_libraries(ThreadPoolTests ${Boost_LIBRARIES})\n</code></pre>\n\n<hr>\n\n<p>Again the question: <strong>Am I doing something wrong?</strong></p>\n"}, {"tags": ["c++", "boost", "shared-memory", "boost-interprocess"], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 2, "last_activity_date": 1512579336, "creation_date": 1512579336, "answer_id": 47679573, "question_id": 47677581, "link": "https://stackoverflow.com/questions/47677581/how-get-list-of-named-objects-in-boost-interprocess-shared-memory/47679573#47679573", "title": "How get list of named objects in boost interprocess shared memory", "body": "<p>These methods are part of the segment manager interface.</p>\n\n<blockquote>\n  <p>Beware of race conditions when using these directly. <code>find_or_construct</code> does something else than <code>find</code> and <code>construct</code> sequentially in a multi-process situation.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/3c602cf3ded2a531\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/interprocess/managed_mapped_file.hpp&gt;\n#include &lt;boost/interprocess/containers/vector.hpp&gt;\n#include &lt;iostream&gt;\nnamespace bip = boost::interprocess;\n\nusing Shared = bip::managed_mapped_file;\nusing Manager = Shared::segment_manager;\ntemplate &lt;typename T&gt; using Alloc = bip::allocator&lt;T, Manager&gt;;\ntemplate &lt;typename T&gt; using V = boost::container::vector&lt;T, Alloc&lt;T&gt; &gt;;\n\nint main() {\n    bip::managed_mapped_file mmf(bip::open_or_create, \"test.bin\", 10ull&lt;&lt;10);\n    auto* segment = mmf.get_segment_manager();\n\n    for (auto it = segment-&gt;named_begin(); it != segment-&gt;named_end(); ++it) {\n        std::cout &lt;&lt; \"before: \" &lt;&lt; std::string(it-&gt;name(), it-&gt;name_length()) &lt;&lt; \"\\n\";\n    }\n\n    for (auto next : { \"foo\", \"bar\", \"qux\" }) {\n        if (!mmf.find&lt;V&lt;int&gt; &gt;(next).first)\n        {\n            mmf.find_or_construct&lt;V&lt;int&gt; &gt;(next)(segment);\n            break;\n        }\n    }\n\n    for (auto it = segment-&gt;named_begin(); it != segment-&gt;named_end(); ++it) {\n        std::cout &lt;&lt; \"after:  \" &lt;&lt; std::string(it-&gt;name(), it-&gt;name_length()) &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Prints (first run):</p>\n\n<pre><code>after:  foo\n</code></pre>\n\n<p>Second run:</p>\n\n<pre><code>before: foo\nafter:  bar\nafter:  foo\n</code></pre>\n\n<p>Third run:</p>\n\n<pre><code>before: bar\nbefore: foo\nafter:  bar\nafter:  foo\nafter:  qux\n</code></pre>\n\n<p>Fourth (and later) run:</p>\n\n<pre><code>before: bar\nbefore: foo\nbefore: qux\nafter:  bar\nafter:  foo\nafter:  qux\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 2614242, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e8cb8b032bfc5e0bed3436356d24820?s=128&d=identicon&r=PG", "display_name": "user2614242", "link": "https://stackoverflow.com/users/2614242/user2614242"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1512579336, "creation_date": 1512573217, "last_edit_date": 1512573955, "question_id": 47677581, "link": "https://stackoverflow.com/questions/47677581/how-get-list-of-named-objects-in-boost-interprocess-shared-memory", "title": "How get list of named objects in boost interprocess shared memory", "body": "<p>According to guide on <a href=\"http://www.boost.org/doc/libs/1_65_1/doc/html/interprocess/quick_guide.html#interprocess.quick_guide.qg_interprocess_container\" rel=\"nofollow noreferrer\">Boost docs</a></p>\n\n<p>It is possible to create named vectors of some type (for instance double)</p>\n\n<pre><code>  using namespace boost::interprocess;\n  typedef allocator&lt;int, managed_shared_memory::segment_manager&gt;  ShmemAllocator;\n  managed_shared_memory segment(create_only, \"MySharedMemory\", 65536);\n\n  //Initialize shared memory STL-compatible allocator\n  const ShmemAllocator alloc_inst (segment.get_segment_manager());\n\n  //Construct a vector named \"values_A\" in shared memory with argument alloc_inst\n  MyVector *vA= segment.construct&lt;MyVector&gt;(\"values_A\")(alloc_inst);\n  MyVector *vB= segment.construct&lt;MyVector&gt;(\"values_B\")(alloc_inst);\n\n  for(int i = 0; i &lt; 100; ++i)  //Insert data in the vector\n     vA-&gt;push_back(i);\n</code></pre>\n\n<p>And then if client process knows the names of shared objects (\"<em>values_A</em>\" and \"<em>values_B</em>\") it is easy to access them.</p>\n\n<pre><code>  managed_shared_memory segment(open_only, \"MySharedMemory\");\n  MyVector *vA_client = segment.find&lt;MyVector&gt;(\"values_A\").first;\n  MyVector *vB_client = segment.find&lt;MyVector&gt;(\"values_B\").first;\n\n  //Use vector in reverse order\n  std::sort(vA_client-&gt;rbegin(), vA_client-&gt;rend());\n</code></pre>\n\n<p>But if client doesn't know the names of those objects?</p>\n\n<p>How to get list of those objects? {\"<em>values_A</em>\" , \"<em>values_B</em>\"}.</p>\n\n<p>If there was some objects of other type (\"<em>MyVector2</em>\") registered (named \"<em>intA</em>\", \"<em>intB</em>\") - How would you filter only those, whose type is <em>MyVector</em>?</p>\n\n<p>I have a suspicion that it has to do with method <em>named_begin</em> and <em>named_end</em> but I don't know how to use it.</p>\n\n<p>Thank You for your help :)</p>\n"}, {"tags": ["c++", "vector", "struct", "operator-overloading"], "comments": [{"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1512573356, "post_id": 47677574, "comment_id": 82314224, "body": "Have you tried reading the compiler errors?"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1512574454, "post_id": 47677574, "comment_id": 82314941, "body": "I fixed the compiler errors and the (presumably) typos, and it worked on my machine.  Well, I assume it worked as intended to be working."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 1, "creation_date": 1512574461, "post_id": 47677574, "comment_id": 82314947, "body": "Item in elements is a problem it should be <code>for(auto item : elements-&gt;keys)</code>"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "reply_to_user": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512574620, "post_id": 47677574, "comment_id": 82315080, "body": "@JakeFreeman \u2022 elements is a pointer, so <code>for (auto item : elements-&gt;keys)</code>."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1512574670, "post_id": 47677574, "comment_id": 82315113, "body": "@Eljay fixed you are right, did not notice that"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 8945252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd86e72a7d12c9b1a15e47da7e864bf2?s=128&d=identicon&r=PG&f=1", "display_name": "Light", "link": "https://stackoverflow.com/users/8945252/light"}, "is_accepted": false, "score": 1, "last_activity_date": 1512574627, "creation_date": 1512574627, "answer_id": 47678031, "question_id": 47677574, "link": "https://stackoverflow.com/questions/47677574/overload-operator-for-a-vector-struct-of-pointer/47678031#47678031", "title": "Overload operator&lt;&lt; for a vector struct of pointer?", "body": "<p>There are a lot of things that are wrong in your operator&lt;&lt;.</p>\n\n<p>First, your return type should be std::ostream&amp; thus you must return stream. In your second loop :</p>\n\n<pre><code>    for(auto item : elements)\n</code></pre>\n\n<p><em>elements</em> is a pointer of element (the value type of your vector) so you can't iterate other it, you might want to iterate other <em>elements->keys</em></p>\n\n<p>Here is your fixed function :</p>\n\n<pre><code>inline std::ostream&amp; operator&lt;&lt; (std::ostream &amp;stream, const  std::vector&lt;element*&gt; _element)\n{\n    for (auto elements: _element)\n        for(auto item : elements-&gt;keys)\n            stream &lt;&lt; item &lt;&lt; \" \";\n    return stream;\n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/qNYVx2yMg7L76NWe\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/qNYVx2yMg7L76NWe</a></p>\n"}, {"tags": [], "owner": {"reputation": 2564, "user_id": 2754510, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OMF8A.jpg?s=128&g=1", "display_name": "Constantinos Glynos", "link": "https://stackoverflow.com/users/2754510/constantinos-glynos"}, "is_accepted": false, "score": 1, "last_activity_date": 1512575713, "last_edit_date": 1512575713, "creation_date": 1512575382, "answer_id": 47678316, "question_id": 47677574, "link": "https://stackoverflow.com/questions/47677574/overload-operator-for-a-vector-struct-of-pointer/47678316#47678316", "title": "Overload operator&lt;&lt; for a vector struct of pointer?", "body": "<p>There are quite a few things you can do to fix your code example - <strong>better naming conventions</strong> would be an important start.</p>\n\n<p>The reason your code doesn't work is because of your operator &lt;&lt; function. The following will work:</p>\n\n<pre><code>std::ostream&amp; operator &lt;&lt; (std::ostream &amp;stream, std::vector&lt;element*&gt; _elements)\n{\n    for (auto element : _elements)\n    {\n        for(auto item : element-&gt;keys)\n        {\n            stream &lt;&lt; item &lt;&lt; \" \";\n        }\n    }\n    return stream;\n}\n</code></pre>\n\n<p>Your working example: <a href=\"https://wandbox.org/permlink/FVXbLlXEAJpVbfAx\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/FVXbLlXEAJpVbfAx</a></p>\n\n<p><em>Furthermore:</em></p>\n\n<ul>\n<li>Refactor your code - better variable names.</li>\n<li>Try to use the member initialisation list in the element constructor.\nAnd might be worth changing the ctor params to const &amp;.</li>\n<li>operator &lt;&lt; should return a std::ostream&amp;. </li>\n<li>remove the inline keyword</li>\n<li>in the <code>operators &lt;&lt;</code> param list, you can remove the <code>const</code> from the <code>std::vector&lt;element*&gt;</code> since it is a copy of a vector that contains non-const pointers.</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 9062423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152c109ddb43dc2843d8652a483f1491?s=128&d=identicon&r=PG&f=1", "display_name": "nano", "link": "https://stackoverflow.com/users/9062423/nano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1512579364, "creation_date": 1512573200, "last_edit_date": 1512579364, "question_id": 47677574, "link": "https://stackoverflow.com/questions/47677574/overload-operator-for-a-vector-struct-of-pointer", "title": "Overload operator&lt;&lt; for a vector struct of pointer?", "body": "<p>I am currently trying to make a <code>overload operator&lt;&lt;</code>  to my  vector of structs, such that I will print the content of the vector in a matrix format.. </p>\n\n<p>this is what I've tried so far</p>\n\n<pre><code>// This file is a \"Hello, world!\" in C++ language by GCC for wandbox.\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nstruct element\n{\n    std::vector&lt;int&gt; keys;\n    std::string item;\n\n    element(std::vector &lt;int&gt; key, std::string item)\n    {\n        keys = key;\n        this-&gt;item = item;        \n    }\n\n};\n\n\ninline std::stream operator &lt;&lt; (std::ostream &amp;stream, const std::vector&lt;element*&gt; _element)\n{\n    for (auto elements: _element)\n    {\n        for(auto item : elements)\n        {\n            std::stream &lt;&lt; item.key &lt;&lt; \" \"\n        }\n    }\n\n}\n\n\nint main()\n{\n    std::cout &lt;&lt; \"Hello, Wandbox!\" &lt;&lt; std::endl;\n    std::vector&lt;element&gt; storage;\n    std::vector&lt;int&gt; test(10);\n    std::generate(test.begin(), test.end(), []() {\n    return rand() % 100;\n});\n    std::string name = \"test\";\n    storage.push_back(element(test,name));\n    std::generate(test.begin(), test.end(), []() {\n    return rand() % 100;\n});\n    storage.push_back(element(test,name));\n    std::generate(test.begin(), test.end(), []() {\n    return rand() % 100;\n});\n    storage.push_back(element(test,name));\n\n    std::vector&lt;element*&gt; copy_of_storage;\n    for(auto elements: storage)\n    {\n        copy_of_storage.push_back(&amp;(elements));\n    }\n\n\n    std::cout &lt;&lt; copy_of_storage &lt;&lt; std::endl; \n\n}\n</code></pre>\n\n<p>but for some reason it is not working, and can't seem to understand what is going wrong?</p>\n\n<p><a href=\"https://wandbox.org/permlink/BQpqmz0HwoXgyS7t\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/BQpqmz0HwoXgyS7t</a></p>\n\n\n\n\n\n\n\n\n"}, {"tags": ["c++", "constructor", "setter", "composition"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6393999"}, "edited": false, "score": 0, "creation_date": 1512574747, "post_id": 47677898, "comment_id": 82315161, "body": "Thank you. I have that constructor. My problem is that later on i want my object to be imputed from the console and checked for errors, i don&#39;t want it to be static.Sorry if i&#39;m not making any sense."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512575520, "post_id": 47677898, "comment_id": 82315706, "body": "Maybe you want a factory generator function. Let me add that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6393999"}, "edited": false, "score": 0, "creation_date": 1512576340, "post_id": 47677898, "comment_id": 82316310, "body": "Thank you for your time!"}], "tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": true, "score": 1, "last_activity_date": 1512576417, "last_edit_date": 1512576417, "creation_date": 1512574183, "answer_id": 47677898, "question_id": 47677570, "link": "https://stackoverflow.com/questions/47677570/c-composition-constructor/47677898#47677898", "title": "C++ Composition Constructor", "body": "<p>Your constructor RouteTaxi() is a default constructor. It must create a valid object without any of those, so you would have to have acceptable default values.</p>\n\n<p>There's no good way to make a default route, unless you have a \"nowhere\" route with a \"nocar\" car, so you can instead require those arguments in the constructor, as in this example:</p>\n\n<pre><code>#include&lt;string&gt;\nusing std::string;\n\nclass Car {\npublic:\n    Car(string cbrand, string cmodel, int cyears, int cseatingCapacity, double cloadCapacity, double cfuelConsumption){}\n};\n\nclass Route {\npublic:\n    Route(string rnodes, double rrouteLength, int rtoursPerDay){}\n};\n\nclass RouteTaxi\n{\nprivate:\n    int id;\npublic:\n    Car car;\n    Route route;\n    RouteTaxi(string cbrand, string cmodel, int cyears, int\n        cseatingCapacity, double cloadCapacity, double cfuelConsumption,\n        string rnodes, double rrouteLength, int rtoursPerDay, int i)\n        : car(cbrand, cmodel, cyears, cseatingCapacity, cloadCapacity, cfuelConsumption),\n          route(rnodes, rrouteLength, rtoursPerDay),\n          id(i)\n    {}\n    static RouteTaxi generate_from_console_input();\n};\n\n// this is a factory function (class static member of RouteTaxi)\nRouteTaxi RouteTaxi::generate_from_console_input() {\n    // input from console\n    string cbrand, cmodel, rnodes;\n    int cyears, cseatingCapacity, rtoursPerDay, i;\n    double cloadCapacity, cfuelConsuption, rrouteLength;\n\n    // return the object\n    // this is an error, using uninitialized data, simply because I am not actually getting the data from the console. You will do that, so it will not be a problem.\n    return RouteTaxi(cbrand, cmodel, cyears, cseatingCapacity, cloadCapacity, cfuelConsuption, rnodes, rrouteLength, rtoursPerDay, i);\n}\n</code></pre>\n\n<p>Note the colon and initializer list which the constructor uses to initialize other objects before it executes its own constructor body. <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/initializer_list</a></p>\n\n<p>The factory generator is another way to create objects. You need all the info before you call the actual constructor, so ... write a function which gets it, before you actually call the constructor.</p>\n\n<p>This is a well known design pattern. See <a href=\"https://en.wikipedia.org/wiki/Creational_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Creational_pattern</a>. Although those go into a lot more detail. You are not dealing with a lot of different types of RouteTaxi and subclasses.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6393999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2166, "favorite_count": 0, "accepted_answer_id": 47677898, "answer_count": 1, "score": 0, "last_activity_date": 1512576417, "creation_date": 1512573187, "last_edit_date": 1512574038, "question_id": 47677570, "link": "https://stackoverflow.com/questions/47677570/c-composition-constructor", "title": "C++ Composition Constructor", "body": "<p>So I've got a program with classes Car, Route and Taxi. I'm using composition in order to obtain the data from the classes Car and Route. Each class needs to be able to enter data on it's own and the data entered to be checked. I'm having difficulties with how to make the constructor of the Taxi class the way that he uses and checks the data with the get/set methods of the classes Car and Route.\nHow to access the parameters in the <code>setRouteTaxidata</code> method?</p>\n\n<p>Any suggestions?</p>\n\n<pre><code>class RouteTaxi {\n    private:\n        int id;\n    public:\n        Car car;\n        Route route;    \n        RouteTaxi();\n        ~RouteTaxi();\n        void setRouteTaxidata(string cbrand, string cmodel, int cyears, int cseatingCapacity, double cloadCapacity, double cfuelConsumption,string rnodes, double rrouteLength, int rtoursPerDay, int i);\n\n\n};\n\nRouteTaxi::RouteTaxi(){\n    setRouteTaxidata(??)   ??????\n}\n\nvoid RouteTaxi::setRouteTaxidata(string cbrand, string cmodel, int cyears, int cseatingCapacity, double cloadCapacity, double cfuelConsumption, string rnodes, double rrouteLength, int rtoursPerDay, int i){\n    car.setBrand(cbrand);\n\n}\n</code></pre>\n"}, {"tags": ["c#", "c++", "c", "wpf", "dllimport"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1512573451, "post_id": 47677569, "comment_id": 82314292, "body": "<code>StringBuilder</code> maps to <code>char*</code>. <code>byte[]</code> maps to <code>unsigned char*</code>. If you use <code>StringBuilder</code> then the caller should null terminate the string. But this doesn&#39;t look like text data at all. Your error is probably just that <code>MyVal</code> has not been initialised correctly. Where is the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? And why don&#39;t you do some debugging?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1512574976, "post_id": 47677569, "comment_id": 82315334, "body": "Having two distinct processes use the same DLL and getting them to share <i>data</i> is a very untrivial programming technique.  It requires #pragma section or a memory-mapped file.  Such a vehicle <i>always</i> requires some kind of synchronization to ensure that the data is valid and not actively being written.  Very important details, nothing like that is visible in the snippet.  So is likely missing, random failure is expected when MyVal was never initialized.  If you don&#39;t yet know how to debug native code that is called by [DllImport] then pursue that instead."}], "owner": {"reputation": 1, "user_id": 6463240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84e2bd92f2d91a2268cac0857fbd714?s=128&d=identicon&r=PG&f=1", "display_name": "Devyesh Tandon", "link": "https://stackoverflow.com/users/6463240/devyesh-tandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512574491, "creation_date": 1512573184, "last_edit_date": 1512574491, "question_id": 47677569, "link": "https://stackoverflow.com/questions/47677569/system-accessviolationexception-in-wpf-dllimport-and-unsigned-char", "title": "&#39;System.AccessViolationException&#39; in WPF; DLLImport and unsigned char*", "body": "<p>I am trying to import a DLL written in C. The definition of the function is:</p>\n\n<pre><code>__declspec(dllexport) double GetData(unsigned char *Buffer, int l)\n{\n    int i;\n    for (i= 0; i&lt;l; i++)\n    {\n        Buffer[i] = MyVal[i];  //MyVal is a global Variable, updated by differnt process\n    }\n    return 3.14;\n}\n</code></pre>\n\n<p>The counter function used in C# to import this DLL is:</p>\n\n<pre><code>[DllImportAttribute(DLLLocation, CallingConvention = CallingConvention.Cdecl)]\npublic static extern double GetData(StringBuilder buffer, int l);\n</code></pre>\n\n<p>which is called using,</p>\n\n<pre><code>int l = 8;\nStringBuilder buffer = new StringBuilder(8) ;\ndouble t = GetData(buffer, l);\nstring S = buffer.ToString()\n</code></pre>\n\n<p>But when I run thiscode, I get an error, </p>\n\n<pre><code>An unhandled exception of type 'System.AccessViolationException' occurred in\nTestCode.exe\n\nAdditional information: Attempted to read or write protected memory. This is \noften an indication that other memory is corrupt.\n</code></pre>\n\n<p>PS: There are two processes that are using the same DLL. <code>MyVal</code> is getting updated by one process and the other process (<code>WPF</code>) is trying to get that. </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c++", "sorting", "c++11", "vector", "lambda"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1512572421, "post_id": 47677263, "comment_id": 82313506, "body": "<code>&amp;t1-A.data()</code> that does not look like it should be used to index into a vector"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512572620, "post_id": 47677263, "comment_id": 82313678, "body": "you know that <code>&amp;t1</code> is a memory address?"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512572644, "post_id": 47677263, "comment_id": 82313700, "body": "@tobi303 it makes sense to find what element t1 is."}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512572692, "post_id": 47677263, "comment_id": 82313726, "body": "@tobi303 <code>std::vector::data</code> returns a pointer to a <code>std::vector</code> s internal buffer."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512572727, "post_id": 47677263, "comment_id": 82313757, "body": "@JakeFreeman I dont understand what you mean"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1512572740, "post_id": 47677263, "comment_id": 82313767, "body": "@George that doesnt make this way of indexing less wrong, does it?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 5, "creation_date": 1512572782, "post_id": 47677263, "comment_id": 82313798, "body": "You&#39;re not taking into account that elements can move around during the sort."}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1512572845, "post_id": 47677263, "comment_id": 82313841, "body": "@tobi303 It doesn&#39;t, I just didn&#39;t understand why/how &quot;you know that &amp;t1 is a memory address?&quot; is relevant? :)"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1512572935, "post_id": 47677263, "comment_id": 82313919, "body": "What is the real goal?  Is it to sort a vector of indices into the <code>A</code> vector without having to actually sort the <code>A</code> vector?  If so, the approach is incorrect."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1512572952, "post_id": 47677263, "comment_id": 82313933, "body": "@George yes, actually it took me a minute to realize that <code>&amp;t1 - A.data()</code> can result in a valid index, but still it is as obfuscated as it can get imho"}, {"owner": {"reputation": 5353, "user_id": 1128551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b2e64745ac36bf554b976e3625a4ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Shibli", "link": "https://stackoverflow.com/users/1128551/shibli"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512573612, "post_id": 47677263, "comment_id": 82314409, "body": "@PaulMcKenzie I want to sort <code>B</code> and then order the elements of <code>A</code> accordingly. But mainly I would like to know why I get segmentation fault."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512587309, "post_id": 47677263, "comment_id": 82322505, "body": "@Shibli -- <i>I would like to know why I get segmentation fault.</i> -- What if you printed out the value of <code>&amp;t1 - A.data()</code>?  Does that value equate to a valid index into the <code>B</code> array?  <a href=\"http://coliru.stacked-crooked.com/a/462ee4b63ffd58da\" rel=\"nofollow noreferrer\">Look at this example</a>. Basically all it took was a simple <code>cout</code> to see right away this would not have worked.  Again, if your goal is to have <code>B</code> to act as an index array into <code>A</code>, then the links provided in the comments shows how to do this."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512587659, "post_id": 47677263, "comment_id": 82322697, "body": "@Shibli -- <a href=\"http://coliru.stacked-crooked.com/a/8516060e6cdd115a\" rel=\"nofollow noreferrer\">Here is proof of the crash, using <code>at()</code></a>.  So that answers your question -- the array index is out of bounds, way, way, out of bounds,."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512588152, "post_id": 47677263, "comment_id": 82322994, "body": "@Shibli -- <a href=\"http://coliru.stacked-crooked.com/a/dbc26f8125074e11\" rel=\"nofollow noreferrer\">Is this what you&#39;re really trying to accomplish</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 2727, "user_id": 5356349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XBZSd.jpg?s=128&g=1", "display_name": "Albin Paul", "link": "https://stackoverflow.com/users/5356349/albin-paul"}, "edited": false, "score": 0, "creation_date": 1512573323, "post_id": 47677576, "comment_id": 82314200, "body": "this method increases the sort runtime to <code>O(n^2 logn)</code>"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 2727, "user_id": 5356349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XBZSd.jpg?s=128&g=1", "display_name": "Albin Paul", "link": "https://stackoverflow.com/users/5356349/albin-paul"}, "edited": false, "score": 0, "creation_date": 1512573412, "post_id": 47677576, "comment_id": 82314251, "body": "@AlbinPaul I don&#39;t think runtime is an issue here but I will optimize it."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1512573484, "post_id": 47677576, "comment_id": 82314322, "body": "This looks like it turns <code>std::sort</code> into an <code>O(n^2)</code> time complexity from a logarithmic one.  Imagine if <code>A</code> had 1000 elements."}, {"owner": {"reputation": 5353, "user_id": 1128551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b2e64745ac36bf554b976e3625a4ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Shibli", "link": "https://stackoverflow.com/users/1128551/shibli"}, "edited": false, "score": 0, "creation_date": 1512573790, "post_id": 47677576, "comment_id": 82314516, "body": "I would like to know why my method fails."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512573794, "post_id": 47677576, "comment_id": 82314520, "body": "FYI, the output is incorrect in different cases. For example, an input of <code>b a c</code> and <code>3 2 1</code> <a href=\"https://wandbox.org/permlink/PUGBqo9cQjrujijf\" rel=\"nofollow noreferrer\">gives me</a> an output of <code>b c a</code> with GCC. Adding <code>-O2</code> to that causes a segfault."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512574225, "post_id": 47677576, "comment_id": 82314792, "body": "You should get <code>b c a</code>. Adding <code>-02</code>?"}], "tags": [], "owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1512573206, "creation_date": 1512573206, "answer_id": 47677576, "question_id": 47677263, "link": "https://stackoverflow.com/questions/47677263/sort-a-vector-with-another-vector-using-lambda-function/47677576#47677576", "title": "Sort a vector with another vector using lambda function", "body": "<p>Rather than doing your way to get the index a simple way to do it.</p>\n\n<pre><code>std::sort(std::begin(A), std::end(A),\n        [&amp;](const std::string&amp; t1, const std::string&amp; t2)\n        {\n          int index1, index2;\n          for(int i = 0; i&lt;A.size(); i++) {\n            if(&amp;A[i] == &amp;t1) index1 = i;\n            if(&amp;A[i] == &amp;t2) index2 = i;\n          }\n        return B[index1] &gt; B[index2];\n        });\n</code></pre>\n\n<p>This way is safe and ensures that it gets the right index. After testing it the output is <code>C \\n B \\n A</code> which is what I think you want.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 5353, "user_id": 1128551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b2e64745ac36bf554b976e3625a4ba0?s=128&d=identicon&r=PG&f=1", "display_name": "Shibli", "link": "https://stackoverflow.com/users/1128551/shibli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "closed_date": 1512588748, "answer_count": 1, "score": 0, "last_activity_date": 1512573206, "creation_date": 1512572256, "question_id": 47677263, "link": "https://stackoverflow.com/questions/47677263/sort-a-vector-with-another-vector-using-lambda-function", "closed_reason": "Duplicate", "title": "Sort a vector with another vector using lambda function", "body": "<p>In the code below, I get segmentation fault. I think the problem is with indexing but I don't understand why. Is it possible to use <code>std::sort</code> and lambda function to sort a vector based on another vector?</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#include&lt;vector&gt;\n#include&lt;string&gt;\n\nint main()\n{\n    std::vector&lt;std::string&gt; A = {\"b\", \"a\", \"c\"};\n    std::vector&lt;int&gt; B = {2, 1, 3};\n\n    std::sort(std::begin(A), std::end(A),\n            [&amp;](const std::string&amp; t1, const std::string&amp; t2)\n            {\n            return B[&amp;t1-A.data()] &gt; B[&amp;t2-A.data()]; // problem could be here!\n            });\n\n    std::cout &lt;&lt; A[0] &lt;&lt; std::endl;\n    std::cout &lt;&lt; A[1] &lt;&lt; std::endl;\n    std::cout &lt;&lt; A[2] &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "memory", "smart-pointers"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1512572619, "post_id": 47677253, "comment_id": 82313676, "body": "You&#39;re right; there&#39;s no apparent reason to use pointers here."}], "answers": [{"comments": [{"owner": {"reputation": 1015, "user_id": 6391764, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ae6eb3e43b8792b2ce6fa3743e01a750?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre P.", "link": "https://stackoverflow.com/users/6391764/pierre-p"}, "edited": false, "score": 0, "creation_date": 1512575837, "post_id": 47677550, "comment_id": 82315921, "body": "Thanks for your answer. But aren&#39;t <code>initializer_list</code> required to avoid unnecessary call to default constructors?"}, {"owner": {"reputation": 1015, "user_id": 6391764, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ae6eb3e43b8792b2ce6fa3743e01a750?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre P.", "link": "https://stackoverflow.com/users/6391764/pierre-p"}, "edited": false, "score": 0, "creation_date": 1512576169, "post_id": 47677550, "comment_id": 82316191, "body": "EDIT : Sorry, I&#39;ve confused it with member initialisation list"}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 1, "last_activity_date": 1512573141, "creation_date": 1512573141, "answer_id": 47677550, "question_id": 47677253, "link": "https://stackoverflow.com/questions/47677253/instantiate-a-class-collection-member-with-unique-ptr/47677550#47677550", "title": "Instantiate a class collection member with unique_ptr", "body": "<p>The following code</p>\n\n<pre><code>cells_({std::make_unique&lt;SnakeCell&gt;(x, y)})\n</code></pre>\n\n<p>invokes this constructor</p>\n\n<blockquote>\n<pre><code>deque( std::initializer_list&lt;T&gt; init, \n       const Allocator&amp; alloc = Allocator() );\n</code></pre>\n  \n  <p><a href=\"http://en.cppreference.com/w/cpp/container/deque/deque\" rel=\"nofollow noreferrer\">from cppreference</a></p>\n</blockquote>\n\n<hr>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/utility/initializer_list\" rel=\"nofollow noreferrer\"><code>std::initializer_list&lt;T&gt;</code></a> is a <code>const T[]</code> under the hood. <code>const</code> object cannot be moved - explaining the error you're getting.</p>\n\n<p>Possible fix:</p>\n\n<pre><code>Snake(size_t x, size_t y) \n{\n    cells_.emplace_back(std::make_unique&lt;SnakeCell&gt;(x, y));\n}\n</code></pre>\n\n<p><br>\n<br></p>\n\n<p><em>I hate <code>initializer_list</code>...</em></p>\n"}], "owner": {"reputation": 1015, "user_id": 6391764, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ae6eb3e43b8792b2ce6fa3743e01a750?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre P.", "link": "https://stackoverflow.com/users/6391764/pierre-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512573141, "creation_date": 1512572212, "question_id": 47677253, "link": "https://stackoverflow.com/questions/47677253/instantiate-a-class-collection-member-with-unique-ptr", "title": "Instantiate a class collection member with unique_ptr", "body": "<p>I have a <code>Snake</code> class which is composed of several <code>SnakeCell</code></p>\n\n<pre><code>struct SnakeCell\n{\n    SnakeCell(size_t x, size_t y) : origin_(x, y) {}\n\n    std::pair&lt;size_t, size_t&gt; origin_;\n\n};\n\nclass Snake\n{\npublic:\n    Snake(size_t x, size_t y ) : cells_({std::make_unique&lt;SnakeCell&gt;(x, y)}) {}\n\n\nprivate:\n    std::deque&lt;std::unique_ptr&lt;SnakeCell&gt;&gt; cells_;\n\n};\n</code></pre>\n\n<p>A <code>Snake</code> is initially created with one <code>SnakeCell</code>. </p>\n\n<p><em>Why using a pointer for snake cells?</em> \nCells will often be modified, e.g. their x and y components. It make sense to modify them directly when it happens rather than creating a copy and reinitialising the entire <code>cells_</code> deque. </p>\n\n<p><em>Why using a unique_ptr</em> \nThat's where I am not sure if it's the right kind of pointer to use. The original idea was to make sure that every cells are deleted from a memory perspective when the snake itself is deleted. From a design perspective, a <code>Snake</code> object would be the <strong>only one</strong> that manages its <code>cells</code> so it makes sense to use a <code>unique_ptr</code> rather than a <code>shared_ptr</code> but <strong>I think this is where my understanding of smart pointers is incorrect.</strong></p>\n\n<p>Anyway, the compiler complains when using unique_ptr </p>\n\n<p><code>Call to implicitly-deleted copy constructor of 'std::__1::unique_ptr&lt;SnakeCell, std::__1::default_delete&lt;SnakeCell&gt; &gt;'</code> </p>\n\n<p>Thanks for your help, </p>\n"}, {"tags": ["c++", "linux", "makefile"], "comments": [{"owner": {"reputation": 46978, "user_id": 856199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CPtki.png?s=128&g=1", "display_name": "Nikos C.", "link": "https://stackoverflow.com/users/856199/nikos-c"}, "edited": false, "score": 1, "creation_date": 1512571648, "post_id": 47676961, "comment_id": 82312934, "body": "It sounds a bit like you downloaded libraries for the wrong architecture. Perhaps a 32-bit vs 64-bit issue?"}, {"owner": {"reputation": 41, "user_id": 5841809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08f1287706fbc5e2a06e00a4a588c930?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5841809/ryan"}, "reply_to_user": {"reputation": 46978, "user_id": 856199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CPtki.png?s=128&g=1", "display_name": "Nikos C.", "link": "https://stackoverflow.com/users/856199/nikos-c"}, "edited": false, "score": 0, "creation_date": 1512576783, "post_id": 47676961, "comment_id": 82316601, "body": "Thank you for replying, Yes this is the problem I checked the library that i took it was 32 bit .. not 64. However i would like to know how did you find out ?"}, {"owner": {"reputation": 46978, "user_id": 856199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CPtki.png?s=128&g=1", "display_name": "Nikos C.", "link": "https://stackoverflow.com/users/856199/nikos-c"}, "edited": false, "score": 0, "creation_date": 1512577100, "post_id": 47676961, "comment_id": 82316822, "body": "OK, made this into an actual answer. The error message seemed very familiar. I think at some point I did the same mistake, but wasn&#39;t 100% sure."}, {"owner": {"reputation": 41, "user_id": 5841809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08f1287706fbc5e2a06e00a4a588c930?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5841809/ryan"}, "reply_to_user": {"reputation": 46978, "user_id": 856199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CPtki.png?s=128&g=1", "display_name": "Nikos C.", "link": "https://stackoverflow.com/users/856199/nikos-c"}, "edited": false, "score": 0, "creation_date": 1512580411, "post_id": 47676961, "comment_id": 82318946, "body": "OK thank you very much"}], "answers": [{"tags": [], "owner": {"reputation": 46978, "user_id": 856199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CPtki.png?s=128&g=1", "display_name": "Nikos C.", "link": "https://stackoverflow.com/users/856199/nikos-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1512576990, "creation_date": 1512576990, "answer_id": 47678843, "question_id": 47676961, "link": "https://stackoverflow.com/questions/47676961/compile-a-c-program-on-pc-to-communicate-with-dji-phantom-4-pro/47678843#47678843", "title": "Compile a c++ program on PC to communicate with DJI phantom 4 pro", "body": "<p>You seem to have downloaded library files for the wrong architecture. If you're on a 64-bit system, download the 64-bit version of the libraries.</p>\n"}], "owner": {"reputation": 41, "user_id": 5841809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08f1287706fbc5e2a06e00a4a588c930?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5841809/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 1, "accepted_answer_id": 47678843, "answer_count": 1, "score": 2, "last_activity_date": 1512576990, "creation_date": 1512571386, "question_id": 47676961, "link": "https://stackoverflow.com/questions/47676961/compile-a-c-program-on-pc-to-communicate-with-dji-phantom-4-pro", "title": "Compile a c++ program on PC to communicate with DJI phantom 4 pro", "body": "<p>I am trying to receive on my PC(linux mint), a streaming from the camera of a DJI phantom 4 using OpenCV.\nThe example I am following is : <a href=\"https://developer.dji.com/guidance-sdk/documentation/tutorials/index.html\" rel=\"nofollow noreferrer\">https://developer.dji.com/guidance-sdk/documentation/tutorials/index.html</a>  (I am following the linux part)\nI copied the Copy libDJI_guidance.so in /usr/local/lib and I checked, it is there.\nThe makefile is :</p>\n\n<pre><code>#define a compiler\nCXX     = g++\n#define target name\nTARGET  = main\n#define dependencies of target \nOBJECTS = main.o DJI_utility.o\n#define the Include and Library path\nCFLAGS  = -g -Wall -I/usr/local/include -I../../../include\nLDFLAGS = -Wl,-rpath,./ -lpthread -lrt -L./ -L/usr/local/lib/ -lDJI_guidance -lusb-1.0 `pkg-config --cflags --libs opencv` \n\n$(TARGET) : $(OBJECTS)\n    $(CXX) -o $(TARGET) $(OBJECTS) $(LDFLAGS)\nmain.o : main.cpp DJI_utility.h\n    $(CXX) $(CFLAGS) -c main.cpp DJI_utility.h\nDJI_utility.o : DJI_utility.cpp DJI_utility.h\n    $(CXX) $(CFLAGS) -c DJI_utility.cpp DJI_utility.h\nclean:\n    rm -rf *.o *.gch *.avi $(TARGET)\n</code></pre>\n\n<p>But when i excute a make in the command line i get: </p>\n\n<pre><code>g++ -o main main.o DJI_utility.o -Wl,-rpath,./ -lpthread -lrt -L./ -L/usr/local/lib/ -lDJI_guidance -lusb-1.0 `pkg-config --cflags --libs opencv` \n/usr/bin/ld: skipping incompatible /usr/local/lib//libDJI_guidance.so when searching for -lDJI_guidance\n/usr/bin/ld: skipping incompatible /usr/local/lib/libDJI_guidance.so when searching for -lDJI_guidance\n/usr/bin/ld: skipping incompatible //usr/local/lib/libDJI_guidance.so when searching for -lDJI_guidance\n/usr/bin/ld: cannot find -lDJI_guidance\n/usr/bin/ld: cannot find -lusb-1.0\ncollect2: error: ld returned 1 exit status\nMakefile:12: recipe for target 'main' failed\nmake: *** [main] Error 1\n</code></pre>\n\n<p>The project is located in:</p>\n\n<pre><code> ~/Documents/studies_SRT/SRT5/TX_drone/Guidance-SDK/demo/guidance_track\n</code></pre>\n\n<p>The output of an ls is:\nDJI_guidance.h  DJI_utility.cpp  DJI_utility.h  DJI_utility.h.gch  DJI_utility.o  main.cpp  main.o  Makefile</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "c++", "dllimport"], "comments": [{"owner": {"reputation": 2120, "user_id": 3110695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSZkk.jpg?s=128&g=1", "display_name": "FortyTwo", "link": "https://stackoverflow.com/users/3110695/fortytwo"}, "edited": false, "score": 0, "creation_date": 1512571149, "post_id": 47676854, "comment_id": 82312581, "body": "Where are you assigning values to the array in your C# method?"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1512571383, "post_id": 47676854, "comment_id": 82312755, "body": "Never use the assignment operator on the parameter"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 3, "creation_date": 1512571931, "post_id": 47676854, "comment_id": 82313121, "body": "<code>result</code> is passed by value. Therefore it is pointless assigning to it. Your problems begin way before there is any C# code. Your C++ function is currently of no use whatsoever. You are getting ahead of yourself. Make sure your C++ code works before you try to call it from C++. And there&#39;s no need for unsafe code here."}, {"owner": {"reputation": 7872, "user_id": 7841, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/3KsHr.png?s=128&g=1", "display_name": "Leonardo Herrera", "link": "https://stackoverflow.com/users/7841/leonardo-herrera"}, "edited": false, "score": 0, "creation_date": 1512571971, "post_id": 47676854, "comment_id": 82313159, "body": "If you can add a hint about the array size (and fix your C++ code as David pointed out), you can use the solution provided <a href=\"https://stackoverflow.com/a/3221566/7841\">in this answer</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1512571572, "post_id": 47676943, "comment_id": 82312882, "body": "I think the actual flaw in OP&#39;s thinking is that <code>result = array;</code> would assign (copy?) this array back to C#"}, {"owner": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "edited": false, "score": 0, "creation_date": 1512571608, "post_id": 47676943, "comment_id": 82312909, "body": "Because I like to copy array data to result. What you meant to write the array i got. I don&#39;t get it."}, {"owner": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "edited": false, "score": 0, "creation_date": 1512571855, "post_id": 47676943, "comment_id": 82313063, "body": "Actually I used  float *array as a simple example. That array is already there for some reason and I can&#39;t use parameter result to create array at C++ function."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "reply_to_user": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "edited": false, "score": 1, "creation_date": 1512571909, "post_id": 47676943, "comment_id": 82313106, "body": "@batuman <code>result = array;</code> does not modify the passed in array (it wouldn&#39;t do that if you were working exclusively in C++ either), it just redirects the local pointer to the array. You need to write directly into the passed in array (by <code>result[i] = 25;</code> instead of <code>array[i] = 25;</code>)"}], "tags": [], "owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "is_accepted": true, "score": 3, "last_activity_date": 1512571330, "creation_date": 1512571330, "answer_id": 47676943, "question_id": 47676854, "link": "https://stackoverflow.com/questions/47676854/getting-float-array-from-c-to-c/47676943#47676943", "title": "Getting float array from C++ to C#", "body": "<p>This line in your C++ code:</p>\n\n<pre><code>float *array = new float[20];\n</code></pre>\n\n<p>creates a new array, which you operate on in C++. Then control returns to C#, who has it's own array and that's still unchanged. Why don't you write to the array you got?</p>\n"}, {"comments": [{"owner": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "edited": false, "score": 0, "creation_date": 1512571517, "post_id": 47676974, "comment_id": 82312849, "body": "What should I do for that?"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "edited": false, "score": 0, "creation_date": 1512571740, "post_id": 47676974, "comment_id": 82313001, "body": "@batuman could pass an array to the function with a length of 20 then you would just change the value of each spot in the array"}], "tags": [], "owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1512571968, "last_edit_date": 1512571968, "creation_date": 1512571426, "answer_id": 47676974, "question_id": 47676854, "link": "https://stackoverflow.com/questions/47676854/getting-float-array-from-c-to-c/47676974#47676974", "title": "Getting float array from C++ to C#", "body": "<p>The problem is that you use the assignment operator on the parameter result which prevents the data from being transferred to the C# array on return.</p>\n\n<p>Using the following C++ example:</p>\n\n<pre><code>void z(int * x)\n{\n  x = new int(4);\n}\n\nint main()\n{\n  int * x = new int(-2);\n  z(x);\n  cout&lt;&lt;*x&lt;&lt;endl;\n}\n</code></pre>\n\n<p>The output for this is -2 not 4 because you use the assignment operator on the parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 5563057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/175ec4419af05ddd31899fecd5792453?s=128&d=identicon&r=PG&f=1", "display_name": "jHN", "link": "https://stackoverflow.com/users/5563057/jhn"}, "is_accepted": false, "score": 4, "last_activity_date": 1512572467, "creation_date": 1512572467, "answer_id": 47677327, "question_id": 47676854, "link": "https://stackoverflow.com/questions/47676854/getting-float-array-from-c-to-c/47677327#47677327", "title": "Getting float array from C++ to C#", "body": "<p>As UnholySheep and nvoigt already stated,</p>\n\n<pre><code>result = array;\n</code></pre>\n\n<p>overrides the address of the passed pointer, making you lose the reference to the calling function.</p>\n\n<p>Directly writing to your parameter should solve this.</p>\n\n<pre><code>result[i] = 25;\n</code></pre>\n\n<p>Further you dont actually have to use pointers in c#.\nYou can actually do the following:</p>\n\n<p>Declare your Import like this:</p>\n\n<pre><code>private static extern void bleplugin_GetGolfResult (float arr[]);\n</code></pre>\n\n<p>Then you can call it like this:</p>\n\n<pre><code>float arr = new float[20];\nbleplugin_GetGolfResult(arr);\n</code></pre>\n"}], "owner": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 47676943, "answer_count": 3, "score": 1, "last_activity_date": 1512572467, "creation_date": 1512571040, "question_id": 47676854, "link": "https://stackoverflow.com/questions/47676854/getting-float-array-from-c-to-c", "title": "Getting float array from C++ to C#", "body": "<p>I have float array inside C++ function.</p>\n\n<p>C++ function</p>\n\n<pre><code>void bleplugin_GetGolfResult(float* result)\n{\n    float *array = new float[20];\n    for(int i=0; i &lt; 20; i++)\n      array[i]= 25;\n    result = array;\n    //DEBUG PRINTING1\n    for(int i=0; i &lt; 20; i++)\n       cout &lt;&lt; result[i] &lt;&lt; endl;//Here is correct\n    return;\n}\n</code></pre>\n\n<p>Inside C#</p>\n\n<pre><code>[DllImport (\"__Internal\")]\nprivate static unsafe extern void bleplugin_GetGolfResult (float* result);\n\npublic static unsafe float[] result = new float[20];\n\npublic unsafe static void GetGolfREsult(){\n    fixed (float* ptr_result = result) //or equivalently \"... = &amp;f2[0]\" address of f2[0]\n    {           \n        bleplugin_GetGolfResult( ptr_result );\n        //DEBUG PRINTING2\n        for(int i = 0; i &lt; 20; i++)\n            Debug.Log(\"result data \" + ptr_result[i]);\n    }\n    return;\n}\n</code></pre>\n\n<p>I called <code>GetGolfREsult()</code> from another function to get result.</p>\n\n<p><code>//DEBUG PRINTING1</code> has correct output.</p>\n\n<p>But <code>//DEBUG PRINTING2</code> produced 0 only.</p>\n\n<p>What could be wrong?</p>\n"}, {"tags": ["c++", "c++11", "member-function-pointers"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 3, "creation_date": 1512570521, "post_id": 47676643, "comment_id": 82312139, "body": "You are playing around with pointers to <b>non-static member functions</b>. They are a different beast."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 2, "creation_date": 1512570577, "post_id": 47676643, "comment_id": 82312184, "body": "In what situation does <code>Test::test_func</code> result in a pointer? Without any confirming examples, it&#39;s just an assumption."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1512570619, "post_id": 47676643, "comment_id": 82312213, "body": "As you will recall, member functions are members of an object. Without the &quot;this&quot; parameter, they wouldn&#39;t make any sense. Rewrite the example using private: std::string m_testmessage, and print that, and imagine how that would work without the Test &amp;t object to carry the member data."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1512570664, "post_id": 47676643, "comment_id": 82312246, "body": "<i>&quot;So why can&#39;t I use the former instead of the latter? If I try it g++ complains.&quot;</i> Didn&#39;t you just answer your own question? You can&#39;t use it because it&#39;s not valid syntax in that context as defined by the language, and that&#39;s why the compiler complains."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 1, "creation_date": 1512570766, "post_id": 47676643, "comment_id": 82312313, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2402579/function-pointer-to-member-function\">Function pointer to member function</a>"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1512571182, "post_id": 47676643, "comment_id": 82312605, "body": "The name of a free function easily decays to a pointer, because that&#39;s how they work in C. Member functions are C++ only and designed differently."}, {"owner": {"reputation": 1817, "user_id": 7556604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hgWR8.jpg?s=128&g=1", "display_name": "Clonk", "link": "https://stackoverflow.com/users/7556604/clonk"}, "edited": false, "score": 0, "creation_date": 1512571210, "post_id": 47676643, "comment_id": 82312623, "body": "If you are using C++11, I highly recommend learning how to use std::function"}], "answers": [{"tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": true, "score": 2, "last_activity_date": 1512572469, "creation_date": 1512572469, "answer_id": 47677329, "question_id": 47676643, "link": "https://stackoverflow.com/questions/47676643/syntax-to-get-function-pointers-in-c11/47677329#47677329", "title": "Syntax to get function pointers in C++11", "body": "<blockquote>\n  <p>But from what I understand Test::test_func and &amp;Test::test_func both result in pointers.</p>\n</blockquote>\n\n<p><code>Test::test_func</code> is not a valid syntax for creating pointer to member function, nor pointer to data members. It has never been a valid C++ syntax.</p>\n\n<p>From <a href=\"http://en.cppreference.com/w/cpp/language/pointer#Pointers_to_data_members\" rel=\"nofollow noreferrer\">cppreference</a> (emphasis mine), </p>\n\n<blockquote>\n  <p>A pointer to non-static member object m which is a member of class C can be initialized with the expression <strong>&amp;C::m exactly</strong>. Expressions such as &amp;(C::m) or &amp;m inside C's member function do not form pointers to members. </p>\n</blockquote>\n"}], "owner": {"reputation": 931, "user_id": 1044422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6d677bb0a5499d2a04cff9322cca03e3?s=128&d=identicon&r=PG", "display_name": "K G", "link": "https://stackoverflow.com/users/1044422/k-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 47677329, "answer_count": 1, "score": 1, "last_activity_date": 1512572618, "creation_date": 1512570454, "last_edit_date": 1512572488, "question_id": 47676643, "link": "https://stackoverflow.com/questions/47676643/syntax-to-get-function-pointers-in-c11", "title": "Syntax to get function pointers in C++11", "body": "<p>I am trying to understand function pointers and I have the following test code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Test {\npublic:\n    void test_func() {\n        cout &lt;&lt; \"Test func called.\";\n    }\n};\n\nvoid outer_test_func(Test &amp;t, void (Test::*func)()) {\n    (t.*func)();\n}\n\nint main(int argc, char *argv[]) {\n    auto t = Test();\n    outer_test_func(t, &amp;Test::test_func);\n}\n</code></pre>\n\n<p>This works. But from what I understand <code>Test::test_func</code> and <code>&amp;Test::test_func</code> both result in pointers. So why can't I use the former instead of the latter? If I try it g++ complains.</p>\n"}, {"tags": ["c++", "qt", "qml", "qt3d"], "answers": [{"tags": [], "owner": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "is_accepted": false, "score": 6, "last_activity_date": 1513012785, "creation_date": 1513012785, "answer_id": 47758070, "question_id": 47676467, "link": "https://stackoverflow.com/questions/47676467/qt3d-how-to-not-draw-the-meshes/47758070#47758070", "title": "Qt3D - how to not draw the meshes?", "body": "<p>Yes it is possible.</p>\n\n<p>The easiest solution is to remove the material from your entity.\nYou would have something like this:</p>\n\n<pre><code>Entity {\n    property bool visible: true // or ideally, dynamically read from a c++ property or whatever suits you\n\n    Material {\n        id: myMaterial\n        // stuff\n    } \n\n    GeometryRenderer {\n        id: myRenderer\n        // stuff\n    }\n\n    components: visible ? [myMaterial, myRenderer] : []\n}\n</code></pre>\n\n<p>Another solution (maybe a bit more difficult) is to use filters in the Effect you use in your material.\nThe Effect component will have one or several RenderPasses. Each of these render passes can have filter keys:</p>\n\n<pre><code>RenderPass {\n    id: myPass\n\n    filterKeys: [ FilterKey { name: \"PassType\"; value: \"customFilterIdString\" } ] // &lt;-- This line here\n\n    renderStates: [\n        BlendEquationArguments {\n            ...\n        }, \n     ...\n    ]\n}\n</code></pre>\n\n<p>Each render pass can be filtered in your RenderTree Using the RenderPassFilter component. This allow you to skip whole set of object and order the way passes are done. This is a bit more advanced and I don't think you need it if you just want to hide specific objects, but don't hesitate to read the doc and look for examples using these components</p>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 2711, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0658d531cd1931ee6703514b5fb98c6a?s=128&d=identicon&r=PG", "display_name": "mkrus", "link": "https://stackoverflow.com/users/2711/mkrus"}, "is_accepted": false, "score": 5, "last_activity_date": 1524250648, "creation_date": 1524250648, "answer_id": 49948099, "question_id": 47676467, "link": "https://stackoverflow.com/questions/47676467/qt3d-how-to-not-draw-the-meshes/49948099#49948099", "title": "Qt3D - how to not draw the meshes?", "body": "<p>The easiest way is actually to set the <a href=\"https://doc.qt.io/qt-5.10/qt3dcore-qnode.html#enabled-prop\" rel=\"noreferrer\">enabled property</a> of the entity to false.</p>\n\n<p>For finer and more versatile control, you could look at using <a href=\"https://doc.qt.io/qt-5.10/qt3drender-qlayer.html\" rel=\"noreferrer\">QLayer</a> components.</p>\n"}], "owner": {"reputation": 131, "user_id": 1020905, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/412320180e6e582eed61a2984fa49479?s=128&d=identicon&r=PG", "display_name": "user1020905", "link": "https://stackoverflow.com/users/1020905/user1020905"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1524250648, "creation_date": 1512569946, "question_id": 47676467, "link": "https://stackoverflow.com/questions/47676467/qt3d-how-to-not-draw-the-meshes", "title": "Qt3D - how to not draw the meshes?", "body": "<p>I want to not draw some objects on the scene. In normal OpenGL we have just to not call function related to drawing the mesh.</p>\n\n<p>Unfortunately I didn't found this \"functionality\" in the QML. The Entity doesn't contain the \"visibility\" attribute etc. Of course we can try to send the uniform to the shader and just discard the rendering when needed - it will work but this approach doesn't look good.</p>\n\n<p>Is possible do to that by using QML or full rendering functionality should be created in cpp file?</p>\n"}]