[{"tags": ["c++", "performance", "c++14", "compiler-optimization", "clang++"], "comments": [{"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 1, "creation_date": 1489017428, "post_id": 42684218, "comment_id": 72492449, "body": "what does assembly output say?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1489017464, "post_id": 42684218, "comment_id": 72492470, "body": "<a href=\"https://gcc.godbolt.org/\" rel=\"nofollow noreferrer\">Go to this link</a> and enter your code there."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1489017475, "post_id": 42684218, "comment_id": 72492475, "body": "You don&#39;t need the <code>=</code>, just <code>return base &lt;&lt; exp</code>."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 5, "creation_date": 1489017476, "post_id": 42684218, "comment_id": 72492476, "body": "<code>unsigned</code> vs <code>int</code>... and overflow handling."}, {"owner": {"reputation": 1563, "user_id": 4556696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b77fa3f6e3e71da089a1dead131a3a?s=128&d=identicon&r=PG&f=1", "display_name": "dimm", "link": "https://stackoverflow.com/users/4556696/dimm"}, "edited": false, "score": 1, "creation_date": 1489017698, "post_id": 42684218, "comment_id": 72492530, "body": "The only read difference is that in the second case base is <code>unsigned int</code>."}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 0, "creation_date": 1489018042, "post_id": 42684218, "comment_id": 72492621, "body": "Without seeing your testing code, it&#39;s impossible to determine what&#39;s causing the difference. (The <code>unsigned</code> thing is, I think, a red herring.)"}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489018161, "post_id": 42684218, "comment_id": 72492664, "body": "@Jarod42 There&#39;s no particular reason I can think of why a compiler would need to do anything different when left-shifting a known-positive value in a signed context."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1489018194, "post_id": 42684218, "comment_id": 72492670, "body": "Wild guess: the <code>1</code> in <code>base</code> (i.e. in <code>esi</code>) stayed there longer (as in: the corresponding <code>mov esi,1</code> done by the caller started being processed in the pipeline earlier), so when <code>sal</code> is reached the data dependency is already satisfied (it does not need to wait for the previous <code>mov eax, 1</code> to complete); the <code>mov eax,esi</code> should effectively disappear on recent CPUs that support move elimination."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 5, "creation_date": 1489018428, "post_id": 42684218, "comment_id": 72492744, "body": "Still, it is crucial to see the test code and how it gets compiled - these functions are most probably being inlined in your test function, so it&#39;s possible that you are looking at the disassembly of the generated non-inline functions, which however are not the ones being actually tested."}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1489018758, "post_id": 42684218, "comment_id": 72492851, "body": "The second example is missing mov esi,1. Reordering doesn&#39;t help because there is a dependency on both the exponent and the base value for <code>sal eax,cl</code> . The <code>mov eax,1</code> could be first, but then the <code>mov ecx,edi</code> will cause the <code>sal eax,cl</code> to wait for ecx to be updated."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "reply_to_user": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1489019161, "post_id": 42684218, "comment_id": 72492971, "body": "@rcgldr: IIRC register-register moves should disappear on recent processors due to move elimination - the register renaming is effective immediately, so the data dependency is against the content of <code>edi</code>, not against the <code>mov ecx,edi</code>."}, {"owner": {"reputation": 326, "user_id": 1327591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31083e29f1071d008d40e3fa2123bbfe?s=128&d=identicon&r=PG", "display_name": "Morgan", "link": "https://stackoverflow.com/users/1327591/morgan"}, "edited": false, "score": 1, "creation_date": 1489019729, "post_id": 42684218, "comment_id": 72493135, "body": "With -O3 on an inlined function it will be hard to determine anything from the assembly code without its context. For example in the second case, the second instruction is not affecting your pow calculation. Its likely mangled with another instruction where this function is called, since it is declared as inline. The <code>mov     ecx, edi</code> will however be beneficial for the processor when pipelining instructions since the 3rd line is dependent on the first (eax)"}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1489019806, "post_id": 42684218, "comment_id": 72493151, "body": "@MatteoItalia - thanks for pointing that out. I&#39;m not sure when register to register move elimination first occurred. For Intel X86,  Ivy Bridge, Haskell, ... ?"}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "reply_to_user": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1489019978, "post_id": 42684218, "comment_id": 72493204, "body": "@rcgldr: from what I read around, it seems like it should be present at least since Ivy Bridge."}, {"owner": {"reputation": 669, "user_id": 6253379, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/VDrH9.png?s=128&g=1", "display_name": "Nikos Kazazakis", "link": "https://stackoverflow.com/users/6253379/nikos-kazazakis"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1489021001, "post_id": 42684218, "comment_id": 72493506, "body": "@Matteo Italia This is interesting, I run the code on a different machine and the two versions have no difference in performance. Maybe it&#39;s because of the register move elimination?"}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1489024007, "post_id": 42684218, "comment_id": 72494216, "body": "What are the processors of the two machines? Can you provide the test code and its assembly?"}, {"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1489071729, "post_id": 42684218, "comment_id": 72519141, "body": "Why not <code>return 1 &lt;&lt; exp</code>?"}], "owner": {"reputation": 669, "user_id": 6253379, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/VDrH9.png?s=128&g=1", "display_name": "Nikos Kazazakis", "link": "https://stackoverflow.com/users/6253379/nikos-kazazakis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489020859, "creation_date": 1489017335, "last_edit_date": 1489020859, "question_id": 42684218, "link": "https://stackoverflow.com/questions/42684218/why-is-this-integer-power-of-2-code-faster", "title": "Why is this integer power of 2 code faster?", "body": "<p>So, I am doing a lot of calculations which involve calculating powers of 2, so I decided to write the fastest possible function to compute them. I originally wrote the following:</p>\n\n<pre><code>inline\nauto pow2(const int exp){\n  auto base = 1;\n  return base&lt;&lt;=exp;\n}\n</code></pre>\n\n<p>This is blazing fast because of the exact bit shifting in one pass, but then I decided to test the following:</p>\n\n<pre><code>inline\nauto pow2(const int exp, unsigned int base=1){\n  return base&lt;&lt;=exp;\n}\n</code></pre>\n\n<p>The function is the invoked as:</p>\n\n<pre><code>result = pow2(exponent);\n</code></pre>\n\n<p>This made my code 30% faster (clang++ and g++ with -O3), but I am not sure why. I suspect that it is because the compiler somehow avoids allocating the <code>base</code> variable and only uses a temporary object, but it's just wild guessing; I don't understand exactly what instructions are avoided because of this syntax. Any ideas?</p>\n\n<p><strong>Edit:</strong> The assembler output is as follows:</p>\n\n<p>First version (<code>base</code> var in the body of the function):</p>\n\n<pre><code>pow2(int):\n        mov     ecx, edi\n        mov     eax, 1\n        sal     eax, cl\n        ret\n</code></pre>\n\n<p>Second version (<code>base</code> var in the declaration):</p>\n\n<pre><code>pow2(int, unsigned int):\n        mov     eax, esi\n        mov     ecx, edi\n        sal     eax, cl\n        ret\n</code></pre>\n\n<p><strong>Edit2:</strong> Some more information: from the feedback in the comments I decided to test the code on a different machine and got something interesting. On my work computer with an Intel(R) Core(TM) i7-2600 CPU @ 3.40GHz, this code is indeed 30% faster. On my laptop, with an Intel(R) Core(TM) i7-4600U CPU @ 2.10GHz the two versions benchmark the same.</p>\n"}, {"tags": ["c++", "arrays", "struct", "visual-studio-2015", "memcpy"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1489016602, "post_id": 42684064, "comment_id": 72492144, "body": "Compilers will align and pad data structures for performance and other reasons. <code>c++</code> allows this and has to since some hardware requires alignment."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1489016667, "post_id": 42684064, "comment_id": 72492165, "body": "<a href=\"http://stackoverflow.com/questions/5397447/struct-padding-in-c\">stackoverflow.com/questions/5397447/struct-padding-in-c</a>"}], "owner": {"reputation": 866, "user_id": 7607594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OyzH_J0Nigs/AAAAAAAAAAI/AAAAAAAAAFg/tWm2BVaSBwY/photo.jpg?sz=128", "display_name": "Jorge Omar Medra", "link": "https://stackoverflow.com/users/7607594/jorge-omar-medra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1489017198, "answer_count": 0, "score": 1, "last_activity_date": 1489016494, "creation_date": 1489016494, "question_id": 42684064, "link": "https://stackoverflow.com/questions/42684064/why-is-getting-extra-bytes-in-a-convertion-from-struct-to-array-bytes", "closed_reason": "Duplicate", "title": "Why is getting extra bytes in a convertion from Struct to array bytes?", "body": "<p>I have an issue with C++ and VS-2015 with the next structure:</p>\n\n<pre><code>struct HEADER\n{\n    char BRI;\n    char crv_lenght;\n    __int16 crv;\n    char messagetype;\n};\n</code></pre>\n\n<p><strong>The size of this structure is 5 bytes</strong>, but when it is converted to an array of bytes the resulting array <strong>has a size of 6 bytes</strong>.</p>\n\n<p>The way that i used to convert the struct to array is using memcpy is:</p>\n\n<pre><code>HEADER hdr;\n\nhdr.BRI = 0x08\nhdr.crv_lenght =0x02;\nhdr.crv = 0;\nhdr.messagetype = 0x04;\n\nchar* buffer;\nbuffer = new char[sizeof(HEADER)];\nmemcpy(buffer, tmpBuff, *size);\n</code></pre>\n\n<p>After coverting the struct to an array, the buffer shows an extra byte (<code>0xcc</code>), that appears after the <em>crv</em> field:</p>\n\n<p><em>DEBUG  DATA    HEX (Bytes  1-6) [08 02 00 00 <strong>cc</strong> 04]</em></p>\n\n<p>But, when i change the struct to use <code>char[2]</code> instead of <code>__int16</code>, like this:</p>\n\n<pre><code>struct HEADER\n{\n    char BRI;\n    char crv_lenght;\n    char crv[2];\n    char messagetype;\n};\n</code></pre>\n\n<p>The resulting array size is <strong>5 bytes</strong>, removing the extra byte:</p>\n\n<p><em>DEBUG  DATA    HEX (Bytes  1-5) [08 02 00 00 04]</em></p>\n\n<p>I found a way to \"fix\" this issue is using the directive <code>#pragma pack(push,1)</code> and <code>#pragma pack(pop)</code>, like the sample below:</p>\n\n<pre><code>#pragma pack(push,1)\nstruct HEADER\n{\n    char BRI;\n    char crv_lenght;\n    __int16 crv;\n    char messagetype;\n};\n#pragma pack(pop)\n</code></pre>\n\n<p><strong>So, the main questions is:</strong> For the compiler of C/C++ with VS-2015, this behaivor is expected and why it needs to use the <code>#pragma pack</code> directive?</p>\n\n<p>Additional information:</p>\n\n<ul>\n<li>The OS Windows 2012 r2.</li>\n<li>Visual Studio 2016, version 14.0.25431.01 Update 3.</li>\n<li>Language: C++11</li>\n<li>The project type is a Console App.</li>\n<li>This behavior appears in both x86 and x64.</li>\n</ul>\n"}, {"tags": ["c++", "c", "architecture", "abstraction-layer"], "owner": {"reputation": 73, "user_id": 2966689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0398c4bf209c622938da158e27b53451?s=128&d=identicon&r=PG&f=1", "display_name": "tobawo", "link": "https://stackoverflow.com/users/2966689/tobawo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489050121, "creation_date": 1489016056, "last_edit_date": 1489050121, "question_id": 42683972, "link": "https://stackoverflow.com/questions/42683972/using-low-level-datatype-from-hardware-abstraction-layer-in-high-level-applica", "title": "Using low level datatype from hardware abstraction layer in (high level) application", "body": "<p>I have a hardware abstraction layer for a peripheral of a MCU which is written in C. The application code is using the peripheral via a C++ wrapper. Now I have a low level enum <code>ll_enum</code> and a function, that requires a parameter with this datatype.</p>\n\n<p>My understanding of a good architecture would imply the following things:</p>\n\n<ul>\n<li>Low-level peripheral driver (C) \n\n<ul>\n<li>should not know that there is a higher level</li>\n<li>has the definition of the enum</li>\n</ul></li>\n<li>C++ Wrapper\n\n<ul>\n<li>obviously knows the low-level layer and that there is an application</li>\n</ul></li>\n<li>Application Code that uses the C++ Wrapper \n\n<ul>\n<li>Just knows the C++ Wrapper</li>\n</ul></li>\n</ul>\n\n<p>My solution right now:</p>\n\n<p>I have a enum in the C++ Wrapper that has the same entries as the low level enum. The enum gets casted to the low level type in the C++ Wrapper.</p>\n\n<pre><code>// ### C++ Wrapper ###\nenum hl_enum {\n    foo = 1,\n    bar = 2,\n}\n\nvoid Peripheral::hl_function(hl_enum param) {\n    ll_function((ll_enum)param);\n}\n\n// ### Low level C-file ###\ntypedef enum {\n    foo = 1,\n    bar = 2,\n} ll_enum;\n\nvoid ll_function(ll_enum param);\n</code></pre>\n\n<p>Obviously that is a bad solution, because you have to change code at two positions and get in trouble if you missed that. </p>\n\n<p>Is there a better solution?</p>\n"}, {"tags": ["android", "c++", "android-ndk"], "comments": [{"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 0, "creation_date": 1489016808, "post_id": 42683932, "comment_id": 72492216, "body": "<a href=\"https://sourceforge.net/p/predef/wiki/Architectures/\" rel=\"nofollow noreferrer\">This list</a> of predefined preprocessed macros may help."}], "answers": [{"comments": [{"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1489086148, "post_id": 42684339, "comment_id": 72528898, "body": "Thanks! I used that &quot;Pre-defined Compiler Macros&quot; page to get what I have so far -- using &quot;#if defined (<b>i386</b>)&quot;, &quot;#elif defined (<b>arm</b>)&quot;, etc.  Unfortunately I&#39;m building on Windows with ndk-build so I&#39;m not sure how to do the above &quot;clang&#39; command."}, {"owner": {"reputation": 8554, "user_id": 632035, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ed69ad748c440a055502c1b213757e5?s=128&d=identicon&r=PG", "display_name": "Dan Albert", "link": "https://stackoverflow.com/users/632035/dan-albert"}, "reply_to_user": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1489104093, "post_id": 42684339, "comment_id": 72537381, "body": "I&#39;m not sure either. You can run the clang in the NDK as above (toolchains/llvm/windows-x86_64/prebuilt/bin/clang), but I don&#39;t know how the Windows shell does stdin redirection (the <code>&lt;</code> part)."}], "tags": [], "owner": {"reputation": 8554, "user_id": 632035, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ed69ad748c440a055502c1b213757e5?s=128&d=identicon&r=PG", "display_name": "Dan Albert", "link": "https://stackoverflow.com/users/632035/dan-albert"}, "is_accepted": false, "score": 1, "last_activity_date": 1489020998, "last_edit_date": 1489020998, "creation_date": 1489018100, "answer_id": 42684339, "question_id": 42683932, "link": "https://stackoverflow.com/questions/42683932/how-to-access-target-arch-from-c-file/42684339#42684339", "title": "How to access $(TARGET_ARCH) from C++ file?", "body": "<p>I've found the below Wiki to be really useful for looking up built-in preprocessor definitions:</p>\n\n<p><a href=\"https://sourceforge.net/p/predef/wiki/Architectures/\" rel=\"nofollow noreferrer\">Pre-defined Compiler Macros </a></p>\n\n<p>Scrolling down the the section for ARM, you can see that ARM 7 will have:</p>\n\n<pre><code>__ARM_ARCH_7__\n</code></pre>\n\n<p>or a handful of other variants of ARM 7. Looks like there's also <code>_M_ARM</code>, which will be 7 for any of the variants.</p>\n\n<p>Another way to check this sort of thing is to dump all of the predefined macros that the compiler will provide like so:</p>\n\n<pre><code>$ clang -dM -E - &lt; /dev/null\n</code></pre>\n\n<p>You can then look through all the different preprocessor defines until you find what you're looking for.</p>\n\n<p>If you wanted to access the exact string that is <code>TARGET_ARCH</code> from C++, you could do the following in your Android.mk (as part of the module definition):</p>\n\n<pre><code>LOCAL_CFLAGS += -DTARGET_ARCH=\"$(TARGET_ARCH)\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1489086199, "post_id": 42692990, "comment_id": 72528920, "body": "This seems to be the best reference for Android NDK in particular."}], "tags": [], "owner": {"reputation": 11902, "user_id": 3115956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb57ac8f519e5655e4f436e5dd276fb?s=128&d=identicon&r=PG&f=1", "display_name": "mstorsjo", "link": "https://stackoverflow.com/users/3115956/mstorsjo"}, "is_accepted": true, "score": 6, "last_activity_date": 1489055703, "creation_date": 1489055703, "answer_id": 42692990, "question_id": 42683932, "link": "https://stackoverflow.com/questions/42683932/how-to-access-target-arch-from-c-file/42692990#42692990", "title": "How to access $(TARGET_ARCH) from C++ file?", "body": "<p>In addition to what Dan Albert posted, the <code>hello-jni</code> example actually already shows the necessary ifdefs for detecting the different ABIs:</p>\n\n<p><a href=\"https://github.com/googlesamples/android-ndk/blob/master/hello-jni/app/src/main/cpp/hello-jni.c\" rel=\"noreferrer\">https://github.com/googlesamples/android-ndk/blob/master/hello-jni/app/src/main/cpp/hello-jni.c</a></p>\n\n<pre><code>#if defined(__arm__)\n    #if defined(__ARM_ARCH_7A__)\n    #if defined(__ARM_NEON__)\n      #if defined(__ARM_PCS_VFP)\n        #define ABI \"armeabi-v7a/NEON (hard-float)\"\n      #else\n        #define ABI \"armeabi-v7a/NEON\"\n      #endif\n    #else\n      #if defined(__ARM_PCS_VFP)\n        #define ABI \"armeabi-v7a (hard-float)\"\n      #else\n        #define ABI \"armeabi-v7a\"\n      #endif\n    #endif\n  #else\n   #define ABI \"armeabi\"\n  #endif\n#elif defined(__i386__)\n#define ABI \"x86\"\n#elif defined(__x86_64__)\n#define ABI \"x86_64\"\n#elif defined(__mips64)  /* mips64el-* toolchain defines __mips__ too */\n#define ABI \"mips64\"\n#elif defined(__mips__)\n#define ABI \"mips\"\n#elif defined(__aarch64__)\n#define ABI \"arm64-v8a\"\n#else\n#define ABI \"unknown\"\n#endif\n</code></pre>\n"}], "owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 1, "accepted_answer_id": 42692990, "answer_count": 2, "score": 3, "last_activity_date": 1489055703, "creation_date": 1489015890, "question_id": 42683932, "link": "https://stackoverflow.com/questions/42683932/how-to-access-target-arch-from-c-file", "title": "How to access $(TARGET_ARCH) from C++ file?", "body": "<p>Using the Android NDK I'd like to know which target architecture is active when executing pre-processor code in my C++ header files.  For example, my code would behave differently on \"armeabi\" vs. \"armv7\".</p>\n\n<p>The $(TARGET_ARCH) variable can be used within makefiles, but is there an equivalent that's accessible from within C++ headers?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "mingw"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1489015982, "post_id": 42683927, "comment_id": 72491924, "body": "Most likely they will be hardlinked to the same binary. You could inspect this by looking at <code>g++.exe</code> and <code>c++.exe</code> in your filesystem."}], "answers": [{"tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": true, "score": 1, "last_activity_date": 1489016004, "creation_date": 1489016004, "answer_id": 42683960, "question_id": 42683927, "link": "https://stackoverflow.com/questions/42683927/mingw-using-g-instead-of-c-in-command-line/42683960#42683960", "title": "MinGW using g++ instead of c++ in command line?", "body": "<p>Same thing. <code>g++</code> is just the executable (or link) name for then <em>GNU</em> C++ compiler. If you install MinGW, your <code>c++</code> executable (if present) will point to the GNU C++ compiler \u2013 since that is what you installed.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7074495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 42683960, "answer_count": 1, "score": 1, "last_activity_date": 1489016004, "creation_date": 1489015867, "question_id": 42683927, "link": "https://stackoverflow.com/questions/42683927/mingw-using-g-instead-of-c-in-command-line", "title": "MinGW using g++ instead of c++ in command line?", "body": "<p>This is a fairly simple question, so i'll keep it simple.</p>\n\n<p>I've just installed MinGW onto my windows. When i run the following:</p>\n\n<pre><code>c:/&gt; c++ HelloWorld.cpp &amp;&amp; a.exe\n</code></pre>\n\n<p>However in most tutorials and guides i see online, people will use </p>\n\n<pre><code>c:/&gt; g++ HelloWorld.cpp\n</code></pre>\n\n<p>It seems to run the same, but i'm not quite sure what the difference is between c++ and g++. Is it a different compiler? a different language? does it run anything differently? Thanks`</p>\n"}, {"tags": ["c++", "matrix", "multidimensional-array", "vector"], "comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 1, "creation_date": 1489015430, "post_id": 42683749, "comment_id": 72491723, "body": "So, what exactly is your question? You just described what you are planning to do."}, {"owner": {"reputation": 195, "user_id": 4234817, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh3.googleusercontent.com/-jnh6nM-ZEu8/AAAAAAAAAAI/AAAAAAAAAHI/W7I-muB-ozM/photo.jpg?sz=128", "display_name": "Abhishek V. Pai", "link": "https://stackoverflow.com/users/4234817/abhishek-v-pai"}, "edited": false, "score": 0, "creation_date": 1489015689, "post_id": 42683749, "comment_id": 72491830, "body": "sorry guys, Just updated the question"}, {"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1489016277, "post_id": 42683749, "comment_id": 72492031, "body": "Just start iterating the rows from <code>i - 6</code> instead of <code>i</code> (assuming that <code>i</code> is walking the rows and <code>j</code> is the columns). That should work, no?"}], "answers": [{"tags": [], "owner": {"reputation": 841, "user_id": 2780640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e4ab3fa08e71da7953d6adf61ac95404?s=128&d=identicon&r=PG&f=1", "display_name": "soulsabr", "link": "https://stackoverflow.com/users/2780640/soulsabr"}, "is_accepted": false, "score": 1, "last_activity_date": 1489015973, "creation_date": 1489015973, "answer_id": 42683950, "question_id": 42683749, "link": "https://stackoverflow.com/questions/42683749/filling-an-area-of-a-matrix-with-characters/42683950#42683950", "title": "filling an area of a matrix with characters", "body": "<p>You need to tackle the problem logically and break down the steps you need to solve it.  You're staring at a big block of zeros and that isn't going to help.  So, walk through it with pseudo code and a handy, dandy piece of paper and pencil.</p>\n\n<p>Ask smaller questions about the larger problem at hand.  How do you go from bottom left coordinate to the coordinate you wish to start with?  How do you determine when to stop?  Do I understand what I just did?  If not why don't I understand it?</p>\n\n<p>Baby step by baby step while you're learning.  Take the time to understand why something either worked the way you wanted it to or failed to work.  Do this and you'll be a much better coder for it.</p>\n"}], "owner": {"reputation": 195, "user_id": 4234817, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh3.googleusercontent.com/-jnh6nM-ZEu8/AAAAAAAAAAI/AAAAAAAAAHI/W7I-muB-ozM/photo.jpg?sz=128", "display_name": "Abhishek V. Pai", "link": "https://stackoverflow.com/users/4234817/abhishek-v-pai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1489015973, "creation_date": 1489014881, "last_edit_date": 1489015653, "question_id": 42683749, "link": "https://stackoverflow.com/questions/42683749/filling-an-area-of-a-matrix-with-characters", "title": "filling an area of a matrix with characters", "body": "<p>I have created a matrix using 2D vectors. The code I used is</p>\n\n<pre><code>int RC=50;\nvector&lt;vector&lt;int&gt; &gt; matrix;\nvector&lt;int&gt;row;\n///////////Building Grid//////////////////\nfor(int i=0;i&lt;RC;i++)\n{\n    for(int j=0;j&lt;RC;j++)\n    {\n        row.push_back(0);\n    }\n    matrix.push_back(row);\n}\n  //////////Printing Grid///////////////////\nfor(int i=0;i&lt;RC;i++)\n{\n    for(int j=0;j&lt;RC;j++)\n    {\n        cout&lt;&lt;matrix[i][j]&lt;&lt;\" \";\n    }\n    cout&lt;&lt;endl;\n}\n</code></pre>\n\n<p>The output of the above code is</p>\n\n<p><a href=\"https://i.stack.imgur.com/hpOtl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hpOtl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now what I want is to fill a block of size 6x6 inside the matrix with '$' or any character by inputting the bottom left location of the block. For example if i gave the location as (10,4), then I would like to place a block of '$' (size 6x6) whose bottom left co-ordinates are (10,4).</p>\n\n<p>EDIT-1</p>\n\n<p>I added the code</p>\n\n<pre><code>int si=3;\nint sy=3;\n for(int i=0;i&lt;RC;i++)\n{\n    for(int j=0;j&lt;RC;j++)\n    {\n       if(i&gt;=si &amp;&amp; i&lt;=si+6 &amp;&amp; j&gt;=sy &amp;&amp; j&lt;=sy+6)\n       {\n           matrix[i][j]=1;\n       }\n       else\n       {\n        matrix[i][j]=0;\n       }\n    }\n}\n</code></pre>\n\n<p>and I got the output as</p>\n\n<p><a href=\"https://i.stack.imgur.com/xqIsu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqIsu.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am reading the co-ordinates as the top left ones, what should I do to read the co-ordinates as the bottom left ones and build the block from there?</p>\n"}, {"tags": ["c++", "arrays", "oop", "assign", "assignment-operator"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 6, "creation_date": 1489014771, "post_id": 42683694, "comment_id": 72491476, "body": "You should be more concerned about the memory leak."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1489014906, "post_id": 42683694, "comment_id": 72491525, "body": "You forgot the user-defined copy constructor for <code>matrix&lt;T&gt;</code>.  If you wrote that first, then the assignment operator is very simple.,"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1489015431, "post_id": 42683694, "comment_id": 72491725, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\" title=\"what is the rule of three\">stackoverflow.com/questions/4172722/what-is-the-rule-of-thre&zwnj;&#8203;e</a>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1489015439, "post_id": 42683694, "comment_id": 72491730, "body": "Huh. <code>this-&gt;data</code> will be what it was before you called <code>operator=</code>."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1489015692, "post_id": 42683694, "comment_id": 72491832, "body": "Your latest edit shows a call to the copy constructor, <i>not</i> assignment operator.  So my previous comment stands -- you need to write a copy constructor."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1489015962, "post_id": 42683694, "comment_id": 72491917, "body": "The original question is asked under the misconception that the assignment operator is involved.  Given the latest edit, it isn&#39;t involved at all.  Closing as &quot;unclear&quot;."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1489016339, "post_id": 42683694, "comment_id": 72492049, "body": "In addition, if you wrote a copy constructor (and it is correct), then the example you linked to that uses <code>std::swap</code> in the assignment operator would be, more or less, how you would have written your assignment operator, i.e. using simple calls to <code>swap</code> all the members."}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 1, "creation_date": 1489024555, "post_id": 42683694, "comment_id": 72494364, "body": "<code>matrix&lt;int&gt; A = B;</code> is <i>NOT</i> an assignment, it&#39;s an initialization.  So it does not use or call <code>operator=</code> at all -- it calls the copy constructor."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1489015131, "last_edit_date": 1489015131, "creation_date": 1489014877, "answer_id": 42683747, "question_id": 42683694, "link": "https://stackoverflow.com/questions/42683694/does-the-operator-call-the-constructor-new-in-c/42683747#42683747", "title": "Does the = operator call the constructor/new in C++?", "body": "<blockquote>\n  <p>Because I don't have a default constructor within the operator= function, the data in this is just garbage, right?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>Even if I had a default constructor would it be called?</p>\n</blockquote>\n\n<p>No</p>\n\n<hr>\n\n<p>However, there is a memory leak. You are not deallocating the memory that was allocated when the object was constructed.</p>\n"}, {"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 4, "creation_date": 1489014966, "post_id": 42683757, "comment_id": 72491550, "body": "Instead or resize, just <code>data(rows * cols)</code> in the initialized list."}], "tags": [], "owner": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "is_accepted": false, "score": 5, "last_activity_date": 1489015375, "last_edit_date": 1489015375, "creation_date": 1489014910, "answer_id": 42683757, "question_id": 42683694, "link": "https://stackoverflow.com/questions/42683694/does-the-operator-call-the-constructor-new-in-c/42683757#42683757", "title": "Does the = operator call the constructor/new in C++?", "body": "<p>If you use <code>std::vector</code> to store your data, your class becomes a lot simpler</p>\n\n<pre><code>template &lt;typename T&gt;\nclass matrix {\n   std::vector&lt;T&gt; data;\npublic:\n    size_t const rows, cols;\n    matrix(size_t rows, size_t cols) : rows(rows), cols(cols) {\n        data.resize(rows*cols);\n    }\n    //access data\n    T&amp; operator()(size_t row, size_t col) {\n        return data[row*cols + col];\n    }\n}\n</code></pre>\n\n<p>you now no longer have to worry about leaking memory, and you don't need to write a destructor, copy constructor or assignment operator.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7674669, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef990766cf99f212404a0a090dc99373?s=128&d=identicon&r=PG&f=1", "display_name": "Enes Keles", "link": "https://stackoverflow.com/users/7674669/enes-keles"}, "is_accepted": false, "score": -1, "last_activity_date": 1489021720, "last_edit_date": 1489021720, "creation_date": 1489015223, "answer_id": 42683809, "question_id": 42683694, "link": "https://stackoverflow.com/questions/42683694/does-the-operator-call-the-constructor-new-in-c/42683809#42683809", "title": "Does the = operator call the constructor/new in C++?", "body": "<p>You might initialize a <code>matrix</code> object and then use <code>operator=</code> for this object. In this case, <code>data</code> in this <code>matrix</code> object would not be garbage because it is already initialized.</p>\n\n<p>If you are using <code>operator=</code> for an uninitialized instance of <code>matrix</code>,  e.g <code>matrix&lt;int&gt; a = b;</code>, where <code>b</code> is already initialized, that means you are calling the copy constructor, which is automatically generated by the compiler. In both cases, there are no garbage values.</p>\n"}, {"comments": [{"owner": {"reputation": 1714, "user_id": 1097517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/60ea0ac47e08c82ea6d4948ef04a4c5b?s=128&d=identicon&r=PG", "display_name": "McAngus", "link": "https://stackoverflow.com/users/1097517/mcangus"}, "edited": false, "score": 0, "creation_date": 1489025239, "post_id": 42684836, "comment_id": 72494538, "body": "So in the Rule of Zero example <code>rows</code>, <code>cols</code> and <code>data</code> are taken care of by the default copy constructor?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1714, "user_id": 1097517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/60ea0ac47e08c82ea6d4948ef04a4c5b?s=128&d=identicon&r=PG", "display_name": "McAngus", "link": "https://stackoverflow.com/users/1097517/mcangus"}, "edited": false, "score": 0, "creation_date": 1489028698, "post_id": 42684836, "comment_id": 72495501, "body": "@McAngus: yes, the compiler-generated copy constructor and copy assignment operator are both adequate for the <code>rows</code> and <code>cols</code> members, and for the <code>data</code> member when it is a Rule-of-Three/Five/Zero compliant type like <code>std::vector</code>."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 3, "last_activity_date": 1489028751, "last_edit_date": 1495542322, "creation_date": 1489021570, "answer_id": 42684836, "question_id": 42683694, "link": "https://stackoverflow.com/questions/42683694/does-the-operator-call-the-constructor-new-in-c/42684836#42684836", "title": "Does the = operator call the constructor/new in C++?", "body": "<blockquote>\n  <p>Say I have a (immutable) matrix class that dynamically creates an array in the constructor, and deletes it in the deconstructor.</p>\n</blockquote>\n\n<p>You are violating the <a href=\"https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)\" rel=\"nofollow noreferrer\">Rule of Three</a> by not implementing a copy constructor (and the <a href=\"https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)#Rule_of_Five\" rel=\"nofollow noreferrer\">Rule of Five</a> in C++11 by not implementing a move constructor and a move assignment operator).</p>\n\n<p>Your copy assignment operator has a memory leak, as it is not <code>delete[]</code>'ing the old <code>data</code> array before assigning the <code>new[]</code>'ed array.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass matrix {\nprivate:\n    T* data;\n    size_t const rows, cols;\n\npublic:\n    matrix(size_t rows, size_t cols) : rows(rows), cols(cols) {\n        data = new T[rows*cols];\n    }\n\n    matrix(const matrix&lt;T&gt; &amp;src) : rows(src.rows), cols(src.cols) {\n        data = new T[rows*cols];\n        std::copy(data, &amp;data[rows*cols], src.data);\n    }\n\n    /* for C++11:\n\n    matrix(matrix&lt;T&gt; &amp;&amp;src) : rows(0), cols(0), data(nullptr) {\n        std::swap(rows, src.rows);\n        std::swap(cols, src.cols);\n        std::swap(data, src.data);\n    }\n    */\n\n    ~matrix() {\n        delete [] data;\n    }\n\n    T&amp; operator()(size_t row, size_t col) {\n        return data[(row * cols) + col];\n    }\n\n    T operator()(size_t row, size_t col) const {\n        return data[(row * cols) + col];\n    }\n\n    matrix&lt;T&gt;&amp; operator=(const matrix&lt;T&gt;&amp; other) {\n        if (&amp;other != this) {\n            delete[] data;\n            rows = other.rows;\n            cols = other.cols;\n            data = new T[rows*cols];\n            std::copy(data, &amp;data[rows*cols], other.data);\n        }\n        return *this;\n    }\n\n    /* for C++11:\n\n    matrix&lt;T&gt;&amp; operator=(matrix&lt;T&gt; &amp;&amp;other) {\n        delete[] data;\n        data = nullptr;\n        rows = cols = 0;\n\n        std::swap(rows, other.rows);\n        std::swap(cols, other.cols);\n        std::swap(data, other.data);\n\n        return *this;\n    }\n    */\n};\n</code></pre>\n\n<p>However, the <a href=\"https://stackoverflow.com/questions/3279543/\">copy-and-swap idiom</a> would be safer:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass matrix {\nprivate:\n    T* data;\n    size_t const rows, cols;\n\npublic:\n    matrix(size_t rows, size_t cols) : rows(rows), cols(cols) {\n        data = new T[rows*cols];\n    }\n\n    matrix(const matrix&lt;T&gt; &amp;src) : rows(src.rows), cols(src.cols) {\n        data = new T[rows*cols];\n        std::copy(data, &amp;data[rows*cols], src.data);\n    }\n\n    /* for C++11:\n\n    matrix(matrix&lt;T&gt; &amp;&amp;src) : rows(0), cols(0), data(nullptr) {\n        src.swap(*this);\n    }\n    */\n\n    ~matrix() {\n        delete [] data;\n    }\n\n    T&amp; operator()(size_t row, size_t col) {\n        return data[(row * cols) + col];\n    }\n\n    T operator()(size_t row, size_t col) const {\n        return data[(row * cols) + col];\n    }\n\n    void swap(matrix&lt;T&gt;&amp; other) noexcept\n    {\n        std::swap(rows, other.rows);\n        std::swap(cols, other.cols);\n        std::swap(data, other.data);\n    }\n\n    matrix&lt;T&gt;&amp; operator=(const matrix&lt;T&gt;&amp; other) {\n        if (&amp;other != this) {\n            matrix&lt;T&gt;(other).swap(*this);\n        }\n        return *this;\n    }\n\n    /* for C++11:\n\n    matrix&lt;T&gt;&amp; operator=(matrix&lt;T&gt; &amp;&amp;other) {\n        other.swap(*this);\n        return *this;\n    }\n    */\n};\n</code></pre>\n\n<p>In the latter case, the copy assignment and move assignment operators can be merged together into a single operator in C++11:</p>\n\n<pre><code>matrix&lt;T&gt;&amp; operator=(matrix&lt;T&gt; other) {\n    other.swap(*this);\n    return *this;\n}\n</code></pre>\n\n<p>Or, you could just follow the Rule of Zero by using <code>std::vector</code> and let the compiler and STL do all of the work for you:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass matrix {\nprivate:\n    std::vector&lt;T&gt; data;\n    size_t const rows, cols;\n\npublic:\n    matrix(size_t rows, size_t cols) : rows(rows), cols(cols), data(rows*cols) {\n    }\n\n    T&amp; operator()(size_t row, size_t col) {\n        return data[(row * cols) + col];\n    }\n\n    T operator()(size_t row, size_t col) const {\n        return data[(row * cols) + col];\n    }\n};\n</code></pre>\n\n<blockquote>\n  <p>Because I don't have a default constructor within the <code>operator=</code> function, the data in this is just garbage, right?</p>\n</blockquote>\n\n<p>No, because <code>operator=</code> can only be called on a previously constructed object, just like any other class instance method.</p>\n\n<blockquote>\n  <p>Even if I had a default constructor would it be called?</p>\n</blockquote>\n\n<p>In the example you showed, no.</p>\n\n<blockquote>\n  <p>I would like to clarify that I'm only concerned for a call like this:</p>\n\n<pre><code>matrix&lt;int&gt; A = B;\n</code></pre>\n</blockquote>\n\n<p>That statement does not call <code>operator=</code> at all.  The use of <code>=</code> is just syntax sugar, the compiler actually performs <em>copy construction</em> as if you had written this instead:</p>\n\n<pre><code>matrix&lt;int&gt; A(B);\n</code></pre>\n\n<p>Which requires a copy constructor, which you have not implemented, and the compiler-generated copy constructor is not sufficient to make a deep copy of your array.</p>\n\n<p><em>Copy assignment</em> would look more like this instead:</p>\n\n<pre><code>matrix&lt;int&gt; A; // &lt;-- default construction\nA = B; // &lt;-- copy assignment\n</code></pre>\n\n<p></p>\n\n<pre><code>matrix&lt;int&gt; A(B); // &lt;-- copy construction\nA = C; // &lt;-- copy assignment\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1097517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/60ea0ac47e08c82ea6d4948ef04a4c5b?s=128&d=identicon&r=PG", "display_name": "McAngus", "link": "https://stackoverflow.com/users/1097517/mcangus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 1, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 42684836, "answer_count": 4, "score": -1, "last_activity_date": 1489028751, "creation_date": 1489014602, "last_edit_date": 1489015605, "question_id": 42683694, "link": "https://stackoverflow.com/questions/42683694/does-the-operator-call-the-constructor-new-in-c", "title": "Does the = operator call the constructor/new in C++?", "body": "<p>Say I have a (immutable) matrix class that dynamically creates an array in the constructor, and deletes it in the deconstructor.</p>\n\n<pre><code>template &lt;typename T&gt;\nclass matrix {\nprivate:\n    T* data;\npublic:\n    size_t const rows, cols;\n    matrix(size_t rows, size_t cols) : rows(rows), cols(cols) {\n        data = new T[rows*cols];\n    }\n    ~matrix() {\n        delete [] data;\n    }\n    //access data\n    T&amp; operator()(size_t row, size_t col) {\n        return data[row*cols + col];\n    }\n    matrix&lt;T&gt;&amp; operator=(const matrix&lt;T&gt;&amp; other) {\n        //what will this-&gt;data contain? do I need to delete anything here?\n        //should I call the constructor?\n        rows = other.rows;\n        cols = other.cols;\n        data = new T[rows*cols];\n        std::copy(&amp;data[0],&amp;data[0] + (sizeof(T)*rows*cols),&amp;other.data[0]);\n        return *this;\n    }\n}\n</code></pre>\n\n<p>Because I don't have a default constructor within the <code>operator=</code> function, the data in <code>this</code> is just garbage, right? Even if I had a default constructor would it be called? I'm basing the above code off of the example <a href=\"http://en.cppreference.com/w/cpp/language/copy_assignment\" rel=\"nofollow noreferrer\">here</a>. Note that I have left out input validation/bounds checking for brevity.</p>\n\n<p>EDIT:\nI would like to clarify that I'm only concerned for a call like this:</p>\n\n<pre><code>matrix&lt;int&gt; A = B;\n</code></pre>\n\n<p>Where B has already been initialized.</p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "edited": false, "score": 0, "creation_date": 1489014848, "post_id": 42683661, "comment_id": 72491506, "body": "Try moving your class definition before your link list import or putting the class in a .cpp and .h file."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7306693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271384256255717/picture?type=large", "display_name": "Alzer Casi&#241;o", "link": "https://stackoverflow.com/users/7306693/alzer-casi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1489016260, "post_id": 42683862, "comment_id": 72492019, "body": "Thanks! You explained it well."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489017098, "post_id": 42683862, "comment_id": 72492332, "body": "The correct way would be to add to <code>Node</code> a constructor taking a <code>T</code>. And have <code>header</code> and <code>trailer</code> be <code>nullptr</code> and really point to expected node instead of <code>header-&gt;next</code>."}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": true, "score": 0, "last_activity_date": 1489015518, "creation_date": 1489015518, "answer_id": 42683862, "question_id": 42683661, "link": "https://stackoverflow.com/questions/42683661/templateclassname-classname-t-cannot-assign-class-to-template-class-argument/42683862#42683862", "title": "templateClassName &lt;className&gt; t; Cannot assign class to template class argument", "body": "<p>In <code>LinkedList&lt;Student&gt;</code>, the inner struct <code>Node</code> looks like this:</p>\n\n<pre><code>struct Node\n{\n    Student elem;\n    Node *prev;\n    Node *next;\n};\n</code></pre>\n\n<p>so every Node contains a Student.</p>\n\n<p>However, you'll note that <code>Student</code> has a constructor that takes arguments:</p>\n\n<pre><code>Student(string n, string i, int s)\n</code></pre>\n\n<p>and it does not have a constructor that does not take arguments.</p>\n\n<p>So if you were to write <code>new Node</code>, the computer would create a Node, and as part of that it would create a <code>Student</code>, but it can't do that because it doesn't have any arguments to give to <code>Student</code>'s constructor.</p>\n\n<p>That's (approximately) what \"deleted function\" means here - normally the compiler would make a <code>Node</code> constructor for you, but in this case it can't.</p>\n\n<p>And so <code>new Node</code> doesn't work, because <code>Node</code> doesn't have a constructor.</p>\n\n<p>Probably the easiest fix here is just to give <code>Student</code> a no-argument constructor as well - something like:</p>\n\n<pre><code>Student()\n{\n    name = \"\";\n    id = \"\";\n    score = 0;\n    grade = getGrade(score);\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7306693, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271384256255717/picture?type=large", "display_name": "Alzer Casi&#241;o", "link": "https://stackoverflow.com/users/7306693/alzer-casi%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 42683862, "answer_count": 1, "score": 0, "last_activity_date": 1489015518, "creation_date": 1489014441, "last_edit_date": 1489014579, "question_id": 42683661, "link": "https://stackoverflow.com/questions/42683661/templateclassname-classname-t-cannot-assign-class-to-template-class-argument", "title": "templateClassName &lt;className&gt; t; Cannot assign class to template class argument", "body": "<p>C++ noob here. I trying to create a student information program by implementing\na Linked-List class as its data structure. </p>\n\n<p>LinkedList.h</p>\n\n<pre><code>#pragma once\n#include &lt;stdexcept&gt;\n\ntemplate &lt;typename T&gt;\nclass LinkedList\n{\nprivate:\n    struct Node\n    {\n        T elem;\n        Node *prev;\n        Node *next;\n    };\n\n    Node *header;\n    Node *trailer;\n    int size;\n\npublic:\n    LinkedList()\n    {\n        header = new Node;\n        trailer = new Node;\n        header-&gt;next = trailer;\n        trailer-&gt;prev = header;\n    }\n\n    ~LinkedList()\n    {\n        while (!isEmpty())\n            removeFirst();\n        delete header;\n        delete trailer;\n    }\n\n    const int&amp; n_elem() const\n    {\n        return size;\n    }\n\n    const bool isEmpty() const\n    {\n        return size == 0;\n    }\n\n    const T&amp; getFirst() const\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        return header-&gt;next-&gt;elem;\n    }\n\n    const T&amp; getLast() const\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        return trailer-&gt;prev-&gt;elem;\n    }\n\n    void addFirst(const T&amp; item)\n    {\n        addBetween(item, header, header-&gt;next);\n    }\n\n    void addLast(const T&amp; item)\n    {\n        addBetween(item, trailer-&gt;prev, trailer);\n    }\n\n    void addAt(int index, const T&amp; item)\n    {\n        Node *node = header;\n        for (int i = 0; i &lt; index; i++)\n            node = node-&gt;next;\n        addBetween(item, node, node-&gt;next);\n    }\n\n    const T removeFirst()\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        return remove(header-&gt;next);\n    }\n\n    const T removeLast()\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        return remove(trailer-&gt;prev);\n    }\n\n    const T removeAt(int index)\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        Node *node = header;\n        for (int i = 0; i &lt; index; i++)\n            node = node-&gt;next;\n        return remove(node-&gt;next);\n    }\n\n    const T&amp; itemAt(int index) const\n    {\n        if (isEmpty())\n            throw std::out_of_range(\"List is empty.\");\n        Node *node = header;\n        for (int i = 0; i &lt; index; i++)\n            node = node-&gt;next;\n        return node-&gt;next-&gt;elem;\n    }\n\nprotected:\n    void addBetween(const T&amp; item, Node *predecessor, Node *successor)\n    {\n        Node *newest = new Node;\n        newest-&gt;prev = predecessor;\n        newest-&gt;next = successor;\n        predecessor-&gt;next = newest;\n        successor-&gt;prev = newest;\n        size++;\n    }\n\n    const T remove(Node *node)\n    {\n        Node *predecessor = node-&gt;prev;\n        Node *successor = node-&gt;next;\n        predecessor-&gt;next = successor;\n        successor-&gt;prev = predecessor;\n        T oldItem = node-&gt;elem;\n        size--;\n        delete node;\n        return oldItem;\n    }\n};\n</code></pre>\n\n<p>Student class is defined below.</p>\n\n<p>Program.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"LinkedList.h\"\n\nusing namespace std;\n\nclass Student\n{\npublic:\n    string name;\n    string id;\n    int score;\n    static const int total = 100;\n    double grade;\n\n    Student(string n, string i, int s)\n    {\n        name = n;\n        id = i;\n        score = s;\n        grade = getGrade(score);\n    }\n\nprivate:\n    double getGrade(int score)\n    {\n        return (23.0 / 3.0 - ((20.0 * score) / (3.0 * total)));\n    }\n};\n\nLinkedList&lt;Student&gt; l;\n\nint main()\n{\n    //Some code here\n    return 0;\n}\n</code></pre>\n\n<p>I don't know the reason why</p>\n\n<pre><code>LinkedList&lt;Student&gt; l;\n</code></pre>\n\n<p>produces an error:</p>\n\n<pre><code>LinkedList&lt;Student&gt;::Node::Node(void)': attempting to reference a deleted function\n</code></pre>\n\n<p>But when I use:</p>\n\n<pre><code>LinkedList&lt;Student*&gt; l;\n</code></pre>\n\n<p>there's no error.</p>\n\n<p>Please help.\nI'm using Visual Studio 2015.</p>\n\n<p>And sorry for bad English.</p>\n"}, {"tags": ["c++", "qt", "sqlite"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1489014887, "post_id": 42683579, "comment_id": 72491519, "body": "Have you verified in your debugger than the <code>path</code> variable is what you think it is? Also, read up on how to use prepared queries -- your current code contains an obvious opportunity for SQL injection attacks."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489014987, "post_id": 42683579, "comment_id": 72491561, "body": "The sqlite support in qt will at least try to create a new db if the database file does not exist in the folder."}], "answers": [{"tags": [], "owner": {"reputation": 666, "user_id": 591784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c01c539fe6d1ca726f1e92ce427dd89?s=128&d=identicon&r=PG&f=1", "display_name": "Vada Poch&#233;", "link": "https://stackoverflow.com/users/591784/vada-poch%c3%a9"}, "is_accepted": true, "score": 5, "last_activity_date": 1489016574, "creation_date": 1489016574, "answer_id": 42684081, "question_id": 42683579, "link": "https://stackoverflow.com/questions/42683579/connect-to-sqlite-database-using-qt/42684081#42684081", "title": "Connect to SQLite database using qt", "body": "<p>The error code tells you that the database is not open because your <code>DBManager::connOpen()</code> function seems to be doing everything except actually opening the database, contrary to how it's named. </p>\n\n<p>You need to call <a href=\"http://doc.qt.io/qt-5/qsqldatabase.html#open%20QSqlDatabase::open()\" rel=\"noreferrer\"><code>QSqlDatabase::open()</code></a> at the end of <code>DBManager::connOpen()</code> function so that the database gets opened and will be made ready for use.</p>\n\n<pre><code>void DBManager::connOpen()\n{\n    path = QCoreApplication::applicationDirPath() + \"/GameSuitedb.db\";\n    mydb=QSqlDatabase::addDatabase(\"QSQLITE\");\n    mydb.setDatabaseName(path);\n    if(!mydb.open())\n    {\n        //use lastError() here to figure out what went wrong.  \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 5808700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a49aa2f16a76d8494a3f771778b482a3?s=128&d=identicon&r=PG&f=1", "display_name": "A. Shears", "link": "https://stackoverflow.com/users/5808700/a-shears"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 0, "accepted_answer_id": 42684081, "answer_count": 1, "score": 1, "last_activity_date": 1489016574, "creation_date": 1489014029, "question_id": 42683579, "link": "https://stackoverflow.com/questions/42683579/connect-to-sqlite-database-using-qt", "title": "Connect to SQLite database using qt", "body": "<p>I am having trouble connecting to my sqlite database using my qt application.\nI have a helper class DBManager that is supposed to have functions to open and close the database, as I would like to reuse the code in multiple places.\nHere is the dbmanager.cpp</p>\n\n<pre><code>DBManager::DBManager()\n{\n\n}\nvoid DBManager::connOpen()\n{\n\n    path = QCoreApplication::applicationDirPath() + \"/GameSuitedb.db\";\n    mydb=QSqlDatabase::addDatabase(\"QSQLITE\");\n    mydb.setDatabaseName(path);\n\nvoid DBManager::connClose() /*Closes connection and commits changes to database*/\n{\n    mydb.close();\n    mydb.removeDatabase(QSqlDatabase::defaultConnection);\n}\n</code></pre>\n\n<p>Note my database is named GameSuitedb and is located next to the executable\nAnd here is where I am trying to access my database:</p>\n\n<pre><code>void CreateUser::on_pushButton_submit_clicked()\n{\n    dbmanager.connOpen();\n    QString username = ui-&gt;lineEdit_username-&gt;text();\n    QString password = ui-&gt;lineEdit_password-&gt;text(); //Gets password text\n    QSqlQuery qry(dbmanager.mydb);\n    qry.prepare(\"INSERT INTO users (username,password) VALUES ('\"+username+\"', '\"+password+\"')\");\n\n    if(qry.exec()){\n    }\n    else{\n        ui-&gt;statusbar-&gt;showMessage(qry.lastError().text());\n    }\n        dbmanager.connClose();\n}\n</code></pre>\n\n<p>The error the above code gives me when launched is QSqlQuery::prepare: database not open.</p>\n"}, {"tags": ["c++", "mysql", "qt"], "comments": [{"owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "edited": false, "score": 0, "creation_date": 1489049202, "post_id": 42683438, "comment_id": 72503837, "body": "&quot;Copy sqldrivers folders to C:\\Qt\\Qt5.8.0\\5.8\\mingw53_32\\plugins&quot; from where ? the <code>sqldrivers</code>folder is already supposed to be in <code>&lt;Qt_install_path&gt;&#47;plugins</code>"}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1501362643, "post_id": 42683438, "comment_id": 77748856, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21450861/why-qmysql-driver-not-loaded-in-qt5-2\">Why QMYSQL driver not loaded in QT5.2?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "is_accepted": false, "score": 2, "last_activity_date": 1489049115, "creation_date": 1489049115, "answer_id": 42690575, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/42690575#42690575", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<p>This error generally means that Qt MySQL plugin is fine (as it is listed in available drivers), but you are a missing the MySQL dll (thus preventing the driver to load).</p>\n\n<p>The way to fix it is to place <code>libmysql.dll</code> somewhere in your PATH, e.g. adding the MySQL installation folder to PATH, or copy <code>libmysql.dll</code> in the same folder you have your exe in.</p>\n"}, {"tags": [], "owner": {"reputation": 283, "user_id": 7135523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6515c9c36e4a50a5a666652325467d2?s=128&d=identicon&r=PG&f=1", "display_name": "dante", "link": "https://stackoverflow.com/users/7135523/dante"}, "is_accepted": false, "score": 1, "last_activity_date": 1499523907, "creation_date": 1499523907, "answer_id": 44987261, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/44987261#44987261", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<ol>\n<li>You must rebuild mysql driver.</li>\n<li><p>Follow this <a href=\"http://seppemagiels.com/blog/create-mysql-driver-qt5-windows\" rel=\"nofollow noreferrer\">guide</a></p>\n\n<p>Note: you need 3 things: </p>\n\n<p>a. qt-opensource-xxx-mingw492-xxx.exe for Qt Creator and Qt command\n    Prompt.</p>\n\n<p>b.qt-everywhere-opensource-src-xxx.zip for Qt source code, needed for mysql.pro file.\nc.mysql-connector-c-6.1.10-win32.zip needed for lib and include folder.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2175, "user_id": 1385405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b596564ab8096043060185e7c57687bf?s=128&d=identicon&r=PG", "display_name": "gfrigon", "link": "https://stackoverflow.com/users/1385405/gfrigon"}, "edited": false, "score": 2, "creation_date": 1507842330, "post_id": 45394110, "comment_id": 80384197, "body": "Just to make it clear, if you are using a x64 version of Qt, you need to use the x64 connector file. If you are using a x86 version of Qt, you need to use the x86 connector file. Connectors can be downloaded here: <a href=\"https://dev.mysql.com/downloads/connector/c/\" rel=\"nofollow noreferrer\">dev.mysql.com/downloads/connector/c</a>. Doing so worked for me (both versions of Qt)."}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "reply_to_user": {"reputation": 2175, "user_id": 1385405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b596564ab8096043060185e7c57687bf?s=128&d=identicon&r=PG", "display_name": "gfrigon", "link": "https://stackoverflow.com/users/1385405/gfrigon"}, "edited": false, "score": 0, "creation_date": 1507845073, "post_id": 45394110, "comment_id": 80385516, "body": "No objection. I have not seen MinGw_64 with Qt installer, but always MinGW32.  I am not using MSVC32/64.  Does msvc64 need specifically the 64 bit MySQL connector?"}], "tags": [], "owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "is_accepted": false, "score": 6, "last_activity_date": 1519384021, "last_edit_date": 1519384021, "creation_date": 1501362839, "answer_id": 45394110, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/45394110#45394110", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<p>There are 64 bit and 32 bit versions of <code>libmysql.dll</code>.\nrebuilding the Qt Driver is <strong>NOT a must</strong>.</p>\n\n<p>With the prebuilt version of Qt5.9.1, you still need to use the 32 bit version, it worked even with the 64 version of MySQL installation. without any rebuild of QT plugins or components.\n<a href=\"https://dev.mysql.com/downloads/connector/c/\" rel=\"nofollow noreferrer\">Download 32 bit MySQL connector here</a></p>\n\n<p>This was already answered here: <a href=\"https://stackoverflow.com/a/30925765/7478455\">medasumanth answer</a></p>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 10843280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2290e5d2d9b14fe9d81f5af1090bcac2?s=128&d=identicon&r=PG&f=1", "display_name": "Erick", "link": "https://stackoverflow.com/users/10843280/erick"}, "is_accepted": false, "score": 0, "last_activity_date": 1549887470, "creation_date": 1549887470, "answer_id": 54630462, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/54630462#54630462", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<p>I had the same problem. I could solved it by following Benjamin T advise. - Windows 10 - python 3.7 - PyQt5 - I copied the libmysql.dll file from the python 3.7/lib/site-packages folder to the Python 3.7 executable folder and everything started working just fine!</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6793993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96efb21da9584beab5b85146f3c5499e?s=128&d=identicon&r=PG&f=1", "display_name": "APetrovsky", "link": "https://stackoverflow.com/users/6793993/apetrovsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1550625761, "creation_date": 1550625761, "answer_id": 54777422, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/54777422#54777422", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<p>If anyone is stupid as i am so that's for you:\nWhat basically you should do is </p>\n\n<ol>\n<li>go to <a href=\"https://downloads.mysql.com/archives/c-c/\" rel=\"nofollow noreferrer\">https://downloads.mysql.com/archives/c-c/</a> and download specifically <strong>C</strong> !!!!!! MysqlConnector;</li>\n<li>place \"libmysql.dll\" and \"libmysql.lib\" (\"mysql-connector-c-6.1.11-winx64.zip\\mysql-connector-c-6.1.11-winx64\\lib\") into \"c:\\path_to_qt\\qt_version\\your_compiler\\bin\\\" for me it looked like \"c:\\Qt\\5.12.1\\mingw73_64\\bin\\\";</li>\n<li>reload creator and voila your mysql driver is perfectly loaded;</li>\n</ol>\n\n<p>So basically for those who want to understand what happened here:</p>\n\n<p>That \"qsqlmysql\" plugin is basically a qt interface that uses mysql-C connector methods.\nBut unfortunately this connector does not distributed with Qt, so you should provide it by yourself. </p>\n\n<p>If you want to distribute your software you should copy \"libmysql.dll\" into the folder with your \".exe\" file.</p>\n\n<p>I hope this will help someone save some time (3hours for me :) ).</p>\n"}], "owner": {"reputation": 91, "user_id": 6901428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c216c34542b29b692ea7befbc591793?s=128&d=identicon&r=PG&f=1", "display_name": "Xi Chen", "link": "https://stackoverflow.com/users/6901428/xi-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19686, "favorite_count": 1, "answer_count": 5, "score": 6, "last_activity_date": 1550625761, "creation_date": 1489013371, "question_id": 42683438, "link": "https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10", "title": "qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10", "body": "<p>When i tried to connect to mysql, there is a error:</p>\n\n<pre><code>QSqlDatabase: QMYSQL driver not loaded\nQSqlDatabase: available drivers: QSQLITE QMYSQL QMYSQL3 QODBC QODBC3 QPSQL QPSQL7\n\"Driver not loaded Driver not loaded\"\n</code></pre>\n\n<p>So i googled it, and i tried :</p>\n\n<p>1.Copy sqldrivers folders to C:\\Qt\\Qt5.8.0\\5.8\\mingw53_32\\plugins </p>\n\n<p>2.Copy libmysql.dll to C:\\Qt\\Qt5.8.0\\5.8\\mingw53_32\\bin </p>\n\n<p>but the error is still there.</p>\n\n<p>Is there anything i am missing?</p>\n"}, {"tags": ["c++", "c++11", "c++14", "range-v3"], "answers": [{"comments": [{"owner": {"reputation": 5285, "user_id": 195873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53912b2e0cc619ca6c81ab1406522c2a?s=128&d=identicon&r=PG", "display_name": "Eric Niebler", "link": "https://stackoverflow.com/users/195873/eric-niebler"}, "edited": false, "score": 1, "creation_date": 1489018487, "post_id": 42684079, "comment_id": 72492760, "body": "Ninja. Replace the <code>for</code> loop with a call of the <code>ranges::transform</code> algorithm for extra win."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 3, "last_activity_date": 1489016564, "creation_date": 1489016564, "answer_id": 42684079, "question_id": 42683389, "link": "https://stackoverflow.com/questions/42683389/how-to-transform-a-range-pair-by-pair-with-range-v3/42684079#42684079", "title": "How to transform a range, pair-by-pair with range-v3?", "body": "<p>You may do:</p>\n\n<pre><code>auto pair_view =\n    ranges::view::zip(lines | ranges::view::take(lines.size() - 1),\n                      lines | ranges::view::drop(1));\n\nfor (auto&amp;&amp; p : pair_view)\n{\n    p = removeOverlap(p);\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/1bc03d8810395ae9\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489017240, "post_id": 42684082, "comment_id": 72492390, "body": "In addition, the view will be iterable only once if I&#39;m correct."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489018398, "post_id": 42684082, "comment_id": 72492731, "body": "@Jarod42 The second time, you&#39;ll assume the previous set of elements are not to be overlapped with.  ;)"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1489018315, "last_edit_date": 1489018315, "creation_date": 1489016581, "answer_id": 42684082, "question_id": 42683389, "link": "https://stackoverflow.com/questions/42683389/how-to-transform-a-range-pair-by-pair-with-range-v3/42684082#42684082", "title": "How to transform a range, pair-by-pair with range-v3?", "body": "<pre><code>auto push_highwater = [](int&amp; highwater){\n  return [&amp;](line l) {\n    l.begin = (std::max)(highwater, l.begin);\n    highwater = l.end();\n    return l;\n  };\n};\n</code></pre>\n\n<p>Feed that to a transform view of your original range, then iterate over the transformed view in order.</p>\n\n<p>Start with a highwater of min int.  Ensure the int lives long enough.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/ac34d01794cfb579\" rel=\"nofollow noreferrer\">Live example</a> (couldn't figure out an easier way to transform from an array back into itself...)</p>\n"}], "owner": {"reputation": 479, "user_id": 3160876, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b6cd46ea1f9b89bee21d24848e6a403e?s=128&d=identicon&r=PG", "display_name": "csguth", "link": "https://stackoverflow.com/users/3160876/csguth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1489018315, "creation_date": 1489013167, "question_id": 42683389, "link": "https://stackoverflow.com/questions/42683389/how-to-transform-a-range-pair-by-pair-with-range-v3", "title": "How to transform a range, pair-by-pair with range-v3?", "body": "<p>I'm writing an algorithm to remove overlaps, given a range of lines (I'm calling it \"lines\" due to the ambiguity of the term \"range\" in this case).</p>\n\n<p>This is how a <code>line</code> looks like:</p>\n\n<pre><code>struct line {\n   int begin, width;\n   int end() const { return begin + width; }\n};\n</code></pre>\n\n<p><strong>Example:</strong> Given three lines (0,3), (1,2) and (5,1) I expect to obtain (0,3), (3,2) and (5,1) after the transformation. Here is a graphical representation of this problem:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JlARZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JlARZ.png\" alt=\"Overlap Removal\"></a></p>\n\n<p>This is one possible solution for the problem:</p>\n\n<pre><code>auto removeOverlap(std::pair&lt;line, line&gt; input)\n{\n    // keeps first line untouched and shifts the second line to the end of the first one, if necessary\n    return std::pair&lt;line, line&gt;{std::get&lt;0&gt;(input), {std::max(std::get&lt;0&gt;(input).end(), std::get&lt;1&gt;(input).begin), std::get&lt;1&gt;(input).width}};\n}\n\nint main(int argc, char *argv[])\n{\n\n    std::array&lt;line, 3&gt; lines{{{0,3},{1,2},{5,1}}};\n    for(int i = 0; i &lt; lines.size()-1; ++i)\n    {\n        std::tie(lines[i], lines[i+1]) = removeOverlap(std::make_pair(lines[i], lines[i+1]));\n    }\n    assert(lines[0].begin == 0);\n    assert(lines[1].begin == 3);\n    assert(lines[2].begin == 5);\n</code></pre>\n\n<p>My question: How could I do this using range-v3?</p>\n\n<p>I'm thinking of using a modified <code>view::chunk(N)</code> in which the size of the increment is 1 (instead of N). But I really don't know how to proceed from this point.</p>\n"}, {"tags": ["c++", "class", "oop", "templates", "abstract-class"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489017769, "post_id": 42683368, "comment_id": 72492541, "body": "Inside <code>Vertex</code> (and so inside <code>Graph&lt;W&gt;</code>), you can simply use <code>Vertex</code> instead of <code>typename Graph&lt;W&gt;::Vertex</code>."}], "answers": [{"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 4, "last_activity_date": 1489013507, "last_edit_date": 1489013507, "creation_date": 1489013302, "answer_id": 42683420, "question_id": 42683368, "link": "https://stackoverflow.com/questions/42683368/c-nested-class-methods/42683420#42683420", "title": "C++ nested class methods", "body": "<p>The only problem with your code is that you call <code>GetNext</code> from <code>Vertex</code> but <code>Vertex</code> has no <code>GetNext</code> member function.</p>\n\n<p>If you want to call a method of <code>Graph</code> from <code>Vertex</code>, then you need a <code>Graph</code> variable to call it on, e.g. a member variable:</p>\n\n<pre><code>struct Vertex {\n    Graph&amp; graph;\n\n    std::vector&lt;typename Graph&lt;W&gt;::Vertex&gt; next() {\n        return graph.GetNext(*this);\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 6469003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193d3585adcbd2361c4d704c6782060e?s=128&d=identicon&r=PG&f=1", "display_name": "dm33tri", "link": "https://stackoverflow.com/users/6469003/dm33tri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 42683420, "answer_count": 1, "score": 3, "last_activity_date": 1489013507, "creation_date": 1489013089, "question_id": 42683368, "link": "https://stackoverflow.com/questions/42683368/c-nested-class-methods", "title": "C++ nested class methods", "body": "<p>I wanted to create a structure similar to this:</p>\n\n<pre><code>template &lt;typename W&gt;\nclass Graph {\npublic:\n    struct Vertex {\n        std::vector&lt;typename Graph&lt;W&gt;::Vertex&gt; next() {\n            return GetNext((*this));\n        }\n    };\n    virtual std::vector&lt;typename Graph&lt;W&gt;::Vertex&gt; GetNext(Vertex v) = 0;\n};\n</code></pre>\n\n<p>(don't look at missing fields etc.)</p>\n\n<p>I've tried something like this but it gives all kinds of errors, including syntax errors or \"unable to instantiate\" even thought I try to instantiate derived class which has GetNext overriden.</p>\n\n<p>Question is: is that structure even allowed in C++ and how to implement it correctly?</p>\n"}, {"tags": ["c++", "c++11", "visual-studio-2015", "stdbind"], "comments": [{"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 1, "creation_date": 1489012403, "post_id": 42683151, "comment_id": 72490484, "body": "Intellisense can usually be safely ignored.  It&#39;s almost completely useless."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1489012465, "post_id": 42683151, "comment_id": 72490514, "body": "The Visual Studio IntelliSense parser is not the same as used by the Visual C++ compiler. IntelliSense can sometimes think that valid code is invalid and report it as an error."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1489014038, "post_id": 42683151, "comment_id": 72491212, "body": "Try using a lambda instead of <code>std::bind</code>, as there are very few reasons to use <code>std::bind</code> over lambda other than obscure breaks caused by <code>std::bind</code> quirks, complex and unreadable error messages from <code>std::bind</code> mistakes, and general masochism?"}, {"owner": {"reputation": 47, "user_id": 7397156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af712551b2020f4b212a63af29758e?s=128&d=identicon&r=PG&f=1", "display_name": "coJetty", "link": "https://stackoverflow.com/users/7397156/cojetty"}, "edited": false, "score": 0, "creation_date": 1489155409, "post_id": 42683151, "comment_id": 72560812, "body": "I reworked my code to use lambdas and it&#39;s great. Readability is improved and no more error messages. Thanks Yakk!"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1492285694, "post_id": 42683151, "comment_id": 73918913, "body": "Well, what changed on your PC last night?"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 7872015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e555a245f334c6f8dd2d266d63e819?s=128&d=identicon&r=PG&f=1", "display_name": "Max Pustovoyt", "link": "https://stackoverflow.com/users/7872015/max-pustovoyt"}, "is_accepted": true, "score": 2, "last_activity_date": 1492285533, "last_edit_date": 1492285533, "creation_date": 1492275353, "answer_id": 43428736, "question_id": 42683151, "link": "https://stackoverflow.com/questions/42683151/false-positive-error-using-stdfunctional-in-vs2015/43428736#43428736", "title": "false-positive error using std::functional in vs2015", "body": "<p>Had the same problem with VS 2015 C++, I hate it. Microsoft drives me crazy.</p>\n\n<p>For now I am using a nasty work around by moving the code to a static function. In your case it will be similar to the following:</p>\n\n<pre><code>class MyClass {\n    // other code\n\n    int doE () {\n        return 0;\n    }\n\n    static int statDoE(MyClass * myClass) {\n        return myClass-&gt;doE();\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7397156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25af712551b2020f4b212a63af29758e?s=128&d=identicon&r=PG&f=1", "display_name": "coJetty", "link": "https://stackoverflow.com/users/7397156/cojetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 43428736, "answer_count": 1, "score": 3, "last_activity_date": 1492285533, "creation_date": 1489012247, "last_edit_date": 1489019627, "question_id": 42683151, "link": "https://stackoverflow.com/questions/42683151/false-positive-error-using-stdfunctional-in-vs2015", "title": "false-positive error using std::functional in vs2015", "body": "<p>I have implemented some test functionals yesterday and everything compiled and worked fine without errors. Today i came back to my PC and my <code>std::bind</code>'s are underlined red but compile without error. Seems like Intellisense and the compiler do not agree on the <code>std::bind</code> type. How can I fix this?</p>\n\n<pre><code>#include &lt;functional&gt;\n\nclass MyClass {\npublic:\n    int doE() {\n        return 0;\n    }\n\n    int doF() {\n        return 1;\n    }\n};\n\n\nvoid main()\n{\n    MyClass obj;\n    std::function&lt;int()&gt; f = std::bind(&amp;MyClass::doE, obj); // underlined red\n    std::cout &lt;&lt; f();\n}\n</code></pre>\n\n<p>The error message is as follows: </p>\n\n<blockquote>\n<pre><code>Error (active)\n    no suitable user-defined conversion from \"std::_Binder&lt;std::_Unforced, int (MyClass::*)(), MyClass &amp;&gt;\" to \"std::function&lt;int ()&gt;\" exists\n    functionals\n    c:\\functionals\\functionals\\thirdFunctionOnObject.h\n</code></pre>\n</blockquote>\n\n<p>I do have the same error type (Intellisense saying there is an error, but it compiles just fine) in more sophisticated code, where I used <code>std::mem_fn().</code></p>\n"}, {"tags": ["c++", "variadic-templates", "using"], "comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1489012326, "post_id": 42683133, "comment_id": 72490449, "body": "you can&#39;t. But depending on the use you can get alternate constructs"}, {"owner": {"reputation": 1157, "user_id": 4615411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10203968548633918/picture?type=large", "display_name": "Giora Guttsait", "link": "https://stackoverflow.com/users/4615411/giora-guttsait"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1489012665, "post_id": 42683133, "comment_id": 72490598, "body": "I need to get the variadic classes from Foo. Something like <code>Foo::OtherTypes</code>"}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 1, "creation_date": 1489012923, "post_id": 42683133, "comment_id": 72490729, "body": "would something like <code>using types_tuple = std::tuple&lt;OtherTypes...&gt;</code> be sufficient?"}, {"owner": {"reputation": 1889, "user_id": 7038446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38faf3b21f6b84c3d25269cf3919d8a?s=128&d=identicon&r=PG&f=1", "display_name": "felix", "link": "https://stackoverflow.com/users/7038446/felix"}, "edited": false, "score": 0, "creation_date": 1489014718, "post_id": 42683133, "comment_id": 72491456, "body": "So you want to use the pack which Foo holds as a template argument after? or using it as the parameter list of a function?"}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1489015022, "creation_date": 1489015022, "answer_id": 42683771, "question_id": 42683133, "link": "https://stackoverflow.com/questions/42683133/using-with-variadic-template/42683771#42683771", "title": "Using with variadic template", "body": "<p>You cannot have a pack of types as a type in a class.</p>\n\n<p>The closest you can get is roughly:</p>\n\n<pre><code>template&lt;class...Ts&gt; struct types_t { constexpr types_t(){}; };\ntemplate&lt;class...Ts&gt; constexpr types_t&lt;Ts...&gt; types{};\n</code></pre>\n\n<p>these are values and types that represent a package of types.</p>\n\n<pre><code>template&lt;class Type, class... OtherTypes&gt;\nclass Foo\n{\n  using type=Type;\n  using types=types_t&lt;OtherTypes...&gt;;\n};\n</code></pre>\n\n<p>then we can write helper functions that consume bundled-up types and use them elsewhere.</p>\n\n<pre><code>template&lt;template&lt;class...&gt;class Z, class Types&gt;\nstruct apply_types;    \ntemplate&lt;template&lt;class...&gt;class Z, class...Ts&gt;\nstruct apply_types&lt;Z, types_t&lt;Ts...&gt;&gt; {\n  using type=Z&lt;Ts...&gt;;\n};\n\ntemplate&lt;template&lt;class...&gt;class Z, class Types&gt;\nusing apply_types_t = typename apply_types&lt;Z,Types&gt;::type;\n</code></pre>\n\n<p>now <code>apply_types&lt; some_template, some_types_t &gt;</code> takes the types in the bundle and passes them to the template.</p>\n"}, {"tags": [], "owner": {"reputation": 1889, "user_id": 7038446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38faf3b21f6b84c3d25269cf3919d8a?s=128&d=identicon&r=PG&f=1", "display_name": "felix", "link": "https://stackoverflow.com/users/7038446/felix"}, "is_accepted": false, "score": 0, "last_activity_date": 1489015306, "creation_date": 1489015306, "answer_id": 42683826, "question_id": 42683133, "link": "https://stackoverflow.com/questions/42683133/using-with-variadic-template/42683826#42683826", "title": "Using with variadic template", "body": "<p>Let's assume that you want to use the pack as template argument. Then you can try the following approach.</p>\n\n<pre><code>#include &lt;utility&gt;\n\ntemplate &lt;class... Types&gt;\nstruct Foo {};\n\ntemplate &lt;template &lt;class...&gt; class Template,\n          class... Types,\n          template &lt;class...&gt; class T&gt;\nTemplate&lt;Types...&gt; foo(const T&lt;Types...&gt; &amp;);\n\ntemplate &lt;template &lt;class...&gt; class Template, class T&gt;\nusing Type = decltype(foo&lt;Template&gt;(std::declval&lt;T&gt;()));\n\nint main() {\n  using T = Foo&lt;int, int&gt;;\n\n  // As template argument\n  using Tuple = Type&lt;std::tuple, T&gt;;\n  static_assert(std::is_same&lt;Tuple, std::tuple&lt;int, int&gt; &gt;::value, \"\");\n\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 4615411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10203968548633918/picture?type=large", "display_name": "Giora Guttsait", "link": "https://stackoverflow.com/users/4615411/giora-guttsait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1489015306, "creation_date": 1489012162, "question_id": 42683133, "link": "https://stackoverflow.com/questions/42683133/using-with-variadic-template", "title": "Using with variadic template", "body": "<p>I know that the following code compile:</p>\n\n<pre><code>template&lt;class Type&gt;\nclass Foo\n{\n    using type = Type;\n};\n</code></pre>\n\n<p>now, I'm trying to compile the following code:</p>\n\n<pre><code>template&lt;class Type, class... OtherTypes&gt;\nclass Foo\n{\n    using type = Type;\n    // using types = OtherTypes;\n    // using... types = OtherTypes;\n    // using types... = OtherTypes;\n    // using types = OtherTypes...;\n    // using types... = OtherTypes...;\n};\n</code></pre>\n\n<p>I tried all of the options of the code in comments, but none of them compile.\nHow can I fix it?</p>\n"}, {"tags": ["c++", "class", "struct", "callback", "boggle"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1489012019, "post_id": 42683082, "comment_id": 72490311, "body": "Please show actual code, not your interpretation of it. What you show is not compilable at all."}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1489012162, "post_id": 42683082, "comment_id": 72490365, "body": "Try to declare <code>int Boggle::CmpByIndex(boardIndex a, boardIndex b)</code> as a friend function"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1489012182, "post_id": 42683082, "comment_id": 72490379, "body": "If you don&#39;t have objects of the class, all your member functions should be static."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1489012192, "post_id": 42683082, "comment_id": 72490384, "body": "Member functions needs an <i>object</i> to be called on. Have you tried making the function <code>static</code> (which is hinted at by the error message)?"}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1489012245, "post_id": 42683082, "comment_id": 72490404, "body": "@someprogrammerdude the <b>title</b> precisely asks how to do it <i>without</i> making a function static, so suggesting to make it <code>static</code> makes no sense"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 1, "creation_date": 1489012306, "post_id": 42683082, "comment_id": 72490438, "body": "@Fureeish But it seems like his mistake is in making the function non-static in the first place."}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1489012360, "post_id": 42683082, "comment_id": 72490460, "body": "@Barmar but should we assume that? I&#39;m pretty sure that declaring that function as a <code>friend</code> will solve the problem <b>and</b> it won&#39;t become <code>static</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1489012441, "post_id": 42683082, "comment_id": 72490497, "body": "@Fureeish If it&#39;s not static, you need to call the method through an object. What object will it be called through?"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 1, "creation_date": 1489012548, "post_id": 42683082, "comment_id": 72490553, "body": "@Fureeish Why should it be a <code>friend</code> function? Do you mean to turn the <i>member</i> function into a non-member function? Also, the title just says that the function is <i>currently</i> non-static, but I see no requirement that it must stay that way (even though it might be loosely implied)."}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1489012624, "post_id": 42683082, "comment_id": 72490583, "body": "@Barmar, if a function is declared as a friend, you can pass object as a parameter. However yes, I see my bad logic here, I pointed out the title and I also ignored the fact that <code>friend</code> makes a function non-member. My bad"}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1489013095, "post_id": 42683082, "comment_id": 72490811, "body": "@Fureeish being a friend of a class doens&#39;t allow you to pass an object of that class as a parameter, <i>all</i> functions can do that. Friendship gives you access to privates"}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "reply_to_user": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1489013345, "post_id": 42683082, "comment_id": 72490914, "body": "@caleth I do know that"}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1489012853, "last_edit_date": 1489012853, "creation_date": 1489012510, "answer_id": 42683218, "question_id": 42683082, "link": "https://stackoverflow.com/questions/42683082/how-to-call-a-non-static-member-function-within-its-own-class-in-c/42683218#42683218", "title": "How to call a non-static member function within its own class in C++", "body": "<blockquote>\n  <p>I don't have any objects of the Boggle class - is there another way of calling the CmpByIndex function here?</p>\n</blockquote>\n\n<p>If you do not have any objects then you cannot call non-static member function. So you have 2 solutions:</p>\n\n<ul>\n<li>make this function either static or non member of class <code>Boogie</code></li>\n<li>create or somehow obtain an instance of <code>Boogle</code> and bind it to call of this method</li>\n</ul>\n"}], "owner": {"reputation": 77, "user_id": 6590925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2834d43e2ccadc6b52c9039c6783556?s=128&d=identicon&r=PG&f=1", "display_name": "whitehall", "link": "https://stackoverflow.com/users/6590925/whitehall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 42683218, "answer_count": 1, "score": -3, "last_activity_date": 1489018670, "creation_date": 1489011949, "last_edit_date": 1489018670, "question_id": 42683082, "link": "https://stackoverflow.com/questions/42683082/how-to-call-a-non-static-member-function-within-its-own-class-in-c", "title": "How to call a non-static member function within its own class in C++", "body": "<p>I am building a class Boggle in C++. In the Boggle class, I have declared a structure type called boardIndex:</p>\n\n<pre><code>struct Boggle::boardIndex {\n    int row, col;\n};\n</code></pre>\n\n<p>And a callback function to compare two \"boardIndex\"s:</p>\n\n<pre><code>int Boggle::CmpByIndex(boardIndex a, boardIndex b)\n</code></pre>\n\n<p>I want to pass the callback function to a Set of boardIndex elements within the Boggle.cpp file:</p>\n\n<pre><code>Set&lt;boardIndex&gt; usedIndices(CmpByIndex); \n</code></pre>\n\n<p>Is this possible? In the current form, I'll get an error that a \"reference to non-static member function must be called.\" I don't have any objects of the Boggle class - is there another way of calling the CmpByIndex function here? </p>\n"}, {"tags": ["c++", "r", "tcl", "swig"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1489012047, "post_id": 42682967, "comment_id": 72490320, "body": "You probably need to link with Tcl&#39;s import library"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7680912, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8ZCfFkDyPLo/AAAAAAAAAAI/AAAAAAAAABc/ro8bMAILXxs/photo.jpg?sz=128", "display_name": "Srin", "link": "https://stackoverflow.com/users/7680912/srin"}, "edited": false, "score": 0, "creation_date": 1489971448, "post_id": 42683355, "comment_id": 72889570, "body": "Thank You fixed the issue by adding -ltcl86.dll to the -L path"}], "tags": [], "owner": {"reputation": 474, "user_id": 1036289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3632deba7e239ae6e1e57a3219f1212c?s=128&d=identicon&r=PG", "display_name": "Cjolly", "link": "https://stackoverflow.com/users/1036289/cjolly"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013033, "creation_date": 1489013033, "answer_id": 42683355, "question_id": 42682967, "link": "https://stackoverflow.com/questions/42682967/tcl-undefined-reference-to-imp-tcl-resetresult-for-g/42683355#42683355", "title": "TCL - undefined reference to `_imp__Tcl_ResetResult&#39; for g++", "body": "<p>Its been a while since I've done C but I would think that you are not linking in the static/shared library that has the functions that g++ is complaining about.  In this case the tcl library something like libTclXX.dll.   I'm not too familiar with command lines on windows but  something like -llibtclXX.dll -L path_to_tcllib could be added. If I recall correctly tcl does provide a stub library for you to link staticially your extension then at runtime the shared library can be use to resolve the functions... so something like -llibtclstubs.dll . look in your installed lib  directory for actual names of these libraries. </p>\n"}], "owner": {"reputation": 25, "user_id": 7680912, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8ZCfFkDyPLo/AAAAAAAAAAI/AAAAAAAAABc/ro8bMAILXxs/photo.jpg?sz=128", "display_name": "Srin", "link": "https://stackoverflow.com/users/7680912/srin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 541, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489013033, "creation_date": 1489011463, "last_edit_date": 1489012752, "question_id": 42682967, "link": "https://stackoverflow.com/questions/42682967/tcl-undefined-reference-to-imp-tcl-resetresult-for-g", "title": "TCL - undefined reference to `_imp__Tcl_ResetResult&#39; for g++", "body": "<p>I am relatively new to TCL and I am trying to execute a C++ program using SWIG on Windows 10. Using command prompt. I am not using Visual Studio\nI am basically trying to run r_cpp using C++ MinGW from TCL</p>\n\n<pre><code>C:\\swigwin-3.0.12\\Examples\\r\\class&gt;swig -c++ -tcl example.i`\nC:\\swigwin-3.0.12\\Examples\\r\\class&gt;g++ -c example.cxx\nC:\\swigwin-3.0.12\\Examples\\r\\class&gt;g++ -c example_wrap.cxx -I/Tcl/include/tcl8.6\nC:\\swigwin-3.0.12\\Examples\\r\\class&gt;g++ -shared example.o example_wrap.o -o example.dll\nexample_wrap.o:example_wrap.cxx:(.text+0x981): undefined reference to `_imp__Tcl_ResetResult'`example_wrap.o:example_wrap.cxx:(.text+0x995): undefined reference to `_imp__Tcl_SetObjResult'`example_wrap.o:example_wrap.cxx:(.text+0x9b9): undefined reference to `_imp__Tcl_SetErrorCode'\nexample_wrap.o:example_wrap.cxx:(.text+0x9cf): undefined reference to `_imp__Tcl_ResetResult'\nexample_wrap.o:example_wrap.cxx:(.text+0x9f3): undefined reference to `_imp__Tcl_SetErrorCode\nexample_wrap.o:example_wrap.cxx:(.text+0xa1e): undefined reference to `_imp__Tcl_AppendResult'\nexample_wrap.o:example_wrap.cxx:(.text+0xa3c): undefined reference to `_imp__Tcl_NewStringObj'\ncollect2.exe: error: ld returned 1 exit status\n</code></pre>\n\n<p>Can someone please help me on this??\nShould I make changes to my Makefile.in in the folder?????</p>\n"}, {"tags": ["c++", "firefox", "visual-studio-2015", "nss"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "edited": false, "score": 0, "creation_date": 1489024619, "post_id": 42683094, "comment_id": 72494387, "body": "Thanks, I added the directories, I have not the _.lib _ Where I can download precompiled <b>NSS</b>"}, {"owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "reply_to_user": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "edited": false, "score": 0, "creation_date": 1489026469, "post_id": 42683094, "comment_id": 72494880, "body": "If NSS comes without them, you probably won&#39;t need any. Follow the instructions given by the NSS developers."}, {"owner": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "edited": false, "score": 0, "creation_date": 1489028435, "post_id": 42683094, "comment_id": 72495417, "body": "Thanks Felix, I tried but not work -&gt; Not found &#39;types.h&#39;."}, {"owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "reply_to_user": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "edited": false, "score": 0, "creation_date": 1489028817, "post_id": 42683094, "comment_id": 72495532, "body": "Ah, this isn&#39;t even an NSS header. This is the C header <code>sys&#47;types.h</code> which is shipped with Visual Studio. You need to specify the path to it. Locate it on your system and tell the compiler to use it."}, {"owner": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "edited": false, "score": 0, "creation_date": 1489110259, "post_id": 42683094, "comment_id": 72539196, "body": "I fixed the problem commented the line, but now a new error <i>CERT_some_functions unresolved</i> when I try to build it."}], "tags": [], "owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012007, "creation_date": 1489012007, "answer_id": 42683094, "question_id": 42682815, "link": "https://stackoverflow.com/questions/42682815/how-to-use-mozilla-network-security-servicesnss-in-vs2015/42683094#42683094", "title": "How to use Mozilla Network Security Services(NSS) in VS2015", "body": "<p>You need to put the location of the library's header files into your project properties. You probably also need to specify the directory where the library's <code>.lib</code> files are, in case it uses precompiled libs.</p>\n\n<p>Right-click the project, select <em>Properties</em> and enter the path to the library's header directory here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QjNM8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjNM8.png\" alt=\"VS 2015 Properties - VC++ Directories\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 7622771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6223eecafcb4cc343fb98cda248cc8e?s=128&d=identicon&r=PG", "display_name": "hector", "link": "https://stackoverflow.com/users/7622771/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489026227, "creation_date": 1489010859, "last_edit_date": 1489026227, "question_id": 42682815, "link": "https://stackoverflow.com/questions/42682815/how-to-use-mozilla-network-security-servicesnss-in-vs2015", "title": "How to use Mozilla Network Security Services(NSS) in VS2015", "body": "<p>I want use functions from <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/\" rel=\"nofollow noreferrer\">Mozilla Network Security Services</a>, but I didn't find how to work with them from <em>Visual Studio 2015</em>.</p>\n\n<p>I downloaded it <a href=\"https://ftp.mozilla.org/pub/security/nss/releases/NSS_3_9_RTM/src/\" rel=\"nofollow noreferrer\">from here</a>, but I get an error when I try to build it:</p>\n\n<blockquote>\n  <p>Not found 'types.h' </p>\n</blockquote>\n\n<p>(I searched for the file in the project folder and it does not exist)</p>\n\n<p>How to can use NSS in VS2015?</p>\n"}, {"tags": ["c++", "fork"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1489010532, "post_id": 42682678, "comment_id": 72489622, "body": "For the last question, just because a new process is created it doesn&#39;t have to start running immediately. The parent process can still run, and since you have multiple other processes one of them could easily print 2 and 3 before some other process prints 2."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1489010700, "post_id": 42682678, "comment_id": 72489695, "body": "Oh and please don&#39;t use multiple language tags unless you are comparing features of the languages you tag. Only use the language you&#39;re actually programming in (C++ for this example)."}, {"owner": {"reputation": 228, "user_id": 6695690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71975d278345b59f6050d179a02c592e?s=128&d=identicon&r=PG&f=1", "display_name": "user183833", "link": "https://stackoverflow.com/users/6695690/user183833"}, "edited": false, "score": 0, "creation_date": 1489010756, "post_id": 42682678, "comment_id": 72489724, "body": "In the tree what do the numbers represent? Each each node is a process?  Also if this helps 1 will be printed two 2 times. 2 will be printed 4 times, 3 -&gt; 8, 4-&gt;16  And the program will generate 15 new processes + 1 for the program invocation you make."}, {"owner": {"reputation": 217, "user_id": 6701599, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihw-taH00ZU/AAAAAAAAAAI/AAAAAAAAAoA/LVhK_HfOlx4/photo.jpg?sz=128", "display_name": "Fernando Coelho", "link": "https://stackoverflow.com/users/6701599/fernando-coelho"}, "edited": false, "score": 1, "creation_date": 1489010994, "post_id": 42682678, "comment_id": 72489839, "body": "It is possible for one process to output 3 before another outputs 2. It is not possible for one particular process to output 3 before 2. You could also print the pid (look for the getpid function) before the number. PS: An easy way to count the number of processes in the end is to comment first three couts."}, {"owner": {"reputation": 35, "user_id": 7579195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33583650cb73258fe415360fc9249760?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7579195/raj"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1489011369, "post_id": 42682678, "comment_id": 72489997, "body": "@Some programmer dude thanks for the explanation as well as  suggestion regarding the tags will surely follow from my next posts."}, {"owner": {"reputation": 35, "user_id": 7579195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33583650cb73258fe415360fc9249760?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7579195/raj"}, "reply_to_user": {"reputation": 228, "user_id": 6695690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71975d278345b59f6050d179a02c592e?s=128&d=identicon&r=PG&f=1", "display_name": "user183833", "link": "https://stackoverflow.com/users/6695690/user183833"}, "edited": false, "score": 0, "creation_date": 1489011496, "post_id": 42682678, "comment_id": 72490061, "body": "@user183833 thanks for making it clear how the processes will be generated"}, {"owner": {"reputation": 35, "user_id": 7579195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33583650cb73258fe415360fc9249760?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7579195/raj"}, "reply_to_user": {"reputation": 217, "user_id": 6701599, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihw-taH00ZU/AAAAAAAAAAI/AAAAAAAAAoA/LVhK_HfOlx4/photo.jpg?sz=128", "display_name": "Fernando Coelho", "link": "https://stackoverflow.com/users/6701599/fernando-coelho"}, "edited": false, "score": 0, "creation_date": 1489011595, "post_id": 42682678, "comment_id": 72490119, "body": "@Fernando Coelho thank you for making it more clear"}, {"owner": {"reputation": 139, "user_id": 2717498, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/168569c7aa99389120b09aeda3fee5ff?s=128&d=identicon&r=PG&f=1", "display_name": "sigi", "link": "https://stackoverflow.com/users/2717498/sigi"}, "edited": false, "score": 0, "creation_date": 1489011607, "post_id": 42682678, "comment_id": 72490124, "body": "You have the perfect opportunity to just try it out and let it run a few times. Have you tried that? You just need to give every fork its own id and print it."}], "answers": [{"comments": [{"owner": {"reputation": 228, "user_id": 6695690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71975d278345b59f6050d179a02c592e?s=128&d=identicon&r=PG&f=1", "display_name": "user183833", "link": "https://stackoverflow.com/users/6695690/user183833"}, "edited": false, "score": 0, "creation_date": 1489011904, "post_id": 42683038, "comment_id": 72490268, "body": "As I stated in a comment and to be pedant (sorry :P) the program will generate 15 new processes and one extra will be the process that the user invoked."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 228, "user_id": 6695690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71975d278345b59f6050d179a02c592e?s=128&d=identicon&r=PG&f=1", "display_name": "user183833", "link": "https://stackoverflow.com/users/6695690/user183833"}, "edited": false, "score": 0, "creation_date": 1489012159, "post_id": 42683038, "comment_id": 72490361, "body": "@user183833, fair enough."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012033, "last_edit_date": 1489012033, "creation_date": 1489011775, "answer_id": 42683038, "question_id": 42682678, "link": "https://stackoverflow.com/questions/42682678/im-trying-to-understand-how-a-sequence-of-fork-function-work/42683038#42683038", "title": "I&#39;m trying to understand How a sequence of fork() function work?", "body": "<blockquote>\n  <p>As per my understanding the program will generate 16 processes am I right?</p>\n</blockquote>\n\n<p>There will be 16 processes in total. When the program is run, 15 more processes will be generated as a consequence of the calls to <code>fork()</code>.</p>\n\n<blockquote>\n  <p>Is it possible to output 3 before 2? if so How and why?</p>\n</blockquote>\n\n<p>I don't think so. The standard library functions don't give you control over sequencing the output of forked processes to <code>stdout</code>. Hence, they are written to <code>stdout</code> in an order that cannot be controlled by a program.</p>\n"}, {"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": true, "score": 1, "last_activity_date": 1489011888, "creation_date": 1489011888, "answer_id": 42683068, "question_id": 42682678, "link": "https://stackoverflow.com/questions/42682678/im-trying-to-understand-how-a-sequence-of-fork-function-work/42683068#42683068", "title": "I&#39;m trying to understand How a sequence of fork() function work?", "body": "<blockquote>\n  <p>As per my understanding the program will generate 16 processes am I right?</p>\n</blockquote>\n\n<p>The first process will fork off a new process. That's one. There are now two processes running.</p>\n\n<p>The two processes will then, as a result of the second fork, create two more processes. There are now four processes running.</p>\n\n<p>The next fork results in eight running processes.</p>\n\n<p>The last fork results in sixteen processes running. That's fifteen more than you started with, so, overall, the forks created fifteen new processes.</p>\n\n<blockquote>\n  <p>Is it possible to output 3 before 2? if so How and why?</p>\n</blockquote>\n\n<p>Yes, it's possible in the sense that it could happen, from a very isolated viewpoint. A 3 will never appear before the first 2, but it's possible that a 3 could be followed by a 2.</p>\n\n<p>In order to print a \"3\", a \"2\" must be printed. There is no execution path that will print \"3\" before a \"2\" for a single process.</p>\n\n<p>But:</p>\n\n<pre><code>fork();   cout &lt;&lt; \"2 \" &lt;&lt; endl; \n</code></pre>\n\n<p>There are four processes running after this fork. There is nothing that guarantees that all of them will print a \"2\" before they, or their descendants, all print their \"3\".</p>\n\n<p>One of the four processes could, for example, be bumped down in priority by the operating system, and doesn't get to its <code>cout &lt;&lt; \"2\"</code> until the other three processes printed their 2s, forked, and printed their 3s. Now, the sleeping process wakes up and prints its \"2\", after the other processes already blurted out their \"3\"s. End result will be a \"3\" followed by a \"2\".</p>\n\n<p>But there must be other \"2\"s before any of those \"3\"s.</p>\n"}], "owner": {"reputation": 35, "user_id": 7579195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33583650cb73258fe415360fc9249760?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7579195/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 42683068, "answer_count": 2, "score": 2, "last_activity_date": 1489012033, "creation_date": 1489010270, "last_edit_date": 1489011314, "question_id": 42682678, "link": "https://stackoverflow.com/questions/42682678/im-trying-to-understand-how-a-sequence-of-fork-function-work", "title": "I&#39;m trying to understand How a sequence of fork() function work?", "body": "<p>I'm trying to understand how the below sequence of fork() functions work?   </p>\n\n<pre><code>                #include &lt;iostream&gt;\n                #include &lt;sys/types.h&gt;\n                #include &lt;unistd.h&gt;\n                using namespace std;\n                int main() {\n                  fork();   cout &lt;&lt; \"1 \"  &lt;&lt; endl;//calling fork 1\n                  fork();   cout &lt;&lt; \"2 \" &lt;&lt; endl; // calling fork 2\n                  fork();   cout &lt;&lt; \"3 \"  &lt;&lt; endl;// calling fork 3\n\n                  fork();   cout&lt;&lt;\" 4 \"&lt;&lt;endl;//calling fork 4\n                  return 0;\n                }\n</code></pre>\n\n<ol>\n<li><p>will my process structure for above program look like this,Is my assumption correct?</p>\n\n<pre><code>                                 parent(x)\n                                /       |     |   \\\n                               1        2     3    4\n                           /   |  \\    / \\    |\n                          2    3   4  3   4   4\n                         / \\   |      |\n                        3   4  4      4\n                        |\n                        4\n</code></pre>\n\n<ul>\n<li><p>As per my understanding the program will generate 16 processes am I right?</p></li>\n<li><p>Is it possible to output 3 before 2? if so How and why? </p></li>\n</ul></li>\n</ol>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 21142, "user_id": 20712, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/dUQnr.png?s=128&g=1", "display_name": "Ross Rogers", "link": "https://stackoverflow.com/users/20712/ross-rogers"}, "edited": false, "score": 0, "creation_date": 1489010977, "post_id": 42682462, "comment_id": 72489828, "body": "Can you post an <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">S.S.C.C.E.</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 3342, "user_id": 1745372, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/7Wvvn.jpg?s=128&g=1", "display_name": "Kadir Erdem Demir", "link": "https://stackoverflow.com/users/1745372/kadir-erdem-demir"}, "edited": false, "score": 0, "creation_date": 1489014216, "post_id": 42683195, "comment_id": 72491274, "body": "You saved my day."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1489013818, "last_edit_date": 1489013818, "creation_date": 1489012410, "answer_id": 42683195, "question_id": 42682462, "link": "https://stackoverflow.com/questions/42682462/qstatemachine-event-loop-with-animation/42683195#42683195", "title": "QStateMachine event loop with animation", "body": "<p>You seem to expect the animation to create some sort of an in-between state. It does no such thing. The transition merely triggers the animation. You transition immediately from <code>s2</code> to <code>s1</code>, giving no time for animations to finish. Instead, you need to explicitly trigger the subsequent transition when the final values of the properties are set. The <code>QState::propertiesAssigned</code> signal is most useful for this purpose. Alternatively, you could use the animation's <code>finished()</code> signal.</p>\n\n<p>In the example below, click within the window to start the animation loop:</p>\n\n<pre><code>// https://github.com/KubaO/stackoverflown/tree/master/questions/statemachine-animation-42682462\n#include &lt;QtWidgets&gt;\n\nconst char kColor[] = \"color\";\nclass Widget : public QWidget {\n   Q_OBJECT\n   Q_PROPERTY(QColor color MEMBER m_color NOTIFY colorChanged)\n   QColor m_color{Qt::blue};\n   QStateMachine m_machine{this};\n   QState s0{&amp;m_machine}, s1{&amp;m_machine}, s2{&amp;m_machine};\n   QEventTransition t01{this, QEvent::MouseButtonPress};\n   QPropertyAnimation anim_s1{this, kColor}, anim_s2{this, kColor};\n   void paintEvent(QPaintEvent *) override {\n      QPainter{this}.fillRect(rect(), m_color);\n   }\n   Q_SIGNAL void colorChanged(const QColor &amp;);\npublic:\n   Widget() {\n      connect(this, &amp;Widget::colorChanged, [this]{ update(); });\n      s1.assignProperty(this, kColor, QColor{Qt::red});\n      s2.assignProperty(this, kColor, QColor{Qt::green});\n\n      t01.setTargetState(&amp;s1);\n      s0.addTransition(&amp;t01);                              t01.addAnimation(&amp;anim_s1);\n      s1.addTransition(&amp;s1, &amp;QState::propertiesAssigned, &amp;s2)-&gt;addAnimation(&amp;anim_s2);\n      s2.addTransition(&amp;s2, &amp;QState::propertiesAssigned, &amp;s1)-&gt;addAnimation(&amp;anim_s1);\n\n      anim_s1.setDuration(1000);\n      anim_s2.setDuration(2000);\n\n      m_machine.setInitialState(&amp;s0);\n      m_machine.start();\n   }\n};\n\nint main(int argc, char ** argv) {\n   QApplication app{argc, argv};\n   Widget w;\n   w.setFixedSize(300, 200);\n   w.show();\n   return app.exec();\n}\n#include \"main.moc\"\n</code></pre>\n\n<p>As an aside, this demonstrates that the animation interpolates RGB values, causing the color to go dark between <code>red</code> and <code>blue</code> as the values go from <code>(1,0,0)</code> through <code>(.5,.5,0)</code> onto <code>(0,1,0)</code>. For human consumption, it'd make more sense to interpolate HSV, so that the value (brightness) stays the same, and only the hue (what we humans really call \"color\") changes.</p>\n"}], "owner": {"reputation": 3342, "user_id": 1745372, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/7Wvvn.jpg?s=128&g=1", "display_name": "Kadir Erdem Demir", "link": "https://stackoverflow.com/users/1745372/kadir-erdem-demir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 42683195, "answer_count": 1, "score": 1, "last_activity_date": 1489013818, "creation_date": 1489009401, "question_id": 42682462, "link": "https://stackoverflow.com/questions/42682462/qstatemachine-event-loop-with-animation", "title": "QStateMachine event loop with animation", "body": "<p>I want to create a endless loop with QStateMachine in which I also need animations. </p>\n\n<pre><code>QColor leastTransparent, mostTransparent = color();\nleastTransparent.setAlpha(250);\nmostTransparent.setAlpha(150);\n\nQState *s1 = new QState();\ns1-&gt;assignProperty(this, \"color\", leastTransparent);\n\nQState *s2 = new QState();\ns2-&gt;assignProperty(this, \"color\", mostTransparent);\n\nQSignalTransition *transition =  s1-&gt;addTransition( this, SIGNAL(triggerSignal()),s2);\nQSignalTransition *transition2 = s2-&gt;addTransition(s2, SIGNAL(entered),s1);\n\nQPropertyAnimation* animation = new QPropertyAnimation( this, \"color\");\nanimation-&gt;setDuration( 5000 );\ntransition-&gt;addAnimation(animation);\n\nQPropertyAnimation* animation2 = new QPropertyAnimation( this, \"color\");\nanimation2-&gt;setDuration(10000);\ntransition2-&gt;addAnimation(animation2);\n\nm_stateMachineAnimation-&gt;addState(s1);\nm_stateMachineAnimation-&gt;addState(s2);\nm_stateMachineAnimation-&gt;setInitialState(s1);\nm_stateMachineAnimation-&gt;setGlobalRestorePolicy(QStateMachine::RestoreProperties);\nm_stateMachineAnimation-&gt;start();\n</code></pre>\n\n<p>What I expect here is the color will get more opaque for first 5 seconds after  \"triggerSignal\". And state will be \"s2\". And than \"s2\" 's enter signal be triggered and it will get more and more transparent for 10 seconds. </p>\n\n<p>But instead I am having s2 trigger immediately without waiting 5 seconds right after the \"triggerSignal\"  and than immediately s1 is being triggered again without waiting 10 seconds. </p>\n\n<p>Why  my duration is not taken into account by QStateMachine. How can I achieve such a animation with QStateMachine</p>\n"}, {"tags": ["c++", "cmake", "clion"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1489010092, "post_id": 42682370, "comment_id": 72489414, "body": "<code>I was running into problems because my antivirus was detecting cmake temp files in appdata as viruses</code> - So, you know why it doesn&#39;t work for you. What do you want from us?"}, {"owner": {"reputation": 13, "user_id": 7438393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aUhWUy_a4Fs/AAAAAAAAAAI/AAAAAAAAAJQ/e3hHXi1SGMY/photo.jpg?sz=128", "display_name": "MPDR", "link": "https://stackoverflow.com/users/7438393/mpdr"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1489012859, "post_id": 42682370, "comment_id": 72490693, "body": "@Tsyvarev I&#39;ve added the exceptions on the antivirus and it seemed to not bother me anymore. And just to be sure I deleted and recreated the project but it still happens."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1489013184, "post_id": 42682370, "comment_id": 72490849, "body": "Why are you sure that problem with antivirus has gone away? You still lose files (like <code>CMakeFiles\\CMakeTmp\\testCCompiler.c</code>) which should exist."}, {"owner": {"reputation": 1664, "user_id": 3793572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXVbA.jpg?s=128&g=1", "display_name": "nastasiak2512", "link": "https://stackoverflow.com/users/3793572/nastasiak2512"}, "edited": false, "score": 0, "creation_date": 1489048373, "post_id": 42682370, "comment_id": 72503325, "body": "Do you have GCC and G++ installed within the MinGW distribution?"}, {"owner": {"reputation": 13, "user_id": 7438393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aUhWUy_a4Fs/AAAAAAAAAAI/AAAAAAAAAJQ/e3hHXi1SGMY/photo.jpg?sz=128", "display_name": "MPDR", "link": "https://stackoverflow.com/users/7438393/mpdr"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1489068042, "post_id": 42682370, "comment_id": 72516439, "body": "@Tsyvarev It wasn&#39;t giving me any warnings, but I took what you said into account and told the antivirus to ingore the folder with all the other projects I have from other languages, it still won&#39;t work, even after recreating the project."}, {"owner": {"reputation": 13, "user_id": 7438393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aUhWUy_a4Fs/AAAAAAAAAAI/AAAAAAAAAJQ/e3hHXi1SGMY/photo.jpg?sz=128", "display_name": "MPDR", "link": "https://stackoverflow.com/users/7438393/mpdr"}, "reply_to_user": {"reputation": 1664, "user_id": 3793572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXVbA.jpg?s=128&g=1", "display_name": "nastasiak2512", "link": "https://stackoverflow.com/users/3793572/nastasiak2512"}, "edited": false, "score": 0, "creation_date": 1489068171, "post_id": 42682370, "comment_id": 72516542, "body": "@nastasiak2512 I followed this tutorial: <a href=\"https://youtu.be/00_Nj94aDQk\" rel=\"nofollow noreferrer\">youtu.be/00_Nj94aDQk</a>. Is anything wrong with it?"}], "answers": [{"comments": [{"owner": {"reputation": 785, "user_id": 5616255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frl7l.jpg?s=128&g=1", "display_name": "Bojan P.", "link": "https://stackoverflow.com/users/5616255/bojan-p"}, "edited": false, "score": 1, "creation_date": 1522077708, "post_id": 42698440, "comment_id": 85993834, "body": "I was struggling with the similar error for a whole day and a complete reinstall of CLion + removing Cygwin (which I have installed because of the other projects) from the PATH fixed the problem. Thank you."}], "tags": [], "owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "is_accepted": true, "score": 1, "last_activity_date": 1489073575, "last_edit_date": 1495540439, "creation_date": 1489071146, "answer_id": 42698440, "question_id": 42682370, "link": "https://stackoverflow.com/questions/42682370/clion-cmake-error-while-creating-new-project/42698440#42698440", "title": "CLion - CMake error while creating new project", "body": "<pre><code>Check for working C compiler: C:/MinGW/bin/gcc.exe -- broken\n\n// Rest of log\n\ngcc.exe: fatal error: no input files\n</code></pre>\n\n<p>These 2 lines mean that there is somethig wrong with the installation of CLion on your machine. I know this from experience, because I got this error myself the first time I installed CLion, using the same video you watched.</p>\n\n<p>What I suggest is that you look at this video: </p>\n\n<blockquote>\n  <p><a href=\"https://m.youtube.com/watch?v=K1AvSrfjpks\" rel=\"nofollow noreferrer\">Install &amp; Configure CLion Student Copy|| best IDE for C/C++</a> - Youtube Video</p>\n</blockquote>\n\n<p>The reason I suggest this video is because it is the newest one available for installing CLion on a Windows 10 machine. What you should do is go over the entire video, and see how the MinGW packages are installed, which ones are installed, and how CLion is installed and set up. If you did anything different from this video, then that is probably the error you need to address. Just as an aside, I also used this video, and it worked for me.</p>\n\n<p>If you followed all the insuctions in the video, then you should probably just uninstall MinGW and Clion and try it again; that's how I did it. But only do this as a last resort. First make sure that you did not miss anything in the tutorial, esoecially in how the MinGW packages were installed.</p>\n\n<p>By the way, there was a similar question to this one, and the answer posted for it worked, so you may also want to look at that: </p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/42170412/cant-run-any-program-in-clion\">can't run any program in clion</a> - StackOverflow post</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 7438393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aUhWUy_a4Fs/AAAAAAAAAAI/AAAAAAAAAJQ/e3hHXi1SGMY/photo.jpg?sz=128", "display_name": "MPDR", "link": "https://stackoverflow.com/users/7438393/mpdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9347, "favorite_count": 1, "accepted_answer_id": 42698440, "answer_count": 1, "score": 1, "last_activity_date": 1489073575, "creation_date": 1489009038, "last_edit_date": 1489070188, "question_id": 42682370, "link": "https://stackoverflow.com/questions/42682370/clion-cmake-error-while-creating-new-project", "title": "CLion - CMake error while creating new project", "body": "<p>I just installed CLion on my computer with MinGW and decided to create a simple Hello World project to test it, but when I create it the console outputs an error:</p>\n\n<pre><code>&gt;\"C:\\Program Files (x86)\\JetBrains\\CLion 2016.3.3\\bin\\cmake\\bin\\cmake.exe\" -DCMAKE_BUILD_TYPE=Debug -G \"CodeBlocks - MinGW Makefiles\" \"E:\\Programa\u00e7\u00e3o\\C++\\Hello World\"\n\n&gt;-- The C compiler identification is GNU 5.3.0\n\n&gt;-- The CXX compiler identification is GNU 5.3.0\n\n&gt;-- Check for working C compiler: C:/MinGW/bin/gcc.exe\n\n&gt;-- Check for working C compiler: C:/MinGW/bin/gcc.exe -- broken\n\n&gt;CMake Error at C:/Program Files (x86)/JetBrains/CLion 2016.3.3/bin/cmake/share/cmake-3.6/Modules/CMakeTestCCompiler.cmake:61 (message):\n  The C compiler \"C:/MinGW/bin/gcc.exe\" is not able to compile a simple test\n  program.\n\n&gt;  It fails with the following output:\n\n&gt;   Change Dir: Hello World/cmake-build-debug/CMakeFiles/CMakeTmp\n\n\n\n&gt;  Run Build Command:\"C:/MinGW/bin/mingw32-make.exe\" \"cmTC_11be0/fast\"\n\n&gt;  C:/MinGW/bin/mingw32-make.exe -f CMakeFiles\\cmTC_11be0.dir\\build.make\n  CMakeFiles/cmTC_11be0.dir/build\n\n&gt;  mingw32-make.exe[1]: Entering directory 'Hello\n  World/cmake-build-debug/CMakeFiles/CMakeTmp'\n\n&gt;  Building C object CMakeFiles/cmTC_11be0.dir/testCCompiler.c.obj\n\n&gt;  C:\\MinGW\\bin\\gcc.exe -o CMakeFiles\\cmTC_11be0.dir\\testCCompiler.c.obj -c\n  \"Hello\n  World\\cmake-build-debug\\CMakeFiles\\CMakeTmp\\testCCompiler.c\"\n\n&gt;  gcc.exe: error: Hello\n  World\\cmake-build-debug\\CMakeFiles\\CMakeTmp\\testCCompiler.c: No such file\n  or directory\n\n&gt;  gcc.exe: fatal error: no input files\n\n&gt;  compilation terminated.\n\n&gt;  CMakeFiles\\cmTC_11be0.dir\\build.make:64: recipe for target\n  'CMakeFiles/cmTC_11be0.dir/testCCompiler.c.obj' failed\n\n&gt;  mingw32-make.exe[1]: *** [CMakeFiles/cmTC_11be0.dir/testCCompiler.c.obj]\n  Error 1\n\n&gt;  mingw32-make.exe[1]: Leaving directory 'Hello\n  World/cmake-build-debug/CMakeFiles/CMakeTmp'\n\n&gt;  Makefile:125: recipe for target 'cmTC_11be0/fast' failed\n\n&gt;  mingw32-make.exe: *** [cmTC_11be0/fast] Error 2\n\n\n\n\n\n&gt;  CMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:2 (project)\n\n\n&gt;-- Configuring incomplete, errors occurred!\n&gt;See also \"Hello World/cmake-build-debug/CMakeFiles/CMakeOutput.log\".\n&gt;See also \"Hello World/cmake-build-debug/CMakeFiles/CMakeError.log\".\n</code></pre>\n\n<p>From what I understood, it failed to create some files in the project directory. Does anyone know why?</p>\n\n<p>I should also point out that I was running into problems because my antivirus was detecting cmake temp files in appdata as viruses as well as the \"Hello World\\cmake-build-debug\\CMakeFiles\\3.6.3\\CompilerIdC\\a.exe\" executable.</p>\n\n<p>EDIT:\nIt looks like I finally fixed it. From what I understand gcc.exe was not recognizing the project directory because it had spaces and other symbols like \"\u00e7\" and \"\u00e3\". So changing some folder names fixed the problem. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 3, "creation_date": 1489008569, "post_id": 42682225, "comment_id": 72488628, "body": "<code>if (dungeonLevel = &quot;1&quot;)</code> Surely you mean <code>==</code> here? (Same for the other if)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1489008660, "post_id": 42682225, "comment_id": 72488679, "body": "Welcome to Stack Overflow. Please take the time to read <a href=\"http://stackoverflow.com/tour\">The Tour</a> and refer to the material from the <a href=\"http://stackoverflow.com/help/asking\">Help Center</a> what and how you can ask here."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1489008726, "post_id": 42682225, "comment_id": 72488712, "body": "<code>yourDamage = rand() % 5 + 0; &#47;&#47;generates a number between 1 and 5</code>??"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1489008812, "post_id": 42682225, "comment_id": 72488754, "body": "It&#39;s just saying that you can&#39;t assign an int to a string. yourDamage is a string variable presumably."}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 0, "creation_date": 1489008980, "post_id": 42682225, "comment_id": 72488845, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Where is <code>dungeonLevel</code> declared? It appears like you&#39;re using it as an <code>int</code> (<code>dungeonLevel = 0</code>) and also a <code>string</code> (dungeonLevel = &quot;1&quot;`)"}, {"owner": {"reputation": 47, "user_id": 7649318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afbd7db057189eb63fde381305f8e1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/7649318/dominik"}, "edited": false, "score": 0, "creation_date": 1489009458, "post_id": 42682225, "comment_id": 72489074, "body": "yourDamage I was trying to get it to generate a number between 0 and 5 but hadn&#39;t been able to test that because of my error. I declared dungeonLevel as a string at the beginning of my code; how would I rewrite that so I can declare it properly?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489009923, "post_id": 42682225, "comment_id": 72489322, "body": "You can&#39;t make <code>dungeonLevel</code> a string. I mean that would break your for loop if it was."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7649318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afbd7db057189eb63fde381305f8e1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/7649318/dominik"}, "edited": false, "score": 0, "creation_date": 1489009926, "post_id": 42682452, "comment_id": 72489323, "body": "Alright I changed that but I&#39;m still getting the error would I need to change \tstring dungeonLevel= &quot;&quot;; to an int? Since I would be using a comparison operator and not using the double quotes?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489010103, "post_id": 42682452, "comment_id": 72489421, "body": "<code>dungeonLevel</code>  must not be a string. Make it an integer."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1489010154, "post_id": 42682452, "comment_id": 72489455, "body": "Gimme a sec guys, I am editing my post to include the full error."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1489010413, "post_id": 42682452, "comment_id": 72489566, "body": "Just updated it to include all the errors I could catch."}, {"owner": {"reputation": 47, "user_id": 7649318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afbd7db057189eb63fde381305f8e1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/7649318/dominik"}, "edited": false, "score": 0, "creation_date": 1489010637, "post_id": 42682452, "comment_id": 72489666, "body": "Thank you so much for your help"}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1489010949, "post_id": 42682452, "comment_id": 72489819, "body": "No problem. By the way, you should also change <code>rand() % 5 + 0</code> to <code>rand() % 5 + 1</code>, because <code>rand % 5</code> will give a number from 0 to 4, inclusive. To change that , you need to add one to it."}], "tags": [], "owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "is_accepted": true, "score": 3, "last_activity_date": 1489010374, "last_edit_date": 1489010374, "creation_date": 1489009370, "answer_id": 42682452, "question_id": 42682225, "link": "https://stackoverflow.com/questions/42682225/ambiguous-overload-c-for-operator/42682452#42682452", "title": "ambiguous overload C++ for operator =", "body": "<pre><code> if (dungeonLevel = \"1\")\n</code></pre>\n\n<p>This is the line causing the error. You want it to be:</p>\n\n<pre><code> if (dungeonLevel == 1)\n</code></pre>\n\n<p>There are 2 changes I have made here:</p>\n\n<p><strong>Firstly</strong>, I replaced the <code>=</code> sign, called the assignment operator, with the <code>==</code> sign, which is the comparison operator. The assignment operator is used when you assign the variable on the left of the operator the value (could be a fixed value like 5, \"hello\", etc...). It does not make comparisons, as you are trying to do in your if-statement condition. Therefore, you need to use the comparison operator (<code>==</code>), which checks whether the statement on the left is the same as the statement on the right and passes on a Boolean value (true or false), depending on the results of the comparison, to tell the compiler whether to enter the if-statement's body or not. Therefore, you need to use the (<code>==</code>), not the (<code>=</code>) in your if-statement condition.</p>\n\n<p><strong>Secondly</strong>, I removed the apostrophes from the 1 in your if-statement condition, as you want an int value there, not string. When you run through a loop, you increment a counter, which has to be an <code>int</code> value. </p>\n\n<hr>\n\n<p><strong>Another thing</strong>:</p>\n\n<pre><code>for (dungeonLevel = 0; dungeonLevel &lt; 5; dungeonLevel++)\n</code></pre>\n\n<p>In this line, you have not declared the data type of <code>dungeonLevel</code> (maybe you did this outside of the for-loop). It should be declared as type <code>int</code>.</p>\n\n<p>Change your for-loop header to this:</p>\n\n<pre><code>for (int dungeonLevel = 0; dungeonLevel &lt; 5; dungeonLevel++) // Notice that I added the data type of dungeonlevel in its initialization statement\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7649318, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afbd7db057189eb63fde381305f8e1a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/7649318/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "closed_date": 1489015863, "accepted_answer_id": 42682452, "answer_count": 1, "score": -7, "last_activity_date": 1489013343, "creation_date": 1489008481, "last_edit_date": 1489013343, "question_id": 42682225, "link": "https://stackoverflow.com/questions/42682225/ambiguous-overload-c-for-operator", "closed_reason": "Not suitable for this site", "title": "ambiguous overload C++ for operator =", "body": "<pre><code>for (dungeonLevel = 0; dungeonLevel &lt; 5; dungeonLevel++)\n{\n\n    if (dungeonLevel = \"1\")\n    {\n        cout&lt;&lt; \"You will be fighting the warrior Apollo\";\n        cout&lt;&lt; \"Do you want to 1. attack 2. defend 3. dodge\";\n        if (turn = \"1\")\n        {\n            yourDamage = rand() % 5 + 0; //generates a number between 1 and 5\n\n        }\n</code></pre>\n\n<p>This is producing a ambiguous error</p>\n\n<p>[Error] ambiguous overload for '<code>operator=</code>' (operand types are '<code>std::string {aka std::basic_string&lt;char&gt;}</code>' and '<code>int</code>')</p>\n\n<p>I don't know a know anything about these errors. I hope you guys can give me a helping hand.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c++", "excel-interop", "xll"], "comments": [{"owner": {"reputation": 4382, "user_id": 3205529, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/edAtA.jpg?s=128&g=1", "display_name": "Malick", "link": "https://stackoverflow.com/users/3205529/malick"}, "edited": false, "score": 0, "creation_date": 1489053953, "post_id": 42682178, "comment_id": 72506991, "body": "what do you do with your c# code ? do you call excel interop ?"}, {"owner": {"reputation": 702, "user_id": 32887, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2dcbcf35d9f96d67c46cce52e05f5a61?s=128&d=identicon&r=PG", "display_name": "SparcU", "link": "https://stackoverflow.com/users/32887/sparcu"}, "reply_to_user": {"reputation": 4382, "user_id": 3205529, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/edAtA.jpg?s=128&g=1", "display_name": "Malick", "link": "https://stackoverflow.com/users/3205529/malick"}, "edited": false, "score": 0, "creation_date": 1489067319, "post_id": 42682178, "comment_id": 72515920, "body": "No interop. Just some calculation."}, {"owner": {"reputation": 702, "user_id": 32887, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2dcbcf35d9f96d67c46cce52e05f5a61?s=128&d=identicon&r=PG", "display_name": "SparcU", "link": "https://stackoverflow.com/users/32887/sparcu"}, "reply_to_user": {"reputation": 4382, "user_id": 3205529, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/edAtA.jpg?s=128&g=1", "display_name": "Malick", "link": "https://stackoverflow.com/users/3205529/malick"}, "edited": false, "score": 0, "creation_date": 1489074423, "post_id": 42682178, "comment_id": 72521147, "body": "I even removed referenced C# dlls altogether. The moment I add a call to a function implemented in managed C++ the crash occurs. It seems it happens because of some issue with CRT"}, {"owner": {"reputation": 333, "user_id": 454195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30723c3ee6848108ef9bd01a46effda?s=128&d=identicon&r=PG", "display_name": "osullivj", "link": "https://stackoverflow.com/users/454195/osullivj"}, "edited": false, "score": 0, "creation_date": 1490106271, "post_id": 42682178, "comment_id": 72957014, "body": "@SparcU: that stack trace shows an exception being handled, so it doesn&#39;t tell us the real root cause. Have you tried running in debug from inside Visual Studio, with Excel.exe as the launch command for your XLL? Just before you shut down Excel switch on first chance exceptions in the debug settings."}], "owner": {"reputation": 702, "user_id": 32887, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2dcbcf35d9f96d67c46cce52e05f5a61?s=128&d=identicon&r=PG", "display_name": "SparcU", "link": "https://stackoverflow.com/users/32887/sparcu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489009920, "creation_date": 1489008303, "last_edit_date": 1489009920, "question_id": 42682178, "link": "https://stackoverflow.com/questions/42682178/call-c-from-unmanaged-excel-addin-xll", "title": "Call C# from unmanaged Excel Addin (XLL)", "body": "<p>I am trying to call into C# dll from regular C++ Excel Addin (not Excel DNA)\nI added additional C++ file to the project and enabled CLI support on it. \nThe code executes fine. When I close Excel it crashes. What might be the reason ?</p>\n\n<p>Stack trace </p>\n\n<pre><code>MSO.DLL!6b4d21a6() \n[Frames below may be incorrect and/or missing, no symbols loaded for MSO.DLL]\nMSO.DLL!6b43d95b() \nEXCEL.EXE!0140fcfe() \nmsvcr100.dll!@_EH4_CallFilterFunc@8()  + 0x12 bytes\nmsvcr100.dll!__except_handler4_common()  + 0x86 bytes\nEXCEL.EXE!022cead6() \nntdll.dll!ExecuteHandler2@20()  + 0x26 bytes\nntdll.dll!ExecuteHandler@20()  + 0x24 bytes\nntdll.dll!_KiUserExceptionDispatcher@8()  + 0xf bytes\nEXCEL.EXE!01084d52() \nEXCEL.EXE!01e40e70() \n</code></pre>\n"}, {"tags": ["c++", "random"], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": -2, "last_activity_date": 1489008425, "creation_date": 1489008425, "answer_id": 42682207, "question_id": 42682145, "link": "https://stackoverflow.com/questions/42682145/random-number-generation-between-0-1-to-fill-container/42682207#42682207", "title": "Random number generation between 0-1 to fill container", "body": "<p>Something along the following lines should work:</p>\n\n<pre><code>std::generate(v.begin(),v.end(), [] () { return 1.0*std::rand()/RAND_MAX;});\n</code></pre>\n\n<p>See it working at <a href=\"http://ideone.com/vtHK1l\" rel=\"nofollow noreferrer\">http://ideone.com/vtHK1l</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 6482700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XJIbh.jpg?s=128&g=1", "display_name": "olaralex", "link": "https://stackoverflow.com/users/6482700/olaralex"}, "edited": false, "score": 0, "creation_date": 1489008685, "post_id": 42682235, "comment_id": 72488693, "body": "Sorry I mistyped. I don&#39;t use std::gen, I use gen. Sorry. I&#39;ll edit it."}, {"owner": {"reputation": 57, "user_id": 6482700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XJIbh.jpg?s=128&g=1", "display_name": "olaralex", "link": "https://stackoverflow.com/users/6482700/olaralex"}, "edited": false, "score": 0, "creation_date": 1489008740, "post_id": 42682235, "comment_id": 72488721, "body": "And of course. Thank you for the quick and GREAT answer."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 4, "last_activity_date": 1489008523, "creation_date": 1489008523, "answer_id": 42682235, "question_id": 42682145, "link": "https://stackoverflow.com/questions/42682145/random-number-generation-between-0-1-to-fill-container/42682235#42682235", "title": "Random number generation between 0-1 to fill container", "body": "<p>You can't use the distribution in <code>std::generate</code> directly, as it's <code>operator()</code> requires arguments. However, you can bundle the generator and distribution in a lambda and use that instead.</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;random&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n    std::random_device rnd;\n    std::mt19937 gen(rnd());\n    std::uniform_real_distribution&lt;&gt; dist(0.,1.);\n\n    std::vector&lt;double&gt; data(20);\n\n    std::generate(data.begin(), data.end(), [&amp;gen, &amp;dist]() { return dist(gen); });\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6482700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XJIbh.jpg?s=128&g=1", "display_name": "olaralex", "link": "https://stackoverflow.com/users/6482700/olaralex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 42682235, "answer_count": 2, "score": 2, "last_activity_date": 1489008704, "creation_date": 1489008133, "last_edit_date": 1489008704, "question_id": 42682145, "link": "https://stackoverflow.com/questions/42682145/random-number-generation-between-0-1-to-fill-container", "title": "Random number generation between 0-1 to fill container", "body": "<p>I've started learning about modern C++ recently and I've been wondering. I know that I can create pseud-random numbers with a Mersenne Twister this way:</p>\n\n<pre><code>std::random_device rnd;\nstd::mt19937 gen(rnd());\nstd::uniform_real_distribution&lt;&gt; dist(0.,1.);\n</code></pre>\n\n<p>So I've found the algorithm <code>std::generate(iterator, iterator, generator)</code> so, my question is. Is there any way to generate random numbers between 0 and 1 with this method and fill the container?</p>\n\n<p>Until now, I've found that if I put for example:</p>\n\n<pre><code>std::generate(v.begin(),v.end(),std::rand); // i know rand() is crap\nstd::generate(v.begin(),v.end(),gen);\n</code></pre>\n\n<p>These two work fine but numbers between 0. and 1. would be real nice for no specific reason.</p>\n\n<p>Thank you in advance. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6013, "user_id": 3310281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b8b4ec03e2c7a424fdc428eb55f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm McLean", "link": "https://stackoverflow.com/users/3310281/malcolm-mclean"}, "edited": false, "score": 0, "creation_date": 1489008120, "post_id": 42681993, "comment_id": 72488398, "body": "We need to see the structure of the text input file. Probably what you want is repeated calls to fgets() and sscanf(), and there will be one student per line."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1489008138, "post_id": 42681993, "comment_id": 72488405, "body": "Punctuation and correct syntax greatly enhance readbility of text. Give it a try!"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1489008152, "post_id": 42681993, "comment_id": 72488412, "body": "I don&#39;t see any code that does a read from your file."}, {"owner": {"reputation": 9, "user_id": 7211804, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f80db1526fdeb679ba8e987d14d67dc?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Morgan", "link": "https://stackoverflow.com/users/7211804/bobby-morgan"}, "edited": false, "score": 0, "creation_date": 1489008579, "post_id": 42681993, "comment_id": 72488632, "body": "it does it in the functions for quiz test grade they are all reading from the file because i set the file as a global variable my question how do i set it up as an end of file loop by calling the functions to print the student scores"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1489011845, "post_id": 42681993, "comment_id": 72490237, "body": "Mandatory read: <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is <code>iostream::eof</code> inside a loop condition considered wrong?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1489018189, "last_edit_date": 1495541372, "creation_date": 1489018189, "answer_id": 42684357, "question_id": 42681993, "link": "https://stackoverflow.com/questions/42681993/how-to-use-eof-loop-to-iterate-for-each-student-in-the-file/42684357#42684357", "title": "How to use EOF loop to iterate for each student in the file", "body": "<p>Rational for answer: OP is headed in many wrong directions all at once and I think a few of them can be headed off with one good example.</p>\n\n<p>Problem 1: EOF loop is a myth. Read more here: <a href=\"https://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a></p>\n\n<p>Problem 2: using <code>char</code> to represent numbers. Technically <code>char</code> is an integer type, but it is most commonly associated with a single character and its input/output routines are overloaded accordingly. Eg. if given input \"1234\" <code>std::cin &gt;&gt; a_char;</code> will result in <code>char a_char</code> containing the character '1', but <code>std::cin &gt;&gt; an_int;</code> will result in <code>int an_int</code> containing the the number 1234. In addition using a character to represent a number can often lead to confusion for thew reader who may misinterpret what your code is supposed to do. You can do it and sometimes it is the appropriate choice, but this time it doesn't make much sense.</p>\n\n<p>Problem 3 Scattershot and unchecked IO. It's generally best to read in everything you want and then, if the input is good, make a decision on all of it all at once. If a student's record is not complete without 27 integers, read all 27 integers and check that each and every one read correctly. If you can't read them all, that's an error. If some are not integers, that's an error. If you have an error, the student is not a valid input and should either be discarded or investigated more closely.</p>\n\n<p>Problem 4: Not using a data structure to contain associated data. A student is represented by a bunch of information. It is convenient to package that information with the methods by which the information can be accessed and manipulated. Read up on encapsulation.</p>\n\n<p>Minor nag: <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">Why is &quot;using namespace std&quot; considered bad practice?</a></p>\n\n<p>So here we go:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n\n// using namespace std; avoid using this. Can be very dangerous to the unwary.\n\n// container class to aggregate student stats and provide manipulators to read\n// and display a student\nclass Student\n{\n    static int count; // only the students use the counter. No need for it to be global.\n    int student_number;\n    // int telegraphs your intent much better than char\n    // These variables are numbers, not characters and should be treated like them\n    int lab;\n    int assgniment_score;\n    int quiz_score;\n    int test_score;\n    float final_total_average;\n\npublic:\n    // simple input function. This is a bit too simple for OP, but should be\n    // enough for OP to get the idea.\n    friend std::istream &amp; operator&gt;&gt;(std::istream &amp; in, Student &amp; student)\n    {\n        std::string line;\n        student.student_number = count ++;\n        if (std::getline(in, line))\n        {\n            std::stringstream stream(line);\n            if (stream &gt;&gt; student.lab\n                       &gt;&gt; student.assgniment_score\n                       &gt;&gt; student.quiz_score\n                       &gt;&gt; student.test_score)\n            { // if we read all the variables we needed\n                // divided by 4.0 because division of int by int will\n                // give an int, not a float.\n                student.final_total_average = (student.lab +\n                        student.assgniment_score +\n                        student.quiz_score +\n                        student.test_score) / 4.0;\n            }\n            else\n            { // failed to read. Mark stream bad.\n                in.setstate(std::istream::failbit);\n            }\n        }\n\n        return in;\n    }\n\n    // simple output function OP shouldn't have to change much here.\n    friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; out, Student &amp; student)\n    {\n        //endl is line feed and IO flush very expensive, so  use only\n        // when you absolutely need to flush the stream. This turns out to be\n        // almost enver.\n        out &lt;&lt; \"Student \" &lt;&lt; student.student_number &lt;&lt; '\\n'\n            &lt;&lt; \"Student Lab grade is : \" &lt;&lt; student.lab &lt;&lt;  '\\n'\n            &lt;&lt; \"Student Assignment grade is : \" &lt;&lt; student.assgniment_score &lt;&lt;  '\\n'\n            &lt;&lt; \"Student Quiz grade is : \" &lt;&lt; student.quiz_score &lt;&lt;  '\\n'\n            &lt;&lt; \"Student Exam grade is : \" &lt;&lt; student.test_score &lt;&lt;  '\\n'\n            &lt;&lt; \"Student Final grade is : \" &lt;&lt; student.final_total_average &lt;&lt; '\\n';\n        return out;\n    }\n};\n\n// allocate storage for student counter\nint Student::count = 1;\n\nint main()\n{\n    // create and open file. As with the counter, no need for it to be global \n    // because it can easily be passed by reference into functions that need it.\n    std::ifstream myfile(\"infile.txt\"); \n    Student student; // allocate a dummy student to read into and print\n\n    // because we have smart rules for reading in a student, this is easy.\n    while (myfile &gt;&gt; student) // read students until error or end of file\n    {\n        std::cout &lt;&lt; student; // write the current student\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7211804, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f80db1526fdeb679ba8e987d14d67dc?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Morgan", "link": "https://stackoverflow.com/users/7211804/bobby-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1489029148, "creation_date": 1489007488, "last_edit_date": 1489029148, "question_id": 42681993, "link": "https://stackoverflow.com/questions/42681993/how-to-use-eof-loop-to-iterate-for-each-student-in-the-file", "title": "How to use EOF loop to iterate for each student in the file", "body": "<p>How do I set up a loop to read in file data until eof is reached?</p>\n\n<p>Basically, I have a data file with student data, and for each student there is quiz grades, test grades, lab grades, etc.</p>\n\n<p>I have a function that gives the values as letter grades.</p>\n\n<p>My issue is to set up the loop to compute each function 4 times for each student.  My loop code so far uses a counter loop, but I'm supposed to turn it into an eof loop instead.</p>\n\n<p>My code below ends when there is no more data to read.</p>\n\n<pre><code>int main()\n{\n    int counters = 1;\n    char lab;\n    char assgniment_score;\n    char quiz_score;\n    char test_score;\n    float final_total_average;\n    myfile.open(\"infile.txt\");\n    while (counters &lt;= 20) {\n        lab = Compute_lab_grade();\n        assgniment_score = Compute_Assignment_grade();\n        quiz_score = Compute_Quiz_grade();\n        test_score = Compute_test_grade();\n        final_total_average = (10 * (total(quiz_score))\n            + (25 * (total(assgniment_score)))\n            + (30 * (total(lab))) + (35 * total(test_score))) / 100;\n        cout &lt;&lt; \"Student \" &lt;&lt; counters &lt;&lt; endl;\n        cout &lt;&lt; \"Student Lab grade is : \" &lt;&lt; lab &lt;&lt; endl;\n        cout &lt;&lt; \"Student Assignment grade is : \" &lt;&lt; assgniment_score &lt;&lt; endl;\n        cout &lt;&lt; \"Student Quiz grade is : \" &lt;&lt; quiz_score &lt;&lt; endl;\n        cout &lt;&lt; \"Student Exam grade is : \" &lt;&lt; test_score &lt;&lt; endl;\n        cout &lt;&lt; \"Student Final grade is : \" &lt;&lt; final_average_score(final_total_average) &lt;&lt; endl &lt;&lt; endl;\n        counters++;\n    }\n}\n</code></pre>\n\n<p>The structure of the given data looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dzrO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dzrO2.png\" alt=\"image\"></a></p>\n"}, {"tags": ["android", "c++", "debugging", "android-ndk"], "comments": [{"owner": {"reputation": 43, "user_id": 7680656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc4afe3e8ec802a22a7430c50675338?s=128&d=identicon&r=PG&f=1", "display_name": "M Webjorn", "link": "https://stackoverflow.com/users/7680656/m-webjorn"}, "edited": false, "score": 0, "creation_date": 1489442459, "post_id": 42681954, "comment_id": 72663807, "body": "Has anyone ever managed to debug C++ code using AS 2.3 &#237;n some configuration?"}, {"owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 0, "creation_date": 1509956252, "post_id": 42681954, "comment_id": 81214430, "body": "related: <a href=\"https://stackoverflow.com/questions/8674434/debugging-native-libraries-for-android-os/47132384\" title=\"debugging native libraries for android os\">stackoverflow.com/questions/8674434/&hellip;</a>"}], "owner": {"reputation": 43, "user_id": 7680656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc4afe3e8ec802a22a7430c50675338?s=128&d=identicon&r=PG&f=1", "display_name": "M Webjorn", "link": "https://stackoverflow.com/users/7680656/m-webjorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489708897, "creation_date": 1489007338, "last_edit_date": 1489586327, "question_id": 42681954, "link": "https://stackoverflow.com/questions/42681954/how-can-i-debug-c-source-code-of-a-native-library-using-android-studio-2-3", "title": "How can I debug C++ source code of a native library using Android Studio 2.3?", "body": "<p>I have made a clean install of Android Studio with SDK (android-studio-bundle-162.3764568-windows.exe) to a Windows 10 box, added SDK's from 5.0 and up, NDK plus other parts required to run C++ code under Java, plus added all updates available. </p>\n\n<p>I've then created a new project with C++ support, <code>min SDK=5.0</code>, and Empty Activity template.</p>\n\n<p>Run / Debug <code>app</code> works fine on my Android 6.0 device, and I can see that the C++ code returns a string which is displayed on the screen. </p>\n\n<p>Breakpoints set in the Java code works fine, but breakpoints set in the C++ code doesn't cause the app to stop when run. </p>\n\n<p>This seems to me to be a plain vanilla example that should work 'out-of-the-box' as according to <a href=\"https://developer.android.com/studio/debug/index.html\" rel=\"nofollow noreferrer\">docs</a>, but obviously something is missing.</p>\n\n<hr>\n\n<p>Now I know what the problem was. The default administrator user in a Swedish Windows installation is called 'Administrat\u00f6r'. </p>\n\n<p>When I installed AS 2.3 as 'Administrat\u00f6r' I put the project files and SDK under 'C:\\Data\\Android' which worked fine according to the installer. But breakpoints for C++ code didn't work. </p>\n\n<p>So I tested to uninstall SA and log in as 'Administrator', which is the default Windows Domain administrator name, and installed AS 2.3 exactly as done while logged on as 'Administrat\u00f6r' (Project and SDK still under 'C:\\Data\\Android'). Now C++ breakpoints worked fine. </p>\n\n<p>So what's the difference? Well, SA 2.3 puts some catalogs under 'C:\\Users\\username' such as '.AndroidStudio2.3', '.lldb' . \nI suspect that the '\u00f6' in the username is causing some problem when SA tries to reference these catalogs, but this isn't the installer aware of. \nOtherwise would it have been a piece of cake to check the username for \"illegal\" ASCII characters.</p>\n"}, {"tags": ["c++", "qt", "qmake"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 853569, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60ead64b9d350c87c099374d003ba85e?s=128&d=identicon&r=PG", "display_name": "Maadiah", "link": "https://stackoverflow.com/users/853569/maadiah"}, "edited": false, "score": 0, "creation_date": 1567577316, "post_id": 55422895, "comment_id": 101998614, "body": "need to use <code>$$PWD&#47;..&#47;bin</code> instead <code>..&#47;bin</code>, dont know why."}], "tags": [], "owner": {"reputation": 1200, "user_id": 3765267, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea840c89a478be4904a6e78f29f22eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Dyagilev", "link": "https://stackoverflow.com/users/3765267/alexander-dyagilev"}, "is_accepted": false, "score": 1, "last_activity_date": 1553881164, "creation_date": 1553881164, "answer_id": 55422895, "question_id": 42681858, "link": "https://stackoverflow.com/questions/42681858/how-to-link-subdirs-lib-with-qmake/55422895#55422895", "title": "How to link subdirs lib with QMake?", "body": "<p>You may use <code>DESTDIR</code> in your both <code>scannerlib</code> and <code>app</code> projects.</p>\n\n<p>scannerlib/scannerlib.pro :</p>\n\n<pre><code>TARGET = scannerlib\nTEMPLATE = lib\nCONFIG += staticlib\nDESTDIR = ../bin\n</code></pre>\n\n<p>app/app.pro :</p>\n\n<pre><code>TARGET = app\nTEMPLATE = app\nSOURCES = main.cpp\nDESTDIR = ../bin\nINCLUDEPATH += ../scannerlib\nLIBS *= -L$$OUT_PWD/$$DESTDIR -lscannerlib\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 5869301, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86a49e0145a284ba5a05873250323f4d?s=128&d=identicon&r=PG&f=1", "display_name": "bisthebis", "link": "https://stackoverflow.com/users/5869301/bisthebis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1553881164, "creation_date": 1489006908, "question_id": 42681858, "link": "https://stackoverflow.com/questions/42681858/how-to-link-subdirs-lib-with-qmake", "title": "How to link subdirs lib with QMake?", "body": "<p>I have a Qt project (called \"scanner\") built with QMake, where I have 2 subprojects : a static library called \"scannerlib\" and an application using that lib, called \"app\" (which, at the moment, is just a main.cpp file)</p>\n\n<p>My \"scanner\" folder contains the file scanner.pro :</p>\n\n<pre><code>QT += core testlib\nQT -= gui\n\nCONFIG += c++14\nCONFIG += console\nCONFIG -= app_bundle\n\nTEMPLATE = subdirs\n\nSUBDIRS = app scannerlib\n\napp.depends = scannerlib\n</code></pre>\n\n<p>And two subfolders, containing a .pro file and source file related.\nscannerlib/scannerlib.pro :</p>\n\n<pre><code>TARGET = scannerlib\nTEMPLATE = lib\nCONFIG += staticlib\n\n#I ommited SOURCES and HEADERS here for brevity\n</code></pre>\n\n<p>app/app.pro :</p>\n\n<pre><code>TARGET = app\nTEMPLATE = app\nSOURCES = main.cpp\nINCLUDEPATH += ../scannerlib\nLIBS += -L../scannerlib -lscannerlib\n</code></pre>\n\n<p>I successfully build libscanner, but I can't link it in \"app\".</p>\n\n<blockquote>\n  <p>error : cannot find -lscannerlib</p>\n</blockquote>\n\n<p>After checking, libscannerlib.a has been successfully built, so it should not be a problem.\nIf I remove -lscannerlib, I get an undefined reference. Which seems legit.</p>\n\n<p>I can get a successful build if I move the created \"libscannerlib.a\" from the build folder to scanner/scannerlib, which allows qmake to find it.</p>\n\n<p>So, the problem looks like it comes from \"-L../scannerlib\". What should I put there in such a way that qmake find the lib in the build folder ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 2, "creation_date": 1489006596, "post_id": 42681723, "comment_id": 72487597, "body": "No, it&#39;s not possible. Also, those are not standard C++ header files, and DevC++ is not a good C++ IDE. Wherever you are learning this stuff from, I would strongly advise learning it from somewhere else."}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 1, "creation_date": 1489006810, "post_id": 42681723, "comment_id": 72487704, "body": "How often do you get to include iostream in a real world application, anyway... It doesn&#39;t hurt to type it every time you need it."}, {"owner": {"reputation": 180, "user_id": 6783419, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/95940e3fbaddb4e63194493d209f469b?s=128&d=identicon&r=PG&f=1", "display_name": "Lazcano", "link": "https://stackoverflow.com/users/6783419/lazcano"}, "edited": false, "score": 1, "creation_date": 1489007047, "post_id": 42681723, "comment_id": 72487822, "body": "Try to use pre-compiled headers, keyword: stdafx."}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 1, "last_activity_date": 1489007121, "creation_date": 1489007121, "answer_id": 42681913, "question_id": 42681723, "link": "https://stackoverflow.com/questions/42681723/permanently-store-headers-files-in-dev-c/42681913#42681913", "title": "Permanently store headers files in dev c++", "body": "<p>No, you cannot do that with any IDE that some headers are included by default.</p>\n\n<p>The closest thing you can do is to provide a single header file</p>\n\n<pre><code> #include \"MyProject.h\"\n</code></pre>\n\n<p>that just includes all the other header files:</p>\n\n<p><code>MyProject.h</code>:</p>\n\n<pre><code>#include&lt;conio.h&gt;\n#include&lt;iostream.h&gt;\n</code></pre>\n\n<hr>\n\n<p>You should note that <code>conio.h</code> and <code>iostream.h</code> aren't standard c++ headers, and that code isn't portable because of that.</p>\n"}], "owner": {"reputation": 19, "user_id": 7195992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/baff2e49a505fa20e7ae314f2388f2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abubakar", "link": "https://stackoverflow.com/users/7195992/abubakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 42681913, "answer_count": 1, "score": -3, "last_activity_date": 1489007121, "creation_date": 1489006395, "question_id": 42681723, "link": "https://stackoverflow.com/questions/42681723/permanently-store-headers-files-in-dev-c", "title": "Permanently store headers files in dev c++", "body": "<p>Could i save headers files permanently in dev c++ so that i don't have to include every time i write new code.\nfor example</p>\n\n<pre><code>#include&lt;conio.h&gt;\n#include&lt;iostream.h&gt;\n</code></pre>\n\n<p>and so on. If yes then how can i do that.</p>\n"}, {"tags": ["c++", "git"], "answers": [{"tags": [], "owner": {"reputation": 16164, "user_id": 300807, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WxsTX.jpg?s=128&g=1", "display_name": "Chris Cooper", "link": "https://stackoverflow.com/users/300807/chris-cooper"}, "is_accepted": false, "score": 2, "last_activity_date": 1489006344, "last_edit_date": 1495539990, "creation_date": 1489006344, "answer_id": 42681708, "question_id": 42681675, "link": "https://stackoverflow.com/questions/42681675/whats-the-git-way-to-work-with-c-projects-that-share-the-same-code-at-differe/42681708#42681708", "title": "What&#39;s the Git way to work with C++ projects that share the same code at different revisions?", "body": "<p>This sounds like a git submodules task. With submodules, you can reference another repository at a specific revision.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10914022/how-to-check-out-specific-version-of-a-submodule-using-git-submodule\">How to check out specific version of a submodule using git submodule?</a></p>\n"}, {"tags": [], "owner": {"reputation": 1500, "user_id": 145434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29191c38b8d1e4d6a3a25846c5e673c9?s=128&d=identicon&r=PG", "display_name": "berkus", "link": "https://stackoverflow.com/users/145434/berkus"}, "is_accepted": true, "score": 1, "last_activity_date": 1489007120, "creation_date": 1489007120, "answer_id": 42681912, "question_id": 42681675, "link": "https://stackoverflow.com/questions/42681675/whats-the-git-way-to-work-with-c-projects-that-share-the-same-code-at-differe/42681912#42681912", "title": "What&#39;s the Git way to work with C++ projects that share the same code at different revisions?", "body": "<p>You could use </p>\n\n<ol>\n<li><code>git submodule</code>s (not really recommended, hard to maintain, git will go into bizarre berserk states if you mess up - e.g. delete a submodule directory from underneath git, so it's really fragile)</li>\n<li><code>git subtree</code>s, probably in a more convenient form of <code>git subrepo</code> (<a href=\"https://github.com/ingydotnet/git-subrepo\" rel=\"nofollow noreferrer\">https://github.com/ingydotnet/git-subrepo</a>) - this causes some code duplication so i'd also be cautious about using it, especially if projects are large.</li>\n<li><code>repo</code> tool - <a href=\"https://code.google.com/p/git-repo/\" rel=\"nofollow noreferrer\">https://code.google.com/p/git-repo/</a></li>\n</ol>\n\n<p>With <code>repo</code> you need to set up a <code>manifest repository</code> which will describe from which repos, which revisions and into which directories to populate project parts. This allows you to develop components completely independently, and lock to certain versions of these projects together with keeping clear history - the <code>manifest repository</code> is versioned separately and can have marks for specific releases of software.</p>\n"}], "owner": {"reputation": 831, "user_id": 3789324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pxqcq.jpg?s=128&g=1", "display_name": "auserdude", "link": "https://stackoverflow.com/users/3789324/auserdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 1, "accepted_answer_id": 42681912, "answer_count": 2, "score": 3, "last_activity_date": 1489007120, "creation_date": 1489006210, "question_id": 42681675, "link": "https://stackoverflow.com/questions/42681675/whats-the-git-way-to-work-with-c-projects-that-share-the-same-code-at-differe", "title": "What&#39;s the Git way to work with C++ projects that share the same code at different revisions?", "body": "<p>Let's simplify the question considering the following scenario.</p>\n\n<p>I'm working with <strong>three C++ projects</strong> stored in <strong>three different Git repositories</strong>. All projects need to live in a separate repo because they need to be <strong>independent</strong> during the development.</p>\n\n<ul>\n<li>Project 1</li>\n<li>Project 2</li>\n<li>Common Code Project</li>\n</ul>\n\n<p>To <strong>compile</strong> Project 1 you need Common Code version 1 (e.g. an <strong>older version</strong>).\nTo <strong>compile</strong> Project 2 you need Common Code version 2 (e.g. a <strong>newer version</strong>).</p>\n\n<p>Sometimes you want to work with the Common Code Project as a <strong>standalone project</strong> (kind of a <strong>standalone shared library</strong>), compile it, do tests, and possibly advance with new versions, branches etc. </p>\n\n<p>Project 1 and 2 will keep their stories and they are likely to require different old versions of the Common Code for the compilation even if the <strong>Common Code advances</strong> in its personal story.</p>\n\n<p>I need to work on all the projects on the <strong>same machine switching multiple time</strong> between them in the same day, so the working model can't be too complicated to avoid errors or problems.</p>\n\n<p>Should I work with <strong>3 parallel repositories</strong> resolving the compilation dependencies on the version at <strong>compile time</strong> (e.g. by <strong>checking out</strong> the correct version of the repo before compiling)? Is there any other better solution (e.g. <strong>Git Submodules</strong>)?</p>\n"}, {"tags": ["c++", "pointers", "fortran", "structure"], "comments": [{"owner": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 0, "creation_date": 1489006981, "post_id": 42681622, "comment_id": 72487788, "body": "This is somewhat broad and would perhaps benefit from being made a little more specific with details you have in mind.  That said, are you happy with the Fortran derived type being entirely opaque as far as the C++ side is concerned?  If you are, that suggests a potential simple answer."}, {"owner": {"reputation": 1107, "user_id": 686358, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/af756ab91cd3b054657acf1d8692c0a8?s=128&d=identicon&r=PG", "display_name": "Santosh Tiwari", "link": "https://stackoverflow.com/users/686358/santosh-tiwari"}, "reply_to_user": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 0, "creation_date": 1489007124, "post_id": 42681622, "comment_id": 72487857, "body": "Yes, I am happy with Fortran being completely opaque to C++. I do not need to know the contents of the structure, just need a way to maintain a handle to the structure so that I can reuse it between subsequent calls."}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 0, "creation_date": 1489007766, "post_id": 42681622, "comment_id": 72488196, "body": "It would be much better to see the actual code. There shouldn&#39;t really be any typecasting in Fortran necessary. Fortran will just get an address and it will interpret it as the structure passed by reference. And in C++ it will be a <code>void *</code>."}, {"owner": {"reputation": 1107, "user_id": 686358, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/af756ab91cd3b054657acf1d8692c0a8?s=128&d=identicon&r=PG", "display_name": "Santosh Tiwari", "link": "https://stackoverflow.com/users/686358/santosh-tiwari"}, "edited": false, "score": 0, "creation_date": 1489008370, "post_id": 42681622, "comment_id": 72488528, "body": "makes sense. Since C and fortran pass data as pointers, I should be able to simply accept it as void *."}, {"owner": {"reputation": 1107, "user_id": 686358, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/af756ab91cd3b054657acf1d8692c0a8?s=128&d=identicon&r=PG", "display_name": "Santosh Tiwari", "link": "https://stackoverflow.com/users/686358/santosh-tiwari"}, "edited": false, "score": 0, "creation_date": 1489093108, "post_id": 42681622, "comment_id": 72532513, "body": "Yes, my question is a duplicate."}, {"owner": {"reputation": 24099, "user_id": 3157076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mB4zi.png?s=128&g=1", "display_name": "francescalus", "link": "https://stackoverflow.com/users/3157076/francescalus"}, "edited": false, "score": 1, "creation_date": 1489158522, "post_id": 42681622, "comment_id": 72562978, "body": "You have <code>use mymodule</code> and <code>type(my module) ...</code>?"}, {"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1489159540, "post_id": 42681622, "comment_id": 72563676, "body": "It will be better to have a new question to explain the crash, because you already have an answer here. Please make sure to show more code and it needs to be a real exact compilable copy (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Also include the C++ part."}], "answers": [{"comments": [{"owner": {"reputation": 1107, "user_id": 686358, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/af756ab91cd3b054657acf1d8692c0a8?s=128&d=identicon&r=PG", "display_name": "Santosh Tiwari", "link": "https://stackoverflow.com/users/686358/santosh-tiwari"}, "edited": false, "score": 0, "creation_date": 1489157989, "post_id": 42682716, "comment_id": 72562624, "body": "I followed the solution to the original question as well as your solution (which is basically the same). Program crashes when I call the C_LOC method. Not sure why? I will post my sample code to my question."}], "tags": [], "owner": {"reputation": 2352, "user_id": 5711725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cfaab398800db4fd0e9b0aae6621bda?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Mart&#237;n", "link": "https://stackoverflow.com/users/5711725/javier-mart%c3%adn"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010422, "creation_date": 1489010422, "answer_id": 42682716, "question_id": 42681622, "link": "https://stackoverflow.com/questions/42681622/passing-a-structured-data-type-from-fortran-to-c/42682716#42682716", "title": "Passing a structured data type from Fortran to C++", "body": "<p>Under Fortran 2003 (supported by most compilers nowadays), you can use the standard ISO_C_BINDING module. If you are happy with the obtained C pointer being \"opaque\" (that is, you just want a <code>void*</code>), you can use the <code>C_LOC</code> function:</p>\n\n<pre><code>use, intrinsic :: ISO_C_BINDING\ntype(your_struct_t), target :: your_obj\ntype(C_PTR) :: p\n\np = C_LOC(your_obj)\n</code></pre>\n\n<p>You can then pass this pointer to some C procedure:</p>\n\n<pre><code>interface\n    subroutine mycproc(x, n, userdata) bind(C)\n        use, intrinsic :: iso_c_binding\n        integer(c_int), intent(in), value :: n\n        real(c_double), intent(in) :: x(n)\n        type(c_ptr), intent(in), value :: userdata\n    end subroutine\nend interface\n\ncall mycproc(x, size(x), p)\n</code></pre>\n"}], "owner": {"reputation": 1107, "user_id": 686358, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/af756ab91cd3b054657acf1d8692c0a8?s=128&d=identicon&r=PG", "display_name": "Santosh Tiwari", "link": "https://stackoverflow.com/users/686358/santosh-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "closed_date": 1489011185, "answer_count": 1, "score": 2, "last_activity_date": 1489158236, "creation_date": 1489006003, "last_edit_date": 1489158236, "question_id": 42681622, "link": "https://stackoverflow.com/questions/42681622/passing-a-structured-data-type-from-fortran-to-c", "closed_reason": "Duplicate", "title": "Passing a structured data type from Fortran to C++", "body": "<p>I have a structured type in Fortran that contains lots of data including pointers (real*8 pointer data type).</p>\n\n<p>I am developing a C++ API for some Fortran routine. I need the contents of the structure to persist between calls to the Fortran routine.</p>\n\n<p>I was thinking about getting the address of the structure using loc and pass the address to the C++ side.</p>\n\n<p>When Fortran routine is called again from C++ and the address is passed back to Fortran, somehow typecast it to the original structure and then use it for computation.</p>\n\n<p>What approach can I use to accomplish this?</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: my code based on the comments/suggestions.\nThe program crashes when C_LOC is called (if I comment out the call to C_LOC then the program does not crash).</p>\n\n<pre><code>subroutine TEST(a,b,c,d,e,mystruct,ier) BIND(C, NAME='TEST')\nuse mymodule\nUSE, INTRINSIC :: ISO_C_BINDING\n\nimplicit none\nTYPE(C_PTR)                 :: mystruct\nTYPE(mymodule), TARGET      :: origstruct\nINTEGER                     :: a, b, c\nDOUBLE PRECISION            :: d(*), e(*)\nINTEGER                     :: ier\n\n!Do something with origstruct and other arguments\n\nprint *, 'here 1'\nmystruct= C_LOC(origstruct)\nprint *, 'here 2'\n\nend\n</code></pre>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1489006390, "post_id": 42681589, "comment_id": 72487473, "body": "For code reviews, please post to <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1489006401, "post_id": 42681589, "comment_id": 72487481, "body": "<code>m_data = m_newdata; delete[] m_data;</code> Errr, what, you assign some value to <code>m_data</code> and then <code>delete</code> it immediately? And try to access an element of <code>m_data</code> later on? This doesn&#39;t make much sense to me."}, {"owner": {"reputation": 1700, "user_id": 3517823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ead39c453c59e5666b801a3a17919d?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/3517823/arash"}, "edited": false, "score": 0, "creation_date": 1489009950, "post_id": 42681589, "comment_id": 72489338, "body": "@user2343873: You may want to swap these two lines?! <code>m_data = m_newdata;             delete[] m_data;</code>"}, {"owner": {"reputation": 1700, "user_id": 3517823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ead39c453c59e5666b801a3a17919d?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/3517823/arash"}, "edited": false, "score": 0, "creation_date": 1489010514, "post_id": 42681589, "comment_id": 72489612, "body": "I guess you also never initialize <code>m_tail</code> and <code>m_head</code> ?"}, {"owner": {"reputation": 333, "user_id": 2343873, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1a08f46ee42566b5718129600b67603f?s=128&d=identicon&r=PG", "display_name": "Mag", "link": "https://stackoverflow.com/users/2343873/mag"}, "edited": false, "score": 0, "creation_date": 1489011040, "post_id": 42681589, "comment_id": 72489855, "body": "Thanks, done! I&#39;m more curious about my lock/atomic stuff, whether it&#39;s threadsafe, etc."}], "owner": {"reputation": 333, "user_id": 2343873, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1a08f46ee42566b5718129600b67603f?s=128&d=identicon&r=PG", "display_name": "Mag", "link": "https://stackoverflow.com/users/2343873/mag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489011002, "creation_date": 1489005882, "last_edit_date": 1489011002, "question_id": 42681589, "link": "https://stackoverflow.com/questions/42681589/ringbuffer-with-spin", "title": "RIngBuffer with Spin", "body": "<p>I just went to an interview and asked to implement a ring buffer with spin.. so I came up with this (I just assumed one producer and one consumer =p) ... I'm curious to see what kind of bugs you guys see, any comments... especially this line:</p>\n\n<pre><code>    if ((m_tail + 1) % m_size == m_head){\n</code></pre>\n\n<p>Is this thread-safe? Do I need a temporary atomic int to hold the calculate?</p>\n\n<pre><code>class RingBufferSpin {\nprivate:\n    std::atomic&lt;bool&gt; m_ready;\n    std::atomic&lt;int&gt; m_head;\n    std::atomic&lt;int&gt; m_tail;\n    int *m_data;\n    int m_size;\npublic:\n    RingBufferSpin(int size){\n        m_data = new int[size];\n        m_size = size;\n        m_head = 0;\n        m_tail = 0;\n    }\n\n    void Enqueue(int o){\n        if ((m_tail + 1) % m_size == m_head){\n            m_ready.store(false, memory_order_release);\n            int *m_newdata = new int[m_size * 2];\n            if (m_head &gt; m_tail){\n                memcpy(m_new_data, m_data, m_head);                \n            } else if (m_tail &lt; m_head){\n                memcpy(m_new_data, m_data, m_head);                \n                memcpy(m_new_data[(m_head + m_size)], m_data[m_tail], m_size - m_tail);                \n            }\n            delete[] m_data;\n            m_data = m_newdata;\n            m_ready.store(true, memory_order_release);\n        }\n        m_data[m_head] = o;\n        m_head.store((m_head + 1) % m_size);\n    }\n\n    int Dequeue(){\n        while(!m_ready.load(memory_order_acquire)){\n            // __asm__ pause\n        }\n        int t = m_data[m_tail];\n        m_tail.store(m_tail + 1 % m_size);\n        return t;\n    }\n\n    ~RingBufferSpin(){\n        delete[] m_data;\n    }\n} \n</code></pre>\n\n<p>Much appreciated!</p>\n"}, {"tags": ["c++", "vb.net"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1489006073, "post_id": 42681545, "comment_id": 72487297, "body": "Why on earth would you want to pass int pointers for just adding them (you <i>do not</i> need these by reference anyway)."}, {"owner": {"reputation": 287, "user_id": 2256085, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0024095f29efb25d067d0379da91059a?s=128&d=identicon&r=PG", "display_name": "user2256085", "link": "https://stackoverflow.com/users/2256085/user2256085"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1489010560, "post_id": 42681545, "comment_id": 72489637, "body": "@crashmstr this is just a small reproducible example that I hope to get working as a precursor to a more complicated problem where 0-filled vectors will be passed into the c code, filled, and returned to the VB.  If you have a small working example, I&#39;d be very much obliged if you could share it."}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1489013005, "post_id": 42681545, "comment_id": 72490770, "body": "I don&#39;t know if this will help, but you could try adding the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.inattribute(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>&lt;[In]()&gt;</code> attribute</a> to the <code>ByRef</code> arguments to prevent the Marshaler from copying the value back."}, {"owner": {"reputation": 287, "user_id": 2256085, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0024095f29efb25d067d0379da91059a?s=128&d=identicon&r=PG", "display_name": "user2256085", "link": "https://stackoverflow.com/users/2256085/user2256085"}, "reply_to_user": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1489028098, "post_id": 42681545, "comment_id": 72495326, "body": "@TnTinMn <code>CallingConvention:=CallingConvention.Cdecl</code> worked!  On to the next modification of my small example before applying to &quot;real-world&quot; problem."}, {"owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489104792, "post_id": 42681545, "comment_id": 72537576, "body": "You should mark his answer as accepted then. :)"}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 2256085, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0024095f29efb25d067d0379da91059a?s=128&d=identicon&r=PG", "display_name": "user2256085", "link": "https://stackoverflow.com/users/2256085/user2256085"}, "edited": false, "score": 0, "creation_date": 1489010764, "post_id": 42682219, "comment_id": 72489727, "body": "adopting your suggestions changed the error message, so that seems like progress.  Instead of getting the PInvoke error cited in my original question, I&#39;m now getting, &quot;An unhandled exception of type &#39;System.AccessViolationException&#39; occurred in calling_project_in_VB.exe  Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.&quot;"}, {"owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "reply_to_user": {"reputation": 287, "user_id": 2256085, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0024095f29efb25d067d0379da91059a?s=128&d=identicon&r=PG", "display_name": "user2256085", "link": "https://stackoverflow.com/users/2256085/user2256085"}, "edited": false, "score": 0, "creation_date": 1489018209, "post_id": 42682219, "comment_id": 72492677, "body": "@user2256085 : That&#39;s usually what you get when something goes wrong in the C++ code. The parameters should be of type <code>IntPtr</code>, so I rather think you&#39;re missing something in the C++ part. Try adding the <code>__stdcall</code> calling convention before/after <code>__declspec( dllexport )</code>."}], "tags": [], "owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "is_accepted": false, "score": 1, "last_activity_date": 1489008467, "creation_date": 1489008467, "answer_id": 42682219, "question_id": 42681545, "link": "https://stackoverflow.com/questions/42681545/memory-corruption-calling-c-dll-from-vb-net/42682219#42682219", "title": "Memory corruption calling C++ dll from VB.NET", "body": "<p>Pretty much anything that is a pointer in C++ equals to <a href=\"https://msdn.microsoft.com/en-us/library/system.intptr(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><strong><code>IntPtr</code></strong></a> in the .NET world, thus your parameters should be of that type. However, as crashmstr says, why would you even need them to be pointers in the first place if you're only adding two numbers together?</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>&lt;DllImport(\"D:\\...\\called_c.dll\", EntryPoint:=\"add\", ExactSpelling:=False)&gt;\nPublic Function add(ByVal a As IntPtr, ByVal b As IntPtr) As Integer\nEnd Function\n</code></pre>\n\n<p>Also note that the parameters should be passed as <code>ByVal</code> because the C++ function currently doesn't include a parameter that is expected to be passed by reference.</p>\n\n<p><strong>Usage example:</strong></p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim Result As Integer = add(New IntPtr(3), New IntPtr(6))\nMessageBox.Show(Result) 'Should display \"9\".\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489018562, "post_id": 42684338, "comment_id": 72492781, "body": "I just suggested he&#39;d use StdCall, though both will work. :)"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "reply_to_user": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489019246, "post_id": 42684338, "comment_id": 72492992, "body": "@VisualVincent, I&#39;m curious as what you changed in the edit?  My eyes are tired, but all I see is that the code blocks where deleted and then put back in."}, {"owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489045078, "post_id": 42684338, "comment_id": 72501538, "body": "It&#39;s an invisible code tag. I added <code>&lt;!-- language-all: vb.net --&gt;</code> above your first code block. It changes so that all your code blocks use VB.NET&#39;s syntax highlighting."}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "reply_to_user": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489071670, "post_id": 42684338, "comment_id": 72519096, "body": "@VisualVincent, thank you for information.  It seems like I&#39;m not the only one that can not detect those changes.  This topic just popped up on the <a href=\"https://meta.stackoverflow.com/questions/345097/reviewer-thinks-there-is-no-change-in-documentation?cb=1\">Hot Meta Links sidebar</a>."}, {"owner": {"reputation": 17362, "user_id": 3740093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XrJEq.png?s=128&g=1", "display_name": "Visual Vincent", "link": "https://stackoverflow.com/users/3740093/visual-vincent"}, "edited": false, "score": 0, "creation_date": 1489073878, "post_id": 42684338, "comment_id": 72520732, "body": "Heh. It is displayed in the <code>side-by-side markdown</code> mode. :)"}], "tags": [], "owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "is_accepted": true, "score": 1, "last_activity_date": 1489018529, "last_edit_date": 1489018529, "creation_date": 1489018093, "answer_id": 42684338, "question_id": 42681545, "link": "https://stackoverflow.com/questions/42681545/memory-corruption-calling-c-dll-from-vb-net/42684338#42684338", "title": "Memory corruption calling C++ dll from VB.NET", "body": "<p>The default calling convention for the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.dllimportattribute.callingconvention(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DllImportAttribte</a> is listed as:</p>\n\n<blockquote>\n  <p>The default value for the CallingConvention field is Winapi, which in turn defaults to StdCall convention.  </p>\n</blockquote>\n\n<p>However the default for C++ programs is <a href=\"https://msdn.microsoft.com/en-us/library/zkwh89ks.aspx\" rel=\"nofollow noreferrer\">__cdecl</a></p>\n\n<p>Your C++ code appears to use this default value by not specifying an alternative, so the VB signature should be:</p>\n\n\n\n<pre class=\"lang-vb prettyprint-override\"><code>&lt;DllImport(\"D:\\...\\called_c.dll\", EntryPoint:=\"add\", ExactSpelling:=False, CallingConvention:=CallingConvention.Cdecl)&gt;\nPublic Function add(ByRef a As Int32, ByRef b As Int32) As Int32\nEnd Function\n</code></pre>\n\n<p>Alternatively, you may want to add the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.interopservices.inattribute(v=vs.110).aspx\" rel=\"nofollow noreferrer\">InAttribute</a> to the arguments to prevent any copying back of the values by the interop marshaler.</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>&lt;DllImport(\"D:\\...\\called_c.dll\", EntryPoint:=\"add\", ExactSpelling:=False, CallingConvention:=CallingConvention.Cdecl)&gt;\nPublic Function add(&lt;[In]()&gt; ByRef a As Int32, &lt;[In]()&gt; ByRef b As Int32) As Int32\nEnd Function\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 2256085, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0024095f29efb25d067d0379da91059a?s=128&d=identicon&r=PG", "display_name": "user2256085", "link": "https://stackoverflow.com/users/2256085/user2256085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "closed_date": 1489018572, "accepted_answer_id": 42684338, "answer_count": 2, "score": 1, "last_activity_date": 1489018529, "creation_date": 1489005702, "last_edit_date": 1489008196, "question_id": 42681545, "link": "https://stackoverflow.com/questions/42681545/memory-corruption-calling-c-dll-from-vb-net", "closed_reason": "Duplicate", "title": "Memory corruption calling C++ dll from VB.NET", "body": "<p>I'm attempting to call a function in a C++ dll from vb.net, but am running into the following error: </p>\n\n<blockquote>\n  <p>Managed Debugging Assistant 'PInvokeStackImbalance' has detected a problem in 'D:...\\calling_project_in_VB.vshost.exe'.</p>\n  \n  <p>Additional information: A call to PInvoke function 'calling_project_in_VB!\n  calling_project_in_VB.Module1::add' has unbalanced the stack. This is likely because the managed PInvoke signature does not match the unmanaged target signature. Check that the calling convention and parameters of the PInvoke signature match the target unmanaged signature.</p>\n</blockquote>\n\n<p>I'm hopeful someone might be versed enough in this stuff to spot where I'm going wrong?  I would appreciate any suggestions, so far the googles has been unproductive in helping me identify what the issue is.  Here is the small reproducible example I'm attempting to run:</p>\n\n<p>The C++ is set up as such:</p>\n\n<p><strong>called_c.h:</strong></p>\n\n<pre><code>extern \"C\"  __declspec( dllexport ) \n                   int add(int* a, int* b); \n</code></pre>\n\n<p><strong>called_c.cpp:</strong></p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"called_c.h\"\n#include &lt;string&gt;\n\nusing namespace std;\n// using namespace System;\n\nint add(int* a, int* b)\n{\n    int Aa = *a;\n    int Bb = *b;\n\n    return Aa + Bb;\n}\n</code></pre>\n\n<p><strong>And here is the VB function attempting to call the C (where \"...\" is the path on my machine):</strong></p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Imports System.Runtime.InteropServices\nImports System\n\nModule Module1\n\n    'Public Class called_c\n      &lt;DllImport(\"D:\\...\\called_c.dll\", EntryPoint:=\"add\", ExactSpelling:=False)&gt;\n    Public Function add(ByRef a As Int32, ByRef b As Int32) As Int32\n    End Function\n\n    'End Class\n\n    Sub Main()\n\n        Dim val1 As Int32\n        Dim val2 As Int32\n        Dim answer As Int32\n\n        val1 = 3\n        val2 = 4\n\n        answer = add(val1, val2)\n\n        MsgBox(answer)\n\n    End Sub\n\nEnd Module\n</code></pre>\n"}, {"tags": ["c++", "path", "coordinates", "path-finding"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1489004337, "post_id": 42681037, "comment_id": 72486381, "body": "I recommend posting to <a href=\"https://codereview.stackexchange.com\">Code Review</a>, if your program works and you want it reviewed for performance."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1489004343, "post_id": 42681037, "comment_id": 72486386, "body": "We aren&#39;t walking lightning-fast debuggers, and it&#39;s also not so pleasing to read that load of code you posted, so you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead. You can also use the debugger your IDE provides. If your algorithm &quot;sometimes works and sometimes doesn&#39;t&quot;, this means there&#39;s a flaw you can find by investigating on which input data it fails."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4942583"}, "edited": false, "score": 0, "creation_date": 1489004352, "post_id": 42681037, "comment_id": 72486394, "body": "What pathfinding algorithm are you using? What topography? Can you isolate a specific problem with the code and post that instead?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1489005111, "post_id": 42681037, "comment_id": 72486822, "body": "Also some advice -- find the test case that doesn&#39;t work, and hard-code it into your program, in other words, stop using random numbers for now.  By using random data, it just makes your job much more difficult since your data is now a moving target."}], "owner": {"reputation": 1, "user_id": 3315719, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001617360442/picture?type=large", "display_name": "user3315719", "link": "https://stackoverflow.com/users/3315719/user3315719"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489013307, "creation_date": 1489003952, "last_edit_date": 1489013307, "question_id": 42681037, "link": "https://stackoverflow.com/questions/42681037/pathfinding-algorithm-not-working", "title": "PathFinding Algorithm not working", "body": "<p>I have a school project where we have to create a game on C++. We are divided into groups and I had to create the pathfinding for it. The program compiles (although it is very slow) and my algorithm does not work. It does not always find the shortest path. \nThe game is the following: You have a labyrinth, a player and three enemies. The task is to make the enemies find their path to the player and they can move only one \"character\" every time the player moves.</p>\n\n<pre><code>#include \"MapGeneration.cpp\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;stdlib.h&gt;\n#include \"EnemyClass.cpp\" //use the enemy stuff to get the entity stuff\n                          //in EntityClass see if the xPos and yPos are changing                            \n\nusing namespace std;\n\n/* Variables */\nint row; // rows\nint col; // columns\nconst int enemnumb = 3;\nconst int playnumb = 1;\nint playcount = 1;       // Counting how much players are left\nint enemcount = 3;       // Counting how much enemies are left\nint enemcordr[enemnumb]; // Enemy row number\nint enemcordc[enemnumb]; // Enemy column number\nint playcordr[playnumb]; // Player row number\nint playcordc[playnumb]; // Player column number\n\n\n/* Find enemies */\nint findAllEnem(){\n    bool found = false;\n    while(!found){                                // If all enemies are found while loop stops\n        for(row=0;row&lt;MapRowSize;row++){          // Searches in rows\n            for(col=0;col&lt;MapColumnSize;col++){   // Searches in columns\n                if(arrCurrentMap[row][col]=='e'){ // If it finds the letter 'e'\n                    enemcordr[enemcount]=row;     // Save the row number\n                    enemcordc[enemcount]=col;     // Save the column number\n                    enemcount--;                  // Substracts 1 from the enemy count in order to show how much are left\n                }\n                if(enemcount==0){                 // If there are no left enemies\n                    found=true;                   // All enemies will be found and will stop the while loop\n                }\n            }\n        }\n    }\n}\n\n\n/* Find players */\nint findPlayer(){\n    bool found = false;\n    while(!found){                                // If player is found\n        for(row=0;row&lt;MapRowSize;row++){          // Searches in rows\n            for(col=0;col&lt;MapColumnSize;col++){   // Searches in columns\n                if(arrCurrentMap[row][col]=='p'){ // If it finds the letter 'e'\n                    playcordr[playcount]=row;     // Save the row number\n                    playcordc[playcount]=col;     // Save the column number\n                    playcount--;                  // Substracts 1 from the enemy count in order to show how much are left\n                }\n                if(playcount==0){                 // If there are no left enemies\n                    found=true;                   // All enemies will be found and will stop the while loop\n                }\n            }\n        }\n    }\n}\n\nint enemMovement() {\n    srand(time(NULL));\n    bool makeMove = false; // to check if the enemy has already made a move\n    bool legit = false;\n    const int possible = 1500;\n    int possmov = 1;\n    int min[possible]; // minimum distance\n    int countMove[possible][enemnumb]; // counts how many moves have been made with road\n    int moveR[possible][enemnumb]; // gets virtual row without moving the enemy\n    int moveC[possible][enemnumb]; // gets virtual column without moving the enemy\n    int found[possible][enemnumb]; // if enemy found the player\n    for (playcount = playnumb; playcount &gt; 0; playcount--) { // for every player\n      for (enemcount = enemnumb; enemcount &gt; 0; enemcount--) { // the three enemies\n\n        for (possmov = 0; possmov &lt; possible; possmov++) { // possible directions\n          moveR[possmov][enemcount] = enemcordr[enemcount];\n          moveC[possmov][enemcount] = enemcordc[enemcount];\n          while (legit != true) {\n            int previous;\n            int nRand = rand()%(4-0)+1; //4 possible directions\n            if (nRand == 1) { //move right\n              if (arrCurrentMap[moveR[possmov][enemcount]][moveC[possmov][enemcount] + 1] != '#') {\n                  if (arrCurrentMap[moveR[possmov][enemcount]][moveC[possmov][enemcount] + 1] == 'p') {\n                    found[possmov][enemcount]=countMove[possmov][enemcount];\n                    legit=true;\n                  }\n                  moveC[possmov][enemcount]++;\n                  countMove[possmov][enemcount]++;\n\n                }\n              }\n              if (nRand == 2) // move  left\n              {\n                if (arrCurrentMap[moveR[possmov][enemcount]][moveC[possmov][enemcount] - 1] != '#') {\n                  if (arrCurrentMap[moveR[possmov][enemcount]][moveC[possmov][enemcount] - 1] == 'p') {\n                    found[possmov][enemcount]=countMove[possmov][enemcount];\n                    legit=true;\n                  }\n                  moveC[possmov][enemcount]--;\n                  countMove[possmov][enemcount]++;\n\n                }\n              }\n              if (nRand == 3) // move up\n              {\n                if (arrCurrentMap[moveR[possmov][enemcount] - 1][moveC[possmov][enemcount]] != '#') {\n                  if (arrCurrentMap[moveR[possmov][enemcount] - 1][moveC[possmov][enemcount]]== 'p') {\n                    found[possmov][enemcount]=countMove[possmov][enemcount];\n                    legit=true;\n                  }\n                  moveR[possmov][enemcount]--;\n                  countMove[possmov][enemcount]++;\n                }\n              }\n              if (nRand == 4) // move down\n              {\n                if (arrCurrentMap[moveR[possmov][enemcount] + 1][moveC[possmov][enemcount]] != '#') {\n                  if (arrCurrentMap[moveR[possmov][enemcount] + 1][moveC[possmov][enemcount]]== 'p') {\n                    found[possmov][enemcount]=countMove[possmov][enemcount];\n                    legit=true;\n                  }\n                  moveR[possmov][enemcount]++;\n                  countMove[possmov][enemcount]++;\n                }\n              }\n            }\n            legit=false; // returns the value of legit to false for next move road\n          }\n          min[enemcount]=possible;\n          for(int i=0;i&lt;=possible;i++){ // finds the shortest path\n             if(found[i][enemcount]&lt;min[enemcount] &amp;&amp; found[i][enemcount] != 0){\n                 min[enemcount]=found[i][enemcount];   \n             }\n          }\n        }\n      }\n}\n\n\n/* Main function */\nint main (){\n\n    GenerateLoadingMap(1); // Generate map\n    findPlayer();          // Finds players\n    findAllEnem();         // Find enemies\n    enemMovement();        // enemy movement\n    return 0;\n}\n</code></pre>\n\n<p>This is the code I wrote. Sometimes it finds the shortest path but not always. Also I would like for an advice on how to store the coordinates after every move.</p>\n"}, {"tags": ["c++", "linux", "visual-studio", "pthreads"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1489003563, "post_id": 42680884, "comment_id": 72485970, "body": "Make sure the <code>-pthread</code> is late in the link command line. Certainly after all of your object and library files. Order is important."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 7707690, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b2257316caa0fb05b9f4d38a4757bdb1?s=128&d=identicon&r=PG", "display_name": "user7707690", "link": "https://stackoverflow.com/users/7707690/user7707690"}, "is_accepted": true, "score": 6, "last_activity_date": 1489482453, "creation_date": 1489482453, "answer_id": 42781757, "question_id": 42680884, "link": "https://stackoverflow.com/questions/42680884/vs2017-linux-c-threads-issue/42781757#42781757", "title": "VS2017 Linux C++ threads issue", "body": "<p>linker->input->library dependencies  pthread</p>\n"}], "owner": {"reputation": 57, "user_id": 2960513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afdc00fb7a72ed57ae02a4bf68db216a?s=128&d=identicon&r=PG&f=1", "display_name": "TommyBoii", "link": "https://stackoverflow.com/users/2960513/tommyboii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2404, "favorite_count": 0, "accepted_answer_id": 42781757, "answer_count": 1, "score": 2, "last_activity_date": 1489482453, "creation_date": 1489003420, "question_id": 42680884, "link": "https://stackoverflow.com/questions/42680884/vs2017-linux-c-threads-issue", "title": "VS2017 Linux C++ threads issue", "body": "<p>I have been testing the VS2017 Linux C++ with remote debugger on Linux Ubuntu.\nI have created a few example projects for C++ and everything has been working great until I got to threading examples.</p>\n\n<p>I cannot seem to get the threads to compile as I keep getting \"undefined reference to `pthread_create'\" error. I know the solution to this is to add -lpthread or -pthread to the VS project properties command line but this does not seem to work in this case.</p>\n\n<p>If anyone has got this working could you please point me in the right direction. </p>\n"}, {"tags": ["c++", "arrays", "variadic-templates", "functor", "template-meta-programming"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1489006380, "post_id": 42680826, "comment_id": 72487465, "body": "<code>__restrict__</code> is not C++.  Please list your exact compiler, as no standard C++ program can contain <code>__restrict__</code>, thus your solution must be compiler-specific."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1489006633, "post_id": 42680826, "comment_id": 72487614, "body": "@Yakk: Fair enough; see edited notes."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 4, "last_activity_date": 1489008162, "last_edit_date": 1489008162, "creation_date": 1489006531, "answer_id": 42681763, "question_id": 42680826, "link": "https://stackoverflow.com/questions/42680826/how-do-i-convert-a-template-parameter-pack-into-multiple-pointer-arguments-to-a/42681763#42681763", "title": "How do I convert a template parameter pack into multiple pointer arguments to a function?", "body": "<pre><code>template&lt;class Functor, class...Ts&gt;\nvoid foo( std::size_t n,\n  Ts const* __restrict__ ... ts\n) {\n  for(size_t i = 0; i &lt; n; i ++) {\n    std::cout &lt;&lt; Functor{}( ts[i]...)  &lt;&lt; '\\n';\n  }\n}\n</code></pre>\n\n<p>well, that was easy.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/8ba4df3e9f142a3e\" rel=\"nofollow noreferrer\">Live example</a>.</p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 42681763, "answer_count": 1, "score": 3, "last_activity_date": 1489068790, "creation_date": 1489003206, "last_edit_date": 1489068790, "question_id": 42680826, "link": "https://stackoverflow.com/questions/42680826/how-do-i-convert-a-template-parameter-pack-into-multiple-pointer-arguments-to-a", "title": "How do I convert a template parameter pack into multiple pointer arguments to a function?", "body": "<p>I want to implement the following:</p>\n\n<pre><code>template &lt;typename Functor, typename... Params&gt;\nvoid foo(\n    size_t n\n    /* magic goes here, producing function parameters p1, p2, etc. */\n    /* corresponding to the parameter pack.                        */\n)\n{\n    for(size_t i = 0; i &lt; n; i ++) {\n        std::cout &lt;&lt; Functor()( \n            /* pass p1[i], p2[i], etc. corresponding to the  */\n            /* parameter pack.                               */\n        )  &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>thus foo would expand into something like:</p>\n\n<pre><code>void foo(\n    size_t n,\n    const int* __restrict__ p1,\n    const int* __restrict__ p2\n)\n{\n    for(size_t i = 0; i &lt; n; i ++) {\n        std::cout &lt;&lt; std::plus()(p1[i], p2[i]) &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>I have a vague intuition that I might need to go beyond the standard library into something like Fusion, Brigand or Hana, which I've just started looking into; but - maybe I'm wrong and it's simpler than I think.</p>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>A solution in which I pass a tuple of pointers-to-const's is acceptable, although it's sub-optimal - as I can't apply <code>__restrict__</code> to them (as it is not really C++, I know I know). Actually it's even interesting in itself since I might be able to perform other tricks with the tuple.</li>\n<li>I don't mind the functor taking a single tuple of pointers instead of multiple individual pointers, either.</li>\n<li>I'm using nvcc + GCC 5.4.1; the code should be C++11'ish (that is, the part of C++11 that I can compile as CUDA code).</li>\n<li>I stream the result to <code>std::cout</code> just to not give anybody the idea I'm not doing anything with the functor's return value, and this seemed the most straight-forward thing to do in example code.</li>\n</ul>\n"}, {"tags": ["c++", "simulator", "ns2"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 7631658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca92a3432894dfa5080d28284b9ae7?s=128&d=identicon&r=PG", "display_name": "MthQ", "link": "https://stackoverflow.com/users/7631658/mthq"}, "is_accepted": false, "score": 1, "last_activity_date": 1489757529, "creation_date": 1489757529, "answer_id": 42858902, "question_id": 42680824, "link": "https://stackoverflow.com/questions/42680824/ns2-aodv-routing-messages-stuck-in-queue/42858902#42858902", "title": "NS2: AODV routing messages stuck in queue", "body": "<p>For anyone else who might run into this problem:</p>\n\n<p>It seems to be caused by CCA's from the mac-layer, where an unfortunate series of events can cause the <code>blocked_</code> variable in the <code>PriQueue</code> class to get stuck to 1.</p>\n\n<p>In <code>Phy802_15_4::CCAHandler</code> of <code>p802_15_4phy.cc</code>, replacing </p>\n\n<pre><code>CCAReportH.start(4/getRate('s'));\n</code></pre>\n\n<p>with</p>\n\n<pre><code>sensed_ch_state = t_status;\nmac-&gt;PLME_CCA_confirm(sensed_ch_state);\n</code></pre>\n\n<p>'fixes' this issue. This makes the CCAs instanteneous. Apparentely, not having instanteneous CCAs can cause this bug.\nIf anyone finds a better fix, please let me know.</p>\n"}], "owner": {"reputation": 123, "user_id": 7631658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca92a3432894dfa5080d28284b9ae7?s=128&d=identicon&r=PG", "display_name": "MthQ", "link": "https://stackoverflow.com/users/7631658/mthq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489757529, "creation_date": 1489003183, "last_edit_date": 1489073825, "question_id": 42680824, "link": "https://stackoverflow.com/questions/42680824/ns2-aodv-routing-messages-stuck-in-queue", "title": "NS2: AODV routing messages stuck in queue", "body": "<p>I am running some simple simulations in NS2.35 using the AODV routing protocol. However, in some scenarios, I notice that, when I run the simulation long enough, AODV REQUEST and REPLY messages are not being sent out and filling up the queues of nodes.</p>\n\n<p>In the .tcl example below I have 3 nodes generating CBR traffic to be sent to the PAN Coordinator. However at some point, route requests and replies are continuously being dropped by node 2 at IFQ level.</p>\n\n<p>Additionally, as illustrated by the following trace snippet, at the end of the simulation (time=10000) the IFQ of node 2 isfilled up with REQUESTS, eventhough there was plenty of time at the end of the simulation to empty the queue.</p>\n\n<pre><code>s 9353.439721046 _2_ RTR  --- 0 AODV 48 [0 ffffffff 1 800] ------- [2:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nD 9353.439746046 _2_ IFQ  --- 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 3 0] [0x2 2 20 [0 105] [3 42]] (REQUEST)\ns 9353.441744607 _3_ MAC  --- 0 AODV 55 [0 ffffffff 3 800] ------- [3:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nr 9353.444336620 _2_ MAC  --- 0 AODV 48 [0 ffffffff 3 800] ------- [3:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nr 9353.444336633 _1_ MAC  --- 0 AODV 48 [0 ffffffff 3 800] ------- [3:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nr 9353.444361620 _2_ RTR  --- 0 AODV 48 [0 ffffffff 3 800] ------- [3:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nr 9353.444361633 _1_ RTR  --- 0 AODV 48 [0 ffffffff 3 800] ------- [3:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 2 0] [0x2 2 37 [0 149] [1 76]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 3 0] [0x2 2 30 [0 139] [3 62]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 4 0] [0x2 2 36 [0 143] [1 74]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 30 0] [0x2 1 103 [0 49] [2 208]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 2 0] [0x2 2 35 [0 143] [1 72]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 30 0] [0x2 1 102 [0 49] [2 206]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 30 0] [0x2 1 101 [0 49] [2 204]] (REQUEST)\nD 10000.000000000 _2_ IFQ  END 0 AODV 48 [0 ffffffff 2 800] ------- [2:255 -1:255 30 0] [0x2 1 100 [0 49] [2 202]] (REQUEST)\n</code></pre>\n\n<p>Any idea what is going on?</p>\n\n<p>Update:\nApparently, at some point REQUEST messages are generated at RTR level but not being sent out and then traffic is dropped because the node didn't receive a route reply in time. Here's a trace example showing this:</p>\n\n<pre><code>s 2417.739768850 _2_ AGT  --- 23 cbr 70 [0 0 0 0] ------- [2:0 0:1 32 0] [7] 0 0\nr 2417.739768850 _2_ RTR  --- 23 cbr 70 [0 0 0 0] ------- [2:0 0:1 32 0] [7] 0 0\ns 2417.739768850 _2_ RTR  --- 0 AODV 48 [0 0 0 0] ------- [2:255 -1:255 30 0] [0x2 1 16 [0 49] [2 34]] (REQUEST)\ns 2418.500000000 _2_ RTR  --- 0 AODV 48 [0 0 0 0] ------- [2:255 -1:255 30 0] [0x2 1 17 [0 49] [2 36]] (REQUEST)\ns 2419.500000000 _2_ RTR  --- 0 AODV 48 [0 0 0 0] ------- [2:255 -1:255 30 0] [0x2 1 18 [0 49] [2 38]] (REQUEST)\ns 2421.000000000 _2_ RTR  --- 0 AODV 48 [0 0 0 0] ------- [2:255 -1:255 30 0] [0x2 1 19 [0 49] [2 40]] (REQUEST)\nD 2423.000000000 _2_ RTR  NRTE 23 cbr 90 [0 0 0 0] ------- [2:0 0:1 30 0] [7] 0 0\n</code></pre>\n\n<p>Note that in all examples where I encounter this problem, each time a CBR message is generated, the previous route has already expired and a new route has to be found. I think this might be causing a bug somewhere.</p>\n\n<pre><code>TCL file:\n\nset tr .tr\n\nset nam .nam\n\nset fname [file rootname $argv0]\n\n\n\n\n\n# Parameters Settings\n\nset val(chan)           Channel/WirelessChannel    ;# Channel Model: Wireless\n\nset val(prop)           Propagation/TwoRayGround   ;# Propragation Model: Shadowing (Shadowing/TwoRayGround/FreeSpace) \n\nset val(netif)          Phy/WirelessPhy/802_15_4\n\nset val(mac)            Mac/802_15_4\n\nset val(ifq)            Queue/DropTail/PriQueue    ;# Queue Model: Drop at Tail\n\nset val(ll)             LL                         ;# Link Layer Model\n\nset val(ant)            Antenna/OmniAntenna        ;# Antenna Model\n\nset val(ifqlen)         64                         ;# Max Number of Queue\n\nset val(nn)             4                         ;# Number of Nodes\n\nset val(rp)             AODV                       ;# Routing Protocol: AODV (DSR/ZBR/AOMDV/AODV)\n\nset val(x)      0              ;# Center Position of nam\n\nset val(y)      0\n\nset val(tr)     $fname$tr          ;# Tracing File\n\nset val(nam)        $fname$nam         ;# Nam File\n\nset val(traffic)    cbr                        ;# Data Flow: cbr (cbr/poisson/ftp)\n\nset val(trInterval) 0.01               ;# Time Interval between Packets\n\nset val(startInterval)  0.5            ;# Start Time\n\nset stopTime            10000              ;# Stop Time\n\n\n\n# For model 'TwoRayGround'\n\nset dist(5m)  7.69113e-06\n\nset dist(9m)  2.37381e-06\n\nset dist(10m) 1.92278e-06\n\nset dist(11m) 1.58908e-06\n\nset dist(12m) 1.33527e-06\n\nset dist(13m) 1.13774e-06\n\nset dist(14m) 9.81011e-07\n\nset dist(15m) 8.54570e-07\n\nset dist(16m) 7.51087e-07\n\nset dist(20m) 4.80696e-07\n\nset dist(25m) 3.07645e-07\n\nset dist(30m) 2.13643e-07\n\nset dist(35m) 1.56962e-07\n\nset dist(40m) 1.20174e-07\n\nPhy/WirelessPhy set CSThresh_ $dist(10m)\n\nPhy/WirelessPhy set RXThresh_ $dist(10m)\n\n\n\n# Input\n\nproc getCmdArgu {argc argv} {\n\n        global val\n\n        for {set i 0} {$i &lt; $argc} {incr i} {\n\n                set arg [lindex $argv $i]\n\n                if {[string range $arg 0 0] != \"-\"} continue\n\n                set name [string range $arg 1 end]\n\n                set val($name) [lindex $argv [expr $i+1]]\n\n        }\n\n}\n\ngetCmdArgu $argc $argv\n\n\n\n# Initial Global Variables\n\nset ns_     [new Simulator]\n\nset tracefd     [open ./$val(tr) w]\n\n# $ns_ use-newtrace\n\n$ns_ trace-all $tracefd\n\n\n\n# Topology Configuration\n\nset topo       [new Topography]\n\n$topo load_flatgrid $val(x) $val(y)\n\n\n\nset god_ [create-god $val(nn)]\n\n\n\nset chan_1_ [new $val(chan)]\n\n\n\n# Node Configuration\n\n$ns_ node-config -adhocRouting $val(rp) \\\n\n        -llType $val(ll) \\\n\n        -macType $val(mac) \\\n\n        -ifqType $val(ifq) \\\n\n        -ifqLen $val(ifqlen) \\\n\n        -antType $val(ant) \\\n\n        -propType $val(prop) \\\n\n        -phyType $val(netif) \\\n\n        -topoInstance $topo \\\n\n        -agentTrace ON  \\\n\n        -routerTrace ON \\\n\n        -macTrace ON \\\n\n        -movementTrace OFF \\\n\n        -channel $chan_1_\n\n\n\n\n\nfor {set i 0} {$i &lt; $val(nn) } {incr i} {\n\n    set node_($i) [$ns_ node]\n\n    $node_($i) random-motion 0      \n\n}\n\n\n\n#########################################################\n\n\n\n# Topology Input\n\nfor {set i 0} {$i &lt; $val(nn)} {incr i} {\n\n$node_($i) set X_ [expr 4*$i]\n\n$node_($i) set Y_ 0\n\n$node_($i) set Z_ 0\n\n}\n\n\n\n# Start Coordinate/Normal Nodes\n\n$ns_ at 0.0 \"$node_(0) NodeLabel \\\"PAN Coor\\\"\"\n\n$ns_ at 0.0 \"$node_(0) sscs startPANCoord 0\"    \n\n\n\nfor {set i 1} {$i &lt; $val(nn)} {incr i} {\n\n    $ns_ at [expr $i*($val(startInterval))] \"$node_($i) sscs startDevice\"\n\n}\n\n\n\n#########################################################\n\n\n\n\n\n# Setup UDP and CBR\n\nproc cbrtraffic { src dst interval starttime } {\n\n   global ns_ node_\n\n   set udp_($src) [new Agent/UDP]\n\n   eval $ns_ attach-agent \\$node_($src) \\$udp_($src)\n\n   set null_($dst) [new Agent/Null]\n\n   eval $ns_ attach-agent \\$node_($dst) \\$null_($dst)\n\n   set cbr_($src) [new Application/Traffic/CBR]\n\n   eval \\$cbr_($src) set packetSize_ 70\n\n   eval \\$cbr_($src) set rate_ 250kb\n\n   eval \\$cbr_($src) set interval_ $interval\n\n   eval \\$cbr_($src) set random_ 1\n\n   #eval \\$cbr_($src) set maxpkts_ 1000\n\n   eval \\$cbr_($src) attach-agent \\$udp_($src)\n\n   eval $ns_ connect \\$udp_($src) \\$null_($dst)\n\n   $ns_ at $starttime \"$cbr_($src) start\"\n\n   $ns_ at 9500 \"$cbr_($src) stop\"\n\n}\n\n\n\n\n\n# ACK\n\nif {$val(rp) == \"ZBR\"} {\n\n# 0=No ACK; 1=ACK at failure (default); 2=ACK at success/failure\n\n    Mac/802_15_4 wpanCmd callBack 2;\n\n}\n\nif { (\"$val(traffic)\" == \"cbr\") || (\"$val(traffic)\" == \"poisson\") } {\n\n   puts \"\\nTraffic: $val(traffic)\"\n\n   puts [format \"Acknowledgement for data: %s\" [Mac/802_15_4 wpanCmd ack4data off]]\n\n\n\n#########################################################\n\n\n\n# Set Traffic\n\n\n\nfor {set i 1} {$i &lt; $val(nn)} {incr i} {\n\n    cbrtraffic $i 0 300 [expr 20+200*$i]\n\n}\n\n\n\n#########################################################\n\n\n\n}\n\n\n\n# Reset of Nodes\n\nfor {set i 0} {$i &lt; $val(nn) } {incr i} {\n\n    $ns_ at $stopTime \"$node_($i) reset\";\n\n}\n\n\n\n# Stop Simulation\n\n$ns_ at $stopTime  \"stop\"\n\n$ns_ at $stopTime \"puts \\\"\\nNS EXITING...\\n\\\"\"\n\n$ns_ at $stopTime  \"$ns_ halt\"\n\n\n\n# Stop Function\n\nproc stop {} {\n\n    global ns_ tracefd starttime val env\n\n    $ns_ flush-trace\n\n    close $tracefd\n\n    set hasDISPLAY 0\n\n    foreach index [array names env] {\n\n        #puts \"$index: $env($index)\"\n\n        if { (\"$index\" == \"DISPLAY\") &amp;&amp; (\"$env($index)\" != \"\") } {\n\n                set hasDISPLAY 1\n\n        }\n\n    }\n\n}\n\n\n\n# Start Simulation\n\nputs \"\\nStarting Simulation...\"\n\n$ns_ run\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "windows-10", "visual-studio-2017"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1489003587, "post_id": 42680820, "comment_id": 72485982, "body": "My advice is to not put the files inside the Visual Studio folders. Instead set the paths in your IDE using a property page: <a href=\"https://msdn.microsoft.com/query/dev12.query?appId=Dev12IDEF1&amp;l=EN-US&amp;k=k(VS.ToolsOptionsPages.Projects.VCDirectories)&amp;rd=true\" rel=\"nofollow noreferrer\">msdn.microsoft.com/query/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458225"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489003967, "post_id": 42680820, "comment_id": 72486196, "body": "@drescherjm good information I gave you an upvote for it. I&#39;d like to see how to do what I described in the question though, partially just because I am curious."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1489004150, "post_id": 42680820, "comment_id": 72486288, "body": "Sorry, I will let someone else do that. Myself I use <code>CMake</code> to generate all of my Visual Studio projects so I actually would do this in a completely different way (with batch files that set environment variables for <code>CMake</code> finders to direct <code>CMake</code> to find the versions of the packages I want in a build tree) but I just wanted to mention the official way.."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489004305, "post_id": 42680820, "comment_id": 72486364, "body": "With that said I would expect there is likely a duplicate here about Visual Studio Property Pages."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458225"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489004746, "post_id": 42680820, "comment_id": 72486615, "body": "@drescherjm when you use CMake can you still use the visual studio debugger? I was actually pondering using CMake to do my building, but I really like the debugger that visual studio has. Also visual studio can handle building my projects for IOS, and linux through SSH, but I think CMake can to."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1489005948, "post_id": 42680820, "comment_id": 72487230, "body": "Yes of course. I use the debugger daily. I have used <code>CMake</code> for every project developed at work since 2008. Not sure about iOS. I have used my <code>CMake</code> projects from time to time in <code>linux</code> but not as often as I thought when I started. The biggest reason is time."}, {"owner": {"reputation": 317, "user_id": 5690027, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RJPwTsRi1l4/AAAAAAAAAAI/AAAAAAAAAGI/HUtUfIROzfI/photo.jpg?sz=128", "display_name": "George Theodosiou", "link": "https://stackoverflow.com/users/5690027/george-theodosiou"}, "edited": false, "score": 0, "creation_date": 1523103341, "post_id": 42680820, "comment_id": 86427731, "body": "@ holycatcrusher, although &quot;making a project template is not a desirable solution to this question&quot;, I suggest you make it. You can find instructions at (<a href=\"https://www.wikihow.com/Set-Up-SDL-with-Visual-Studio-2017\" rel=\"nofollow noreferrer\">wikihow.com/Set-Up-SDL-with-Visual-Studio-2017</a>). Regards."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 5690027, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RJPwTsRi1l4/AAAAAAAAAAI/AAAAAAAAAGI/HUtUfIROzfI/photo.jpg?sz=128", "display_name": "George Theodosiou", "link": "https://stackoverflow.com/users/5690027/george-theodosiou"}, "is_accepted": false, "score": -1, "last_activity_date": 1523282917, "last_edit_date": 1523282917, "creation_date": 1523279647, "answer_id": 49733885, "question_id": 42680820, "link": "https://stackoverflow.com/questions/42680820/is-it-possible-to-put-the-sdl-lib-dll-and-header-files-somewhere-so-i-can-ju/49733885#49733885", "title": "Is it possible to put the SDL .lib, .dll, and header files somewhere so I can just type #include &lt;SDL2.h&gt; in a visual studio 2017 RC project?", "body": "<p>Although \"making a project template is not a desirable solution to this question\",  I suggest, regarding Visual Studio 2017 Community, make it. You can find instructions at (<a href=\"https://www.wikihow.com/Set-Up-SDL-with-Visual-Studio-2017\" rel=\"nofollow noreferrer\">wikihow.com/Set-Up-SDL-with-Visual-Studio-2017</a>). Following is an overview.</p>\n\n<p><strong>A. Downloading SDL and Creating Empty project.</strong></p>\n\n<p><strong>A.1. Create folder SDL, and put folder <em>SDL2-2.0.8</em> in it.</strong> In directory (disk) C:, create (by right click > New > Folder) new folder called <em>SDL</em>. If desired, you can choose another directory or folder, and another name for the new folder. Click at <a href=\"https://www.libsdl.org/download-2.0.php\" rel=\"nofollow noreferrer\">https://www.libsdl.org/download-2.0.php</a>. Scroll to the bottom of the page and find <em>Development Libraries</em>. Under <em>Windows:</em> click the first entry: <em>SDL2-devel-2.0.8-VC.zip (Visual C++ 32/64-bit)</em>. Drag (or, by right click, copy and paste) folder <em>SDL2-2.0.8</em> from the window where it is downloaded, into folder C: > SDL.</p>\n\n<p><strong>A.2. Create <em>Empty project</em></strong>. Open Visual Studio Community 2017, and create <em>Empty project</em>. In the <em>Name:</em> text box, type <em>SDLproject</em>. After the <em>Location</em> text box, click <em>Browse...</em> and navigate C: > SDL. Click <em>Select folder</em>. The <em>Location</em> now is C:\\SDL. Make sure the <em>Create directory for solution</em> box is not checked. Click [OK]. Create source file with template <em>C++ File (.cpp)</em>. Name it <em>Source.cpp</em>. The <em>Location</em> should be C:\\SDL\\SDLproject.</p>\n\n<p><strong>B. Installing SDL2-2.0.8 on Project</strong></p>\n\n<p><strong>B.1. Add the Include folder.</strong> Right click on the name of your project, that is SDLproject (if you chose it), and select Properties. Open the C/C++ dropdown menu. Click General > Additional Include Directories > down arrow at the right of the field > <em>Edit...</em> in the drop down menu. At the top of the Additional Include Directories window, click the brown folder icon (the first icon). Click the three dots (...) next to the text box that is created. In the <em>Select Directory</em> window, navigate C: > SDL > SDL2-2.0.8, and click <em>include</em> folder. The <em>Folder</em> should be <em>include</em>. Click <em>Select Folder</em> on the <em>Select Directory</em> window and [OK] in the <em>Additional Include Directories</em> window. </p>\n\n<p><strong>B.2. Add the x86 folder.</strong>  Open the <em>Linker</em> dropdown menu, and click <em>General</em>. Click <em>Additional Library Directories</em> entry, and click the down arrow at the right of the field. Click <em>Edit...</em> in the dropdown menu. At the top of the <em>Additional Library Directories</em> window, click the brown folder icon. Then click the three dots next to the text box that is created. In the <em>Select Directory</em> window, navigate C: > SDL > SDL2-2.0.8, and then double click <em>lib</em> folder, followed by clicking <em>x86</em> folder. The <em>Folder</em> is <em>x86</em>. Click <em>Select folder</em> on <em>Select Directory</em> window and [OK] on <em>Additional Library Directories</em> window.</p>\n\n<p><strong>B.3. Add the two library files.</strong> In the <em>Linker</em> dropdown menu, click <em>Input</em>. Click the <em>Additional Dependencies</em> entry > the down arrow at the right of the field > <em>Edit...</em> in the dropdown menu. In <em>Additional Dependencies</em> window copy and paste <em>SDL2.lib; SDL2main.lib</em> in the top-most text box. Click[ [OK] in the <em>Additional Dependencies</em> window. In the <em>Linker</em> dropdown menu, click System > SubSystem. Click the down arrow and select Console(/SUBSYSTEM:CONSOLE) from the dropdown menu. Click [Apply], then [OK] on the <em>Property Pages</em> window. </p>\n\n<p><strong>B.4. Configure the linker subsystem to console.</strong> In the <em>Linker</em> dropdown menu, click System > SubSystem. Click the down arrow and select Console(/SUBSYSTEM:CONSOLE) from the dropdown menu. Click [Apply], then [OK] on the <em>Property Pages</em> window.</p>\n\n<p><strong>B.5. Copy the SDL2.dll file from x86 to your main project file.</strong> Navigate C: > SDL > SDL2-2.0.8 > lib > x86 in file explorer. In x86 folder click SDL2.dll file > right-click > Copy. Navigate to your C: > SDL > SDLproject. Right-click an empty area in <em>SDLproject</em> folder, and select <em>Paste</em>. The <em>SDL2.dll</em> file should now be in your project directory along with your <em>Source.cpp file</em> and a few other files created by Visual Studio.</p>\n\n<p>Now you can compile and run your SDL program.</p>\n\n<p><strong>C. Creating project with SDL project template.</strong></p>\n\n<p><strong>C.1. Create project template.</strong>  By Windows's Paint program create icon with file name <em>SDL</em>. Go to Visual Studio and open <em>SDLproject</em>. On V.S. menu click Project > Export Template.... On <em>Export template</em> Wizard check <em>Project Template...</em>, if it's not checked. Click <em>Next ></em>. On <em>Select Template Options</em>, Template name:'s text field, type <em>SDL</em>. Click the upper [Browse...] (that one next to <em>Icon Image:</em> text field). Navigate to folder <em>Images</em>. Click image <em>SDL</em>. Click [Open]. Now path of <em>Icon Image:</em> is ending with \\SDL.png. Click [Finish].</p>\n\n<p><strong>C.2. Create project with SDL project template.</strong></p>\n\n<p><strong>C.2.1.</strong> On V.S. click File > New > Project.... On <em>New Project</em> window, click template: <em>SDL</em>. In <em>Name:</em>'s text field, type: <em>SDLproject-1</em>. <em>Location</em> is C:\\SDL. Be sure <em>Create directory for solution</em> is unchecked. Click [OK].</p>\n\n<p><strong>C.2.2.</strong> On <em>Solution Explorer</em>, double click <em>Source Files</em>. Click <em>Source.cpp</em> > right click > click <em>Exclude From Project</em>.</p>\n\n<p><strong>C.2.3.</strong> Again right click Source Files > Add > New Item.... On <em>Add New Item - SDLproject-1</em> window, click <em>C++ File (.cpp)</em>. In <em>Name:</em>'s text field, type: <em>Source-1.cpp</em>. The <em>Location</em> is C:\\SDL\\SDLproject-1. Click <em>Add</em>. Now on <em>Solution Explore</em>, below <em>Source Files</em>, you have <em>Source-1.cpp</em> file only.</p>\n\n<p><strong>C.2.4.</strong> Navigate C: > SDL > SDLproject > click file SDL2.dll > right click > click Copy. Now navigate C: > SDL > SDLproject-1 > click on empty area > right click > click Paste. File <em>SDL2.dll</em> is in folder <em>SDLproject-1</em> among <em>Source-1.cpp</em> and other 4 files.</p>\n\n<p><strong>C.2.5.</strong> Now you can compile your SDL project. On window <em>This project is out of date:</em>, below question <em>Would you like to build it?</em> click [Yes].</p>\n\n<p><strong>D. Remark:</strong> Creating project with SDL-project-template is as creating ordinary C++ project, but two more steps:</p>\n\n<p><strong>D.1.</strong> In <em>Solution Explorer</em>, <em>Source Files</em>, source file (<em>Source.cpp</em> in the example above) of template project (<em>SDLproject</em>, in the example) should be excluded from new project (<em>SDLproject-1</em> in example).</p>\n\n<p><strong>D.2.</strong> File <em>SDL2.dll</em> should be copied from template project and pasted in new project.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3458225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 834, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523282917, "creation_date": 1489003159, "question_id": 42680820, "link": "https://stackoverflow.com/questions/42680820/is-it-possible-to-put-the-sdl-lib-dll-and-header-files-somewhere-so-i-can-ju", "title": "Is it possible to put the SDL .lib, .dll, and header files somewhere so I can just type #include &lt;SDL2.h&gt; in a visual studio 2017 RC project?", "body": "<p>My question is, is there a place(s) I can put the SDL .lib, dll, and header files, or process I can do, so when I create a C++ project I can just type <code>#incldue &lt;SDL2.h&gt;</code> instead of having to mess about with the project settings every time. Also making a project template is not a desirable solution to this question. Also, the IDE I am using is visual studio 2017 RC, running on windows 10. I also have access to the SDL source file so I could do something with the .c files if necessary. </p>\n\n<p>Note that the desired solution would allow the programmer to include sdl in the same way they would include something like <code>#include &lt;stdio.h&gt;</code>, no extra work.</p>\n"}, {"tags": ["c++", "gtk", "gtk3", "gtkmm3"], "comments": [{"owner": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "edited": false, "score": 0, "creation_date": 1489493431, "post_id": 42680786, "comment_id": 72685317, "body": "How is this secondary window created and <code>show_modal</code> invoked? In <code>gtk_widget_add_tick_callback</code>? This loop will then prevent callback from returning."}, {"owner": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "reply_to_user": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "edited": false, "score": 0, "creation_date": 1489605101, "post_id": 42680786, "comment_id": 72749158, "body": "That loop can be invoked on other UI events, e.g. on [mouse] button release event.  &quot;This loop will then prevent callback from returning&quot; - exactly!  So is the question:  &quot;how to make &quot;animation friendly&quot; modal loops in GTK? &quot; and &quot;how to define modal loop without locking updates of background windows?&quot;"}, {"owner": {"reputation": 8813, "user_id": 389119, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/05241abffd72dcdcd1dc9d6833706ba9?s=128&d=identicon&r=PG", "display_name": "antoyo", "link": "https://stackoverflow.com/users/389119/antoyo"}, "edited": false, "score": 0, "creation_date": 1496068131, "post_id": 42680786, "comment_id": 75498572, "body": "Does it actually block the other loop or does it only prevent from updating the UI? Try adding a print statement in your tick callback."}], "answers": [{"comments": [{"owner": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "edited": false, "score": 2, "creation_date": 1489767991, "post_id": 42833940, "comment_id": 72831286, "body": "That&#39;s the nature of modal loops on all UI platforms - to block current execution by showing window with the question and running &quot;message pump&quot; loop until it gets closed. Like here: <a href=\"https://www.codeproject.com/Articles/348/Implementing-Modal-Message-Loops\" rel=\"nofollow noreferrer\">codeproject.com/Articles/348/Implementing-Modal-Message-Loop&zwnj;&#8203;s</a>  On Windows and Mac that works just fine. It is just on GTK <code>gtk_main_iteration_do(&#47;*does not matter what*&#47;)</code> does not dispatch messages to any other windows except the active one. For unknown reasons."}], "tags": [], "owner": {"reputation": 6607, "user_id": 6717178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QbOLx.jpg?s=128&g=1", "display_name": "JHBonarius", "link": "https://stackoverflow.com/users/6717178/jhbonarius"}, "is_accepted": false, "score": 1, "last_activity_date": 1489680554, "last_edit_date": 1489680554, "creation_date": 1489666828, "answer_id": 42833940, "question_id": 42680786, "link": "https://stackoverflow.com/questions/42680786/gtk-widget-add-tick-callback-and-gtk-main-iteration/42833940#42833940", "title": "gtk_widget_add_tick_callback() and gtk_main_iteration()", "body": "<p>It seems to be by definition: <a href=\"https://developer.gnome.org/gtk3/stable/gtk3-General.html#gtk-main-iteration\" rel=\"nofollow noreferrer\">link</a></p>\n\n<blockquote>\n  <p><code>gboolean gtk_main_iteration (void);</code>\n  Runs a single iteration of the mainloop. If no events are waiting to be processed GTK+ <strong>will block</strong> until the next event is noticed. If you don\u2019t want to block look at <code>gtk_main_iteration_do()</code> or check if any events are pending with <code>gtk_events_pending()</code> first.</p>\n</blockquote>\n\n<p>The explanation suggests to use <code>gtk_main_iteration_do(FALSE)</code> if you don't want blocking:</p>\n\n<blockquote>\n  <p><code>gboolean gtk_main_iteration_do (gboolean blocking);</code> \n  Runs a single iteration of the mainloop. If no events are available either return or block depending on the value of <code>blocking</code>:\n  <code>TRUE</code> if you want GTK+ to block if no events are pending</p>\n</blockquote>\n\n<p>As for <code>gtk_dialog_run</code>: it also blocks <em>by design</em> <a href=\"https://developer.gnome.org/gtk3/stable/GtkDialog.html#gtk-dialog-run\" rel=\"nofollow noreferrer\">link</a></p>\n\n<blockquote>\n  <p><code>gint gtk_dialog_run (GtkDialog *dialog);</code>\n  <strong>Blocks</strong> in a recursive main loop until the dialog either emits the \u201cresponse\u201d signal, or is destroyed.[...]</p>\n</blockquote>\n\n<p>I read about people solving this using multiple threads: handle the GUI in the main thread and do background work in another one. There's an article about it <a href=\"https://www.cairographics.org/threaded_animation_with_cairo/\" rel=\"nofollow noreferrer\">here</a> that might be useful.</p>\n"}, {"comments": [{"owner": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "edited": false, "score": 1, "creation_date": 1507070527, "post_id": 46549055, "comment_id": 80063246, "body": "That&#39;s not a modal dialog but rather modeless.  And there is no problem with such windows/dialogs in GTK.  This <code>window-&gt;show_modal()</code> means that next line after it will be executed only after user will close the dialog. Such show_modal() is implemented roughly as this:   <code>window-&gt;show(); run_message_pump_until_hidden(window);</code> and correct implementation of that hypothetical <code>run_message_pump_until_hidden()</code> is the question."}, {"owner": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "reply_to_user": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "edited": false, "score": 0, "creation_date": 1507109645, "post_id": 46549055, "comment_id": 80076635, "body": "I&#39;m guessing that running <code>show_modal</code> in a callback blocks redrawing of animation. <code>gtk_main_iteration_do</code> iterates the loop, but redraw is only queued, not executed. Could you post some code with your animation and where you are calling <code>show_modal</code>? (io watch, button click, idle?)"}], "tags": [], "owner": {"reputation": 698, "user_id": 1981374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afd547bb1f448490439e0093eba3a70?s=128&d=identicon&r=PG", "display_name": "pan-mroku", "link": "https://stackoverflow.com/users/1981374/pan-mroku"}, "is_accepted": false, "score": 0, "last_activity_date": 1507047181, "creation_date": 1507047181, "answer_id": 46549055, "question_id": 42680786, "link": "https://stackoverflow.com/questions/42680786/gtk-widget-add-tick-callback-and-gtk-main-iteration/46549055#46549055", "title": "gtk_widget_add_tick_callback() and gtk_main_iteration()", "body": "<p>I assume that <code>show_modal</code> is called from a callback or other activity in main context. You could try adding your modal window into main context using <a href=\"https://developer.gnome.org/glibmm/2.52/classGlib_1_1MainContext.html#ab51154582ff342993ff27fa0024ab38f\" rel=\"nofollow noreferrer\">invoke</a> or <a href=\"https://developer.gnome.org/glibmm/2.52/classGlib_1_1SignalIdle.html#ac8befbaf1d10a17d1f3f75143e967a3f\" rel=\"nofollow noreferrer\">signal_idle</a>.</p>\n\n<p>This way execution of <code>show_modal</code> will end.</p>\n\n<pre><code>#include &lt;gtkmm.h&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    auto Application = Gtk::Application::create();\n    Gtk::Window window;\n    Gtk::Window* window2;\n    Gtk::Button button;\n    window.add(button);\n\n    //I hope timeout behaves similar to ticks. I have no idea how animations in GTK work\n    int i=0;\n    Glib::MainContext::get_default()-&gt;signal_timeout().connect([&amp;]()-&gt;bool{\n            button.set_label(std::to_string(i++));\n            return true;\n        }, 1000);\n\n    button.signal_clicked().connect([&amp;]{\n            Glib::MainContext::get_default()-&gt;invoke([&amp;]()-&gt;bool{\n                    window2 = new Gtk::Window;\n                    window2-&gt;set_modal(true);\n                    window2-&gt;set_keep_above(true);\n                    window2-&gt;signal_delete_event().connect([&amp;](GdkEventAny* any_event)-&gt;bool{\n                            delete window2;\n                            return false;\n                        });\n                    window2-&gt;show_all();\n                    return false;\n                });\n        });\n\n    window.show_all();\n\n    return Application-&gt;run(window);\n}\n</code></pre>\n"}], "owner": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1590, "favorite_count": 1, "answer_count": 2, "score": 15, "last_activity_date": 1507047181, "creation_date": 1489003016, "last_edit_date": 1489191404, "question_id": 42680786, "link": "https://stackoverflow.com/questions/42680786/gtk-widget-add-tick-callback-and-gtk-main-iteration", "title": "gtk_widget_add_tick_callback() and gtk_main_iteration()", "body": "<p>I have two GTK windows</p>\n\n<ol>\n<li><p>Normal (main) window that runs animation, draws stuff in callback registered  by <code>gtk_widget_add_tick_callback()</code>.</p></li>\n<li><p>At some point secondary window is created that runs modal loop: </p>\n\n<pre><code>void show_modal() \n{\n   GtkWindow* gw = gtkwindow(this);\n\n   if( parent() )\n     gtk_window_set_transient_for(gw, gtkwindow( parent() ));\n\n\n   gtk_widget_show(GTK_WIDGET(gw));\n   gtk_window_set_modal(gw,TRUE);\n   gtk_window_set_keep_above(gw,TRUE);\n   this-&gt;update_window_state(gool::WINDOW_SHOWN);\n\n   while( this-&gt;is_valid_window() )\n   {\n      if(this-&gt;_window_state == WINDOW_HIDDEN) break;\n      if(this-&gt;_window_state == WINDOW_STATE_NA) break;\n      gtk_main_iteration(); // gtk_main_iteration_do(true);\n   }\n}\n</code></pre></li>\n</ol>\n\n<p>Problem: Animation in main window works fine until <code>show_modal()</code> is invoked. It appears as <code>gtk_main_iteration();</code> blocks ticks added by <code>gtk_widget_add_tick_callback()</code> function. As soon as I close secondary window  and so <code>while() {gtk_main_iteration();}</code> loop exits then animations in main window start running again.</p>\n\n<p>Any idea of how to make \"animation friendly\" modal loops in GTK? </p>\n\n<p>UPDATE: it appears as <code>gtk_main_iteration();</code> blocks not only ticks but any updates of any windows other than \"current\" - they are simply frozen. What is the reasoning of such GTK behavior?</p>\n\n<p>UPDATE #2: </p>\n\n<p><code>gtk_dialog_run();</code> behaves exactly as <code>gtk_main_iteration();</code> - locks any updates on any window in process other than active window.</p>\n"}, {"tags": ["c++", "function", "opencv", "reference", "copy-elision"], "comments": [{"owner": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 1, "creation_date": 1489002634, "post_id": 42680662, "comment_id": 72485465, "body": "C and C++ are different languages."}, {"owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "reply_to_user": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1489002678, "post_id": 42680662, "comment_id": 72485492, "body": "@TonyTannous I understand this, but I think that the question still applies in either case (or at least I want it to :p)."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1489002717, "post_id": 42680662, "comment_id": 72485516, "body": "Learn the basics before venturing into advanced territory. In most cases it doesn&#39;t matter and return by value (and value semantics in general) is a nice thing."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489002728, "post_id": 42680662, "comment_id": 72485525, "body": "there&#39;s return data optimization in recent g++ versions which avoids the extra copy, you don&#39;t have to worry for that anymore."}, {"owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489002808, "post_id": 42680662, "comment_id": 72485564, "body": "@Jean-Fran&#231;oisFabre Is there documentation on this?"}, {"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1489002859, "post_id": 42680662, "comment_id": 72485590, "body": "I think you want to write a function that returns UMat &amp; ."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1489002947, "post_id": 42680662, "comment_id": 72485639, "body": "@RobertJacobs but you cannot return a reference to a temporary."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489002982, "post_id": 42680662, "comment_id": 72485663, "body": "@phatty check that: <a href=\"http://stackoverflow.com/questions/12953127/what-are-copy-elision-and-return-value-optimization?s=1|5.8908\" title=\"what are copy elision and return value optimization\">stackoverflow.com/questions/12953127/&hellip;</a>"}, {"owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "reply_to_user": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1489003028, "post_id": 42680662, "comment_id": 72485689, "body": "@RobertJacobs Which was the goal with <code>return std::move(output)</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1489003316, "post_id": 42680662, "comment_id": 72485843, "body": "<code>return std::move(...)</code> is if not always wrong almost always wrong."}, {"owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489003956, "post_id": 42680662, "comment_id": 72486193, "body": "@Jean-Fran&#231;oisFabre Thanks for the link! Check the update!"}], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "edited": false, "score": 0, "creation_date": 1489003852, "post_id": 42680893, "comment_id": 72486127, "body": "Thanks for the answer! Did you see the update I added by chance? Would that work in-lace of your solution to add a <code>UMat addUMats(UMat &amp;&amp; M1, UMat &amp;&amp; M2)</code>?"}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "edited": false, "score": 0, "creation_date": 1489004366, "post_id": 42680893, "comment_id": 72486400, "body": "Simply removing std::move should not change anything, try compiling it"}], "tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": false, "score": 1, "last_activity_date": 1489003449, "creation_date": 1489003449, "answer_id": 42680893, "question_id": 42680662, "link": "https://stackoverflow.com/questions/42680662/lvalue-and-rvalue-return-types-for-efficiency/42680893#42680893", "title": "lvalue And rvalue Return Types For Efficiency", "body": "<p>When you return a local variable using <code>std::move</code> then you disallow compiler to perform a RVO (Return Value Optimization), this is because you are returning a reference to UMat which is not the same type as UMat, and standard requires the same type to be returned if compiler is to be allowed to perform RVO.</p>\n\n<p>If compiler anyway chooses not to use RVO, then object being returned must be treated as an rvalue, so when RVO is permitted then either copy elision is used or std::move is implicitly applied.</p>\n\n<p>Here:</p>\n\n<pre><code>cv::UMat A = addUMats(addUMats(alpha, beta), addUMats(alpha, beta));\n</code></pre>\n\n<p>problem is in that <code>addUMats</code> returns by value, and <code>addUMats</code> accepts a reference but to lvalue reference. The solution is to add rvalue version of addUMats:</p>\n\n<pre><code>UMat addUMats(UMat &amp;&amp; M1, UMat &amp;&amp; M2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8020, "user_id": 1633399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wK6kY.png?s=128&g=1", "display_name": "BConic", "link": "https://stackoverflow.com/users/1633399/bconic"}, "is_accepted": false, "score": 2, "last_activity_date": 1489048281, "last_edit_date": 1489048281, "creation_date": 1489003886, "answer_id": 42681021, "question_id": 42680662, "link": "https://stackoverflow.com/questions/42680662/lvalue-and-rvalue-return-types-for-efficiency/42681021#42681021", "title": "lvalue And rvalue Return Types For Efficiency", "body": "<p>I think you are missing some <code>const</code> in your function's input parameters. Try as follows:</p>\n\n<pre><code>UMat addUMats(const UMat &amp; M1, const UMat &amp; M2) {\n    UMat returnMat;\n    add(M1, M2, returnMat);\n    return move(returnMat);\n}\n</code></pre>\n\n<p>Might not be the only problem, but as it stands, your function cannot take temporary variables as input because it assumes they can be modified inside the function.</p>\n"}, {"tags": [], "owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "is_accepted": false, "score": 1, "last_activity_date": 1489003928, "creation_date": 1489003928, "answer_id": 42681029, "question_id": 42680662, "link": "https://stackoverflow.com/questions/42680662/lvalue-and-rvalue-return-types-for-efficiency/42681029#42681029", "title": "lvalue And rvalue Return Types For Efficiency", "body": "<h1>Your problem</h1>\n\n<p>You cannot pass an rvalue into your function because that function specifically requires an lvalue (an <code>UMat&amp;</code>).</p>\n\n<p>Think of it this way : <code>addUMats</code>'s parameters could be changed inside the function. But when you do <code>addUMats(addUMats(alpha, beta), addUMats(alpha, beta));</code>, you are calling <code>addUMats</code> on two temporary values that you will not be able to access later.</p>\n\n<hr>\n\n<h1>Possible solution</h1>\n\n<p>Conceptually, adding two matrices A and B should not change either A nor B. So, if you are sure your colleague will not change A nor B inside the function, they could change the function's signature to :</p>\n\n<pre><code>UMat addUMats(const UMat &amp; M1, const UMat &amp; M2)\n</code></pre>\n\n<p>In that case, problem solved! You will be able to call <code>addUMats</code> on two temporary objects. Since they will not change anyway, it doesn't matter.</p>\n\n<p>If you need an optimized code and take advantage of rvalue optimizations, you could also overload the function with:</p>\n\n<pre><code>UMat addUMats(const UMat &amp;&amp; M1, const UMat &amp;&amp; M2)\n</code></pre>\n"}], "owner": {"reputation": 484, "user_id": 5066497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ee3feec2dfd128f643a70b306bd7a85?s=128&d=identicon&r=PG&f=1", "display_name": "9301293", "link": "https://stackoverflow.com/users/5066497/9301293"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1489048281, "creation_date": 1489002567, "last_edit_date": 1495542712, "question_id": 42680662, "link": "https://stackoverflow.com/questions/42680662/lvalue-and-rvalue-return-types-for-efficiency", "title": "lvalue And rvalue Return Types For Efficiency", "body": "<h2>Update:</h2>\n\n<ol>\n<li>So, as per the comment by Jean, I have looked at <a href=\"https://stackoverflow.com/questions/12953127/what-are-copy-elision-and-return-value-optimization/12953150#12953150\">this link</a>. This is actually pretty close to the question I am asking. The only difference is that it deals with Classes explicitly (which <code>cv::UMat</code> undoubtedly is);\n\n<blockquote>\n  <p>However, would the functional nesting I am trying to do with the return type still be valid? Would copy elision still occur, with the intended result? </p>\n</blockquote></li>\n</ol>\n\n<hr>\n\n<h2>Problem</h2>\n\n<p>I am currently using OpenCV's <code>cv::UMat</code> object class and my co-worker wrote a function to do <code>cv::UMat</code> addition as follows: </p>\n\n<pre><code>UMat addUMats(UMat &amp; M1, UMat &amp; M2){\n    UMat returnMat;\n    add(M1, M2, returnMat);\n    return move(returnMat);}\n</code></pre>\n\n<p>Now, this works great if I call this like so: </p>\n\n<pre><code>cv::UMat A = data1; \ncv::UMat B = data2; \ncv::UMat C = addUMats(A, B); \n</code></pre>\n\n<p>But, when I try to pass in the function as a parameter to the function, I get an \"argument must be lvalue\" type error. For example,</p>\n\n<pre><code>cv::UMat A = addUMats(addUMats(alpha, beta), addUMats(alpha, beta));\n</code></pre>\n\n<p>for any valid <code>cv::UMats</code>, <code>alpha, beta</code>.</p>\n\n<h2>So Far</h2>\n\n<p>I did a little bit of <a href=\"http://en.cppreference.com/w/cpp/utility/move\" rel=\"nofollow noreferrer\">research</a> and found out that <code>std::move(input)</code> explicitly returns a temporary of type rvalue. So, it makes sense that there is an error thrown. </p>\n\n<p>I realize that I can fix this problem by first doing something like: </p>\n\n<pre><code>cv::UMat inputA = addUMats(alpha, beta);\ncv::UMat A = addUMats(inputA, inputA); \n</code></pre>\n\n<p>Or, I could even do something like,</p>\n\n<pre><code>UMat addUMats(UMat &amp; M1, UMat &amp; M2){\n    UMat returnMat;\n    add(M1, M2, returnMat);\n    return returnMat;}\n</code></pre>\n\n<p>in which case, it is my understanding that the line <code>return returnMat</code> will cause a deep(?) temporary to be copied.</p>\n\n<h2>Question</h2>\n\n<p>So, I know that there may be some OpenCV dependent things going on here; like, maybe it is because the type UMat has some funky casting going on or such. </p>\n\n<blockquote>\n  <p>But, in the general case, what is the best way to adapt functions <em>like</em> <code>addUmats</code> to be able to take a function as a call to the function?  </p>\n</blockquote>\n\n<p>I am going for the most efficient solution in terms of run-time. Also, I don't want this question to be limited to the OpenCV case; getting an answer for any type of function that uses the <code>std::move(input)</code> call would be appreciated. </p>\n"}, {"tags": ["python", "c++", "opencv", "opencl", "opencv3.1"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1489013281, "post_id": 42680645, "comment_id": 72490890, "body": "Did you make an error pasting the images? Because I don&#39;t see a difference there."}, {"owner": {"reputation": 6940, "user_id": 1559401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t9DjW.jpg?s=128&g=1", "display_name": "rbaleksandar", "link": "https://stackoverflow.com/users/1559401/rbaleksandar"}, "edited": false, "score": 0, "creation_date": 1489013986, "post_id": 42680645, "comment_id": 72491185, "body": "I think so too. The images are literally the same even though with different URLs."}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "reply_to_user": {"reputation": 6940, "user_id": 1559401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t9DjW.jpg?s=128&g=1", "display_name": "rbaleksandar", "link": "https://stackoverflow.com/users/1559401/rbaleksandar"}, "edited": false, "score": 0, "creation_date": 1489115539, "post_id": 42680645, "comment_id": 72540644, "body": "I think I messed up yesterday with the images, I fixed the image @rbaleksandar"}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1489115595, "post_id": 42680645, "comment_id": 72540658, "body": "@DanMa\u0161ek I fixed it thank you for pointing out, for some reason when  you guys commented on my post I did not get a notification so I took me this long to reply."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1489117617, "post_id": 42680645, "comment_id": 72541164, "body": "@PrashanthDuggishetti No worries :). Are you sure the build of OpenCV for Python you&#39;re using is compiled with OpenCV support? Try to do <code>print cv2.getBuildInformation()</code>."}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1489119036, "post_id": 42680645, "comment_id": 72541484, "body": "I printed it, what am I looking for in this? @DanMa\u0161ek, The program runs so I am sure that I built it with python support. I am just assuming that I am missing some dll that connects python with openCL this is my speculation. I added the output to my question."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1489119347, "post_id": 42680645, "comment_id": 72541572, "body": "@PrashanthDuggishetti &quot;Use OpenCL:                  NO&quot; - the Python build of OpenCV you&#39;re using doesn&#39;t have OpenCL support."}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "edited": false, "score": 0, "creation_date": 1489119610, "post_id": 42680645, "comment_id": 72541646, "body": "So i just need to rebuild with Use OpenCL: Yes for other Libraries? I will report back after I rebuilt it."}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1489121080, "post_id": 42680645, "comment_id": 72542057, "body": "@DanMa\u0161ek  do you happen to know the resources that i need to look at to get the build with opencl for python, cos when i look at the cmake I do not see any options to turn on OpenCL"}, {"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1489168631, "post_id": 42680645, "comment_id": 72569291, "body": "@DanMa\u0161ek Turns out that the opencv_opencv_python-3.2.0-cp36-cp36m-win_amd64.whl that i used was not built using opencl, I just had to copy the .pyd file and the dlls into the site-packages folder and it got fixed."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "edited": false, "score": 0, "creation_date": 1489115381, "post_id": 42706824, "comment_id": 72540596, "body": "As you can see i edited the the image, in the python code I do have the print(cv2.ocl.haveOpenCL()) statement but my output for python is False, but on c++ it shows that I have OpenCL."}], "tags": [], "owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "is_accepted": false, "score": 1, "last_activity_date": 1489098901, "creation_date": 1489098901, "answer_id": 42706824, "question_id": 42680645, "link": "https://stackoverflow.com/questions/42680645/opencv-3-2-0-windows-opencl-shows-devices-in-c-but-not-in-python/42706824#42706824", "title": "OpenCV 3.2.0 windows, OpenCL shows devices in C++ but not in python", "body": "<p>Try this:</p>\n\n<pre><code>import cv2        \n\nprint(cv2.ocl.haveOpenCL())\ncv2.ocl.setUseOpenCL(True)\nprint(cv2.ocl.useOpenCL())    \nprint(cv2.ocl.haveAmdBlas())\nprint(cv2.ocl.haveAmdFft())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>True # Have OpenCL\nTrue # Use OpenCL\nFalse\nFalse\n</code></pre>\n\n<p>In my case I don't have AMD-BLAS, AMD-FTT</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "is_accepted": true, "score": 3, "last_activity_date": 1489170437, "creation_date": 1489170437, "answer_id": 42725346, "question_id": 42680645, "link": "https://stackoverflow.com/questions/42680645/opencv-3-2-0-windows-opencl-shows-devices-in-c-but-not-in-python/42725346#42725346", "title": "OpenCV 3.2.0 windows, OpenCL shows devices in C++ but not in python", "body": "<p>I fixed the Issue, turns out that the opencv_opencv_python-3.2.0-cp36-cp36m-win_amd64.whl file that I was using was not built with OpenCL on, I just had to replace all the dll files in python site-packages folder with the .pyd and dll files from the opencv build folder.</p>\n"}], "owner": {"reputation": 31, "user_id": 7680332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be72e84f0cd51ce565e2d59df7778d20?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Duggishetti", "link": "https://stackoverflow.com/users/7680332/prashanth-duggishetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 0, "accepted_answer_id": 42725346, "answer_count": 2, "score": 0, "last_activity_date": 1489170437, "creation_date": 1489002512, "last_edit_date": 1489119172, "question_id": 42680645, "link": "https://stackoverflow.com/questions/42680645/opencv-3-2-0-windows-opencl-shows-devices-in-c-but-not-in-python", "title": "OpenCV 3.2.0 windows, OpenCL shows devices in C++ but not in python", "body": "<p>I am using 2 sample scripts to check if python 3.6 can make use of the OpenCL functionalities of Opencv on windows. I have tried to run a couple of examples related to CAMSHIFT provided in samples and checked to see if I have OpenCL. </p>\n\n<p>I would love to know why python shows that I do not have opencl while C++ with VS shows that I have opencl enabled devices</p>\n\n<p><strong>System Info:</strong></p>\n\n<p>Opencv 3.2.0 built from source using Opencl on and added python and numpy libraries</p>\n\n<p>Python 3.6 for windows 64bit</p>\n\n<p>Visual Studio 2015 community edition</p>\n\n<p>Numpy using</p>\n\n<pre><code>pip install numpy-1.12.0-cp36-none-win_amd64.whl\n</code></pre>\n\n<p>Python 3.6\nOpnecv for python using </p>\n\n<pre><code>pip install opencv_opencv_python-3.2.0-cp36-cp36m-win_amd64.whl\n</code></pre>\n\n<p>I ran the following example provided on VS2015 (Added a small code block to check if opencl enabled devices are available) </p>\n\n<pre><code>#include &lt;opencv2/core/utility.hpp&gt;\n#include \"opencv2/video/tracking.hpp\"\n#include \"opencv2/imgproc.hpp\"\n#include \"opencv2/videoio.hpp\"\n#include \"opencv2/highgui.hpp\"\n#include \"opencv2/core/ocl.hpp\"\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n\n#include &lt;iostream&gt;\n#include &lt;ctype.h&gt;\n\nusing namespace cv;\nusing namespace std;\n\nMat image;\n\nbool backprojMode = false;\nbool selectObject = false;\nint trackObject = 0;\nbool showHist = true;\nPoint origin;\nRect selection;\nint vmin = 10, vmax = 256, smin = 30;\n\n// User draws box around object to track. This triggers CAMShift to start tracking\nstatic void onMouse(int event, int x, int y, int, void*)\n{\n    if (selectObject)\n    {\n        selection.x = MIN(x, origin.x);\n        selection.y = MIN(y, origin.y);\n        selection.width = std::abs(x - origin.x);\n        selection.height = std::abs(y - origin.y);\n\n        selection &amp;= Rect(0, 0, image.cols, image.rows);\n    }\n\n    switch (event)\n    {\n    case EVENT_LBUTTONDOWN:\n        origin = Point(x, y);\n        selection = Rect(x, y, 0, 0);\n        selectObject = true;\n        break;\n    case EVENT_LBUTTONUP:\n        selectObject = false;\n        if (selection.width &gt; 0 &amp;&amp; selection.height &gt; 0)\n            trackObject = -1;   // Set up CAMShift properties in main() loop\n        break;\n    }\n}\n\nstring hot_keys =\n\"\\n\\nHot keys: \\n\"\n\"\\tESC - quit the program\\n\"\n\"\\tc - stop the tracking\\n\"\n\"\\tb - switch to/from backprojection view\\n\"\n\"\\th - show/hide object histogram\\n\"\n\"\\tp - pause video\\n\"\n\"To initialize tracking, select the object with mouse\\n\";\n\nstatic void help()\n{\n    cout &lt;&lt; \"\\nThis is a demo that shows mean-shift based tracking\\n\"\n        \"You select a color objects such as your face and it tracks it.\\n\"\n        \"This reads from video camera (0 by default, or the camera number the user enters\\n\"\n        \"Usage: \\n\"\n        \"   ./camshiftdemo [camera number]\\n\";\n    cout &lt;&lt; hot_keys;\n}\n\nconst char* keys =\n{\n    \"{help h | | show help message}{@camera_number| 0 | camera number}\"\n};\n\nint main(int argc, const char** argv)\n{   \n    // Start of OpenCL Check\n    if (!cv::ocl::haveOpenCL()) { printf(\"Computer Vision library is not available...\\n\"); }\n    else {\n        //printf &lt;&lt; \"\\nOpenCL IS AVAILABLE!\\n\" &lt;&lt; endl;\n        cv::ocl::setUseOpenCL(true);\n        cv::ocl::Context context;\n        if (!context.create(cv::ocl::Device::TYPE_ALL)) { printf(\"Failed creating the context...\\n\"); }\n        else { printf(\"Successfully created context!\\n\"); }\n\n        printf(\"Connected Device(s): %zd \\n\", context.ndevices()); //This bit provides an overview of the OpenCL devices you have in your computer\n        for (int i = 0; i &lt; context.ndevices(); i++) {\n            cv::ocl::Device device = context.device(i);\n            cout &lt;&lt; \"name:              \" &lt;&lt; device.name() &lt;&lt; endl;\n            cout &lt;&lt; \"available:         \" &lt;&lt; device.available() &lt;&lt; endl;\n            cout &lt;&lt; \"imageSupport:      \" &lt;&lt; device.imageSupport() &lt;&lt; endl;\n            cout &lt;&lt; \"OpenCL_C_Version:  \" &lt;&lt; device.OpenCL_C_Version() &lt;&lt; endl;\n            cout &lt;&lt; endl;\n        }\n    }\n    // END of OpenCL Check\n    VideoCapture cap;\n    Rect trackWindow;\n    int hsize = 16;\n    float hranges[] = { 0,180 };\n    const float* phranges = hranges;\n    CommandLineParser parser(argc, argv, keys);\n    if (parser.has(\"help\"))\n    {\n        help();\n        return 0;\n    }\n    int camNum = parser.get&lt;int&gt;(0);\n    cap.open(camNum);\n\n    if (!cap.isOpened())\n    {\n        help();\n        cout &lt;&lt; \"***Could not initialize capturing...***\\n\";\n        cout &lt;&lt; \"Current parameter's value: \\n\";\n        parser.printMessage();\n        return -1;\n    }\n    cout &lt;&lt; hot_keys;\n    namedWindow(\"Histogram\", 0);\n    namedWindow(\"CamShift Demo\", 0);\n    setMouseCallback(\"CamShift Demo\", onMouse, 0);\n    createTrackbar(\"Vmin\", \"CamShift Demo\", &amp;vmin, 256, 0);\n    createTrackbar(\"Vmax\", \"CamShift Demo\", &amp;vmax, 256, 0);\n    createTrackbar(\"Smin\", \"CamShift Demo\", &amp;smin, 256, 0);\n\n    Mat frame, hsv, hue, mask, hist, histimg = Mat::zeros(200, 320, CV_8UC3), backproj;\n    bool paused = false;\n\n    for (;;)\n    {\n        if (!paused)\n        {\n            cap &gt;&gt; frame;\n            if (frame.empty())\n                break;\n        }\n\n        frame.copyTo(image);\n\n        if (!paused)\n        {\n            cvtColor(image, hsv, COLOR_BGR2HSV);\n\n            if (trackObject)\n            {\n                int _vmin = vmin, _vmax = vmax;\n\n                inRange(hsv, Scalar(0, smin, MIN(_vmin, _vmax)),\n                    Scalar(180, 256, MAX(_vmin, _vmax)), mask);\n                int ch[] = { 0, 0 };\n                hue.create(hsv.size(), hsv.depth());\n                mixChannels(&amp;hsv, 1, &amp;hue, 1, ch, 1);\n\n                if (trackObject &lt; 0)\n                {\n                    // Object has been selected by user, set up CAMShift search properties once\n                    Mat roi(hue, selection), maskroi(mask, selection);\n                    calcHist(&amp;roi, 1, 0, maskroi, hist, 1, &amp;hsize, &amp;phranges);\n                    normalize(hist, hist, 0, 255, NORM_MINMAX);\n\n                    trackWindow = selection;\n                    trackObject = 1; // Don't set up again, unless user selects new ROI\n\n                    histimg = Scalar::all(0);\n                    int binW = histimg.cols / hsize;\n                    Mat buf(1, hsize, CV_8UC3);\n                    for (int i = 0; i &lt; hsize; i++)\n                        buf.at&lt;Vec3b&gt;(i) = Vec3b(saturate_cast&lt;uchar&gt;(i*180. / hsize), 255, 255);\n                    cvtColor(buf, buf, COLOR_HSV2BGR);\n\n                    for (int i = 0; i &lt; hsize; i++)\n                    {\n                        int val = saturate_cast&lt;int&gt;(hist.at&lt;float&gt;(i)*histimg.rows / 255);\n                        rectangle(histimg, Point(i*binW, histimg.rows),\n                            Point((i + 1)*binW, histimg.rows - val),\n                            Scalar(buf.at&lt;Vec3b&gt;(i)), -1, 8);\n                    }\n                }\n\n                // Perform CAMShift\n                calcBackProject(&amp;hue, 1, 0, hist, backproj, &amp;phranges);\n                backproj &amp;= mask;\n                RotatedRect trackBox = CamShift(backproj, trackWindow,\n                    TermCriteria(TermCriteria::EPS | TermCriteria::COUNT, 10, 1));\n                if (trackWindow.area() &lt;= 1)\n                {\n                    int cols = backproj.cols, rows = backproj.rows, r = (MIN(cols, rows) + 5) / 6;\n                    trackWindow = Rect(trackWindow.x - r, trackWindow.y - r,\n                        trackWindow.x + r, trackWindow.y + r) &amp;\n                        Rect(0, 0, cols, rows);\n                }\n\n                if (backprojMode)\n                    cvtColor(backproj, image, COLOR_GRAY2BGR);\n                ellipse(image, trackBox, Scalar(0, 0, 255), 3, LINE_AA);\n            }\n        }\n        else if (trackObject &lt; 0)\n            paused = false;\n\n        if (selectObject &amp;&amp; selection.width &gt; 0 &amp;&amp; selection.height &gt; 0)\n        {\n            Mat roi(image, selection);\n            bitwise_not(roi, roi);\n        }\n\n        imshow(\"CamShift Demo\", image);\n        imshow(\"Histogram\", histimg);\n\n        char c = (char)waitKey(10);\n        if (c == 27)\n            break;\n        switch (c)\n        {\n        case 'b':\n            backprojMode = !backprojMode;\n            break;\n        case 'c':\n            trackObject = 0;\n            histimg = Scalar::all(0);\n            break;\n        case 'h':\n            showHist = !showHist;\n            if (!showHist)\n                destroyWindow(\"Histogram\");\n            else\n                namedWindow(\"Histogram\", 1);\n            break;\n        case 'p':\n            paused = !paused;\n            break;\n        default:\n            ;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The out put I got was as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RN3nh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RN3nh.png\" alt=\"Output for C++ \"></a></p>\n\n<p>Then I ran the same Camshift example available in python(added a couple of lines to check if opencl is available) </p>\n\n<pre><code>#!/usr/bin/env python\n\n'''\nCamshift tracker\n================\n\nThis is a demo that shows mean-shift based tracking\nYou select a color objects such as your face and it tracks it.\nThis reads from video camera (0 by default, or the camera number the user enters)\n\nhttp://www.robinhewitt.com/research/track/camshift.html\n\nUsage:\n------\n    camshift.py [&lt;video source&gt;]\n\n    To initialize tracking, select the object with mouse\n\nKeys:\n-----\n    ESC   - exit\n    b     - toggle back-projected probability visualization\n'''\n\n# Python 2/3 compatibility\nfrom __future__ import print_function\nimport sys\nPY3 = sys.version_info[0] == 3\n\nif PY3:\n    xrange = range\n\nimport numpy as np\nimport cv2\n\n# local module\nimport video\nfrom video import presets\n\n\nclass App(object):\n    def __init__(self, video_src):\n        self.cam = video.create_capture(video_src, presets['cube'])\n        ret, self.frame = self.cam.read()\n        cv2.namedWindow('camshift')\n        cv2.setMouseCallback('camshift', self.onmouse)\n\n        self.selection = None\n        self.drag_start = None\n        self.show_backproj = False\n        self.track_window = None\n\n    def onmouse(self, event, x, y, flags, param):\n        if event == cv2.EVENT_LBUTTONDOWN:\n            self.drag_start = (x, y)\n            self.track_window = None\n        if self.drag_start:\n            xmin = min(x, self.drag_start[0])\n            ymin = min(y, self.drag_start[1])\n            xmax = max(x, self.drag_start[0])\n            ymax = max(y, self.drag_start[1])\n            self.selection = (xmin, ymin, xmax, ymax)\n        if event == cv2.EVENT_LBUTTONUP:\n            self.drag_start = None\n            self.track_window = (xmin, ymin, xmax - xmin, ymax - ymin)\n\n    def show_hist(self):\n        bin_count = self.hist.shape[0]\n        bin_w = 24\n        img = np.zeros((256, bin_count*bin_w, 3), np.uint8)\n        for i in xrange(bin_count):\n            h = int(self.hist[i])\n            cv2.rectangle(img, (i*bin_w+2, 255), ((i+1)*bin_w-2, 255-h), (int(180.0*i/bin_count), 255, 255), -1)\n        img = cv2.cvtColor(img, cv2.COLOR_HSV2BGR)\n        cv2.imshow('hist', img)\n\n    def run(self):\n        #Check to see if device has opencl\n        print(\"---------------------\")\n        if (cv2.ocl.haveOpenCL()):\n            print(\"OpenCL available\")\n        else:\n            print(\"OpenCL not available\")\n        print(\"---------------------\")\n\n        while True:\n            ret, self.frame = self.cam.read()\n            vis = self.frame.copy()\n            hsv = cv2.cvtColor(self.frame, cv2.COLOR_BGR2HSV)\n            mask = cv2.inRange(hsv, np.array((0., 60., 32.)), np.array((180., 255., 255.)))\n\n            if self.selection:\n                x0, y0, x1, y1 = self.selection\n                hsv_roi = hsv[y0:y1, x0:x1]\n                mask_roi = mask[y0:y1, x0:x1]\n                hist = cv2.calcHist( [hsv_roi], [0], mask_roi, [16], [0, 180] )\n                cv2.normalize(hist, hist, 0, 255, cv2.NORM_MINMAX)\n                self.hist = hist.reshape(-1)\n                self.show_hist()\n\n                vis_roi = vis[y0:y1, x0:x1]\n                cv2.bitwise_not(vis_roi, vis_roi)\n                vis[mask == 0] = 0\n\n            if self.track_window and self.track_window[2] &gt; 0 and self.track_window[3] &gt; 0:\n                self.selection = None\n                prob = cv2.calcBackProject([hsv], [0], self.hist, [0, 180], 1)\n                prob &amp;= mask\n                term_crit = ( cv2.TERM_CRITERIA_EPS | cv2.TERM_CRITERIA_COUNT, 10, 1 )\n                track_box, self.track_window = cv2.CamShift(prob, self.track_window, term_crit)\n\n                if self.show_backproj:\n                    vis[:] = prob[...,np.newaxis]\n                try:\n                    cv2.ellipse(vis, track_box, (0, 0, 255), 2)\n                except:\n                    print(track_box)\n\n            cv2.imshow('camshift', vis)\n\n            ch = cv2.waitKey(5)\n            if ch == 27:\n                break\n            if ch == ord('b'):\n                self.show_backproj = not self.show_backproj\n        cv2.destroyAllWindows()\n\n\nif __name__ == '__main__':\n    import sys\n    try:\n        video_src = sys.argv[1]\n    except:\n        video_src = 0\n    print(__doc__)\n    App(video_src).run()\n</code></pre>\n\n<p>and the result I got was as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lvAVd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvAVd.png\" alt=\"Python Output\"></a></p>\n\n<pre><code>    General configuration for OpenCV 3.2.0 =====================================\n\n      Platform:\n        Timestamp:                   2016-12-23T19:22:45Z\n        Host:                        Windows 10.0.14393 AMD64\n        CMake:                       3.6.3\n        CMake generator:             Visual Studio 14 2015 Win64\n        CMake build tool:            C:/Program Files (x86)/MSBuild/14.0/bin/MSBuild.exe\n        MSVC:                        1900\n\n      C/C++:\n        Built as dynamic libs?:      YES\n        C++ Compiler:                C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe  (ver 19.0.24215.1)\n        C++ flags (Release):         /DWIN32 /D_WINDOWS /W4 /GR /EHa  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /wd4251 /wd4324 /wd4275 /wd4589 /MP12  /MD /O2 /Ob2 /DNDEBUG  /Zi\n        C++ flags (Debug):           /DWIN32 /D_WINDOWS /W4 /GR /EHa  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /wd4251 /wd4324 /wd4275 /wd4589 /MP12  /D_DEBUG /MDd /Zi /Ob0 /Od /RTC1 \n        C Compiler:                  C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe\n        C flags (Release):           /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi    /MP12  /MD /O2 /Ob2 /DNDEBUG  /Zi\n        C flags (Debug):             /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi    /MP12  /D_DEBUG /MDd /Zi /Ob0 /Od /RTC1 \n        Linker flags (Release):      /machine:x64  /INCREMENTAL:NO  /debug\n        Linker flags (Debug):        /machine:x64  /debug /INCREMENTAL \n        ccache:                      NO\n        Precompiled headers:         YES\n        Extra dependencies:          comctl32 gdi32 ole32 setupapi ws2_32 vfw32 glu32 opengl32 C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_core.lib C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_intel_lp64.lib C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_sequential.lib\n        3rdparty dependencies:       zlib libjpeg libwebp libpng libtiff libjasper IlmImf\n\n      OpenCV modules:\n        To be built:                 core flann imgproc ml photo video imgcodecs shape videoio highgui objdetect superres ts features2d calib3d stitching videostab python3\n        Disabled:                    python2 world\n        Disabled by dependency:      -\n        Unavailable:                 cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java viz\n\n      Windows RT support:            NO\n\n      GUI: \n        QT:                          NO\n        Win32 UI:                    YES\n        OpenGL support:              YES (glu32 opengl32)\n        VTK support:                 NO\n\n      Media I/O: \n        ZLib:                        build (ver 1.2.8)\n        JPEG:                        build (ver 90)\n        WEBP:                        build (ver 0.3.1)\n        PNG:                         build (ver 1.6.24)\n        TIFF:                        build (ver 42 - 4.0.2)\n        JPEG 2000:                   build (ver 1.900.1)\n        OpenEXR:                     build (ver 1.7.1)\n        GDAL:                        NO\n        GDCM:                        NO\n\n      Video I/O:\n        Video for Windows:           YES\n        DC1394 1.x:                  NO\n        DC1394 2.x:                  NO\n        FFMPEG:                      YES (prebuilt binaries)\n          avcodec:                   YES (ver 57.64.101)\n          avformat:                  YES (ver 57.56.100)\n          avutil:                    YES (ver 55.34.100)\n          swscale:                   YES (ver 4.2.100)\n          avresample:                YES (ver 3.1.0)\n        GStreamer:                   NO\n        OpenNI:                      NO\n        OpenNI PrimeSensor Modules:  NO\n        OpenNI2:                     NO\n        PvAPI:                       NO\n        GigEVisionSDK:               NO\n        DirectShow:                  YES\n        Media Foundation:            NO\n        XIMEA:                       NO\n        Intel PerC:                  NO\n\n      Parallel framework:            Concurrency\n\n      Other third-party libraries:\n        Use IPP:                     9.0.1 [9.0.1]\n             at:                     D:/Build/OpenCV/opencv-3.2.0-vc14-x64/3rdparty/ippicv/ippicv_win\n        Use IPP Async:               NO\n        Use Lapack:                  YES (C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_core.lib C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_intel_lp64.lib C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/intel64/mkl_sequential.lib)\n        Use Eigen:                   NO\n        Use Cuda:                    NO\n        Use OpenCL:                  NO\n        Use OpenVX:                  NO\n        Use custom HAL:              NO\n\n      Python 2:\n        Interpreter:                 X:/Python27-x64/python.exe (ver 2.7.13)\n\n      Python 3:\n        Interpreter:                 X:/Python36/python.exe (ver 3.6)\n        Libraries:                   X:/Python36/libs/Python36.lib (ver 3.6.0)\n        numpy:                       X:/Python36/lib/site-packages/numpy/core/include (ver 1.11.3)\n        packages path:               X:/Python36/Lib/site-packages\n\n      Python (for build):            X:/Python27-x64/python.exe\n\n      Java:\n        ant:                         NO\n        JNI:                         NO\n        Java wrappers:               NO\n        Java tests:                  NO\n\n      Matlab:                        NO\n\n      Documentation:\n        Doxygen:                     NO\n\n      Tests and samples:\n        Tests:                       YES\n        Performance tests:           YES\n        C/C++ Examples:              NO\n\n      Install path:                  D:/Build/OpenCV/opencv-3.2.0-vc14-x64/install\n\n      cvconfig.h is in:              D:/Build/OpenCV/opencv-3.2.0-vc14-x64\n</code></pre>\n"}, {"tags": ["c++", "qt", "unicode", "qfiledialog"], "comments": [{"owner": {"reputation": 16265, "user_id": 7478597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBOIj.jpg?s=128&g=1", "display_name": "Scheff", "link": "https://stackoverflow.com/users/7478597/scheff"}, "edited": false, "score": 1, "creation_date": 1489004280, "post_id": 42680635, "comment_id": 72486352, "body": "I just made a directory <code>QAdri&#225;n</code> and tested one of my Qt applications whether it is able to load the file. It did. I can make a small sample appl."}, {"owner": {"reputation": 230, "user_id": 6111440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-QvYKvHcQ2a4/AAAAAAAAAAI/AAAAAAAAAXE/u42Lfk1mR_8/photo.jpg?sz=128", "display_name": "Adri&#225;n K&#225;lazi", "link": "https://stackoverflow.com/users/6111440/adri%c3%a1n-k%c3%a1lazi"}, "reply_to_user": {"reputation": 16265, "user_id": 7478597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBOIj.jpg?s=128&g=1", "display_name": "Scheff", "link": "https://stackoverflow.com/users/7478597/scheff"}, "edited": false, "score": 0, "creation_date": 1489005342, "post_id": 42680635, "comment_id": 72486943, "body": "Thanks, but I can&#39;t even open any directories which have an unicode character in their path with the dialog. I am guessing that the problem will be in some system setting or something similar."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489006636, "post_id": 42680635, "comment_id": 72487615, "body": "Please demonstrate with a complete example, and indicate what Qt version you&#39;re using, and with what compiler."}, {"owner": {"reputation": 230, "user_id": 6111440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-QvYKvHcQ2a4/AAAAAAAAAAI/AAAAAAAAAXE/u42Lfk1mR_8/photo.jpg?sz=128", "display_name": "Adri&#225;n K&#225;lazi", "link": "https://stackoverflow.com/users/6111440/adri%c3%a1n-k%c3%a1lazi"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489009220, "post_id": 42680635, "comment_id": 72488949, "body": "Here you have the complete application, mostly the same as the default that Qt creator generates @KubaOber"}, {"owner": {"reputation": 16265, "user_id": 7478597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBOIj.jpg?s=128&g=1", "display_name": "Scheff", "link": "https://stackoverflow.com/users/7478597/scheff"}, "edited": false, "score": 2, "creation_date": 1489009547, "post_id": 42680635, "comment_id": 72489125, "body": "@Adri&#225;nK&#225;lazi I&#39;m a little bit suspicuous concerning the native file dialog which is used in <code>QFileDialog::getOpenFileName()</code>. (I remember that most win32 API functions are in two flavors - one with characters, one with wide characters. In your case the 1st flavor might fail due to wrong or missing encoding of <code>&#225;</code>.) Did you try with option <code>QFileDialog::DontUseNativeDialog</code>?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489009586, "post_id": 42680635, "comment_id": 72489154, "body": "To reproduce the issue, you perhaps need to run this application in a certain location. Ensure that this application creates such a temporary location and then either relaunches itself in that location, or changes its working directory to that location. See e.g. <a href=\"http://stackoverflow.com/a/18602568/1329652\">here</a> for an example of how to relaunch a process from itself. As it stands, your problem isn&#39;t in the code, but in the environment where you launch it."}], "answers": [{"tags": [], "owner": {"reputation": 16265, "user_id": 7478597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBOIj.jpg?s=128&g=1", "display_name": "Scheff", "link": "https://stackoverflow.com/users/7478597/scheff"}, "is_accepted": true, "score": 2, "last_activity_date": 1489007298, "last_edit_date": 1489007298, "creation_date": 1489006043, "answer_id": 42681631, "question_id": 42680635, "link": "https://stackoverflow.com/questions/42680635/qfiledialog-unicode-directory-not-available/42681631#42681631", "title": "QFileDialog unicode directory not available", "body": "<p>I agree with your last statement that something in your systems setting might be wrong.</p>\n\n<p>I used the following small sample application for test:</p>\n\n<pre><code>// standard C++ header:\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n// Qt header:\n#include &lt;QApplication&gt;\n#include &lt;QFileDialog&gt;\n#include &lt;QGridLayout&gt;\n#include &lt;QGroupBox&gt;\n#include &lt;QLabel&gt;\n#include &lt;QLineEdit&gt;\n#include &lt;QMainWindow&gt;\n#include &lt;QPushButton&gt;\n\nusing namespace std;\n\nint main(int argc, char **argv)\n{\n  cout &lt;&lt; QT_VERSION_STR &lt;&lt; endl;\n  // main application\n#undef qApp // undef macro qApp out of the way\n  QApplication qApp(argc, argv);\n  // setup GUI\n  QMainWindow qWin;\n  QGroupBox qBox;\n  QGridLayout qGrid;\n  QPushButton qBtn(QString::fromLatin1(\"File Dialog\"));\n  qGrid.addWidget(&amp;qBtn, 0, 0, 1, 2);\n  QLabel qLbl(QString::fromLatin1(\"File:\"));\n  qGrid.addWidget(&amp;qLbl, 1, 0);\n  QLineEdit qTxt;\n  qGrid.addWidget(&amp;qTxt, 1, 1);\n  qBox.setLayout(&amp;qGrid);\n  qWin.setCentralWidget(&amp;qBox);\n  qWin.show();\n  // install signal handlers\n  QObject::connect(&amp;qBtn, &amp;QPushButton::clicked,\n    [&amp;qTxt](bool) {\n#if 0 // how I do it usually...\n    string file = QFileDialog::getOpenFileName(&amp;qTxt,\n      QString::fromUtf8(\"Open File\"),\n      QString(),\n      QString::fromUtf8(\"Text File (*.txt);;All Files (*)\")\n      ).toUtf8();\n    qTxt.setText(QString::fromUtf8(file.c_str()));\n#else // using QString only...\n    QString file = QFileDialog::getOpenFileName(&amp;qTxt,\n      QString::fromUtf8(\"Open File\"),\n      QString(),\n      QString::fromUtf8(\"Text File (*.txt);;All Files (*)\")\n      );\n    qTxt.setText(file);\n#endif\n    });\n  return qApp.exec();\n}\n</code></pre>\n\n<p>I compiled this with VS2013, Qt Version 5.6 on Windows 10 (64 bit).</p>\n\n<p>I use in my software <code>std::string</code> with UTF-8 encoding. (Thus, strings can be used in libraries without dependencies to Qt or any other GUI.) However, I did the same test with <code>QString</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NnjK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnjK9.png\" alt=\"Snapshot of testQFileDialog.exe\"></a></p>\n"}], "owner": {"reputation": 230, "user_id": 6111440, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-QvYKvHcQ2a4/AAAAAAAAAAI/AAAAAAAAAXE/u42Lfk1mR_8/photo.jpg?sz=128", "display_name": "Adri&#225;n K&#225;lazi", "link": "https://stackoverflow.com/users/6111440/adri%c3%a1n-k%c3%a1lazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 42681631, "answer_count": 1, "score": 0, "last_activity_date": 1489008887, "creation_date": 1489002469, "last_edit_date": 1489008887, "question_id": 42680635, "link": "https://stackoverflow.com/questions/42680635/qfiledialog-unicode-directory-not-available", "title": "QFileDialog unicode directory not available", "body": "<p>I am trying to get a file path using QFileDialog, the compiling went good, but when I open the dialog from the application, this window pops up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LWVjl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWVjl.png\" alt=\"enter image description here\"></a></p>\n\n<p>It looks like it is missing the letter \"\u00e1\" from the path.</p>\n\n<p>It pops up even if I try to open Desktop from the quick access (btw. I am using windows 10 64-bit)</p>\n\n<p>Qt version: 5.7.0</p>\n\n<p>Compiler: Microsoft Visual C++ Compiler 14.0 (amd64)</p>\n\n<p>Can someone please help me fix it?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>// Header:\n#include &lt;QMainWindow&gt;\n#include &lt;QLineEdit&gt;\n#include &lt;QFileDialog&gt;\n\n#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_actionOpen_triggered()\n{\n    QString file = QFileDialog::getOpenFileName(this, tr(\"Open ui file\"), \"c://\", tr(\"Qt UI Files (*.ui)\"));\n    ui-&gt;lineEdit-&gt;setText(file);\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "cmake"], "comments": [{"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1489007931, "post_id": 42680493, "comment_id": 72488290, "body": "Use CMAKE_PREFIX_PATH and add the location of the desired Qt library, cf. <a href=\"http://stackoverflow.com/q/39126648/2799037\">stackoverflow.com/q/39126648/2799037</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": true, "score": 1, "last_activity_date": 1489002777, "creation_date": 1489002777, "answer_id": 42680725, "question_id": 42680493, "link": "https://stackoverflow.com/questions/42680493/cmake-qt-linking-to-wrong-versions/42680725#42680725", "title": "CMake - Qt: linking to wrong versions", "body": "<p><code>QT5Core</code> depends on <code>libICU</code>, so you need to install it:</p>\n\n<pre><code>sudo apt-get install libicu55\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 3907301, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/050b9bd2b4ea84352778be5b8f08b3ae?s=128&d=identicon&r=PG&f=1", "display_name": "user236012", "link": "https://stackoverflow.com/users/3907301/user236012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 2, "accepted_answer_id": 42680725, "answer_count": 1, "score": 0, "last_activity_date": 1489002777, "creation_date": 1489002076, "question_id": 42680493, "link": "https://stackoverflow.com/questions/42680493/cmake-qt-linking-to-wrong-versions", "title": "CMake - Qt: linking to wrong versions", "body": "<p>I'm trying to compile a CMake project which requires Qt 5.6.1. The system has the Qt libraries and headers installed for Qt 5.5.1, so I manually compiled the 5.6.1 library. \nThen, Compiling the CMake project works fine, however the linker seems to link against 5.5.1 libraries as one of the linker errors seems to show:</p>\n\n<pre><code>[...]\nqicucodec.cpp:(.text+0x1ede): undefined reference to `ucnv_countAvailable_55'\n[...]\n</code></pre>\n\n<p>The CMakeLists.txt entry for Qt is</p>\n\n<pre><code>set(QT_VERSION_REQ \"5.6.1\")\nfind_package(Qt5Core ${QT_VERSION_REQ} REQUIRED)\nfind_package(Qt5Xml ${QT_VERSION_REQ} REQUIRED)\nfind_package(Qt5Network ${QT_VERSION_REQ} REQUIRED)\n</code></pre>\n\n<p>and those variables point to the manually compiled Qt version:</p>\n\n<pre><code>Qt5Core_DIR   /opt/build/qt/lib/cmake/Qt5Core\n</code></pre>\n\n<p>Any hints how to solve that issue?</p>\n"}, {"tags": ["c++", "quantlib"], "answers": [{"tags": [], "owner": {"reputation": 3543, "user_id": 356579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d48f903085f5d2283cc63a80cfa825?s=128&d=identicon&r=PG", "display_name": "Luigi Ballabio", "link": "https://stackoverflow.com/users/356579/luigi-ballabio"}, "is_accepted": false, "score": 0, "last_activity_date": 1489049719, "last_edit_date": 1489049719, "creation_date": 1489049412, "answer_id": 42690659, "question_id": 42680342, "link": "https://stackoverflow.com/questions/42680342/how-to-add-a-constant-spread-to-an-existing-yieldtermstructure-object-in-quantli/42690659#42690659", "title": "How to add a constant spread to an existing YieldTermStructure object in Quantlib", "body": "<p>I'm afraid you got your interfaces a bit mixed up.  The <code>zeroYieldImpl</code> method you're trying to call on your <code>ZeroSpreadedTermStructure</code> is protected, so you can't use it from your code (at least, that's how I'm guessing your code breaks, since you're not reporting the error you get).</p>\n\n<p>The way you interact with the curve you created is through the public <code>YieldTermStructure</code> interface that it inherits; that includes the <code>discount</code> method that you want to call, as well as methods such as <code>zeroRate</code> or <code>forwardRate</code>.</p>\n\n<p>Again, it's hard to say why your call to <code>discount</code> fails precisely, since you're not quoting the error and you're not saying what <code>*it</code> is in the call.  From the initialization you do report, and from the call you wrote, I'm guessing that you might have instantiated a <code>ZeroSpreadedTermStructure</code> object but you're trying to use it with the <code>-&gt;</code> syntax as if it were a pointer. If that's the case, calling <code>Z_Spread.discount(*it)</code> should work instead (assuming <code>*it</code> resolves to a number).</p>\n\n<p>If that's not the problem, I'm afraid you'll have to add a few more details to your question.</p>\n\n<p>Finally, for a more general treatment of term structures in QuantLib, you can read <a href=\"http://www.implementingquantlib.com/2013/09/chapter-3-part-1-of-n-term-structures.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://www.implementingquantlib.com/2013/09/chapter-3-part-2-of-n-yield-term.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 145, "user_id": 4430128, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/bd307906e3684fa61ee681c39f275f9a?s=128&d=identicon&r=PG&f=1", "display_name": "schuler", "link": "https://stackoverflow.com/users/4430128/schuler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489054125, "creation_date": 1489001559, "last_edit_date": 1489054125, "question_id": 42680342, "link": "https://stackoverflow.com/questions/42680342/how-to-add-a-constant-spread-to-an-existing-yieldtermstructure-object-in-quantli", "title": "How to add a constant spread to an existing YieldTermStructure object in Quantlib", "body": "<p>I would really appreciate your inputs on moving from a YieldTermStructure pointer to that of adding a spread as below::</p>\n\n<pre><code>boost::shared_ptr&lt;YieldTermStructure&gt; depoFutSwapTermStructure(new PiecewiseYieldCurve&lt;Discount,\n        LogLinear&gt;(settlementDate, depoFutSwapInstruments_New, termStructureDayCounter, 1.0e-15));\n</code></pre>\n\n<p>I tried adding a spread of 50 bps as below...</p>\n\n<pre><code>double OC_Spread(0.50 / 100);\nRate OCSQuote = OC_Spread;\nboost::shared_ptr&lt;Quote&gt; OCS_Handler(new SimpleQuote(OCSQuote));\n</code></pre>\n\n<p>I then proceed to create a zerospreaded object as below:</p>\n\n<pre><code>ZeroSpreadedTermStructure Z_Spread(Handle&lt;YieldTermStructure&gt;(*depoFutSwapTermStructure), Handle&lt;Quote&gt;(OCS_Handler));\n</code></pre>\n\n<p>But now I am stuck as the code repeatedly breaks down if I go on ahead to do anything like</p>\n\n<pre><code>Z_Spread.zeroYieldImpl;\n</code></pre>\n\n<p>What is the issue with above code. I have tried several flavors of above approach and failed on all the fronts.</p>\n\n<p>Also is there a native way of calling directly the discount function just like as I do now with the TermStructure object prior to adding the spread currently as below???</p>\n\n<pre><code>depoFutSwapTermStructure-&gt;discount(*it)\n</code></pre>\n"}, {"tags": ["c++", "compilation", "g++", "header-files", "nana"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1489000932, "post_id": 42680089, "comment_id": 72484432, "body": "Sure about the <code>.&#47;</code> actually?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1489000972, "post_id": 42680089, "comment_id": 72484470, "body": "Welcome to Stack Overflow. Please take the time to read <a href=\"http://stackoverflow.com/tour\">The Tour</a> and refer to the material from the <a href=\"http://stackoverflow.com/help/asking\">Help Center</a> what and how you can ask here."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1489001928, "post_id": 42680089, "comment_id": 72485050, "body": "Show your code."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1490214389, "post_id": 42680089, "comment_id": 73018079, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 and closers, please select another reason to close the question, because the selected do not apply at all."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1489002005, "post_id": 42680278, "comment_id": 72485087, "body": "How is that answering the question?"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1490216204, "post_id": 42680278, "comment_id": 73019112, "body": "I guess I misread the question - sorry."}], "tags": [], "owner": {"reputation": 36, "user_id": 1103358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86ae14cf38bcb3fdcb11001cbe9d5a3c?s=128&d=identicon&r=PG", "display_name": "Alegro", "link": "https://stackoverflow.com/users/1103358/alegro"}, "is_accepted": true, "score": 1, "last_activity_date": 1490214148, "last_edit_date": 1490214148, "creation_date": 1489001383, "answer_id": 42680278, "question_id": 42680089, "link": "https://stackoverflow.com/questions/42680089/why-windows-g-doesnt-find-external-header-files/42680278#42680278", "title": "Why windows g++ doesn&#39;t find external header files", "body": "<p>you already have \"nana\" directory in your <code>-I</code> parameter. Don't repeat it in the includes.</p>\n\n<pre><code>#include &lt;gui.hpp&gt;\n#include &lt;gui/widgets/label.hpp&gt;\n#include &lt;gui/widgets/button.hpp&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7680329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d25ecfe70180ad5d62e669c295943d32?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Columbus", "link": "https://stackoverflow.com/users/7680329/chris-columbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1489002323, "accepted_answer_id": 42680278, "answer_count": 1, "score": -4, "last_activity_date": 1490214148, "creation_date": 1489000820, "last_edit_date": 1490214055, "question_id": 42680089, "link": "https://stackoverflow.com/questions/42680089/why-windows-g-doesnt-find-external-header-files", "closed_reason": "Not suitable for this site", "title": "Why windows g++ doesn&#39;t find external header files", "body": "<p><strong>My filename :</strong> <code>firstnana.cpp</code></p>\n\n<p><strong>Current Folder :</strong> <code>D:\\projects\\cpp\\guinana</code></p>\n\n<p><strong>My headers :</strong></p>\n\n<pre><code>#include &lt;nana/gui.hpp&gt;\n#include &lt;nana/gui/widgets/label.hpp&gt;\n#include &lt;nana/gui/widgets/button.hpp&gt;\n</code></pre>\n\n<p><strong>Compiling :</strong></p>\n\n<pre><code>g++ firstnana.cpp -I./nana/include/nana\n</code></pre>\n\n<p><strong>Example :</strong>\nThe <code>&lt;nana/gui.hpp&gt;</code> is located in <code>D:\\projects\\cpp\\guinana\\nana\\include\\nana\\gui.hpp</code></p>\n\n<p><strong>The output Error :</strong> \n    <code>firstnana.cpp:1:24: fatal error: nana/gui.hpp: No such file or directory\n    compilation terminated.</code></p>\n"}, {"tags": ["c++", "qt", "qt-creator"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489006689, "post_id": 42679989, "comment_id": 72487643, "body": "Note that Qt Creator is irrelevant. It&#39;s just an IDE. What fails is the compilation, and the error is reported by the compiler."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489006730, "post_id": 42679989, "comment_id": 72487661, "body": "Please edit the question to add the project file as well."}], "owner": {"reputation": 11, "user_id": 7680182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a687706b0053cda2a0b54d20da9209f?s=128&d=identicon&r=PG&f=1", "display_name": "GWatkins", "link": "https://stackoverflow.com/users/7680182/gwatkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489000498, "creation_date": 1489000498, "question_id": 42679989, "link": "https://stackoverflow.com/questions/42679989/qtcreator-extern-not-working-on-specific-pc", "title": "QTCreator extern not working on specific PC", "body": "<p>Hi I am currently working on a tournament creator program using QT Creator. I have been working on it at work during my lunch breaks and it has ran fine, but I have brought it home to get it finished for this weekend and it doesnt work.</p>\n\n<p>The error which I am getting is</p>\n\n<pre><code>F:\\Documents\\Coding\\TournamentOrganiser\\startscreen.cpp:-1: error: multiple\ndefinition of `StartScreen::StartScreen(QWidget*)'\n</code></pre>\n\n<p>I have literally only taken the folder placed it on a USB, copied it onto my desktop and ran it and this occurs, when it worked fine at home. </p>\n\n<p>I assume that it is some kind of QT Creator configuration setting but just in case these are the files which are involved in the issue. If anyone can help me out with this it would be much appreciated as I need this working on my desktop for Saturday when I will need to use the app.</p>\n\n<pre><code>template &lt;typename T&gt; using shp = std::shared_ptr&lt;T&gt;;\n</code></pre>\n\n<p>globals.h</p>\n\n<pre><code>#ifndef GLOBALS_H\n#define GLOBALS_H\n\n#include \"startscreen.h\"\n#include \"tournamentcreator.h\"\n#include \"player.h\"\n#include &lt;memory&gt;\n#include \"util.h\"\n#include \"matchups.h\"\n\nnamespace globals{\n  extern shp&lt;StartScreen&gt; g_StartScreen;\n  extern shp&lt;TournamentCreator&gt; g_TournamentCreator;\n  extern shp&lt;std::vector&lt;Player&gt;&gt; g_PlayerData;\n  extern shp&lt;MatchUps&gt; g_MatchUps;\n}\n\n#endif // GLOBALS_H\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include \"startscreen.h\"\n#include \"tournamentcreator.h\"\n#include \"matchups.h\"\n#include &lt;QApplication&gt;\n#include \"util.h\"\n\nnamespace globals{\n  shp&lt;StartScreen&gt; g_StartScreen;\n  shp&lt;TournamentCreator&gt; g_TournamentCreator;\n  shp&lt;std::vector&lt;Player&gt;&gt; g_PlayerData;\n  shp&lt;MatchUps&gt; g_MatchUps;\n}\n\nint main(int argc, char *argv[])\n{\n  QApplication a(argc, argv);\n  globals::g_StartScreen = std::make_shared&lt;StartScreen&gt;();\n  globals::g_TournamentCreator = std::make_shared&lt;TournamentCreator&gt;();\n  globals::g_PlayerData = std::make_shared&lt;std::vector&lt;Player&gt;&gt;();\n  globals::g_MatchUps = std::make_shared&lt;MatchUps&gt;();\n\n  globals::g_StartScreen-&gt;show();\n\n  return a.exec();\n}\n</code></pre>\n\n<p>startscreen.h</p>\n\n<pre><code>#ifndef STARTSCREEN_H\n#define STARTSCREEN_H\n\n#include &lt;QWidget&gt;\n\nnamespace Ui {\nclass StartScreen;\n}\n\nclass StartScreen : public QWidget\n{\n  Q_OBJECT\n\npublic:\n  explicit StartScreen(QWidget *parent = 0);\n  ~StartScreen();\nprivate slots:\n  void on_newEventButton_clicked();\n\nprivate:\n  Ui::StartScreen *ui;\n};\n\n#endif // STARTSCREEN_H\n</code></pre>\n\n<p>startscreen.cpp</p>\n\n<pre><code>#include \"startscreen.h\"\n#include \"ui_startscreen.h\"\n#include \"globals.h\"\n\nStartScreen::StartScreen(QWidget *parent) :\n  QWidget(parent),\n  ui(new Ui::StartScreen)\n{\n  ui-&gt;setupUi(this);\n}\n\nStartScreen::~StartScreen()\n{\n  delete ui;\n}\n\nvoid StartScreen::on_newEventButton_clicked(){\n  this-&gt;hide();\n  globals::g_TournamentCreator-&gt;show();\n}\n</code></pre>\n"}, {"tags": ["c++", "cublas"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1489000297, "post_id": 42679910, "comment_id": 72484043, "body": "Please format your code correctly."}, {"owner": {"reputation": 45, "user_id": 2774587, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf720ebd8f4aaa757e7583f815f8346?s=128&d=identicon&r=PG&f=1", "display_name": "user2774587", "link": "https://stackoverflow.com/users/2774587/user2774587"}, "reply_to_user": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1489001195, "post_id": 42679910, "comment_id": 72484604, "body": "(edit) Reformatted code"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 2774587, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf720ebd8f4aaa757e7583f815f8346?s=128&d=identicon&r=PG&f=1", "display_name": "user2774587", "link": "https://stackoverflow.com/users/2774587/user2774587"}, "is_accepted": false, "score": 1, "last_activity_date": 1489123109, "creation_date": 1489123109, "answer_id": 42710775, "question_id": 42679910, "link": "https://stackoverflow.com/questions/42679910/on-entry-to-sgemm-parameter-number-15-had-an-illegal-value/42710775#42710775", "title": "On entry to SGEMM parameter number 15 had an illegal value", "body": "<p>OK, it looks like</p>\n\n<pre><code>CUBLAS_CHECK(cublasSgemmStridedBatched(Caffe::cublas_handle(), cuTransB, cuTransA, 5, 5, 5,&amp;alpha, B, 5, 24, A, 5, 25, &amp;beta, C, 5, ANYTHING_LESS_THAN_25, num_blocks));\n</code></pre>\n\n<p>Will throw the same error. I suspect they're trying to prevent collision when writing to C so I think, even though there would be no collision in my above case because I'm describing the separate horizontal 5 by 100 strips of C, the error is caused because: </p>\n\n<p>strideC = 5 &lt; 5 * 100 = size of C block</p>\n\n<p>I think the C blocks cannot be mixed in memory.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8324483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kk7BnGG2RsQ/AAAAAAAAAAI/AAAAAAAAA9Q/7NfzjhtWLBM/photo.jpg?sz=128", "display_name": "Weiguang Yang", "link": "https://stackoverflow.com/users/8324483/weiguang-yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1598236026, "creation_date": 1598236026, "answer_id": 63553976, "question_id": 42679910, "link": "https://stackoverflow.com/questions/42679910/on-entry-to-sgemm-parameter-number-15-had-an-illegal-value/63553976#63553976", "title": "On entry to SGEMM parameter number 15 had an illegal value", "body": "<p>This is because the implementation logic of cublasSgemmStridedBatched in different cuda versions is different.\nIn cuda 9, the C cann't be separated by column, which means strideC must greater or equal to the size of C block.\nIn cuda 10+, it works. You can try it.</p>\n"}], "owner": {"reputation": 45, "user_id": 2774587, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbf720ebd8f4aaa757e7583f815f8346?s=128&d=identicon&r=PG&f=1", "display_name": "user2774587", "link": "https://stackoverflow.com/users/2774587/user2774587"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1598236026, "creation_date": 1489000234, "last_edit_date": 1489120707, "question_id": 42679910, "link": "https://stackoverflow.com/questions/42679910/on-entry-to-sgemm-parameter-number-15-had-an-illegal-value", "title": "On entry to SGEMM parameter number 15 had an illegal value", "body": "<p>I am trying to use cublasSgemmStridedBatched to multiply a block diagonal matrix by another matrix.  </p>\n\n<p>I want to perform C= B^T * A </p>\n\n<p>where B is block diagonal and so it's stored in memory with the blocks stacked on top of each other ( the off-diagonal blocks are not stored at all)</p>\n\n<p>The error I got was:\nCheck failed: status == CUBLAS_STATUS_SUCCESS (7 vs. 0)  CUBLAS_STATUS_INVALID_VALUE</p>\n\n<p>** On entry to SGEMM  parameter number 15 had an illegal value</p>\n\n<p>Here is the function call:</p>\n\n<pre><code>CUBLAS_CHECK(cublasSgemmStridedBatched(handle, cuTransB, cuTransA, N, M, K, &amp;alpha, B, ldb, strideB, A, lda, strideA, &amp;beta, C, ldc, strideC, num_blocks));\n</code></pre>\n\n<p>Here are some print outs:</p>\n\n<pre><code>cuTransB = 1 has type 17cublasOperation_t\ncuTransA = 0 has type 17cublasOperation_t\nN = 5 has type i\nM = 100 has type i\nK = 8 has type i\nalpha = 1 has type f\nB = 0x701164000 has type PKf, has dimensions 800 by 5 in memory\nB^T block has dimensions 5 by 8\nldb = 800 has type i\nstrideB = 8 has type x\nA = 0x7012aca00 has type PKf, has dimensions 800 by 100 in memory\nA block has dimensions 8 by 100\nlda = 800 has type i\nstrideA = 8 has type x\nbeta = 0 has type f\nC = 0x701b60000 has type Pf, has dimensions 500 by 100 in memory\nC block has dimensions 5 by 100\nldc = 500 has type i\nstrideC = 5 has type x\nnum_blocks = 100 has type i\n</code></pre>\n\n<p>So the function call was really:</p>\n\n<pre><code>CUBLAS_CHECK(cublasSgemmStridedBatched(handle, 1, 0, 5, 100, 8, 0x7fff58eb69e4, 0x701164000, 800, 8, 0x7012aca00, 800, 8, 0x7fff58eb69e0, 0x701b60000, 500, 5, 100));\n</code></pre>\n\n<p>I'm not sure what the 15th parameter of SGEMM is - I don't think this function is open source? I'm quite confused.</p>\n\n<p>What may or may not be important to notice is that strideB &lt; ldb. That is, the B blocks are mixed in memory. As I mentioned I initialized B as a 800 by 5 matrix and I am considering the 100 8 by 5 blocks.</p>\n"}, {"tags": ["c++", "windows", "dll", "environment-variables"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1489002951, "post_id": 42679890, "comment_id": 72485646, "body": "executable is 32bit and system 64bit ?"}, {"owner": {"reputation": 370, "user_id": 2449073, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f3ffa65709c754c8d3c23d9a0270e365?s=128&d=identicon&r=PG", "display_name": "stranger", "link": "https://stackoverflow.com/users/2449073/stranger"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1489006670, "post_id": 42679890, "comment_id": 72487634, "body": "No, it should all be 64 bit..."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1489053029, "post_id": 42679890, "comment_id": 72506361, "body": "It doesn&#39;t make any difference, but you use the DLLs by linking against the associated LIBs, or do you <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684175(v=vs.85).aspx\" rel=\"nofollow noreferrer\">LoadLibrary</a> them? Anyway seems that your <i>PATH</i> env var changes (<b>assuming the new paths are correct</b>) are not propagated in the environment where you try running the executable from (whether is a <i>cmd</i> console, or the IDE), most likely it was started before you altered <i>PATH</i>? Try looking at <i>PATH</i> contents (on that particular environment)."}], "owner": {"reputation": 370, "user_id": 2449073, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f3ffa65709c754c8d3c23d9a0270e365?s=128&d=identicon&r=PG", "display_name": "stranger", "link": "https://stackoverflow.com/users/2449073/stranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489000156, "creation_date": 1489000156, "question_id": 42679890, "link": "https://stackoverflow.com/questions/42679890/executable-cant-find-dll-but-dependencywalker-can", "title": "Executable can&#39;t find DLL but DependencyWalker Can", "body": "<p>I am building an installer for an SDK, and I install a bunch of DLLs that I put in a directory in <code>\\Program Files</code>.  I then add that directory to the %PATH% environment variable.  I also install some sample source code in a directory on the Desktop.  </p>\n\n<p>When I compile the source code and try to run the Executable I get an error that the DLLs are missing from my computer.  But when I run DependencyWalker on the Executable, DependencyWalker can find the DLLs on the %PATH% exactly where they should be.  </p>\n\n<p>How can I tell the Executable where to find the DLL?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1489000257, "post_id": 42679881, "comment_id": 72484018, "body": "Be more specific. Showcase the problematic code that &quot;doesn&#39;t work&quot;."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1489004980, "post_id": 42679881, "comment_id": 72486752, "body": "Please search StackOverflow before posting.  I recommend the keywords &quot;stackoverflow c++ concatenate string integer&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 2668, "user_id": 1760937, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/6Molf.png?s=128&g=1", "display_name": "Sikander", "link": "https://stackoverflow.com/users/1760937/sikander"}, "edited": false, "score": 0, "creation_date": 1489000343, "post_id": 42679915, "comment_id": 72484068, "body": "[Error] &#39;to_string&#39; is not a member of &#39;std&#39;"}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 0, "creation_date": 1489000350, "post_id": 42679915, "comment_id": 72484077, "body": "And in case you cannot use &gt;C++11, <code>boost::lexical_cast</code>"}, {"owner": {"reputation": 2668, "user_id": 1760937, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/6Molf.png?s=128&g=1", "display_name": "Sikander", "link": "https://stackoverflow.com/users/1760937/sikander"}, "edited": false, "score": 0, "creation_date": 1489000487, "post_id": 42679915, "comment_id": 72484166, "body": "kindly elaborate i am unable to get your second point boost::lexical_cast"}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 0, "creation_date": 1489000546, "post_id": 42679915, "comment_id": 72484201, "body": "boost is an external library that you need to include in your project"}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 0, "creation_date": 1489000588, "post_id": 42679915, "comment_id": 72484226, "body": "but you (if you can) should use modern c++ that is C++11 and above"}, {"owner": {"reputation": 2668, "user_id": 1760937, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/6Molf.png?s=128&g=1", "display_name": "Sikander", "link": "https://stackoverflow.com/users/1760937/sikander"}, "edited": false, "score": 0, "creation_date": 1489000801, "post_id": 42679915, "comment_id": 72484342, "body": "so if i dont want to use boost::lexical_cast how can i fix this any suggestions please."}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 0, "creation_date": 1489000892, "post_id": 42679915, "comment_id": 72484399, "body": "Then you have to fallback on old funtions: <a href=\"http://stackoverflow.com/questions/5590381/easiest-way-to-convert-int-to-string-in-c\" title=\"easiest way to convert int to string in c\">stackoverflow.com/questions/5590381/&hellip;</a>"}, {"owner": {"reputation": 2668, "user_id": 1760937, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/6Molf.png?s=128&g=1", "display_name": "Sikander", "link": "https://stackoverflow.com/users/1760937/sikander"}, "edited": false, "score": 0, "creation_date": 1489001353, "post_id": 42679915, "comment_id": 72484700, "body": "i used this  \t\t\t\t\tstd::remove(&quot;C:/Users/pcname/Desktop/files/&quot; + std::to_string(1) + &quot;.txt&quot;); and  this is what i get  [Error] &#39;to_string&#39; is not a member of &#39;std&#39;"}, {"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 1, "creation_date": 1489001455, "post_id": 42679915, "comment_id": 72484755, "body": "That&#39;s because you are not using C++11 or above. <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/to_string\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/string/basic_string/to_string</a>"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 1, "last_activity_date": 1489000243, "creation_date": 1489000243, "answer_id": 42679915, "question_id": 42679881, "link": "https://stackoverflow.com/questions/42679881/concatenate-integer-with-string-to-format-string/42679915#42679915", "title": "Concatenate integer with string to format string", "body": "<p>You can use <code>std::to_string</code> to convert an integer to a <code>std::string</code>, then use concatenation</p>\n\n<pre><code>int file_num = 1;\nstd::remove(\"C:/Users/pcname/Desktop/files/\" + std::to_string(file_num) + \".txt\");\n</code></pre>\n\n<p>Otherwise trying to do something like</p>\n\n<pre><code>\"C:/Users/pcname/Desktop/files/\" + file_num\n</code></pre>\n\n<p>is actually doing <a href=\"https://stackoverflow.com/questions/25299156/why-can-you-add-an-integer-to-a-string-literal\">pointer arithmetic</a> and will not produce the string you think it will</p>\n"}], "owner": {"reputation": 2668, "user_id": 1760937, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/6Molf.png?s=128&g=1", "display_name": "Sikander", "link": "https://stackoverflow.com/users/1760937/sikander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1489006394, "creation_date": 1489000138, "last_edit_date": 1489006394, "question_id": 42679881, "link": "https://stackoverflow.com/questions/42679881/concatenate-integer-with-string-to-format-string", "title": "Concatenate integer with string to format string", "body": "<p>I have to concatenate integer with a string as follows, user will enter a number e.g. <code>1</code> and it will be be placed in string like this: </p>\n\n<pre><code>std::remove(\"C:/Users/pcname/Desktop/files/1.txt\");\n</code></pre>\n\n<p>If user enters <code>2</code>, it's like </p>\n\n<pre><code>std::remove(\"C:/Users/pcname/Desktop/files/2.txt\");\n</code></pre>\n\n<p>It's pretty basic but I'm having issue with this I tried to use <code>operator+</code> with this but that did not work. </p>\n"}, {"tags": ["c++", "qt", "qthread"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1489000000, "post_id": 42679791, "comment_id": 72483874, "body": "Regarding <code>terminate</code>: <i>&quot;Warning: This function is dangerous and its use is discouraged. The thread can be terminated at any point in its code path. Threads can be terminated while modifying data. There is no chance for the thread to clean up after itself, unlock any held mutexes, etc. In short, use this function only if absolutely necessary.&quot;</i> source: <a href=\"http://doc.qt.io/qt-4.8/qthread.html#terminate\" rel=\"nofollow noreferrer\">doc.qt.io/qt-4.8/qthread.html#terminate</a> .  For the rest what in the documentation do you not understand?"}, {"owner": {"reputation": 1179, "user_id": 6240756, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-04YIAx_01kY/AAAAAAAAAAI/AAAAAAAAnhw/V94DoARneK4/photo.jpg?sz=128", "display_name": "iAmoric", "link": "https://stackoverflow.com/users/6240756/iamoric"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1489000190, "post_id": 42679791, "comment_id": 72483987, "body": "Yes I know it is dangerous, that&#39;s why I would like to know how stop the thread properly."}, {"owner": {"reputation": 1179, "user_id": 6240756, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-04YIAx_01kY/AAAAAAAAAAI/AAAAAAAAnhw/V94DoARneK4/photo.jpg?sz=128", "display_name": "iAmoric", "link": "https://stackoverflow.com/users/6240756/iamoric"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1489000254, "post_id": 42679791, "comment_id": 72484017, "body": "In the documentation, it seems that both methods (with exit() too), tell the thread loop to exit. I don&#39;t really see the difference"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1489000293, "post_id": 42679791, "comment_id": 72484040, "body": "use an <code>std::atomic&lt;bool&gt;</code> or <code>std::atomic_bool</code> variable.  Set it in your <i>&quot;specific action&quot;</i> and test it in your thread proc and exit cleanly."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1489003712, "post_id": 42679791, "comment_id": 72486049, "body": "See also <a href=\"http://stackoverflow.com/a/40976679/1329652\">this answer</a> that details how to transform the infinite loop you have to a loop that interoperates with the event system and queued slots and is thus more flexible and easier to use."}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 7666352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84712c73aeff03a10973259947054697?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Ozerov", "link": "https://stackoverflow.com/users/7666352/sergei-ozerov"}, "is_accepted": true, "score": 14, "last_activity_date": 1566960178, "last_edit_date": 1566960178, "creation_date": 1489005526, "answer_id": 42681482, "question_id": 42679791, "link": "https://stackoverflow.com/questions/42679791/how-to-stop-a-qthread-in-qt/42681482#42681482", "title": "How to stop a qThread in QT", "body": "<p>A proper answer depends on how you actually use <code>QThread</code> and how you've implemented <code>stop()</code>. </p>\n\n<p>An intended use case in Qt assumes following model:</p>\n\n<ul><li>You create an object that will do some useful work in response to Signals</li>\n<li>You create a `QThread` and move your object to this thread</li>\n<li>When you send a signal to your object, it's processed in `QThread` you've created</li></ul>\n\n<p>Now you need to understand some internals of how this is actually implemented. There are several \"models\" of signals in Qt and in some cases when you \"send a signal\" you effectively simply call a \"slot\" function. That's a \"direct\" slot connection and in this case <code>slot()</code> will be executed in <em>caller thread</em>, one that raised a signal. So in order to communicate with another thread, Qt allows another kind of signals, <strong>queued connections</strong>. Instead of calling a <code>slot()</code>, caller <em>leaves a message</em> to object that owns this slot. A thread associated with this object will read this message (at some time later) &amp; perform execution of <code>slot()</code> itself. </p>\n\n<p>Now you can understand what's happening when you create and execute <code>QThread</code>. A newly created thread will execute <code>QThread::run()</code> that, by default, will execute <code>QThread::exec()</code> which is nothing, but an infinite loop that looks for messages for objects associated with thread and transfers them to slots of these objects. Calling <code>QThread::quit()</code> <em>posts a termination message</em> to this queue. When <code>QThread::exec()</code> will read it, it will stop further processing of events, exit infinite loop and gently terminate the thread. </p>\n\n<p>Now, as you may guess, in order to <em>receive termination message</em>, two conditions must be met:</p>\n\n<ul><li>You should be running `QThread::exec()`</li>\n<li>You should exit from slot that is currently running</li></ul>\n\n<p>The first one is typically violated when people subclass from <code>QThread</code> and override <code>QThread::run</code> with their own code. In most cases this is a wrong usage, but it's still very widely taught and used. In your case it seems that you're violating the second requirement: your code runs infinite loop and therefore <code>QThread::exec()</code> simply doesn't get a control and don't have any chance to check that it needs to exit. Drop that infinite loop of yours to recycle bin, <code>QThread::exec()</code> is already running such loop for you. Think how to re-write your code so it <em>does not</em> running infinite loops, it's always possible. Think about your program in terms of \"messages-to-thread\" concept. If you're checking something periodically, create a <code>QTimer</code> that will send messages to your object and implement a check in your slot. If you processing some large amount of data, split this data to smaller chunks and write your object so it will process <em>one chunk at a time</em> in response to some message. E.g. if you are processing image line-by-line, make a slot <code>processLine(int line)</code> and send a sequence of signals \"0, 1, 2... height-1\" to that slot. Note that you will also have to explicitly call <code>QThread::quit()</code> once done processing because event loop is infinite, it doesn't \"know\" when you processed all the lines of your image. Also consider using <code>QtConcurrent</code> for computationally-intensive tasks instead of <code>QThread</code>. </p>\n\n<p>Now, the <code>QThread::terminate()</code> does stop a thread in a very different manner. It simply asks OS to kill your thread. And OS will simply abruptly stop your thread at arbitrary position in the code. Thread stack memory will be free'd, but any memory this stack <em>pointed to</em> won't. If a thread was owning some resource (such as file or mutex), it won't ever release it. An operation that involve writing data to memory can be stopped in the middle and leave memory block (e.g. object) incompletely filled and in invalid state. As you might guess from this description, you should never, ever call <code>::terminate()</code> except for very rare cases where keeping running of thread is worse than getting memory &amp; resource leaks. </p>\n\n<p><code>QThread::wait()</code> is just a convenience function that waits until <code>QThread</code> ceases to execute. It will work both with <code>exit()</code> and <code>terminate()</code>. </p>\n\n<p>You can also implement a threading system of your own subclassed from <code>QThread</code> and implement your own thread termination procedure. All you need to exit a thread is, essentially, just to return from <code>QThread::run()</code> when it becomes necessary and you can't use neither <code>exit()</code> nor <code>terminate()</code> for that purpose. Create your own synchronization primitive and use it to signal your code to return. But in most cases it's not a good idea, keep in mind that (unless you work with <code>QEventLoop</code> by yourself), Qt signal and slots won't be working properly in that case. </p>\n"}], "owner": {"reputation": 1179, "user_id": 6240756, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-04YIAx_01kY/AAAAAAAAAAI/AAAAAAAAnhw/V94DoARneK4/photo.jpg?sz=128", "display_name": "iAmoric", "link": "https://stackoverflow.com/users/6240756/iamoric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11760, "favorite_count": 2, "closed_date": 1489003646, "accepted_answer_id": 42681482, "answer_count": 1, "score": 7, "last_activity_date": 1566960178, "creation_date": 1488999844, "question_id": 42679791, "link": "https://stackoverflow.com/questions/42679791/how-to-stop-a-qthread-in-qt", "closed_reason": "Duplicate", "title": "How to stop a qThread in QT", "body": "<p>I would like to know how to properly stop a QThread. I havea infinite loop in a thread, and I would like to stop it when I do a specific action :</p>\n\n<p>I have tried :</p>\n\n<pre><code>if (thread-&gt;isRunning()){\n    worker-&gt;stop();\n    thread-&gt;terminate();\n}\n</code></pre>\n\n<p>the stop() method set a value to false to go out of my infinite loop.</p>\n\n<p>Furthermore, I don't really understand the difference between quit(), terminate() or wait(). Can someone explain me ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "algorithm", "list", "linked-list", "circular-list"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489054429, "post_id": 42683790, "comment_id": 72507343, "body": "Ok, I fixed the errors that you pointed out, but when I&#39;m trying to run the whole code, it breaks down.. but maybe there&#39;s a problem with other parts of the code, but now I only need this algorithm to be right ;).So the algorithm suppose to work properly now that I fixed the errors? or maybe I missed some case&#39;s and it still doesn&#39;t make any sense?"}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489063203, "post_id": 42683790, "comment_id": 72513260, "body": "I worked on the code, but set position at 1, not 0 like you said, and it is working : the numer of elements decrease by 1 and the element after the biggest one is not displayed after I use this function, but there is one problem- if the highest value is at the last element, it breaks down, and I dont know how to solve this problem"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489064369, "post_id": 42683790, "comment_id": 72514000, "body": "@WojtekMika, to be sure that the function <code>Delete_After_Max()</code>, it is necessary to know how the data are added/inserted in your circular linked-list. Could you edit the question and add the <code>struct node</code> definition and the <code>insert()</code> function ? <i>Note: I have created my own simple <code>insert()</code> function, but not sure it matches with yours !!!</i>"}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489065672, "post_id": 42683790, "comment_id": 72514804, "body": "I edited the comment, I think the insert function work properly, and the Delete function works almost properly, except this one situation where the highest element is the &quot;last one&quot; on the list, but I don&#39;t know how to work it out because it suppose to be circled list... If the last element is the highest one, the first one should be deleted, but it just doesn&#39;t work in my code"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489095814, "post_id": 42683790, "comment_id": 72533926, "body": "I have added the solution for the case <i>&#39;the highest element is the &quot;last one&quot; on the list&#39;</i>."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489103189, "post_id": 42683790, "comment_id": 72537105, "body": "Sorry to keep bothering you, but it seems like this solution is not working when maximum is the last element, i made changes accordingly to your suggestions, but i keep having the same problem with the last element, it just cant disappear :/ I edited the comment with my code above, maybe i would ask my teacher where is the mistake, but maybe you would give me one last advice :p  And I still dont know at what value should be variable position set at, because you wrote it should be 0, but it works only if its at 1"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489126755, "post_id": 42683790, "comment_id": 72543997, "body": "@WojtekMika, could you add a complete example with the tested series of data where the maximum is in the last position ? When using your insert function and <code>position=0</code>, it&#39;s work for me."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489137522, "post_id": 42683790, "comment_id": 72549552, "body": "<a href=\"http://imgur.com/a/cCyYf\" rel=\"nofollow noreferrer\">link</a>, im filling the list of 10 elements with random numbers, and as you see, in this case, after calling the delete function and display function it stays exactly the way it was, i will edit my code comment and put these functions after your suggestions And, when i use position=0, it deletes not the first one after the maximum, but the second..."}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489176414, "post_id": 42683790, "comment_id": 72573284, "body": "@WojtekMika, I have added the output based to your series of data. No problem to remove the next node when the maximum is the last node of the circular linked-list."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489182102, "post_id": 42683790, "comment_id": 72575966, "body": "I see that you get good results, but I still don&#39;t know why my code is not working, I did all that you told me to do, maybe I missed something and I just can&#39;t see it, maybe you could send me your version of deleting function and i will compare it and catch the mistake by myself?"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489182824, "post_id": 42683790, "comment_id": 72576264, "body": "@WojtekMika just added the full source code of the function <code>Delete_After_Max()</code>."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489183938, "post_id": 42683790, "comment_id": 72576710, "body": "thank you very much! i was thinking that maybe i would make it a bool type function, that will return false if the list was empty, and true if i was able to delete the element, and also im gonna try to write a function that will search for the maximum in the list and return a pointer to that element, but i hope im gonna be able to do this modifications by myself :) and once again, thank you for your kind help!"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489184379, "post_id": 42683790, "comment_id": 72576885, "body": "@WojtekMika, the algorithm could be simplified by storing the pointer of the node having the maximum value <code>maxi = tmp;</code> instead of storing an index <code>index = counter;</code> and performing a second while-loop to delete the next node."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489189901, "post_id": 42683790, "comment_id": 72578712, "body": "yes, this way it would be much simpler, especially for me to understand it, I wrote a functions that finds the maximum and returns a pointer to it, and also a function that checks if the list is empty or not(but it&#39;s not working somehow, and maybe it&#39;s because head is set at null somewhere and I dont see that? ). I also modified the Delete_After_Max function, and it&#39;s pretty simple right now, but once again, I dont know how to implement it to work in case where the last element is the maximum and i have to delete the first one, could you take a look?  <a href=\"http://pastebin.com/9rYUsxUF\" rel=\"nofollow noreferrer\">pastebin.com/9rYUsxUF</a>"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489226565, "post_id": 42683790, "comment_id": 72585971, "body": "@WojtekMika, just added details relative to the deletion part of the function <code>Delete_After_Max()</code>."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489240574, "post_id": 42683790, "comment_id": 72590108, "body": "it works great now, so i created 3 cases: empty list-return false, 1 element-return false(already works), and &gt;1 element-return true and delete the element after maximum(works). My final question(i hope so) will be- why isn&#39;t my Is_Empty function working? i want it to return true if list is empty, and it seems that my list is always empty, which is strange given the fact, that i fill it with values in for-loop... (that&#39;s why i have to negate it inside the Delete_After_Max function which is stupid"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489241024, "post_id": 42683790, "comment_id": 72590251, "body": "@WojtekMika, in the function <code>Delete_After_Max()</code> the call <code>if(!Is_Empty)</code> is wrong (you are testing if the function-pointer <code>Is_Empty</code> doesn&#39;t exists). You may call <code>if(Is_Empty(head))</code>."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489241939, "post_id": 42683790, "comment_id": 72590562, "body": "God, you&#39;re right, im so dumb! Is there any way i can create an empty list? because when i comment the for-loop the program crashes, i just want to test the situation when the list is really empty and i don&#39;t know why, basically head is set at null but it&#39;s not working"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "reply_to_user": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489242632, "post_id": 42683790, "comment_id": 72590790, "body": "@WojtekMika, using <code>node * head = NULL;</code> is the way to have an empty list. For the <i>&quot;program crashes&quot;</i>, the problem is localized in the function <code>Delete_After_Max()</code> when you are trying to display <code>maxi-&gt;data</code> and <code>maxi</code> is equal to <code>NULL</code>."}, {"owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "edited": false, "score": 0, "creation_date": 1489243394, "post_id": 42683790, "comment_id": 72591005, "body": "ok, so it&#39;s working perfect now, and is much simpler than my first idea! once again- big thank you! you should have a statue built for your patience! :)"}], "tags": [], "owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "is_accepted": false, "score": 0, "last_activity_date": 1489226492, "last_edit_date": 1489226492, "creation_date": 1489015123, "answer_id": 42683790, "question_id": 42679760, "link": "https://stackoverflow.com/questions/42679760/how-to-delete-element-next-to-the-highest-found-element-in-the-circular-list-in/42683790#42683790", "title": "How to delete element next to the highest found element in the circular list in C++", "body": "<p>In the proposed algorithm, small errors are doing a wrong result.</p>\n\n<p><strong>Error 1</strong> - the biggest, in the last while-loop the <code>tmp2</code> is not initialized.</p>\n\n<blockquote>\n  <p>Initialize <code>tmp2 = head</code> instead of <code>tmp3 = head;</code>.</p>\n</blockquote>\n\n<pre><code>tmp2 = head; // initialize tmp2\nwhile (position&lt;index - 1)\n{\n    tmp2 = tmp2-&gt;next;\n    position++;\n}\ntmp3 = tmp2-&gt;next;\n</code></pre>\n\n<p><strong>Error 2</strong> - starting with <code>position</code> equal 1 will stop the loop too early.</p>\n\n<blockquote>\n  <p>Using first <code>position = 1</code> with the while-condition <code>(position &lt; index\n  - 1)</code> decrease the loop by 2 steps.</p>\n</blockquote>\n\n<pre><code>int position = 0;\n</code></pre>\n\n<p><strong>Typo Error</strong> - in the <code>if (index == 0)</code> condition, a missing semi-column.</p>\n\n<blockquote>\n  <p>The line code <code>head = head-&gt;next</code> doesn't end by <code>;</code>.</p>\n</blockquote>\n\n<p>In the condition <code>if (index == 0)</code> either exiting from the function with <code>return</code> or prevent doing unexpected operation by inserting the last part in a <code>else { ...  }</code> condition.</p>\n\n<pre><code>if (index == 0)\n{\n    tmp2 = head;\n    head = head-&gt;next;\n    delete tmp2;\n    // EXIT by return\n}\n</code></pre>\n\n<p><strong>ADDED N\u00b01>>>></strong></p>\n\n<p><strong>Error 3</strong> - the case <code>if (index == 0)</code> is not possible</p>\n\n<blockquote>\n  <p>Try to delete the first node of the circular linked-list when the\n  maximum is placed in the last node is not possible.</p>\n</blockquote>\n\n<ul>\n<li>The value <code>index = 0;</code> is possible only when <code>if (counter == index)</code>. But in the do-while, just after storing the position of the maximum in <code>index = counter;</code> the <code>counter</code> is incremented <code>counter++;</code>.</li>\n</ul>\n\n<p>Modify as follow:</p>\n\n<pre><code>if (counter == (index+1)) // detecting the last position\n    index = 0;    //if last element is the maximum, first one will be deleted\nelse\n    index++; // incrementing to get index of the next element after maximum\n</code></pre>\n\n<ul>\n<li>But to delete the first node, the proposed algorithm for <code>if (index == 0)</code> doesn't work because it is necessary to store the previous node.</li>\n</ul>\n\n<p><strong>Solution</strong> - The best solution is to force the last while-loop to continue one step more by doing the following changes:</p>\n\n<pre><code>if (index == 0)\n{\n    index = counter;\n}\n</code></pre>\n\n<p>Then allow the while-loop when <code>(index == counter)</code> with:</p>\n\n<pre><code>if ((index&gt;0) &amp;&amp; (index&lt;=counter)) // allow for the last\n{\n    tmp2 = head;\n    while (position&lt;index - 1)\n</code></pre>\n\n<p>And before the deletion of the <code>tmp3</code> node, modify the <code>head</code> when <code>tmp3 == head</code>:</p>\n\n<pre><code>    tmp3 = tmp2-&gt;next;\n    tmp2-&gt;next = tmp3-&gt;next;\n    if (head==tmp3) { // when the node to delete is the head\n        head = head-&gt;next; // shift head to the next node\n    }\n    delete tmp3;\n</code></pre>\n\n<p><strong>ADDED N\u00b02>>>></strong></p>\n\n<p><strong>Output</strong> - here is the obtain result when using the suggested list of values.</p>\n\n<blockquote>\n  <p>The first element <code>6</code> is the deleted (next element of the last element\n  <code>18</code> in a circular linked-list).</p>\n</blockquote>\n\n<pre><code>[ 6, 9, 13, 12, 1, 10, 15, 4, 6, 18, ].\nBiggest value on the list: 18\n[ 9, 13, 12, 1, 10, 15, 4, 6, 18, ].\n</code></pre>\n\n<p><strong>ADDED N\u00b03>>>></strong></p>\n\n<blockquote>\n  <p>Here is the full source code of the function <code>Delete_After_Max()</code>:</p>\n</blockquote>\n\n<pre><code>void Delete_After_Max(node* &amp; head)\n{\n    node * tmp = head;\n    int counter = 0, index = 0;\n    double maximum = -1;\n\n    if (tmp) // checking if the list is not empty\n    {\n        do\n        {\n            if (tmp-&gt;data&gt;maximum)\n            {\n                maximum = tmp-&gt;data;\n                index = counter;\n            }\n            counter++;\n            tmp = tmp-&gt;next;\n        } while (tmp != head);\n    }\n\n    std::cout &lt;&lt; \"Biggest value on the list: \" &lt;&lt; maximum &lt;&lt; \"\\n\";\n    if (counter == (index+1))\n        index = 0;    //if last element is the maximum, first one will be deleted\n    else\n        index++; // incrementing to get index of the next element after maximum\n\n    node *tmp2 = NULL;\n    //checking if the highest element was last(then we delete first one)\n    if (index == 0)\n    {\n        tmp2 = head;\n        std::cout &lt;&lt; tmp2-&gt;data &lt;&lt; \", \";\n        index = counter;\n        //head = head-&gt;next;\n        //delete tmp2;\n        // EXIT\n    }\n    // checking if the highest element was somewhere else\n\n    node *tmp3 = NULL;\n\n    int position = 0; // ERROR 1;\n\n    // if ((index&gt;0) &amp;&amp; (index&lt;counter))\n    if ((index&gt;0) &amp;&amp; (index&lt;=counter))\n    {\n        // ERROR tmp3 = head;\n        tmp2 = head;\n        while (position&lt;index - 1)\n        {\n            tmp2 = tmp2-&gt;next;\n            position++;\n        }\n        tmp3 = tmp2-&gt;next;\n        tmp2-&gt;next = tmp3-&gt;next;\n        if (head==tmp3) {\n            head = head-&gt;next;\n        }\n        delete tmp3;\n    }\n}\n</code></pre>\n\n<p><strong>ADDED N\u00b04>>>></strong></p>\n\n<p>In the updated function <code>Delete_After_Max()</code> displayed bellow the logical to delete the node following the maximum is wrong.</p>\n\n<pre><code>bool Delete_After_Max(node* &amp; head)\n{\n    node *maxi=Find_Maximum(head);\n    std::cout &lt;&lt; \"Biggest value on the list: \" &lt;&lt; maxi-&gt;data &lt;&lt; \"\\n\";\n\n    if(!Is_Empty) // !Is_Empty because this function is not working properly so i had to negate it until i find out why ;)\n    {\n        cout&lt;&lt;\"the list is empty\";\n        return false;\n    }\n    else\n    {\n        node *tmp3=NULL;\n        node *tmp2=maxi-&gt;next;\n        tmp3=tmp2-&gt;next;\n        tmp2-&gt;next=tmp3-&gt;next;\n        if (head==tmp3) {\n            head = head-&gt;next;\n        }\n        delete tmp3;\n\n        cout&lt;&lt;\"one element deleted\";\n\n        return true;\n    }\n}\n</code></pre>\n\n<ol>\n<li>If <code>maxi</code> is pointing to the node having the maximum value, the node to be delete is <code>maxi-&gt;next</code> (instead of calling <code>tmp2</code> we will call it <code>node_to_delete</code>).</li>\n<li>Before deleting the <code>node_to_delete</code>, it is necessary to connect the node <code>maxi</code> with the node following the <code>node_to_delete</code> (instead of calling <code>tmp3</code> we will call it <code>node_after_delete</code>).</li>\n<li>In case of the <code>node_to_delete</code> is the <code>head</code>, it is necessary to update the <code>head</code> with its next node before deletion.</li>\n</ol>\n\n<p>Then, the new deletion part of the function becomes:</p>\n\n<pre><code>// Step 1\nnode *node_to_delete = maxi-&gt;next;\n// Step 2\nnode *node_after_delete = node_to_delete-&gt;next;\nmaxi-&gt;next = node_after_delete;\n// Step 3\nif (node_to_delete == head) {\n    head = head-&gt;next;\n}\ndelete node_to_delete;\n</code></pre>\n\n<p>So, logic errors in the function <code>Delete_After_Max()</code> are:</p>\n\n<ol>\n<li>Bad connection between the node <code>maxi</code> and the node <code>node_after_delete</code> (<code>tmp3</code>) ==> <code>maxi-&gt;next=tmp3;</code> instead of <code>tmp2-&gt;next=tmp3-&gt;next;</code>,</li>\n<li>Bad definition of the node <code>node_to_delete</code> (<code>tmp2</code>) ==> <code>if (head==tmp2)</code> and <code>delete tmp2;</code> instead of <code>if (head==tmp3)</code> and <code>delete tmp3;</code></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 7216119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac85386931f15483115baf49fcae4285?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Mika", "link": "https://stackoverflow.com/users/7216119/wojtek-mika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1545437333, "creation_date": 1488999741, "last_edit_date": 1545437333, "question_id": 42679760, "link": "https://stackoverflow.com/questions/42679760/how-to-delete-element-next-to-the-highest-found-element-in-the-circular-list-in", "title": "How to delete element next to the highest found element in the circular list in C++", "body": "<p>I've got a problem with some function/algorithm, and I hope you guys can help me. The task is to write a function that will delete an element that is right after the hightest element(highest value) in single linked circular list. I've been trying to draw this so this would make more sense to me, but it still looks like dark arts, but i've managed to come up with a function like this:</p>\n\n<pre><code>struct node\n{\n node * next;\n double data;\n};\n\n void Insert_node(node * &amp; head, double v)\n {\n  node * p = new node;\n\n  p-&gt;data = v;\n  if(head)\n  {\n   p-&gt;next = head-&gt;next;\n   head-&gt;next = p;\n  }\n  else p-&gt;next = p;\n  head = p;\n  }\n\n\nvoid Delete_After_Max(node* &amp; head)\n{\n   node * tmp=head;\n   int counter=0,index=0;\n   double maximum=0;\n\n if(tmp) // checking if the list is not empty\n {\n    do\n    {\n      if(tmp-&gt;data&gt;maximum)\n      {\n          maximum=tmp-&gt;data;\n          index=counter+1;\n      }\n    counter++;\n    tmp=tmp-&gt;next;\n  } while(tmp!=head);\n}\n\ncout&lt;&lt;\"Biggest value on the list: \"&lt;&lt;maximum&lt;&lt;endl;\ncout&lt;&lt;\"licznik:\"&lt;&lt;counter&lt;&lt;\"  \"&lt;&lt;\"indeks: \"&lt;&lt;index&lt;&lt;endl;\n\nif(counter==(index+1))\n   index=0;    //if last element is the maximum, first one will be deleted\n else\n   index++; // incrementing to get index of the next element after maximum\n\nnode *tmp2=NULL;\n//checking if the highest element was last(then we delete first one)\nif(index==0)\n    {\n    index=counter;\n    }\n// checking if the highest element was somewhere else\n\nnode *tmp3=NULL;\n\nint position=0;\n\nif((index&gt;0)&amp;&amp; (index&lt;=counter))\n   {\n       tmp2=head;\n\n       while(position&lt;index-1)\n        {\n            tmp2=tmp2-&gt;next;\n            position++;\n        }\n\n    tmp3=tmp2-&gt;next;\n    tmp2-&gt;next=tmp3-&gt;next;\n\n    if(head==tmp3)\n    {\n        head=head-&gt;next;\n    }\n    delete tmp3;\n\n   }\n }\n</code></pre>\n\n<p>Do you think this algorithm is right? I'm not sure if I get the idea right, so the code is probably totally wrong :/ </p>\n\n<p>At first, I count all the elements on the list, find the highest one and it's index, and then I can use it to delete element after that by incrementing the index, right? I think that it's ok to this moment, but after that it gets harder to me, if the maximum was last element, i have to delete the first one, and \"connect\" the last one with the second one? But I don't know if it's ok with circular list, so please, can someone give me a hint what I'am doing wrong? ;)</p>\n\n<p>I checked it again, and it compiles but it's not working properly, and I still don't know why, and how to do it. I couldn't find any similar problems that I could base on, any kind of help would be appreciated, I'am new to this, that's why there are so many mistakes...</p>\n"}, {"tags": ["javascript", "c++", "memory-leaks"], "answers": [{"tags": [], "owner": {"reputation": 5594, "user_id": 1179379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bf2d2e692a814340e2b10a9f61507f2?s=128&d=identicon&r=PG", "display_name": "cancerbero", "link": "https://stackoverflow.com/users/1179379/cancerbero"}, "is_accepted": false, "score": 0, "last_activity_date": 1567907358, "creation_date": 1567907358, "answer_id": 57838623, "question_id": 42679759, "link": "https://stackoverflow.com/questions/42679759/is-just-calling-deletelater-enough-to-avoid-memory-leaks-in-javascript-with-em/57838623#57838623", "title": "Is just calling deleteLater() enough to avoid memory leaks in Javascript with Embind?", "body": "<p>I'm on the same path and really don't have a concrete answer for you, but as a JS developer I can collaborate with this:</p>\n\n<ul>\n<li>Calling delete() on an already deleted object throws an ugly exception (uncatchable from JS). There is an undocumented method to check this: obj.isDeleted(). Also obj.SS.count will be 0 when the object is \"deleted\"</li>\n<li>In the browser not deleting objects could for sure break your application but from the point of view of a C++ developer this only happens in the context of the document - so by just reloading the page - you get all the memory back (is not necessary to kill the browser)</li>\n<li>when exceptions are thrown from C++ code , like sigint, bad memory allocation, etc, it seems is not possible to catch them, even using DISABLE_EXCEPTION_CATCHING or the rest of the debug flags. Module.onAbort or similar also won't handle them. So If anybody will handle deleteLater() registered objects when the program throws must be at C++ side.</li>\n<li>I see there's no documentation about delete(), isDeleted() deleteLater() I think those would be great candidates for a PR.</li>\n</ul>\n"}], "owner": {"reputation": 131, "user_id": 6202392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503796a3cf55974a5b2c5a1b6016d26a?s=128&d=identicon&r=PG", "display_name": "caiminatrix", "link": "https://stackoverflow.com/users/6202392/caiminatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1567907358, "creation_date": 1488999739, "question_id": 42679759, "link": "https://stackoverflow.com/questions/42679759/is-just-calling-deletelater-enough-to-avoid-memory-leaks-in-javascript-with-em", "title": "Is just calling deleteLater() enough to avoid memory leaks in Javascript with Embind?", "body": "<p>I'm a longtime Java/C++ programmer and novice Javascript programmer. I'm trying to make a web app with a class I have previously coded in C++.</p>\n\n<p>In my Javascript web app, I'm using Embind to create and use the class originally coded in C++. On the Embind documentation page it says, </p>\n\n<blockquote>\n  <p>JavaScript code must explicitly delete any C++ object handles it has received, or the Emscripten heap will grow indefinitely.</p>\n</blockquote>\n\n<p>and the examples on the page show the created object being deleted immediately  after use:</p>\n\n<blockquote>\n  <p>var x = new Module.MyClass;\n  x.method();\n  x.delete();</p>\n</blockquote>\n\n<p>In my web app, I want my object from C++ to persist for the lifetime of the webpage. I want to be able to press a button on the page and update the state of my object. If I .delete() the object at the end of the script, it won't persist when I try pushing the button later.</p>\n\n<p>In the Embind example, embind.test.js, it is possible to call .deleteLater() on a newly created object:</p>\n\n<blockquote>\n  <p>var v = (new cm.ValHolder({})).deleteLater();</p>\n</blockquote>\n\n<p><strong>My question is,</strong> if I simply call .deleteLater() upon the object creation, is this enough for the object to be deleted when the app is done running or when the page is closed? I'm trying to avoid growing the heap indefinitely or cause any memory leaks. </p>\n\n<p>Again, I'm new to Javascript so please point out if I'm missing anything obvious or if ignorant of a best practice concerning memory leaks and pointers in Javascript.</p>\n\n<p>Let me know if I need to clarify anything. Thanks!</p>\n\n<p>reference: <a href=\"https://kripken.github.io/emscripten-site/docs/porting/connecting_cpp_and_javascript/embind.html#memory-management\" rel=\"nofollow noreferrer\">https://kripken.github.io/emscripten-site/docs/porting/connecting_cpp_and_javascript/embind.html#memory-management</a></p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 2, "creation_date": 1489000736, "post_id": 42679720, "comment_id": 72484301, "body": "Verify your &quot;Additional Include Directories&quot; in your project properties"}], "answers": [{"tags": [], "owner": {"reputation": 24802, "user_id": 232918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5897762377de1c8ffb9a98673262e91?s=128&d=identicon&r=PG", "display_name": "doron", "link": "https://stackoverflow.com/users/232918/doron"}, "is_accepted": false, "score": 0, "last_activity_date": 1489001548, "creation_date": 1489001548, "answer_id": 42680336, "question_id": 42679720, "link": "https://stackoverflow.com/questions/42679720/c-cannot-open-source-file/42680336#42680336", "title": "C++ cannot open source file", "body": "<p>Visual Studio (or rather the compiler) needs to know where to look for the included file. Check out your include path in your VS project.</p>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 8840019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yt2s9.png?s=128&g=1", "display_name": "xflowXen", "link": "https://stackoverflow.com/users/8840019/xflowxen"}, "is_accepted": false, "score": 5, "last_activity_date": 1509490643, "creation_date": 1509490643, "answer_id": 47045708, "question_id": 42679720, "link": "https://stackoverflow.com/questions/42679720/c-cannot-open-source-file/47045708#47045708", "title": "C++ cannot open source file", "body": "<p>If you're using Visual studio, right click on the project and then on Properties, Under Configuration Properties click on C\\C++ and then add the directory to your header files under the Additional Include Directories section.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 3895103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7018559f9b2dab75c8d0fc58749a79?s=128&d=identicon&r=PG&f=1", "display_name": "jskattt797", "link": "https://stackoverflow.com/users/3895103/jskattt797"}, "is_accepted": false, "score": 2, "last_activity_date": 1581806273, "creation_date": 1581806273, "answer_id": 60243768, "question_id": 42679720, "link": "https://stackoverflow.com/questions/42679720/c-cannot-open-source-file/60243768#60243768", "title": "C++ cannot open source file", "body": "<p>There is more information here on how to deal with this problem: <a href=\"https://stackoverflow.com/questions/335408/where-does-visual-studio-look-for-c-header-files\">Where does Visual Studio look for C++ header files?</a></p>\n\n<p>For me, I followed xflowXen's answer and then at \"Include Directories\" typed in the specific pathname where my header file was located followed by a semicolon, something like:\nC:\\Users\\name\\source\\repos\\p2-A\\p2-A;\nthen applied the changes and the issue went away.</p>\n"}, {"comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 4, "creation_date": 1608613637, "post_id": 65403013, "comment_id": 115630516, "body": "Can someone explain what exactly this code has to do with the question?"}], "tags": [], "owner": {"reputation": 1, "user_id": 14869270, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3O1keECtD4o/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclijmkU0qKk0rpvymbw3TQwTbsYww/s96-c/photo.jpg?sz=128", "display_name": "Maham urooj", "link": "https://stackoverflow.com/users/14869270/maham-urooj"}, "is_accepted": false, "score": -6, "last_activity_date": 1608612733, "last_edit_date": 1608612733, "creation_date": 1608608903, "answer_id": 65403013, "question_id": 42679720, "link": "https://stackoverflow.com/questions/42679720/c-cannot-open-source-file/65403013#65403013", "title": "C++ cannot open source file", "body": "<pre><code>#include&lt;iostream.h&gt;\n#include&lt;conio.h&gt; \n#include&lt;stdlib.h&gt; \nusing namespace std; \n\nint divide(int num, int den) \n{\n   if(den==0) \n   { \n      return -1; \n   } \n   if((num%den)==0) \n   { \n      return 1; \n   } \n   else \n   {    \n      return 0; \n   } \n} \n\nint divide(int a) \n{ \n   int j = a/2, flag = 1, i; \n\n   for(i=2; (i&lt;=j) &amp;&amp; (flag); i++) \n   { \n      if(a%i == 0) \n      { \n         flag = 0; \n      } \n   } \n   return flag; \n} \n\nvoid main() \n{ \n   clrscr(); \n   int choice, res, a, b; \n\n   do \n   { \n      cout&lt;&lt;&quot;1.Check for divisibility\\n&quot;; \n      cout&lt;&lt;&quot;2.Check for Prime\\n&quot;; \n      cout&lt;&lt;&quot;3.Exit\\n&quot;; \n      cout&lt;&lt;&quot;Enter your choice(1-3): &quot;; \n      cin&gt;&gt;choice; cout&lt;&lt;&quot;\\n&quot;; \n      switch(choice) \n      { \n         case 1: \n            cout&lt;&lt;&quot;Enter numerator and denominator: &quot;; \n            cin&gt;&gt;a&gt;&gt;b; \n            res = divide(a, b); \n            if(res == -1) \n            { \n               cout&lt;&lt;&quot;Divide by zero error..!!\\n&quot;; break; \n            } \n            cout&lt;&lt;((res) ? &quot;It is&quot; : &quot;It is not&quot;)&lt;&lt;&quot;\\n&quot;; \n            break; \n         case 2: \n            cout&lt;&lt;&quot;Enter the number: &quot;; \n            cin&gt;&gt;a; \n            res = 0; \n            res = divide(a); \n            cout&lt;&lt;((res) ? &quot;It is&quot; : &quot;It is not&quot;)&lt;&lt;&quot;\\n&quot;; \n            break; \n         case 3: \n            cout&lt;&lt;&quot;Exiting...press any key...&quot;; \n            getch(); \n            exit(1); \n         default:\n            cout&lt;&lt;&quot;Wrong choice..!!&quot;; \n      } \n      cout&lt;&lt;&quot;\\n&quot;; \n   }while(choice&gt;0 &amp;&amp; choice&lt;=3); \n   getch(); \n}\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 6362488, "user_type": "registered", "profile_image": "https://graph.facebook.com/845908668888009/picture?type=large", "display_name": "Jaood", "link": "https://stackoverflow.com/users/6362488/jaood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75319, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1608612733, "creation_date": 1488999620, "question_id": 42679720, "link": "https://stackoverflow.com/questions/42679720/c-cannot-open-source-file", "title": "C++ cannot open source file", "body": "<p>In C++ with Visual studio 2017, </p>\n\n<p>I copied some header files into my project folder, then added them under the \"solution explorer\" in c++. Now when I write </p>\n\n<pre><code>#include \"name.h\"\n</code></pre>\n\n<p>it prints an error under include, and says \"cannot open source file\". </p>\n\n<p>Why, and what can I potentially do to fix it?</p>\n\n<p>I only just downloaded VS and am learning c++ for the first time.</p>\n"}, {"tags": ["c++", "constructor", "copy-constructor"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 2, "creation_date": 1489000744, "post_id": 42679583, "comment_id": 72484307, "body": "You may do something like <a href=\"https://ideone.com/hUJ9x3\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1489000843, "post_id": 42679646, "comment_id": 72484366, "body": "You actually forget to copy <code>data</code>, you just do the extension."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1489000937, "post_id": 42679646, "comment_id": 72484437, "body": "And something like <a href=\"https://ideone.com/hUJ9x3\" rel=\"nofollow noreferrer\">this</a> allow to add functionality on top of default copy constructor."}, {"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 0, "creation_date": 1496066188, "post_id": 42679646, "comment_id": 75497400, "body": "This is bad practice; you need to remember to add the copying every time you add a member. Single responsibility rule should be applied here."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 0, "creation_date": 1496077260, "post_id": 42679646, "comment_id": 75503237, "body": "@sp2danny <i>&quot;Single responsibility rule should be applied here.&quot;</i> Can you elaborate please? A private <code>init()</code> function or what?"}, {"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 0, "creation_date": 1496080913, "post_id": 42679646, "comment_id": 75504775, "body": "I would suggest a member, whose only purpose is to be loud about being copied, that way the containing class can have all special members implicitly defaulted."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 0, "creation_date": 1496080992, "post_id": 42679646, "comment_id": 75504811, "body": "@sp2danny I wouldn&#39;t like such overengineering."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 1, "last_activity_date": 1489057866, "last_edit_date": 1489057866, "creation_date": 1488999397, "answer_id": 42679646, "question_id": 42679583, "link": "https://stackoverflow.com/questions/42679583/adding-functionality-to-a-default-copy-constructor/42679646#42679646", "title": "Adding functionality to a default copy constructor", "body": "<blockquote>\n  <p>Suppose I want to print the message \"Copy constructor!\" each time a copy constructor is called. For this simple case I would just write my own copy constructor, which takes charge of the shallow copy explicitly, and also prints out the message.</p>\n</blockquote>\n\n<p>Yes, you need to provide your copy constructor explicitely and add that printing out the message.</p>\n\n<pre><code>class A \n{\n    public:\n    A(int n) : data(n) { };\n    // You need to add tis:\n    A(const&amp; A rhs) : data(rhs.data)  {\n        std::cout &lt;&lt; \"Copy constructor!\" &lt;&lt; '\\n';\n    }\n    private:\n    int data;\n};\n</code></pre>\n\n<blockquote>\n  <p>Is there a way to add the message printing (or whatever other functionality I want) on top of the default copy constructor, without writing explictly the shallow coyp?</p>\n</blockquote>\n\n<p>No, there isn't.</p>\n"}], "owner": {"reputation": 255, "user_id": 6029053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5ea8f9ce18a5577c49caa0bb14f6728c?s=128&d=identicon&r=PG&f=1", "display_name": "dbluesk", "link": "https://stackoverflow.com/users/6029053/dbluesk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "closed_date": 1488999539, "accepted_answer_id": 42679646, "answer_count": 1, "score": 1, "last_activity_date": 1489057866, "creation_date": 1488999166, "question_id": 42679583, "link": "https://stackoverflow.com/questions/42679583/adding-functionality-to-a-default-copy-constructor", "closed_reason": "Duplicate", "title": "Adding functionality to a default copy constructor", "body": "<p>I have a question. Say I have a class A, for which I'm perfectly happy with the default copy constructor. </p>\n\n<p>Can I add functionality to this default copy constructor without re-writing all its work again?</p>\n\n<p>Trivial example:</p>\n\n<pre><code>class A \n{\npublic:\nA(int n) : data(n) { };\nprivate:\nint data;\n};\n</code></pre>\n\n<p>Suppose I want to print the message \"Copy constructor!\" each time a copy constructor is called. For this simple case I would just write my own copy constructor, which takes charge of the shallow copy explicitly, and also prints out the message. Is there a way to add the message printing (or whatever other functionality I want) <em>on top</em> of the default copy constructor, without writing explictly the shallow coyp? </p>\n"}, {"tags": ["c++", "com", "gdi+", "winsock", "istream"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488999122, "post_id": 42679509, "comment_id": 72483367, "body": "Do you create the <code>IStream</code> COM object successfully? I.e. do the <code>CreateStreamOnHGlobal</code> call succeed?"}, {"owner": {"reputation": 11, "user_id": 4455749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7803d0515c5ef888001fddd3ecea4e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jones", "link": "https://stackoverflow.com/users/4455749/mike-jones"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1489000429, "post_id": 42679509, "comment_id": 72484123, "body": "@Someprogrammerdude on the receive end? I just checked it with <code>if (CreateStreamOnHGlobal(NULL, true, &amp;istream) == S_OK)</code> and it succeeds."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4455749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7803d0515c5ef888001fddd3ecea4e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jones", "link": "https://stackoverflow.com/users/4455749/mike-jones"}, "edited": false, "score": 0, "creation_date": 1489005072, "post_id": 42681267, "comment_id": 72486800, "body": "I&#39;ll try that. but as of right now since I&#39;m using my Local address <code>127.0.0.1</code> to listen on so it sends the full buffer in one shot."}, {"owner": {"reputation": 11, "user_id": 4455749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7803d0515c5ef888001fddd3ecea4e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jones", "link": "https://stackoverflow.com/users/4455749/mike-jones"}, "edited": false, "score": 0, "creation_date": 1489005221, "post_id": 42681267, "comment_id": 72486877, "body": "That wasn&#39;t it but thank you. That would have highly effected the application if it didn&#39;t send the full packet."}], "tags": [], "owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1489004769, "creation_date": 1489004769, "answer_id": 42681267, "question_id": 42679509, "link": "https://stackoverflow.com/questions/42679509/istream-com-read-to-buffer-then-send-through-winsock/42681267#42681267", "title": "IStream COM read to buffer then send through winsock", "body": "<p>The data may require multiple <code>recv</code> calls to receive fully. When this happens, <code>Receive_Full_Packet</code> allocates a new buffer for every such call, promptly leaking all but one of them. What it returns to the caller is the last such allocation - a mostly uninitialized buffer full of random garbage, with the last chunk of data at the very end of it.</p>\n\n<p>Move <code>isBuff = new char[Size];</code> line outside the loop, place it right after the first <code>recv</code> call that retrieved the size.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4455749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7803d0515c5ef888001fddd3ecea4e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jones", "link": "https://stackoverflow.com/users/4455749/mike-jones"}, "is_accepted": true, "score": 0, "last_activity_date": 1489116752, "creation_date": 1489116752, "answer_id": 42709699, "question_id": 42679509, "link": "https://stackoverflow.com/questions/42679509/istream-com-read-to-buffer-then-send-through-winsock/42709699#42709699", "title": "IStream COM read to buffer then send through winsock", "body": "<p>Finally Figured it out. Turns out there was absolutely nothing wrong with the way i was sending the buffer. It was actually the <code>CLSID</code>. I ended up putting the <code>GetEncoderClsid</code> function in the receiving end. Works like butter.  </p>\n"}], "owner": {"reputation": 11, "user_id": 4455749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7803d0515c5ef888001fddd3ecea4e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Jones", "link": "https://stackoverflow.com/users/4455749/mike-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 42709699, "answer_count": 2, "score": 0, "last_activity_date": 1489116752, "creation_date": 1488998852, "last_edit_date": 1489005737, "question_id": 42679509, "link": "https://stackoverflow.com/questions/42679509/istream-com-read-to-buffer-then-send-through-winsock", "title": "IStream COM read to buffer then send through winsock", "body": "<p>I've created a server/client through winsock2. Where the client takes a bmp screenshot, compresses it into jpeg and sends it to the server. The problem I'm having is the server is having problems saving the file onto disk. Like the data isn't receiving right. I think it has to do in the way I'm sending or receiving the buffer. </p>\n\n<p>EDIT: From Setting <code>breakpoints</code> during debug it seems as if all the data was received. <code>istream-&gt;Write</code> returns correct number of bytes in correlation with <code>Size</code> and <code>istream-&gt;Seek</code> returns <code>S_OK</code> and the <code>CLSID</code> COM object contains the same data that was sent. Also before I send the buffer I test it to see if it saves and it does. Therefore I'm assuming it has to be the way  Buffer was sent or received. </p>\n\n<p>EDIT:\nOn both ends the buffer looks like <a href=\"https://i.stack.imgur.com/wr3sq.png\" rel=\"nofollow noreferrer\">This</a></p>\n\n<p>Screen Shot plus send code. </p>\n\n<pre><code>    ScreenShot(Packet_Handler* _Handle)\n{\nIStream* istream;\n    //char* Buff;\n    HRESULT res = CreateStreamOnHGlobal(NULL, true, &amp;istream);\n    Gdiplus::GdiplusStartupInput gdiInput;\n    ULONG_PTR gdiToken;\n    Gdiplus::GdiplusStartup(&amp;gdiToken, &amp;gdiInput, NULL);\n    {\n        HDC scrdc, memdc;\n        HBITMAP membit;\n        scrdc = ::GetDC(0);\n        int Height = GetSystemMetrics(SM_CYSCREEN);\n        int Width = GetSystemMetrics(SM_CXSCREEN);\n        memdc = CreateCompatibleDC(scrdc);\n        membit = CreateCompatibleBitmap(scrdc, Width, Height);\n        HBITMAP hOldBitmap = (HBITMAP)SelectObject(memdc, membit);\n        BitBlt(memdc, 0, 0, Width, Height, scrdc, 0, 0, SRCCOPY);\n\n        Gdiplus::Bitmap bitmap(membit, NULL);\n        CLSID clsid;\n        GetEncoderClsid(L\"image/jpeg\", &amp;clsid);\n\n\n        bitmap.Save(istream, &amp;clsid, NULL);\n        bitmap.Save(L\"Test.jpeg\", &amp;clsid, NULL); //THIS WORKS\n        STATSTG pstatstg = { 0 };\n        istream-&gt;Stat(&amp;pstatstg, 0);\n        ULONG Bytes;\n        char* isBuff = new char[pstatstg.cbSize.QuadPart];\n        LARGE_INTEGER li;\n        li.QuadPart = 0;\n        istream-&gt;Seek(li, STREAM_SEEK_SET, NULL);\n        if (istream-&gt;Read(isBuff, pstatstg.cbSize.QuadPart, &amp;Bytes) == S_OK)\n        {\n            IStream* nistream = nullptr;\n            ULONG nBytes;\n            CreateStreamOnHGlobal(NULL, true, &amp;nistream);\n            if (nistream-&gt;Write(isBuff, pstatstg.cbSize.QuadPart, &amp;Bytes) == S_OK)\n            {\n\n                if (nistream-&gt;Seek(li, STREAM_SEEK_SET, NULL) == S_OK)\n\n                {\n                    Gdiplus::Bitmap bitmap2(nistream, NULL);\n                    bitmap2.Save(L\"Testing.jpeg\", &amp;clsid, NULL); //THIS WORKS\n                }\n            }\n        }\n\n        int Size = pstatstg.cbSize.QuadPart;\n        int SOLI = sizeof(ULARGE_INTEGER);\n        int SOCID = sizeof(CLSID);\n        int SOIS = sizeof(IStream);\n\n        Send_Full_Packet(_Handle, &amp;Size, isBuff, TRUE);\n        Send_Full_Packet(_Handle, &amp;SOCID, &amp;clsid, FALSE);\n\n\n\n        printf(\"saving Screenshot\");\n\n\n        DeleteObject(memdc);\n        DeleteObject(membit);\n        ::ReleaseDC(0, scrdc);\n\n    }\n    Gdiplus::GdiplusShutdown(gdiToken);\n    _getch();\n    return 0;\n}\n    void Send_Full_Packet(Packet_Handler* _Handle, int* pSize, void * Buff, bool ispchar)\n    {\n        int SentPackets = 0;\n        int sCheck = 0;\n        int rCheck = 0;\n        int Size = *pSize;\n        char* isBuff;// = new char[Size];\n\n            sCheck = send(_Handle-&gt;ConnectSocket, (char*)&amp;Size, sizeof(int), NULL);\n\n        int PacketsSent = 0;\n        sCheck = 0;\n        int PacketsLeft = Size;\n        while (PacketsSent &lt; Size)\n        {\n            if (ispchar == FALSE)\n            {\n                SentPackets = send(_Handle-&gt;ConnectSocket, (char*)Buff + PacketsSent, PacketsLeft, NULL);\n            }\n            else {\n                isBuff = (char*)Buff;\n                SentPackets = send(_Handle-&gt;ConnectSocket, isBuff + PacketsSent, PacketsLeft, NULL);\n            }\n            if (SentPackets == SOCKET_ERROR)\n            {\n                if (WSAGetLastError() != 10054)\n                {\n                    if (WSAGetLastError() == 10035)\n                    {\n                        SentPackets == 0;\n\n                    }\n                    else\n                    {\n                        printf(\"Sending Socket error: %d\\n\", WSAGetLastError());\n                        break;\n                    }\n\n                }\n            }\n            PacketsSent += SentPackets;\n            PacketsLeft -= SentPackets;\n        }\n\n\n    }\n</code></pre>\n\n<p>Receive code </p>\n\n<pre><code>    ScreenShot_Receive_Thread(Packet_Handler* _Handle)\n{\n\n    Packet_Handler::_Packet_Type Packet = Packet_Handler::_Packet_Type::Remote;\n    while (true)\n    {\n        if (send(_Handle-&gt;si.Connections[_Handle-&gt;si.ConnectionCounter - 1], (char*)&amp;Packet, sizeof(Packet_Handler::_Packet_Type), 0) != INVALID_SOCKET)\n        {\n            while (true)\n            {\n                int Size = 0;\n                char* Buff = NULL;\n                Buff = _Handle-&gt;Receive_Full_Packet(_Handle, &amp;Size, Buff, TRUE);\n                CLSID clsid;\n                int SOCID = sizeof(CLSID);\n                _Handle-&gt;Receive_Full_Packet(_Handle, &amp;SOCID, &amp;clsid, FALSE);\n                IStream* istream = nullptr;\n                ULONG Bytes;\n                CreateStreamOnHGlobal(NULL, true, &amp;istream);\n                if (istream-&gt;Write(Buff, Size, &amp;Bytes) == S_OK)\n                {\n                    LARGE_INTEGER li;\n                    li.QuadPart = 0;\n                    if (istream-&gt;Seek(li, STREAM_SEEK_SET, NULL) == S_OK)\n                    {\n                        Gdiplus::Bitmap bitmap(istream, NULL);\n                        bitmap.Save(L\"Testing.jpeg\", &amp;clsid, NULL);//DOESNT WORK\n                    }\n                }\n\n            }\n        }\n    }\n    MessageBox(NULL, L\"CLient COnnection Error!\", NULL, NULL);\n    return 0;\n}\n\n\n  char* Packet_Handler::Receive_Full_Packet(Packet_Handler * _Handle, int* pSize, void * Buff, bool ispchar)\n{\n    int rCheck = 0;\n    int sCheck = 0;\n    int Size = *pSize;\n    rCheck = recv(_Handle-&gt;si.Connections[_Handle-&gt;si.ConnectionCounter - 1], (char*)&amp;Size, sizeof(int), 0);\n    if (rCheck == -1)\n    {\n        int Error = WSAGetLastError();\n        AllocConsole();\n        freopen(\"CONOUT$\", \"w\", stdout);\n        std::cout &lt;&lt; \"The Error is: \" &lt;&lt; Error &lt;&lt; std::endl;\n    }\n    *pSize = Size;\n    char* isBuff;// = NULL;\n    int PacketsReceived = 0;\n    int PacketsLeft = Size;\n    int ReceivedPackets = 0;\n    while (PacketsReceived &lt; Size)\n    {\n        if (ispchar == FALSE)\n        {\n            ReceivedPackets = recv(_Handle-&gt;si.Connections[_Handle-&gt;si.ConnectionCounter - 1], (char*)Buff + PacketsReceived, PacketsLeft, 0);\n\n        }\n        else\n        {\n            isBuff = new char[Size]; //I Think my problem is here// \n\n            ReceivedPackets = recv(_Handle-&gt;si.Connections[_Handle-&gt;si.ConnectionCounter - 1], isBuff + PacketsReceived, PacketsLeft, 0);\n\n        }\n        if (ReceivedPackets == SOCKET_ERROR)\n        {\n            int Error = WSAGetLastError();\n            if (Error != 10054)\n            {\n                if (Error == 10035  || Error == 6)\n                {\n                    ReceivedPackets == 0;\n                }\n                else\n                {\n                    AllocConsole();\n                    freopen(\"CONOUT$\", \"w\", stdout);\n                    std::cout &lt;&lt; \"The Error is: \" &lt;&lt; Error &lt;&lt; std::endl;\n                    //MessageBox(NULL, (WCHAR*)WSAGetLastError(), NULL, NULL);\n                    _getch();\n                    //return NULL;\n                    break;\n                }\n            }\n        }\n\n        PacketsReceived += ReceivedPackets;\n        PacketsLeft -= ReceivedPackets;\n    }\n    return isBuff;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 12, "creation_date": 1488998200, "post_id": 42679269, "comment_id": 72482797, "body": "Look at <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">operator precedence</a>."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 2, "creation_date": 1488998259, "post_id": 42679269, "comment_id": 72482830, "body": "It would dereference the pointer, and then increment it. You should invest in <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list?lq=1\">a good C++ book</a>"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1488998357, "post_id": 42679269, "comment_id": 72482894, "body": "<code>*xPtr++</code> would be <code>*(xPtr++)</code>"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1488998483, "post_id": 42679269, "comment_id": 72482991, "body": "<code>void foo int * xPtr  {   *xPtr ++; }</code> does not compile.  ;-)"}, {"owner": {"reputation": 3047, "user_id": 446303, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0223ff085aabfc2db1422d5341f28dad?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/446303/max"}, "edited": false, "score": 0, "creation_date": 1488998556, "post_id": 42679269, "comment_id": 72483033, "body": "(whether or not it compiles/runs)Adding parentheses adds code readability."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1488998895, "post_id": 42679269, "comment_id": 72483234, "body": "<i>@Ava</i> Welcome to Stack Overflow. Please take the time to read <a href=\"http://stackoverflow.com/tour\">The Tour</a> and refer to the material from the <a href=\"http://stackoverflow.com/help/asking\">Help Center</a> what and how you can ask here."}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 6008256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xurIEXa_-F8/AAAAAAAAAAI/AAAAAAACIAE/LuiX0JmVpGE/photo.jpg?sz=128", "display_name": "bluegreen", "link": "https://stackoverflow.com/users/6008256/bluegreen"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998523, "creation_date": 1488998523, "answer_id": 42679393, "question_id": 42679269, "link": "https://stackoverflow.com/questions/42679269/what-is-the-difference-for-this-c-code-with-and-without-the-parentheses/42679393#42679393", "title": "What is the difference for this C++ code with and without the parentheses?", "body": "<p>With the parentheses, you increment the object the pointer is referencing, without them, you are incrementing the pointer to the next memory address and THEN dereferencing it (which in this case would do nothing).</p>\n"}, {"tags": [], "owner": {"reputation": 7400, "user_id": 4391177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zEh1N.jpg?s=128&g=1", "display_name": "Sumeet", "link": "https://stackoverflow.com/users/4391177/sumeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998663, "creation_date": 1488998663, "answer_id": 42679447, "question_id": 42679269, "link": "https://stackoverflow.com/questions/42679269/what-is-the-difference-for-this-c-code-with-and-without-the-parentheses/42679447#42679447", "title": "What is the difference for this C++ code with and without the parentheses?", "body": "<p>If parentheses are not there then you are basically modifying the memory address stored inside <code>xPtr</code> and then dereferencing the pointer. So clearly this is not what is desired.</p>\n\n<p>Say we want the value stored at memory location <code>1000</code> to be incremented, but</p>\n\n<pre><code>*xPtr++;\n</code></pre>\n\n<p>results in incrementing the memory location by 4 and then,value at memory location <code>1004</code> is accessed, assuming size of integer on the machine is <code>4 bytes</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998884, "creation_date": 1488998884, "answer_id": 42679521, "question_id": 42679269, "link": "https://stackoverflow.com/questions/42679269/what-is-the-difference-for-this-c-code-with-and-without-the-parentheses/42679521#42679521", "title": "What is the difference for this C++ code with and without the parentheses?", "body": "<p><code>(*xPtr)++</code> will increment the thing <code>xPtr</code> points to.</p>\n\n<p>Postfix <code>++</code> has higher precedence than unary <code>*</code>; without parentheses, the code would be parsed as <code>*(xPtr++)</code> - you're incrementing <code>xPtr</code>, not the thing <code>xPtr</code> points to.</p>\n"}], "owner": {"reputation": 47, "user_id": 7626916, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210506566398027/picture?type=large", "display_name": "Ava", "link": "https://stackoverflow.com/users/7626916/ava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1489191389, "creation_date": 1488998134, "last_edit_date": 1489191389, "question_id": 42679269, "link": "https://stackoverflow.com/questions/42679269/what-is-the-difference-for-this-c-code-with-and-without-the-parentheses", "title": "What is the difference for this C++ code with and without the parentheses?", "body": "<p>What is the purpose of the parentheses in the following piece of code? What would be happening if the parentheses were not there?  Sorry, I am new to C++.</p>\n\n<pre><code>void foo(int * xPtr) {\n  (*xPtr)++;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "visual-studio"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1488998565, "post_id": 42679203, "comment_id": 72483040, "body": "<b><i>I tried to retype all of my code</i></b> Your code is not the problem. Your problem is with the installation of Visual Studio. Perhaps you selected a x64 build and only have the 32 bit sdk installed."}, {"owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489007627, "post_id": 42679203, "comment_id": 72488130, "body": "Is this global or project specific? When I make a simple new project that just prints some text it works fine without errors."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1489008314, "post_id": 42679203, "comment_id": 72488498, "body": "I think it is both. Project specific settings can override the global settings. To me it looks like the answer is on the right path with the new information that you just added in your question."}], "answers": [{"comments": [{"owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "edited": false, "score": 0, "creation_date": 1489007630, "post_id": 42679243, "comment_id": 72488131, "body": "Is this global or project specific? When I make a simple new project that just prints some text it works fine without errors."}], "tags": [], "owner": {"reputation": 778, "user_id": 5687769, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OGS_dHjyp7s/AAAAAAAAAAI/AAAAAAAAACI/tHJG2NuXit4/photo.jpg?sz=128", "display_name": "Ankur  Jyoti Phukan", "link": "https://stackoverflow.com/users/5687769/ankur-jyoti-phukan"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998041, "creation_date": 1488998041, "answer_id": 42679243, "question_id": 42679203, "link": "https://stackoverflow.com/questions/42679203/c-lnk1104-cannot-open-file-kernel32-lib/42679243#42679243", "title": "C++ | LNK1104 - cannot open file kernel32.lib", "body": "<p>Check the VC++ directories, in VS 2010 these can be found in your project properties. Check whether $(WindowsSdkDir)\\lib is included in the directories list, if not, manually add it. If you're building for X64 platform, you should select X64 from the \u201cPlatform\u201d ComboBox, and make sure that $(WindowsSdkDir)\\lib\\x64 is included in the directories list.</p>\n"}], "owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1968, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488998041, "creation_date": 1488997934, "question_id": 42679203, "link": "https://stackoverflow.com/questions/42679203/c-lnk1104-cannot-open-file-kernel32-lib", "title": "C++ | LNK1104 - cannot open file kernel32.lib", "body": "<p>I have a problem when I try to build my C++ console application with Visual Studio. Every time I get the error: <code>LNK1104 - cannot open file kernel32.lib</code></p>\n\n<p>I'm starting to learn C++ by using a tutorial so I'm very new to this. I've tried some things I found on Google and I tried to retype all of my code. </p>\n\n<p>I'm still not sure how to fix this problem. I hope that someone can help me.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["c++", "main"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1488997471, "post_id": 42679000, "comment_id": 72482364, "body": "&quot;I don&#39;t understand, how main function call my own function. &quot; - it doesn&#39;t - it&#39;s called before main and you print out the return value."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1488997754, "post_id": 42679000, "comment_id": 72482516, "body": "Silly stuff and complete misunderstanding needs to read <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">The Definitive C++ Book Guide and List</a>"}], "answers": [{"tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 8, "last_activity_date": 1488997475, "creation_date": 1488997475, "answer_id": 42679038, "question_id": 42679000, "link": "https://stackoverflow.com/questions/42679000/how-main-function-call-in-c/42679038#42679038", "title": "How main function call in C++", "body": "<p>Global variables are initialized <em>before</em> <code>main</code> is called. Therefore the call to <code>myFunc</code> happens before <code>main</code> is called. Your <code>main</code> function doesn't call <code>myFunc</code> at all.</p>\n\n<p>It would have been very obvious if you used a debugger and set breakpoints in the <code>myFunc</code> and <code>main</code> functions, and looking at the call stack.</p>\n"}, {"tags": [], "owner": {"reputation": 2254, "user_id": 4946821, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R7FRn.jpg?s=128&g=1", "display_name": "KelvinS", "link": "https://stackoverflow.com/users/4946821/kelvins"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998233, "creation_date": 1488998233, "answer_id": 42679302, "question_id": 42679000, "link": "https://stackoverflow.com/questions/42679000/how-main-function-call-in-c/42679302#42679302", "title": "How main function call in C++", "body": "<p>As Some programmer dude explained, it is being called before the <code>main</code> function.</p>\n\n<p>To not be confused, I suggest that you explicitly call the <code>myFunc()</code> in the <code>main</code> function:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint myFunc();\n\nint main()\n{\n    int ret = myFunc();\n    cout &lt;&lt; ret &lt;&lt; endl;\n}\n\nint myFunc()\n{\n    int i = 10;\n    int j = 20;\n    return i+j;\n}\n</code></pre>\n"}], "owner": {"reputation": 30168, "user_id": 5612562, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/gzBQY.jpg?s=128&g=1", "display_name": "msc", "link": "https://stackoverflow.com/users/5612562/msc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "closed_date": 1489000469, "accepted_answer_id": 42679038, "answer_count": 2, "score": -5, "last_activity_date": 1489036871, "creation_date": 1488997344, "last_edit_date": 1489036871, "question_id": 42679000, "link": "https://stackoverflow.com/questions/42679000/how-main-function-call-in-c", "closed_reason": "Needs details or clarity", "title": "How main function call in C++", "body": "<p>I have created function and call above the main() function. It is successfully call the function in GCC compiler on Linux platform. I don't understand, how main function call my own function. </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint myFunc();\n\nint ret = myFunc();\n\nint main()\n{\n    cout &lt;&lt; ret &lt;&lt; endl;\n}\n\nint myFunc()\n{\n    int i = 10, j = 20, k;\n    k = i+j;\n    return k;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1489060861, "post_id": 42678942, "comment_id": 72511742, "body": "The explicit instantiations of a template need to be in the same translation unit as the definitions of all the member functions.  You can either do this by #including A.cpp in A.h, or you can do it by putting the explicit instantiations in A.cpp.  You can&#39;t do it in main.cpp."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1489060966, "post_id": 42678942, "comment_id": 72511818, "body": "If you want &quot;generic and use for any type&quot;, you have to put the definition of the functions in the header.  C++ tried <code>export</code> to do what you want, but it turned out not to have any benefits over just including the functions in the header."}, {"owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1489067154, "post_id": 42678942, "comment_id": 72515798, "body": "Thanks @MartinBonner! So to conclude; No, I can&#39;t explicitly instantiate outside of the class? Or can I?"}], "owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1488997277, "answer_count": 0, "score": 0, "last_activity_date": 1489046584, "creation_date": 1488997182, "last_edit_date": 1489046584, "question_id": 42678942, "link": "https://stackoverflow.com/questions/42678942/instantiate-class-template-from-outside-the-class", "closed_reason": "Duplicate", "title": "Instantiate class template from &quot;outside&quot; the class", "body": "<p>I'm trying to create and use a template class, like so:</p>\n\n<p><strong>ClassA.h</strong></p>\n\n<pre><code>#ifndef CLASSA_H\n#define CLASSA_H\n\ntemplate &lt;class T&gt;\nclass ClassA\n{\npublic:\n    ClassA(T value);\n    T getValue();\n\nprivate:\n    T value;\n};\n\n#endif /* CLASSA_H */\n</code></pre>\n\n<p><strong>ClassA.cpp</strong></p>\n\n<pre><code>#include \"ClassA.h\"\n\ntemplate&lt;class T&gt;\nClassA&lt;T&gt;::ClassA(T value) : value(value)\n{\n}\n\ntemplate&lt;class T&gt;\nT ClassA&lt;T&gt;::getValue()\n{\n    return value;\n}\n</code></pre>\n\n<p>Now, to actually use this template class for anything, I have to instantiate the class template with the type(s) I'm going to use, like so:</p>\n\n<pre><code>template class ClassA&lt;int&gt;;\n</code></pre>\n\n<p>I'd rather <em>not</em> have this instantiation in the class header, since the class is generic and I want to (in principle) use it for any type. So I'm trying to put it in my <code>main.cpp</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include \"ClassA.h\"\ntemplate class ClassA&lt;int&gt;;\n\nint main(int argc, char** argv)\n{\n\n    ClassA&lt;int&gt; a(1337);\n    std::cout &lt;&lt; a.getValue() &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>But now, the compiler gives the following error:</p>\n\n<blockquote>\n  <p>main.cpp:10: undefined reference to `ClassA::ClassA(int)'</p>\n</blockquote>\n\n<p>Do I <em>have</em> to instantiate the template class in the class header? Or can I instantiate it somewhere else? Can I instantiate it in the <code>main.cpp</code> at all? If no, why not?</p>\n\n<p><strong>EDIT</strong>: The question referred to when marking this as a duplicate states that you <em>can</em> use explicit instantiations. Not where, which is what I'm asking here.</p>\n"}, {"tags": ["c++", "optimization", "pipeline", "directx-11"], "comments": [{"owner": {"reputation": 7992, "user_id": 2694444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lQntl.jpg?s=128&g=1", "display_name": "galop1n", "link": "https://stackoverflow.com/users/2694444/galop1n"}, "edited": false, "score": 1, "creation_date": 1489000478, "post_id": 42678906, "comment_id": 72484157, "body": "You can just encapsulate the device within a class that does state caching to catch redundancy. usually, perf gain, unless something really bad is done are minimal when you get rid of these calls anyway as driver usually cache and test for unneeded state changes already."}, {"owner": {"reputation": 385, "user_id": 693241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34b2174f917ba7fefae8de703c86d236?s=128&d=identicon&r=PG", "display_name": "TheRarebit", "link": "https://stackoverflow.com/users/693241/therarebit"}, "reply_to_user": {"reputation": 7992, "user_id": 2694444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lQntl.jpg?s=128&g=1", "display_name": "galop1n", "link": "https://stackoverflow.com/users/2694444/galop1n"}, "edited": false, "score": 0, "creation_date": 1489052489, "post_id": 42678906, "comment_id": 72505949, "body": "This is what I&#39;m trying to implement at the moment, designing a Pipeline class which only changes state when necessary, the issue I&#39;m seeing at the minute though is after an initial draw call, the pipeline&#39;s &quot;state&quot; seems to have been reset and I have to set everything up again, e.g. InputTopology, vertex buffers etc."}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 1, "creation_date": 1489082685, "post_id": 42678906, "comment_id": 72526815, "body": "You could take a look at how DirectX12 encapsulates pipeline state (Pipeline State Objects). I&#39;m not suggesting you actually use DirectX 12 unless you are already an expert users of DirectX 11, but the design reflects the preferences of modern GPU hardware."}, {"owner": {"reputation": 6723, "user_id": 1641220, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c5521d1655449e4917d411510df51a05?s=128&d=identicon&r=PG", "display_name": "catflier", "link": "https://stackoverflow.com/users/1641220/catflier"}, "edited": false, "score": 1, "creation_date": 1489274560, "post_id": 42678906, "comment_id": 72601443, "body": "The trick is to balance between minimizing state changes versus spending countless hours debugging invalid states. I  did write this answer a little while ago, might give some insights. <a href=\"http://stackoverflow.com/questions/20300778/are-there-directx-guidelines-for-binding-and-unbinding-resources-between-draw-ca/24106985#24106985\" title=\"are there directx guidelines for binding and unbinding resources between draw ca\">stackoverflow.com/questions/20300778/&hellip;</a> ."}, {"owner": {"reputation": 385, "user_id": 693241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34b2174f917ba7fefae8de703c86d236?s=128&d=identicon&r=PG", "display_name": "TheRarebit", "link": "https://stackoverflow.com/users/693241/therarebit"}, "edited": false, "score": 0, "creation_date": 1489399740, "post_id": 42678906, "comment_id": 72637362, "body": "Cheers for the feedback guys, seems like its a bit of a balancing act and that I may have a bug I need to look at as it seems the pipeline is getting in to an invalid state.  Just to clarify though, with the original example...when the VS is set with the call VSSetShader before object1-&gt;draw(), after the draw call is finished that VS is still bound to the pipeline until I call VSSetShader again right?  ID3D11DeviceContext-&gt;Draw won&#39;t reset that?"}, {"owner": {"reputation": 6723, "user_id": 1641220, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c5521d1655449e4917d411510df51a05?s=128&d=identicon&r=PG", "display_name": "catflier", "link": "https://stackoverflow.com/users/1641220/catflier"}, "edited": false, "score": 1, "creation_date": 1489412472, "post_id": 42678906, "comment_id": 72645269, "body": "@TheRarebit this is correct. Draw does not reset Shader pipeline"}], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 693241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34b2174f917ba7fefae8de703c86d236?s=128&d=identicon&r=PG", "display_name": "TheRarebit", "link": "https://stackoverflow.com/users/693241/therarebit"}, "is_accepted": true, "score": 0, "last_activity_date": 1489406662, "creation_date": 1489406662, "answer_id": 42763223, "question_id": 42678906, "link": "https://stackoverflow.com/questions/42678906/understanding-directx-pipeline-optimisations/42763223#42763223", "title": "Understanding DirectX pipeline optimisations", "body": "<p>just posting an answer to my own question as I've spotted a bug in my test code which was clouding the issue and hopefully this'll help anyone else who sees.</p>\n\n<p>My confusion was to with the fact that in my test code I only had a single object I was rendering, a simple plane.  The only resources it used were a vertex buffer, vertex shader and pixel shader.  I tried adding the optimisations mentioned above to try and reduce the number of ID3D11DeviceContext calls as much as possible.  For this simple object it seemed sensible to me that the  ID3D11DeviceContext calls, e.g. VSSetShader, PSSetShader etc., should only need to be called once because this was the only object was being renderered.  However this was not the case as once the grid had been rendered once it disappeared and never got rendered again.</p>\n\n<p>With the help of RenderDoc I was able to capture a rendered frame and noticed that there were two draw calls being made when I was only expecting one.  I had forgotten that I had a SpriteFont and SpriteBatch class created through DIrectXTK being used to write out my camera position for debugging.  This call  was modifying the pipeline state while bypassing my pipeline class (which was controlling these optimisations) without me realising.  This meant when the grid was rendered for a second time, the pipeline was in the incorrect state.</p>\n\n<p>So it turns out these optimisations are possible and that the pipeline isn't cleared as the result of a draw call.  So if you have something like the above example then its enough to call the context calls once between calls.  I've also learnt that a debugging tool like RenderDoc or Visual Studios built in rendering debugger is vital to tracking these type of issues down.</p>\n"}], "owner": {"reputation": 385, "user_id": 693241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34b2174f917ba7fefae8de703c86d236?s=128&d=identicon&r=PG", "display_name": "TheRarebit", "link": "https://stackoverflow.com/users/693241/therarebit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 42763223, "answer_count": 1, "score": 0, "last_activity_date": 1489406662, "creation_date": 1488997061, "question_id": 42678906, "link": "https://stackoverflow.com/questions/42678906/understanding-directx-pipeline-optimisations", "title": "Understanding DirectX pipeline optimisations", "body": "<p>I'm trying to improve some simple DirectX rendering code I've implemented.  My idea is to only update the rendering pipeline when absolutely necessary because my understanding is it is beneficial to minimise the number of pipeline modifications wherever possible.  What I mean by this is demonstrated in the following pseudocode: </p>\n\n<pre><code>ID3D11VertexShader *t_shader = getVertexShader();\nID3D11DeviceContext-&gt;VSSetShader(t_shader, nullptr, 0);\n// Do some other processing/pipeline setup without modifying t_shader\nID3D11DeviceContext-&gt;VSSetShader(t_shader, nullptr, 0);\nID3D11DeviceContext-&gt;Draw(10, 0);\n</code></pre>\n\n<p>This is inefficient because we're calling VSSetShader twice when the shader hasn't changed.  This is an over simplification but hopefully you get where I'm coming from, my basic understanding is these type of unnecessary binds/calls are inefficient?</p>\n\n<p>If this is the case then is it possible to make the below optimisation between two separate ID3D11DeviceContext::Draw calls? (again pseudocode so please forgive the missing steps and assume all we need to do is set a vertex &amp; pixel shader along with a topology before we draw):</p>\n\n<pre><code>void Object1::Draw() {\n    ID3D11VertexShader *t_vs = ShaderMgr::vertexShader1();\n    ID3D11DeviceContext-&gt;VSSetShader(t_vs, nullptr, 0);\n\n    ID3D11PixelShader *t_ps = ShaderMgr::pixelShader1();\n    ID3D11DeviceContext-&gt;PSSetShader(t_ps, nullptr, 0);\n\n    ID3D11DeviceContext-&gt;IASetPrimitiveTopology(ID3D11_PRIMITIVE_TOPOLOGY_LINELIST);\n    ID3D11DeviceContext-&gt;Draw(m_vertexCount, 0);\n}\n\nvoid Object2::Draw() {\n    ID3D11VertexShader *t_vs = ShaderMgr::vertexShader1();\n    ID3D11DeviceContext-&gt;VSSetShader(t_vs, nullptr, 0);\n\n    // Use a different pixel shader to Object1\n    ID3D11PixelShader *t_ps = ShaderMgr::pixelShader2();\n    ID3D11DeviceContext-&gt;PSSetShader(t_ps, nullptr, 0);\n\n    ID3D11DeviceContext-&gt;IASetPrimitiveTopology(ID3D11_PRIMITIVE_TOPOLOGY_LINELIST);\n    ID3D11DeviceContext-&gt;Draw(m_vertexCount, 0);\n}\n</code></pre>\n\n<p>The only difference between the two draw calls is the use of a different pixel shader.  So is the following a possible optimisation or does each draw call effectively reset the pipeline?</p>\n\n<pre><code>void Object1::Draw() {\n    // Removed common set code\n    ID3D11PixelShader *t_ps = ShaderMgr::pixelShader1();\n    ID3D11DeviceContext-&gt;PSSetShader(t_ps, nullptr, 0);\n    ID3D11DeviceContext-&gt;Draw(m_vertexCount, 0);\n}\n\nvoid Object2::Draw() {   \n    // Removed common set code\n    ID3D11PixelShader *t_ps = ShaderMgr::pixelShader2();\n    ID3D11DeviceContext-&gt;PSSetShader(t_ps, nullptr, 0);\n    ID3D11DeviceContext-&gt;Draw(m_vertexCount, 0);\n}\n\nvoid drawObjects() {\n    // Common states amongst object1 and object2\n    ID3D11VertexShader *t_vs = ShaderMgr::vertexShader1();\n    ID3D11DeviceContext-&gt;VSSetShader(t_vs, nullptr, 0);\n    ID3D11DeviceContext-&gt;IASetPrimitiveTopology(ID3D11_PRIMITIVE_TOPOLOGY_LINELIST);\n\n    m_object1-&gt;draw();\n\n    // Don't bother setting the vs or topology here\n\n    m_object2-&gt;draw();\n}\n</code></pre>\n\n<p>Any feedback/info would be much appreciated.</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 4777, "user_id": 375828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/PZNgw.gif?s=128&g=1", "display_name": "Jason R. Mick", "link": "https://stackoverflow.com/users/375828/jason-r-mick"}, "edited": false, "score": 1, "creation_date": 1488997034, "post_id": 42678886, "comment_id": 72482128, "body": "Note: <code>constexpr</code> is <code>c++11</code> and is unsupported syntax in older versions.  Also its meaning in static and function call contexts has changed in <code>c++17</code>.  For more details see: <a href=\"http://en.cppreference.com/w/cpp/language/constexpr\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/constexpr</a>"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5194223, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8da78c48e0e968627c82d9212cd42195?s=128&d=identicon&r=PG&f=1", "display_name": "japata", "link": "https://stackoverflow.com/users/5194223/japata"}, "edited": false, "score": 0, "creation_date": 1489006792, "post_id": 42679286, "comment_id": 72487694, "body": "Is there a way to use <code>constexpr</code> to create a constant pointer to a constant int?"}, {"owner": {"reputation": 319, "user_id": 5194223, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8da78c48e0e968627c82d9212cd42195?s=128&d=identicon&r=PG&f=1", "display_name": "japata", "link": "https://stackoverflow.com/users/5194223/japata"}, "edited": false, "score": 0, "creation_date": 1489006831, "post_id": 42679286, "comment_id": 72487716, "body": "I can do it with <code>const int *const p = &amp;i;</code>, but not using <code>constexpr</code>."}], "tags": [], "owner": {"reputation": 3419, "user_id": 7422352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c4e9f7e19cb98ee09930bb5454a5e78?s=128&d=identicon&r=PG", "display_name": "Deepak Tatyaji Ahire", "link": "https://stackoverflow.com/users/7422352/deepak-tatyaji-ahire"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998179, "creation_date": 1488998179, "answer_id": 42679286, "question_id": 42678886, "link": "https://stackoverflow.com/questions/42678886/constant-pointer-to-constant-type/42679286#42679286", "title": "Constant Pointer to Constant Type", "body": "<pre><code>  1)Meaning of constexpr int *p = &amp;i;\n    p is const: it cannot be reassigned\n    i can be modified through p\n\n  2)Meaning of const int *p2 = &amp;i; \n    p2 is non-const: it can be reassigned to point to a different int\n    i cannot be modified through p2 without use of a cast\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 5194223, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8da78c48e0e968627c82d9212cd42195?s=128&d=identicon&r=PG&f=1", "display_name": "japata", "link": "https://stackoverflow.com/users/5194223/japata"}, "edited": false, "score": 0, "creation_date": 1489006529, "post_id": 42679761, "comment_id": 72487557, "body": "Thanks for your help. Did something change about <code>constexpr</code> from C++11 to C++14? I&#39;m reading <b>C++ Primer</b> for C++11, and one of the examples straight of the book is:      <code>constexpr const int *p = &amp;i;</code>  But when I try to compile it in a C++14 project, it crashes with <code>&#39;&amp; i&#39; is not a constant expression</code>."}, {"owner": {"reputation": 350, "user_id": 7666352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84712c73aeff03a10973259947054697?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Ozerov", "link": "https://stackoverflow.com/users/7666352/sergei-ozerov"}, "reply_to_user": {"reputation": 319, "user_id": 5194223, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8da78c48e0e968627c82d9212cd42195?s=128&d=identicon&r=PG&f=1", "display_name": "japata", "link": "https://stackoverflow.com/users/5194223/japata"}, "edited": false, "score": 0, "creation_date": 1489049805, "post_id": 42679761, "comment_id": 72504195, "body": "No, as far as I know <code>constexpr</code> hasn&#39;t changed and it won&#39;t make any sense to mark a pointer as constexpr, except for few rare cases where it&#39;s a pointer to static object or function pointer and thereby it can be determined at compile-time. I don&#39;t have this book on hands, but most likely you&#39;ve changed an example from the book in a subtle way (i.e. changed i from static variable to local one)."}], "tags": [], "owner": {"reputation": 350, "user_id": 7666352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84712c73aeff03a10973259947054697?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Ozerov", "link": "https://stackoverflow.com/users/7666352/sergei-ozerov"}, "is_accepted": false, "score": 0, "last_activity_date": 1488999747, "last_edit_date": 1495542709, "creation_date": 1488999747, "answer_id": 42679761, "question_id": 42678886, "link": "https://stackoverflow.com/questions/42678886/constant-pointer-to-constant-type/42679761#42679761", "title": "Constant Pointer to Constant Type", "body": "<p>This code is invalid C++ and in most cases won't even compile. \nYou were probably interested in this article:\n<a href=\"https://stackoverflow.com/questions/1143262/what-is-the-difference-between-const-int-const-int-const-and-int-const\">What is the difference between const int*, const int * const, and int const *?</a></p>\n\n<p>All three declarations</p>\n\n<pre><code>const int const* p2 = &amp;i;\nconst int * p2 = &amp;i;\nint const* p2 = &amp;i;\n</code></pre>\n\n<p>are just different ways to write the same thing: a (non-const pointer) to (const int). Most compilers will balk when it's declared like in your code through, because it's not a standard C++ and a likely error. </p>\n\n<p>You will be able to write</p>\n\n<pre><code>p2 = p3; // assign value of (pointer p3) to (pointer p2)\n</code></pre>\n\n<p>because (pointer) is not const, but not </p>\n\n<pre><code>*p2 = *p3; // assign (object) pointed by (pointer p3) to (object) pointed by (pointer p2)\n</code></pre>\n\n<p>because (object) that is pointed by a pointer is const (const int in this case)</p>\n\n<p>But if you will write</p>\n\n<pre><code>int * const p2 = &amp;i;\n</code></pre>\n\n<p>then it'll be a (const pointer) pointing to (int) object. Then things will be completely opposite:</p>\n\n<pre><code>p2 = p3; // don't work\n*p2 = *p3; // work!\n</code></pre>\n\n<p>You can also write const int * const to prohibit both options or don't use const to allow both.</p>\n\n<p>Constexpr is a very different keyword. Rather than say that it's simply a (const object), it says that it's a (const object with value known at compile time). Most \"const objects\" in C++ are not 'constants' in mathematical sense since they could be different in different runs of same program. They are <em>created at runtime</em> and we just tell compiler that we're not going to change them later. On the other hands, 'constexpr' means that it's a 'real' constant that is defined once and for all. It's always the same and thereby it gets hardcoded in compiled binary code. Since you are beginner, think about it as a fancy C++ version of #define. In your case you tried to declare a pointer to const int to be constexpr, but it won't happen since this pointer is going to be different in different runs of your program and cannot be determined at compile time. </p>\n"}], "owner": {"reputation": 319, "user_id": 5194223, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8da78c48e0e968627c82d9212cd42195?s=128&d=identicon&r=PG&f=1", "display_name": "japata", "link": "https://stackoverflow.com/users/5194223/japata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1488999747, "creation_date": 1488996959, "question_id": 42678886, "link": "https://stackoverflow.com/questions/42678886/constant-pointer-to-constant-type", "title": "Constant Pointer to Constant Type", "body": "<p>I'm just starting to learn about C++, so forgive me if this is obvious. What is the difference between the below pointers?</p>\n\n<pre><code>const int i = 42;\nconstexpr const int *p = &amp;i;\nconst int const* p2 = &amp;i;\n</code></pre>\n\n<p>To me, it seems like they are both constant pointers to a constant int. Is there a difference? When would I use each type of declaration?</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["c++", "python-3.x", "cython", "cythonize"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1488997516, "post_id": 42678779, "comment_id": 72482383, "body": "Do you understand this part of the documenatation?  <a href=\"http://cython.readthedocs.io/en/latest/src/tutorial/strings.html#c-strings\" rel=\"nofollow noreferrer\">cython.readthedocs.io/en/latest/src/tutorial/&hellip;</a>.  I&#39;m still working on it."}, {"owner": {"reputation": 8116, "user_id": 41977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/023502bc59aa91844fd7eb1fa00c593f?s=128&d=identicon&r=PG&f=1", "display_name": "gc5", "link": "https://stackoverflow.com/users/41977/gc5"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1488998755, "post_id": 42678779, "comment_id": 72483148, "body": "Thanks. Actually, I managed to pass the string following this table <a href=\"http://cython.readthedocs.io/en/latest/src/userguide/language_basics.html#automatic-type-conversions\" rel=\"nofollow noreferrer\">cython.readthedocs.io/en/latest/src/userguide/&hellip;</a> . Is the use of <code>libcpp.string</code> and <code>std::string</code>, that I think you are proposing, better than passing <code>bytes</code> to <code>char*</code> and then converting the return value (with type <code>bytes</code>) to <code>str</code>?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1489000753, "post_id": 42678779, "comment_id": 72484312, "body": "The documentation page that I linked seems to have a low opinion of <code>C</code> char strings, especially since Py3 uses <code>unicode</code>.  But what&#39;s best may depend on what you are doing with the strings in <code>C++</code>."}, {"owner": {"reputation": 8116, "user_id": 41977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/023502bc59aa91844fd7eb1fa00c593f?s=128&d=identicon&r=PG&f=1", "display_name": "gc5", "link": "https://stackoverflow.com/users/41977/gc5"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1489001199, "post_id": 42678779, "comment_id": 72484606, "body": "The fact is I am interfacing an old legacy code and I have still little experience with cython. If you may put the more suited way to do it with <code>libcpp.string</code> as an answer I can accept it."}], "answers": [{"comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1489052883, "post_id": 42691660, "comment_id": 72506243, "body": "Is the memory that <code>fun</code> returns allocated using <code>malloc</code>? If it is then you may also need to free it too. If not then this should be fine."}, {"owner": {"reputation": 8116, "user_id": 41977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/023502bc59aa91844fd7eb1fa00c593f?s=128&d=identicon&r=PG&f=1", "display_name": "gc5", "link": "https://stackoverflow.com/users/41977/gc5"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1489054194, "post_id": 42691660, "comment_id": 72507164, "body": "In this particular case not, but it may be useful. How can I do it? Feel free to modify the answer accordingly."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 1, "creation_date": 1489072001, "post_id": 42691660, "comment_id": 72519322, "body": "I&#39;ve edited it how you&#39;d do this. If you want to structure it differently then feel free to change it too"}], "tags": [], "owner": {"reputation": 8116, "user_id": 41977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/023502bc59aa91844fd7eb1fa00c593f?s=128&d=identicon&r=PG&f=1", "display_name": "gc5", "link": "https://stackoverflow.com/users/41977/gc5"}, "is_accepted": true, "score": 4, "last_activity_date": 1489140953, "last_edit_date": 1495542715, "creation_date": 1489052205, "answer_id": 42691660, "question_id": 42678779, "link": "https://stackoverflow.com/questions/42678779/how-to-pass-string-from-python3-to-cythonized-c-function/42691660#42691660", "title": "How to pass string from Python3 to cythonized C++ function", "body": "<p>Aside from mistakes in the original code, I managed to make it work with the following <code>source.pyx</code> (translation between <code>bytes</code> type in Python3 and <code>char*</code> in C++):</p>\n\n<pre><code>cdef extern from \"source.cpp\":\n  cdef char* fun(char* param)\n\ndef pyfun(mystring):\n  mystring_b = mystring.encode('utf-8')\n  rvalue = fun(mystring_b).decode('utf-8')\n  return rvalue\n</code></pre>\n\n<p>If the memory is allocated using <code>malloc</code> within <code>fun</code> it will also need to be freed, otherwise there will be a memory leak (when working with C pointers it's always worth considering who owns the memory). A modified version that does this is:</p>\n\n<pre><code>from libc.stdlib cimport free\n\n# cdef extern as before\n\ndef pyfun(mystring):\n    cdef char* value_from_fun\n    mystring_b = mystring.encode('utf-8')\n    value_from_fun = fun(mystring_b)\n    try:    \n        return value_from_fun.decode('utf-8')\n    finally:\n        free(value_from_fun)\n</code></pre>\n\n<p>The type conversions act in the same way as before.</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>As per <a href=\"https://stackoverflow.com/users/901925/hpaulj\">hpaulj</a>'s comment in the original question, here is the version with <code>libcpp.string</code> which maps C++ <code>std::string</code> defined in <code>&lt;string&gt;</code>:</p>\n\n<pre><code>from libcpp.string cimport string\n\ncdef extern from \"source.cpp\":\n  cdef string fun(string param)\n\ndef pyfun(mystring):\n  mystring_ = mystring.encode('utf-8')\n  rvalue = fun(mystring_).decode('utf-8')\n  return rvalue\n</code></pre>\n"}], "owner": {"reputation": 8116, "user_id": 41977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/023502bc59aa91844fd7eb1fa00c593f?s=128&d=identicon&r=PG&f=1", "display_name": "gc5", "link": "https://stackoverflow.com/users/41977/gc5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 1, "accepted_answer_id": 42691660, "answer_count": 1, "score": 3, "last_activity_date": 1489140953, "creation_date": 1488996597, "last_edit_date": 1489052232, "question_id": 42678779, "link": "https://stackoverflow.com/questions/42678779/how-to-pass-string-from-python3-to-cythonized-c-function", "title": "How to pass string from Python3 to cythonized C++ function", "body": "<p>I am trying to understand how to pass string values between Python3 and cythonized C++ function. However I am unable to build the library with Cython.</p>\n\n<p>In particular, I didn't understand how to declare the string return value and string parameter in the <code>source.pyx</code>. With the int type it works correctly.</p>\n\n<p>The error I get during build with clang is the following:</p>\n\n<pre><code>candidate function not viable: no known conversion from 'PyObject *' (aka '_object *') to 'char *' for 1st argument\n</code></pre>\n\n<p>My <code>source.pyx</code> is the following:</p>\n\n<pre><code>cdef extern from \"source.cpp\":\n  cdef str fun(str param)\n\ndef pyfun(mystring):\n  return fun(mystring)\n</code></pre>\n\n<p>My <code>source.cpp</code> is:</p>\n\n<pre><code>char * fun(char *string) {\n  return string;\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv"], "owner": {"reputation": 99, "user_id": 1121163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caae9ab5017f5fd5063450ace45887dd?s=128&d=identicon&r=PG", "display_name": "Pedro Jos&#233; Cardoso", "link": "https://stackoverflow.com/users/1121163/pedro-jos%c3%a9-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488996290, "creation_date": 1488996290, "question_id": 42678681, "link": "https://stackoverflow.com/questions/42678681/grabcut-mask-values", "title": "Grabcut mask values", "body": "<p>The documentation for GrabCut says this about the mask parameter: </p>\n\n<blockquote>\n  <p>@param mask Input/output 8-bit single-channel mask. The mask is initialized by the function when\n   mode is set to GC_INIT_WITH_RECT. Its elements may have one of the cv::GrabCutClasses.</p>\n</blockquote>\n\n<p>The first time I invoke grabCut it runs successfully and the mask is initialised. But the second time I do it, using the mask and mode == GC_INIT_WITH_MASK, I get the following error:</p>\n\n<blockquote>\n  <p>OpenCV Error: Bad argument (mask element value must be equal GC_BGD or GC_FGD or GC_PR_BGD or GC_PR_FGD) in checkMask, file /Volumes/build-storage/build/master_iOS-mac/opencv/modules/imgproc/src/grabcut.cpp, line 337</p>\n</blockquote>\n\n<p>The values in the mask matrix are either 0 or 255, when I was expecting 0-3. Does this make sense? I am doing anything wrong? </p>\n"}, {"tags": ["java", "c++", "java-native-interface"], "answers": [{"tags": [], "owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1488996852, "creation_date": 1488996852, "answer_id": 42678857, "question_id": 42678626, "link": "https://stackoverflow.com/questions/42678626/jnienv-getmethodid-for-createrealmatrixdouble-data-in-org-apache-commons/42678857#42678857", "title": "JNIEnv-&gt;GetMethodID for createRealMatrix(double [][] data) in org/apache/commons/math3/linear/MatrixUtils", "body": "<p>That method is a static method. You need to use <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#GetStaticMethodID\" rel=\"nofollow noreferrer\"><code>GetStaticMethodID()</code></a> instead.</p>\n"}], "owner": {"reputation": 6673, "user_id": 287592, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ivBC8.png?s=128&g=1", "display_name": "Matthew Hoggan", "link": "https://stackoverflow.com/users/287592/matthew-hoggan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 42678857, "answer_count": 1, "score": 0, "last_activity_date": 1488996852, "creation_date": 1488996122, "question_id": 42678626, "link": "https://stackoverflow.com/questions/42678626/jnienv-getmethodid-for-createrealmatrixdouble-data-in-org-apache-commons", "title": "JNIEnv-&gt;GetMethodID for createRealMatrix(double [][] data) in org/apache/commons/math3/linear/MatrixUtils", "body": "<p>This is a snippet of what I have:</p>\n\n<pre><code>...\njclass jrmc = jenv-&gt;FindClass(\"org/apache/commons/math3/linear/MatrixUtils\");\njmethodID jmid = jenv-&gt;GetMethodID(jrmc, \"createRealMatrix\",\n    \"([[D)Lorg/apache/commons/math3/linear/RealMatrix;\");\n....\n</code></pre>\n\n<p>Based on my understanding from <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.6/src-html/org/apache/commons/math3/linear/MatrixUtils.html#line.127\" rel=\"nofollow noreferrer\">org.apache.commons.math3.linear.MatrixUtils</a> and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/types.html\" rel=\"nofollow noreferrer\">JNI Type Doc</a> this seems like it should find the method. Obviously I am missing something.</p>\n\n<p>Why is the code above not working? Note jrmc is not 0 it is the call to <code>GetMethodID</code> that is causing the issue (<code>java.lang.NoSuchMethodError</code>).</p>\n"}, {"tags": ["c++", "interpolation", "cgal"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 2966089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRVmC.jpg?s=128&g=1", "display_name": "Jeff Jiang", "link": "https://stackoverflow.com/users/2966089/jeff-jiang"}, "edited": false, "score": 0, "creation_date": 1489285353, "post_id": 42685455, "comment_id": 72603516, "body": "So its a bug in CGAL still unfixed yet ... thanks. I might switch to use QHULL for this purpose."}], "tags": [], "owner": {"reputation": 403, "user_id": 707946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af884ddc94ffa409f7fbbe45f4bf6925?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/707946/adrian"}, "is_accepted": true, "score": 0, "last_activity_date": 1489025810, "creation_date": 1489025810, "answer_id": 42685455, "question_id": 42678527, "link": "https://stackoverflow.com/questions/42678527/cgal-interpolation-on-triangular-grid-get-stuck/42685455#42685455", "title": "CGAL interpolation on triangular grid get stuck", "body": "<p>This reminds me of a problem with random_polygon_2() getting stuck if the points are aligned, discussed here: \n<a href=\"http://cgal-discuss.949826.n4.nabble.com/random-polygon-2-gets-stuck-possible-CGAL-bug-td4659470.html\" rel=\"nofollow noreferrer\">http://cgal-discuss.949826.n4.nabble.com/random-polygon-2-gets-stuck-possible-CGAL-bug-td4659470.html</a></p>\n\n<p>I'd suggest to try running your code with the set of points from Sebastien's answer. Your problem might also be related to points being aligned (just a guess).</p>\n"}], "owner": {"reputation": 9, "user_id": 2966089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRVmC.jpg?s=128&g=1", "display_name": "Jeff Jiang", "link": "https://stackoverflow.com/users/2966089/jeff-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 42685455, "answer_count": 1, "score": 0, "last_activity_date": 1489025810, "creation_date": 1488995822, "question_id": 42678527, "link": "https://stackoverflow.com/questions/42678527/cgal-interpolation-on-triangular-grid-get-stuck", "title": "CGAL interpolation on triangular grid get stuck", "body": "<p>To interpolate from a set of scattered points (e.g. gridding them onto regular grids), Delaunay_triangulation_2 is used to build the triangle mesh, natural_neighbor_coordinates_2() and linear_interpolation() are used for interpolation.</p>\n\n<p>A problem I encountered is that when the input points are from some regular grids, the interpolation process could get \"stuck\" at some output location: the process is occupied by natural_neighbor_coordinates_2() but it never returns. It will run through if random noise is added onto the coordinates of the input points.</p>\n\n<p>Wonder if anyone also had this problem and what is the solution. Adding random noise is OK but affects the accuracy of interpolation.</p>\n\n<p>The scripts for interpolation are as below (I am using Armadillo for matrix)</p>\n\n<pre><code>typedef CGAL::Exact_predicates_inexact_constructions_kernel K;\ntypedef K::FT                                         Coord_type;\nDelaunay_triangulation T;\narma::fmat points = ... ; //matrix saving point coordinates and function value\nfloat output_x=...,output_y=...; //location for interpolation\nstd::map&lt;Point, Coord_type, K::Less_xy_2&gt; function_values;\n// build mesh\nfor (long long i=0;i&lt;points.n_cols;i++)\n{\n    K::Point_2 p(points(0,i),points(1,i));\n    T.insert(p);\n    function_values.insert(std::make_pair(p,points(2,i)));\n}\n// interpolate\nK::Point_2 p(output_x,output_y);\nstd::vector&lt; std::pair&lt; Point, Coord_type &gt; &gt; coords;\nCoord_type norm = CGAL::natural_neighbor_coordinates_2(T, p,         std::back_inserter(coords)).second;\nCoord_type res =  CGAL::linear_interpolation(coords.begin(), coords.end(), norm, Value_access(function_values)); //res is the interpolation result.\n</code></pre>\n"}, {"tags": ["c++", "qt", "qwidget", "qcustomplot"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7871563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1891920574399195/picture?type=large", "display_name": "\u5f20\u6d2a\u6770", "link": "https://stackoverflow.com/users/7871563/%e5%bc%a0%e6%b4%aa%e6%9d%b0"}, "is_accepted": false, "score": 1, "last_activity_date": 1516957029, "last_edit_date": 1516957029, "creation_date": 1516953160, "answer_id": 48457507, "question_id": 42678373, "link": "https://stackoverflow.com/questions/42678373/qcustomplot-adding-qcustomitemtext/48457507#48457507", "title": "QCustomPlot adding QCustomItemText", "body": "<p>On line 79 in the <code>changelog.txt</code> file, which exists in the <code>QcustomPlot</code> install path, you'll see that it reads:</p>\n\n<blockquote>\n  <p>Removed <code>QCustomPlot::addItem</code>, not needed anymore as items now\n  automatically register in their constructor.</p>\n</blockquote>\n\n<p>So you don't need <code>currentWidget-&gt;addIem(itemText)</code>;</p>\n"}], "owner": {"reputation": 1645, "user_id": 7549615, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a2eeb4134293d2ad6c1b22410dc61c83?s=128&d=identicon&r=PG&f=1", "display_name": "Vino", "link": "https://stackoverflow.com/users/7549615/vino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516957029, "creation_date": 1488995276, "question_id": 42678373, "link": "https://stackoverflow.com/questions/42678373/qcustomplot-adding-qcustomitemtext", "title": "QCustomPlot adding QCustomItemText", "body": "<p>I am trying add a text item onto a <code>QCustomPlot</code> widget. The <code>QCPItemText</code> constructor takes a pointer to <code>QCustomPlot</code> widget as an argument. </p>\n\n<blockquote>\n  <p><code>QCPItemText::QCPItemText ( QCustomPlot *  parentPlot)</code></p>\n</blockquote>\n\n<p>After creating the <code>QCPItemText</code> object, it can added to the widget by using the member function, <code>QCustomPlot::addItem()</code>. But my problem is the program doesn't compile. It says there no member function called <code>QCustomPlot::addItem()</code>. But this <a href=\"http://www.qcustomplot.com/index.php/tutorials/items\" rel=\"nofollow noreferrer\">example</a> seems do this. I am confused.</p>\n\n<p>This is part of my code;</p>\n\n<pre><code>    //hash out current widget\n    QCustomPlot *currentWidget = GraphWindow::dynamicWidgetHash.value(slot);\n\n   //Setup font\n    QFont plotFont;\n    plotFont.setStyleHint(QFont::Helvetica);\n    plotFont.setBold(true);\n    plotFont.setWeight(8);\n    plotFont.setPointSize(16);\n\n    GraphWindow::setupBackground(slot);        \n    QCPItemText itemText(currentWidget);\n    QString dataText = \"No \" + xLabel + \" data found. \\nPossibly the firm may not possess \" + xLabel;\n    itemText.setText(dataText);\n    itemText.setPositionAlignment(Qt::AlignTop|Qt::AlignCenter);\n    itemText.position-&gt;setType(QCPItemPosition::ptAxisRectRatio);\n    itemText.position-&gt;setCoords(2,2);\n    itemText.setFont(plotFont);\n    itemText.setPen(QPen(Qt::white));\n</code></pre>\n\n<p>Where <code>dynamicWidgetHash</code> is a <code>QHash</code> object, which stores a <code>QCustomPlot *</code> for each given <code>key</code>.</p>\n\n<p>The error occurs when I try to use this line</p>\n\n<blockquote>\n  <p><code>currentWidget-&gt;addIem(itemText);</code></p>\n</blockquote>\n"}, {"tags": ["c++", "templates", "enable-if"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1488995503, "post_id": 42678338, "comment_id": 72481257, "body": "Do note that <code>long double</code> can be larger than <code>double</code>.  Also <code>long long</code> is a minimum of 64 bits but could be larger."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1488996165, "post_id": 42678338, "comment_id": 72481640, "body": "Fix the <a href=\"http://coliru.stacked-crooked.com/a/5c085b6a1f9b5a20\" rel=\"nofollow noreferrer\">obvious stuff</a> first?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1488996271, "post_id": 42678338, "comment_id": 72481688, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I believe that&#39;s what he&#39;s asking, how to fix that error."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1488996798, "post_id": 42678338, "comment_id": 72481977, "body": "@JustinTime Woin&#39;t help much in the long term."}, {"owner": {"reputation": 1432, "user_id": 924369, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/17b20b7e999004135efa9b8e6d69b7b0?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/924369/glenn"}, "edited": false, "score": 0, "creation_date": 1488998590, "post_id": 42678338, "comment_id": 72483060, "body": "My actual usage is somewhat different so I simplified the problem to ask the question by throwing in a simple double type.  Have no worries, I&#39;m not trying to stuff a larger type into a smaller allocation.  Thanks for the sharp eyes though as that could have been really important and might save someone else reading this."}], "answers": [{"tags": [], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "is_accepted": false, "score": 15, "last_activity_date": 1488997583, "creation_date": 1488997583, "answer_id": 42679086, "question_id": 42678338, "link": "https://stackoverflow.com/questions/42678338/using-enable-if-with-struct-specialization/42679086#42679086", "title": "Using enable_if with struct specialization", "body": "<p>You can do this by adding a second parameter to the primary template, then specialising to match it; you were on the right track, but didn't do it correctly.</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;type_traits&gt;\n// template &lt;typename T&gt; struct storage_type;                // Don't use this one.\ntemplate &lt;typename T, typename T2=void&gt; struct storage_type; // Use this one instead.\ntemplate &lt;&gt; struct storage_type&lt;const char *&gt; { typedef std::string type; };\ntemplate &lt;&gt; struct storage_type&lt;std::string&gt; { typedef std::string type; };\n\n// This is a partial specialisation, not a separate template.\ntemplate &lt;typename T&gt; \nstruct storage_type&lt;T, typename std::enable_if&lt;std::is_arithmetic&lt;T&gt;::value&gt;::type&gt; {\n    typedef double type;\n};\n\n// Use the storage_type template to allocate storage\ntemplate&lt;typename T&gt;\nclass MyStorage {\n  public:\n  typename storage_type&lt;T&gt;::type storage;\n};\n\nMyStorage&lt;std::string&gt; s;  // uses std::string\nMyStorage&lt;const char *&gt; s2; // uses std::string\nMyStorage&lt;float&gt; f;  // uses 'double'\n\n// -----\n\nstruct S {};\n\n//MyStorage&lt;S&gt; breaker; // Error if uncommented.\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/22ec22a454565d77\" rel=\"noreferrer\">And voila</a>.</p>\n"}], "owner": {"reputation": 1432, "user_id": 924369, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/17b20b7e999004135efa9b8e6d69b7b0?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/924369/glenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4859, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1488997583, "creation_date": 1488995168, "question_id": 42678338, "link": "https://stackoverflow.com/questions/42678338/using-enable-if-with-struct-specialization", "title": "Using enable_if with struct specialization", "body": "<p>I am attempting to define a template that will will specify a storage type given another type T.  I'd like to use enable_if to catch all the arithmetic types.  Below is my attempt at this which complains the template is redeclared with 2 parameters.  I tried adding a 2nd dummy parm to the primary template but get a different error. How can this be done?</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;type_traits&gt;\ntemplate &lt;typename T&gt; struct storage_type; // want compile error if no match\n// template &lt;typename T, typename T2=void&gt; struct storage_type; // no joy\ntemplate &lt;&gt; struct storage_type&lt;const char *&gt; { typedef std::string type; };\ntemplate &lt;&gt; struct storage_type&lt;std::string&gt; { typedef std::string type; };\ntemplate &lt;typename T, typename std::enable_if&lt;std::is_arithmetic&lt;T&gt;::value&gt;::type* = nullptr&gt; \n    struct storage_type { typedef double type; };\n\n// Use the storage_type template to allocate storage\ntemplate&lt;typename T&gt;\nclass MyStorage {\n  public:\n  typename storage_type&lt;T&gt;::type storage;\n};\n\nMyStorage&lt;std::string&gt; s;  // uses std::string\nMyStorage&lt;const char *&gt; s2; // uses std::string\nMyStorage&lt;float&gt; f;  // uses 'double'\n</code></pre>\n"}, {"tags": ["c++", "qt", "qt5", "qplaintextedit", "qtooltip"], "answers": [{"comments": [{"owner": {"reputation": 868, "user_id": 6997733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07112547a85bc1d739c6c612bceda0c?s=128&d=identicon&r=PG", "display_name": "user7179690", "link": "https://stackoverflow.com/users/6997733/user7179690"}, "edited": false, "score": 0, "creation_date": 1489001804, "post_id": 42678659, "comment_id": 72484983, "body": "Thank you for this really helpful answer but is there any way to select just highlight word? if there any option cursor.select(QTextCursor::Highlight); or something like that"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 4, "last_activity_date": 1488996223, "creation_date": 1488996223, "answer_id": 42678659, "question_id": 42677963, "link": "https://stackoverflow.com/questions/42677963/how-to-create-tooltip-for-highlighted-strings-in-qplaintextedit/42678659#42678659", "title": "how to create tooltip for highlighted strings in QPlainTextEdit", "body": "<p>For this case I will create a class that inherits from QPlainTextEdit, reimplement the <code>event()</code> method and enable mouse tracking with <code>setMouseTracking()</code></p>\n\n<p><strong>plaintextedit.h</strong></p>\n\n<pre><code>#ifndef PLAINTEXTEDIT_H\n#define PLAINTEXTEDIT_H\n\n#include &lt;QPlainTextEdit&gt;\n\nclass PlainTextEdit : public QPlainTextEdit\n{\npublic:\n    PlainTextEdit(QWidget *parent=0);\n\n    bool event(QEvent *event);\n};\n\n#endif // PLAINTEXTEDIT_H\n</code></pre>\n\n<p><strong>plaintextedit.cpp</strong></p>\n\n<pre><code>#include \"plaintextedit.h\"\n#include &lt;QToolTip&gt;\n\n\nPlainTextEdit::PlainTextEdit(QWidget *parent):QPlainTextEdit(parent)\n{\n    setMouseTracking(true);\n}\n\nbool PlainTextEdit::event(QEvent *event)\n{\n    if (event-&gt;type() == QEvent::ToolTip)\n    {\n        QHelpEvent* helpEvent = static_cast&lt;QHelpEvent*&gt;(event);\n        QTextCursor cursor = cursorForPosition(helpEvent-&gt;pos());\n        cursor.select(QTextCursor::WordUnderCursor);\n        if (!cursor.selectedText().isEmpty())\n            QToolTip::showText(helpEvent-&gt;globalPos(), /*your text*/QString(\"%1 %2\").arg(cursor.selectedText()).arg(cursor.selectedText().length()) );\n\n        else\n            QToolTip::hideText();\n        return true;\n    }\n    return QPlainTextEdit::event(event);\n}\n</code></pre>\n\n<p>Complete Code: <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/ToolTipExample\" rel=\"nofollow noreferrer\">Here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1941, "user_id": 1641845, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4vbV6.png?s=128&g=1", "display_name": "namezero", "link": "https://stackoverflow.com/users/1641845/namezero"}, "is_accepted": false, "score": 1, "last_activity_date": 1578660181, "creation_date": 1578660181, "answer_id": 59681949, "question_id": 42677963, "link": "https://stackoverflow.com/questions/42677963/how-to-create-tooltip-for-highlighted-strings-in-qplaintextedit/59681949#59681949", "title": "how to create tooltip for highlighted strings in QPlainTextEdit", "body": "<p>@eyllanesc's answer is great, but I would like to add that if you have viewport margins set, the position must be adjusted because otherwise it will be offset, and an incorrect cursor position reported.</p>\n\n<p>The doc for <code>cursorForPosition()</code> states</p>\n\n<blockquote>\n  <p>returns a QTextCursor at position pos (in <strong>viewport coordinates</strong>). <em>emphasis added</em></p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>bool PlainTextEdit::event(QEvent *event)\r\n{\r\n    if (event-&gt;type() == QEvent::ToolTip)\r\n    {\r\n        QHelpEvent* helpEvent = static_cast&lt;QHelpEvent*&gt;(event);\r\n        \r\n        QPoint pos = helpEvent-&gt;pos();\r\n        pos.setX(pos.x() - viewportMargins().left());\r\n        pos.setY(pos.y() - viewportMargins().top());\r\n        \r\n        QTextCursor cursor = cursorForPosition(pos);\r\n        cursor.select(QTextCursor::WordUnderCursor);\r\n        if (!cursor.selectedText().isEmpty())\r\n            QToolTip::showText(helpEvent-&gt;globalPos(), /*your text*/QString(\"%1 %2\").arg(cursor.selectedText()).arg(cursor.selectedText().length()) );\r\n\r\n        else\r\n            QToolTip::hideText();\r\n        return true;\r\n    }\r\n    return QPlainTextEdit::event(event);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 868, "user_id": 6997733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07112547a85bc1d739c6c612bceda0c?s=128&d=identicon&r=PG", "display_name": "user7179690", "link": "https://stackoverflow.com/users/6997733/user7179690"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 2, "accepted_answer_id": 42678659, "answer_count": 2, "score": 4, "last_activity_date": 1578666984, "creation_date": 1488994018, "last_edit_date": 1578666984, "question_id": 42677963, "link": "https://stackoverflow.com/questions/42677963/how-to-create-tooltip-for-highlighted-strings-in-qplaintextedit", "title": "how to create tooltip for highlighted strings in QPlainTextEdit", "body": "<p>I have a QPlainTextEdit and have some words highlighted in it now I want when I hover over it with the mouse it show me a tooltip that has description or something like that about this highlighted word something like this in QT IDE</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q9CCL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9CCL.png\" alt=\"enter image description here\"></a></p>\n\n<p>but I don't know how to start this so any idea, code or similar project to check this.</p>\n"}, {"tags": ["c++", "switch-statement", "break", "dev-c++", "c++builder-6"], "comments": [{"owner": {"reputation": 613, "user_id": 3112926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b33809c5d0f78b110e8613c9e5972dd5?s=128&d=identicon&r=PG&f=1", "display_name": "JGroven", "link": "https://stackoverflow.com/users/3112926/jgroven"}, "edited": false, "score": 2, "creation_date": 1488994254, "post_id": 42677903, "comment_id": 72480425, "body": "You should get a good c++ book.  Pretty much any one you pick up will cover switches and loops."}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1488994773, "post_id": 42678031, "comment_id": 72480778, "body": "Three of your cases won&#39;t be handled."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1488995847, "post_id": 42678031, "comment_id": 72481462, "body": "@LightnessRacesinOrbit: Typo fixed thanks to Amit Kumar."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 2, "last_activity_date": 1488995801, "last_edit_date": 1488995801, "creation_date": 1488994230, "answer_id": 42678031, "question_id": 42677903, "link": "https://stackoverflow.com/questions/42677903/repeat-statement-for-switch-case/42678031#42678031", "title": "Repeat statement for switch case", "body": "<p>Put a <code>while</code> around the <code>switch</code>:</p>\n\n<pre><code>while (true) {\n    int choose = askChoice();\n    switch (choose)\n    {\n        case 1: AddInstagramID(); break;\n        case 2: LookAllData(); break;\n        case 3: LookPreviousData(); break;\n        case 4: LookNextData(); break;\n        case 5: return 0;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7091081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64cd5792c1f29ce9833ea550242d47ed?s=128&d=identicon&r=PG&f=1", "display_name": "NorthernOsprey", "link": "https://stackoverflow.com/users/7091081/northernosprey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1488995801, "creation_date": 1488993880, "question_id": 42677903, "link": "https://stackoverflow.com/questions/42677903/repeat-statement-for-switch-case", "title": "Repeat statement for switch case", "body": "<p>So I want make the program that can input data many times, for example I choose case 1 again after I use case 1 to input data. Or I choose case 2 many times to see all data as I want.</p>\n\n<p>Mostly said break statement bring the solution. But, when I using break statement after case, the program was terminated. So how I can make repeat switch statement without make terminating program?</p>\n\n<p>If I make this, the switch case happen sequentially. Example, I can input case 1 normally but when I input case 1 again it will go to next case instead case 1 and vice versa until exit case. This is my source code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#pragma hdrstop\n\nusing namespace std;\n\nstruct ig\n{\nint id;\nstring name;\nig *next;\nig *prev;\n};\nig *head= NULL;\nig *tail= NULL;\n\n//---------------------------------------------------------------------------\n\nint main(int argc, char** argv) \n{\n\ncout&lt;&lt;\"+---------------------------------------+\"&lt;&lt;endl;\ncout&lt;&lt;\"|    Instagram User Data |\"&lt;&lt;endl;\ncout&lt;&lt;\"+---------------------------------------+\"&lt;&lt;endl;\ncout&lt;&lt;\"|1. Add Instagram ID     |\"&lt;&lt;endl;\ncout&lt;&lt;\"|2. Look All Data            |\"&lt;&lt;endl;\ncout&lt;&lt;\"|3. Look Previous Data       |\"&lt;&lt;endl;\ncout&lt;&lt;\"|4. Look Next Data       |\"&lt;&lt;endl;\ncout&lt;&lt;\"|5. Exit             |\"&lt;&lt;endl;\ncout&lt;&lt;\"+---------------------------------------+\"&lt;&lt;endl;\nint choose,l;\ncout&lt;&lt;\"your choices (1/2/3/4/5): \";cin&gt;&gt;choose;\nswitch(choose)\n{\n    case 1:\n        {\n            cout&lt;&lt;\"Input limit : \";cin&gt;&gt;l;\n\n            for(int a=1;a&lt;=l;a++)\n            {\n                ig *new= new ig;\n                new-&gt;next=NULL;\n                new-&gt;prev=NULL;\n                cout&lt;&lt;\"Entry Number : \";cin&gt;&gt;new-&gt;id;\n                cout&lt;&lt;\"Instagram ID : \";cin&gt;&gt;new-&gt;name;\n                cout&lt;&lt;\"====================\"&lt;&lt;endl;\n\n                if(head== NULL)\n                {\n                    head=new;\n                    tail=new;\n                }\n                else\n                {\n                    new-&gt;prev=tail;\n                    tail-&gt;next=new;\n                    tail=new;\n                }\n            }\n        }\n\n    cout&lt;&lt;\"your choices (1/2/3/4/5)\";cin&gt;&gt;choose;\n    case 2:\n        {\n            while(head!= NULL)\n            {\n                cout&lt;&lt;head-&gt;id&lt;&lt;endl;\n                cout&lt;&lt;head-&gt;name&lt;&lt;endl;\n                head=head-&gt;next;\n            }\n        }\n    cout&lt;&lt;\"your choices (1/2/3/4/5)\";cin&gt;&gt;choose;\n    case 3:\n        {\n            if(tail=NULL)\n            {\n            ig *show;\n            show=head;\n            while(show!= NULL)\n                {\n                    cout&lt;&lt;head-&gt;id&lt;&lt;endl;\n                    cout&lt;&lt;head-&gt;name&lt;&lt;endl;\n                    head=head-&gt;prev;\n                }   \n            }\n            else\n            {\n                cout&lt;&lt;\"Data belum terisi\"&lt;&lt;endl;\n            }\n        }\n    cout&lt;&lt;\"your choices (1/2/3/4/5)\";cin&gt;&gt;choose;\n    case 4:\n        {\n            ig *show;\n            show=tail;\n            while(show!= NULL)\n            {\n                cout&lt;&lt;tail-&gt;id&lt;&lt;endl;\n                cout&lt;&lt;tail-&gt;name&lt;&lt;endl;\n                tail=tail-&gt;next;\n            }\n        }\n    cout&lt;&lt;\"your choices (1/2/3/4/5)\";cin&gt;&gt;choose;\n    case 5:\n        {\n            return 0;\n        }\n}\n}\n</code></pre>\n\n<p>I tried to learn the logic of statement and the solution many times, but still unsuccessful. So I need help here, thank you</p>\n"}, {"tags": ["python", "c++", "python-2.7", "opencv"], "comments": [{"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1488995922, "post_id": 42677845, "comment_id": 72481499, "body": "<a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.ConvexHull.html\" rel=\"nofollow noreferrer\">this</a>. Let me know if you want it coded, I&#39;ll post it as an answer"}, {"owner": {"reputation": 6620, "user_id": 1374416, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pRcqb.jpg?s=128&g=1", "display_name": "Razgriz", "link": "https://stackoverflow.com/users/1374416/razgriz"}, "reply_to_user": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1489023979, "post_id": 42677845, "comment_id": 72494208, "body": "@RickM. Would you kindly code it out? I&#39;d like to see it used for my case."}, {"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1489048743, "post_id": 42677845, "comment_id": 72503551, "body": "Sure. I will do it over the weekend."}, {"owner": {"reputation": 1836, "user_id": 8368351, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cA0x6.png?s=128&g=1", "display_name": "lucians", "link": "https://stackoverflow.com/users/8368351/lucians"}, "reply_to_user": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1516572648, "post_id": 42677845, "comment_id": 83731452, "body": "@RickM. still no code ahahahaha"}], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 3558624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxDNo.png?s=128&g=1", "display_name": "James Cramer", "link": "https://stackoverflow.com/users/3558624/james-cramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1499871756, "creation_date": 1499871756, "answer_id": 45061359, "question_id": 42677845, "link": "https://stackoverflow.com/questions/42677845/python-2-opencv-2-convex-hull-to-close-an-open-canny-edge/45061359#45061359", "title": "Python 2 OpenCV 2 - Convex Hull to close an open Canny Edge?", "body": "<p>Here's a solution using OpenCV only, worked great for me:  </p>\n\n<pre><code>mask = cv2.Canny(gray, lowerThresh, upperTresh)\ncnts = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\nfor i, cnt in enumerate(cnts):\n    cnts[i] = cv2.convexHull(cnts[i])\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 6620, "user_id": 1374416, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pRcqb.jpg?s=128&g=1", "display_name": "Razgriz", "link": "https://stackoverflow.com/users/1374416/razgriz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1605, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538604885, "creation_date": 1488993748, "last_edit_date": 1538604885, "question_id": 42677845, "link": "https://stackoverflow.com/questions/42677845/python-2-opencv-2-convex-hull-to-close-an-open-canny-edge", "title": "Python 2 OpenCV 2 - Convex Hull to close an open Canny Edge?", "body": "<p>I'm creating a Python program that will take an image (photo of a bed), then run Canny Edge detection, then run a Convex Hull Contour Detection in order to figure out where the bed is. </p>\n\n<p>Here is my image (pardon the ugly Photoshop Job)</p>\n\n<p><a href=\"https://i.stack.imgur.com/jFTOu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jFTOu.jpg\" alt=\"bed\"></a></p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>import numpy as np\nimport argparse\nimport glob\nimport cv2\nimport sys\n\nfrom pyimagesearch import imutils\nfrom skimage import exposure\n\n\ndef auto_canny(image, sigma = 0.35):\n    # compute the mediam of the single channel pixel intensities\n    v = np.median(image)\n\n    # apply automatic Canny edge detection using the computed median\n    lower = int(max(0, (1.0 - sigma) * v))\n    upper = int(min(255, (1.0 + sigma) *v))\n    edged = cv2.Canny(image, lower, upper)\n\n    # return edged image\n    return edged\n\nimage = cv2.imread(\"bed_cv.jpg\")\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\nblurred = cv2.GaussianBlur(gray, (3, 3), 0)\n\nwide = auto_canny(blurred, 0.35)\ntight = auto_canny(blurred, 0.95)\nauto = auto_canny(blurred)\n\n\n\ncv2.imshow(\"Original\", image)\ncv2.imshow(\"Edges\", tight)\n\ncv2.waitKey(0)\n</code></pre>\n\n<p>What we basically do here is we get the image, turn in to gray, blur it, then run canny edge detection. </p>\n\n<p>Here is the output I get so far:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RptfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RptfH.png\" alt=\"Output\"></a></p>\n\n<p>What I want to do next is to run a Convex Hull Contour Detection so the top right corner of the bed will be closed off, and hopefully, get a nice rectangle estimation of where the bed is. </p>\n\n<p>Right now I'm stuck mainly because I'm not sure how to use the hull points? I tried something like:</p>\n\n<pre><code>hull = cv2.convexHull(cnts, returnPoints = False)\n</code></pre>\n\n<p>But I didn't know what to do after. </p>\n\n<p>My main lead right now is <a href=\"http://answers.opencv.org/question/74777/how-to-use-approxpolydp-to-close-contours/\" rel=\"nofollow noreferrer\">this post from the opencv website</a>. It's exactly what I need. His initial output were two sets of edges that were disconnected and the answer managed to connect them. However, I am rather rusty with my C++ and I'm not sure how to convert the C++ code into Python. And I think that if I get a Python version of this, my problem is basically solved.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 3, "creation_date": 1488993737, "post_id": 42677678, "comment_id": 72480106, "body": "<i>&quot;top() should change after pop(), right?&quot;</i> -- not necessarily if there are multiple elements with the same value. What is the value of the other element? Try printing <code>top()</code> before pushing."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1488993819, "post_id": 42677678, "comment_id": 72480163, "body": "Start with std::priority_queue&lt;int&gt;. Does it work as you expect?"}, {"owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "edited": false, "score": 0, "creation_date": 1488994135, "post_id": 42677678, "comment_id": 72480359, "body": "What does <code>tostring(PendingPrepare)</code> look like?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1488994865, "post_id": 42677678, "comment_id": 72480850, "body": "Present your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 1, "creation_date": 1488994893, "post_id": 42677678, "comment_id": 72480865, "body": "@BenjaminLindley: In fact <i>just today</i> I realised some of my production software accidentally assumes stability of elements with duplicate keys in <code>std::priority_queue</code> :( #coincidence #irony #fixednow"}, {"owner": {"reputation": 1, "user_id": 7048902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SUntGbGZSeM/AAAAAAAAAAI/AAAAAAAAAAA/rXFTVJ0J8-Q/photo.jpg?sz=128", "display_name": "Spencer Torene", "link": "https://stackoverflow.com/users/7048902/spencer-torene"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1488995088, "post_id": 42677678, "comment_id": 72480991, "body": "@BenjaminLindley, the elements don&#39;t have the same value. I printed top() before pushing as requested, and indeed they are different values."}, {"owner": {"reputation": 1, "user_id": 7048902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SUntGbGZSeM/AAAAAAAAAAI/AAAAAAAAAAA/rXFTVJ0J8-Q/photo.jpg?sz=128", "display_name": "Spencer Torene", "link": "https://stackoverflow.com/users/7048902/spencer-torene"}, "reply_to_user": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "edited": false, "score": 0, "creation_date": 1489081794, "post_id": 42677678, "comment_id": 72526346, "body": "@1201ProgramAlarm: You got me to the problem, thank you! I made the terrible assumption that the two pointers in the PendingPrepare struct would never both simultaneously be != NULL. On occasion, they each were new()ed, which was corrected with better copy constructors and operator= functions."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7048902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SUntGbGZSeM/AAAAAAAAAAI/AAAAAAAAAAA/rXFTVJ0J8-Q/photo.jpg?sz=128", "display_name": "Spencer Torene", "link": "https://stackoverflow.com/users/7048902/spencer-torene"}, "is_accepted": false, "score": 0, "last_activity_date": 1489081938, "creation_date": 1489081938, "answer_id": 42702221, "question_id": 42677678, "link": "https://stackoverflow.com/questions/42677678/c-priority-queue-pop-and-top-discrepancy/42702221#42702221", "title": "C++ priority_queue pop() and top() discrepancy", "body": "<p>Thanks to everyone for your assistance. Actually looking at the PendingPrepare contents solved the problem. I made the terrible assumption that only one of the pointers would be instantiated at a time, when there were occasions when both were instantiated, confusing the PendCompare comparison class.</p>\n\n<p>Better copy constructors that deleted and NULLed the other pointer to avoid multiple instantiations solved the problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 7048902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SUntGbGZSeM/AAAAAAAAAAI/AAAAAAAAAAA/rXFTVJ0J8-Q/photo.jpg?sz=128", "display_name": "Spencer Torene", "link": "https://stackoverflow.com/users/7048902/spencer-torene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489081938, "creation_date": 1488993284, "last_edit_date": 1488995399, "question_id": 42677678, "link": "https://stackoverflow.com/questions/42677678/c-priority-queue-pop-and-top-discrepancy", "title": "C++ priority_queue pop() and top() discrepancy", "body": "<p>I'm having a hard time understanding why a priority_queue pop() call is not removing the top() element. The priority queue has a custom comparison structure so that lower numbers have higher priority (and therefore should be retrieved with top()).</p>\n\n<p>The debugging text (below) shows the top() element remains the same even after a pop().</p>\n\n<p>Even if we make the assumption that the comparison structure is somehow wrong, top() should change after pop(), right? What else can I look at to understand why this is happening. The priority_queue code itself is a little inscrutable to me at the moment...</p>\n\n<p>Note that this behavior is not consistent. There are other times when top() changes after a pop().</p>\n\n<p>Any ideas? Thanks!</p>\n\n<p>Debugging text (edited with top() shown before push():</p>\n\n<pre><code>size BEFORE push(): 1 TOP: [1488994840.745965281:0106996627] APPENDING: [1488994840.746157190:0106996627]\nsize  AFTER push(): 2 TOP: [1488994840.745965281:0106996627]\nsize BEFORE  pop(): 2 TOP: [1488994840.745965281:0106996627]\nsize  AFTER  pop(): 1 TOP: [1488994840.745965281:0106996627] // &lt;- same top()!!\n</code></pre>\n\n<p>Where I push() to the priority_queue:</p>\n\n<pre><code>void Replica::appendPrepareOK(const PrepareOK &amp;prepareOK) {\n    PendingPrepare tmpPrepareOK = prepareOK;\n\n    lock_guard&lt;mutex&gt; lck (this-&gt;lockPendingPrepare);\n\n    this-&gt;logprint(3, \"size BEFORE push(): \" + to_string(this-&gt;pendingPrepare.size()) + \" APPENDING: \" + to_string(tmpPrepareOK));\n\n    this-&gt;pendingPrepare.push(tmpPrepareOK);\n\n    this-&gt;logprint(3, \"size  AFTER push(): \" + to_string(this-&gt;pendingPrepare.size()) + \" TOP: \" + to_string(this-&gt;pendingPrepare.top()));\n}\n</code></pre>\n\n<p>Where I pop() from the priority_queue:</p>\n\n<pre><code>void Replica::sendPendingCmds() {\n    ClockCommand *prepareCmd = NULL;\n    PrepareOK *prepareOKCmd = NULL;\n    Broadcast *broadcastCmd = NULL;\n\n    {\n        lock_guard&lt;mutex&gt; lck(this-&gt;lockPendingPrepare);\n\n        if (! this-&gt;pendingPrepare.empty()) {\n            this-&gt;logprint(3, \"size BEFORE pop(): \" + to_string(this-&gt;pendingPrepare.size()) + \" TOP: \" + to_string(this-&gt;pendingPrepare.top()));\n\n            PendingPrepare firstCommand = this-&gt;pendingPrepare.top();\n            this-&gt;pendingPrepare.pop();\n\n            if (! this-&gt;pendingPrepare.empty()) {\n                this-&gt;logprint(3, \"size  AFTER pop(): \" + to_string(this-&gt;pendingPrepare.size()) + \" TOP: \" + to_string(this-&gt;pendingPrepare.top()));\n            }\n            else {\n                this-&gt;logprint(3, \"size  AFTER pop(): \" + to_string(this-&gt;pendingPrepare.size()));\n            }\n</code></pre>\n\n<p>Definition of the priority_queue:</p>\n\n<pre><code>typedef priority_queue&lt;PendingPrepare, deque&lt;PendingPrepare&gt;, PendCompare&gt; pendQueue;\n</code></pre>\n\n<p>Custom PendCompare comparison class:</p>\n\n<pre><code>class PendCompare {\npublic:\n    bool operator() (const PendingPrepare &amp;a, const PendingPrepare &amp;b) const {\n        if (a.prepareOK != NULL) {\n            if (b.prepareOK != NULL) { return a.prepareOK-&gt;tsOK &gt; b.prepareOK-&gt;tsOK; }\n            else if (b.prepare != NULL) { return a.prepareOK-&gt;tsOK &gt; b.prepare-&gt;ts; }\n        }\n        else if (a.prepare != NULL) {\n            if (b.prepareOK != NULL) { return a.prepare-&gt;ts &gt; b.prepareOK-&gt;tsOK; }\n            else if (b.prepare != NULL) { return a.prepare-&gt;ts &gt; b.prepare-&gt;ts; }\n        }\n\n        return false;\n    }\n};\n</code></pre>\n\n<p>Relevant parts of the PendingPrepare struct:</p>\n\n<pre><code>struct PendingPrepare {\n    ClockCommand* prepare = NULL;\n    PrepareOK* prepareOK = NULL;\n\n    void operator=(const PrepareOK &amp;b) {\n        this-&gt;prepareOK = new PrepareOK(b);\n    }\n};\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 2, "creation_date": 1488993414, "post_id": 42677646, "comment_id": 72479893, "body": "This means <code>registrador_nivel</code>&#39;s compiled code was not found. The linker must be able to find the object file (the <code>.o</code> file) which is produced when you compile the file that contains the code of <code>registrador_nivel</code>. Do you want more explanations?"}, {"owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "reply_to_user": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488993661, "post_id": 42677646, "comment_id": 72480059, "body": "Yes please !! Do you need any .cpp ?"}, {"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488993807, "post_id": 42677646, "comment_id": 72480152, "body": "Well, I can&#39;t tell you exactly what you need to do to solve your problem because there is <i>so much</i> code. Next time, you should make a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>. But I can write an answer to explain why you get that sort of error."}, {"owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "reply_to_user": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488994456, "post_id": 42677646, "comment_id": 72480556, "body": "Ok I get it. Sorry for the huge info, but actually I do not understand your statement, can you give me an small example so I could adapt it to my situation? I dont understand what .o file is.  @Anthony D."}, {"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488994543, "post_id": 42677646, "comment_id": 72480621, "body": "Yes, wait a few minutes while I write my answer."}, {"owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "reply_to_user": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488994714, "post_id": 42677646, "comment_id": 72480747, "body": "Well I simply added &quot;char registrador_nivel&quot; in the arduino sketch as a global variable and the error has gone. I guess that&#39;s the missing link, right?"}, {"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "edited": false, "score": 0, "creation_date": 1488994787, "post_id": 42677646, "comment_id": 72480793, "body": "Yes, that would solve the compilation problem. It doesn&#39;t mean your program will work correctly though."}, {"owner": {"reputation": 1532, "user_id": 3445587, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39d178f7cb102a4fa8eafd497f023f5e?s=128&d=identicon&r=PG&f=1", "display_name": "overseas", "link": "https://stackoverflow.com/users/3445587/overseas"}, "edited": false, "score": 0, "creation_date": 1488999889, "post_id": 42677646, "comment_id": 72483805, "body": "This is way to much code, you should provide a MCVE and add approrpiate tags."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "edited": false, "score": 1, "creation_date": 1489683012, "post_id": 42678800, "comment_id": 72789495, "body": "Really much thanks, @Anthony D.  Your explanation was a charm. Solution number 3 seem to be my case. Thanks a lot"}, {"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "reply_to_user": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "edited": false, "score": 0, "creation_date": 1489683163, "post_id": 42678800, "comment_id": 72789597, "body": "@Rezik Does everything work as expected? The fact that it compiles does not mean that it necessarily works."}, {"owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "edited": false, "score": 0, "creation_date": 1489683659, "post_id": 42678800, "comment_id": 72789936, "body": "Yes indeed. It is compiling right now. Unfortunately this project requires a bigger enviroment to be fully tested. The further I&#39;ve tested is ok, still need to fix some problems in the eletric painel and also implement THREADS, I&#39;ve never worked with this before... that&#39;s my next challenge haha.. @Anthony D."}, {"owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "reply_to_user": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "edited": false, "score": 0, "creation_date": 1489683825, "post_id": 42678800, "comment_id": 72790064, "body": "@Rezik Good luck on multithreading! This is also on the list of things I would like to learn on my own, along with web programming, artificial intelligence, language theory... and <i>many</i> other things that I don&#39;t even remember right now."}], "tags": [], "owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "is_accepted": false, "score": 1, "last_activity_date": 1505000146, "last_edit_date": 1505000146, "creation_date": 1488996649, "answer_id": 42678800, "question_id": 42677646, "link": "https://stackoverflow.com/questions/42677646/compiler-linker-error/42678800#42678800", "title": "Compiler Linker error?", "body": "<h1>Linker problems</h1>\n\n<p>This error means that <code>registrador_nivel</code> is supposed to exist somewhere, but the linker could not find where. I can't tell exactly what your problem is because you have <em>so much code</em>.</p>\n\n<p>Let me show you an example that will produce the error you just got. Let's assume I only have this file:</p>\n\n<pre><code>// main.cpp\nextern char registrador_nivel;\n\nint main() {\n    registrador_nivel = 2;\n}\n</code></pre>\n\n<p>The line <code>extern char registrador_nivel;</code> tells your compiler that, <em>somewhere</em>, you have a global variable called <code>registrador_nivel</code>. However, <code>main.cpp</code> <em>does not specify where <code>registrador_nivel</code> is</em>. It only says that <code>registrador_nivel</code> exists somewhere.</p>\n\n<p>The line <code>registrador_nivel = 2;</code> tries to change the value of <code>registrador_nivel</code>. You still don't know <em>where</em> <code>registrador_nivel</code> is. You just know you have to change it.</p>\n\n<p>The object file (<code>main.o</code> file) will be produced during the compilation. It is a file that contains the same thing as <code>main.cpp</code>, but it a format that is more understandable to the computer. So <code>main.o</code> still doesn't say where <code>registrador_nivel</code> is.</p>\n\n<p>Now, you want to make the final executable from the <code>main.o</code> file. The linker tries to find where <code>registrador_nivel</code> actually is. To do that, it looks inside static libraries (<code>.lib</code> and <code>.a</code> files) as well as other object files (<code>.o</code> files). If no library or object file says where <code>registrador_nivel</code> is, then the linker will send the error <code>undefined reference to registrador_nivel</code>.</p>\n\n<hr>\n\n<h1>Typical solutions</h1>\n\n<p>Once again, I can't tell you exactly what you have to do to solve your problem ; I can only guess.</p>\n\n<ol>\n<li><p>Are you using static libraries (<code>.lib</code> or <code>.a</code> files)? Since I see in your code that you talk about <em>Bibliotecas</em>, I guess that's your problem. Maybe <code>registrador_nivel</code> is defined in a library. In that case, you should link against these libraries. You're following a tutorial, aren't you? Your tutorial probably says what library to link against, and how.</p></li>\n<li><p>Are you sure you compiled all the files you should be compiling? If you aren't then you might be missing the <code>.o</code> file where <code>registrador_nivel</code> is, so your linker can't find it.</p></li>\n<li><p>If you're compiling everything you should be and you're linking against all static libraries you should be, then maybe they require you to declare <code>registrador_nivel</code>. In that case, try declaring a global variable called <code>registrador_nivel</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 7679559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48356503cf0d1cd5aa88daed8ea0b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rezik", "link": "https://stackoverflow.com/users/7679559/rezik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1489683100, "answer_count": 1, "score": -2, "last_activity_date": 1505000146, "creation_date": 1488993183, "question_id": 42677646, "link": "https://stackoverflow.com/questions/42677646/compiler-linker-error", "closed_reason": "Duplicate", "title": "Compiler Linker error?", "body": "<p>I'm programming for Arduino and since I'm a beginner when I get this error message I'm unable to interpret it in order to solve it.</p>\n\n<p>\"<em>C:\\Users\\VITOR~1.NUN\\AppData\\Local\\Temp\\ccmmwX2d.ltrans0.ltrans.o: In function <code>setup':\nccmmwX2d.ltrans0.o:(.text+0x16a): undefined reference to</code>registrador_nivel'\nC:\\Users\\VITOR~1.NUN\\AppData\\Local\\Temp\\ccmmwX2d.ltrans4.ltrans.o: In function <code>AutoCampLib::Registrador::debug(char*)':\nccmmwX2d.ltrans4.o:(.text+0xae0): undefined reference to</code>registrador_nivel'\ncollect2.exe: error: ld returned 1 exit status</em>\"</p>\n\n<p><strong>This is my lib :</strong> </p>\n\n<pre><code>    #ifndef LIBAC_H\n#define LIBAC_H\n#define DEBUG\n/***************************************************/\n/********************Bibliotecas********************/\n/***************************************************/\n/*           Biblioteca padr\u00e3o do Arduino          */\n#include &lt;Arduino.h&gt;\n/* Bibliotecas de data/hora para m\u00f3dulo DS1307 RTC */\n#include &lt;Wire.h&gt;\n#include &lt;RTClib.h&gt;\n#include &lt;Time.h&gt;\n#include &lt;TimeLib.h&gt;\n#include &lt;TimeAlarms.h&gt;\n\n\n/* Bibliotecas de leitura e escrita para m\u00f3dulo SD */\n#include &lt;SD.h&gt;\n#include &lt;SPI.h&gt;\n/*    Biblioteca do m\u00f3dulo ultrass\u00f4nico HC-SR04    */\n#include &lt;Ultrasonic.h&gt;\n/*    Biblioteca de Lista Encadeada    */\n#include &lt;LinkedList.h&gt;\n/*    Biblioteca de Threads    */\n#include \"Thread.h\"\n#include \"ThreadController.h\"\n\n/*    Biblioteca de HashMap    */\n#include &lt;HashMap.h&gt;\n\n/***************************************************/\n/******************Mapa da Pinagem******************/\n/***************************************************/\n\n#define PINO_SD_CS 53\n#define setor_1   23\n#define setor_2   25\n#define setor_3   42\n#define setor_4   43\n#define setor_5   44\n#define setor_6   45\n#define setor_7   12\n#define setor_8   13\n#define setor_9   22\n#define setor_10  24\n#define setor_11  26\n#define setor_12  28\n#define setor_13  30\n#define setor_14  32\n#define setor_15  34\n#define DesligaBombaCaptacao 31\n#define LigaBombaCaptacao 33\n#define DesligaBombaInjec   35\n#define LigaBombaInjec  37\n#define valvulaDescarte 46\n#define DesligaPaMistura    39\n#define LigaPaMistura   41\n#define silo_1  10\n#define silo_2  11\n#define valvulaL2   29\n#define contraLavagem 27\n#define segundosUmaSemana 604800\n#define TEMPO_OCIOSO 300\n#define pinoInterruptTanque 0   // corresponde ao pino 2\n#define pinoInterruptSilo 1     // corresponde ao pino 3\n#define pinoInterruptInjec 2    // corresponde ao pino 4\n#define pinoSensorTanque    6\n#define pinoSensorSilo  5\n#define pinoSensorInjec 8    \n#define boiaInferior 7\n#define boiaSuperior 9 \n#define VOLUME_PURGA 100  // em Litros\n\n\n#define ULTIMA_MENSAGEM \"Ultima.msg\"\n#define SILOS_PRODUTOS \"Silos.cfg\"\n#define PROGRAMACAO \"Ferti.cal\"\n#define CONFIGURACAO \"Start.cfg\"\n#define RETROLAVAGEM \"Retrolavagem.cal\"\n#define DADOS \"AutoCamp.nfo\"\n#define LOG \"AutoCamp.log\"\n#define BACKUP \"Backup.log\"\n\nnamespace AutoCampLib {\n\n    class Mensageiro\n    {\n        public:\n            Mensageiro();\n            void lerSerial();\n            void enviar1099();\n\n        private:\n            bool guardarMensagem(char mensagem[]);\n            bool tratarMensagem();\n            void tratar2001();\n            void tratar2002();\n            void tratar2003();\n            void tratar2101();\n            void tratar2901();\n            void tratar2902();\n            void tratar2903();\n            void tratar2904();\n            void tratar2905();\n            void tratar2999();\n            void enviar1001();\n            void enviar1002();\n            void enviar1003();\n            void enviar1004();\n            void enviar1005();\n            void lerArquivo(String nome);\n            void escreverArquivo(String nome, int identificacao);\n            bool verificaLetra(char caracter);\n    };\n\n    class Registrador\n    {\n        public:\n            static void debug(char mensagem[]);\n            static void info(char mensagem[]);\n            static void warn(char mensagem[]);\n            static void error(char mensagem[]);\n\n        private:\n            static void escreverRegistro(char mensagem[],char tipo[]);\n            static void verificarTamanho();\n            static String buscarDataHora();\n    };\n\n    class Fertilizantes\n    {\n        public :\n            void setSilo(char *s);\n            void setVol(float volumeFert);\n            char *getSilo();\n            float getVol();\n            void setPortaSilo(int portasilo);\n            int getPortaSilo();\n\n\n        private :\n            char _silo[8];\n            float volumeF;\n            int _portasilo;\n    };\n\n    class Eventos\n    {\n        public :\n            Eventos();\n            void setSetor(int setor);\n            void setDuracao(int duracao);\n            void setSequencial(int sequencial);\n            void setVolumeH2O(float volumeAgua);\n            void setPorta(int porta);\n            int getPorta();\n            int getSetor();\n            int getDuracao();\n            int getSequencial();\n            float getVolumeH2O();\n            //void setFertilizantes(LinkedList&lt;Fertilizantes*&gt;);\n            //LinkedList&lt;Fertilizantes*&gt; getFertilizantes();\n            Fertilizantes* getFertilizante(int posicao);\n            void addFertilizante(Fertilizantes* fertilizante);\n            int sizeFertilizantes();\n\n\n\n        private :\n            int _setor;\n            int _porta;\n            float _duracao;\n            int _sequencial;\n            float _volumeH2O;\n            LinkedList&lt;Fertilizantes*&gt; _fertilizantes;\n    };\n\n    class Agendamentos\n    {\n        public:\n            Agendamentos();\n            void setDia(int dia);\n            void setHora(int hora);\n            void setMinuto(int minuto);\n            void setSegundo(int segundo);\n            int getDia();\n            int getHora();\n            int getMinuto();\n            int getSegundo();\n            //LinkedList&lt;Eventos*&gt; getEventos();\n            Eventos* getEvento(int posicao);\n            void addEvento(Eventos* evento);\n            int sizeEventos();\n\n        private :\n            int _dia;\n            int _hora;\n            int _minuto;\n            int _segundo;\n            int posicao;\n            LinkedList&lt;Eventos*&gt; _eventos;\n    };\n\n    class Start \n    {\n\n        public :\n            void setPressurizacao (int pressurizacao);\n            void setTroca (int troca);\n            void setInjecao(int injecao);\n            void setAtraso( int atraso);\n            void setOrdem(int ordem);\n            void setBase(float base);\n            void setTopo(float topo);\n            void setAltura(float altura);\n            void setSiloSTART(char *p);\n            void setPino(int pino);\n            void openReadStart(Start *start);\n            void leCaracter(char c, File file);\n\n            int getPressurizacao();\n            int getTroca();\n            int getInjecao();\n            int getAtraso();\n            int getOrdem();\n            float getBase();\n            float getTopo();\n            float getAltura();\n            char *getSiloSTART();\n            int getPino();\n\n        private :\n            Start *start;\n            File startcfg;\n            int pr;\n            int troca;\n            int inj;\n            int atraso;\n            int seq;\n            int pino;\n            float base;\n            float topo;\n            float altura;\n            char charLido;\n\n            int _pressurizacao;\n            int _troca;\n            int _injecao;\n            int _atraso;\n            int _ordem;\n            float _base;\n            float _topo;\n            float _altura;\n            char _silostart[8];\n            int _pino;\n    };\n\n\n   class Util \n   {\n\n        public :\n            static double calculaVolume(byte sensorInterrupt,byte sensorPin, float volumeDesejado);\n            static void contadorPulso();\n\n   }; \n\n\n   class SensorNivel: public Thread \n    {\n        public : bool shouldRun(long time);\n                 void run();\n\n        private : int estado;    \n    };\n\n\n    class Programas: public Thread\n    {\n        public :   bool shouldRun(long time);\n                   void run();\n\n        private :  unsigned long tempo;\n                   DateTime now ;\n    };\n\n    class RecuperaIrriga: public Thread\n    {\n        public : \n                 bool shouldRun(long time);\n                 void run(); \n                 void fecharTodoSetor();\n                 void verificarSetores(int numSetor);\n\n        private : long horaFim;\n                  long horaAtual;\n                  long horaAgendamento;\n                  int numeroEvento;\n                  DateTime now;\n                  Agendamentos *agendamento;\n\n    }; \n\n\n    class VolumeAgua: public Thread\n    {\n        public :\n                  bool shouldRun(long time);\n                  void run();\n                  static void contadorPulso();\n                  double calculaVolume(byte sensorInterrupt,byte sensorPin, float volumeDesejado);\n\n        private : volatile byte contaPulso; \n                  int numeroFert;\n                  int numeroEvento;\n                  float taxaFluxo;\n                  float fatorCalibrador;\n                  unsigned int fluxoL;\n                  unsigned long totalL;\n                  unsigned long oldTime;\n    };\n\n    class VolumeSilo: public Thread\n    {\n        public :\n                    bool shouldRun(long time);\n                    void run();\n\n                    static void contadorPulso();\n                    double calculaVolume(byte sensorInterrupt,byte sensorPin, float volumeDesejado);\n\n        private :   float fatorCalibrador;\n                    volatile byte contaPulso;\n                    int numeroEvento;\n                    int numeroFert;    \n                    float taxaFluxo;\n                    unsigned int fluxoL;\n                    unsigned long totalL;\n                    unsigned long oldTime;      \n    };\n\n\n    class RecuperaFerti: public Thread\n    {\n        public : \n                  void verificarSetores(int numSetor);\n                  void run();\n                  bool shouldRun(long time);\n\n\n        private : long horaAtual;\n                  long inicio;\n                  int encherTanque;\n                  long horaAgendamento;\n                  int encherSilo;\n                  int numeroFert;\n                  int numeroEvento;\n                  DateTime now;\n                  Agendamentos *agendamento;\n\n\n    }; \n\n    class RecuperaSilos: public Thread\n    {\n\n        public :   bool shouldRun(long time);\n                   void run(); \n\n        private :  int numeroFert;\n                   int numeroEvento; \n\n    }; \n\n    class Injecao: public Thread \n    {\n\n        public : bool shouldRun(long time);\n                 void run();   \n\n\n        private : int numeroFert;\n                  int numeroEvento;\n                  int estado;\n    };                   \n\n    class NivelInjec: public Thread\n    {\n        private : int estado;\n\n        public : bool shouldRun(long time);\n                 void run();   \n    };\n\n    class Purga: public Thread\n    {\n        public :  void run();\n                  bool shouldRun(long time);\n                  static void contadorPulso();\n                  double calculaVolume(byte sensorInterrupt,byte sensorPin, float volumeDesejado);      \n    };\n\n\n    class NivelPurga: public Thread\n    {\n        private : int estado;\n                  DateTime now;\n                  int numeroEvento;\n                  long horaAtual;\n                  long horaAgendamento;\n                  Agendamentos *agendamento;\n\n        public : bool shouldRun(long time);\n                 void run();\n                 fecharTodoSetor();   \n    };\n\n\n\n\n\n}\n\nusing namespace AutoCampLib;\n#endif\n</code></pre>\n"}, {"tags": ["c++", "random", "floating-point", "cross-platform"], "answers": [{"tags": [], "owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "is_accepted": true, "score": 1, "last_activity_date": 1489013468, "last_edit_date": 1489013468, "creation_date": 1489013151, "answer_id": 42683386, "question_id": 42677592, "link": "https://stackoverflow.com/questions/42677592/is-generate-canonical-output-consistent-across-platforms/42683386#42683386", "title": "Is generate_canonical output consistent across platforms?", "body": "<p>The difficulties encountered in the linked question points to the basic problem with consistency: rounding mode. The clear intent of the mathematical definition of <code>generate_canonical</code> in the standard is that the URNG be called several times, each producing a non-overlapping block of entropy to fill the result with; that would be entirely consistent across platforms. The problem is, no indication is given as to what to do with the extra bits below the LSB. Depending on rounding mode and summation order, these can round upwards, spilling into the next block (which is what allows for a 1.0 result).</p>\n\n<p>Now, the precise wording is \"the instantiation\u2019s results...are distributed as uniformly as possible as specified below\". If the rounding mode is round-to-nearest, an implementation which produces 1.0 is <em>not</em> as uniform as possible (because 1-eps is less likely than 1-2*eps). But it's still \"as specified below\". So depending on how you parse that sentence, <code>generate_canonical</code> is either fully specified and consistent, or has delegated some extra un-discussed bits to the implementation.</p>\n\n<p>In any case, the fact that certain implementations produce 1.0 makes it quite clear that the current behavior is not cross-platform consistent. If you want that, it seems like the most straightforward approach would be to wrap your URNG in an <code>independent_bits_engine</code> to produce some factor of <code>bits</code> bits, so there's never anything to round.</p>\n"}], "owner": {"reputation": 382, "user_id": 1956382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF9dp.png?s=128&g=1", "display_name": "Jeff Epler", "link": "https://stackoverflow.com/users/1956382/jeff-epler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 42683386, "answer_count": 1, "score": 4, "last_activity_date": 1489013468, "creation_date": 1488993021, "last_edit_date": 1495542712, "question_id": 42677592, "link": "https://stackoverflow.com/questions/42677592/is-generate-canonical-output-consistent-across-platforms", "title": "Is generate_canonical output consistent across platforms?", "body": "<p>The C++ standard specifies pretty closely under <strong>[rand.util.canonical]</strong> just how the template function <code>std::generate_canonical</code> works (though it only presents pseudocode, not C++ code).</p>\n\n<p>Is is the intention of the spec authors that on different platforms where math on the <code>RealType</code> works identically, and for a deterministic <code>URNG</code> that gives the same outputs on the two platforms, that <code>std::generate_canonical</code> gives identical outputs as well?</p>\n\n<p>This is related to similar questions like <a href=\"https://stackoverflow.com/questions/25668600/is-1-0-a-valid-output-from-stdgenerate-canonical\">Is 1.0 a valid output from std::generate_canonical?</a> -- the prose states that 1.0 is excluded, but the algorithm that they give in pseudocode includes it as an output sometimes and for some combinations of <code>RealType</code> and <code>URNG</code>.</p>\n\n<p>This is in contrast to the random number distribution functions, discussed e.g., as <a href=\"https://stackoverflow.com/questions/34903356/c11-random-number-distributions-are-not-consistent-across-platforms-what-al\">C++11 random number distributions are not consistent across platforms -- what alternatives are there?</a>; the standard does '''not''' specify how e.g., the normal distribution is generated, just its properties</p>\n\n<p>I haven't found any DRs where this is discussed, and the wording of the standard is superficially identical in the C++11, C++14 and C++17 draft standards I have easy access to.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489049587, "post_id": 42676909, "comment_id": 72504081, "body": "Why did I even get down voted ?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489049648, "post_id": 42677771, "comment_id": 72504118, "body": "I figured I needed to declare it, but as it&#39;s part of the lib I had no idea how ! Thanks I&#39;ll give it a go ASAP"}, {"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489051697, "post_id": 42677771, "comment_id": 72505460, "body": "I tried It, sadly same error ( Yeah I&#39;m surprized too .. ). On top on that I don&#39;t get what you&#39;re trying to say with. <code>QTextCharFormat textCharFormat; QVariant v = QVariant::fromValue(textCharFormat); textCharFormat = v.value&lt;QTextCharFormat&gt;();</code> I don&#39;t have a <code>textCharFormat</code> that is ready to use, I&#39;m in my view and only getting a QVariant from my model. Thanks in advance :)"}, {"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489052712, "post_id": 42677771, "comment_id": 72506113, "body": "It does compile now, I forgot to add <code>#include &quot;textcharformat.h&quot;</code> in in my view class header, even if it seemed redundant with <code>#include &lt;QtWidgets&#47;QPlainTextEdit&gt;</code>  that already includes <code>QTextCharFormat</code>. I&#39;ll keep you posted"}, {"owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "reply_to_user": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 1, "creation_date": 1489053105, "post_id": 42677771, "comment_id": 72506411, "body": "<code>QTextCharFormat textCharFormat; QVariant v = QVariant::fromValue(textCharFormat); textCharFormat = v.value&lt;QTextCharFormat&gt;();</code> code is only here to show you a general way to convert a QTextCharFormat to QVariant and a QVariant to QTextCharFormat."}, {"owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "reply_to_user": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 1, "creation_date": 1489053254, "post_id": 42677771, "comment_id": 72506523, "body": "There are no redundancy between <code>#include &quot;textcharformat.h&quot;</code>  and <code>#include &lt;QtWidgets&#47;QPlainTextEdit&gt;</code>. Even if both include <code>QTextCharFormat</code>; <code>textcharformat.h</code> adds <code>Q_DECLARE_METATYPE</code> and that is the whole point of my answer."}, {"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489053810, "post_id": 42677771, "comment_id": 72506887, "body": "That&#39;s clear now.   About the include thing, I meant that my view that only aware of the &quot;regular&quot; <code>QTextCharFormat</code>, coming from <code>&lt;QtWidgets&#47;QPlainTextEdit&gt;</code> so I needed to include <code>#include &quot;textcharformat.h&quot;</code> afterwards."}, {"owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "edited": false, "score": 0, "creation_date": 1489053984, "post_id": 42677771, "comment_id": 72507009, "body": "Now code is running fine but I&#39;m not getting the right <code>QTextCharFormat</code> from my model... I gonna looked up why. I&#39;m marking this as the answer because my new issue is beyond the scope of this post. Thanks :)"}], "tags": [], "owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1488993528, "creation_date": 1488993528, "answer_id": 42677771, "question_id": 42676909, "link": "https://stackoverflow.com/questions/42676909/why-is-qtextcharformat-not-a-metatype/42677771#42677771", "title": "Why is QTextCharFormat not a MetaType?", "body": "<p>You should use:</p>\n\n<pre><code>QTextCharFormat textCharFormat;\nQVariant v = QVariant::fromValue(textCharFormat);\ntextCharFormat = v.value&lt;QTextCharFormat&gt;();\n</code></pre>\n\n<p>However, as you have tested, <code>QTextCharFormat</code> is not declared to the Qt meta type system so you need to add:</p>\n\n<pre><code>Q_DECLARE_METATYPE(QTextCharFormat)\n</code></pre>\n\n<p>Ideally I would placed it a a custom header, which I would use instead of Qt header.:</p>\n\n<pre><code>// textcharformat.h\n#ifndef TEXTCHARFORMAT_H\n#define TEXTCHARFORMAT_H\n\n#include &lt;QTextCharFormat&gt;\nQ_DECLARE_METATYPE(QTextCharFormat)\n\n#endif\n</code></pre>\n\n<p>Now, why it is not already declared as a meta type by Qt, you would have to ask Qt developers.</p>\n"}], "owner": {"reputation": 49, "user_id": 5651396, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7d40e907ff7c6e05474755831317104?s=128&d=identicon&r=PG", "display_name": "Drenghel", "link": "https://stackoverflow.com/users/5651396/drenghel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 42677771, "answer_count": 1, "score": -1, "last_activity_date": 1489049967, "creation_date": 1488991049, "last_edit_date": 1489049967, "question_id": 42676909, "link": "https://stackoverflow.com/questions/42676909/why-is-qtextcharformat-not-a-metatype", "title": "Why is QTextCharFormat not a MetaType?", "body": "<p><em>Hello !</em>   </p>\n\n<p>I'm trying to get a <code>QTextCharFormat</code> out of my <code>data()</code> method in Qt.<br>\nSo I coded my data method in a way that, when the requested data has a <code>DecorationRole</code> it returns a <code>QTextCharFormat</code> (until now nothing unusual.. I guess)  </p>\n\n<p>Problem is that I'm not able to cast back my <code>QVariant</code> to a <code>QTextCharFormat</code> in my view :(  </p>\n\n<p>I'll show you what I tried and what I got as an error :  </p>\n\n<pre><code>QTextCharFormat charFormat;\n\ncharFormat=model-&gt;index(i,1).data(Qt::DecorationRole).value&lt;QTextCharFormat&gt;();\n\nsetCurrentCharFormat(charFormat);\n</code></pre>\n\n<p>I also tried :</p>\n\n<pre><code>charFormat=model-&gt;index(1,1).data(Qt::DecorationRole).value();\n</code></pre>\n\n<p>and :</p>\n\n<pre><code> setCurrentCharFormat(qvariant_cast&lt;QTextCharFormat&gt;(model-&gt;index(1, 2).data(Qt::DecorationRole))\n</code></pre>\n\n<p>The first snippet is giving me this (I'll drop what result I got from the two latter, I think they are worse solutions )</p>\n\n<pre><code>In file included [...]\nC:/Qt/Qt5.8.0/5.8/mingw53_32/include/QtCore/qmetatype.h: In instantiation of 'constexpr int qMetaTypeId() [with T = QTextCharFormat]':\nC:/Qt/Qt5.8.0/5.8/mingw53_32/include/QtCore/qvariant.h:360:39:   required from 'bool QVariant::canConvert() const [with T = QTextCharFormat]'\nC:[...].cpp:29:58:   required from here\nC:/Qt/Qt5.8.0/5.8/mingw53_32/include/QtCore/qmetatype.h:1732:5: error: static assertion failed: Type is not registered, please use the Q_DECLARE_METATYPE macro to make it known to Qt's meta-object system\n     Q_STATIC_ASSERT_X(QMetaTypeId2&lt;T&gt;::Defined, \"Type is not registered, please use the Q_DECLARE_METATYPE macro to make it known to Qt's meta-object system\");\n</code></pre>\n\n<p>So I figured that it isn't a metatype, even If this <a href=\"https://doc.qt.io/qt-5/qvariant.html#a-note-on-gui-types\" rel=\"nofollow noreferrer\">part of the documentation looked like I could qvariant cast something from GUI.</a> and that this part is stating that <code>QTextCharFormat</code> <a href=\"https://doc.qt.io/qt-5/qmetatype.html#details\" rel=\"nofollow noreferrer\">isn't in the build in metatype enum</a> ...</p>\n\n<p>So at this point I don't know what I'm understanding wrong :(.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "macros", "variadic-functions"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1488992061, "post_id": 42676892, "comment_id": 72479076, "body": "<code>##__VA_ARGS__</code> isn&#39;t standard. Don&#39;t expect it to work portably. It also doesn&#39;t look like there&#39;s any particular reason to use a macro over a variadic template for <code>LOG</code>."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 1, "creation_date": 1488993179, "post_id": 42676892, "comment_id": 72479753, "body": "Please, do yourself a favor and learn about variadic templates"}, {"owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "edited": false, "score": 0, "creation_date": 1488993557, "post_id": 42676892, "comment_id": 72479987, "body": "I DO know about variadic templates. Anyway, found out how to solve this since I&#39;ve used the macro on a lot of points inside my code and don&#39;t want to change them."}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1488993846, "creation_date": 1488993846, "answer_id": 42677893, "question_id": 42676892, "link": "https://stackoverflow.com/questions/42676892/c-variadic-macro-to-variadic-function/42677893#42677893", "title": "C++ variadic macro to variadic function", "body": "<p>Apparently on Clang I need to change my <code>checkf</code> macro like this</p>\n\n<pre><code>#define checkf(expr, Format, ...)   { if(!(expr)) { LOG(LL_ErrorMessage, TXT(\"Log in file \") __FILE__ TXT(\" at line %d: \") TXT(#expr) TXT(\". \") Format, __LINE__, ##__VA_ARGS__); } }\n</code></pre>\n\n<p>Notice that I've used <code>##__VA_ARGS__</code> instead of just <code>__VA_ARGS__</code>.</p>\n\n<p>It compiles with both MSVC and Clang as well.</p>\n"}], "owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1488993846, "creation_date": 1488991008, "last_edit_date": 1488991504, "question_id": 42676892, "link": "https://stackoverflow.com/questions/42676892/c-variadic-macro-to-variadic-function", "title": "C++ variadic macro to variadic function", "body": "<p>Implementing an assertion macro I stumbled upon a problem on Xcode clang.</p>\n\n<p>I use the following code:</p>\n\n<pre><code>void Log(LogLevel logLevel, const std::string&amp; message);\n\nstd::string FormatString(const char* format, ...);\n\n#define LOG(Level, Format, ...)                                     \\\n{                                                                   \\\n    std::string _ac_err_str_ = FormatString(Format, ##__VA_ARGS__); \\\n    Log(Level, _ac_err_str_);                                       \\\n}\n\n#define checkf(expr, Format, ...)   { if(!(expr)) { LOG(LL_ErrorMessage, TXT(\"Log in file \") __FILE__ TXT(\" at line %d: \") TXT(#expr) TXT(\". \") Format, __LINE__, __VA_ARGS__); } }\n</code></pre>\n\n<p>Everything works fine with MSVC but on Clang I get the following error: <code>Expected expression</code></p>\n\n<p>I've tracked down the problem on this line:</p>\n\n<pre><code>std::string _ac_err_str_ = FormatString(Format, ##__VA_ARGS__);\n</code></pre>\n\n<p>More specifically the problem is on the <code>##__VA_ARGS__</code> part because if I remove it everything compiles.</p>\n\n<p>Also, if I pass a third parameter to the macro it compiles, e.g.:</p>\n\n<pre><code>checkf(false, \"Error message\");       // Won't compile\ncheckf(false, \"Error %s\", \"message\"); // Will compile\n</code></pre>\n\n<p>It seems like there's an error on passing the macro's variadic arguments to <code>FormatString</code>, but I can't find out the reason or how to fix this.</p>\n"}, {"tags": ["c++", "qt", "warnings", "compiler-warnings", "traceback"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1488990214, "post_id": 42676583, "comment_id": 72477739, "body": "The answer is the same though. Basically you use a custom message handler for warnings and put a breakpoint there."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1488990285, "post_id": 42676583, "comment_id": 72477797, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4954140/how-to-redirect-qdebug-qwarning-qcritical-etc-output\">How to redirect qDebug, qWarning, qCritical etc output?</a>"}, {"owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1488990608, "post_id": 42676583, "comment_id": 72478024, "body": "@nwp Thank you very much for the link. However, it is not working correctly for my warning messages. I have edited my question with the results."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1488990780, "post_id": 42676583, "comment_id": 72478171, "body": "What do you mean it does not work correctly? You need to put the breakpoint on the <code>case QtWarningMsg:</code>, but otherwise it should work the same. If you actually managed to get a warning without the handler being called make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so it can be debugged in depth. It is supposed to work."}, {"owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1488990885, "post_id": 42676583, "comment_id": 72478245, "body": "@nwp Sorry for the confusion. The handler is called, but <code>context.file</code> and <code>context.function</code> give <code>null</code> , and <code>context.line</code> gives <code>0</code> (as edited in my question). So it doesn&#39;t help yet."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1488990977, "post_id": 42676583, "comment_id": 72478322, "body": "You should still be able to put a breakpoint there and then go up the call stack to find out which line of your code caused the warning."}, {"owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1488992706, "post_id": 42676583, "comment_id": 72479451, "body": "@nwp Thank you! That worked."}], "answers": [{"tags": [], "owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "is_accepted": true, "score": 0, "last_activity_date": 1488993127, "last_edit_date": 1495541839, "creation_date": 1488993127, "answer_id": 42677626, "question_id": 42676583, "link": "https://stackoverflow.com/questions/42676583/is-there-a-way-to-find-the-line-that-caused-a-warning-to-appear-in-qt/42677626#42677626", "title": "Is there a way to find the line that caused a warning to appear in Qt?", "body": "<p><a href=\"https://stackoverflow.com/users/3484570/nwp\">nwp</a>, in the comments, pointed out <a href=\"https://stackoverflow.com/a/4954188/5987698\">this answer</a> by <a href=\"https://stackoverflow.com/users/415784/nawaz\">Nawaz</a>, which works great when I put a break point on the warning message line, here:</p>\n\n<pre><code>case QtWarningMsg:\n        fprintf(stderr, \"Warning: %s (%s:%u, %s)\\n\", localMsg.constData(), context.file, context.line, context.function); //break point here\n        break;\n</code></pre>\n\n<p>This gives a proper traceback when running in the debugger mode, as I needed.</p>\n"}, {"tags": [], "owner": {"reputation": 4697, "user_id": 1005419, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5TtZm.jpg?s=128&g=1", "display_name": "Thomas McGuire", "link": "https://stackoverflow.com/users/1005419/thomas-mcguire"}, "is_accepted": false, "score": 1, "last_activity_date": 1488999857, "creation_date": 1488999857, "answer_id": 42679795, "question_id": 42676583, "link": "https://stackoverflow.com/questions/42676583/is-there-a-way-to-find-the-line-that-caused-a-warning-to-appear-in-qt/42679795#42679795", "title": "Is there a way to find the line that caused a warning to appear in Qt?", "body": "<p>The best way is setting a breakpoint, as the others mentioned.</p>\n\n<p>On Linux, it is also possible to include the backtrace in the message pattern:</p>\n\n<pre><code>qSetMessagePattern(\"%{file}:%{line} - %{message}\\n%{backtrace depth=10 separator=\\\"\\n\\\"}\");\n</code></pre>\n\n<p>Have a look at <a href=\"https://doc.qt.io/qt-5/qtglobal.html#qSetMessagePattern\" rel=\"nofollow noreferrer\">its documentation</a>, especially for the limitations.\nExample output:</p>\n\n<pre><code>/home/thomas/src/Qt/5.8-desktop/qtbase/src/corelib/kernel/qobject.cpp:1639 - QObject::startTimer: Timers can only be used with threads started with QThread\nQObject::startTimer\nQTimer::start\n?myapp?\n__libc_start_main\n?myapp?\n</code></pre>\n\n<p>Because I am not linking with <code>-rdynamic</code>, the <code>main()</code> function is not known in the backtrace and <code>?myapp?</code> is printed instead.</p>\n"}], "owner": {"reputation": 4952, "user_id": 5987698, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b26d6435dcb8897d1a57fa24b462da0?s=128&d=identicon&r=PG&f=1", "display_name": "GoodDeeds", "link": "https://stackoverflow.com/users/5987698/gooddeeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 42677626, "answer_count": 2, "score": 1, "last_activity_date": 1488999857, "creation_date": 1488990154, "last_edit_date": 1495542321, "question_id": 42676583, "link": "https://stackoverflow.com/questions/42676583/is-there-a-way-to-find-the-line-that-caused-a-warning-to-appear-in-qt", "title": "Is there a way to find the line that caused a warning to appear in Qt?", "body": "<p>While running my Qt5 project, I get warnings such as</p>\n\n<pre><code>QObject::startTimer: Timers cannot be started from another thread\n</code></pre>\n\n<p>and others.</p>\n\n<p>While many answers cover what in a given code caused these warnings, or how to correct them, I would like to know <em>where</em> in the code was the warning generated, a traceback.</p>\n\n<p>This is because I think it is being caused by my incorrect usage of some Qt functionality that causes warnings internally, such as, in the above case, functionality that uses timers to execute. Knowing the line number would be helpful for debugging, but unfortunately that is not shown, even in debug mode.</p>\n\n<p>Is there a way to do this?</p>\n\n<p><a href=\"https://stackoverflow.com/q/26863388/5987698\">This question</a> seems to be almost identical, but I am not observing anything similar to what is posted in the question there - I don't see any line numbers. I didn't understand how to apply the answer there, if applicable.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "encryption", "digital-signature", "kerberos", "sspi"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 2060934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df96459b3277229ab1709084cca2e38?s=128&d=identicon&r=PG", "display_name": "chrobs", "link": "https://stackoverflow.com/users/2060934/chrobs"}, "edited": false, "score": 0, "creation_date": 1489069961, "post_id": 42677842, "comment_id": 72517843, "body": "Thanks for your answer. Please see my modified question for a follow-up"}, {"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "reply_to_user": {"reputation": 329, "user_id": 2060934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df96459b3277229ab1709084cca2e38?s=128&d=identicon&r=PG", "display_name": "chrobs", "link": "https://stackoverflow.com/users/2060934/chrobs"}, "edited": false, "score": 0, "creation_date": 1489070932, "post_id": 42677842, "comment_id": 72518557, "body": "That&#39;s right, passing the appropriate <code>ISC_REQ_XXX</code> is the way to set up the context so that <code>EncryptMessage</code>  does the &#39;right&#39; thing."}], "tags": [], "owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1488993734, "creation_date": 1488993734, "answer_id": 42677842, "question_id": 42676575, "link": "https://stackoverflow.com/questions/42676575/encrypt-and-sign-a-message-using-microsoft-security-support-provider-interface/42677842#42677842", "title": "Encrypt and sign a message using Microsoft Security Support Provider Interface (SSPI)", "body": "<p>If I remember correctly you only call <code>EncryptMessage</code>/<code>DecryptMessage</code> and this will do the signing too, <em>if the negotiated context requires it</em>. For example if you look at <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380496(v=vs.85).aspx#_ssp_message_integrity_and_privacy\" rel=\"nofollow noreferrer\">SSPI/Kerberos Interoperability with GSSAPI</a> it states that <code>EncryptMessage</code>pairs with <code>GSS_Unwrap</code> and <code>DecryptMessage</code> pairs with <code>GSS_Wrap</code>, <em>without</em> involving <code>MakeSignature</code>. The example in the link also shows that you must supply <strong>3</strong> SecBuffer structures (<code>SECBUFFER_TOKEN</code>, <code>SECBUFFER_DATA</code> and <code>SECBUFFER_PADDING</code>, the last I think is optional) to <code>EncryptMessage</code> and 2 for <code>DecryptMessage</code>. The two complementary examples at <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380537(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Using SSPI with a Windows Sockets Server</a> and <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380536(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Using SSPI with a Windows Sockets Client</a> give  full functional message exchange and you can also see that <code>MakeSignature</code>/<code>VerifySignature</code> are never called, the signature is handled by Encrypt/Decrypt and is placed in the 'security token' header or trailer (where to it goes on the wire is not specified by SSPI/SPNego/Kerberos, this is not TLS/Schannel...).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14587049, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gj9PD5JVcRNvzaG5lHh3l6oq1d9VOKnjoG3sq3Feg=k-s128", "display_name": "Jake Scott", "link": "https://stackoverflow.com/users/14587049/jake-scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1616756554, "last_edit_date": 1616756554, "creation_date": 1616706082, "answer_id": 66807564, "question_id": 42676575, "link": "https://stackoverflow.com/questions/42676575/encrypt-and-sign-a-message-using-microsoft-security-support-provider-interface/66807564#66807564", "title": "Encrypt and sign a message using Microsoft Security Support Provider Interface (SSPI)", "body": "<p>If you want to create a GSS Wrap token with only a signature (not encrypted), pass <code>KERB_WRAP_NO_ENCRYPT</code> as the qop value to EncryptMessage. The signed wrap token includes the payload and the signature.</p>\n<p><code>MakeSignature</code> creates a GSS MIC token - which is <em>only</em> the signature and does not include the payload. You can use this with application protocols that require a detached signature.</p>\n"}], "owner": {"reputation": 329, "user_id": 2060934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df96459b3277229ab1709084cca2e38?s=128&d=identicon&r=PG", "display_name": "chrobs", "link": "https://stackoverflow.com/users/2060934/chrobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 922, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1616756554, "creation_date": 1488990137, "last_edit_date": 1489661272, "question_id": 42676575, "link": "https://stackoverflow.com/questions/42676575/encrypt-and-sign-a-message-using-microsoft-security-support-provider-interface", "title": "Encrypt and sign a message using Microsoft Security Support Provider Interface (SSPI)", "body": "<p>I want to use Microsoft's Security Support Provider Interface (SSPI) in a Windows Domain environment (with Kerberos) to send encrypted and signed messages between two entities (in C++).</p>\n\n<p>Based on the documentation within the MSDN, there are the two functions MakeSignature() and EncryptMessage() [1] but the documentation as well as the example code [2] do not explicitly anwser the question of how to send data encrypted <em>and</em> signed (according to encrypt-than-mac).</p>\n\n<p>Can anyone confirm that I have to use manually invoke EncryptMessage() and MakeSignature() in sequence to get to the desired result? Or do I miss something there and EncryptMessage() has a way to directly create a signature of the encrypted data?</p>\n\n<p>[1] MSDN documentation of EncryptMessage() and MakeSignature()\n<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa378736(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa378736(v=vs.85).aspx</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa375378(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa375378(v=vs.85).aspx</a></p>\n\n<p>[2] MSDN Example Code\n<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380531(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/aa380531(v=vs.85).aspx</a></p>\n\n<p>---- Reply to Remus Rusanu's answer 2017-03-09 ---------------------------</p>\n\n<p>Thanks @Remus Rusanu for your answer, I didn't take the GSSAPI interoperability document into account yet.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380496(v=vs.85).aspx#_ssp_message_integrity_and_privacy\" rel=\"nofollow noreferrer\">Here</a> it is stated that \"GSS_Wrap and GSS_Unwrap are used for both integrity and privacy with the use of privacy controlled by the value of the \"conf_flag\" argument.\" and that \"The SSPI equivalent to GSS_Wrap is EncryptMessage (Kerberos) for both integrity and privacy\".</p>\n\n<p>You said that \"EncryptMessage [...] will do the signing too, if the negotiated context requires it.\". This means for me, that the at least the following fContextReq flags need to be set for InitializeSecurityContext():</p>\n\n<ul>\n<li>ISC_REQ_CONFIDENTIALITY</li>\n<li>ISC_REQ_INTEGRITY</li>\n</ul>\n\n<p>Can you (or somebody else) can confirm this?</p>\n\n<p>---- Update 2017-03-16 ----------------------------------------------------------------</p>\n\n<p>After further research I came up with the following insights:</p>\n\n<ol>\n<li><p>The Kerberos specific EncryptMessage() function <strong>does not</strong> provide message integrity, regardless of how the Securitycontext was initialized.</p>\n\n<ul>\n<li><p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa375378(v=vs.85).aspx\" rel=\"nofollow noreferrer\">general EncryptMessage()</a> and <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa375211(v=vs.85).aspx\" rel=\"nofollow noreferrer\">general DecryptMessage</a> functions support the feature of creating and verifying the message's integrity because there exists some supporting Security Support Providers (SSPs) - but Kerberos does not.</p></li>\n<li><p>If DecryptMessage would check the message's integrity, there must be a respective error return code in case of a modified message. The general DecryptMessage interface lists the error code \"SEC_E_MESSAGE_ALTERED\" which is described as \"The message has been altered. Used with the Digest and Schannel SSPs.\".</p></li>\n<li><p>The specific DecryptMessage interface for the SSPs Digest and Schannel lists the SEC_E_MESSAGE_ALTERED - but the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa375215(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Kerberos DecryptMessage</a> <strong>does not</strong>.</p></li>\n<li><p>Within the parameter description of the general EncryptMessage's documentation, the term 'signature' is used only regarding the Digest SSP: \"When using the Digest SSP, there must be a second buffer of type\nSECBUFFER_PADDING or SEC_BUFFER_DATA to hold signature information\".</p></li>\n</ul></li>\n<li><p>MakeSignature does not create a digital signature according to <a href=\"https://en.wikipedia.org/wiki/Digital_signature\" rel=\"nofollow noreferrer\">Wikipedia's definition</a> (authenticity + non-repudiation + integrity). MakeSignature creates a cryptographic hash to provide message integrity.</p>\n\n<ul>\n<li><p>The name of the MakeSignature() function leads to the idea that SSPI creates a digital signature (authenticity + non-repudiation + integrity) but the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa378736(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MakeSignature documentation</a> explains that only a cryptographic checksum is created (providing integrity): \"The MakeSignature function generates a cryptographic checksum of the message, and also includes sequencing information to prevent message loss or insertion.\"</p></li>\n<li><p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa380540(v=vs.85).aspx\" rel=\"nofollow noreferrer\">VerifySignature documentation</a> helps as well to clarify SSPI's terminology: \"Verifies that a message signed by using the MakeSignature function was received in the correct sequence and has not been modified.\"</p></li>\n</ul></li>\n<li><p>From (1) and (2) it follows that one needs to invoke EncryptData() and afterwards MakeSignature() (for the ciphertext) to achieve confidentiality and integrity.</p></li>\n</ol>\n\n<p>Hope that my self-answer will help someone at some point in time ;)</p>\n\n<p>If someone has something to add or correct in my answer, please reply and help to improve the information collected here!</p>\n"}, {"tags": ["c++", "visual-studio-2013", "mfc", "localization"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 3378687, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1642080514/picture?type=large", "display_name": "GiordiX", "link": "https://stackoverflow.com/users/3378687/giordix"}, "edited": false, "score": 0, "creation_date": 1489412798, "post_id": 42723793, "comment_id": 72645529, "body": "I&#39;m not sure how this can help me. With GetLocaleInfoEx I can retrieves information about a locale specified by name but what I can do after? If I suppose to retrieve the decimal separator, how I can set it on my software? I will try GetLocaleInfoEx to see what happend in my code..."}], "tags": [], "owner": {"reputation": 1440, "user_id": 1364377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BzGJW.jpg?s=128&g=1", "display_name": "JohnCz", "link": "https://stackoverflow.com/users/1364377/johncz"}, "is_accepted": false, "score": 0, "last_activity_date": 1489165135, "creation_date": 1489165135, "answer_id": 42723793, "question_id": 42676479, "link": "https://stackoverflow.com/questions/42676479/setlocale-vs-custom-data-format-on-windows/42723793#42723793", "title": "SetLocale vs Custom Data format on Windows", "body": "<p>Take a look at MSDN topics:\n\"<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd374144(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Using National Language Support</a>\"->\"<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd374144(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Working with Custom Locales</a>\".\nAlso try GetLocaleInfoEx.</p>\n"}], "owner": {"reputation": 191, "user_id": 3378687, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1642080514/picture?type=large", "display_name": "GiordiX", "link": "https://stackoverflow.com/users/3378687/giordix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489165135, "creation_date": 1488989843, "question_id": 42676479, "link": "https://stackoverflow.com/questions/42676479/setlocale-vs-custom-data-format-on-windows", "title": "SetLocale vs Custom Data format on Windows", "body": "<p>I'm working on a C++/MFC Windows application and I want that the format of the number, date, etc is correct in all over the world.</p>\n\n<p>Example: Someone prefer to write a numbers with the \" , \" separator for the decimals, other prefer to use the dot, and so on.</p>\n\n<p>I start putting the locals command at the startup of my windows application:</p>\n\n<pre><code>setlocale(LC_ALL, \"\" );\n</code></pre>\n\n<p>This works for language format, because when the second parameter is empty this function ask the local setting to the OS for the numbers, date, etc.</p>\n\n<p>This works for the Region-> Format but not with the \"Additional settings\": for example, if your system format is English (United States) like in the image, and you change it through the Format list using another language with a different format for numbers, it work on my application.</p>\n\n<p>For \"works\" I mean that the number insidet texbox, ListCtrl, etc use the correct format for decimal symbol, digit grouping, etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UpP9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpP9p.png\" alt=\"enter image description here\"></a></p>\n\n<p>But if you go in the \"Additional settings\" and change the single format like decimal separator, etc without changing the forma language it doesn't work.</p>\n\n<p>In this case, when I use the \"setlocale\" function the format of the numbers is the same of language; it does not follow the custom rules. Other programs, like Microsoft Excel, are able to show the numbers following the custom rules,</p>\n\n<p>How I can do the same on my software?\nHow get the correct format for numbers (language format + custom settings)?</p>\n\n<p>Thanks</p>\n\n<p>This is the additional setting dialog: <a href=\"https://i.stack.imgur.com/PlW5b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlW5b.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "function", "if-statement"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1488989726, "post_id": 42676396, "comment_id": 72477379, "body": "get rid of <code>bool</code> in the if condition"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1488989760, "post_id": 42676396, "comment_id": 72477410, "body": "what is <code>Input</code>?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1488990026, "post_id": 42676396, "comment_id": 72477611, "body": "In the statements <code>if (keyState[...</code> you already use the fact that the <code>keyState</code> values are  convertible to bool, so you could just as well just do <code>return (keyState[...</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1488990040, "post_id": 42676396, "comment_id": 72477626, "body": "is <code>Input::CheckKeyPress</code> <code>static</code>? If not you probably need an <code>Input</code> instance instead of <code>Input::</code>"}, {"owner": {"reputation": 103, "user_id": 7657221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1734a141c460fb30e26c6ba980468266?s=128&d=identicon&r=PG&f=1", "display_name": "DogWalkersCoding", "link": "https://stackoverflow.com/users/7657221/dogwalkerscoding"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1488990233, "post_id": 42676396, "comment_id": 72477753, "body": "@user4581301 how would I create the input instance? - Sorry, noob here."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1488989924, "post_id": 42676439, "comment_id": 72477532, "body": "Almost. It doesn&#39;t sound like OP is calling <code>CheckKeyPress</code> from inside <code>Input</code>, so they either need an <code>Input</code> instance or OPs <code>Input::</code> if it&#39;s static."}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1488990027, "post_id": 42676439, "comment_id": 72477615, "body": "I agree.  But I have posted the answer as per what content the OP <i>has posted</i>.  I will still edit it for both the cases, though.  Thank you."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1488990193, "post_id": 42676439, "comment_id": 72477729, "body": "Big fan of solving the whole problem. Otherwise you <a href=\"https://meta.stackoverflow.com/questions/258206/what-is-a-help-vampire\">get Vampired</a> as OP keep coming back asking about the little bits you left out."}, {"owner": {"reputation": 103, "user_id": 7657221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1734a141c460fb30e26c6ba980468266?s=128&d=identicon&r=PG&f=1", "display_name": "DogWalkersCoding", "link": "https://stackoverflow.com/users/7657221/dogwalkerscoding"}, "edited": false, "score": 0, "creation_date": 1488990456, "post_id": 42676439, "comment_id": 72477908, "body": "Thanks for solving this problem for me too, I understand it can be annoying have noobs post their questions on StackExchange, sorry about that."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1488994353, "post_id": 42676439, "comment_id": 72480501, "body": "<code>Instance it = new Instance();</code> - This isn&#39;t valid C++ (unless your class is poorly designed)."}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1488994507, "post_id": 42676439, "comment_id": 72480591, "body": "@chris, could you please elaborate?  Are you referring to the <code>new</code> operator?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1488995178, "post_id": 42676439, "comment_id": 72481040, "body": "Yes, C++ doesn&#39;t create objects only through <code>new</code> like Java. <code>Instance it;</code> is enough."}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 0, "creation_date": 1488995839, "post_id": 42676439, "comment_id": 72481456, "body": "I totally agree.  I just used dynamic initialization.  Nonetheless, I will update my answer to reflect your point as well.  Thank you."}], "tags": [], "owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "is_accepted": true, "score": 0, "last_activity_date": 1489678131, "last_edit_date": 1489678131, "creation_date": 1488989750, "answer_id": 42676439, "question_id": 42676396, "link": "https://stackoverflow.com/questions/42676396/how-to-check-if-bool-method-returns-value-in-an-if-statement-c/42676439#42676439", "title": "How to check if bool method returns value in an if statement C++", "body": "<p>Just write:</p>\n\n<pre><code>if (CheckKeyPress(w))\n{\n    //do stuff\n}\n</code></pre>\n\n<p>You have already told the compiler that the <code>CheckKeyPress()</code> method returns a <code>bool</code>.  Here, you are just calling the function, so you don't need to mention the return type again.  When the control will call the function <code>CheckKeyPress()</code>, it will return a <code>bool</code> value that would be checked for its truth within the <code>if</code> statement.</p>\n\n<p><strong>Note:</strong> There are two possibilities:</p>\n\n<ol>\n<li><code>Instance</code> is a different class:</li>\n</ol>\n\n<p>If <code>Instance</code> is altogether a different class and <code>CheckKeyPress()</code> is \none of the methods that it contains, then you first need to create an object of the <code>Instance</code> class like below:</p>\n\n<pre><code>Instance it = new Instance();   //or just Instance it;\n</code></pre>\n\n<p>and then access the function via:</p>\n\n<pre><code>it.CheckKeyPress();\n</code></pre>\n\n<ol start=\"2\">\n<li>If the method is <code>static</code>:</li>\n</ol>\n\n<p>In this case you need to call the method as:</p>\n\n<pre><code>Input::CheckKeyPress(w)\n</code></pre>\n\n<p>without just the return type (<code>bool</code>).</p>\n\n<p>Hope this is helpful.  Thank you for your inputs, @user4581301.</p>\n"}], "owner": {"reputation": 103, "user_id": 7657221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1734a141c460fb30e26c6ba980468266?s=128&d=identicon&r=PG&f=1", "display_name": "DogWalkersCoding", "link": "https://stackoverflow.com/users/7657221/dogwalkerscoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 42676439, "answer_count": 1, "score": -1, "last_activity_date": 1489678131, "creation_date": 1488989615, "question_id": 42676396, "link": "https://stackoverflow.com/questions/42676396/how-to-check-if-bool-method-returns-value-in-an-if-statement-c", "title": "How to check if bool method returns value in an if statement C++", "body": "<p>I'm having a go at creating classes and have created this method inside\n<strong>Input.cpp:</strong></p>\n\n<pre><code>bool Input::CheckKeyPress(char key)\n{\n    SDL_Event ev;\n\n    while (SDL_PollEvent(&amp;ev))\n    {\n        keyState = SDL_GetKeyboardState(NULL);\n\n        if (ev.type == SDL_KEYDOWN)\n        {\n            switch (key)\n            {\n            case 'w' :\n                if (keyState[SDL_SCANCODE_W])\n                {\n                    return 1;\n                }\n                else\n                {\n                    return 0;\n                }\n            case 'a' :\n                if (keyState[SDL_SCANCODE_A])\n                {\n                    return 1;\n                }\n                else\n                {\n                    return 0;\n                }\n            case 's' :\n                if (keyState[SDL_SCANCODE_S])\n                {\n                    return 1;\n                }\n                else\n                {\n                    return 0;\n                }\n            case 'd' :\n                if (keyState[SDL_SCANCODE_D])\n                {\n                    return 1;\n                }\n                else\n                {\n                    return 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I try to use it in an if-statement in my main class like so:</p>\n\n<pre><code>if (bool Input::CheckKeyPress(w))\n    {\n        //do stuff\n    }\n</code></pre>\n\n<p>However as expected I get an error saying: \"<strong>A function type is not allowed here</strong>\" So what do I do?</p>\n"}, {"tags": ["c++", "c++11", "templates", "constexpr", "expression-evaluation"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1488989691, "post_id": 42676391, "comment_id": 72477347, "body": "Why should a <code>constexpr</code> <code>throw</code> a runtime exception, if it&#39;s all aboout compile time? That looks like a silly question. Rather use a <code>std::static_assert()</code>."}, {"owner": {"reputation": 11117, "user_id": 1554020, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49118fbd7e64a00bc99b19d41e5e28e0?s=128&d=identicon&r=PG", "display_name": "yuri kilochek", "link": "https://stackoverflow.com/users/1554020/yuri-kilochek"}, "edited": false, "score": 2, "creation_date": 1488989873, "post_id": 42676391, "comment_id": 72477491, "body": "Evaluation is not instantiation."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1488989888, "post_id": 42676391, "comment_id": 72477501, "body": "Grias de Nachbar BTW."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1488991836, "post_id": 42676391, "comment_id": 72478931, "body": "Seems like you need constexpr if"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1488997016, "post_id": 42676391, "comment_id": 72482116, "body": "This has nothing to do w/ constexpr. Try <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">godbolting it without constexpr</a> you need an ending condition see <a href=\"http://stackoverflow.com/a/22800374/1708801\">this question</a>"}], "answers": [{"tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 2, "last_activity_date": 1488997164, "creation_date": 1488997164, "answer_id": 42678938, "question_id": 42676391, "link": "https://stackoverflow.com/questions/42676391/c-constexpr-expression-evaluation/42678938#42678938", "title": "C++ constexpr expression evaluation", "body": "<p>You're misunderstanding what it means to evaluate something. Evaluation is something that happens at execution time (even if that execution happens while the compiler is running).</p>\n\n<p>Template instantiation is a <em>static</em> property of your code. If you write <code>times&lt;N-1&gt;</code> you are asking to instantiate that template. It doesn't matter if you call that function or not; you write the instantiation, so it gets instantiated.</p>\n\n<p>This is why recursive metaprogramming usually handles the terminal case through a template specialization.</p>\n\n<p>This is why <code>if constexpr</code> was added to C++17. Because it has the power to, not merely conditionally evaluate statements, but conditionally <em>discard</em> statements, making the other branch effectively not exist. Which is not something that ever existed before. This allows the other branch to contain code that would have been statically il-formed otherwise.</p>\n\n<p>So this would work:</p>\n\n<pre><code>if constexpr(N &lt; 0) return 0 else return y+times&lt;N-1&gt;(y);\n</code></pre>\n\n<p>The second clause would be discarded and thus not instantiated.</p>\n\n<p>So the statement is correct; subexpressions are conditionally evaluated. You're just misinterpreting how it applies to your case.</p>\n"}], "owner": {"reputation": 407, "user_id": 5967798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0aK8f.jpg?s=128&g=1", "display_name": "Stefan Moosbrugger", "link": "https://stackoverflow.com/users/5967798/stefan-moosbrugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 42678938, "answer_count": 1, "score": 2, "last_activity_date": 1488997164, "creation_date": 1488989603, "last_edit_date": 1495540832, "question_id": 42676391, "link": "https://stackoverflow.com/questions/42676391/c-constexpr-expression-evaluation", "title": "C++ constexpr expression evaluation", "body": "<p>I have a question regarding following comment about conditional expressions used in constexpr functions:</p>\n\n<blockquote>\n  <p>A branch of a conditional expression that is not taken in a constexpr function is not evaluated. <em>Source:</em> <a href=\"https://stackoverflow.com/questions/26125441/conditional-evaluation-of-functions\">conditional evaluation of functions</a></p>\n</blockquote>\n\n<p>As already written in the source you can have constexpr functions like</p>\n\n<pre><code>constexpr int check(int i) {\n    return (0&lt;=i &amp;&amp; i&lt;10) ? i : throw out_of_range();\n}\n</code></pre>\n\n<p>and only the branch that is taken is evaluated. So far, so good. But why is this invalid in combination with templates. So let's take this basic example here:</p>\n\n<pre><code>template &lt;int N&gt;\nconstexpr int times(int y) {\n    return (N&lt;0) ? 0 : y+times&lt;N-1&gt;(y);\n}\n\ntimes&lt;5&gt;(10);\n</code></pre>\n\n<p>The compilation fails because the template instantiation depth exceeds the maximum even though the <code>false</code> branch of the conditional is only taken 4 times. Then it should take the <code>true</code> branch and return 0. Of course it can be rewritten using <code>enable_if</code> or whatever but I only would like to know following things:</p>\n\n<ul>\n<li><p>Is this statement not valid when it comes to subexpression type evaluation? </p></li>\n<li><p>Why does this fail even though the statement above claims that the subexpression is not evaluated? I guess the types have to be evaluated anyway (e.g., to check if the requirement that both branches of the conditional are having the same type is fulfilled) and therefore it ends in an infinite template instantiation. Correct assumption?</p></li>\n<li><p>Is there a place in the c++ standard that describes this behavior?</p></li>\n</ul>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1488989736, "post_id": 42676331, "comment_id": 72477391, "body": "I would use a much larger image size to test and <code>std::chrono</code> instead to time. Also your code could be optimized out since you do nothing with the val. A smart compiler/optimizer could determine there is no point of your loops at all."}, {"owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1488990862, "post_id": 42676331, "comment_id": 72478227, "body": "Yes in fact in a first time i was trying to improve a function that i wrote using pointer instead of at method but i realized i was way slower with my pointer so i just created this little useless program to test only the access to the memory and compare.  I just tried with a bigger image (10000x10000) but the result still tell me that time with ptr is greater than time without pointer :/"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1488991210, "post_id": 42676331, "comment_id": 72478497, "body": "Did you do something with <code>val</code> in your larger example? Perhaps just summing the pixel values."}, {"owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1488991923, "post_id": 42676331, "comment_id": 72478991, "body": "Yes i changed and i do :      val += image.at&lt;int&gt;(i, j);  &amp;      val += myval[i];  I also took your advice and use std::chrono !  But still same result :/"}, {"owner": {"reputation": 2124, "user_id": 6055233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041547c8fcabcab4b2536d730fa01d03?s=128&d=identicon&r=PG&f=1", "display_name": "Catree", "link": "https://stackoverflow.com/users/6055233/catree"}, "edited": false, "score": 0, "creation_date": 1488994990, "post_id": 42676331, "comment_id": 72480929, "body": "Not sure if the benchmark is correct (it is not easy to write a correct benchmark). What is the result with? <code>for (int i = 0; i &lt; height; i++) {   for (int j = 0; j &lt; width; j++) {     val = image.ptr&lt;int&gt;(i)[j];   } }</code>"}, {"owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "edited": false, "score": 0, "creation_date": 1489050724, "post_id": 42676331, "comment_id": 72504808, "body": "Ok I tried that ! But even if it is better than my &quot;time with pointer&quot;, it still is generally slower than the Mat::cv::at method !  In order to make a more precise measurement, I make the measure 500 times and I take the mean.  The results are :     Time with ptr : 2.3308e-08    Time without ptr : 2.3192e-08    Time with ptr Catree : 2.3202e-08"}, {"owner": {"reputation": 2124, "user_id": 6055233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041547c8fcabcab4b2536d730fa01d03?s=128&d=identicon&r=PG&f=1", "display_name": "Catree", "link": "https://stackoverflow.com/users/6055233/catree"}, "edited": false, "score": 0, "creation_date": 1489069438, "post_id": 42676331, "comment_id": 72517479, "body": "@A.Piro So now you get almost the same execution time for all the methods? I don&#39;t think the benchmark is meaningful. In my opinion, the difference could be due to anything: a slight CPU overload (there are multiple processes run at the same time on a modern OS), different scheduling, CPU Turbo Boost, etc."}, {"owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "edited": false, "score": 0, "creation_date": 1489072614, "post_id": 42676331, "comment_id": 72519769, "body": "Mmh I think I see what you mean ! You&#39;re probably right ! Is there a way to tackle these kind of problem except by restarting the computer ?"}], "owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488989442, "creation_date": 1488989442, "question_id": 42676331, "link": "https://stackoverflow.com/questions/42676331/access-memory-with-a-pointer-vs-cvmatat-method", "title": "Access Memory with a pointer vs cv::Mat::at method", "body": "<p>After doing some research on the subject I thought that accessing the elements from a cv::Mat element would be faster than using at method (because apparently at checks for boundaries everytime and makes multiplications if I understood correctly) !</p>\n\n<p>Though, i wrote a little test and using at seems to be about 1000 times faster everytime :/ ! So i guess i'm doing something wrong but i can't figure out what ..</p>\n\n<p>There is my piece of code :</p>\n\n<pre><code>int main(int argc, char **argv) {\n\nint k = 0;\n\nint size[] = {100, 100};\n\ncv::Mat image(2, size, CV_32SC1, cv::Scalar::all(0));\n\nfor (int i = 0; i &lt; size[0]; i++) {\n  for (int j = 0; j &lt; size[1]; j++) {\n    image.at&lt;int&gt;(i, j) = k;\n    k++;\n  }\n}\n\nint *myval;\n\nint width = image.cols;\nint height = image.rows;\n\nmyval = image.ptr&lt;int&gt;(0);\nint val;\n\ndouble t = (double)cv::getTickCount();\nfor (int i = 0; i &lt; height*width; i++) {\n    val = myval[i];\n}\nt = ((double)cv::getTickCount() - t) / cv::getTickFrequency();\nstd::cout &lt;&lt; \"time ptr : \" &lt;&lt; t &lt;&lt; std::endl;\n\nt = (double)cv::getTickCount();\nfor (int i = 0; i &lt; height; i++) {\n  for (int j = 0; j &lt; width; j++) {\n    val = image.at&lt;int&gt;(i, j);\n  }\n}\nt = ((double)cv::getTickCount() - t) / cv::getTickFrequency();\nstd::cout &lt;&lt; \"time without ptr : \" &lt;&lt; t &lt;&lt; std::endl;\n</code></pre>\n\n<p>}</p>\n\n<p>So basically, it just acces every element of my matrix once and do nothing.\nThough i get these kind of results :</p>\n\n<pre><code>time ptr : 0.00017332\ntime without ptr : 2.77e-07\n</code></pre>\n\n<p>or </p>\n\n<pre><code>time ptr : 4.0991e-05\ntime without ptr : 7.6e-08\n</code></pre>\n\n<p>If someone could give me some explainations or new ideas that would be really cool !</p>\n\n<p>Thank you all :)</p>\n"}, {"tags": ["c++", "qt", "qt5", "keypress", "qt3d"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1488991697, "post_id": 42676329, "comment_id": 72478831, "body": "<code>SceneModifier</code> inherits from <code>QObject</code> and it has not implemented the <code>keyPressEvent</code> method"}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1488993130, "creation_date": 1488993130, "answer_id": 42677629, "question_id": 42676329, "link": "https://stackoverflow.com/questions/42676329/keypress-events-in-qt-3d/42677629#42677629", "title": "Keypress events in Qt 3D", "body": "<p><code>SceneModifier</code> inherits from <code>QObject</code> and it has not implemented the <code>keyPressEvent</code> method. </p>\n\n<p>The <code>keyPressEven</code>t method belongs to the windows, in this case <code>Qt3DWindow</code>, so we create a class that inherits from it and implement the <code>keyPressEvent</code> method.</p>\n\n<p><strong>my3dwindow.h</strong></p>\n\n<pre><code>#ifndef MY3DWINDOW_H\n#define MY3DWINDOW_H\n\n#include &lt;Qt3DExtras/Qt3DWindow&gt;\n\nclass My3DWindow: public Qt3DExtras::Qt3DWindow\n{\n    Q_OBJECT\npublic:\n    My3DWindow(QScreen *screen = nullptr);\n    ~My3DWindow();\n\nprotected:\n\n    void keyPressEvent(QKeyEvent *ev);\n};\n\n#endif // MY3DWINDOW_H\n</code></pre>\n\n<p><strong>my3dwindow.cpp</strong></p>\n\n<pre><code>#include \"my3dwindow.h\"\n#include &lt;QDebug&gt;\n#include &lt;QKeyEvent&gt;\n\nMy3DWindow::My3DWindow(QScreen *screen):Qt3DExtras::Qt3DWindow(screen)\n{\n\n}\n\nMy3DWindow::~My3DWindow()\n{\n\n}\n\nvoid My3DWindow::keyPressEvent(QKeyEvent *ev)\n{\n    switch (ev-&gt;key()) {\n    case Qt::Key_W:\n        qDebug()&lt;&lt;\"Key is pressed\";\n        break;\n    default:\n        break;\n    }\n}\n</code></pre>\n\n<p>Change:</p>\n\n<pre><code>Qt3DExtras::Qt3DWindow *view = new Qt3DExtras::Qt3DWindow();\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>My3DWindow *view = new My3DWindow();\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>[...]\n#include \"my3dwindow.h\"\n\nint main(int argc, char **argv)\n{\n    QApplication app(argc, argv);\n    My3DWindow *view = new My3DWindow();\n    view-&gt;defaultFrameGraph()-&gt;setClearColor(QColor(QRgb(0x4d4d4f)));\n\n [...]\n</code></pre>\n\n<p><a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/basicshapes-cpp-modified\" rel=\"nofollow noreferrer\">Complete code</a></p>\n"}], "owner": {"reputation": 28, "user_id": 7225914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608d2812f9e439bb5943eee809ee7c88?s=128&d=identicon&r=PG&f=1", "display_name": "Mikolaj", "link": "https://stackoverflow.com/users/7225914/mikolaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 42677629, "answer_count": 1, "score": 0, "last_activity_date": 1489164530, "creation_date": 1488989438, "last_edit_date": 1489164530, "question_id": 42676329, "link": "https://stackoverflow.com/questions/42676329/keypress-events-in-qt-3d", "title": "Keypress events in Qt 3D", "body": "<p>I'm learning 3D using Qt and got a problem. I'm analyzing example: <a href=\"https://doc.qt.io/qt-5/qt3d-basicshapes-cpp-example.html\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qt3d-basicshapes-cpp-example.html</a></p>\n\n<p>and now I wanted to modify it: when user presses a key (let's say 'w') something is moving (or just debug print at this stage). I tried to write a <code>keyPressEvent</code> function but I have no effect. Shall I do it in different way than in standard 2D app?</p>\n\n<pre><code>void SceneModifier::keyPressEvent(QKeyEvent *event)\n{\n    switch(event-&gt;key())\n    {\n        case Qt::Key_W:\n        {\n            qDebug()&lt;&lt;\"Key is pressed\";\n            break;\n        }\n        default:\n        break;\n     }\n}\n</code></pre>\n\n<p>Cheers, \nMikolaj</p>\n"}, {"tags": ["c++", "sorting"], "comments": [{"owner": {"reputation": 10545, "user_id": 238902, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BRFti.png?s=128&g=1", "display_name": "Default", "link": "https://stackoverflow.com/users/238902/default"}, "edited": false, "score": 1, "creation_date": 1488990691, "post_id": 42676325, "comment_id": 72478100, "body": "side note: instead of using a temporary you can use <a href=\"http://en.cppreference.com/w/cpp/algorithm/swap\" rel=\"nofollow noreferrer\"><code>std::swap</code></a>"}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 1, "creation_date": 1488990783, "post_id": 42676325, "comment_id": 72478172, "body": "How about starting the inner for loop from <code>1</code> instead of a <code>0</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "is_accepted": true, "score": 1, "last_activity_date": 1488990527, "creation_date": 1488990527, "answer_id": 42676721, "question_id": 42676325, "link": "https://stackoverflow.com/questions/42676325/sort-consecutive-elements-based-on-duration-time-c/42676721#42676721", "title": "Sort consecutive elements based on duration time C++", "body": "<p>If you put arrival and duration in an <code>std::pair&lt;int,int&gt;</code> and put that pair in a <code>std::set</code>, they will be sorted as expected.  If needed, you can make 2 new vectors with the sorted values.</p>\n\n<p>A bit cleaner would be to use a struct with the needed fields, but then you should define a compare function to decide the order.</p>\n"}], "owner": {"reputation": 69, "user_id": 4699562, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/062e887e19a22edd97e657fbd3cd70e7?s=128&d=identicon&r=PG&f=1", "display_name": "Mow1993", "link": "https://stackoverflow.com/users/4699562/mow1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 42676721, "answer_count": 1, "score": 0, "last_activity_date": 1488990527, "creation_date": 1488989419, "question_id": 42676325, "link": "https://stackoverflow.com/questions/42676325/sort-consecutive-elements-based-on-duration-time-c", "title": "Sort consecutive elements based on duration time C++", "body": "<p>I'm working on a code that requires me to do the following,\ngiven two vectors: </p>\n\n<pre><code>arrival  : 0 0 1 8 9 10 20 20 30 40 41 42 42 43 44 \nduration : 4 3 1 5 3 1  15 2  2  5  3  1  16 3  1\n</code></pre>\n\n<p>I'm trying to iterate over the vectors and when I find two or more consecutive elements, I need to sort them according to their duration in ascending order. \nSo the output should be the following: </p>\n\n<pre><code>arrival  : 0 0 1 8 9 10 20 20 30 40 41 42 42 43 44\nduration : 3 4 1 5 3 1  2  15 2  5  3  1  16 3  1\n</code></pre>\n\n<p>As you can see, the duration for the first two 0's has been swapped. \nHowever, somehow it's swapping 16 with 1 for the arrival time 42</p>\n\n<pre><code>int p[pnum];\nint temp;\nfor(int i=1;i&lt;=pnum;i++){p[i] = i;}\n\nfor(int i=0;i&lt;pnum;i++)\n{\n    for(int j=0;j&lt;pnum;j++)\n    {\n        if(arrival[i]&lt;arrival[j])\n        {\n            temp=p[j];\n            p[j]=p[i];\n            p[i]=temp;\n            temp=arrival[j];\n            arrival[j]=arrival[i];\n            arrival[i]=temp;\n            temp=duration[j];\n            duration[j]=duration[i];\n            duration[i]=temp;\n        }\n    }\n}\n</code></pre>\n\n<p>How can I fix this to get the right output? please help!</p>\n"}, {"tags": ["c++", "c++11", "templates", "visual-c++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1488989468, "post_id": 42676304, "comment_id": 72477180, "body": "Perhaps ask the linker to generate a map file and look through it?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 7607456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859253096375bb61ae2c1fe344fa3085?s=128&d=identicon&r=PG&f=1", "display_name": "zomeck", "link": "https://stackoverflow.com/users/7607456/zomeck"}, "is_accepted": false, "score": 0, "last_activity_date": 1489407728, "last_edit_date": 1495535408, "creation_date": 1489407728, "answer_id": 42763544, "question_id": 42676304, "link": "https://stackoverflow.com/questions/42676304/find-duplicated-template-instantiations-in-object-files/42763544#42763544", "title": "Find duplicated template instantiations in object files", "body": "<p>This <a href=\"https://stackoverflow.com/questions/11403417/automatically-count-the-number-of-instantiated-classes-in-a-tmp\">stack overflow question</a> is very similar. In their case is when doing template meta programming.</p>\n\n<p>I think the direct answer will not be provided by the compiler. Also the number count might not be the best metric (no doubt that it is quite useful).\nA big template class will take much more time than 5 one line template functions.</p>\n\n<p>At my work we have been looking at this since our compile times are quite long. What helped us is to actually check the time each file/library takes to compile and analyze that. Often it is template instantiation. In windows, specially on debug, the linking is quite slow for us. Having smaller modules helped on that. Also using the Pimpl idiom and forward declarations helped as they will allow to reduce the ripple of files needed to be compiled when an implementation detail changes. In addition the module will also export less symbols</p>\n"}], "owner": {"reputation": 8871, "user_id": 1132871, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IO6V2.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1132871/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489407728, "creation_date": 1488989375, "last_edit_date": 1488989598, "question_id": 42676304, "link": "https://stackoverflow.com/questions/42676304/find-duplicated-template-instantiations-in-object-files", "title": "Find duplicated template instantiations in object files", "body": "<p>I want to optimize the compilation/linkage time of the project by defining as much as possible templates as <code>extern</code> and instantiating them only once.</p>\n\n<p>I order to achieve that I would like to know which template instantiations are created more that once.</p>\n\n<p>Due to the fact that linkers mostly throw away such duplicates I think that the information about what exactly happened on linkage would be very useful.</p>\n\n<p>Is there any flag for <code>MSVC</code> linker that would show me such information?</p>\n"}, {"tags": ["c++", "qt", "32bit-64bit", "moc"], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 7647540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c6f798cf59ec00b873010ed8f60f5c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Navie", "link": "https://stackoverflow.com/users/7647540/navie"}, "edited": false, "score": 0, "creation_date": 1489047552, "post_id": 42681937, "comment_id": 72502813, "body": "Thank you Kuba. This was very helpful and answered my question as I expected."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1489007577, "last_edit_date": 1489007577, "creation_date": 1489007264, "answer_id": 42681937, "question_id": 42676262, "link": "https://stackoverflow.com/questions/42676262/qt-moc-exe-difference-between-32-and-64-bit-version/42681937#42681937", "title": "Qt moc.exe - difference between 32 and 64-Bit version?", "body": "<blockquote>\n  <p>Does it make any difference if I let my application with 64-Bit target architecture be built (and processed) by the 32-Bit or 64-Bit moc.exe version?</p>\n</blockquote>\n\n<p>Yes. <strong>Such mixing-and-matching is not supported.</strong> It might work, but it might break since nobody tests it to ensure that it works. Qt has an extensive test suite that runs in the continuous integration process. Something like this being untested is a big hint that you're on your own if you depend on it. Don't complain if you run into strange runtime bugs. Don't do it.</p>\n\n<blockquote>\n  <p>what the difference is</p>\n</blockquote>\n\n<p>Anything and everything. All that Qt guarantees as a contract with you is that the moc output <em>from a previous binary-compatible Qt version</em> retains forward binary compatibility. E.g. if you have moc output from Qt 5.7, and you build a shared binary of your application, then replace Qt with binary-compatible 5.8, the old moc output is valid and Qt 5.8 knows how to use it safely. That's all.</p>\n\n<p>Since, obviously, 32- and 64-bit Qt versions are <em>not</em> binary-compatible, you should not expect the moc output to be either. If it happens to be, it's a coincidence and nothing in the design guarantees it. It can break at any time.</p>\n\n<p>You shouldn't be facing this problem since <code>qmake</code>/<code>qbs</code>/<code>cmake</code> will use the correct <code>moc</code> for you. It seems like perhaps you're trying to preprocess the sources using <code>moc</code> so that further use of <code>moc</code> won't be necessary while building the project. This strategy will not work. You need to learn how to leverage the build tools to build your project using the code generators it needs.</p>\n\n<p><code>moc</code> is not the only build tool provided by Qt you might end up using in a Qt-based project. Furthermore, projects of any significant size should be using many other code generators as well to make you more productive. Avoiding code generation as a policy is counter-productive. As in: it will cost you more.</p>\n"}], "owner": {"reputation": 124, "user_id": 7647540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c6f798cf59ec00b873010ed8f60f5c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Navie", "link": "https://stackoverflow.com/users/7647540/navie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 42681937, "answer_count": 1, "score": 0, "last_activity_date": 1489007577, "creation_date": 1488989272, "question_id": 42676262, "link": "https://stackoverflow.com/questions/42676262/qt-moc-exe-difference-between-32-and-64-bit-version", "title": "Qt moc.exe - difference between 32 and 64-Bit version?", "body": "<p>I am trying to find out what the difference is between the moc.exe (Qt meta object compiler) in the respective 32-bit and the 64-bit subfolder of Qt5.</p>\n\n<p>Does it make any difference if I let my application with 64-Bit target architecture be built (and processed) by the 32-Bit or 64-Bit moc.exe version?</p>\n\n<p>I couldn't find any info on this. If anybody has a clue or an idea what the difference is (beside being compiled for the according architecture and having a different file size of course) or if this makes a difference at all (as it only generates cpp files) I'd be very interested to know.</p>\n\n<p>Thanks in advance\nSamir</p>\n"}, {"tags": ["c++", "winapi", "windows-10"], "comments": [{"owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1488990093, "post_id": 42676256, "comment_id": 72477666, "body": "@&#208;\u0430n <code>bas</code> doesn&#39;t even return an index, <code>.bas</code> works just like <code>a.bas</code> and returns index, but not path. The documentation seems to be sloppy there."}, {"owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1488991610, "post_id": 42676256, "comment_id": 72478780, "body": "@&#208;\u0430n Aren&#39;t icons usually stored in their associated executable (.pdf = Acrobat Reader, .7z = 7zip etc.)? I think this method should work at least for some extensions (I&#39;ve tried many). I thought something might have changed in Windows 10, but then I found <a href=\"http://stackoverflow.com/questions/18308866/shgetfileinfo-not-return-the-icon-location\">this question</a> from 2013 ... without any answers."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1488992297, "post_id": 42676256, "comment_id": 72479220, "body": "Why do you need the icon location? Simply use SHGFI_ICON flag and let the system give you an icon handle and an index into the system icon list to you. If you want to look up the icon in the system image list yourself, use SHGFI_SYSICONINDEX."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1489008869, "post_id": 42676256, "comment_id": 72488783, "body": "&quot;<i>Aren&#39;t icons usually stored in their associated executable</i>&quot; - sometimes, but not always."}], "answers": [{"tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": true, "score": 3, "last_activity_date": 1488992360, "creation_date": 1488992360, "answer_id": 42677356, "question_id": 42676256, "link": "https://stackoverflow.com/questions/42676256/i-cant-get-shgetfileinfo-to-return-an-icon-location/42677356#42677356", "title": "I can&#39;t get SHGetFileInfo to return an icon location", "body": "<p>Icons can be dynamically generated and might not expose the path to its images. Icon handlers communicate this to the shell by setting the <code>GIL_NOTFILENAME</code> flag in their <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb761852(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>IExtractIcon::GetIconLocation</code></a> implementation. If <code>GIL_SIMULATEDOC</code> is set the shell must also typically generate a icon on the fly.</p>\n\n<p>If you call <code>SHGetFileInfo</code> with the <code>SHGFI_SELECTED</code> flag set then then function probably has to generate a new icon no matter which file type you are asking for.</p>\n\n<p>If you are displaying a file list in a ListView/TreeView then you typically use <code>SHGFI_SYSICONINDEX|SHGFI_SHELLICONSIZE|SHGFI_SMALLICON</code> and use the system image list.</p>\n\n<p>Use <code>SHGFI_ICON</code> if you need a HICON.</p>\n\n<p>If <code>SHGFI_ICONLOCATION</code> is specified then <code>SHGetFileInfo</code> uses IExtractIcon:</p>\n\n<blockquote>\n  <p>Retrieve the name of the file that contains the icon representing the file specified by pszPath, as returned by the IExtractIcon::GetIconLocation method of the file's icon handler.</p>\n</blockquote>\n"}], "owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 42677356, "answer_count": 1, "score": -1, "last_activity_date": 1488992360, "creation_date": 1488989247, "last_edit_date": 1495540821, "question_id": 42676256, "link": "https://stackoverflow.com/questions/42676256/i-cant-get-shgetfileinfo-to-return-an-icon-location", "title": "I can&#39;t get SHGetFileInfo to return an icon location", "body": "<p>I'm on Windows 10 Pro and Visual Studio 2013, and I'm using <a href=\"https://msdn.microsoft.com/ru-ru/library/windows/desktop/bb762179(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SHGetFileInfoW</code></a> to get an icon location (path + index) for a file type:</p>\n\n<pre><code>std::wstring wFile { L\"a.bas\" };\nSHFILEINFOW fi {};    \nDWORD success = ::SHGetFileInfoW(wFile.c_str(), \n                                 FILE_ATTRIBUTE_NORMAL, \n                                 &amp;fi, \n                                 sizeof(fi),\n                                 SHGFI_USEFILEATTRIBUTES | SHGFI_ICONLOCATION);\n</code></pre>\n\n<p>No matter whether <code>wFile</code> refers to an existing file or is just any filename, the call returns <em>1</em> indicating success. The <code>iIcon</code> member of <code>fi</code> is set to a number, but <code>szDisplayString</code> is empty. Not just the drive letter is overwritten with <code>\\0</code> (as seemed to happen <a href=\"https://stackoverflow.com/questions/21885231/how-to-get-the-location-and-index-of-an-icon-in-a-lnk-shortcut-with-shgetfile\">here</a>) but it is completely filled with <code>\\0</code>.</p>\n\n<p>Microsoft recommends using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb761854(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>IExtractIcon</code></a><code>::</code><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb761852(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>GetIconLocation</code></a> as an alternative, but I need to get the icon for files which are not on a local filesystem, so I can't get an <code>IShellInfo</code> object which would get me this interface pointer.</p>\n\n<p>Getting an icon handle works, on the other hand. Is this function just buggy or am I doing something wrong? Is there a workaround?</p>\n"}, {"tags": ["c++", "arrays", "type-conversion"], "comments": [{"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1488989354, "post_id": 42676041, "comment_id": 72477090, "body": "Atomic weight (could be a float number) or mass number (integer)? Whatever, computing both depends on elements! Extracting numbers from the formula won&#39;t give you anything interesting...or I missed some point?"}, {"owner": {"reputation": 15, "user_id": 7238861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VowOd.jpg?s=128&g=1", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/7238861/yury-stanev"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1488990204, "post_id": 42676041, "comment_id": 72477734, "body": "I&#39;m aware of that, the reason I&#39;m trying to extract numbers from the formula is to know number of atoms of element in the compound. Such as water 2 atoms of Hydrogen &amp; 1 atom Oxygen. =&gt; 2*Hydrogen_Weight + Oxygen_Weight"}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 0, "creation_date": 1488991857, "post_id": 42676041, "comment_id": 72478950, "body": "@YuryStanev, so you mean, you wish to extract <code>2</code> (for Hydrogen) and <code>1</code> (for Water) from H2O?"}, {"owner": {"reputation": 15, "user_id": 7238861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VowOd.jpg?s=128&g=1", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/7238861/yury-stanev"}, "reply_to_user": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 0, "creation_date": 1488994135, "post_id": 42676041, "comment_id": 72480360, "body": "@abhishek_naik Yes that&#39;s exactly what I want."}, {"owner": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 1, "creation_date": 1488994338, "post_id": 42676041, "comment_id": 72480485, "body": "@YuryStanev, in that case, you can just extract each character and test whether it is a number on not.  You while of course have to handle the case wherein the element appears without any suffix number (like just H2O instead of H2O1)."}, {"owner": {"reputation": 15, "user_id": 7238861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VowOd.jpg?s=128&g=1", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/7238861/yury-stanev"}, "reply_to_user": {"reputation": 1220, "user_id": 2172854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hm0Q1.png?s=128&g=1", "display_name": "abhishek_naik", "link": "https://stackoverflow.com/users/2172854/abhishek-naik"}, "edited": false, "score": 0, "creation_date": 1488995887, "post_id": 42676041, "comment_id": 72481479, "body": "@abhishek_naik That&#39;s what I&#39;m trying to do, but the atoi() doesn&#39;t seem to take a <code>char</code> as a parameter."}, {"owner": {"reputation": 1830, "user_id": 22129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdbc4bd0eec38371f23e6715e654306?s=128&d=identicon&r=PG", "display_name": "inkredibl", "link": "https://stackoverflow.com/users/22129/inkredibl"}, "edited": false, "score": 0, "creation_date": 1488996910, "post_id": 42676041, "comment_id": 72482055, "body": "atoi takes char arrays not single chars. You could copy the digit chars to another string, add null terminator to it and convert that way (if you expect more than one digit at a time), otherwise you could just subtract value of &#39;0&#39; from the digit char and get numeric value that way."}, {"owner": {"reputation": 15, "user_id": 7238861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VowOd.jpg?s=128&g=1", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/7238861/yury-stanev"}, "reply_to_user": {"reputation": 1830, "user_id": 22129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdbc4bd0eec38371f23e6715e654306?s=128&d=identicon&r=PG", "display_name": "inkredibl", "link": "https://stackoverflow.com/users/22129/inkredibl"}, "edited": false, "score": 0, "creation_date": 1488999184, "post_id": 42676041, "comment_id": 72483416, "body": "@inkredibl I&#39;ve done what you said <code>k = collection[i].formula[j] - &#39;o&#39;;</code>, but instead of printing 2 after <code>cout &lt;&lt; k &lt;&lt; &quot; &quot;;</code> it print -55 twice. I don&#39;t know what seems to be the cause. My full code can be seen <a href=\"http://pastebin.com/QG6rUSDJ\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1489001193, "post_id": 42676041, "comment_id": 72484602, "body": "@YuryStanev read <code>atoi</code> manual! It takes a <code>char *</code> and convert the c-string to an int value. What you need is your own parsing. Substracting <code>0</code> must be done on digits only, but this is not a good solution either as their could be more than 9 atoms of a given element in a molecule. And elements sometime use two letters... No simple solution."}], "owner": {"reputation": 15, "user_id": 7238861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VowOd.jpg?s=128&g=1", "display_name": "Yury Stanev", "link": "https://stackoverflow.com/users/7238861/yury-stanev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488995927, "creation_date": 1488988663, "last_edit_date": 1488995927, "question_id": 42676041, "link": "https://stackoverflow.com/questions/42676041/converting-parts-of-char-array-to-int-array-for-calculations", "title": "Converting parts of char array to Int array for calculations", "body": "<p>I have an array of structs which contains Formula Name, and Chemical Compound. I need to calculate atomic weight of compound. </p>\n\n<pre><code>   struct compounds{\n        char name[20]; // Dihydrogen Monoxide (Water) \n        char formula[30]; //H2O\n    };\n</code></pre>\n\n<hr>\n\n<pre><code>const int SIZE = 100;\ncompounds collection[SIZE];\nint formula_1[30];\nint k;\n</code></pre>\n\n<hr>\n\n<p>I have trouble converting <code>collection.formula</code> to <code>int</code> values to do the actual weight calculations. I trying to use <code>isdigit()</code> to check for numbers in the formula and <code>atoi()</code> from <code>&lt;studio.h&gt;</code> to convert them to integers. My code is as follows:</p>\n\n<pre><code>for (int i=0; i&lt;SIZE; i++){\n            infile &gt;&gt; collection[i].name &gt;&gt; collection[i].formula;\n            //cout &lt;&lt; collection[i].name &lt;&lt; \" \" &lt;&lt; collection[i].formula &lt;&lt; endl;\n\n            //Convertion CHAR to INT        \n            for(int j=0; j&lt;30; j++){\n                if(isdigit(collection[i].formula[j])){\n                    k = atoi (collection[i].formula[j]);\n                }\n            }\n        }\n</code></pre>\n\n<hr>\n\n<pre><code>//Store in array of INT\nfor (int m=0; m&lt;30; m++){\n    formula_1[m] = k;\n}\n</code></pre>\n\n<hr>\n\n<p>What can be done to convert parts of <code>char</code> array containing numbers to convert them to <code>int</code>? </p>\n\n<p><a href=\"https://i.stack.imgur.com/JwZJq.jpg\" rel=\"nofollow noreferrer\">The Weight Calculation of Water</a></p>\n\n<p>The error message is:</p>\n\n<pre><code>midterm_q2.cpp: In function 'int main()':\nmidterm_q2.cpp:40:39: error: invalid conversion from 'char' to 'const char*' [-fpermissive]\n      k = atoi (collection[i].formula[j]);\n                                       ^\nIn file included from midterm_q2.cpp:3:0:\nc:\\mingw\\include\\stdlib.h:335:38: note:   initializing argument 1 of 'int atoi(const char*)'\n _CRTIMP __cdecl __MINGW_NOTHROW  int atoi (const char *);\n</code></pre>\n"}, {"tags": ["c++", "boost"], "comments": [{"owner": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "edited": false, "score": 1, "creation_date": 1488989069, "post_id": 42676001, "comment_id": 72476885, "body": "Is your number stored in a string? I guess so because <code>double</code> only has 16 significant digits. Or are you using a numeric type defined in boost?"}, {"owner": {"reputation": 17, "user_id": 2657705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ca7b5231763a1f1f1947962f1a8754?s=128&d=identicon&r=PG", "display_name": "Pritesh Patankar", "link": "https://stackoverflow.com/users/2657705/pritesh-patankar"}, "reply_to_user": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "edited": false, "score": 0, "creation_date": 1489078451, "post_id": 42676001, "comment_id": 72524153, "body": "Currently I am using string... Please suggest what to do"}, {"owner": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "edited": false, "score": 0, "creation_date": 1489079635, "post_id": 42676001, "comment_id": 72524988, "body": "The strings are too long to fit into any of the standard numeric types. Therefore you need to use some multi-precision library (boost has some types that might be useful but I can&#39;t help with the details here) or you need to implement the rounding algorithm youself. In the latter case, you could start with the last character, check if it is a digit &gt;=5, if yes, increment the previous character that is a digit and so on, until nothing is left to round. Be sure to treat special cases like 999.9999999999999999999 correctly."}], "owner": {"reputation": 17, "user_id": 2657705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ca7b5231763a1f1f1947962f1a8754?s=128&d=identicon&r=PG", "display_name": "Pritesh Patankar", "link": "https://stackoverflow.com/users/2657705/pritesh-patankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488988552, "creation_date": 1488988552, "question_id": 42676001, "link": "https://stackoverflow.com/questions/42676001/round-off-in-c-on-basis-of-number-length", "title": "Round off in C++ on basis of Number length", "body": "<p>in c++, I need to roundoff number on basis of lenght\nTotal Length of Number should be 18 only including decimal and after decimal only 5 digit </p>\n\n<p>Example 1: if a = 12345678910.12345467 then result should be 12345678910.12345</p>\n\n<p>Example 2: if a=9876543123345667.23445 then result should be 9876543123345667.2</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 5594, "user_id": 1645784, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xZW4T.jpg?s=128&g=1", "display_name": "Aleksei Petrenko", "link": "https://stackoverflow.com/users/1645784/aleksei-petrenko"}, "edited": false, "score": 2, "creation_date": 1488988405, "post_id": 42675893, "comment_id": 72476326, "body": "How does that have an &quot;oop&quot; tag? :)"}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 3, "last_activity_date": 1488988428, "creation_date": 1488988428, "answer_id": 42675939, "question_id": 42675893, "link": "https://stackoverflow.com/questions/42675893/get-position-of-a-character-within-a-string-using-a-pointer/42675939#42675939", "title": "Get position of a character within a string using a pointer", "body": "<p>No. It gives you the <em>address</em> of the element at that position.</p>\n\n<p><code>p - v</code> (the difference between two pointers) will have the value 2, and <em>type</em> <code>std::ptrdiff_t</code>.</p>\n\n<p>The type is important: it is guaranteed to have an adequate size for storing the difference between two pointers.</p>\n"}, {"tags": [], "owner": {"reputation": 5594, "user_id": 1645784, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xZW4T.jpg?s=128&g=1", "display_name": "Aleksei Petrenko", "link": "https://stackoverflow.com/users/1645784/aleksei-petrenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1488988543, "creation_date": 1488988543, "answer_id": 42675998, "question_id": 42675893, "link": "https://stackoverflow.com/questions/42675893/get-position-of-a-character-within-a-string-using-a-pointer/42675998#42675998", "title": "Get position of a character within a string using a pointer", "body": "<p>Citing the <a href=\"http://www.cplusplus.com/reference/cstring/strchr/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Returns: A pointer to the first occurrence of character in str. If the\n  character is not found, the function returns a null pointer.</p>\n</blockquote>\n\n<p>This is kinda self-explanatory. It does not return position, but rather an address.</p>\n\n<p>As @Bathsheba said, you can use pointer difference to calculate the actual position in a string. Or use <code>std::distance</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 2039, "user_id": 1709417, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LLCY0.jpg?s=128&g=1", "display_name": "Nishant Kumar", "link": "https://stackoverflow.com/users/1709417/nishant-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1488988700, "creation_date": 1488988700, "answer_id": 42676057, "question_id": 42675893, "link": "https://stackoverflow.com/questions/42675893/get-position-of-a-character-within-a-string-using-a-pointer/42676057#42676057", "title": "Get position of a character within a string using a pointer", "body": "<blockquote>\n  <p>Return value : Pointer to the found character in str, or a null pointer if no such\n  character is found.</p>\n</blockquote>\n\n<p>In your case <code>p</code> will be a pointer pointing to memory location of <code>c</code>.</p>\n\n<pre><code>std::cout &lt;&lt; p;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>cdefghijklmnopqrstuvwxyz\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "is_accepted": true, "score": 0, "last_activity_date": 1488988817, "creation_date": 1488988817, "answer_id": 42676102, "question_id": 42675893, "link": "https://stackoverflow.com/questions/42675893/get-position-of-a-character-within-a-string-using-a-pointer/42676102#42676102", "title": "Get position of a character within a string using a pointer", "body": "<p>As other answers indicate that returns the address of c, a quick test would be to make it print out the value:</p>\n\n<p>like so:</p>\n\n<pre><code>std::cout &lt;&lt; p &lt;&lt; std::endl;\nstd::cout &lt;&lt; *p &lt;&lt; std::endl;\nstd::cout &lt;&lt; p - v &lt;&lt; std::endl;\n</code></pre>\n\n<p>The results you will get are:</p>\n\n<pre><code>cdefghijklmnopqrstuvwxyz\nc\n2\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4490434"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "closed_date": 1489000801, "accepted_answer_id": 42676102, "answer_count": 4, "score": 0, "last_activity_date": 1488989245, "creation_date": 1488988281, "last_edit_date": 1488989245, "question_id": 42675893, "link": "https://stackoverflow.com/questions/42675893/get-position-of-a-character-within-a-string-using-a-pointer", "closed_reason": "Needs details or clarity", "title": "Get position of a character within a string using a pointer", "body": "<p>I want to get the position of a character within a string I have by searching for that character in the string using <code>strchr</code> and storing that into a pointer <code>*p</code>.\nSo for example:</p>\n\n<pre><code>char v[] = \"abcdefghijklmnopqrstuvwxyz\", *p;\np = strchr(v, 'c');\n</code></pre>\n\n<p>In this particular scenario, would the <code>p</code> pointer hold the value <code>2</code> because <code>c</code>'s position is 2 inside of the string? </p>\n"}, {"tags": ["c++", "c++11", "initializer-list", "c++-standard-library"], "comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 1, "creation_date": 1488987840, "post_id": 42675632, "comment_id": 72475884, "body": "If your class is an <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">aggregate</a>. Otherwise, no."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1488987861, "post_id": 42675632, "comment_id": 72475897, "body": "You can easily create a class emulating <code>std::initializer_list</code>, <b><i>but</i></b> braced list initialization is part of the compiler and not the standard library. It is the compiler that takes the braced initializer list and creates the <code>std::initializer_list</code> object."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1488988065, "post_id": 42675632, "comment_id": 72476056, "body": "I can&#39;t see a way to do it without the language support that was added in C++11 to make it possible.  Of course boost does have an &quot;solution&quot;: <a href=\"http://www.boost.org/doc/libs/1_52_0/libs/assign/doc/index.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_52_0/libs/assign/doc/index.html</a>"}, {"owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488988119, "post_id": 42675632, "comment_id": 72476099, "body": "@Someprogrammerdude I changed the title to better reflect the actual need, thanks!"}, {"owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "edited": false, "score": 0, "creation_date": 1488988273, "post_id": 42675632, "comment_id": 72476211, "body": "Idea: Since variadic templates <i>are</i> supported, maybe the way to go is to make variadic constructors where an &quot;initializer_list&quot; is desired? With the small difference that the list of parameters when calling this constructor should go in parentheses, not in braces."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1488988565, "post_id": 42675632, "comment_id": 72476470, "body": "@Danra Doing that does involve recursion so if it is a big list the compiler is going to have to do a lot of work."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1488990509, "post_id": 42675632, "comment_id": 72477946, "body": "@Danra Variadic templates were introduced in <code>C++11</code>."}, {"owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1488990960, "post_id": 42675632, "comment_id": 72478303, "body": "@Galik See my question: &quot;I <i>can</i> use C++11 (and even C++14) language features. However, with some projects I&#39;m still using libstdc++ on Xcode, which has no C++11 support&quot;. With Xcode, if you use libstdc++, you can use the new C++11 language features, Variadic Templates included, just without the supporting STL that comes with C++11."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1488996681, "post_id": 42675632, "comment_id": 72481912, "body": "It&#39;s as undefined as it gets, but you can probably just take an <code>std::initializer_list</code> implementation from a later libstdc++ version and use it. The library-side code for that is trivial; the magic is almost all in the compiler."}], "answers": [{"comments": [{"owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "edited": false, "score": 0, "creation_date": 1489071149, "post_id": 42679267, "comment_id": 72518714, "body": "there&#39;s no std::initializer_list in the pre-c++11 stdlibc++ which ships with Xcode."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "edited": false, "score": 1, "creation_date": 1489075025, "post_id": 42679267, "comment_id": 72521607, "body": "@Danra: &quot;<i>If it doesn&#39;t, then you&#39;re out of luck.</i>&quot;"}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 2, "last_activity_date": 1489001815, "last_edit_date": 1489001815, "creation_date": 1488998130, "answer_id": 42679267, "question_id": 42675632, "link": "https://stackoverflow.com/questions/42675632/emulating-braced-list-initialization-before-c11-stl/42679267#42679267", "title": "Emulating braced list initialization before C++11 STL", "body": "<p>Your problem is that you have C++11 as a language feature, but the standard library doesn't support it. So you're asking if you can construct containers from <code>initializer_list</code>s.</p>\n\n<p>Yes, but it won't be with the same syntax. This function would be sufficient:</p>\n\n<pre><code>template&lt;typename Container&gt;\nContainer from_list(std::initializer_list&lt;typename Container::value_type&gt; il)\n{\n  return Container(il.begin(), il.end());\n}\n\nauto vec = from_list&lt;std::vector&lt;int&gt;&gt;({1, 2, 3, 4, 5});\n</code></pre>\n\n<p>Standard library containers have constructors that work with iterator pairs. So this should work with any such container.</p>\n\n<p>However, this assumes that the standard library actually has the <code>initializer_list</code> type. If it doesn't, then you're out of luck.</p>\n"}], "owner": {"reputation": 8741, "user_id": 125997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sjHUr.png?s=128&g=1", "display_name": "Danra", "link": "https://stackoverflow.com/users/125997/danra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489001815, "creation_date": 1488987587, "last_edit_date": 1488997739, "question_id": 42675632, "link": "https://stackoverflow.com/questions/42675632/emulating-braced-list-initialization-before-c11-stl", "title": "Emulating braced list initialization before C++11 STL", "body": "<p>In pre C++11's standard library, is there any way to make a class constructor from an <code>std::initializer_list</code>-like object, which would work when with braced list initialization like <code>std::initializer_list</code> does?</p>\n\n<p>I <em>can</em> use C++11 (and even C++14) language features. However, with some projects I'm still using libstdc++ on Xcode, which has no C++11 support, since I need to support OS X 10.6.</p>\n"}, {"tags": ["c++", "parsing", "c++11", "rapidjson"], "answers": [{"tags": [], "owner": {"reputation": 4462, "user_id": 1018640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d63b0bd537a54f53eb85c1471418ad?s=128&d=identicon&r=PG", "display_name": "Milo Yip", "link": "https://stackoverflow.com/users/1018640/milo-yip"}, "is_accepted": false, "score": 1, "last_activity_date": 1489030823, "creation_date": 1489030823, "answer_id": 42686228, "question_id": 42675598, "link": "https://stackoverflow.com/questions/42675598/rapidjson-doc-isobject-returns-false-after-parsing-even-though-doc-gettype/42686228#42686228", "title": "Rapidjson : doc.IsObject() returns false after parsing even though doc.GetType() returns kObjectType", "body": "<p>I cannot reproduce the problem by the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"rapidjson/document.h\"\n\nint main() {\n    rapidjson::Document doc;\n    doc.Parse &lt; rapidjson::kParseStopWhenDoneFlag, rapidjson::UTF8&lt;&gt; &gt;(\"{\\\"version\\\": \\\"170301\\\",\\\"lang\\\": \\\"en\\\"}\");\n    std::cout &lt;&lt; doc.IsObject() &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 740, "user_id": 3441253, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/71f95d0131ba7d28414e825188343e11?s=128&d=identicon&r=PG&f=1", "display_name": "im_infamous", "link": "https://stackoverflow.com/users/3441253/im-infamous"}, "is_accepted": false, "score": 0, "last_activity_date": 1560184209, "creation_date": 1560184209, "answer_id": 56530176, "question_id": 42675598, "link": "https://stackoverflow.com/questions/42675598/rapidjson-doc-isobject-returns-false-after-parsing-even-though-doc-gettype/56530176#56530176", "title": "Rapidjson : doc.IsObject() returns false after parsing even though doc.GetType() returns kObjectType", "body": "<p>The problem is that your and Milo's code work on x86.</p>\n\n<p>In fact it might be failing at runtime on ibm server (in my case).</p>\n\n<p>Easiest guess that the key point is pointer size mismatch. Rapidjson assumes that the pointer size not longer than 64 bits which was not the case for some platforms and thus <code>RAPIDJSON_ALIGN</code> corrupts data to be parsed in a way that it appears no to be a valid object at time of parsing.</p>\n\n<p>The particular solution was to fallback to 64-bit sized pointer via compilation flags (<code>TERASPACE</code>,<code>LLP64</code>) and ensuring that modules actually went teraspace.</p>\n\n<p>Also preprocessor command <code>#pragma datamodel (LLP64)</code> might be used with proper setup verification.</p>\n\n<p>Maybe these tricks would be helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 3015031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8Yxy.jpg?s=128&g=1", "display_name": "MickaelT", "link": "https://stackoverflow.com/users/3015031/mickaelt"}, "is_accepted": false, "score": 0, "last_activity_date": 1613174131, "last_edit_date": 1613174131, "creation_date": 1613171694, "answer_id": 66180238, "question_id": 42675598, "link": "https://stackoverflow.com/questions/42675598/rapidjson-doc-isobject-returns-false-after-parsing-even-though-doc-gettype/66180238#66180238", "title": "Rapidjson : doc.IsObject() returns false after parsing even though doc.GetType() returns kObjectType", "body": "<p>A good way to solve this issue is to copy the std::string into a statically allocated char (byte) array. Make sure to call parse with a statically allocated buffer, instead of dynamic. If you do the conversion making sure you follow JSON standard, rapidjson will work.</p>\n<p>You basically want to store each character into a byte slot as: [0]: '{', [1]: '&quot;', [2]:&quot;v&quot;, [3]: &quot;e&quot; ... (hopefully you see the point). Makes sure you are not storing something like: [0]:'{', [1]:'\\', [2]:&quot;&quot;&quot;, [3]: &quot;v&quot; ... which will lead to another set of issue with the parser.</p>\n<p>Basically, that's what Milo is getting to in his answer below. He used a static string, but that can be easily replaced with a static allocated buffer that can be filled up with JSON characters coming from std::string.</p>\n"}], "owner": {"reputation": 953, "user_id": 292876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e4b8470974222a6976426febc55d225?s=128&d=identicon&r=PG", "display_name": "Opera", "link": "https://stackoverflow.com/users/292876/opera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1613174131, "creation_date": 1488987494, "question_id": 42675598, "link": "https://stackoverflow.com/questions/42675598/rapidjson-doc-isobject-returns-false-after-parsing-even-though-doc-gettype", "title": "Rapidjson : doc.IsObject() returns false after parsing even though doc.GetType() returns kObjectType", "body": "<p>I'm trying to load a JSON document using rapidjson. After parsing, the assertion doc.IsObject() fails and I can't understand why.\nI am absolutely sure that the filename is correct and I tested jsonContent : OK as well.</p>\n\n<p>Here is the loading code :</p>\n\n<pre><code>std::ifstream file(filename);\nstd::string jsonContent( (std::istreambuf_iterator&lt;char&gt;(file)), (std::istreambuf_iterator&lt;char&gt;()));\nrapidjson::Document doc;\ndoc.Parse &lt; rapidjson::kParseStopWhenDoneFlag, rapidjson::UTF8&lt;&gt; &gt;(jsonContent.c_str(), jsonContent.length());\nassert(doc.IsObject());\n</code></pre>\n\n<p>Here is the loaded JSON :</p>\n\n<pre><code>{\n\"version\": \"170301\",\n\"lang\": \"en\"\n}\n</code></pre>\n\n<p>Here is the output :</p>\n\n<pre>MyTest: /home/dev/Projects/myproject/src/loadJson.cpp:85: void  loadFile(const std::string &): Assertion `doc.IsObject()' failed.\nunknown location(0): fatal error in \"MyTest\": signal: SIGABRT (application abort requested)</pre>\n\n<p>I executed this with gdb and got the following information (breakpoint right before assert):</p>\n\n<pre><code>(gdb) p doc\n$1 = {&lt;rapidjson::GenericValue&lt;rapidjson::UTF8&lt;char&gt;, rapidjson::MemoryPoolAllocator&lt;rapidjson::CrtAllocator&gt; &gt;&gt; = {static kDefaultArrayCapacity = 16, static kDefaultObjectCapacity = 16, data_ = {s = {\n        length = 2, hashcode = 2, \n        str = 0x30000006a5b48 &lt;error: Cannot access memory at address 0x30000006a5b48&gt;}, ss = {\n        str = \"\\002\\000\\000\\000\\002\\000\\000\\000H[j\\000\\000\"}, n = {i = {i = 2, \n          padding = \"\\002\\000\\000\"}, u = {u = 2, padding2 = \"\\002\\000\\000\"}, i64 = 8589934594, \n        u64 = 8589934594, d = 4.2439915829186759e-314}, o = {size = 2, capacity = 2, \n        members = 0x30000006a5b48}, a = {size = 2, capacity = 2, elements = 0x30000006a5b48}, f = {\n        payload = \"\\002\\000\\000\\000\\002\\000\\000\\000H[j\\000\\000\", flags = 3}}}, \n  static kDefaultStackCapacity = 1024, allocator_ = 0x7fff00000000, ownAllocator_ = 0x691460, \n  stack_ = {allocator_ = 0x691460, ownAllocator_ = 0x0, stack_ = 0x0, stackTop_ = 0x0, \n    stackEnd_ = 0x0, initialCapacity_ = 0}, parseResult_ = {code_ = **rapidjson::kParseErrorNone,** \n    offset_ = 0}}\n(gdb) p doc.GetType()\n$2 = rapidjson::kObjectType\n(gdb) p doc.IsObject()\n$3 = false\n(gdb) p jsonContent \n$4 = \"{\\n\\t\\\"version\\\": \\\"170301\\\",\\n\\t\\\"lang\\\": \\\"en\\\"\\n}\\n\\n\"\n</code></pre>\n\n<p>I tried all the variants listed <a href=\"http://rapidjson.org/md_doc_stream.html\" rel=\"nofollow noreferrer\">here</a> and I get the same assertion fail with all of them.</p>\n"}, {"tags": ["c++", "visual-studio", "boost"], "comments": [{"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1488988363, "post_id": 42675549, "comment_id": 72476286, "body": "Have you tried a more recent version of boost? I&#39;m using 1.60, with option <code>toolset=msvc-14.0</code> for VS2015, and the file generated is <code>libboost_date_time-vc140-mt-1_60.lib</code>"}, {"owner": {"reputation": 169, "user_id": 4750437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c79c2655f86c60b0e9f16f3a8db5066?s=128&d=identicon&r=PG&f=1", "display_name": "Canardini", "link": "https://stackoverflow.com/users/4750437/canardini"}, "reply_to_user": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1488990449, "post_id": 42675549, "comment_id": 72477905, "body": "Boost 1.60 is causing me other issues, that is why I downgraded to 1.52, which is a version that does the job. In the past , I could get the right file with boost 1.52 but I did not generate the boost lib files.  Anyhow, I would expect boost to generate  lib files with a version number disregarding boost version ."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1488990637, "post_id": 42675549, "comment_id": 72478046, "body": "<code>I would expect boost to generate lib files with a version number disregarding boost version</code>...exepct if the release where they started to do that is between 1.52 and 1.60..."}, {"owner": {"reputation": 169, "user_id": 4750437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c79c2655f86c60b0e9f16f3a8db5066?s=128&d=identicon&r=PG&f=1", "display_name": "Canardini", "link": "https://stackoverflow.com/users/4750437/canardini"}, "reply_to_user": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1488990784, "post_id": 42675549, "comment_id": 72478175, "body": "Please tell me more in detail, I probably do not have the knowledge to get it right away"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 4750437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c79c2655f86c60b0e9f16f3a8db5066?s=128&d=identicon&r=PG&f=1", "display_name": "Canardini", "link": "https://stackoverflow.com/users/4750437/canardini"}, "edited": false, "score": 0, "creation_date": 1488991092, "post_id": 42676907, "comment_id": 72478408, "body": "Makes sense (+1)"}], "tags": [], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "is_accepted": true, "score": 2, "last_activity_date": 1488991199, "last_edit_date": 1488991199, "creation_date": 1488991046, "answer_id": 42676907, "question_id": 42675549, "link": "https://stackoverflow.com/questions/42675549/boost-library-file-generation/42676907#42676907", "title": "Boost library file generation", "body": "<p>boost 1.52 was released in 2012. At this time, Visual Studio 2013 was not an existing compiler.</p>\n\n<p>You are compiling a library with a not officially supported compiler. You're actually even lucky that boost 1.52 compiled with Visual Studio 2013.</p>\n\n<p>It's not surprising that b2 is unable to add <code>vc110</code> to your libraries names. There may be a case statement somewhere in boost build system configuration files that has a version name for every \"supported\" compilers....and there may be no vc110 there...</p>\n\n<p>You need either to take the first boost version supporting Visual Studio 2013 or use Visual Studio 2010 compiler (which is supported by 1.52)....or rename the files manually as you did.</p>\n\n<p>By the way, note that renaming the libraries will make auto-link fail if you are plannign to use it. See <code>boost\\config\\auto_link.hpp</code>: this explicitely handle every compiler version....will only work with officially supported compilers.</p>\n"}], "owner": {"reputation": 169, "user_id": 4750437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c79c2655f86c60b0e9f16f3a8db5066?s=128&d=identicon&r=PG&f=1", "display_name": "Canardini", "link": "https://stackoverflow.com/users/4750437/canardini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 42676907, "answer_count": 1, "score": 1, "last_activity_date": 1488991199, "creation_date": 1488987348, "question_id": 42675549, "link": "https://stackoverflow.com/questions/42675549/boost-library-file-generation", "title": "Boost library file generation", "body": "<p>I am trying to compile boost 1.52 library files with Visual studio 2013. To do so, run the file b2 with the visual studio prompt command. </p>\n\n<p>Everything seems to run correctly . However, the lib files that I am getting in /stage/lib/ have no version of VC. For example, I have </p>\n\n<pre><code>  libboost_date_time-vc-mt-1_52.lib\n</code></pre>\n\n<p>My dynamic libraries require</p>\n\n<pre><code>  libboost_date_time-vc110-mt-1_52.lib\n</code></pre>\n\n<p>When I rename all files by substituing vc with vc110, it works as a charm, but it is a very fastidious process.</p>\n\n<p>I made some researches and I could see that one could control the version of Boost with respect to the version of VS. I tried the following command</p>\n\n<pre><code>  b2 toolset=msvc-12.0\n</code></pre>\n\n<p>Yet, I still get the versionless file. </p>\n\n<p>How do I make it work ? Thanks.</p>\n"}, {"tags": ["c++", "pointers", "vector"], "comments": [{"owner": {"reputation": 1632, "user_id": 7462657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da6cde7de38cf0b6686e85193273b12f?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/7462657/xander"}, "edited": false, "score": 0, "creation_date": 1488987390, "post_id": 42675512, "comment_id": 72475551, "body": "you can do that but you are left with an invalid pointer in the vector I would  say, maybe not that good but not illegal either (obviously you should initialize <code>initial</code> as well as some programmer dude says)."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488987393, "post_id": 42675512, "comment_id": 72475556, "body": "Since you don&#39;t initialize <code>initial</code> then all elements in the vector will have the same <i>indeterminate</i> value, one that you can not <code>delete</code>. If you want to initialize the vector with ten null pointers, just let them be default initialized (by doing e.g. <code>std::vector&lt;AnyObject*&gt; myVector(10);</code>)."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488987533, "post_id": 42675512, "comment_id": 72475657, "body": "Oh and <i>if</i> you initialize <code>initial</code> then all ten elements will be pointing to the same memory, which means if you <code>delete</code> one then all the other pointers would become invalid."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488987595, "post_id": 42675512, "comment_id": 72475702, "body": "Lastly, if you use pointers you have to remember that <code>delete</code> doesn&#39;t modify the actual pointer itself, so if you <code>delete</code> a pointer in the vector it will not be automatically set to <code>nullptr</code> but keep its (now invalid) value."}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 2, "creation_date": 1488988524, "post_id": 42675512, "comment_id": 72476434, "body": "Sounds like a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY-question</a>. What is it that you really want to achieve? Why do you use pointers at all instead of actual objects, if they are to die after usage anyway? For polymorphy? Can you give us some context, with some meaningful names like Car or Student? And why don&#39;t you use shared_ptr or unique_ptr?"}, {"owner": {"reputation": 43, "user_id": 5861164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0GK_O9SEyKM/AAAAAAAAAAI/AAAAAAAAFF4/2l08kE5WFIs/photo.jpg?sz=128", "display_name": "attentionALaMouss", "link": "https://stackoverflow.com/users/5861164/attentionalamouss"}, "reply_to_user": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1488990242, "post_id": 42675512, "comment_id": 72477762, "body": "@Aziuth, sorry my fault, I edited my post and I explained the context"}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1488987708, "post_id": 42675641, "comment_id": 72475795, "body": "&quot;only the vector of null pointers.&quot; this is incorrect and if it would be true, deleting fifth element would be safe."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1488987860, "post_id": 42675641, "comment_id": 72475896, "body": "<code>initial</code> isn&#39;t <code>nullptr</code>."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1488988042, "post_id": 42675641, "comment_id": 72476036, "body": "Also, <code>delete nullptr</code> is perfectly valid."}, {"owner": {"reputation": 1308, "user_id": 2248754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f3fdf7274a422a407b9554e822c96e8?s=128&d=identicon&r=PG", "display_name": "OllieB", "link": "https://stackoverflow.com/users/2248754/ollieb"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1488991718, "post_id": 42675641, "comment_id": 72478848, "body": "@Gill Bates : Yes you are correct, its a vector of uninitialised pointers. I was being sloppy. My point was its unsafe to delete uninitialised pointers, which I alluded to with the segfault comment."}], "tags": [], "owner": {"reputation": 1308, "user_id": 2248754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f3fdf7274a422a407b9554e822c96e8?s=128&d=identicon&r=PG", "display_name": "OllieB", "link": "https://stackoverflow.com/users/2248754/ollieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1488987608, "creation_date": 1488987608, "answer_id": 42675641, "question_id": 42675512, "link": "https://stackoverflow.com/questions/42675512/what-happens-when-i-delete-a-pointer-of-pointer/42675641#42675641", "title": "What happens when I delete a pointer of pointer?", "body": "<p>A segmenation fault in both cases, as you haven't actually created any AnyObjects, only the vector of null pointers.</p>\n\n<p>In general, if you have a vector of pointers to objects, you can delete the object by deleteing the object as you have done, and then setting the pointer to null, to denote that it doesn't point to an object. </p>\n\n<p>To use your example, glossing over the fact you haven't created any objects:</p>\n\n<pre><code>AnyObject* initial;\nstd::vector&lt;AnyObject*&gt; myVector(10, initial);\ndelete myVector[4];\nmyVector[4] = 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 5861164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0GK_O9SEyKM/AAAAAAAAAAI/AAAAAAAAFF4/2l08kE5WFIs/photo.jpg?sz=128", "display_name": "attentionALaMouss", "link": "https://stackoverflow.com/users/5861164/attentionalamouss"}, "edited": false, "score": 0, "creation_date": 1488988078, "post_id": 42675735, "comment_id": 72476068, "body": "Yes, I didn&#39;t see this, but if the elements in the vector are all differents, what happens?"}, {"owner": {"reputation": 2039, "user_id": 1709417, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LLCY0.jpg?s=128&g=1", "display_name": "Nishant Kumar", "link": "https://stackoverflow.com/users/1709417/nishant-kumar"}, "reply_to_user": {"reputation": 43, "user_id": 5861164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0GK_O9SEyKM/AAAAAAAAAAI/AAAAAAAAFF4/2l08kE5WFIs/photo.jpg?sz=128", "display_name": "attentionALaMouss", "link": "https://stackoverflow.com/users/5861164/attentionalamouss"}, "edited": false, "score": 0, "creation_date": 1488988210, "post_id": 42675735, "comment_id": 72476170, "body": "in that case it will have same impact i.e you are deleting object not the pointer. It will make that vector element point to invalid memory location."}, {"owner": {"reputation": 2039, "user_id": 1709417, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LLCY0.jpg?s=128&g=1", "display_name": "Nishant Kumar", "link": "https://stackoverflow.com/users/1709417/nishant-kumar"}, "reply_to_user": {"reputation": 43, "user_id": 5861164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0GK_O9SEyKM/AAAAAAAAAAI/AAAAAAAAFF4/2l08kE5WFIs/photo.jpg?sz=128", "display_name": "attentionALaMouss", "link": "https://stackoverflow.com/users/5861164/attentionalamouss"}, "edited": false, "score": 0, "creation_date": 1488989235, "post_id": 42675735, "comment_id": 72477006, "body": "if you delete one pointer i.e one element of vector it will have no impact on other elements if they are not pointing to same memory localtion"}], "tags": [], "owner": {"reputation": 2039, "user_id": 1709417, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LLCY0.jpg?s=128&g=1", "display_name": "Nishant Kumar", "link": "https://stackoverflow.com/users/1709417/nishant-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1488988142, "last_edit_date": 1488988142, "creation_date": 1488987865, "answer_id": 42675735, "question_id": 42675512, "link": "https://stackoverflow.com/questions/42675512/what-happens-when-i-delete-a-pointer-of-pointer/42675735#42675735", "title": "What happens when I delete a pointer of pointer?", "body": "<pre><code>std::vector&lt;AnyObject*&gt; myVector(10, initial);\n</code></pre>\n\n<p>This statement will initialize vector with 10 <code>initial</code> object. <code>initial</code> is memory reference and when you <code>delete</code> it that deallocates memory that was allocated for <code>initial</code> object and will make all vector element pointing to invalid memory location in both case. If you will try to access it after delete in both case, the behavior will be undefined. </p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 0, "last_activity_date": 1488988432, "last_edit_date": 1488988432, "creation_date": 1488988127, "answer_id": 42675834, "question_id": 42675512, "link": "https://stackoverflow.com/questions/42675512/what-happens-when-i-delete-a-pointer-of-pointer/42675834#42675834", "title": "What happens when I delete a pointer of pointer?", "body": "<blockquote>\n  <p>I have two solutions, tell me if they are good</p>\n</blockquote>\n\n<p>Both of your solutions have UB - you read from uninitialized variable <code>initial</code>. If you manage to put correctly initialized pointers to your vector, then both variants would have the same effect - if fifth pointer in the vector not equal to <code>nullptr</code>, object it points to would be destroyed and memory released. You should understand that <code>delete</code> does not modify argument passed to it, so calling delete would not alter pointer itself and unless it is not equal to <code>nullptr</code> you would have dangling pointer left in the vector. It would be your job to reassign new value to it or to avoid using it after that. Or remove it from the vector calling vector methods.</p>\n\n<blockquote>\n  <p>Am I also deleting the pointer in the vector or just the object ?</p>\n</blockquote>\n\n<p>You are only deleting object, pointer would have exactly the same value ie point into memory where object used to be.</p>\n"}, {"tags": [], "owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "is_accepted": false, "score": 0, "last_activity_date": 1488989686, "creation_date": 1488989686, "answer_id": 42676417, "question_id": 42675512, "link": "https://stackoverflow.com/questions/42675512/what-happens-when-i-delete-a-pointer-of-pointer/42676417#42676417", "title": "What happens when I delete a pointer of pointer?", "body": "<p>Your premise is flawed. You shouldn't use raw pointers to handle object lifetimes, use <code>std::unique_ptr</code> (or <code>std::shared_ptr</code> if the lifetime <em>really is shared</em>)</p>\n\n<p>Then your example would look like</p>\n\n<pre><code>std::vector&lt;std::unique_ptr&lt;AnyObject&gt; &gt; myVector(10, nullptr);\n// other code\nmyVector[index] = make_unique&lt;AnyObject&gt;(args...);\n// other code\nmyvector[other_index].reset(nullptr);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5861164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0GK_O9SEyKM/AAAAAAAAAAI/AAAAAAAAFF4/2l08kE5WFIs/photo.jpg?sz=128", "display_name": "attentionALaMouss", "link": "https://stackoverflow.com/users/5861164/attentionalamouss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 1, "accepted_answer_id": 42675834, "answer_count": 4, "score": 0, "last_activity_date": 1488990672, "creation_date": 1488987254, "last_edit_date": 1488990672, "question_id": 42675512, "link": "https://stackoverflow.com/questions/42675512/what-happens-when-i-delete-a-pointer-of-pointer", "title": "What happens when I delete a pointer of pointer?", "body": "<p>I have a vector like <code>std::vector&lt;AnyObject*&gt; myVector;</code> and I would like to delete an element in my vector without changing position of my other elements. How can I do this ? I have two solutions, tell me if they are good:</p>\n\n<pre><code>AnyObject* initial;\nstd::vector&lt;AnyObject*&gt; myVector(10, initial);\nAnyObject* object = myVector.at(4);\ndelete object;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>AnyObject* initial;\nstd::vector&lt;AnyObject*&gt; myVector(10, initial);\ndelete myVector.at(4);\n</code></pre>\n\n<p>What happens in the first solution when I delete <code>object</code> ? Am I also deleting the pointer in the vector or just the <code>object</code> ?</p>\n\n<p>EDIT :</p>\n\n<p>When I wrote <code>AnyObject* initial;</code>, I know <code>initial</code> isn't initialized, I wanted just say what happens if I a have a vector of initialized pointers and if I wanted delete one pointer without changing position of the other pointers.</p>\n\n<p>EDIT2:</p>\n\n<p>For the context of the problem, I have a class <code>PointCloud</code> and another class <code>SubsampledPointCloud</code>. I want subsampled my all clouds with the same size of the smallest cloud, so among my subsampled point cloud, I have at least one cloud that have the same size of its point cloud. So to build my vector of <code>SubsampledPointCloud</code>, I have a vector of <code>PointCloud</code> initialized, a variable <code>minPointCloudSize</code> equals to the minimum size among my point clouds and I do this :</p>\n\n<pre><code>std::vector&lt;SubsampledPointCloud*&gt; subcloud(clouds.size());\nfor (std::size_t i = 0; i &lt; clouds.size(); i++) {\n    if (clouds.at(i).size() &gt; minPointCloudSize)\n        subcloud.at(i) = subPointCloud(clouds.at(i)); //subPointCloud is a function \n                                                      //that return a SubsampledPointCloud*\n    else\n        subcloud.at(i) = clouds.at(i);\n}\n</code></pre>\n\n<p>and later, I don't need of this subsampled point cloud, so I'm deleting all of this except if the sub cloud with the same size of the original cloud.\nOf course, <code>SubsampledPointCloud</code> inherited of <code>PointCloud</code>.</p>\n"}, {"tags": ["c++", "shell", "makefile"], "answers": [{"tags": [], "owner": {"reputation": 69991, "user_id": 939557, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3VPea.png?s=128&g=1", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/939557/madscientist"}, "is_accepted": false, "score": 0, "last_activity_date": 1488987751, "creation_date": 1488987751, "answer_id": 42675693, "question_id": 42675419, "link": "https://stackoverflow.com/questions/42675419/makefile-confusion/42675693#42675693", "title": "Makefile Confusion", "body": "<p>Well first you have a typo; you create a variable <code>OBJECT_FILES</code>:</p>\n\n<pre><code>OBJECT_FILES := $(SOURCE_FILES: $(SRC)/%.cpp=%.o)\n</code></pre>\n\n<p>Also you shouldn't use spaces here (after the <code>:</code>).  Then you use a variable named <code>OBJECTS_FILES</code> instead:</p>\n\n<pre><code>$(OBJECTS_FILES): %.o : $(SRC)/%.cpp\n</code></pre>\n\n<p>That variable is empty so this is essentially a no-op.</p>\n\n<p>Your compiler invocation is wrong.  The word after the <code>-o</code> option is the file the output should go to; yours is:</p>\n\n<pre><code>@$(CC) $(CFLAGS) -o -c $@ $^\n</code></pre>\n\n<p>which means that the output of this command is going to the file <code>-c</code>.  Then the input is an object file that doesn't exist... most likely you'll get an error.  Also you only want to pass the source file to the compiler, not all the other prerequisites (headers etc.)  This should be:</p>\n\n<pre><code>@$(CC) $(CFLAGS) -c -o $@ $&lt;\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 6595008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23f56433406f7110c12e4caf77d4a68a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6595008/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488987751, "creation_date": 1488987046, "question_id": 42675419, "link": "https://stackoverflow.com/questions/42675419/makefile-confusion", "title": "Makefile Confusion", "body": "<p>I'm new to makefiles, but I finally managed to get one working for a project I'm working on. The original goal was to search the folder \"Source\" for any CPP files, then create an Object file in the folder Products/Objs. Instead, it finds the CPP files, but OBJECT_FILES is the same as SOURCE_FILES, and I'm not sure how it's working. It doesn't generate any .o files (that I could see), but still compiles successfully. Super confused but would love some help. Thanks!</p>\n\n<pre><code>##########################################\n#           Editable options             #\n##########################################\n\n# Program Name\nEXECUTABLE=net\n\n# Compiler options\nCC=g++\nCFLAGS=\nLDFLAGS=\n\n# Folders\nSRC=Source\nOBJ=Products/Objs\n\n#########################################################\n#                     Do Not Touch This                 #\n#########################################################\nSOURCE_FILES := $(shell find $(SRC)/ -type f -name '*.cpp')\n\n## This should not work\nOBJECT_FILES := $(SOURCE_FILES: $(SRC)/%.cpp=%.o)\n## Like at all --&gt; It's the same as SOURCE_FILES\n## But I guess???\n\nbuild: $(EXECUTABLE)\n\n## Deletes the executable (assumes small compile time)\nclean:\n    @rm -r -f $(shell find $(SRC)/ -type f -name '*.o')\n    @rm $(EXECUTABLE)\n\n.PHONY: build clean\n\n$(EXECUTABLE): $(OBJECT_FILES)\n    @$(CC) $(LDFLAGS) -o $@ $^\n    @echo \"Build successful!\"\n\n$(OBJECTS_FILES): %.o : $(SRC)/%.cpp\n    @$(CC) $(CFLAGS) -o -c $@ $^\n</code></pre>\n"}, {"tags": ["c++", "crash"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1488987057, "post_id": 42675340, "comment_id": 72475308, "body": "Don&#39;t post screenshots. Please also clarify the C++ standard being used along with the compiler version."}, {"owner": {"reputation": 39, "user_id": 7679109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a48ec626bf6630f37c32ab011d0e58?s=128&d=identicon&r=PG&f=1", "display_name": "hendrik2k1", "link": "https://stackoverflow.com/users/7679109/hendrik2k1"}, "reply_to_user": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1488987527, "post_id": 42675340, "comment_id": 72475651, "body": "Why should I not post screenshots? Excuse me. I edited post above"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1488988329, "post_id": 42675340, "comment_id": 72476263, "body": "After trying to create <code>of</code>, you need to check that it was successful."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 4, "creation_date": 1488988340, "post_id": 42675340, "comment_id": 72476268, "body": "It is very hard to perform a web search for keywords that are embedded in an image; although, in this case the image adds little value to the question and you can easily do without it. If it contained diagnostic information, copy and paste the diagnostics into the question. If they can&#39;t be copied, you&#39;re usually better off typing them out than posting a screen-shot."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1488988990, "post_id": 42675340, "comment_id": 72476833, "body": "You probably have some type of dll conflict."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1488989024, "post_id": 42675340, "comment_id": 72476858, "body": "Code::Blocks contains a wrapper for gdb, a software debugger. This should help you pinpoint the crash. I see nothing in there that should trigger a crash. Set a failbit in <code>of</code>, maybe, but not crash."}, {"owner": {"reputation": 39, "user_id": 7679109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a48ec626bf6630f37c32ab011d0e58?s=128&d=identicon&r=PG&f=1", "display_name": "hendrik2k1", "link": "https://stackoverflow.com/users/7679109/hendrik2k1"}, "edited": false, "score": 0, "creation_date": 1488989559, "post_id": 42675340, "comment_id": 72477247, "body": "I added the debugger info in the post above."}, {"owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "edited": false, "score": 0, "creation_date": 1488989667, "post_id": 42675340, "comment_id": 72477325, "body": "Take a look at the example <a href=\"http://www.cplusplus.com/reference/fstream/ofstream/is_open/\" rel=\"nofollow noreferrer\">here</a> to see how to add some error checking when using ofstream."}, {"owner": {"reputation": 39, "user_id": 7679109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a48ec626bf6630f37c32ab011d0e58?s=128&d=identicon&r=PG&f=1", "display_name": "hendrik2k1", "link": "https://stackoverflow.com/users/7679109/hendrik2k1"}, "edited": false, "score": 0, "creation_date": 1488990682, "post_id": 42675340, "comment_id": 72478097, "body": "I added the error checking procedure like shown in exemaple, Trevor. Still the same error. I added more info above."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 7679109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a48ec626bf6630f37c32ab011d0e58?s=128&d=identicon&r=PG&f=1", "display_name": "hendrik2k1", "link": "https://stackoverflow.com/users/7679109/hendrik2k1"}, "is_accepted": false, "score": 0, "last_activity_date": 1488991176, "creation_date": 1488991176, "answer_id": 42676958, "question_id": 42675340, "link": "https://stackoverflow.com/questions/42675340/c-programm-exe-creates-error-when-starting/42676958#42676958", "title": "C++ Programm Exe creates Error when starting", "body": "<p>Ok. I had a problem with conflicting dlls. I put the option </p>\n\n<blockquote>\n  <p>-static-libgcc -static-libstdc++</p>\n</blockquote>\n\n<p>in the compiler options / linker settings / other linker options. It seems that the compiler now puts the correct dlls into the exe file and I don't need to put wrong conflicting dlls into the same path. Now it works perfectly.</p>\n\n<p>Thank you.</p>\n"}], "owner": {"reputation": 39, "user_id": 7679109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a48ec626bf6630f37c32ab011d0e58?s=128&d=identicon&r=PG&f=1", "display_name": "hendrik2k1", "link": "https://stackoverflow.com/users/7679109/hendrik2k1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488991176, "creation_date": 1488986861, "last_edit_date": 1488990709, "question_id": 42675340, "link": "https://stackoverflow.com/questions/42675340/c-programm-exe-creates-error-when-starting", "title": "C++ Programm Exe creates Error when starting", "body": "<p>I tried to implement a c++ programm which should simply put out some text and create a txt-File and put data into this file. I would like to execute this file as .exe in Windows. But upon starting it crashes immediately shows following error:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vfKUZ.png\" alt=\"Error Window\"></p>\n\n<p>In English: \"The program doesn't work anymore\".</p>\n\n<p>I coded this in CodeBlocks and I used GNU GCC Compiler.\nI implemented the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\n\n\nint main()\n{\n    cout &lt;&lt; \"Hello world! TEST\" &lt;&lt; endl;\n      std::ofstream of(\"TEXT.TXT\");\n\n        of&lt;&lt;\"Some text here\"&lt;&lt;std::endl;\n        of.flush();\n        of.close();\n        std::cout&lt;&lt;\"wrote the file successfully!\"&lt;&lt;std::endl;\n    cout &lt;&lt; \"TEST Done\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Debugger Info:</p>\n\n<blockquote>\n  <p>D:/Dokumente/Devlopement/CodeBlocks/Test1/bin/Debug/Test1.exe\n  done\n  Registered new type: wxString\n  Registered new type: STL String\n  Registered new type: STL Vector\n  Setting breakpoints\n  Debugger name and version: GNU gdb (GDB) 7.6.1\n  Child process PID: 10052\n  Program received signal SIGILL, Illegal instruction.\n  In std::piecewise_construct () ()</p>\n  \n  <h1>1  0x0040147c in _fu0___ZSt4cout () at D:\\Dokumente\\Devlopement\\CodeBlocks\\Test1\\main.cpp:10</h1>\n  \n  <p>D:\\Dokumente\\Devlopement\\CodeBlocks\\Test1\\main.cpp:10:86:beg:0x40147c\n  At D:\\Dokumente\\Devlopement\\CodeBlocks\\Test1\\main.cpp:10</p>\n  \n  <h1>1  0x0040147c in _fu0___ZSt4cout () at D:\\Dokumente\\Devlopement\\CodeBlocks\\Test1\\main.cpp:10</h1>\n</blockquote>\n\n<p>D:\\Dokumente\\Devlopement\\CodeBlocks\\Test1\\main.cpp:10:86:beg:0x40147c</p>\n\n<p>Compiler Version mingw32-gcc-g++ 5.3.0-3\nIn the past, when I first created the program I could not start it because some dlls were missing. I had to put it into the folder ( libgcc_s_dw2-1.dll,libstdc++-6.dll) Do they create the conflict?</p>\n"}, {"tags": ["c++", "serialization", "enums", "rtti", "cereal"], "answers": [{"tags": [], "owner": {"reputation": 702, "user_id": 3506245, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/803cd193da31317b883102275110befe?s=128&d=identicon&r=PG&f=1", "display_name": "vpuente", "link": "https://stackoverflow.com/users/3506245/vpuente"}, "is_accepted": true, "score": 1, "last_activity_date": 1489142541, "last_edit_date": 1489142541, "creation_date": 1489049545, "answer_id": 42690699, "question_id": 42675226, "link": "https://stackoverflow.com/questions/42675226/cereal-shared-serialization-function-across-enums/42690699#42690699", "title": "Cereal: Shared serialization function across enums", "body": "<p>Yep... it is doable (but not directly through cereal):</p>\n\n<pre><code>#define SERIALIZE_ENUM(enumname)                                               \\\ntemplate &lt;class Archive&gt; inline                                                \\\nstd::string save_minimal( Archive const &amp;, t_##enumname const &amp; t )            \\\n{                                                                              \\\n  return std::string(TAG_##enumname[t]);                                       \\\n}                                                                              \\\ntemplate &lt;class Archive&gt; inline                                                \\\nvoid load_minimal(Archive const&amp;, t_##enumname &amp; t,std::string  const&amp; value ) \\\n{                                                                              \\\n  int a=0;                                                                     \\\n  for (auto const &amp;tag:TAG_##enumname)                                         \\\n  {                                                                            \\\n    if ( tag == value )                                                        \\\n    {                                                                          \\\n      t = static_cast&lt;t_##enumname&gt;(a);                                        \\\n      return;                                                                  \\\n    }                                                                          \\\n    a++;                                                                       \\\n  }                                                                            \\\n\nnamespace cereal { \n  SERIALIZE_ENUM(color)\n  SERIALIZE_ENUM(colores)\n}\n</code></pre>\n"}], "owner": {"reputation": 702, "user_id": 3506245, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/803cd193da31317b883102275110befe?s=128&d=identicon&r=PG&f=1", "display_name": "vpuente", "link": "https://stackoverflow.com/users/3506245/vpuente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 42690699, "answer_count": 1, "score": 0, "last_activity_date": 1489142632, "creation_date": 1488986575, "last_edit_date": 1489142632, "question_id": 42675226, "link": "https://stackoverflow.com/questions/42675226/cereal-shared-serialization-function-across-enums", "title": "Cereal: Shared serialization function across enums", "body": "<p>Lets suppose I have something like:</p>\n\n<pre><code>enum t_color { BLUE=0,RED,GREEN};\nvector&lt;string&gt; TAG_color={\"BLUE\", \"RED\", \"GREEN\"};\n\nenum t_colores { AZUL=0,ROJO,VERDE};\nvector&lt;string&gt; TAG_colores={\"AZUL\", \"ROJO\", \"VERDE\"};\n</code></pre>\n\n<p>I want to use (in cereal) a common save_minimal, such as:</p>\n\n<pre><code>  template &lt;class Archive,typename T &gt; inline\n  std::string save_minimal( Archive const &amp;, typename std::enable_if&lt; std::is_enum&lt;T&gt;::value, T &gt;::type const &amp; t )\n  {\n    std::string ret=\"Unknown\";\n    if ( std::is_same&lt;T,t_color&gt;::value)\n    {\n      ret=TAG_color[t];\n    }\n    else if (  std::is_same&lt;T,t_colores&gt;::value)\n    {\n      ret=TAG_colores[t];\n    }\n    return ret;\n }\n</code></pre>\n\n<p>It compiles but seems like cereal is ignoring the template. It just use the \"integer\" value of the enum. </p>\n"}, {"tags": ["c++", "vector", "indexing", "standard-library", "push-back"], "comments": [{"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 5, "creation_date": 1488986254, "post_id": 42675035, "comment_id": 72474683, "body": "It&#39;s not a bad style if you use the index operator. That&#39;s nonsense. It&#39;s bad style (or WRONG) to use reserve + index operator with no resize. The index operator is fast and doesn&#39;t have protection/safety. That&#39;s the only issue. When in doubt or debugging, use <code>vector::at()</code>, which will throw an exception if you&#39;re out of range."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1488986455, "post_id": 42675035, "comment_id": 72474846, "body": "<i>@aegar</i> Where did you get that information? Any serious references?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1488989686, "post_id": 42675035, "comment_id": 72477340, "body": "If you specifically want a vector of 10 elements with the same value, you can create that in the constructor <code>std::vector&lt;double&gt; x(10, 7.1);</code>."}, {"owner": {"reputation": 178, "user_id": 3714404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGbSQ.png?s=128&g=1", "display_name": "Nerdrigo", "link": "https://stackoverflow.com/users/3714404/nerdrigo"}, "edited": false, "score": 0, "creation_date": 1489050540, "post_id": 42675035, "comment_id": 72504665, "body": "I thought it was bad style because of an answer to another question in stack overflow (C++ Vector size is returning zero). I just wanted to get clarification on it and to have a deeper understanding on how that worked."}], "answers": [{"tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 5, "last_activity_date": 1488986227, "creation_date": 1488986227, "answer_id": 42675095, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c/42675095#42675095", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<p>When you do <code>x.reserve(10)</code> you only set the <em>capacity</em> to ten elements, but the <em>size</em> is still zero.</p>\n\n<p>That means then you use the index operator in your loop you will go out of bounds (since the size is zero) and you will have <em>undefined behavior</em>.</p>\n\n<p>If you want to set the size, then use either <a href=\"http://en.cppreference.com/w/cpp/container/vector/resize\" rel=\"noreferrer\"><code>resize</code></a> or simply tell it when constructing the vector:</p>\n\n<pre><code>std::vector&lt;double&gt; x(10);\n</code></pre>\n\n<hr>\n\n<p>As for the <em>capacity</em> of the vector, when you set it (using e.g. <a href=\"http://en.cppreference.com/w/cpp/container/vector/reserve\" rel=\"noreferrer\"><code>reserve</code></a>) then it allocates the memory needed for (in your case) ten elements. That means when you do <code>push_back</code> there will be no reallocations of the vector data.</p>\n\n<p>If you do not change the capacity, or add elements beyond the capacity, then each <code>push_back</code> may cause a reallocation of the vector data.</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 2, "last_activity_date": 1488986808, "last_edit_date": 1592644375, "creation_date": 1488986388, "answer_id": 42675147, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c/42675147#42675147", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<blockquote>\n<pre><code>std::vector&lt;double&gt; x;\nx.reserve(10)\n</code></pre>\n<p>BTW, is this also considered bad practice?</p>\n</blockquote>\n<p>No, creating an empty vector and reserving memory is not a bad practice.</p>\n<blockquote>\n<p>Should I just type <code>std::vector&lt;double&gt; (10)</code>?)</p>\n</blockquote>\n<p>If your intention is to initialize the vector of 10 elements, rather than empty one, then yes you should. (If your intention is to create an empty vector, then no)</p>\n<blockquote>\n<p>Then I proceeded to assign values to the vector, and ask for its size.</p>\n<pre><code>for (int i=0; i&lt;10; i++)\n{\n    x[i]=7.1;\n</code></pre>\n</blockquote>\n<p>This has undefined behaviour. Do not try to access objects that do not exist.</p>\n<blockquote>\n<p>so after some searching I found out that I needed to use the push_back method instead of the index operator.</p>\n</blockquote>\n<p>That is one option. Another is to use the constructor to initialize the elements: <code>std::vector&lt;double&gt; (10)</code>. Yet another is to use <code>std::vector::resize</code>.</p>\n<blockquote>\n<p>Why is it considered bad style to use the index operator on a vector in C++?</p>\n</blockquote>\n<p>It is not in general. It is wrong (not just bad style) if there are no elements at the index that you try to access.</p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1488986869, "last_edit_date": 1495542712, "creation_date": 1488986869, "answer_id": 42675343, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c/42675343#42675343", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<blockquote>\n  <p>Should I just type <code>std::vector&lt;double&gt; x(10)</code>?</p>\n</blockquote>\n\n<p>Definitely yes!</p>\n\n<p>As mentioned in <a href=\"https://stackoverflow.com/a/42675095/1413395\">@Some programmer dude's answer</a> <code>std::vector::reserve()</code> only affects allocation policies but not the size of the vector.</p>\n\n<pre><code> std::vector&lt;double&gt; x(10);\n</code></pre>\n\n<p>is actually equivalent to</p>\n\n<pre><code> std::vector&lt;double&gt; x;\n x.resize(10);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 3714404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGbSQ.png?s=128&g=1", "display_name": "Nerdrigo", "link": "https://stackoverflow.com/users/3714404/nerdrigo"}, "edited": false, "score": 0, "creation_date": 1489050833, "post_id": 42675629, "comment_id": 72504874, "body": "Thank you very much, I think your answer was a good complement to help me improve."}], "tags": [], "owner": {"reputation": 2946, "user_id": 1488118, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/74638bb1fe3873f2c5d1d31ac6cdafe2?s=128&d=identicon&r=PG", "display_name": "bweber", "link": "https://stackoverflow.com/users/1488118/bweber"}, "is_accepted": false, "score": 1, "last_activity_date": 1575368172, "last_edit_date": 1575368172, "creation_date": 1488987582, "answer_id": 42675629, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c/42675629#42675629", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<p>The bracket operator of the <code>std::vector</code> lets you access an item at the index <code>i</code> in your vector. If an item <code>i</code> does not exist, it cannot be accessed, neither for writing nor for reading.</p>\n\n<blockquote>\n  <p>So what I want to know is why the index operator lets me access the value \"stored\" in vector x at a given index, but wont change its size.</p>\n</blockquote>\n\n<p>Because it wasn't designed to work that way. Probably the designers did not think that this behaviour would be desirable.</p>\n\n<p>Please also note that <code>std::vector::reserve</code> does reserve memory for the vector but does not actually change its size. So after calling <code>x.reserve(10)</code> your vector has still got a size of <code>0</code> although internally memory for 10 elements has been allocated. If you now want to add an element, you must not use the bracket operator but <code>std::vector::push_back</code> instead. This function will increase the vector's size by one and then append your item. The advantage of calling <code>reserve</code> is that the memory for the vector must not be reallocated when calling <code>push_back</code> multiple times.</p>\n\n<pre><code>std::vector&lt;double&gt; x;\nx.reserve(3);\nx.push_back(3);\nx.push_back(1);\nx.push_back(7);\n</code></pre>\n\n<p>I think the behaviour you desire could be achieved using <code>std::vector::resize</code>. This function reserves the memory as <code>reserve</code> would and then actually changes the size of the vector.</p>\n\n<pre><code>std::vector&lt;double&gt; x;\nx.resize(3);\nx[0] = 3;\nx[1] = 1;\nx[2] = 7;\n</code></pre>\n\n<p>The previous code is equivalent to:</p>\n\n<pre><code>std::vector&lt;double&gt; x(3);\nx[0] = 3;\nx[1] = 1;\nx[2] = 7;\n</code></pre>\n\n<p>Here the size is the constructor argument. Creating the <code>vector</code> this way performs the resize operation on creation.</p>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 3714404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGbSQ.png?s=128&g=1", "display_name": "Nerdrigo", "link": "https://stackoverflow.com/users/3714404/nerdrigo"}, "edited": false, "score": 0, "creation_date": 1489050723, "post_id": 42675833, "comment_id": 72504809, "body": "Thank you very much, your answer helped me to better understand my questions"}], "tags": [], "owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 5, "last_activity_date": 1578562358, "last_edit_date": 1578562358, "creation_date": 1488988125, "answer_id": 42675833, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c/42675833#42675833", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<p>It sounds like you're asking <em>why</em> things are the way they are. Most of it is down to efficiency.</p>\n\n<p>If <code>x[i]</code> were to create value if it didn't already exist, there would be two hits to efficiency. First, the caller of indexing operations should ensure the index is not beyond the current size of the vector. Second, the new element would need to be default constructed even if you're about to assign a new value into it anyway.</p>\n\n<p>The reason for having both <code>reserve</code> and <code>resize</code> is similar. <code>resize</code> requires a default construction of every element. For something like <code>vector&lt;double&gt;</code> that doesn't seem like a big deal, but for <code>vector&lt;ComplicatedClass&gt;</code>, it could be a big deal indeed. Using <code>reserve</code> is an optimization, completely optional, that allows you to anticipate the final size of the vector and prevent reallocations while it grows.</p>\n\n<p><code>push_back</code> avoids the default construction of an element, since the contents are known, it can use a move or copy constructor.</p>\n\n<p>None of this is the wrong style, use whatever's appropriate for your situation.</p>\n"}], "owner": {"reputation": 178, "user_id": 3714404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGbSQ.png?s=128&g=1", "display_name": "Nerdrigo", "link": "https://stackoverflow.com/users/3714404/nerdrigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2878, "favorite_count": 3, "accepted_answer_id": 42675833, "answer_count": 5, "score": 4, "last_activity_date": 1578562358, "creation_date": 1488986055, "last_edit_date": 1488986963, "question_id": 42675035, "link": "https://stackoverflow.com/questions/42675035/why-is-it-considered-bad-style-to-use-the-index-operator-on-a-vector-in-c", "title": "Why is it considered bad style to use the index operator on a vector in C++?", "body": "<p>I am working on a program that uses vectors. So the first thing I did was declare my vector.</p>\n\n<pre><code>std::vector&lt;double&gt; x;\nx.reserve(10)\n</code></pre>\n\n<p>(BTW, is this also considered bad practice? Should I just type <code>std::vector&lt;double&gt; x(10)</code>?)</p>\n\n<p>Then I proceeded to assign values to the vector, and ask for its size.</p>\n\n<pre><code>for (int i=0; i&lt;10; i++)\n{\n    x[i]=7.1;\n}\nstd::cout&lt;&lt;x.size()&lt;&lt;std::endl;\n</code></pre>\n\n<p>I didn't know it would return <code>0</code>, so after some searching I found out that I needed to use the push_back method instead of the index operator.</p>\n\n<pre><code>for (int i=0; i&lt;10; i++)\n{\n    x.push_back(7.1);\n}\nstd::cout&lt;&lt;x.size()&lt;&lt;std::endl;\n</code></pre>\n\n<p>And now it returns <code>10</code>. </p>\n\n<p>So what I want to know is why the index operator lets me access the value \"stored\" in vector <code>x</code> at a given index, but wont change its size. Also, why is this bad practice?</p>\n"}, {"tags": ["c++", "api", "text", "com", "office-automation"], "comments": [{"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 1, "creation_date": 1488986444, "post_id": 42674825, "comment_id": 72474836, "body": "What makes you think the <code>Documents</code> object should accept anything else than a file name or path?"}], "owner": {"reputation": 77, "user_id": 3136277, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/04e2a59dbf93d5e896b2657f50729e3f?s=128&d=identicon&r=PG&f=1", "display_name": "user55340", "link": "https://stackoverflow.com/users/3136277/user55340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488985449, "creation_date": 1488985449, "question_id": 42674825, "link": "https://stackoverflow.com/questions/42674825/how-to-get-plain-text-of-a-ms-office-file-using-com-api-office-automation-in-c", "title": "How to get plain text of a MS Office file using COM API (office automation) in c++", "body": "<p>I have a buffer that contains part a Office word document. I want to use COM API to fetch plain text of the buffer. I know how to open a word document and save it a text document using COM API, but it is not what I want.\nAs a solution I create a memory-mapped file object and put my data to it and then I tried to open it using COM API, But \"Invoke\" says \"Bad variable type\".</p>\n\n<pre><code>hMapFile = CreateFileMapping(\n    INVALID_HANDLE_VALUE,    // use paging file\n    NULL,                    // default security\n    PAGE_READWRITE,          // read/write access\n    0,                       // maximum object size (high-order DWORD)\n    BUF_SIZE,                // maximum object size (low-order DWORD)\n    szName);                 // name of mapping object\n\n///....\n// copy data to hMapFile\n///....\n\n////... \n// create an instance of Word Application\n///...\n\n\n/// now call open function and send hMapFile instead of a real file\n\nVARIANTARG varg;\nvarg.vt = VT_BYREF;\n//varg.vt = BSTR;\n//varg.bstrVal = BSTR(L\"F:\\\\sample2.docx\"); \nvarg.byref = hMapFile; \n\nDISPPARAMS dpOpen = { &amp;varg, NULL, 1, 0 };\n\nDISPID dispOpenID;\nLPOLESTR szOpenDoc = L\"Open\";\nUINT err = 9;\n\nhr = m_pDocuments-&gt;GetIDsOfNames(IID_NULL, &amp;szOpenDoc, 1, LOCALE_SYSTEM_DEFAULT, &amp;dispOpenID);\n\nhr = m_pDocuments-&gt;Invoke(dispOpenID, IID_NULL, LOCALE_SYSTEM_DEFAULT, DISPATCH_METHOD, &amp;dpOpen, &amp;varRetVal, &amp;excepInfo, &amp;err);\n</code></pre>\n"}, {"tags": ["c++", "compiler-construction", "parse-tree"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1488985216, "post_id": 42674651, "comment_id": 72473949, "body": "Do your code work as it should, and you only want a code-review? Then post on <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> instead. If it <i>doesn&#39;t</i> work, then you need to elaborate on your problem (like showing us some specific input, the expected and actual output, and what you have tried to debug the problem). And if you have done it yet, then please take some time to <a href=\"http://stackoverflow.com/help/how-to-ask\">read about how to ask good questions</a>."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488985770, "post_id": 42674651, "comment_id": 72474359, "body": "Search reverse Polish notation"}, {"owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488985854, "post_id": 42674651, "comment_id": 72474404, "body": "@EdHeal Can you please elaborate on that"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1488986047, "post_id": 42674651, "comment_id": 72474555, "body": "@Ray Just google."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488986067, "post_id": 42674651, "comment_id": 72474568, "body": "Just Google it. Converts infix to postfix. Can find algorithms to do that"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488986294, "post_id": 42674651, "comment_id": 72474721, "body": "@EdHeal: postfix != prefix"}, {"owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "edited": false, "score": 0, "creation_date": 1488986395, "post_id": 42674651, "comment_id": 72474799, "body": "Guys I am trying to find infix to prefix translation scheme, not infix to postfix ... ?"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488986448, "post_id": 42674651, "comment_id": 72474838, "body": "You can just cconvert it by reading backwards"}, {"owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "edited": false, "score": 0, "creation_date": 1488986665, "post_id": 42674651, "comment_id": 72474992, "body": "Please read my whole problem before commenting, I can read it backwards but that is not programming, I have asked, is there any translation scheme as I have mentioned above to convert infix to prefix expression, not by converting infix to postfix and just reverse it."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1488986697, "post_id": 42674651, "comment_id": 72475019, "body": "Do a search for polish notation. Wikipedia has lots of details"}], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "edited": false, "score": 0, "creation_date": 1489372420, "post_id": 42675602, "comment_id": 72627650, "body": "I have followed the recursive way and just used a temporal storing concept and became success on what I wanted to do, please review my answer here, thanks for the help !"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "edited": false, "score": 0, "creation_date": 1489382275, "post_id": 42675602, "comment_id": 72629792, "body": "@Ray: I suppose you&#39;ve tested it with expressions more complicated than <code>9-5+2</code>, right? I have a hard time believing thatva single temporary is sufficient to store the entire stack of unprinted values. Does <code>1*2+3*4</code> correctly output <code>+*12*34</code>? I suppose that the fact that you don&#39;t seem to parse parentheses limits the complexity of the expression but unless that is clearly in the requirements, it seems like a massive omission. Anyway, good luck."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 1, "last_activity_date": 1488988073, "last_edit_date": 1495541841, "creation_date": 1488987500, "answer_id": 42675602, "question_id": 42674651, "link": "https://stackoverflow.com/questions/42674651/infix-to-prefix-conversion-using-recursion/42675602#42675602", "title": "Infix to Prefix Conversion using Recursion", "body": "<p>The simplest solution is to construct an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">Abstract Syntax Tree (AST)</a> while you are parsing, and then recursively walk the tree using a <a href=\"https://en.wikipedia.org/wiki/Tree_traversal#Pre-order\" rel=\"nofollow noreferrer\">preorder traverse</a>.</p>\n\n<p>You could also construct the string as you go (as suggested <a href=\"https://stackoverflow.com/a/42045060/1566221\">here by @ChrisDodd</a>, for example), but:</p>\n\n<ul>\n<li>that's not a recursive solution :), and</li>\n<li>it involves a lot of string copying, so it will probably have quadratic running time. </li>\n</ul>\n\n<p>It may also seem tempting to do the postfix conversion into some kind of temporary data structure (a stack, for example), and then recursively walk the postfix representation \"evaluating\" by printing the prefix expression. This will certainly work, but you will run into the problem that traversing the postfix representation in the natural way will first visit the <em>right-hand</em> argument of each expression, whereas what you want first is the <em>left-hand</em> argument. That means that you need to construct the string backwards, which involves another temporary datastructure (another stack, for example).</p>\n\n<p>On the whole, the AST solution is cleaner, and provides a good basis for adding more functionality in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1489372695, "creation_date": 1489372695, "answer_id": 42755842, "question_id": 42674651, "link": "https://stackoverflow.com/questions/42674651/infix-to-prefix-conversion-using-recursion/42755842#42755842", "title": "Infix to Prefix Conversion using Recursion", "body": "<p>So I have used a temporal variable to store my digits and checked and printed recursively the operators with maintaining the precedence of orders.</p>\n\n<p>My Solution :</p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nconst char input[] = \"9-5+2\";\nint index = 0;\nchar LookAhead = input[index];\nchar TempLookAhead = 'x';\n\nvoid Match(char newChar);\nvoid Factor();\nvoid Rest_();\nvoid Rest();\nvoid Term();\nvoid Expression();\n\n\nint main(){\n    Expression();\n    return 0;\n}\n\nvoid Match(char newChar){\n    if(newChar == LookAhead){\n        index++;\n        LookAhead = input[index];\n    }\n}\n\nvoid Expression(){\n    Term();\n    Rest();\n    cout &lt;&lt; TempLookAhead;\n}\n\nvoid Term(){\n    Factor();\n    Rest_();\n}\n\nvoid Rest(){\n    if(LookAhead == '+'){\n        cout &lt;&lt; '+';\n        cout &lt;&lt; TempLookAhead;\n        Match(LookAhead);\n        Term();\n        Rest();\n    }else if(LookAhead == '-'){\n        cout &lt;&lt; '-';\n        cout &lt;&lt; TempLookAhead;\n        Match(LookAhead);\n        Term();\n        Rest();\n    }else{\n\n    }\n}\n\nvoid Rest_(){\n    if(LookAhead == '*'){\n        cout &lt;&lt; '*';\n        cout &lt;&lt; TempLookAhead;\n        Match(LookAhead);\n        Factor();\n        Rest_();\n    }else if(LookAhead == '/'){\n        cout &lt;&lt; '/';\n        cout &lt;&lt; TempLookAhead;\n        Match(LookAhead);\n        Factor();\n        Rest_();\n    }else{\n\n    }\n}\n\nvoid Factor(){\n    if(isdigit(LookAhead)){\n        TempLookAhead = LookAhead;\n        Match(LookAhead);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 7360506, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7b19edfb9de21f1230dfd04216a57e11?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim Uddin", "link": "https://stackoverflow.com/users/7360506/fahim-uddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2254, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1489372695, "creation_date": 1488985015, "last_edit_date": 1489372283, "question_id": 42674651, "link": "https://stackoverflow.com/questions/42674651/infix-to-prefix-conversion-using-recursion", "title": "Infix to Prefix Conversion using Recursion", "body": "<p>I am struggling to find the infix to prefix translation scheme.</p>\n\n<p><strong>I have figured the infix to postfix translation sceme :</strong></p>\n\n<pre><code>expr -&gt; Term, Rest\nRest -&gt; +Term, { print('+') } , Rest | -Term, { print('-') }, Rest | epsilon\nTerm -&gt; Factor, Rest_\nRest_ -&gt; *Factor, { print('*') }, Rest_ | /Factor, { print('/') }, Rest_ | epsilon\nFactor -&gt; Digit | (expr)\nDigit -&gt; 0,1,2,3,4,5,6,7,8,9\n</code></pre>\n\n<p><strong>And my infix to postfix conversion code according to the above translation scheme :</strong></p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nconst char input[] = \"9-5*2\";\nint index = 0;\nchar LookAhead = input[index];\n\nvoid Match(char newChar);\nvoid Factor();\nvoid Rest_();\nvoid Rest();\nvoid Term();\nvoid Expression();\n\n\nint main(){\n    Expression();\n    return 0;\n}\n\nvoid Match(char newChar){\n    if(newChar == LookAhead){\n        index++;\n        LookAhead = input[index];\n    }\n}\n\nvoid Expression(){\n    Term();\n    Rest();\n}\n\nvoid Term(){\n    Factor();\n    Rest_();\n}\n\nvoid Rest(){\n    if(LookAhead == '+'){\n        Match('+');\n        Term();\n        cout &lt;&lt; '+';\n        Rest();\n    }else if(LookAhead == '-'){\n        Match('-');\n        Term();\n        cout &lt;&lt; '-';\n        Rest();\n    }else{\n\n    }\n}\n\nvoid Rest_(){\n    if(LookAhead == '*'){\n        Match('*');\n        Factor();\n        cout &lt;&lt; '*';\n        Rest_();\n    }else if(LookAhead == '/'){\n        Match('/');\n        Factor();\n        cout &lt;&lt; '/';\n        Rest_();\n    }else{\n\n    }\n}\n\nvoid Factor(){\n    if(isdigit(LookAhead)){\n        cout &lt;&lt; LookAhead;\n        Match(LookAhead);\n    }\n}\n</code></pre>\n\n<p>So now is there any experts who can help me to understand with the infix to prefix conversion translation scheme, it will be appreciated.</p>\n\n<p>We can test through parse tree. If we can generate something like <strong>-9+52</strong> prefix string from example string <strong>9-5+2</strong> .</p>\n\n<p><em>Tell me if i need to explain more about my infix to postfix conversion translation scheme and code to get better understanding.</em></p>\n\n<p>Thanks in Advance !</p>\n\n<p><strong>Edited :</strong>\nsimply I am having a problem finding out the infix to prefix expression conversion translation scheme. As an example,\nMy input :</p>\n\n<pre><code>9-5+2\n</code></pre>\n\n<p>Expected Output :</p>\n\n<pre><code>-9+52\n</code></pre>\n\n<p>And I want to achieve this with the same structure I have shown above with infix to postfix conversion.\nThat is all !</p>\n"}, {"tags": ["c++", "ncurses", "curses", "pdcurses"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7678846"}, "edited": false, "score": 1, "creation_date": 1488987112, "post_id": 42674945, "comment_id": 72475348, "body": "Thanks for the answer, I must&#39;ve overlooked touchwin() in the documentation. Anyway, I figured out that I can just use a newwin() function."}], "tags": [], "owner": {"reputation": 112, "user_id": 7362590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04c77032929fd5a552eced9d6285234d?s=128&d=identicon&r=PG&f=1", "display_name": "NomeQueEuLembro", "link": "https://stackoverflow.com/users/7362590/nomequeeulembro"}, "is_accepted": false, "score": 0, "last_activity_date": 1488985794, "last_edit_date": 1592644375, "creation_date": 1488985794, "answer_id": 42674945, "question_id": 42674584, "link": "https://stackoverflow.com/questions/42674584/pdcurses-window-doesnt-print-letters-in-some-areas/42674945#42674945", "title": "PDCurses window doesn&#39;t print letters in some areas", "body": "<blockquote>\n<p>Calling subwin creates and returns a pointer to a new window with the given number of lines, nlines, and columns, ncols. The window is at position (begin_y, begin_x) on the screen. (This position is relative to the screen, and not to the window orig.) The window is made in the middle of the window orig, so that changes made to one window will affect both windows. The subwindow shares memory with the window orig. When using this routine, <strong>it is necessary to call touchwin or touchline on orig before calling wrefresh on the subwindow.</strong></p>\n<p>Calling derwin is the same as calling subwin, except that begin_y and begin_x are relative to the origin of the window orig rather than the screen. There is no difference between the subwindows and the derived windows.</p>\n</blockquote>\n<p>From <a href=\"https://linux.die.net/man/3/derwin\" rel=\"nofollow noreferrer\">Here</a>. Try calling touchwin(stdscr) before calling wrefresh(test).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7678846"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489007230, "creation_date": 1488984860, "last_edit_date": 1592644375, "question_id": 42674584, "link": "https://stackoverflow.com/questions/42674584/pdcurses-window-doesnt-print-letters-in-some-areas", "title": "PDCurses window doesn&#39;t print letters in some areas", "body": "<p>I have encountered a strange behaviour while attempting to write a roguelike. I've made a simple loop printing letters in a filled rectangle shape. With normal (stdscr) window, or newly initialised window from derwin() all works fine.\n<a href=\"https://i.stack.imgur.com/ZD63Q.png\" rel=\"nofollow noreferrer\">Loop within stdscr/newly initialised window from derwin().</a></p>\n<p>But the issue starts to appear after I return the window pointer from the Game class. Letters seem to be printed without any patttern, and the window looks like it is covered on some parts of it.\n<a href=\"https://i.stack.imgur.com/wmHg3.png\" rel=\"nofollow noreferrer\">Loop, when the pointer is returned.</a></p>\n<p>I've tried debugging, but didn't succeed. The cursor is moving, loop is working, letters are printed, but sometimes they get stuck in the astral projection level, and they doesn't show up.</p>\n<p>Here is the code: Game.cpp</p>\n<pre><code>Game::Game() : m_winMode(WinMode::GameWin) {\n[...]\n initscr();\n wresize(stdscr, WIN_HGHT, WIN_WDTH);\n m_gameWin = derwin(stdscr, GAMEWIN_HGHT, GAMEWIN_WDTH, 0, 0);\n[...]\n}\n\nWINDOW * Game::getWindow(Game::WinMode t_mode) const {\n[...]\nswitch (t_mode) {\ncase Game::WinMode::GameWin:\n    return m_gameWin;\n    break;\n[...]\n}\n</code></pre>\n<p>pdcurses-test.cpp - this is the main file</p>\n<pre><code>#include &quot;stdafx.h&quot;\n#include &quot;Game.h&quot;\n#include &quot;Map.h&quot;\n\nint main() {\n Game game;\n game.prepareScreen();\n\n WINDOW * test = game.getWindow(Game::WinMode::GameWin);\n wclear(test);\n for (int i = 0; i &lt;= 48; i++) {\n    for (int y = 0; y &lt;= 120; y++) {\n        mvwaddch(test, i, y, '%');\n    }\n }\n wrefresh(test);\n</code></pre>\n<p>Here is the full code: github.com/gebirgestein/pdcurses-test/tree/test/pdcurses-test/pdcurses-test</p>\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "multithreading", "main", "pthread-join"], "answers": [{"comments": [{"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 1, "creation_date": 1488985299, "post_id": 42674648, "comment_id": 72474018, "body": "It worth mentioning explicitely, that there is a delay between thread spawning and thread executing thread function. And thread constructor returns control as soon, as thread is spawned, so you can actually change a lot of variables, before thread function will be run."}, {"owner": {"reputation": 17, "user_id": 4020980, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a40229821d0338a5219f3d7eaad78acd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4020980/john"}, "edited": false, "score": 1, "creation_date": 1488985353, "post_id": 42674648, "comment_id": 72474059, "body": "This did it. Thank you Mike!"}, {"owner": {"reputation": 17, "user_id": 4020980, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a40229821d0338a5219f3d7eaad78acd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4020980/john"}, "reply_to_user": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1488985482, "post_id": 42674648, "comment_id": 72474145, "body": "@Revolver_Ocelot I am new to multi-threaded programming. Is that a source of concern here?"}, {"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "reply_to_user": {"reputation": 17, "user_id": 4020980, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a40229821d0338a5219f3d7eaad78acd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4020980/john"}, "edited": false, "score": 0, "creation_date": 1488985919, "post_id": 42674648, "comment_id": 72474457, "body": "@John Yes. This is the reason, why capturing by reference leads to that behavior. Also, you can do this without lambda, if you want. This will work the same way: <code>std::thread( decltype(bQ)::doWork, std::ref(bQ), randomNumbers, i )</code>."}], "tags": [], "owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "is_accepted": true, "score": 3, "last_activity_date": 1488985398, "last_edit_date": 1488985398, "creation_date": 1488985003, "answer_id": 42674648, "question_id": 42674502, "link": "https://stackoverflow.com/questions/42674502/c-passing-threadid-to-function-anomaly/42674648#42674648", "title": "C++ : Passing threadID to function anomaly", "body": "<p>In this line you're capturing <code>i</code> by reference:</p>\n\n<pre><code>myThreads[i] = std::thread ( [&amp;] { bQ.doWork(randomNumbers, i); });\n</code></pre>\n\n<p>This means that when the other thread runs the lambda, it'll get the latest value of i, not the value when it was created. Capture it by value instead:</p>\n\n<pre><code>myThreads[i] = std::thread ( [&amp;, i] { bQ.doWork(randomNumbers, i); });\n</code></pre>\n\n<p>Whats worse, as you've got unordered read and write to <code>i</code>, your current code has undefined behavoir. And the fact <em>i</em> may've gone out of scope on the main thread before the other thread reads it. This fix above fixes all these issues.</p>\n"}], "owner": {"reputation": 17, "user_id": 4020980, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a40229821d0338a5219f3d7eaad78acd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4020980/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 42674648, "answer_count": 1, "score": 0, "last_activity_date": 1488985398, "creation_date": 1488984666, "last_edit_date": 1488985049, "question_id": 42674502, "link": "https://stackoverflow.com/questions/42674502/c-passing-threadid-to-function-anomaly", "title": "C++ : Passing threadID to function anomaly", "body": "<p>I implemented a concurrent queue with two methods: <strong>add</strong> (enqueue) &amp; <strong>remove</strong> (dequeue). </p>\n\n<p>To test my implementation using 2 threads, I generated 10 (NUMBER_OF_OPERATIONS) random numbers between 0 and 1 in a method called getRandom(). This allows me to create different distribution of add and remove operations.</p>\n\n<p>The <strong>doWork</strong> method splits up the work done by the number of threads.</p>\n\n<p><strong>PROBLEM:</strong> The threadID that I am passing in from the main function does not match the threadID that the doWork method receives. Here are some sample runs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gjd4V.png\" rel=\"nofollow noreferrer\">Output 1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/AkxyB.png\" rel=\"nofollow noreferrer\">Output 2</a></p>\n\n<pre><code> #define NUMBER_OF_THREADS 2\n #define NUMBER_OF_OPERATIONS 10\n\n int main () {\n\n        BoundedQueue&lt;int&gt; bQ;\n        std::vector&lt;double&gt; temp = getRandom();\n        double* randomNumbers = &amp;temp[0];\n        std::thread myThreads[NUMBER_OF_THREADS];\n\n        for(int i = 0; i &lt; NUMBER_OF_THREADS; i++) {\n            cout &lt;&lt; \"Thread \" &lt;&lt; i &lt;&lt; \" created.\\n\";\n            myThreads[i] = std::thread ( [&amp;] { bQ.doWork(randomNumbers, i); });\n        }\n\n        cout &lt;&lt; \"Main Thread\\n\";\n\n        for(int i = 0; i &lt; NUMBER_OF_THREADS; i++) {\n            if(myThreads[i].joinable()) myThreads[i].join();\n        }   \n        return 0;\n    }\n\n    template &lt;class T&gt; void BoundedQueue&lt;T&gt;::doWork (double randomNumbers[], int threadID) {\n\n        cout &lt;&lt; \"Thread ID is \" &lt;&lt; threadID &lt;&lt; \"\\n\";\n        srand(time(NULL));  \n        int split = NUMBER_OF_OPERATIONS / NUMBER_OF_THREADS;   \n        for (int i = threadID * split; i &lt; (threadID * split) + split; i++) {\n            if(randomNumbers[i] &lt;= 0.5) {\n                int numToAdd = rand() % 10 + 1;\n                add(numToAdd);\n            } \n            else {\n                int numRemoved = remove();\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "fstream"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1488983940, "post_id": 42674188, "comment_id": 72472979, "body": "Have a look <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">here</a> please, before going further."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1488984047, "post_id": 42674188, "comment_id": 72473068, "body": "<code>!myFile.eof()</code> was already true when you come to your second loop. You have at least to call <code>myFile.clear()</code> and <code>myfile.seek(0)</code> to start reading from the file again."}, {"owner": {"reputation": 462, "user_id": 7525292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c102a4e8064bab9ed147ea321255bc5?s=128&d=identicon&r=PG&f=1", "display_name": "JustRufus", "link": "https://stackoverflow.com/users/7525292/justrufus"}, "edited": false, "score": 0, "creation_date": 1488984310, "post_id": 42674188, "comment_id": 72473266, "body": "Why do you need second while? You can get number of letters calculation in the same loop.  <code>while (myfile &gt;&gt; line) { ++numberOfWords; letters += line.length(); }</code>"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1488985747, "post_id": 42674188, "comment_id": 72474343, "body": "Number of characters of number of words? You title doesn&#39;t match."}, {"owner": {"reputation": 5, "user_id": 7071578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd044b8d5b9cd0599bcd1eb007e749?s=128&d=identicon&r=PG&f=1", "display_name": "S.Henry", "link": "https://stackoverflow.com/users/7071578/s-henry"}, "edited": false, "score": 0, "creation_date": 1488986017, "post_id": 42674188, "comment_id": 72474535, "body": "I tried that but it gives me the wrong number of letters..."}], "answers": [{"tags": [], "owner": {"reputation": 1341, "user_id": 4524618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8e1ca7e81266dc3e8f724a4864b3d90e?s=128&d=identicon&r=PG", "display_name": "Sniper", "link": "https://stackoverflow.com/users/4524618/sniper"}, "is_accepted": false, "score": 0, "last_activity_date": 1488990378, "creation_date": 1488990378, "answer_id": 42676669, "question_id": 42674188, "link": "https://stackoverflow.com/questions/42674188/how-to-read-the-number-of-characters-in-a-file/42676669#42676669", "title": "How to read the number of characters in a file?", "body": "<p>You are doing it wrong.</p>\n\n<pre><code> #include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\n  int numberOfWords = 0, i = 0;\n  int letters = 0;\n  string line;\n\n  ifstream myFile;\n  myFile.open(\"text.txt\");\n\n //I got this to work, it displays the number of words in the file\nif (myFile.is_open())\n{\n    while (!myFile.eof())\n    {\n        myFile &gt;&gt; line;\n        letters += line.length();\n        //letters++;\n        i++;\n\n    }\nnumberOfWords = i;\n\n//this is where I'm having trouble. I can't get this code to work for it to display the number of letters in the file.\n//while (!myFile.eof())\n//{\n    //cout &lt;&lt; line &lt;&lt; endl;\n\n//}\n}\nmyFile.close();\n\n    cout &lt;&lt; \"There are \" &lt;&lt; numberOfWords &lt;&lt; \" words in the textfile\\n\"\n        &lt;&lt; \"There are \" &lt;&lt; letters &lt;&lt; \" letters in those \" &lt;&lt;       numberOfWords &lt;&lt; \" words\\n\";\n\n    cin.get();\n\n    return 0;\n}\n</code></pre>\n\n<p>Just count the number of letters of the words as you go on traversing the line</p>\n"}], "owner": {"reputation": 5, "user_id": 7071578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd044b8d5b9cd0599bcd1eb007e749?s=128&d=identicon&r=PG&f=1", "display_name": "S.Henry", "link": "https://stackoverflow.com/users/7071578/s-henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488990378, "creation_date": 1488983799, "last_edit_date": 1488986152, "question_id": 42674188, "link": "https://stackoverflow.com/questions/42674188/how-to-read-the-number-of-characters-in-a-file", "title": "How to read the number of characters in a file?", "body": "<p>This is what I have so far...\nThe point of this program is to display the number of words in a file, and also get the number of letters in the number of words of that same file.</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;fstream&gt;\n    #include &lt;string&gt;\n\n    using namespace std;\n\n    int main()\n    {\n      int numberOfWords = 0, i = 0;\n      char letters = 0;\n      string line;\n\n      ifstream myFile;\n      myFile.open(\"text.txt\");\n\n     //I got this to work, it displays the number of words in the file\n    if (myFile.is_open())\n    {\n        while (!myFile.eof())\n    {\n        myFile &gt;&gt; line;\n        i++;\n    }\n    numberOfWords = i;\n\n    //this is where I'm having trouble. I can't get this code to work for it to display the number of letters in the file.\n    while (!myFile.eof())\n    {\n        //cout &lt;&lt; line &lt;&lt; endl;\n        letters = line.length();\n        letters++;\n    }\n}\n        myFile.close();\n\n        cout &lt;&lt; \"There are \" &lt;&lt; numberOfWords &lt;&lt; \" words in the textfile\\n\"\n            &lt;&lt; \"There are \" &lt;&lt; letters &lt;&lt; \" letters in those \" &lt;&lt;       numberOfWords &lt;&lt; \" words\\n\";\n\n        cin.get();\n\n        return 0;\n</code></pre>\n\n<p>}</p>\n"}]