[{"tags": ["c++", "visual-studio-2015", "opengl-es-2.0"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 6146283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/XAHro.jpg?s=128&g=1", "display_name": "Isaac Hsu", "link": "https://stackoverflow.com/users/6146283/isaac-hsu"}, "edited": false, "score": 0, "creation_date": 1465505965, "post_id": 37717322, "comment_id": 62943359, "body": "That&#39;s exactly what I need to know. Thank you very much."}, {"owner": {"reputation": 10938, "user_id": 155082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0f1316ecb725006d020998e6b8a0740c?s=128&d=identicon&r=PG", "display_name": "Lothar", "link": "https://stackoverflow.com/users/155082/lothar"}, "edited": false, "score": 0, "creation_date": 1472089375, "post_id": 37717322, "comment_id": 65615951, "body": "Yes Property Sheets and Shared Items Projects are the magic to have fun with visual studio. Then you can setup reusable libraries that are as easy to use as cmake projects."}, {"owner": {"reputation": 895, "user_id": 4508058, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xag2N.png?s=128&g=1", "display_name": "iko79", "link": "https://stackoverflow.com/users/4508058/iko79"}, "edited": false, "score": 2, "creation_date": 1499267200, "post_id": 37717322, "comment_id": 76835528, "body": "It&#39;s good to know, I just discovered them by accident. I&#39;m not sure exaclty how they are supposed to be used, though. As there is no build configuration they naturally don&#39;t have any understanding of additional include directories (which may differ between referencing projects) an #include &lt;some3rdPartyLibFile.h&gt; will always appear invalid in the editor and thus highlighted via Intellisense. Also, right-click -&gt; Open File will never work. This makes them cumbersome to use, imo. I wonder if I&#39;m missing something here."}], "tags": [], "owner": {"reputation": 3629, "user_id": 631615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8774bd471bec0899483c832ea428436?s=128&d=identicon&r=PG", "display_name": "librik", "link": "https://stackoverflow.com/users/631615/librik"}, "is_accepted": true, "score": 8, "last_activity_date": 1465449519, "last_edit_date": 1465449519, "creation_date": 1465449212, "answer_id": 37717322, "question_id": 37714798, "link": "https://stackoverflow.com/questions/37714798/how-to-create-vcxitems-in-visual-studio-2015/37717322#37717322", "title": "How to create .vcxitems in visual studio 2015", "body": "<p><code>.vcxitems</code> are called Shared Items Projects.  These pseudo-\"projects\" contain files, but they don't actually build anything.  Instead, other projects in the solution can reference them, and thereby automatically pick up all those files.  <code>.vcxitems</code> projects are created by right-clicking on the solution name in Solution Explorer and choosing <code>Add</code> > <code>New Project</code> > <code>General</code> > <code>Shared Items Project</code>.</p>\n\n<p>This is useful when you are building multiple versions of a library or program, so you have multiple projects, but they share most of their files.  You add a reference of the Shared Items Project into a real project by right-clicking on the real project name in Solution Explorer and choosing <code>Add</code> > <code>Reference</code> > <code>Shared Items</code>.</p>\n"}], "owner": {"reputation": 179, "user_id": 6146283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/XAHro.jpg?s=128&g=1", "display_name": "Isaac Hsu", "link": "https://stackoverflow.com/users/6146283/isaac-hsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 1, "accepted_answer_id": 37717322, "answer_count": 1, "score": 2, "last_activity_date": 1465449519, "creation_date": 1465430081, "last_edit_date": 1465430786, "question_id": 37714798, "link": "https://stackoverflow.com/questions/37714798/how-to-create-vcxitems-in-visual-studio-2015", "title": "How to create .vcxitems in visual studio 2015", "body": "<p>I created a <code>cross-platform</code> solution of <strong>OpenGL</strong> <strong>ES2</strong> Application (<code>Android</code>, <code>iOS</code>, <code>Windows</code> Universal) in <strong>Visual Studio 2015</strong> and noticed that there was a shared library whose file extension was <code>.vcxitems</code> instead of <code>.vcxproj</code>.</p>\n\n<p>I need to create more shared libraries shared among those platforms like that. Does anyone know how to create <code>.vcxitems</code> in <code>Visual Studio 2015</code>?</p>\n"}, {"tags": ["c++", "bmp"], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 366486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52670872024813bf3bdb98b46b1efb6?s=128&d=identicon&r=PG", "display_name": "Ian Cook", "link": "https://stackoverflow.com/users/366486/ian-cook"}, "edited": false, "score": 2, "creation_date": 1465454923, "post_id": 37714852, "comment_id": 62910001, "body": "There is another caveat - this will only work on a little-endian architecture.  On a big-endian one you&#39;d also need to deal with byte swapping."}, {"owner": {"reputation": 661, "user_id": 2727241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6500f54ddea7f3ecb9807908491772f5?s=128&d=identicon&r=PG&f=1", "display_name": "Pelle", "link": "https://stackoverflow.com/users/2727241/pelle"}, "edited": false, "score": 0, "creation_date": 1465459846, "post_id": 37714852, "comment_id": 62912940, "body": "Thank you for answering. Is there an easier way?"}], "tags": [], "owner": {"reputation": 126, "user_id": 5292184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd97299a9998783b28ec3791a512380?s=128&d=identicon&r=PG", "display_name": "mareq", "link": "https://stackoverflow.com/users/5292184/mareq"}, "is_accepted": true, "score": 0, "last_activity_date": 1572528750, "last_edit_date": 1572528750, "creation_date": 1465430477, "answer_id": 37714852, "question_id": 37714666, "link": "https://stackoverflow.com/questions/37714666/putting-parts-of-array-into-struct/37714852#37714852", "title": "Putting parts of array into struct", "body": "<p>The easiest way to do this would be to use <code>std::ifstream</code> and its <code>read</code> member function:</p>\n\n<pre><code>std::ifstream in(\"input.bmp\");\nbmp_header hdr;\nin.read(reinterpret_cast&lt;char *&gt;(&amp;hdr), sizeof(bmp_header));\n</code></pre>\n\n<p>There is one caveat though: Compiler will <a href=\"https://en.wikipedia.org/wiki/Data_structure_alignment\" rel=\"nofollow noreferrer\">align</a> member variables of the <code>bmp_header</code>. Therefore you have to prevent this. E.g. in <code>gcc</code> you do this by saying <code>__attribute__((packed))</code>:</p>\n\n<pre><code>struct bmp_header {\n    char16_t id;\n    int size;\n    char16_t reserved1;\n    char16_t reserved2;\n    int offset_to_pxl_array;    \n} __attribute__((packed));\n</code></pre>\n\n<p>Also, as pointed by @ian-cook in the comments below, endianness needs to be taken care of as well.</p>\n"}], "owner": {"reputation": 661, "user_id": 2727241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6500f54ddea7f3ecb9807908491772f5?s=128&d=identicon&r=PG&f=1", "display_name": "Pelle", "link": "https://stackoverflow.com/users/2727241/pelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 37714852, "answer_count": 1, "score": 0, "last_activity_date": 1572528750, "creation_date": 1465429071, "question_id": 37714666, "link": "https://stackoverflow.com/questions/37714666/putting-parts-of-array-into-struct", "title": "Putting parts of array into struct", "body": "<p>I am parsing a bitmap header (just for fun) and I'm having trouble putting the data into a struct. This is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nstruct bmp_header {\n    char16_t id;\n    int size;\n    char16_t reserved1;\n    char16_t reserved2;\n    int offset_to_pxl_array;    \n} bmp_header;\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) {\n        cout &lt;&lt; \"No image file specified.\" &lt;&lt; endl;\n        return -1;\n    }\n    ifstream file(argv[1], ios::in|ios::binary|ios::ate);\n    streampos f_size = file.tellg();    \n    char *memblock;\n\n    if (!file.is_open()) {\n        cout &lt;&lt; \"Error reading file.\" &lt;&lt; endl;\n        return -1;\n    }\n\n    memblock = new char[f_size];\n\n    //Read whole file\n    file.seekg(0, ios::beg);\n    file.read(memblock, f_size);\n    file.close();\n\n    //Parse header\n    //HOW TO PUT FIRST 14 BYTES OF memblock INTO bmp_header?\n\n    //Output file   \n    for(int x = 0; x &lt; f_size; x++) {\n        cout &lt;&lt; memblock[x];\n        if (x % 20 == 0)\n            cout &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"End of file.\" &lt;&lt; endl;\n\n    delete[] memblock;\n\n    return 0;\n}\n</code></pre>\n\n<p>How do I put the first 14 elements of <em>memblock</em> into <em>bmp_header</em>? I've been trying to search a bit around the web, but most of the solutions seem to be a bit complex for such a simple problem.</p>\n"}, {"tags": ["c++", "vector", "numeric"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1465429211, "post_id": 37714646, "comment_id": 62902875, "body": "What did you try when you attempted to do what you describe?"}, {"owner": {"reputation": 11, "user_id": 4667039, "user_type": "registered", "profile_image": "https://graph.facebook.com/1038876099475427/picture?type=large", "display_name": "Mahmoud Usama Fawzy", "link": "https://stackoverflow.com/users/4667039/mahmoud-usama-fawzy"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1465429373, "post_id": 37714646, "comment_id": 62902913, "body": "sorry I am newbie here"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4667039, "user_type": "registered", "profile_image": "https://graph.facebook.com/1038876099475427/picture?type=large", "display_name": "Mahmoud Usama Fawzy", "link": "https://stackoverflow.com/users/4667039/mahmoud-usama-fawzy"}, "edited": false, "score": 0, "creation_date": 1465429605, "post_id": 37714699, "comment_id": 62902982, "body": "Thank you very much"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 4, "creation_date": 1465429618, "post_id": 37714699, "comment_id": 62902985, "body": "or the much simpler: <code>std::vector&lt;char&gt; vch { yourinput.begin(), yourinput.end() };</code>."}], "tags": [], "owner": {"reputation": 1219, "user_id": 5876626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39591f95af318578678c3a2813d6c620?s=128&d=identicon&r=PG&f=1", "display_name": "pcodex", "link": "https://stackoverflow.com/users/5876626/pcodex"}, "is_accepted": true, "score": 0, "last_activity_date": 1465429310, "creation_date": 1465429310, "answer_id": 37714699, "question_id": 37714646, "link": "https://stackoverflow.com/questions/37714646/reading-int-values-from-a-vector-in-c/37714699#37714699", "title": "Reading int values from a vector in c++", "body": "<p>Here's one possible way to do it:</p>\n\n<pre><code>std::string yourinput;\ncin&gt;&gt;yourinput; //capture your large number as a string\n\nstd::vector&lt;char&gt; vch;\n\nfor(size_t st=0;st&lt;yourinput.length();++st)\n{\n vch.push_back(yourinput[st]); //move each character into the vector\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4667039, "user_type": "registered", "profile_image": "https://graph.facebook.com/1038876099475427/picture?type=large", "display_name": "Mahmoud Usama Fawzy", "link": "https://stackoverflow.com/users/4667039/mahmoud-usama-fawzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "closed_date": 1466691885, "accepted_answer_id": 37714699, "answer_count": 1, "score": -3, "last_activity_date": 1465434438, "creation_date": 1465428913, "last_edit_date": 1465434438, "question_id": 37714646, "link": "https://stackoverflow.com/questions/37714646/reading-int-values-from-a-vector-in-c", "closed_reason": "Needs details or clarity", "title": "Reading int values from a vector in c++", "body": "<p>I have a problem to read a large int ( <code>1 to 10^100</code> ) into <code>vector</code> the problem is I cannot read it as numeric <code>data-type</code> and split it into the vector so I want a solution to <code>read</code> the number separately into the <code>vector</code> </p>\n\n<p>Example:</p>\n\n<pre><code>45686469\nvec[0] = 4\nvec[1] = 5\n...\nvec[7] = 9\n</code></pre>\n"}, {"tags": ["c++", "arrays", "stdlist"], "comments": [{"owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "edited": false, "score": 0, "creation_date": 1465429663, "post_id": 37714644, "comment_id": 62903000, "body": "The new list type has no public method for element-by-element access at all?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465430093, "post_id": 37714644, "comment_id": 62903140, "body": "I think I have the answer, but I&#39;ve delete it until I can confirm that <code>section.students.begin()</code> returns <code>std::list::Iterator&lt;Student&gt;</code>."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 2, "creation_date": 1465430171, "post_id": 37714644, "comment_id": 62903175, "body": "<code>section</code> is const, so you probably want <code>section.students.cbegin()</code> and <code>section.students.cend()</code>."}, {"owner": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465430765, "post_id": 37714644, "comment_id": 62903359, "body": "@user4581301 yes it does. in my copy constructor I use it like this and this seems to work:  \tauto pos = sect.students.begin();  \tstudents.clear(); \t   while (pos != sect.students.end()) \t   { \t      students.push_back(*pos); \t      ++pos; \t   }  but within &lt;&lt; I get  an error"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465438137, "post_id": 37714644, "comment_id": 62904907, "body": "@Addy: In your copy constructor, you are dereferencing the iterator being copied from (<code>*pos</code>), but in your <code>operator&lt;&lt;</code> you are not dereferencing (<code>= pos</code> instead of <code>= *pos</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "edited": false, "score": 0, "creation_date": 1465434239, "post_id": 37714746, "comment_id": 62904151, "body": "hrm still no dice. I&#39;m not attached to using an array, he mentioned we should model it after the existing &lt;&lt; from a previous lab so I used that as a starting point. changing pos to *pos had no effect.  I should mention the errors I get are &quot;within this context,&quot; but section.h&#39;s std::list&lt;Student&gt; students; declaration complains that &quot;&#39;std::list&lt;Student&gt; Section::students&#39; is private&quot;  anytime I try to create an iterator. I&#39;m just not sure how to access the student list from operator&lt;&lt; without changing it&#39;s declaration."}, {"owner": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "edited": false, "score": 0, "creation_date": 1465434322, "post_id": 37714746, "comment_id": 62904164, "body": "as for const issues the iterators are declared as such in the .h so wouldn&#39;t auto handle using the correct version or am I misunderstanding how auto works?  <code>iterator begin();</code>   <code>const_iterator begin() const;</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "edited": false, "score": 0, "creation_date": 1465436172, "post_id": 37714746, "comment_id": 62904556, "body": "You got us on the const iterator. Didn&#39;t know the compiler could select an overload on <code>const</code>, but I probably should have. It&#39;s selecting based on a a <code>const TYPE * this</code> parameter."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "edited": false, "score": 0, "creation_date": 1465436361, "post_id": 37714746, "comment_id": 62904593, "body": "The first bit is still correct. <code>auto</code> in <code>auto pos</code> is standing in for <code>std::list&lt;Student&gt;::const_iterator</code>, and that cannot be assigned to a <code>Student</code>. You need to get to the <code>iterator</code>&#39;s <code>Student</code> with <code>*</code>."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465437815, "post_id": 37714746, "comment_id": 62904851, "body": "The loop that populates the array can be replaced with a <code>std::vector</code> and <code>std::copy()</code>, eg: <code>std::vector&lt;Student&gt; students; students.reserve(section.getNumberOfStudents()); std::copy(section.cbegin(), section.cend(), std::back_inserter(students));</code> However, depending on how complex <code>Student</code> is, making a hard copy of each <code>Student</code> may be a lot of overhead for <code>operator&lt;&lt;</code>, so I would actually use a <code>std::vector&lt;Student*&gt;</code> instead, populate with pointers to the original <code>Student</code>s in <code>section</code>, and then use a custom comparer with <code>std::sort()</code>, thus avoiding making any copies at all."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465438487, "post_id": 37714746, "comment_id": 62904964, "body": "Holy expletive deleted. Here I am working up this example with <code>std::reference_wrapper&lt;const Student&gt;&gt;</code> to get around the copying and I could have just used a pointer. I hang my head in shame. Learned a lot about <code>std::ref</code>, but Crom...."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 2, "last_activity_date": 1465439399, "last_edit_date": 1592644375, "creation_date": 1465429706, "answer_id": 37714746, "question_id": 37714644, "link": "https://stackoverflow.com/questions/37714644/using-iterator-in-ostream-fails/37714746#37714746", "title": "using iterator in ostream fails", "body": "<pre><code>students[i] = pos;\n</code></pre>\n<p>should be changed to</p>\n<pre><code>students[i] = *pos;\n</code></pre>\n<p>because you want to copy the <code>Student</code> the iterator references, not the iterator itself.</p>\n<p>But why a dynamic array of <code>Student</code> rather than a <code>std::vector&lt;Student&gt;</code>? Currently you have a memory leak because you don't <code>delete[] students;</code></p>\n<h1>Edit 1</h1>\n<p>Removed.</p>\n<h1>Edit 2</h1>\n<p>Other than that, all I can see that it wrong is a missing <code>std::</code> in front of</p>\n<pre><code>sort (students, students+section.getNumberOfStudents());\n</code></pre>\n<p>this is assuming there is no custom <code>sort</code> method being used.</p>\n<h1>Edit 3</h1>\n<p>Going off the rails here:</p>\n<pre><code>students[i] = *pos;\n</code></pre>\n<p>copies a Student from the <code>list</code> into the dynamic array <code>students</code>. This could be expensive, so here is an alternative:</p>\n<p>First the bits and pieces needed to prove this out: Required includes</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;\n</code></pre>\n<p>a minimal Student class</p>\n<pre><code>class Student\n{\n    std::string name; \npublic:\n    Student(std::string inname):name(inname)\n    {\n\n    }\n    const std::string &amp; getname() const\n    {\n        return name;\n    }\n    friend bool operator&lt;(const Student &amp; a, const Student &amp;b)\n    {\n        return a.name &lt; b.name;\n    }\n};\n</code></pre>\n<p>a minimal Section class</p>\n<pre><code>class Section\n{\npublic:\n    std::list&lt;Student&gt; students;\n};\n</code></pre>\n<p>a minimal outstream operator</p>\n<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const Section&amp; section)\n{\n</code></pre>\n<p>A <code>std::vector</code> instead of an array, and a vector of constant references so we don't have to copy the students.</p>\n<pre><code>    std::vector&lt;std::reference_wrapper&lt;const Student&gt;&gt; students;\n</code></pre>\n<p>Store references in the <code>vector</code>. Probably could do a one liner with <code>std::copy</code> and <code>std::back_inserter</code>, but this is getting a bit too much to absorb for one example.</p>\n<pre><code>    for (const auto &amp; student: section.students)\n    {\n        students.push_back(std::ref(student));\n    }\n</code></pre>\n<p>Sort the <code>vector</code></p>\n<pre><code>    std::sort(students.begin(), students.end());\n</code></pre>\n<p>print the <code>vector</code></p>\n<pre><code>    for (const auto &amp; student: students)\n    {\n        out &lt;&lt; student.get().getname() &lt;&lt; &quot; &quot;;\n    }\n    return out;\n}\n</code></pre>\n<p>and one <code>main</code> to rule them all and in the darkness bind them</p>\n<pre><code>int main()\n{\n    Section s;\n\n    s.students.emplace_front(&quot;Tom&quot;);\n    s.students.emplace_front(&quot;Dick&quot;);\n    s.students.emplace_front(&quot;Harry&quot;);\n    std::cout &lt;&lt; s;\n}\n</code></pre>\n<p>And all in one easy to cut-n-paste block:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;functional&gt;\n\nclass Student\n{\npublic:\n    std::string name; // this is me being lazy. name should be private\n    Student(std::string inname):name(inname)\n    {\n\n    }\n    const std::string &amp; getname() const\n    {\n        return name;\n    }\n    friend bool operator&lt;(const Student &amp; a, const Student &amp;b)\n    {\n        return a.name &lt; b.name;\n    }\n};\n\nclass Section\n{\npublic:\n    std::list&lt;Student&gt; students;\n};\n\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const Section&amp; section)\n{\n    std::vector&lt;std::reference_wrapper&lt;const Student&gt;&gt; students;\n\n    // store references in the `vector`.\n    for (const auto &amp; student: section.students)\n    {\n        students.push_back(std::ref(student));\n    }\n\n     // Sort the `vector`\n    std::sort(students.begin(), students.end());\n\n    // print the `vector`\n    for (const auto &amp; student: students)\n    {\n        out &lt;&lt; student.get().getname() &lt;&lt; &quot; &quot;;\n    }\n    return out;\n}\n\nint main()\n{\n    Section s;\n\n    s.students.emplace_front(&quot;Tom&quot;);\n    s.students.emplace_front(&quot;Dick&quot;);\n    s.students.emplace_front(&quot;Harry&quot;);\n    std::cout &lt;&lt; s;\n}\n</code></pre>\n<p>Or do what Remy suggested and use a <code>std::vector&lt;Student *&gt;</code> and a custom comparator to dereference the pointers for <code>std::sort</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1465439466, "creation_date": 1465439466, "answer_id": 37715911, "question_id": 37714644, "link": "https://stackoverflow.com/questions/37714644/using-iterator-in-ostream-fails/37715911#37715911", "title": "using iterator in ostream fails", "body": "<p>As others have stated, the error is because you are not dereferencing the iterator when populating your <code>students[]</code> array:</p>\n\n<pre><code>students[i] = pos; // &lt;-- should be *pos instead!\n</code></pre>\n\n<p>I would suggest an alternative approach that should be faster and more efficient:</p>\n\n<pre><code>std::ostream&amp; operator&lt;&lt; (std::ostream&amp; out, const Section&amp; section)\n{\n  // 1. print the section header\n  out &lt;&lt; setw(8) &lt;&lt; left &lt;&lt; section.getCourse()\n      &lt;&lt; setw(6) &lt;&lt; left &lt;&lt; section.getCallNumber();\n  out &lt;&lt; \": \" &lt;&lt; section.getNumberOfStudents() &lt;&lt; \" students\\n\";\n\n  // 2. collect the students, sort, and print\n  std::vector&lt;const Student*&gt; students;\n  students.reserve(section.getNumberOfStudents());\n\n  for ( auto pos = section.students.cbegin();\n    pos != section.students.cend(); ++pos)\n  {\n      students.push_back(&amp;(*pos));\n  }\n\n  sort (students.begin(), students.end(), \n    [](const Student *a, const Student *b) { return (*a &lt; *b); }\n  );\n\n  for ( auto pos = students.cbegin();\n    pos != students.cend(); ++pos)\n  {\n    out &lt;&lt; \"    \" &lt;&lt; *(*pos) &lt;&lt; \"\\n\";\n  }\n\n  out &lt;&lt; flush;\n  return out;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "is_accepted": false, "score": 0, "last_activity_date": 1465478595, "creation_date": 1465478595, "answer_id": 37727266, "question_id": 37714644, "link": "https://stackoverflow.com/questions/37714644/using-iterator-in-ostream-fails/37727266#37727266", "title": "using iterator in ostream fails", "body": "<p>I appreciate all your answers. Ended up being a much more basic issue. I had to implement the Section iterators to return student iterators. </p>\n\n<pre><code>    Section::iterator Section::begin() {\n    return students.begin();\n}\n\nSection::const_iterator Section::begin() const {\n    return students.begin();\n}\n\nSection::iterator Section::end() {\n    return students.begin();\n}\n\nSection::const_iterator Section::end() const {\n    return students.begin();\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5829457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8543a5f0e496e54e6b22a250b2ef67?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/5829457/addy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 37714746, "answer_count": 3, "score": 0, "last_activity_date": 1465478595, "creation_date": 1465428906, "question_id": 37714644, "link": "https://stackoverflow.com/questions/37714644/using-iterator-in-ostream-fails", "title": "using iterator in ostream fails", "body": "<p>I am attempting to implement a std::list to replace a linked list in this assignment. I am not allowed to change the declarations and can only change code in the .cpp file. For the most part I am making progress but I am having trouble implementing this </p>\n\n<pre><code>std::ostream&amp; operator&lt;&lt; (std::ostream&amp; out, const Section&amp; section);\n</code></pre>\n\n<p>namely when I try to create an iterator it fails. I've used the iterator elsewhere in the code so I don't understand why it's failing here, I believe it's because it's private but I'm not sure how to resolve the issue without changing the .h file which was explicitly prohibited:</p>\n\n<pre><code>std::ostream&amp; operator&lt;&lt; (std::ostream&amp; out, const Section&amp; section)\n{\n  // 1. print the section header\n  out &lt;&lt; setw(8) &lt;&lt; left &lt;&lt; section.getCourse()\n      &lt;&lt; setw(6) &lt;&lt; left &lt;&lt; section.getCallNumber();\n  out &lt;&lt; \": \" &lt;&lt; section.getNumberOfStudents() &lt;&lt; \" students\\n\";\n\n  // 2. collect the students, sort, and print\n  Student* students = new Student[section.getNumberOfStudents()];\n  {\n    int i = 0;\n\n    for ( auto pos = section.students.begin();\n     pos != section.students.end(); pos++)\n      {\n    students[i] = pos;\n    ++i;\n      }\n  }\n\n  sort (students, students+section.getNumberOfStudents());\n\n  for (int i = 0; i &lt; section.getNumberOfStudents(); ++i)\n    out &lt;&lt; \"    \" &lt;&lt; students[i] &lt;&lt; \"\\n\";\n\n  out &lt;&lt; flush;\n  return out;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "vector", "stl"], "answers": [{"tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 3, "last_activity_date": 1465428684, "creation_date": 1465428684, "answer_id": 37714610, "question_id": 37714566, "link": "https://stackoverflow.com/questions/37714566/what-do-member-types-mean-in-vectors/37714610#37714610", "title": "What do member types mean in vectors?", "body": "<p>Here's a typical class in C++:</p>\n\n<pre><code>struct Foo\n{\n    int n;                         // non-static data member\n    static const float x;          // static data member\n\n    int f() const;                 // non-static member function\n    static int g();                // static member function\n\n    template &lt;typename T&gt;\n    void h(T);                     // non-static member function template\n\n    struct X { bool a; };          // member type\n    template &lt;typename&gt; struct Q;  // member class template\n\n    using T = Q&lt;int&gt;;              // member type (member typedef)\n};\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>// Use static members\n\nprint(Foo::x);\nprint(Foo::g());\n\nFoo::X y;\nFoo::Q&lt;double&gt; z;\nFoo::T w;\n\n// Use non-static members (requires instance)\n\nvoid demo(const Foo &amp; a)\n{\n    print(a.n);\n    print(a.f());\n    print(a.h&lt;float&gt;());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465439953, "post_id": 37714676, "comment_id": 62905254, "body": "You have to careful with using <code>&amp;</code> to get the address of a variable in generic code. Some types may override <code>operator&amp;</code>, thus your example would fail. To get the real address regardless of whether <code>operator&amp;</code> is overridden, use <a href=\"http://en.cppreference.com/w/cpp/memory/addressof\" rel=\"nofollow noreferrer\"><code>std::addressof()</code></a> instead, eg: <code>c = std::addressof(container);</code>"}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 1, "last_activity_date": 1465429142, "creation_date": 1465429142, "answer_id": 37714676, "question_id": 37714566, "link": "https://stackoverflow.com/questions/37714566/what-do-member-types-mean-in-vectors/37714676#37714676", "title": "What do member types mean in vectors?", "body": "<p>The page you linked lists a \"member type\" of \"value_type T\". This is type definition that belongs to or is a member of T. Consider</p>\n\n<pre><code>using VEC = std::vector&lt;double&gt;;\nVEC dv { 4.2 };\n</code></pre>\n\n<p>Now lets say we want to store a value from <code>dv</code> but we don't want to hard-code the type so that a future change to the definition of <code>VEC</code> will Do The Right Thing (TM).</p>\n\n<pre><code>using VEC = std::vector&lt;double&gt;;\nVEC dv { 4.2 };\n// ...    \nVEC::value_type d = dv.front();\n</code></pre>\n\n<p>Or if you want to write cross-platform portable code, it can be helpful to use 'size_type' to ensure you store sizes that are large enough:</p>\n\n<pre><code>int s = dv.size();  // wrong on 64-bit system\nVEC::size_type s = dv.size();  // always correct\n</code></pre>\n\n<p>That is to say, <code>std::vector&lt;double&gt;</code> hosts a type definition, <code>value_type</code>, which evaluates to the type of 'T' in vector, or in our case double.</p>\n\n<p>This is mostly important for generic programming:</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid dothing(const T&amp; container)\n{\n    T::const_pointer* c = &amp;container;  // for some reason I need it's address\n    // .. other stuff\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "is_accepted": false, "score": 0, "last_activity_date": 1465429151, "creation_date": 1465429151, "answer_id": 37714678, "question_id": 37714566, "link": "https://stackoverflow.com/questions/37714566/what-do-member-types-mean-in-vectors/37714678#37714678", "title": "What do member types mean in vectors?", "body": "<p>There are two things you need to understand:</p>\n\n<ol>\n<li><strong>You can make aliases for types.</strong></li>\n</ol>\n\n<p>For example,</p>\n\n<pre><code>using blah = int;\n</code></pre>\n\n<p>would make <code>blah</code> an alias for <code>int</code>. In other words, you would be able to use <code>blah</code> instead of <code>int</code> in any place.</p>\n\n<p>(There is another way to make a type alias using <code>typedef</code> instead of <code>using</code>, but it is less readable.)</p>\n\n<ol start=\"2\">\n<li><strong>You can put those aliases inside of classes.</strong></li>\n</ol>\n\n<p>For example, if you declared a following struct</p>\n\n<pre><code>struct S\n{\n    using type = int;\n};\n</code></pre>\n\n<p>you would be able to use <code>S::type</code> instead of an int.</p>\n\n<p><strong>Such aliases inside of classes are often called <em>member types</em>.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 14411, "user_id": 52724, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c1e5bf4421007b7cfe4dba5ecb24f777?s=128&d=identicon&r=PG", "display_name": "Karl Nicoll", "link": "https://stackoverflow.com/users/52724/karl-nicoll"}, "is_accepted": true, "score": 3, "last_activity_date": 1465429896, "creation_date": 1465429896, "answer_id": 37714774, "question_id": 37714566, "link": "https://stackoverflow.com/questions/37714566/what-do-member-types-mean-in-vectors/37714774#37714774", "title": "What do member types mean in vectors?", "body": "<p>The member types define the types that are used by the vector object. Many standard containers use member types to describe the types used, so that the programmer does not need to figure them out manually. This is particularly useful when working with complex templates, where types may be hard to determine.</p>\n\n<p>For example, the return type of <a href=\"http://en.cppreference.com/w/cpp/container/vector/size\" rel=\"nofollow\"><code>std::vector&lt;___&gt;::size()</code></a> is usually <a href=\"http://en.cppreference.com/w/cpp/types/size_t\" rel=\"nofollow\"><code>std::size_t</code></a>, however another C++ vector implementation may return a different integer type (e.g. <a href=\"http://en.cppreference.com/w/cpp/types/integer\" rel=\"nofollow\"><code>int32_t</code></a>). Instead of assuming what types you need in your code (and possibly introducing dangerous casting), you can simply use the member types exposed by the vector to write your code with the perfect types every time. For example:</p>\n\n<pre><code>std::vector&lt;int&gt; vec;\n\nconst std::vector&lt;int&gt;::value_type val = 4;\n// std::vector&lt;int&gt;::value_type is a typedef of int!\n\nvec.push_back(val);\n\nconst std::vector&lt;int&gt;::size_type size = vec.size();\n// std::vector&lt;int&gt;::size_type is a typedef of std::size_t, usually.\n\nconst std::size_t size2 = vec.size();\n// same as above, but we assume that vec.size() returns a size_t.\n// If it does not, we may cause a narrowing conversion!\n\nfor (std::vector&lt;int&gt;::const_iterator it = vec.begin(), end = vec.end(); it != end; ++it)\n{\n    // The const_iterator type is also a member type of vector.\n    std::cout &lt;&lt; *it &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Iterators are probably the most common usage of member types in standard containers. Rather than having to figure out if an iterator is a random access iterator, or a simple forward iterator, or any other kind of iterator, we can just use the <code>iterator</code> member type exposed by the container.</p>\n\n<p>The C++11 <code>auto</code> keyword can take this even further. Instead of doing:</p>\n\n<pre><code>const std::vector&lt;int&gt;::size_type size = vec.size();\n</code></pre>\n\n<p>we can now just do:</p>\n\n<pre><code>const auto size = vec.size();\n</code></pre>\n\n<p>and the compiler will automatically work it out.</p>\n\n<p>Generally speaking most C++ standard objects will use the same member types where possible (e.g. <code>size_t</code> for <code>size_type</code>, <code>T</code> for <code>value_type</code>, <code>T&amp;</code> for <code>reference_type</code>), but it is not guaranteed (<code>iterator</code> member type is different for <code>std::vector</code> and <code>std::list</code>, because their implementations are wildly different and they cannot use the same iterator type).</p>\n"}], "owner": {"reputation": 229, "user_id": 4956887, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qXm0mpQUkNM/AAAAAAAAAAI/AAAAAAAABns/OUnSl7E-iUM/photo.jpg?sz=128", "display_name": "Niranjan Kotha", "link": "https://stackoverflow.com/users/4956887/niranjan-kotha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 37714774, "answer_count": 4, "score": 1, "last_activity_date": 1465456209, "creation_date": 1465428424, "last_edit_date": 1465456209, "question_id": 37714566, "link": "https://stackoverflow.com/questions/37714566/what-do-member-types-mean-in-vectors", "title": "What do member types mean in vectors?", "body": "<p>When I went through <code>std::vector</code> over at <a href=\"http://en.cppreference.com/w/cpp/container/vector#Member_types\" rel=\"nofollow\">cppreference.com</a> and found a section called \"<strong>Member types</strong>\" I did not understand what that means. In fact the member types section is present in all the reference documents of containers in <code>stl</code> library.</p>\n\n<p>Can someone help me in understanding this?</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1465428618, "post_id": 37714539, "comment_id": 62902684, "body": "Since you&#39;re calling implementation-defined functions, why do you care about portability?"}, {"owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1465428834, "post_id": 37714539, "comment_id": 62902755, "body": "@Barmar Not sure I follow -- you mean that if these compile, then they will be safe? In the real code I do have a <a href=\"https://github.com/zbjornson/node-bswap/blob/master/src/bswap.cc#L18-L32\" rel=\"nofollow noreferrer\">fall-through function that uses bitshifting</a>, not sure if that changes the discussion."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1465429661, "post_id": 37714539, "comment_id": 62902999, "body": "The line <code>uint16_t* data16 = reinterpret_cast&lt;uint16_t*&gt;(data);</code> may be an alignment violation; you can&#39;t close the gate after the horse has bolted"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1465429878, "post_id": 37714539, "comment_id": 62903067, "body": "The compiler uses MOVDQU because it doesn&#39;t know at compile-time whether or not the data will be aligned...  you might have a better shot if you do the alignment check first, and use an <code>if</code> to only erform the cast and do the swap if the alignment check succeeded."}, {"owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1465430103, "post_id": 37714539, "comment_id": 62903143, "body": "@M.M Thanks. I&#39;m okay with it using MOVDQU because the perf difference isn&#39;t noticeable. Just trying to figure out if any of this is illegal, in which case I could add an <code>if</code> to use another swap method if it&#39;s not aligned."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 1, "creation_date": 1465430789, "post_id": 37714539, "comment_id": 62903366, "body": "@ZachB Barmar&#39;s point is: why do you care if it is safe on all compilers, when you&#39;re not compiling this with all compilers?"}, {"owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "edited": false, "score": 0, "creation_date": 1465431439, "post_id": 37714539, "comment_id": 62903545, "body": "This is not safe, it&#39;s the same deal as the other question.  What&#39;s supposed to happen if you perform pointer arithmetic between an aligned an unaligned pointer?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "edited": false, "score": 0, "creation_date": 1465510549, "post_id": 37714539, "comment_id": 62945160, "body": "@QuestionC undefined behaviour  (pointer subtraction is only defined when both pointers point to elements of the same array object, or the &quot;past-the-end&quot; element)"}], "answers": [{"comments": [{"owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "edited": false, "score": 0, "creation_date": 1465432083, "post_id": 37714887, "comment_id": 62903702, "body": "Thanks. Is this right: The cast can cause undefined behavior, and even though the three compilers I&#39;ve tested handle it correctly, I still shouldn&#39;t do it because it&#39;s brittle to rely on non-standard behaviors?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "edited": false, "score": 0, "creation_date": 1465436433, "post_id": 37714887, "comment_id": 62904608, "body": "@ZachB I&#39;d agree with that"}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1465430725, "creation_date": 1465430725, "answer_id": 37714887, "question_id": 37714539, "link": "https://stackoverflow.com/questions/37714539/does-this-violate-strict-aliasing-or-pointer-alignment-rules/37714887#37714887", "title": "Does this violate strict aliasing or pointer alignment rules?", "body": "<p>If <code>alignof(unit16_t) != 1</code> then this line may cause undefined behaviour due to alignment:</p>\n\n<pre><code>uint16_t* data16 = reinterpret_cast&lt;uint16_t*&gt;(data);\n</code></pre>\n\n<p>Putting an alignment check <em>after</em> this is no good; for a compiler could hardcode the check to say <code>1</code> because it knows that correct code couldn't reach that point otherwise. </p>\n\n<p>In Standard C++  , for this check to be meaningful it must occur before the cast, and then the cast must not be performed if the check fails. (UB can time travel).</p>\n\n<p>Of course, individual compilers may choose to define behaviour that is not defined by the Standard, e.g. perhaps g++ targeting x86 or x64 includes a definition that you're allowed to form unaligned pointers and dereference them.</p>\n\n<p>There is no strict aliasing violation, as <code>__builtin_bswap16</code> is not covered by the standard and we presume g++ implements it in such a way that is consistent with itself.  MSVC doesn't do strict aliasing optimizations anyway.</p>\n"}], "owner": {"reputation": 9285, "user_id": 1218408, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YqwCY.png?s=128&g=1", "display_name": "ZachB", "link": "https://stackoverflow.com/users/1218408/zachb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 37714887, "answer_count": 1, "score": 0, "last_activity_date": 1465495750, "creation_date": 1465428268, "last_edit_date": 1495541292, "question_id": 37714539, "link": "https://stackoverflow.com/questions/37714539/does-this-violate-strict-aliasing-or-pointer-alignment-rules", "title": "Does this violate strict aliasing or pointer alignment rules?", "body": "<p>I'm swapping bytes in a char buffer:</p>\n\n<pre><code>char* data; // some char buffer\nuint16_t* data16 = reinterpret_cast&lt;uint16_t*&gt;(data);\n\n// For debugging:\nint align = reinterpret_cast&lt;uintptr_t&gt;(data) % alignof(uint16_t);\nstd::cout &lt;&lt; \"aligned? \" &lt;&lt; align &lt;&lt; \"\\n\";\n\nfor (size_t i = 0; i &lt; length_of_data16; i++) {\n#if defined(__GNUC__) || defined(__clang__)\n  data16[i] = __builtin_bswap16(data16[i]);\n#elif defined(_MSC_VER)\n  data16[i] = _byteswap_ushort(data16[i]);\n#endif\n}\n</code></pre>\n\n<p>I'm casting from <code>char*</code> to <code>uint16_t*</code>, which raises a flag because it's casting to a more strictly aligned type.</p>\n\n<p>However, the code runs correctly (on x86), even when the debugging code prints 1 (as in, not aligned). In the assembly I see <code>MOVDQU</code>, which I take to mean that the compiler recognizes that this might not be aligned.</p>\n\n<p>This looks similar to <a href=\"https://stackoverflow.com/questions/13881487/should-i-worry-about-the-alignment-during-pointer-casting\">this question</a>, where the answer was \"this is not safe.\" Does the above code only work on certain architectures and with certain compilers, or is there a subtle difference between these two questions that makes the above code valid?</p>\n\n<p>(Less important: consistent with what I've read online, there's also no noticeable perf difference between aligned and unaligned execution of this code.)</p>\n"}, {"tags": ["c#", "c++", "windows", "dll"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 3, "creation_date": 1465428391, "post_id": 37714530, "comment_id": 62902624, "body": "I&#39;d use a named pipe, give it  a GUID name and pass the name as a command line argument to C"}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465439943, "post_id": 37714530, "comment_id": 62905251, "body": "&#39;C&#39; needs to be an executable because it&#39;s an application that&#39;s already been written, many KLOCs of code. It&#39;s an interactive graphics app, tightly bound to the Windows message loop, would take many months to turn into a DLL. It&#39;s doable, but I&#39;m looking to save time."}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465441635, "post_id": 37714530, "comment_id": 62905557, "body": "Why on earth would this be downvoted? Would anyone downvoting please have the courtesy of explaining why they chose to do so? Scott Chamberlain&#39;s suggestion of using named pipes is excellent, and may provide me with the solution I&#39;m looking for."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1465444826, "post_id": 37714530, "comment_id": 62906234, "body": "At a guess, it&#39;s because they consider it obvious that calling a function in a different process is impossible.  I personally disagree with downvoting on those grounds, and I suspect that in fact you <i>could</i> in principle achieve a reasonable facsimile of what you&#39;ve asked for using COM, but such is life.  (For the record, a named pipe is probably a more reasonable solution to your actual problem than COM anyway.)"}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465470288, "post_id": 37714530, "comment_id": 62919586, "body": "Thank you Harry Johnston, I had thought about COM, because I was concerned about the performance of named pipes. This thing is going to involve a lot of XML data. I&#39;ll give NP a try."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1465492998, "post_id": 37714530, "comment_id": 62936046, "body": "Named pipes are implemented using shared memory. With respect to performance there is little you can do to get any better. Without knowing what <i>&quot;a lot of XML data&quot;</i> is you cannot expect reasonable responses, though. As for the down-votes, I guess it is, because this question completely ignores a very basic concept: process isolation. This isn&#39;t anything new either; it has been commonplace literally for decades."}, {"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465559938, "post_id": 37714530, "comment_id": 62964932, "body": "I&#39;ve got a C# server &amp; C++ client pipe going. The data transfer rate is a combined 30 MB/sec. for I/O, pretty decent (i7-6700 3.40 GHz). Pipes is the way to go. Thank you to all who contributed positively."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465429860, "post_id": 37714693, "comment_id": 62903062, "body": "This doesn&#39;t address the core issue: How to implement the IPC."}], "tags": [], "owner": {"reputation": 92, "user_id": 6440408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EMTll3NHn80/AAAAAAAAAAI/AAAAAAAAAGQ/mVTRma0SdHQ/photo.jpg?sz=128", "display_name": "Allan Leon Alencar Leit&#227;o", "link": "https://stackoverflow.com/users/6440408/allan-leon-alencar-leit%c3%a3o"}, "is_accepted": false, "score": -2, "last_activity_date": 1465429272, "last_edit_date": 1495540723, "creation_date": 1465429272, "answer_id": 37714693, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it/37714693#37714693", "title": "Can an EXE call into the DLL that launched it?", "body": "<p>straight forward answer: yes you can. But it is an really annoying process. You got to create a callback in B and C needs to receive this callback.</p>\n\n<p>So here some links to help you with loading the unmanaged dll.</p>\n\n<p><a href=\"http://timtrott.co.uk/calling-win32-dlls/\" rel=\"nofollow noreferrer\">http://timtrott.co.uk/calling-win32-dlls/</a><br>\n<a href=\"https://stackoverflow.com/questions/1653667/is-it-possible-to-use-win32-dlls-in-c/1653705\">Is it possible to use win32 DLLs in C#?</a><br>\n<a href=\"https://msdn.microsoft.com/en-us/library/aa719104%28v=vs.71%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/aa719104%28v=vs.71%29.aspx</a></p>\n\n<p>And here is how to create your callback:<br>\n<a href=\"https://stackoverflow.com/questions/2167895/howto-implement-callback-interface-from-unmanaged-dll-to-net-app\">Howto implement callback interface from unmanaged DLL to .net app?</a></p>\n\n<p>My advice is, avoid doing this. unmanaged dlls should be used only in the \"request and return\" mode, what means that they only answer requests from the caller and the caller waits until the dll finish the process.</p>\n"}, {"comments": [{"owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "edited": false, "score": 0, "creation_date": 1465440069, "post_id": 37714905, "comment_id": 62905282, "body": "What about with a pipe as suggested by  Scott Chamberlain? Would that avoid the problem of being in a different process?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 2, "creation_date": 1465442693, "post_id": 37714905, "comment_id": 62905776, "body": "It depends what you mean by &quot;avoid&quot;.  Named pipes work across processes, of course.  But they don&#39;t allow you to call a function in the other process, they just let you pass bytes around.  Presumably that&#39;s all you really need."}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": false, "score": 2, "last_activity_date": 1465430824, "creation_date": 1465430824, "answer_id": 37714905, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it/37714905#37714905", "title": "Can an EXE call into the DLL that launched it?", "body": "<p>No, it can't.</p>\n\n<p>The DLL and EXE are in different processes, and you cannot call a function in a different process.</p>\n"}], "owner": {"reputation": 3430, "user_id": 282901, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2da50f1dc1637221d4b650784f3f8802?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/282901/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1465430824, "creation_date": 1465428222, "question_id": 37714530, "link": "https://stackoverflow.com/questions/37714530/can-an-exe-call-into-the-dll-that-launched-it", "title": "Can an EXE call into the DLL that launched it?", "body": "<ul>\n<li>EXE '<code>A</code>' is written in C#. '<code>A</code>' calls DLL '<code>B</code>', also written in C#.</li>\n<li>DLL '<code>B</code>' calls <code>CreateProcess</code> to launch a second EXE '<code>C</code>'. '<code>C</code>' is written in native C++, Win32.</li>\n<li>'<code>C</code>' needs to be able to call a function in DLL '<code>B</code>' because '<code>B</code>' knows of a handle with which it can obtain info from '<code>A</code>'. The handle will be stored as a global variable within <code>B</code>.</li>\n</ul>\n\n<p>I know how to call a managed C# DLL from a Native C++ EXE.</p>\n\n<p>My question is: how can we make <code>C</code> call back into <code>B</code>? How does <code>C</code> find <code>B</code>?</p>\n"}, {"tags": ["c++", "static-libraries", "zeromq", "static-linking", "visual-studio-2015"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1465427766, "post_id": 37714393, "comment_id": 62902432, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}, {"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1465428000, "post_id": 37714393, "comment_id": 62902494, "body": "cannot link to their implementation in <code>.lib</code> files."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 6442259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii8OQ.png?s=128&g=1", "display_name": "LetoTheSecond", "link": "https://stackoverflow.com/users/6442259/letothesecond"}, "is_accepted": true, "score": 8, "last_activity_date": 1465520364, "last_edit_date": 1465520364, "creation_date": 1465519918, "answer_id": 37738391, "question_id": 37714393, "link": "https://stackoverflow.com/questions/37714393/visual-studio-2015-community-zeromq-static-library-linking-error/37738391#37738391", "title": "Visual Studio 2015 Community ZeroMQ static library linking error", "body": "<p>Looks like I needed to link to these libraries as well.</p>\n\n<pre><code>wsock32.lib\nws2_32.lib\nIphlpapi.lib\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 1987913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6923883a352f5a26fccc06036b3042?s=128&d=identicon&r=PG", "display_name": "John Duskin", "link": "https://stackoverflow.com/users/1987913/john-duskin"}, "is_accepted": false, "score": 2, "last_activity_date": 1520592520, "creation_date": 1520592520, "answer_id": 49192031, "question_id": 37714393, "link": "https://stackoverflow.com/questions/37714393/visual-studio-2015-community-zeromq-static-library-linking-error/49192031#49192031", "title": "Visual Studio 2015 Community ZeroMQ static library linking error", "body": "<p>For anyone who finds this and is reading this, LetoTheSecond's response is correct.</p>\n\n<p>If you are a novice with VS like myself here are explicit instructions as to what to do.</p>\n\n<p>Right click on your project.<br/>\nGo to Linker -> Input<br/>\nAdd the following to \"Additional Dependencies\"</p>\n\n<pre><code>ws2_32.lib;wsock32.lib;Iphlpapi.lib\n</code></pre>\n\n<p>(Worked for VS2017)</p>\n"}], "owner": {"reputation": 91, "user_id": 6442259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii8OQ.png?s=128&g=1", "display_name": "LetoTheSecond", "link": "https://stackoverflow.com/users/6442259/letothesecond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2189, "favorite_count": 1, "accepted_answer_id": 37738391, "answer_count": 2, "score": 1, "last_activity_date": 1520592520, "creation_date": 1465427293, "last_edit_date": 1495542313, "question_id": 37714393, "link": "https://stackoverflow.com/questions/37714393/visual-studio-2015-community-zeromq-static-library-linking-error", "title": "Visual Studio 2015 Community ZeroMQ static library linking error", "body": "<p>I am attempting to use the static library of ZeroMQ in Visual Studio 2015. I generated it by cloning the <a href=\"https://github.com/zeromq/libzmq\" rel=\"nofollow noreferrer\">git repository</a>, changing the windows.hpp include in fd.hpp from <code>#include &lt;windows.hpp&gt;</code> to <code>#include \"windows.hpp\"</code>, putting libsodium in the right place, and then batch building everything in the vs2015 solution.</p>\n\n<p>In the program I am trying to use ZeroMQ in I included the ZeroMQ include directory, included the ZeroMQ release static directory (libzmq\\bin\\Win32\\Release\\v140\\static), added libzqm.lib as an additional dependency, defined ZMQ_STATIC and _CRT_SECURE_NO_WARNINGS for some other things I am doing in my program, and changed the runtime library to Multi-threaded /MT.</p>\n\n<p>When I try to compile at this point I get these errors:</p>\n\n<pre><code>1&gt;------ Build started: Project: HttpServer, Configuration: Release Win32 ------\n1&gt;  main.cpp\n1&gt;libzmq.lib(zmq.obj) : error LNK2001: unresolved external symbol ___WSAFDIsSet@8\n1&gt;libzmq.lib(socket_poller.obj) : error LNK2001: unresolved external symbol ___WSAFDIsSet@8\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol ___WSAFDIsSet@8\n1&gt;libzmq.lib(zmq.obj) : error LNK2001: unresolved external symbol __imp__select@20\n1&gt;libzmq.lib(socket_poller.obj) : error LNK2001: unresolved external symbol __imp__select@20\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__select@20\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__select@20\n1&gt;libzmq.lib(zmq.obj) : error LNK2001: unresolved external symbol __imp__WSAStartup@8\n1&gt;libzmq.lib(zmq.obj) : error LNK2001: unresolved external symbol __imp__WSACleanup@0\n1&gt;libzmq.lib(socks_connecter.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(tcp.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(tcp_connecter.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(zmq.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(err.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(socket_poller.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__WSAGetLastError@0\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__htonl@4\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__htonl@4\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__htons@4\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__htons@4\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__htons@4\n1&gt;libzmq.lib(udp_address.obj) : error LNK2001: unresolved external symbol __imp__htons@4\n1&gt;libzmq.lib(stream_engine.obj) : error LNK2001: unresolved external symbol __imp__htons@4\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__ntohs@4\n1&gt;libzmq.lib(stream_engine.obj) : error LNK2001: unresolved external symbol __imp__ntohs@4\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__ntohs@4\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol _if_nametoindex@4\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__getaddrinfo@16\n1&gt;libzmq.lib(socks.obj) : error LNK2001: unresolved external symbol __imp__getaddrinfo@16\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__freeaddrinfo@4\n1&gt;libzmq.lib(socks.obj) : error LNK2001: unresolved external symbol __imp__freeaddrinfo@4\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol __imp__getnameinfo@28\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__getnameinfo@28\n1&gt;libzmq.lib(tcp_address.obj) : error LNK2001: unresolved external symbol _in6addr_any\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__getsockname@12\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__getsockname@12\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__getsockname@12\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__getsockopt@20\n1&gt;libzmq.lib(tcp_connecter.obj) : error LNK2001: unresolved external symbol __imp__getsockopt@20\n1&gt;libzmq.lib(socks_connecter.obj) : error LNK2001: unresolved external symbol __imp__getsockopt@20\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__WSACloseEvent@4\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__WSACreateEvent@0\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__WSAEventSelect@12\n1&gt;libzmq.lib(select.obj) : error LNK2001: unresolved external symbol __imp__WSAWaitForMultipleEvents@20\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__accept@12\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__accept@12\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__bind@12\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__bind@12\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__bind@12\n1&gt;libzmq.lib(tcp_connecter.obj) : error LNK2001: unresolved external symbol __imp__bind@12\n1&gt;libzmq.lib(socks_connecter.obj) : error LNK2001: unresolved external symbol __imp__bind@12\n1&gt;libzmq.lib(socks_connecter.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(stream_engine.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(tcp_connecter.obj) : error LNK2001: unresolved external symbol __imp__closesocket@4\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__connect@12\n1&gt;libzmq.lib(tcp_connecter.obj) : error LNK2001: unresolved external symbol __imp__connect@12\n1&gt;libzmq.lib(socks_connecter.obj) : error LNK2001: unresolved external symbol __imp__connect@12\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__listen@8\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__listen@8\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__recv@16\n1&gt;libzmq.lib(tcp.obj) : error LNK2001: unresolved external symbol __imp__recv@16\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__send@16\n1&gt;libzmq.lib(tcp.obj) : error LNK2001: unresolved external symbol __imp__send@16\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__setsockopt@20\n1&gt;libzmq.lib(signaler.obj) : error LNK2001: unresolved external symbol __imp__setsockopt@20\n1&gt;libzmq.lib(tcp_listener.obj) : error LNK2001: unresolved external symbol __imp__setsockopt@20\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__setsockopt@20\n1&gt;libzmq.lib(tcp.obj) : error LNK2001: unresolved external symbol __imp__setsockopt@20\n1&gt;libzmq.lib(udp_address.obj) : error LNK2001: unresolved external symbol __imp__inet_addr@4\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__inet_addr@4\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__ioctlsocket@12\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__getpeername@12\n1&gt;libzmq.lib(ip.obj) : error LNK2001: unresolved external symbol __imp__socket@12\n1&gt;libzmq.lib(tcp.obj) : error LNK2001: unresolved external symbol __imp__WSAIoctl@36\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__inet_ntoa@4\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__recvfrom@24\n1&gt;libzmq.lib(udp_engine.obj) : error LNK2001: unresolved external symbol __imp__sendto@24\n1&gt;H:\\Programming\\c++\\HttpServer\\Release\\HttpServer.exe : fatal error LNK1120: 35 unresolved externals\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>What confuses me is that when I include the ZeroMQ release dynamic directory (libzmq\\bin\\Win32\\Release\\v140\\dynamic), which contains the dll, it compiles just fine. However, when I try to run my program it requires the dll to run. This is what I am trying to avoid by using the static library of ZeroMQ. I'm at a loss as to what to do now.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I do not believe my question is related to <a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">this</a> because it appears to me that the static .lib is referencing stuff in the .dll which means that I need to include the .dll with my program, doesn't this mean I am not really statically linking the library? Has anyone been able to use ZeroMQ on windows without needing a dll?</p>\n"}, {"tags": ["c++", "class", "sorting"], "comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 4, "creation_date": 1465425363, "post_id": 37713952, "comment_id": 62901694, "body": "Sounds like a job for a debugger."}, {"owner": {"reputation": 7974, "user_id": 4928, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3688dea735adb802ada72577f4897898?s=128&d=identicon&r=PG", "display_name": "SCFrench", "link": "https://stackoverflow.com/users/4928/scfrench"}, "edited": false, "score": 0, "creation_date": 1465425526, "post_id": 37713952, "comment_id": 62901733, "body": "isEqual == 1 means a &gt; b means arr[index] &gt; arr[index + 1], but in the body of the if statement you assign arr[index] to a variable called &quot;minValue&quot;. arr[index] can&#39;t be a minimum if it is greater than arr[index+1], can it? Do you mean isEqual==-1?"}, {"owner": {"reputation": 691, "user_id": 4860035, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/795f9dcc75abc394cba9a788fcd2db30?s=128&d=identicon&r=PG&f=1", "display_name": "Podo", "link": "https://stackoverflow.com/users/4860035/podo"}, "edited": false, "score": 1, "creation_date": 1465425705, "post_id": 37713952, "comment_id": 62901788, "body": "isEqual == 1 and isEqual == -1 only change the order in which the array is sorted. So one runs high to low, the other runs low to high, but doesn&#39;t affect my ability to run through the sort (as far as I can tell)"}], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 4860035, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/795f9dcc75abc394cba9a788fcd2db30?s=128&d=identicon&r=PG&f=1", "display_name": "Podo", "link": "https://stackoverflow.com/users/4860035/podo"}, "edited": false, "score": 0, "creation_date": 1465425828, "post_id": 37714082, "comment_id": 62901828, "body": "That wouldn&#39;t compare neighboring array values though, would it? I keep it the way I have it so that I can work from the right side to the left side, swapping as I go until everything is sorted from the left to the right."}, {"owner": {"reputation": 691, "user_id": 4860035, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/795f9dcc75abc394cba9a788fcd2db30?s=128&d=identicon&r=PG&f=1", "display_name": "Podo", "link": "https://stackoverflow.com/users/4860035/podo"}, "edited": false, "score": 0, "creation_date": 1465426313, "post_id": 37714082, "comment_id": 62901981, "body": "I guess I&#39;m too new to c++ to understand how that would still work. My counters class takes two int values from two neighbor elements. Does passing minValue to my counter function still do the same thing? Because min value is just the current lowest value it has found. Also, I was not the -1. I can set you back to 0 though."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "reply_to_user": {"reputation": 691, "user_id": 4860035, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/795f9dcc75abc394cba9a788fcd2db30?s=128&d=identicon&r=PG&f=1", "display_name": "Podo", "link": "https://stackoverflow.com/users/4860035/podo"}, "edited": false, "score": 0, "creation_date": 1465426424, "post_id": 37714082, "comment_id": 62902013, "body": "Yes, you can pass <code>minValue</code> in. And if you do it will then be the current lowest value."}], "tags": [], "owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "is_accepted": true, "score": 1, "last_activity_date": 1465425499, "creation_date": 1465425499, "answer_id": 37714082, "question_id": 37713952, "link": "https://stackoverflow.com/questions/37713952/got-fancy-w-selection-sort-now-it-wont-sort/37714082#37714082", "title": "Got fancy w/ Selection Sort, now it won&#39;t sort", "body": "<p>If you want something that is just like <code>if (array[index] &lt; minValue)</code> then you should probably pass <code>minValue</code> to your <code>counters</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": false, "score": 2, "last_activity_date": 1465426196, "creation_date": 1465426196, "answer_id": 37714199, "question_id": 37713952, "link": "https://stackoverflow.com/questions/37713952/got-fancy-w-selection-sort-now-it-wont-sort/37714199#37714199", "title": "Got fancy w/ Selection Sort, now it won&#39;t sort", "body": "<pre><code>isEqual = counters(arr[index], arr[index + 1]);\n</code></pre>\n\n<p>This line of code compares subsequent elements and finds the lesser.  So the inner loop finds the last item that was less than the preceding item, and does not find the minimum in the range.  Instead of comparing against the previous, compare against the minimum:</p>\n\n<pre><code>isEqual = counters(arr[index], minValue);\n</code></pre>\n\n<p>(As a note, <code>arr[index + 1]</code> also reads past the end of the array, so you got lucky it didn't crash)</p>\n"}, {"tags": [], "owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "is_accepted": false, "score": 1, "last_activity_date": 1465426317, "creation_date": 1465426317, "answer_id": 37714221, "question_id": 37713952, "link": "https://stackoverflow.com/questions/37713952/got-fancy-w-selection-sort-now-it-wont-sort/37714221#37714221", "title": "Got fancy w/ Selection Sort, now it won&#39;t sort", "body": "<p>Your selection sort is incorrect.</p>\n\n<p>First, \"isEqual\" is <em>not</em> equal. </p>\n\n<p>Second, you should be finding the smallest value in the (unsorted) remainder of the array. Instead, you are comparing every adjacent pair.</p>\n\n<pre><code>is_less_if_lt0 = counters(arr[index], minValue);\n</code></pre>\n\n<p>Update <code>minValue</code> and <code>minIndex</code> as needed.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 691, "user_id": 4860035, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/795f9dcc75abc394cba9a788fcd2db30?s=128&d=identicon&r=PG&f=1", "display_name": "Podo", "link": "https://stackoverflow.com/users/4860035/podo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 37714082, "answer_count": 3, "score": 1, "last_activity_date": 1465427166, "creation_date": 1465424689, "last_edit_date": 1465427166, "question_id": 37713952, "link": "https://stackoverflow.com/questions/37713952/got-fancy-w-selection-sort-now-it-wont-sort", "title": "Got fancy w/ Selection Sort, now it won&#39;t sort", "body": "<p>So I'm looking to do your basic selection sort. I copied verbatim from book (with one exception to be listed later). Here's the code.</p>\n\n<pre><code>void SelectionSort::sort(int arr[], int size)\n{\n    int isEqual;\n    int startScan, minIndex, minValue;\n\n    for (startScan = 0; startScan &lt; (size - 1); startScan++)\n    {\n        minIndex = startScan;\n        minValue = arr[startScan];\n\n        for (int index = startScan + 1; index &lt; size; index++)\n        {       \n            isEqual = counters(arr[index], arr[index + 1]);\n\n            if (isEqual == 1)\n            {\n                minValue = arr[index];\n                minIndex = index;\n            }\n        }\n        arr[minIndex] = arr[startScan];\n        arr[startScan] = minValue;\n    }\n}\n</code></pre>\n\n<p>You'll notice I have an <code>int isEqual</code> that is assigned to a method <code>counters</code>. I used this because I want to keep a running tally of the comparisons made.</p>\n\n<p>The code for <code>counters</code></p>\n\n<pre><code>int AbstractSort::counters(int a, int b)\n{\n    counter++;\n    if (a &lt; b)\n        return -1;\n    if (a &gt; b)\n        return 1;\n    if (a == b)\n        return 0;   \n}\n</code></pre>\n\n<p>Basically, it acts the same as <code>if (array[index] &lt; minValue)</code> only this way I can track my comparisons.</p>\n\n<p>I use this method in my QuickSort class, and it sorts the data and counts the comparisons no problem. My SelectionSort however will not sort the data! </p>\n\n<p><a href=\"https://i.stack.imgur.com/bydcO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bydcO.png\" alt=\"SelectionSort Error!\"></a></p>\n\n<p>It looks like it moves the last number in the array to the front, and then does nothing. It does however appear to make 190 comparisons, although I don't particularly see the fruit of it's labor.</p>\n\n<p>I have discussed this code line by line with my rubber duck, but neither of us can seem to catch the error. \nWhere did I go wrong? </p>\n"}, {"tags": ["c++", "linux", "opengl-es", "arm"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6351719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6daa0a6340c98bf55ea65a68ad0f1c55?s=128&d=identicon&r=PG&f=1", "display_name": "Barricadexx", "link": "https://stackoverflow.com/users/6351719/barricadexx"}, "edited": false, "score": 0, "creation_date": 1465427169, "post_id": 37713991, "comment_id": 62902256, "body": "thanks! it fixed the issue! I was using Makefile that came with the example from the tutorial. I assumed it would be ok. Looks like I have to look in to compilation settings"}, {"owner": {"reputation": 619, "user_id": 639324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c85ae14fdcf6538ef123ab3bec2a4d?s=128&d=identicon&r=PG", "display_name": "Damian Dixon", "link": "https://stackoverflow.com/users/639324/damian-dixon"}, "edited": false, "score": 0, "creation_date": 1465430773, "post_id": 37713991, "comment_id": 62903363, "body": "I would suggest taking a look at using GLEW to check the capabilities/extensions available at runtime."}], "tags": [], "owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "is_accepted": true, "score": 1, "last_activity_date": 1465424886, "creation_date": 1465424886, "answer_id": 37713991, "question_id": 37713903, "link": "https://stackoverflow.com/questions/37713903/opengl-on-raspberry-pi-indexed-vertices/37713991#37713991", "title": "openGL on raspberry pi, indexed vertices", "body": "<p>GLES 1.x/2.x does not support 32 bit indices by default. You can use at most 16 bit indices, so you should change your code to:</p>\n\n<pre><code>GLushort indices[3] = {...}\n[...]\nglDrawElements(..., 3, GL_UNSIGNED_SHORT, ...);\n</code></pre>\n\n<p>Note that trying to use <code>GL_UNSIGNED_INT</code> as the type parameter on an implementation without support for <a href=\"https://www.khronos.org/registry/gles/extensions/OES/OES_element_index_uint.txt\" rel=\"nofollow\"><code>GL_OES_element_index_uint</code></a> should just result in an <code>GL_INVALID_ENUM</code> error. You should add some error checks at least for debugging.</p>\n"}], "owner": {"reputation": 23, "user_id": 6351719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6daa0a6340c98bf55ea65a68ad0f1c55?s=128&d=identicon&r=PG&f=1", "display_name": "Barricadexx", "link": "https://stackoverflow.com/users/6351719/barricadexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 37713991, "answer_count": 1, "score": 0, "last_activity_date": 1465429793, "creation_date": 1465424396, "last_edit_date": 1465429793, "question_id": 37713903, "link": "https://stackoverflow.com/questions/37713903/opengl-on-raspberry-pi-indexed-vertices", "title": "openGL on raspberry pi, indexed vertices", "body": "<p>I'm trying to learn some basic opengl on raspberry pi.\nI folow these tutorials\n<a href=\"https://solarianprogrammer.com/2013/05/13/opengl-101-drawing-primitives/\" rel=\"nofollow\">https://solarianprogrammer.com/2013/05/13/opengl-101-drawing-primitives/</a>\n<a href=\"http://www.opengl-tutorial.org/intermediate-tutorials/tutorial-9-vbo-indexing/\" rel=\"nofollow\">http://www.opengl-tutorial.org/intermediate-tutorials/tutorial-9-vbo-indexing/</a></p>\n\n<p>I bumped in to a prbolem I can't solve.\nI succesfully made it draw a triangle by listing vertices in an array, then I tried to do the same but using indexes, it doesn't work and I don't know why. it compiles succesfully and runs, but it doesn't display the triangle.</p>\n\n<p>both tutorials make it so simple, add a buffer and replace \"glDrawArrays\" with \"glDrawElements\". but I must have missed something..</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include \"../common/startScreen.h\"\n#include \"../common/LoadShaders.h\"\n\n// Include GLM\n#include &lt;glm/glm.hpp&gt;\n#include &lt;glm/gtc/matrix_transform.hpp&gt;\n\nusing namespace glm;\n\nint main(int argc, const char **argv)\n{\n    float r=0.0;\n    InitGraphics();\n    printf(\"Screen started\\n\");\n    // Create and compile our GLSL program from the shaders\n    GLuint programID = LoadShaders( \"simpletransformvertshader.glsl\", \"simplefragshader.glsl\" );\n    printf(\"Shaders loaded\\n\");\n\n// Get a handle for our \"MVP\" uniform\n    GLuint MatrixID = glGetUniformLocation(programID, \"MVP\");\n\n    // Get a handle for our buffers\n    GLuint vertexPosition_modelspaceID = glGetAttribLocation(programID, \"vertexPosition_modelspace\");\n\n    // Projection matrix \n    glm::mat4 Projection = glm::perspective(45.0f, 16.0f / 9.0f, 0.1f, 100.0f);\n\n\n\n    // Camera matrix\n    glm::mat4 View       = glm::lookAt(\n                                        glm::vec3(0,0,5),\n                                        glm::vec3(0,0,0),\n                                        glm::vec3(0,1,0),\n                                               );\n\n    //glm::mat4 myMatrix = glm::translate(10.0f, 0.0f, 0.0f);\n\n   // Model matrix : an identity matrix (model will be at the origin)\n    glm::mat4 Model      = glm::mat4(1.0f);\n    // Our ModelViewProjection : multiplication of our 3 matrices\n    glm::mat4 MVP        = Projection * View * Model; // Remember, matrix$\n\n    //glm:mat4 MVP = Prpkection * View * Model;\n\nGLfloat g_vertex_buffer_data[] = {\n    -1.0f, -1.0f, 0.0f,\n     1.0f, -1.0f, 0.0f,\n     1.0f,  1.0f, 0.0f,\n//      -1.0,   1.0f, 0.0f,\n    };\n\n\n\nGLuint indices[3] = {\n    0,1,2,\n//      2,3,0\n    };\n\n\n\n   // Set the viewport\n\n    GLuint vertexbuffer;\n    glGenBuffers(1, &amp;vertexbuffer);\n    glBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_bu$\n\n\n    GLuint eab;\n    glGenBuffers(1, &amp;eab);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, eab);\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STAT$\n\n\n\n    do{\n   // Model = glm::rotate(Model, r, glm::vec3(0.0f, 0.0f, 1.0f));\n\n           glClear( GL_COLOR_BUFFER_BIT );\n\n            // Use our shader\n            glUseProgram(programID);\n\n            // Send our transformation to the currently bound shader,\n            // in the \"MVP\" uniform\n            glUniformMatrix4fv(MatrixID, 1, GL_FALSE, &amp;MVP[0][0]);\n\n            // 1rst attribute buffer : vertices\n            glEnableVertexAttribArray(vertexPosition_modelspaceID);\n            glBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\n\n\n            glVertexAttribPointer(\n                    vertexPosition_modelspaceID, \n\n                    3,                  // size\n                    GL_FLOAT,           // type\n                    GL_FALSE,           // normalized?\n                    0,                  // stride\n                    (void*)0            // array buffer offset\n            );\n\n// see above glEnableVertexAttribArray(vertexPosition_modelspaceID);\n\n            // Draw the triangle !\n     //      glDrawArrays(GL_TRIANGLES, 0, 3); \n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, eab);\n            glDrawElements( GL_TRIANGLES, 3, GL_UNSIGNED_INT, 0);\n\n\n\n\n            glDisableVertexAttribArray(vertexPosition_modelspaceID);\n\n    updateScreen();\n    }\n    while(1);\n\n    // Cleanup VBO\n    glDeleteBuffers(1, &amp;vertexbuffer);\n    glDeleteBuffers(1, &amp;eab);\n    glDeleteProgram(programID);\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "shared-libraries"], "comments": [{"owner": {"reputation": 780, "user_id": 4151225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc7068fd65a846c927df403c73805f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/4151225/nicholas-smith"}, "edited": false, "score": 0, "creation_date": 1465431011, "post_id": 37713826, "comment_id": 62903421, "body": "Possible answers may be found here: <a href=\"http://stackoverflow.com/questions/14892101/cannot-load-any-more-object-with-static-tls\" title=\"cannot load any more object with static tls\">stackoverflow.com/questions/14892101/&hellip;</a>.  I suspect your lib.so is allocating TLS data, and since you are loading it 10x per thread, may be exhausting the storage for a thread."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465432946, "post_id": 37713826, "comment_id": 62903875, "body": "TLS = <a href=\"https://en.wikipedia.org/wiki/Thread-local_storage\" rel=\"nofollow noreferrer\">Thread Local Storage</a>, &amp; it&#39;s possible there&#39;s too much in ThreadLocal object. <a href=\"http://stackoverflow.com/questions/6021273/how-to-allocate-thread-local-storage\">A link</a> describing allocating TLS. <code>test_thread</code> shouldn&#39;t need thread_id passed as argument. <a href=\"http://en.cppreference.com/w/cpp/thread/thread/id\" rel=\"nofollow noreferrer\">thread_id</a>&#39;s is not type <code>int</code>, &amp; each <code>id</code> is accessible by <code>thread.get_id</code>. Shorter way to start threads: <code>for(int i=0; i&lt;10;i++) threads.push_back(thread(test_thread));</code> &amp; joining them... <code>for(auto&amp; thread: threads) thread.join();</code>"}, {"owner": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "reply_to_user": {"reputation": 780, "user_id": 4151225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc7068fd65a846c927df403c73805f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/4151225/nicholas-smith"}, "edited": false, "score": 1, "creation_date": 1465452966, "post_id": 37713826, "comment_id": 62909074, "body": "@qexyn  lib.so in this example compiled from empty file, so only <code>dlmopen</code> allocating TLS data. I&#39;ve seen that question before, but since lib.so compiled with <code>-fPIC</code> it already using <code>-ftls-model=global-dynamic</code>. Also, looks like <code>dlclose</code> does not actually deallocates memory and next <code>dlmopen</code> creates new object that leads to leak."}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1470860643, "post_id": 37713826, "comment_id": 65126720, "body": "Could you obtain the same by using <code>dlopen</code> and adding the attributes <code>RTLD_NOW | RTLD_GROUP | RTLD_LOCAL</code>."}, {"owner": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "reply_to_user": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1471432576, "post_id": 37713826, "comment_id": 65341864, "body": "@JensMunk, it&#39;s Linux, so <code>dlopen</code> don&#39;t have <code>RTLD_GROUP</code> flag. I can&#39;t use <code>dlopen</code> because I need to load every object in new namespace."}, {"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 1, "creation_date": 1484057149, "post_id": 37713826, "comment_id": 70345798, "body": "You can&#39;t have many namespaces - it mentions <code>The glibc implementation supports a maximum of 16 namespaces</code> in the man page on my system, and there&#39;s no facility for cleaning up the link-map namespace. You&#39;re better off recycling the same namespace for the library by unloading and re-loading the library only, rather than trying to keep on creating new namespaces (but this is all speculation). You can use <code>dlinfo</code> to get the link map id to keep using it for subsequent dlmopen calls for the same library; you just need to keep closing before reopening it."}, {"owner": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "reply_to_user": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1484118224, "post_id": 37713826, "comment_id": 70373345, "body": "@Petesh Oh, I see. I suppose this should be accepted answer."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "edited": false, "score": 0, "creation_date": 1484117733, "post_id": 41566576, "comment_id": 70373102, "body": "Interesting. Crashes with glibc 2.24 on Arch Linux. What system do you use?"}, {"owner": {"reputation": 34843, "user_id": 398309, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/be7a307aae139b8e2b80d91237d20356?s=128&d=identicon&r=PG", "display_name": "Michael Spector", "link": "https://stackoverflow.com/users/398309/michael-spector"}, "reply_to_user": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "edited": false, "score": 0, "creation_date": 1484119244, "post_id": 41566576, "comment_id": 70373798, "body": "I&#39;m using Ubuntu 16.04"}], "tags": [], "owner": {"reputation": 34843, "user_id": 398309, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/be7a307aae139b8e2b80d91237d20356?s=128&d=identicon&r=PG", "display_name": "Michael Spector", "link": "https://stackoverflow.com/users/398309/michael-spector"}, "is_accepted": false, "score": 0, "last_activity_date": 1484044004, "creation_date": 1484044004, "answer_id": 41566576, "question_id": 37713826, "link": "https://stackoverflow.com/questions/37713826/c-force-unloading-shared-library/41566576#41566576", "title": "C++ force unloading shared library", "body": "<p>Older glibc versions might have some bugs related to this:</p>\n\n<p><a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=89692\" rel=\"nofollow noreferrer\">https://bugzilla.redhat.com/show_bug.cgi?id=89692</a>\n <a href=\"https://sourceware.org/bugzilla/show_bug.cgi?id=14898\" rel=\"nofollow noreferrer\">https://sourceware.org/bugzilla/show_bug.cgi?id=14898</a></p>\n\n<p>What version are you using? Try using a newer glibc version, your code works pretty fine on my computer (glibc 2.23).</p>\n"}, {"tags": [], "owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1484126403, "creation_date": 1484126403, "answer_id": 41586867, "question_id": 37713826, "link": "https://stackoverflow.com/questions/37713826/c-force-unloading-shared-library/41586867#41586867", "title": "C++ force unloading shared library", "body": "<p>There is a built-in limit to the number of link map namespaces available to a process. This is rather poorly documented in the comment:</p>\n\n<blockquote>\n  <p>The glibc implementation supports a maximum of 16 namespaces</p>\n</blockquote>\n\n<p>in the man page.</p>\n\n<p>Once you create a link map namespace, there is no support for 'erasing' it via any APIs. This is just the way it's designed, and there's no real way to get around that without editing the glibc source and adding some hooks.</p>\n\n<p>Using namespaces for reloading of a library is not actually reloading the library - you're simply loading a new copy of the library. This is one of the use cases of the namespaces - if you tried to <code>dlopen</code> the same library multiple times, you would get the same handle to the same library; however if you load the second instance in a different namespace, you won't get the same handle. If you want to accomplish reloading, you need to unload the library using <code>dlclose</code>, which will unload the library once the last remaining reference to the library has been released.</p>\n\n<p>If you want to attempt to 'force unload' a library, then you could try issuing multiple <code>dlclose</code> calls until it unloads; however if you don't know what the library has done (e.g. spawned threads) there may be no way of preventing a crash in that case.</p>\n"}], "owner": {"reputation": 83, "user_id": 6442558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd11eb01ed00fd95d44ec173824f9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Lukyanov", "link": "https://stackoverflow.com/users/6442558/ilya-lukyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1803, "favorite_count": 0, "accepted_answer_id": 41586867, "answer_count": 2, "score": 8, "last_activity_date": 1484126403, "creation_date": 1465423974, "last_edit_date": 1482187202, "question_id": 37713826, "link": "https://stackoverflow.com/questions/37713826/c-force-unloading-shared-library", "title": "C++ force unloading shared library", "body": "<p>I'm trying to create an application which reloads a shared library multiple times. But at some point in time, <code>dlmopen</code> fails with error</p>\n\n<p><code>/usr/lib/libc.so.6: cannot allocate memory in static TLS block</code></p>\n\n<p>Here is the minimal code reproducing this issue:</p>\n\n<pre><code>#include &lt;dlfcn.h&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n\nint main() {\n  for (int i = 0; i &lt; 100; ++i) {\n    void *lib_so = dlmopen(LM_ID_NEWLM, \"lib.so\", RTLD_LAZY | RTLD_LOCAL);\n    if (lib_so == NULL) {\n      printf(\"Iteration %i loading failed: %s\\n\", i, dlerror());\n      return 1;\n    }\n    dlclose(lib_so);\n  }\n\n  return 0;\n}\n</code></pre>\n\n<p>And empty lib.cpp, compiled with </p>\n\n<pre><code>g++ -rdynamic -ldl -Wl,-R . -o test main.cpp\ng++ -fPIC -shared lib.cpp -o lib.so\n</code></pre>\n\n<h2>Update</h2>\n\n<p>It seems that it crashes even with one thread. The question is: how can I force a library unload or a destruction of unused namespaces created with <code>LM_ID_NEWLM</code>?</p>\n"}, {"tags": ["c++", "sockets", "unix"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1465423637, "post_id": 37713693, "comment_id": 62901111, "body": "<code>sizeof(args.c_str())</code> is 4 or 8."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 5, "creation_date": 1465423723, "post_id": 37713693, "comment_id": 62901139, "body": "<code>sizeof(args.c_str())</code> should be <code>args.size()</code>."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 3, "creation_date": 1465423878, "post_id": 37713693, "comment_id": 62901192, "body": "C/C++ isn&#39;t a language. If you think <code>class</code> is a keyword, you&#39;re writing C++."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1465424001, "post_id": 37713693, "comment_id": 62901242, "body": "Your ret_value buffer is 200 bytes long, you read 200 bytes of data into it. Where will the nul-terminator come from and/or be stored?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465428735, "post_id": 37713693, "comment_id": 62902725, "body": "You don&#39;t need a null terminator if you write the buffer to <code>cout</code> in a manner that does not rely on a null terminator in the first place. <code>recv()</code> returns how many bytes were actually read.  <code>cout</code> has a <code>write()</code> method that takes a <code>char*</code> buffer and a count."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 4149034, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/X0Wzh.jpg?s=128&g=1", "display_name": "S1J0", "link": "https://stackoverflow.com/users/4149034/s1j0"}, "edited": false, "score": 1, "creation_date": 1465427139, "post_id": 37713860, "comment_id": 62902244, "body": "I had also sizeof(args.c_str()) change to args.size() like @\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 said. But all hints were helpful, thanks."}], "tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": true, "score": 2, "last_activity_date": 1465424157, "creation_date": 1465424157, "answer_id": 37713860, "question_id": 37713693, "link": "https://stackoverflow.com/questions/37713693/how-to-read-write-unix-sockets-the-right-way/37713860#37713860", "title": "How to read/write UNIX sockets the right way?", "body": "<pre><code>std::string args = \"READ &lt;a command&gt;\";\n</code></pre>\n\n<p>the server is waiting for a newline (echo adds one by default), so:</p>\n\n<pre><code>std::string args = \"READ &lt;a command&gt;\\n\";\n</code></pre>\n\n<p>Also</p>\n\n<pre><code>char ret_value[200];\ndo {\n    n = read(sockfd, ret_value, 200);\n</code></pre>\n\n<p>should be more like</p>\n\n<pre><code>const size_t buflen = 200;\nchar ret_value[buflen+1];\ndo {\n    n = read(sockfd, ret_value, buflen);\n    if (n &lt; 0)\n      // error\n    else\n      ret_value[n] = 0;\n</code></pre>\n\n<p>and this line</p>\n\n<pre><code>    *ret_value+= n;\n</code></pre>\n\n<p>seems unclear - you're incrementing the first byte of ret_value by n for what reason?</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 4149034, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/X0Wzh.jpg?s=128&g=1", "display_name": "S1J0", "link": "https://stackoverflow.com/users/4149034/s1j0"}, "edited": false, "score": 0, "creation_date": 1465462233, "post_id": 37714620, "comment_id": 62914326, "body": "This is a great solution, thanks. But a problem that still exists, if all lines have been read the read-function does not return and the program waits."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1465428756, "creation_date": 1465428756, "answer_id": 37714620, "question_id": 37713693, "link": "https://stackoverflow.com/questions/37713693/how-to-read-write-unix-sockets-the-right-way/37714620#37714620", "title": "How to read/write UNIX sockets the right way?", "body": "<p>Try something more like this:</p>\n\n<pre><code>Myprogram::foo() {\n    sockfd = socket(AF_UNIX, SOCK_STREAM, 0);\n    if (sockfd == -1) {\n        std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n        return;\n    }\n\n    address.sun_family = AF_UNIX;\n    strcpy(address.sun_path, \"/tmp/socket\");\n\n    if (connect(sockfd, (sockaddr*)&amp;address, sizeof(address)) == -1) {\n        std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n        close(sockfd);\n        return;\n    }\n\n    std::string args = \"READ &lt;a command&gt;\\n\";\n    if (write(sockfd, args.c_str(), args.size())) == -1) {\n        std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n        close(sockfd);\n        return;\n    }   \n\n    int n;\n    char ret_value[200];\n    do {\n        n = read(sockfd, ret_value, sizeof(ret_value));\n        if (n &lt; 0) {\n            std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n            break;\n        }\n\n        if (n == 0) {\n            break;\n        }\n\n        std::cout.write(ret_value, n) &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"n=\" &lt;&lt; n &lt;&lt; std::endl;\n    } while (true);\n\n    close(sockfd);\n}\n</code></pre>\n\n<p>Of course, if you really want the output to appear just like the original than don't add your own characters to <code>cout</code> (except maybe in case of an error):</p>\n\n<pre><code>int n;\nchar ret_value[200];\ndo {\n    n = read(sockfd, ret_value, sizeof(ret_value));\n    if (n &lt; 0) {\n        //std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n        break;\n    }\n\n    if (n == 0) {\n        break;\n    }\n\n    std::cout.write(ret_value, n);\n} while (true);\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 4149034, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/X0Wzh.jpg?s=128&g=1", "display_name": "S1J0", "link": "https://stackoverflow.com/users/4149034/s1j0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1659, "favorite_count": 0, "accepted_answer_id": 37713860, "answer_count": 2, "score": 0, "last_activity_date": 1465537238, "creation_date": 1465423179, "last_edit_date": 1465537238, "question_id": 37713693, "link": "https://stackoverflow.com/questions/37713693/how-to-read-write-unix-sockets-the-right-way", "title": "How to read/write UNIX sockets the right way?", "body": "<p>I want to implement the functionality of this bash-command that read/write to a <strong>UNIX socket</strong>:</p>\n\n<pre><code>echo \u201eREAD &lt;a command&gt;\u201c | nc -U /tmp/socket\n</code></pre>\n\n<p>this command produces the following output:</p>\n\n<pre><code>Click::ControlSocket/1.3\n200 Read handler 'debug_handler.ping' OK\nDATA 0\n</code></pre>\n\n<p>My current c/c++ implementation looks something like this:</p>\n\n<p>myprogram.hh</p>\n\n<pre><code>class Myprogram {\npublic:\n    Myprogram(int argc, char** argv);\n    ~Myprogram() { };   \nprivate:\n    foo();\n    int sockfd;\n    int len;\n    sockaddr_un address;\n};\n</code></pre>\n\n<p>myprogram.cc</p>\n\n<pre><code>Myprogram::foo() {\n    sockfd = socket(AF_UNIX, SOCK_STREAM, 0);\n    address.sun_family = AF_UNIX;\n    strcpy(address.sun_path, \"/tmp/socket\");\n    len = sizeof(address);\n\n    if(connect(sockfd, (sockaddr*)&amp;address, len) == -1)\n        return;\n\n    std::string args = \"READ &lt;a command&gt;\";\n\n    if (write(sockfd, args.c_str(), sizeof(args.c_str())) == -1){\n        std::cout &lt;&lt; \"Error\" &lt;&lt; std::endl;\n        return;\n    }   \n\n    int n;\n    char ret_value[200];\n    do {\n        n = read(sockfd, ret_value, 200);\n        std::cout &lt;&lt; std::string(ret_value) &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"n=\" &lt;&lt; std::to_string(n) &lt;&lt; std::endl;\n        *ret_value+= n;\n    } while (n &gt; 0);\n\n    close(sockfd);\n}\n</code></pre>\n\n<p>I only get this output:</p>\n\n<pre><code>Click::ControlSocket/1.3\nn=26\n</code></pre>\n\n<p>the next read() call doesn\u2018t return and the program waits.\nI have tried a lot to read the socket, all with the same result,\nso it would be great if someone could give me a hint what I'm doing wrong.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1465423298, "post_id": 37713610, "comment_id": 62900968, "body": "FWIW, the correct term is &quot;pointer to a member function&quot;."}, {"owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1465423357, "post_id": 37713610, "comment_id": 62900993, "body": "Oh, thank you. Even makes sense now i have seen the answer. :)"}], "answers": [{"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": true, "score": 4, "last_activity_date": 1465422992, "creation_date": 1465422992, "answer_id": 37713648, "question_id": 37713610, "link": "https://stackoverflow.com/questions/37713610/how-do-i-pass-a-reference-to-a-method-through-as-a-parameter/37713648#37713648", "title": "How do i pass a reference to a method through as a parameter", "body": "<pre><code>class Test\n{\npublic:\n    Test();\n\n    void Bark();\n    void TakesABark(void (Test::*method)());\n};\n\n\nTest::Test()\n{\n    this-&gt;TakesABark(&amp;Test::Bark);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": false, "score": 1, "last_activity_date": 1465423224, "creation_date": 1465423224, "answer_id": 37713701, "question_id": 37713610, "link": "https://stackoverflow.com/questions/37713610/how-do-i-pass-a-reference-to-a-method-through-as-a-parameter/37713701#37713701", "title": "How do i pass a reference to a method through as a parameter", "body": "<p>Sample code :</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/9351a79c20097035\" rel=\"nofollow\">http://coliru.stacked-crooked.com/a/9351a79c20097035</a></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nclass Test\n{\npublic:\n    Test();\n\n    void Bark();\n    void TakesABark( void(Test::*method)() );\n};\n\n\nTest::Test()\n{\n    this-&gt;TakesABark(&amp;Test::Bark);\n}\n\nvoid Test::Bark()\n{\n    std::cout &lt;&lt; \"Bark\";\n}\n\nvoid Test::TakesABark( void(Test::*method)() )\n{\n  (this-&gt;*method)();\n}\n\nint main()\n{\n    Test t;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 37713648, "answer_count": 2, "score": 2, "last_activity_date": 1465423224, "creation_date": 1465422846, "last_edit_date": 1465423024, "question_id": 37713610, "link": "https://stackoverflow.com/questions/37713610/how-do-i-pass-a-reference-to-a-method-through-as-a-parameter", "title": "How do i pass a reference to a method through as a parameter", "body": "<p>How do i pass a reference to a method through as a parameter? It might look something like this:</p>\n\n<pre><code>class Test\n{\npublic:\n    Test();\n\n    void Bark();\n    void Bark2();\n\n    void TakesABark( void( &amp;method )() );\n}\n\n// Start of procedure\nTest::Test()\n{\n    this-&gt;TakesABark(Test::Bark);        \n    this-&gt;TakesABark(Test::Bark2);\n}\n\nvoid Test::Bark()\n{\n}\n\nvoid Test::Bark2()\n{\n}\n\n// Receives a variety of references to methods\nvoid Test::TakesABark( void( &amp;method )() )\n{\n    // Calls a third party api that would look like this:\n    // Barbera::DoThatThingILike(Test::Bark2);\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "initialization", "malloc"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1465422726, "post_id": 37713526, "comment_id": 62900694, "body": "C99 added support for this, called <i>variable length arrays</i>, or VLAs. They don&#39;t fit well the C++ type system. In particular, <code>sizeof</code> is compile time always in C++."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1465422781, "post_id": 37713526, "comment_id": 62900716, "body": "What do you think the type of <code>arr</code> is? Note that the type must be known at compile time and also note that the size of an array is part of its type."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1465422791, "post_id": 37713526, "comment_id": 62900717, "body": "The array size is part of the <i>type</i>. So everybody who sees <code>int[a]</code> must see the same type. Imagine you had <code>using T = int[a];</code>. What would that mean if <code>a</code> could change?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1465422919, "post_id": 37713526, "comment_id": 62900780, "body": "Uhm, the type could be just <code>int arr[]</code>, if VLAs were supported. As I recall there was a proposal to add C99 VLA, and if so then the problems are not unsurmountable. It&#39;s just very ugly for very little gain. The current variable length proposals are at higher level, I believe. Hiding the core language support under some library abstraction."}, {"owner": {"reputation": 190, "user_id": 2848762, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc36b70714a667ef2bebe32eb221a89?s=128&d=identicon&r=PG&f=1", "display_name": "Misha.P", "link": "https://stackoverflow.com/users/2848762/misha-p"}, "reply_to_user": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1465423006, "post_id": 37713526, "comment_id": 62900824, "body": "@Kevin, yes, I know that it must be known at compile time, but does it mean that regular variable is not &quot;processed&quot; until runtime?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1465423033, "post_id": 37713526, "comment_id": 62900837, "body": "C++ already has a standardized portable variable-length array, it is called <code>std::vector</code>. The only difference between a <code>vector</code> and a VLA is that the <code>vector</code> allocates its array on the heap, whereas a VLA allocates its array on the stack instead (allocating variable-length data on the stack is dangerous, which is why <code>_alloca()</code> was never standardized). VLAs are a vendor-specific compiler extension for those that want to support it."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465423085, "post_id": 37713526, "comment_id": 62900868, "body": "@RemyLebeau; No, the closest you get, but non-portable (especially in how failure is detected and reported), is <code>alloca</code>. The current variable length array proposals would not make much sense if <code>vector</code> did the job. It doesn&#39;t: it uses costly dynamic allocation."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 2, "creation_date": 1465423268, "post_id": 37713526, "comment_id": 62900954, "body": "@M.Pak No. The compiler cannot know the value of a non-const variable in the general case. So it doesn&#39;t try to figure out in specific cases like this. You need a constant (literal), const, or constexpr."}, {"owner": {"reputation": 190, "user_id": 2848762, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc36b70714a667ef2bebe32eb221a89?s=128&d=identicon&r=PG&f=1", "display_name": "Misha.P", "link": "https://stackoverflow.com/users/2848762/misha-p"}, "reply_to_user": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1465423530, "post_id": 37713526, "comment_id": 62901060, "body": "@Kevin, thank you, that&#39;s what I was wondering about. Is there a description of some kind, documentation maybe, of what compiler does or does not?"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465423671, "post_id": 37713526, "comment_id": 62901121, "body": "Why would you expect <code>int arr[a]; a=10;</code> to resize the array? If something can take a variable it can take a return value, so how would you expect <code>int arr[getvalue()]</code> to work in that universe? (Some compilers do implement VLAs and allow <code>int a = 1; int arr[a]</code> but they dont&#39; resize the array when you change a."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465423949, "post_id": 37713526, "comment_id": 62901221, "body": "@kfsone: It probably comes from a mathematical point of view. It&#39;s not an unreasonable expectation before one learns more about the language and how it works under the hood. I remember when I first learned Pascal, that must have been 1982, our textbook said that a <code>while</code> loop terminated when the continuation condition became false. That gave me the impression that there was a continuous checking of the continuation condition. Some languages work in ways like that, but not Pascal. The book was also unclear about <code>with</code> statements. It&#39;s like the authors <i>assume</i> knowledge of machine code."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1465424069, "post_id": 37713526, "comment_id": 62901266, "body": "@Cheersandhth.-Alf In C, <code>int arr[a];</code> does not allow resizing ,  the size is fixed at the value <code>a</code> had when execution reached this declaration"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1465424117, "post_id": 37713526, "comment_id": 62901280, "body": "@M.M Thank you for trying to clear that up. :-)"}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1465424158, "post_id": 37713526, "comment_id": 62901300, "body": "Just use <code>vector</code>."}, {"owner": {"reputation": 190, "user_id": 2848762, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc36b70714a667ef2bebe32eb221a89?s=128&d=identicon&r=PG&f=1", "display_name": "Misha.P", "link": "https://stackoverflow.com/users/2848762/misha-p"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465424280, "post_id": 37713526, "comment_id": 62901338, "body": "@kfsone, I am not familiar with underlying processes that array undergoes during initialization, so I suspected it might just happen because of the strong use of pointers in C++. And as for return value as initialization value: I think a plain variable is somewhat more obscure than that, for when compiler might not be able to process a function, it still, in my head, might easily check something as <code>int a=3;</code>"}, {"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1465425156, "post_id": 37713526, "comment_id": 62901629, "body": "@M.Pak <i>&quot;it still, in my head, might easily check something as int a=3; &quot;</i> But what about other cases like <code>cin &gt;&gt; a</code>? Should language complexity be increased by declaring when compiler should, might or should not analyze code to determine if value is known at compile time? How deep it should process? So to not burden already complex language, there is a requirement for array initializer to be a constant expression in language standard."}, {"owner": {"reputation": 3256, "user_id": 6292850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/86iZy.jpg?s=128&g=1", "display_name": "uh oh somebody needs a pupper", "link": "https://stackoverflow.com/users/6292850/uh-oh-somebody-needs-a-pupper"}, "edited": false, "score": 0, "creation_date": 1465425693, "post_id": 37713526, "comment_id": 62901781, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1887097/variable-length-arrays-in-c\">Variable-length arrays in C++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3256, "user_id": 6292850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/86iZy.jpg?s=128&g=1", "display_name": "uh oh somebody needs a pupper", "link": "https://stackoverflow.com/users/6292850/uh-oh-somebody-needs-a-pupper"}, "is_accepted": false, "score": 1, "last_activity_date": 1465426323, "creation_date": 1465426323, "answer_id": 37714222, "question_id": 37713526, "link": "https://stackoverflow.com/questions/37713526/array-initialization-by-constexpr/37714222#37714222", "title": "Array initialization by constexpr", "body": "<p>Such a feature was proposed in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3497.html\" rel=\"nofollow\">n3497</a> but scrapped before C++14. C and C++ are completely different languages. Their syntax may be similar, but their evolution has diverged quite a bit. C++ aims to be more type safe and excise features that are dangerous or useless (like <code>auto_ptr</code>).</p>\n\n<p>A C++ \"VLA\" wouldn't be very useful anyways, to name a few features explicitly excluded from the proposal:</p>\n\n<blockquote>\n  <ul>\n  <li>multidimensional arrays, where other than the top level has a runtime bound (in analogy, array-new doesn't support that either)</li>\n  <li>modifications to the function declarator syntax</li>\n  <li>sizeof(a) being a runtime-evaluated expression returning the size of a</li>\n  <li>\"typedef int a[n];\" evaluating \"n\" and passing that through the typedef</li>\n  </ul>\n</blockquote>\n\n<p>And undoubtably many more situations. C++ has a specification that's twice as large as C99 and then some, imagine the flood of bug reports for \"why does this Quirk work\" or \"why doesn't this Quirk work\" or \"is this Quirk legal?\" because of people trying to shoehorn VLAs everywhere.</p>\n\n<p>And the paper even calls out a common criticism of VLA's:</p>\n\n<blockquote>\n  <p>Stack overflow becomes more likely, in particular if the size depends\n  on external input and is not properly checked. Some environments might\n  therefore prohibit the use of the feature. Such a prohibition can be\n  easily enforced with a static analysis tool.</p>\n</blockquote>\n\n<p>Imagine the amount of careless crap code that will be written if this was a feature. You may argue that in C++, you can shoot yourself in the foot. But C++ tries to at least adjust your sights so that the point of impact is the floor and not your foot.</p>\n\n<p>What should you do instead?</p>\n\n<p>Use <code>std::vector</code>. Got complaints about performance for a simple program? You're prematurely optimizing.</p>\n"}], "owner": {"reputation": 190, "user_id": 2848762, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dcc36b70714a667ef2bebe32eb221a89?s=128&d=identicon&r=PG&f=1", "display_name": "Misha.P", "link": "https://stackoverflow.com/users/2848762/misha-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465426323, "creation_date": 1465422465, "last_edit_date": 1465424305, "question_id": 37713526, "link": "https://stackoverflow.com/questions/37713526/array-initialization-by-constexpr", "title": "Array initialization by constexpr", "body": "<p>Why is it so important for dimensions of the <code>array</code> to be initialized from <code>constexpr</code>? Would a regular <code>variable</code> in a code bellow imply(if allowed legal) possible <code>resizing</code> of the <code>array</code> in the future? </p>\n\n<pre><code>int a=5;\nint arr[a];\na=10;\n</code></pre>\n"}, {"tags": ["c++", "cuda", "runtime-error", "matrix-inverse", "cublas"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1465424511, "post_id": 37713487, "comment_id": 62901421, "body": "On windows? You may be running into a WDDM timeout."}, {"owner": {"reputation": 41, "user_id": 6442547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed8f92a27e8fcfaf01ed7cead329f2e?s=128&d=identicon&r=PG&f=1", "display_name": "at1012", "link": "https://stackoverflow.com/users/6442547/at1012"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1465428102, "post_id": 37713487, "comment_id": 62902526, "body": "@Robert Crovella, thank you for the prompt response! This indeed seems to have been the problem and easily fixed by raising the limit."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6442547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed8f92a27e8fcfaf01ed7cead329f2e?s=128&d=identicon&r=PG&f=1", "display_name": "at1012", "link": "https://stackoverflow.com/users/6442547/at1012"}, "is_accepted": true, "score": 1, "last_activity_date": 1465427906, "creation_date": 1465427906, "answer_id": 37714485, "question_id": 37713487, "link": "https://stackoverflow.com/questions/37713487/cuda-unknown-error-after-cublas-call/37714485#37714485", "title": "CUDA unknown error after cuBLAS call", "body": "<p>The problem does indeed appear to be running into a WDDM timeout. For anyone that encounters a similar problem, simply raising the timeout limit appears to do the trick.</p>\n\n<p>See the link below on how to extend the limit: <a href=\"http://http.developer.nvidia.com/NsightVisualStudio/2.2/Documentation/UserGuide/HTML/Content/Timeout_Detection_Recovery.htm\" rel=\"nofollow\">http://http.developer.nvidia.com/NsightVisualStudio/2.2/Documentation/UserGuide/HTML/Content/Timeout_Detection_Recovery.htm</a></p>\n"}], "owner": {"reputation": 41, "user_id": 6442547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed8f92a27e8fcfaf01ed7cead329f2e?s=128&d=identicon&r=PG&f=1", "display_name": "at1012", "link": "https://stackoverflow.com/users/6442547/at1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 37714485, "answer_count": 1, "score": 0, "last_activity_date": 1465427906, "creation_date": 1465422332, "question_id": 37713487, "link": "https://stackoverflow.com/questions/37713487/cuda-unknown-error-after-cublas-call", "title": "CUDA unknown error after cuBLAS call", "body": "<p>In my current project, I am using CUDA with cublasSgetrfBatched and cublasSgetriBatched to calculate the inverse of a matrix and return the result. However, while I receive no error message upon calling the first function, the following call to cudaDeviceSynchronize results in error code 30: unknown error.</p>\n\n<p>Oddly enough, this only appears to happen with larger size matrices (n ~ 1600+) and work fine for smaller ones (n ~ 1400-). Memory usage is still relative small, so this doesn't seem like it should be a problem.</p>\n\n<p>Any tips or help would be greatly appreciated.</p>\n\n<p><strong>Reproducible Sample</strong></p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;cuda_runtime.h&gt;\n#include &lt;cublas_v2.h&gt;\n#include &lt;conio.h&gt;\n\n#define CUDA_CALL(res, str) { if (res != cudaSuccess) { printf(\"CUDA Error : %s : %s %d : ERR %s\\n\", str, __FILE__, __LINE__, cudaGetErrorName(res)); } }\n#define CUBLAS_CALL(res, str) { if (res != CUBLAS_STATUS_SUCCESS) { printf(\"CUBLAS Error : %s : %s %d : ERR %d\\n\", str, __FILE__, __LINE__, int(res)); } }\n\nfloat* d_GetInv(float* L, int n)\n{\n    cublasHandle_t cu_cublasHandle;\n    CUBLAS_CALL(cublasCreate(&amp;cu_cublasHandle), \"Failed to initialize cuBLAS!\");\n\n    float** adL;\n    float** adC;\n    float* dL;\n    float* dC;\n    int* dLUPivots;\n    int* dLUInfo;\n\n    size_t szA = n * n * sizeof(float);\n\n    CUDA_CALL(cudaMalloc(&amp;adL, sizeof(float*)), \"Failed to allocate adL!\");\n    CUDA_CALL(cudaMalloc(&amp;adC, sizeof(float*)), \"Failed to allocate adC!\");\n    CUDA_CALL(cudaMalloc(&amp;dL, szA), \"Failed to allocate dL!\");\n    CUDA_CALL(cudaMalloc(&amp;dC, szA), \"Failed to allocate dC!\");\n    CUDA_CALL(cudaMalloc(&amp;dLUPivots, n * sizeof(int)), \"Failed to allocate dLUPivots!\");\n    CUDA_CALL(cudaMalloc(&amp;dLUInfo, sizeof(int)), \"Failed to allocate dLUInfo!\");\n\n    CUDA_CALL(cudaMemcpy(dL, L, szA, cudaMemcpyHostToDevice), \"Failed to copy to dL!\");\n    CUDA_CALL(cudaMemcpy(adL, &amp;dL, sizeof(float*), cudaMemcpyHostToDevice), \"Failed to copy to adL!\");\n    CUDA_CALL(cudaMemcpy(adC, &amp;dC, sizeof(float*), cudaMemcpyHostToDevice), \"Failed to copy to adC!\");\n\n    CUBLAS_CALL(cublasSgetrfBatched(cu_cublasHandle, n, adL, n, dLUPivots, dLUInfo, 1), \"Failed to perform LU decomp operation!\");\n    CUDA_CALL(cudaDeviceSynchronize(), \"Failed to synchronize after kernel call!\");\n\n    CUBLAS_CALL(cublasSgetriBatched(cu_cublasHandle, n, (const float **)adL, n, dLUPivots, adC, n, dLUInfo, 1), \"Failed to perform Inverse operation!\");\n    CUDA_CALL(cudaDeviceSynchronize(), \"Failed to synchronize after kernel call!\");\n\n    float* res = (float*)malloc(szA);\n\n    CUDA_CALL(cudaMemcpy(res, dC, szA, cudaMemcpyDeviceToHost), \"Failed to copy to res!\");\n\n    CUDA_CALL(cudaFree(adL), \"Failed to free adL!\");\n    CUDA_CALL(cudaFree(adC), \"Failed to free adC!\");\n    CUDA_CALL(cudaFree(dL), \"Failed to free dL!\");\n    CUDA_CALL(cudaFree(dC), \"Failed to free dC!\");\n    CUDA_CALL(cudaFree(dLUPivots), \"Failed to free dLUPivots!\");\n    CUDA_CALL(cudaFree(dLUInfo), \"Failed to free dLUInfo!\");\n\n    CUBLAS_CALL(cublasDestroy(cu_cublasHandle), \"Failed to destroy cuBLAS!\");\n\n    return res;\n}\n\nint main()\n{\n    int n = 1600;\n    float* L = (float*)malloc(n * n * sizeof(float));\n    for(int i = 0; i &lt; n * n; i++)\n        L[i] = ((float)rand()/(float)(RAND_MAX)) * 9.0f;\n\n    float* inv = d_GetInv(L, n);\n\n    printf(\"done.\");\n    _getch();\n\n    return 0;\n}\n</code></pre>\n\n<p>The code was run with:</p>\n\n<p>GPU: GTX 780 3GB</p>\n\n<p>CPU: i7-4790S @ 3.20 GHz</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 32089, "user_id": 266198, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7x8PT.jpg?s=128&g=1", "display_name": "Nim", "link": "https://stackoverflow.com/users/266198/nim"}, "edited": false, "score": 1, "creation_date": 1465420670, "post_id": 37713049, "comment_id": 62899755, "body": "which book are you learning this from??"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465420707, "post_id": 37713049, "comment_id": 62899778, "body": "Also, why do you want to pass &quot;Disturb&quot; as a pointer? The problem is a lot simpler if you just need <code>City::City(bool Disturb)</code>."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465420836, "post_id": 37713049, "comment_id": 62899841, "body": "The person and animal objects are in their respective Person and Animal classes with their own different attributes. kfsone, can i do _person.IsDead and save it to a member in my miami object?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1465420838, "post_id": 37713049, "comment_id": 62899842, "body": "And if using a pointer, you need to dereference it: if(*Disturb == true). Do not compare against true or false, simply do if(someBool) or, if you wanted to check the opposite, if(!someBool)"}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465420983, "post_id": 37713049, "comment_id": 62899910, "body": "I also want to later be able to do miami.Disturbance == true, and it&#39;d check the _person.IsDead&#39;s current value."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1465421201, "post_id": 37713049, "comment_id": 62900013, "body": "@kfsone <code>-&gt;</code> (member access) precedes <code>&amp;</code> (address of). So _person and _animal are already pointers, and the result of &amp;name-&gt;IsWhatever is a pointer of type bool* to name-&gt;IsWhatever."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465422192, "post_id": 37713049, "comment_id": 62900469, "body": "@LilProgramma Why all these pointers and address-of operations? You don&#39;t need to do that."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 1, "creation_date": 1465422226, "post_id": 37713049, "comment_id": 62900490, "body": "Why would members of the classes be passed as parameter to a <code>City</code> constructor? There is zero relationship there; that is very bad Object Oriented Design."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "reply_to_user": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465422660, "post_id": 37713049, "comment_id": 62900669, "body": "@NonCreature0714 this is an analogy, it is simplified to help with alternatives for my embedded design requiring each object  to obtain the locations of the states of different sensors."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465422803, "post_id": 37713049, "comment_id": 62900726, "body": "@LilProgramma You probably simplified your example too much to give you a concise answer."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465422849, "post_id": 37713049, "comment_id": 62900746, "body": "@LilProgramma ah, okay, forgive me for being too literal. That information may actually be useful amplifying information in your question btw, it really paints of a picture of what you&#39;re trying to accomplish."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465423134, "post_id": 37713049, "comment_id": 62900895, "body": "@LilProgramma by &quot;locations of the states of different sensors,&quot; do you mean the location of a sensor in a certain state?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465423270, "post_id": 37713049, "comment_id": 62900955, "body": "@LilProgramma Why are you using such weird semantical analogies if we&#39;re talking about a sensor driven system actually?"}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 1, "creation_date": 1465423431, "post_id": 37713049, "comment_id": 62901021, "body": "@LilProgramma if you rewrite your question and clarify you are writing code for remote sensors, and change <code>City</code> to <code>Sensor</code>, and <code>Person</code> to <code>RemoteSensorA</code> (or something like that), and <code>animal</code> to <code>RemoteSensorB</code>, you probably get a much better, helpful and accurate answer. <i>Especially</i> because it looks you are actually trying to keep a group of instances of actively &quot;disturbed&quot; sensors by creating new instances when sensors detect disturbance."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "reply_to_user": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465423436, "post_id": 37713049, "comment_id": 62901023, "body": "@NonCreature0714 so pretty much just trying to simplify &amp;_person-&gt;IsDead into one &quot;thing&quot; and save it to a member so that i can just reuse it in more complex statements requiring an address. Something like QT&#39;s connect() which requires the member itself."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465423665, "post_id": 37713049, "comment_id": 62901119, "body": "@LilProgramma I edited my comment above, I think I clarifies a little better what will help you find a solution."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465422525, "post_id": 37713362, "comment_id": 62900618, "body": "I was just wondering if there was an easy reusable way to access different member locations. My more complex problem is to turn that Bool into a custom data type which also contains a function that whenever the Bool changes, it will send a QT signal to tell the City object that it has changed states. Thus, I would need to reference IsDead for the connect() statement."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465422876, "post_id": 37713362, "comment_id": 62900758, "body": "@LilProgramma: you are going down a bad rabbit hole with this awful code design. I would have each Person or Animal contain a pointer to a City they belong to, and if the Person/Animal dies then it can notify the City directly."}, {"owner": {"reputation": 83, "user_id": 6331921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV9bq.jpg?s=128&g=1", "display_name": "tatertot", "link": "https://stackoverflow.com/users/6331921/tatertot"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465422881, "post_id": 37713362, "comment_id": 62900759, "body": "@LilProgramma Just as clarification, does your City object contain all of your person and animal objects? Right now it seems that based on what you&#39;re trying to do, you need a little work on your object design. If your Person and Animal objects are contained in the city, then it will be much easier to do what you&#39;re trying to do. Also, Remy&#39;s comment is another (possibly better) design, depending on how connected you want your objects to be."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465423078, "post_id": 37713362, "comment_id": 62900860, "body": "@tatertot the person and animal objects are contained respectively in seperate Person and Animal Classes with their own seperate attributes and methods. While the City class contains the cities: miami, detroit..."}, {"owner": {"reputation": 83, "user_id": 6331921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV9bq.jpg?s=128&g=1", "display_name": "tatertot", "link": "https://stackoverflow.com/users/6331921/tatertot"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465423252, "post_id": 37713362, "comment_id": 62900950, "body": "@LilProgramma I think that design is your problem. Your City class is just a list of the city names? How about you make your City class much more useful by having each city have a name, city attributes, and then create an enclosing class for cities (State, Country, County, CityList, etc.)"}], "tags": [], "owner": {"reputation": 83, "user_id": 6331921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV9bq.jpg?s=128&g=1", "display_name": "tatertot", "link": "https://stackoverflow.com/users/6331921/tatertot"}, "is_accepted": false, "score": 0, "last_activity_date": 1465421856, "last_edit_date": 1495540723, "creation_date": 1465421856, "answer_id": 37713362, "question_id": 37713049, "link": "https://stackoverflow.com/questions/37713049/accessing-another-objects-member/37713362#37713362", "title": "Accessing another object&#39;s member", "body": "<p>Is there a particular reason why you're not using getters and setters in order to access the members of your objects?</p>\n\n<p>If you're referencing to all your objects as pointers, you may want to reconsider that practice. This StackOverflow question gives some insight into common practice with C++ and pointers: <a href=\"https://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself\">Why should I use a pointer rather than the object itself?</a></p>\n\n<p>I think the best answer to your question would actually be to familiarize yourself with the concept of pointers. This question as well the one I mentioned earlier give a good starting point - <a href=\"https://stackoverflow.com/questions/4288030/c-objects-when-should-i-use-pointer-or-reference/4288340#4288340\">C++ Objects: When should I use pointer or reference</a>. I think one of the best things to note is that if you are coming from a Java background, pointers and references are hidden in the code for you. Every object is a pointer and vice versa in Java. In C++, they are separate.</p>\n\n<p>I think your desire to reuse code is commendable, but in this case, using pointers will probably cause unknown errors!</p>\n\n<p>I'd recommend changing your constructor in the City class to actually work with the objects, not just their members (for instance, create a City with a person as your parameter, not whether the person is alive or dead). With a little more practice in object-oriented programming, you may find that it is much easier than your initial approach!</p>\n"}, {"comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465422305, "post_id": 37713456, "comment_id": 62900518, "body": "As I discovered, he&#39;s using <code>&amp;_name-&gt;</code> because <code>name</code> is a pointer and he&#39;s dereferencing it to reach it&#39;s <code>IsDead</code> member and then taking the address of that."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1465424126, "post_id": 37713456, "comment_id": 62901282, "body": "Should have thought myself of references... +1."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1465426444, "last_edit_date": 1465426444, "creation_date": 1465422204, "answer_id": 37713456, "question_id": 37713049, "link": "https://stackoverflow.com/questions/37713049/accessing-another-objects-member/37713456#37713456", "title": "Accessing another object&#39;s member", "body": "<p>You can use a <code>bool*</code> pointer like this: </p>\n\n<pre><code>class SensorOverLimit\n{\npublic:\n    bool* Sensor;\n    SensorOverLimit(bool* SensorAddress);\n    void Check();\n};\n\n...\n\nSensorOverLimit::SensorOverLimit(bool* SensorAddress)\n    : Sensor(SensorAddress)\n{\n    Check();\n}\n\nvoid SensorOverLimit::Check()\n{\n    if (*Sensor)\n    {\n         somefunction();\n    }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>SensorOverLimit *Overheating = new SensorOverLimit(&amp;(_HeatSensor-&gt;IsOverheating));\nSensorOverLimit *DamagedLeg = new SensorOverLimit(&amp;(_LeftLegSensor-&gt;IsStalled));\n...\n</code></pre>\n\n<p>Then you can do this:</p>\n\n<pre><code>_HeatSensor-&gt;IsOverheating = true;\n... \nOverheating-&gt;Check();\n</code></pre>\n\n<p></p>\n\n<pre><code>_LeftLegSensor-&gt;IsStalled = true;\n...\nDamagedLeg-&gt;Check();\n</code></pre>\n\n<p>With that said, it would be safer to use references instead of pointers:</p>\n\n<pre><code>class SensorOverLimit\n{\npublic:\n    bool&amp; Sensor;\n    SensorOverLimit(bool&amp; SensorAddress);\n    void Check();\n};\n\n...\n\nSensorOverLimit::SensorOverLimit(bool&amp; SensorAddress)\n    : Sensor(SensorAddress)\n{\n    Check();\n}\n\nvoid SensorOverLimit::Check()\n{\n    if (Sensor)\n    {\n         somefunction();\n    }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>SensorOverLimit *Overheating = new SensorOverLimit(_HeatSensor-&gt;IsOverheating);\nSensorOverLimit *DamagedLeg = new SensorOverLimit(_LeftLegSensor-&gt;IsStalled);\n...\n</code></pre>\n\n<p></p>\n\n<pre><code>_HeatSensor-&gt;IsOverheating = true;\n... \nOverheating-&gt;Check();\n</code></pre>\n\n<p></p>\n\n<pre><code>_LeftLegSensor-&gt;IsStalled = true;\n...\nDamagedLeg-&gt;Check();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1465422525, "post_id": 37713459, "comment_id": 62900617, "body": "<code>City miami = new ....</code> Sure? This isn&#39;t java."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465422804, "post_id": 37713459, "comment_id": 62900727, "body": "Its for an embedded system requiring to know the states of multiple sensors each with their own classes, its just simplified with different names so its easier to read."}, {"owner": {"reputation": 1324, "user_id": 6212666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6979ce8911c0f0e6c27f93bb6b39f09?s=128&d=identicon&r=PG", "display_name": "John D", "link": "https://stackoverflow.com/users/6212666/john-d"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 1, "creation_date": 1465423095, "post_id": 37713459, "comment_id": 62900875, "body": "That does explain the likely intent of the question which seemed an odd mixture of unrelated classes at first sight. +1 for suggesting the cause of the disturbance notify the City object (and for working out what the question was about). @LilProgramma better to use real names like Sensor, Controller or whatever so people understand what you need."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465423105, "post_id": 37713459, "comment_id": 62900882, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Was editing already. Suppose I should get used to write the code in an IDE instead of directly here..."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465423626, "post_id": 37713459, "comment_id": 62901106, "body": "@LilProgramma That&#39;s an important hint. You should include this in your question next time, most of us are quite aware that things work differently in embedded environments. And I join John D, leave the real names. Your naming drove me into an entirely different direction..."}, {"owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465429675, "post_id": 37713459, "comment_id": 62903004, "body": "@Remy Lebeau Awesome, thanks for the detail! I changed the type from Boolean to a custom &quot;BoolPlus&quot; type which contains a bool, but also emits a signal(HasChanged()) whenever it is changed. would I be able to use the connect statement:  Connect(sensorAddress, HasChanged(), this, NotOverLimit()) to connect it to a function in the Sensor classes?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465433333, "post_id": 37713459, "comment_id": 62903960, "body": "@LilProgramma: I&#39;m not familiar with Qt or its signal/slot mechanism, but after a cursory glance through its <a href=\"http://doc.qt.io/qt-4.8/signalsandslots.html\" rel=\"nofollow noreferrer\">documentation</a>, I&#39;m sure you can do something similar to what you are thinking."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465447115, "post_id": 37713459, "comment_id": 62906842, "body": "@LilProgramma May I assume the following: Your bool variables represent flags that are set or unset from within an <i>interrupt</i> (!). This is then the reason why you can&#39;t or don&#39;t want to call <code>someFunction</code> directly from where the flags are set (that would be the most simple...). Then in your main loop, you check these flags periodically to react appropriately. Is this correct so far?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "edited": false, "score": 0, "creation_date": 1465449475, "post_id": 37713459, "comment_id": 62907659, "body": "@LilProgramma Added a polymorphic approach. Maybe this is interesting for you?"}], "tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": true, "score": 2, "last_activity_date": 1465449429, "last_edit_date": 1592644375, "creation_date": 1465422222, "answer_id": 37713459, "question_id": 37713049, "link": "https://stackoverflow.com/questions/37713049/accessing-another-objects-member/37713459#37713459", "title": "Accessing another object&#39;s member", "body": "\n<p><strong>Edit:</strong> Changed question, new answer...</p>\n<p>SensorOverLimit.h:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class SensorOverLimit\n{\n    bool* sensor;\npublic:\n    SensorOverLimit(bool* sensorAddress);\n    void check();\n};\n</code></pre>\n<p>SensorOverLimit.cpp:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>SensorOverLimit::SensorOverLimit(bool* sensorAddress)\n    : sensor(sensorAddress)\n{\n}\n\nvoid SensorOverLimit::check()\n{\n    if(*sensor)\n    {\n        somefunction();\n    }\n}\n</code></pre>\n<p>Have a look at Remy's answer for references instead of pointers (<code>bool&amp;</code> instead of <code>bool*</code>, and you can omit dereferencing (<code>if(sensor)</code>)</p>\n<p>main.cpp:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>HeatSensor heatSensor;\nLeftLegSensor leftLegSensor;\nSensorOverLimit overHeating(&amp;heatSensor.isOverheating);\nSensorOverLimit leftLegDamaged(&amp;leftLegSensor.isStalled);\n\nint main(int, char*[])\n{\n    // ...\n    return 0;\n}\n</code></pre>\n<p>You might have noticed: I directly instantiated global variables. This is often more appropriate in embedded environments, at least easier to use.</p>\n<p>Be careful with identifiers starting with an underscore - these are reserved in many cases (C++ standard, 2.10):</p>\n<blockquote>\n<p>Each identifier that contains a double underscore __ or begins with an underscore followed by an uppercase letter is reserved to the implementation for any use.</p>\n<p>Each identifier that begins with an underscore is reserved to the implementation for use as a name in the global namespace.</p>\n</blockquote>\n<p><strong>Edit 2:</strong></p>\n<p>I'm coming up with a completely different design, inverting what you had so far:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class Sensor\n{\npublic:\n    Sensor()\n            : isActive(false)\n    { }\n    virtual ~Sensor()\n    { }\n\n    void check()\n    {\n        if(getValue() != isActive)\n        {\n            isActive = !isActive;\n            if(isActive)\n            {\n                someFunction();\n            }\n        }\n    }\nprivate:\n    bool isActive;\n    virtual bool getValue() = 0;\n};\n\nclass HeatSensor : public Sensor\n{\n    virtual bool getValue()\n    {\n        bool isActive = false;\n        // do what ever is necessary to detect overheat\n        // e. g. read from ADC and compare against threshold\n        return isActive;\n    }\n};\n\nclass LegSensor : public Sensor\n{\n    bool isSignal;\n    virtual bool getValue()\n    {\n        // do what ever is necessary to detect stalled leg\n        // e. g.: simply returning the value that has been set from\n        // within an interrupt handler\n        return isSignal;\n    }\n};\n</code></pre>\n<p>Not really happy about the names of my members, you might find something better...</p>\n<hr />\n<p>What is your intention of this design, however? Are you going to iterate over each city, checking the bool pointers? Seems a questionable design to me...</p>\n<p>I suggest an alternative for you:</p>\n<p>Each Sensor gets a SensorOverLimit* pointer, you might call it 'controller' or whatever seems appropriate to you. Then add functions to each Sensor class: <code>oveheating()</code>, <code>stalling()</code>, etc. Within these functions, you call a newly defined function of SensorOverLimit: <code>disturb(int reason, Sensor* source)</code>. Instead of int, you could define an enum containing all possible reasons, such as Overheat, Stall, etc.</p>\n<p>Could look like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class Sensor;\n\nclass SensorOverLimit\n{\n    // appropriate members\npublic:\n    enum Disturbance\n    {\n        Overheat,\n        Stall,\n    };\n\n    SensorOverLimit() {}\n\n    void disturb(Disturbance reason, Sensor* source)\n    {\n        someFunction();\n    }\n};\n\nclass Sensor\n{\nprotected:\n    SensorOverLimit* controller;\npublic:\n    // ctor, getters, setters as needed\n    Sensor(SensorOverLimit* aController) : controller(aController) {}\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class HeatSensor : public Sensor\n{\npublic:\n    // ctor, getters, setters as needed\n    HeatSensor(SensorOverLimit* aController) : Sensor(aController) {}\n    void overheating()\n    {\n        if (controller)\n            controller-&gt;disturb(SensorOverLimit::Overheat, this);\n    }\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class LegSensor : public Sensor\n{\npublic:\n    // ctor, getters, setters as needed\n    LegSensor(SensorOverLimit* aController) : Sensor(aController) {}\n    void stalling()\n    {\n        if (controller)\n            controller-&gt;disturb(SensorOverLimit::Stall, this);\n    }\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>SensorOverLimit controller;\nHeatSensor heatSensor(&amp;controller);\nLegSensor leftLegSensor(&amp;controller);\n\nint main(int, char*[])\n{\n    // ...\n    heatSensor.overheating();\n    //...\n    leftLegSensor.stalling();\n    //...\n    return 0;\n}\n</code></pre>\n<p>Advantage: You can associate many sensors to one and the same controller.</p>\n"}], "owner": {"reputation": 13, "user_id": 6442093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd379c8038d77ee3ed2057d30aab9a1?s=128&d=identicon&r=PG&f=1", "display_name": "LilProgramma", "link": "https://stackoverflow.com/users/6442093/lilprogramma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 3, "closed_date": 1465465943, "accepted_answer_id": 37713459, "answer_count": 3, "score": -1, "last_activity_date": 1465449429, "creation_date": 1465420510, "last_edit_date": 1465424135, "question_id": 37713049, "link": "https://stackoverflow.com/questions/37713049/accessing-another-objects-member", "closed_reason": "Needs details or clarity", "title": "Accessing another object&#39;s member", "body": "<p>I'm a beginner to C++ and I was wondering if there was a good way to access a member of another object. </p>\n\n<p>Currently I'm using this to access the members:</p>\n\n<pre><code>&amp;_HeatSensor-&gt;IsOverheating == true;\n&amp;_LeftLegSensor-&gt;IsStalled == true;\n/*... many more similar ones but different names*/\n</code></pre>\n\n<p>Where HeatSensor or LeftLegSensor is the name of the object and IsOverheating or IsStalled is a Boolean member in the object.</p>\n\n<p>I want to create a new <code>SensorOverLimit</code> class, and create many objects(ex: Left Leg, MotorTemperature... etc. </p>\n\n<p>To save time and reuse code, I want to be able to pass something that can reference the Boolean members that were created in the constructor and then save the location via reference or pointer as a member in the new SensorOverLimit object.</p>\n\n<p><code>SensorOverLimit.cpp</code></p>\n\n<pre><code>SensorOverLimit::SensorOverLimit(bool* SensorAddress)\n{\n    bool* Sensor = SensorAddress;\n}\n\nSensorOverLimit::Check()\n{\n    if  (SensorAddress == true)\n    {\n        somefunction();\n    }\n}\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>SensorOverLimit Overheating = new SensorOverLimit(bool* &amp;_HeatSensor-&gt;IsOverheating);\nSensorOverLimit DamagedLeg = new SensorOverLimit(bool* &amp;_LeftLegSensor-&gt;IsStalled);\n</code></pre>\n\n<p>This doesn't work, does anyone have any ideas for how to get this to work?</p>\n"}, {"tags": ["c++", "algorithm", "data-structures", "bitmap", "array-algorithms"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1465419930, "post_id": 37712791, "comment_id": 62899436, "body": "You may like to let ImageMagick convert BMP, PNG, JPG, TIF, GIF and so on into NetPBM format so you can read/write any format with about 8 lines of code... <a href=\"http://stackoverflow.com/a/24599122/2836621\">stackoverflow.com/a/24599122/2836621</a>"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1465420444, "post_id": 37712791, "comment_id": 62899664, "body": "Just use <code>imageHeight - 1 - h</code> to invert the y coordinate."}, {"owner": {"reputation": 7514, "user_id": 227426, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46f68eb5a1d76ea7781401ed832f0b48?s=128&d=identicon&r=PG", "display_name": "Robben_Ford_Fan_boy", "link": "https://stackoverflow.com/users/227426/robben-ford-fan-boy"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1465420582, "post_id": 37712791, "comment_id": 62899718, "body": "@JonathanPotter My preference is to fix it when I read it in in C++"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1465421083, "post_id": 37712791, "comment_id": 62899951, "body": "Don&#39;t. Simply don&#39;t. The BMP file format is radically more complex than you think. Use a library instead."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465421465, "post_id": 37712791, "comment_id": 62900131, "body": "@IInspectable <i>most</i> BMP files aren&#39;t all that complex, which is what makes the format so appealing. But that just means that you won&#39;t run into one of the complex ones during testing, only at some much more inconvenient time later. Your advice to use a library is a good one, although for <i>writing</i> a BMP file you may be able to get by without one."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1465421884, "post_id": 37712791, "comment_id": 62900329, "body": "@MarkRansom: Even for &#39;standard&#39; bitmaps there are several gotchas (DWORD-alignment for scanlines is one that most developers get wrong). And even writing BMP&#39;s to disk poses several obstacles (the number of entries in the color palette is a common source of confusion). Using a library or even system services (e.g. <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee719902.aspx\" rel=\"nofollow noreferrer\">Windows Imaging Component</a>) is recommended either way."}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1465422924, "post_id": 37712791, "comment_id": 62900785, "body": "<a href=\"http://freeimage.sourceforge.net/\" rel=\"nofollow noreferrer\">freeimage.sourceforge.net</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3966, "user_id": 2132213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31de75b6e3603efbc437ab3475a757d?s=128&d=identicon&r=PG", "display_name": "Nick Matteo", "link": "https://stackoverflow.com/users/2132213/nick-matteo"}, "is_accepted": true, "score": 1, "last_activity_date": 1465432466, "last_edit_date": 1465432466, "creation_date": 1465431840, "answer_id": 37715048, "question_id": 37712791, "link": "https://stackoverflow.com/questions/37712791/c-best-way-to-read-bitmap-right-way-up-into-1d-vector/37715048#37715048", "title": "C++ Best way to read BitMap &quot;Right Way up&quot; into 1D Vector", "body": "<p>As far as I understand, you want to transpose the image data; that is, store columns of pixels in contiguous segments of m_pixelVec, rather than rows.</p>\n\n<p>It seems to me that the easiest way to do this is by placing values into a 2D data structure as they are read, then flattening it. That makes it trivial to change column-major vs row-major order, by just flipping the indices.</p>\n\n<p>To access any point when I want, without any push_backs, I preallocated the whole thing, which assumes the Element type is default-constructible. I used a vector of vectors, but a 2D array could work just as well.</p>\n\n<p>I noticed that you put the first row read (i == 0) at the end of your vector and assumed you want to keep that behavior. Hence the index <code>m_height-i-1</code> when assigning to <code>bmpcolrow</code>.\nAnother possibility is to just use <code>bmpcolrow[j][i]</code> and then reverse the columns when inserting (use <code>col.rbegin()</code> and <code>col.rend()</code> in the last line).</p>\n\n<pre><code>std::vector&lt;std::vector&lt;Element&gt;&gt; bmpcolrow(m_width, std::vector&lt;Element&gt;(m_height));\n\nfor(int i = 0; i &lt; m_height; i++) {\n    fread(data, sizeof(unsigned char), row_padded, f);\n    for(int j = 0; j &lt; m_width; j++) {\n                // BGRA format\n        Element element;\n        element.Elements[0] = data[3*j+2];\n        element.Elements[1] = data[3*j+1];\n        element.Elements[2] = data[3*j];\n        element.Elements[3] = 0; // for alpha\n        bmpcolrow[j][m_height-i-1] = element;\n    }\n}\n\nfor (const auto&amp; col : bmpcolrow)\n    m_pixelVec.insert(m_pixelVec.end(), col.begin(), col.end());\n</code></pre>\n"}], "owner": {"reputation": 7514, "user_id": 227426, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46f68eb5a1d76ea7781401ed832f0b48?s=128&d=identicon&r=PG", "display_name": "Robben_Ford_Fan_boy", "link": "https://stackoverflow.com/users/227426/robben-ford-fan-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 37715048, "answer_count": 1, "score": 0, "last_activity_date": 1465432466, "creation_date": 1465419446, "last_edit_date": 1465424055, "question_id": 37712791, "link": "https://stackoverflow.com/questions/37712791/c-best-way-to-read-bitmap-right-way-up-into-1d-vector", "title": "C++ Best way to read BitMap &quot;Right Way up&quot; into 1D Vector", "body": "<p>I am trying to read a BitMap \"The Right Way Up\" into a 1D Vector.  Here is my first attempt.  It is pretty clunky:</p>\n\n<pre><code>void BitMap::ReadBMP(const char* filename)\n{\n    FILE* f = fopen(filename, \"rb\");\nif(f == NULL)\n    throw \"Argument Exception\";\n\nunsigned char info[54];\nfread(info, sizeof(unsigned char), 54, f); // read the 54-byte header\n\n// extract image height and width from header\nm_width = *(int*)&amp;info[18];\nm_height = *(int*)&amp;info[22];\n\ncout &lt;&lt; endl;\ncout &lt;&lt; \"  Name: \" &lt;&lt; filename &lt;&lt; endl;\ncout &lt;&lt; \" Width: \" &lt;&lt; m_width &lt;&lt; endl;\ncout &lt;&lt; \"Height: \" &lt;&lt; m_height &lt;&lt; endl;\n\nint row_padded = (m_width*3 + 3) &amp; (~3);\nunsigned char* data = new unsigned char[row_padded];\nunsigned char tmp;\n\nstd::deque&lt;Element&gt; mydeque;\nstd::vector&lt;Element&gt; bmpRow;\n\nfor(int i = 0; i &lt; m_height; i++)\n{\n    fread(data, sizeof(unsigned char), row_padded, f);\n    for(int j = 0; j &lt; m_width*3; j += 3)\n    {\n                    // BGRA format\n        Element element;\n        element.Elements[0] = data[j+2];\n        element.Elements[1] = data[j+1];\n        element.Elements[2] = data[j];\n        element.Elements[3] = 0; // for alpha\n        bmpRow.push_back(element);\n    }\n    mydeque.insert (mydeque.begin(),bmpRow.begin(),bmpRow.end());\n    bmpRow.clear();\n}\n\nstd::copy(mydeque.begin(), mydeque.end(), std::back_inserter(m_pixelVec)); \ncout&lt;&lt; \"After Deque Copy\" &lt;&lt; endl;\n\nfclose(f);\ndelete data;\n</code></pre>\n\n<p>}</p>\n\n<p>Problem is, I need to iterate through the data at a different point of the APP like this - note h and W swapped for setPixel.  <strong>Please ignore this part, this is just to demonstrate the BitMap needs to be rotated in C++ part above:</strong> </p>\n\n<pre><code>for (int h = 0; h&lt;imageHeight; h++)\n{\n    for (int w = 0; w&lt;imageWidth; w++)\n    {\n        int p = 0;\n        Pixel pixel = currentImagePixelVec.get(pixelVecLoc);\n        p = (pixel.Alpha&lt;&lt;24) | (pixel.Red&lt;&lt;16) | (pixel.Green&lt;&lt;8) | pixel.Blue;                \n        imageData.setPixel(w, h, p);            \n        pixelVecLoc++;\n    }\n}\n</code></pre>\n\n<p>So I would like to rotate the BitMap as I read it into the 1D Vector.  Can you suggest a good way?</p>\n\n<p><strong>EDIT:</strong>\nThis is really just for testing purposes. I am only using BitMaps I know the height and width of etc.. I would like to know from an algorithm point of view how people would do it</p>\n"}, {"tags": ["c++", "macos", "osx-elcapitan", "hostname", "gethostbyname"], "comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465420212, "post_id": 37712743, "comment_id": 62899567, "body": "have you tried printing the value passed to gethostbyname() when you get a null to make absolutely sure it&#39;s not a bad argument?"}, {"owner": {"reputation": 36033, "user_id": 115751, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FkIiK.png?s=128&g=1", "display_name": "WilliamKF", "link": "https://stackoverflow.com/users/115751/williamkf"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465420425, "post_id": 37712743, "comment_id": 62899656, "body": "@kfsone Yes, my error message printed the value and showed it was not corrupted."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1465420783, "post_id": 37712743, "comment_id": 62899813, "body": "The usual reason is a flaky/unreachable DNS server."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1465422676, "post_id": 37712743, "comment_id": 62900674, "body": "Have you tested this with the <a href=\"http://superuser.com/questions/255835/whats-a-loopback-address-i-e-127-0-0-1\">loopback address</a> to see if your NIC has an issue? If it passes with a zero failures, it is likely a flaky DNS server as @SamVarshavchik pointed out. Otherwise there is some fault in your local machine&#39;s hardware. Do you know what protocol <code>gethostbyname()</code> is using?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1465423084, "post_id": 37712743, "comment_id": 62900867, "body": "@SamVarshavchik The local hostname shouldn&#39;t even be in DNS."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1465433741, "post_id": 37712743, "comment_id": 62904044, "body": "@barmar - gethostbyname() looks up any name in DNS. Even local hostname&#39;s."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1465433941, "post_id": 37712743, "comment_id": 62904084, "body": "@SamVarshavchik How would your local hostname get into the public DNS? There isn&#39;t even a domain suffix on it. OS X actually uses mDNS, which consults a local database first before going to the real DNS server."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1465436729, "post_id": 37712743, "comment_id": 62904672, "body": "@Barmar - who said anything about public DNS? If the OP is on a corporate network or a LAN, the local DNS servers will be authoritative for the zone."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1465436911, "post_id": 37712743, "comment_id": 62904707, "body": "@SamVarshavchik Who said anything about a corporate network? Absent anything in the question about a local DNS server, I&#39;ll assume it&#39;s a personal Macintosh using his ISP&#39;s DNS (or something like Google DNS)."}, {"owner": {"reputation": 36033, "user_id": 115751, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FkIiK.png?s=128&g=1", "display_name": "WilliamKF", "link": "https://stackoverflow.com/users/115751/williamkf"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1465439255, "post_id": 37712743, "comment_id": 62905108, "body": "@Barmar Yes, using ISP&#39;s DNS."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465440204, "post_id": 37712743, "comment_id": 62905304, "body": "You really should stop using <code>gethostbyname()</code> altogether, use <code>getaddrinfo()</code> instead. If you want the address(es) of the local host, use <code>getifaddrs()</code> instead."}], "owner": {"reputation": 36033, "user_id": 115751, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FkIiK.png?s=128&g=1", "display_name": "WilliamKF", "link": "https://stackoverflow.com/users/115751/williamkf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1465419301, "creation_date": 1465419301, "question_id": 37712743, "link": "https://stackoverflow.com/questions/37712743/why-does-gethostbyname-intermittently-give-host-not-found-for-hostname", "title": "Why does gethostbyname() intermittently give HOST_NOT_FOUND for hostname?", "body": "<p>On Mac OS X El Capitan, I am running a C++ application that calls <code>gethostbyname()</code> and sometimes passes the argument string matching the current machine:</p>\n\n<pre><code>bash-3.2$ hostname\nWs-MacBook-Pro\n</code></pre>\n\n<p>This normally works, however, on rare occasions, I get a <code>NULL</code> result and <code>h_errno</code> is set to <code>HOST_NOT_FOUND</code>.</p>\n\n<p>Is this a known issue?  How can my application recover from this?  I'd like to retry on the hopes it succeeds, but how would I distinguish a real host not found failure from this transient one for the current machine's name?  How long would such a failure likely persist and what might be causing it?</p>\n"}, {"tags": ["c++", "scope", "nested", "forward-declaration"], "comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465420295, "post_id": 37712725, "comment_id": 62899601, "body": "FYI: auto_ptr is deprecated and likely to be removed from the language soon. Consider using &quot;std::unique_ptr&quot; or &quot;std::shared_ptr&quot; instead."}, {"owner": {"reputation": 4411, "user_id": 751579, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/iux9g.png?s=128&g=1", "display_name": "davidbak", "link": "https://stackoverflow.com/users/751579/davidbak"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465420493, "post_id": 37712725, "comment_id": 62899692, "body": "@kfsone - thanks, it&#39;s just an example, substitute <code>std::shared_ptr</code> or <code>std::optional</code> if you wish."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1465420871, "post_id": 37712725, "comment_id": 62899854, "body": "The short answer is &quot;because that&#39;s how C++ works&quot;."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1465424337, "post_id": 37712725, "comment_id": 62901362, "body": "@davidbak for this idiom substitute <code>unique_ptr</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4411, "user_id": 751579, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/iux9g.png?s=128&g=1", "display_name": "davidbak", "link": "https://stackoverflow.com/users/751579/davidbak"}, "edited": false, "score": 0, "creation_date": 1465423835, "post_id": 37713253, "comment_id": 62901180, "body": "Thanks! Now that I know it is an <i>elaborated-type-specifier</i> I found a good description of <a href=\"http://en.cppreference.com/w/cpp/language/elaborated_type_specifier\" rel=\"nofollow noreferrer\">what that is</a> (though it doesn&#39;t actually have the scope rule you described)."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 2, "last_activity_date": 1465421313, "creation_date": 1465421313, "answer_id": 37713253, "question_id": 37712725, "link": "https://stackoverflow.com/questions/37712725/use-of-struct-foo-in-field-decl-doesnt-forward-declare-nested-class/37713253#37713253", "title": "use of &quot;struct Foo&quot; in field decl doesn&#39;t forward declare nested class", "body": "<p>The scope of a name first declared as <em>elaborated-type-specifier</em> depends on the way in which it is used.</p>\n\n<p>If you do <code>struct Impl;</code> the struct is declared as a member of whatever scope that declaration occurs in, as in your first example. But in any other context, it's declared in the nearest enclosing block or namespace (but not class), as in the second and third examples.</p>\n\n<p>The solution is just to forward-declare it as <code>struct Impl;</code> in the class prior to any other uses. You can just refer to it as <code>Impl</code> after that.</p>\n\n<p>See [basic.scope.cdecl]/7 for the detailed rules.</p>\n"}], "owner": {"reputation": 4411, "user_id": 751579, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/iux9g.png?s=128&g=1", "display_name": "davidbak", "link": "https://stackoverflow.com/users/751579/davidbak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 37713253, "answer_count": 1, "score": 0, "last_activity_date": 1465421313, "creation_date": 1465419249, "question_id": 37712725, "link": "https://stackoverflow.com/questions/37712725/use-of-struct-foo-in-field-decl-doesnt-forward-declare-nested-class", "title": "use of &quot;struct Foo&quot; in field decl doesn&#39;t forward declare nested class", "body": "<p>I am apparently misunderstanding how the C-ish feature of simultaneously \"declaring\" and referring to a type using <code>struct X</code> works in C++.  (Plus I don't even know what this feature is called, properly.)  I have three examples below to show what I'm doing but the main question is: Why is the nested type, forward declared in this way, at global scope instead of in class scope?</p>\n\n<p><a href=\"http://ideone.com/EkgyRs\" rel=\"nofollow\">This</a> works to forward declare a nested struct:</p>\n\n<pre><code>#include &lt;memory&gt;\nclass Foo1\n{\n    Foo1();\n    ~Foo1();\n    struct Impl;\n    std::auto_ptr&lt;Impl&gt; m_pimpl;\n};\n\nstruct Foo1::Impl\n{\n    Impl(){}\n    ~Impl(){}\n};\n\nFoo1::Foo1(){}\nFoo1::~Foo1(){}\n\nint main() {}\n</code></pre>\n\n<p>So now I want to save a few characters by using a half-remembered C feature, <a href=\"http://ideone.com/UdcAFB\" rel=\"nofollow\">so see</a> where I've dropped the line <code>struct Impl;</code> and for the field declared its type  as <code>auto_ptr&lt;struct Impl&gt;</code> instead of <code>auto_ptr&lt;Impl&gt;</code>:</p>\n\n<pre><code>#include &lt;memory&gt;\nclass Foo2a\n{\n    Foo2a();\n    ~Foo2a();\n    std::auto_ptr&lt;struct Impl&gt; m_pimpl;\n};\n\nstruct Foo2a::Impl\n{\n    Impl(){}\n    ~Impl(){}\n};\n\nFoo2a::Foo2a(){}\nFoo2a::~Foo2a(){}\n\nint main() {}\n</code></pre>\n\n<p>Here the compiler complains that <code>no struct named 'Impl' in 'Foo2a'</code>.  Sure enough, it is at global scope, as <a href=\"http://ideone.com/iVQL6W\" rel=\"nofollow\">this</a> compiles:</p>\n\n<pre><code>#include &lt;memory&gt;\nclass Foo2b\n{\n    Foo2b();\n    ~Foo2b();\n    std::auto_ptr&lt;struct Impl&gt; m_pimpl;\n};\n\nstruct Impl\n{\n    Impl(){}\n    ~Impl(){}\n};\n\nFoo2b::Foo2b(){}\nFoo2b::~Foo2b(){}\n\nint main() {}\n</code></pre>\n\n<p>What's up with that?  a) Why does it work at all to \"declare\" the type <code>Impl</code> this way, and b) given that it works, why is <code>Impl</code> at global scope not class scope?</p>\n\n<p>And, BTW, declaring the field as <code>auto_ptr&lt;struct Foo2c::Impl&gt;</code> <a href=\"http://ideone.com/2r0X6p\" rel=\"nofollow\">doesn't work either</a>.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1465419639, "post_id": 37712695, "comment_id": 62899299, "body": "Since you essentially want to block narrowing, just SFINAE on the well-formedness of <code>Dest{std::declval&lt;Source&gt;()}</code>?"}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465419723, "post_id": 37712695, "comment_id": 62899335, "body": "That is exactly the kind of answer I was hoping for, thank you!"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1465420846, "post_id": 37712695, "comment_id": 62899846, "body": "Actually I take that back. If you want full portability, you&#39;ll have to write this with ranks. <code>{}</code> will allow <code>long long</code> to <code>long</code> on LP64."}, {"owner": {"reputation": 1295, "user_id": 1887915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43a2e328dbd73309c94f0c2a4434f1b?s=128&d=identicon&r=PG", "display_name": "user1887915", "link": "https://stackoverflow.com/users/1887915/user1887915"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465453967, "post_id": 37712695, "comment_id": 62909530, "body": "@T.C. Is the <code>long long</code> to <code>long</code> conversion permitted in standard, or a bug in the compiler?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 1295, "user_id": 1887915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43a2e328dbd73309c94f0c2a4434f1b?s=128&d=identicon&r=PG", "display_name": "user1887915", "link": "https://stackoverflow.com/users/1887915/user1887915"}, "edited": false, "score": 0, "creation_date": 1465454053, "post_id": 37712695, "comment_id": 62909559, "body": "@user1887915 The standard (note we are talking about LP64 here, i.e., both are 64-bit integers)."}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "reply_to_user": {"reputation": 1295, "user_id": 1887915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43a2e328dbd73309c94f0c2a4434f1b?s=128&d=identicon&r=PG", "display_name": "user1887915", "link": "https://stackoverflow.com/users/1887915/user1887915"}, "edited": false, "score": 0, "creation_date": 1465454555, "post_id": 37712695, "comment_id": 62909838, "body": "@user1887915: the rule in the standard is that <code>{}</code> does not allow narrowing conversions. That&#39;s in <code>[dcl.init.list]</code>, in my copy <code>8.5.4.7</code>, at the end of the section on list initialization. The rule seems to be, for floating point to floating point conversions, it does what I said I wanted. But for integral types, it&#39;s only forbidden if the new type &quot;cannot represent all the values of the original type, except where the source is a constant expression and (more conditions)&quot;. That means for integral types, e.g. <code>long long -&gt; long</code> may be permitted if e.g. <code>sizeof(long long) == sizeof(long)</code>."}, {"owner": {"reputation": 1295, "user_id": 1887915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43a2e328dbd73309c94f0c2a4434f1b?s=128&d=identicon&r=PG", "display_name": "user1887915", "link": "https://stackoverflow.com/users/1887915/user1887915"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465455820, "post_id": 37712695, "comment_id": 62910516, "body": "@T.C. and Chris Beck Thanks."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1465456553, "post_id": 37712695, "comment_id": 62910908, "body": "I&#39;m fairly sure that given two integer types <code>T1</code> and <code>T2</code> with the same size but with conversion rank lower than <code>int</code>, it is impossible to determine which one has greater rank using the usual TMP techniques without hard-coding them. So if you want 100% portability you&#39;ll either have to do the hard-coding yourself or find someone to do it for you :)"}], "answers": [{"tags": [], "owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "is_accepted": false, "score": 0, "last_activity_date": 1469551798, "creation_date": 1469551798, "answer_id": 38595685, "question_id": 37712695, "link": "https://stackoverflow.com/questions/37712695/c-determine-the-integral-conversion-rank-of-a-given-integral-type-at-compile/38595685#38595685", "title": "C++: Determine the integral conversion rank of a given integral type at compile time?", "body": "<p>I open-sourced <a href=\"https://github.com/cbeck88/safe-variant\" rel=\"nofollow\">the component</a> that I ended up using for this.</p>\n\n<p>The code that I used to make ranks is like this (see <a href=\"https://github.com/cbeck88/safe-variant/blob/master/include/safe_variant/conversion_rank.hpp\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>enum class numeric_class : char { integer, character, wide_char, boolean, floating };\n\ntemplate &lt;typename T, typename ENABLE = void&gt;\nstruct classify_numeric;\n\ntemplate &lt;typename T&gt;\nstruct classify_numeric&lt;T, typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt; {\n  static constexpr numeric_class value = numeric_class::integer;\n};\n\n#define CLASSIFY(T, C)                                                                             \\\n  template &lt;&gt;                                                                                      \\\n  struct classify_numeric&lt;T, void&gt; {                                                               \\\n    static constexpr numeric_class value = numeric_class::C;                                       \\\n  }\n\nCLASSIFY(char, character);\nCLASSIFY(signed char, character);\nCLASSIFY(unsigned char, character);\nCLASSIFY(char16_t, character);\nCLASSIFY(char32_t, character);\nCLASSIFY(wchar_t, wide_char);\nCLASSIFY(bool, boolean);\nCLASSIFY(float, floating);\nCLASSIFY(double, floating);\nCLASSIFY(long double, floating);\n\n#undef CLASSIFY\n\ntemplate &lt;typename T&gt;\nstruct rank_numeric;\n\n#define RANK(T, V)                                                                                 \\\n  template &lt;&gt;                                                                                      \\\n  struct rank_numeric&lt;T&gt; {                                                                         \\\n    static constexpr int value = V;                                                                \\\n  }\n\n#define URANK(T, V)                                                                                \\\n  RANK(T, V);                                                                                      \\\n  RANK(unsigned T, V)\n\nRANK(bool, 0);\n\nRANK(signed char, -1);\nURANK(char, 0);\nRANK(char16_t, 1);\nRANK(char32_t, 2);\n\nURANK(short, 1);\nURANK(int, 2);\nURANK(long, 3);\nURANK(long long, 4);\n\nRANK(float, 0);\nRANK(double, 1);\nRANK(long double, 2);\n\n#undef RANK\n</code></pre>\n"}], "owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1469551798, "creation_date": 1465419135, "last_edit_date": 1465419481, "question_id": 37712695, "link": "https://stackoverflow.com/questions/37712695/c-determine-the-integral-conversion-rank-of-a-given-integral-type-at-compile", "title": "C++: Determine the integral conversion rank of a given integral type at compile time?", "body": "<p>In a project that I am working on, I have a data structure that can store numbers of various types and needs to make guarantees about not accidentally losing precision / information.</p>\n\n<p>Because standard C++ allows some lossy conversions to occur implicitly, I made a type trait that I use to determine what conversions I will allow and forbid the ones that I don't like using SFINAE.</p>\n\n<p>I realized there is a subtle issue in how I am doing this though.</p>\n\n<p>Here's a code excerpt:</p>\n\n<pre><code>// If it is between two floating point types, no truncation is allowed.\ntemplate &lt;typename A, typename B&gt;\nstruct safe_numeric&lt;A,\n                    B,\n                    typename std::enable_if&lt;(std::is_floating_point&lt;A&gt;::value &amp;&amp;\n                                             std::is_floating_point&lt;B&gt;::value)&gt;::type&gt; {\n  static constexpr bool value = sizeof(A) &gt;= sizeof(B);\n};\n</code></pre>\n\n<p>The intention is that, <code>float</code> can be promoted to <code>double</code> or <code>long double</code>, and <code>double</code> can be promoted to long double, but it can't get smaller.</p>\n\n<p>However, using <code>sizeof</code> here is bad because on a machine where <code>sizeof(double) == sizeof(float)</code>, it would be legal to convert <code>double</code> to <code>float</code> according to this template. This will make my program non-portable -- a developer may write code that compiles and work great on their machine, and as a point of fact, not be losing precision. But on some other machine, it may just fail to compile and complain about unsafe conversions, potentially.</p>\n\n<p>What I really want is to obtain the <code>conversion rank</code> as described by the standard in <code>[4.13] [conv.rank]</code>, for instance. I would like to do this for both floating point and integral types.</p>\n\n<p>For instance I could just roll my own:</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct conversion_rank;\n\ntemplate &lt;&gt;\nstruct conversion_rank&lt;float&gt; {\n  static constexpr std::size_t value = 0;\n};\n\ntemplate &lt;&gt;\nstruct conversion_rank&lt;double&gt; {\n  static constexpr std::size_t value = 1;\n};\n\ntemplate &lt;&gt;\nstruct conversion_rank&lt;long double&gt; {\n  static constexpr std::size_t value = 2;\n};\n</code></pre>\n\n<p>And use that metafunction instead of <code>sizeof</code>.</p>\n\n<p>If I want to do this for integral types... there are many more of them.</p>\n\n<p>Also there is the issue that the integral types are not required to exist, so I might want to try to detect that scenario so that the <code>conversion_rank</code> template will compile.</p>\n\n<p>Is there a better / standard way to approach this? I didn't find a \"conversion_rank\" metafunction in the standard library, and I guess the standard doesn't actually give numeric values, it just specifies \"higher\" and \"lower\". But maybe there is something in <code>boost</code> / some other strategy that is less laborious and doesn't rely on <code>sizeof</code>?</p>\n"}, {"tags": ["c++", "c++11", "variadic-templates", "compile-time", "crtp"], "answers": [{"comments": [{"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 1, "creation_date": 1465419439, "post_id": 37712739, "comment_id": 62899217, "body": "Also note that <code>Base&lt;Value&gt;</code> is not <code>Value</code>, it does not contain the field <code>i</code> (this problem is called &quot;object slicing&quot;)."}], "tags": [], "owner": {"reputation": 32089, "user_id": 266198, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7x8PT.jpg?s=128&g=1", "display_name": "Nim", "link": "https://stackoverflow.com/users/266198/nim"}, "is_accepted": false, "score": 1, "last_activity_date": 1465419291, "creation_date": 1465419291, "answer_id": 37712739, "question_id": 37712684, "link": "https://stackoverflow.com/questions/37712684/curiously-recurring-template-pattern-with-variadic-templates-c/37712739#37712739", "title": "Curiously recurring template pattern with variadic templates (C++)", "body": "<p>You are passing the second/third instances <em>by value</em> - consider how the copies are constructed.</p>\n"}, {"comments": [{"owner": {"reputation": 76, "user_id": 4605602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c76038de00be755ea409fc7d7031b1e6?s=128&d=identicon&r=PG&f=1", "display_name": "madmann91", "link": "https://stackoverflow.com/users/4605602/madmann91"}, "edited": false, "score": 0, "creation_date": 1465420013, "post_id": 37712781, "comment_id": 62899483, "body": "Thank you. I missed the fact that the reference <code>b</code> was actually passed as a <i>copy</i> for the variadic part."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": true, "score": 3, "last_activity_date": 1465419423, "creation_date": 1465419423, "answer_id": 37712781, "question_id": 37712684, "link": "https://stackoverflow.com/questions/37712684/curiously-recurring-template-pattern-with-variadic-templates-c/37712781#37712781", "title": "Curiously recurring template pattern with variadic templates (C++)", "body": "<p>Pass by reference:</p>\n\n<pre><code>void do_variadic_thing(const Base&lt;Derived&gt;&amp; b, const Args&amp;... args)\n                                                         ^\n                                                         here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419445, "creation_date": 1465419445, "answer_id": 37712790, "question_id": 37712684, "link": "https://stackoverflow.com/questions/37712684/curiously-recurring-template-pattern-with-variadic-templates-c/37712790#37712790", "title": "Curiously recurring template pattern with variadic templates (C++)", "body": "<p>The type of the variable <code>b</code> is <code>Base&lt;Value&gt; const&amp;</code>, but the object it refers to is of type <code>Value</code>. When you copy <code>b</code> to replicate it inside <code>do_thing</code>, you are <em>slicing</em> it; that is, only copying the <code>Base&lt;Value&gt;</code> part.</p>\n"}], "owner": {"reputation": 76, "user_id": 4605602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c76038de00be755ea409fc7d7031b1e6?s=128&d=identicon&r=PG&f=1", "display_name": "madmann91", "link": "https://stackoverflow.com/users/4605602/madmann91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 37712781, "answer_count": 3, "score": 0, "last_activity_date": 1465419445, "creation_date": 1465419097, "question_id": 37712684, "link": "https://stackoverflow.com/questions/37712684/curiously-recurring-template-pattern-with-variadic-templates-c", "title": "Curiously recurring template pattern with variadic templates (C++)", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename Derived&gt;\nstruct Base {\n    void print() const { static_cast&lt;const Derived*&gt;(this)-&gt;print(); }  \n};\n\nstruct Value : public Base&lt;Value&gt; {\n    int i;\n    void print() const { std::cout &lt;&lt; \"Value: \" &lt;&lt; i &lt;&lt; std::endl; }\n    Value(int j) : i(j) {}\n};\n\nvoid do_variadic_thing() {}\n\ntemplate &lt;typename Derived, typename... Args&gt;\nvoid do_variadic_thing(const Base&lt;Derived&gt;&amp; b, Args... args) {\n    std::cout &lt;&lt; \"Inside do_variadic_thing\" &lt;&lt; std::endl;\n    b.print();\n    do_variadic_thing(args...);\n}\n\ntemplate &lt;typename Derived&gt;\nvoid do_thing(const Base&lt;Derived&gt;&amp; b) {\n    std::cout &lt;&lt; \"Inside do_thing\" &lt;&lt; std::endl;\n    b.print();\n    do_variadic_thing(b, b, b);\n}\n\nint main(int argc, char** argv) {\n    do_thing(Value(1));\n}\n</code></pre>\n\n<p>This code uses the Curiously Recurring Template Pattern define a compile-time polymorphic class with a method called <code>print</code>.</p>\n\n<p>What I want to do is to run the <code>print</code> method from a function with a variable number of arguments (<code>do_variadic_thing</code>). The code provided above compiles, but produces a strange output:</p>\n\n<pre><code>Inside do_thing\nValue: 1\nInside do_variadic_thing\nValue: 1\nInside do_variadic_thing\nValue: 4206337\nInside do_variadic_thing\nValue: 4206337\n</code></pre>\n\n<p>I do not understand why the value printed changes after the second recursive call within <code>do_variadic_thing</code>. The argument <code>b</code> is replicated 3 times; its type is also the same (i.e <code>Base&lt;Value&gt;</code>). It seems that somehow, after the second call, the arguments no longer refer to some valid memory.</p>\n\n<p>How is this possible?</p>\n"}, {"tags": ["c++", "ceres-solver"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1465419366, "post_id": 37712613, "comment_id": 62899178, "body": "What part don&#39;t you understand?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1465419443, "post_id": 37712613, "comment_id": 62899219, "body": "This may help: <a href=\"http://stackoverflow.com/questions/356950/c-functors-and-their-uses\" title=\"c functors and their uses\">stackoverflow.com/questions/356950/c-functors-and-their-uses</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465419917, "post_id": 37712613, "comment_id": 62899428, "body": "Extending on @NathanOliver &#39;s comments, here&#39;s a piece on templated functions that happily uses a functor as an example: <a href=\"http://en.cppreference.com/w/cpp/language/member_template\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/member_template</a>"}], "owner": {"reputation": 1522, "user_id": 5759234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rb4Ai.jpg?s=128&g=1", "display_name": "haxtar", "link": "https://stackoverflow.com/users/5759234/haxtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465418811, "creation_date": 1465418811, "question_id": 37712613, "link": "https://stackoverflow.com/questions/37712613/ceres-solver-simple-program-c", "title": "ceres-solver, simple program, c++", "body": "<p>I am getting used to using Google's Ceres-Solver,\nbut I can't understand this C++ syntax (even with the description).</p>\n\n<p>What exactly is going on here? :</p>\n\n<pre><code> template &lt;typename T&gt;\n bool operator()(const T* const x, T* residual) const {\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kBPsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBPsV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "segmentation-fault", "mpi"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465418119, "post_id": 37712261, "comment_id": 62898546, "body": "You might add the commands you used to compile and run...."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1465420786, "post_id": 37712261, "comment_id": 62899814, "body": "Here, under linux and gcc, it is failing on the first invocation of <code>rand_list.insert(it,r);</code>"}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1465474134, "post_id": 37712261, "comment_id": 62922298, "body": "Why can&#39;t you use <code>gdb</code> to examine the core dump?"}], "answers": [{"tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": true, "score": 0, "last_activity_date": 1465420137, "last_edit_date": 1465420137, "creation_date": 1465419420, "answer_id": 37712779, "question_id": 37712261, "link": "https://stackoverflow.com/questions/37712261/c-mpi-code-seg-fault-11-when-run/37712779#37712779", "title": "C++ MPI code Seg Fault 11 when run", "body": "<p>\nYour problem is is located at these lines of code:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>list&lt;int&gt;::iterator it;\nfor(int i = 0; i &lt; 5; ++i)\n{\n    int r;\n    r = rand();\n    rand_list.insert (it,r);\n    it++;\n }\n</code></pre>\n\n<p>There are two problems:</p>\n\n<ul>\n<li><p>You declared the iterator, but you never assigned a valid value to it, so it is pointing to anywhere. The iterator must, however, point to a valid location within list. Both <code>rand_list.begin()</code> and <code>rand_list.end()</code> are legal, so you need:</p>\n\n<p><code>list&lt;int&gt;::iterator it = rand_list.end();</code></p></li>\n<li><p>Then the first parameter is the position you insert your element. The new element is inserted <em>before</em> the location the iterator points to. So no matter if you initially chose begin() or end() as iterator (they are the same for the empty list anyway), by incrementing it, you increment it beyond the list's end, which is undefined behaviour. Simply insert always at the end:</p>\n\n<p><code>rand_list.insert (rand_list.end(), r);</code></p></li>\n</ul>\n\n<p>But why don't you simply use <code>push_back</code> (or <code>push_front</code>, if you prefer)?</p>\n"}], "owner": {"reputation": 1273, "user_id": 2759261, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2ddd90c942bf24bd4714c00b07702813?s=128&d=identicon&r=PG&f=1", "display_name": "user2743", "link": "https://stackoverflow.com/users/2759261/user2743"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 37712779, "answer_count": 1, "score": 0, "last_activity_date": 1465420137, "creation_date": 1465417589, "question_id": 37712261, "link": "https://stackoverflow.com/questions/37712261/c-mpi-code-seg-fault-11-when-run", "title": "C++ MPI code Seg Fault 11 when run", "body": "<p>I'm trying to create something of server using MPI and I can get it to compile but when I run it it seg faults right away.  I've tried to add print statements to see where it crashes but that's not helping.  I'm new to using MPI and I can't find where the issue is.  I'm using a Mac and I'm trying to figure out llvm because I can't use GDB to check the core dump so any help in the meantime is greatly appreciated.</p>\n\n<pre><code>#include \"mpi.h\" \n#include &lt;iostream&gt;\n#include &lt;list&gt;\nusing namespace std;\n\nvoid error(const char *msg)\n{\n    perror(msg);\n    exit(1);\n}\n\nint main( int argc, char **argv ) \n{ \n    int MAX_DATA = 255;\n    MPI_Comm client; \n    MPI_Status status; \n    char port_name[MPI_MAX_PORT_NAME]; \n    int size, again; \n    double buf[MAX_DATA];\n    cout &lt;&lt; \"Did we get here? [1]\"; \n    MPI_Init(NULL, NULL);\n    MPI_Comm_size(MPI_COMM_WORLD, &amp;size); \n    cout &lt;&lt; \"Did we get here before it pukes\";\n    if (size != 1) error(\"ERROR\");\n\n    // Create the random list\n    list&lt;int&gt; rand_list;\n    list&lt;int&gt;::iterator it;\n    for(int i = 0; i &lt; 5; ++i)\n    {\n        int r;\n        r = rand();\n        rand_list.insert (it,r);\n        it++;\n     }\n\n     cout &lt;&lt; \"mylist contains:\";\n     for (it=rand_list.begin(); it!=rand_list.end(); ++it)\n    {\n        cout &lt;&lt; ' ' &lt;&lt; *it;\n        cout &lt;&lt; '\\n';\n    }\n\n    MPI_Open_port(MPI_INFO_NULL, port_name); \n    printf(\"server available at %s\\n\",port_name); \n    while (1) { \n        MPI_Comm_accept( port_name, MPI_INFO_NULL, 0, MPI_COMM_WORLD, &amp;client); \n    again = 1; \n    while (again) { \n        MPI_Recv( buf, MAX_DATA, MPI_DOUBLE,  \n                  MPI_ANY_SOURCE, MPI_ANY_TAG, client, &amp;status ); \n        switch (status.MPI_TAG) { \n            case 0: MPI_Comm_free( &amp;client ); \n                    MPI_Close_port(port_name); \n                    MPI_Finalize(); \n                    return 0; \n            case 1: MPI_Comm_disconnect( &amp;client ); \n                    again = 0; \n                    break; \n            case 2: /* do something */ \n                cout &lt;&lt; \"Why did we get here?\"; \n            default: \n                    /* Unexpected message type */ \n                    MPI_Abort( MPI_COMM_WORLD, 1 ); \n            } \n        } \n        } \n }\n\n[asdfa:04443] *** Process received signal ***\n[asdfa:04443] Signal: Segmentation fault: 11 (11)\n[asdfa:04443] Signal code: Address not mapped (1)\n[asdfa:04443] Failing at address: 0x0\n[asdfa:04443] [ 0] 0   libsystem_platform.dylib            0x00007fff8ed1452a _sigtramp + 26\n[asdfa:04443] [ 1] 0   ???                                 0x0000000000000001 0x0 + 1\n[asdfa:04443] [ 2] 0   server.o                            0x000000010a40eba2 main + 834\n[asdfa:04443] [ 3] 0   libdyld.dylib                       0x00007fff9cb245ad start + 1\n[asdfa:04443] *** End of error message ***\nSegmentation fault: 11 (core dumped)\n</code></pre>\n"}, {"tags": ["c++", "iwebbrowser2"], "owner": {"reputation": 21, "user_id": 3212163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24163fedf5aedc888688426d2bca710?s=128&d=identicon&r=PG&f=1", "display_name": "Mrdobe", "link": "https://stackoverflow.com/users/3212163/mrdobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465416853, "creation_date": 1465416853, "question_id": 37712069, "link": "https://stackoverflow.com/questions/37712069/iwebbrowser-paint-to-hdc-iviewobject-draw", "title": "IWebBrowser Paint to HDC IViewObject Draw", "body": "<p>How do I make this method work?  IViewObject::Draw returns S_OK but there's no way to paint it on the HDC all I get is a black page.</p>\n\n<p>My code snippet</p>\n\n<pre><code>IEInit();\n//visit the giving url of the image\nBSTR bstrURL = SysAllocString(L\"example.com\");\nhr = pBrowser2-&gt;Navigate(bstrURL, &amp;vEmpty, &amp;vEmpty, &amp;vEmpty, &amp;vEmpty);\nSysFreeString(bstrURL);\n//wait till browser has finish loading\nPauseTillBrowserFinished();\n\nDelay(2000);\nHRESULT          hr    = E_FAIL;\nIDispatch*       pDisp = NULL;\nIHTMLDocument2*  pDoc  = NULL;\n\npBrowser2-&gt;get_Document(&amp;pDisp);\nif(pDisp!=NULL){\n    if(SUCCEEDED(hr = pDisp-&gt;QueryInterface(IID_IHTMLDocument2,(void**)&amp;pDoc)))\n    {\n        IHTMLElement* pElem=NULL;\n        if(SUCCEEDED(pDoc-&gt;get_body(&amp;pElem))){\n            IHTMLBodyElement* pBody;\n            if(pElem-&gt;QueryInterface(IID_IHTMLBodyElement, (void**)&amp;pBody)==S_OK){\n                IViewObject *pRender = NULL;\n                pDoc-&gt;QueryInterface(IID_IViewObject, (void **) &amp;pRender);\n                if(pRender!=NULL){\n                    RECT Client_Rect;\n                    GetClientRect(hWnd,&amp;Client_Rect);\n                    int win_width = Client_Rect.right - Client_Rect.left;\n                    int win_height = Client_Rect.bottom - Client_Rect.top;\n                    HDC Memhdc;\n                    HDC hdc;\n                    HBITMAP Membitmap;\n                    hdc=GetDC(hWnd);\n                    Memhdc = CreateCompatibleDC(hdc);\n                    Membitmap = CreateCompatibleBitmap(hdc, win_width,     win_height);\n                    SelectObject(Memhdc, Membitmap);\n\n                    DrawText(hdc,L\"Hello World\",11,&amp;Client_Rect,DT_BOTTOM);\n                    //drawing code goes in here\n                    RECTL ClientRect;\n                    ClientRect.left=0;ClientRect.top=0;\n                    pBrowser2-&gt;get_Width(&amp;ClientRect.right);\n                    pBrowser2-&gt;get_Height(&amp;ClientRect.bottom);\n\n                    if(pRender-&gt;Draw(DVASPECT_CONTENT, 1, NULL, NULL, \n                        hdc,Memhdc, &amp;ClientRect, NULL, NULL, 0)==S_OK){\n                            BitBlt(hdc, 0, 0, win_width, win_height,     Memhdc,0, 0, SRCCOPY);\n                    }\n                    DeleteObject(Membitmap);\n                    DeleteDC    (Memhdc);\n                    ReleaseDC(hWnd,hdc);\n                    MessageBox(NULL,L\"\",L\"\",NULL);\n                    pRender-&gt;Release();\n                }\n                pBody-&gt;Release();\n            }\n            pElem-&gt;Release();\n        }\n    }\n    pDisp-&gt;Release();\n}\n</code></pre>\n\n<p>How do I paint the webbrowser content to the ContextDC???Someone please help</p>\n"}, {"tags": ["c++", "oop", "memory-management", "linked-list"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 4, "creation_date": 1465416481, "post_id": 37711912, "comment_id": 62897653, "body": "<code>delete *&amp;thisDog;</code> - that alone should be an indicator something has possibly run afoul, as <code>delete thisDog;</code> should be sufficient. And was your intention to put <code>thisDog</code> somewhere in the list, because that isn&#39;t happening in your posted code."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1465416659, "post_id": 37711912, "comment_id": 62897768, "body": "Update your <i>question</i> with relevant content please."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6431828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15233064cd807e0fce2b5a8a71197786?s=128&d=identicon&r=PG&f=1", "display_name": "J. Medina", "link": "https://stackoverflow.com/users/6431828/j-medina"}, "edited": false, "score": 0, "creation_date": 1465417335, "post_id": 37712025, "comment_id": 62898150, "body": "Thank you very much, this is exactly what i was looking for. And I was originally trying to not allocate anything but this program was more of a practice with memory allocation, memory leaks for myself."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1465417056, "last_edit_date": 1465417056, "creation_date": 1465416654, "answer_id": 37712025, "question_id": 37711912, "link": "https://stackoverflow.com/questions/37711912/how-do-i-deallocate-memory-for-allocated-class-from-node-on-linked-list/37712025#37712025", "title": "How do I deallocate memory for allocated class from node on Linked List", "body": "<p>You need to explicitly <code>delete</code> anything you allocate with <code>new</code> (unless you use a smart pointer wrapper, like <code>std::unique_ptr</code> or <code>std::shared_ptr</code>).  You need to <code>delete</code> the <code>node</code>, and you need to <code>delete</code> the <code>Dog</code>:</p>\n\n<pre><code>node *temp = new node;\n...\ndelete temp;\n</code></pre>\n\n<p></p>\n\n<pre><code>Dog *thisDog = new Dog(age, name);\n...\ndelete thisDog;\n</code></pre>\n\n<p>If <code>node</code> is meant to own the <code>Dog</code> object, then you can add a destructor to <code>node</code> to perform that <code>delete</code>:</p>\n\n<pre><code>struct node\n{\n    Dog *thisDog;\n    node *next;\n\n    node() : thisDog(NULL), next(NULL) {}\n    ~node() { delete thisDog; }\n};\n</code></pre>\n\n<p></p>\n\n<pre><code>node *temp = new node;\nnode-&gt;thisDog = new Dog(age, name);\n\n...\n\ndelete node; // calls 'delete thisDog'...\n</code></pre>\n\n<p>Or, you could simply not use <code>new</code> at all to allocate the <code>Dog</code>:</p>\n\n<pre><code>struct node\n{\n    Dog thisDog;\n    node *next;\n\n    node(int age, string name) : thisDog(age, name), next(NULL) {}\n};\n</code></pre>\n\n<p></p>\n\n<pre><code>node *temp = new node(age, name);\n\n...\n\ndelete node; // frees 'thisDog' automatically...\n</code></pre>\n\n<p>And then when you have that all figured out, get rid of your manual linked-list implementation and use <a href=\"http://en.cppreference.com/w/cpp/container/list\" rel=\"nofollow\"><code>std::list</code></a> instead, let it manage the nodes for you:</p>\n\n<pre><code>#include &lt;list&gt;\n\nstd::list&lt;Dog&gt; mylist;\n</code></pre>\n\n<p></p>\n\n<pre><code>Dog thisDog(age, name);\nmylist.push_back(thisDog);\n</code></pre>\n\n<p></p>\n\n<pre><code>Dog thisDog(age, name);\nmylist.push_front(thisDog);\n</code></pre>\n\n<p></p>\n\n<pre><code>mylist.pop_back();\n</code></pre>\n\n<p></p>\n\n<pre><code>mylist.pop_front();\n</code></pre>\n\n<p></p>\n\n<pre><code>std::list&lt;Dog&gt;::iterator iter = ...; // any method that returns an iterator to a list element\nmylist.erase(iter);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6431828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15233064cd807e0fce2b5a8a71197786?s=128&d=identicon&r=PG&f=1", "display_name": "J. Medina", "link": "https://stackoverflow.com/users/6431828/j-medina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 37712025, "answer_count": 1, "score": -1, "last_activity_date": 1465417056, "creation_date": 1465416330, "last_edit_date": 1465416740, "question_id": 37711912, "link": "https://stackoverflow.com/questions/37711912/how-do-i-deallocate-memory-for-allocated-class-from-node-on-linked-list", "title": "How do I deallocate memory for allocated class from node on Linked List", "body": "<p>In my code I've made a list of nodes who carry pointers to dynamically allocated class objects and I can't seem to figure out how to make sure I free the memory upon deletion of a specific node.</p>\n\n<pre><code>//create temporary node\nnode *temp = new node;\n//create the pointer to the class\nDog *thisDog = new Dog(age, name);\n//set the next pointer to NULL (points to nothing)\ntemp-&gt;next = NULL;\n//set first value in list to temp\nhead = temp;\n//set last value to temp\nlast = temp;\n</code></pre>\n\n<p>Will the destructor within the class object take care of this for me when I delete the node? Or within my node deletion function should I include something such as the following: </p>\n\n<pre><code>//delete one element\ndelete *&amp;thisDog;\ndelete head;\n//set the head and last pointer to NULL, point to nothing\nhead = NULL;\nlast = NULL;\n</code></pre>\n\n<p>Here is my node structure:</p>\n\n<pre><code>struct node\n{\n    Dog *thisDog;\n    node *next;\n};\n</code></pre>\n"}, {"tags": ["c++", "xcode", "macos"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465418678, "post_id": 37711841, "comment_id": 62898835, "body": "I think you are missing the red bit in the following answer... <a href=\"http://stackoverflow.com/a/34341219/2836621\">stackoverflow.com/a/34341219/2836621</a>"}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465419785, "post_id": 37711841, "comment_id": 62899370, "body": "I did put the path of the .h files and .dyld files in the locations mentioned, like i said.  About the linker - how would i know which libraries to put? (i didn&#39;t download it using homebrew) If i&#39;m using only one, should i just put it? and is there a need to put &#39;l&#39; before its name? either way it still doesn&#39;t work.. :/"}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465420012, "post_id": 37711841, "comment_id": 62899481, "body": "What is the library you downloaded, and what <code>.dyld</code> files are in there? That&#39;s what you need to add, I think."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465420121, "post_id": 37711841, "comment_id": 62899530, "body": "It&#39;s The Foundry&#39;s Nuke NDK (Nuke Development Kit) and it has about 30 libraries.."}, {"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465420667, "post_id": 37711841, "comment_id": 62899751, "body": "Maybe this helps... <a href=\"http://tomjbward.co.uk/nuke-example-xcode-project/\" rel=\"nofollow noreferrer\">tomjbward.co.uk/nuke-example-xcode-project</a>"}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "reply_to_user": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1465420769, "post_id": 37711841, "comment_id": 62899807, "body": "yeah thanks i&#39;ve seen that but it didn&#39;t help either.."}], "owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 674, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572514595, "creation_date": 1465416058, "last_edit_date": 1572514595, "question_id": 37711841, "link": "https://stackoverflow.com/questions/37711841/dyld-library-not-loadedreason-image-not-found", "title": "dyld: Library not loaded:Reason: image not found", "body": "<p>I created a new project and i'm using a dynamic library that I downloaded.\nI set the header search path to the Include directory where all of the .h files are, and the Library Search Path to where the .dylib files are but i'm still getting the error:</p>\n\n<blockquote>\n  <p>dyld: Library not loaded:Reason: image not found</p>\n</blockquote>\n"}, {"tags": ["python", "c++", "dll"], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 908456, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0840e1f0329ea6fdb2c50cb713eb1ba?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/908456/damian"}, "is_accepted": true, "score": 0, "last_activity_date": 1465502578, "creation_date": 1465502578, "answer_id": 37735177, "question_id": 37711813, "link": "https://stackoverflow.com/questions/37711813/running-python-demo-script-with-dll-pyd-dependencies/37735177#37735177", "title": "Running python demo script with dll/pyd dependencies", "body": "<p>In the end, I'm settling for adding the bin folder to the python path programmatically with </p>\n\n<pre><code>import os, sys\nmoduleDir = os.path.dirname(os.getcwd()) + os.sep + \"bin\"\nsys.path.insert(0, moduleDir)\n</code></pre>\n\n<p>It solves my issue in the short term although it doesn't look nice. </p>\n"}], "owner": {"reputation": 199, "user_id": 908456, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0840e1f0329ea6fdb2c50cb713eb1ba?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/908456/damian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 1, "accepted_answer_id": 37735177, "answer_count": 1, "score": 0, "last_activity_date": 1465502578, "creation_date": 1465415943, "question_id": 37711813, "link": "https://stackoverflow.com/questions/37711813/running-python-demo-script-with-dll-pyd-dependencies", "title": "Running python demo script with dll/pyd dependencies", "body": "<p>I'm writing some python code that depends on a c++ library (I'm using Boost.Python). I use cmake to build and put the library dll and pyd files into bin. My folder structure looks a bit like this:</p>\n\n<pre><code>Project\n|-- bin: folder where test executables, dll, and pyd files get put after build\n|-- cpp: all cpp/h files to build the dll\n|-- python: the cpp files with the boost.python interface as well as python code that depends on it (and the dlls)\n|-- test: cpp code with tests\n</code></pre>\n\n<p>To run my python files, I need the dll and pyd files in the same directory as the python script. Currently, I have cmake copy the .py files in python into bin for me to run and test. However, I really don't like this as it is ugly adn cumbersome. I read that I could add my bin folder to the PYTHONPATH and PATH variables to solve this, but this would make my python code a little ugly I think. </p>\n\n<p>I am a novice at Python; therefore, I was wondering if there are better ways to handle this issue. Ideally, I'd like to run my python scripts/module from the python folder so I can debug from an environment like PyCharm or Visual Studio.</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 3, "creation_date": 1465415611, "post_id": 37711645, "comment_id": 62897148, "body": "Fast fix: Do not apply &quot;using namespace std;&quot;"}, {"owner": {"reputation": 171, "user_id": 6421091, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e9b55e3b5ae2afb24477fd75fc12fca?s=128&d=identicon&r=PG&f=1", "display_name": "I_love_coding_93", "link": "https://stackoverflow.com/users/6421091/i-love-coding-93"}, "edited": false, "score": 0, "creation_date": 1465415820, "post_id": 37711645, "comment_id": 62897268, "body": "@DieterL&#252;cking that doesn&#39;t make a difference in the problem that I&#39;m dealing with though I guess it would make it run faster"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1465416063, "post_id": 37711645, "comment_id": 62897415, "body": "Groan. Kindly refer to my avatar"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 3, "creation_date": 1465416090, "post_id": 37711645, "comment_id": 62897432, "body": "@I_love_coding_93 How would not doing <code>using namespace std;</code> <i>make it run faster</i> ???"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465416148, "post_id": 37711645, "comment_id": 62897471, "body": "Please don&#39;t rename the <code>vector</code>.  Use a different name, like &#39;vector_of_floats`.  This may make your issues go away."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465416299, "post_id": 37711645, "comment_id": 62897559, "body": "You have at least 36^32 possible characters to use for identifier names.  Please don&#39;t name your variables the same as types (case insensitive).  If you want a synonym, try using <code>typedef</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1465416491, "post_id": 37711645, "comment_id": 62897662, "body": "@I_love_coding_93 - I&#39;d be willing to bet that Dieter&#39;s suggestion to get rid of <code>using namespace std;</code> would fix this problem; after you do that, the name of the argument type is <code>std::vector&lt;float&gt;</code>, and an argument named <code>vector</code> son&#39;t interfere."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 2, "creation_date": 1465416585, "post_id": 37711645, "comment_id": 62897723, "body": "And since running code reaches completion sooner than non-running code, it follows that removing <code>using namespace std</code> indeed makes the code run faster. Q.E.D."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465416660, "post_id": 37711645, "comment_id": 62897769, "body": "Wow. And here I had my money on Pixies. Pixies can run the hamster wheel in the CPU at a higher clockrate than the usual goblins."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465416079, "post_id": 37711689, "comment_id": 62897424, "body": "It is interesting that the language does this since you cannot use the parameters for anything else in the parameter list"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465416420, "post_id": 37711689, "comment_id": 62897619, "body": "@NathanOliver Yes and no, it&#39;s consistent with the rest of the language (e.g. <code>int x = x;</code> this doesnt make sense but after <code>int x</code>, the <code>x</code> symbol is introduced as being an int variable, which is essentially what happens here)."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1465416478, "post_id": 37711689, "comment_id": 62897650, "body": "@Borgleader True.  I guess it is better to to add exceptions to the rules."}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 7, "last_activity_date": 1465415521, "creation_date": 1465415521, "answer_id": 37711689, "question_id": 37711645, "link": "https://stackoverflow.com/questions/37711645/why-do-i-need-a-type-for-my-vector-in-my-function-parameter-c/37711689#37711689", "title": "Why do I need a type for my vector in my function parameter c++", "body": "<p>Look carefully at the argument list for <code>AutoCorrelation</code>. After <code>const vector&lt;float&gt;&amp; vector</code>, the name <code>vector</code> refers to an object.</p>\n"}], "owner": {"reputation": 171, "user_id": 6421091, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e9b55e3b5ae2afb24477fd75fc12fca?s=128&d=identicon&r=PG&f=1", "display_name": "I_love_coding_93", "link": "https://stackoverflow.com/users/6421091/i-love-coding-93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465415521, "creation_date": 1465415360, "question_id": 37711645, "link": "https://stackoverflow.com/questions/37711645/why-do-i-need-a-type-for-my-vector-in-my-function-parameter-c", "title": "Why do I need a type for my vector in my function parameter c++", "body": "<p>Hey guys when I compile my code I get several errors which I dont understand. One of the error tells me that vector is not a type but I had defined it as a float type which is showing as <code>const vector&lt;float&gt;&amp; vector</code> Another error tells me I cannot convert to an int but I don't see anywhere in the program where I have declared a type int for a variable or vector. Here are my errors and code:</p>\n\n<pre><code>prog.cpp:5:58: error: 'vector' is not a type\n static void AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut);\n                                                          ^\nprog.cpp:5:64: error: expected ',' or '...' before '&lt;' token\n static void AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut);\n                                                                ^\nprog.cpp: In function 'int main()':\nprog.cpp:16:38: error: cannot convert 'std::vector&lt;float&gt;' to 'int' for argument '2' to 'void AutoCorrelation(const std::vector&lt;float&gt;&amp;, int)'\n  AutoCorrelation(vec1,vec2,factor_out);\n                                      ^\nprog.cpp: At global scope:\nprog.cpp:20:51: error: 'vector' is not a type\n void AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut)\n                                                   ^\nprog.cpp:20:57: error: expected ',' or '...' before '&lt;' token\n void AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut)\n\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nstatic void AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut);\n    int main() {\n\n    vector&lt;float&gt; vec1,vec2;\n    float factor_out=10.02f;\n    float a,b,c=1.00f;\n\n    vec1.push_back(a);\n    vec1.push_back(b);\n    vec2.push_back(c);\n    AutoCorrelation(vec1,vec2,factor_out);\n    return 0;\n}\n\nvoid AutoCorrelation(const vector&lt;float&gt;&amp; vector, vector&lt;float&gt;&amp; autoCorrelationOut, float&amp; autoCorrelationFactorOut)\n{\n\n}\n</code></pre>\n"}, {"tags": ["c++", "class", "sorting", "qsort"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 14, "creation_date": 1465415463, "post_id": 37711636, "comment_id": 62897058, "body": "Use <a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\"><code>std::sort</code></a> instead"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1465415984, "post_id": 37711636, "comment_id": 62897366, "body": "As for why? <code>&amp;v.begin()</code> gets the address of the iterator, not the data the iterator references. <code>qsort</code> is looking in the wrong place."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1465416015, "post_id": 37711636, "comment_id": 62897384, "body": "<i>I want to order the vector by val using qsort</i> -- No, forget it.  Use <code>std::sort</code>.  And if this is a &quot;requirement for your assignment to use <code>qsort</code>&quot;, <a href=\"http://ideone.com/g8tiPK\" rel=\"nofollow noreferrer\">look here</a>.  That return value of 0 from <code>std::is_pod</code> shows that you cannot sort <code>sort_map</code> using qsort without invoking undefined behavior."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1465416103, "post_id": 37711636, "comment_id": 62897440, "body": "Assuming we just ignore the compilation errors, as everything in <code>sort_map</code> is private and <code>comp_int</code> isn&#39;t friended."}, {"owner": {"reputation": 1485, "user_id": 2229960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62652e679c426edd1a718d4dd9de6d66?s=128&d=identicon&r=PG", "display_name": "Eissa N.", "link": "https://stackoverflow.com/users/2229960/eissa-n"}, "edited": false, "score": 1, "creation_date": 1465416467, "post_id": 37711636, "comment_id": 62897641, "body": "why <code>return 1;</code> at the end?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465416553, "post_id": 37711636, "comment_id": 62897701, "body": "Your life would be easier if you defined <code>operator&lt;</code> inside your class.  Also define <code>operator==</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465416612, "post_id": 37711636, "comment_id": 62897740, "body": "BTW, your constructor <code>sort_map</code> is <code>private</code> by default, since you are using a <code>class</code>.  You may want to make it <code>public</code> by using <code>public:</code> or change to a <code>struct</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 1485, "user_id": 2229960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62652e679c426edd1a718d4dd9de6d66?s=128&d=identicon&r=PG", "display_name": "Eissa N.", "link": "https://stackoverflow.com/users/2229960/eissa-n"}, "edited": false, "score": 0, "creation_date": 1465416807, "post_id": 37711636, "comment_id": 62897855, "body": "@EissaN.:  The return of 1 indicates that <code>a &gt; b</code>.  This is the same ordering rules for <code>strcmp</code>.  Here are the results: 1) <code>a == b</code> return 0.  2) <code>a &lt; b</code> return less than 0.  3) <code>a &gt; b</code> return greater than zero."}, {"owner": {"reputation": 1485, "user_id": 2229960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62652e679c426edd1a718d4dd9de6d66?s=128&d=identicon&r=PG", "display_name": "Eissa N.", "link": "https://stackoverflow.com/users/2229960/eissa-n"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465417057, "post_id": 37711636, "comment_id": 62897985, "body": "@ThomasMatthews I meant the one at the end of the main()."}, {"owner": {"reputation": 1485, "user_id": 2229960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62652e679c426edd1a718d4dd9de6d66?s=128&d=identicon&r=PG", "display_name": "Eissa N.", "link": "https://stackoverflow.com/users/2229960/eissa-n"}, "edited": false, "score": 0, "creation_date": 1465417207, "post_id": 37711636, "comment_id": 62898083, "body": "@ssgakhal Do you wonder why <code>&amp;v[0]</code> works but not <code>&amp;v.begin()</code>?"}, {"owner": {"reputation": 1485, "user_id": 2229960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62652e679c426edd1a718d4dd9de6d66?s=128&d=identicon&r=PG", "display_name": "Eissa N.", "link": "https://stackoverflow.com/users/2229960/eissa-n"}, "edited": false, "score": 0, "creation_date": 1465417322, "post_id": 37711636, "comment_id": 62898144, "body": "@ssgakhal <code>v.begin()</code> returns a temporary iterator object and taking address of a temporary object is not meaningful. But, <code>v[0]</code> refers to the first element so <code>&amp;v[0]</code> refers to the address of the first element."}, {"owner": {"reputation": 300, "user_id": 3333284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19109ba3afbddbdee681f08b55b3ada2?s=128&d=identicon&r=PG&f=1", "display_name": "ssgakhal", "link": "https://stackoverflow.com/users/3333284/ssgakhal"}, "edited": false, "score": 0, "creation_date": 1465417998, "post_id": 37711636, "comment_id": 62898490, "body": "thanks its very usefull user4581301 and Eissa N."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465418699, "post_id": 37711636, "comment_id": 62898847, "body": "Why? It&#39;s a bad answer. It it works, it&#39;s only by dumb luck. Bad luck."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1465419382, "post_id": 37711636, "comment_id": 62899185, "body": "I don&#39;t know why there is even an answer attempted for this question when the final outcome using <code>qsort</code> is UB."}, {"owner": {"reputation": 300, "user_id": 3333284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19109ba3afbddbdee681f08b55b3ada2?s=128&d=identicon&r=PG&f=1", "display_name": "ssgakhal", "link": "https://stackoverflow.com/users/3333284/ssgakhal"}, "edited": false, "score": 0, "creation_date": 1465419603, "post_id": 37711636, "comment_id": 62899289, "body": "user4581301 You&#39;ve taken my doubt, its very useful your explanation"}], "answers": [{"tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": true, "score": -2, "last_activity_date": 1465447949, "last_edit_date": 1465447949, "creation_date": 1465417347, "answer_id": 37712194, "question_id": 37711636, "link": "https://stackoverflow.com/questions/37711636/c-sorting-class-vector/37712194#37712194", "title": "c++ sorting class vector", "body": "<p>Try doing this:</p>\n\n<pre><code>sort_map* ptr1 = &amp;v[0];\nsort_map* ptr2 = &amp;v.begin();\n</code></pre>\n\n<p>And you'll find which one gets compiled, and would find that these expressions are not equal. </p>\n\n<p>First statement would compile since the type of <code>v[0]</code> is <code>sort_map</code>, hence <code>&amp;a</code> applied on it would make it</p>\n\n<p><code>sort_map*</code></p>\n\n<p>Second statement's base type is <code>vector&lt;sort_map&gt;::iterator</code>, and its address would be </p>\n\n<p><code>iterator*</code> </p>\n\n<p>for this <code>vector</code> type. As you can see <code>iterator*</code> cannot be assigned to <code>sort_map*</code> - they are not similar.</p>\n\n<p><code>qsort</code> takes <code>void*</code> without enforcing any <strong>type-safety</strong> from the compiler. A <code>void*</code> can be passed any type of pointer without any typecast needed, hence it compiles well. You are passing a wrong thing to <code>qsort</code>. As others recommended, you better use <code>std::sort</code></p>\n"}], "owner": {"reputation": 300, "user_id": 3333284, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19109ba3afbddbdee681f08b55b3ada2?s=128&d=identicon&r=PG&f=1", "display_name": "ssgakhal", "link": "https://stackoverflow.com/users/3333284/ssgakhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 37712194, "answer_count": 1, "score": 1, "last_activity_date": 1465447949, "creation_date": 1465415331, "last_edit_date": 1465417123, "question_id": 37711636, "link": "https://stackoverflow.com/questions/37711636/c-sorting-class-vector", "title": "c++ sorting class vector", "body": "<p>I have a class <code>sort_map</code>:</p>\n\n<pre><code>class sort_map {\n    char key;\n    int val;\n    sort_map(int v, char k): key(k), val(v){}\n};\nusing namespace std; \nint comp_int(const void *a, const void *b) {\n    return (*(sort_map*)b).val - (*(sort_map*)a).val);\n} \nint main () {\n    vector &lt;sort_map&gt; v; \n    v.push_back(5, 'a');\n    v.push_back(67, 'd');\n    v.push_back(2, 'c');\n    v.push_back(98, 'f'); \n    return 1;\n}\n</code></pre>\n\n<p><strong>I want to order the vector by val using <code>qsort</code></strong>, and it is not working.</p>\n\n<pre><code>qsort(&amp;v.begin(), v.size(), sizeof(sort_map), comp_int);\n</code></pre>\n\n<p>But when I use this, it works</p>\n\n<pre><code>qsort(&amp;v[0], v.size(), sizeof(sort_map), comp_int);\n</code></pre>\n\n<p>Can somebody tell me why?</p>\n"}, {"tags": ["c++", "uuid", "endianness"], "comments": [{"owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1465415100, "post_id": 37711358, "comment_id": 62896849, "body": "see : <a href=\"http://www.scadacore.com/field-applications/programming-calculators/online-hex-converter/\" rel=\"nofollow noreferrer\">online hex convertion</a>"}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1465415184, "post_id": 37711358, "comment_id": 62896909, "body": "If you are on a little-endian system and receive the UUID as per RFC-4122 standard (big-endian representation) then yes you&#39;ll have to swap bytes on <code>time_low</code>, <code>time_mid</code>, and <code>time_high_and_version</code> in order to use them properly."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "reply_to_user": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 2, "creation_date": 1465415196, "post_id": 37711358, "comment_id": 62896919, "body": "@MohammadrezaPanahi you may want to specify how that conversion site possibly relates to the OP&#39;s specific (and well worded, I may add) question. A useful site, to be sure, but how does it help solve <i>this</i> problem ?"}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "edited": false, "score": 0, "creation_date": 1465415216, "post_id": 37711358, "comment_id": 62896931, "body": "@Mohammadreza I have seen this link. This does not help me."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1465415969, "post_id": 37711358, "comment_id": 62897353, "body": "Do you know the data is little endian, for a fact? Or is it machine native order? You may want to use <code>htonl</code> and <code>htons</code> instead of unconditional byte swapping, so you don&#39;t perform the swap on machines where it is already big endian."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465416161, "post_id": 37711358, "comment_id": 62897484, "body": "I know for a fact the data I have is little endian and it needs to be converted to big endian for the receiver."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465610493, "post_id": 37711358, "comment_id": 62987811, "body": "So, on the little endian system, you swap the bytes, then transmit the modified structure to the big endian receiver, where the UUID, when printed to text, appears not to match the original one&#39;s text? Are you just blasting the raw structure over the network? Might there be alignment issues? What is the value of <code>offsetof(struct UUID_FIELDS, member)</code> for each struct member, on both systems?"}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465610675, "post_id": 37711358, "comment_id": 62987836, "body": "@Kaz yes that is correct. I tried using the above functions to swap bytes on the fields above I talked about. It is possible I am not swapping the correct fields or maybe I am doing not correctly converting a uuid&#39;s endianess."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 1, "creation_date": 1465610768, "post_id": 37711358, "comment_id": 62987842, "body": "Make a UUID with contents like 0x01020304 ... and so on. Use a unique byte value for each byte of each 32, 16 and byte.   Then do the swap and send to the other side, and print all the values (or look at with a debugger, etc). That will reveal where the bytes are ending up: where the 0x01 ended up, the 0x02 and so on. Look at the original structure, locally swapped one and remotely received one."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465617400, "post_id": 37711358, "comment_id": 62988655, "body": "You only need to swap bytes in the uint32_t and uint16_ts. Please show your swap function."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465832056, "post_id": 37711358, "comment_id": 63053672, "body": "@kfsone I have added the swap32 and swap16 functions to the question. I am still struggling with this issue."}, {"owner": {"reputation": 907, "user_id": 5344725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe3363c7df76a6ddf2114b5b8793554?s=128&d=identicon&r=PG&f=1", "display_name": "Altainia", "link": "https://stackoverflow.com/users/5344725/altainia"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465836975, "post_id": 37711358, "comment_id": 63056502, "body": "The swapping code you have appears to do exactly what it&#39;s supposed to do. The link you provide, assuming it&#39;s the authority, does indicate only the first three fields need to have this operation done on them as you suggest. I would follow @Kaz&#39;s suggestion. I&#39;d also be curious to see what happens when you send a UUID without modifying via your swap functions."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465837208, "post_id": 37711358, "comment_id": 63056638, "body": "When I do not modify the uuid with my swap functions, it is all out of order. I currently doing what @kaz said."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465838757, "post_id": 37711358, "comment_id": 63057507, "body": "I have added my results from using my swap functions."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465849347, "post_id": 37711358, "comment_id": 63063034, "body": "@sebenalern While your swap functions looked ok, we don&#39;t know how you&#39;re using them to tell if perhaps you&#39;re giving it the wrong parameters. Please show your swap functions <i>and</i> an example of how you invoke them on a UUID"}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465849627, "post_id": 37711358, "comment_id": 63063161, "body": "I have solved the problem. Take a look at @kaz&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465415304, "post_id": 37711583, "comment_id": 62896979, "body": "I have not tried this. What does packet represent? Sorry I do not really follow this. Can you elaborate more?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465415430, "post_id": 37711583, "comment_id": 62897048, "body": "Packet represents your destination packet or buffer."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465417358, "post_id": 37711583, "comment_id": 62898160, "body": "Also I am still not sure if all bytes in the uuid must be swapped or only the bytes I specified above."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465417714, "post_id": 37711583, "comment_id": 62898341, "body": "The byte order of a UUID depends on the receiver or <i>the protocol</i>.  Hint:  search the internet for &quot;UUID protocol&quot;."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 3, "last_activity_date": 1465415678, "last_edit_date": 1465415678, "creation_date": 1465415124, "answer_id": 37711583, "question_id": 37711358, "link": "https://stackoverflow.com/questions/37711358/how-to-convert-uuid-to-big-endian/37711583#37711583", "title": "How to convert UUID to big endian?", "body": "<p>Have you tried accessing the individual bytes?  </p>\n\n<pre><code>uint8_t packet[4];\nuint32_t value;\npacket[0] = (value &gt;&gt; 24) &amp; 0xFF;\npacket[1] = (value &gt;&gt; 16) &amp; 0xFF;\npacket[2] = (value &gt;&gt;  8) &amp; 0xFF;\npacket[3] = value &amp; 0xFF;\n</code></pre>\n\n<p>Probably more efficient than calling a function. :-)</p>\n\n<p><em>Note:  the above method is platform independent.  Doesn't require any knowledge how the <code>value</code> is stored.</em></p>\n\n<p>Explanation:<br>\nLet <code>packet</code> be a buffer or memory destination for a <code>uint32_t</code> that needs to be stored into the buffer in Big Endian format (Most Significant Byte First).  </p>\n\n<p>The expression (<code>value &gt;&gt; 24</code>) shifts the most significant byte to the least significant (byte) position.  The expression \"&amp; 0xff\" truncates, chops off, any extraneous values, resulting in an unsigned 8-bit value.  The value is then stored in the Most Significant position in the buffer at the first location.  </p>\n\n<p>Likewise for the remaining bytes.  </p>\n"}, {"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1465868543, "post_id": 37759665, "comment_id": 63068863, "body": "This will only work if the host is little-endian. If it isn&#39;t, it will do nothing."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1465915156, "post_id": 37759665, "comment_id": 63094302, "body": "@EJP Yes you are right, here is a link that references this: <a href=\"https://beej.us/guide/bgnet/output/html/multipage/htonsman.html\" rel=\"nofollow noreferrer\">beej.us/guide/bgnet/output/html/multipage/htonsman.html</a>                    &quot;This means on Intel these functions swap all the bytes around, and on PowerPC they do nothing because the bytes are already in Network Byte Order.&quot;"}, {"owner": {"reputation": 4376, "user_id": 1351465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17845023034a9b3ad336f2883ed79149?s=128&d=identicon&r=PG", "display_name": "JuanR", "link": "https://stackoverflow.com/users/1351465/juanr"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1465927623, "post_id": 37759665, "comment_id": 63102564, "body": "@EJP That&#39;s how it is supposed to work. Swap bites if host byte order is little endian, do nothing if host byte order is big endian. Maybe you were referring to the other answer where the bytes are always swapped?"}], "tags": [], "owner": {"reputation": 4376, "user_id": 1351465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17845023034a9b3ad336f2883ed79149?s=128&d=identicon&r=PG", "display_name": "JuanR", "link": "https://stackoverflow.com/users/1351465/juanr"}, "is_accepted": false, "score": 0, "last_activity_date": 1465616600, "last_edit_date": 1465616600, "creation_date": 1465616298, "answer_id": 37759665, "question_id": 37711358, "link": "https://stackoverflow.com/questions/37711358/how-to-convert-uuid-to-big-endian/37759665#37759665", "title": "How to convert UUID to big endian?", "body": "<p>The recommended way is to use the function <a href=\"http://linux.die.net/man/3/ntohl\" rel=\"nofollow\"><code>htonl</code></a> (<code>htons</code> for 16 bit integers) to convert from host byte order to network byte order, and <a href=\"http://linux.die.net/man/3/ntohl\" rel=\"nofollow\"><code>ntohl</code></a> (<code>ntohs</code> for 16 bit integers) to convert from network byte order to host byte order</p>\n\n<p>Given the following structure:</p>\n\n<pre><code>struct UUID_FIELDS\n{\n    uint32_t time_low;                \n    uint16_t time_mid;                 \n    uint16_t time_hi_and_version;      \n    uint8_t clock_seq_hi_and_reserved;\n    uint8_t clock_seq_low;             \n    uint8_t node[6];                   \n};\n</code></pre>\n\n<p>The code for serialization and deserialization might be as follows:</p>\n\n<pre><code>std::string serialize(UUID_FIELDS fields) {\n    std::string buffer(sizeof(fields), '\\0');\n\n    // convert all fields with size &gt; 1 byte to big endian (network byte order)\n    fields.time_low = htonl(fields.time_low);\n    fields.time_mid = htons(fields.time_mid);\n    fields.time_hi_and_version = htons(fields.time_hi_and_version);\n\n    memcpy(&amp;buffer[0], &amp;fields, sizeof(fields));\n\n    return buffer;\n}\n\nUUID_FIELDS deserialize(const std::string&amp; buffer) {\n    UUID_FIELDS fields;\n\n    assert(buffer.size() == sizeof(fields));\n\n    memcpy(&amp;fields, &amp;buffer[0], sizeof(fields));\n\n    // convert all fields with size &gt; 1 byte to little endian (maybe) (host byte order)\n    fields.time_low = ntohl(fields.time_low);\n    fields.time_mid = ntohs(fields.time_mid);\n    fields.time_hi_and_version = ntohs(fields.time_hi_and_version);\n\n    return fields;\n}\n</code></pre>\n\n<p>Note that you have to agree with the receiver/sender in the remote endpoint that you are both sending/receiving numbers in big endian.</p>\n"}, {"comments": [{"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465842259, "post_id": 37796447, "comment_id": 63059380, "body": "I believe what you have stated is correct because I used a swap64 function along a 32 bit boundary so       64 bit int x = 0xAABBCCDD11223344          x swapped = 0x11223344AABBCCDD      Then treating the whole uuid like 4 32 bit ints I used swap 32 to give me:  0x44332211DDCCBBAA."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465842536, "post_id": 37796447, "comment_id": 63059532, "body": "Your question doesn&#39;t say anything about a <code>swap64</code>, though, haha."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465842712, "post_id": 37796447, "comment_id": 63059639, "body": "Well I have a library of functions so I decided to try it on the whole uuid instead of each field. So I basically did: swap64along32(uuid); swap32(uuid); I am not sure why swapping the individual fields was not working. I guess what you said. It was treating the uuid as two 64 bit integers."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1465842878, "post_id": 37796447, "comment_id": 63059711, "body": "Since you basically lead me there. If you write up an answer of summarizing what I did in the comments for other users who might have a similar issue. I will accept your answer."}], "tags": [], "owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "is_accepted": true, "score": 4, "last_activity_date": 1465842481, "last_edit_date": 1465842481, "creation_date": 1465841312, "answer_id": 37796447, "question_id": 37711358, "link": "https://stackoverflow.com/questions/37711358/how-to-convert-uuid-to-big-endian/37796447#37796447", "title": "How to convert UUID to big endian?", "body": "<p>Re:</p>\n\n<blockquote>\n  <p>Update:\n  Starting uuid in little endian:</p>\n\n<pre><code>446831D3-FBA1-477B-BB07-CB067B00E86B\n</code></pre>\n  \n  <p>Result from correctly swapping necessary fields:</p>\n\n<pre><code>FBA1477B-31D3-4468-6BE8-007B06CB07BB\n</code></pre>\n</blockquote>\n\n<p>This looks horribly wrong. We can deduce that if the swaps are correct and affect only the 32 and 16 bit fields, then without swapping the necessary fields, it would be this:</p>\n\n<pre><code>Original: 446831D3-FBA1-477B-BB07-CB067B00E86B\n           |       _______/   |       _______/\n            \\____ /_______     \\____ /______\n            _____/        \\    _____/       \\\n           /               |  /              |\nReceived: 7B47A1FB-D331-6844-6BE8-007B06CB07BB   # \"de-swapped\".\n</code></pre>\n\n<p>What you seem to have have going on here is byte swapping within 64 bit units somewhere in your pipeline. Even the array of bytes is being reversed, suggesting that it might be loaded somewhere as part of a 64 bit load, which is subject to a swap64 operation.</p>\n"}], "owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2015, "favorite_count": 0, "accepted_answer_id": 37796447, "answer_count": 3, "score": 7, "last_activity_date": 1465863631, "creation_date": 1465414353, "last_edit_date": 1465842955, "question_id": 37711358, "link": "https://stackoverflow.com/questions/37711358/how-to-convert-uuid-to-big-endian", "title": "How to convert UUID to big endian?", "body": "<p><strong>My UUID is structured like this:</strong></p>\n\n<pre><code>struct UUID_FIELDS\n{\n    uint32_t time_low;                \n    uint16_t time_mid;                 \n    uint16_t time_hi_and_version;      \n    uint8_t clock_seq_hi_and_reserved;\n    uint8_t clock_seq_low;             \n    uint8_t node[6];                   \n\n};\n</code></pre>\n\n<p>I have functions that <code>swap</code> along 32 bit boundaries and a <code>swap function</code> that swaps along 16 bit boundaries. I have tried calling <code>swap32()</code> on <code>time_low</code> and <code>swap16()</code> on <code>time_mid</code> and <code>time_hi_and_version</code>. I do not believe I need to swap bytes for the rest of the fields because two of them are 8 bit fields and I have read that the node part of a uuid does not change. <a href=\"http://howtowriteaprogram.blogspot.com/2009/03/uuid-and-byte-order.html\" rel=\"nofollow\">Here is a link for that reference.</a></p>\n\n<p>The problem is when I complete the swaps the uuid that is printed does not match the one that was in little endian before being converted.</p>\n\n<p>What is the correct way to convert a uuid following <strong>RFC-4122 standard</strong> from <code>little endian</code> to <code>big endian</code>. And when converted should the uuids match?</p>\n"}, {"tags": ["c++", "regex"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465414383, "post_id": 37711327, "comment_id": 62896481, "body": "What compiler and version are you using?"}, {"owner": {"reputation": 453, "user_id": 3297686, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/af6327c75aaaa2e4ba6d557b02228ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Danzo", "link": "https://stackoverflow.com/users/3297686/danzo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465414789, "post_id": 37711327, "comment_id": 62896699, "body": "I&#39;m using an online compiler that is using c++11. <a href=\"http://www.tutorialspoint.com/compile_cpp11_online.php\" rel=\"nofollow noreferrer\">See here</a> @NathanOliver"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465414903, "post_id": 37711327, "comment_id": 62896747, "body": "OK.  That is gcc 5.3.1.  I asked because of <a href=\"http://stackoverflow.com/questions/12530406/is-gcc-4-8-or-earlier-buggy-about-regular-expressions\">this</a>"}, {"owner": {"reputation": 453, "user_id": 3297686, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/af6327c75aaaa2e4ba6d557b02228ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Danzo", "link": "https://stackoverflow.com/users/3297686/danzo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465415217, "post_id": 37711327, "comment_id": 62896933, "body": "I see. So this is not a bug due to it being a more version than 4.8? @NathanOliver"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465415370, "post_id": 37711327, "comment_id": 62897016, "body": "Pardon my ignorance, but since when does the standard C language have regular expressions?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465415372, "post_id": 37711327, "comment_id": 62897018, "body": "Yes it was not that &quot;bug&quot;"}, {"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1465415560, "post_id": 37711327, "comment_id": 62897121, "body": "@ThomasMatthews C standard doesn&#39;t have regex. <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/regcomp.html\" rel=\"nofollow noreferrer\"><code>&lt;regex.h&gt;</code> is from POSIX</a>. Nevertheless, for C++11 we should use <a href=\"http://en.cppreference.com/w/cpp/regex\" rel=\"nofollow noreferrer\">C++&#39;s standard <code>&lt;regex&gt;</code> library</a>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465415674, "post_id": 37711327, "comment_id": 62897188, "body": "@ThomasMatthews: Standard C does not have regexes (but Standard C++ does \u2014 see <a href=\"https://stackoverflow.com/questions/2027991\">List of standard headers in C and C++</a>).  POSIX has a set of regular expression code described in <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/regex.h.html#tag_13_38\" rel=\"nofollow noreferrer\"><code>&lt;regex.h&gt;</code></a> \u2014 <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/regcomp.html\" rel=\"nofollow noreferrer\"><code>regcomp()</code></a>  et al; presumably that&#39;s what&#39;s in use here (the calls shown are consistent with POSIX)."}, {"owner": {"reputation": 453, "user_id": 3297686, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/af6327c75aaaa2e4ba6d557b02228ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Danzo", "link": "https://stackoverflow.com/users/3297686/danzo"}, "reply_to_user": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1465415721, "post_id": 37711327, "comment_id": 62897214, "body": "I am testing on the online compiler mentioned above. My actual code is running on IBM&#39;s Netezza platform via a UDF. It doesn&#39;t recognize c++&#39;s standard regex library. @kennytm"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465415849, "post_id": 37711327, "comment_id": 62897288, "body": "@Danzo, please clarify &quot;The C implementation of regex&quot;.  I&#39;m trying to figure out the rules of the regular expression.  Different libraries have different interpretations."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1465415851, "post_id": 37711327, "comment_id": 62897289, "body": "@Danzo: Are you telling the C++ compiler to use C++11 on the Netezza platform?  It may not be doing so by default.  See if you can find a way to tell it to use C++11."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1465415948, "post_id": 37711327, "comment_id": 62897339, "body": "Also, you ignore the possibility of an error from the <code>regcomp()</code> call.  You should check that too."}], "answers": [{"tags": [], "owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "is_accepted": true, "score": 2, "last_activity_date": 1465415910, "creation_date": 1465415910, "answer_id": 37711801, "question_id": 37711327, "link": "https://stackoverflow.com/questions/37711327/capturing-groups-in-regex-in-c/37711801#37711801", "title": "Capturing groups in regex in C++", "body": "<p>You are using the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/substr\" rel=\"nofollow\"><code>.substr</code> method</a> wrongly. The second argument of <code>substr</code> should be the length of the substring, but you are giving the end-index to it. Try this instead:</p>\n\n<pre><code>   day = input.substr(match[2].rm_so, match[2].rm_eo - match[2].rm_so);\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 3297686, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/af6327c75aaaa2e4ba6d557b02228ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Danzo", "link": "https://stackoverflow.com/users/3297686/danzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2272, "favorite_count": 0, "accepted_answer_id": 37711801, "answer_count": 1, "score": 2, "last_activity_date": 1465415910, "creation_date": 1465414276, "last_edit_date": 1465415438, "question_id": 37711327, "link": "https://stackoverflow.com/questions/37711327/capturing-groups-in-regex-in-c", "title": "Capturing groups in regex in C++", "body": "<p>I have a function in c++ that takes in an input string representing a date of the format MM/DD/YYYY. The function uses the C implementation of regex due to limitations of my environment. I am attempting to extract the year, month, and date from the string.</p>\n\n<pre><code>#include &lt;stdarg.h&gt;\n#include &lt;string.h&gt;\n#include &lt;iostream&gt;\n#include &lt;regex.h&gt;\n#include &lt;sys/types.h&gt; \n\nusing namespace std;\n\n\nvoid convertDate(string input)\n{\n\n    char pattern[100];\n    regex_t preg[1];\n    regmatch_t match[100];\n    const char * reg_data = input.c_str();\n    string year;\n    string month;\n    string day;\n\n    strcpy(pattern, \"^([0-9]{1,2})/([0-9]{1,2})/([0-9]{4})$\");\n    int rc = regcomp(preg, pattern, REG_EXTENDED); \n    rc=regexec(preg, reg_data, 100, match, 0);\n    if( rc != REG_NOMATCH ) \n    {\n       year = input.substr(match[3].rm_so, match[3].rm_eo);\n       month = input.substr(match[1].rm_so, match[1].rm_eo);\n       day = input.substr(match[2].rm_so, match[2].rm_eo);\n       cout &lt;&lt; year &lt;&lt; endl;\n       cout &lt;&lt; month &lt;&lt; endl;\n       cout &lt;&lt; day &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n\n<p>Here are some examples of input/output:</p>\n\n<pre><code>1) string input2 = \"8/11/2014\";\n   convertDate(input2);\n\n   2014\n   8\n   11/2\n\n2) string input2 = \"11/8/2014\";\n   convertDate(input2);\n\n   2014\n   11\n   8/20\n\n3) string input2 = \"1/1/2014\";\n   convertDate(input2);\n\n   2014\n   1\n   1/2\n</code></pre>\n\n<p>I'm not sure why the day is capturing a regex group of length 4, when the capture group states it should only be capturing 1 or 2 characters that are digits. Also, why would the day be having this issue, when the month is correct? They use the same logic, it looks like. </p>\n\n<p>I used the documentation <a href=\"http://www.boost.org/doc/libs/1_50_0/libs/regex/doc/html/boost_regex/syntax/basic_extended.html\" rel=\"nofollow\">here</a></p>\n"}, {"tags": ["c++", "opencv", "compilation", "makefile", "mingw"], "comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1465413807, "post_id": 37711033, "comment_id": 62896184, "body": "What is the basic folder structure of your project? Can you perform a <code>dir &quot;C\\opencv_3\\build\\include&quot;</code> from the directory you&#39;re running <code>make</code> from and see a <code>opencv</code> directory?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 2, "creation_date": 1465413920, "post_id": 37711033, "comment_id": 62896247, "body": "You should probably avoid to use version 2.4.3 (it&#39;s outdated). Now version 3.1 is available"}, {"owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1465414380, "post_id": 37711033, "comment_id": 62896479, "body": "@Kupiakos I have edited my question, feel free to ask more I&#39;ll provide all the info I can. Miki I don&#39;t think I have version 2.4.3, is there a quick way to check though? And yeah I don&#39;t mind downloading a different one if that&#39;s how I can make this work."}], "owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1465414316, "creation_date": 1465413346, "last_edit_date": 1465414316, "question_id": 37711033, "link": "https://stackoverflow.com/questions/37711033/how-can-i-compile-and-run-this-opencv-c-code-in-windows-10", "title": "How can I compile and run this OpenCV C++ code in Windows 10?", "body": "<p>I'm having a very tough time getting this sample project going on my Windows 10 laptop: </p>\n\n<p>Vid: <a href=\"https://www.youtube.com/watch?v=-ZNYoL8rzPY\" rel=\"nofollow\">https://www.youtube.com/watch?v=-ZNYoL8rzPY</a>\nCode: <a href=\"http://cvlab.epfl.ch/files/content/sites/cvlab2/files/software/brief/BRI\" rel=\"nofollow\">http://cvlab.epfl.ch/files/content/sites/cvlab2/files/software/brief/BRI</a> EF_demo-0.5.zip</p>\n\n<p>I have OpenCV 3 for Windows, and I'm trying to use MinGW and a modified Makefile to get it going:</p>\n\n<pre><code>CC = g++\nCFLAGS = -g -Wall -DHAVE_INLINE -msse4.2 -O3\n\nSRCS = main.cpp BRIEF.cpp\nPROG = BRIEF\n\nOPENCV = -I\"C/opencv_3/build/include\" -L\"C/opencv_3/build/x64/vc12/lib\" -lopencv_core243 -lopencv_highgui243\n\n$(PROG) : $(SRCS)\n    $(CC) $(CFLAGS) -o $(PROG) $(SRCS) $(OPENCV)\n</code></pre>\n\n<p>When I run \"make\" (via MinGW), I get the following: </p>\n\n<pre><code>C:\\MinGW\\bin\\mingw32-make.exe\ng++ -g -Wall -DHAVE_INLINE -msse4.2 -O3 -o BRIEF main.cpp BRIEF.cpp -I\"C/opencv_3/build/include\" -L\"C/opencv_3/build/x64/vc12/lib\" -lopencv_core243 -lopencv_highgui243\nIn file included from main.cpp:26:0:\nBRIEF.h:31:23: fatal error: opencv/cv.h: No such file or directory\n #include &lt;opencv/cv.h&gt;\n                       ^\ncompilation terminated.\nIn file included from BRIEF.cpp:26:0:\nBRIEF.h:31:23: fatal error: opencv/cv.h: No such file or directory\n #include &lt;opencv/cv.h&gt;\n                       ^\ncompilation terminated.\nMakefile:10: recipe for target 'BRIEF' failed\nmingw32-make: *** [BRIEF] Error 1\n</code></pre>\n\n<p>This is what I have tried. I am open to pretty much any solution that lets me run OpenCV C++ on Windows, particularly this project. I don't mind downloading other/older versions of OpenCV for example. Thank you for any help, this stuff is always frustrating.</p>\n\n<p>EDIT - </p>\n\n<p>folder structure:</p>\n\n<pre><code> Directory of C:\\opencv_3\\build\\include\n\n06/08/2016  01:45 PM    &lt;DIR&gt;          .\n06/08/2016  01:45 PM    &lt;DIR&gt;          ..\n06/08/2016  01:45 PM    &lt;DIR&gt;          opencv\n06/08/2016  01:45 PM    &lt;DIR&gt;          opencv2\n</code></pre>\n"}, {"tags": ["c++", "containers"], "comments": [{"owner": {"reputation": 2606, "user_id": 3529323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m3mE6.png?s=128&g=1", "display_name": "bcsb1001", "link": "https://stackoverflow.com/users/3529323/bcsb1001"}, "edited": false, "score": 3, "creation_date": 1465415059, "post_id": 37710975, "comment_id": 62896828, "body": "In most languages, an array would indeed qualify as a container. However, you provide no context of language via tagging or in your question, so it is currently quite unclear. Arrays are different things in different languages."}, {"owner": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "reply_to_user": {"reputation": 2606, "user_id": 3529323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m3mE6.png?s=128&g=1", "display_name": "bcsb1001", "link": "https://stackoverflow.com/users/3529323/bcsb1001"}, "edited": false, "score": 0, "creation_date": 1465415247, "post_id": 37710975, "comment_id": 62896951, "body": "I meant in c++. I failed to clarify that"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 3, "creation_date": 1465415821, "post_id": 37710975, "comment_id": 62897269, "body": "AFAIK, an array by itself is not really considered a container in C++&#39;s eyes. It is just a chunk of memory. However, <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\"><code>std::vector</code></a> is a real container that wraps a dynamic array, and <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> is a real container that wraps a static array."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465417131, "post_id": 37710975, "comment_id": 62898037, "body": "Please clarify <i>your</i> definition of <i>container</i>.  Fundamentally, an array is a contain since it contains things.  If may not be a smart container, but in my definition it is the basic container."}], "answers": [{"comments": [{"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1465424797, "post_id": 37712216, "comment_id": 62901503, "body": "As opposed to <code>std::array</code>?"}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1465446642, "post_id": 37712216, "comment_id": 62906718, "body": "Correct. That is defined as an container in the library section of the standard."}, {"owner": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "edited": false, "score": 0, "creation_date": 1465459640, "post_id": 37712216, "comment_id": 62912816, "body": "So what&#39;s the difference between std::array and array? Does array not come from this standard library? Is Std::array not the same as a normal array?"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "edited": false, "score": 0, "creation_date": 1465459917, "post_id": 37712216, "comment_id": 62912975, "body": "@Dog: That&#39;s correct. You don&#39;t need to include any header for <code>int arr[5]</code>. It&#39;s not associated with <code>namespace std</code> which means that <code>std::begin(arr)</code> cannot be called as <code>begin(arr)</code>. There&#39;s no <code>arr.size()</code>. etc etc."}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "edited": false, "score": 0, "creation_date": 1465459971, "post_id": 37712216, "comment_id": 62913019, "body": "@Dog. Basically, <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> is a wrapper around a <a href=\"http://en.cppreference.com/w/cpp/language/array\" rel=\"nofollow noreferrer\">C-style array</a>. It gives it the same/similar API as some of the other containers in the library. The difference is small, but significant for code expecting a standard library container (i.e. valid calls to the members <code>cont.begin()</code> etc. This is why I think technically a C-style array may not be a container, but in colloquial terms, it may be."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1465460413, "post_id": 37712216, "comment_id": 62913261, "body": "<code>std::array</code> is not a container either by that definition because it is not capable of inserting or erasing objects."}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1465461128, "post_id": 37712216, "comment_id": 62913680, "body": "@nwp. The table for the containers doesn&#39;t explicitly list an <code>insert</code> or <code>erase</code> member; strictly speaking <code>std::array</code> partially satisfies the requirements (although the cppreference lists it as satisfying the &quot;Container&quot; requirement). Various containers concepts have more formal requirements. IIRC, C++17 will include a container concept &quot;ContiguousContainer&quot; and things may change things a little."}, {"owner": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "edited": false, "score": 0, "creation_date": 1465487675, "post_id": 37712216, "comment_id": 62932839, "body": "So wait, arr isn&#39;t associated with std, I get that, it doesn&#39;t have member functions like begin(). But why can&#39;t you do begin(arr)? But you can do std::begin(arr) because begin is a member function in std?"}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "edited": false, "score": 0, "creation_date": 1465488122, "post_id": 37712216, "comment_id": 62933153, "body": "@Dog, because there is an overloaded function <code>begin</code> in the std namespace that accepts a C style array as an argument, see here <a href=\"http://en.cppreference.com/w/cpp/iterator/begin\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/iterator/begin</a>, overload 2. ADL and <code>using</code> declarations aside."}], "tags": [], "owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "is_accepted": false, "score": 3, "last_activity_date": 1465759929, "last_edit_date": 1465759929, "creation_date": 1465417428, "answer_id": 37712216, "question_id": 37710975, "link": "https://stackoverflow.com/questions/37710975/are-arrays-not-considered-containers-because-they-are-not-based-off-of-a-class/37712216#37712216", "title": "Are arrays not considered containers because they are not based off of a class?", "body": "<p>In the standard; the language feature relating to arrays (i.e. the <a href=\"http://en.cppreference.com/w/cpp/language/array\" rel=\"nofollow\">C-style <code>int a[]</code></a> and not the <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow\">library <code>std::array&lt;&gt;</code></a>) is seperate to the containers as defined in the library section, <a href=\"http://eel.is/c++draft/container.requirements.general#1\" rel=\"nofollow\">[container.requirements.general]/1</a>;</p>\n\n<blockquote>\n  <p>Containers are objects that store other objects. They control allocation and deallocation of these objects through constructors, destructors, insert and erase operations.</p>\n</blockquote>\n\n<p><em>Stricter requirements for each container type (or container concept) follow in later sections.</em></p>\n\n<p>As such, the language array is probably not strictly considered a \"container\", in a more informal sense, it may be.</p>\n\n<p>They do share some level of common functionality and have some interchangability, such as the ability to make use of <code>std::begin()</code> and <code>std::end()</code> etc. A cursory example is <code>std::vector&lt;&gt;</code>, it was generally referred to as the container to be used as a \"safe\" array; to be used where a built in array may have previously been used. </p>\n"}], "owner": {"reputation": 23, "user_id": 6442077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77c9b25842bc2e24906e9d7fc0f57c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/6442077/dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1465759929, "creation_date": 1465413134, "last_edit_date": 1465415260, "question_id": 37710975, "link": "https://stackoverflow.com/questions/37710975/are-arrays-not-considered-containers-because-they-are-not-based-off-of-a-class", "title": "Are arrays not considered containers because they are not based off of a class?", "body": "<p>Is an array a container? </p>\n\n<p>Arrays hold a set of elements of the same type in a contiguous memory location so, do they not qualify as containers?</p>\n"}, {"tags": ["c++", "multithreading", "qt", "cmake"], "comments": [{"owner": {"reputation": 6924, "user_id": 835629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b38fa6792bcb51a7fe773b5f942c66c2?s=128&d=identicon&r=PG", "display_name": "coyotte508", "link": "https://stackoverflow.com/users/835629/coyotte508"}, "edited": false, "score": 1, "creation_date": 1465412556, "post_id": 37710779, "comment_id": 62895504, "body": "are you doing different projects or do you want to make those different nodes in the same project?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6361310"}, "reply_to_user": {"reputation": 6924, "user_id": 835629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b38fa6792bcb51a7fe773b5f942c66c2?s=128&d=identicon&r=PG", "display_name": "coyotte508", "link": "https://stackoverflow.com/users/835629/coyotte508"}, "edited": false, "score": 0, "creation_date": 1465413159, "post_id": 37710779, "comment_id": 62895847, "body": "They need to be different projects (I think) because I need to change the path of each node that they will subscribe and publish (Robot1 and Robot2). But I want to compile them and run at the same time to control Robot1 with UINode and Robot2 with UINode2."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1465415580, "post_id": 37710779, "comment_id": 62897132, "body": "What exactly do you mean by &#39;path of each node&#39;? On the file system? Could you pass these to your application via command line parameters? Then you only would have to evaluate these, not having to create any additional application at all..."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6361310"}, "edited": false, "score": 0, "creation_date": 1465414136, "post_id": 37711163, "comment_id": 62896352, "body": "I&#39;m a begineer :D Can you simplify?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1465414769, "post_id": 37711163, "comment_id": 62896685, "body": "Libraries are designed to share one and the same code across different executables. Their advantage is that they are compiled once, and you can include this already finished code into any number of applications (technically correct: you link against them). Have you ever noticed the -l option of gcc (I think it is the same for msvc). With this option, you tell the compiler that it shall use (link against) already compiled code that is provided in a library, for instance if you are building a QT GUI application."}, {"owner": {"reputation": 2880, "user_id": 2672165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/92556a84fe9a5abab9cf35ffc367366e?s=128&d=identicon&r=PG", "display_name": "user2672165", "link": "https://stackoverflow.com/users/2672165/user2672165"}, "edited": false, "score": 0, "creation_date": 1465414969, "post_id": 37711163, "comment_id": 62896778, "body": "I agree. This is what is called refactoring. Polymorphism is however not the only way to achieve that."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 2880, "user_id": 2672165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/92556a84fe9a5abab9cf35ffc367366e?s=128&d=identicon&r=PG", "display_name": "user2672165", "link": "https://stackoverflow.com/users/2672165/user2672165"}, "edited": false, "score": 0, "creation_date": 1465415309, "post_id": 37711163, "comment_id": 62896985, "body": "@user2672165 I agree, too. There are always many ways to achieve a specific goal (&quot;all roads leading to Rome&quot;). Polymorphism often is convenient, in other situations, your breaking your head trying to achieve it with brute force..."}], "tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": false, "score": 2, "last_activity_date": 1465415033, "last_edit_date": 1465415033, "creation_date": 1465413802, "answer_id": 37711163, "question_id": 37710779, "link": "https://stackoverflow.com/questions/37710779/c-qt-how-to-create-a-duplicate-of-a-gui-with-small-changes/37711163#37711163", "title": "C++ Qt How to Create a Duplicate of a GUI with small changes", "body": "<p>I would recommend to collect all code that is common within a separate project and build it as a library (static or shared). It might be convenient to implement the differences as polymorphism, so you have base classes in the library and implement or override behaviour in sub classes of the specific projects.</p>\n\n<p>This way, you only implement the differences in each project and link all of them to the library containing the common code.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Perhaps all this is not necessary: Have you thought of controlling different behaviour in each instance of your application via command line parameters?</p>\n\n<p>Imagine you have a TCP client for whatever purpose. Would you recompile it for usage with each new host you want to communicate with? Certainly not. Instead, you would pass the host address as parameters, e. g. -h 127.0.0.1 -p 1977 or -h 127.0.0.1:1977.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6361310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465415033, "creation_date": 1465412406, "last_edit_date": 1465414946, "question_id": 37710779, "link": "https://stackoverflow.com/questions/37710779/c-qt-how-to-create-a-duplicate-of-a-gui-with-small-changes", "title": "C++ Qt How to Create a Duplicate of a GUI with small changes", "body": "<p>I have a GUI called UINode and I want to create a duplicate and change only a few things.\nThe project is made of 3 basic threads. PingThread,RosThread and the GuiThread. I tried to copy-paste the project folder and rename it to UINode2 but it gives me errors when i try to compile it using catkin_make. \nI'm pretty sure this are errors caused by the identical headers.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>CMakeFiles/drone_gui2.dir/src/UINode/moc_tum_ardrone_gui.cxx.o:moc_tum_ardrone_gui.cxx:(.text+0x0): first defined here CMakeFiles/drone_gui2.dir/src/UINode2/moc_tum_ardrone_gui.cxx.o:(.rodata+0x100): multiple definition of `tum_ardrone_gui::staticMetaObject' CMakeFiles/drone_gui2.dir/src/UINode/moc_tum_ardrone_gui.cxx.o:(.rodata+0x100): first defined here CMakeFiles/drone_gui2.dir/src/UINode2/moc_tum_ardrone_gui.cxx.o: In function `tum_ardrone_gui::qt_metacast(char const*)': moc_tum_ardrone_gui.cxx:(.text+0x20): multiple definition of `tum_ardrone_gui::qt_metacast(char const*)' CMakeFiles/drone_gui2.dir/src/UINode/moc_tum_ardrone_gui.cxx.o:moc_tum_ardrone_gui.cxx:(.text+0x20): first defined here CMakeFiles/drone_gui2.dir/src/UINode2/moc_tum_ardrone_gui.cxx.o: In function `tum_ardrone_gui::qt_static_metacall(QObject*, QMetaObject::Call, int, void**)': moc_tum_ardrone_gui.cxx:(.text+0x70): multiple definition of `tum_ardrone_gui::qt_static_metacall(QObject*, QMetaObject::Call, int, void**)' CMakeFiles/drone_gui2.dir/src/UINode/moc_tum_ardrone_gui.cxx.o:moc_tum_ardrone_gui.cxx:(.text+0x70): first defined here CMakeFiles/drone_gui2.dir/src/UINode2/moc_tum_ardrone_gui.cxx.o: In function `tum_ardrone_gui::qt_metacall(QMetaObject::Call, int, void**)': moc_tum_ardrone_gui.cxx:(.text+0x6f0): multiple definition of `tum_ardrone_gui::qt_metacall(QMetaObject::Call, int, void**)' CMakeFiles/drone_gui2.dir/src/UINode/moc_tum_ardrone_gui.cxx.o:moc_tum_ardrone_gui.cxx:(.text+0x6f0): first defined here\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>#include \"tum_ardrone_gui.h\"\n#include \"RosThread.h\"\n#include \"PingThread.h\"\n\n#include &lt;QtGui&gt;\n#include &lt;QApplication&gt;\n#include \"ros/ros.h\"\n\n// this global var is used in getMS(ros::Time t) to convert to a consistent integer timestamp used internally pretty much everywhere.\n// kind of an artifact from Windows-Version, where only that was available / used.\nunsigned int ros_header_timestamp_base = 0;\n\nint main(int argc, char *argv[])\n{\n    std::cout &lt;&lt; \"Starting drone_gui Node\" &lt;&lt; std::endl;\n\n    // ROS\n    ros::init(argc, argv, \"drone_gui\");\n\n    RosThread t;\n    PingThread p;\n\n    // UI\n    QApplication a(argc, argv);\n    tum_ardrone_gui w;\n\n    // make them communicate with each other\n    t.gui = &amp;w;\n    w.rosThread = &amp;t;\n    p.gui = &amp;w;\n    p.rosThread = &amp;t;\n    w.pingThread = &amp;p;\n\n    // start them.\n    t.startSystem();\n    p.startSystem();\n    w.show();\n\n    // wait until windows closed....\n    int ec = a.exec();\n\n     // stop ROS again....\n    t.stopSystem();\n    p.stopSystem();\n\n    std::cout &lt;&lt; \"Exiting drone_gui Node\" &lt;&lt; std::endl;\n\n    return ec;\n}\n</code></pre>\n\n<p>My question is: Imagine I want to replicate my UINode 10 times. Do I need to hardcode my code and make changes to every thread name, class,etc... or there is a better way?</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 6382401, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/04af1d0fba0ddb83761466ffcf4e9336?s=128&d=identicon&r=PG&f=1", "display_name": "Robert J", "link": "https://stackoverflow.com/users/6382401/robert-j"}, "edited": false, "score": 0, "creation_date": 1465413019, "post_id": 37710818, "comment_id": 62895786, "body": "Would you recommend reading this variable with <code>istream::read</code>? Also is there like a man page that I could reference or would I have to refer to external resources?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 483, "user_id": 6382401, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/04af1d0fba0ddb83761466ffcf4e9336?s=128&d=identicon&r=PG&f=1", "display_name": "Robert J", "link": "https://stackoverflow.com/users/6382401/robert-j"}, "edited": false, "score": 0, "creation_date": 1465415413, "post_id": 37710818, "comment_id": 62897041, "body": "I generally recommend using a function that reads a line into a string which you then parse."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 1, "last_activity_date": 1465412596, "creation_date": 1465412596, "answer_id": 37710818, "question_id": 37710760, "link": "https://stackoverflow.com/questions/37710760/cin-ignore-enter-twice-to-get-one-pause/37710818#37710818", "title": "cin.ignore() enter twice to get one pause", "body": "<p>It is because of this line of code:</p>\n\n<pre><code>cin &gt;&gt; hours;\n</code></pre>\n\n<p>This reads the number of hours, but not the enter you pressed after it. So your first <code>cin.ignore()</code> call ignores that enter key. Only your second one causes a pause.</p>\n\n<p>If you want to read lines, use a function that reads lines. Don't use a function that reads a number and expect it to read a line.</p>\n"}, {"comments": [{"owner": {"reputation": 483, "user_id": 6382401, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/04af1d0fba0ddb83761466ffcf4e9336?s=128&d=identicon&r=PG&f=1", "display_name": "Robert J", "link": "https://stackoverflow.com/users/6382401/robert-j"}, "edited": false, "score": 0, "creation_date": 1465413224, "post_id": 37710884, "comment_id": 62895886, "body": "Actually no dice. I still have to enter <code>cin.get();</code> twice into my code. I think that it might be better to try to fix my variable issue."}], "tags": [], "owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "is_accepted": false, "score": 1, "last_activity_date": 1465412791, "creation_date": 1465412791, "answer_id": 37710884, "question_id": 37710760, "link": "https://stackoverflow.com/questions/37710760/cin-ignore-enter-twice-to-get-one-pause/37710884#37710884", "title": "cin.ignore() enter twice to get one pause", "body": "<p>David Schwartz answered your <em>why</em> but a solution to your problem, pausing for  at the end of the program, can be solved by this (which is what I always do in situations like this)</p>\n\n<pre><code>cin.get();\n</code></pre>\n\n<p><code>get()</code> retrieves a character from the stream but can only do so when it's flushed by the enter key</p>\n"}], "owner": {"reputation": 483, "user_id": 6382401, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/04af1d0fba0ddb83761466ffcf4e9336?s=128&d=identicon&r=PG&f=1", "display_name": "Robert J", "link": "https://stackoverflow.com/users/6382401/robert-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 37710818, "answer_count": 2, "score": 2, "last_activity_date": 1465412791, "creation_date": 1465412339, "question_id": 37710760, "link": "https://stackoverflow.com/questions/37710760/cin-ignore-enter-twice-to-get-one-pause", "title": "cin.ignore() enter twice to get one pause", "body": "<h2>Problem statement:</h2>\n\n<p>I am just learning the syntax for C++ and for some reason I have to enter <code>cin.ignore();</code> twice in my script to get my program to pause once. Note that line 48 is commented out for troubleshooting purposes.</p>\n\n<h2>Code:</h2>\n\n<pre><code>1   // Lab 3 Exercise 1\n2   // Input Using cin &gt;&gt;\n3   //\n4   // Program by: Robert J\n5   \n6   #include &lt;iostream&gt;\n7   #include &lt;cmath&gt;\n8   #include &lt;string&gt;\n9   using namespace std;\n10  \n11  // creating functions\n12  float delta_miles(float end_mileage, float start_mileage){\n13      return end_mileage - start_mileage;\n14  };\n15  \n16  float mileage(float end_mileage, float start_mileage, float travel_time){\n17      return (end_mileage - start_mileage) / travel_time;\n18  };\n19  \n20  float mileconv(float miles){\n21      // There are 1604 m in a mile\n22      return miles * 1.604;\n23  };\n24  \n25  int main(){\n26      // Variable definitions\n27      float milestart, milesend, hours, total_miles, mph;   // floatValue is of type float\n28  \n29      printf(\"Enter the starting mileage (miles): \" );\n30      cin &gt;&gt; milestart;\n31      printf(\"Enter the ending mileage (miles): \" );\n32      cin &gt;&gt; milesend;\n33      printf(\"Enter the number of hours traveled (2.25 horus = 2 horus 15 minutes): \" );\n34      cin &gt;&gt; hours;\n35  \n36      // Calculations\n37      total_miles = delta_miles(milesend, milestart);\n38      mph = mileage(milesend, milestart, hours);\n39  \n40      // Output\n41      printf(\"\\n\"); // seperator that is easy to find\n42  \n43      printf(\"Total miles traveled:\\t%f\\n\", total_miles);\n44      printf(\"Miles per Hour: \\t%f\\n\", mph);\n45      printf(\"Total kilometers:\\t%f\\n\", mileconv(total_miles) );\n46      printf(\"Kilometers/Hour:\\t%f\\n\", mileconv(mph) );\n47  \n48  //  cin.ignore();\n49      cin.ignore();\n50      // Exit code:\n51      return 0;\n52  }\n</code></pre>\n\n<h2>Attempted solutions:</h2>\n\n<ul>\n<li><p>I don't want to use the <code>system(\"pause\");</code> function like my professor does because am using a Unix system and would have to do <code>system(\"read\");</code> at which point the grader would not see my output.</p></li>\n<li><p>I have also tried removing the <code>\\n</code> from the last <code>printf</code> to no avail.</p></li>\n</ul>\n\n<h2>Questions:</h2>\n\n<p>Does anyone see what am doing wrong here?</p>\n\n<p><strong>Thanks in advance all.</strong></p>\n"}, {"tags": ["c++", "linked-list"], "comments": [{"owner": {"reputation": 881, "user_id": 1571435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8188f53314f9e07a60cedadae3dfecb?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/1571435/jonas"}, "edited": false, "score": 3, "creation_date": 1465412440, "post_id": 37710748, "comment_id": 62895440, "body": "Do you want to implement your own linked list or do you just want to use a linked list?"}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1465412454, "post_id": 37710748, "comment_id": 62895449, "body": "Linked lists in C and C++ are essentially the same (at least as far as previous and next pointers). If you use the STL list class, your code is working with objects that do not include previous or next pointers, as the list class will copy data to/from objects into internal nodes that include previous and next pointers."}, {"owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "edited": false, "score": 0, "creation_date": 1465412584, "post_id": 37710748, "comment_id": 62895520, "body": "If you are creating a custom one it&#39;s really purely up to your preference if you want to build upon existing solutions or if you want to implement it completely from scratch."}, {"owner": {"reputation": 3047, "user_id": 446303, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0223ff085aabfc2db1422d5341f28dad?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/446303/max"}, "edited": false, "score": 1, "creation_date": 1465412639, "post_id": 37710748, "comment_id": 62895549, "body": "C in itself does not have a linked list; you need to do it yourself."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1465413475, "post_id": 37710748, "comment_id": 62896021, "body": "<a href=\"http://en.cppreference.com/w/cpp/container/list\" rel=\"nofollow noreferrer\">Where possible use <code>std::list</code></a>. If you have to make your own Linked List, two bits of advice: 1. draw out each operation step by step to help visualize what&#39;s going on 2. stand on (but properly attribute) the shoulders of giants. Wikipedia often contains good pseudocode. Off topic: While implementing your linked list, pay attention to the effect cache has on performance. Very educational."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1465413901, "post_id": 37710748, "comment_id": 62896236, "body": "<i>I have started learning C++ recently and am currently trying to make my own double linked list</i> -- I hate to be the bearer of bad news, but I have yet to see a beginner in C++ write a <b>correct</b> linked list implementation in C++ without <i>tons</i> of help from experienced programmers.  In the attempts I&#39;ve seen, the linked list classes written by beginners are easily broken by trivial means.  Therefore I suggest you use <code>std::list</code> and get on with your project, and not get bogged down trying to write your own linked list."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465417498, "post_id": 37710748, "comment_id": 62898237, "body": "There are plenty of examples on the internet of linked list implementations using C++.  The explanation and usage of a linked list is too large for the StackOverflow format, especially for an answer to one post."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465417349, "post_id": 37711080, "comment_id": 62898154, "body": "Out of curiosity, why does the double linked list have a tail pointer but the single doesn&#39;t?  The point of having a tail pointer is usually to make insertions at the end of the list more efficient. The single list would benefit a lot from a tail pointer."}], "tags": [], "owner": {"reputation": 44, "user_id": 3784081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4d1a0fc0c76fdda7393c7c2d38a851?s=128&d=identicon&r=PG&f=1", "display_name": "definitelynotbeyonce...", "link": "https://stackoverflow.com/users/3784081/definitelynotbeyonce"}, "is_accepted": false, "score": 0, "last_activity_date": 1465413493, "creation_date": 1465413493, "answer_id": 37711080, "question_id": 37710748, "link": "https://stackoverflow.com/questions/37710748/creating-a-custom-linked-list-c/37711080#37711080", "title": "Creating a custom Linked List C++", "body": "<p>The node structure and the container structure is different.</p>\n\n<p>Single linked list:</p>\n\n<pre><code>struct node{\n    node* next;\n    int data; // Not necessarily an int, but whatever the node will contain.\n};\n\nstruct container{\n    node* head;\n};\n</code></pre>\n\n<p>Double linked list:</p>\n\n<pre><code>struct node{\n    node* next;\n    node* prev;  // Unlike the single linked list, a double linked list's node contains a pointer to the previous element as well.\n};\n\nstruct container{\n   node* head;\n   node* tail;\n};\n</code></pre>\n\n<p>Keep in mind that when you're performing any operation (i.e. push, pop, pull, etc.) you will have to take both of these pointers into consideration.  </p>\n"}], "owner": {"reputation": 71, "user_id": 6442045, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GbwhB5Lnpk8/AAAAAAAAAAI/AAAAAAAAADs/9LhKuI5RdKM/photo.jpg?sz=128", "display_name": "Teodor", "link": "https://stackoverflow.com/users/6442045/teodor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1422, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465413493, "creation_date": 1465412298, "question_id": 37710748, "link": "https://stackoverflow.com/questions/37710748/creating-a-custom-linked-list-c", "title": "Creating a custom Linked List C++", "body": "<p>I have started learning C++ recently and am currently trying to make my own double linked list. I don't know how it is supposed to be done. Am I suppose to use the already existing list class to store my data and keys or create my own node and linked list class. Or should I just use linked lists that C uses? </p>\n"}, {"tags": ["c++", "string", "visual-c++", "vector", "argv"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465412078, "post_id": 37710597, "comment_id": 62895248, "body": "Most likely you need to use the non MSVS version of <code>main</code> like <code>int main(int argc, char* argv[])</code>"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 6, "creation_date": 1465412160, "post_id": 37710597, "comment_id": 62895302, "body": "If you&#39;re compiling with unicode, _TCHAR is a wide character which requires a std::wstring instead of a std::string."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465416131, "post_id": 37710597, "comment_id": 62897462, "body": "Since you are using Visual Studio, you may not need to store those values at all. They are available throughout your applications using the <a href=\"https://msdn.microsoft.com/en-us/library/dn727674.aspx\" rel=\"nofollow noreferrer\">__argc, __argv, __wargv</a> symbols."}], "answers": [{"tags": [], "owner": {"reputation": 6924, "user_id": 835629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b38fa6792bcb51a7fe773b5f942c66c2?s=128&d=identicon&r=PG", "display_name": "coyotte508", "link": "https://stackoverflow.com/users/835629/coyotte508"}, "is_accepted": true, "score": 5, "last_activity_date": 1465412241, "creation_date": 1465412241, "answer_id": 37710731, "question_id": 37710597, "link": "https://stackoverflow.com/questions/37710597/c-how-do-i-save-argv-to-vector-as-strings/37710731#37710731", "title": "C++ How do I save argv to vector as strings", "body": "<p>The problem is that <code>std::string</code> doesn't have a constructor for the <code>_TCHAR*</code> type, so you can't generate a vector of strings from an array of <code>_TCHAR*</code>.</p>\n\n<p>Try using as said by @NathanOliver the \"normal\" version of the main: <code>int main(int argc, char *argv[])</code>.</p>\n\n<p>Or switch to <code>std::wstring</code>.</p>\n\n<p>Note: If not compiling with unicode enabled, <code>_TCHAR*</code> may then be equivalent to <code>char *</code> and the code would not provoke any compiler errors.</p>\n"}, {"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465415916, "post_id": 37711339, "comment_id": 62897324, "body": "Bogus typedef. This should really read <code>typedef std::basic_string&lt;TCHAR&gt; tstring;</code>."}], "tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 4, "last_activity_date": 1465416133, "last_edit_date": 1465416133, "creation_date": 1465414316, "answer_id": 37711339, "question_id": 37710597, "link": "https://stackoverflow.com/questions/37710597/c-how-do-i-save-argv-to-vector-as-strings/37711339#37711339", "title": "C++ How do I save argv to vector as strings", "body": "<p>Use this:</p>\n\n<pre><code>typedef std::basic_string&lt;TCHAR&gt; tstring;\n// Or: \n   // using tstring = std::basic_string&lt;TCHAR&gt;;\n// If you have latest compiler\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    std::vector&lt;tstring&gt; allArgs(argv + 1, argv + argc);\n    return 0;\n}\n</code></pre>\n\n<p>And if you would always want to use wide-strings, use this</p>\n\n<pre><code>  int wmain(int argc, whar_t* argv[])\n  {\n        std::vector&lt;std::wstring&gt; allArgs(argv + 1, argv + argc);\n        return 0;\n  }\n</code></pre>\n\n<p>Or, if you want to have ANSI only (I'd not recommend), just use old style <code>char</code> and <code>main</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 6342237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_NoNZBXV6I4/AAAAAAAAAAI/AAAAAAAAABE/V9u10bDNOxw/photo.jpg?sz=128", "display_name": "Bradley Petersen", "link": "https://stackoverflow.com/users/6342237/bradley-petersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2686, "favorite_count": 0, "accepted_answer_id": 37710731, "answer_count": 2, "score": 4, "last_activity_date": 1465416133, "creation_date": 1465411802, "last_edit_date": 1495541283, "question_id": 37710597, "link": "https://stackoverflow.com/questions/37710597/c-how-do-i-save-argv-to-vector-as-strings", "title": "C++ How do I save argv to vector as strings", "body": "<p>I am trying to save argv into a vector as strings but I keep getting the error:  <code>see reference to function template instantiation 'std::vector&lt;_Ty&gt;::vector&lt;_TCHAR*[]&gt;(_Iter,_Iter)' being compiled</code></p>\n\n<p>I have tried <a href=\"https://stackoverflow.com/questions/6361606/save-argv-to-vector-or-string\">Save argv to vector or string</a> and it does not work</p>\n\n<p>I am using Microsoft Visual Studio 2010.</p>\n\n<p>Here is my code:  </p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    std::vector&lt;std::string&gt; allArgs(argv + 1, argv + argc);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "header-files", "termios"], "comments": [{"owner": {"reputation": 6681, "user_id": 6024122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uiRWa4coXLs/AAAAAAAAAAI/AAAAAAAAJUs/5BxfhSS1bUY/photo.jpg?sz=128", "display_name": "Patrick Trentin", "link": "https://stackoverflow.com/users/6024122/patrick-trentin"}, "edited": false, "score": 0, "creation_date": 1465414529, "post_id": 37710525, "comment_id": 62896565, "body": "related question from the same author <a href=\"http://stackoverflow.com/questions/37697155/using-two-headers-with-the-same-function-names\" title=\"using two headers with the same function names\">stackoverflow.com/questions/37697155/&hellip;</a>"}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 1, "creation_date": 1465571309, "post_id": 37710525, "comment_id": 62972715, "body": "You can: 1) Wrap the headers in their own namespaces, 2) Refactor your code so no translation unit includes both, 3) Include <code>&lt;asm&#47;termios.h&gt;</code> via a proxy header that hides the clashing definitions with macros. (2) is way most difficult. (3) is at least as &quot;obscure&quot; as (1), and is also a hack."}], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 501229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqP2h.png?s=128&g=1", "display_name": "JakeSays", "link": "https://stackoverflow.com/users/501229/jakesays"}, "edited": false, "score": 1, "creation_date": 1595104915, "post_id": 48521433, "comment_id": 111361425, "body": "I would call that a solution! :)"}], "tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 2, "last_activity_date": 1517315108, "creation_date": 1517315108, "answer_id": 48521433, "question_id": 37710525, "link": "https://stackoverflow.com/questions/37710525/including-termios-h-and-asm-termios-h-in-the-same-project/48521433#48521433", "title": "Including &lt;termios.h&gt; and &lt;asm/termios.h&gt; in the same project", "body": "<blockquote>\n  <p>How can I solve this without using some obscure practice (like wrapping one of headers in a namespace, like mentioned <a href=\"https://stackoverflow.com/questions/6670738/is-it-a-good-idea-to-wrap-an-include-in-a-namespace-block\">here</a>)?</p>\n</blockquote>\n\n<p>If you find namespaces obscure, I don't know how you'd call this:</p>\n\n<pre><code>#define termios asmtermios\n#include &lt;asm/termios.h&gt;\n#undef  termios\n#include &lt;termios.h&gt;\n</code></pre>\n\n<p>Anyway, this too gets you rid of the <code>error: redefinition of 'struct termios'</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2617, "user_id": 3697870, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/krATc.jpg?s=128&g=1", "display_name": "Heath Raftery", "link": "https://stackoverflow.com/users/3697870/heath-raftery"}, "is_accepted": false, "score": 1, "last_activity_date": 1557264544, "creation_date": 1557264544, "answer_id": 56030702, "question_id": 37710525, "link": "https://stackoverflow.com/questions/37710525/including-termios-h-and-asm-termios-h-in-the-same-project/56030702#56030702", "title": "Including &lt;termios.h&gt; and &lt;asm/termios.h&gt; in the same project", "body": "<p>I had a similar issue - wanted custom baud rate support with definitions like <code>termios2</code>, <code>TCGETS2</code> and <code>BOTHER</code>, while still making use of the traditional termios calls. I instinctively wrapped the termios2 stuff in its own <a href=\"https://en.wikipedia.org/wiki/Translation_unit_(programming)\" rel=\"nofollow noreferrer\">compilation unit</a> and had no problems. So my structure looks like this:</p>\n\n<p><strong>serial_driver.c/.h</strong></p>\n\n<pre><code>#include &lt;termios.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;dirent.h&gt;\n\nint open_port(int fd, int baudrate, eParitySetting parity, int numStopBits)\n{\n  if(baudrate_is_non_standard(baudrate)\n    setNonStandardBaudRateTermios(fd, baudrate, parity, numStopBits);\n  else\n    //all the normal tcgetattr/cfsetospeed/tcsetattr\n}\n\nint do_other_things(void)\n{\n  //all the normal tcsendbreak/tcflush/etc things\n}\n</code></pre>\n\n<p><strong>serial_driver_abr.c/.h</strong></p>\n\n<pre><code>#include &lt;asm/termios.h&gt; /* asm gives us the all important BOTHER and TCGETS2 */\n#include &lt;fcntl.h&gt;\n#include &lt;dirent.h&gt;\n#include &lt;stropts.h&gt; /* Oddly, for ioctl, because ioctl.h causes include dramas */\n\nsetNonStandardBaudRateTermios(int fd, int baudrate, eParitySetting parity, int numStopBits)\n{\n  //All the termios2/ioctl/TCGETS2/BOTHER things\n}\n</code></pre>\n\n<p>Works well for me.</p>\n"}], "owner": {"reputation": 622, "user_id": 1738714, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/LXC33.jpg?s=128&g=1", "display_name": "bilserial", "link": "https://stackoverflow.com/users/1738714/bilserial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3097, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1586727302, "creation_date": 1465411601, "last_edit_date": 1495541755, "question_id": 37710525, "link": "https://stackoverflow.com/questions/37710525/including-termios-h-and-asm-termios-h-in-the-same-project", "title": "Including &lt;termios.h&gt; and &lt;asm/termios.h&gt; in the same project", "body": "<p>What I want to achieve: I want to set custom <code>baud rate</code> values for some <code>tty*</code>-like <code>UART</code>-mapped terminals.</p>\n\n<p>How: The only way I found by far is to use the <code>struct termios2</code> structure which is located in<code>&lt;asm/termios&gt;</code> header (as mentioned <a href=\"https://stackoverflow.com/questions/12646324/how-to-set-a-custom-baud-rate-on-linux\">here</a>, first answer).</p>\n\n<p>My solution works very well by far, but now I need to use some functions:</p>\n\n<pre><code>speed_t cfgetispeed(const struct termios *);\nint     tcdrain(int);\nint     tcflow(int, int);\nint     tcflush(int, int);\nint     tcgetattr(int, struct termios *);\npid_t   tcgetsid(int);\nint     tcsendbreak(int, int);\nint     tcsetattr(int, int, struct termios *);\n</code></pre>\n\n<p>The problem is that in <code>&lt;asm/termios.h&gt;</code> there are no such functions, and I need to include <code>&lt;termios.h&gt;</code> for being able to use them.</p>\n\n<p>Problem: If I include both headers (<code>&lt;asm/termios.h&gt;</code> and <code>&lt;termios.h&gt;</code>) the compiler will scream about functions and structure re-declaration, and he's right.</p>\n\n<p>How can I solve this without using some obscure practice (like wrapping one of headers in a namespace, like mentioned <a href=\"https://stackoverflow.com/questions/6670738/is-it-a-good-idea-to-wrap-an-include-in-a-namespace-block\">here</a>)?</p>\n"}, {"tags": ["c++", "qt", "copy", "qfile"], "comments": [{"owner": {"reputation": 7210, "user_id": 1421332, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/39f3da5b153edf32201b9e9100dad01a?s=128&d=identicon&r=PG", "display_name": "Silicomancer", "link": "https://stackoverflow.com/users/1421332/silicomancer"}, "edited": false, "score": 0, "creation_date": 1465412430, "post_id": 37710438, "comment_id": 62895434, "body": "Why didn&#39;t you simply measure runtime?"}, {"owner": {"reputation": 4996, "user_id": 462639, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7019183695a9fbd1208d5f6e5fbc1794?s=128&d=identicon&r=PG", "display_name": "demonplus", "link": "https://stackoverflow.com/users/462639/demonplus"}, "edited": false, "score": 0, "creation_date": 1465456738, "post_id": 37710438, "comment_id": 62911001, "body": "Or look into the sources yourself?"}, {"owner": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "edited": false, "score": 0, "creation_date": 1465497673, "post_id": 37710438, "comment_id": 62938851, "body": "I prefer the first version because you can get details when it fails, via errorString()"}], "answers": [{"tags": [], "owner": {"reputation": 3839, "user_id": 2164788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67fe81c74a9d59c63214ab00fb9698c9?s=128&d=identicon&r=PG", "display_name": "evilruff", "link": "https://stackoverflow.com/users/2164788/evilruff"}, "is_accepted": true, "score": 3, "last_activity_date": 1465414080, "creation_date": 1465414080, "answer_id": 37711251, "question_id": 37710438, "link": "https://stackoverflow.com/questions/37710438/qfile-copy-static-vs-temporary-object/37711251#37711251", "title": "QFile copy - static vs temporary object", "body": "<p>From Qt 5.5.1:</p>\n\n<pre><code>bool  QFile::copy(const QString &amp;fileName, const QString &amp;newName)\n{\n    return QFile(fileName).copy(newName);\n}\n</code></pre>\n\n<p>Hope that give's you an idea =)</p>\n"}], "owner": {"reputation": 1016, "user_id": 2487546, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/33dbf5e8da4a2c6058e396c9079be37f?s=128&d=identicon&r=PG&f=1", "display_name": "htzfun", "link": "https://stackoverflow.com/users/2487546/htzfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 37711251, "answer_count": 1, "score": 0, "last_activity_date": 1465456709, "creation_date": 1465411353, "last_edit_date": 1465456709, "question_id": 37710438, "link": "https://stackoverflow.com/questions/37710438/qfile-copy-static-vs-temporary-object", "title": "QFile copy - static vs temporary object", "body": "<p>Next two strings of Qt C++ code do the same stuff and without any problems to me. </p>\n\n<pre><code>QFile(source).copy(destination); \nQFile::copy(source, destination);\n</code></pre>\n\n<p>The question is about performance of first and second. Does code of Qt optimised inside static method and doesn't it create two objects? Which one is better and etc.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1465411350, "post_id": 37710398, "comment_id": 62894809, "body": "Yet another UB here"}, {"owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "edited": false, "score": 1, "creation_date": 1465411394, "post_id": 37710398, "comment_id": 62894833, "body": "Why do you output <code>ASCI1</code> twice per line? Why not just <code>cout &lt;&lt; ASCI1++ &lt;&lt; endl</code>?"}, {"owner": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1465411455, "post_id": 37710398, "comment_id": 62894860, "body": "@Slava what&#39;s a UB"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "reply_to_user": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "edited": false, "score": 1, "creation_date": 1465411470, "post_id": 37710398, "comment_id": 62894871, "body": "@Almo Undefined Behavior"}, {"owner": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "edited": false, "score": 0, "creation_date": 1465411498, "post_id": 37710398, "comment_id": 62894891, "body": "OH right. I should have known that, sorry and thanks. :)"}, {"owner": {"reputation": 52016, "user_id": 373025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1916b08af2d329d0fe74b7fb9412369b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandre C.", "link": "https://stackoverflow.com/users/373025/alexandre-c"}, "edited": false, "score": 0, "creation_date": 1465411506, "post_id": 37710398, "comment_id": 62894896, "body": "Your code has undefined behavior, you cannot expect anything correct here."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1465414503, "post_id": 37710398, "comment_id": 62896552, "body": "This isn&#39;t the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line."}], "answers": [{"tags": [], "owner": {"reputation": 1459, "user_id": 1571290, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d82e71f3fbe329128bc2291f68d193a?s=128&d=identicon&r=PG", "display_name": "John M", "link": "https://stackoverflow.com/users/1571290/john-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1465411966, "last_edit_date": 1465411966, "creation_date": 1465411492, "answer_id": 37710484, "question_id": 37710398, "link": "https://stackoverflow.com/questions/37710398/why-is-this-loop-running-invisible-code-and-not-working-in-order/37710484#37710484", "title": "Why is this loop running invisible code? and not working in order", "body": "<p>The code is not invisible. You are outputting two numbers per each loop execution, one on first line, then a newline, then another on the next line.</p>\n\n<p>Just do </p>\n\n<pre><code>int ASCI1 = 1;\nfor (int i = 1; i &lt;= 4; i++){\n    cout &lt;&lt; ASCI1++ &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1465411639, "creation_date": 1465411639, "answer_id": 37710544, "question_id": 37710398, "link": "https://stackoverflow.com/questions/37710398/why-is-this-loop-running-invisible-code-and-not-working-in-order/37710544#37710544", "title": "Why is this loop running invisible code? and not working in order", "body": "<p>Not clear why you created that mess, just use:</p>\n\n<pre><code>int ASCI1 = 1;\n\nfor (int i = 0; i &lt; 4; i++) {\n    cout &lt;&lt; ASCI1++ &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Note you should either start with 0 (as shown) or change condition to <code>&lt;=</code> otherwise you will loop 3 times instead of 4.</p>\n"}, {"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465416636, "post_id": 37710883, "comment_id": 62897750, "body": "Are you sure about the UB? When sequence points still existed, there was one before a function was entered, and one after the function call returned. I don&#39;t know if operator invocations count as function calls, though."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465417128, "post_id": 37710883, "comment_id": 62898032, "body": "@IInspectable: <a href=\"https://en.wikipedia.org/wiki/Sequence_point\" rel=\"nofollow noreferrer\">The Wikipedia page</a> has a good writeup about it, actually. Basically, if I say in the same line <code>cout &lt;&lt; (a++) &lt;&lt; (b++);</code> where <code>a</code> and <code>b</code> are integers, then we don&#39;t know if <code>a+1</code> or <code>b+1</code> will get evaluated first because <code>&lt;&lt;</code> is not a sequence point, but it doesn&#39;t really matter. However, if I say something like <code>cout &lt;&lt; a &lt;&lt; a++;</code> then it <i>does</i> matter. <a href=\"http://stackoverflow.com/a/4183735/27678\">This other SO answer is another great resource</a> and it specifically covers the <code>&gt;&gt;</code> and <code>&lt;&lt;</code> operators."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465417325, "post_id": 37710883, "comment_id": 62898147, "body": "I don&#39;t see any specific notes about (stream) operators on that page. Given their function-like nature, I would have assumed that the same sequencing rules apply as for function calls. And in that case <code>cout &lt;&lt; a &lt;&lt; a++;</code> would be well defined."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465418107, "post_id": 37710883, "comment_id": 62898536, "body": "@IInspectable: Unfortunately it&#39;s not, and if you plug something like that into <a href=\"http://coliru.stacked-crooked.com/a/d778736db3a5c462\" rel=\"nofollow noreferrer\">gcc</a> or <a href=\"http://coliru.stacked-crooked.com/a/124ada41d9c01dfa\" rel=\"nofollow noreferrer\">clang</a> they&#39;ll give you a warning like so (Clang): &quot;warning: unsequenced modification and access to &#39;a&#39; [-Wunsequenced]&quot;"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465418402, "post_id": 37710883, "comment_id": 62898683, "body": "So is <a href=\"http://stackoverflow.com/a/4638386/1889329\">this answer</a> wrong then? Or does <code>std::cout</code>&#39;s <code>operator&lt;&lt;()</code> not count as a user-defined operator? Or have things changed in C++11? Or are those compiler diagnostics wrong?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465418848, "post_id": 37710883, "comment_id": 62898922, "body": "@IInspectable: I think your confusion stems from your understanding of what &quot;there was [a sequence point] before a function was entered, and one after the function call returned.&quot; What this means is that all the arguments to a function will have had their side effects completed before the function enters. It does not, however, mean, that if two functions are listed in order in an expression that they&#39;ll be evaluated in some left to right order (unless there is a sequence point between them, like logical &amp;&amp; or something)."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465419258, "post_id": 37710883, "comment_id": 62899124, "body": "That makes sense. In other words, while it is guaranteed for each call to the operator <code>&lt;&lt;</code> that its right-hand side is evaluated before the call, the individual operator <code>&lt;&lt;</code> invocations aren&#39;t sequenced relative to each other."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465419856, "post_id": 37710883, "comment_id": 62899400, "body": "@IInspectable: The answer you linked to is not wrong, because it is about <i>nesting</i> function calls. Using <code>operator&lt;&lt;</code> on a stream does introduce sequence points in a manner of speaking, but not in the same way. Honestly at this point, the more I dig the more confusing it&#39;s getting. In the end it boils down to saying that there is no sequence point between invocations of <code>operator&lt;&lt;</code>, so saying something like <code>operator&lt;&lt;(a).operator&lt;&lt;(a++)</code> means the order in which <code>a</code> and <code>a++</code> are evaluated is unspecified."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465419862, "post_id": 37710883, "comment_id": 62899402, "body": "(Continued) , however, you will at least be guaranteed that <code>operator&lt;&lt;(a++)</code> will happen <i>after</i> <code>operator&lt;&lt;(a)</code> (but since the evaluation of <code>a</code> and <code>a++</code> are unsequenced we have undefined behavior."}], "tags": [], "owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "is_accepted": false, "score": 6, "last_activity_date": 1465412790, "creation_date": 1465412790, "answer_id": 37710883, "question_id": 37710398, "link": "https://stackoverflow.com/questions/37710398/why-is-this-loop-running-invisible-code-and-not-working-in-order/37710883#37710883", "title": "Why is this loop running invisible code? and not working in order", "body": "<p>The <code>&lt;&lt;</code> operator is not defined as a sequence point in C++, so it's possible for <code>ASCI1</code> and <code>ASCI1++</code> to be evaluated in any order.</p>\n\n<p>If you try to perform reads and writes on an object with unsequenced evaluation, then you have undefined behavior, hence the garbage output you are seeing. </p>\n\n<p>Finally, you don't see a newline at the end 1) because you got lucky, and 2) because even if your loop executed as you had planned, you're still performing a write without following it up with another <code>endl</code></p>\n"}, {"tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1465415540, "creation_date": 1465415540, "answer_id": 37711696, "question_id": 37710398, "link": "https://stackoverflow.com/questions/37710398/why-is-this-loop-running-invisible-code-and-not-working-in-order/37711696#37711696", "title": "Why is this loop running invisible code? and not working in order", "body": "<p>Let's consider the very first iteration of for loop (when <code>ASCI1</code> is <code>1</code>):</p>\n\n<pre><code>cout &lt;&lt; ASCI1 &lt;&lt; endl &lt;&lt; ASCI1++;\n</code></pre>\n\n<p>This statement is transformed as (<em>hypothetically</em>):</p>\n\n<pre><code>cout.print(ASCI1).printNewLine().print(ASCI1++);\n</code></pre>\n\n<p>As others commented, order of evaluation is not defined. In your case, <code>++</code> operation is being performed first, but the last <code>print</code> statement is <em>to be passed</em> old value of variable (i.e. <code>1</code>), and not incremented value. The <em>just incremented</em> value is passed to first <code>print</code>. Hence it becomes:</p>\n\n<pre><code>   cout.print(2).printNewLine().print(1); \n</code></pre>\n\n<p>The value of <code>ASCI1</code> would be <code>1</code> after this statement. It will give output as:</p>\n\n<pre><code>2\\n\n1\n</code></pre>\n\n<p>And the next iteration would print <code>3</code> and <code>2</code> the same way I explained above</p>\n\n<pre><code>2\n13\n2\\n\n</code></pre>\n\n<p>You've been lucky that you used just one <code>++</code> statement in one statement.</p>\n\n<p>What if first <code>print</code> is passed <code>1</code> and second is passed <code>2</code>, or <code>1</code> and <code>1</code>. It is up to compiler, and the compilation phase. This is <em>Undefined Behaviour</em> (<strong>UB</strong>)</p>\n"}], "owner": {"reputation": 387, "user_id": 5329705, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6066f01511661527f4d84a5207890e4d?s=128&d=identicon&r=PG&f=1", "display_name": "TheProgramMAN123", "link": "https://stackoverflow.com/users/5329705/theprogramman123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 37710544, "answer_count": 4, "score": 1, "last_activity_date": 1465415540, "creation_date": 1465411211, "last_edit_date": 1465413649, "question_id": 37710398, "link": "https://stackoverflow.com/questions/37710398/why-is-this-loop-running-invisible-code-and-not-working-in-order", "title": "Why is this loop running invisible code? and not working in order", "body": "<pre><code>int ASCI1 = 1;\n\nfor (int i = 1; i &lt; 8; i++)\n{\n    cout &lt;&lt; ASCI1 &lt;&lt; endl &lt;&lt; ASCI1++;\n}\n</code></pre>\n\n<p>I get output :</p>\n\n<pre><code>2\n13\n24\n35\n46\n57\n68\n</code></pre>\n\n<p><code>7</code> (and no end line here for some reason).</p>\n\n<p>The idea was to get </p>\n\n<pre><code>1\n2\n3\n4 \netc.\n</code></pre>\n\n<p>Completely stumped, please help!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1465412636, "post_id": 37710394, "comment_id": 62895546, "body": "The <code>(int)</code> cast is redundant. The second line could be <code>cout &lt;&lt; (void*)number &lt;&lt; endl;</code>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "is_accepted": false, "score": 5, "last_activity_date": 1465411472, "creation_date": 1465411472, "answer_id": 37710475, "question_id": 37710394, "link": "https://stackoverflow.com/questions/37710394/why-do-stdhex-and-void-on-an-integer-result-in-the-same-value/37710475#37710475", "title": "Why do std::hex and void* on an integer result in the same value", "body": "<p>This is, I believe, <em>implementation defined</em> behavior.</p>\n\n<p>As a practical matter:</p>\n\n<ul>\n<li>Formatted output of pointers tends to give the address they point to.</li>\n<li>At the level of machine code, pointers tend to be stored as a 32-bit or 64-bit integer representing a memory address.</li>\n<li>The cast tends to be implemented by simply reinterpreting the machine language integer as representing a pointer.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 6441935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7cdc1f3356a9a0260bab40ca05b1bb?s=128&d=identicon&r=PG&f=1", "display_name": "W. Situ", "link": "https://stackoverflow.com/users/6441935/w-situ"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465415682, "creation_date": 1465411205, "last_edit_date": 1465415682, "question_id": 37710394, "link": "https://stackoverflow.com/questions/37710394/why-do-stdhex-and-void-on-an-integer-result-in-the-same-value", "title": "Why do std::hex and void* on an integer result in the same value", "body": "<p>For example in C++:</p>\n\n<pre><code>    int number = 10;\n    cout &lt;&lt; std::hex &lt;&lt; number &lt;&lt; endl;\n    cout &lt;&lt; (void *)(int)number &lt;&lt; endl;\n</code></pre>\n\n<p>Why do the two outputs have the same hex value?</p>\n\n<p>What does the <code>(void *)(int)number</code> really mean here?</p>\n"}, {"tags": ["c++", "performance", "class", "oop"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1465412573, "post_id": 37710369, "comment_id": 62895516, "body": "Not unlikely, you possibly introduce overhead with the <code>handle</code>"}, {"owner": {"reputation": 5569, "user_id": 201787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vgB9F.jpg?s=128&g=1", "display_name": "metal", "link": "https://stackoverflow.com/users/201787/metal"}, "edited": false, "score": 0, "creation_date": 1465416759, "post_id": 37710369, "comment_id": 62897832, "body": "You need more concrete data. Remember Hoare&#39;s Dictum: Premature optimization is the root of all evil. Measure the performance with a profiler rather than guessing. (Other factors come into play such as whether you are passing by value or reference, how big the real classes are, what optimization settings you are using, etc.)"}, {"owner": {"reputation": 5569, "user_id": 201787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vgB9F.jpg?s=128&g=1", "display_name": "metal", "link": "https://stackoverflow.com/users/201787/metal"}, "edited": false, "score": 0, "creation_date": 1465416768, "post_id": 37710369, "comment_id": 62897838, "body": "Knuth: &quot;Programmers waste enormous amounts of time thinking about, or worrying about, the speed of noncritical parts of their programs, and these attempts at efficiency actually have a strong negative impact when debugging and maintenance are considered. We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%.&quot;"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1465419428, "post_id": 37710369, "comment_id": 62899213, "body": "You&#39;ll see the overhead by comparing the object code generated by your compiler for your platform for each implementation."}], "answers": [{"comments": [{"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 6, "creation_date": 1465412036, "post_id": 37710617, "comment_id": 62895218, "body": "<i>&quot;there will be a sligth overhead due to the call to the constructor&quot;</i> there <b>might</b> be. I expect LTO to kick in and inline any calls to simple constructors even if they are defined in diffetent TU."}], "tags": [], "owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "is_accepted": true, "score": 2, "last_activity_date": 1465411860, "creation_date": 1465411860, "answer_id": 37710617, "question_id": 37710369, "link": "https://stackoverflow.com/questions/37710369/class-overhead-in-c/37710617#37710617", "title": "Class overhead in C++", "body": "<p>If you split your class in a header and source file and use it in other compilation units there will be a sligth overhead due to the call to the constructor.</p>\n\n<p>To solve this, the definition of your constructor has to be placed within your header file, so that the compiler can inline it.</p>\n\n<p>You can do this with either changing your class declaration:</p>\n\n<pre><code>class Vehicle {\npublic:\n    Vehicle(int handle)\n     : handle(handle)\n    {\n    }\n...\n</code></pre>\n\n<p>or by putting the definition inside your headerfile and decorating it with the <code>inline</code> keyword.</p>\n\n<pre><code>class Vehicle {\npublic:\n    Vehicle(int handle);\n...\n}\n\ninline Vehicle::Vehicle(int handle)\n : handle(handle)\n{\n}\n</code></pre>\n\n<p>Notice that there is no gurantee that your function will be inlined, but probably every major compiler out there will be able to do it.</p>\n\n<p>Also notice, that additional work in your constructor, e.g <code>handle - 1</code>, will also very likely result in a overhead.</p>\n\n<p>If your class is polymorphic or bigger, there might be additional overhead.</p>\n"}, {"tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1465416066, "creation_date": 1465416066, "answer_id": 37711847, "question_id": 37710369, "link": "https://stackoverflow.com/questions/37710369/class-overhead-in-c/37711847#37711847", "title": "Class overhead in C++", "body": "<p>An optimizing compiler would ensure that there is no overhead for such simple <em>call forwards</em>. The core class (used by wrapper) should ideally be in same module (DLL/SO), otherwise linker/optimizer <em>may be</em> of little help. </p>\n\n<p>However, for such thin wrappers around core class, even in shared-library scenario, the compiler would simply call the core method, eliminating the wrapper class method from call site.</p>\n"}], "owner": {"reputation": 144, "user_id": 6039671, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12229481501875fb350efce0d7db5986?s=128&d=identicon&r=PG&f=1", "display_name": "stulleman", "link": "https://stackoverflow.com/users/6039671/stulleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 2, "accepted_answer_id": 37710617, "answer_count": 2, "score": 2, "last_activity_date": 1465416066, "creation_date": 1465411109, "last_edit_date": 1465415846, "question_id": 37710369, "link": "https://stackoverflow.com/questions/37710369/class-overhead-in-c", "title": "Class overhead in C++", "body": "<p>I have a class e.g.:</p>\n\n<pre><code>class Vehicle {\n  public:\n    Vehicle(int handle);\n\n    // Methods that use the handle e.g.:\n    Color getColor() {\n        return VEHICLE::GET_COLOR(handle);\n    }\n\n  protected:\n    int handle;\n};\n</code></pre>\n\n<p>I don't know if that example makes sense to you, but I built several wrapper classes around those handles to get a more OOP style of coding.</p>\n\n<p>So my question now is, how much overhead is there when I pass a <code>Vehicle</code> object over just passing the vehicle handle to other methods?</p>\n"}, {"tags": ["c++", "unit-testing", "gcc", "cmake"], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 3852496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a50bc2e9bc820b75dc254e9524769d07?s=128&d=identicon&r=PG&f=1", "display_name": "Greeneco", "link": "https://stackoverflow.com/users/3852496/greeneco"}, "is_accepted": true, "score": 2, "last_activity_date": 1465414693, "creation_date": 1465414693, "answer_id": 37711467, "question_id": 37710344, "link": "https://stackoverflow.com/questions/37710344/fail-to-link-unittest/37711467#37711467", "title": "Fail to link UnitTest++", "body": "<p>I have solved it by changing my cmake file to:</p>\n\n<pre><code>project(BNN)\ncmake_minimum_required(VERSION 2.8)\n\ninclude_directories(src)\n\nfile(GLOB SOURCES \"*.cpp\" \"src/*.h\" \"src/*.cpp\" \"tests/*.cpp\")\nfile(GLOB DATA_FILE \"*.md\")\n\nadd_executable(${PROJECT_NAME} ${SOURCES} ${DATA_FILE})\ntarget_link_libraries(${PROJECT_NAME} ${CMAKE_SOURCE_DIR}/../unittest-cpp/builds/libUnitTest++.a)\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 3852496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a50bc2e9bc820b75dc254e9524769d07?s=128&d=identicon&r=PG&f=1", "display_name": "Greeneco", "link": "https://stackoverflow.com/users/3852496/greeneco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "closed_date": 1465415285, "accepted_answer_id": 37711467, "answer_count": 1, "score": 0, "last_activity_date": 1465414693, "creation_date": 1465411035, "question_id": 37710344, "link": "https://stackoverflow.com/questions/37710344/fail-to-link-unittest", "closed_reason": "Duplicate", "title": "Fail to link UnitTest++", "body": "<p>I want to use <a href=\"https://github.com/unittest-cpp/unittest-cpp\" rel=\"nofollow\">UnitTest++</a> in my project but I get an error on compiling:</p>\n\n<pre><code>CMakeFiles/BNN.dir/main.cpp.o:-1: In function `main':\nBNN/main.cpp:-1: error: undefined reference to `UnitTest::RunAllTests()'\n:-1: error: collect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>I searched the web for an answer and tried several things that's what I have right now:</p>\n\n<pre><code>project(BNN)\ncmake_minimum_required(VERSION 2.8)\n\nfile(GLOB SRC \"*.cpp\" \"src/*.h\" \"src/*.cpp\")\nfile(GLOB DATA_FILE \"*.md\")\n\nfind_package(UnitTest++ REQUIRED)\ninclude_directories(${UnitTest++_INCLUDE_DIRS})\nset(LIBS ${LIBS} ${UnitTest++_LIBRARY})\n\nadd_executable(${PROJECT_NAME} ${SRC} ${DATA_FILE})\ntarget_link_libraries(${PROJECT_NAME} ${LIBS})\n</code></pre>\n\n<p>I build the library by following the official guide:</p>\n\n<pre><code>cd path/to/unittest-cpp/builds\ncmake -G \"&lt;Choose a valid generator&gt;\" ../\ncmake --build ./\nsudo cmake --build ./ --target install\n</code></pre>\n\n<p>My OS is ArchLinux.</p>\n\n<p>What do I have to do so I can compile it with cmake?</p>\n"}, {"tags": ["c++", "c++-cli"], "comments": [{"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1465418900, "post_id": 37710294, "comment_id": 62898944, "body": "AddingWrapper is being exported from the dll. What calls that code and what does that look like?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1465418910, "post_id": 37710294, "comment_id": 62898951, "body": "A VB.NET program does not know how to properly construct and destroy a native C++ object.  You get the AVE because the <i>this</i> object reference is garbage, the constructor was never called.  You can only safely export a static member function or a plain C function.  Or a <code>public ref class</code>, a managed class like any VB.NET class, largely the point of using C++/CLI."}, {"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1465475876, "post_id": 37710294, "comment_id": 62923628, "body": "Mhm @HansPassant , why would the VB.net program know how to destroy the C++ pointer as the .exe execution is in native C++. The VB code only takes in 2 ints ( or double whatever I put in there) and returns a reference to the int memory space no? I thought that&#39;s all that was needed. I  just think something goes wrong in between my classes and I can&#39;t seem to be able to debug it as it happens at run time and I&#39;ve never had to debug at run time. Plus, if I run the program in debug mode in VS 2015, it only gives me a C2059 / C2018 in my .lib file. So it&#39;s very disorienting to find the problem"}, {"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "reply_to_user": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1465475908, "post_id": 37710294, "comment_id": 62923654, "body": "@Niall yes It is being exported to native C++. I apologize, I should&#39;ve been more precised, thought I was being."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465418549, "post_id": 37712317, "comment_id": 62898762, "body": "Mhm the VB code is rather straight forward so I didn&#39;t think of putting it in. It&#39;s in now ( right after I answer). As for the int* I thought I had to pass a pointer reference because it was going between unmanaged / managed code. ( Keep in mind, it&#39;s my first time playing with unmanaged code).  For your 3rd point, I thought using __gcroot was needed when dealing with managed code in native c++ ( I do mean using my VB.net function in native C++)"}, {"owner": {"reputation": 25655, "user_id": 480937, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/448470e105833cd4179b24314714360e?s=128&d=identicon&r=PG", "display_name": "David Yaw", "link": "https://stackoverflow.com/users/480937/david-yaw"}, "reply_to_user": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465419105, "post_id": 37712317, "comment_id": 62899053, "body": "OK, it wasn&#39;t obvious, and I thought you were trying to call C++ from VB. See edit."}, {"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465475580, "post_id": 37712317, "comment_id": 62923406, "body": "Ah thank you. I&#39;m guessing it is very unorthodox. Fact of the matter is that a company needs to upgrade their code and as the intern I&#39;m the one doing the crap job ( not complaining, just saying). Half their team works in VB.net and only knows that, and the other half in native C++. I&#39;ll add something else on top of that ( I did remove the wrapper, but something still goes on at run time.). However, I&#39;ll ask this: what do you mean by bad pointer? I.e: my program loses my actual pointer in memory and just grabs another one?"}, {"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465476696, "post_id": 37712317, "comment_id": 62924294, "body": "From the error it seems the error happens at gcroot(Add^), which seems to screw everything afterwards, because if there&#39;s no pointer there, it can&#39;t access the VB file. However, this error ( as said above ) only happens at run time which I&#39;ve never had to debug before ."}], "tags": [], "owner": {"reputation": 25655, "user_id": 480937, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/448470e105833cd4179b24314714360e?s=128&d=identicon&r=PG", "display_name": "David Yaw", "link": "https://stackoverflow.com/users/480937/david-yaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1465419084, "last_edit_date": 1465419084, "creation_date": 1465417782, "answer_id": 37712317, "question_id": 37710294, "link": "https://stackoverflow.com/questions/37710294/unhandled-exception-system-accessviolationexception-attempted-to-read-or-writ/37712317#37712317", "title": "Unhandled Exception: System.AccessViolationException : attempted to read or write protected", "body": "<p>Several things:</p>\n\n<ul>\n<li>You haven't shown your VB code. Since you've written an unmanaged class, not a managed one, it seems likely that either the import is not correct, or that you're passing a bad pointer.</li>\n<li>Why are you passing an <code>int*</code> to the wrapper, only to dereference it right there? Why not pass an <code>int</code>?</li>\n<li>You're in C++/CLI, why are you not writing a managed class? You wouldn't need <code>auto_gcroot</code>, and you don't need to deal with DLL imports/exports: VB.Net would be able to see your class the same as it can see any .Net class, and reference it just as easily as you can reference any .Net library.</li>\n</ul>\n\n<h1>Edit</h1>\n\n<p>OK, it wasn't obvious that you were trying to call some VB.Net code from C++. I thought you were trying to go the other direction. </p>\n\n<p>The problem is almost certainly that you're passing a bad pointer to <code>AddingWrapper::Adding</code>. </p>\n\n<p>You don't need to pass a pointer for basic data types, so you can get rid of that entire thing if you want. The fact that it's a double in VB but an int in C++ is fine, C++/CLI knows that the VB code takes a double and will convert appropriately. </p>\n\n<p>Also, note that you're <em>not</em> passing a pointer between managed and unmanaged code. You're passing a pointer from one unmanaged class to another unmanaged class (whatever calls AddWrapper, to AddWrapper), but across the managed/unmanaged border, you're passing a plain old <code>int</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465478896, "post_id": 37726485, "comment_id": 62926074, "body": "mhm, interesting. I&#39;m not used to using pointers as I come from purely managed languages. However, I would assume that int* a = 5 would point to a memory address that contains the integer 5. As for your answer, it worked. I didn&#39;t think my DLL would work but god, I spent 10 hours on this and all that was wrong was my pointers, care to enlighten me on why the pointers were lost in oblivion?"}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465480385, "post_id": 37726485, "comment_id": 62927292, "body": "The pointers were note lost, the objects were not created. To create an object and access it via a pointer, the syntax is <code>int* a = new int(5);</code> this creates and integer, with the value 5 and assigns it to the pointer <code>a</code>. To clean it up, use <code>delete a;</code>. Using a more modern C++ would be <code>auto a = std::make_unique&lt;int&gt;(5);</code> and the type for <code>a</code> is deduced (<code>unique_ptr&lt;int&gt;</code>) and all the memory is cleaned up by the <code>unique_ptr</code>."}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465480472, "post_id": 37726485, "comment_id": 62927359, "body": "In general, unless a dynamic lifetime is required (via <code>shared_ptr</code> or <code>unique_ptr</code>), use automatic values (&quot;on the stack&quot;)."}, {"owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465480509, "post_id": 37726485, "comment_id": 62927386, "body": "mhm thanks for pointing that out. I had to teach myself pointers on the go and some tutorials just initialize it as int* x = 5 for instance. The more you know. Thank you!"}, {"owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "reply_to_user": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "edited": false, "score": 0, "creation_date": 1465480607, "post_id": 37726485, "comment_id": 62927470, "body": "There is a book list here; <a href=\"http://stackoverflow.com/q/388242/3747990\">stackoverflow.com/q/388242/3747990</a>, with some very good books on all levels (and some online as well)."}], "tags": [], "owner": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "is_accepted": true, "score": 1, "last_activity_date": 1465476971, "last_edit_date": 1465476971, "creation_date": 1465476570, "answer_id": 37726485, "question_id": 37710294, "link": "https://stackoverflow.com/questions/37710294/unhandled-exception-system-accessviolationexception-attempted-to-read-or-writ/37726485#37726485", "title": "Unhandled Exception: System.AccessViolationException : attempted to read or write protected", "body": "<p>In the <code>main</code> function, you are using a \"null\" object pointer and passing in <code>NULL</code> pointers - that will cause the error you are seeing.</p>\n\n<pre><code>int main()\n{\n   int a = 1;\n   // ^^^ remove the pointer (and give it a \"interesting\" value)\n   int b = 2;\n   // ^^^ remove the pointer\n   AddingWrapper add; // remove the pointer (or allocate with new)\n   //          ^^^ remove the pointer\n   int results = add.Adding(&amp;a, &amp;b); // pass in the address of the integers\n   //              ^^^ syntax change\n\n   std::cout &lt;&lt; \"here is the result\";\n   std::cout &lt;&lt; results;\n   return 0;\n }\n</code></pre>\n\n<p>The variable <code>a</code>, <code>b</code> and <code>add</code> where only pointers, pointing to nothing; this causes access violations. Changing them to be automatic objects (\"on the stack\") will fix this. If dynamic objects are needed, you can <code>new</code> them (and <code>delete</code> them afterwards); but favour library utilities such as <code>std::shared_ptr</code> and <code>std::unique_ptr</code> etc. to help manage the lifetime of the object.</p>\n"}], "owner": {"reputation": 5, "user_id": 6420597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bab1d2be3c024c4c943143fac3b990?s=128&d=identicon&r=PG&f=1", "display_name": "MMTYL", "link": "https://stackoverflow.com/users/6420597/mmtyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2091, "favorite_count": 0, "accepted_answer_id": 37726485, "answer_count": 2, "score": 0, "last_activity_date": 1465476971, "creation_date": 1465410857, "last_edit_date": 1465475710, "question_id": 37710294, "link": "https://stackoverflow.com/questions/37710294/unhandled-exception-system-accessviolationexception-attempted-to-read-or-writ", "title": "Unhandled Exception: System.AccessViolationException : attempted to read or write protected", "body": "<p><strong>Problem:</strong> Getting an error when running my .exe </p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.AccessViolationException'\n  occurred in AddingWrapper.dll</p>\n  \n  <p>Additional information: Attempted to read or write protected memory.\n  This is often an indication that other memory is corrupt.</p>\n</blockquote>\n\n<p>In the console it writes this: </p>\n\n<blockquote>\n  <p>Unhandled Exception: System.AccessViolationException : attempted to\n  read or write protected memory. This is often an indication that other\n  memory is corrupt. at gcroot (Add ^)..   P$AAVAdd@@(gcroot(Add^)<em>)  at\n  AddingWrapper.Adding(AddingWrapper</em>, Int32* x, Int32* y)</p>\n</blockquote>\n\n<p>Code snippet:</p>\n\n<p>VB code:</p>\n\n<pre><code>Public Class Add\n  Public Function Adding(ByVal x As Double, ByVal y As Double) As Integer\n      Return x + y\n   End Function\n</code></pre>\n\n<p>End Class</p>\n\n<p>AddingWrapper.h:</p>\n\n<pre><code>#pragma once\n#include \"stdafx.h\"\n\nclass AddingWrapperPrivate;\n\n\nclass __declspec(dllexport) AddingWrapper {\n\nprivate: AddingWrapperPrivate* _private;\npublic: AddingWrapper();\n        int Adding(int* x, int* y);\n       ~AddingWrapper();\n\n};\n</code></pre>\n\n<p>AddingWrapper.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n\n#include \"AddingWrapper.h\"\n\n#using \"Class1.dll\"\n#include &lt;msclr\\auto_gcroot.h&gt;\nusing namespace System::Runtime::InteropServices;\n\nclass AddingWrapperPrivate {\n  public: msclr::auto_gcroot&lt;Add^&gt; add;\n};\n\nAddingWrapper::AddingWrapper()\n{\n    _private = new AddingWrapperPrivate();\n    _private-&gt;add = gcnew Add();\n};\nint AddingWrapper::  Adding(int* x, int* y) {\n    return _private-&gt;add-&gt;Adding(*x, *y);\n};\nAddingWrapper::~AddingWrapper()\n{\n    delete _private;\n};\n</code></pre>\n\n<p>calling code:</p>\n\n<pre><code> #include \"stdafx.h\"\n #include \"AddingWrapper.h\"\n #include &lt;iostream&gt;\n    int main()\n{\n  int *a = 0;\n   int *b = 0;\n   AddingWrapper *add;\n   int results =  add-&gt;Adding(a,b);\n   std::cout &lt;&lt; \"here is the result\";\n   std::cout &lt;&lt; results;\n   return 0;\n }\n</code></pre>\n\n<p>Could it be due to my Class1.dll in AddingWrapper.cpp is using VB.net? Or it's a question of other issues? All the other threads seem to all differ in answer (i.e one is suggesting the user account doesn't have all the rights to the computer). If ever I missed on of those thread, please link it to me, this error is killing me</p>\n\n<p>I should also add this error is at run time not compile time.</p>\n"}, {"tags": ["c++", "qt", "scroll", "widget"], "comments": [{"owner": {"reputation": 505, "user_id": 6350374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd132b176abca00f8443a74c169d1d6?s=128&d=identicon&r=PG&f=1", "display_name": "DYangu", "link": "https://stackoverflow.com/users/6350374/dyangu"}, "edited": false, "score": 0, "creation_date": 1465411153, "post_id": 37710266, "comment_id": 62894700, "body": "How did you try to promote?"}, {"owner": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "reply_to_user": {"reputation": 505, "user_id": 6350374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd132b176abca00f8443a74c169d1d6?s=128&d=identicon&r=PG&f=1", "display_name": "DYangu", "link": "https://stackoverflow.com/users/6350374/dyangu"}, "edited": false, "score": 0, "creation_date": 1465411411, "post_id": 37710266, "comment_id": 62894842, "body": "@DYangu right click the widget then promote to then I wrote QScrollArea and add"}, {"owner": {"reputation": 505, "user_id": 6350374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd132b176abca00f8443a74c169d1d6?s=128&d=identicon&r=PG&f=1", "display_name": "DYangu", "link": "https://stackoverflow.com/users/6350374/dyangu"}, "edited": false, "score": 0, "creation_date": 1465411967, "post_id": 37710266, "comment_id": 62895180, "body": "So if you are using ui in design mode, why don&#39;t you add scroll bars directly from input widgets menu?"}, {"owner": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "reply_to_user": {"reputation": 505, "user_id": 6350374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd132b176abca00f8443a74c169d1d6?s=128&d=identicon&r=PG&f=1", "display_name": "DYangu", "link": "https://stackoverflow.com/users/6350374/dyangu"}, "edited": false, "score": 0, "creation_date": 1465416691, "post_id": 37710266, "comment_id": 62897791, "body": "@DYangu I have edited the post"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "edited": false, "score": 0, "creation_date": 1465481868, "post_id": 37713383, "comment_id": 62928406, "body": "thank you that actually solved my problem.I have another question I need to put a lot of plot s and text boxes and tables and I want to chose there place on the grid and size i can&#39;t do that with your code because It keep setting the layout automatically do you know how do I proceed after I palce the widget myself in design mode  in order to  make it keep it&#39;s place after adding it to the layout? I have around 50 widgets and as the user scrolls he will see more of the widgets sort of like having different pages"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "edited": false, "score": 0, "creation_date": 1465578608, "post_id": 37713383, "comment_id": 62976967, "body": "@Georges Without a layout you will be solely responsible for widget placement. That&#39;s all. I don&#39;t understand what are you asking. Or what kind of answer do you expect? It&#39;s not true that layouts are added without a way to remove them. You have full control over what widgets have layouts."}, {"owner": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "edited": false, "score": 0, "creation_date": 1465580819, "post_id": 37713383, "comment_id": 62978045, "body": "I am new to programming a user interface and new to qt could you explain to me how I could place widgets manually?Or how to modify the layout?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "edited": false, "score": 0, "creation_date": 1465825815, "post_id": 37713383, "comment_id": 63049186, "body": "@Georges Programmatically: add a new widget instance, parent it properly, then set its geometry. Using Designer: clear the layout from the parent widget. Add child widgets. Move/size them as desired."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1465421914, "last_edit_date": 1495535345, "creation_date": 1465421914, "answer_id": 37713383, "question_id": 37710266, "link": "https://stackoverflow.com/questions/37710266/adding-scroll-bar-to-a-qwidget/37713383#37713383", "title": "Adding scroll bar to a Qwidget", "body": "<p><code>QScrollArea</code> can take any number of widgets - indirectly. The <code>widget()</code> can contain any number of child widgets, it can have a layout set, etc. See e.g. <a href=\"https://stackoverflow.com/a/18704271/1329652\">this answer</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 6347713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edb9c231e180b03e4756191f7f9418a?s=128&d=identicon&r=PG&f=1", "display_name": "Georges", "link": "https://stackoverflow.com/users/6347713/georges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6412, "favorite_count": 0, "accepted_answer_id": 37713383, "answer_count": 1, "score": 2, "last_activity_date": 1465421914, "creation_date": 1465410733, "last_edit_date": 1465416656, "question_id": 37710266, "link": "https://stackoverflow.com/questions/37710266/adding-scroll-bar-to-a-qwidget", "title": "Adding scroll bar to a Qwidget", "body": "<p>I want to add scroll bars to the frame container. the QscrollArea can only take on widget but in my frame I need many wigets</p>\n\n<p>I tried to write a code for the bars after adding a horizantal and vertical one  but It's too hard.Is there any pre-made free code I could use ?</p>\n\n<p>thank you</p>\n"}, {"tags": ["c++", "visual-studio-2012", "mfc"], "comments": [{"owner": {"reputation": 1340, "user_id": 752911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a17d2678d8ac40cec4ca8dfd968350d3?s=128&d=identicon&r=PG", "display_name": "Jason Enochs", "link": "https://stackoverflow.com/users/752911/jason-enochs"}, "edited": false, "score": 0, "creation_date": 1465410677, "post_id": 37709959, "comment_id": 62894421, "body": "Total shot in the dark...is there anything else between the BEGIN_MESSAGE_MAP and END_MESSAGE_MAP?  Assuming there is, that error could be produced by the code just above it.  There must be a reason Visual Studio is expecting an expression from that line so I would look hard at the code just above it and possible try to move the offending line to a new location.  On a side note...Using Visual Studio 2012 and working with MFC applications firmly anchors you in the old timer hall of fame.  :)"}], "answers": [{"tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411082, "creation_date": 1465411082, "answer_id": 37710355, "question_id": 37709959, "link": "https://stackoverflow.com/questions/37709959/adding-an-event-handler-to-any-controls-causes-error-in-visual-studio/37710355#37710355", "title": "Adding an event handler to any Controls causes error in Visual Studio", "body": "<p>Pointers:</p>\n\n<ul>\n<li>Ensure the class has <code>DECLARE_MESSAGE_MAP</code> in header</li>\n<li>Ensure that base/derived classes in <code>BEGIN_MESSAGE_MAP</code> are correct</li>\n<li>Ensure that <code>CHardwareListing::OnBnClickedCheck1</code> does exist and is of correct type. Also check that <code>IDC_CHECK1</code> is valid.</li>\n<li>Ensure that <code>resource.h</code> is included in CPP or in header.</li>\n</ul>\n\n<p>Also, please ignore this warning/error if it was reported by Intellisense, and not by actual C++ compiler</p>\n"}, {"comments": [{"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 1, "creation_date": 1465417044, "post_id": 37710556, "comment_id": 62897976, "body": "It is fairly standard these days for the class wizard to add the &amp; character prefix."}], "tags": [], "owner": {"reputation": 41, "user_id": 3439870, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9492d8252c14e2a10b61e5c5c03cdda2?s=128&d=identicon&r=PG&f=1", "display_name": "user3439870", "link": "https://stackoverflow.com/users/3439870/user3439870"}, "is_accepted": false, "score": 0, "last_activity_date": 1465411668, "creation_date": 1465411668, "answer_id": 37710556, "question_id": 37709959, "link": "https://stackoverflow.com/questions/37709959/adding-an-event-handler-to-any-controls-causes-error-in-visual-studio/37710556#37710556", "title": "Adding an event handler to any Controls causes error in Visual Studio", "body": "<p>I found the fix to this error, for some reason Visual Studio placed a \"&amp;\" character before the \"CHardwareListing\" argument which was causing the problem. Still not sure why that character was inserted in the first place.</p>\n"}], "owner": {"reputation": 41, "user_id": 3439870, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9492d8252c14e2a10b61e5c5c03cdda2?s=128&d=identicon&r=PG&f=1", "display_name": "user3439870", "link": "https://stackoverflow.com/users/3439870/user3439870"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465411668, "creation_date": 1465409715, "last_edit_date": 1465410209, "question_id": 37709959, "link": "https://stackoverflow.com/questions/37709959/adding-an-event-handler-to-any-controls-causes-error-in-visual-studio", "title": "Adding an event handler to any Controls causes error in Visual Studio", "body": "<p>I have a MFC Application with a single exe loading multiple dll's, in one of my dll project's I have a dialog being created and I'd like to add an event listener for when a checkbox is changed. When I use the resource editor to add an event handler it adds a definition to my header file, a function in my cpp file and it adds a line between the </p>\n\n<pre><code>BEGIN_MESSAGE_MAP(CHardwareListing, CDialog)\nEND_MESSAGE_MAP()\n</code></pre>\n\n<p>portion of the code, but this line that its adding, </p>\n\n<pre><code>ON_BN_CLICKED(IDC_CHECK1, &amp;CHardwareListing::OnBnClickedCheck1)\n</code></pre>\n\n<p>causes a strange error that I dont know how to interpret. </p>\n\n<blockquote>\n  <p>\"Error, expected an expression\"</p>\n</blockquote>\n\n<p>The reason I find this error is strange is because I have other files that were set up the same way without this error, in fact that look almost identical to this after adding the event handler. Any help on what causes this and how to fix it?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 2, "creation_date": 1465409616, "post_id": 37709906, "comment_id": 62893790, "body": "<code>srand(time(Null));</code>"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1465409735, "post_id": 37709906, "comment_id": 62893875, "body": "&quot;my program works differently&quot;: In what way(s)?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 2, "creation_date": 1465409857, "post_id": 37709906, "comment_id": 62893951, "body": "Something that has a 38% chance of happening didn&#39;t happen; what is the question?"}, {"owner": {"reputation": 778, "user_id": 4941367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f9d9494ba211e291ea0bdf9014689c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4941367/jeremy"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 1, "creation_date": 1465409899, "post_id": 37709906, "comment_id": 62893971, "body": "@FirstStep relevant username ;)"}, {"owner": {"reputation": 5760, "user_id": 1863564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XU4XS.png?s=128&g=1", "display_name": "Fund Monica&#39;s Lawsuit", "link": "https://stackoverflow.com/users/1863564/fund-monicas-lawsuit"}, "edited": false, "score": 0, "creation_date": 1465409918, "post_id": 37709906, "comment_id": 62893977, "body": "Make an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, then edit the question to replace the current code with that. Then, edit the rest of your question to say what you expect to happen, what is happening instead, and how you&#39;ve tried to fix it already. In addition, change your title to a succinct description of your problem."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465409920, "post_id": 37709906, "comment_id": 62893979, "body": "I get more than 20 here: <a href=\"http://coliru.stacked-crooked.com/a/eaa98e4703a79f91\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/eaa98e4703a79f91</a>"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 2, "creation_date": 1465410395, "post_id": 37709906, "comment_id": 62894248, "body": "I&#39;m amazed that rand() is that good! There&#39;s no way it will have the correct statistical properties for it to be appropriate for this application. You could try the new mersenne twister generator, but I&#39;m not convinced it would pass this statistical test. Methinks your only option would be to use special hardware or a sequence generated from something like that (you can download them)."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465410649, "post_id": 37709906, "comment_id": 62894397, "body": "@Bath d* right. Exactly what I was thinking. Related info: <a href=\"http://www-cdf.fnal.gov/physics/statistics/notes/cdf6850_badrand.pdf\" rel=\"nofollow noreferrer\">www-cdf.fnal.gov/physics/statistics/notes/cdf6850_badrand.pd&zwnj;&#8203;f</a>"}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 0, "creation_date": 1465410894, "post_id": 37709906, "comment_id": 62894558, "body": "<a href=\"http://rextester.com/TPSV6339\" rel=\"nofollow noreferrer\">Visual Studio</a>&#39;s <code>rand</code> seems particularly bad."}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 0, "creation_date": 1465411061, "post_id": 37709906, "comment_id": 62894642, "body": "If <code>currentHeads</code> == <code>maxHeads</code> == <code>totalHeads</code> &amp;&amp; <code>currentTails</code> == <code>maxTails</code> == <code>totalTails</code>, why have <b>three</b> sets of variables tracking the same count? Are you just trying to flip a coin? Or track the max times heads/tails appears in a row? What result is desired?"}, {"owner": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1465411257, "post_id": 37709906, "comment_id": 62894757, "body": "@FirstStep Looks like your answer is very close to what the OP is possibly looking for."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 4300, "user_id": 4513509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MAkrs.png?s=128&g=1", "display_name": "NonCreature0714", "link": "https://stackoverflow.com/users/4513509/noncreature0714"}, "edited": false, "score": 1, "creation_date": 1465411406, "post_id": 37709906, "comment_id": 62894838, "body": "@NonCrea right? I was like why the h* this guy is duplicating everything to get his result"}], "answers": [{"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465411481, "post_id": 37710285, "comment_id": 62894878, "body": "out of interest, what happens if you switch to  mersenne twister?"}, {"owner": {"reputation": 31, "user_id": 6441783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ed32d430cebb1985bc026c08e21dbea?s=128&d=identicon&r=PG&f=1", "display_name": "warozell", "link": "https://stackoverflow.com/users/6441783/warozell"}, "edited": false, "score": 0, "creation_date": 1465411486, "post_id": 37710285, "comment_id": 62894883, "body": "The problem is that the resulting number ( totalMax ) is not bigger than 15 even though after hundreds of tries there is a big chance of it being higher. FirstStep thank you for simplifying the code, but it has given me the same results ( totalMax is not over 15 ). It seems to be the problem that Bathsheba mentioned - the Visual Studio rand() function. Thank you for your answers."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465411546, "post_id": 37710285, "comment_id": 62894913, "body": "@Bath I really want to know but I don&#39;t know anything about the mersenne twister"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 31, "user_id": 6441783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ed32d430cebb1985bc026c08e21dbea?s=128&d=identicon&r=PG&f=1", "display_name": "warozell", "link": "https://stackoverflow.com/users/6441783/warozell"}, "edited": false, "score": 0, "creation_date": 1465411673, "post_id": 37710285, "comment_id": 62894988, "body": "@warozell take a read of <a href=\"http://en.cppreference.com/w/cpp/numeric/random/uniform_int_distribution\" rel=\"nofollow noreferrer\">std::uniform_int_distribution</a>.  Much better, and still standard-supported, random number generator."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465411689, "post_id": 37710285, "comment_id": 62894999, "body": "It&#39;s part of he c++11 standard library. I&#39;d try myself but it ain&#39;t much fun using them via an iPhone on a choo choo."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465411760, "post_id": 37710285, "comment_id": 62895044, "body": "But really I think you need a generator that is truly Markov to solve this problem. And that&#39;s only available afaik via special hardware boards that have radioactive decay isotopes etc on them."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1465411835, "post_id": 37710285, "comment_id": 62895100, "body": "BathSheba interesting.. Why @NathanOliver got better results? Maybe this is why or it does not matter and it is not the case?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1465411958, "post_id": 37710285, "comment_id": 62895173, "body": "Hacking the above to do Twister I get... Right hand red! But seriously folks, usually around 20, but I&#39;ve spiked into the 30s."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465411961, "post_id": 37710285, "comment_id": 62895177, "body": "@FirstStep Implementations are allowed to implement <code>rand</code> however they want.  Apparently gcc made a more random generator than MSVS."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465412267, "post_id": 37710285, "comment_id": 62895351, "body": "@Nathan I see.. But why in your opinion, here it is <code>15</code> and not something else?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465412392, "post_id": 37710285, "comment_id": 62895418, "body": "@FirstStep Most likely the generator has a small enough period where you start repeating the sequence before you reach the end of the million cases.  If that happens then the results will always be the same like what the OP observed."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465412810, "post_id": 37710285, "comment_id": 62895666, "body": "@Nathan so if we do something equivalent to <code>Thread.Sleep(x++)</code> on every iteration where <code>x</code> starts from 0, we should be able to get the exact answer?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465413156, "post_id": 37710285, "comment_id": 62895845, "body": "@FirstStep Sorry but I don&#39;t get the question.  My theory of what is happening is <code>rand</code> has a fixed period of values it can produce before it starts the sequence all over again(at least in the OP&#39;s implementation).  If that period is smaller then then the number of times you call <code>rand</code> then each time you run you will get the same values since you wind back up where you started.  This is why the OP always gets 15, even though the seed changes, each &quot;run&quot; covers all values of <code>rand</code> so you will always get the same results. at least that is how I think it works.  I have known to be wrong."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465413824, "post_id": 37710285, "comment_id": 62896195, "body": "@nathanoliver: I think you are correct here. I&#39;m still amazed that a linear congruential gerenator can draw 15 odd numbers in a row."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465413947, "post_id": 37710285, "comment_id": 62896262, "body": "@Bathsheba It didn&#39;t(most likely).  The OP is using <code>(rand() % 2 == 0)</code> so all it had to do was pick 15 odd or even numbers in a row."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465414159, "post_id": 37710285, "comment_id": 62896366, "body": "That&#39;s kinda what I meant. I&#39;m still amazed. Must be a curious interaction between the multiplier, constant, and the modulus. One to examine on a rainy day."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465414455, "post_id": 37710285, "comment_id": 62896525, "body": "Oh oops, misread your comment.  Definitely rainy day material."}], "tags": [], "owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1465410823, "creation_date": 1465410823, "answer_id": 37710285, "question_id": 37709906, "link": "https://stackoverflow.com/questions/37709906/c-coin-toss-program/37710285#37710285", "title": "C++ coin toss program", "body": "<p>Read @BathSheba comment. It is just not accurate to expect different output than what you are getting now.</p>\n\n<p>For the sake of simplicity so readers can debug if desired, this is a working version of your code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n\n#define LOOP 1000000 //how many times do I toss a coin\n\nint main()\n{\n    int maxTails = 0;\n    int maxHeads = 0;\n    int currentTotalTails = 0; \n    int currentTotalHeads = 0;\n\n    srand(time(NULL));\n\n    for (int i = 0; i &lt; LOOP; ++i) //tosses a coin LOOP times\n    {\n        if (rand() % 2 == 0)// heads\n        {\n            currentTotalHeads++;\n            currentTotalTails = 0;\n\n            if (currentTotalHeads &gt; maxHeads)\n                maxHeads = currentTotalHeads;\n\n        }\n        else // tails\n        {\n            currentTotalTails++;\n            currentTotalHeads = 0;\n\n            if (currentTotalTails &gt; maxTails)\n                maxTails = currentTotalTails;\n        }\n    }\n\n    std::cout &lt;&lt; \"Max Heads in a row: \" &lt;&lt; maxHeads &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Max Tails in a row: \" &lt;&lt; maxTails &lt;&lt; std::endl;\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465414025, "post_id": 37710773, "comment_id": 62896296, "body": "You might want to consider a Bays-Durham shuffle. Your technique is on the road to that. But I don&#39;t think that would be good enough. Sadly I think your method knackers the generator!"}, {"owner": {"reputation": 44, "user_id": 3784081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4d1a0fc0c76fdda7393c7c2d38a851?s=128&d=identicon&r=PG&f=1", "display_name": "definitelynotbeyonce...", "link": "https://stackoverflow.com/users/3784081/definitelynotbeyonce"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1465414223, "post_id": 37710773, "comment_id": 62896410, "body": "Moral of the story is random numbers aren&#39;t random."}], "tags": [], "owner": {"reputation": 44, "user_id": 3784081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4d1a0fc0c76fdda7393c7c2d38a851?s=128&d=identicon&r=PG&f=1", "display_name": "definitelynotbeyonce...", "link": "https://stackoverflow.com/users/3784081/definitelynotbeyonce"}, "is_accepted": false, "score": 0, "last_activity_date": 1465412392, "creation_date": 1465412392, "answer_id": 37710773, "question_id": 37709906, "link": "https://stackoverflow.com/questions/37709906/c-coin-toss-program/37710773#37710773", "title": "C++ coin toss program", "body": "<p>This could be a problem with your random number generation.  Since all random number generators work using the clock and the amount of time that has passed since it was seeded, if the execution of your code takes about the same amount of time each loop, then patterns will emerge.  This would explain why it only comes up as 15.  I had made a rock paper scissors game in my intro class that I could win consistently at a 90% rate (not a very fair game).</p>\n\n<p>Try varying your control flow.  Have a random number generator that will control how many iterations take place </p>\n\n<pre><code>loopCnt = 0;\nwhile(loopCnt &lt; LOOP)\n{\n    nextLoops = rand() % (LOOP - loopCnt);\n    for(int i = 0; i &lt; nextLoops; ++i)\n    {\n        // COUNT IN A ROW.\n        ++loopCnt;\n    }\n}\n</code></pre>\n\n<p>That should vary up your flow that patterns won't emerge.</p>\n"}], "owner": {"reputation": 31, "user_id": 6441783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ed32d430cebb1985bc026c08e21dbea?s=128&d=identicon&r=PG&f=1", "display_name": "warozell", "link": "https://stackoverflow.com/users/6441783/warozell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3248, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465412392, "creation_date": 1465409531, "question_id": 37709906, "link": "https://stackoverflow.com/questions/37709906/c-coin-toss-program", "title": "C++ coin toss program", "body": "<p>I tried to make a C++ program to calculate how many coin tosses of the same type I've gotten in a row, but the results are strange. I tried to toss it 1,000,000 times and I haven't gotten more \"in a row tosses of the same type\" than 15. I tested it on smaller number of tosses (5-20) and it seemed to be working correctly except I also haven't gotten more than 15 of the same type in a row.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n\n#define LOOP 1000000//how many times do I toss a coin\n\nint main()\n{\nint maxTails = 0, maxHeads = 0, currentTails = 0, currentHeads = 0, totalHeads = 0, totalTails = 0;\n\nint totalMax = 0;//highest amount of \"in a row\" out of all iterations\n\nbool heads = false;//last toss\n\nsrand(time(0));\n\nfor (int x = 0; x &lt; 100; ++x) {//this is to increase the amount of how many times I want to toss a coin LOOP times\n    for (int i = 0; i &lt; LOOP; ++i)//tosses a coin LOOP times\n    {\n        if (rand() % 2 == 0)// heads\n        {\n            if (heads == false)//if last toss was tails I check if the \"in a row\" for it was more than the current maximum\n            {\n                if (currentTails &gt; maxTails) maxTails = currentTails;\n                currentTails = 0;\n                currentHeads = 0;\n                heads = true;\n            }\n            currentHeads++;\n            totalHeads++;\n            if (currentHeads &gt; maxHeads) maxHeads = currentHeads;\n        }\n        else//tails\n        {\n            if (heads == true)\n            {\n                if (currentHeads &gt; maxHeads) maxHeads = currentHeads;\n                currentHeads = 0;\n                currentTails = 0;\n                heads = false;\n            }\n            currentTails++;\n            totalTails++;\n            if (currentTails &gt; maxTails) maxTails = currentTails;\n        }\n    }\n\n    if (maxTails &gt; totalMax) totalMax = maxTails;//totalMax is the maximum \"in a row\" of either tails or heads\n    if (maxHeads &gt; totalMax) totalMax = maxHeads;\n\n    std::cout &lt;&lt; \"Throws: \" &lt;&lt; LOOP &lt;&lt; \", Total heads: \" &lt;&lt; totalHeads &lt;&lt; \", Total tails: \" &lt;&lt; totalTails &lt;&lt; \", Maximum heads: \" &lt;&lt; maxHeads &lt;&lt; \", Maximum tails: \" &lt;&lt; maxTails &lt;&lt; std::endl;//writes all the info\n    //std::cout &lt;&lt; \"Iteration: \" &lt;&lt; x + 1 &lt;&lt; \", Max: \" &lt;&lt; totalMax &lt;&lt; std::endl;\n    maxTails = maxHeads = currentHeads = currentTails = totalHeads = totalTails = 0;\n}\nstd::cout &lt;&lt; \"Max: \" &lt;&lt; totalMax &lt;&lt; std::endl;\n\nsystem(\"pause\");\nreturn 0;\n}\n</code></pre>\n\n<p>I've read on the internet, that there is a ~38% chance of getting 20 heads in a row if you toss a coin 1,000,000 times but my program works differently. Is there a problem in my code or is it maybe some problem with the rand() function?</p>\n"}, {"tags": ["c++", "rvalue", "temporary-objects"], "comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1465409677, "post_id": 37709885, "comment_id": 62893827, "body": "Your explanation might be better backed up with sample calling code."}, {"owner": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "edited": false, "score": 2, "creation_date": 1465409694, "post_id": 37709885, "comment_id": 62893843, "body": "Are you asking to determine whether the <code>Object</code> <code>decorateWith</code> is called from is temporary, or if the argument to <code>decorateWith</code> is temporary?"}, {"owner": {"reputation": 4096, "user_id": 3601321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/02ba00dbea1724976753357b4470760b?s=128&d=identicon&r=PG&f=1", "display_name": "Corristo", "link": "https://stackoverflow.com/users/3601321/corristo"}, "edited": false, "score": 0, "creation_date": 1465411587, "post_id": 37709885, "comment_id": 62894938, "body": "I want to conditionally move only when the object on which decorateWith is called on is a temporary and make a deep copy otherwise, so it is about how to check whether an object is temporary.  As the answers below illustrate there is no need for some kind of type trait since one can overload using ref-qualifiers."}], "answers": [{"comments": [{"owner": {"reputation": 4096, "user_id": 3601321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/02ba00dbea1724976753357b4470760b?s=128&d=identicon&r=PG&f=1", "display_name": "Corristo", "link": "https://stackoverflow.com/users/3601321/corristo"}, "edited": false, "score": 0, "creation_date": 1465410759, "post_id": 37710020, "comment_id": 62894471, "body": "Yes, indeed, but nevertheless the ref-qualifiers are what I need."}], "tags": [], "owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "is_accepted": true, "score": 14, "last_activity_date": 1465410822, "last_edit_date": 1465410822, "creation_date": 1465409969, "answer_id": 37710020, "question_id": 37709885, "link": "https://stackoverflow.com/questions/37709885/is-it-possible-to-detect-whether-object-is-a-temporary-from-within-member-functi/37710020#37710020", "title": "Is it possible to detect whether object is a temporary from within member function?", "body": "<p>You can have ref-qualifiers on member functions. Copied example from <a href=\"http://en.cppreference.com/w/cpp/language/member_functions\">en.cppreference.com</a></p>\n\n<pre><code>#include &lt;iostream&gt;\nstruct S {\n    void f() &amp; { std::cout &lt;&lt; \"lvalue\\n\"; }\n    void f() &amp;&amp;{ std::cout &lt;&lt; \"rvalue\\n\"; }\n};\n\nint main(){\n    S s;\n    s.f();            // prints \"lvalue\"\n    std::move(s).f(); // prints \"rvalue\"\n    S().f();          // prints \"rvalue\"\n}\n</code></pre>\n\n<p>So in your situation, you would want to have something like this</p>\n\n<pre><code> Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) &amp;;\n Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) &amp;&amp;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1465410017, "creation_date": 1465410017, "answer_id": 37710036, "question_id": 37709885, "link": "https://stackoverflow.com/questions/37709885/is-it-possible-to-detect-whether-object-is-a-temporary-from-within-member-functi/37710036#37710036", "title": "Is it possible to detect whether object is a temporary from within member function?", "body": "<p>You can use reference qualifiers to overload the member function similar to the way you'd use <code>const</code> to overload for <code>const</code> and non-<code>const</code> objects:</p>\n\n<pre><code>Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) const&amp;\n{\n    // implementation if this is not a temporary\n}\n\nObject decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) &amp;&amp;\n{\n    // implementation if this IS a temporary\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "is_accepted": false, "score": 2, "last_activity_date": 1465410037, "creation_date": 1465410037, "answer_id": 37710042, "question_id": 37709885, "link": "https://stackoverflow.com/questions/37709885/is-it-possible-to-detect-whether-object-is-a-temporary-from-within-member-functi/37710042#37710042", "title": "Is it possible to detect whether object is a temporary from within member function?", "body": "<p>Yes.  If you implement the following two methods:</p>\n\n<pre><code> Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) &amp;;\n Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;) &amp;&amp;;\n</code></pre>\n\n<p>the second will be called if <code>*this</code> is an rvalue.</p>\n"}], "owner": {"reputation": 4096, "user_id": 3601321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/02ba00dbea1724976753357b4470760b?s=128&d=identicon&r=PG&f=1", "display_name": "Corristo", "link": "https://stackoverflow.com/users/3601321/corristo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 2, "accepted_answer_id": 37710020, "answer_count": 3, "score": 7, "last_activity_date": 1465410822, "creation_date": 1465409472, "last_edit_date": 1465410652, "question_id": 37709885, "link": "https://stackoverflow.com/questions/37709885/is-it-possible-to-detect-whether-object-is-a-temporary-from-within-member-functi", "title": "Is it possible to detect whether object is a temporary from within member function?", "body": "<p>I'm implementing a decorator pattern on immutable objects with the pointer-to-implementation idiom. Basically my setup looks like this</p>\n\n<pre><code>struct Object : ObjectBase {\n     void doSmth() override {\n         impl-&gt;doSmth();\n     }\n     // this is the function I'd like to implement\n     Object decorateWith(std::unique_ptr&lt;ObjectDecorator&gt;&amp;&amp;);\nprivate:\n     std::unique_ptr&lt;ObjectBase&gt; impl;\n};\n\nstruct ObjectDecorator : ObjectBase {\n    void doSmth() override {\n        // do some stuff\n        impl-&gt;doSmth();\n        // do some more stuff\n    }\nprivate:\n    std::unique_ptr&lt;ObjectBase&gt; impl;\n};\n</code></pre>\n\n<p>Here, the decorateWith function is supposed to have different behavior depending on the whether the object it is callen on is a temporary or not. If it is called on a non-temporary object, it is supposed to return a new Object instance where I have to make a deep copy of the current Object and store it in the  unique_ptr of the decorator while the impl pointer of the new Object itself is pointing to the decorator.\nIf, however, decorateWith is called on a temporary, it suffices to create a ObjectDecorator and just move the impl-pointer of the current object into the impl pointer of the decorator and let the object point to the new decorator.</p>\n\n<p>In order to impelement that I need a way to determine from within the call to decorateWith whether the object is a temporary or not and then use tag-dispatch based on the result of that check. Is that possible?</p>\n\n<p>Best\nXodion</p>\n\n<p>EDIT: Sample caller code could look like this:</p>\n\n<ul>\n<li><p>decorateWith is called on a non-temporary</p>\n\n<pre><code>int main() {\n    Object x{};\n\n    // this call does not modify x so it can be reused later\n    Object y = x.decorateWith{std::make_unique&lt;ObjectDecorator&gt;()};\n    y.doSmth();\n\n    // do some other stuff here\n\n    // here, if I had moved the impl-unique_ptr in the decorateWith\n    // call this would now segfault since I'd call nullptr-&gt;doSmth();\n    x.doSmth();\n\n}\n</code></pre></li>\n<li><p>decorateWith is called on a temporary</p>\n\n<pre><code>int main() {\n    Object x = Object{}.decorateWith(std::make_unique&lt;ObjectDecorator&gt;())\n                       .decorateWith(std::make_unique&lt;ObjectDecorator&gt;())\n                       .decorateWith(std::make_unique&lt;ObjectDecorator&gt;());\n     // in this case it would be unneccessary to make a deep copy of all\n     // previous instances so I'd like to only move the impl poiner every time\n     x.doSmth()\n }\n</code></pre></li>\n</ul>\n"}, {"tags": ["c++", "c++11", "lambda", "c++14"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 4, "creation_date": 1465410204, "post_id": 37709874, "comment_id": 62894127, "body": "Rules for <code>auto</code> deduction are very similar to the template deduction. Here you have deduction and conversion: you can only have one."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 1, "creation_date": 1465464915, "post_id": 37709874, "comment_id": 62916065, "body": "I want to change the question title to &quot;Why does auto * not deduce a function pointer type from a lambda?&quot; in order to make this a concrete question. That seems to be what was puzzling you. But would you prefer something more like &quot;How do I get a function pointer from a lambda without writing the type?&quot;"}, {"owner": {"reputation": 2874, "user_id": 86803, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/204439a418e6631a574e0c90ea8e17de?s=128&d=identicon&r=PG", "display_name": "oconnor0", "link": "https://stackoverflow.com/users/86803/oconnor0"}, "edited": false, "score": 0, "creation_date": 1465478919, "post_id": 37709874, "comment_id": 62926094, "body": "That first title sounds good."}], "answers": [{"tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 8, "last_activity_date": 1465410356, "creation_date": 1465410356, "answer_id": 37710154, "question_id": 37709874, "link": "https://stackoverflow.com/questions/37709874/obtaining-function-pointer-to-lambda/37710154#37710154", "title": "Obtaining function pointer to lambda?", "body": "<blockquote>\n  <p>Especially when it can implicitly convert a unique, lambda type to a function pointer:</p>\n</blockquote>\n\n<p>But it cannot convert it to \"a function pointer\". It can only convert it to a pointer to a <em>specific</em> function signature. This will fail:</p>\n\n<pre><code>int (*h)(float) = a;\n</code></pre>\n\n<p>Why does that fail? Because there is no valid implicit conversion from <code>a</code> to <code>h</code> here.</p>\n\n<p>The conversion for lambdas is not compiler magic. The standard simply says that the lambda closure type, for non-capturing, non-generic lambdas, has an implicit conversion operator for function pointers matching the signature of its <code>operator()</code> overload. The rules for initializing <code>int (*g)(int)</code> from <code>a</code> permit using implicit conversions, and thus the compiler will invoke that operator.</p>\n\n<p><code>auto</code> doesn't permit using implicit conversion operators; it takes the type as-is (removing references, of course). <code>auto*</code> doesn't do implicit conversions either. So why would it invoke an implicit conversion for a lambda closure and not for a user-defined type?</p>\n"}, {"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1465411005, "post_id": 37710159, "comment_id": 62894621, "body": "&quot;not certain if it is an extension&quot; I&#39;d expect that to work. You can take a specific function pointer to a function template (e.g. <code>template &lt;class T&gt; void foo(T) { } void(*p)(int) = foo;</code>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1465411888, "post_id": 37710159, "comment_id": 62895123, "body": "@Barry Sure I expect that to work.  But <code>auto</code> lambdas are relatively new, and clang rejects it.  Me, I&#39;d even want implicit cast to any function that is convertion-compatible, so even <code>void(*f)(double) = [](int x){std::cout &lt;&lt; x;};</code> would compile (like it does with <code>std::function&lt;void(double) f = [](int x){std::cout &lt;&lt; x;};</code>)"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 5, "last_activity_date": 1465425709, "last_edit_date": 1465425709, "creation_date": 1465410376, "answer_id": 37710159, "question_id": 37709874, "link": "https://stackoverflow.com/questions/37709874/obtaining-function-pointer-to-lambda/37710159#37710159", "title": "Obtaining function pointer to lambda?", "body": "<p>The lambda code doesn't work for the same reason this doesn't work:</p>\n\n<pre><code>struct foo {\n  operator int*() const {\n    static int x;\n    return &amp;x;\n  }\n};\n\nint* pint = foo{};\nauto* pint2 = foo{}; // does not compile\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>template&lt;class T&gt;\nvoid test(T*) {};\ntest(foo{});\n</code></pre>\n\n<p>The lambda has an operator that implicitly converts it to a (particular) function pointer, just like <code>foo</code>.</p>\n\n<p><code>auto</code> does not do conversion.  Ever.  Auto behaves like a <code>class T</code> parameter to a template function where its type is deduced.</p>\n\n<p>As the type on the right hand side is not a pointer, it cannot be used to initialize an <code>auto*</code> variable.</p>\n\n<p>Lambdas are not function pointers.  Lambdas are not <code>std::function</code>s.  They are auto-written function objects (objects with an <code>operator()</code>).</p>\n\n<p>Examine this:</p>\n\n<pre><code>void (*ptr)(int) = [](auto x){std::cout &lt;&lt; x;};\nptr(7);\n</code></pre>\n\n<p>it compiles and works in gcc (not certain if it is an extension, now that I think about it).  However, what would <code>auto* ptr = [](auto x){std::cout &lt;&lt; x;}</code> supposed to do?</p>\n\n<p>However, unary <code>+</code> is an operator that works on pointers (and does nearly nothing to them), but not in <code>foo</code> or a lambda.</p>\n\n<p>So</p>\n\n<pre><code>auto* pauto=+foo{};\n</code></pre>\n\n<p>And</p>\n\n<pre><code>auto* pfun=+[](int x){};\n</code></pre>\n\n<p>Both work, magically.</p>\n"}, {"comments": [{"owner": {"reputation": 4795, "user_id": 683905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bc5b9f8f9c6f0e5d25b2d88e2cc1386?s=128&d=identicon&r=PG", "display_name": "Jaa-c", "link": "https://stackoverflow.com/users/683905/jaa-c"}, "edited": false, "score": 6, "creation_date": 1465410677, "post_id": 37710167, "comment_id": 62894420, "body": "What does this do? Never seen this kind of <code>+</code> syntax before."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 4795, "user_id": 683905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bc5b9f8f9c6f0e5d25b2d88e2cc1386?s=128&d=identicon&r=PG", "display_name": "Jaa-c", "link": "https://stackoverflow.com/users/683905/jaa-c"}, "edited": false, "score": 0, "creation_date": 1465410874, "post_id": 37710167, "comment_id": 62894545, "body": "@Jaa-c Added a link."}, {"owner": {"reputation": 4795, "user_id": 683905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bc5b9f8f9c6f0e5d25b2d88e2cc1386?s=128&d=identicon&r=PG", "display_name": "Jaa-c", "link": "https://stackoverflow.com/users/683905/jaa-c"}, "edited": false, "score": 5, "creation_date": 1465411232, "post_id": 37710167, "comment_id": 62894741, "body": "Thanks - now I&#39;ll have to use it at least once. Reviewer&#39;s gonna hate me."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 4795, "user_id": 683905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bc5b9f8f9c6f0e5d25b2d88e2cc1386?s=128&d=identicon&r=PG", "display_name": "Jaa-c", "link": "https://stackoverflow.com/users/683905/jaa-c"}, "edited": false, "score": 7, "creation_date": 1465411930, "post_id": 37710167, "comment_id": 62895157, "body": "@Jaa-c just don&#39;t <code>auto *d = ++[](int i){ return i; };</code> -- a unary plus too many!"}, {"owner": {"reputation": 1240, "user_id": 3585575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W47ui.png?s=128&g=1", "display_name": "KyleKnoepfel", "link": "https://stackoverflow.com/users/3585575/kyleknoepfel"}, "edited": false, "score": 0, "creation_date": 1465412158, "post_id": 37710167, "comment_id": 62895301, "body": "To steal someone else&#39;s line from I-don&#39;t-know where: this is awesome, yet totally messed up."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 4, "creation_date": 1465415842, "post_id": 37710167, "comment_id": 62897283, "body": "plus 1 for +, I forgot about that."}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1465416554, "post_id": 37710167, "comment_id": 62897704, "body": "@Yakk: I am pleasantly surprised that both <code>++[] ...</code> and <code>+++[]</code> fail to compile, I guess the <code>+</code> thing is less evil than I thought at first glance"}, {"owner": {"reputation": 866, "user_id": 1608468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae275ae74371f0f24d369948a12ac197?s=128&d=identicon&r=PG", "display_name": "tomsmeding", "link": "https://stackoverflow.com/users/1608468/tomsmeding"}, "reply_to_user": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 1, "creation_date": 1465420126, "post_id": 37710167, "comment_id": 62899532, "body": "@Chris Maybe because those make a prefix increment operator instead of a unary plus operator? ;)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 4, "creation_date": 1465427567, "post_id": 37710167, "comment_id": 62902375, "body": "Note that <code>+</code> fails on at least some MSVC. Because their lambdas have four conversion operators to function pointers :/"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 46, "last_activity_date": 1465410855, "last_edit_date": 1495540852, "creation_date": 1465410392, "answer_id": 37710167, "question_id": 37709874, "link": "https://stackoverflow.com/questions/37709874/obtaining-function-pointer-to-lambda/37710167#37710167", "title": "Obtaining function pointer to lambda?", "body": "<p>This fails:</p>\n\n<pre><code>auto *b = [](int i) { return i; };\n</code></pre>\n\n<p>because the lambda is not a pointer. <code>auto</code> does not allow for conversions. Even though the lambda <em>is</em> convertible to something that is a pointer, that's not going to be done for you - you have to do it yourself. Whether with a cast:</p>\n\n<pre><code>auto *c = static_cast&lt;int(*)(int)&gt;([](int i){return i;});\n</code></pre>\n\n<p>Or with <a href=\"https://stackoverflow.com/q/18889028/2069064\">some sorcery</a>:</p>\n\n<pre><code>auto *d = +[](int i) { return i; };\n</code></pre>\n"}], "owner": {"reputation": 2874, "user_id": 86803, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/204439a418e6631a574e0c90ea8e17de?s=128&d=identicon&r=PG", "display_name": "oconnor0", "link": "https://stackoverflow.com/users/86803/oconnor0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9388, "favorite_count": 13, "accepted_answer_id": 37710167, "answer_count": 3, "score": 37, "last_activity_date": 1465425709, "creation_date": 1465409420, "last_edit_date": 1465409983, "question_id": 37709874, "link": "https://stackoverflow.com/questions/37709874/obtaining-function-pointer-to-lambda", "title": "Obtaining function pointer to lambda?", "body": "<p>I want to be able to obtain a function pointer to a lambda in C++.</p>\n\n<p>I can do:</p>\n\n<pre><code>int (*c)(int) = [](int i) { return i; };\n</code></pre>\n\n<p>And, of course, the following works - even if it's not creating a function pointer.</p>\n\n<pre><code>auto a = [](int i) { return i; };\n</code></pre>\n\n<p>But the following:</p>\n\n<pre><code>auto *b = [](int i) { return i; };\n</code></pre>\n\n<p>Gives this error in GCC:</p>\n\n<pre><code>main.cpp: In function 'int main()':\nmain.cpp:13:37: error: unable to deduce 'auto*' from '&lt;lambda closure object&gt;main()::&lt;lambda(int)&gt;{}'\n     auto *b = [](int i) { return i; };\n                                      ^\nmain.cpp:13:37: note:   mismatched types 'auto*' and 'main()::&lt;lambda(int)&gt;'\n</code></pre>\n\n<p>It seems arbitrary that a lambda can be converted to a function pointer without issue, but the compiler cannot infer the function type and create a pointer to it using <code>auto *</code>. Especially when it can implicitly convert a <code>unique, lambda type</code> to a function pointer:</p>\n\n<pre><code>int (*g)(int) = a;\n</code></pre>\n\n<p>I've create a little test bed at <a href=\"http://coliru.stacked-crooked.com/a/2cbd62c8179dc61b\">http://coliru.stacked-crooked.com/a/2cbd62c8179dc61b</a> that contains the above examples. This behavior is the same under C++11 and C++14.</p>\n"}, {"tags": ["c++", "boost", "boost-asio", "move-semantics"], "comments": [{"owner": {"reputation": 32089, "user_id": 266198, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7x8PT.jpg?s=128&g=1", "display_name": "Nim", "link": "https://stackoverflow.com/users/266198/nim"}, "edited": false, "score": 0, "creation_date": 1465414754, "post_id": 37709819, "comment_id": 62896673, "body": "Does the unique pointer work? Tbh I haven&#39;t tested my 1.60 build, but at least till 1.56, socket had to be in shared pointer..."}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1465416096, "post_id": 37709819, "comment_id": 62897436, "body": "Is it required if you use standalone ASIO? I have been using standalone ASIO at C++11 standard for some time and some C++11-only perks, like move-semantics and std::function, work like I would expect. The copy-constructibility might be required because boost::asio must support C++03, and it might be too complicated to say &quot;copy constructible if C++03, but only move constructible required if C++11&quot;. Just a guess, I don&#39;t know for sure."}, {"owner": {"reputation": 329, "user_id": 3820701, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M7OWd.jpg?s=128&g=1", "display_name": "Ivan_Bereziuk", "link": "https://stackoverflow.com/users/3820701/ivan-bereziuk"}, "edited": false, "score": 1, "creation_date": 1526887671, "post_id": 37709819, "comment_id": 87901634, "body": "seems they lowered the requirements for Handlers to be MoveConstructible with boost v1.67 <a href=\"https://www.boost.org/doc/libs/1_67_0/doc/html/boost_asio/reference/Handler.html\" rel=\"nofollow noreferrer\">reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 38108, "user_id": 6610, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/635c3ea0c7b8c37ef45744b6e66dd263?s=128&d=identicon&r=PG", "display_name": "xtofl", "link": "https://stackoverflow.com/users/6610/xtofl"}, "edited": false, "score": 1, "creation_date": 1465531384, "post_id": 37718643, "comment_id": 62949854, "body": "You sum up the three arguments <i>against</i> copy constructibility.  Exactly why I asked this question.  In this case it&#39;s actually quite <i>unexpected</i> that my handler would be copied.  That would mean I can have two handlers for one socket.  It would be easier to implement semantics correctly if the handler could be moved in, and the compiler would have more guarantees about the number of handlers lying around, so could optimize deeper."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 38108, "user_id": 6610, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/635c3ea0c7b8c37ef45744b6e66dd263?s=128&d=identicon&r=PG", "display_name": "xtofl", "link": "https://stackoverflow.com/users/6610/xtofl"}, "edited": false, "score": 2, "creation_date": 1465545869, "post_id": 37718643, "comment_id": 62956266, "body": "@xtofl I listed objective reasons. Are you saying the standard library algortihms have been designed to hurt performance? Did you actually compare generated assembly to see how compiler optimizes various approaches? The only logical explanation I can think of for your comment is &quot;But! I have a expensive-to-copy class&quot; or &quot;But I want to avoid copying because I count instances for some other purpose&quot;. In which case you use that reference_wrapper. Problem solved. The point is: taking functions by value gives <b>you</b> the choice."}, {"owner": {"reputation": 38108, "user_id": 6610, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/635c3ea0c7b8c37ef45744b6e66dd263?s=128&d=identicon&r=PG", "display_name": "xtofl", "link": "https://stackoverflow.com/users/6610/xtofl"}, "edited": false, "score": 0, "creation_date": 1465549863, "post_id": 37718643, "comment_id": 62958725, "body": "Sorry, I must miss something, but my issue is that I <i>can&#39;t</i> choose since the postpostpost operation doesn&#39;t support move semantics.  So I was rather expecting an answer like &#39;since Move Semantics weren&#39;t yet known at the time this library was designed&#39;.  In other words: whas this convention chosen before or after the introduction of move semantics?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 38108, "user_id": 6610, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/635c3ea0c7b8c37ef45744b6e66dd263?s=128&d=identicon&r=PG", "display_name": "xtofl", "link": "https://stackoverflow.com/users/6610/xtofl"}, "edited": false, "score": 1, "creation_date": 1465550405, "post_id": 37718643, "comment_id": 62959055, "body": "(The Asio idiomatic way to avoid &quot;large completion handlers&quot; is to use enable_shared_from_this on the object instance that the handler closes over. You can see a side-by-side here <a href=\"http://stackoverflow.com/a/32725856/85371\">stackoverflow.com/a/32725856/85371</a>. Of course you don&#39;t need to use shared_ptr&#39;s reference counting to manage lifetimes. If you do it some other way, <code>std::reference_wrapper&lt;&gt;</code> will do just fine)"}, {"owner": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 1, "creation_date": 1499288170, "post_id": 37718643, "comment_id": 76847890, "body": "@sehe: I think what you were missing is that xtofl <i>wants</i> value semantics, not reference semantics; he just wants to move the value around (efficiently) instead of copying it around. Your answer and comments boil down to &quot;Just abandon value semantics and use reference semantics instead&quot;, which isn&#39;t what was being asked."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 0, "creation_date": 1499288239, "post_id": 37718643, "comment_id": 76847926, "body": "@Quuxplusone What makes you think I missed that? In the end it comes down to what the framework supports, and my answer is about that. Of course the &quot;unofficial&quot; move support is a reprieve there, see the accepted answer."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": -1, "last_activity_date": 1465454751, "creation_date": 1465454751, "answer_id": 37718643, "question_id": 37709819, "link": "https://stackoverflow.com/questions/37709819/why-must-a-boost-asio-handler-be-copy-constructible/37718643#37718643", "title": "why must a Boost.Asio handler be copy constructible?", "body": "<p>It's just a convention.</p>\n\n<p>The convention can be found throughout many C++ libraries, including <em>all your standard library algorithms</em>.</p>\n\n<p>The convention makes it a lot easier to </p>\n\n<ul>\n<li>implement the semantics correctly</li>\n<li>know what to expect</li>\n<li>let the compiler do deep optimizations (references kill many optimizations due the aliasing problem)</li>\n</ul>\n\n<p>So, if you need a handler by reference, just pass <code>std::ref(f)</code>. It was designed for the purpose.</p>\n\n<hr>\n\n<p><em>Beware of lifetime issues - as always when using references.</em></p>\n"}, {"comments": [{"owner": {"reputation": 48017, "user_id": 1053968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356f892f0e96a3615ae44f6d815c5b0f?s=128&d=identicon&r=PG", "display_name": "Tanner Sansbury", "link": "https://stackoverflow.com/users/1053968/tanner-sansbury"}, "edited": false, "score": 4, "creation_date": 1465838376, "post_id": 37795582, "comment_id": 63057296, "body": "For what it is worth, in the current <a href=\"https://github.com/cplusplus/networking-ts\" rel=\"nofollow noreferrer\">networking-ts draft</a>, the type <code>CompletionHandler</code>  must satisfy the requirements of <code>Destructible</code> and <code>MoveConstructible</code>."}], "tags": [], "owner": {"reputation": 48017, "user_id": 1053968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356f892f0e96a3615ae44f6d815c5b0f?s=128&d=identicon&r=PG", "display_name": "Tanner Sansbury", "link": "https://stackoverflow.com/users/1053968/tanner-sansbury"}, "is_accepted": true, "score": 8, "last_activity_date": 1465838208, "creation_date": 1465838208, "answer_id": 37795582, "question_id": 37709819, "link": "https://stackoverflow.com/questions/37709819/why-must-a-boost-asio-handler-be-copy-constructible/37795582#37795582", "title": "why must a Boost.Asio handler be copy constructible?", "body": "<p>I cannot identify any material that explains the reasoning as to why handlers are required to be <code>CopyConstructible</code>, but it is explicitly noted even in the presence of C++11 support.  The <a href=\"http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/overview/cpp2011/move_handlers.html\" rel=\"noreferrer\">Movable&nbsp;Handlers</a> documentation notes:</p>\n\n<blockquote>\n  <p>As an optimisation, user-defined completion handlers may provide move constructors, and Boost.Asio's implementation will use a handler's move constructor in preference to its copy constructor. In certain circumstances, Boost.Asio may be able to eliminate all calls to a handler's copy constructor. However, handler types are still required to be copy constructible.</p>\n</blockquote>\n\n<p>The type checking Asio performs allows for friendlier compiler error messages when a type requirement is not satisfied.  This type checking occurs earlier in the call stack, and is not predicated on if the use of the object would generate a compiler error.  For example, when type checking is enabled, type checking will emit a compiler error for a handler that does not have a copy constructor, even if all calls to the handler's copy constructor have been eliminated.  By defining <code>BOOST_ASIO_DISABLE_HANDLER_TYPE_REQUIREMENTS</code>, one can disable the explicit type checking, and allow for compiler errors to surface from call points deeper in the implementation if they occur.  The <a href=\"http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/history.html#boost_asio.history.asio_1_6_0___boost_1_47\" rel=\"noreferrer\">History</a> notes this option:</p>\n\n<blockquote>\n  <p><strong>Asio 1.6.0 / Boost 1.47</strong></p>\n  \n  <ul>\n  <li>...</li>\n  <li>Added friendlier compiler errors for when a completion handler does not meet the necessary type requirements. When C++0x is available (currently supported for <code>g++</code> 4.5 or later, and MSVC 10), <code>static_assert</code> is also used to generate an informative error message. This checking may be disabled by defining <code>BOOST_ASIO_DISABLE_HANDLER_TYPE_REQUIREMENTS</code>.</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>Here is a complete example <a href=\"http://coliru.stacked-crooked.com/a/5a62d80f72cacdd1\" rel=\"noreferrer\">demonstrating</a> this functionality.  Within it, ownership of a socket managed by <code>unique_ptr</code> is transferred to a handler via <code>std::move()</code>:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;functional&gt; // std::bind\n#include &lt;memory&gt;     // std::unique_ptr\n#include &lt;string&gt;     // std::string\n#define BOOST_ASIO_DISABLE_HANDLER_TYPE_REQUIREMENTS\n#include &lt;boost/asio.hpp&gt;\n\nconst auto noop = std::bind([]{});\n\nint main()\n{\n  using boost::asio::ip::tcp;  \n\n  // Create all I/O objects.\n  boost::asio::io_service io_service;\n  tcp::acceptor acceptor(io_service, tcp::endpoint(tcp::v4(), 0));\n  auto socket1 = std::make_unique&lt;tcp::socket&gt;(std::ref(io_service));\n  tcp::socket socket2(io_service);\n\n  // Connect the sockets.\n  acceptor.async_accept(*socket1, noop);\n  socket2.async_connect(acceptor.local_endpoint(), noop);\n  io_service.run();\n  io_service.reset();\n\n  // Move ownership of socket1 to a handler that will write to the\n  // socket.\n  const std::string expected_message = \"test message\";\n  io_service.post([socket1{std::move(socket1)}, &amp;expected_message] {\n    boost::asio::write(*socket1, boost::asio::buffer(expected_message));\n  });\n  io_service.run();\n\n  // Read from socket2.\n  std::vector&lt;char&gt; actual_message(socket2.available());\n  boost::asio::read(socket2, boost::asio::buffer(actual_message));\n\n  // Verify message.\n  assert(std::equal(\n    begin(expected_message), end(expected_message),\n    begin(actual_message), end(actual_message)));\n}\n</code></pre>\n"}], "owner": {"reputation": 38108, "user_id": 6610, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/635c3ea0c7b8c37ef45744b6e66dd263?s=128&d=identicon&r=PG", "display_name": "xtofl", "link": "https://stackoverflow.com/users/6610/xtofl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 1, "accepted_answer_id": 37795582, "answer_count": 2, "score": 11, "last_activity_date": 1465838208, "creation_date": 1465409240, "last_edit_date": 1465532238, "question_id": 37709819, "link": "https://stackoverflow.com/questions/37709819/why-must-a-boost-asio-handler-be-copy-constructible", "title": "why must a Boost.Asio handler be copy constructible?", "body": "<p>According to <a href=\"http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/reference/Handler.html\" rel=\"noreferrer\">http://www.boost.org/doc/libs/1_61_0/doc/html/boost_asio/reference/Handler.html</a>, a handler provided to <code>io_service::post</code> must be copy constructible.</p>\n\n<p>However, this excludes a scenario where a socket is accepted, and the response handler is moved, guaranteeing me that there is only one handler for the job:</p>\n\n<pre><code>auto socket = std::make_unique&lt;socket&gt;();\naccepter.accept(*socket);\n\nservice.post([s{std::move(socket)}] {\n  asio::write(*s, buffer(\"response\"), ignored_err);\n});\n</code></pre>\n\n<p>So why is this copy constructible requirement?</p>\n\n<p>-- EDIT --</p>\n\n<p>Clarification: I would like to make my code assure that only one instance of a handler is present.  This makes it a lot easier to reason about it.</p>\n\n<p>For a lot of programs, <em>CopyConstructible</em> is too strict a requirement, <em>MoveConstructible</em> is more appropriate.</p>\n\n<pre><code>    auto i = std::make_unique&lt;int&gt;();\n    auto handler_w_resource = [i{std::move(i)}]{ ++(*i);};\n    // auto copied = handler_w_resource; --&gt; +1: lambda can't be copied!\n    auto moved = std::move(handler_w_resource);\n</code></pre>\n\n<p>Therefor I was quite surprised that it could not be moved in:</p>\n\n<pre><code>    service.post(std::move(moved)); // :( post accepts no rvalue\n</code></pre>\n"}, {"tags": ["c++", "memory", "destructor", "multiple-inheritance", "virtual-destructor"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1465409426, "post_id": 37709815, "comment_id": 62893696, "body": "Cs destructor has to call also Bs constructor, otherwise your memory will be messed up.... why do you want to prevent that? From your example it is not clear at all what will get messed up, actually nothing will get messed up here"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465409451, "post_id": 37709815, "comment_id": 62893712, "body": "If <code>B</code> is a parent of <code>C</code> then when <code>C</code> is destroyed then the <code>B</code> part of <code>C</code> also needs to be destroyed."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1465409473, "post_id": 37709815, "comment_id": 62893725, "body": "I mean you declared the destructor <code>virtual</code> yourself. You dont have to do this, but I would not suggest you to do so."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1465409956, "post_id": 37709815, "comment_id": 62893995, "body": "<i>Hi I&#39;m trying to create a derived class from a derived class. But I don&#39;t know how to solve this memory problem.</i>  -- There is no memory problem in the code you posted.  Please post the actual code you say has memory problems.  C++ is doing the correct thing."}, {"owner": {"reputation": 851, "user_id": 5658224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PqRxl.png?s=128&g=1", "display_name": "jcal", "link": "https://stackoverflow.com/users/5658224/jcal"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1465411983, "post_id": 37709815, "comment_id": 62895190, "body": "sorry, seems like I was too inaccurate and had a tunnel view on the destructor calls.. but I extended my post above.. but thanks already for all the answers @PaulMcKenzie"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1465413403, "post_id": 37709815, "comment_id": 62895987, "body": "@jcal Why are you showing us input code and print_usage?  It isn&#39;t necessary.  Just create 2 or 3 items in your Robot vector and test.  Second, if you commented out that entire code to set up and call threads, do you still get memory errors?  The bottom line is that you should post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, meaning we don&#39;t care about input routines, getopt(), etc.  Just a simple vector, call a function, destroy the items, error recreated."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1465414974, "post_id": 37709815, "comment_id": 62896781, "body": "And, guess what, B&#39;s destructor calls A&#39;s destructor! That&#39;s how C++ works, and that&#39;s a good thing."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1465415035, "post_id": 37709815, "comment_id": 62896819, "body": "This isn&#39;t the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1465415112, "post_id": 37709815, "comment_id": 62896854, "body": "Oh, also, this is not multiple inheritance. Multiple inheritance means that a class derives directly from two or more bases. So <code>class C : public B, public A {};</code> would be multiple inheritance."}], "answers": [{"tags": [], "owner": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "is_accepted": false, "score": 2, "last_activity_date": 1465409459, "creation_date": 1465409459, "answer_id": 37709881, "question_id": 37709815, "link": "https://stackoverflow.com/questions/37709815/multiple-inheritance-destructor-calling-his-own-and-parent-destructor-c/37709881#37709881", "title": "multiple inheritance destructor calling his own and parent destructor? c++", "body": "<p>I'm afraid the answer is that C++ is doing the right thing here.  If this messes up your memory, <em>you</em> are doing the wrong thing.  Unfortunately, without more context it is difficult to tell what wrong thing you are doing.</p>\n\n<p>When <code>C</code> inherits from <code>B</code>, <code>~B()</code> should destroy memory owned by the <code>B</code> portion of <code>C</code>, and <code>~C()</code> should handle any memory that is part of <code>C</code>, but not part of <code>B</code>.</p>\n"}], "owner": {"reputation": 851, "user_id": 5658224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PqRxl.png?s=128&g=1", "display_name": "jcal", "link": "https://stackoverflow.com/users/5658224/jcal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1465414525, "creation_date": 1465409233, "last_edit_date": 1465414525, "question_id": 37709815, "link": "https://stackoverflow.com/questions/37709815/multiple-inheritance-destructor-calling-his-own-and-parent-destructor-c", "title": "multiple inheritance destructor calling his own and parent destructor? c++", "body": "<p>Hi I'm trying to create a derived class from a derived class.\nBut I don't know how to solve this memory problem.</p>\n\n<p>Class C in below exmaple calls both his own destructor and the B-destructor.\nBut that's not what I want, since it messes up my memory.</p>\n\n<p>Should I use another aproach or is there a solution to this?</p>\n\n<pre><code>class A {\npublic:\n    virtual ~A() {}\n};\n\n\nclass B : public A {\npublic:\n\n    B() : A() {}\n    virtual ~B() {std::cout &lt;&lt; \"B Destructor\" &lt;&lt; std::endl;}\n};\n\nclass C : public B {\n\npublic:\n    C() : B() {}\n    ~C() {std::cout &lt;&lt; \"C Destructor\" &lt;&lt; std::endl;}\n};\n\nint main() {\n\n    A *b = new B();\n    A *c = new C();\n\n    delete b;\n    delete c;\n\n    return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code> ./a.out\n B Destructor\n C Destructor\n B Destructor\n</code></pre>\n\n<p>//edit\nSorry seems like I actually posted a working example.\nNevertheless in my real code (but I actually used the pattern from above example: I get the error</p>\n\n<blockquote>\n  <p>labrob(5254,0x7fff77789000) malloc: <strong>* error for object 0x7fe3dbc00030: pointer being freed was not allocated\n  *</strong> set a breakpoint in malloc_error_break to debug\n  Abort trap: 6</p>\n</blockquote>\n\n<p>And when I remove the destructor of C I get a memory leak\nthis error actually only appears using the C-type Robot</p>\n\n<p>so I have 3 kinds of robots which can be instantiated multiple times on runtime and are pushed into a list of robots.</p>\n\n<p>which solve a maze on different threads</p>\n\n<p>in the end I am deleting the robots from the list with an iterator</p>\n\n<p>on valgrind it says am deallocating to much memory\nso my thoughts the destructor call of both B and C are causing this.</p>\n\n<p>in my main.cpp:</p>\n\n<pre><code>    // delete robots\n    for (auto it = robots.begin(); it != robots.end(); ++it) {\n\n        if(printSolution) std::cout &lt;&lt; (*it)-&gt;solution() &lt;&lt; std::endl;\n        delete *it;\n\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "mfc", "sdi"], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1465412069, "post_id": 37709980, "comment_id": 62895238, "body": "Might make more sense to swap the operations - color the entire text first, then bold the individual section. BTW, what is the point of using &quot;click here&quot; text if you don&#39;t actually make it clickable? Use the <code>CFM_LINK</code> mask to allow the <code>CFE_LINK</code> effect to be enabled, then the clickable text will generate an <code>EN_LINK</code> notification when clicked."}, {"owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 0, "creation_date": 1475263167, "post_id": 37709980, "comment_id": 66890065, "body": "Your answer does not make any sense if it does not have the <code>cf.crTextColor = RGB(255,0,0); </code> line!"}], "tags": [], "owner": {"reputation": 65, "user_id": 6378812, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c4eed07bfff79bbadf1bfa9f1823636?s=128&d=identicon&r=PG&f=1", "display_name": "Steven V", "link": "https://stackoverflow.com/users/6378812/steven-v"}, "is_accepted": false, "score": 3, "last_activity_date": 1465409784, "creation_date": 1465409784, "answer_id": 37709980, "question_id": 37709540, "link": "https://stackoverflow.com/questions/37709540/mfc-rich-edit-control-2-0-text-color/37709980#37709980", "title": "MFC Rich edit control 2.0 Text color", "body": "<p>Okay so I managed to figure it out, one of my conditional statement's was broken so part of my code never actually got read. For anyone who runs into this issue this is what i used:</p>\n\n<pre><code>CHARFORMAT cf = { sizeof(cf) };\ncf.dwEffects = CFM_BOLD;\ncf.dwMask = CFM_BOLD;\nm_pMessageTextBox.SetSel(13, 17);\nm_pMessageTextBox.SetSelectionCharFormat(cf);\ncf.cbSize = sizeof(cf);\ncf.dwMask = CFM_COLOR;\ncf.dwEffects = 0;\nm_pMessageTextBox.SetSel(0, -1);\nm_pMessageTextBox.SetSelectionCharFormat(cf); \n</code></pre>\n\n<p>For this, and i haven't had a chance to play around with it just yet to see if i can shorten it but it's working the way i want it now. First it does the bold properties and applies it to the text, THEN it does the text color properties and applies it from start to the end of the text.</p>\n"}], "owner": {"reputation": 65, "user_id": 6378812, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c4eed07bfff79bbadf1bfa9f1823636?s=128&d=identicon&r=PG&f=1", "display_name": "Steven V", "link": "https://stackoverflow.com/users/6378812/steven-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1465409784, "creation_date": 1465408271, "last_edit_date": 1495535340, "question_id": 37709540, "link": "https://stackoverflow.com/questions/37709540/mfc-rich-edit-control-2-0-text-color", "title": "MFC Rich edit control 2.0 Text color", "body": "<p>The idea here is pretty simple I thought, but i can't seem to figure it out. Essentially what i have is a MFC single view application with just one rich edit control 2.0 and some text in it. Let just say this control says \"Please click here to fast forward.\"</p>\n\n<pre><code>CHARFORMAT cf = { sizeof(cf) };\ncf.dwEffects = CFM_BOLD;\ncf.dwMask = CFM_BOLD;\nm_pMessageTextBox.SetSel(13, 17);\nm_pMessageTextBox.SetSelectionCharFormat(cf);\n</code></pre>\n\n<p>Now this snippet of code i have just bolds the word \"here\" which is what i want. But in addition to bolding it, i want to change the color of the entire text to red. </p>\n\n<p>I only need to see how you would turn text in a rich edit control 2.0 to a different color. I have browsed stackoverflow and google and a lot of the documents regarding this is from 10 years ago+.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24786430/change-text-color-in-win32-richedit\">Here</a> is a recent question asked that asks the same question i do except his post is a gigantic snippet of code that i really don't care for. I've already tried using </p>\n\n<pre><code>cf.crTextColor = RGB(255,0,0); \n</code></pre>\n\n<p>before using </p>\n\n<pre><code>m_pMessageTextBox.SetSelectionCharFormat(cf);\n</code></pre>\n\n<p>nothing changes, i thought in this case the bold word would be bold AND red at the same time but it just stays black.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "edited": false, "score": 1, "creation_date": 1465408564, "post_id": 37709519, "comment_id": 62893145, "body": "What&#39;s the purpose of <code>int</code> argument in constructor?"}, {"owner": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "reply_to_user": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "edited": false, "score": 0, "creation_date": 1465409486, "post_id": 37709519, "comment_id": 62893735, "body": "Check the original code for: <code>&#47;&#47;read</code> and <code>&#47;&#47;write</code> read #132: <code>MyData m;</code> write #77: <code>MyData m(1);</code> the number 1 says that we will use a string &quot;mydata1234&quot; during file write operation. While during reading we will read some specific stuff from the file <code>fs[&quot;MyData&quot;] &gt;&gt; m;</code> line #137(?). As far as I understand the original code. So you can either pass nothing to the constructor or pass int. I don&#39;t know exactly why the author written it this way, but I would like to do it as he intended but give it to two files."}], "answers": [{"tags": [], "owner": {"reputation": 13359, "user_id": 489590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e16b3d117fa188c4dbdafb8dc27a4df0?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/489590/brian-cain"}, "is_accepted": false, "score": 1, "last_activity_date": 1465408389, "creation_date": 1465408389, "answer_id": 37709577, "question_id": 37709519, "link": "https://stackoverflow.com/questions/37709519/how-to-separate-constructor-declared-explicitly-into-h-cpp-files/37709577#37709577", "title": "How to separate constructor declared explicitly into .h &amp; .cpp files?", "body": "<pre><code>MyData::write(cv::FileStorage&amp; fs) const \n{ // ... it will stuck here C4430 \n }\n</code></pre>\n\n<p><code>C4430</code> is \"missing type specifier\".  It's because the <code>MyData::write()</code> implementation contains no return type.  Only constructors should omit a return type.  Change it to <code>void MyData::write(cv::FileStorage&amp; fs) const</code> to match its declaration.</p>\n"}, {"comments": [{"owner": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "edited": false, "score": 0, "creation_date": 1465408691, "post_id": 37709583, "comment_id": 62893226, "body": "So you basicly suggest to remove &quot;explicit&quot; from the declaration. Which is not what I wanted."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "reply_to_user": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "edited": false, "score": 0, "creation_date": 1465408822, "post_id": 37709583, "comment_id": 62893312, "body": "@JohnBoe, this is addressing your <code>write</code> function, not your explicit constructor"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "reply_to_user": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "edited": false, "score": 0, "creation_date": 1465408849, "post_id": 37709583, "comment_id": 62893325, "body": "@JohnBoe No I don&#39;t. You need to add <code>void</code>. You don&#39;t have to add <code>explicit</code> to your implementation, only in your declaration. I never said you have to remove it."}, {"owner": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "edited": false, "score": 0, "creation_date": 1465409805, "post_id": 37709583, "comment_id": 62893923, "body": "Oh, sorry. I was watching incorrect direction. I thought this is with the constructor problem. I fixed it now. Thanks. All guys here are right but I can accept only one answer"}], "tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": true, "score": 1, "last_activity_date": 1465408414, "creation_date": 1465408414, "answer_id": 37709583, "question_id": 37709519, "link": "https://stackoverflow.com/questions/37709519/how-to-separate-constructor-declared-explicitly-into-h-cpp-files/37709583#37709583", "title": "How to separate constructor declared explicitly into .h &amp; .cpp files?", "body": "<p>To add a body for your <code>write</code> method outside of the class definition the format is :</p>\n\n<pre><code>return-type classname::methodname(parameters)\n{\n}\n</code></pre>\n\n<p>So in this case:</p>\n\n<pre><code>void MyData::write(cv::FileStorage&amp; fs) const \n{ \n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "is_accepted": false, "score": 1, "last_activity_date": 1465408773, "creation_date": 1465408773, "answer_id": 37709682, "question_id": 37709519, "link": "https://stackoverflow.com/questions/37709519/how-to-separate-constructor-declared-explicitly-into-h-cpp-files/37709682#37709682", "title": "How to separate constructor declared explicitly into .h &amp; .cpp files?", "body": "<p>In your hpp when you are declaring it should be something like this :</p>\n\n<pre><code>class Name{\n .....some other functions  ....\nvoid write(cv::FileStorage&amp; fs);\n};\n</code></pre>\n\n<p>and in your cpp you need first to include your hpp and then :</p>\n\n<pre><code>void Name::write(cv::FileStorage&amp; fs)\n{\n    .......body...\n}\n</code></pre>\n\n<p>So first say the type of the funciton (in this case <code>void</code>) then name of the <code>class</code> then <code>::</code> and then the function name . </p>\n\n<p>hope this helped :)</p>\n"}], "owner": {"reputation": 2996, "user_id": 1141649, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6c121a84f18d9512b03b8a21ecae2a7?s=128&d=identicon&r=PG", "display_name": "John Boe", "link": "https://stackoverflow.com/users/1141649/john-boe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 37709583, "answer_count": 3, "score": 1, "last_activity_date": 1465408773, "creation_date": 1465408207, "last_edit_date": 1465408282, "question_id": 37709519, "link": "https://stackoverflow.com/questions/37709519/how-to-separate-constructor-declared-explicitly-into-h-cpp-files", "title": "How to separate constructor declared explicitly into .h &amp; .cpp files?", "body": "<p>Here is a piece of code which I found in OpenCV tutorial (source <a href=\"https://github.com/Itseez/opencv/blob/master/samples/cpp/tutorial_code/core/file_input_output/file_input_output.cpp\" rel=\"nofollow\">https://github.com/Itseez/opencv/blob/master/samples/cpp/tutorial_code/core/file_input_output/file_input_output.cpp</a>). Because the code is all in one file I try to separate it into header and cpp. My problem is I cannot find out how to do it correctly not to generate error C4430: missing type specifier - int assumed. Note: C++ does not support default-int.</p>\n\n<pre><code>class MyData\n{\npublic:\nMyData() : A(0), X(0), id() {}\nexplicit MyData(int) : A(97), X(CV_PI), id(\"mydata1234\") // explicit to avoid implicit conversion\n{}\nvoid write(FileStorage&amp; fs) const //Write serialization for this class\n{\nfs &lt;&lt; \"{\" &lt;&lt; \"A\" &lt;&lt; A &lt;&lt; \"X\" &lt;&lt; X &lt;&lt; \"id\" &lt;&lt; id &lt;&lt; \"}\";\n}\n\npublic: // Data Members\nint A;\ndouble X;\nstring id;\n};\n</code></pre>\n\n<p>So this is the part which I am stuck at:</p>\n\n<pre><code>MyData() : A(0), X(0), id() {}\nexplicit MyData(int) : A(97), X(CV_PI), id(\"mydata1234\") // explicit to \n</code></pre>\n\n<p>A declaration (header file) which I tried:</p>\n\n<pre><code>class MyData\n{\n    public: // Data Members\n        int A;\n        double X;\n        std::string id;\n\n        MyData() ;\n        explicit MyData(int);\n\n    void write(cv::FileStorage&amp; fs) const;\n    void read(const cv::FileNode&amp; node);\n};\n\n#endif\n</code></pre>\n\n<p>The thing in .cpp</p>\n\n<pre><code>MyData::MyData() : A(0), X(0), id() {}  // this is simple\n</code></pre>\n\n<p>But what next?</p>\n\n<pre><code>MyData::MyData(int) : \n    A(97), X(CV_PI), id(\"mydata1234\") {};\nMyData::write(cv::FileStorage&amp; fs) const \n{ // ... it will stuck here C4430 \n }\n</code></pre>\n\n<p>using Visual Studio 2010</p>\n"}, {"tags": ["c++", "vector", "initialization", "priority-queue"], "answers": [{"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": false, "score": 2, "last_activity_date": 1465408452, "creation_date": 1465408452, "answer_id": 37709599, "question_id": 37709500, "link": "https://stackoverflow.com/questions/37709500/initializing-a-vector-with-a-priorityqueue/37709599#37709599", "title": "Initializing a vector with a priorityqueue", "body": "<p>The book probably assumes that <code>priority_queue</code> is a subclass of <code>std::vector</code>.</p>\n\n<p>The C++ standard does not guarantee that.</p>\n\n<p>Once constructed, <code>priority_queue</code> provides no <code>public</code> access to the underlying container, hence you cannot initialize a <code>std::vector</code> from it.</p>\n\n<p>However, what you can do, apparently, is to subclass your <code>std::priority_queue</code>, with the subclass apparently having access to the inherited <code>protected</code> member <code>c</code>, which should be the underlying <code>std::vector</code>, that you can use to copy-construct another vector.</p>\n"}], "owner": {"reputation": 3680, "user_id": 5797668, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/3dd63df8b807723a17486949f2262c00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Bollbach", "link": "https://stackoverflow.com/users/5797668/alex-bollbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465408452, "creation_date": 1465408171, "question_id": 37709500, "link": "https://stackoverflow.com/questions/37709500/initializing-a-vector-with-a-priorityqueue", "title": "Initializing a vector with a priorityqueue", "body": "<p>I have found code similar to the following in a book about algorithms.  The code attempts to initialize a vector from the current state of a max_heap.  However, the following code in Xcode (7.3) yields the compile-time error:</p>\n\n<blockquote>\n  <p>No Matching Constructor for initialization of 'vector'</p>\n</blockquote>\n\n<pre><code>// declaring priority queue\npriority_queue&lt;Star, vector&lt;Star&gt;&gt; max_heap;\n\n\n// pushing/popping to/from heap\n\n// initializing vector with heap\nvector&lt;Star&gt; closestStars(max_heap);\n</code></pre>\n\n<p>Either the book is in error or I am doing something incorrectly.  In the former case, is there a correct way to initialize a vector from the underlying container of an STL priority queue?</p>\n"}, {"tags": ["c++", "struct", "unions"], "comments": [{"owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "edited": false, "score": 0, "creation_date": 1465408399, "post_id": 37709419, "comment_id": 62893066, "body": "What is your question?"}], "answers": [{"comments": [{"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465410682, "post_id": 37709687, "comment_id": 62894424, "body": "He doesn&#39;t <i>have</i> to pull the definitions out of CTest, it&#39;s just probably what he wants to do."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465410721, "post_id": 37709687, "comment_id": 62894447, "body": "Also, downvote for using new when a local variable would have been perfectly sufficient."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465411027, "post_id": 37709687, "comment_id": 62894629, "body": "@kfsone: I preserved OPs other code, which included new/delete. I think a downvote is a bit harsh for that, but c&#39;est la vie."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 1, "creation_date": 1465411130, "post_id": 37709687, "comment_id": 62894688, "body": "@kfsone: Re: your first comment. OP doesn&#39;t technically have to, yes. Technically all they need is a member of that type. However, it appears that they were simply confused about how to get another user defined class object within another one, and approached it the way they did. Pulling it out makes the most sense."}], "tags": [], "owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "is_accepted": true, "score": -1, "last_activity_date": 1465408793, "creation_date": 1465408793, "answer_id": 37709687, "question_id": 37709419, "link": "https://stackoverflow.com/questions/37709419/accessing-struct-and-union-member-functions-within-a-class/37709687#37709687", "title": "Accessing struct and union member functions within a class", "body": "<p>What you're actually trying to do is have an <strong>instance</strong> of a struct inside your class. What you did was define a class within your class (which did not actually give your class a member of that type, but only scoped its definition).</p>\n\n<p>So what you need to do is pull our the <code>struct</code>, from the class:</p>\n\n<pre><code>struct CTESTSTRUCT\n{\n   // ...\n};\n</code></pre>\n\n<p>And then give <code>CTest</code> a member of type <code>CTESTSTRUCT</code></p>\n\n<pre><code>class CTest {\n    int value;\npublic:\n    CTest(int);\n    int getValue();\n    CTESTSTRUCT test;\n\n    ~CTest();\n};\n</code></pre>\n\n<p>Now you can access it like so:</p>\n\n<pre><code>int main() {\n    CTest * ctestObj;\n    ctestObj = new CTest(25);\n    int returnVal = ctestObj-&gt;getValue();\n    std::cout &lt;&lt; \"Value Returned: \" &lt;&lt; returnVal &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"structVal: \" &lt;&lt; std::endl;\n    ctestObj-&gt;test.testVal = 10;\n    delete ctestObj;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 6308393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1639587459654581/picture?type=large", "display_name": "Shiv Pratap Singh", "link": "https://stackoverflow.com/users/6308393/shiv-pratap-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 37709687, "answer_count": 1, "score": 0, "last_activity_date": 1465431345, "creation_date": 1465407930, "last_edit_date": 1465431345, "question_id": 37709419, "link": "https://stackoverflow.com/questions/37709419/accessing-struct-and-union-member-functions-within-a-class", "title": "Accessing struct and union member functions within a class", "body": "<p>In this program I just want to test a structure and union within a class itself.</p>\n\n<p>I had created a public <code>struct</code>, and declared a union within it.</p>\n\n<p>I am using Visual Studio and Qt Creator to type this code.</p>\n\n<p>I want to ask, is defining a <code>struct</code> within a class good and accessible?\nI am having problem with that.</p>\n\n<p>If this is correct, how could I access the method or data member of the <code>struct</code> from <code>main</code>?</p>\n\n<p>I'd also like to use the <code>union</code> member of the <code>struct</code>.</p>\n\n<p>If the method or functions of the <code>struct</code> are not accessible this way,. what's another way of doing it?</p>\n\n<p>//************************************************************************************</p>\n\n<pre><code>#ifndef CTEST_H\n#define CTEST_H\n\nclass CTest {\n    int value;\npublic:\n    CTest(int);\n    int getValue();\n    struct CTESTSTRUCT {\n        union CTESTUNION\n        {\n            enum CTestEnum {\n                var1 = 1\n            };\n            char varChar1 = 'Y';\n            char varChar2 /*= 'N'*/; //union atmost have one field initializer\n        };\n        int structValue();\n        int testVal;\n    };\n    ~CTest();\n};\n\n#endif\n\n//************************************************************************************\n\n#include &lt;iostream&gt;\n#include \"CTest.h\"\n\nCTest::CTest(int argVal) : value(argVal) {\n    std::cout &lt;&lt; \"Constructor Called\" &lt;&lt; std::endl;\n}\n\nint CTest::getValue() {\n    std::cout &lt;&lt; \"getValue Called\" &lt;&lt; std::endl;\n    return value;\n}\n\nint CTest::CTESTSTRUCT::structValue() {\n    std::cout &lt;&lt; \"CTESTSTRUCT::setValue Called\" &lt;&lt; std::endl;\n    return CTESTSTRUCT::CTESTUNION::var1;\n}\n\nCTest::~CTest() {\n    std::cout &lt;&lt; \"Distructor Called\" &lt;&lt; std::endl;\n}\n\n//*********************************************************************************\n\n#include &lt;iostream&gt;\n#include \"CTest.h\"\n\nusing namespace std;\n\nCTest * ctestObj;\n\nint main() {\n\n\n    ctestObj = new CTest(25);\n    int returnVal = ctestObj-&gt;getValue();\n    std::cout &lt;&lt; \"Value Returned: \" &lt;&lt; returnVal &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"structVal: \" &lt;&lt; std::endl;\n    //CTest::CTESTSTRUCT::testVal = 10;\n    delete ctestObj;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "file", "std"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465407978, "post_id": 37709395, "comment_id": 62892786, "body": "Try opening the file for reading to check if it already exists."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1465408016, "post_id": 37709395, "comment_id": 62892814, "body": "@Olaf That&#39;s too much nit-picking"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1465408094, "post_id": 37709395, "comment_id": 62892852, "body": "@DieterL&#252;cking: No! The typical functions for opening and handling a file differ in both languages. Worse, as OP does not show any code how exactly she opens the file. Both languages have very different standard libraries."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1465408191, "post_id": 37709395, "comment_id": 62892928, "body": "There is no &quot;atomic&quot; file access whatsoever in C/C++. You have to solve it on OS-level."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1465408564, "post_id": 37709395, "comment_id": 62893144, "body": "... <code>tmpfile</code> might be an exemption."}, {"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1465412836, "post_id": 37709395, "comment_id": 62895685, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 : You did not read the full post! Someone could create the file between the check and the open for writing"}, {"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "edited": false, "score": 0, "creation_date": 1465412930, "post_id": 37709395, "comment_id": 62895742, "body": "@DieterL&#252;cking : what I mean by &quot;atomic&quot; is that if you open the file for reading in order to check if it exists, then close it, then open the file for writing, something may have happened inbetween, such as a file creation"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1465413163, "post_id": 37709395, "comment_id": 62895851, "body": "@galinette You stole the quote &quot;atomic&quot; in your edit of the question."}, {"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "edited": false, "score": 0, "creation_date": 1465413468, "post_id": 37709395, "comment_id": 62896017, "body": "@DieterL&#252;cking : yes, because your comment convinced me that the word &quot;atomic&quot; was misleading and unnecessary"}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1465412926, "last_edit_date": 1495541875, "creation_date": 1465412926, "answer_id": 37710921, "question_id": 37709395, "link": "https://stackoverflow.com/questions/37709395/c-open-file-for-writing-only-if-does-not-exists/37710921#37710921", "title": "C++ open file for writing only if does not exists", "body": "<p>In <code>std::ofstream</code> by itself, no.  Opening a file for writing always creates a new file if it does not already exist.  There is no option to change that behavior.  Opening a file for reading fails if the file does not exist.</p>\n\n<p>However, on Windows at least, the Win32 API <code>CreateFile()</code> function has a <code>CREATE_NEW</code> flag that fails to open the file if it already exists. On other platforms, there may be flags available for <code>_fsopen()</code> and <code>fopen()</code> do accomplish the same thing.</p>\n\n<p>It is possible to attach a <code>FILE*</code> to a <code>std::ofstream</code> (or maybe this is just a Microsoft extension, I am not sure), and in Visual C++ a <code>FILE*</code> can be created for a <code>HANDLE</code> returned by <code>CreateFile()</code> by using <code>_open_osfhandle()</code> with <code>_fdopen()</code>. See this question for examples:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/475853/\">Can I use CreateFile, but force the handle into a std::ofstream?</a></p>\n\n<p>Other compilers/platforms may provide similar extensions for initializing an <code>std::ofstream</code>, you will have to look around.</p>\n"}, {"comments": [{"owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "edited": false, "score": 1, "creation_date": 1465413598, "post_id": 37711075, "comment_id": 62896087, "body": "Thanks! It&#39;s a pity that no equivalent was added to ofstream, but at least I have a standard way"}, {"owner": {"reputation": 14978, "user_id": 673852, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/S5IZ5.png?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/673852/ruslan"}, "edited": false, "score": 2, "creation_date": 1494606121, "post_id": 37711075, "comment_id": 74917135, "body": "This is misleading. The question is about C++, and this access mode is only available in C11."}, {"owner": {"reputation": 20507, "user_id": 1463922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3878980c7836d9e36f3a9ac100ff36a8?s=128&d=identicon&r=PG", "display_name": "PiotrNycz", "link": "https://stackoverflow.com/users/1463922/piotrnycz"}, "reply_to_user": {"reputation": 14978, "user_id": 673852, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/S5IZ5.png?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/673852/ruslan"}, "edited": false, "score": 0, "creation_date": 1494621568, "post_id": 37711075, "comment_id": 74925070, "body": "@Ruslan - read this part: &quot;or with the C functions (FILE* functions)&quot;. I added missing [c] tag"}, {"owner": {"reputation": 14978, "user_id": 673852, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/S5IZ5.png?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/673852/ruslan"}, "edited": false, "score": 0, "creation_date": 1494621740, "post_id": 37711075, "comment_id": 74925151, "body": "I was supposing that by the C functions the OP meant the C compatibility in C++ (like <code>&lt;cstdio&gt;</code> header and the like), not separate C language functions. But your view is also valid indeed. If you edit your answer to mention that this mode isn&#39;t available until C++17 (where C11 is referenced instead of C99), I&#39;ll be able to remove the downvote."}, {"owner": {"reputation": 20507, "user_id": 1463922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3878980c7836d9e36f3a9ac100ff36a8?s=128&d=identicon&r=PG", "display_name": "PiotrNycz", "link": "https://stackoverflow.com/users/1463922/piotrnycz"}, "reply_to_user": {"reputation": 14978, "user_id": 673852, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/S5IZ5.png?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/673852/ruslan"}, "edited": false, "score": 0, "creation_date": 1494680340, "post_id": 37711075, "comment_id": 74938209, "body": "@Ruslan - fill free to edit &quot;my&quot; answer. All posts in SO are owned by SO community. If you think that this is necessary then why not - however I am not 100% convinced - for me your valuable comments under the answer are enough information for those who love such details."}], "tags": [], "owner": {"reputation": 20507, "user_id": 1463922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3878980c7836d9e36f3a9ac100ff36a8?s=128&d=identicon&r=PG", "display_name": "PiotrNycz", "link": "https://stackoverflow.com/users/1463922/piotrnycz"}, "is_accepted": false, "score": 8, "last_activity_date": 1494682994, "last_edit_date": 1494682994, "creation_date": 1465413469, "answer_id": 37711075, "question_id": 37709395, "link": "https://stackoverflow.com/questions/37709395/c-open-file-for-writing-only-if-does-not-exists/37711075#37711075", "title": "C++ open file for writing only if does not exists", "body": "<p>Since C11 (and thus also in C++17), for <code>fopen</code> you can use mode <code>\"x\"</code> \u2014 exclusive mode, see <a href=\"http://en.cppreference.com/w/c/io/fopen\" rel=\"noreferrer\">this</a>:</p>\n\n<blockquote>\n  <p>File access mode flag \"x\" can optionally be appended to \"w\" or \"w+\"\n  specifiers. This flag forces the function to fail if the file exists,\n  instead of overwriting it.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1498, "user_id": 1453047, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ddb4b9f2e53d262a99736ff10a0049a0?s=128&d=identicon&r=PG", "display_name": "Borislav Stanimirov", "link": "https://stackoverflow.com/users/1453047/borislav-stanimirov"}, "is_accepted": false, "score": 2, "last_activity_date": 1604057970, "creation_date": 1604057970, "answer_id": 64607662, "question_id": 37709395, "link": "https://stackoverflow.com/questions/37709395/c-open-file-for-writing-only-if-does-not-exists/64607662#64607662", "title": "C++ open file for writing only if does not exists", "body": "<p>There are no <code>fstream</code> ways of doing this, but <code>std::fopen</code> is as much C++ as <code>std::sin</code>.</p>\n<p>If you absolutely must have an <code>fstream</code> object of this file and you need the atomic check, you should first call <code>fopen</code> then on success, <code>fclose</code> and <code>fstream::open</code>:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>std::ofstream create_new_file_for_writing()\n{\n    FILE* fp = nullptr;\n    std::string fname;\n    do {\n        fname = random_file_name(); \n        fp = fopen(fname.c_str(), &quot;wx&quot;);\n    } while(!fp);\n    // here the file is created and you &quot;own&quot; the filename\n    fclose(fp);\n    return std::ostream(fname);\n}\n</code></pre>\n"}], "owner": {"reputation": 7908, "user_id": 2042388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Qz7YO.jpg?s=128&g=1", "display_name": "galinette", "link": "https://stackoverflow.com/users/2042388/galinette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2004, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1604057970, "creation_date": 1465407852, "last_edit_date": 1494621507, "question_id": 37709395, "link": "https://stackoverflow.com/questions/37709395/c-open-file-for-writing-only-if-does-not-exists", "title": "C++ open file for writing only if does not exists", "body": "<p>I would like to open a file for writing with the standard library, but the file open should fail if the file already exists.</p>\n\n<p>From what I can read in the documentation, ofstream::open only allows appending or truncating.</p>\n\n<p>I could of course try to open for reading to check if the file exists, and reopen for writing if it doesn't, but there is no guarantee that the file will not be created by another process inbetween.</p>\n\n<p>Could someone confirm this is not possible in C++ with the standard library (std::iostream) or with the C functions (FILE* functions)</p>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465407476, "post_id": 37709237, "comment_id": 62892535, "body": "What is the type of <code>total</code>?  Is it an array type?"}, {"owner": {"reputation": 3575, "user_id": 6081445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/005fd098b0fa87b368915187a4e588fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wallis", "link": "https://stackoverflow.com/users/6081445/kevin-wallis"}, "edited": false, "score": 0, "creation_date": 1465407477, "post_id": 37709237, "comment_id": 62892536, "body": "the problem with the <code>total</code> is, that it is not an array so you cannot do <code>total[i]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1465407478, "post_id": 37709237, "comment_id": 62892537, "body": "TLDR; Might be a good time to start unit testing small units (functions, modules, ...) of code."}, {"owner": {"reputation": 3575, "user_id": 6081445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/005fd098b0fa87b368915187a4e588fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wallis", "link": "https://stackoverflow.com/users/6081445/kevin-wallis"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465407509, "post_id": 37709237, "comment_id": 62892558, "body": "@NathanOliver <code>total</code> is <code>int</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 3575, "user_id": 6081445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/005fd098b0fa87b368915187a4e588fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wallis", "link": "https://stackoverflow.com/users/6081445/kevin-wallis"}, "edited": false, "score": 3, "creation_date": 1465407566, "post_id": 37709237, "comment_id": 62892582, "body": "@KevinWallis I know that.  I am trying to get the OP to reason about the problem themselves."}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1465407732, "post_id": 37709237, "comment_id": 62892665, "body": "It&#39;s generally a good idea when posting a question to narrow down the code to the relevant part instead of posting your entire program."}], "answers": [{"tags": [], "owner": {"reputation": 6681, "user_id": 6024122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uiRWa4coXLs/AAAAAAAAAAI/AAAAAAAAJUs/5BxfhSS1bUY/photo.jpg?sz=128", "display_name": "Patrick Trentin", "link": "https://stackoverflow.com/users/6024122/patrick-trentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1465413495, "last_edit_date": 1492087236, "creation_date": 1465412473, "answer_id": 37710794, "question_id": 37709237, "link": "https://stackoverflow.com/questions/37709237/getting-sensor-average-using-arrays/37710794#37710794", "title": "Getting Sensor Average using Arrays?", "body": "<p><strong>Notes</strong>: others have already pointed out the reasons why your code does not compile in the comments to your question.</p>\n\n<p>More in detail, you <strong>declare</strong> neither <em>total</em> nor <em>readIndex</em> to be <strong>arrays</strong>, there is a <strong>typo</strong> (<em>readIntex</em> instead of <em>readIndex</em> at line <em>44</em>) and two <strong>missing semi-columns</strong> (lines <em>41</em> and <em>42</em>). </p>\n\n<p><strong>However</strong>, after carefully reading your code I think that even by applying those <em>syntactic</em> fixes you will not obtain a piece of code that does what you want. </p>\n\n<p>Thus, I will provide here with my <em>interpretation</em> of your <em>desired</em> source code based on the description of your problem and your attempt.</p>\n\n<p>I could verify that it compiles, however <em>-since I lack the hardware-</em> I could not test it.</p>\n\n<blockquote>\n  <p>(<strong>disclaimer:</strong> I am rather <em>rusty</em> with <em>Arduino</em>'s <em>style guide</em> so\n  I apologise in advance for adopting a <em>personal</em> code styling.)</p>\n</blockquote>\n\n<hr>\n\n<pre><code>#include&lt;Arduino.h&gt;\n\n#define NUM_SENSORS  4\n#define NUM_READINGS 5\n#define LOWER_LIMIT 24\n#define UPPER_LIMIT 31\n#define PRINT_PERIOD 1000\n#define TEMPERATURE_FACTOR 9.31\n\n/* global variables */\n\nconst byte tempPin[] = {A1, A2, A3, A4};\nconst byte relayPin[] = {6, 7, 8, 9};\n\nword readings[NUM_SENSORS][NUM_READINGS] = {};\nword totals[NUM_SENSORS] = {};\nfloat averages[NUM_SENSORS] = {};\n\nunsigned long time_elapsed = 0;\nword num_readings = 0;\nword j = 0;\n\n/* setup */\n\nvoid setup()\n{\n  analogReference(INTERNAL);\n\n  Serial.begin(115200);\n\n  for (int i = 0; i &lt; 4; i++)\n  {\n    pinMode(relayPin[i], INPUT_PULLUP);\n    pinMode(relayPin[i], OUTPUT); // defaults HIGH, relay OFF\n  }\n}\n\n/* main loop */\n\nvoid loop()\n{\n  // keep track of actual readings:\n  // (prevents under-estimation of initial values\n  // due to a too large smoothing window)\n  if (num_readings &lt; NUM_READINGS)\n  {\n    num_readings++;\n  }\n\n  for (int i = 0; i &lt; NUM_SENSORS; i++)\n  {\n    // subtract the last reading:\n    totals[i] = totals[i] - readings[i][j];\n    // read from the sensor:\n    readings[i][j] = analogRead(tempPin[i]);\n    // add the reading to the total:\n    totals[i] = totals[i] + readings[i][j];\n\n    // update average\n    averages[i] = ((float) totals[i] / TEMPERATURE_FACTOR) / (float) num_readings;\n\n    // uncomment to optionally delay action on relays\n    // up until when the smooth window has been filled up\n    // if (num_readings == NUM_READINGS) {\n      if (averages[i] &lt; LOWER_LIMIT)\n      {\n        digitalWrite(relayPin[i], LOW);   // relay OFF\n      } else if (averages[i] &gt; UPPER_LIMIT) {\n        digitalWrite(relayPin[i], HIGH);  // relay ON\n      }\n    // }\n  }\n\n  // advance the reading index:\n  j = (j + 1) % NUM_READINGS;\n\n  unsigned long curr_time = millis();\n  static unsigned long start_time = curr_time; // initialized only once\n\n  if ((curr_time - start_time) &gt;= PRINT_PERIOD)\n  {\n    for (int i = 0; i &lt; 4; i++)\n    {\n      Serial.print(\"tempC\");\n      Serial.print(i + 1);\n      Serial.print(\" \");\n      Serial.println(averages[i]);\n    }\n    Serial.println();\n    start_time = curr_time; // not really best solution, but\n                            // i don't want to bloat the code\n  }\n\n  delay(1); // waste some time\n}\n</code></pre>\n\n<p><strong>Note</strong>: I kept <em>totals</em> and <em>readings</em> of type <em>word</em> so as to avoid the typical hindrances of <em>floating point</em> operations. </p>\n\n<hr>\n\n<p><strong>Additional Notes</strong>: </p>\n\n<ol>\n<li><p>having a smooth window of <em>50</em> readings sounds very suspicious to me, in my experience the last 3-5 readings should suffice, perhaps with a larger <em>delay</em> in-between.</p></li>\n<li><p>since you're still learning, I suggest you to share your <em>working</em> (small) projects on <a href=\"https://codereview.stackexchange.com/\">https://codereview.stackexchange.com/</a> from time to time, so as to get some <em>very nice</em> feedback. (:</p></li>\n</ol>\n"}], "owner": {"reputation": 139, "user_id": 6441452, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208307034026078/picture?type=large", "display_name": "Dante Nahuel Ciai", "link": "https://stackoverflow.com/users/6441452/dante-nahuel-ciai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1573, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465413495, "creation_date": 1465407312, "question_id": 37709237, "link": "https://stackoverflow.com/questions/37709237/getting-sensor-average-using-arrays", "title": "Getting Sensor Average using Arrays?", "body": "<p>First of all, let me be clear: I'm a total noob, I have close to zero programming experience and I know i'm out of my league, but I want to learn and understand.\nHere's the issue. The following code has been made to control heat pads using 4 relays that turn off/on depending on the temperature that 4 lm35 Temp sensors pick up. Because these sensors can be jumpy sometimes, I want to get the average temperature from, let's say, 50 readings, and make the code check THAT data instead of the raw temp reading.\nI have the code for the arduino (I wrote some code and guys over other forums took it and modified it to make it shorter (and that kind of lost me, but the code works)\nand then I searched smoothing data and got a piece of code that does exactly what I want: make an array, calculate the average temp, and keep deleting and adding new data.</p>\n\n<p>I tried to join both codes together and I got all different kind of errors, lol\nSo here I am.</p>\n\n<p><strong>The Code that works without average data is this one:</strong></p>\n\n<pre><code>const byte tempPin[] = {A1, A2, A3, A4};\nconst byte relayPin[] = {6, 7, 8, 9};\n\n// hysteresis = upperLimit - lowerLimit\nconst byte lowerLimit = 24;\nconst byte upperLimit = 31;\n\nfloat tempC[4];\nword reading[4];\n\n\n\nword printInterval = 1000; // 1 second\nunsigned long printCheck = 0, lastPrintTime = 0;\n\nvoid setup()\n{\n  analogReference(INTERNAL);\n  Serial.begin(115200);\n  for (int i = 0; i &lt; 4; i++) {\n    pinMode(relayPin[i], INPUT_PULLUP);\n    pinMode(relayPin[i], OUTPUT); // defaults HIGH, relay OFF\n  }\n}\n\nvoid loop()\n{\n  // readings and control\n  for (int i = 0; i &lt; 4; i++) {\n    reading[i] = analogRead(tempPin[i]);\n    tempC[i] = reading[i] / 9.31;\n\n\n    if (tempC[i] &lt; lowerLimit) {\n      digitalWrite(relayPin[i], LOW);   //relay OFF\n    }\n    else if (tempC[i] &gt; upperLimit) {\n      digitalWrite(relayPin[i], HIGH);  // relay ON\n    }\n  }\n  printCheck = millis() - lastPrintTime;\n  if (printCheck &gt;= printInterval) {\n    for (int i = 0; i &lt; 4; i++) {\n      Serial.print(\"tempC\");\n      Serial.print(i + 1);\n      Serial.print(\" \");\n      Serial.println(tempC[i]);\n    }\n    Serial.println();\n    lastPrintTime = millis(); // reset print timer\n  }\n}\n</code></pre>\n\n<p><strong>The average code I got from Arduino Learning center is this one:</strong></p>\n\n<pre><code>/*\n\n  Smoothing\n\n  Reads repeatedly from an analog input, calculating a running average\n  and printing it to the computer.  Keeps ten readings in an array and\n  continually averages them.\n\n  The circuit:\n    * Analog sensor (potentiometer will do) attached to analog input 0\n\n  Created 22 April 2007\n  By David A. Mellis  &lt;dam@mellis.org&gt;\n  modified 9 Apr 2012\n  by Tom Igoe\n  http://www.arduino.cc/en/Tutorial/Smoothing\n\n  This example code is in the public domain.\n\n\n*/\n\n\n// Define the number of samples to keep track of.  The higher the number,\n// the more the readings will be smoothed, but the slower the output will\n// respond to the input.  Using a constant rather than a normal variable lets\n// use this value to determine the size of the readings array.\nconst int numReadings = 10;\n\nint readings[numReadings];      // the readings from the analog input\nint readIndex = 0;              // the index of the current reading\nint total = 0;                  // the running total\nint average = 0;                // the average\n\nint inputPin = A0;\n\nvoid setup() {\n  // initialize serial communication with computer:\n  Serial.begin(9600);\n  // initialize all the readings to 0:\n  for (int thisReading = 0; thisReading &lt; numReadings; thisReading++) {\n    readings[thisReading] = 0;\n  }\n}\n\nvoid loop() {\n  // subtract the last reading:\n  total = total - readings[readIndex];\n  // read from the sensor:\n  readings[readIndex] = analogRead(inputPin);\n  // add the reading to the total:\n  total = total + readings[readIndex];\n  // advance to the next position in the array:\n  readIndex = readIndex + 1;\n\n  // if we're at the end of the array...\n  if (readIndex &gt;= numReadings) {\n    // ...wrap around to the beginning:\n    readIndex = 0;\n  }\n\n  // calculate the average:\n  average = total / numReadings;\n  // send it to the computer as ASCII digits\n  Serial.println(average);\n  delay(1);        // delay in between reads for stability\n}\n</code></pre>\n\n<p><strong>The monster I created joining both codes is this one:</strong></p>\n\n<pre><code>const byte tempPin[] = {A1, A2, A3, A4};\nconst byte relayPin[] = {6, 7, 8, 9};\n\n// hysteresis = upperLimit - lowerLimit\nconst byte lowerLimit = 24;\nconst byte upperLimit = 31;\n\nfloat tempC[4];\nword reading[4];\n\nconst int numReadings = 50;\nint readings[numReadings];\nint readIndex = 0;\nint total = 0;\nfloat average[4];\n\n\nword printInterval = 1000; // 1 second\nunsigned long printCheck = 0, lastPrintTime = 0;\n\nvoid setup()\n{\n  analogReference(INTERNAL);\n  Serial.begin(115200);\n  for (int i = 0; i &lt; 4; i++) {\n    pinMode(relayPin[i], INPUT_PULLUP);\n    pinMode(relayPin[i], OUTPUT); // defaults HIGH, relay OFF\n  }\n  for (int thisReading = 0; thisReading &lt; numReadings; thisReading++){\n    readings[thisReading] = 0;\n  }\n}\n\nvoid loop()\n{\n  // readings and control\n  for (int i = 0; i &lt; 4; i++) {\n    reading[i] = analogRead(tempPin[i]);\n    tempC[i] = reading[i] / 9.31;\n    total[i] = total[i] - readings[readIndex];\n    readings[readIndex] = tempC[i]\n    total[i] = total[i] + readings[readIndex]\n    readIndex[i] = readIndex[i] + 1 ;\n    if (readIntex[i] &gt;= numReadings) {\n      readIndex = 0;\n    }\n    average[i] = total[i] / numReadings;\n\n    if (average[i] &lt; lowerLimit) {\n      digitalWrite(relayPin[i], LOW);   //relay OFF\n    }\n    else if (average[i] &gt; upperLimit) {\n      digitalWrite(relayPin[i], HIGH);  // relay ON\n    }\n  }\n  printCheck = millis() - lastPrintTime;\n  if (printCheck &gt;= printInterval) {\n    for (int i = 0; i &lt; 4; i++) {\n      Serial.print(\"tempC\");\n      Serial.print(i + 1);\n      Serial.print(\" \");\n      Serial.println(tempC[i]);\n    }\n    Serial.println();\n    lastPrintTime = millis(); // reset print timer\n  }\n}\n</code></pre>\n\n<p><strong>These are the errors that I got:</strong></p>\n\n<pre><code>Arduino: 1.6.8 (Windows 7), Board: \"Arduino/Genuino Uno\"\n\n\\temprelayfinal2.ino: In function 'void loop()':\n\ntemprelayfinal2:40: error: invalid types 'int[int]' for array subscript\n\n     total[i] = total[i] - readings[readIndex];\n\n            ^\n\ntemprelayfinal2:40: error: invalid types 'int[int]' for array subscript\n\n     total[i] = total[i] - readings[readIndex];\n\n                       ^\n\ntemprelayfinal2:42: error: expected ';' before 'total'\n\n     total[i] = total[i] + readings[readIndex]\n\n     ^\n\ntemprelayfinal2:44: error: 'readIntex' was not declared in this scope\n\n     if (readIntex[i] &gt;= numReadings) {\n\n         ^\n\ntemprelayfinal2:47: error: invalid types 'int[int]' for array subscript\n\n     average[i] = total[i] / numReadings;\n\n                         ^\n\nexit status 1\ninvalid types 'int[int]' for array subscript\n\nThis report would have more information with\n\"Show verbose output during compilation\"\noption enabled in File -&gt; Preferences.\n</code></pre>\n"}, {"tags": ["c++", "arrays", "algorithm", "combinations", "permutation"], "comments": [{"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1465407233, "post_id": 37709170, "comment_id": 62892410, "body": "How does the existing sign suppose to change your algo?"}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465407532, "post_id": 37709170, "comment_id": 62892568, "body": "Is there any reason why <code>-2,-3,-2</code> is not OK?"}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465407641, "post_id": 37709170, "comment_id": 62892625, "body": "In your second example <code>2.[-1,-2,3]</code> and <code>4.[-1,-2,3]</code> are repeating, should they?"}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465407791, "post_id": 37709170, "comment_id": 62892698, "body": "Now <code>3.[-1,2,-3</code> and <code>5.[-1,2,-3]</code> are the same"}, {"owner": {"reputation": 75, "user_id": 6441633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c404806daeff4a1306ffed35dcc09e0b?s=128&d=identicon&r=PG&f=1", "display_name": "vishwas gupta", "link": "https://stackoverflow.com/users/6441633/vishwas-gupta"}, "reply_to_user": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465408009, "post_id": 37709170, "comment_id": 62892809, "body": "@Michi My bad. Updated."}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465408052, "post_id": 37709170, "comment_id": 62892834, "body": "OK, now we know what you need, but you didn&#39;t showed us what have you tried so far."}, {"owner": {"reputation": 75, "user_id": 6441633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c404806daeff4a1306ffed35dcc09e0b?s=128&d=identicon&r=PG&f=1", "display_name": "vishwas gupta", "link": "https://stackoverflow.com/users/6441633/vishwas-gupta"}, "reply_to_user": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465408142, "post_id": 37709170, "comment_id": 62892889, "body": "@Michi I tried till the first example. But I was unable to proceed to this problem so at last I posted here."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1465408173, "post_id": 37709170, "comment_id": 62892916, "body": "Now item 5 is not possible."}, {"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "reply_to_user": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465408260, "post_id": 37709170, "comment_id": 62892959, "body": "@Michi I think we need to consider K value, too. :)"}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "reply_to_user": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1465408362, "post_id": 37709170, "comment_id": 62893036, "body": "@SouravGhosh That should be interesting to do it :). Any way the OP doesn&#39;t seems to show any code which describe what he tried ."}, {"owner": {"reputation": 4739, "user_id": 4745612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1b8f0eb3ff209075ac07aabc64d2bde4?s=128&d=identicon&r=PG&f=1", "display_name": "Michi", "link": "https://stackoverflow.com/users/4745612/michi"}, "edited": false, "score": 0, "creation_date": 1465409068, "post_id": 37709170, "comment_id": 62893460, "body": "<code>cin</code> , <code>cout</code> Why the <code>C</code> tag here?"}], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 3398917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QLQue.jpg?s=128&g=1", "display_name": "Stormwind", "link": "https://stackoverflow.com/users/3398917/stormwind"}, "is_accepted": true, "score": 4, "last_activity_date": 1465434732, "creation_date": 1465434732, "answer_id": 37715386, "question_id": 37709170, "link": "https://stackoverflow.com/questions/37709170/finding-total-number-of-arrays/37715386#37715386", "title": "Finding total number of arrays", "body": "<p>This caters for a huge multidimensional setup. Some brute-force coding, using the parallel array processing language <a href=\"http://www.dyalog.com\" rel=\"nofollow\"><strong>Dyalog APL</strong></a> reveals the following number of unique results, for K = 1...10 and N = 1...14:</p>\n\n<pre><code>\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\n\u2502    \u2502N=1\u2502N=2\u2502N=3\u2502N=4\u2502N=5\u2502N=6\u2502N=7\u2502N=8\u2502N=9\u2502N=10\u2502N=11\u2502N=12\u2502N=13\u2502N=14\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=1 \u25021  \u25022  \u25023  \u25024  \u25025  \u25026  \u25027  \u25028  \u25029  \u250210  \u250211  \u250212  \u250213  \u250214  \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=2 \u25021  \u25022  \u25024  \u25027  \u250211 \u250216 \u250222 \u250229 \u250237 \u250246  \u250256  \u250267  \u250279  \u250292  \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=3 \u25021  \u25022  \u25024  \u25028  \u250215 \u250226 \u250242 \u250264 \u250293 \u2502130 \u2502176 \u2502232 \u2502299 \u2502378 \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=4 \u25021  \u25022  \u25024  \u25028  \u250216 \u250231 \u250257 \u250299 \u2502163\u2502256 \u2502386 \u2502562 \u2502794 \u25021093\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=5 \u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250263 \u2502120\u2502219\u2502382 \u2502638 \u25021024\u25021586\u25022380\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=6 \u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250264 \u2502127\u2502247\u2502466 \u2502848 \u25021486\u25022510\u25024096\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=7 \u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250264 \u2502128\u2502255\u2502502 \u2502968 \u25021816\u25023302\u25025812\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=8 \u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250264 \u2502128\u2502256\u2502511 \u25021013\u25021981\u25023797\u25027099\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=9 \u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250264 \u2502128\u2502256\u2502512 \u25021023\u25022036\u25024017\u25027814\u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2524\n\u2502K=10\u25021  \u25022  \u25024  \u25028  \u250216 \u250232 \u250264 \u2502128\u2502256\u2502512 \u25021024\u25022047\u25024083\u25028100\u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>One cannot see any distinct pattern in there, although it indeed does exist. One thing we can see is that when performing the negation enough times (ie. K is \"exhausts\" the array), we seem to reach 2^(N-1) unique results (ie. 1, 2, 4, 8, 16 etc).</p>\n\n<p>Assume we do it brute-forcedly. If we have a 4-length array (ie. N=4) and K=1, elements 1, 2, 3 or 4 of the array can be negated:</p>\n\n<pre><code>\u250c\u2500\u252c\u2500\u252c\u2500\u252c\u2500\u2510\n\u25021\u25022\u25023\u25024\u2502\n\u2514\u2500\u2534\u2500\u2534\u2500\u2534\u2500\u2518\n</code></pre>\n\n<p>If K=2, we get a new a dimension (now a 2-dimensional problem) and now have 16 possible index pairs for negation:</p>\n\n<pre><code>\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2510\n\u25021 1\u25021 2\u25021 3\u25021 4\u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2524\n\u25022 1\u25022 2\u25022 3\u25022 4\u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2524\n\u25023 1\u25023 2\u25023 3\u25023 4\u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2524\n\u25024 1\u25024 2\u25024 3\u25024 4\u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>For example the [4 2] means that array[4] and array[2] would both be multiplied by -1. </p>\n\n<p>Setting K=3 makes it 3-dimensional:</p>\n\n<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u25021 1 1\u25021 1 2\u25021 1 3\u25021 1 4\u2502\u25022 1 1\u25022 1 2\u25022 1 3\u25022 1 4\u2502\u25023 1 1\u25023 1 2\u25023 1 3\u25023 1 4\u2502\u25024 1 1\u25024 1 2\u25024 1 3\u25024 1 4\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n\u25021 2 1\u25021 2 2\u25021 2 3\u25021 2 4\u2502\u25022 2 1\u25022 2 2\u25022 2 3\u25022 2 4\u2502\u25023 2 1\u25023 2 2\u25023 2 3\u25023 2 4\u2502\u25024 2 1\u25024 2 2\u25024 2 3\u25024 2 4\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n\u25021 3 1\u25021 3 2\u25021 3 3\u25021 3 4\u2502\u25022 3 1\u25022 3 2\u25022 3 3\u25022 3 4\u2502\u25023 3 1\u25023 3 2\u25023 3 3\u25023 3 4\u2502\u25024 3 1\u25024 3 2\u25024 3 3\u25024 3 4\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2524\n\u25021 4 1\u25021 4 2\u25021 4 3\u25021 4 4\u2502\u25022 4 1\u25022 4 2\u25022 4 3\u25022 4 4\u2502\u25023 4 1\u25023 4 2\u25023 4 3\u25023 4 4\u2502\u25024 4 1\u25024 4 2\u25024 4 3\u25024 4 4\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>...where for example [1 1 1] means that array[1] would be multiplied by -1 three times in a row. Now we can also see that some of the 64 possibilities are duplicates.</p>\n\n<p>When doing the brute-force calculation, there was actually 10-dimensional data involved. Eventually the system run out of memory, as the data grew enourmous.</p>\n\n<p>It doesn't matter what numeric values the array contains. Instead, we of course only need to figure out the sign changes, ie. multiplications with -1. Here are the possible number of unique combinations for K = 1...5 and N = 1...5:</p>\n\n<pre><code>\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u2502N=1 \u2502N=2        \u2502N=3                            \u2502N=4                                                                              \u2502N=5                                                                                                                                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=1\u2502\u250c\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                            \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                                                                                                                 \u2502\n\u2502   \u2502\u2502-1\u2502\u2502\u2502-1 1\u25021 -1\u2502\u2502\u2502-1 1 1\u25021 -1 1\u25021 1 -1\u2502         \u2502\u2502-1 1 1 1\u25021 -1 1 1\u25021 1 -1 1\u25021 1 1 -1\u2502                                            \u2502\u2502-1 1 1 1 1\u25021 -1 1 1 1\u25021 1 -1 1 1\u25021 1 1 -1 1\u25021 1 1 1 -1\u2502                                                                                                                                                 \u2502\n\u2502   \u2502\u2514\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                            \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=2\u2502\u250c\u2500\u2510 \u2502\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                                      \u2502\n\u2502   \u2502\u25021\u2502 \u2502\u25021 1\u2502-1 -1\u2502\u2502\u25021 1 1\u2502-1 -1 1\u2502-1 1 -1\u25021 -1 -1\u2502\u2502\u25021 1 1 1\u2502-1 -1 1 1\u2502-1 1 -1 1\u2502-1 1 1 -1\u25021 -1 -1 1\u25021 -1 1 -1\u25021 1 -1 -1\u2502            \u2502\u25021 1 1 1 1\u2502-1 -1 1 1 1\u2502-1 1 -1 1 1\u2502-1 1 1 -1 1\u2502-1 1 1 1 -1\u25021 -1 -1 1 1\u25021 -1 1 -1 1\u25021 -1 1 1 -1\u25021 1 -1 -1 1\u25021 1 -1 1 -1\u25021 1 1 -1 -1\u2502                                                                      \u2502\n\u2502   \u2502\u2514\u2500\u2518 \u2502\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                                      \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=3\u2502\u250c\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502   \u2502\u2502-1\u2502\u2502\u2502-1 1\u25021 -1\u2502\u2502\u2502-1 1 1\u25021 -1 1\u25021 1 -1\u2502-1 -1 -1\u2502\u2502\u2502-1 1 1 1\u25021 -1 1 1\u25021 1 -1 1\u25021 1 1 -1\u2502-1 -1 -1 1\u2502-1 -1 1 -1\u2502-1 1 -1 -1\u25021 -1 -1 -1\u2502\u2502\u2502-1 1 1 1 1\u25021 -1 1 1 1\u25021 1 -1 1 1\u25021 1 1 -1 1\u25021 1 1 1 -1\u2502-1 -1 -1 1 1\u2502-1 -1 1 -1 1\u2502-1 -1 1 1 -1\u2502-1 1 -1 -1 1\u2502-1 1 -1 1 -1\u2502-1 1 1 -1 -1\u25021 -1 -1 -1 1\u25021 -1 -1 1 -1\u25021 -1 1 -1 -1\u25021 1 -1 -1 -1\u2502               \u2502\n\u2502   \u2502\u2514\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=4\u2502\u250c\u2500\u2510 \u2502\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502   \u2502\u25021\u2502 \u2502\u25021 1\u2502-1 -1\u2502\u2502\u25021 1 1\u2502-1 -1 1\u2502-1 1 -1\u25021 -1 -1\u2502\u2502\u25021 1 1 1\u2502-1 -1 1 1\u2502-1 1 -1 1\u2502-1 1 1 -1\u25021 -1 -1 1\u25021 -1 1 -1\u25021 1 -1 -1\u2502-1 -1 -1 -1\u2502\u2502\u25021 1 1 1 1\u2502-1 -1 1 1 1\u2502-1 1 -1 1 1\u2502-1 1 1 -1 1\u2502-1 1 1 1 -1\u25021 -1 -1 1 1\u25021 -1 1 -1 1\u25021 -1 1 1 -1\u25021 1 -1 -1 1\u25021 1 -1 1 -1\u25021 1 1 -1 -1\u2502-1 -1 -1 -1 1\u2502-1 -1 -1 1 -1\u2502-1 -1 1 -1 -1\u2502-1 1 -1 -1 -1\u25021 -1 -1 -1 -1\u2502\u2502\n\u2502   \u2502\u2514\u2500\u2518 \u2502\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=5\u2502\u250c\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502   \u2502\u2502-1\u2502\u2502\u2502-1 1\u25021 -1\u2502\u2502\u2502-1 1 1\u25021 -1 1\u25021 1 -1\u2502-1 -1 -1\u2502\u2502\u2502-1 1 1 1\u25021 -1 1 1\u25021 1 -1 1\u25021 1 1 -1\u2502-1 -1 -1 1\u2502-1 -1 1 -1\u2502-1 1 -1 -1\u25021 -1 -1 -1\u2502\u2502\u2502-1 1 1 1 1\u25021 -1 1 1 1\u25021 1 -1 1 1\u25021 1 1 -1 1\u25021 1 1 1 -1\u2502-1 -1 -1 1 1\u2502-1 -1 1 -1 1\u2502-1 -1 1 1 -1\u2502-1 1 -1 -1 1\u2502-1 1 -1 1 -1\u2502-1 1 1 -1 -1\u25021 -1 -1 -1 1\u25021 -1 -1 1 -1\u25021 -1 1 -1 -1\u25021 1 -1 -1 -1\u2502-1 -1 -1 -1 -1\u2502\u2502\n\u2502   \u2502\u2514\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>This definitely shows us the pattern. If K is odd, we get odd number of negations, and if K is even, we get even number of negations. Both can happen up to the amount allowed by the arrays size N. Ie. if K=5, we can get 1 or 3 or 5 negations OR what fits into the array; ie. if N=4, we cannot ofc have 5 negations, but only 1 or 3. </p>\n\n<p>Hence, we can solve this using factorial/binomial (m!n) which tells us the possible number of unique combinations of m elements in n numeric space. Ie. 3!5 would return 10, as there are 10 ways to combine 3 elements of 1,2,3,4,5:</p>\n\n<pre><code>1 2 3\n1 2 4\n1 2 5\n1 3 4\n1 3 5\n1 4 5\n2 3 4\n2 3 5\n2 4 5\n3 4 5\n</code></pre>\n\n<p>4!5 would return 5:</p>\n\n<pre><code>1 2 3 4\n1 2 3 5\n1 2 4 5\n1 3 4 5\n2 3 4 5\n</code></pre>\n\n<p>and 3!3 would return 1:</p>\n\n<pre><code>1 2 3\n</code></pre>\n\n<p>The formula for this problem is (2 examples):</p>\n\n<pre><code>combinations = (1!6) + (3!6) + (5!6) + (7!6) // K=7, N=6 - note that K is odd\ncombinations = (0!6) + (2!6) + (4!6) + (6!6) // K=6, N=6 - note that K is even\n</code></pre>\n\n<p>Note:<br>\n<strong>0!n is always 1</strong><br>\n<strong>n!n is always 1</strong><br>\n<strong>(>n)!n is always 0</strong> (for example 12!7 would return 0)</p>\n\n<p>To solve this task, execute (again, for a large set, where K = 1...10 and N = 1...14):</p>\n\n<pre><code>\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    \u2502N=1                                 \u2502N=2                                 \u2502N=3                                 \u2502N=4                                 \u2502N=5                                 \u2502N=6                                 \u2502N=7                                 \u2502N=8                                 \u2502N=9                                 \u2502N=10                                      \u2502N=11                                      \u2502N=12                                      \u2502N=13                                      \u2502N=14                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=1 \u2502(1!1)                               \u2502(1!2)                               \u2502(1!3)                               \u2502(1!4)                               \u2502(1!5)                               \u2502(1!6)                               \u2502(1!7)                               \u2502(1!8)                               \u2502(1!9)                               \u2502(1!10)                                    \u2502(1!11)                                    \u2502(1!12)                                    \u2502(1!13)                                    \u2502(1!14)                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=2 \u2502(0!1)+(2!1)                         \u2502(0!2)+(2!2)                         \u2502(0!3)+(2!3)                         \u2502(0!4)+(2!4)                         \u2502(0!5)+(2!5)                         \u2502(0!6)+(2!6)                         \u2502(0!7)+(2!7)                         \u2502(0!8)+(2!8)                         \u2502(0!9)+(2!9)                         \u2502(0!10)+(2!10)                             \u2502(0!11)+(2!11)                             \u2502(0!12)+(2!12)                             \u2502(0!13)+(2!13)                             \u2502(0!14)+(2!14)                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=3 \u2502(1!1)+(3!1)                         \u2502(1!2)+(3!2)                         \u2502(1!3)+(3!3)                         \u2502(1!4)+(3!4)                         \u2502(1!5)+(3!5)                         \u2502(1!6)+(3!6)                         \u2502(1!7)+(3!7)                         \u2502(1!8)+(3!8)                         \u2502(1!9)+(3!9)                         \u2502(1!10)+(3!10)                             \u2502(1!11)+(3!11)                             \u2502(1!12)+(3!12)                             \u2502(1!13)+(3!13)                             \u2502(1!14)+(3!14)                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=4 \u2502(0!1)+(2!1)+(4!1)                   \u2502(0!2)+(2!2)+(4!2)                   \u2502(0!3)+(2!3)+(4!3)                   \u2502(0!4)+(2!4)+(4!4)                   \u2502(0!5)+(2!5)+(4!5)                   \u2502(0!6)+(2!6)+(4!6)                   \u2502(0!7)+(2!7)+(4!7)                   \u2502(0!8)+(2!8)+(4!8)                   \u2502(0!9)+(2!9)+(4!9)                   \u2502(0!10)+(2!10)+(4!10)                      \u2502(0!11)+(2!11)+(4!11)                      \u2502(0!12)+(2!12)+(4!12)                      \u2502(0!13)+(2!13)+(4!13)                      \u2502(0!14)+(2!14)+(4!14)                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=5 \u2502(1!1)+(3!1)+(5!1)                   \u2502(1!2)+(3!2)+(5!2)                   \u2502(1!3)+(3!3)+(5!3)                   \u2502(1!4)+(3!4)+(5!4)                   \u2502(1!5)+(3!5)+(5!5)                   \u2502(1!6)+(3!6)+(5!6)                   \u2502(1!7)+(3!7)+(5!7)                   \u2502(1!8)+(3!8)+(5!8)                   \u2502(1!9)+(3!9)+(5!9)                   \u2502(1!10)+(3!10)+(5!10)                      \u2502(1!11)+(3!11)+(5!11)                      \u2502(1!12)+(3!12)+(5!12)                      \u2502(1!13)+(3!13)+(5!13)                      \u2502(1!14)+(3!14)+(5!14)                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=6 \u2502(0!1)+(2!1)+(4!1)+(6!1)             \u2502(0!2)+(2!2)+(4!2)+(6!2)             \u2502(0!3)+(2!3)+(4!3)+(6!3)             \u2502(0!4)+(2!4)+(4!4)+(6!4)             \u2502(0!5)+(2!5)+(4!5)+(6!5)             \u2502(0!6)+(2!6)+(4!6)+(6!6)             \u2502(0!7)+(2!7)+(4!7)+(6!7)             \u2502(0!8)+(2!8)+(4!8)+(6!8)             \u2502(0!9)+(2!9)+(4!9)+(6!9)             \u2502(0!10)+(2!10)+(4!10)+(6!10)               \u2502(0!11)+(2!11)+(4!11)+(6!11)               \u2502(0!12)+(2!12)+(4!12)+(6!12)               \u2502(0!13)+(2!13)+(4!13)+(6!13)               \u2502(0!14)+(2!14)+(4!14)+(6!14)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=7 \u2502(1!1)+(3!1)+(5!1)+(7!1)             \u2502(1!2)+(3!2)+(5!2)+(7!2)             \u2502(1!3)+(3!3)+(5!3)+(7!3)             \u2502(1!4)+(3!4)+(5!4)+(7!4)             \u2502(1!5)+(3!5)+(5!5)+(7!5)             \u2502(1!6)+(3!6)+(5!6)+(7!6)             \u2502(1!7)+(3!7)+(5!7)+(7!7)             \u2502(1!8)+(3!8)+(5!8)+(7!8)             \u2502(1!9)+(3!9)+(5!9)+(7!9)             \u2502(1!10)+(3!10)+(5!10)+(7!10)               \u2502(1!11)+(3!11)+(5!11)+(7!11)               \u2502(1!12)+(3!12)+(5!12)+(7!12)               \u2502(1!13)+(3!13)+(5!13)+(7!13)               \u2502(1!14)+(3!14)+(5!14)+(7!14)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=8 \u2502(0!1)+(2!1)+(4!1)+(6!1)+(8!1)       \u2502(0!2)+(2!2)+(4!2)+(6!2)+(8!2)       \u2502(0!3)+(2!3)+(4!3)+(6!3)+(8!3)       \u2502(0!4)+(2!4)+(4!4)+(6!4)+(8!4)       \u2502(0!5)+(2!5)+(4!5)+(6!5)+(8!5)       \u2502(0!6)+(2!6)+(4!6)+(6!6)+(8!6)       \u2502(0!7)+(2!7)+(4!7)+(6!7)+(8!7)       \u2502(0!8)+(2!8)+(4!8)+(6!8)+(8!8)       \u2502(0!9)+(2!9)+(4!9)+(6!9)+(8!9)       \u2502(0!10)+(2!10)+(4!10)+(6!10)+(8!10)        \u2502(0!11)+(2!11)+(4!11)+(6!11)+(8!11)        \u2502(0!12)+(2!12)+(4!12)+(6!12)+(8!12)        \u2502(0!13)+(2!13)+(4!13)+(6!13)+(8!13)        \u2502(0!14)+(2!14)+(4!14)+(6!14)+(8!14)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=9 \u2502(1!1)+(3!1)+(5!1)+(7!1)+(9!1)       \u2502(1!2)+(3!2)+(5!2)+(7!2)+(9!2)       \u2502(1!3)+(3!3)+(5!3)+(7!3)+(9!3)       \u2502(1!4)+(3!4)+(5!4)+(7!4)+(9!4)       \u2502(1!5)+(3!5)+(5!5)+(7!5)+(9!5)       \u2502(1!6)+(3!6)+(5!6)+(7!6)+(9!6)       \u2502(1!7)+(3!7)+(5!7)+(7!7)+(9!7)       \u2502(1!8)+(3!8)+(5!8)+(7!8)+(9!8)       \u2502(1!9)+(3!9)+(5!9)+(7!9)+(9!9)       \u2502(1!10)+(3!10)+(5!10)+(7!10)+(9!10)        \u2502(1!11)+(3!11)+(5!11)+(7!11)+(9!11)        \u2502(1!12)+(3!12)+(5!12)+(7!12)+(9!12)        \u2502(1!13)+(3!13)+(5!13)+(7!13)+(9!13)        \u2502(1!14)+(3!14)+(5!14)+(7!14)+(9!14)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502K=10\u2502(0!1)+(2!1)+(4!1)+(6!1)+(8!1)+(10!1)\u2502(0!2)+(2!2)+(4!2)+(6!2)+(8!2)+(10!2)\u2502(0!3)+(2!3)+(4!3)+(6!3)+(8!3)+(10!3)\u2502(0!4)+(2!4)+(4!4)+(6!4)+(8!4)+(10!4)\u2502(0!5)+(2!5)+(4!5)+(6!5)+(8!5)+(10!5)\u2502(0!6)+(2!6)+(4!6)+(6!6)+(8!6)+(10!6)\u2502(0!7)+(2!7)+(4!7)+(6!7)+(8!7)+(10!7)\u2502(0!8)+(2!8)+(4!8)+(6!8)+(8!8)+(10!8)\u2502(0!9)+(2!9)+(4!9)+(6!9)+(8!9)+(10!9)\u2502(0!10)+(2!10)+(4!10)+(6!10)+(8!10)+(10!10)\u2502(0!11)+(2!11)+(4!11)+(6!11)+(8!11)+(10!11)\u2502(0!12)+(2!12)+(4!12)+(6!12)+(8!12)+(10!12)\u2502(0!13)+(2!13)+(4!13)+(6!13)+(8!13)+(10!13)\u2502(0!14)+(2!14)+(4!14)+(6!14)+(8!14)+(10!14)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>and the result is identical to the the brute-forced one earlier:</p>\n\n<pre><code>       N=1  N=2  N=3  N=4  N=5  N=6  N=7  N=8  N=9  N=10  N=11  N=12  N=13  N=14 \n K=1     1    2    3    4    5    6    7    8    9    10    11    12    13    14 \n K=2     1    2    4    7   11   16   22   29   37    46    56    67    79    92 \n K=3     1    2    4    8   15   26   42   64   93   130   176   232   299   378 \n K=4     1    2    4    8   16   31   57   99  163   256   386   562   794  1093 \n K=5     1    2    4    8   16   32   63  120  219   382   638  1024  1586  2380 \n K=6     1    2    4    8   16   32   64  127  247   466   848  1486  2510  4096 \n K=7     1    2    4    8   16   32   64  128  255   502   968  1816  3302  5812 \n K=8     1    2    4    8   16   32   64  128  256   511  1013  1981  3797  7099 \n K=9     1    2    4    8   16   32   64  128  256   512  1023  2036  4017  7814 \n K=10    1    2    4    8   16   32   64  128  256   512  1024  2047  4083  8100 \n</code></pre>\n\n<p>These are the total number of unique arrays, after doing the modification K times. Hope this clarifies :-).</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 6328632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7069dd1b2b3805e64a96b96bc0e2bdda?s=128&d=identicon&r=PG&f=1", "display_name": "warrior", "link": "https://stackoverflow.com/users/6328632/warrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1465639766, "creation_date": 1465639766, "answer_id": 37762485, "question_id": 37709170, "link": "https://stackoverflow.com/questions/37709170/finding-total-number-of-arrays/37762485#37762485", "title": "Finding total number of arrays", "body": "<p>I didn't have much reputation to comment so i'm asking here.</p>\n\n<p>@Stormwind This won't be the case because array may contain 0 also.</p>\n"}], "owner": {"reputation": 75, "user_id": 6441633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c404806daeff4a1306ffed35dcc09e0b?s=128&d=identicon&r=PG&f=1", "display_name": "vishwas gupta", "link": "https://stackoverflow.com/users/6441633/vishwas-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 1, "accepted_answer_id": 37715386, "answer_count": 2, "score": 4, "last_activity_date": 1465639766, "creation_date": 1465407073, "last_edit_date": 1465409161, "question_id": 37709170, "link": "https://stackoverflow.com/questions/37709170/finding-total-number-of-arrays", "title": "Finding total number of arrays", "body": "<p>I have an array A consisting of N integers. I also have an integer K.\nI want to find out number of different arrays I can obtain from array A by applying the following operation exactly K times.</p>\n\n<ul>\n<li>Pick some element in the array and multiply it by -1</li>\n</ul>\n\n<p>array A=[2,3,2] and k=2\nI have four possible arrays</p>\n\n<p>1.<code>[2,3,2]</code>\n2.<code>[-2,-3,2]</code>\n3.<code>[-2,3,-2]</code>\n4.<code>[2,-3,-2]</code><br>\nThis can be calculated as sum of  \u2211<sup>n</sup>C<sub>r</sub> where r is {k,k-2,k-4....}. </p>\n\n<p><strong>Edit</strong></p>\n\n<p>But for combination of positive and negative numbers lets say our array is A=[-1,2,3] and k=3,all possible combinations are </p>\n\n<p>1.<code>[1,2,3]</code> 2.<code>[-1,-2,3]</code> 3.<code>[-1,2,-3]</code> 4.<code>[1,-2,-3]</code><br> which are in total 4 arrays, which are in total 4 arrays also. \nI just submitted the code which I think should be right is</p>\n\n<pre><code>int main()\n{\n   int n,k;\n   int arr[11];\n   arr[0]=1;\n   for (int i=1;i&lt;=10;i++)\n   {\n        arr[i]=arr[i-1]*i;\n        //cout&lt;&lt;arr[i]&lt;&lt;\" \";\n   }\n\n    long int ans=0;\n    cin&gt;&gt;n&gt;&gt;k;   / n for number of elements and k for operations\n    for (int i=0;i&lt;n;i++)\n    {\n        int num;   array element\n        cin&gt;&gt;num;\n    }\n    int i=(k%2==0?2:1);\n    for(;i&lt;=k;i+=2)\n    {\n        ans=ans+arr[n]/(arr[k]*arr[n-k]);\n    }\n    if(k%2==0)\n        ans=arr[n]/(arr[k]*arr[n-k])+1; \n    if(n==1 &amp;&amp; k%2==1)\n        ans=1;\n    cout&lt;&lt;ans;\n}\n</code></pre>\n\n<p>But it is giving wrong answer. Please help me regarding this.</p>\n"}, {"tags": ["c#", "c++", "windows-runtime"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465406867, "post_id": 37709093, "comment_id": 62892219, "body": "You get an error stating <code>std::string</code> is unsupported?"}, {"owner": {"reputation": 386, "user_id": 4247808, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94039d63e482a00879691a185e68e555?s=128&d=identicon&r=PG&f=1", "display_name": "Xiobiq", "link": "https://stackoverflow.com/users/4247808/xiobiq"}, "edited": false, "score": 1, "creation_date": 1465407123, "post_id": 37709093, "comment_id": 62892365, "body": "You should post some of your code (<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>) and the error that occurs..."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1465407154, "post_id": 37709093, "comment_id": 62892381, "body": "What character encoding?"}, {"owner": {"reputation": 6654, "user_id": 2606098, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P2wJB.jpg?s=128&g=1", "display_name": "Tinwor", "link": "https://stackoverflow.com/users/2606098/tinwor"}, "edited": false, "score": 0, "creation_date": 1465407314, "post_id": 37709093, "comment_id": 62892458, "body": "Which type of calling convention are you using?"}, {"owner": {"reputation": 6899, "user_id": 1338201, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/upM5v.png?s=128&g=1", "display_name": "Mateusz Rogulski", "link": "https://stackoverflow.com/users/1338201/mateusz-rogulski"}, "edited": false, "score": 0, "creation_date": 1465419928, "post_id": 37709093, "comment_id": 62899434, "body": "Thanks for your comments guys, I&#39;ve added some examples with errors."}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1470886992, "post_id": 37709093, "comment_id": 65134258, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11746146/how-to-convert-platformstring-to-char\">How to convert Platform::String to char*?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6899, "user_id": 1338201, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/upM5v.png?s=128&g=1", "display_name": "Mateusz Rogulski", "link": "https://stackoverflow.com/users/1338201/mateusz-rogulski"}, "edited": false, "score": 0, "creation_date": 1465420959, "post_id": 37712998, "comment_id": 62899896, "body": "Thanks, for your answer I&#39;s sure I&#39;m a step closer, but such approach cause some integration problem: <code>&#39;c:\\windows\\microsoft.net\\framework\\v4.0.30319\\mscorlib.dll&#39; : WinRT does not support #using of a managed assembly\tWindowsRuntimeComponent2</code> in vcclr.h line:16. Do you have any idea of how to handle it?"}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "reply_to_user": {"reputation": 6899, "user_id": 1338201, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/upM5v.png?s=128&g=1", "display_name": "Mateusz Rogulski", "link": "https://stackoverflow.com/users/1338201/mateusz-rogulski"}, "edited": false, "score": 0, "creation_date": 1465421604, "post_id": 37712998, "comment_id": 62900199, "body": "@MateuszRogulski I can&#39;t be sure without seeing the code structure - does <code>line 16</code> correspond to <code>std::string unmanaged_photoPath = ...</code> in my answer?"}, {"owner": {"reputation": 6899, "user_id": 1338201, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/upM5v.png?s=128&g=1", "display_name": "Mateusz Rogulski", "link": "https://stackoverflow.com/users/1338201/mateusz-rogulski"}, "edited": false, "score": 0, "creation_date": 1465453399, "post_id": 37712998, "comment_id": 62909265, "body": "@ArchibishopOfBanterbury Sorry for missunderstaning, vcclr.h is a file of Windows Runtime Component. In this line we have <code>#using &lt;mscorlib.dll&gt;</code>. So I guess your way of parsing uses it."}], "tags": [], "owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1465420268, "creation_date": 1465420268, "answer_id": 37712998, "question_id": 37709093, "link": "https://stackoverflow.com/questions/37709093/pass-string-like-parameter-to-external-method-as-char/37712998#37712998", "title": "Pass string like parameter to external method as char *", "body": "<p>Essentially here you just need to know how to convert from <code>System.String^</code> to <code>std::string</code>, this can be done in C++/CLI mode as follows:</p>\n\n<pre><code>#include &lt;msclr\\marshal_cppstd.h&gt;\n\n//...\n\nint Foo(String^ photoPath) {\n    std::string unmanaged_photoPath = msclr::interop::marshal_as&lt;std::string&gt;(photoPath);\n    // then convert to c-style string as normal using unmanaged_photoPath.c_str();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 6899, "user_id": 1338201, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/upM5v.png?s=128&g=1", "display_name": "Mateusz Rogulski", "link": "https://stackoverflow.com/users/1338201/mateusz-rogulski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465420268, "creation_date": 1465406788, "last_edit_date": 1465419890, "question_id": 37709093, "link": "https://stackoverflow.com/questions/37709093/pass-string-like-parameter-to-external-method-as-char", "title": "Pass string like parameter to external method as char *", "body": "<p>I'm creating Windows Runtime Component (c++) to use it later in windows phone 8.1 application (c#). My problem is preety simple but I cannot find any answer to it:</p>\n\n<p>I need to create a method which take string/char */anything which is filepath  as parameter and pass it to external method which takes char * as parameter.</p>\n\n<p>I've tried with std::string, String^, char *. But I still get errors like such types are not supported (not in String^ case) or some other one.</p>\n\n<p>Is there some simple answer which tells me how should I do this?</p>\n\n<p><strong>Code samples with errors</strong></p>\n\n<p><strong>beginning</strong></p>\n\n<pre><code>#include \"pch.h\"\n#include \"Class1.h\"\n\nusing namespace Platform;\n\nnamespace WindowsRuntimeComponent2\n{\n    public ref class Class1 sealed\n    {\n</code></pre>\n\n<p>various types:</p>\n\n<pre><code>int Foo(std::string param) {\n</code></pre>\n\n<p>cause: <code>Foo': signature of public member contains native type 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;' WindowsRuntimeComponent2</code> and few more containing same information about string's dependencies</p>\n\n<pre><code>int Foo(char * param) {\n</code></pre>\n\n<p>cause: <code>'Foo': signature of public member contains native type 'std::basic_string&lt;char,std::char_traits&lt;char&gt;,std::allocator&lt;char&gt;&gt;'    WindowsRuntimeComponent2</code></p>\n\n<pre><code>int Foo(String^ photoPath) {\n</code></pre>\n\n<p>this one do not cause any errors but I don't know how to parse it to my <code>char *</code>.</p>\n"}, {"tags": ["c#", "c++", "flatbuffers"], "comments": [{"owner": {"reputation": 61, "user_id": 739349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5d8Qs.jpg?s=128&g=1", "display_name": "Gengyu Shi", "link": "https://stackoverflow.com/users/739349/gengyu-shi"}, "edited": false, "score": 0, "creation_date": 1603885192, "post_id": 37709053, "comment_id": 114176073, "body": "I am having a similar issue and my buffer is not deserializing in C++ when serialized from C#. It can deserialize in C# though. May I know what change you made to make it work? Thanks!"}, {"owner": {"reputation": 1570, "user_id": 275657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/87s3m.jpg?s=128&g=1", "display_name": "GTAE86", "link": "https://stackoverflow.com/users/275657/gtae86"}, "reply_to_user": {"reputation": 61, "user_id": 739349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5d8Qs.jpg?s=128&g=1", "display_name": "Gengyu Shi", "link": "https://stackoverflow.com/users/739349/gengyu-shi"}, "edited": false, "score": 0, "creation_date": 1604354748, "post_id": 37709053, "comment_id": 114317743, "body": "@GengyuShi - I&#39;ll try to take a look at my working code and see what I changed."}, {"owner": {"reputation": 1570, "user_id": 275657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/87s3m.jpg?s=128&g=1", "display_name": "GTAE86", "link": "https://stackoverflow.com/users/275657/gtae86"}, "reply_to_user": {"reputation": 61, "user_id": 739349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5d8Qs.jpg?s=128&g=1", "display_name": "Gengyu Shi", "link": "https://stackoverflow.com/users/739349/gengyu-shi"}, "edited": false, "score": 0, "creation_date": 1605202826, "post_id": 37709053, "comment_id": 114585459, "body": "@GengyuShi - I am pretty sure the above simple example is set up correctly. When I asked the question, the two things I was confused about were how to get the byte buffer to send and why the raw data blobs were different. I earlier had a problem with round-tripping the data, but had fixed it. My recollection is it just took a careful analysis of the data being encoded. Sounds like you are missing a step somewhere in your C++ - hard to know what without looking at your schema and code. My production code is working well for customers, and my C# sample client works well with C++ server."}, {"owner": {"reputation": 61, "user_id": 739349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5d8Qs.jpg?s=128&g=1", "display_name": "Gengyu Shi", "link": "https://stackoverflow.com/users/739349/gengyu-shi"}, "edited": false, "score": 0, "creation_date": 1605403733, "post_id": 37709053, "comment_id": 114639629, "body": "Thanks @GTAE86. My problem was partially related to additional C++ side verification. I used to have my C# producer having key type of long, which did not work. Changing it to byte[] and doing the byte conversion with BitConverter did the trick, although within C# it does not make a difference."}], "answers": [{"comments": [{"owner": {"reputation": 1570, "user_id": 275657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/87s3m.jpg?s=128&g=1", "display_name": "GTAE86", "link": "https://stackoverflow.com/users/275657/gtae86"}, "edited": false, "score": 0, "creation_date": 1465410906, "post_id": 37710136, "comment_id": 62894564, "body": "So by &quot;turning it into a byte array&quot;, you mean using FlatBufferBuilder method SizedByteArray()? To send &quot;the bytebuffer contents from its starting offset&quot; - that offset is Position, right?"}], "tags": [], "owner": {"reputation": 4578, "user_id": 17419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU9iE.jpg?s=128&g=1", "display_name": "Aardappel", "link": "https://stackoverflow.com/users/17419/aardappel"}, "is_accepted": true, "score": 0, "last_activity_date": 1465410300, "creation_date": 1465410300, "answer_id": 37710136, "question_id": 37709053, "link": "https://stackoverflow.com/questions/37709053/flatbuffers-encoding-in-c-versus-c-decoding-in-c-end-to-end-example/37710136#37710136", "title": "FlatBuffers: Encoding in C++ versus C#, decoding in C# end-to-end example", "body": "<p>The ByteBuffer contains the buffer, but not necessarily at offset 0, so yes, turning it into a byte array (or sending the bytebuffer contents from its starting offset) are the only correct ways of sending it.</p>\n\n<p>The encoding may differ between languages, as implementations may serialize things in different orders. Here, the C++ implementation decides to write the union type field before the offset, which happens to be inefficient for alignment, so it is a bit bigger. C# does the opposite.</p>\n"}], "owner": {"reputation": 1570, "user_id": 275657, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/87s3m.jpg?s=128&g=1", "display_name": "GTAE86", "link": "https://stackoverflow.com/users/275657/gtae86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1625, "favorite_count": 1, "accepted_answer_id": 37710136, "answer_count": 1, "score": 2, "last_activity_date": 1465410300, "creation_date": 1465406642, "question_id": 37709053, "link": "https://stackoverflow.com/questions/37709053/flatbuffers-encoding-in-c-versus-c-decoding-in-c-end-to-end-example", "title": "FlatBuffers: Encoding in C++ versus C#, decoding in C# end-to-end example", "body": "<p>Imagine a schema:</p>\n\n<pre><code>namespace MyEvents;  \n\ntable EventAddress  \n{  \n  id:uint;  \n  timestamp:ulong;  \n  adress:string;  \n}  \n\ntable EventSignalStrength  \n{  \n  id:uint;  \n  timestamp:ulong; \n  strength:float;   \n}  \n\ntable EventStatus  \n{  \n  status:string;  \n}  \n\nunion Events {EventAddress, EventSignalStrength, EventStatus}  \n\ntable EventHolder  \n{  \n  theEvent:Events;  \n}  \n\nroot_type EventHolder;  \n</code></pre>\n\n<p>For status message \"EXIT\", in C++ I encode and send over the wire like:</p>\n\n<pre><code>std::string message(\"EXIT\");  \nflatbuffers::FlatBufferBuilder builder;  \nauto messageString= builder.CreateString(message);  // Message to send.  \nauto statusEvent= MyEvents::CreateEventStatus(builder, messageString);  \nauto eventHolder= MyEvents::CreateEventHolder(builder, MyEvents::Events_EventStatus, statusEvent.Union());  \nbuilder.Finish(eventHolder);  \n\n// Code to decode to check my work omitted, but the data decode properly in my real-world application.  \n\nret= sendto(m_udpSocket, reinterpret_cast&lt;const char*&gt;(builder.GetBufferPointer()), static_cast&lt;int&gt;(builder.GetSize()), 0, reinterpret_cast&lt;SOCKADDR *&gt;(&amp;m_destination), sizeof(m_destination));  \n</code></pre>\n\n<p>For the same message, \"EXIT\", in C# I encode and send over the wire like:</p>\n\n<pre><code>string message= \"EXIT\";  \nFlatBufferBuilder builder = new FlatBufferBuilder(1);  \nStringOffset messageOffset = builder.CreateString(message);  \nEventStatus.StartEventStatus(builder);  \nEventStatus.AddStatus(builder, messageOffset);  \nOffset&lt;EventStatus&gt; eventStatusOffset = EventStatus.EndEventStatus(builder);  \n\nEventHolder.StartEventHolder(builder);  \nEventHolder.AddTheEventType(builder, Events.EventStatus);  \nEventHolder.AddTheEvent(builder, eventStatusOffset.Value);  \nOffset&lt;EventHolder&gt; eventHolderOffset = EventHolder.EndEventHolder(builder);  \n\nEventHolder.FinishEventHolderBuffer(builder, eventHolderOffset);  \n\n// Test the encoding by decoding:  \nEventHolder flatBuffer = EventHolder.GetRootAsEventHolder(builder.DataBuffer);  \nEvents flatBufferType = flatBuffer.TheEventType;  // Type looks good.  \nEventStatus decodedEvent= new EventStatus();  \nflatBuffer.GetDataObject&lt;EventStatus&gt;(decodedEvent);  // decodedEvent.Status looks good.  \n\n// This code seems to send the correct data:  \nByte[] sendSized = builder.SizedByteArray();  \nudpClient.Send(sendSized, sendSized.Length);  \n\n// This code does not seem to send the correct data:  \n//ByteBuffer sendByteBuffer = builder.DataBuffer;  \n//udpClient.Send(sendByteBuffer.Data, sendByteBuffer.Data.Length);  \n</code></pre>\n\n<p>In my client application, written in C#, I decode as:</p>\n\n<pre><code>Byte[] receiveBytes = udpClient.Receive(ref m_remoteEndpoint);  \nByteBuffer flatBufferBytes= new ByteBuffer(receiveBytes);  \nEventHolder flatBuffer = EventHolder.GetRootAsEventHolder(flatBufferBytes);  \nEvents flatBufferType= flatBuffer.DataObjectType;  \nEventAddress eventAddress = null;  \nEventSignalStrength eventSignalStrength = null;  \nEventStatus eventStatus = null;  \nswitch (flatBufferType)  \n{  \n  case Events.EventAddress:  \n  {  \n    eventAddress = new EventAddress();  \n    flatBuffer.GetDataObject&lt;EventAddress&gt;(eventAddress);  \n    ProcessEventAddress(eventAddress);  \n    break;  \n  }  \n\n  case Events.EventSignalStrength:  \n  {  \n    eventSignalStrength = new EventSignalStrength();  \n    flatBuffer.GetDataObject&lt;EventSignalStrength&gt;(eventSignalStrength);  \n    ProcessEventSignalStrength(eventSignalStrength);  \n    break;  \n  }  \n\n  case Events.EventStatus:  \n  {  \n    eventStatus= new EventStatus();  \n    flatBuffer.GetDataObject&lt;EventStatus&gt;(eventStatus);  \n    Console.WriteLine(\"\\nStatus Message: {0}\", eventStatus.status);  \n    break;  \n  }  \n}  \n</code></pre>\n\n<ul>\n<li>When I receive EventStatus messages from the C++ application, they decode properly.</li>\n<li>When I receive EventStatus messages from the C# sending application, they decode properly.</li>\n<li><p>When I dump the buffers sent from the applications, they are (in decimal):</p></li>\n<li><p>C++ - 12 0 0 0 8 0 14 0 7 0 8 0 8 0 0 0 0 0 0 4 12 0 0 0 0 0 6 0 8 0 4 0 6 0 0 0 4 0 0 0 4 0 0 0 69 88 73 84 0 0 0 0</p></li>\n<li>C# - 12 0 0 0 8 0 10 0 9 0 4 0 8 0 0 0 12 0 0 0 0 4 6 0 8 0 4 0 6 0 0 0 4 0 0 0 4 0 0 0 69 88 73 84 0 0 0 0</li>\n</ul>\n\n<p>Originally, the messages from the C# sender were not decoding properly - now they are. I had made a change to the sender, so maybe had not rebuilt.</p>\n\n<ul>\n<li>I am a little mystified that the received C++ buffer and the C# buffer are different, yet they decode properly to the same result.</li>\n<li>My real-world schema is much more complex - am I following the proper procedure for decoding on the C# side?</li>\n<li>Am I following the correct procedure for reducing the flatbuffer to Byte[] for sending over the wire in C#? It looks like I am, but it did not seem to work for awhile....</li>\n</ul>\n\n<p>Any input appreciated.</p>\n"}, {"tags": ["c++", "arrays", "function"], "comments": [{"owner": {"reputation": 1936, "user_id": 4036532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mouPp.jpg?s=128&g=1", "display_name": "Katya Handler", "link": "https://stackoverflow.com/users/4036532/katya-handler"}, "edited": false, "score": 3, "creation_date": 1465406818, "post_id": 37709048, "comment_id": 62892197, "body": "Can you show us the code you wrote that didn&#39;t work, and what the error was?"}, {"owner": {"reputation": 3314, "user_id": 3214889, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/StoMh.png?s=128&g=1", "display_name": "Krythic", "link": "https://stackoverflow.com/users/3214889/krythic"}, "edited": false, "score": 0, "creation_date": 1465419324, "post_id": 37709048, "comment_id": 62899158, "body": "This smells like one big steaming pile of homework."}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419307, "creation_date": 1465419307, "answer_id": 37712744, "question_id": 37709048, "link": "https://stackoverflow.com/questions/37709048/the-function-to-get-size-of-hypercube-array/37712744#37712744", "title": "the function to get size of hypercube array", "body": "<p>OP doesn't specify how his implementation failed, but considering the usual suspect, integer division (1 / N == 0), my \"fixed\" proposal is:</p>\n\n<pre><code>long long int size_of_each_dimension_of_array( double mem, int bs, int n, int k ) {\n    return round(pow( mem / (bs * k), 1.0 / n ));\n}\n</code></pre>\n\n<p>Which, with the given input values, produces:</p>\n\n<pre><code>Size (in bytes) = 4\nNumber of arrays = 1\n      Memory        1D           2D          3D\n       1e+06      250000         500          63\n       1e+09   250000000       15811         630\n       2e+09   500000000       22361         794\n       4e+09  1000000000       31623        1000\n       8e+09  2000000000       44721        1260\n     1.6e+10  4000000000       63246        1587\n     3.2e+10  8000000000       89443        2000\n\nSize (in bytes) = 8\nNumber of arrays = 1\n      Memory        1D           2D          3D\n       1e+06      125000         354          50\n       1e+09   125000000       11180         500\n       2e+09   250000000       15811         630\n       4e+09   500000000       22361         794\n       8e+09  1000000000       31623        1000\n     1.6e+10  2000000000       44721        1260\n     3.2e+10  4000000000       63246        1587\n\nSize (in bytes) = 4\nNumber of arrays = 3\n      Memory        1D           2D          3D\n       1e+06       83333         289          44\n       1e+09    83333333        9129         437\n       2e+09   166666667       12910         550\n       4e+09   333333333       18257         693\n       8e+09   666666667       25820         874\n     1.6e+10  1333333333       36515        1101\n     3.2e+10  2666666667       51640        1387\n\nSize (in bytes) = 8\nNumber of arrays = 3\n      Memory        1D           2D          3D\n       1e+06       41667         204          35\n       1e+09    41666667        6455         347\n       2e+09    83333333        9129         437\n       4e+09   166666667       12910         550\n       8e+09   333333333       18257         693\n     1.6e+10   666666667       25820         874\n     3.2e+10  1333333333       36515        1101\n\nSize (in bytes) = 4\nNumber of arrays = 5\n      Memory        1D           2D          3D\n       1e+06       50000         224          37\n       1e+09    50000000        7071         368\n       2e+09   100000000       10000         464\n       4e+09   200000000       14142         585\n       8e+09   400000000       20000         737\n     1.6e+10   800000000       28284         928\n     3.2e+10  1600000000       40000        1170\n\nSize (in bytes) = 8\nNumber of arrays = 5\n      Memory        1D           2D          3D\n       1e+06       25000         158          29\n       1e+09    25000000        5000         292\n       2e+09    50000000        7071         368\n       4e+09   100000000       10000         464\n       8e+09   200000000       14142         585\n     1.6e+10   400000000       20000         737\n     3.2e+10   800000000       28284         928\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6441618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0108697cb8ee042f7cce896c4718176?s=128&d=identicon&r=PG&f=1", "display_name": "peace", "link": "https://stackoverflow.com/users/6441618/peace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465419307, "creation_date": 1465406599, "question_id": 37709048, "link": "https://stackoverflow.com/questions/37709048/the-function-to-get-size-of-hypercube-array", "title": "the function to get size of hypercube array", "body": "<p><a href=\"http://i.stack.imgur.com/jUyUW.jpg\" rel=\"nofollow\">this is what I want. </a></p>\n\n<p>Given M, B, N, I want the function that returns S = (M/B/K)^(1/N)</p>\n\n<p>M: memoryInByte (float)</p>\n\n<p>B: byteForOne (int)</p>\n\n<p>N: dimension (int)</p>\n\n<p>K: the number of arrays ( int) </p>\n\n<p>S: size of each dimension of array (long long)</p>\n\n<pre><code>//Input data is..\n</code></pre>\n\n<p><code>float memories[] = {1e6f, 1e9f, 2e9f, 4e9f, 8e9f, 16e9f, 32e9f };</code></p>\n\n<p><code>int dimArrays[] = {1, 2, 3};</code></p>\n\n<p><code>int byteForOnes[] = {4, 8};</code></p>\n\n<p><code>int numArrays[] = {1, 3, 5};</code></p>\n\n<p>At first, I tried to use pow(), but failed.. maybe because of... converting float into long long???? </p>\n"}, {"tags": ["c++", "visual-studio", "sdl", "sdl-2"], "answers": [{"comments": [{"owner": {"reputation": 1831, "user_id": 1949771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83c9dbd0255e3eb8f3a5cb9051f0ca90?s=128&d=identicon&r=PG", "display_name": "Nanor", "link": "https://stackoverflow.com/users/1949771/nanor"}, "edited": false, "score": 0, "creation_date": 1465413729, "post_id": 37709534, "comment_id": 62896150, "body": "There were no original paths to mess up. All the paths where blank when I started. I had to manually find where stdio etc. was and input the path VS."}], "tags": [], "owner": {"reputation": 16783, "user_id": 264325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/q8UVK.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/264325/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1465408252, "creation_date": 1465408252, "answer_id": 37709534, "question_id": 37709011, "link": "https://stackoverflow.com/questions/37709011/cannot-open-file-sdl2-lib-and-cannot-open-file-uctrtd-lib/37709534#37709534", "title": "Cannot open file &#39;SDL2.lib&#39; and Cannot open file &#39;uctrtd.lib&#39;", "body": "<p>From your post, it is evident that LIB files are present at:</p>\n\n<pre><code>C:\\SDL2-2.0.4\\lib\\x64;\n</code></pre>\n\n<p>and not at:</p>\n\n<pre><code>C:\\SDL2-2.0.4\\lib;\n</code></pre>\n\n<p>So, you must use the <code>x64</code> path to get the lib. It is also visible that <code>.LIB</code> for 64-bit are present in <code>x64</code> folder, and there must be something for 32-bit linking (in <code>C:\\SDL2-2.0.4\\lib</code> itself) - for you 32-bit build.</p>\n\n<p>Please fix it gradually, calmly and in step-by-step manner.</p>\n\n<p>The error you are later getting for <code>uctrtd.lib</code> is probably because you messed up standard LIB paths. Bring the original LIB paths back, and append this library's LIB path.</p>\n"}], "owner": {"reputation": 1831, "user_id": 1949771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83c9dbd0255e3eb8f3a5cb9051f0ca90?s=128&d=identicon&r=PG", "display_name": "Nanor", "link": "https://stackoverflow.com/users/1949771/nanor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2460, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465408252, "creation_date": 1465406482, "question_id": 37709011, "link": "https://stackoverflow.com/questions/37709011/cannot-open-file-sdl2-lib-and-cannot-open-file-uctrtd-lib", "title": "Cannot open file &#39;SDL2.lib&#39; and Cannot open file &#39;uctrtd.lib&#39;", "body": "<p>I'm trying to follow <a href=\"https://www.youtube.com/watch?v=eQAXYN_9Yzc&amp;feature=youtu.be\" rel=\"nofollow\">this</a> tutorial to get SDL working. I've followed the steps he outlined:</p>\n\n<p>In my properties under VC++ Directories I have:</p>\n\n<pre><code>Include Directories\nC:\\SDL2-2.0.4\\include;\nC:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.10150.0\\ucrt;\n$(IncludePath)\n\nLibrary Directories\nC:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.10150.0\\ucrt;\nC:\\SDL2-2.0.4\\lib;\n$(LibraryPath)\n</code></pre>\n\n<p>Under Linker > General I have:</p>\n\n<pre><code>Additional Library Directories\n%(AdditionalLibraryDirectories)\n</code></pre>\n\n<p>I also have <code>SDL2.dll</code> placed in <code>E:\\Dev\\cpp\\SDL Setup\\MyProject\\Debug</code></p>\n\n<p>When I have it like this I get the error <code>Cannot open file 'SDL2.lib'</code> <strong>but</strong> if I set the directory to the SDL lib (I.E. <code>C:\\SDL2-2.0.4\\lib\\x64</code>) it no longer displays the error but <em>then</em> shows the error <code>Cannot open file 'uctrtd.lib'</code>. </p>\n\n<p>I'm not sure if that error is a step in the right direction. Any help would be greatly appreciated.</p>\n"}, {"tags": ["c++", "c++11", "vector", "segmentation-fault"], "comments": [{"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1465406441, "post_id": 37708952, "comment_id": 62891968, "body": "Well, did you step through your code in a debugger and see where the error is?"}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "reply_to_user": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1465406501, "post_id": 37708952, "comment_id": 62892005, "body": "@OldProgrammer Segmentation fault (core dumped) is all I get."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465406592, "post_id": 37708952, "comment_id": 62892054, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465406931, "post_id": 37708952, "comment_id": 62892255, "body": "@NathanOliver I tried most of that already (except the rubber ducky), and for some reason I haven&#39;t been able to solve this problem, which I why I came to stack exchange, I asked other friends, and read up on related questions on here too still didn&#39;t seem to help. When I was debugging I narrowed it down to v[i][e] = 2; doesn&#39;t seem to want to create the rows in the last column, but I didn&#39;t know what to do from there. Which is why I am here."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465407117, "post_id": 37708952, "comment_id": 62892362, "body": "You have a couple of off by one errors.  <code>i &lt;= columns</code> should be <code>i &lt; columns</code> and <code>e &lt; rows</code> should be <code>e &lt; rows</code>."}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465408200, "post_id": 37708952, "comment_id": 62892931, "body": "@NathanOliver just tested that (and it works!), but then won&#39;t that just entirely skip the last vector? For example if I had 4 columns, the 4th wouldn&#39;t be created because i(4) would not be less than columns (4)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465408300, "post_id": 37708952, "comment_id": 62892991, "body": "@Noah Indexes are 0 based so if a vector has 4 elements then the valid index are in the range <code>[1, 3]</code>"}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465408663, "post_id": 37708952, "comment_id": 62893209, "body": "@NathanOliver AH so that&#39;s what it was, I misunderstood that on the vector documentation I suppose. That&#39;s what I get for programming at 3 am. That&#39;s the solution then, I just had to change <code>columns = columns - 1;</code> to <code>columns = columns;</code> same for rows, and fix the loop like you said and it seems to work well now. Thanks for your help Nathan"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "edited": false, "score": 0, "creation_date": 1465407276, "post_id": 37709182, "comment_id": 62892435, "body": "The reserve function I used should do the same thing? ` v.reserve(columns); and   v[i].reserve(rows);  `"}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 2, "creation_date": 1465407550, "post_id": 37709182, "comment_id": 62892573, "body": "No, reserve and resize are different. You&#39;re using the wrong one."}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "reply_to_user": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1465407970, "post_id": 37709182, "comment_id": 62892781, "body": "@kfsone tested using resize, same result (doesn&#39;t work same problem as before). I was originally using resize, but changed it to reserve once I started having problems with program. You are right though, I read up on resize and I should be using it, changed it in my code. I still have the Segmentation Fault problem"}, {"owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "edited": false, "score": 0, "creation_date": 1465408109, "post_id": 37709182, "comment_id": 62892866, "body": "you need to say where the Segmentation Fault is happening.  put  &quot;cout&quot; in your code and see where it brakes"}, {"owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "edited": false, "score": 0, "creation_date": 1465408291, "post_id": 37709182, "comment_id": 62892984, "body": "@MilosRadosavljevic I used cout in my code already and it seems to be happening on the last vector(column) and it breaks at <code>v[i][e] = 2;</code>"}], "tags": [], "owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "is_accepted": true, "score": 4, "last_activity_date": 1465407516, "last_edit_date": 1465407516, "creation_date": 1465407122, "answer_id": 37709182, "question_id": 37708952, "link": "https://stackoverflow.com/questions/37708952/segmentation-fault-core-dumped-with-a-vector-nested-in-a-vector/37709182#37709182", "title": "Segmentation Fault Core Dumped with a Vector Nested in a Vector", "body": "<p>Just use the method <code>resize()</code> to make a matrix how big you want</p>\n\n<pre><code>matrix.resize(rows, vector &lt; int &gt;(columns));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "is_accepted": false, "score": 1, "last_activity_date": 1465408984, "creation_date": 1465408984, "answer_id": 37709749, "question_id": 37708952, "link": "https://stackoverflow.com/questions/37708952/segmentation-fault-core-dumped-with-a-vector-nested-in-a-vector/37709749#37709749", "title": "Segmentation Fault Core Dumped with a Vector Nested in a Vector", "body": "<p>Made a simple mistake with the for loops <code>i &lt;= columns</code> should've been <code>i &lt; columns</code> same with the rows. Also I shouldn't have subtracted 1 from the column and rows variables.</p>\n\n<p><code>rows = rows - 1;\ncolumns = columns - 1;</code></p>\n\n<p>Should've been </p>\n\n<p><code>rows = rows;\ncolumns = columns;</code></p>\n"}, {"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 1, "last_activity_date": 1465409503, "creation_date": 1465409503, "answer_id": 37709898, "question_id": 37708952, "link": "https://stackoverflow.com/questions/37708952/segmentation-fault-core-dumped-with-a-vector-nested-in-a-vector/37709898#37709898", "title": "Segmentation Fault Core Dumped with a Vector Nested in a Vector", "body": "<pre><code>columns = columns - 1;\n//Creates the columns\nv.reserve(columns);\n//Creates the Rows .. Code is ran for every column, this is where the values are set\nfor(int i = 0; i &lt;= columns; i++){\n</code></pre>\n\n<p>Lets take the simple case of a 1x1 Matrix:</p>\n\n<pre><code>columns = columns - 1 =&gt; columns = 0\nv.reserve(0);    // should be resize\nfor (int i = 0; i &lt;= 0; i++)\n</code></pre>\n\n<p>You would then try to access past the end of the array: the 1st element (element[0]) of an empty (size==0) array. The same is true for any other value - you access past the end of the array.</p>\n\n<p>Leave columns as it is.</p>\n\n<pre><code>Matrix(int a, int b){\n    std::cout &lt;&lt; \"Input Recieved.. Construct Began\" &lt;&lt; std::endl;\n    rows = a;\n    columns = b;\n\n    //Creates the columns\n    v.resize(columns);\n\n    //Creates the Rows .. Code is ran for every column, this is where the values are set\n    for(int i = 0; i &lt; columns; i++) {\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3739597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c475f65116a6ac9a519eada1984b3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/3739597/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 37709182, "answer_count": 3, "score": 0, "last_activity_date": 1465409503, "creation_date": 1465406285, "question_id": 37708952, "link": "https://stackoverflow.com/questions/37708952/segmentation-fault-core-dumped-with-a-vector-nested-in-a-vector", "title": "Segmentation Fault Core Dumped with a Vector Nested in a Vector", "body": "<p>I am trying to create a class for a Matrix using standard library vectors. I am using a vector within a vector to setup the Matrix, one vector represents columns, the other (vector) represents the rows and the values stored in the rows. Here are the variables and the constructor.</p>\n\n<p>Variables:</p>\n\n<pre><code> int columns;\n int rows;\n std::vector&lt;std::vector&lt;int&gt; &gt; v;\n</code></pre>\n\n<p>Constructor:</p>\n\n<pre><code> Matrix(int a, int b){\nstd::cout &lt;&lt; \"Input Recieved.. Construct Began\" &lt;&lt; std::endl;\nrows = a;\ncolumns = b;\n// Subtract one to put them in a proper array format\nrows = rows - 1;\ncolumns = columns - 1;\n//Creates the columns\nv.reserve(columns);\n//Creates the Rows .. Code is ran for every column, this is where the values are set\nfor(int i = 0; i &lt;= columns; i++){\n\n  v[i].reserve(rows);\n  std::cout &lt;&lt; \"Column \" &lt;&lt; i  + 1 &lt;&lt; \" Created, with \" &lt;&lt; rows + 1&lt;&lt; \" Rows\" &lt;&lt; std::endl;\n\n\n  //Sets the values of the rows .. is ran for every column\n  for(int e = 0; e &lt;= rows; e++){\n    if(i == 19){\n      std::cout &lt;&lt; \"Column 20 row setting has begun\" &lt;&lt; std::endl;\n    }\n\n\n    v[i][e] = 2;\n\n    if(i == 19){\n    std::cout &lt;&lt; \"Made it past the line\" &lt;&lt; std::endl;\n  }\n\n    std::cout &lt;&lt; \"Row \" &lt;&lt; e + 1 &lt;&lt; \" Set in Column \" &lt;&lt; i + 1&lt;&lt; \", with Value \" &lt;&lt; v[i][e] &lt;&lt; std::endl;\n\n    if(i == 19){\n      std::cout &lt;&lt; \"Column 20 row setting has finished\" &lt;&lt; std::endl;\n    }\n  }\n\n\n\n}\n\n}\n</code></pre>\n\n<p>Right now it seems to be able to create everything except the last vector , then I get the Segmentation Fault.. For a more complete source code there is this <a href=\"http://pastebin.com/AB59bPMR\" rel=\"nofollow\">http://pastebin.com/AB59bPMR</a> . </p>\n"}, {"tags": ["c++", "binary-tree", "destructor"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 1, "creation_date": 1465405448, "post_id": 37708643, "comment_id": 62891414, "body": "You are deleting memory twice. Don&#39;t do that! And initialize your pointers to <code>nullptr</code>, otherwise you will try to delete random memory."}], "answers": [{"tags": [], "owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "is_accepted": true, "score": 6, "last_activity_date": 1465406394, "creation_date": 1465406394, "answer_id": 37708985, "question_id": 37708643, "link": "https://stackoverflow.com/questions/37708643/c-destructor-for-a-binary-tree/37708985#37708985", "title": "c++ destructor for a binary tree", "body": "<p>The <code>ExpressionNode</code> destructor adequately cleans up it's memory which because it destroys it's children which adequately clean up their memory and so on. What you are doing right now is double-freeing the nodes; once by <code>helper()</code> and once by the destructors themselves. All you need to do is destroy the root node</p>\n\n<pre><code>virtual ~ExpressionTree(){\n    delete root;\n}\n</code></pre>\n\n<p>all the children nodes will be deleted through the destructors. </p>\n"}], "owner": {"reputation": 405, "user_id": 1414420, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jfd9G.jpg?s=128&g=1", "display_name": "spy-killer", "link": "https://stackoverflow.com/users/1414420/spy-killer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 37708985, "answer_count": 1, "score": 1, "last_activity_date": 1465406394, "creation_date": 1465405226, "question_id": 37708643, "link": "https://stackoverflow.com/questions/37708643/c-destructor-for-a-binary-tree", "title": "c++ destructor for a binary tree", "body": "<p>When i run the destructor i get a run failed and i am not sure why here is my tree header</p>\n\n<pre><code>class ExpressionTree {\nprivate:\n    ExpressionNode* root;\npublic:\n    ExpressionTree() :\n    hashmap(100000),\n    root(NULL) {\n    };\n    virtual ~ExpressionTree(){\n        helper(root);\n    }\n\n    void helper(ExpressionNode *node) {\n        if ( !node ) {\n            return;\n        } else {\n            helper( node-&gt;getLeft( ) );\n            helper( node-&gt;getRight( ) );\n            delete node;\n        }\n    }\n};\n</code></pre>\n\n<p>and my node header</p>\n\n<pre><code>class ExpressionNode {\nprivate:\n    ExpressionNode* left;\n    ExpressionNode* right;\n    string data;\npublic:\n    virtual ~ExpressionNode(){\n        delete left;\n        delete right;\n    }\n};\n</code></pre>\n\n<p>Now everything works fine if in the ExpressionTree class i only destroy the root but i believe i am leaking memory that way. Is that in fact the right way or is there something wrong with my recursive destruction.</p>\n"}, {"tags": ["c++", "sockets"], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1465419289, "last_edit_date": 1465419289, "creation_date": 1465413285, "answer_id": 37711022, "question_id": 37708569, "link": "https://stackoverflow.com/questions/37708569/does-sendto-or-connect-arbitrarily-assign-an-address-and-a-port-to-the-socket/37711022#37711022", "title": "Does sendto or connect arbitrarily assign an address and a port to the socket?", "body": "<p>Yes, <code>connect()</code> and <code>sendto()</code> perform an implicit bind if you do not call <code>bind()</code> explicitly.  They will bind to an available random ephemeral port on whichever network adapter has the least-cost route to the destination address.</p>\n\n<p>You cannot call <code>accept()</code> or <code>recvfrom()</code> on a socket that is not already bound, you will get an error.  They do not perform an implicit bind.  You must be explicit about what you want to listen on.</p>\n"}], "owner": {"reputation": 319, "user_id": 2503822, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/az4eb.jpg?s=128&g=1", "display_name": "uNiverselEgacy", "link": "https://stackoverflow.com/users/2503822/universelegacy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 37711022, "answer_count": 1, "score": 1, "last_activity_date": 1465419289, "creation_date": 1465404967, "question_id": 37708569, "link": "https://stackoverflow.com/questions/37708569/does-sendto-or-connect-arbitrarily-assign-an-address-and-a-port-to-the-socket", "title": "Does sendto or connect arbitrarily assign an address and a port to the socket?", "body": "<p>I was wondering when a socket will get its address and port if I don't call <code>bind</code>. Does <code>sendto</code> or <code>connect</code> assign one to the socket if it doesn't have one already? Plus for listening socket if I don't call <code>bind</code>, does it mean I will never get anything from <code>accept</code> or <code>recvfrom</code> (because it doesn't have an IP address or a port)?</p>\n"}, {"tags": ["c++", "undefined-behavior"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1465405151, "post_id": 37708544, "comment_id": 62891222, "body": "That&#39;s a very devious setup - very nice."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 7, "creation_date": 1465405152, "post_id": 37708544, "comment_id": 62891223, "body": "I do like the symptoms of that snippet at the bottom. Zero, one, two, release the Kraken !"}, {"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 3, "creation_date": 1465405194, "post_id": 37708544, "comment_id": 62891256, "body": "What is the value in trying to define undefined behavior?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465405259, "post_id": 37708544, "comment_id": 62891297, "body": "Can you quote <code>7.1.5.1.4</code>?  I do not have that in my standard."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 1, "creation_date": 1465405457, "post_id": 37708544, "comment_id": 62891422, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/6936124/why-does-c-not-have-a-const-constructor\">Why does C++ not have a const constructor?</a>"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465405474, "post_id": 37708544, "comment_id": 62891433, "body": "@NathanOliver [dcl.type.cv]/4"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465405519, "post_id": 37708544, "comment_id": 62891458, "body": "@T.C. Thanks for that"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1465405799, "post_id": 37708544, "comment_id": 62891621, "body": "What would you <i>expect</i> this code to do?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1465407027, "post_id": 37708544, "comment_id": 62892312, "body": "A system could mark the memory containing <code>const F f;</code> as read-only, in which case you&#39;d get a segfault.  I&#39;m not aware of any system that does such a thing though."}, {"owner": {"reputation": 1200, "user_id": 3765267, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea840c89a478be4904a6e78f29f22eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Dyagilev", "link": "https://stackoverflow.com/users/3765267/alexander-dyagilev"}, "edited": false, "score": 0, "creation_date": 1465407068, "post_id": 37708544, "comment_id": 62892342, "body": "Undefined behavior means that you just can&#39;t expect something to happen. It may print 8 on your computer and crash on another one. Nothing strange is happening with your example."}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 1, "creation_date": 1465408739, "post_id": 37708544, "comment_id": 62893256, "body": "@Kaz Unfortunately, &quot;fixes&quot; that break previously valid code is against the principles of C++. And even then, even by today&#39;s standards, the fact that C++ allows &quot;hacks&quot; of this sort is one of the selling features of the language, as it allows some people to ship their projects on time no matter the issues you get at the last minute, even at the cost of maintenability. Nice off-topic rant, though"}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1465409238, "post_id": 37708544, "comment_id": 62893573, "body": "@KABoissonneault There is no justification for not diagnosing this type violation. The assignment to <code>g</code>, if it were diagnosed, <i>could</i> be happily forced into working with a <code>static_cast</code>. As far as old code goes, that&#39;s what dialect-selection compiler switches are for. If you want to write in C++98 for as long as you live, just use the compiler&#39;s switch for C++98 for as long as you live.  Leave the backward compatibility for people who like computers to have a <code>C:</code> drive.  Anyway C++ has made incompatible steps which break code, like turning string literals <code>const</code>, which was laudable."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 1, "creation_date": 1465411535, "post_id": 37708544, "comment_id": 62894907, "body": "@Kaz There are plenty of things that cannot easily be done in the member initializer list, which under your proposal would require lots of helper functions (or worse, <code>mutable</code> sprinkled everywhere)."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465419748, "post_id": 37708544, "comment_id": 62899347, "body": "@T.C. Yes, and so maybe objects that require complex, multi-step initialization shouldn&#39;t be defined as <code>const</code>!  Instantiate them non-const and bind them to const references or pointers. Also, there could be a mechanism of declaring the entire constructor <code>mutable</code> with that very keyword. Then, in spite of the object being <code>const</code>, inside the body of that constructor, those old-fashioned, backward-compatible shenanigans are allowed (assigning to members, and <code>this</code> being an unqualified pointer) without a diagnostic. Without the <code>mutable</code>, it&#39;s strict base/member inits."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1465420010, "post_id": 37708544, "comment_id": 62899479, "body": "@Kaz I suppose you can come up with a way to make it work, but frankly I don&#39;t see the benefit as being worth all this extra complexity."}, {"owner": {"reputation": 2184, "user_id": 1112010, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2c06679b27da6bbc84a4bf036da82648?s=128&d=identicon&r=PG", "display_name": "Mukul Gupta", "link": "https://stackoverflow.com/users/1112010/mukul-gupta"}, "edited": false, "score": 1, "creation_date": 1465420199, "post_id": 37708544, "comment_id": 62899560, "body": "I&#39;m naive here but isn&#39;t this classic example of aliasing problem?"}], "answers": [{"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 7, "last_activity_date": 1465406241, "creation_date": 1465406241, "answer_id": 37708940, "question_id": 37708544, "link": "https://stackoverflow.com/questions/37708544/non-trivial-example-of-undefined-behavior-with-const-cast/37708940#37708940", "title": "Non-trivial example of undefined behavior with const_cast", "body": "<p>Not as spectacular:</p>\n\n<p><code>f.h</code> (guards omitted):</p>\n\n<pre><code>struct F;\nextern F* g;\n\nstruct F {\n    F() : val(5)\n    {\n        g = this;\n    }\n    int val;\n};\n\nextern const F f;\nvoid h();\n</code></pre>\n\n<p>TU1:</p>\n\n<pre><code>#include \"f.h\"\n// definitions\nF* g;\nconst F f;\nvoid h() {}    \n</code></pre>\n\n<p>TU2: </p>\n\n<pre><code>#include \"f.h\"\n#include &lt;iostream&gt;\nint main() {\n    h(); // ensure that globals have been initialized\n    int val = f.val;\n    g-&gt;val = 8;\n    std::cout &lt;&lt; (f.val == val) &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>Prints <code>1</code>  when compiled with <code>g++ -O2</code>, and <code>0</code> when compiled with <code>-O0</code>.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3995702"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465412395, "post_id": 37710367, "comment_id": 62895422, "body": "@T.C. Can&#39;t really give citations for undefined behavior, <i>but</i> I was wrong about that point. I investigated in some more depth and added that as an edit. The real situation is stranger."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1465418686, "post_id": 37710367, "comment_id": 62898841, "body": "What is <i>soft</i> undefined behavior?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465418771, "post_id": 37710367, "comment_id": 62898884, "body": "If you mess with the internals of a class in a way that violates its contract and upsets its invariants, of course it&#39;s going to break down, whether or not <code>const_cast</code> is used in the process."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995702"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465418891, "post_id": 37710367, "comment_id": 62898938, "body": "@T.C. Exactly the point, except that doing this with standard-defined functionality becomes undefined behavior."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995702"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1465418981, "post_id": 37710367, "comment_id": 62898986, "body": "@nwp I explained it in the second half of that sentence. It lets you easily break things which assume you are going to obey normal conventions. It isn&#39;t quite <i>undefined behavior</i> in the sense the standard says it is undefined / doesn&#39;t define it, but it almost always <i>is</i> in the sense individual programs/libraries would be extremely easily broken by using it. But that said, when you do it on the standard, in my opinion that becomes entirely &quot;undefined behavior&quot;. You are doing things that the standard has not defined with what it has provided. And obviously, it isn&#39;t properly handled."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3995702"}, "edited": false, "score": 0, "creation_date": 1465420943, "post_id": 37710367, "comment_id": 62899889, "body": "I adjusted the wording on that sentence to get my point across more clearly."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3995702"}, "is_accepted": false, "score": 0, "last_activity_date": 1465419295, "last_edit_date": 1465419295, "creation_date": 1465411105, "answer_id": 37710367, "question_id": 37708544, "link": "https://stackoverflow.com/questions/37708544/non-trivial-example-of-undefined-behavior-with-const-cast/37710367#37710367", "title": "Non-trivial example of undefined behavior with const_cast", "body": "<p>The main case of \"undefined\" behavior would be that typically, if someone sees <code>const</code>, they will assume that it does not change. So, <code>const_cast</code> intentionally does something that many libraries and programs would either not expect to be done or consider as explicit undefined behavior. It's important to remember that not all <em>undefined behavior</em> comes from the standard alone, even if that is the typical usage of the term.</p>\n\n<p>That said, I was able to locate a place in the standard library where such thinking can be applied to do something I believe would more narrowly be considered undefined behavior: generating an <code>std::map</code> with \"duplicate keys\":</p>\n\n<pre><code>#include \"iostream\"\n#include \"map\"\n\nint main( )\n{\n    std::map&lt; int, int &gt; aMap;\n\n    aMap[ 10 ] = 1;\n    aMap[ 20 ] = 2;\n\n    *const_cast&lt; int* &gt;( &amp;aMap.find( 10 )-&gt;first ) = 20;\n\n    std::cout &lt;&lt; \"Iteration:\" &lt;&lt; std::endl;\n    for( std::map&lt; int,int &gt;::iterator i = aMap.begin(); i != aMap.end(); ++i )\n        std::cout &lt;&lt; i-&gt;first &lt;&lt; \" : \" &lt;&lt; i-&gt;second &lt;&lt; std::endl;\n\n    std::cout &lt;&lt; std::endl &lt;&lt; \"Subscript Access:\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"aMap[ 10 ]\" &lt;&lt; \" : \" &lt;&lt; aMap[ 10 ] &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"aMap[ 20 ]\" &lt;&lt; \" : \" &lt;&lt; aMap[ 20 ] &lt;&lt; std::endl;\n\n    std::cout &lt;&lt; std::endl &lt;&lt; \"Iteration:\" &lt;&lt; std::endl;\n    for( std::map&lt; int,int &gt;::iterator i = aMap.begin(); i != aMap.end(); ++i )\n        std::cout &lt;&lt; i-&gt;first &lt;&lt; \" : \" &lt;&lt; i-&gt;second &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Iteration:\n20 : 1\n20 : 2\n\nSubscript Access:\naMap[ 10 ] : 0\naMap[ 20 ] : 1\n\nIteration:\n10 : 0\n20 : 1\n20 : 2\n</code></pre>\n\n<p>Built with <code>g++.exe (Rev5, Built by MSYS2 project) 5.3.0</code>.</p>\n\n<p>Obviously, there is a mismatch between the access keys and the key values in the stored pairs. It also seems that the 20:2 pair is not accessible except via iteration.</p>\n\n<p>My guess is that this is happening because <code>map</code> is implemented as a tree. Changing the value leaves it where it initially was (where <code>10</code> would go), so it does not overwrite the other <code>20</code> key. At the same time, adding an actual <code>10</code> does not overwrite the old <code>10</code> because on checking the key value, it's not actually the same</p>\n\n<p>I do not have a standard to look at right now, but I would expect this violates the definition of <code>map</code> on a few levels.</p>\n\n<p>It might also lead to worse behavior, but with my compiler/OS combo I was unable to get it to do anything more extreme, like crash.</p>\n"}], "owner": {"reputation": 1695, "user_id": 464289, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ac6fc6396cab0532f2458d4b415d829?s=128&d=identicon&r=PG&f=1", "display_name": "JRG", "link": "https://stackoverflow.com/users/464289/jrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 3, "accepted_answer_id": 37708940, "answer_count": 2, "score": 13, "last_activity_date": 1465419295, "creation_date": 1465404897, "last_edit_date": 1465406466, "question_id": 37708544, "link": "https://stackoverflow.com/questions/37708544/non-trivial-example-of-undefined-behavior-with-const-cast", "title": "Non-trivial example of undefined behavior with const_cast", "body": "<p>The following code is, as far as I understand it, undefined behavior according to the c++ standard (section 7.1.5.1.4 [dcl.type.cv]/4 in particular).</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct F;\nF* g;\n\nstruct F {\n    F() : val(5)\n    {\n        g = this;\n    }\n    int val;\n};\n\n\nconst F f;\n\nint main() {\n    g-&gt;val = 8;\n    std::cout &lt;&lt; f.val &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>However, this prints '8' with every compiler and optimization setting I have tried.</p>\n\n<p><strong>Question</strong>: Is there an example that will exhibit unexpected results with this type of \"implicit const_cast\"?</p>\n\n<p>I am hoping for something as spectacular as the results of</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main() {\n    for (int i = 0; i &lt;=4; ++i)\n        std::cout &lt;&lt; i * 1000000000 &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>on, e.g., gcc 4.8.5 with -O2</p>\n\n<p><strong>EDIT</strong>: the relevant section from the standard</p>\n\n<blockquote>\n  <p>7.1.5.1.4: Except that any class member declared mutable (7.1.1) can be modified, any attempt to modify a const object during its lifetime\n  (3.8) results in undefined behavior.</p>\n</blockquote>\n\n<p>In reply to the comment suggesting a duplicate; it is not a duplicate because I am asking for an example where \"unexpected\" results occur.</p>\n"}, {"tags": ["c++", "winapi", "text"], "answers": [{"tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 5, "last_activity_date": 1465413705, "last_edit_date": 1465413705, "creation_date": 1465407986, "answer_id": 37709436, "question_id": 37708490, "link": "https://stackoverflow.com/questions/37708490/gettextextentpoint32-doesnt-take-account-of-the-current-font/37709436#37709436", "title": "GetTextExtentPoint32 Doesn&#39;t Take Account of the Current Font", "body": "<pre><code>SelectObject(GetDC(m_hSettingsWnd), ...);\nGetTextExtentPoint32(GetDC(m_hSettingsWnd), ...);\n</code></pre>\n\n<p>By using <code>GetDC()</code> in that manner, you are creating resource leaks. Each call to <code>GetDC()</code> must be followed by a call to <code>ReleaseDC()</code>.  And each call to <code>GetDC()</code> creates a separate <code>HDC</code>, which is why <code>GetTextExtentPoint32()</code> does not know about your font, as you have not selected it into that second <code>HDC</code>.</p>\n\n<p>Correct usage of <code>GetDC()</code> should fix the font problem. Make sure to also restore the old font before you free the <code>HDC</code>:</p>\n\n<pre><code>HDC hdc = GetDC(hwnd);\nconst wchar_t *buf = L\"buf\";\nHFONT hFont = CreateFont(36, 0, 0, 0, FW_NORMAL, FALSE, FALSE, FALSE, DEFAULT_CHARSET, \n    OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS, DEFAULT_QUALITY, DEFAULT_PITCH, NULL);\n\nSIZE size;\nHFONT oldfont = (HFONT) SelectObject(hdc, hFont);\nGetTextExtentPoint32(hdc, buf, wcslen(buf), &amp;size);\n\nSelectObject(hdc, oldfont);\nDeleteObject(hFont);\n\nReleaseDC(hwnd, hdc);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5921181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50edb242897dcb853073870e6928800c?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Aprelikov", "link": "https://stackoverflow.com/users/5921181/oleg-aprelikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2106, "favorite_count": 0, "accepted_answer_id": 37709436, "answer_count": 1, "score": 0, "last_activity_date": 1465413705, "creation_date": 1465404708, "last_edit_date": 1465406232, "question_id": 37708490, "link": "https://stackoverflow.com/questions/37708490/gettextextentpoint32-doesnt-take-account-of-the-current-font", "title": "GetTextExtentPoint32 Doesn&#39;t Take Account of the Current Font", "body": "<p>I need to find the width of a string with any font. However, when I use <code>GetTextExtentPoint32</code>, it doesn't take the account of the current font. This is my code:</p>\n\n<pre><code>HFONT hFont = CreateFont(36, 0, 0, 0, FW_NORMAL, FALSE, FALSE, FALSE, DEFAULT_CHARSET, \n    OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS, DEFAULT_QUALITY, DEFAULT_PITCH, NULL);\n\nSelectObject(GetDC(m_hSettingsWnd), hFont);\nGetTextExtentPoint32(GetDC(m_hSettingsWnd), TITLE_TEXT, wcslen(TITLE_TEXT), &amp;sTextSize);\n// TITLE_TEXT is the string I'm trying to get the width of.\n</code></pre>\n\n<p>Could anybody correct the formatting as well, please? I'm new to Stack Overflow and the code sample isn't working properly for me.</p>\n"}, {"tags": ["c++", "qt", "makefile", "static-libraries"], "comments": [{"owner": {"reputation": 3695, "user_id": 3798657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rHD3g.png?s=128&g=1", "display_name": "rubicks", "link": "https://stackoverflow.com/users/3798657/rubicks"}, "edited": false, "score": 0, "creation_date": 1465406388, "post_id": 37708395, "comment_id": 62891938, "body": "I&#39;m having trouble understanding your problem. What might help is if you could show the directory structure (<code>tree</code> output), all <code>Makefile</code> content, and the <code>make</code> command you invoke. What&#39;s expected and how does that differ from what you see?"}], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 1868951, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c6e0d1018c149d3a6739056c88a5b83?s=128&d=identicon&r=PG", "display_name": "Jeggu", "link": "https://stackoverflow.com/users/1868951/jeggu"}, "edited": false, "score": 0, "creation_date": 1465438518, "post_id": 37709868, "comment_id": 62904968, "body": "Thanks for reply.  Small clarification while building static library it does hold the dependency libraries? I am thinking like my library.a contains test1.a, test2.a test3.a"}], "tags": [], "owner": {"reputation": 6788, "user_id": 298206, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2911c6ad709ff05272e49a21df247da2?s=128&d=identicon&r=PG", "display_name": "Valentin Heinitz", "link": "https://stackoverflow.com/users/298206/valentin-heinitz"}, "is_accepted": true, "score": 1, "last_activity_date": 1465409403, "creation_date": 1465409403, "answer_id": 37709868, "question_id": 37708395, "link": "https://stackoverflow.com/questions/37708395/is-it-necessary-to-include-static-dependency-libraries-of-static-dependency-libr/37709868#37709868", "title": "Is it necessary to include static dependency libraries of static dependency library", "body": "<p>When you compile your library as static, it means only <strong>YOUR</strong> library will be linked statically, so the application won't require a .lib file for <strong>YOUR</strong> library.</p>\n\n<p>All dynamic libraries which your lib requires, will be still required for the application, which is linked against your static library.</p>\n\n<p>In order to include all dependencies in your library, you should link your library against static versions of test1, test2, test3.</p>\n"}], "owner": {"reputation": 543, "user_id": 1868951, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c6e0d1018c149d3a6739056c88a5b83?s=128&d=identicon&r=PG", "display_name": "Jeggu", "link": "https://stackoverflow.com/users/1868951/jeggu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 37709868, "answer_count": 1, "score": 2, "last_activity_date": 1465409403, "creation_date": 1465404417, "question_id": 37708395, "link": "https://stackoverflow.com/questions/37708395/is-it-necessary-to-include-static-dependency-libraries-of-static-dependency-libr", "title": "Is it necessary to include static dependency libraries of static dependency library", "body": "<p>I have created a static library(libPdfWrapper.a) which will use it dependency libraries then i am using libPdfWrapper.a in pdf project but its looking for libPdfWrapper.a dependencies also thought it is static library.</p>\n\n<p><strong>libPdfWrapper.a .pro file which has test1, test2, test3 dependency static libraries</strong></p>\n\n<pre><code>QT       -= gui\n\nTARGET = PdfWrapper\nTEMPLATE = lib\nCONFIG += staticlib\n\nLIBS += -L$${PWD}/dependencies -ltest1 -ltest2 -ltest3\n</code></pre>\n\n<p><strong>pdf project .pro file when i include only lPdfWrapper library it is not working it giving link error undefined reference</strong></p>\n\n<pre><code>QT       -= gui\n\nTARGET = Pdf\nTEMPLATE = app\nLIBS += -L$${PWD}/dependencies -lPdfWrapper\n</code></pre>\n\n<p><strong>pdf project .pro file with lPdfWrapper library and its dependencies it started working</strong></p>\n\n<pre><code>QT       -= gui\n\nTARGET = Pdf\nTEMPLATE = app\nLIBS += -L$${PWD}/dependencies -lPdfWrapper -ltest1 -ltest2 -ltest3\n</code></pre>\n\n<p>Could some one explain me is this necessary? if it why?</p>\n"}, {"tags": ["c++", "c", "sockets", "networking", "rtems"], "comments": [{"owner": {"reputation": 5052, "user_id": 479574, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/11f025f0f74ee6557e479a0ba2215223?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/479574/mark"}, "edited": false, "score": 0, "creation_date": 1465404799, "post_id": 37708381, "comment_id": 62891014, "body": "is it possible your <code>bind</code> is happening before the interface has completed setting up?  does it continue to fail if you continue to retry the <code>bind</code>?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 5052, "user_id": 479574, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/11f025f0f74ee6557e479a0ba2215223?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/479574/mark"}, "edited": false, "score": 0, "creation_date": 1465404871, "post_id": 37708381, "comment_id": 62891044, "body": "@mark The bind is well after the setup, both setup options occur at boot before the socket setup can be attempted."}, {"owner": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 0, "creation_date": 1465896877, "post_id": 37708381, "comment_id": 63080591, "body": "Probably something change since my rtems version (<code>4.6.1</code>) but <code>rtems_bsdnet_ifconfig</code> it is a struct not a function..."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 15295, "user_id": 3436922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y8KQX.jpg?s=128&g=1", "display_name": "LPs", "link": "https://stackoverflow.com/users/3436922/lps"}, "edited": false, "score": 0, "creation_date": 1465914868, "post_id": 37708381, "comment_id": 63094109, "body": "@LPs It is both, a struct exists and so does a function, the function doesnt seem to have any documentation otherwise i would link it, it can be found in <code>rtems_glue.c</code>."}, {"owner": {"reputation": 810, "user_id": 1649108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc64fd6d40ba59f8dc7a98b6e9792b11?s=128&d=identicon&r=PG", "display_name": "grasbueschel", "link": "https://stackoverflow.com/users/1649108/grasbueschel"}, "edited": false, "score": 0, "creation_date": 1466108374, "post_id": 37708381, "comment_id": 63194066, "body": "Disclaimer: No expert here, just went through the code a bit. Do you explicitly set sa_family to AF_INET? <a href=\"https://github.com/RTEMS/rtems/blob/4.9/cpukit/libnetworking/netinet/in_pcb.c#L159\" rel=\"nofollow noreferrer\">Seems</a> as if this isn&#39;t required, but should be set as it is used in the <a href=\"https://github.com/RTEMS/rtems/blob/4.9/cpukit/libnetworking/net/if.c#L170\" rel=\"nofollow noreferrer\">comparision</a>. Another hint, as the <code>sockaddr</code> structs are byte-compared: do you <code>memset</code> your sockaddr struct to 0 before configuring it&#39;s values and passing to <code>bind</code>?"}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466154047, "post_id": 37708381, "comment_id": 63209827, "body": "Have you tried to step through the <code>bind()</code> call with a debugger and look where the <code>return EADDRNOTAVAIL</code> exactly happens?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466176069, "post_id": 37708381, "comment_id": 63224466, "body": "@exilit Unfortunately we have no active debugger, this only occurs on the actual embedded hardware, all i can use is print statements."}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466176648, "post_id": 37708381, "comment_id": 63224783, "body": "Do you compile the library yourself?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466177600, "post_id": 37708381, "comment_id": 63225374, "body": "@exilit We compile the entire OS ourselves. But there is no interface to the embedded hardware that could use a debugger even if RTEMS implemented one."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 810, "user_id": 1649108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc64fd6d40ba59f8dc7a98b6e9792b11?s=128&d=identicon&r=PG", "display_name": "grasbueschel", "link": "https://stackoverflow.com/users/1649108/grasbueschel"}, "edited": false, "score": 0, "creation_date": 1466180188, "post_id": 37708381, "comment_id": 63226819, "body": "@grasbueschel We do both those things, i have edited the question to reflect this. <code>sockaddr_in localSocketAddress = {0};</code>"}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466180449, "post_id": 37708381, "comment_id": 63226956, "body": "That is not why I am asking. Is there any chance that you include some debug output at the relevant places and debug it that way? We will have to put some thoughts and effort into figuring out this &quot;relevant&quot; places, but that might be worth trying."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466181743, "post_id": 37708381, "comment_id": 63227658, "body": "@exilit Yes, i can put debug prints into the operating system, it uses BSDNet libs for everything networking. I would then be able to recompile the operating system and see the prints, but i usually have to be very careful, printing too much can screw up the timing. I hate doing that ..."}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1466182086, "post_id": 37708381, "comment_id": 63227834, "body": "I hate that,  too. But as long nobody answers I think you have not much choice."}, {"owner": {"reputation": 810, "user_id": 1649108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc64fd6d40ba59f8dc7a98b6e9792b11?s=128&d=identicon&r=PG", "display_name": "grasbueschel", "link": "https://stackoverflow.com/users/1649108/grasbueschel"}, "edited": false, "score": 0, "creation_date": 1466191554, "post_id": 37708381, "comment_id": 63232491, "body": "@Ben alright, I see. Another thing to check, though I don&#39;t think that it&#39;s the core of the issue here: There&#39;s a <code>sin_len</code> member of <a href=\"https://github.com/RTEMS/rtems/blob/4.9/cpukit/libnetworking/netinet/in.h#L70\" rel=\"nofollow noreferrer\"><code>sockaddr_in</code></a> which you should initialize to <code>sizeof struct sockaddr_in</code>."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 810, "user_id": 1649108, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc64fd6d40ba59f8dc7a98b6e9792b11?s=128&d=identicon&r=PG", "display_name": "grasbueschel", "link": "https://stackoverflow.com/users/1649108/grasbueschel"}, "edited": false, "score": 0, "creation_date": 1466643183, "post_id": 37708381, "comment_id": 63406657, "body": "@grasbueschel So i gave this a go, doesn&#39;t make any difference unfortunately."}], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 849635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d891c000f7096bb4cb3f096c6477fe1d?s=128&d=identicon&r=PG", "display_name": "Kean", "link": "https://stackoverflow.com/users/849635/kean"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 1, "creation_date": 1468263700, "post_id": 38312943, "comment_id": 64045009, "body": "Why should it be a comment? Just asking for future clarity&#39;s sake. Also did you even TRY my suggestion? Those fields are supposed to be in network byte order and using htons() and htonl() is &quot;correct&quot;."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1468269129, "post_id": 38312943, "comment_id": 64047799, "body": "@Ben A solution is an answer, not a comment. You are mistaken and Kean is not."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1468269328, "post_id": 38312943, "comment_id": 64047920, "body": "@Kean, my apologies about the comment thing, i will try your solution. However, do we expect it to work? If you read the question the socket bind works just fine in every case unless i run <code>rtems_bsdnet_ifconfig(</code> to reconfigure my network address. Why would it ever work if the network address was in the wrong order?"}, {"owner": {"reputation": 552, "user_id": 849635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d891c000f7096bb4cb3f096c6477fe1d?s=128&d=identicon&r=PG", "display_name": "Kean", "link": "https://stackoverflow.com/users/849635/kean"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1468272940, "post_id": 38312943, "comment_id": 64049637, "body": "@Ben I think I assumed that the actual address you were connecting to changed after that rtems call. I should not have assumed such, but since I did my reasoning was that in the first case it could have been some constant you had assigned to localAddress, whereas after making the change you set it to something else. Assumption is the mother of all failures. Sorry about that."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1472509560, "post_id": 38312943, "comment_id": 65770757, "body": "Just so we are clear about this, unfortunately this solution didn&#39;t work."}], "tags": [], "owner": {"reputation": 552, "user_id": 849635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d891c000f7096bb4cb3f096c6477fe1d?s=128&d=identicon&r=PG", "display_name": "Kean", "link": "https://stackoverflow.com/users/849635/kean"}, "is_accepted": false, "score": 1, "last_activity_date": 1468269360, "last_edit_date": 1468269360, "creation_date": 1468258645, "answer_id": 38312943, "question_id": 37708381, "link": "https://stackoverflow.com/questions/37708381/failure-to-bind-socket-when-custom-ip-is-set-for-ethernet-adapter/38312943#38312943", "title": "Failure to bind socket when custom ip is set for ethernet adapter", "body": "<p>You didn't mention the architecture you are running on, but you are setting the port and address in local byte order, which may not be the same as network byte order. The very first thing I would try is:</p>\n\n<p><code>localSocketAddress.sin_port = htons (localPort);\nlocalSocketAddress.sin_addr.s_addr = htonl (localAddress);</code></p>\n\n<p>This will also make your code more portable, in case that is NOT your problem (i.e. you are running on a big-endian host) and you one day try to compile on a different system that is little endian.</p>\n"}], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1468269360, "creation_date": 1465404397, "last_edit_date": 1495542150, "question_id": 37708381, "link": "https://stackoverflow.com/questions/37708381/failure-to-bind-socket-when-custom-ip-is-set-for-ethernet-adapter", "title": "Failure to bind socket when custom ip is set for ethernet adapter", "body": "<h2>The problem</h2>\n\n<p>On our system running RTEMS 4.9.2 we are experiencing a very odd issue with socket communications. We are setting up a socket and using the following command to bind:</p>\n\n<pre><code>// Bind the socket to set the local port\nsockaddr_in localSocketAddress = {0};\nlocalSocketAddress.sin_family = AF_INET;\nlocalSocketAddress.sin_port = (u_short)localPort;\nlocalSocketAddress.sin_addr.s_addr = localAddress;\n\nif (bind( mSocket, (sockaddr *)&amp;localSocketAddress, sizeof(sockaddr_in)) == SOCKET_ERROR)\n{\n    int errorOut = errno;\n    ...\n</code></pre>\n\n<p>And this works for UDP communications except in a strange specific scenario which is explained below. The problem that we experience is a failure of this <code>bind</code> call even though the setup is correct. We get the error <code>125</code> which for RTEMS is <code>EADDRNOTAVAIL</code>:</p>\n\n<blockquote>\n  <p>A nonexistent interface was requested or the requested address\n                was not local.</p>\n</blockquote>\n\n<h2>The Apparent Cause</h2>\n\n<p>At boot of the device we can set up our network in 1 of 2 ways:</p>\n\n<ol>\n<li><p>The Network IP and SUBNET is autoconfigured based on what is in the default bootloader (UBOOT), and is set up through the RTEMS OS. </p></li>\n<li><p>The RTEMS function <code>rtems_bsdnet_ifconfig</code> is called to change the ip address of the sole ethernet interface after boot time. </p></li>\n</ol>\n\n<p>For clarification, option 2 is called like this:</p>\n\n<pre><code>rtems_bsdnet_ifconfig(eth_interface, SIOCSIFADDR, &amp;ipaddr);\n</code></pre>\n\n<p>If the network is set up as indicated by option 1, everything works as expected, but if option 2 is used (even in the case where the setup matches the network options defined by option 1) then the socket bind fails. </p>\n\n<p><strong>Is there a known reason or bug for RTEMS that indicates that this bind would fail if you reconfigure your IP?</strong></p>\n\n<h2>Additional Information</h2>\n\n<ul>\n<li><p>We are setting up a new IP address (option 2) using a method that essentially uses <code>ioctl(\"eht1\", SIOCSIFADDR, ...)</code>.</p></li>\n<li><p>If we bind our socket without specifying a local ADDRESS (ie use <code>INADDR_ANY</code>) then it works in any case. </p></li>\n<li><p>The <code>rtems_bsdnet_ifconfig</code> is a simple interface for the <code>ioctl</code> function. It is from <code>rtems_glue.c</code> and has the function signiture <code>int rtems_bsdnet_ifconfig(const char *ifname, uint32_t cmd, void *param)</code></p></li>\n<li><p>All normal network functions seem to work except for this bind.</p></li>\n<li><p>After looking at <a href=\"https://stackoverflow.com/questions/5308090/set-ip-address-using-siocsifaddr-ioctl\">this</a> i thought maybe I needed to do more in resetting my IP address. But this doesn't work , using the first answer or even doing anything with <code>SIOCSIFFLAGS</code> causes all network functionality to cease. </p></li>\n</ul>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 507, "user_id": 4348460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac731d79e985b5e27aa532007ee49e97?s=128&d=identicon&r=PG&f=1", "display_name": "0x0001", "link": "https://stackoverflow.com/users/4348460/0x0001"}, "is_accepted": true, "score": 2, "last_activity_date": 1465404699, "creation_date": 1465404699, "answer_id": 37708484, "question_id": 37708311, "link": "https://stackoverflow.com/questions/37708311/using-char-for-small-integer-value-instead-of-using-int/37708484#37708484", "title": "Using char for small integer value instead of using INT", "body": "<p>It is because <code>std::cout</code>'s <code>operator&lt;&lt;(char)</code> is overloaded such that it will display ascii character corresponding to the digit. Instead of changing type from <code>char</code> to <code>int</code>, you can do like this</p>\n\n<pre><code>for (int i = 0; i &lt; 7; ++i)\n    cout &lt;&lt; static_cast&lt;int&gt;(code[i]) &lt;&lt; endl;\n</code></pre>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow\">this</a>.</p>\n"}], "owner": {"reputation": 797, "user_id": 5680504, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/89199bc765d86082499192aedf186a19?s=128&d=identicon&r=PG&f=1", "display_name": "sclee1", "link": "https://stackoverflow.com/users/5680504/sclee1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "closed_date": 1465404751, "accepted_answer_id": 37708484, "answer_count": 1, "score": 0, "last_activity_date": 1465404699, "creation_date": 1465404149, "question_id": 37708311, "link": "https://stackoverflow.com/questions/37708311/using-char-for-small-integer-value-instead-of-using-int", "closed_reason": "Duplicate", "title": "Using char for small integer value instead of using INT", "body": "<p>I am working on some codes using c++.</p>\n\n<p>Type char is one byte in my machine and int type is four bytes.</p>\n\n<p>Since my input value is under 100, I used char type instead of integer type in order to make my process in an efficient way as shown in below codes.</p>\n\n<pre><code>int do_main(int argc, const char *argv[]) {\n        int TC;\n        cin &gt;&gt; TC;\n\n        while (TC--) {\n            unsigned char num;\n            char code[7];\n            for (int i = 0; i &lt; 7; ++i) code[i] = 0;\n            cin &gt;&gt; num;\n            int idx = 0;\n            while (1) {\n                code[7-1-idx++] = num % 2;\n                num /= 2;\n                if (num &lt; 2) break;\n            }\n\n            code[7 - 1 - idx] = num;\n\n            for (int i = 0; i &lt; 7; ++i) cout &lt;&lt; code[i] &lt;&lt; endl;\n\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>As you can see above codes, the 10 digit value is transformed into 2 bit type. However, my problem is that the value was not what I expected. it showed some strange character not 1 or zero. </p>\n\n<p>I thought that it was due to the types. Therefore I modified the char into int and ran the codes again. I confirmed that the codes[i] showed the corrected value that I expected. </p>\n\n<p>To summary.. my question is that what is wrong with the usage of char instead of int?</p>\n\n<p>I know that char is aimed at storage of character but for some small integer value (up to 1 byte), we can use char instead of int type.  </p>\n"}, {"tags": ["c++", "pointers", "this"], "comments": [{"owner": {"reputation": 16382, "user_id": 5507349, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IaCUb.jpg?s=128&g=1", "display_name": "Edgar Rokj\u0101n", "link": "https://stackoverflow.com/users/5507349/edgar-rokj%c4%81n"}, "edited": false, "score": 4, "creation_date": 1465403822, "post_id": 37708182, "comment_id": 62890389, "body": "<code>this</code> has type of <code>Test*</code>, <code>*this</code> has type of <code>Test</code>."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 3, "creation_date": 1465404255, "post_id": 37708182, "comment_id": 62890687, "body": "<code>setX</code> and <code>setY</code> should return a reference (<code>Test&amp;</code>) for the code in <code>main</code> to work correctly.  Otherwise it will be modifying a temporary copy."}, {"owner": {"reputation": 521, "user_id": 2319341, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aac0ca417c6170bae9818120e4fde98b?s=128&d=identicon&r=PG", "display_name": "Omkar", "link": "https://stackoverflow.com/users/2319341/omkar"}, "edited": false, "score": 0, "creation_date": 1465404455, "post_id": 37708182, "comment_id": 62890806, "body": "@interjay..Just wanted a more clearer explanation..If we are already returning the Test type then what is temporary variable and not the original one"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1465404751, "post_id": 37708182, "comment_id": 62890989, "body": "If you return <code>Test</code> then it will return a copy of the object, and any modifications done on that copy will be lost. If you return <code>Test&amp;</code> then it will return a reference to the same object. It&#39;s like the difference between <code>Test obj2=obj1</code> (giving two different objects) and <code>Test &amp;obj2=obj1</code> (where both variables refer to the same object)."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1465405031, "post_id": 37708182, "comment_id": 62891135, "body": "@OMKAR <i>While studying have come across the following code:</i> -- My radar is detecting that you copied the example wrong from wherever you got this code.  The example you gave is doing something called &quot;function chaining&quot;, a well-known idiom.  Given that, I doubt the example you came across was returning a <code>Test</code> instead of a <code>Test&amp;</code>.  The author(s) of wherever you got this example wouldn&#39;t make a mistake like this (returning <code>Test</code> instead of <code>Test&amp;</code>).  If they did, find better material to get your C++ examples."}, {"owner": {"reputation": 521, "user_id": 2319341, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aac0ca417c6170bae9818120e4fde98b?s=128&d=identicon&r=PG", "display_name": "Omkar", "link": "https://stackoverflow.com/users/2319341/omkar"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1465406566, "post_id": 37708182, "comment_id": 62892039, "body": "@PaulMcKenzie: You guessed it right,the code actually returned Test&amp; but  it was an exercise given(to cross check if the code worked fine) which didn&#39;t had an explanation for it..This had raised a doubt for me."}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 2319341, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aac0ca417c6170bae9818120e4fde98b?s=128&d=identicon&r=PG", "display_name": "Omkar", "link": "https://stackoverflow.com/users/2319341/omkar"}, "edited": false, "score": 0, "creation_date": 1465404200, "post_id": 37708271, "comment_id": 62890642, "body": "Ok,as per your answer if the actual object is returned then it should change the value of y too.But the output for above code is : x = 10 y = 0"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465406024, "post_id": 37708271, "comment_id": 62891751, "body": "@falx You&#39;re on the completely wrong track. I don&#39;t have any clue why this was upvoted that much."}, {"owner": {"reputation": 149, "user_id": 3558047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03b92fa438c09e297cf4995e5ba305?s=128&d=identicon&r=PG&f=1", "display_name": "falx", "link": "https://stackoverflow.com/users/3558047/falx"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465406111, "post_id": 37708271, "comment_id": 62891799, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6  where&#39;s my mistake? Would be nice to know the point"}, {"owner": {"reputation": 149, "user_id": 3558047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03b92fa438c09e297cf4995e5ba305?s=128&d=identicon&r=PG&f=1", "display_name": "falx", "link": "https://stackoverflow.com/users/3558047/falx"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465406510, "post_id": 37708271, "comment_id": 62892010, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 I&#39;m explaining the background why this behaviour appears like this. So I am on the right track"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465408579, "post_id": 37708271, "comment_id": 62893162, "body": "Your solution to the problem works, but is grossly inefficient. The last paragraph describing what is happening is incorrect. <code>setx</code> is called with and uses <code>obj1</code>. <code>sety</code> is called with and uses copy of <code>obj1</code>. <code>obj1</code> is then assigned copy of copy of <code>obj1</code> returned by <code>sety</code>. The address doesn&#39;t change because <code>obj1</code>&#39;s storage is being overwritten, not replaced. Add a copy constructor and an assignment operator and you can watch what&#39;s really happening. The recommended solution is to use references to the same object throughout and chaining as per @\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 &#39;s answer below."}, {"owner": {"reputation": 149, "user_id": 3558047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03b92fa438c09e297cf4995e5ba305?s=128&d=identicon&r=PG&f=1", "display_name": "falx", "link": "https://stackoverflow.com/users/3558047/falx"}, "edited": false, "score": 0, "creation_date": 1465409090, "post_id": 37708271, "comment_id": 62893472, "body": "Ok. I see my mistake. Thanks for the correction. I&#39;ve simply tried to explain why it is like this and not how to solve it properly. I will replace my answer with yours."}], "tags": [], "owner": {"reputation": 149, "user_id": 3558047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03b92fa438c09e297cf4995e5ba305?s=128&d=identicon&r=PG&f=1", "display_name": "falx", "link": "https://stackoverflow.com/users/3558047/falx"}, "is_accepted": false, "score": 3, "last_activity_date": 1465409235, "last_edit_date": 1465409235, "creation_date": 1465404019, "answer_id": 37708271, "question_id": 37708182, "link": "https://stackoverflow.com/questions/37708182/this-pointer-behaviour-in-c/37708271#37708271", "title": "&#39;this&#39; pointer behaviour in c++", "body": "<p>This comes because you're returning <code>*this</code> not <code>this</code>.</p>\n\n<p><code>this</code> is the pointer to a object of type <code>Test</code>. This means the <code>this</code>-variable basically holds the address where the object is stored. To access the object on which <code>this</code> points you use the <code>*</code>.</p>\n\n<p>So you're returning the actual object on which you <code>this</code> Pointer points at.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>The problem why your code does not work in the way you want it to do is caused by the fact, that you're working on the stack.</p>\n\n<p>Let's take a look at the addresses:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nclass Test\n{\nprivate:\n    int x;\n    int y;\npublic:\n//Test (int x = 0, int y = 0) { this-&gt;x = x; this-&gt;y = y; }\n    Test setX(int a) { x = a; return *this; }\n    Test setY(int b) {\n        y = b;\n        cout &lt;&lt; this &lt;&lt; endl; // &gt;&gt; 0x29ff18\n        return *this;\n    }\n    void print() { cout &lt;&lt; \"x = \" &lt;&lt; x &lt;&lt; \" y = \" &lt;&lt; y &lt;&lt; endl; }\n};\n\nint main()\n{\n\n    Test obj1;\n    cout &lt;&lt; &amp;obj1 &lt;&lt; endl; // &gt;&gt; 0x29ff10\n    obj1 = obj1.setX(10).setY(20);\n    cout &lt;&lt; &amp;obj1 &lt;&lt; endl; // &gt;&gt; 0x29ff10\n    //obj1.setY(20);\n    obj1.print();\n    return 0;\n}\n</code></pre>\n\n<p>As you can see, the object where <code>this</code> points at is at a different address within you <code>setY</code> method compared to the <code>main</code>. This is because the object is copied to the stackframe of the <code>setY</code> method - so within <code>setX</code> and <code>setY</code> you're working with a <em>copy</em> of <code>obj1</code></p>\n\n<p>If you're doing <code>obj1.setX(10).setY(20);</code> <s> you basically copy the object <code>obj1</code> and use it within <code>setX</code> and the return object of <code>setX</code> is then used in <code>setY</code>. If you want to save the last copy, you have to reassign it to <code>obj1</code>. </s></p>\n\n<blockquote>\n  <p>Your solution to the problem works, but is grossly inefficient. The last paragraph describing what is happening is incorrect. setx is called with and uses obj1. sety is called with and uses copy of obj1. obj1 is then assigned copy of copy of obj1 returned by sety. The address doesn't change because obj1's storage is being overwritten, not replaced. Add a copy constructor and an assignment operator and you can watch what's really happening. The recommended solution is to use references to the same object throughout and chaining as per @\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 's answer below. \u2013 user4581301</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1465404769, "last_edit_date": 1465404769, "creation_date": 1465404226, "answer_id": 37708333, "question_id": 37708182, "link": "https://stackoverflow.com/questions/37708182/this-pointer-behaviour-in-c/37708333#37708333", "title": "&#39;this&#39; pointer behaviour in c++", "body": "<blockquote>\n  <p>My issue is why the compiler deosn't report an error where I am returning a this pointer in SetX and SetY functions but haven't stated the return type as a pointer?</p>\n</blockquote>\n\n<p>It's completely valid syntax, so the compiler isn't supposed to return an error message. The problem is that you're using copies of <code>this*</code> with your return type.</p>\n\n<hr>\n\n<p>To chain operations properly to operate on the original instance return a reference to <code>this</code>:</p>\n\n<pre><code>Test&amp; setX(int a) { x = a; return *this; }\n // ^\nTest&amp; setY(int b) { y = b; return *this; }\n // ^\n</code></pre>\n\n<p>Otherwise you're returning an unrelated copy of your class.</p>\n"}], "owner": {"reputation": 521, "user_id": 2319341, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/aac0ca417c6170bae9818120e4fde98b?s=128&d=identicon&r=PG", "display_name": "Omkar", "link": "https://stackoverflow.com/users/2319341/omkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1465409235, "creation_date": 1465403745, "question_id": 37708182, "link": "https://stackoverflow.com/questions/37708182/this-pointer-behaviour-in-c", "title": "&#39;this&#39; pointer behaviour in c++", "body": "<p>I have a basic understanding of this pointer in C++.While studying have come across the following code:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nclass Test\n{\nprivate:\nint x;\nint y;\npublic:\n//Test (int x = 0, int y = 0) { this-&gt;x = x; this-&gt;y = y; }\nTest setX(int a) { x = a; return *this; }\nTest setY(int b) { y = b; return *this; }\nvoid print() { cout &lt;&lt; \"x = \" &lt;&lt; x &lt;&lt; \" y = \" &lt;&lt; y &lt;&lt; endl; }\n};\n\nint main()\n{\nTest obj1;\nobj1.setX(10).setY(20);\nobj1.print();\nreturn 0;\n}\n</code></pre>\n\n<p>My issue is why the compiler deosn't report an error where I am returning a this pointer in SetX and SetY functions but haven't stated the return type as a pointer?</p>\n"}, {"tags": ["c++", "loops", "parallel-processing", "cuda"], "comments": [{"owner": {"reputation": 568, "user_id": 4157408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44b6a712c8ad167e7331cef927d46a2?s=128&d=identicon&r=PG&f=1", "display_name": "void_ptr", "link": "https://stackoverflow.com/users/4157408/void-ptr"}, "edited": false, "score": 0, "creation_date": 1465403748, "post_id": 37708101, "comment_id": 62890332, "body": "For N nested loops, you use N dimensions. You don&#39;t have to stick to the 3 dimensions provided by CUDA, just calculate your own indices."}, {"owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "reply_to_user": {"reputation": 568, "user_id": 4157408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44b6a712c8ad167e7331cef927d46a2?s=128&d=identicon&r=PG&f=1", "display_name": "void_ptr", "link": "https://stackoverflow.com/users/4157408/void-ptr"}, "edited": false, "score": 0, "creation_date": 1465403825, "post_id": 37708101, "comment_id": 62890395, "body": "Could you please provide a solution for my example with four nested loops?"}, {"owner": {"reputation": 568, "user_id": 4157408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44b6a712c8ad167e7331cef927d46a2?s=128&d=identicon&r=PG&f=1", "display_name": "void_ptr", "link": "https://stackoverflow.com/users/4157408/void-ptr"}, "edited": false, "score": 0, "creation_date": 1465403930, "post_id": 37708101, "comment_id": 62890461, "body": "The solution is trivial but this text entry field is too small for it."}, {"owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "reply_to_user": {"reputation": 568, "user_id": 4157408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44b6a712c8ad167e7331cef927d46a2?s=128&d=identicon&r=PG&f=1", "display_name": "void_ptr", "link": "https://stackoverflow.com/users/4157408/void-ptr"}, "edited": false, "score": 0, "creation_date": 1465404008, "post_id": 37708101, "comment_id": 62890517, "body": "Maybe you write an answer? Or is this too much effort? Would appreciate it!"}], "answers": [{"comments": [{"owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "edited": false, "score": 0, "creation_date": 1465404572, "post_id": 37708404, "comment_id": 62890879, "body": "Thanks for your answer, but i don&#39;t want to have any loops in my kernel since all iterations are independent and could be executed concurrently."}, {"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "reply_to_user": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "edited": false, "score": 0, "creation_date": 1465404755, "post_id": 37708404, "comment_id": 62890993, "body": "@siebenschlaefer With a large enough blockDim and gridDim, you probably have got enough parallelism already. It&#39;s ok to keep a loop."}, {"owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "edited": false, "score": 0, "creation_date": 1465404889, "post_id": 37708404, "comment_id": 62891055, "body": "that is true, but this is not the case in all source programs I am testing with."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 2, "creation_date": 1465404892, "post_id": 37708404, "comment_id": 62891057, "body": "In fact, keeping the loop in some scenarios may drive up the work per thread, which can improve performance vs. giving only a small amount of work to each thread.  You may actually expose more <i>usable</i> parallelism by increasing the work per thread vs. going to more threads."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1465404987, "post_id": 37708404, "comment_id": 62891114, "body": "If all your loop iterations are independent, then you can flatten or &quot;collapse&quot; loops.  This concept is not unique to cuda; it can be done in ordinary C/C++ code.  If you want to go to one loop iteration per thread, then collapse your loops in host code and perform the conversion to a grid for your kernel."}, {"owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "edited": false, "score": 0, "creation_date": 1465405003, "post_id": 37708404, "comment_id": 62891118, "body": "@RobertCovella This is what I want to check for various source programs and verify in which cases &quot;going to more threads&quot; makes sense."}], "tags": [], "owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "is_accepted": false, "score": 4, "last_activity_date": 1465405944, "last_edit_date": 1465405944, "creation_date": 1465404461, "answer_id": 37708404, "question_id": 37708101, "link": "https://stackoverflow.com/questions/37708101/parallelize-four-and-more-nested-loops-with-cuda/37708404#37708404", "title": "Parallelize four and more nested loops with CUDA", "body": "<p>You could keep the outer loop unchanged. Also it is better to use <code>.x</code> as inner most loop so you can <a href=\"https://devblogs.nvidia.com/parallelforall/how-access-global-memory-efficiently-cuda-c-kernels/\" rel=\"nofollow\">access the global memory efficiently</a>.</p>\n\n<pre><code>__global__ void kernelExample() {\n    int _cu_x = ((blockIdx.x*blockDim.x)+threadIdx.x);\n    int _cu_y = ((blockIdx.y*blockDim.y)+threadIdx.y);\n    int _cu_z = ((blockIdx.z*blockDim.z)+threadIdx.z);\n    for(int i = 0; i &lt; a; i++) {\n        A[i*x*y*z + _cu_z*y*z + _cu_y*z + _cu_x] = 1;\n    }\n}\n</code></pre>\n\n<p>However if your <code>a,b,c,d</code> are all very small, you may not be able to get enough parallelism. In that case you could convert a linear index to n-D indices.</p>\n\n<pre><code>__global__ void kernelExample() {\n    int tid = ((blockIdx.x*blockDim.x)+threadIdx.x);\n    int i = tid / (b*c*d);\n    int j = tid / (c*d) % b;\n    int k = tid / d % c;\n    int l = tid % d;\n\n    A[i*x*y*z + j*y*z + k*z + l] = 1;\n}\n</code></pre>\n\n<p>But be careful that calculating <code>i,j,k,l</code> may introduce a lot of overhead as integer division and mod are slow on GPU. As an alternative you could map <code>i,j</code> to <code>.z</code> and <code>.y</code>, and calculate only <code>k,l</code> and more dimensions from <code>.x</code> in a similar way.</p>\n"}], "owner": {"reputation": 868, "user_id": 1767808, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/KfCkc.jpg?s=128&g=1", "display_name": "Christoph W.", "link": "https://stackoverflow.com/users/1767808/christoph-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 4, "answer_count": 1, "score": 2, "last_activity_date": 1465405944, "creation_date": 1465403494, "last_edit_date": 1465404813, "question_id": 37708101, "link": "https://stackoverflow.com/questions/37708101/parallelize-four-and-more-nested-loops-with-cuda", "title": "Parallelize four and more nested loops with CUDA", "body": "<p>I am working on a compiler generating parallel C++ code. I am new to CUDA programming but I am trying to parallelize the C++ code with CUDA.</p>\n\n<p>Currently if I have the following sequential C++ code:</p>\n\n<pre><code>for(int i = 0; i &lt; a; i++) {\n    for(int j = 0; j &lt; b; j++) {\n        for(int k = 0; k &lt; c; k++) {\n            A[i*y*z + j*z + k*z +l] = 1;\n        }\n    }\n}\n</code></pre>\n\n<p>and this results in the following CUDA code:</p>\n\n<pre><code>__global__ void kernelExample() {\n    int _cu_x = ((blockIdx.x*blockDim.x)+threadIdx.x);\n    int _cu_y = ((blockIdx.y*blockDim.y)+threadIdx.y);\n    int _cu_z = ((blockIdx.z*blockDim.z)+threadIdx.z);\n\n    A[_cu_x*y*z + _cu_y*z + _cu_z] = 1;\n}\n</code></pre>\n\n<p>so each loop nest is mapped to one dimension, but what would be the correct way to parallelize four and more nested loops:</p>\n\n<pre><code>for(int i = 0; i &lt; a; i++) {\n    for(int j = 0; j &lt; b; j++) {\n        for(int k = 0; k &lt; c; k++) {\n            for(int l = 0; l &lt; d; l++) {\n                A[i*x*y*z + j*y*z + k*z +l] = 1;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Is there any similar way? Noteworthy: all loop dimensions are parallel and there are no dependencies between iterations.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: the goal is to map all iterations to CUDA threads, since all iterations are independent and could be executed concurrently.</p>\n"}, {"tags": ["c++", "qt", "resize", "qpixmap"], "answers": [{"comments": [{"owner": {"reputation": 812, "user_id": 5101446, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0qRHT.jpg?s=128&g=1", "display_name": "Nicholas Johnson", "link": "https://stackoverflow.com/users/5101446/nicholas-johnson"}, "edited": false, "score": 0, "creation_date": 1465407362, "post_id": 37709159, "comment_id": 62892477, "body": "This worked! I had thought about it, but I didn&#39;t actually do it. Once I added the current pixmap as a global variable it worked nicely."}], "tags": [], "owner": {"reputation": 9720, "user_id": 6371123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f90991c1b06c79ae4c6e79fb616d608?s=128&d=identicon&r=PG", "display_name": "G.M.", "link": "https://stackoverflow.com/users/6371123/g-m"}, "is_accepted": true, "score": 4, "last_activity_date": 1465407047, "creation_date": 1465407047, "answer_id": 37709159, "question_id": 37708062, "link": "https://stackoverflow.com/questions/37708062/qt-qpixmap-scaling-incorrectly/37709159#37709159", "title": "Qt | QPixmap scaling incorrectly", "body": "<p>You're reading the current pixmap from the widget, scaling it, and then writing the scaled pixmap to the widget.  Consider what happens if the widget becomes very small and is then resized to something much larger -- you'll get a lot of artifacts due to the scaling transformation used.</p>\n\n<p>I think a better approach would be to store the original full size image in a member of your MainWindow class, say...</p>\n\n<pre><code>QPixmap m_original_pixmap;\n</code></pre>\n\n<p>Then use a scaled version of that in your resizeEvent member...</p>\n\n<pre><code>void MainWindow::resizeEvent(QResizeEvent *)\n{\n  QPixmap pix = m_original_pixmap.scaled(ui-&gt;labelImage-&gt;size(), Qt::KeepAspectRatio);\n  ui-&gt;labelImage-&gt;setPixmap(pix);\n}\n</code></pre>\n\n<p>Not sure if that will clear everything up but should go some way to removing some of the artifacts.</p>\n\n<p>As a side note, if you're concerned about image quality you might consider specifying Qt::SmoothTransformation as the pixmap transformation mode in the scaling operation.</p>\n"}], "owner": {"reputation": 812, "user_id": 5101446, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0qRHT.jpg?s=128&g=1", "display_name": "Nicholas Johnson", "link": "https://stackoverflow.com/users/5101446/nicholas-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 1, "accepted_answer_id": 37709159, "answer_count": 1, "score": 2, "last_activity_date": 1465407047, "creation_date": 1465403386, "last_edit_date": 1465403917, "question_id": 37708062, "link": "https://stackoverflow.com/questions/37708062/qt-qpixmap-scaling-incorrectly", "title": "Qt | QPixmap scaling incorrectly", "body": "<p>I have a QPixmap and I set it to resize according to ratio as the window is resized. When the images is first loaded in, it is good and clear for that ratio, but as I resize the image, it distorts all of it.\nIt manages to go from this:\n<a href=\"https://i.stack.imgur.com/m1xUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m1xUi.png\" alt=\"Image before resizing window\"></a>\nto this:\n<a href=\"https://i.stack.imgur.com/ul7pV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ul7pV.png\" alt=\"Image before resizing window\"></a></p>\n\n<p>Relevant Code:</p>\n\n<pre><code>void MainWindow::resizeEvent(QResizeEvent *)\n{\n    QPixmap pix = ui-&gt;labelImage-&gt;pixmap()-&gt;scaled(ui-&gt;labelImage-&gt;size(),\n                                                   Qt::KeepAspectRatio);\n    ui-&gt;labelImage-&gt;setPixmap(pix);\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "edited": false, "score": 0, "creation_date": 1465407678, "post_id": 37709121, "comment_id": 62892639, "body": "Just tried adding <code>gl_Layer = 0;</code> before every <code>EmitVertex()</code> for the positive X face and <code>gl_Layer = 1;</code> before every <code>EmitVertex()</code> for the negative X face. The positive X face work (just like it did before) bue the negative X face still doesn&#39;t receive any color. It looks like only the positive X face is bound since every layer except the 0 doesn&#39;t work, but I&#39;ve built the framebuffer for the destination cubemap using <code>GL_TEXTURE_CUBE_MAP</code> for the texture target and <code>glFramebufferTexture</code> to attach it to the framebuffer. I use <code>GL_TEXTURE_CUBE_MAP_POSITIVE_X+...</code>  only for <code>glTexImage2D</code>"}, {"owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "edited": false, "score": 0, "creation_date": 1465411806, "post_id": 37709121, "comment_id": 62895080, "body": "I think the problem is due to my <code>glViewport()</code> call when I bind the framebuffer as a draw buffer since, doing a stupid test, I tried to remove the <code>glViewport()</code> call after <code>glBindFramebuffer</code> and like this the negative X is visible, but with the wrong viewport. At this point, how should I set te viewport of the cubemap for rendering to it?"}, {"owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "edited": false, "score": 0, "creation_date": 1465414080, "post_id": 37709121, "comment_id": 62896325, "body": "Turns out that I create my cubemap with a size of 256x256 pixels and when I bind that texture as a render target and set the viewport for a dimension bigger than 181x181 pixels the negative X face isn&#39;t renderer. Until 181x181 everything works, over 181x181 it&#39;s not working anymore and I can&#39;t understand why"}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 3, "last_activity_date": 1465406879, "creation_date": 1465406879, "answer_id": 37709121, "question_id": 37707875, "link": "https://stackoverflow.com/questions/37707875/draw-a-cubemap-in-a-single-pass-opengl/37709121#37709121", "title": "Draw a cubemap in a single pass OpenGL", "body": "<pre><code>gl_Layer = 0;\n</code></pre>\n\n<p>This is a <a href=\"https://www.opengl.org/wiki/Geometry_Shader#Outputs\" rel=\"nofollow\">Geometry Shader output</a>. Calling <code>EmitVertex</code> will cause the value of all output variables to become undefined. Therefore, you must <em>always</em> set each output for each vertex to which that output applies.</p>\n"}], "owner": {"reputation": 935, "user_id": 3365063, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f85ec976ad1f53d8d6e885a174d9e335?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/3365063/zeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465406879, "creation_date": 1465402834, "last_edit_date": 1465405793, "question_id": 37707875, "link": "https://stackoverflow.com/questions/37707875/draw-a-cubemap-in-a-single-pass-opengl", "title": "Draw a cubemap in a single pass OpenGL", "body": "<p>I'm trying to draw to a cubemap in a single pass using a geometry shade in OpenGL.\nBasically need I do this to copy the content of a cubemap into another cubemap, and the may not have the same resolution and pixel layout.</p>\n\n<p>I'm trying to achieve the result I want feeding a single point to the vertex shader and then, from the geometry shader, select each layer (face of the cubemap) and emit a quad and texture coordinates.</p>\n\n<p>So far I've tried this method emitting only two of the cubemap faces (positive and negative X) to see if it could work, but it doesn't.</p>\n\n<p>Using NSight I can see that there is something wrong.</p>\n\n<p>This is the source cubemap:\n<a href=\"https://i.stack.imgur.com/gJHBs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJHBs.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is the result cubemap:\n<a href=\"https://i.stack.imgur.com/iV9IW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iV9IW.png\" alt=\"enter image description here\"></a></p>\n\n<p>The only face that's being drawn to is the positive X and still it's not correct.</p>\n\n<p>This is my geometry shader:</p>\n\n<pre><code>#version 330 core\n\nlayout(points) in;\nlayout(triangle_strip, max_vertices = 8) out;\n\nin vec3 pos[];\nout vec3 frag_textureCoord;\n\nvoid main()\n{\n    const vec4 positions[4] = vec4[4] ( vec4(-1.0, -1.0, 0.0, 0.0),\n                                        vec4( 1.0, -1.0, 0.0, 0.0),\n                                        vec4(-1.0,  1.0, 0.0, 0.0),\n                                        vec4( 1.0,  1.0, 0.0, 0.0) );\n\n    // Positive X\n    gl_Layer = 0;\n\n    gl_Position = positions[0];\n    frag_textureCoord = vec3(1.0, -1.0, -1.0);\n    EmitVertex();\n\n    gl_Position = positions[1];\n    frag_textureCoord = vec3(1.0, -1.0,  1.0);\n    EmitVertex();\n\n    gl_Position = positions[2];\n    frag_textureCoord = vec3(1.0,  1.0, -1.0);\n    EmitVertex();\n\n    gl_Position = positions[3];\n    frag_textureCoord = vec3(1.0,  1.0,  1.0);\n    EmitVertex();                    \n    EndPrimitive();\n\n    // Negative X\n    gl_Layer = 1;\n\n    gl_Position = positions[0];\n    frag_textureCoord = vec3(-1.0, -1.0,  1.0);\n    EmitVertex();\n\n    gl_Position = positions[1];\n    frag_textureCoord = vec3(-1.0, -1.0, -1.0);\n    EmitVertex();\n\n    gl_Position = positions[2];\n    frag_textureCoord = vec3(-1.0,  1.0,  1.0);\n    EmitVertex();\n\n    gl_Position = positions[3];\n    frag_textureCoord = vec3(-1.0,  1.0, -1.0);\n    EmitVertex();                    \n    EndPrimitive();\n}\n</code></pre>\n\n<p>And this is my fragment shader:</p>\n\n<pre><code>#version 150 core\n\nuniform samplerCube AtmosphereMap;\n\nin vec3 frag_textureCoord;\n\nout vec4 FragColor;\n\nvoid main()\n{\n    FragColor = texture(AtmosphereMap, frag_textureCoord) * 1.0f;\n}\n</code></pre>\n\n<hr>\n\n<p>UPDATE\nFurther debugging with NSight shows that for the positive x face every fragment gets a value of <code>frag_textureCoord</code> of <code>vec3(~1.0, ~0.0, ~0.0)</code> (I've used <code>~</code> since the values are not exactly those but approximated). The negative x face instead never reaches the fragment shader stage.</p>\n\n<hr>\n\n<p>UPDATE\nChanging the definition of my vertex position from <code>vec4(x, y, z, 0.0)</code> to <code>vec4(x, y, z, 1.0)</code> makes my shader render correctly the positive X face, but the negative is still wrong, even if debugging the fragment shader I see that the right color is selected and applied, but then it becomes black.</p>\n"}, {"tags": ["c++", "std", "c++14", "stl-algorithm"], "answers": [{"comments": [{"owner": {"reputation": 1983, "user_id": 2830652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99L9k.png?s=128&g=1", "display_name": "sokkyoku", "link": "https://stackoverflow.com/users/2830652/sokkyoku"}, "edited": false, "score": 0, "creation_date": 1465403397, "post_id": 37707986, "comment_id": 62890096, "body": "Link to documentation for std::max_element(): <a href=\"http://en.cppreference.com/w/cpp/algorithm/max_element\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/algorithm/max_element</a>"}, {"owner": {"reputation": 475, "user_id": 5733899, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-a2z9kuR3GwI/AAAAAAAAAAI/AAAAAAAAAAs/u7osUp4eARE/photo.jpg?sz=128", "display_name": "Crosk Cool", "link": "https://stackoverflow.com/users/5733899/crosk-cool"}, "edited": false, "score": 0, "creation_date": 1465404248, "post_id": 37707986, "comment_id": 62890684, "body": "I have tried that way like this int max=*max_element(s,s+n) , but then how would i get the index?"}], "tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": true, "score": 5, "last_activity_date": 1465405322, "last_edit_date": 1465405322, "creation_date": 1465403137, "answer_id": 37707986, "question_id": 37707762, "link": "https://stackoverflow.com/questions/37707762/how-to-make-minmax-element-to-return-the-element-with-least-index-in-case-of-a-t/37707986#37707986", "title": "How to make minmax_element to return the element with least index in case of a tie", "body": "<p>If you need only the max element, why don't you use the <code>std::max_element()</code> function? It will do exactly what you want.</p>\n\n<pre><code>auto r = std::max_element(s, s+n);\ncout &lt;&lt; r-s &lt;&lt; endl; // index of the maximum element in [s, s+n)\ncout &lt;&lt; *r  &lt;&lt; endl; // value of the maximum element in [s, s+n)\n</code></pre>\n"}], "owner": {"reputation": 475, "user_id": 5733899, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh4.googleusercontent.com/-a2z9kuR3GwI/AAAAAAAAAAI/AAAAAAAAAAs/u7osUp4eARE/photo.jpg?sz=128", "display_name": "Crosk Cool", "link": "https://stackoverflow.com/users/5733899/crosk-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 37707986, "answer_count": 1, "score": 0, "last_activity_date": 1465405322, "creation_date": 1465402506, "last_edit_date": 1465403171, "question_id": 37707762, "link": "https://stackoverflow.com/questions/37707762/how-to-make-minmax-element-to-return-the-element-with-least-index-in-case-of-a-t", "title": "How to make minmax_element to return the element with least index in case of a tie", "body": "<pre><code>#include&lt;utility&gt;\n#include&lt;alogrithm&gt;\n#include&lt;iostream&gt;\nusing namespace std;\nint main(void)\n{\n  int n=5;\n  int s[]={3,5,1,5,5};\n  auto r=minmax_element(s,s+n);\n  cout&lt;&lt;r.second-s&lt;&lt;endl;\n  cout&lt;&lt;*r.second;\n  return 0;\n}\n</code></pre>\n\n<p>This is the code to  print the maximum element in the array with its index.\nI want to  the maximum element with the least index (the first max in case of a tie)</p>\n\n<h2>How do i modify the above code to get the result.</h2>\n"}, {"tags": ["c++", "oop", "compiler-errors", "bison"], "comments": [{"owner": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "edited": false, "score": 0, "creation_date": 1465402247, "post_id": 37707642, "comment_id": 62889346, "body": "Looks like <code>NIdentifier</code> is being returned as a pointer, whereas <code>NInteger</code> is being returned by value.  You probably want a <code>new</code> before <code>NInteger</code>."}, {"owner": {"reputation": 382, "user_id": 2570513, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7eb8f514f4fb6aa178669e98bc512797?s=128&d=identicon&r=PG", "display_name": "Mario Gil", "link": "https://stackoverflow.com/users/2570513/mario-gil"}, "reply_to_user": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "edited": false, "score": 0, "creation_date": 1465402445, "post_id": 37707642, "comment_id": 62889462, "body": "Wow, that should&#39;ve been easy to spot."}], "answers": [{"tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 2, "last_activity_date": 1465402498, "creation_date": 1465402498, "answer_id": 37707759, "question_id": 37707642, "link": "https://stackoverflow.com/questions/37707642/cannot-convert-some-classes-but-others-can-c/37707759#37707759", "title": "Cannot convert some classes but others can. C++", "body": "<p>You cannot convert an instance of a class to a pointer to an instance. Note the <code>*</code> in the error message.</p>\n\n<p>In the rule which works, you set <code>$$</code> to <code>new NIdentifier</code>, which is a pointer to a new instance.</p>\n"}, {"comments": [{"owner": {"reputation": 382, "user_id": 2570513, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7eb8f514f4fb6aa178669e98bc512797?s=128&d=identicon&r=PG", "display_name": "Mario Gil", "link": "https://stackoverflow.com/users/2570513/mario-gil"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1465423940, "post_id": 37707838, "comment_id": 62901217, "body": "It does provide an answer: add <code>new</code> to create an instance of the class and have something to reference to. I&#39;m just want to acknowledge who pointed out the error."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1465464173, "post_id": 37707838, "comment_id": 62915550, "body": "Sorry, thought you were referring to an existing answer rather than to a comment."}], "tags": [], "owner": {"reputation": 382, "user_id": 2570513, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7eb8f514f4fb6aa178669e98bc512797?s=128&d=identicon&r=PG", "display_name": "Mario Gil", "link": "https://stackoverflow.com/users/2570513/mario-gil"}, "is_accepted": true, "score": 0, "last_activity_date": 1465751694, "last_edit_date": 1465751694, "creation_date": 1465402722, "answer_id": 37707838, "question_id": 37707642, "link": "https://stackoverflow.com/questions/37707642/cannot-convert-some-classes-but-others-can-c/37707838#37707838", "title": "Cannot convert some classes but others can. C++", "body": "<p>As stated by @md5i, I wasn't creating an <code>NInteger</code> instance with <code>new</code> so there was no object in the heap to reference to. This is fixed by adding the <code>new</code> operator in front of <code>NInteger</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "is_accepted": false, "score": 1, "last_activity_date": 1465402779, "creation_date": 1465402779, "answer_id": 37707860, "question_id": 37707642, "link": "https://stackoverflow.com/questions/37707642/cannot-convert-some-classes-but-others-can-c/37707860#37707860", "title": "Cannot convert some classes but others can. C++", "body": "<pre><code>ident : TIDENTIFIER { $$ = new NIdentifier(*$1); delete $1; }\n  ;\nnumeric : TINTEGER { $$ = NInteger(atol($1-&gt;c_str())); delete $1; }\n  ;\n</code></pre>\n\n<p>You forgot to put <code>new NInteger</code> like in the first row.</p>\n"}], "owner": {"reputation": 382, "user_id": 2570513, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7eb8f514f4fb6aa178669e98bc512797?s=128&d=identicon&r=PG", "display_name": "Mario Gil", "link": "https://stackoverflow.com/users/2570513/mario-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 37707838, "answer_count": 3, "score": 0, "last_activity_date": 1465751694, "creation_date": 1465402098, "question_id": 37707642, "link": "https://stackoverflow.com/questions/37707642/cannot-convert-some-classes-but-others-can-c", "title": "Cannot convert some classes but others can. C++", "body": "<p>I have these rules in <code>parser.y</code>:</p>\n\n<pre><code>ident : TIDENTIFIER { $$ = new NIdentifier(*$1); delete $1; }\n  ;\nnumeric : TINTEGER { $$ = NInteger(atol($1-&gt;c_str())); delete $1; }\n  ;\n</code></pre>\n\n<p>When I compile with <code>g++ -o parser parser.y tokens.flex main.cpp</code> i get:</p>\n\n<pre><code>parser.y:82:63: error: cannot convert \u2018NInteger\u2019 to \u2018NExpression*\u2019 in assignment\nTINTEGER { $$ = NInteger(atol($1-&gt;c_str())); delete $1; }\n                                                 ^\n</code></pre>\n\n<p>These are the classes definitions:</p>\n\n<pre><code>class Node {\npublic:\n  virtual ~Node() {}\n};\n\nclass NExpression : public Node {\n};\n\nclass NInteger : public NExpression {\npublic:\n  long long value;\n  NInteger(long long value) : value(value) { }\n};\n\nclass NIdentifier : public NExpression {\npublic:\n  std::string name;\n  NIdentifier(const std::string&amp; name) : name(name) { }\n};\n</code></pre>\n\n<p>I don't understand why one class can be converted but the other can't, since both inherit from the same parent and both constructors have the same mechanism.</p>\n"}, {"tags": ["c++", "opencv", "image-processing", "histogram"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1465409148, "post_id": 37707535, "comment_id": 62893520, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and remove all the unneeded/commented garbage codes"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5363744"}, "edited": false, "score": 0, "creation_date": 1474542789, "post_id": 39163028, "comment_id": 66578746, "body": "@ Adel: Thank you so much for your code. but when I use it for my image in up, I have not good result. If it possible, please do your code on my image in up and insert your result here."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5363744"}, "edited": false, "score": 0, "creation_date": 1477119729, "post_id": 39163028, "comment_id": 67645346, "body": "@ Adel: I use your code correctly. But Thresh number is lower than original number!!!"}], "tags": [], "owner": {"reputation": 56, "user_id": 6760823, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/efc578cb3bf624245fb56cbab76dd07f?s=128&d=identicon&r=PG", "display_name": "Adel", "link": "https://stackoverflow.com/users/6760823/adel"}, "is_accepted": true, "score": 0, "last_activity_date": 1472203885, "creation_date": 1472203885, "answer_id": 39163028, "question_id": 37707535, "link": "https://stackoverflow.com/questions/37707535/how-to-select-threshold-values-automatically-uses-the-peaks-of-the-histogram/39163028#39163028", "title": "How to select threshold values automatically uses the peaks of the histogram?", "body": "<p>You can use also the Max Entropy. In some cases using only the high frequency of the entropy could be better</p>\n\n<pre><code>int maxentropie(const cv::Mat1b&amp; src)\n{\n    // Histogram\n    cv::Mat1d hist(1, 256, 0.0);\n    for (int r=0; r&lt;src.rows; ++r)\n        for (int c=0; c&lt;src.cols; ++c)\n            hist(src(r,c))++;\n\n    // Normalize\n    hist /= double(src.rows * src.cols);\n\n    // Cumulative histogram\n    cv::Mat1d cumhist(1, 256, 0.0);\n    float sum = 0;\n    for (int i = 0; i &lt; 256; ++i)\n    {\n        sum += hist(i);\n        cumhist(i) = sum;\n    }\n\n    cv::Mat1d hl(1, 256, 0.0);\n    cv::Mat1d hh(1, 256, 0.0);\n\n    for (int t = 0; t &lt; 256; ++t)\n    {\n        // low range entropy\n        double cl = cumhist(t);\n        if (cl &gt; 0)\n        {\n            for (int i = 0; i &lt;= t; ++i)\n            {\n                if (hist(i) &gt; 0)\n                {\n                    hl(t) = hl(t) - (hist(i) / cl) * log(hist(i) / cl);\n                }\n            }\n        }\n\n        // high range entropy\n        double ch = 1.0 - cl;  // constraint cl + ch = 1\n        if (ch &gt; 0)\n        {\n            for (int i = t+1; i &lt; 256; ++i)\n            {\n                if (hist(i) &gt; 0)\n                {\n                    hh(t) = hh(t) - (hist(i) / ch) * log(hist(i) / ch);\n                }\n            }\n        }\n    }\n\n    // choose best threshold\n\n    cv::Mat1d entropie(1, 256, 0.0);\n    double h_max = hl(0) + hh(0);\n    int threshold = 0;\n    entropie(0) = h_max;\n\n    for (int t = 1; t &lt; 256; ++t)\n    {\n        entropie(t) = hl(t) + hh(t);\n        if (entropie(t) &gt; h_max)\n        {\n            h_max = entropie(t);\n            threshold = uchar(t);\n        }\n    }\n    if(threshold==0) threshold=255;\n    return threshold;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5363744"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 0, "accepted_answer_id": 39163028, "answer_count": 1, "score": 1, "last_activity_date": 1472203885, "creation_date": 1465401763, "last_edit_date": 1465412742, "question_id": 37707535, "link": "https://stackoverflow.com/questions/37707535/how-to-select-threshold-values-automatically-uses-the-peaks-of-the-histogram", "title": "How to select threshold values automatically uses the peaks of the histogram?", "body": "<p>By the OpenCV library, I want to threshold an image like this: </p>\n\n<pre><code>threshold(image, thresh, 220, 255, THRESH_BINARY_INV)\n</code></pre>\n\n<p>But I want to automatically find the threshold value (220). </p>\n\n<p>I use Otsu to estimate the threshold. But it doesn't work in my case. </p>\n\n<p>therefore, I should use Histogram Peak Technique. I want to find the two peaks in the histogram corresponding to the background and object of the image. It sets the threshold value automatically halfway between the two peaks. \nI use this book (pages: 117 and 496-505): \"Image Processing in C\" by Dwayne Phillips (<a href=\"http://www.dwaynephillips.net/\" rel=\"nofollow noreferrer\">http://homepages.inf.ed.ac.uk/rbf/BOOKS/PHILLIPS/</a>). And I use source code for find the two peaks in the histogram corresponding to the background and object of the image. this is my image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3wTUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wTUj.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is my c++ code:</p>\n\n<pre><code>#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;opencv2/opencv.hpp&gt;\n\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\nusing namespace cv;\n\n\nint main()\n{\n    Mat image0 = imread(\"C:/Users/Alireza/Desktop/contrast950318/2.bmp\");\n    imshow(\"image0\", image0);\n\n    Mat image, thresh, Tafrigh;\n    cvtColor(image0, image, CV_RGB2GRAY);\n\n\n    int N = image.rows*image.cols;\n\n    int histogram[256];\n\n    for (int i = 0; i &lt; 256; i++) {\n        histogram[i] = 0;\n    }\n\n    //create histo\n    for (int i = 0; i &lt; image.rows; i++){\n        for (int j = 0; j &lt; image.cols; j++){\n            histogram[((int)image.at&lt;uchar&gt;(i, j))]++;\n        }\n    }\n\n\n    int peak1, peak2;\n    #define PEAKS 30\n    int distance[PEAKS], peaks[PEAKS][2];\n\n    int i, j = 0, max = 0, max_place = 0;\n\n    for (int i = 0; i&lt;PEAKS; i++){\n        distance[i] = 0;\n        peaks[i][0] = -1;\n        peaks[i][1] = -1;\n    }\n\n    for (i = 0; i &lt;= 255; i++){\n        max = histogram[i];\n        max_place = i;\n\n        //insert_into_peaks(peaks, max, max_place);\n        //int max, max_place, peaks[PEAKS][2];\n        //int i, j;\n        /* first case */\n        if (max &gt; peaks[0][0]){\n            for (i = PEAKS - 1; i &gt; 0; i--){\n                peaks[i][0] = peaks[i - 1][0];\n                peaks[i][1] = peaks[i - 1][1];\n            }\n            peaks[0][0] = max;\n            peaks[0][1] = max_place;\n        } /* ends if */\n\n        /* middle cases */\n        for (j = 0; j &lt; PEAKS - 3; j++){\n            if (max &lt; peaks[j][0] &amp;&amp; max &gt; peaks[j + 1][0]){\n                for (i = PEAKS - 1; i &gt; j + 1; i--){\n                    peaks[i][0] = peaks[i - 1][0];\n                    peaks[i][1] = peaks[i - 1][1];\n                }\n\n                peaks[j + 1][0] = max;\n                peaks[j + 1][1] = max_place;\n            } /* ends if */\n        } /* ends loop over j */\n        /* last case */\n        if (max &lt; peaks[PEAKS - 2][0] &amp;&amp;\n            max &gt; peaks[PEAKS - 1][0]){\n            peaks[PEAKS - 1][0] = max;\n            peaks[PEAKS - 1][1] = max_place;\n        } /* ends if */\n\n}/* ends loop over i */\n\n\n\n    for (int i = 1; i&lt;PEAKS; i++){\n        distance[i] = peaks[0][1] - peaks[i][1];\n        if (distance[i] &lt; 0)\n            distance[i] = distance[i] * (-1);\n    }\n\n    peak1 = peaks[0][1];\n    cout &lt;&lt; \"  peak1= \" &lt;&lt; peak1;\n\n    for (int i = PEAKS - 1; i &gt; 0; i--){\n        if (distance[i] &gt; 1)\n            peak2 = peaks[i][1];\n\n    }\n    cout &lt;&lt; \"  peak2= \" &lt;&lt; peak2;\n\n\n    int mid_point;\n    //int peak1, peak2;\n    short hi, low;\n\n    unsigned long sum1 = 0, sum2 = 0;\n    if (peak1 &gt; peak2)\n        mid_point = ((peak1 - peak2) / 2) + peak2;\n    if (peak1 &lt; peak2)\n        mid_point = ((peak2 - peak1) / 2) + peak1;\n\n    for (int i = 0; i&lt;mid_point; i++)\n        sum1 = sum1 + histogram[i];\n    for (int i = mid_point; i &lt;= 255; i++)\n        sum2 = sum2 + histogram[i];\n    if (sum1 &gt;= sum2){\n        low = mid_point;\n        hi = 255;\n    }\n    else{\n        low = 0;\n        hi = mid_point;\n    }\n\n    cout &lt;&lt; \"  low= \" &lt;&lt; low &lt;&lt; \"  hi= \" &lt;&lt; hi;\n\n\n\ndouble  threshnum = 0.5* (low  + hi);\nthreshold(image, thresh, threshnum, hi, THRESH_BINARY_INV);\n\n\n    waitKey(0);\n    return 0;\n}\n</code></pre>\n\n<p>But I don't know this code correct is or not. If it correct, why is threshold value 202?  </p>\n\n<p>What ideas on how to solve this task would you suggest? Or on what resource on the internet can I find help?</p>\n"}, {"tags": ["c++", "config", "linker-errors"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465402417, "post_id": 37707471, "comment_id": 62889437, "body": "thank you for your answer... but the problem still exists. I changed the line you said and didnt work. I also tried to change this: CXX_LPATHS := -I ../../../DRAMSim2/ -L ../../../DRAMSim2/ (the paths are correct but i dont know how to use -I and -L)"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465402518, "post_id": 37707471, "comment_id": 62889506, "body": "Can you get your PINTool build to be verbose, so it outputs the compiler command line(s) it uses, and share this?"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465402806, "post_id": 37707471, "comment_id": 62889709, "body": "<code>g++ -DBIGARRAY_MULTIPLIER=1 -Wall -Werror -Wno-unknown-pragmas -fno-stack-protector -DTARGET_IA32E -DHOST_IA32E -fPIC -DTARGET_LINUX -I..&#47;..&#47;..&#47;source&#47;include&#47;pin -I..&#47;..&#47;..&#47;source&#47;include&#47;pin&#47;gen -I..&#47;..&#47;..&#47;extras&#47;components&#47;include -I..&#47;..&#47;..&#47;extras&#47;xed-intel64&#47;include -I..&#47;..&#47;..&#47;source&#47;tools&#47;InstLib -O3 -fomit-frame-pointer -fno-strict-aliasing -c -o obj-intel64&#47;allcache_v7.o allcache_v7.cpp</code>"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465402824, "post_id": 37707471, "comment_id": 62889715, "body": "and also: <code>g++ -shared -Wl,--hash-style=sysv -Wl,-Bsymbolic -Wl,--version-script=..&#47;..&#47;..&#47;source&#47;include&#47;pin&#47;pintool.ver -o obj-intel64&#47;allcache_v7.so obj-intel64&#47;allcache_v7.o -L..&#47;..&#47;..&#47;intel64&#47;lib -L..&#47;..&#47;..&#47;intel64&#47;lib-ext -L..&#47;..&#47;..&#47;intel64&#47;runtime&#47;glibc -L..&#47;..&#47;..&#47;extras&#47;xed-intel64&#47;lib -lpin -lxed -lpindwarf -ldl</code>"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465403030, "post_id": 37707471, "comment_id": 62889855, "body": "OK. I think try this: instead of adding <code>-ldramsim</code> to <code>CXX_LIBS</code>, add it to <code>TOOL_LIBS</code> instead. So the relevant line becomes <code>TOOL_LIBS := -lpin -lxed -ldramsim</code>"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465403623, "post_id": 37707471, "comment_id": 62890245, "body": "Can you dump your gcc lines again? Have they changed?"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465403841, "post_id": 37707471, "comment_id": 62890407, "body": "/usr/bin/ld: cannot find -ldramsim  collect2: error: ld returned 1 exit status"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465404060, "post_id": 37707471, "comment_id": 62890565, "body": "Aha! That&#39;s progress! Now all you need to do is add the search path for that library. Assuming you know where the <code>libdramsim.so</code> is located, and this is at say <code>&#47;path&#47;to&#47;dramsim&#47;libdramsim.so</code>, just modify your <code>TOOL_LIBS</code> variable further like this: <code>TOOL_LIBS := -lpin -lxed -L&#47;path&#47;to&#47;dramsim&#47; -ldramsim</code>"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465405614, "post_id": 37707471, "comment_id": 62891506, "body": "the error still exists... (library directory is 100% correct)  <code>E: Unable to load &#47;home&#47;taleporos&#47;Dropbox&#47;PIN&#47;source&#47;tools&#47;MemTrace&#47;obj-intel6&zwnj;&#8203;4&#47;allcache_v7.so: libdramsim.so: cannot open shared object file: No such file or directory</code>"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465405843, "post_id": 37707471, "comment_id": 62891645, "body": "Can you please repost the current gcc compile (note: not error) lines?"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465405972, "post_id": 37707471, "comment_id": 62891716, "body": "Hang on sorry... The above error that you posted - does this mean you&#39;re no longer getting the <code>&#47;usr&#47;bin&#47;ld: cannot find ...</code> error?"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465405995, "post_id": 37707471, "comment_id": 62891731, "body": "<code>g++ -DBIGARRAY_MULTIPLIER=1 -Wall -Werror -Wno-unknown-pragmas -fno-stack-protector -DTARGET_IA32E -DHOST_IA32E -fPIC -DTARGET_LINUX -I..&#47;..&#47;..&#47;source&#47;include&#47;pin -I..&#47;..&#47;..&#47;source&#47;include&#47;pin&#47;gen -I..&#47;..&#47;..&#47;extras&#47;components&#47;include -I..&#47;..&#47;..&#47;extras&#47;xed-intel64&#47;include -I..&#47;..&#47;..&#47;source&#47;tools&#47;InstLib -O3 -fomit-frame-pointer -fno-strict-aliasing -c -o obj-intel64&#47;allcache_v7.o allcache_v7.cpp</code>"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465406014, "post_id": 37707471, "comment_id": 62891743, "body": "<code>g++ -shared -Wl,--hash-style=sysv -Wl,-Bsymbolic -Wl,--version-script=..&#47;..&#47;..&#47;source&#47;include&#47;pin&#47;pintool.ver -o obj-intel64&#47;allcache_v7.so obj-intel64&#47;allcache_v7.o -L..&#47;..&#47;..&#47;intel64&#47;lib -L..&#47;..&#47;..&#47;intel64&#47;lib-ext -L..&#47;..&#47;..&#47;intel64&#47;runtime&#47;glibc -L..&#47;..&#47;..&#47;extras&#47;xed-intel64&#47;lib -lpin -lxed -I..&#47;..&#47;..&#47;DRAMSim2 -L..&#47;..&#47;..&#47;DRAMSim2 -ldramsim -lpindwarf -ldl</code>"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465406069, "post_id": 37707471, "comment_id": 62891777, "body": "Thanks, please also answer my later comment"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465406354, "post_id": 37707471, "comment_id": 62891920, "body": "Your observation is correct! before:<code>&#47;usr&#47;bin&#47;ld: cannot find -ldramsim</code> now:<code>E: Unable to load &#47;home&#47;taleporos&#47;Dropbox&#47;PIN&#47;source&#47;tools&#47;MemTrace&#47;obj-intel6&zwnj;&#8203;4&#47;allcache_v7.so: libdramsim.so: cannot open shared object file: No such file or directory</code>"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465406444, "post_id": 37707471, "comment_id": 62891969, "body": "If the answer is yes, which I suspect it is, I think you&#39;ve now successfully built your library, and your latest problem is now actually loading it. I suggest try this: before running whatever commands you run, in the shell where you&#39;re running them type <code>export LD_LIBRARY_PATH=&#47;path&#47;to&#47;dramsim</code> using the full path to <code>libdramsim.so</code>&#39;s directory"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465406894, "post_id": 37707471, "comment_id": 62892240, "body": "i did the export but nothing happened again... :-("}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465413571, "post_id": 37707471, "comment_id": 62896071, "body": "Can you please try all of the steps in my update to the answer above and see where you get?"}, {"owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465419986, "post_id": 37707471, "comment_id": 62899464, "body": "after ldd allcache_v7.so | grep dramsim  <code>libdramsim.so =&gt; &#47;home&#47;taleporos&#47;Dropbox&#47;PIN&#47;DRAMSim2&#47;libdramsim.so (0x00007f9df1bda000)</code>  but the problem still cannot open shared object file: no such file or directory"}, {"owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "reply_to_user": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "edited": false, "score": 0, "creation_date": 1465474730, "post_id": 37707471, "comment_id": 62922765, "body": "Can you please share the command line that is actually invoking the application that uses your built library <code>allcache_v7.so</code>?"}], "tags": [], "owner": {"reputation": 9156, "user_id": 6255513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62b448d7fe8e472368e4cd4e2615a3?s=128&d=identicon&r=PG&f=1", "display_name": "Smeeheey", "link": "https://stackoverflow.com/users/6255513/smeeheey"}, "is_accepted": false, "score": 1, "last_activity_date": 1465413546, "last_edit_date": 1465413546, "creation_date": 1465401571, "answer_id": 37707471, "question_id": 37707344, "link": "https://stackoverflow.com/questions/37707344/how-to-link-dramsim2-library-interface-with-a-pintool/37707471#37707471", "title": "how to link dramsim2 library interface with a PINtool", "body": "<p>Just add <code>-ldramsim</code> to the <code>TOOL_LIBS</code> variable. You will also need to add its path. So change the line:</p>\n\n<pre><code>TOOL_LIBS := -lpin -lxed\n</code></pre>\n\n<p>to</p>\n\n<pre><code>TOOL_LIBS := -lpin -lxed -L/path/to/dramsim/ -ldramsim\n</code></pre>\n\n<p><strong>UPDATE:</strong> Now that you have successfully built your library, you're almost there. You just need to make sure it is found by the dynamic linker at load time. In theory, this is done as follows from your shell prompt:</p>\n\n<pre><code>&gt; export LD_LIBRARY_PATH=/path/to/dramsim:${LD_LIBRARY_PATH}\n&gt; #command to invoke binary that uses your library allcache_v7.so\n</code></pre>\n\n<p>If this still gives you problems, check if the linker can resolve it:</p>\n\n<pre><code>&gt; ldd allcache_v7.so | grep dramsim\n</code></pre>\n\n<p>This should tell you whether the linker can resolve libdramsin.so or not. Try it before and after the <code>export ...</code> command - see if the output changes from something like \"Not found\" to the true path of the library.</p>\n"}], "owner": {"reputation": 339, "user_id": 1969182, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f71e180f082958166aa4a83d093e3bf9?s=128&d=identicon&r=PG", "display_name": "Orion Papadakis", "link": "https://stackoverflow.com/users/1969182/orion-papadakis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1465487147, "creation_date": 1465401214, "last_edit_date": 1465487147, "question_id": 37707344, "link": "https://stackoverflow.com/questions/37707344/how-to-link-dramsim2-library-interface-with-a-pintool", "title": "how to link dramsim2 library interface with a PINtool", "body": "<p>I want to use DRAMSim2 as library interface in a developing PINtool.</p>\n\n<p>I try to be familiar with dramsim_test.cpp that includes dramsim_test.h, that includes DRAMSim.h (in a specific directory).</p>\n\n<p>If i put these files in the directory of my PINtool an include them (except .cpp. for this i use the code in the PINtool) i get a linker (i suppose) error:</p>\n\n<pre><code>undefined symbol: _ZN7DRAMSim23getMemorySystemInstanceERKSsS1_S1_S1_jPSs\n</code></pre>\n\n<p>The PINtool has a config file that writes these:</p>\n\n<pre><code>## Libraries to link\nifeq ($(TARGET_OS),mac)\n    APP_LIBS := -lm\nelse\n    APP_LIBS := -Wl,--as-needed -lm\nendif\nDL_LIB :=\nAPP_LIB_ATOMIC := -latomic\nAPP_LIB_XED := -lxed\nTOOL_LIBS := -lpin -lxed\nSATOOL_LIBS := -lsapin -lxed\nCXX_LIBS :=\n</code></pre>\n\n<p>The makefile of dramsim example has this:</p>\n\n<pre><code>$(CXX) -g -o dramsim_test dramsim_test.cpp -I../ -L../ -ldramsim -Wl,-rpath=../\n</code></pre>\n\n<p>I suppose that i have to add somewhere in the pintool config file the -ldramism option but i dont know how.</p>\n\n<p>Im not familiar also with linker options, configuration files etc. How can i link them?</p>\n\n<p><strong>UPDATE:</strong> The problem solved. After changing the conf file by adding -ldramsim and didnt work, i tried to move the libdramsim.so into the folder of allcache_v7.cpp and is ok...</p>\n"}, {"tags": ["c++", "templates", "opencv", "inheritance"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465401887, "post_id": 37707179, "comment_id": 62889135, "body": "I think that you are over-complicating this, if your only goal is to know how to access OpenCV data... Any specific problem you want to solve?"}, {"owner": {"reputation": 7585, "user_id": 884412, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1ac6f71f76aaf92324224dfc30d4ee2e?s=128&d=identicon&r=PG", "display_name": "penelope", "link": "https://stackoverflow.com/users/884412/penelope"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465404064, "post_id": 37707179, "comment_id": 62890568, "body": "@Miki The images are various radar responses (height, intensity, and more). Some example functionalities: preprocessing (common part looping through the data; interpolation for any missing elements will depend on the type of image, height and intensity interpolated differently). Displaying the image (so a human can interpret it): all Images normalized to 0-255 and then, depending on the type of data, same are shown in linear scale, others in logarithmic (e.g. intensity images have very few high points). Then there will be some common parts, like the max from the example (just type diff)"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465404269, "post_id": 37707179, "comment_id": 62890695, "body": "I would do in a simpler way... Build a <code>RadarResponseHeight</code>, <code>RadarResponseIntensity</code> etc... classes as <code>struct RadarResponseXXX { Mat1f mat; ... }</code> or whatever type you know your data will be. Then you can decide how to display each image according to its semantic meaning, not merely the data type..."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465404351, "post_id": 37707179, "comment_id": 62890750, "body": "BTW, for the matter of this case (i.e. find the max element), you can just use <code>minMaxLoc</code> ;D"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465404433, "post_id": 37707179, "comment_id": 62890799, "body": "(I can&#39;t check now why the template stuff doesn&#39;t work... sorry ;D)"}, {"owner": {"reputation": 7585, "user_id": 884412, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1ac6f71f76aaf92324224dfc30d4ee2e?s=128&d=identicon&r=PG", "display_name": "penelope", "link": "https://stackoverflow.com/users/884412/penelope"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465405080, "post_id": 37707179, "comment_id": 62891181, "body": "@Miki Ty for the help, but I found this actually being a C++ error that is simply hard to search for. Answering it now..."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1465406824, "post_id": 37707179, "comment_id": 62892198, "body": "Glad you make it work. I&#39;m not sure this is the best approach... But, hey, if it&#39;s good for you ;D"}], "answers": [{"tags": [], "owner": {"reputation": 7585, "user_id": 884412, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1ac6f71f76aaf92324224dfc30d4ee2e?s=128&d=identicon&r=PG", "display_name": "penelope", "link": "https://stackoverflow.com/users/884412/penelope"}, "is_accepted": true, "score": 1, "last_activity_date": 1465405275, "last_edit_date": 1495542166, "creation_date": 1465405275, "answer_id": 37708660, "question_id": 37707179, "link": "https://stackoverflow.com/questions/37707179/opencv-templated-code-produces-compile-errors-inside-a-derived-class/37708660#37708660", "title": "OpenCV templated code produces compile errors inside a Derived class", "body": "<p>Uh, sorry everybody, seems like I just did not know how to search for the right problem.</p>\n\n<p>The explanation on a smaller example is provided in <a href=\"https://stackoverflow.com/questions/2105901/how-to-fix-expected-primary-expression-before-error-in-c-template-code\">this answer</a>. Apparently, I need to prefix the function calls by <code>template</code> and it works like a charm. So, the function in question should be re-written as:</p>\n\n<pre><code>template &lt;typename datatype&gt;\nvoid TypedProcessor&lt;datatype&gt;::printMaxElem(){\n    std::cerr &lt;&lt; (datatype)(*std::max_element(this-&gt;workingImage.template begin&lt;datatype&gt;(), this-&gt;workingImage.template end&lt;datatype&gt;())) &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 7585, "user_id": 884412, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1ac6f71f76aaf92324224dfc30d4ee2e?s=128&d=identicon&r=PG", "display_name": "penelope", "link": "https://stackoverflow.com/users/884412/penelope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 37708660, "answer_count": 1, "score": 1, "last_activity_date": 1465405275, "creation_date": 1465400677, "last_edit_date": 1465404500, "question_id": 37707179, "link": "https://stackoverflow.com/questions/37707179/opencv-templated-code-produces-compile-errors-inside-a-derived-class", "title": "OpenCV templated code produces compile errors inside a Derived class", "body": "<p>I am making an application that would process some images for me, using OpenCV. It should allow for processing different types of images (type specified by the user).</p>\n\n<p>Most processing is done is a same manner, and only depends on the type of data held in the <code>cv:Mat</code> (used in functions such as <code>cv::Mat.at&lt;type&gt;()</code> to reference the data correctly). For this, I built a Base class <code>ImageProcessor</code> which would contain the common implementation, virtual interfaces for functions which need to know the type, and a Factory Method. I further built a templated Derived <code>TypedProcessor&lt;datatype&gt;</code> class, such that I can implement the data-access methods.</p>\n\n<p>However, I am getting an odd compilation error whenever I use OpenCV templated access functions inside the Derived class. Here is the Minimal (non-)Working Example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n\nclass ImageProcessor{\n    public:\n        static ImageProcessor *NewProcessor(char option, std::string imgPath);\n        virtual ~ImageProcessor() {}\n        virtual void printMaxElem() = 0;\n    protected:\n        ImageProcessor(const std::string &amp;imgPath) : workingImagePath(imgPath) {\n            this-&gt;workingImage = cv::imread(imgPath.c_str(), CV_LOAD_IMAGE_ANYDEPTH);\n        }\n        cv::Mat workingImage;\n        std::string workingImagePath;\n};\n\n\ntemplate &lt;typename datatype&gt;\nclass TypedProcessor : public ImageProcessor{\n    public:\n        TypedProcessor(std::string imgPath) : ImageProcessor(imgPath) {}\n        virtual ~TypedProcessor() {}\n\n        void printMaxElem();\n        void preprocess();\n    private:\n        void calculateDisplayValue();\n};\n\ntemplate &lt;typename datatype&gt;\nvoid TypedProcessor&lt;datatype&gt;::printMaxElem(){\n    std::cerr &lt;&lt; (datatype)(*std::max_element(this-&gt;workingImage.begin&lt;datatype&gt;(), this-&gt;workingImage.end&lt;datatype&gt;())) &lt;&lt; std::endl;\n}\n\nImageProcessor* ImageProcessor::NewProcessor(char option, std::string imgPath){\n    ImageProcessor *processor = NULL;\n    switch (option){\n        case 'h': // input correctly as CV_32F\n            processor = new TypedProcessor&lt;float&gt;(imgPath);\n            // GOAL: AVOIDING THIS:\n            //std::cerr &lt;&lt; (float)(*std::max_element(processor-&gt;workingImage.begin&lt;float&gt;(), processor-&gt;workingImage.end&lt;float&gt;())) &lt;&lt; std::endl;\n            break;\n        case 'i': // input as CV_16U but should be interpreted as CV_16S\n            processor = new TypedProcessor&lt;short&gt;(imgPath);\n            processor-&gt;workingImage.flags = (processor-&gt;workingImage.flags &amp; ~CV_MAT_TYPE_MASK) | CV_16S;\n            // GOAL: AVOIDING THIS:\n            //std::cerr &lt;&lt; (short)(*std::max_element(processor-&gt;workingImage.begin&lt;short&gt;(), processor-&gt;workingImage.end&lt;short&gt;())) &lt;&lt; std::endl;\n            break;\n        default:\n            break;\n    }\n\n    processor-&gt;printMaxElem();\n\n    return processor;\n}\n\n\nint main(void){\n    ImageProcessor *myprocessor = ImageProcessor::NewProcessor('h', \"user/will/input/this\");\n    return 0;\n}\n</code></pre>\n\n<p>The errors I am getting are:</p>\n\n<pre><code>In member function \u2018void TypedProcessor&lt;datatype&gt;::printMaxElem()\u2019:\ntest.cpp:35:84: error: expected primary-expression before \u2018&gt;\u2019 token\n         std::cerr &lt;&lt; (datatype)(*std::max_element(this-&gt;workingImage.begin&lt;datatype&gt;(), this-&gt;workingImage.end&lt;datatype&gt;())) &lt;&lt; std::endl;\n                                                                                    ^\ntest.cpp:35:86: error: expected primary-expression before \u2018)\u2019 token\n     std::cerr &lt;&lt; (datatype)(*std::max_element(this-&gt;workingImage.begin&lt;datatype&gt;(), this-&gt;workingImage.end&lt;datatype&gt;())) &lt;&lt; std::endl;\n                                                                                  ^\n</code></pre>\n\n<p>I also get equivalent errors for <code>this-&gt;workingImage.end&lt;datatype&gt;()</code>. A very similar error shows up if I replace <code>datatype</code> with <code>short</code> (<em>not</em> the functionality I want; just for testing purposes). The variable <code>this-&gt;workingImage</code> is normally visible inside the function as expected (and I can use any variables I declare as <code>protected</code> inside <code>ImageProcessor</code>), and the function call passes normally if I change the body.</p>\n\n<p>The errors only arise when I am specifically using any templated access function from OpenCV (the <code>begin</code> and <code>end</code> from the example, <code>at</code>, etc...).</p>\n\n<p>Even more curious, if I uncomment the lines marked by <code>GOAL: AVOIDING THIS</code>, they compile and execute perfectly. However, this is not an option as the whole point of this structure is to avoid this and implement either data-type-dependant or data-type-specific functions through the use of the templated Derived class.</p>\n\n<p>Note: the functionalities as well as types of images supported in this example <em>are not final</em>. For now, there are only two types of images but this is likely to change in the future. Also, the processing functions will sometimes be the same (except the need to specify a different data type), sometimes they will have a common part and part dependent of the data/image type (e.g. preprocessing requires looping through all the elements, getting the min and max values (common), and then interpolating all the missing values (different approach for my <code>float</code> and <code>short</code> images)). Some functionalities will also be encapsulated directly in the Base class (if they do not require data specification, e.g. getting width/height of the image comes to mind).</p>\n\n<p>Does anybody know how to help with correcting the code or achieving the desired functionality?</p>\n"}, {"tags": ["c++", "class", "member", "void"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 5, "creation_date": 1465400720, "post_id": 37707135, "comment_id": 62888298, "body": "<code>100</code> member variables? are you kidding me? What happened to using arrays?"}, {"owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "reply_to_user": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 0, "creation_date": 1465401181, "post_id": 37707135, "comment_id": 62888644, "body": "My underlying program is much more complex, I tried to keep the example easy. It is a generic data-structure with different datatype, therefore no Arrays.... :-("}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465401213, "post_id": 37707135, "comment_id": 62888664, "body": "It is a very bad idea to try and access member variables through a pointer to the class.  There is a little thing called padding that will get in your way."}, {"owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465401229, "post_id": 37707135, "comment_id": 62888675, "body": "The question is basically if I can refence to a member variable by doing ( size_t(oneClassInstance)-size_t(&amp;oneClassMember) ). Will this work to find the classmember a later instance?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1465401321, "post_id": 37707135, "comment_id": 62888732, "body": "Sounds to me like there <i>has</i> to be better ways to solve whatever problem it is you are trying to solve with this."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465402244, "post_id": 37707135, "comment_id": 62889343, "body": "A few ideas - make DataContainer map&lt;string,string&gt; and treat the fields as name-value pairs.  Parse the data out of the strings later, or make it a map&lt;string, complex-field-type&gt;.  Or make Analysis a virtual base, with a separate class for each type of analysis, so that class knows how to read specific hard coded fields from DataContainer."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1465402865, "post_id": 37707135, "comment_id": 62889739, "body": "@Georg yes it will &quot;work&quot; that way, it is just ugly way to re-implement of what is already implemented through pointer to member. And if you really need it you should use <code>std::offsetof</code> instead of hacks with <code>reinterpret_cast</code>"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1465402930, "post_id": 37707135, "comment_id": 62889785, "body": "I don&#39;t get the high number of down votes on this question. It seems mostly OK to me."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465403120, "post_id": 37707135, "comment_id": 62889915, "body": "I think the downvotes are because the question introduces a broad problem, then asks specific details of a potentially bad approach, and it&#39;s hard to tell what the actual goal is. The key seems to be how do you select the parts to analyze? Are they specific to different types of analysis, or do we need to be able to pick arbitrary elements out of DataContainer for a nearly infinite set of analysis runs?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465401579, "post_id": 37707348, "comment_id": 62888920, "body": "hm.... I do not think so... Image after the &quot;choice&quot; the class-instance is deleted and then a new is passed to be analysed, the pointers will differ"}, {"owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465401770, "post_id": 37707348, "comment_id": 62889066, "body": "ok, great, that means for my case, that I can simply calculate ( size_t(originalClass) - size_t(&amp;selectedMember) + size_t(newClassInstance) ) in order to find the pointer to that member in the new class"}, {"owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465401803, "post_id": 37707348, "comment_id": 62889088, "body": "sorry vice-versa &quot;member-class+class&quot;"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465402097, "post_id": 37707348, "comment_id": 62889251, "body": "@Georg <code>the pointers will differ</code> The position of the member relative to the container object is always the same. <code>for my case, that I can simply calculate ...</code> No need to calculate anything. The compiler does the calculation for you when you use pointers-to-data-members. But your proposed calculation is rather strange. We aren&#39;t talking about several classes here, are we? Just different instances of the class <code>DataContainer</code>."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "edited": false, "score": 0, "creation_date": 1465402712, "post_id": 37707348, "comment_id": 62889639, "body": "@Georg you are wrong, you cannot use pointer to member without pointer to a class instance, so this will work fine of course."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465404634, "post_id": 37707348, "comment_id": 62890916, "body": "How do you get from void myChoice(void a, void b) { myVar1 = a; myVar2 = b } to pointers-to-data-members?  Georg has to be able to represent the selection before you can make a pointer to it."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465405322, "post_id": 37707348, "comment_id": 62891333, "body": "@KennyOstrom you replace the &quot;<code>void</code>&quot; arguments with pointers-to-data-members. Those pointers are what the caller uses to represent the selection."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465405518, "post_id": 37707348, "comment_id": 62891457, "body": "Okay, that works, but doesn&#39;t that mean they are all known at compile time. It seems easier to just use data.a27 (for example) in the code. You would probably have something like public SelectMethodA(), public SelectMethodB(), etc, and they all call a private myChoice with their specific pointers-to-data-members?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1465406120, "post_id": 37707348, "comment_id": 62891802, "body": "@KennyOstrom the selection doesn&#39;t have to be known at compile time. You can do for example: <code>int DataContainer::* myVar1 = run_time_expression() ? &amp;DataContainer::a1 : &amp;DataContainer::a2</code>. I don&#39;t quite understand what you suggest by the <code>SelectMethodA</code>, but whoever calls <code>myChoice</code> can pass a pointer of their choice, and that choice can be made at run time."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 1, "last_activity_date": 1465403040, "last_edit_date": 1465403040, "creation_date": 1465401219, "answer_id": 37707348, "question_id": 37707135, "link": "https://stackoverflow.com/questions/37707135/how-to-pass-a-membervariable-as-variable-itself/37707348#37707348", "title": "How to pass a membervariable as variable itself", "body": "<p>This is exactly what <a href=\"http://en.cppreference.com/w/cpp/language/pointer#Pointers_to_data_members\" rel=\"nofollow\">pointers-to-data-members</a> are for.</p>\n\n<pre><code>int    DataContainer::* myVar1 = &amp;DataContainer::a1;\ndouble DataContainer::* myVar2 = &amp;DataContainer::a100;\n</code></pre>\n\n<blockquote>\n  <p>I think the position in the memory of a class-member relatively to the class itself is fixed (is it?)</p>\n</blockquote>\n\n<p>It is indeed. The relative position does not change at run time. This is why pointers-to-data-members work. They can be implemented as a memory offset.</p>\n\n<p>PS. Considering how massive <code>DataContainer</code> is, I would not recommend passing it by value if you can avoid it.</p>\n\n<p>PPS. Consider grouping the member variables into sub-structures.</p>\n"}, {"tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1465404073, "creation_date": 1465404073, "answer_id": 37708289, "question_id": 37707135, "link": "https://stackoverflow.com/questions/37707135/how-to-pass-a-membervariable-as-variable-itself/37708289#37708289", "title": "How to pass a membervariable as variable itself", "body": "<p>If the purpose is to have a way to select specific fields in known ways, based on the type of analysis you are doing, then make Analyze virtual pure, and have specific types of analysis pick their fields directly. </p>\n\n<p>From the question, I get the idea that you want to perform the same underlying computation, but use different data points based on the myChoice. </p>\n\n<p>So the whole issue is how do you create the selection metadata? If there are a few specific, well documented ways to do it, then providing each in a subclass will be a very clear, concise and maintainable approach.</p>\n\n<pre><code>class Analysis {\npublic:\n    virtual void Analyze(const DataContainer &amp;data) = 0;\n    virtual ~Analysis();\nprotected:\n    void special_computation(int x, int y, double z);\n};\n\nclass SpecificKindOfAnalysis : public Analysis {\npublic:\n    void Analyze(const DataContainer &amp;data){\n        int x = data.a27;\n        int y = data.a12;\n        double z = data.a99;\n        special_computation(x,y,z);\n    }\n};\n</code></pre>\n\n<p>This actually looks pretty horrible with variable names like x = data.a27, but I assume we're trying to be general here, and the actual program has meaningful names.</p>\n"}], "owner": {"reputation": 9, "user_id": 6441182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4ae0b116f8b811ffea48ec8f6fcdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Georg", "link": "https://stackoverflow.com/users/6441182/georg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -6, "last_activity_date": 1465466861, "creation_date": 1465400548, "last_edit_date": 1465466861, "question_id": 37707135, "link": "https://stackoverflow.com/questions/37707135/how-to-pass-a-membervariable-as-variable-itself", "title": "How to pass a membervariable as variable itself", "body": "<p>Imagine you have a class with 100 or more member variables:</p>\n\n<pre><code>class DataContainer { int a1; int a2; ... double a100; };\n</code></pre>\n\n<p>and another class which accesses and analysis parts of the variables in the first class:</p>\n\n<pre><code>class Analysis {\n  protected:  \n  DataContainer *myData;\n  void myVar1, myVar2;\n\n  public:\n  Analysis() {...}\n  void myChoice(void a, void b) { myVar1 = a; myVar2 = b }\n  void Analyse(DataContainer data) { \n    myData = data; \n    /* do something with myVar1 and myVar2 */\n  }\n};\n</code></pre>\n\n<p>but before analysing you have to choose which parameters to use. I would like to know how to write a call for this myChoice-function which is not simply passing the content of a variable, but the choice of the membervariable itself.</p>\n\n<p>In order to ask more generally: I think the position in the memory of a class-member relatively to the class itself is fixed (is it?) Independet if it is a new instance of that class or not. So how can I tell the combiler \"Please use the membervariable a3 always\". Instead of the content of a3.</p>\n"}, {"tags": ["c++", "c++11", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1465402619, "post_id": 37707511, "comment_id": 62889575, "body": "IIRC C++11 was still technically &quot;experimental&quot; in gcc 4.8 anyways: <a href=\"https://gcc.gnu.org/gcc-4.8/cxx0x_status.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/gcc-4.8/cxx0x_status.html</a>"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 3, "last_activity_date": 1465401691, "creation_date": 1465401691, "answer_id": 37707511, "question_id": 37707129, "link": "https://stackoverflow.com/questions/37707129/is-gcc-4-8-2-correct-in-invoking-the-copy-constructor-in-this-defaulted-default/37707511#37707511", "title": "Is gcc 4.8.2 correct in invoking the copy constructor in this defaulted default constructor?", "body": "<p>This is definitely a gcc bug, and one that they've fixed by 4.9. At no point is your code invoking the copy constructor of <code>ValueParameter&lt;T&gt;</code> - so that member function should not be instantiated. Using a default member initializer for <code>atomic&lt;T&gt;</code> is fine - it is, indeed, constructible from a <code>T</code>.</p>\n\n<blockquote>\n  <p>Furthermore, what behavior should I expect in this case, where the member is initialized both inline to the class and within a constructor initializer list?</p>\n</blockquote>\n\n<p>Default member initializers are just that - defaults. If you provided an initializer in the mem-initializer-list (as you do in the <code>ValueParameter(T )</code> constructor), then the default is ignored. If you do not provide such an initializer (as you don't in <code>ValueParameter()</code>), then the default is used. </p>\n\n<blockquote>\n  <p>I would like the default constructor to initialize val to <code>T()</code>, so I think I need the brace initializer there.</p>\n</blockquote>\n\n<p>Your code should do precisely what you want it to do. gcc 4.8 just has a bug here. </p>\n"}], "owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 37707511, "answer_count": 1, "score": 2, "last_activity_date": 1465401691, "creation_date": 1465400534, "last_edit_date": 1465401474, "question_id": 37707129, "link": "https://stackoverflow.com/questions/37707129/is-gcc-4-8-2-correct-in-invoking-the-copy-constructor-in-this-defaulted-default", "title": "Is gcc 4.8.2 correct in invoking the copy constructor in this defaulted default constructor?", "body": "<p>Here's a simple, self-contained, non-compilable-on-gcc-4.8.2 example of what I'm trying to accomplish:</p>\n\n<pre><code>#include &lt;atomic&gt;\n\ntemplate &lt;typename T&gt;\nclass ValueParameter\n{\npublic:\n    ValueParameter() = default;\n\n    ValueParameter(T initialValue) :\n        _val(initialValue)\n    {\n    }\n\nprivate:\n    std::atomic&lt;T&gt; _val{T()};\n};\n\nValueParameter&lt;int&gt; x;\n</code></pre>\n\n<p>I've compiled this successfully on several other gcc versions, including 5.3, but gcc 4.8.2 fails with the following error:</p>\n\n<pre><code>/tmp/gcc-explorer-compiler11658-82-1cqz6ui/example.cpp: In constructor 'ValueParameter&lt;T&gt;::ValueParameter() [with T = int]':\n7 : error: use of deleted function 'std::atomic&lt;int&gt;::atomic(const std::atomic&lt;int&gt;&amp;)'\nValueParameter() = default;\n^\nIn file included from /tmp/gcc-explorer-compiler11658-82-1cqz6ui/example.cpp:1:0:\n</code></pre>\n\n<p><a href=\"https://godbolt.org/g/EOOvSB\" rel=\"nofollow\">You can see the results online here</a>.</p>\n\n<p>I understand that <code>std::atomic&lt;T&gt;</code> is non-copyable, but it doesn't make any sense to me why the compiler would be trying to use the copy constructor within the default constructor. I did discover that changing the line:</p>\n\n<pre><code>    std::atomic&lt;T&gt; _val{T()};\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    std::atomic&lt;T&gt; _val;\n</code></pre>\n\n<p>makes the file compile successfully. The uniform initialization was a relic from a previous version of the class that didn't have the constructor taking an initial value. </p>\n\n<p>Should this be an error? Furthermore, what behavior <em>should</em> I expect in this case, where the member is initialized both inline to the class and within a constructor initializer list? I would like the default constructor to initialize <code>val</code> to <code>T()</code>, so I think I need the brace initializer there.</p>\n"}, {"tags": ["c++", "inheritance", "abstract-class", "virtual-functions"], "comments": [{"owner": {"reputation": 695, "user_id": 3911459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpRO3.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/3911459/tyler"}, "edited": false, "score": 3, "creation_date": 1465400637, "post_id": 37707084, "comment_id": 62888243, "body": "The signatures on your virtual functions need to match the signatures on your implementations."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1465400753, "post_id": 37707084, "comment_id": 62888320, "body": "<code>bool range ();</code> and <code>bool range (int richtung);</code> are not the same function. You probably thought you are overriding <code>Vektor::range</code> in <code>Einheitsvektor::range</code>, but C++ does not. If you mean to override a function use the <code>override</code> keyword."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4271060, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4c0b45db4ce03255d84b5da000baafb6?s=128&d=identicon&r=PG&f=1", "display_name": "kellerprogger", "link": "https://stackoverflow.com/users/4271060/kellerprogger"}, "edited": false, "score": 0, "creation_date": 1465559505, "post_id": 37709452, "comment_id": 62964657, "body": "I ve also tried to   <code>class Absolutvektor: public Vektor { public: \tAbsolutvektor(int x, int y); \tint x; \tint y; \tvirtual ~Absolutvektor();  \tvirtual bool Vektor::range (int x, int y); };</code> because the error says that I have to inheritaed the methode Vektor::blabla"}], "tags": [], "owner": {"reputation": 1843, "user_id": 3185860, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/23e2427bb6481f77d8fb17f990e33ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Toma Radu-Petrescu", "link": "https://stackoverflow.com/users/3185860/toma-radu-petrescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1465408357, "last_edit_date": 1465408357, "creation_date": 1465408043, "answer_id": 37709452, "question_id": 37707084, "link": "https://stackoverflow.com/questions/37707084/must-implement-the-inherited-pure-virtual-method-of-motherclass/37709452#37709452", "title": "must implement the inherited pure virtual method of motherclass", "body": "<p>In <code>Einheitsvektor</code> you need to declare the method <code>range</code> as it is in the mother class ( <code>Vektor</code> ). So it should look like this: <code>bool range(){ ... }</code>, not like <code>bool range (int richtung)</code>. If you want it to have a parameter, you must either declare one more method which accepts a paramter in your base class, or modify the current one so it has a parameter like this: <code>virtual bool range(int richtung) const = 0;</code>. You will have to do the same for <code>virtual bool range (int x, int y);</code> (in this case the only option is to declare the second range method, with two parameter, so you will have a range method which accepts one paramater and one which accepts 2) .</p>\n\n<pre><code>class Vektor {\npublic:\n    Vektor();\n    virtual bool range(int richtung) = 0 ;\n    virtual bool range (int x, int y) = 0;\n    virtual ~Vektor();\n};\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4271060, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4c0b45db4ce03255d84b5da000baafb6?s=128&d=identicon&r=PG&f=1", "display_name": "kellerprogger", "link": "https://stackoverflow.com/users/4271060/kellerprogger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1934, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465408357, "creation_date": 1465400423, "question_id": 37707084, "link": "https://stackoverflow.com/questions/37707084/must-implement-the-inherited-pure-virtual-method-of-motherclass", "title": "must implement the inherited pure virtual method of motherclass", "body": "<p>following problem:\nI got a abstract motherclass, two subclasses and a class, which uses functions of the sub classes.</p>\n\n<p><strong>motherclass:</strong></p>\n\n<p>Vektor.h</p>\n\n<pre><code>class Vektor {\npublic:\n    Vektor();\n    virtual bool range() const = 0;\n    virtual ~Vektor();\n};\n</code></pre>\n\n<p>subclasses:</p>\n\n<p>Absolutvektor.h</p>\n\n<pre><code>class Absolutvektor: public Vektor {\npublic:\n    Absolutvektor(int x, int y);\n    int x;\n    int y;\n    virtual ~Absolutvektor();\n    virtual bool range (int x, int y);\n};\n</code></pre>\n\n<p>Einheitsvektor.h</p>\n\n<pre><code>class Einheitsvektor : public Vektor {\npublic:\n    Einheitsvektor(int x, int y, int richtung);\n    int x;\n    int y;\n    int richtung;\n    virtual ~Einheitsvektor();\n\n    virtual bool Einheitsvektor::range (int richtung);\n\n};\n</code></pre>\n\n<p><strong>\"normal class\":</strong> schiff.h</p>\n\n<pre><code>#pragma once\n#include &lt;Einheitsvektor.h&gt;\n#include &lt;Absolutvektor.h&gt;\n\nclass Schiff {\n    public:\n        Schiff(int schiffId, int schiffLaenge, Absolutvektor absolutvektor, Einheitsvektor einheitsvektor, bool segmentestati[]);\n        int schiffId;\n        int schiffLaenge;\n        Absolutvektor absolutvektor;\n        Einheitsvektor einheitsvektor;\n        bool segmentestati[] = false;\n        // c++ vektor\n};\n</code></pre>\n\n<p>Schiff.cpp:</p>\n\n<pre><code>#include \"Schiff.h\"\n\nSchiff::Schiff(int schiffId, int schiffLaenge, Absolutvektor absolutvektor, Einheitsvektor einheitsvektor, bool segmentestati[]){\n    this -&gt; schiffId = schiffId;\n    this -&gt; schiffLaenge = schiffLaenge;\n}\n</code></pre>\n\n<p>Soo now I am getting following Error in the Schiff Files:</p>\n\n<blockquote>\n  <p>The type 'Einheitsvektor' must implement the inherited pure virtual\n  method 'Vektor::range'</p>\n</blockquote>\n\n<p>The error appears six times, twice in the Schiff.cpp and four times in Schiff.h</p>\n\n<p>I don't know why to implement the function for \"Vektor\" because this is a abstract class, and I have two different use cases for the function range.</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 2, "creation_date": 1465400202, "post_id": 37706996, "comment_id": 62887896, "body": "Because it is the definition of pointers substraction?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1465400237, "post_id": 37706996, "comment_id": 62887930, "body": "Because type system."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465400276, "post_id": 37706996, "comment_id": 62887954, "body": "Isn&#39;t <code>arr[1]</code> 1 away from <code>arr[0]</code>(<code>arr</code>)?"}, {"owner": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "reply_to_user": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1465400805, "post_id": 37706996, "comment_id": 62888353, "body": "@MikeCAT Then how can I get the result as 4 in any manner?"}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1465401231, "post_id": 37706996, "comment_id": 62888676, "body": "By multiplying by 4?"}, {"owner": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "reply_to_user": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1465401418, "post_id": 37706996, "comment_id": 62888796, "body": "@MikeCAT I mean if I do this : cout&lt;&lt;0x7fff4003e0d4 -0x7fff4003e0d0; assuming that there is no any array declaration, then why it is yielding 4 but here it is 1?"}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1465401622, "post_id": 37706996, "comment_id": 62888947, "body": "Because <code>0x7fff4003e0d4 -0x7fff4003e0d0</code> is just a normal integer aritimetic, not pointer aritimetic."}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "edited": false, "score": 0, "creation_date": 1465401025, "post_id": 37707139, "comment_id": 62888536, "body": "How can I get the result as 4 in any manner?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "edited": false, "score": 0, "creation_date": 1465401413, "post_id": 37707139, "comment_id": 62888791, "body": "&quot;cast the two pointers to <code>char*</code> for the subtraction&quot;?"}, {"owner": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "edited": false, "score": 0, "creation_date": 1465401457, "post_id": 37707139, "comment_id": 62888828, "body": "I mean if I do this : cout&lt;&lt;0x7fff4003e0d4 -0x7fff4003e0d0; assuming that there is no any array declaration, then why it is yielding 4 but here it is 1?"}], "tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": true, "score": 0, "last_activity_date": 1465400569, "creation_date": 1465400569, "answer_id": 37707139, "question_id": 37706996, "link": "https://stackoverflow.com/questions/37706996/why-pointers-substraction-results-in-number-of-elements-in-between/37707139#37707139", "title": "Why pointers substraction results in number of elements in between?", "body": "<p>If it didn't to that you'd just end up dividing the difference by <code>sizeof(whatever)</code> all the time. The number of elements is far more useful than the raw difference. When you need the latter, cast the two pointers to <code>char*</code> for the subtraction.</p>\n"}], "owner": {"reputation": 112, "user_id": 6441007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cd03f4a796974f084ee4de50c961316?s=128&d=identicon&r=PG&f=1", "display_name": "dlpsankhla", "link": "https://stackoverflow.com/users/6441007/dlpsankhla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1465400472, "accepted_answer_id": 37707139, "answer_count": 1, "score": 0, "last_activity_date": 1465400569, "creation_date": 1465400182, "question_id": 37706996, "link": "https://stackoverflow.com/questions/37706996/why-pointers-substraction-results-in-number-of-elements-in-between", "closed_reason": "Duplicate", "title": "Why pointers substraction results in number of elements in between?", "body": "<p>Consider the code:</p>\n\n<pre><code>int arr[20]{};\nint * ptr1=arr, * ptr2=&amp;arr[1];\nstd::cout&lt;&lt;ptr1&lt;&lt;std::endl&lt;&lt;ptr2&lt;&lt;std::endl&lt;&lt;ptr2-ptr1;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0x7fff4003e0d0\n0x7fff4003e0d4\n1\n</code></pre>\n\n<p>Why it isn't 4 instead?</p>\n"}, {"tags": ["c++", "opencv", "camera-calibration", "pose-estimation"], "answers": [{"comments": [{"owner": {"reputation": 1449, "user_id": 871990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2WYTa.png?s=128&g=1", "display_name": "rob3c", "link": "https://stackoverflow.com/users/871990/rob3c"}, "edited": false, "score": 0, "creation_date": 1485801652, "post_id": 39246469, "comment_id": 71066461, "body": "There&#39;s a chance that the calibration was fine, and that you were effectively undistorting the image twice (see my answer for the explanation)."}], "tags": [], "owner": {"reputation": 193, "user_id": 5012298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e098c147d171edf312fa786effd4d394?s=128&d=identicon&r=PG&f=1", "display_name": "Jose L", "link": "https://stackoverflow.com/users/5012298/jose-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1472637547, "creation_date": 1472637547, "answer_id": 39246469, "question_id": 37706914, "link": "https://stackoverflow.com/questions/37706914/image-points-pixels-to-real-world-coordinates-meters/39246469#39246469", "title": "Image points (pixels) to real world coordinates (meters)", "body": "<p>Finally I have found out that the error was caused by the distortion coefficients, i.e. my calibration. I set the cameraMatrix to the Identity matrix (eye(3)) and the distCoefficients to NULL so that solvePNP assumed I have a perfect camera. Using this approach I obtained an error much lower. I will have to make a better calibration. </p>\n"}, {"tags": [], "owner": {"reputation": 1449, "user_id": 871990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2WYTa.png?s=128&g=1", "display_name": "rob3c", "link": "https://stackoverflow.com/users/871990/rob3c"}, "is_accepted": false, "score": 1, "last_activity_date": 1485801558, "creation_date": 1485801558, "answer_id": 41943134, "question_id": 37706914, "link": "https://stackoverflow.com/questions/37706914/image-points-pixels-to-real-world-coordinates-meters/41943134#41943134", "title": "Image points (pixels) to real world coordinates (meters)", "body": "<p>It looks like you may be effectively undistorting your image twice from <code>solvePNP</code>'s perspective. This is due to passing in the distortion coefficients along with point correspondences that are already derived from an undistorted image.</p>\n\n<p>Try passing the actual camera matrix from your calibration to <code>solvePNP</code> instead of an identity matrix, but still pass NULL for the distortion coefficients to avoid the double-undistortion.</p>\n"}], "owner": {"reputation": 193, "user_id": 5012298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e098c147d171edf312fa786effd4d394?s=128&d=identicon&r=PG&f=1", "display_name": "Jose L", "link": "https://stackoverflow.com/users/5012298/jose-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1606, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1485801558, "creation_date": 1465399953, "last_edit_date": 1495542308, "question_id": 37706914, "link": "https://stackoverflow.com/questions/37706914/image-points-pixels-to-real-world-coordinates-meters", "title": "Image points (pixels) to real world coordinates (meters)", "body": "<p>I have a fish-eye camera in the ceiling and I want to locate some points on the floor. I have put the origin of my reference system (real world) just below the camera and I want to know the position of every object in centimeters. This picture shows this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P0uJq.jpg\" rel=\"nofollow noreferrer\">Reference system - Real world</a></p>\n\n<p>Firstly, I have done the camera calibration and I have obtained the next result with an RMS of 1.11:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wKnkd.jpg\" rel=\"nofollow noreferrer\">Undistorted image after calibration</a></p>\n\n<p>As a result of the calibration I obtained intrinsic parameters (camera matrix), so I used cv::solvePnP to get rotation and translation vectors. For apply this I marked some points in the undistorted image (in pixels) and I measured them in real world according to my reference system.</p>\n\n<p>For example, the origin is in the center of a 1024x768 image, so:</p>\n\n<ul>\n<li>Point 0: ImagePoint(512, 384) [pixels] --> ObjectPoint(0,0) [centimeters]</li>\n</ul>\n\n<p>The next code shows this:</p>\n\n<pre><code>std::vector&lt;cv::Point2f&gt; imagePointsPix;\nstd::vector&lt;cv::Point3f&gt; objectPointsCm;\nimagePointsPix.push_back(cv::Point2f(512.,384.));\nimagePointsPix.push_back(cv::Point2f(404.,512.));    \nimagePointsPix.push_back(cv::Point2f(666.,211.));\nimagePointsPix.push_back(cv::Point2f(519.,66.));\n\nobjectPointsCm.push_back(cv::Point3f(0., 0., 0.));\nobjectPointsCm.push_back(cv::Point3f(-80.,-132.,0.));\nobjectPointsCm.push_back(cv::Point3f(120.,188.,0.));\nobjectPointsCm.push_back(cv::Point3f(-40.,268.,0.));\n\ncv::Mat rvec(1,3,cv::DataType&lt;double&gt;::type);\ncv::Mat tvec(1,3,cv::DataType&lt;double&gt;::type);\ncv::Mat rotationMatrix(3,3,cv::DataType&lt;double&gt;::type);\n\ncv::solvePnP(objectPointsCm, imagePointsPix, cameraMatrix, distCoeffs, rvec, tvec, 0, SOLVEPNP_ITERATIVE);\ncv::Rodrigues(rvec,rotationMatrix);\n</code></pre>\n\n<p>Now I have the camera matrix, the rotation matrix and the traslation vector, so by using <a href=\"https://stackoverflow.com/questions/12299870/computing-x-y-coordinate-3d-from-image-point?rq=1\">this</a> as reference I am able to compute any point if I have its position in pixels. This is the code:</p>\n\n<pre><code>cv::Mat uvPoint = cv::Mat::ones(3,1,cv::DataType&lt;double&gt;::type); //u,v,1\nuvPoint.at&lt;double&gt;(0,0) = 512.; //img point for which we want its real coordinates\nuvPoint.at&lt;double&gt;(1,0) = 384.;\ncv::Mat tempMat, tempMat2;\ndouble s;\ntempMat = rotationMatrix.inv() * cameraMatrix.inv() * uvPoint;\ntempMat2 = rotationMatrix.inv() * tvec;\ns = 0 + tempMat2.at&lt;double&gt;(2,0); //before 0 it was 285, which represents the height Zconst\ns /= tempMat.at&lt;double&gt;(2,0);\nstd::cout &lt;&lt; \"P = \" &lt;&lt; rotationMatrix.inv() * (s * cameraMatrix.inv() * uvPoint - tvec) &lt;&lt; std::endl;\n</code></pre>\n\n<p>I get this results for the <strong>same points</strong> I used for obtaining my parameters:</p>\n\n<ul>\n<li>Point 0 --> (0.213, 3.391) (it should be (0,0)) <strong>ERROR</strong>: 3.69 cm</li>\n<li>Point 1 --> (-68.28, -112.82) (it should be (-80, -132)) <strong>ERROR</strong>: 17.49 cm</li>\n<li>Point 2 --> (84.48, 137.61) (it should be (120, 188)) <strong>ERROR</strong>: 49.62 cm</li>\n</ul>\n\n<p>The rest of points also show an error too big... I have used more points but the results do not improve. I don't know where I went wrong, could anyone help me?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1465400050, "post_id": 37706873, "comment_id": 62887768, "body": "It is the syntax for a <a href=\"http://en.cppreference.com/w/cpp/language/pointer\" rel=\"nofollow noreferrer\">pointer to a data member</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1465400168, "post_id": 37706873, "comment_id": 62887869, "body": "@CoryKramer Thanks.  I wasn&#39;t 100% sure if I should use it or not."}, {"owner": {"reputation": 7582, "user_id": 1608816, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/808f852fc552d0791ef2de213cc59f45?s=128&d=identicon&r=PG&f=1", "display_name": "tobspr", "link": "https://stackoverflow.com/users/1608816/tobspr"}, "edited": false, "score": 0, "creation_date": 1465400316, "post_id": 37706873, "comment_id": 62887987, "body": "What does it mean without a member name though?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1465400404, "post_id": 37706873, "comment_id": 62888060, "body": "@tobspr The same thing.  It is a function declaration parameter so it does not have to have a name."}], "owner": {"reputation": 7582, "user_id": 1608816, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/808f852fc552d0791ef2de213cc59f45?s=128&d=identicon&r=PG&f=1", "display_name": "tobspr", "link": "https://stackoverflow.com/users/1608816/tobspr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "closed_date": 1465400073, "answer_count": 0, "score": 2, "last_activity_date": 1465399845, "creation_date": 1465399845, "question_id": 37706873, "link": "https://stackoverflow.com/questions/37706873/what-does-class-do", "closed_reason": "Duplicate", "title": "What does Class::* do?", "body": "<p>I've seen some examples for implementing <code>is_class</code> recently, and I'm wondering what the following syntax does:</p>\n\n<pre><code>Classname::*\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass is_class {\n    typedef char yes[1];\n    typedef char no [2];\n    template&lt;typename C&gt; static yes&amp; test(int C::*); // selected if C is a class type\n    template&lt;typename C&gt; static no&amp;  test(...);      // selected otherwise\n  public:\n    static bool const value = sizeof(test&lt;T&gt;(0)) == sizeof(yes);\n}\n</code></pre>\n\n<p>What does the syntax <code>C::*</code> denote in this case? Does it just require C to have any members / be a namespace? I was unable to find any information about this.</p>\n"}, {"tags": ["c++", "inheritance", "c++14"], "answers": [{"comments": [{"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1465473459, "post_id": 37709753, "comment_id": 62921802, "body": "Thank you for your answer and the UB you pointed out in my scheme. I updated my question (and my scheme) to get rid of the UB. The &quot;manual inheritance scheme&quot; you proposed as an alternative solution looks great though a bit tricky to implement and use; I will look deeper into it though; thanks a lot."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1465408991, "creation_date": 1465408991, "answer_id": 37709753, "question_id": 37706858, "link": "https://stackoverflow.com/questions/37706858/partial-construction-destruction-of-an-object-of-a-child-class-in-hierarchy/37709753#37709753", "title": "Partial construction &amp; destruction of an object of a child class in hierarchy", "body": "<p>What you are doing is undefined behavior.</p>\n\n<p>To have a well formed program, you can only destroy an object by its proper type.  After it is destroyed, you can only access its storage as an uninitialized buffer.  When recreated, there are no guarantees asto the state of your variables, and definitely no guarantee that they share the state they had before.</p>\n\n<p>If you need such behavior, you can implement a manual inheritance scheme, such as what C programmers use when they want a OO-heiarchy.</p>\n\n<p>This permits state data to be stored independently of the OO-identity of the data, and lets you change the OO-identity of an object on the fly.</p>\n\n<p>Here is a toy example:</p>\n\n<pre><code>struct Base_vtable {\n  void(*display)(Base const*);\n};\nstruct Base {\n  static init_vtable(Base_vtable* vtable) {\n    vtable-&gt;display = display_raw;\n  }\n  static Base_vtable make_vtable() {\n    Base_vtable vtable;\n    init_vtable(&amp;vtable);\n    return vtable;\n  }\n  static Base_vtable const* get_vtable() {\n    static const auto vtable = make_vtable();\n    return &amp;vtable;\n  }\n  Base_vtable const* vtable_data = nullptr;\n  Base_vtable const* vtable() const { return vtable_data; }\n  std::array&lt;char, 1000*1000&gt; big_buffer;\n  std::string name;\n  static void display_raw(Base const* self) {\n    std::cout &lt;&lt; self-&gt;name;\n  }\n  void display() {\n    vtable()-&gt;display(this);\n  }\n  static void ctor(Base* self) {\n    self-&gt;vtable_data = get_vtable();\n  }\n  static void dtor(Base* self) {\n  }\n};\nstruct Derived_vtable:Base_vtable {\n  int(*sum)(Derived const*);\n};\n\nstruct Derived:Base {\n  Derived_vtable const* vtable() {\n    return static_cast&lt;Derived_vtable const*&gt;(vtable_data);\n  }\n  static void init_vtable(Derived_vtable* vtable) {\n    vtable-&gt;print = display_raw;\n    vtable-&gt;sum = sum_raw;\n  }\n  static Derived_vtable make_vtable() {\n    Derived_vtable d;\n    init_vtable(&amp;d);\n    return d;\n  }\n  static Derived_vtable const* get_vtable() {\n    static const Derived_vtable vtable = make_vtable();\n    return &amp;vtable;\n  }\n  static int sum_raw(Derived const* self) {\n    int r = 0;\n    for (auto&amp;&amp; c:big_buffer)\n      r+=c;\n    return r;\n  }\n  static void display_raw(Derived const* self) {\n    std::cout &lt;&lt; \"Derived: \";\n    Base::display_raw(self);\n  }\n  int sum() const {\n    return vtable()-&gt;sum(this);\n  }\n  static void ctor(Derived* self) {\n    Base::ctor(self);\n    self-&gt;vtable_data = get_vtable();\n  }\n  static void dtor(Derived* self) {\n    Base::dtor(self);\n  }\n};\n</code></pre>\n\n<p>This is very similar to what C++ does <em>for you</em> when you want to use the default C++ OO system.  Except now we have fine-grained control, where we can change what our various ctors do.</p>\n\n<p>I can divorce my state from my virtual type, allowing <code>Derived</code> to have multiple different vtables, and have its behavior change when I want it to.  The transition between such states can do whatever I want it to do.</p>\n\n<p>The problem with your solution is that the compiler is permitted to use the state of the destroyed object for any purpose it chooses -- it could use it as space to swap registers.  It could presume that the object stored in a destroyed structure are dangling pointers, prove that a pointer is either null or points to that storage, determine that we will dereference it if not null and that the behavior if dereferenced is UB, and then correctly optimize your code to <em>know</em> the pointer <em>must</em> be null and not check it, eliminating the dead code branch.</p>\n\n<p>Once you delve into undefined behavior, you are forced to maintain your code against every iteration of the compiler in the future that could break your code by doing things perfectly legal under the standard.  This is a really heavy load to carry unless you are writing throw-away code.</p>\n"}, {"tags": [], "owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "is_accepted": false, "score": 1, "last_activity_date": 1465544315, "last_edit_date": 1592644375, "creation_date": 1465544315, "answer_id": 37742564, "question_id": 37706858, "link": "https://stackoverflow.com/questions/37706858/partial-construction-destruction-of-an-object-of-a-child-class-in-hierarchy/37742564#37742564", "title": "Partial construction &amp; destruction of an object of a child class in hierarchy", "body": "<p>After an exhaustive read of the standard, I can answer the 1st part of my own question.</p>\n<p>As mentioned by Yakk, the 1st scheme I proposed (original question) was UB, because calling the destructor of an object ends its lifetime, unless the destructor is trivial. \u00a73.8/1 of the standard states that :</p>\n<blockquote>\n<p>The lifetime of an object of type <code>T</code> ends when:</p>\n<p>\u2014 if <code>T</code> is a class type with a non-trivial destructor (12.4), the destructor call starts, or</p>\n<p>\u2014 the storage which the object occupies is reused or released.</p>\n</blockquote>\n<p>In the updated scheme I proposed (EDIT1), the destructor of the object is not called at all, and the object is overwritten by a new one instead. I though this would get rid of the UB, however the same \u00a73.8/1 of the standard clearly states that lifetime of an object ends when its destructor is called <strong>or if the storage it occupies is reused</strong>, that is exactly what is done in overwrite. (In concrete terms, this makes use of the <strong>child</strong> pointer UB.)</p>\n<p>Then, the updated scheme I proposed is as UB as the 1st scheme.</p>\n<p>Regarding the 2nd part of my question, Yakk provided a valid solution.</p>\n"}], "owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 37709753, "answer_count": 2, "score": 0, "last_activity_date": 1465544315, "creation_date": 1465399801, "last_edit_date": 1465473189, "question_id": 37706858, "link": "https://stackoverflow.com/questions/37706858/partial-construction-destruction-of-an-object-of-a-child-class-in-hierarchy", "title": "Partial construction &amp; destruction of an object of a child class in hierarchy", "body": "<p><strong>EDIT1: Question edited in order to fix the UB pointed out in Yakk's answer (which is a valid answer regarding the original question).</strong></p>\n\n<p>Consider the following code:</p>\n\n<pre><code>class C\n{\nprotected:\n    C(bool) : c(0)  { s = new char[10]; /* init C members... */ }\n    void cleanup()  { delete[s]; /* cleanup C members... */ }   //EDIT1\n    C()             { /* do nothing, keep C members unchanged */ }\n    // EDIT1: removed dtor: ~C()    { /* do nothing, keep C members unchanged */ }\n    // EDIT1: implicitly defined default (trivial) dtor\n    int   c;\n    char* s;\n};\n\nclass Child1 : public C\n{\npublic:\n    Child1(bool) : C(true)  { }\n    void cleanup()          { C::cleanup(); }   //EDIT1\n    Child1()                { c ++; }\n    // EDIT1: removed dtor: ~Child1()   { }\n    // EDIT1: implicitly defined default (trivial) dtor\n};\n\nclass Child2 : public C\n{\npublic:\n    Child2()                { c --; }\n    void cleanup()          { C::cleanup(); }   //EDIT1\n    // EDIT1: removed dtor: ~Child2()   { }\n    // EDIT1: implicitly defined default (trivial) dtor\n};\n\nint main()\n{\n    char storage[sizeof(Child1)];           // (0) storage for any C child instance\n    C* child = new(&amp;storage) Child1(true);  // (1) create in-place Child1 instance and initialize C members\n    //EDIT1: removed: static_cast&lt;Child1*&gt;(child)-&gt;~Child1(); // (2) destroy Child1 instance, keeping C members unchanged\n    child = new(&amp;storage) Child2;           // (3) create in-place Child2 instance, keeping C members unchanged, overwritting Child1 members\n    //EDIT1: removed: static_cast&lt;Child2*&gt;(child)-&gt;~Child2(); // (4) destroy Child2 instance, keeping C members unchanged\n    child = new(&amp;storage) Child1(true); // (5) create in-place Child1 instance, keeping C members unchanged, overwritting Child2 members\n    //EDIT1: removed: static_cast&lt;Child1*&gt;(child)-&gt;~Child1(); // (6) destroy Child1 instance, keeping C members unchanged\n    child-&gt;cleanup();                       // (7) cleanup Child1 &amp; C members [EDIT1]\n    return 0;\n}\n</code></pre>\n\n<ul>\n<li>At line (1), a <code>Child1</code> instance is 'in-place' created using the non-default ctor <code>Child1(bool)</code>. This leads to initialization of parent class <code>C</code> members through the non-default ctor <code>C(bool)</code>.</li>\n<li><del>At line (2), the <code>Child1</code> instance is destroyed. This will call the dtor of parent class <code>C</code>, which is voluntarily implemented empty in order to keep <code>C</code> members unchanged.</del> [EDIT1]</li>\n<li>At line (3), a <code>Child2</code> instance is 'in-place' created using the default ctor of <code>Child2</code>. This <strong>overwrites the Child1 instance</strong>[EDIT1] and call the default-ctor of parent class <code>C</code>, which is voluntarily implemented empty in order to keep <code>C</code> members unchanged.</li>\n</ul>\n\n<p>At this step, the <code>Child2</code> instance had been able to access the parent class <code>C</code> protected members, kept unaltered <del>although the <code>Child1</code> instance has been destroyed</del> in the overwrite operation performed at line (3). [EDIT1]</p>\n\n<p>The pattern described above allows me to achieve my main objectives: create <del>and destroy</del>[EDIT1] instances of any child of class <code>C</code>, keeping the <code>C</code> members unchanged. Moreover, using a non-default ctor, I have a way to initialize the <code>C</code> members (such as at line (1)).</p>\n\n<p>However, this pattern has several drawbacks:</p>\n\n<ul>\n<li><del>class <code>C</code> members cannot be const or reference, and must have trivial default ctor and dtor. (The same rule applies for any sub-member.)</del></li>\n<li><del>a cleanup destructor cannot be easily implemented (it could be in the same way as the initialization non-default ctor <code>C(bool)</code>, if C++ supported non-default dtor, but sadly C++ does not.</del></li>\n<li>class <code>C</code> members cannot be const or reference. [EDIT1]</li>\n<li>class <code>C</code>, parent of class <code>C</code>, and class <code>C</code> members must have an explicitly defined default ctor implemented empty (i.e. trivial-like) [EDIT1]</li>\n<li>class <code>C</code> must have a trivial dtor. [EDIT1]</li>\n</ul>\n\n<p><strong>My questions</strong>:</p>\n\n<ul>\n<li>is the pattern described above Defined Behavior ?[EDIT1]</li>\n<li>is there any other way to achieve the same objectives (<del>[in-place]</del>[EDIT1] create <del>and destroy</del>[EDIT1] children classes instances of a parent class <code>C</code>, keeping  the parent class <code>C</code> members unchanged) without the drawbacks <del>(especially the 1st one)</del>[EDIT1] listed above ?</li>\n</ul>\n\n<p><del>Ideally, if I had a way to prevent the parent class <code>C</code> ctor and dtor from being called during the child construction/destruction process, this would be perfect.</del>[EDIT1]</p>\n\n<p>Note1: in the real application, the <code>C</code> class may be quite big and the construction<del>/destruction</del>[EDIT1] of <code>C</code> children have to occur intensively; the in-place construction is intended to optimize performance in such operations.</p>\n\n<p>Note2[EDIT1]: the trivial dtor in class <code>C</code> and children is required to prevent from Undefined Behavior in case of mistaken call of the destructor; as per \u00a73.8/1 of the C++ standard, lifetime of an object with trivial dtor does not end when destructor is called.</p>\n"}, {"tags": ["c++", "c++11", "c++14", "c++03", "c++98"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1465399068, "post_id": 37706549, "comment_id": 62886983, "body": "safe or not, simply why?!"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1465399131, "post_id": 37706549, "comment_id": 62887027, "body": "@David Haim Why what? Why do I want to use <code>std::cout</code> in such objects?"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1465399150, "post_id": 37706549, "comment_id": 62887042, "body": "inside the constructor.."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1465399283, "post_id": 37706549, "comment_id": 62887161, "body": "@DavidHaim, never heard of priniting out inside the constructor???"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1465399381, "post_id": 37706549, "comment_id": 62887224, "body": "in an object with static storage duration? nope."}, {"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 2, "creation_date": 1465399739, "post_id": 37706549, "comment_id": 62887510, "body": "@DavidHaim As a poor man&#39;s startup loging system, or just a debugging facility, why not? Also, actually &quot;why&quot; is just another question, and has nothing to do with &quot;is it safe to&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1465399651, "post_id": 37706791, "comment_id": 62887435, "body": "And what about C++98 / C++03?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1465399950, "post_id": 37706791, "comment_id": 62887681, "body": "So it has the same behavior in all C++ standards and I&#39;m perfectly safe to use <code>std::cout</code> in such objects, right?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 3, "creation_date": 1465400871, "post_id": 37706791, "comment_id": 62888408, "body": "There&#39;s a chain of DRs, starting from <a href=\"http://wg21.link/LWG369\" rel=\"nofollow noreferrer\">LWG 369</a>, and ending at <a href=\"http://wg21.link/LWG1123\" rel=\"nofollow noreferrer\">LWG1123</a> that changed this between C++98 and C++11. While this might be fine in practice, claiming that the standard text in C++98 and C++03 supports this is misleading at best."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 5, "creation_date": 1465401015, "post_id": 37706791, "comment_id": 62888526, "body": "And the code claimed to be forbidden by this paragraph (assuming that you actually meant to put <code>cout</code> in <code>std</code>) is in fact already forbidden by the rule that you can&#39;t add declarations to <code>std</code> unless otherwise specified."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1465424794, "post_id": 37706791, "comment_id": 62901500, "body": "@T.C. As if that ever stopped anybody."}], "tags": [], "owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "is_accepted": true, "score": 2, "last_activity_date": 1465399857, "last_edit_date": 1465399857, "creation_date": 1465399607, "answer_id": 37706791, "question_id": 37706549, "link": "https://stackoverflow.com/questions/37706549/stdcout-usage-in-constructors-of-objects-with-static-storage-duration/37706791#37706791", "title": "std::cout usage in constructors of objects with static storage duration", "body": "<p>From C++14 (N3797), \u00a727.4p2:</p>\n\n<blockquote>\n  <p>The objects are constructed and the associations are established at some time prior to or during the first\n  time an object of class ios_base::Init is constructed, and in any case before the body of main begins exe-\n  cution.295 The objects are not destroyed during program execution.296 The results of including \n  in a translation unit shall be as if  defined an instance of ios_base::Init with static storage\n  duration. Similarly, the entire program shall behave as if there were at least one instance of ios_base::Init\n  with static storage duration.</p>\n</blockquote>\n\n<p>C++98 uses similar terminology, but without the \"as if\" clause.</p>\n\n<p>Basically, what this <em>forbids</em> is using the following before <code>main</code>:</p>\n\n<pre><code>#include &lt;ostream&gt;\nextern std::ostream cout;\n</code></pre>\n"}], "owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 37706791, "answer_count": 1, "score": 4, "last_activity_date": 1465399857, "creation_date": 1465398942, "last_edit_date": 1495540353, "question_id": 37706549, "link": "https://stackoverflow.com/questions/37706549/stdcout-usage-in-constructors-of-objects-with-static-storage-duration", "title": "std::cout usage in constructors of objects with static storage duration", "body": "<p>Is it safe to use <code>std::cout</code> in constructors of objects with statc storage duration in C++98 / C++03?</p>\n\n<p>It seems from this <a href=\"https://stackoverflow.com/a/8785008/1608835\">answer</a> that it isn't but it doesn't include any quotes from the standard.</p>\n\n<p>Is it only safe to do that in C++11 and C++14?</p>\n"}, {"tags": ["c++", "constants"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 8, "creation_date": 1465399041, "post_id": 37706540, "comment_id": 62886963, "body": "<code>a = 3</code> is not a lie because <code>a</code> is non-const. <code>const_cast&lt;int&amp;&gt;(b) = 3;</code> would be a lie."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 8, "creation_date": 1465399048, "post_id": 37706540, "comment_id": 62886968, "body": "<code>b</code> didnt promise that the value wont change. What is enforced is that you cannot change the value by using the <code>const</code> reference directly. I think it is an interesting question, but your example is definitely not the best"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1465399089, "post_id": 37706540, "comment_id": 62886999, "body": "but isn&#39;t this example bogus as you&#39;re making <code>b</code> const not <code>a</code> if you did <code>b=3</code> then it would fail to compile"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1465399189, "post_id": 37706540, "comment_id": 62887089, "body": "btw it would be rather strange if a non-const <code>int</code> would not be allowed to change its value, just because you made a <code>const</code> reference to it. This is like assuming people are not allowed to grow, just because the height given in their passport does not change. well not the best analogy but close enough ;)"}, {"owner": {"reputation": 587, "user_id": 4980452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d11ed79140701ab6a2c034a5dfbde220?s=128&d=identicon&r=PG&f=1", "display_name": "Existent", "link": "https://stackoverflow.com/users/4980452/existent"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1465399468, "post_id": 37706540, "comment_id": 62887287, "body": "@tobi303 It was quite good analogy. I know my example is not the best, maybe not even good. The point is that value of <code>b</code> <b>did change</b>. This made the assumption <code>b</code> shall not change invalid. I know I abused a loophole in a bad way. This indeed caused a subtle bug"}, {"owner": {"reputation": 9693, "user_id": 1058319, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/87b4e4d0c43e349fad30838e605e5c10?s=128&d=identicon&r=PG", "display_name": "Adel Boutros", "link": "https://stackoverflow.com/users/1058319/adel-boutros"}, "edited": false, "score": 0, "creation_date": 1465399548, "post_id": 37706540, "comment_id": 62887361, "body": "What is the purpose of this question actually ? If for discussion, then this is the wrong place"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1465461535, "post_id": 37706540, "comment_id": 62913926, "body": "<code>b</code> is not <code>const</code>! It&#39;s a read-only reference."}, {"owner": {"reputation": 587, "user_id": 4980452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d11ed79140701ab6a2c034a5dfbde220?s=128&d=identicon&r=PG&f=1", "display_name": "Existent", "link": "https://stackoverflow.com/users/4980452/existent"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1465465035, "post_id": 37706540, "comment_id": 62916139, "body": "@tuple_cat it does follow the limitation of <code>const</code> that you cannot change it using direct reference. Try for example - <code>b = 0;</code>"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1465470491, "post_id": 37706540, "comment_id": 62919728, "body": "Yes. That&#39;s what read-only means."}], "answers": [{"tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": false, "score": 9, "last_activity_date": 1465400420, "last_edit_date": 1465400420, "creation_date": 1465399346, "answer_id": 37706694, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37706694#37706694", "title": "Ways to change const value in c++", "body": "<pre><code>const int&amp; b = a; // I only promise I will not change the value via b, nothing more.\n</code></pre>\n\n<p><code>const</code> doesn't guarantee the value won't be changed by other references or pointers. Think of the following code:</p>\n\n<pre><code>void f(const int&amp; b) { ... }\n...\nint a = ...;\nf(a);\na = ...;\n</code></pre>\n\n<p>The value of <code>a</code> won't be changed inside <code>f()</code> (by the passed argument), that's all the guarantee.</p>\n\n<p><code>const</code> is just a helper. If you won't change sth, then make it <code>const</code>, then compiler will help you to check it. You still could change the original value in other ways like your code showed, it's still your responsibility, finally.</p>\n"}, {"tags": [], "owner": {"reputation": 3680, "user_id": 4134099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yHvdj.png?s=128&g=1", "display_name": "BattleTested_\u0437\u0430\u043a\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 \u0431\u043e\u044e", "link": "https://stackoverflow.com/users/4134099/battletested-%d0%b7%d0%b0%d0%ba%d0%b0%d0%bb%d1%91%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b2-%d0%b1%d0%be%d1%8e"}, "is_accepted": false, "score": 1, "last_activity_date": 1465400230, "last_edit_date": 1465400230, "creation_date": 1465399387, "answer_id": 37706710, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37706710#37706710", "title": "Ways to change const value in c++", "body": "<p>you must first use of a <code>const</code> <code>variable</code> as a <code>pointer</code> then use of <code>const_cast&lt;data-type&gt;()</code> statement, like bellow :</p>\n\n<p>using namespace std;</p>\n\n<pre><code>int main()\n{\n\n    const int *i = new int(0);\n    int *n = const_cast&lt;int*&gt;(i);\n\n    *n = 10;\n    cout &lt;&lt; *n &lt;&lt; endl &lt;&lt; *i &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>output will be :</p>\n\n<pre><code>10\n10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 1, "last_activity_date": 1465399391, "creation_date": 1465399391, "answer_id": 37706714, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37706714#37706714", "title": "Ways to change const value in c++", "body": "<p>It is impossible to alter const values without causing undefined behavior.</p>\n\n<p>The compiler doesn't try to figure out the difference for you between const and non-const values.  It relies on you, the programmer, to inform it through the type system.  <em>Names</em> are const or non-const and the compiler enforces constness on the <em>name</em>, not the value.</p>\n\n<p>There are times when it seems that you can modify a const value, such as when that value has a reference to some other value and modifies THAT.  First intuition says these cases should not behave this way, but once you really understand and consider const-correctness you find that it's quite consistent.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3419980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc16917eb2d2a9ce812a3c49249ea30?s=128&d=identicon&r=PG&f=1", "display_name": "dkr", "link": "https://stackoverflow.com/users/3419980/dkr"}, "is_accepted": false, "score": 2, "last_activity_date": 1465399405, "creation_date": 1465399405, "answer_id": 37706717, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37706717#37706717", "title": "Ways to change const value in c++", "body": "<p>Yes, const_cast can be used to remove effect of 'const' keyword (but not always). For example:</p>\n\n<pre><code>    int a= 1;\n    const int&amp; b = a;\n    a = 3;\n    std::cout&lt;&lt;b&lt;&lt;std::endl;\n    const_cast&lt;int&amp;&gt;(b) = 4;\n    std::cout&lt;&lt;b&lt;&lt;std::endl;\n</code></pre>\n\n<p>Reference: <a href=\"http://en.cppreference.com/w/cpp/language/const_cast\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/const_cast</a></p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5578741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc4cddf89783a3a56cbd310fa97b125?s=128&d=identicon&r=PG&f=1", "display_name": "subh", "link": "https://stackoverflow.com/users/5578741/subh"}, "is_accepted": false, "score": 2, "last_activity_date": 1465400396, "creation_date": 1465400396, "answer_id": 37707073, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37707073#37707073", "title": "Ways to change const value in c++", "body": "<pre><code> int a=1;\n   const int *b=&amp;a;\n    a=3;\n   cout&lt;&lt;(*b);\n   return 0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52, "user_id": 6427267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1faa35d7d05cc2bcf98c83c35e6e756?s=128&d=identicon&r=PG", "display_name": "user6427267", "link": "https://stackoverflow.com/users/6427267/user6427267"}, "is_accepted": false, "score": 1, "last_activity_date": 1483164102, "last_edit_date": 1483164102, "creation_date": 1465560073, "answer_id": 37747767, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c/37747767#37747767", "title": "Ways to change const value in c++", "body": "<pre><code>int k = 0;\nconst int *l = &amp;k;\ncout&lt;&lt;*l; // 0\nk=1;\ncout&lt;&lt;*l; // 1\n</code></pre>\n\n<p>Here I declare only one variable as <code>constant</code> i.e. <code>l</code>. So the variable <code>l</code> can't be changed anymore. And I assign <code>l</code> to the address of <code>k</code>;</p>\n\n<p>But now I can change the value of <code>k</code> anywhere, and that will reflect in <code>l</code> because they share the same memory.</p>\n"}], "owner": {"reputation": 587, "user_id": 4980452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d11ed79140701ab6a2c034a5dfbde220?s=128&d=identicon&r=PG&f=1", "display_name": "Existent", "link": "https://stackoverflow.com/users/4980452/existent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4731, "favorite_count": 0, "answer_count": 6, "score": 7, "last_activity_date": 1483164102, "creation_date": 1465398913, "question_id": 37706540, "link": "https://stackoverflow.com/questions/37706540/ways-to-change-const-value-in-c", "title": "Ways to change const value in c++", "body": "<p><code>const value</code> is often used in programming. It gives programmer security that the value will not change in future. Unfortunately, this is not fully enforced. As a consequence it sometimes causes subtle bugs that are very hard to decipher. As an example :</p>\n\n<pre><code>int a = 1;\nconst int&amp; b = a; // I promise I will not change\na = 3; // I am a liar, I am now 3\ncout &lt;&lt; b; // As I will now show 3\n</code></pre>\n\n<p>It is possible to change <code>const</code> values in other ways also; some of them are quite complex and require good amount of code which often gets lost in other segment of code and hence causing bug.</p>\n\n<p>Thus would anyone elaborate upon the possible ways to change a <code>const value</code>? Don't worry if you don't know all, many wouldn't (including myself). Just tell all of the ways you know - after all you can only give what you have!</p>\n"}, {"tags": ["android", "python", "c++", "protocol-buffers", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 2808, "user_id": 5708323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iN_dtRnmo9Y/AAAAAAAAAAI/AAAAAAAAABE/VlOtp_yX8RI/photo.jpg?sz=128", "display_name": "Pete Warden", "link": "https://stackoverflow.com/users/5708323/pete-warden"}, "is_accepted": false, "score": 1, "last_activity_date": 1465597339, "creation_date": 1465597339, "answer_id": 37757925, "question_id": 37706476, "link": "https://stackoverflow.com/questions/37706476/android-app-crashes-after-loading-trained-tensorflow-protobuf-model/37757925#37757925", "title": "Android app crashes after loading trained tensorflow protobuf model", "body": "<p>Unfortunately you're hitting a limitation of the mobile build target for TensorFlow. By default, we only include the operations that are typically needed for inference, which doesn't include FIFOQueue.</p>\n\n<p>Assuming that you don't actually need to run that op during your inference pass on mobile, you can look at using the strip_unused.py script and passing in the input and output op names. That will remove everything except the ops that are directly required to produce the output starting at the given input nodes, and so should strip FIFOQueue and other training ops.</p>\n"}], "owner": {"reputation": 11, "user_id": 6441061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b4ba709a21f2e78800c98247a458294?s=128&d=identicon&r=PG&f=1", "display_name": "N Ruiz", "link": "https://stackoverflow.com/users/6441061/n-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465597339, "creation_date": 1465398766, "last_edit_date": 1465418138, "question_id": 37706476, "link": "https://stackoverflow.com/questions/37706476/android-app-crashes-after-loading-trained-tensorflow-protobuf-model", "title": "Android app crashes after loading trained tensorflow protobuf model", "body": "<p>I am trying to load a model that I trained myself on the tensorflow android app. I trained the model in Caffe and then converted it to Tensorflow, but I am sure that this is not the problem because I tested it using classify.py and it works. </p>\n\n<p>I then serialize the model and put it in a .pb, I replace the tensorflow_inception_graph.pb with mine (and name it the same). I can build the app using bazel but when I install it on the phone and run it, it crashes instantly. I think the culprit is the following error:</p>\n\n<pre><code>F/native  (26026): tensorflow_jni.cc:309 Error during inference: Invalid argument: No OpKernel was registered to support Op 'FIFOQueue' with these attrs\nF/native  (26026):   [[Node: processed_queue = FIFOQueue[capacity=1, component_types=[DT_INT32, DT_FLOAT], container=\"\", shapes=[[], [224,224,3]], shared_name=\"\"]()]]\n</code></pre>\n\n<p>But I don't really know how to fix it.</p>\n\n<p>Also the apk has the entire protobuf inside.</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["c++", "arrays", "string"], "comments": [{"owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465398676, "post_id": 37706418, "comment_id": 62886669, "body": "sorry the title was supposed to be , Array will be given value and size during run time"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1465398707, "post_id": 37706418, "comment_id": 62886693, "body": "What you really want is a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code></a>"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1465398919, "post_id": 37706418, "comment_id": 62886867, "body": "@MohamedKhaled You can <a href=\"http://stackoverflow.com/posts/37706418/edit\">edit</a> your question to make any necessary changes (e.g., Fix the title)"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465402253, "post_id": 37706491, "comment_id": 62889353, "body": "it`s ok but i need , the array . now iam stucked here                                                char text[x] = txt; , it gives , error; array must be initialized with  a brace-enclosed initializer"}, {"owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "reply_to_user": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465402633, "post_id": 37706491, "comment_id": 62889584, "body": "For simple questions like this please &quot;google&quot; it <a href=\"http://stackoverflow.com/questions/13294067/how-to-convert-string-to-char-array-in-c\" title=\"how to convert string to char array in c\">stackoverflow.com/questions/13294067/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "is_accepted": true, "score": 2, "last_activity_date": 1465398800, "creation_date": 1465398800, "answer_id": 37706491, "question_id": 37706418, "link": "https://stackoverflow.com/questions/37706418/array-will-be-given-value-and-size-during-run-time/37706491#37706491", "title": "Array will be given value and size during run time", "body": "<p>Better use the <code>string</code> type. Then you can call the method <code>size()</code> for that string.</p>\n\n<pre><code>string txt;\nint x;\ncout &lt;&lt; \"Enter the text\\n\";\ncin &gt;&gt;   txt;\nx = txt.size();\ncout &lt;&lt; x;\nreturn 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465401870, "post_id": 37706932, "comment_id": 62889128, "body": "can you write example"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465402101, "post_id": 37706932, "comment_id": 62889255, "body": "@MohamedKhaled For what actually?"}, {"owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "edited": false, "score": 0, "creation_date": 1465402425, "post_id": 37706932, "comment_id": 62889446, "body": "i mean , if you can write me the code line to solve the problem , i didnt get what you mean in the answer"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1465402517, "last_edit_date": 1465402517, "creation_date": 1465400006, "answer_id": 37706932, "question_id": 37706418, "link": "https://stackoverflow.com/questions/37706418/array-will-be-given-value-and-size-during-run-time/37706932#37706932", "title": "Array will be given value and size during run time", "body": "<pre><code>char text[] = txt;\n</code></pre>\n\n<p>is wrong.</p>\n\n<p>You can't cast a <code>std::string</code> type to a <code>char[]</code> array straight away.</p>\n\n<p>If you want to access the raw pointer to the <code>char[]</code> array maintained within the <code>std::string</code>, use the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/c_str\" rel=\"nofollow\"><code>std::string::c_str()</code></a> or <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/data\" rel=\"nofollow\"><code>std::string::data()</code></a> member functions.</p>\n\n<hr>\n\n<p>I actually don't get what kind of capers you're doing with <code>char[]</code>, but I'd rewrite your code simply like this:</p>\n\n<pre><code>string txt;\nint x;\ncout &lt;&lt; \"Enter the text\\n\";\ncin &gt;&gt;   txt;\n// char text[] = txt; &lt;&lt;&lt;&lt;&lt; remove\nx = txt.size(); // &lt;&lt;&lt;&lt;&lt;&lt; change\ncout &lt;&lt; x;\nreturn 0;\n</code></pre>\n\n<p>If there's further need for <code>[const] char*</code> types, you can use the functions as mentioned in the 1st part of my answer.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "is_accepted": false, "score": 0, "last_activity_date": 1465409374, "creation_date": 1465409374, "answer_id": 37709860, "question_id": 37706418, "link": "https://stackoverflow.com/questions/37706418/array-will-be-given-value-and-size-during-run-time/37709860#37709860", "title": "Array will be given value and size during run time", "body": "<p>ok , i`ve found it</p>\n\n<pre><code>string txt;\nint x;\ncout &lt;&lt; \"Enter the text\\n\";\ngetline  (cin,txt);\nx = txt.size();\n char text[x];\nstrcat(text,txt.c_str());\ncout &lt;&lt;\"string=\"&lt;&lt;txt&lt;&lt;endl;\nfor (i=0;i&lt;=x;i++){\n    cout &lt;&lt; \"text[\"&lt;&lt;i&lt;&lt;\"] : \"&lt;&lt;text[i]&lt;&lt;endl;\n}\nreturn 0;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4366391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e2358c2a1dc1f1ed694cde61a93abb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Khaled", "link": "https://stackoverflow.com/users/4366391/mohamed-khaled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 37706491, "answer_count": 3, "score": 0, "last_activity_date": 1465409374, "creation_date": 1465398617, "last_edit_date": 1465402358, "question_id": 37706418, "link": "https://stackoverflow.com/questions/37706418/array-will-be-given-value-and-size-during-run-time", "title": "Array will be given value and size during run time", "body": "<p>I am trying to make a program which declares an array(string) which will gain its size and value during the run time , user will input them.\nThis is a code , but it fails giving error: initializer failed to determine size of text.</p>\n\n<pre><code>string txt;\nint x;\ncout &lt;&lt; \"Enter the text\\n\";\ncin &gt;&gt;   txt;\nchar text[] = txt;\nx = sizeof(text[]);\ncout &lt;&lt; x;\nreturn 0;\n</code></pre>\n\n<p>This is another one, it gives error: storage size of text isn`t known.</p>\n\n<pre><code> char text[];\n int x;\ncout &lt;&lt; \"Enter the text\\n\";\ncin &gt;&gt;   text;\n x = sizeof(text[]);\ncout &lt;&lt; x;\n  return 0;\n</code></pre>\n"}, {"tags": ["c++", "class", "matrix"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1465398663, "post_id": 37706382, "comment_id": 62886661, "body": "<i>However, there is an error always showing at my printing function</i> Can you elaborate on that?"}, {"owner": {"reputation": 378, "user_id": 5589918, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/IghGz.jpg?s=128&g=1", "display_name": "Da Mike", "link": "https://stackoverflow.com/users/5589918/da-mike"}, "edited": false, "score": 2, "creation_date": 1465398860, "post_id": 37706382, "comment_id": 62886810, "body": "Shouldn&#39;t the temp matrix have <code>this-&gt;row</code> and <code>a.col</code> dimensions?"}, {"owner": {"reputation": 39, "user_id": 5533645, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-AmtXtpPeWws/AAAAAAAAAAI/AAAAAAAAAr0/bpmJnhXKeVY/photo.jpg?sz=128", "display_name": "Shi Yi Lee", "link": "https://stackoverflow.com/users/5533645/shi-yi-lee"}, "edited": false, "score": 0, "creation_date": 1465399241, "post_id": 37706382, "comment_id": 62887128, "body": "but if i didnt use any operator and it does work, what is the different between using an operator and not"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1465399568, "post_id": 37706382, "comment_id": 62887378, "body": "In your copy-constructor, the first set of loops is useless, since you will overwrite the data directly afterwards. Also, we still need to see the class definition as well as the constructor taking the rows and column arguments, and probably the <code>setUp</code> function too. Please try to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, <b>Complete</b>, and Verifiable Example</a> and show us."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5533645, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-AmtXtpPeWws/AAAAAAAAAAI/AAAAAAAAAr0/bpmJnhXKeVY/photo.jpg?sz=128", "display_name": "Shi Yi Lee", "link": "https://stackoverflow.com/users/5533645/shi-yi-lee"}, "edited": false, "score": 0, "creation_date": 1465399184, "post_id": 37706485, "comment_id": 62887085, "body": "i have a copy constructor function but it looks like doesnt help"}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 0, "last_activity_date": 1465398791, "creation_date": 1465398791, "answer_id": 37706485, "question_id": 37706382, "link": "https://stackoverflow.com/questions/37706382/matrix-multiplication-with-class-operator/37706485#37706485", "title": "Matrix multiplication with class operator", "body": "<p>Without seeing your <code>Matrix</code> constructor, or the class definition, it's hard to say for certain, but if you look at this expression</p>\n\n<pre><code>temp.data[i][j] + data[i][k] * a.data[k][j]\n</code></pre>\n\n<p>Depending on what <code>data</code> is, if you don't explicitly initialize the <code>data</code> member in the constructor when you create <code>temp</code> then its contents will not automatically be initialized, and the contents will be <em>indeterminate</em> and using it will lead to <em>undefined behavior</em>.</p>\n\n<p>Another possible source of problems might be the lack of a copy-constructor, or a faulty copy-constructor. This is a problem since you return <code>temp</code> by value which invokes the copy-constructor.</p>\n"}], "owner": {"reputation": 39, "user_id": 5533645, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-AmtXtpPeWws/AAAAAAAAAAI/AAAAAAAAAr0/bpmJnhXKeVY/photo.jpg?sz=128", "display_name": "Shi Yi Lee", "link": "https://stackoverflow.com/users/5533645/shi-yi-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 672, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465399884, "creation_date": 1465398513, "last_edit_date": 1465399884, "question_id": 37706382, "link": "https://stackoverflow.com/questions/37706382/matrix-multiplication-with-class-operator", "title": "Matrix multiplication with class operator", "body": "<p>i am working on multiplication of matrix\nit is something like</p>\n\n<pre><code>m5 = m2 * m3;\ncout &lt;&lt; \"m2 * m3 is : \" &lt;&lt; endl&lt;&lt; m5 &lt;&lt; endl;\n</code></pre>\n\n<p>and this is my code</p>\n\n<pre><code>const Matrix Matrix::operator*(const Matrix &amp;a)\n{\n   Matrix temp(a.row,a.col);\n   for (int i = 0; i&lt;row; i++)\n   {\n      for (int j = 0; j&lt;col; j++)\n      {\n        for (int k = 0; k&lt;a.row; k++)\n        {\n            temp.data[i][j] = temp.data[i][j] + data[i][k] * a.data[k][j];\n        }\n      }\n  }\n return temp;\n}\n</code></pre>\n\n<p>However, there is an error always showing at my printing function</p>\n\n<pre><code>ostream&amp; operator&lt;&lt;(ostream &amp;output, const Matrix &amp;a)\n{\n   for (int i = 0; i &lt; a.row; i++)\n   {\n      for (int j = 0; j &lt; a.col; j++)\n      {\n        output &lt;&lt; a.data[i][j] &lt;&lt; \"\\t\";\n      }\n    output &lt;&lt; \"\" &lt;&lt; endl;\n   }\n   return output;\n} \n</code></pre>\n\n<p>seems there has a problem on a.data[i][j] which i dont know what's the problem\nit works fine on addition.\nit is showing an error {data0x005fba90{0xfeeefeee{???}}\ncan anybody give any advice or suggestions or help on this situation\nthis is my copy constructor</p>\n\n<pre><code> Matrix::Matrix(const Matrix&amp;m2)\n{\n  row = m2.row;\n  col = m2.col;\n  setUp(row, col);\n  for (int i = 0; i&lt;row; i++)\n  {\n      for (int j = 0; j&lt;col; j++)\n      {\n          data[i][j] = 0;\n      }\n  }  \n  for (int i = 0; i &lt; row; i++)\n  {\n      for (int j = 0; j &lt; col; j++)\n      {\n        data[i][j] = m2.data[i][j];\n      }\n  }\n}\n</code></pre>\n\n<p>this is the set up and default</p>\n\n<pre><code>Matrix::Matrix()\n{\n row =0;\n col = 0;\n for (int i = 0; i&lt;row; i++)\n {\n    for (int j = 0; j&lt;col; j++)\n    {\n        data[i][j] = 0;\n    }\n }\n\n}\nMatrix::Matrix(int a, int b, double d[], int c)\n{\n row = a;\n col = b;\n setUp(row, col);\n int counter = 0;\n for (int i = 0; i &lt; row; i++)\n {\n    for (int j = 0; j &lt; col; j++)\n    {\n        data[i][j] = d[counter];\n        counter++;\n    }\n }\n }\n</code></pre>\n\n<p>and the set up</p>\n\n<pre><code> void Matrix::setUp(int a, int b)\n{\n row = a;\n col = b;\n data = new double*[row];\n for (int i = 0; i &lt; row; i++) data[i] = new double[col];\n }\n</code></pre>\n"}, {"tags": ["c++", "iterator", "random-access"], "answers": [{"comments": [{"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1465400051, "post_id": 37706473, "comment_id": 62887770, "body": "It worth mentionong that C++17 will add <code>ContiguousIterator</code> category."}, {"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 1, "creation_date": 1465401212, "post_id": 37706473, "comment_id": 62888663, "body": "<a href=\"https://isocpp.org/blog/2014/11/new-standard-library-papers-adopted-for-cpp17\" rel=\"nofollow noreferrer\">This is what I found</a>. Sadly, it only a concept which gives guarantees to certain containers, it didn&#39;t add corresponding tag, as it apparently broke code."}, {"owner": {"reputation": 4026, "user_id": 8414561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa61454588bc140dada53391e1eb3c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Null", "link": "https://stackoverflow.com/users/8414561/dev-null"}, "edited": false, "score": 0, "creation_date": 1536709309, "post_id": 37706473, "comment_id": 91519317, "body": "unfortunately, <code>ContiguousIterator</code> in C++17 has no practical use <a href=\"https://stackoverflow.com/a/52277825/8414561\">stackoverflow.com/a/52277825/8414561</a>"}], "tags": [], "owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "is_accepted": true, "score": 6, "last_activity_date": 1467153781, "last_edit_date": 1467153781, "creation_date": 1465398754, "answer_id": 37706473, "question_id": 37706380, "link": "https://stackoverflow.com/questions/37706380/does-randomaccessiterator-imply-that-the-data-is-continuous-in-memory/37706473#37706473", "title": "Does RandomAccessIterator imply that the data is continuous in memory?", "body": "<p>No, it is not a valid assumption. The standard library itself has a counterexample in <code>std::deque</code>:</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/container/deque\" rel=\"nofollow\">from cppreference</a>:</p>\n\n<blockquote>\n  <p>As opposed to <code>std::vector</code>, the elements of a deque are not stored contiguously: typical implementations use a sequence of individually allocated fixed-size arrays. </p>\n</blockquote>\n\n<p><code>std::deque</code>'s <code>iterator</code> is a RandomAccessIterator:</p>\n\n<p><a href=\"http://eel.is/c++draft/deque#deque.overview-1\" rel=\"nofollow\">[deque.overview]/1</a></p>\n\n<blockquote>\n  <p>A deque is a sequence container that, like a vector (<a href=\"http://eel.is/c++draft/vector\" rel=\"nofollow\">[vector]</a>), supports random access iterators.</p>\n</blockquote>\n\n<p>If you want a guarantee of contiguous memory, you don't need to wait long: the guarantee will be provided by the ContiguousIterator in C++17.<sup>1</sup></p>\n\n<hr>\n\n<p><sup>the ContiguousIterator concept was proposed in a sequence of documents ending in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4284.html\" rel=\"nofollow\">N4284</a>, and adopted in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/#mailing2014-07\" rel=\"nofollow\">November 2014</a></sup></p>\n"}], "owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 37706473, "answer_count": 1, "score": 4, "last_activity_date": 1467153781, "creation_date": 1465398508, "last_edit_date": 1465398934, "question_id": 37706380, "link": "https://stackoverflow.com/questions/37706380/does-randomaccessiterator-imply-that-the-data-is-continuous-in-memory", "title": "Does RandomAccessIterator imply that the data is continuous in memory?", "body": "<p>The other iterator types surely don't have the implication that they point to continuous data, but I'm wondering if I can treat RandomAccessIterators as if they point to a buffer of continuous data \u2013 i.e. they could be converted to pointers to data. </p>\n\n<p>Is this assumption correct? Can I always safely use <code>&amp;*it</code> and get a pointer not just to one element, but to a continuous buffer, if <code>it</code> is a RandomAccessIterator?</p>\n"}, {"tags": ["c++", "software-design"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465399780, "post_id": 37706341, "comment_id": 62887548, "body": "How does the bootloader know which games to run and in which order?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465399874, "post_id": 37706341, "comment_id": 62887624, "body": "Usually a bootloader initializes the the platform then executes an application (via function pointer).  The bootloader then disappears is not executed again."}, {"owner": {"reputation": 301, "user_id": 4940535, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Jvwwz.png?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4940535/benjamin"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465400000, "post_id": 37706341, "comment_id": 62887730, "body": "Well I would want the loader to look at a directory and display all the different games. The user would pick one he wants to play and once the selection is made the loader would start that game. Also when the game exits it would resume execution."}], "owner": {"reputation": 301, "user_id": 4940535, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Jvwwz.png?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4940535/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1465398428, "creation_date": 1465398428, "question_id": 37706341, "link": "https://stackoverflow.com/questions/37706341/advice-on-software-design-of-project", "title": "Advice on software design of project", "body": "<p>I plan to hook up a raspberry pi to a 64x64 led matrix, and writing a sort-of boot loader software written in c++. I would like the software to be plug-and-play with custom games I make. That is, I put all the compiled code for the games into a directory and the boot loader will recognize them and, using <code>fork()</code> and <code>execvp()</code> calls, run the selected games. I want there to be different states to the loader such as: <code>start_state</code>, <code>game_selection_state</code>, <code>preview_state</code>, <code>idle_state</code> to name a few. Each state would do their own thing and a transition from state to state based on input from a input device or idle time.</p>\n\n<p>Now I do not know the best way as far as the architecture to set this up. I am not even sure that a state machine is the best way to handle this. But so far, what I have come up with is I would have 2 threads.</p>\n\n<p>Thread 1:\nHandles all the functionality and sanity of the states. This would include starting, stopping, and data of each state. It would also include function calls to transition from state to state.</p>\n\n<p>Thread 2:\nParses input from the input Device (game controller) and makes sure a transition is valid. Then using a thread 1's function calls change the state accordingly. I planned on using a message queue to send any input that is not reserved for transitioning to the current state. (E.g A &amp; B signify transitioning, but Y is pressed and would be sent to current state) This way the state can do what ever it wants with these button presses.</p>\n\n<p>Now where this gets a little fuzzy is when the user picks a game a <code>fork()</code> call will be made inside a thread and I have read this can cause issues. If I did do it this way I would need a way to terminate or halt thread 2 until <code>execvp()</code> call ends.</p>\n\n<p>Now what I want to know is this a valid or best way of implementing something like this.</p>\n"}, {"tags": ["c++", "function", "dynamic-arrays"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1465398226, "post_id": 37706144, "comment_id": 62886314, "body": "To begin with, <code>binFreq</code> doesn&#39;t return anything, leading to <i>undefined behavior</i>. To continue, in the <code>main</code> function when you do <code>F[n] = ...</code> you are writing out of bounds of the allocated memory <i>again</i> leading to undefined behavior. Lastly, shouldn&#39;t the <code>binFreq</code> function return a pointer, i.e. <code>F</code>?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465398918, "post_id": 37706144, "comment_id": 62886866, "body": "Just use a <code>std::vector&lt;int&gt;</code> when programming seriously in c++."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1465399253, "post_id": 37706144, "comment_id": 62887136, "body": "Pick a language; C or C++. There&#39;s no &quot;C/C++&quot; language."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1465400963, "post_id": 37706144, "comment_id": 62888487, "body": "Change <code>F</code> type from <code>double *</code> to <code>std::vector&lt;double&gt;</code> as well. Or better <code>auto</code> for C++11 or later."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1465399505, "post_id": 37706324, "comment_id": 62887327, "body": "Returning a raw pointer to dynamically allocated memory  is a really bad idea and pretty straight way to disaster, though it was not my downvote"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1465400824, "post_id": 37706324, "comment_id": 62888371, "body": "Because it is extremely easy to ignore result of a function call which will lead to a memory leak in this case. So such function should at least return a smart pointer, but better <code>std::vector</code> or <code>std::array</code>."}], "tags": [], "owner": {"reputation": 378, "user_id": 5589918, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/IghGz.jpg?s=128&g=1", "display_name": "Da Mike", "link": "https://stackoverflow.com/users/5589918/da-mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1465398380, "creation_date": 1465398380, "answer_id": 37706324, "question_id": 37706144, "link": "https://stackoverflow.com/questions/37706144/retrieving-the-output-of-a-function-that-returns-an-array-in-c/37706324#37706324", "title": "Retrieving the output of a function that returns an array in C++", "body": "<p>You should create the array F inside your function (as you do), but then not delete it, rather return it.\n<code>return f;</code> instead of <code>delete [] f;</code></p>\n\n<p>Then in your main function, just declare F as <code>double* F</code> and use the assignement <code>F = binFreq(n);</code></p>\n\n<p>That way, you create the array inside of your function, and you return a pointer to it. Then from your main, you assign that pointer to F and you can then use your array.</p>\n\n<p>Don't forget to delete the array at the end of your main!</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4930340, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c33615fc785306a55670320dba6be37?s=128&d=identicon&r=PG&f=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/4930340/serge"}, "edited": false, "score": 0, "creation_date": 1465400611, "post_id": 37706638, "comment_id": 62888222, "body": "@R Sahu, I have modify code using vector as you suggested , but now I am getting a new error message :  error: cannot convert &#39;std::vector&lt;double&gt;&#39; to &#39;double*&#39; in assignment      F=binFreq(n);"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3, "user_id": 4930340, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c33615fc785306a55670320dba6be37?s=128&d=identicon&r=PG&f=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/4930340/serge"}, "edited": false, "score": 0, "creation_date": 1465400994, "post_id": 37706638, "comment_id": 62888512, "body": "@Serge, use <code>auto F = binFreq(n);</code>. Don&#39;t use <code>int* F</code>."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3, "user_id": 4930340, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c33615fc785306a55670320dba6be37?s=128&d=identicon&r=PG&f=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/4930340/serge"}, "edited": false, "score": 0, "creation_date": 1465401684, "post_id": 37706638, "comment_id": 62888994, "body": "@Serge, sure. Glad I was able to help."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1465401667, "last_edit_date": 1465401667, "creation_date": 1465399214, "answer_id": 37706638, "question_id": 37706144, "link": "https://stackoverflow.com/questions/37706144/retrieving-the-output-of-a-function-that-returns-an-array-in-c/37706638#37706638", "title": "Retrieving the output of a function that returns an array in C++", "body": "<p>It's better to avoid returning an array. Return a <code>std::vector</code> instead.\nIt is less error prone than using arrays. Also, dynamic memory management is taken care of for you.</p>\n\n<pre><code>std::vector&lt;double&gt; binFreq(int n)\n{\n   int j;\n   std::vector&lt;double&gt; f(n);\n\n   for ( j = 0 ; j &lt; n ; j++ ){\n\n      f[j] =(fmod(j+(floor(n/2)), n)-floor(n/2))/n;\n   }\n   return f;\n}\n</code></pre>\n\n<p>You'll need to modify <code>main</code> to reflect the return value of the function.</p>\n\n<pre><code>int main()\n{   \n   int n = 9;\n   auto F = binFreq(n);\n   for ( int i = 0 ; i &lt; n ; ++i )\n   { \n      std::cout &lt;&lt; \"F[\"&lt;&lt;i&lt;&lt;\"] =\"&lt;&lt;F[i] &lt;&lt;std::endl;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4929136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dbUvB.png?s=128&g=1", "display_name": "Irminsul", "link": "https://stackoverflow.com/users/4929136/irminsul"}, "is_accepted": false, "score": 0, "last_activity_date": 1466686562, "creation_date": 1466686562, "answer_id": 37992309, "question_id": 37706144, "link": "https://stackoverflow.com/questions/37706144/retrieving-the-output-of-a-function-that-returns-an-array-in-c/37992309#37992309", "title": "Retrieving the output of a function that returns an array in C++", "body": "<p>You can also give a reference to a vector: </p>\n\n<pre><code>void binFreq(std::vector&lt;double&gt; &amp;freq, int n)\n{\n    freq.resize(n,0.0) ;\n    for (int j = 0 ; j &lt; n ; j++ )\n    {\n        f[j] =(fmod(j+(floor(n/2)), n)-floor(n/2))/n;\n    }\n}\n\nint main()\n{\n    int n=9 ;\n    std::vector&lt;double&gt; F ;\n    binFreq(F,n) ;\n\n    return 0 ;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4930340, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c33615fc785306a55670320dba6be37?s=128&d=identicon&r=PG&f=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/4930340/serge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 37706638, "answer_count": 3, "score": -1, "last_activity_date": 1466686562, "creation_date": 1465397924, "last_edit_date": 1466685588, "question_id": 37706144, "link": "https://stackoverflow.com/questions/37706144/retrieving-the-output-of-a-function-that-returns-an-array-in-c", "title": "Retrieving the output of a function that returns an array in C++", "body": "<p>How can I retrieve the output of the following function so that I can use it.</p>\n\n<p>my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n    #include &lt;iomanip&gt;\n    #include &lt;complex&gt;\n    #include &lt;cmath&gt;\n    #include &lt;cstddef&gt;\n\n    double binFreq(int n)\n         {\n            int j;\n            double* f = new double[n];\n\n            for ( j = 0 ; j &lt; n ; j++ ){\n\n            f[j] =(fmod(j+(floor(n/2)), n)-floor(n/2))/n;\n            //std::cout &lt;&lt; \"f[\"&lt;&lt;j&lt;&lt;\"] =\"&lt;&lt;f[j] &lt;&lt;std::endl;\n            }\n            delete [] f;\n         }\n\n    int main()\n    {   \n\n        int n=9;\n        double* F=new double [n];\n        F[n]=binFreq(n);\n\n        for ( int i = 0 ; i &lt; n ; ++i ){ \n        std::cout &lt;&lt; \"F[\"&lt;&lt;i&lt;&lt;\"] =\"&lt;&lt;F[i] &lt;&lt;std::endl;\n        }\n\n\n    }\n</code></pre>\n\n<p>As you can see in the code above , I have tried but I am getting all zeros for each element:</p>\n\n<pre><code>Output:\n\nF[0] =0\nF[1] =0\nF[2] =0\nF[3] =0\nF[4] =0\nF[5] =0\nF[6] =0\nF[7] =0\nF[8] =0\n</code></pre>\n\n<p>Modified code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;cstddef&gt;\n#include &lt;vector&gt;\n\nstd::vector&lt;double&gt; binFreq(int n)\n{\n   int j;\n   std::vector&lt;double&gt; f(n);\n\n   for ( j = 0 ; j &lt; n ; j++ ){\n\n      f[j] =(fmod(j+(floor(n/2)), n)-floor(n/2))/n;\n   }\n   return f;\n}\n\nint main()\n{   \n\n    int n=9;\n    double* F;\n    F=binFreq(n);\n\n    for ( int i = 0 ; i &lt; n ; ++i ){ \n    std::cout &lt;&lt; \"F[\"&lt;&lt;i&lt;&lt;\"] =\"&lt;&lt;F[i] &lt;&lt;std::endl;\n    }\n\n}\n</code></pre>\n\n<p>I am getting new error\nmain.cpp: In function 'int main()':\nmain.cpp:23:16: error: cannot convert 'std::vector' to 'double*' in assignment\n     F=binFreq(n);</p>\n"}, {"tags": ["c++", "inheritance"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1465398337, "post_id": 37706127, "comment_id": 62886402, "body": "<a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">Find a good book</a> and read about <i>polymorphism</i>."}, {"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 0, "creation_date": 1465398364, "post_id": 37706127, "comment_id": 62886426, "body": "Perhaps answer to this question will help you. <a href=\"http://stackoverflow.com/questions/4548145/low-level-details-of-inheritance-and-polymorphism\" title=\"low level details of inheritance and polymorphism\">stackoverflow.com/questions/4548145/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6409912"}, "is_accepted": false, "score": 0, "last_activity_date": 1465398483, "creation_date": 1465398483, "answer_id": 37706368, "question_id": 37706127, "link": "https://stackoverflow.com/questions/37706127/in-c-public-heritance-base-class-call-derived-classs-private-virtual-fuction/37706368#37706368", "title": "In C++ public heritance Base Class call Derived class&#39;s private virtual fuction", "body": "<p>Even after you've written <code>Base* p = dynamic_cast&lt;Base*&gt;(d);</code>, <code>p</code> is still a pointer to an instance of <code>Derived</code>.</p>\n\n<p>So <code>p-&gt;print();</code> will call the function on the <code>Derived</code> class.</p>\n\n<p>That's how <em>polymorphism</em> works in C++.</p>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 3981203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fzSg5.jpg?s=128&g=1", "display_name": "cwfighter", "link": "https://stackoverflow.com/users/3981203/cwfighter"}, "edited": false, "score": 0, "creation_date": 1465399943, "post_id": 37706419, "comment_id": 62887673, "body": "Thanks, the <code>virtual</code> and <code>private</code> are not related. I see it well now."}], "tags": [], "owner": {"reputation": 3426, "user_id": 6337767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMhtl.jpg?s=128&g=1", "display_name": "kemis", "link": "https://stackoverflow.com/users/6337767/kemis"}, "is_accepted": true, "score": 0, "last_activity_date": 1465398617, "creation_date": 1465398617, "answer_id": 37706419, "question_id": 37706127, "link": "https://stackoverflow.com/questions/37706127/in-c-public-heritance-base-class-call-derived-classs-private-virtual-fuction/37706419#37706419", "title": "In C++ public heritance Base Class call Derived class&#39;s private virtual fuction", "body": "<p>Virtual will tell it to check what function to call. It still knows that it is a <code>Derived</code>. If you haven't put <code>virtual</code> this would not work. Read more about polymorphism.</p>\n"}, {"tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 1, "last_activity_date": 1465399161, "creation_date": 1465399161, "answer_id": 37706619, "question_id": 37706127, "link": "https://stackoverflow.com/questions/37706127/in-c-public-heritance-base-class-call-derived-classs-private-virtual-fuction/37706619#37706619", "title": "In C++ public heritance Base Class call Derived class&#39;s private virtual fuction", "body": "<p>In C++, access checks are done on the <em>static</em> (compile time) type of an expression, but virtual calls use the <em>dynamic</em> (run time) type. </p>\n\n<p>In your example, <code>*p</code> has static type <code>Base</code> and dynamic type <code>Derived</code>.</p>\n"}], "owner": {"reputation": 453, "user_id": 3981203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fzSg5.jpg?s=128&g=1", "display_name": "cwfighter", "link": "https://stackoverflow.com/users/3981203/cwfighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 37706419, "answer_count": 3, "score": 0, "last_activity_date": 1465399161, "creation_date": 1465397872, "question_id": 37706127, "link": "https://stackoverflow.com/questions/37706127/in-c-public-heritance-base-class-call-derived-classs-private-virtual-fuction", "title": "In C++ public heritance Base Class call Derived class&#39;s private virtual fuction", "body": "<p>My codes:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Base\n{\npublic:\n    void print() { doPrint();}\nprivate:\n    virtual void doPrint() {cout &lt;&lt; \"Base::doPrint\" &lt;&lt; endl;}\n};\n\nclass Derived : public Base\n{\nprivate:\n    virtual void doPrint() {cout &lt;&lt; \"Derived::doPrint\" &lt;&lt; endl;}\n};\n\nint main()\n{\n    Derived *d = new Derived();\n    Base* p = dynamic_cast&lt;Base*&gt;(d);\n    p-&gt;print();\n    delete d;\n    return 0;\n}\n</code></pre>\n\n<p>The output is <code>Derived::doPrint</code>, I don't know  the answer well. Why not <code>Base::doPrint</code>? In public inheritance, why Base class can call Derived class's private virtual function?</p>\n"}, {"tags": ["c++", "c++11", "c++14", "c++17"], "comments": [{"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 0, "creation_date": 1465397670, "post_id": 37705923, "comment_id": 62885917, "body": "Works with GCC. Maybe it&#39;s a bug in clang?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 2, "creation_date": 1465397709, "post_id": 37705923, "comment_id": 62885940, "body": "@Cornstalks Maybe. But maybe it&#39;s just an unspecified behavior?"}], "answers": [{"comments": [{"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1465398530, "post_id": 37706327, "comment_id": 62886564, "body": "So they have unordered initialization even for those objects which are defined in the same translation unit?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 2, "creation_date": 1465398806, "post_id": 37706327, "comment_id": 62886770, "body": "@FrozenHeart Yes. There&#39;s no ordering among different TUs anyway."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1465398976, "post_id": 37706327, "comment_id": 62886919, "body": "Thanks a lot. The next question then -- <a href=\"http://stackoverflow.com/questions/37706549/stdcout-usage-in-constructors-of-objects-with-static-storage-duration\" title=\"stdcout usage in constructors of objects with static storage duration\">stackoverflow.com/questions/37706549/&hellip;</a>"}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 21, "last_activity_date": 1465398811, "last_edit_date": 1465398811, "creation_date": 1465398388, "answer_id": 37706327, "question_id": 37705923, "link": "https://stackoverflow.com/questions/37705923/variable-templates-and-stdcout-order-of-construction/37706327#37706327", "title": "Variable templates and std::cout -- order of construction", "body": "<p>As explained in that question, one effect of </p>\n\n<pre><code>#include &lt;iostream&gt;\n</code></pre>\n\n<p>is the equivalent of defining a global variable</p>\n\n<pre><code>static std::ios_base::Init __init;\n</code></pre>\n\n<p>which (assuming that you include it at the start of the TU) guarantees that for all static storage duration objects with <em>ordered</em> initialization in the same TU, the stream objects have been set up.</p>\n\n<p>However, explicitly and implicitly instantiated template specializations have <em>unordered</em> initialization (<a href=\"http://eel.is/c++draft/basic.start.dynamic#1\">[basic.start.dynamic]/1</a>)<sup>1</sup>:</p>\n\n<blockquote>\n  <p>Dynamic initialization of a non-local variable with static storage\n  duration is unordered if the variable is an implicitly or explicitly\n  instantiated specialization, and otherwise is ordered [<em>note omitted</em>]. Variables with ordered initialization defined within a single translation unit shall be initialized in the order of their definitions in the translation unit. </p>\n</blockquote>\n\n<p>And since</p>\n\n<blockquote>\n  <p>If a program starts a thread, the subsequent unordered initialization\n  of a variable is unsequenced with respect to every other dynamic\n  initialization. Otherwise, the unordered initialization of a variable\n  is indeterminately sequenced with respect to every other dynamic\n  initialization.</p>\n</blockquote>\n\n<p>there's no guarantee that the stream objects have been initialized at the time  the variable template specialization <code>x&lt;Test&gt;</code> is initialized.</p>\n\n<p>In this case, as one of the possible executions results in undefined behavior (using the stream objects before they are initialized), the behavior of the entire program is undefined (see <a href=\"http://eel.is/c++draft/intro.execution#5\">[intro.execution]/5</a>).</p>\n\n<p>The fix is to construct a <code>std::ios_base::Init</code> object yourself in <code>Test</code>'s constructor.</p>\n\n<hr>\n\n<p><sub><sup>1</sup> This is actually underspecified for variable templates when C++14 was published, but it's always been the intent.</sub></p>\n"}], "owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 1, "accepted_answer_id": 37706327, "answer_count": 1, "score": 23, "last_activity_date": 1465398811, "creation_date": 1465397406, "last_edit_date": 1495542822, "question_id": 37705923, "link": "https://stackoverflow.com/questions/37705923/variable-templates-and-stdcout-order-of-construction", "title": "Variable templates and std::cout -- order of construction", "body": "<p>It looks like we can safely use <code>std::cout</code> object in constructors of objects with static storage duration as stated in this <a href=\"https://stackoverflow.com/questions/8784892/is-stdcout-guaranteed-to-be-initialized\">question</a>.</p>\n\n<p>However, I'm not entirely sure that we can safely use them in case of variable templates:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;class T&gt;\nT x = T{};\n\nvoid foo()\n{\n    class Test\n    {\n    public:\n        Test() { std::cout &lt;&lt; \"Test::Test\\n\"; }\n    };\n\n    Test t = x&lt;Test&gt;;\n}\n\n\nint main()\n{\n    std::cout &lt;&lt; \"main\\n\";\n}\n</code></pre>\n\n<p>This code crashes in clang (<a href=\"http://coliru.stacked-crooked.com/a/c20353f4224bfb7b\" rel=\"nofollow noreferrer\">live example</a>) and I'm not sure whether it's a bug or not.</p>\n"}, {"tags": ["c++", "cuda", "thrust"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 4, "creation_date": 1465397872, "post_id": 37705846, "comment_id": 62886054, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and provide the <i>entire set of errors and notes</i> from the compiler not just an exerpt.  If you understood the error message you would not need to ask here, and if you do not understand why do you think the summary is sufficient?  I mean, I cannot believe it did not give you the line the error occurred on."}, {"owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1465401366, "post_id": 37705846, "comment_id": 62888762, "body": "@Yakk: I added the full error, that is all I get in MSVC..."}, {"owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1465401543, "post_id": 37705846, "comment_id": 62888898, "body": "I do not know, I copied the error directly from MSVC. When removing/commenting this function, the error is gone. When adding/uncommenting it, I get the error listed above."}], "answers": [{"comments": [{"owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "edited": false, "score": 0, "creation_date": 1465401493, "post_id": 37706374, "comment_id": 62888858, "body": "I do not get this output as error message, only the first part I posted. Why is there a signed long in it anyway?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1465402103, "post_id": 37706374, "comment_id": 62889258, "body": "You could also define it yourself.  :)"}, {"owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "reply_to_user": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "edited": false, "score": 0, "creation_date": 1465402252, "post_id": 37706374, "comment_id": 62889351, "body": "@arc_lupus we use different compilers."}, {"owner": {"reputation": 396, "user_id": 3304954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdf9ee2cfa68625969280f5098899092?s=128&d=identicon&r=PG", "display_name": "blelbach", "link": "https://stackoverflow.com/users/3304954/blelbach"}, "edited": false, "score": 1, "creation_date": 1516959990, "post_id": 37706374, "comment_id": 83910552, "body": "Indeed it is. I&#39;ve fixed this; the fix will be available in CUDA 9.2."}], "tags": [], "owner": {"reputation": 9313, "user_id": 1957265, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b616537ad7664d6f0d24c2b6ff098098?s=128&d=identicon&r=PG", "display_name": "kangshiyin", "link": "https://stackoverflow.com/users/1957265/kangshiyin"}, "is_accepted": true, "score": 4, "last_activity_date": 1465403581, "last_edit_date": 1465403581, "creation_date": 1465398495, "answer_id": 37706374, "question_id": 37705846, "link": "https://stackoverflow.com/questions/37705846/thrust-operator-is-not-supported/37706374#37706374", "title": "Thrust: Operator &#39;*&#39; is not supported", "body": "<p>It looks like a bug of <code>thrust::complex</code>. The multiply operation between <code>const thrust:complex&lt;double&gt;</code> and <code>signed long</code> is not defined.</p>\n\n<pre><code>/usr/local/cuda/bin/../targets/x86_64-linux/include/thrust/system/detail/generic/sequence.inl(48):\nerror: no operator \"*\" matches these operands\n             operand types are: const thrust::complex&lt;double&gt; * signed long\n           detected during:\n           ....\n</code></pre>\n\n<p>But strangely, you could use <code>thrust::transform</code> instead. The following code works.</p>\n\n<pre><code>#define THRUST_PREC thrust::complex&lt;double&gt;\n__host__ void generate_time(thrust::device_vector&lt;THRUST_PREC&gt; *t, const double dt, const double time)\n{\n  THRUST_PREC start = -time / 2.0;\n  THRUST_PREC step = dt;\n  thrust::transform(thrust::make_counting_iterator(0),\n                    thrust::make_counting_iterator(0) + t-&gt;size(),\n                    t-&gt;begin(),\n                    start + step * _1);\n}\n</code></pre>\n\n<p>In either way, the internal implementation uses an index (of the type <code>signed long</code> in <code>thrust::sequence</code>) to calculate the desired sequence with the expression</p>\n\n<pre><code>start + step * index;\n</code></pre>\n\n<p>The thing prevents <code>thrust::sequence</code> from working is that <code>operator *(...)</code> is not well overloaded.</p>\n\n<pre><code>thrust::complex&lt;double&gt; a(1,1);\ndouble double_b = 4;\nfloat float_b = 4;\nint int_b = 4;\nlong long_b = 4;\n\na *= double_b; // ok\na *= float_b;  // ok\na *= int_b;    // ok\na *= long_b;   // ok\n\nstd::cout &lt;&lt; a * double_b &lt;&lt; std::endl; // ok\nstd::cout &lt;&lt; a * float_b &lt;&lt; std::endl;  // error\nstd::cout &lt;&lt; a * int_b &lt;&lt; std::endl;    // error\nstd::cout &lt;&lt; a * long_b &lt;&lt; std::endl;   // error\n</code></pre>\n"}], "owner": {"reputation": 3297, "user_id": 2546099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f7b2455429f817843ab8524d67f37a1?s=128&d=identicon&r=PG&f=1", "display_name": "arc_lupus", "link": "https://stackoverflow.com/users/2546099/arc-lupus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "accepted_answer_id": 37706374, "answer_count": 1, "score": 1, "last_activity_date": 1465403581, "creation_date": 1465397236, "last_edit_date": 1465401408, "question_id": 37705846, "link": "https://stackoverflow.com/questions/37705846/thrust-operator-is-not-supported", "title": "Thrust: Operator &#39;*&#39; is not supported", "body": "<p>I have the following function for filling the vector t with steps from -time/2 to time/2 and stepsize dt:</p>\n\n<pre><code>#define THRUST_PREC thrust::complex&lt;double&gt;\n__host__ void generate_time(thrust::device_vector&lt;THRUST_PREC&gt; *t, const double dt, const double time)\n{\n    THRUST_PREC start = -time / 2.0;\n    THRUST_PREC step = dt;\n    thrust::sequence((*t).begin(), (*t).end(), start, step);\n}\n</code></pre>\n\n<p>When compiling, I get <code>error : no operator \"*\" matches these operands</code>. Why? Is there a way to fill the vector as I do, or should I fill it in the old way (aka loop)?</p>\n\n<p>Edit: Full error: <code>Error 1  error : no operator \"*\" matches these operands  C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v7.5\\include\\thrust\\system\\detail\\generic\\sequence.inl   48  1   FFT_test</code></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1465397851, "post_id": 37705839, "comment_id": 62886043, "body": "order of operations. <code>||</code> is evaluated FIRST, so you&#39;re not testing <code>input</code> against two values, you&#39;re testing <code>input</code> against the RESULT of the <code>||</code> test."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1465397851, "post_id": 37705839, "comment_id": 62886045, "body": "Ah, the perils of translating natural language into code. <code>if(input == &quot;a&quot; || &quot;A&quot;)</code> does not mean &quot;if input is a or A&quot; but &quot;if input is a, or A is something that is truthy&quot;. You need to be explicit; &quot;if input is a or input is A&quot;."}, {"owner": {"reputation": 584, "user_id": 4163365, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Lxo3H.jpg?s=128&g=1", "display_name": "rain_", "link": "https://stackoverflow.com/users/4163365/rain"}, "edited": false, "score": 0, "creation_date": 1465397910, "post_id": 37705839, "comment_id": 62886080, "body": "input == &quot;a&quot; || input == &quot;A&quot;"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1465400148, "post_id": 37705839, "comment_id": 62887853, "body": "See <code>toupper</code> and <code>tolower</code> so you will only have to make either uppercase or lowercase comparisons."}], "answers": [{"tags": [], "owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "is_accepted": false, "score": 6, "last_activity_date": 1465397423, "creation_date": 1465397423, "answer_id": 37705929, "question_id": 37705839, "link": "https://stackoverflow.com/questions/37705839/could-anyone-help-me-with-if-statements-and-strings-in-c/37705929#37705929", "title": "Could anyone help me with if statements and strings in C++?", "body": "<p>It should be <code>input == \"a\" || input == \"A\"</code>. You have to test each case individually. Right now your code is equivalent to <code>(input == \"a\") || \"A\"</code>, which evaluates to <code>true</code> because <code>\"A\"</code> decays to a non-zero pointer.</p>\n"}, {"tags": [], "owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "is_accepted": true, "score": 3, "last_activity_date": 1465397432, "creation_date": 1465397432, "answer_id": 37705933, "question_id": 37705839, "link": "https://stackoverflow.com/questions/37705839/could-anyone-help-me-with-if-statements-and-strings-in-c/37705933#37705933", "title": "Could anyone help me with if statements and strings in C++?", "body": "<p><code>\"A\"</code> and <code>'B'</code> will always be true in typical implementation.</p>\n\n<p>You should also compare <code>input</code> against them.</p>\n\n<p>Also compareing <code>std::string</code> with <code>char</code> doesn't seem supported, so you should also use string literals for <code>b</code> and <code>B</code>.</p>\n\n<pre><code>Try this:\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n    cout &lt;&lt; \"|Welcome to Castle Clashers!|\" &lt;&lt; endl;\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n\n    cout &lt;&lt; \"Would you like to start?\" &lt;&lt; endl;\n\n    string input;\n\n    cout &lt;&lt; \"A. Yes \";\n    cout &lt;&lt; \"B. No \" &lt;&lt; endl;\n    cin &gt;&gt; input;\n    if(input == \"a\" || input == \"A\"){\n        cout &lt;&lt; \"Yes\" &lt;&lt; endl;\n    }else{\n        if(input == \"b\" || input == \"B\"){\n            return 0;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12594, "user_id": 2491746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4432131c9d27a81503f25956bc8b9c?s=128&d=identicon&r=PG", "display_name": "Simple", "link": "https://stackoverflow.com/users/2491746/simple"}, "edited": false, "score": 1, "creation_date": 1465398744, "post_id": 37706321, "comment_id": 62886717, "body": "<code>&quot;A&quot;</code> evaluating to <code>true</code> doesn&#39;t mean C++ doesn&#39;t have &quot;real&quot; booleans. <code>bool</code> is a proper type in C++."}, {"owner": {"reputation": 296, "user_id": 5696504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad2f781daa01397e2e2d64e39c4d14f?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/5696504/bill"}, "reply_to_user": {"reputation": 12594, "user_id": 2491746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4432131c9d27a81503f25956bc8b9c?s=128&d=identicon&r=PG", "display_name": "Simple", "link": "https://stackoverflow.com/users/2491746/simple"}, "edited": false, "score": 0, "creation_date": 1465399104, "post_id": 37706321, "comment_id": 62887005, "body": "@Simple you&#39;re absolutely correct, I&#39;ve edited my answer to fix that. Thanks for pointing it out!"}], "tags": [], "owner": {"reputation": 296, "user_id": 5696504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad2f781daa01397e2e2d64e39c4d14f?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/5696504/bill"}, "is_accepted": false, "score": 2, "last_activity_date": 1465399049, "last_edit_date": 1465399049, "creation_date": 1465398376, "answer_id": 37706321, "question_id": 37705839, "link": "https://stackoverflow.com/questions/37705839/could-anyone-help-me-with-if-statements-and-strings-in-c/37706321#37706321", "title": "Could anyone help me with if statements and strings in C++?", "body": "<p>C didn't have \"real\" boolean values - instead, anything that equals 0 is considered <em>false</em>, and anything different from that is considered <em>true</em>. While C++ introduced a <code>bool</code> type, it still maintains the old C behavior for compatibility reasons.</p>\n\n<p>As Cornstalk said, your <code>(input == \"a\" || \"A\")</code> is the same as <code>((input == \"a\") || (\"A\"))</code>, and <code>\"A\" != 0</code>, so it always evaluates to <code>true</code> - that's why it'll always enter into that if block.  What you want is:</p>\n\n<p><code>if (input == \"a\" || input == \"A\")</code></p>\n\n<p>The same holds true to the next statement (comparing it to 'B'), but there's one extra problem in there: You're using single quotes ( ' ) instead of double quotes ( \" ), which makes it a <code>char</code> instead of a <code>string</code>. To make both variables the same type, just use double quotes, and it'll end up like this: </p>\n\n<p><code>if(input == \"b\" || input == \"B\")</code></p>\n"}], "owner": {"reputation": 27, "user_id": 6436474, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Huhuv3fowBc/AAAAAAAAAAI/AAAAAAAACzk/rFsC-F74Uqs/photo.jpg?sz=128", "display_name": "TheHipsterCoder", "link": "https://stackoverflow.com/users/6436474/thehipstercoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 37705933, "answer_count": 3, "score": 0, "last_activity_date": 1465399590, "creation_date": 1465397226, "last_edit_date": 1465399590, "question_id": 37705839, "link": "https://stackoverflow.com/questions/37705839/could-anyone-help-me-with-if-statements-and-strings-in-c", "title": "Could anyone help me with if statements and strings in C++?", "body": "<p>I am having a bit of trouble with if statements and strings/characters in c++. Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n    cout &lt;&lt; \"|Welcome to Castle Clashers!|\" &lt;&lt; endl;\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n\n    cout &lt;&lt; \"Would you like to start?\" &lt;&lt; endl;\n\n    string input;\n\n    cout &lt;&lt; \"A. Yes \";\n    cout &lt;&lt; \"B. No \" &lt;&lt; endl;\n    cin &gt;&gt; input;\n    if(input == \"a\" || \"A\"){\n        cout &lt;&lt; \"Yes\" &lt;&lt; endl;\n    }else{\n        if(input == 'b' || 'B'){\n            return 0;\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p>At my if statement it checks if the string input is equal to yes, and if it is not it should go to the else statement. This is where the trouble began, once I ran my program in the console when I type anything besides \"a\" or \"A\" it still says yes. I've tried doing it with chars/characters but I get the same output. Could anyone assist me?</p>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 2, "creation_date": 1465397178, "post_id": 37705766, "comment_id": 62885524, "body": "Is there any reason why you aren&#39;t using <code>std::thread</code>?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465397198, "post_id": 37705766, "comment_id": 62885532, "body": "It&#39;s probably better to use <code>std::thread</code> as a member of your class."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1465397367, "post_id": 37705766, "comment_id": 62885675, "body": "Never cast a function pointer to a different type."}, {"owner": {"reputation": 39, "user_id": 6440961, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff4a7949e406051c2cc9e7411ee06731?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Bukanov", "link": "https://stackoverflow.com/users/6440961/dmytro-bukanov"}, "edited": false, "score": 0, "creation_date": 1465397660, "post_id": 37705766, "comment_id": 62885909, "body": "no actual reasons, I am just running CLI, it has problems with including &lt;thread&gt; I&#39;ll give it a try and give the response asap Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1465402052, "last_edit_date": 1465402052, "creation_date": 1465397618, "answer_id": 37706016, "question_id": 37705766, "link": "https://stackoverflow.com/questions/37705766/threads-within-c-class/37706016#37706016", "title": "Threads within C++ class", "body": "<blockquote>\n  <p>I've added code, given above, but the thread seems to start and close immediately.</p>\n</blockquote>\n\n<p>That's because you don't wait for threads to finish in your main thread.</p>\n\n<p>As from their <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682516(v=vs.85).aspx\" rel=\"nofollow\">documentation</a>, you'll need to add something like </p>\n\n<pre><code>// Wait until all threads have terminated. \nWaitForMultipleObjects(MAX_THREADS, hThreadArray, TRUE, INFINITE);\n</code></pre>\n\n<p>For <code>std::thread</code> this should be a call to <code>std::thread::join()</code>.</p>\n\n<hr>\n\n<p>I'd rather recommend using <code>std::thread</code> as a member of the <code>MyObj</code> class:</p>\n\n<pre><code>class MyObj {\nprivate:\n    void thread_fn() {\n        while (true) {\n            std::string a;\n            cin &gt;&gt; a;\n        }\n    }\n\n    std::thread t;\n\npublic:\n    void start() {\n        t = std::thread(&amp;MyObj::thread_fn,*this);\n    }\n    ~MyObj() {\n       if(t.joinable())\n           t.join();\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465400965, "post_id": 37706759, "comment_id": 62888489, "body": "It&#39;s arguable if you should call <code>join()</code>  from <code>start()</code> or rather use a destructor call of a class (<code>secureProg</code>) that encapsulates that stuff."}, {"owner": {"reputation": 39, "user_id": 6440961, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff4a7949e406051c2cc9e7411ee06731?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Bukanov", "link": "https://stackoverflow.com/users/6440961/dmytro-bukanov"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465401474, "post_id": 37706759, "comment_id": 62888840, "body": "as for now it works, if something occurs later, I will try to rewrite this. now I am searching how to interrupt/suspend std::thread ._."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1465403906, "post_id": 37706759, "comment_id": 62890449, "body": "The problem is that <code>return thread.get_id();</code> will provide the thread id after it was executed in whole. That&#39;s most probably not what you want."}], "tags": [], "owner": {"reputation": 39, "user_id": 6440961, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff4a7949e406051c2cc9e7411ee06731?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Bukanov", "link": "https://stackoverflow.com/users/6440961/dmytro-bukanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1465399523, "creation_date": 1465399523, "answer_id": 37706759, "question_id": 37705766, "link": "https://stackoverflow.com/questions/37705766/threads-within-c-class/37706759#37706759", "title": "Threads within C++ class", "body": "<p>Thank you for your answers.\nUsing <em>std::thread</em> turned out to be easier than using CLI Tread class.</p>\n\n<pre><code>static void input() {\n    while (true) {\n        std::string a;\n        cin &gt;&gt; a;\n        secureProg::execute_command(a);\n    }\n}\n\nauto start() {\n    std::thread thread(secureProg::input);\n    thread.join();  \n    return thread.get_id();\n}\n</code></pre>\n\n<p>Thread start from <em>main</em></p>\n\n<pre><code>secureProg a;\n    auto thread_ptr = a.start();\n</code></pre>\n\n<p>Final version (I hope) of two methods within class</p>\n"}], "owner": {"reputation": 39, "user_id": 6440961, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff4a7949e406051c2cc9e7411ee06731?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Bukanov", "link": "https://stackoverflow.com/users/6440961/dmytro-bukanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1465402052, "creation_date": 1465397056, "question_id": 37705766, "link": "https://stackoverflow.com/questions/37705766/threads-within-c-class", "title": "Threads within C++ class", "body": "<p>I used to code on C++ long ago, but now decided to recall old skills and achieve some new ones :D</p>\n\n<p>For now I am trying to rewrite my C# program in C++ and one problem occured - I don't know how to manage threads, or even how to create them, using class methods and calling methods from the class.</p>\n\n<pre><code>class MyObj {\nprivate:\n    void thread() {\n        while (true) {\n            std::string a;\n            cin &gt;&gt; a;\n        }\n    }\n\n    static DWORD static_entry(LPVOID* param) {\n        MyObj *myObj = (MyObj*)param;\n        myObj-&gt;thread();\n        return 0;\n    }\n\npublic:\n    void start() {\n        CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE)static_entry, this, 0, NULL);\n    }\n};\n</code></pre>\n\n<p>That is sample, I've found here, on StackOverflow but 'void thread()' was empty function, I've added code, given above, but the thread seems to start and close immediately. </p>\n"}, {"tags": ["c++", "boost", "ublas", "boost-ublas"], "owner": {"reputation": 1101, "user_id": 2657641, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ef646ea1883cba67556c5a4ed50de1b0?s=128&d=identicon&r=PG", "display_name": "carsten", "link": "https://stackoverflow.com/users/2657641/carsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548131948, "creation_date": 1465396683, "last_edit_date": 1548131948, "question_id": 37705633, "link": "https://stackoverflow.com/questions/37705633/boost-multiprecision-numeric-bindings-lapack", "title": "boost multiprecision + numeric bindings + LAPACK", "body": "<p>I'm trying to implement some numeric procedures using the <code>boost</code>  multiprecision template library in combination with numeric bindings for a <code>lapack</code> backend.</p>\n\n<p>However, the template resolution doesn't seem to work as intended. I've been able to narrow it down to this minimal example:</p>\n\n<pre><code>#include &lt;boost/numeric/ublas/symmetric.hpp&gt;\n#include &lt;boost/multiprecision/cpp_dec_float.hpp&gt;\n#include &lt;boost/numeric/bindings/traits/ublas_matrix.hpp&gt;\n#include \"boost/numeric/bindings/lapack/syev.hpp\" \n#include \"boost/numeric/bindings/lapack/workspace.hpp\"\n\ntypedef boost::multiprecision::number&lt;boost::multiprecision::cpp_dec_float&lt;100&gt; &gt; SuperFloat;\ntypedef std::numeric_limits&lt;boost::multiprecision::cpp_dec_float&lt;100&gt; &gt; SuperFloatPrecision;\ntypedef boost::numeric::ublas::matrix&lt;SuperFloat&gt; Matrix;\ntypedef boost::numeric::ublas::symmetric_matrix&lt;SuperFloat&gt; MatrixSym;\n\ninline int diagonalize(Matrix&amp; eigenvectors, boost::numeric::ublas::vector&lt;SuperFloat&gt;&amp; eigenvalues) {\n  int r = boost::numeric::bindings::lapack::syev( 'U', eigenvectors, eigenvalues, boost::numeric::bindings::lapack::minimal_workspace() );\n  return r;\n}\n\nint main(){\n  std::cout &lt;&lt; \"hello!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>\n\n<p>which yields this error message: </p>\n\n<pre><code>boost/numeric/bindings/lapack/syev.hpp: In instantiation of \u2018int boost::numeric::bindings::lapack::syev(char, A&amp;, W&amp;, boost::numeric::bindings::lapack::minimal_workspace) [with A = boost::numeric::ublas::matrix&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt;; W = boost::numeric::ublas::vector&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt;]\u2019:\ntest.cxx:13:137:   required from here\nboost/numeric/bindings/lapack/syev.hpp:163:8: error: invalid application of \u2018sizeof\u2019 to incomplete type \u2018boost::STATIC_ASSERTION_FAILURE&lt;false&gt;\u2019\n        BOOST_STATIC_ASSERT( (boost::mpl::or_&lt; boost::is_same&lt; matrix_structure, traits::symmetric_t &gt;\n        ^\nIn file included from ./boost/numeric/bindings/traits/traits.hpp:18:0,\n                 from ./boost/numeric/bindings/traits/ublas_matrix.hpp:17,\n                 from test.cxx:3:\n./boost/numeric/bindings/traits/matrix_traits.hpp: In instantiation of \u2018char boost::numeric::bindings::traits::matrix_uplo_tag(SymmM&amp;) [with SymmM = boost::numeric::ublas::matrix&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt;]\u2019:\nboost/numeric/bindings/lapack/syev.hpp:181:47:   required from \u2018int boost::numeric::bindings::lapack::syev(char, A&amp;, W&amp;, boost::numeric::bindings::lapack::minimal_workspace) [with A = boost::numeric::ublas::matrix&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt;; W = boost::numeric::ublas::vector&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt;]\u2019\ntest.cxx:13:137:   required from here\n./boost/numeric/bindings/traits/matrix_traits.hpp:141:56: error: no type named \u2018uplo_type\u2019 in \u2018struct boost::numeric::bindings::traits::matrix_traits&lt;boost::numeric::ublas::matrix&lt;boost::multiprecision::number&lt;boost::multiprecision::backends::cpp_dec_float&lt;100u&gt; &gt; &gt; &gt;\u2019\n       typedef typename matrix_traits&lt;SymmM&gt;::uplo_type uplo_t; \n</code></pre>\n\n<p>Is it at all possible to use <code>lapack</code> as a backend for boost <code>UBLAS</code> templated to multiprecision, or is this a futile endeavour? \nAre there any other ways to do, say, an eigenvector decomposition of a ublas multiprecision matrix?</p>\n"}]