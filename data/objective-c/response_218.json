[{"tags": ["ios", "objective-c", "xcode", "react-native"], "comments": [{"owner": {"reputation": 1347, "user_id": 10429035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4bfe15fc2234d942ea1bc5c06befb0?s=128&d=identicon&r=PG&f=1", "display_name": "Shashin Bhayani", "link": "https://stackoverflow.com/users/10429035/shashin-bhayani"}, "edited": false, "score": 0, "creation_date": 1555837995, "post_id": 55151487, "comment_id": 98233791, "body": "So you got this error every time when you create a project with <code>react-native init</code>?"}, {"owner": {"reputation": 76, "user_id": 10904380, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jDnUWyOUljU/AAAAAAAAAAI/AAAAAAAAAK4/_jlGlNjDwas/photo.jpg?sz=128", "display_name": "Fathurifki Elvarianto Gamal", "link": "https://stackoverflow.com/users/10904380/fathurifki-elvarianto-gamal"}, "edited": false, "score": 0, "creation_date": 1555859869, "post_id": 55151487, "comment_id": 98238777, "body": "try using react-native upgrade"}], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "is_accepted": false, "score": 0, "last_activity_date": 1555967423, "last_edit_date": 1555967423, "creation_date": 1555963715, "answer_id": 55800465, "question_id": 55151487, "link": "https://stackoverflow.com/questions/55151487/react-rcteventemitter-h-not-found-with-codepush-and-cocoapods/55800465#55800465", "title": "React/RCTEventEmitter.h not found with codepush and cocoapods", "body": "<p>The error is triggered <a href=\"https://github.com/Microsoft/react-native-code-push/blob/master/ios/CodePush/CodePush.h#L6\" rel=\"nofollow noreferrer\">at this line</a> which is only required when used as a Pod in a <strong>Swift Project</strong></p>\n\n<pre><code>#import \"React/RCTEventEmitter.h\"   // Required when used as a Pod in a Swift project\n</code></pre>\n\n<p>The issue seems to be caused from this <a href=\"https://github.com/Microsoft/react-native-code-push/pull/627\" rel=\"nofollow noreferrer\"><code>pull</code> request</a>, I suggest you to use the latest version of <a href=\"https://github.com/Microsoft/react-native-code-push/tree/v5.6.0\" rel=\"nofollow noreferrer\"><code>react-native-code-push@5.6</code></a> compatible with <code>react-native 0.57</code>. </p>\n\n<p>Try the following to fix the problem</p>\n\n<p>1) Make sure you correctly configured your <code>Podfile</code> for <code>Swift</code>\nAdd <code>use_frameworks!</code> to the podfile if your are using swift</p>\n\n<pre><code># Uncomment the next line if you're using Swift or would like to use dynamic frameworks\nuse_frameworks!\n</code></pre>\n\n<p>2) Re-Install and configure <code>react-native-code-push</code> to latest version <code>5.6</code></p>\n\n<pre><code>npm uninstall react-native-code-push\nnpm install --save react-native-code-push@5.6.0\n</code></pre>\n\n<p>follow the <a href=\"https://github.com/Microsoft/react-native-code-push/blob/v5.6.0/docs/setup-ios.md#plugin-installation-ios---cocoapods\" rel=\"nofollow noreferrer\">ios setup</a> and the <a href=\"https://github.com/Microsoft/react-native-code-push/blob/v5.6.0/docs/setup-ios.md#plugin-configuration-ios\" rel=\"nofollow noreferrer\">plugin configuration</a></p>\n\n<p>4) Install the <a href=\"https://docs.microsoft.com/en-us/appcenter/sdk/getting-started/react-native\" rel=\"nofollow noreferrer\"><code>app center</code> as by instructions</a></p>\n\n<p><strong>If the problem is not fixed</strong></p>\n\n<p>5) <a href=\"https://github.com/Microsoft/react-native-code-push/issues/583#issue-185348433\" rel=\"nofollow noreferrer\">Add the following line</a>  to <code>node_modules/react-native-code-push/ios/CodePush/CodePush.h</code></p>\n\n<pre><code>#import \"React/RCTEventEmitter.h\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>#import \"RCTEventEmitter.h\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>#import &lt;React/RCTEventEmitter.h&gt;\n</code></pre>\n\n<p><strong>If the above solution does not fix the problem</strong></p>\n\n<p>6) <a href=\"https://github.com/Microsoft/react-native-code-push/pull/670#issuecomment-278164867\" rel=\"nofollow noreferrer\">Remove the following line from <code>ios/AppDelegate.m</code></a> </p>\n\n<pre><code>#import \"CodePush.h\"\n</code></pre>\n\n<p><a href=\"https://github.com/Microsoft/react-native-code-push/blob/master/docs/setup-ios.md#plugin-configuration-ios\" rel=\"nofollow noreferrer\">and add</a></p>\n\n<pre><code>#import &lt;CodePush/CodePush.h&gt;\n</code></pre>\n\n<p>The problem is caused from the following lines of <a href=\"https://github.com/Microsoft/react-native-code-push/blob/v5.6.0/ios/CodePush/CodePush.h#L6\" rel=\"nofollow noreferrer\"><code>node_modules/react-native-code-push/blob/master/ios/CodePush/CodePush.h</code></a>.\nAll <code>if</code> statements are failing (meaning that those classes are not available) and <code>line 6</code> is executing.</p>\n\n<pre><code>line 1 #if __has_include(&lt;React/RCTEventEmitter.h&gt;)\nline 2 #import &lt;React/RCTEventEmitter.h&gt;\nline 3 #elif __has_include(\"RCTEventEmitter.h\")\nline 4 #import \"RCTEventEmitter.h\"\nline 5 #else\nline 6 #import \"React/RCTEventEmitter.h\"   // Required when used as a Pod in a Swift project\nline 7 #endif\n</code></pre>\n\n<p>I am happy to help you further to solve this issue</p>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 6752194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sw0zMjD0Sm8/AAAAAAAAAAI/AAAAAAAAAA0/0fD0P1tMe3M/photo.jpg?sz=128", "display_name": "Filip Ilievski", "link": "https://stackoverflow.com/users/6752194/filip-ilievski"}, "is_accepted": false, "score": 0, "last_activity_date": 1556220120, "creation_date": 1556220120, "answer_id": 55856299, "question_id": 55151487, "link": "https://stackoverflow.com/questions/55151487/react-rcteventemitter-h-not-found-with-codepush-and-cocoapods/55856299#55856299", "title": "React/RCTEventEmitter.h not found with codepush and cocoapods", "body": "<p>I had the same/similar issue/s integrating CodePush with RNPM and CocoapPods. </p>\n\n<p>I would advise you to install it manually, <a href=\"https://docs.microsoft.com/en-us/appcenter/distribution/codepush/react-native#plugin-installation-ios---manual\" rel=\"nofollow noreferrer\">option 3</a>. It worked on the first try.</p>\n\n<p>I'm working on a very large project and experienced similar issues with iOS. What solved my issues was removing the \"global\" cache of the machine on which the build server lives. Also, try removing the Xcode Archives and Derived Data; and Podfile.lock.</p>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 6619426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtlLn.jpg?s=128&g=1", "display_name": "Onur Gelmez", "link": "https://stackoverflow.com/users/6619426/onur-gelmez"}, "is_accepted": false, "score": 0, "last_activity_date": 1556363765, "last_edit_date": 1556363765, "creation_date": 1556363393, "answer_id": 55879936, "question_id": 55151487, "link": "https://stackoverflow.com/questions/55151487/react-rcteventemitter-h-not-found-with-codepush-and-cocoapods/55879936#55879936", "title": "React/RCTEventEmitter.h not found with codepush and cocoapods", "body": "<p>follow this steps</p>\n\n<ol>\n<li>Update RNFirebase (if not the latest version)</li>\n<li>Turn off parallerize </li>\n<li>Select the <code>RNFirebase.xcodeproj</code> library in the Xcode navigator</li>\n<li>Select the <code>Build Phases</code> tab</li>\n<li>Under Link Binary With Libraries, add the\n<code>Pods_{projectName}.framework</code> file</li>\n</ol>\n\n<p>if not work turn on parallerize and try again</p>\n\n<p>you need to ensure that the Pods are built before RNFirebase.</p>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1556364437, "last_edit_date": 1556364437, "creation_date": 1556364119, "answer_id": 55880045, "question_id": 55151487, "link": "https://stackoverflow.com/questions/55151487/react-rcteventemitter-h-not-found-with-codepush-and-cocoapods/55880045#55880045", "title": "React/RCTEventEmitter.h not found with codepush and cocoapods", "body": "<blockquote>\n  <p><strong><em>This issue must be resolved this way</em></strong>:</p>\n</blockquote>\n\n<ul>\n<li>Find and remove all the references of <strong><code>AppCenter</code></strong> ( use <kbd>Cmd</kbd>-<kbd>F</kbd> shortcut )</li>\n<li>Reinstall the packages </li>\n<li>Run <strong><code>pod install</code></strong> command from <strong>/ ... / ios / ... /</strong> folder in <em>Terminal</em></li>\n</ul>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 31, "user_id": 11199635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/415567f4e043055f5abe24c44f42534e?s=128&d=identicon&r=PG&f=1", "display_name": "alexcodealexa", "link": "https://stackoverflow.com/users/11199635/alexcodealexa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2054, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1556364437, "creation_date": 1552512514, "last_edit_date": 1556220690, "question_id": 55151487, "link": "https://stackoverflow.com/questions/55151487/react-rcteventemitter-h-not-found-with-codepush-and-cocoapods", "title": "React/RCTEventEmitter.h not found with codepush and cocoapods", "body": "<p>I am have quite the issue in diagnosing the cause of why my iOS react native build is failing. After diagnosing a few other errors, the issue im facing right now is that no matter what i try, the error <strong>React/RCTEventEmitter.h not found</strong> plagues me and my app. This is just a basic react-native app created by <code>react-native init</code>.</p>\n\n<p>I tried just about every combination of the following below:</p>\n\n<ul>\n<li>changing the \"Header Search paths\"</li>\n<li>Deleting the <em>xcode/DeriveData</em> folder created</li>\n<li>\"Deintegrating\" pods</li>\n<li>pod install</li>\n<li>draging/dropping react-native-code-push xcodeproject/library directly to my app in xbox in <em>Libraries</em></li>\n<li>xcode clean</li>\n<li>react-native link</li>\n<li>react-native link code-push</li>\n<li>removing codepush from Podfile</li>\n<li>removing the <em>ios/Pods</em> folder</li>\n<li>removing the <em>ios/Podfile.lock</em> file</li>\n<li>building the app manually with <strong>xcodebuild</strong> (same error)</li>\n</ul>\n\n<pre><code>/usr/bin/xcodebuild -sdk iphoneos -workspace ios/myApp.xcworkspace -scheme myApp  archive -archivePath myApp.xcarchive -UseModernBuildSystem=NO CODE_SIGNING_ALLOWED=NO\n</code></pre>\n\n<p>My react info is as follows(its a macOS VM):</p>\n\n<pre><code>    System:\n      OS: macOS High Sierra 10.13.1\n      CPU: (4) x64 AMD Ryzen 7 1700X Eight-Core Processor         \n      Memory: 102.70 MB / 4.00 GB\n      Shell: 3.2.57 - /bin/bash\n    Binaries:\n      Node: 11.11.0 - ~/.nvm/versions/node/v11.11.0/bin/node\n      Yarn: 1.13.0 - ~/.nvm/versions/node/v11.11.0/bin/yarn\n      npm: 6.7.0 - ~/.nvm/versions/node/v11.11.0/bin/npm\n    SDKs:\n      iOS SDK:\n        Platforms: iOS 11.2, macOS 10.13, tvOS 11.2, watchOS 4.2\n    IDEs:\n      Xcode: 9.2/9C40b - /usr/bin/xcodebuild\n    npmPackages:\n      react: 16.4.1 =&gt; 16.4.1 \n      react-native: 0.57.0-rc.0 =&gt; 0.57.0-rc.0 \n    npmGlobalPackages:\n      react-native-cli: 2.0.1\n      react-native: 0.58.6\n</code></pre>\n\n<p>My Podfile is:</p>\n\n<pre><code>target 'myApp' do\n  # Pods for AppCenter\n  pod 'AppCenter/Crashes', '~&gt; 1.13.0'\n  pod 'AppCenter/Analytics', '~&gt; 1.13.0'\n  pod 'AppCenterReactNativeShared', '~&gt; 1.12.0'\n  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks\n  # use_frameworks!\n\n  # Pods for myApp\n\n\n  platform :ios, '9.0'\n  pod 'CodePush', :path =&gt; '../node_modules/react-native-code-push'\n\nend\n</code></pre>\n\n<p>The exact error im facing is:</p>\n\n<pre><code>/Users/administrator/Desktop/BUILD/myApp/node_modules/react-native-code-push/ios/CodePush/CodePush.h:6:9: fatal error: 'React/RCTEventEmitter.h' file not found\n#import \"React/RCTEventEmitter.h\"   // Required when used as a Pod in a Swift project\n</code></pre>\n\n<p>Although im pretty new to iOS development, it seems like the things i did above should fix the issue but it did not. The error seems pretty obvious but i dont know what else to do.</p>\n\n<p>I know there is many articles on this issue but most the articles/issues i seen where resolvable but for some reason, the specific case im facing seems extraordinarily. I  was wondering if anyone has any other tips or faced a issue like this? Any help is massively appreciated!</p>\n"}, {"tags": ["objective-c", "avfoundation"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1552512076, "post_id": 55150887, "comment_id": 97043092, "body": "\u201ckeep the preset high but capture picture with the resolution 640x480\u201c Unclear what those words are supposed to mean. What is the real goal here?"}, {"owner": {"reputation": 35, "user_id": 10076913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLL93.png?s=128&g=1", "display_name": "A.Ozda", "link": "https://stackoverflow.com/users/10076913/a-ozda"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1552579828, "post_id": 55150887, "comment_id": 97073803, "body": "because i need the aspect ration 4:3 and the resolution 640x480 to process images after. But i want to display the camera preview on the entire screen (iphone 8) so 1920x1080."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1552580252, "post_id": 55150887, "comment_id": 97074108, "body": "The preset has nothing to do with how the camera preview is displayed. If you want to produce a thumbnail of a certain size, you can ask for that."}, {"owner": {"reputation": 35, "user_id": 10076913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLL93.png?s=128&g=1", "display_name": "A.Ozda", "link": "https://stackoverflow.com/users/10076913/a-ozda"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1552583100, "post_id": 55150887, "comment_id": 97075835, "body": "But when i change the preset to 640x480, the preview is deformed by the videoGravity. I think i don&#39;t understand something"}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1552580559, "post_id": 55167482, "comment_id": 97074307, "body": "This is Swift, of course, but I\u2019m sure you can translate to Objective-C."}, {"owner": {"reputation": 35, "user_id": 10076913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLL93.png?s=128&g=1", "display_name": "A.Ozda", "link": "https://stackoverflow.com/users/10076913/a-ozda"}, "edited": false, "score": 0, "creation_date": 1552583037, "post_id": 55167482, "comment_id": 97075795, "body": "I tried this, like it&#39;s written in the question,but i make a mistake on the question it&#39;s now solve, sorry about that ^^"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 35, "user_id": 10076913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLL93.png?s=128&g=1", "display_name": "A.Ozda", "link": "https://stackoverflow.com/users/10076913/a-ozda"}, "edited": false, "score": 0, "creation_date": 1552586865, "post_id": 55167482, "comment_id": 97077996, "body": "If you trivially solved the original problem, feel free to delete the question."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1552580508, "creation_date": 1552580508, "answer_id": 55167482, "question_id": 55150887, "link": "https://stackoverflow.com/questions/55150887/capture-photo-with-a-different-dimension-than-displayed/55167482#55167482", "title": "Capture photo with a different dimension than displayed", "body": "<p>When you are preparing to take the photo, request a 640x480 secondary output, like this:</p>\n\n<pre><code>let settings = AVCapturePhotoSettings()\nlet pbpf = settings.availablePreviewPhotoPixelFormatTypes[0]\nsettings.previewPhotoFormat = [\n    kCVPixelBufferPixelFormatTypeKey as String : pbpf,\n    kCVPixelBufferWidthKey as String : 640,\n    kCVPixelBufferHeightKey as String : 480\n</code></pre>\n\n<p>When you take the photo, pass the <code>settings</code> in, like this:</p>\n\n<pre><code>output.capturePhoto(with: settings, delegate: self)\n</code></pre>\n\n<p>The secondary output will come back to you as the photo\u2019s <code>previewCGImageRepresentation</code> in the delegate method.</p>\n"}], "owner": {"reputation": 35, "user_id": 10076913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLL93.png?s=128&g=1", "display_name": "A.Ozda", "link": "https://stackoverflow.com/users/10076913/a-ozda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 784, "favorite_count": 0, "accepted_answer_id": 55167482, "answer_count": 1, "score": 1, "last_activity_date": 1552582926, "creation_date": 1552509724, "last_edit_date": 1552582926, "question_id": 55150887, "link": "https://stackoverflow.com/questions/55150887/capture-photo-with-a-different-dimension-than-displayed", "title": "Capture photo with a different dimension than displayed", "body": "<p>I try to capture picture from a iPhone with AVFoundation but I have some troubles to find what I need.\nI created a AVCaptureSession and add preset to AVCaptureSessionPresetHigh.\n<code>self.session.sessionPreset = AVCaptureSessionPresetHigh;</code></p>\n\n<p>I display the videoPreviewLayer in my view and I can capture the picture with the code: </p>\n\n<pre><code>AVCapturePhotoSettings *settings = [AVCapturePhotoSettings photoSettingsWithFormat: @{AVVideoCodecKey:AVVideoCodecJPEG}];\n[self.stillImageOutput capturePhotoWithSettings:settings delegate:self]\n</code></pre>\n\n<p>And I get a FHD picture (1920x1080), so this works well.</p>\n\n<p>But now I want to keep a good displayed picture, so keep the preset high but capture picture with the resolution 640x480.</p>\n\n<p>Is it possible?\nAny ideas?</p>\n\n<hr>\n\n<p>I tried this:</p>\n\n<pre><code>NSDictionary *outputSetting = [NSDictionary dictionaryWithObjectsAndKeys:\n                               [NSNumber numberWithDouble:1280], (id)kCVPixelBufferHeightKey,\n                               [NSNumber numberWithDouble:960], (id)kCVPixelBufferWidthKey,\n                               [NSNumber numberWithUnsignedInt:kCVPixelFormatType_32BGRA], (id)kCVPixelBufferPixelFormatTypeKey,\n                               nil];\n\nAVCapturePhotoSettings *settings = [AVCapturePhotoSettings photoSettingsWithFormat: outputSetting];\n\n[self.stillImageOutput capturePhotoWithSettings:settings delegate:(id)self];\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** +[AVCapturePhotoSettings photoSettingsWithFormat:] Unsupported keys specified: {(\n    Height,\n    Width\n)}. Supported keys are {(\n    PixelFormatType\n)}'\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "mapbox"], "answers": [{"tags": [], "owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "is_accepted": true, "score": 1, "last_activity_date": 1552650216, "last_edit_date": 1552650216, "creation_date": 1552649835, "answer_id": 55181755, "question_id": 55144970, "link": "https://stackoverflow.com/questions/55144970/switching-on-custom-property-to-change-image-of-mglsymbolstylelayer/55181755#55181755", "title": "Switching on custom property to change image of MGLSymbolStyleLayer", "body": "<p>Firstly we need to have a variable, which can be used for accessing the values. To make it most readable, let's create a variable for our needs (later, eg when selecting a pin) and the entry for MapBox needs at once:</p>\n\n<pre><code>@objc class MyPointFeature: MGLPointFeature {\n    @objc var type: MyType = .unknown {\n        didSet {\n            self.attributes = [\"myType\": MyPointFeature .staticTypeKey(dynamicType: type)]\n        }\n    }\n\n    // This is made without dynamic property name to string cast, because\n    // the values shouldn't be changed so easily and a developer without\n    // suspecting it's a key somewhere could accidentally create a bug\n   // PS. if you have swift-only code, you can make it in MyType enum\n   @objc static func staticTypeKey(dynamicType: MyType) -&gt; String {\n        switch dynamicType {\n        case .one:\n            return \"one\"\n        case .two:\n            return \"two\"\n        default:\n            return \"unknown\"\n        }\n    }\n}\n</code></pre>\n\n<p>Now we want to register image names to given keys:</p>\n\n<pre><code>[style setImage:[UIImage imageNamed:@\"img0\"] forName:@\"img0Key\"];\n[style setImage:[UIImage imageNamed:@\"img1\"] forName:@\"img1Key\"];\n[style setImage:[UIImage imageNamed:@\"img2\"] forName:@\"img2Key\"];\n</code></pre>\n\n<p>Finally, let's bind the image name keys with assigned previously attribute:</p>\n\n<pre><code>NSDictionary *typeIcons = @{[MyPointFeature staticTypeKeyWithDynamicType:MyTypeUnknown]: @\"img0Key\",\n                            [MyPointFeature staticTypeKeyWithDynamicType:MyTypeOne]: @\"img1Key\",\n                            [MyPointFeature staticTypeKeyWithDynamicType:MyTypeTwo]: @\"img2Key\"};\nmyLayer.iconImageName = [NSExpression expressionWithFormat:@\"FUNCTION(%@, 'valueForKeyPath:', myType)\", typeIcons];\n</code></pre>\n\n<p>Obviously, key names should be wrapped in some constants etc, but refactoring is left for the reader, that's the simplest working solution.</p>\n"}], "owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 55181755, "answer_count": 1, "score": 0, "last_activity_date": 1552650216, "creation_date": 1552489139, "question_id": 55144970, "link": "https://stackoverflow.com/questions/55144970/switching-on-custom-property-to-change-image-of-mglsymbolstylelayer", "title": "Switching on custom property to change image of MGLSymbolStyleLayer", "body": "<p>I have such enum which I'd like to assign to the pins, so that depending on this enum value, the pin image is different:</p>\n\n<pre><code>typedef NS_ENUM(NSInteger, MyType) {\n    MyTypeUnknown = 0,\n    MyTypeOne,\n    MyTypeTwo,\n};\n</code></pre>\n\n<p>I've got my layer for non-clustered pins:</p>\n\n<pre><code>MGLSymbolStyleLayer *markerLayer = [[MGLSymbolStyleLayer alloc] initWithIdentifier:@\"markerLayerId\" source:source];\nmarkerLayer.predicate = [NSPredicate predicateWithFormat:@\"cluster != YES\"];\n[style addLayer: markerLayer];\n</code></pre>\n\n<p>and I know I want to add various images based on <code>type</code> of the pin. The only thing I'm sure about is that I need to add those images to the layer:</p>\n\n<pre><code>[style setImage:[UIImage imageNamed:@\"img0\"] forName:@\"img0id\"];\n[style setImage:[UIImage imageNamed:@\"img1\"] forName:@\"img1id\"];\n[style setImage:[UIImage imageNamed:@\"img2\"] forName:@\"img2id\"];\n</code></pre>\n\n<p>Now I should set the name, but I'm not sure how:</p>\n\n<pre><code>markerLayer.iconImageName = [NSExpression expressionForConstantValue:@\"???\"]; // or withFormat..?\n</code></pre>\n\n<p>I've overridden their class to add my custom properties:</p>\n\n<pre><code>@objc class MyPointFeature: MGLPointFeature {\n    @objc var type: MyType = .unknown\n}\n</code></pre>\n\n<p>And I'm really lost how to switch on that <code>type</code> property to set the image of the pin. Any help please?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1552489447, "post_id": 55144601, "comment_id": 97030648, "body": "Is the formatter a subclass of <code>NSFormatter</code> or <code>NSNumberFormatter</code>? Did you implement <code>getObjectValue:forString:errorDescription:</code>?"}, {"owner": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1552493247, "post_id": 55144601, "comment_id": 97033366, "body": "Sorry its a subclass of NSNumberFormatter. I havent looked into getObjectValue, but i will take a look now."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 3, "creation_date": 1552501211, "post_id": 55144601, "comment_id": 97037918, "body": "First of all, a phone number is not really a number, it&#39;s a <code>String</code>. Using <code>NSNumberFormatter</code> is a very bad idea then."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "edited": false, "score": 0, "creation_date": 1552495757, "post_id": 55146225, "comment_id": 97034894, "body": "Thank you for the heads up. I have taken a look at the link you provided and it seems all IOS related."}, {"owner": {"reputation": 1579, "user_id": 1566732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ed6b31a11258bb824620104b2637e2a?s=128&d=identicon&r=PG", "display_name": "AppHandwerker", "link": "https://stackoverflow.com/users/1566732/apphandwerker"}, "reply_to_user": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "edited": false, "score": 0, "creation_date": 1552500132, "post_id": 55146225, "comment_id": 97037357, "body": "Ah yes, yes it is. Been a while since I did any Objective-C on mac or iOS, but I see the issue. Nevertheless you should be able to find some help there regarding and how to handle the formatting. Hope it helps ;)"}, {"owner": {"reputation": 1579, "user_id": 1566732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ed6b31a11258bb824620104b2637e2a?s=128&d=identicon&r=PG", "display_name": "AppHandwerker", "link": "https://stackoverflow.com/users/1566732/apphandwerker"}, "reply_to_user": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "edited": false, "score": 0, "creation_date": 1552500532, "post_id": 55146225, "comment_id": 97037559, "body": "@JulieVrellaku I updated my answer with some assistance for mac. Still not perfect it&#39;s a well used library"}], "tags": [], "owner": {"reputation": 1579, "user_id": 1566732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ed6b31a11258bb824620104b2637e2a?s=128&d=identicon&r=PG", "display_name": "AppHandwerker", "link": "https://stackoverflow.com/users/1566732/apphandwerker"}, "is_accepted": false, "score": 0, "last_activity_date": 1552500435, "last_edit_date": 1552500435, "creation_date": 1552492754, "answer_id": 55146225, "question_id": 55144601, "link": "https://stackoverflow.com/questions/55144601/custom-nsformatter-to-accept-only-numbers/55146225#55146225", "title": "Custom NSFormatter to accept only numbers", "body": "<p>Have you tried looking at a library to manage phone numbers such as \n<a href=\"https://github.com/iziz/libPhoneNumber-iOS\" rel=\"nofollow noreferrer\">libPhoneNumber-iOS</a> it's got most of this covered. Granted it maybe overkill if you're just looking at working with UK numbers.</p>\n\n<p>I could copy the code here, but it probably more efficient to check out the framework. It's been around for years and years now so it well tested and I've used it many times when working for o2 in their apps. If you don't decide to use it, just look through the code, you'll find your answer there.</p>\n\n<p>I see you're looking for mac you <a href=\"https://groups.google.com/forum/#!topic/libphonenumber-discuss/Np9DI6vRdAs\" rel=\"nofollow noreferrer\">can do it</a> but it's effort</p>\n"}], "owner": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552500435, "creation_date": 1552488126, "last_edit_date": 1552492359, "question_id": 55144601, "link": "https://stackoverflow.com/questions/55144601/custom-nsformatter-to-accept-only-numbers", "title": "Custom NSFormatter to accept only numbers", "body": "<p>I have searched for an answer and tried a lot of user examples posted at SO, however they do not seem to answer my question.</p>\n\n<p>In the UK the majority or area codes begin with zero, I have a single NSTextField and have created a customer NSNumberFormatter. I want my NSTextField to accept numbers beginning with zero, I dont want to use the NSNumberFormatter Padding option as the length of phone number may very but always start with zero.</p>\n\n<pre><code>- (BOOL)isPartialStringValid:(NSString*)partialString newEditingString:(NSString**)newString errorDescription:(NSString**)error {\n\n\nif (partialString.length &lt;= 0 || [partialString rangeOfCharacterFromSet:[[NSCharacterSet characterSetWithCharactersInString:@\"0123456789.\"] invertedSet]].location != NSNotFound) {\n    NSLog(@\"This is not a positive integer\");\n    return NO;\n}\n\n\n\n\n\nreturn YES; } @end\n</code></pre>\n\n<p>The above example works and allows any number to be entered of any length but will always removes the leading zero upon moving focus away from the NSTextField.</p>\n\n<p>Example numbers:\n01202\n01134\n01103111345</p>\n\n<p>How can I stop the leading zero being removed?</p>\n\n<p>Thank you for reading.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 2318015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37b305b77be2dde5a08fceceb70aedc?s=128&d=identicon&r=PG", "display_name": "Giorgio Doganiero", "link": "https://stackoverflow.com/users/2318015/giorgio-doganiero"}, "edited": false, "score": 0, "creation_date": 1552508910, "post_id": 55147245, "comment_id": 97041669, "body": "Thanks, I was actually already putting the method in the ViewController and passing the selector to he <code>KeyCommandManager</code> to make it work. Now everything makes more sense on why it wasn&#39;t working the other way around."}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": true, "score": 2, "last_activity_date": 1552495825, "creation_date": 1552495825, "answer_id": 55147245, "question_id": 55144397, "link": "https://stackoverflow.com/questions/55144397/uikeycommand-action-not-being-called/55147245#55147245", "title": "UIKeyCommand action not being called", "body": "<p>From Apple's <a href=\"https://developer.apple.com/documentation/uikit/uiresponder/1621141-keycommands?language=objc\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>The key commands you return from this method are applied to the entire responder chain. When an key combination is pressed that matches a key command object, UIKit walks the responder chain looking for an object that implements the corresponding action method. It calls that method on the first object it finds and then stops processing the event.</p>\n</blockquote>\n\n<p>Your <code>keyCommandManger</code> instance of <code>NSObject</code> is <em>not</em> in the responder chain -- the view controller is.</p>\n\n<p>If you put this method:</p>\n\n<pre><code>- (void)keyShortcutActions:(UIKeyCommand)sender\n{\n    NSLog(@\"#### This method IS being called (in view controller) by the space key shortcut\");\n}\n</code></pre>\n\n<p>you should see it being triggered.</p>\n\n<p>If you want your \"action\" code to be contained in <code>keyCommandManger</code>, you could forward the event to your manager object. Or, you could try to change your manager class to inherit from <code>UIResponder</code> -- but reliably getting it into the chain is the tough part.</p>\n"}], "owner": {"reputation": 135, "user_id": 2318015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37b305b77be2dde5a08fceceb70aedc?s=128&d=identicon&r=PG", "display_name": "Giorgio Doganiero", "link": "https://stackoverflow.com/users/2318015/giorgio-doganiero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 55147245, "answer_count": 1, "score": 0, "last_activity_date": 1552495825, "creation_date": 1552487590, "question_id": 55144397, "link": "https://stackoverflow.com/questions/55144397/uikeycommand-action-not-being-called", "title": "UIKeyCommand action not being called", "body": "<p>I'm trying to add keyboard shortcuts to my app and I'm having a problem with the action of the UIKeyCommand not being called.</p>\n\n<p>I got a UIViewController that that is overriding the KeyCommands.</p>\n\n<pre><code>- (BOOL)becomeFirstResponder\n{\nreturn YES;\n}\n\n- (NSArray&lt;UIKeyCommand *&gt; *)keyCommands\n{\nreturn self.keyCommandManager.keyShortcutsArray;\n}\n</code></pre>\n\n<p>I also have a KeyCommandManager class of NSObject which has two methods one that sets the keyShortcutsArray depending on the state of my app and the other one is the method that should be tigger by the UIKeyCommands.</p>\n\n<pre><code>- (void)setKeyShortcutsOfType:(ShortcutType)shortcutType\n{\n    switch(shortcutType)\n    {\n    case PlaybackPreviewShortcut:\n        self.keyShortcutsArray = @[[UIKeyCommand keyCommandWithInput:@\" \" modifierFlags:0 action:@selector(keyShortcutActions:) discoverabilityTitle:@\"Toggle playback preview\"]];\n        break;\n    default:\n        self.keyShortcutsArray = @[];\n        break;\n}\n\n- (void)keyShortcutActions:(UIKeyCommand)sender\n{\n    NSLog(@\"#### This method is not being called by the space key shortcut\");\n}\n</code></pre>\n\n<p>Currently when a key is pressed the KeyCommand override method is getting the correct array. However the selector of those keys are not working and the <code>keyShortcutActions</code> method is not being called.</p>\n"}, {"tags": ["python", "ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9268300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21844acb4c040ee8f14168cff08e9025?s=128&d=identicon&r=PG&f=1", "display_name": "user9268300", "link": "https://stackoverflow.com/users/9268300/user9268300"}, "edited": false, "score": 0, "creation_date": 1552546011, "post_id": 55146866, "comment_id": 97052337, "body": "I edited the code as in Question, still it is not blocking till the completion of NSTask execution."}, {"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "reply_to_user": {"reputation": 11, "user_id": 9268300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21844acb4c040ee8f14168cff08e9025?s=128&d=identicon&r=PG&f=1", "display_name": "user9268300", "link": "https://stackoverflow.com/users/9268300/user9268300"}, "edited": false, "score": 0, "creation_date": 1552571452, "post_id": 55146866, "comment_id": 97067585, "body": "The <code>waitUntilExit</code> blocks until the task is finished - is the task completing, or returning earlier than expected with an error?"}, {"owner": {"reputation": 11, "user_id": 9268300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21844acb4c040ee8f14168cff08e9025?s=128&d=identicon&r=PG&f=1", "display_name": "user9268300", "link": "https://stackoverflow.com/users/9268300/user9268300"}, "edited": false, "score": 0, "creation_date": 1552671659, "post_id": 55146866, "comment_id": 97114178, "body": "<code>waitUntilExit</code> works, It blocks until task is finished."}], "tags": [], "owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "is_accepted": true, "score": 0, "last_activity_date": 1552494729, "creation_date": 1552494729, "answer_id": 55146866, "question_id": 55143897, "link": "https://stackoverflow.com/questions/55143897/wait-till-nstask-completes-its-execution-of-terminal-command/55146866#55146866", "title": "Wait till NSTask completes its execution of terminal command", "body": "<p>You can add NSTask\u2019s <code>waitUntilExit</code> method after launching the task, which blocks, or let the task run in the background and use NSFileHandle\u2019s <code>readToEndOfFileInBackgroundAndNotify</code> with your file pipe and add an observer for the <code>NSFileHandleReadToEndOfFileCompletionNotification</code> notification.</p>\n"}], "owner": {"reputation": 11, "user_id": 9268300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21844acb4c040ee8f14168cff08e9025?s=128&d=identicon&r=PG&f=1", "display_name": "user9268300", "link": "https://stackoverflow.com/users/9268300/user9268300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 55146866, "answer_count": 1, "score": 0, "last_activity_date": 1552545513, "creation_date": 1552486213, "last_edit_date": 1552545513, "question_id": 55143897, "link": "https://stackoverflow.com/questions/55143897/wait-till-nstask-completes-its-execution-of-terminal-command", "title": "Wait till NSTask completes its execution of terminal command", "body": "<p>I am building a Cocoa application which uses NSTask to call a python script. </p>\n\n<pre><code>NSPipe *pipe = [NSPipe pipe];\nNSFileHandle *file = pipe.fileHandleForReading;\nNSTask *task = [[NSTask alloc] init];\n\n[task setLaunchPath:@\"/anaconda3/bin/python\"]; // Python path\n[task setArguments:@[@\"run.py\"]];  //My program to be executed on terminal\ntask.standardOutput = pipe;\ntask.standardError = pipe;\n[task launch];\n[task waitUntilExit];\n\nNSData *data = [file readDataToEndOfFile];\n[file closeFile];\n\nNSString *output = [[NSString alloc] initWithData: data encoding:NSUTF8StringEncoding];\nNSLog (@\"output:\\n%@\", output);\n</code></pre>\n\n<p>When I try to run a small python  program like printing hello world using NSTask It gets executed. But when I try to execute a program which takes longer time(~40 seconds) to execute through NSTask, It is not executed and I am not able to get the output string from terminal.</p>\n\n<p>How should I make sure my code is executed in terminal and  then the control is passed to next statements in program?</p>\n"}, {"tags": ["objective-c", "swift", "migration", "objective-c-blocks"], "comments": [{"owner": {"reputation": 611, "user_id": 6455968, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7bbcc14981bdb1d84bc36da115724f9a?s=128&d=identicon&r=PG&f=1", "display_name": "fstam", "link": "https://stackoverflow.com/users/6455968/fstam"}, "edited": false, "score": 0, "creation_date": 1552482521, "post_id": 55142503, "comment_id": 97025507, "body": "Please format the method."}, {"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "reply_to_user": {"reputation": 611, "user_id": 6455968, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7bbcc14981bdb1d84bc36da115724f9a?s=128&d=identicon&r=PG&f=1", "display_name": "fstam", "link": "https://stackoverflow.com/users/6455968/fstam"}, "edited": false, "score": 0, "creation_date": 1552482604, "post_id": 55142503, "comment_id": 97025564, "body": "sorry, what do you mean?"}, {"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1552482859, "post_id": 55142503, "comment_id": 97025769, "body": "The code, format the code so it becomes more readable"}, {"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1552486199, "post_id": 55142503, "comment_id": 97028148, "body": "@ManuelLagunaMatias can you please post the .h file"}, {"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1552487130, "post_id": 55142503, "comment_id": 97028892, "body": "This seems unusual because header file has the definition. can you clean derived data folder <code>&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData</code> and restart xcode and see if this works."}, {"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "edited": false, "score": 0, "creation_date": 1552488624, "post_id": 55142503, "comment_id": 97030022, "body": "oh I can access to jsonResponse now, thanks!"}, {"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1552488754, "post_id": 55142503, "comment_id": 97030120, "body": "@ManuelLagunaMatias I posted an answer please try that once"}], "answers": [{"tags": [], "owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "is_accepted": true, "score": 0, "last_activity_date": 1552488726, "creation_date": 1552488726, "answer_id": 55144820, "question_id": 55142503, "link": "https://stackoverflow.com/questions/55142503/migrating-to-swift-problem-with-completion-handlers/55144820#55144820", "title": "Migrating to swift - Problem with completion Handlers", "body": "<p>Hey it seems that compiler wants to know all the information to make these methods available to swift.</p>\n\n<p>So instead of</p>\n\n<pre><code>@class VOCRequestConfiguration;\n@class VOCNetworkManagerResponse;\n@class VOCMultipartRequestConfiguration;\n</code></pre>\n\n<p>use</p>\n\n<pre><code>#import \"VOCRequestConfiguration.h\"\n#import \"VOCNetworkManagerResponse.h\"\n#import \"VOCMultipartRequestConfiguration.h\"\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55144820, "answer_count": 1, "score": -1, "last_activity_date": 1552488726, "creation_date": 1552482032, "last_edit_date": 1552486728, "question_id": 55142503, "link": "https://stackoverflow.com/questions/55142503/migrating-to-swift-problem-with-completion-handlers", "title": "Migrating to swift - Problem with completion Handlers", "body": "<p>I'm trying to \"translate\" a method from Objective C because I'm doing better with swift but I'm getting one error I can't solve.</p>\n\n<p>This is the method:</p>\n\n<pre><code>+(void) getFormObjectForWorkflowTypeId: (NSNumber *) workflowTypeId andEmployeeId: (NSNumber *) employeeId onCompletion: (void (^)(VOCForm *form)) completionHandler {\n\n    VOCGetFormRC *configuration = [[VOCGetFormRC alloc] initWithWorkflowTypeId: workflowTypeId andEmployeeId: employeeId];\n    VOCNetworkManager *networkManager = [VOCNetworkManager sharedManager];\n    [networkManager startRequestWithConfiguration: configuration\n                                        onSuccess:^(NSArray * _Nonnull jsonResponse) {\n\n                                            BOOL responseState = [jsonResponse valueForKey:@\"success\"];\n\n                                            if (responseState) {\n\n                                                NSDictionary *formData = [[[jsonResponse valueForKey: @\"data\"] valueForKey: @\"elements\"] valueForKey: @\"form\"];\n\n                                                NSError *error;\n                                                VOCForm *form = [[VOCForm alloc] initWithDictionary: formData error: &amp;error];\n\n                                                if (error) {\n\n                                                    [VOCLogUtils printLogForClass: self methodName: NSStringFromSelector(_cmd) andError: error];\n\n                                                    if (completionHandler) {\n                                                        completionHandler (nil);\n                                                    }\n                                                }\n                                                else {\n\n                                                    if (completionHandler) {\n                                                        completionHandler (form);\n                                                    }\n                                                }\n                                            }\n                                            else {\n\n                                                if (completionHandler) {\n                                                    completionHandler(nil);\n                                                }\n                                            }\n                                        }\n                                        onFailure:^(VOCNetworkManagerResponse *networkManagerResponse) {\n\n                                            if (completionHandler) {\n                                                completionHandler(nil);\n                                            }\n                                        }];\n}\n</code></pre>\n\n<p>and the problem comes right at the beginning when I try to call</p>\n\n<blockquote>\n  <p>networkManager.startRequest</p>\n</blockquote>\n\n<p>Xcode autocompletes the method with \"onCompletion\" instead of onSuccess. And it doesn't recognize \"jsonResponse\" anyway.</p>\n\n<p>in VOCNetworkManager class there are two methods with the same name (I don't know if this is usual in Objective C):</p>\n\n<p>one calling 'onSucces'</p>\n\n<pre><code>-(void) startRequestWithConfiguration: (VOCRequestConfiguration *) configuration onSuccess: (void ( ^ _Nonnull)(NSArray * _Nonnull jsonResponse)) success\n                        onFailure: (void (^)(VOCNetworkManagerResponse *networkManagerResponse)) failure {\n//NSLog(@\"STARTING REQUEST NETWORK MANAGER\");\nNSString *url = [NSString stringWithFormat: @\"%@%@\", configuration.baseUrl, configuration.endPoint];\n</code></pre>\n\n<p>and the second one calls 'onCompletion'</p>\n\n<pre><code>-(void) startRequestWithConfiguration: (VOCRequestConfiguration *) configuration onCompletion: (void (^)(NSDictionary *jsonResponse, NSError *error)) completionHandler {\n\nNSString *url = [NSString stringWithFormat: @\"%@%@\", configuration.baseUrl, configuration.endPoint];\n\n[[self getNetworkingManager] POST: url parameters: configuration.parameters progress: nil\n                          success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {\n</code></pre>\n\n<p>but from my Swift class it looks like if I could only get the second one, so I can't convert the method at all.</p>\n\n<p>It's not the first time I have this kind of problems with completionHandlers tbh</p>\n\n<p><strong>Header file</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@class VOCRequestConfiguration;\n@class VOCNetworkManagerResponse;\n@class VOCMultipartRequestConfiguration;\n\n@interface VOCNetworkManager : NSObject\n\n+(id _Nullable) sharedManager;\n\n-(void) startRequestWithConfiguration: (VOCRequestConfiguration *_Nullable) configuration onSuccess: (void ( ^ _Nonnull)( NSArray * _Nonnull jsonResponse)) success\n                            onFailure: (void (^_Nullable)(VOCNetworkManagerResponse * _Nullable networkManagerResponse)) failure;\n\n-(void) startApplicationJSONContentRequestWithConfiguration: (VOCRequestConfiguration *_Nullable) configuration onSuccess: (void ( ^ _Nonnull)( NSArray * _Nonnull jsonResponse)) success\n                            onFailure: (void (^_Nullable)(VOCNetworkManagerResponse * _Nullable networkManagerResponse)) failure;\n\n-(void) startRequestForFile: (VOCMultipartRequestConfiguration *_Nullable) configuration onSuccess: (void (^_Nullable)(NSArray * _Nullable response)) success onFailure: (void (^_Nullable)(void)) failure;\n\n-(void) startRequestWithConfiguration: (VOCRequestConfiguration *_Nullable) configuration onCompletion: (void (^_Nullable)(NSDictionary * _Nullable jsonResponse, NSError * _Nullable error)) completionHandler;\n\n-(void) uploadFile: (VOCMultipartRequestConfiguration *_Nullable) configuration onSuccess: (void (^_Nullable)(NSArray * _Nullable response)) success onFailure: (void (^_Nullable)(void)) failure;\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "uiscrollview", "uirefreshcontrol"], "comments": [{"owner": {"reputation": 238, "user_id": 11101923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb7557835e07c0420f5c63902deb12a?s=128&d=identicon&r=PG&f=1", "display_name": "carsten", "link": "https://stackoverflow.com/users/11101923/carsten"}, "edited": false, "score": 0, "creation_date": 1552479972, "post_id": 55141771, "comment_id": 97023878, "body": "did you try <a href=\"https://stackoverflow.com/questions/50708081/prefer-large-titles-and-refreshcontrol-not-working-good\" title=\"prefer large titles and refreshcontrol not working good\">stackoverflow.com/questions/50708081/&hellip;</a>?"}, {"owner": {"reputation": 18276, "user_id": 533422, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/76ed9175e0c189d58889fdfd9f13baa9?s=128&d=identicon&r=PG", "display_name": "Peter Lapisu", "link": "https://stackoverflow.com/users/533422/peter-lapisu"}, "reply_to_user": {"reputation": 238, "user_id": 11101923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb7557835e07c0420f5c63902deb12a?s=128&d=identicon&r=PG&f=1", "display_name": "carsten", "link": "https://stackoverflow.com/users/11101923/carsten"}, "edited": false, "score": 0, "creation_date": 1552480229, "post_id": 55141771, "comment_id": 97024046, "body": "this issue is not about flickering, but about the issue that the refresh control action is not called at all"}], "answers": [{"comments": [{"owner": {"reputation": 18276, "user_id": 533422, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/76ed9175e0c189d58889fdfd9f13baa9?s=128&d=identicon&r=PG", "display_name": "Peter Lapisu", "link": "https://stackoverflow.com/users/533422/peter-lapisu"}, "edited": false, "score": 0, "creation_date": 1552481069, "post_id": 55142101, "comment_id": 97024583, "body": "Works... How did you find out?"}], "tags": [], "owner": {"reputation": 171, "user_id": 8506142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a210aa3df14f921c11e6871b82934b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pro", "link": "https://stackoverflow.com/users/8506142/victor-pro"}, "is_accepted": true, "score": 2, "last_activity_date": 1552481020, "last_edit_date": 1552481020, "creation_date": 1552480581, "answer_id": 55142101, "question_id": 55141771, "link": "https://stackoverflow.com/questions/55141771/uirefreshcontrol-in-a-uiscrollview-is-not-triggered-when-large-title-is-used/55142101#55142101", "title": "UIRefreshControl in a UIScrollView is not triggered when Large title is used", "body": "<p>I had the same problem a while ago and for me I could make it work by calling <code>scrollView.refreshControl.didMoveToSuperview()</code> in <code>viewDidAppear</code>.</p>\n"}], "owner": {"reputation": 18276, "user_id": 533422, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/76ed9175e0c189d58889fdfd9f13baa9?s=128&d=identicon&r=PG", "display_name": "Peter Lapisu", "link": "https://stackoverflow.com/users/533422/peter-lapisu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 55142101, "answer_count": 1, "score": 1, "last_activity_date": 1552481020, "creation_date": 1552479620, "question_id": 55141771, "link": "https://stackoverflow.com/questions/55141771/uirefreshcontrol-in-a-uiscrollview-is-not-triggered-when-large-title-is-used", "title": "UIRefreshControl in a UIScrollView is not triggered when Large title is used", "body": "<p>When i use large titles for the Navigation bar, the added UIRefresh control for the UIScrollView is not triggered when pulled down</p>\n\n<pre><code>{\n    self.scrollView.refreshControl = [[UIRefreshControl alloc] init];\n    [self.scrollView bringSubviewToFront:self.scrollView.refreshControl];\n    // add target\n}\n</code></pre>\n\n<p><strong>When i use normal small titles, it starts working by triggering the event</strong></p>\n\n<p><strong>How to make it work with large titles?</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/J0OcD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0OcD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 1, "creation_date": 1552475193, "post_id": 55140356, "comment_id": 97020838, "body": "Use <code>UIApplicationOpenSettingsURLString</code>."}, {"owner": {"reputation": 15271, "user_id": 133747, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6703c5e8fecd2b0d0d3e137bcff7c61e?s=128&d=identicon&r=PG", "display_name": "huggie", "link": "https://stackoverflow.com/users/133747/huggie"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1552490438, "post_id": 55140356, "comment_id": 97031365, "body": "So it is not supported to go directly into Wifi page then? Thanks."}, {"owner": {"reputation": 15271, "user_id": 133747, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6703c5e8fecd2b0d0d3e137bcff7c61e?s=128&d=identicon&r=PG", "display_name": "huggie", "link": "https://stackoverflow.com/users/133747/huggie"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1552490520, "post_id": 55140356, "comment_id": 97031431, "body": "Where can I get a list of supported URLs?"}], "owner": {"reputation": 15271, "user_id": 133747, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6703c5e8fecd2b0d0d3e137bcff7c61e?s=128&d=identicon&r=PG", "display_name": "huggie", "link": "https://stackoverflow.com/users/133747/huggie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "closed_date": 1552476573, "answer_count": 0, "score": 0, "last_activity_date": 1552474992, "creation_date": 1552474992, "question_id": 55140356, "link": "https://stackoverflow.com/questions/55140356/ios-app-store-submission-rejected-for-app-prefsroot-wifi", "closed_reason": "Duplicate", "title": "iOS app store submission rejected for &quot;App-Prefs:root=WIFI&quot;", "body": "<p>Recently a client submitted his app but was rejected by Apple:</p>\n\n<blockquote>\n  <p>Your app uses the \"prefs:root=\" non-public URL scheme, which is a\n  private entity. The use of non-public APIs is not permitted on the App\n  Store because it can lead to a poor user experience should these APIs\n  change.</p>\n  \n  <p>app-prefs:root=wifi</p>\n  \n  <p>Continuing to use or conceal non-public APIs in future submissions of\n  this app may result in the termination of your Apple Developer\n  account, as well as removal of all associated apps from the App Store.</p>\n  \n  <p>Next Steps</p>\n  \n  <p>To resolve this issue, please revise your app to provide the\n  associated functionality using public APIs or remove the functionality\n  using the \"prefs:root\" or \"App-Prefs:root\" URL scheme.</p>\n</blockquote>\n\n<p>I tried to search for relevant code/setting and the only thing I can find is:</p>\n\n<pre><code>[alertView setBlockSure:^{\n    NSString * urlString = @\"App-Prefs:root=WIFI\";\n    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:urlString]];\n}];\n</code></pre>\n\n<p>And there is no entry under target -> info -> URL Types.</p>\n\n<p>So what is the issue? I read somewhere on Stackoverflow, accessing to WiFi setting directly from an app is considered private? But I can't find recent Apple documentation for valid ones. If not we'll consider opening to just setting instead.</p>\n"}, {"tags": ["ios", "objective-c", "push-notification"], "comments": [{"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1552473016, "post_id": 55139595, "comment_id": 97019515, "body": "try to send push from this and check <a href=\"http://pushtry.com/\" rel=\"nofollow noreferrer\">pushtry.com</a>"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1552473148, "post_id": 55139595, "comment_id": 97019607, "body": "@NikunjKumbhani i getting this error &quot;<i>The credentials supplied to the package were not recognized</i>&quot;"}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1552473626, "post_id": 55139595, "comment_id": 97019932, "body": "Please check my answer"}, {"owner": {"reputation": 172, "user_id": 5035032, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wWmKNN2nhF4/AAAAAAAAAAI/AAAAAAAAACY/TejKEf7ci_8/photo.jpg?sz=128", "display_name": "Mohamed Jaafar", "link": "https://stackoverflow.com/users/5035032/mohamed-jaafar"}, "edited": false, "score": 0, "creation_date": 1552480955, "post_id": 55139595, "comment_id": 97024512, "body": "How do you get the device token? what function do you use?"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 172, "user_id": 5035032, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wWmKNN2nhF4/AAAAAAAAAAI/AAAAAAAAACY/TejKEf7ci_8/photo.jpg?sz=128", "display_name": "Mohamed Jaafar", "link": "https://stackoverflow.com/users/5035032/mohamed-jaafar"}, "edited": false, "score": 0, "creation_date": 1552481224, "post_id": 55139595, "comment_id": 97024684, "body": "@MohamedJaafar i get device token in this function:-<i>didRegisterForRemoteNotificationsWithDeviceToken</i> --&gt;  iOSDeviceToken = [[[[deviceToken description]                                 stringByReplacingOccurrencesOfString: @&quot;&lt;&quot; withString: @&quot;&quot;]                                stringByReplacingOccurrencesOfString: @&quot;&gt;&quot; withString: @&quot;&quot;]                               stringByReplacingOccurrencesOfString: @&quot; &quot; withString: @&quot;&quot;];"}, {"owner": {"reputation": 833, "user_id": 1010087, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8ed031904f05745fcc457d8dd50d6d03?s=128&d=identicon&r=PG", "display_name": "Bill Norman", "link": "https://stackoverflow.com/users/1010087/bill-norman"}, "edited": false, "score": 0, "creation_date": 1552502391, "post_id": 55139595, "comment_id": 97038578, "body": "@henry, I think there is a problem with Apple&#39;s sandbox server, where it will not validate the development certificates. You are not the only one having this problem. I have submitted a bug report to Apple about it, but may I suggest you do the same just so they can see that the problem is not isolated. bugreport.apple.com"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 833, "user_id": 1010087, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8ed031904f05745fcc457d8dd50d6d03?s=128&d=identicon&r=PG", "display_name": "Bill Norman", "link": "https://stackoverflow.com/users/1010087/bill-norman"}, "edited": false, "score": 0, "creation_date": 1552528972, "post_id": 55139595, "comment_id": 97047953, "body": "@BillNorman my case is in Production (testflight mode), sandbox ok for me."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1552481333, "post_id": 55139869, "comment_id": 97024749, "body": "HI Nikunj, may i know what u mean can&#39;t update the name of Certificates?"}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "reply_to_user": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1552481504, "post_id": 55139869, "comment_id": 97024860, "body": "@henry I say that try with name <b>Certificates.p12</b> and one more thing before that remove the previous certificate and from key chain and download new one with check <b>bundleid</b> same as application bundle id."}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1552481954, "post_id": 55139869, "comment_id": 97025150, "body": "Now I able to use Pushtry.com with .P12 file and it will sent out successfully. But when I try to use .pem file, I will get this error :- <i>pushcert.pem | 4460 | application/x-x509-ca-cert</i>  I use this to convert in terminal <code>openssl pkcs12 -in cert.p12 -out pushcert.pem -nodes -clcerts </code>"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1552484430, "post_id": 55139869, "comment_id": 97026877, "body": "I tried the solution tat u posted and able to generate 2 separate files. But abit confuse how to combine it and become the final .pem file"}], "tags": [], "owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "is_accepted": false, "score": 1, "last_activity_date": 1552482299, "last_edit_date": 1552482299, "creation_date": 1552473514, "answer_id": 55139869, "question_id": 55139595, "link": "https://stackoverflow.com/questions/55139595/stuck-at-ios-push-notification-testflight/55139869#55139869", "title": "Stuck at IOS Push Notification (Testflight)", "body": "<p>I think you have an issue in export <strong>.p12</strong> certificate here I can see in export screenshot display <strong>Export 2 items</strong>.</p>\n\n<blockquote>\n  <p><strong>Don't select the private key to an export .p12 certificate.</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/uU963.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uU963.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>check with .p12</strong></p>\n\n<blockquote>\n  <p>Can't Update the name of <strong>Certificates</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/SzVtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzVtx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "is_accepted": true, "score": 0, "last_activity_date": 1553047470, "creation_date": 1553047470, "answer_id": 55252515, "question_id": 55139595, "link": "https://stackoverflow.com/questions/55139595/stuck-at-ios-push-notification-testflight/55252515#55252515", "title": "Stuck at IOS Push Notification (Testflight)", "body": "<p>In summary, here are some steps to take care when perform IOS push notification:-</p>\n\n<ol>\n<li>Enable server port / Request your server provider to enable APS port (example Port 2195)</li>\n<li>Ensure push notification function is enable in Apple Connect</li>\n<li>Change URL from gateway.sandbox.push.apple.com:2195 to gateway.push.apple.com, port 2195 in your backend server.</li>\n<li>Make sure your APS key download and convert to .PEM file correctly.</li>\n<li><strong>Do not mixed PRODUCTION and DEVELOPMENT device token together</strong> when send it to APNS. It will cause failure as well.</li>\n</ol>\n"}], "owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 55252515, "answer_count": 2, "score": 1, "last_activity_date": 1567673189, "creation_date": 1552472800, "last_edit_date": 1567673189, "question_id": 55139595, "link": "https://stackoverflow.com/questions/55139595/stuck-at-ios-push-notification-testflight", "title": "Stuck at IOS Push Notification (Testflight)", "body": "<p>I stuck at IOS push notification these few days. Here is my scenario:-</p>\n\n<ol>\n<li><p>Using <a href=\"https://itunes.apple.com/us/app/easy-apns-provider-push-notification-service-testing-tool/id989622350?mt=12\" rel=\"nofollow noreferrer\">Easy APNS Provider</a> and push notification by using aps.cer (download from App ID > Production SSL Certificate) , it can receive successfully.\n<a href=\"https://i.stack.imgur.com/6lZdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6lZdl.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Using <a href=\"http://apns-gcm.bryantan.info/\" rel=\"nofollow noreferrer\">APNS &amp; GCM Online Tester</a> and push notification by using .pem file (generated in keychain > export to .p12 > convert to .pem file) , it can receive successfully.\n<a href=\"https://i.stack.imgur.com/VIAB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VIAB5.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Using <a href=\"https://www.apnstester.com/apns/\" rel=\"nofollow noreferrer\">Push Tester</a> and push notification by using .pem file (same as above), an error message will be shown as below.\n<a href=\"https://i.stack.imgur.com/BxIUr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BxIUr.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>When putting the .pem file in my server end (PHP), it does not work as well. But it is fine when sandbox testing (developmentPush.pem).</p></li>\n</ol>\n\n<p>Any idea, please help and alert me what I missed out. Appreciated!</p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 1, "creation_date": 1552467160, "post_id": 55137549, "comment_id": 97015788, "body": "Where are you calling the requestSong?"}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552467323, "post_id": 55137549, "comment_id": 97015877, "body": "My mistake, I am calling requestSong in viewDidLoad in SongPlayerViewController class, just edited the post. Thanks."}, {"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552467425, "post_id": 55137549, "comment_id": 97015937, "body": "And where are you initializing the SongPlayer?"}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552467832, "post_id": 55137549, "comment_id": 97016197, "body": "urgh, in the same place (viewDidLoad in SongPlayerViewController class)"}, {"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552468113, "post_id": 55137549, "comment_id": 97016369, "body": "Your method signature is wrong. -(void) didReceiveData:(id) data; should be id not NSData."}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552468308, "post_id": 55137549, "comment_id": 97016473, "body": "@SachinVas this is the method signature as I am using this protocol to receive song array in different view controller class -(void) didReceiveData:(NSMutableArray&lt;Song *&gt; *)data which works fine"}, {"owner": {"reputation": 525, "user_id": 8168124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64577bf8a5459971caee4b15cb7eb05a?s=128&d=identicon&r=PG", "display_name": "TimTwoToes", "link": "https://stackoverflow.com/users/8168124/timtwotoes"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552468482, "post_id": 55137549, "comment_id": 97016597, "body": "@Sachin Vas is right. Then you should change the definition in your NetworkDelegateProtocol. It is defined as didReceiveData:(id). Not sure it matters in Objective-C though."}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "reply_to_user": {"reputation": 525, "user_id": 8168124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64577bf8a5459971caee4b15cb7eb05a?s=128&d=identicon&r=PG", "display_name": "TimTwoToes", "link": "https://stackoverflow.com/users/8168124/timtwotoes"}, "edited": false, "score": 0, "creation_date": 1552468696, "post_id": 55137549, "comment_id": 97016729, "body": "@TimTwoToes from what I know (id) means any data type, as long as I provide the data type when I use it. From what I understand I need to use (id) because one time the parameter I pass is NSMutableArray in on view controller and the other time I pass NSData as shown above in SongPlayer"}, {"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552471675, "post_id": 55137549, "comment_id": 97018682, "body": "You are using the local variable which is never being retained in the viewDidLoad of Controller. You need to use the SongPlayer NetworkManager."}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "edited": false, "score": 0, "creation_date": 1552472081, "post_id": 55137549, "comment_id": 97018944, "body": "Do you mean when I am setting the delegate or calling requestSong? or both perhaps"}, {"owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552472439, "post_id": 55137549, "comment_id": 97019168, "body": "@SachinVas changed  songPlayer.networkManager.delegate = songPlayer; to network.delegate = songPlayer; in View Controller and it works! Thank you very much!"}], "answers": [{"tags": [], "owner": {"reputation": 2696, "user_id": 549092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2h4O2.jpg?s=128&g=1", "display_name": "Mike Hay", "link": "https://stackoverflow.com/users/549092/mike-hay"}, "is_accepted": false, "score": 1, "last_activity_date": 1552482844, "last_edit_date": 1552482844, "creation_date": 1552481405, "answer_id": 55142340, "question_id": 55137549, "link": "https://stackoverflow.com/questions/55137549/network-class-doesnt-send-data-to-delegate-objective-c/55142340#55142340", "title": "Network class doesn&#39;t send data to delegate Objective-C", "body": "<p>It looks like the <code>networkManager</code> property on your <code>SongPlayer</code> might be nil when you are setting the delegate, so ... in Objective-C nothing happens.</p>\n\n<pre><code>@implementation SongPlayerViewController {\n\n    SongPlayer *songPlayer;\n\n...\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    songPlayer = [[SongPlayer alloc]init];\n    NetworkManager *network = [[NetworkManager alloc] init];   // do this here\n    songPlayer.networkManager = network;                       // set before use\n    songPlayer.networkManager.delegate = songPlayer;\n\n    NSArray *songUrlArray = [[NSArray alloc] initWithObjects: baseSongUrlStr, songId, endSongUrlStr, nil];\n    NSString *requestUrl = [songUrlArray componentsJoinedByString:@\"\"];\n    [self setupSong];\n\n    [network requestSong:requestUrl];\n} \n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1552481738, "creation_date": 1552481738, "answer_id": 55142428, "question_id": 55137549, "link": "https://stackoverflow.com/questions/55137549/network-class-doesnt-send-data-to-delegate-objective-c/55142428#55142428", "title": "Network class doesn&#39;t send data to delegate Objective-C", "body": "<p>As <a href=\"https://stackoverflow.com/users/6649262/sachin-vas\">Sachin Vas</a> suggested in his comment, I had to change songPlayer.networkManager.delegate = songPlayer; to network.delegate = songPlayer; in View Controller and it works!\nThanks again <a href=\"https://stackoverflow.com/users/6649262/sachin-vas\">Sachin Vas</a> .</p>\n"}], "owner": {"reputation": 593, "user_id": 10961076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHvdc.png?s=128&g=1", "display_name": "Vadim F.", "link": "https://stackoverflow.com/users/10961076/vadim-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55142428, "answer_count": 2, "score": 0, "last_activity_date": 1552482844, "creation_date": 1552466556, "last_edit_date": 1552467802, "question_id": 55137549, "link": "https://stackoverflow.com/questions/55137549/network-class-doesnt-send-data-to-delegate-objective-c", "title": "Network class doesn&#39;t send data to delegate Objective-C", "body": "<p>I am new to Objective-C, I am trying to make a class that will handle <code>URLSession</code> tasks for the app in order to download and play a song from <code>SoundCloud</code> and pass it to to the <code>SongPlayer</code> class using <code>Protocol and Delegate</code>.</p>\n\n<p>My NetworkManager.h file:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@protocol NetworkDelegateProtocol&lt;NSObject&gt;\n-(void) didReceiveData:(id) data;\n@end\n\n@interface NetworkManager : NSObject\n\n@property (nonatomic, weak) id&lt;NetworkDelegateProtocol&gt;delegate;\n-(void) requestSong: (NSString *) songUrlStr;\n\n@end\n</code></pre>\n\n<p>My NetworkManager.m file:</p>\n\n<pre><code>#import \"NetworkManager.h\"\n\n@implementation NetworkManager\n-(void)requestSong: (NSString *) songUrlStr {\n    NSURL *url = [NSURL URLWithString:songUrlStr];\n    [[NSURLSession.sharedSession dataTaskWithURL: url completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n        if (error) {\n            NSLog(@\"failed to download song %@\", error);\n            return;\n        }\n\n        [self.delegate didReceiveData:data];\n    }] resume];\n}\n@end\n</code></pre>\n\n<p>My SongPlayer.h file:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;AudioToolbox/AudioToolbox.h&gt;\n#import &lt;AVFoundation/AVFoundation.h&gt;\n\n#import \"NetworkManager.h\"\n\n@interface SongPlayer : NSObject &lt;NetworkDelegateProtocol ,AVAudioPlayerDelegate&gt;\n\n@property NetworkManager *networkManager;\n\n@property (nonatomic, weak) AVAudioPlayer *songPlayer;\n@property (nonatomic, weak) NSData *songData;\n\n@property BOOL didDownload;\n\n@end\n</code></pre>\n\n<p>And finally my SongPlayer.m file:</p>\n\n<pre><code>#import \"SongPlayer.h\"\n\n@implementation SongPlayer\n\nNetworkManager *networkManager;\nBOOL didDownload;\n\nAVAudioPlayer *songPlayer;\nNSData *songData;\n\n-(void) didReceiveData: (NSData *) data {\n    songData = data;\n    didDownload = YES;\n    [songPlayer play];\n}\n@end\n</code></pre>\n\n<p>I set the <code>SongPlayer</code> class as <code>Delegate</code> in the <code>SongPlayerViewController</code> class here:</p>\n\n<pre><code>@implementation SongPlayerViewController {\n\n    SongPlayer *songPlayer;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\nsongPlayer = [[SongPlayer alloc]init];\n\n    songPlayer.networkManager.delegate = songPlayer;\nNSArray *songUrlArray = [[NSArray alloc] initWithObjects: baseSongUrlStr, songId, endSongUrlStr, nil];\nNSString *requestUrl = [songUrlArray componentsJoinedByString:@\"\"];\nNetworkManager *network = [[NetworkManager alloc] init];\n[self setupSong];\n\n[network requestSong:requestUrl];\n</code></pre>\n\n<p>}\n    @end</p>\n\n<p>When I try to <code>debug</code> it, the <code>dataTaskWithURL</code> is completed and the <code>NetworkManager</code> class receives the <code>data</code>, but it never sends it to the <code>Delegate</code>.</p>\n\n<p>Thank you in advance.</p>\n\n<p>P.S: In my <code>NetworkManager</code> class I have another <code>URLSession</code> task to get list of songs by name which works perfectly.</p>\n"}, {"tags": ["objective-c", "utf-8", "base64"], "answers": [{"tags": [], "owner": {"reputation": 2256, "user_id": 5690248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dabe0ffbb33a4bffa6ed4801272c759b?s=128&d=identicon&r=PG&f=1", "display_name": "The Dreams Wind", "link": "https://stackoverflow.com/users/5690248/the-dreams-wind"}, "is_accepted": true, "score": 1, "last_activity_date": 1552468600, "creation_date": 1552468600, "answer_id": 55138142, "question_id": 55137048, "link": "https://stackoverflow.com/questions/55137048/why-does-the-output-of-the-nsstring-work-but-unable-to-use-the-actual-variable/55138142#55138142", "title": "Why does the output of the NSString work but unable to use the actual variable?", "body": "<p>When making a raw string (which is not a part of JSON, xml, whatever..) from data, you might easily end up with a little bit different output - resulting string will contain some escape sequences, like <code>\\n</code> or <code>\\t</code>, which <code>NSLog</code> won't print for an apparent reason. These characters definitely prevent strict data structures (like Base64) from being made.</p>\n\n<p>To get it round just add the <code>IgnoreUnkownCharacters</code> options in your Base64 data constructor:</p>\n\n<pre><code>[[NSData alloc] initWithBase64EncodeString:notWorkingInput options:NSDataBase64DecodingIgnoreUnknownCharacters];\n</code></pre>\n"}], "owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55138142, "answer_count": 1, "score": 1, "last_activity_date": 1552468600, "creation_date": 1552464555, "question_id": 55137048, "link": "https://stackoverflow.com/questions/55137048/why-does-the-output-of-the-nsstring-work-but-unable-to-use-the-actual-variable", "title": "Why does the output of the NSString work but unable to use the actual variable?", "body": "<p>My app gets data from an RESTful service, decodes and unzips the data. However, it doesn't appear to be fully working.   </p>\n\n<p>decodedString remains empty when using notWorkingInput - if I Copy&amp;Paste the NSLog of notWorkingInput into the NSString input, the code works perfectly..     </p>\n\n<p>Why does notWorkingInput fail but input doesn't - They contain exactly the same data.</p>\n\n<p>CODE:</p>\n\n<pre><code>[[[NSURLSession sharedSession] dataTaskWithRequest:request completionHandler:\n  ^(NSData *receivedData,\n    NSURLResponse * _Nullable response,\n    NSError * _Nullable error) {\n\n\n      //this is not working\n      NSString *notWorkingInput = [[NSString alloc] initWithData:receivedData encoding:NSUTF8StringEncoding];\n      NSLog(@\"Input %@\", notWorkingInput);\n\n      //THIS IS THE EXPECTED OUTPUT FROM THE ABOVE NSLog - this works but notWOrkingInput doesn't\n      //NSString *input = @\"H4sIAAAAAAAEAK2abW\\/bOBLHv0rhe5scOEMOH7KvXMftBuvEQewskFv0hShRh+KySdEtcDgU\\/e5HyUkspx6b2kxcJLUe\\/qLI\\/4+cIfl9srpbzZbn88nZBLqf2MbJyeRm\\/vHng+u76+7I7fX5dD3P329X85vJ2ff+78V5PuNjQmjABhWjscGFSplokqEKYmWR8j0frqaXnci0+vr4kL8vnr6vvn39XP\\/nvnpo8sHrX5dX3UFjXP6nlKIQ8uH55fRikQ\\/n\\/\\/42v+ufWCcHsXZV0jXkxzRVA75ymMjWrWqruLn0cjrL15LS2r8HtNP3fvKjP9GVfoTUxXp++XQ5UH6Xm+Xl+qIvPiqwp4pONawRzkCdKfVPtfnpKm65vSycKn2Kfg10BmH3st+ni4uuamfL26t1foQ+earr1Xq6vl3lIyeT2XQxvzqfbuo7amWb6BK0AU3bpFg1SXvQTUPBttR0b\\/l8w+ri6sOye99xCieT8+ldfvQf3yer+Xp9cfWxL0Y+ODl79\\/LaKqxV987D9\\/lxcvAWUONvgSO34Ktb3Cng+Fv0yILZUxj7+vkpbuQt\\/hSPvf6eGrPjbxlbMH0KNP6WsQXT+wv27lO2+GI5++16Mb2a\\/fqxN2rnbILgTEZ0Mc3H1Abd8+Wydz327Hed1nSxIXn9r+58z3VXimcB4gRMqYLlFFSpguMUdKmC5xRcqUJgFMAXKnjFKYRSBeDegkoVkFOwpQqaU4BSBdaSxTXJedIU1wPnSVNcD5wnTamjPOdJU1wPnCdNqaMC50kqZTNwnqRSPwTOk1TaRwXOk1TaPwTOk1TaywXOk1TqycB5kko9GThPUqknA+dJKvVk4DxJZZ7EPKQxCrbMk1mB86Qt82RW4BxlisvA+UGXuTorcK2pi2uSa01d5occdXA1qctcnRU4uk1pPQDHhS1VQM5RurQ1kR15S9sCOUfpMrqzAtdH6bJeLiuwnizr5bICO24Wl4EdN0vZRK6H0aUKmmtNU1oPmm3Nsn4SNVsPUOhqjRzdUNgWmq1JKKwHrdmYtrB\\/0GxbQCEXWnM9DBT2cpptTSxsC0OcAhR60liuLQoNZRzXFIU9lHFsSxT2kobNskorgU2yDjv6U\\/56cTm\\/vll+uFjM+\\/Q3n86nJjkUIN+2dQyuMrWJISlLZGyMWnsP3dTOVih0X56m4q4fv37LJ2fLxfImf\\/0HUONTNdl50Or2\\/Wr+cfX8vE032NXiSzk3l68WF7NOU5mctv\\/Sz4v9Ai8f9fzpc\\/+tDm518JVOr6Bc\\/\\/vl86L1SkdvdfReHbWrw5XHbHXMW3Roq0Nv0bFbHfsWHbfVcW\\/R8Vsd\\/xadsNUJb9DpZhtefKjeIjQ09GtHjxIaOBr2W5oX+vQk1UPdKOtNSME2aOpEsYqpbiv0dUhkY9qBun\\/3Z6q\\/pb++fX749xDs7fz0YbCNcjzYL6WnXaT3VINR\\/hjYRdVpVBAB24ASAdsAiIBtAEXANqBFwDZgRMA2QCJgG7AyYBtwMmAb8EJgQxWbCA0Y772psQlVTVElBIRENcIu2AOuq\\/v708cv6WEItp7NDLmjYIOhI1yjPqMwGLBfPsNaAGMlsAbjJKgG4yWgBhMkmAZSEkgDgQTRQCgBNJCW4BnIiOAMRCI0A1khmAkqSrbRyeV3tDrFNic5vqIISNC4VzDjgOaH9N\\/09Uv+GeLsg2tcc3ycJneM57JejZwI0FlHhOisI4J01hFh2pAXgTrriFCddUSwzjoiXGcdGbCzkAzZWUgMbQxWBYgOTbdhoo0xxAqCIvId3e0O2kOyp5fvlg\\/3\\/3sdf7ft8WGa+PA7Z9RIXV6N9lheDcRH39An1P1+lMGr702rgUSCb7AisTdYkdAbrEjkDVYk8AYrEneDFQm7wcpE3WBlgm6wUjG3DbpO6IL2OadWqY1t3VLdhBBVnYdvt8OyHbB8nv58HILctkWJNGI4BPJmggzoWLyNWvEgQy8DRTLAggzYy2CRDLIgg+5ldJGMZkGGzeShKZIxLMhAvQwVyRALMthexhbJWBbkpy7XFck4FmTwvYwvkvE8yJu+P\\/8u0Qk8yLjJG4t8bNQBkDdjEV+eIche5eBao2sxkqlU9LbSUWlKAVKNKe7G28PsOcfb6\\/TXznS3jV6748mzMe4AzXCmocPQqGO1YIzncR41F+F5nsfp8ECP0+GJHqfDIz1Oh2d6nA4P9TgdnupxOgewHid0gOtRQuEQ2GNGaO9slSqsPTXOOKWDbkLy6GpEFaw2O2C7Adfz3+dX6yHVATFiPD5Eex5q5Z86fjXskvZWAYYDQ7Q9033Hr44uhWEQQRqDCNEYRIDGIMIzBhGcMYjQjEEEZgwyLGOQQVkrMZKjThqCCU0g0xofa6i0Mr5pwfm63c2b\\/YDkD9PZenlzN2Q5pTbjX7AgbY6uW\\/kCCrOOzLqVNjLrVppk1q00yaxbaZJZt9Iks26lSWbdSpPMupUmoXUrTULrVpqkcui6tcnm9LdRTWOodqEmE1Imu2kpOqd2uKYB14vPD\\/Xj\\/c6yFaoqBDg+RsMBrPuMs9ttcjz9gAPzYXrfGM3I8FBvkjPEZ5kDTYIowjSiCNKIIkQjigCNKMIzogjOiDI0I8rAjCjFcpOH5cZWQQWfo20bQm2xsm2FOjnt612W9YDl65\\/ntts2hIIpMbAHkuiem7IlaCeSQ4MTibfBicTb4ETibXAi8TY4kXgbnEi8DU4k3gYnE2+Dk4m3wUvF201Tx5Z8HcB2uz9dVVGdLFUQrFPVK5bNgGX95c8hx5U1jTsea8POVrmf5l27NSrqh9S+rDzHw7mnvTOCm7ngPcPprgy\\/8\\/OpHK4r057Qf1eG3\\/j5NM8JZ3Q0QgAvsu8TvMi2T\\/Aiuz7Bi2z6BC+y5xOCzJZPGE64vIXj4YzL3+D404\\/\\/A2ssUZ+YQQAA\";\n\n\n      NSData *decodedData = [[NSData alloc] initWithBase64EncodedString:notWorkingInput options:0];\n\n\n      NSData *unzippedData = [decodedData gunzippedData];\n      NSString *decodesdString = [[NSString alloc] initWithData:unzippedData encoding:NSUTF8StringEncoding];\n\n      NSLog(@\"DECODED STRING   %@\", decodesdString);\n\n\n\n\n\n  }] resume];\n }\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa", "nsstring", "nsarray"], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 0, "last_activity_date": 1552438837, "creation_date": 1552438837, "answer_id": 55132845, "question_id": 55132573, "link": "https://stackoverflow.com/questions/55132573/nsstring-longlongvalue-ignores-my-string-after-0x/55132845#55132845", "title": "-[NSString longLongValue] ignores my string after 0x", "body": "<p>Your string contains a number in hexadecimal. There's no method on <code>NSString</code> that directly interprets its contents as hexadecimal.</p>\n\n<p>You can use <code>NSScanner</code> to do that.</p>\n\n<pre><code>NSScanner *scanner = [NSScanner scannerWithString:offsets[0]];\nunsigned long long result;\nif ([scanner scanHexLongLong:&amp;result] &amp;&amp; scanner.scanLocation == offsets[0].length)\n    NSLog(@\"Offset: %llu\", result);\nelse\n    /* string was not a hexadecimal number; handle failure */;\n</code></pre>\n\n<p>By the way, this:</p>\n\n<blockquote>\n  <p>When I remove the \"0x\" from 0x1003567, it prints out the correct numbers.</p>\n</blockquote>\n\n<p>is not accurate. It interpreted \"1003567\" as a decimal number (i.e. 1,003,567) and printed that back out. But that's not the value of 0x1003567. The decimal value of 0x1003567 is 16790887 (i.e. 16,790,887). And if the number had contained hex digits above 9 (the letters A-F), it would have stopped interpreting them at that point.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10043815"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1552438844, "answer_count": 1, "score": 0, "last_activity_date": 1552439068, "creation_date": 1552436345, "last_edit_date": 1552438765, "question_id": 55132573, "link": "https://stackoverflow.com/questions/55132573/nsstring-longlongvalue-ignores-my-string-after-0x", "closed_reason": "Duplicate", "title": "-[NSString longLongValue] ignores my string after 0x", "body": "<p>When I use this code to convert a string inside a array to a <code>long long</code>, it fails and prints out \"0\" because the string starts with \"0x\".</p>\n\n<p>This is my array: <code>NSArray &lt;NSString *&gt; *offsets = @[\"0x1003567\"];</code></p>\n\n<p>When I try to log it with this code:</p>\n\n<pre><code>NSLog(@\"Offset: %lld\", [offsets[0] longLongValue]);\n</code></pre>\n\n<p>It prints out: \"0\"</p>\n\n<p>When I remove the \"0x\" from 0x1003567, it prints out the correct numbers.</p>\n\n<p>However, I do need the \"0x\" in order to be able to use it.</p>\n\n<p>Is there any way I can make it convert how I would want it? </p>\n"}, {"tags": ["objective-c", "xcode", "bluetooth"], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 3979243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe514f92669bd1f4212aaeddcdcaa9b?s=128&d=identicon&r=PG&f=1", "display_name": "RobertT", "link": "https://stackoverflow.com/users/3979243/robertt"}, "is_accepted": false, "score": 0, "last_activity_date": 1554214125, "creation_date": 1554214125, "answer_id": 55476877, "question_id": 55129999, "link": "https://stackoverflow.com/questions/55129999/cllocationmanager-didrangebeacons-stops-working-in-foreground/55476877#55476877", "title": "CLLocationManager didRangeBeacons stops working in foreground", "body": "<p>Have found that this problem appears to be hardware related.  Testing on an iPad Mini has the problem, while testing on an iPhone XS does not (Both using OS 12.2).</p>\n\n<p>And, oddly enough, using iBeacons from a different manufacturer (but with identical advertisement settings) would also fix the issue.  In that case using the iPad or the phone would work.</p>\n"}], "owner": {"reputation": 67, "user_id": 3979243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe514f92669bd1f4212aaeddcdcaa9b?s=128&d=identicon&r=PG&f=1", "display_name": "RobertT", "link": "https://stackoverflow.com/users/3979243/robertt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1554214125, "creation_date": 1552421810, "last_edit_date": 1552662944, "question_id": 55129999, "link": "https://stackoverflow.com/questions/55129999/cllocationmanager-didrangebeacons-stops-working-in-foreground", "title": "CLLocationManager didRangeBeacons stops working in foreground", "body": "<p>I've got a beacon ranging app that previously was working fine in both foreground and background for extended periods of time (days).  Now recently it will suddenly stop showing any beacons even in foreground.  Typically, it will work fine for 18 to 20 minutes, then stop and show my beacons being ranged with a value of 0 RSSI (viewing using debug messages in xcode log window), even though the beacons are only feet away and previously registering RSSI values of -60.  After a few seconds, it will continue to fire the didRangeBeacons event every second but with an empty array of beacons.</p>\n\n<p>I saw another thread <a href=\"https://stackoverflow.com/questions/53005174/ios-12-terminates-apps-in-the-background-for-no-reason\">here</a> about iOS 12.1 having a bug causing ranging to stop in the background and that 12.2 beta 2 had a fix, so I updated the iPad I'm using for testing from 12.1 to 12.2 beta 4 but still having the issue.</p>\n\n<p>When the device gets into this state, I can stop the app and re-run it and it will work again for about 20 minutes:</p>\n\n<p>OR</p>\n\n<p>I can switch to the settings screen on the iPad while my app is still running and watching my messages in xCode.  As soon as I open the settings screen, I can see the debug messages immediately start showing beacons again.  I can switch back to my app and it will continue to work for around 20 minutes, then fail again.</p>\n\n<p>I do have CLLocationManager pausesLocationUpdatesAutomatically set to false.</p>\n\n<p>It almost sounds like the Bluetooth is shutting off, but it is very perplexing.</p>\n\n<p>UPDATE:</p>\n\n<p>I have seen that the app will continue to work for hours in the background if the screen is turned off / locked.  It only stops working if the screen is on, either in foreground or background.</p>\n\n<p>I have tried resetting the test iPad and also resetting network settings and location permissions with no change in observed performance.</p>\n\n<p>This looks like the same sort of situation that happened when Apple first released iOS 10, and broke beacon ranging.</p>\n\n<p>UPDATE 2:</p>\n\n<p>Checking for the following CLLocationManager events, and none of them are being triggered when ranging stops:</p>\n\n<p>didFailWithError</p>\n\n<p>rangingBeaconsDidFailForRegion</p>\n\n<p>locationManagerDidPauseLocationUpdates</p>\n\n<p>didExitRegion</p>\n\n<p>didChangeAuthorizationStatus</p>\n\n<p>Also, running gpx file in a loop to simulate location changing doesn't change the observed bug.</p>\n"}, {"tags": ["objective-c", "clgeocoder"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1552453773, "post_id": 55122742, "comment_id": 97010284, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27671435/clplacemark-crash-in-swift\">CLPlacemark crash in Swift</a>"}], "answers": [{"tags": [], "owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "is_accepted": false, "score": 0, "last_activity_date": 1552667586, "creation_date": 1552667586, "answer_id": 55186994, "question_id": 55122742, "link": "https://stackoverflow.com/questions/55122742/unable-to-get-postal-code-from-clgeocoder/55186994#55186994", "title": "Unable to get postal code from CLGeocoder", "body": "<p>You should check <code>placemark.postalCode</code> before you pass to init for <code>NSString</code>\nCheck if it is nil.</p>\n"}], "owner": {"reputation": 303, "user_id": 2224374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6de51e95d6724f43552b4865a61e4fb9?s=128&d=identicon&r=PG", "display_name": "Vix Hunk", "link": "https://stackoverflow.com/users/2224374/vix-hunk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552667586, "creation_date": 1552397590, "last_edit_date": 1552410810, "question_id": 55122742, "link": "https://stackoverflow.com/questions/55122742/unable-to-get-postal-code-from-clgeocoder", "title": "Unable to get postal code from CLGeocoder", "body": "<p>i am trying to get postal code from CLGeocoder but app is crashing with error <code>*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSPlaceholderString initWithString:]: nil argument'</code></p>\n\n<p>here is my code</p>\n\n<pre><code>CLPlacemark *placemark = [placemarks objectAtIndex:0];\n             NSString *Postalcode = [[NSString alloc]initWithString:placemark.postalCode];\n             NSLog(@\"Postal : %@\",Postalcode);\n</code></pre>\n\n<p>output is \"null\"</p>\n"}, {"tags": ["ios", "objective-c"], "owner": {"reputation": 61, "user_id": 5134374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n6ax6.jpg?s=128&g=1", "display_name": "Hiren", "link": "https://stackoverflow.com/users/5134374/hiren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1552453961, "creation_date": 1552397447, "last_edit_date": 1552453961, "question_id": 55122699, "link": "https://stackoverflow.com/questions/55122699/apple-music-api-developer-token", "title": "Apple Music api developer token", "body": "<p>i am trying to get user token, what is user token, how to generate\n    user token in ios app?</p>\n\n<pre><code>-(void) requestUserToken {\n        if ([SKCloudServiceController authorizationStatus] == SKCloudServiceAuthorizationStatusAuthorized) {\n            SKCloudServiceController *serviceController = [[SKCloudServiceController alloc] init];\n\n            if (@available(iOS 11.0, *)) {\n                [serviceController requestUserTokenForDeveloperToken:@\"\" completionHandler:^(NSString * _Nullable userToken, NSError * _Nullable error) {\n                    if (error != nil) {\n                        NSLog(@\"userToken_Error :%@\", error);\n                    }\n                    else{\n                        NSLog(@\"userToken %@\", userToken);\n                    }\n                }];\n            } else {\n                [serviceController requestPersonalizationTokenForClientToken:@\"\" withCompletionHandler:^(NSString * _Nullable personalizationToken, NSError * _Nullable error) {\n                    NSLog(@\"personalizationToken %@\", personalizationToken);\n                }];\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "ios", "objective-c", "swift", "objective-c++"], "comments": [{"owner": {"reputation": 1501, "user_id": 4693817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZnOg.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/4693817/anand"}, "edited": false, "score": 0, "creation_date": 1552493419, "post_id": 55122404, "comment_id": 97033489, "body": "Could you please paste the xcode build error snapshot here? which xcode version you are using? Do you have any code in Test.cpp file?"}], "answers": [{"tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1553822947, "creation_date": 1553822947, "answer_id": 55409256, "question_id": 55122404, "link": "https://stackoverflow.com/questions/55122404/swift-compiler-not-able-to-find-c-libraries/55409256#55409256", "title": "swift compiler not able to find c++ libraries", "body": "<p>You cannot include C++ headers in your bridging header to call C++ code directly from Swift.  Essentially, there are at least two options.</p>\n\n<ul>\n<li>Write a C wrapper around C++ code and incorporate the C wrapper into\nSwift via the bridging header.</li>\n<li>Write an Objective-C++ wrapper with an API that does not involve C++\ntypes.  Internally the wrapper implementation can call C++ code.  Invoke your wrapper API in Swift like you would invoke any Objective-C code.</li>\n</ul>\n\n<p>Both of these approaches are described here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35229149/interacting-with-c-classes-from-swift\">Interacting with C++ classes from Swift</a></p>\n"}], "owner": {"reputation": 343, "user_id": 3668376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBz8j.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3668376/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 55409256, "answer_count": 1, "score": 1, "last_activity_date": 1553822947, "creation_date": 1552396653, "question_id": 55122404, "link": "https://stackoverflow.com/questions/55122404/swift-compiler-not-able-to-find-c-libraries", "title": "swift compiler not able to find c++ libraries", "body": "<p>I created two single view iOS projects from Xcode. The first one in Swift and the second one in Objective-C.</p>\n\n<p>In those two projects, I add both Test.cpp / Test.hpp files which only include  C++ library. Of course, for the Swift project only, I have to create a Bridging Header to import this file.</p>\n\n<p>Test.hpp file looks like this:</p>\n\n<pre><code>#ifndef TestCpp_hpp\n#define TestCpp_hpp\n\n#include &lt;stdio.h&gt;\n#include &lt;cstdlib&gt;\n\n#endif /* TestCpp_hpp */\n</code></pre>\n\n<p>The issue I have is that the Objective-C project is building successfully, meanwhile the Swift project fails to find the <code>cstdlib</code> C++ library.</p>\n\n<p>I checked the compilation command and the Swift project uses <code>swift</code> to build. The Objective-C project uses <code>clang</code>.</p>\n\n<p>I tried to change the <code>C++ Language Dialect</code> and <code>C++ Standard Library</code> in the build settings but nothing is working.</p>\n\n<p>Is there some special setup to do in order to be able to build the Swift project?</p>\n"}, {"tags": ["objective-c", "base64"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 3, "creation_date": 1552395773, "post_id": 55122138, "comment_id": 96985657, "body": "Did you check <code>decodedData</code> ? Most probably, it is not a valid UTF-8 sequence."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1552395978, "post_id": 55122138, "comment_id": 96985774, "body": "<code>decodedData</code> is not nil (I tested it). But the question, is what is it supposed to represent? The start being <code>&lt;1f8b08</code>, it let me think that&#39;s a GZip file. So you need to unzip it first. And then, if it&#39;s supposed to be a valid String, you can find it."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1552395997, "post_id": 55122138, "comment_id": 96985783, "body": "The decoded data is <code>&lt;1f8b0800 00000000 0400b592 ... e4980370 04030000&gt;</code>. What does that represent? What string result do you expect?"}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "edited": false, "score": 0, "creation_date": 1552396128, "post_id": 55122138, "comment_id": 96985865, "body": "So I expect to be a compressed string that will decompress with gzip. But I&#39;m struggling to decode the base64"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1552396133, "post_id": 55122138, "comment_id": 96985869, "body": "Here for a third party that can help you and which has a method that seems to supports the idea it&#39;s a GZip: <a href=\"https://github.com/nicklockwood/GZIP/blob/abe8958353972c77b79f0fd1adafb94d52d4096d/GZIP/NSData%2BGZIP.m#L130\" rel=\"nofollow noreferrer\">github.com/nicklockwood/GZIP/blob/&hellip;</a>"}, {"owner": {"reputation": 4095, "user_id": 3957200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/25mzd.jpg?s=128&g=1", "display_name": "Cinder Biscuits", "link": "https://stackoverflow.com/users/3957200/cinder-biscuits"}, "edited": false, "score": 1, "creation_date": 1552396197, "post_id": 55122138, "comment_id": 96985915, "body": "@astricmobiles You can&#39;t decode it to a string because it&#39;s binary data."}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552396198, "post_id": 55122138, "comment_id": 96985916, "body": "So, @Larme, do I need to decompress first, then decode?"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1552396247, "post_id": 55122138, "comment_id": 96985954, "body": "@astricmobiles: The problem is <i>not</i> the Base64 decoding, the <code>initWithBase64EncodedString</code> step <i>succeeds.</i>"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552396389, "post_id": 55122138, "comment_id": 96986046, "body": "You don&#39;t understand: Base64 is a way to represent HexData (could be an image, etc.) into a String (and vice-versa) using a certain algorithm, and with &quot;basic characters&quot; (no no issue about encoding). GZip is a compression of HexData. We can have a representation of a String into HexData according to the encoding (and encoding usually doesn&#39;t manage all the hex values, there are combination that produce invalid characters) we want. You need to decompose each step and understand them."}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552396603, "post_id": 55122138, "comment_id": 96986203, "body": "ok @Larme,  So I think I get it...  I need to decompress the string which will output HexData. and then I can decode the HexData? Have I understood that correctly?"}], "answers": [{"tags": [], "owner": {"reputation": 4095, "user_id": 3957200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/25mzd.jpg?s=128&g=1", "display_name": "Cinder Biscuits", "link": "https://stackoverflow.com/users/3957200/cinder-biscuits"}, "is_accepted": false, "score": 3, "last_activity_date": 1552397168, "last_edit_date": 1552397168, "creation_date": 1552396350, "answer_id": 55122318, "question_id": 55122138, "link": "https://stackoverflow.com/questions/55122138/unable-to-decode-gzipped-base64-nsstring/55122318#55122318", "title": "Unable to decode gzipped Base64 NSString", "body": "<p>The Base64 decoded output is <em>not</em> a string, it is binary data. </p>\n\n<p>You are getting nil returned because it is not a UTF-8 string and arbitrary data is generally not valid UTF-8.</p>\n\n<p>Decode using <a href=\"https://developer.apple.com/documentation/foundation/nsdatabase64decodingoptions/nsdatabase64decodingignoreunknowncharacters?language=objc\" rel=\"nofollow noreferrer\"><code>NSDataBase64DecodingIgnoreUnknownCharacters</code></a> to avoid the decoder discarding non-Base-64 bytes.</p>\n\n<pre><code>NSData *decodedData = [[NSData alloc]initWithBase64EncodedString:input\n                       options:NSDataBase64DecodingIgnoreUnknownCharacters];\n</code></pre>\n\n<p>Once you have <code>decodedData</code>, you can decompress the buffer with whatever function or library you decide on, then you can read the string. You may want to look at the <a href=\"https://stackoverflow.com/questions/13831953/unzip-nsdata-using-objective-zip\">answer here</a> for an idea of how to decompress your data.</p>\n"}, {"comments": [{"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "edited": false, "score": 0, "creation_date": 1552409237, "post_id": 55122585, "comment_id": 96995001, "body": "Great explanation. Helped me to understand what I was doing wrong - thank you."}], "tags": [], "owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "is_accepted": true, "score": 2, "last_activity_date": 1552401943, "last_edit_date": 1552401943, "creation_date": 1552397150, "answer_id": 55122585, "question_id": 55122138, "link": "https://stackoverflow.com/questions/55122138/unable-to-decode-gzipped-base64-nsstring/55122585#55122585", "title": "Unable to decode gzipped Base64 NSString", "body": "<p><code>decodedData</code> is not nil.\nIt's value is: <code>&lt;1f8b0800 ...</code></p>\n\n<p><code>1f8b</code> let me think it's a GZip.</p>\n\n<p>Any hex data is not convertible as such into a String using UTF8 Encoding. UTF8 doesn't have value for each possible hex. There are non-valid combination, and so your final string is nil. \nFor instance, transform an <code>UIImage</code> into PNG HexData (using <code>UIImagePNGRepresentation()</code>) and try it to convert it into a <code>NSString</code> using NSUTF8StringEncoding. You'll see.</p>\n\n<p>Using the code of <a href=\"https://github.com/nicklockwood/GZIP/\" rel=\"nofollow noreferrer\">https://github.com/nicklockwood/GZIP/</a> (first one I found):</p>\n\n<pre><code>NSData *unzippedData = [decodedData gunzippedData];\nNSString *decodedString = [[NSString alloc] initWithData:unzippedData encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"MESSAGEID\":\"PgGCBnrKKsGuhqq_mm1gg\",\"TIMESTAMP\":\"2019-03-12T12:53:05.3004826\",\"TYPE\":\"UPDATE\",\"users\" : [{\"userId\":\"8be21d1690bb46979a04b4e45a1ba625\",\"insId\":\"20\",\"operId\":\"30222e0b4b0e4df6b669c3cf69245422\",\"itemUserId\":15,\"fName\":\"Aaron\",\"lName\":\"Strickland\",\"calendarId\":0,\"editTime\":\"2019-03-12T12:53:05.3815928\",\"keyId\":\"ce71bc7ae3c145adad18a72e56cf0fab\",\"projectId\":\"950710ab2b96413cbfd186141e147b3e\",\"delFlag\":0,\"userPin\":\"123456\"}],\"keys\" : [{\"keyId\":\"ce71bc7ae3c145adad18a72e56cf0fab\",\"projectId\":\"950710ab2b96413cbfd186141e147b3e\",\"insId\":\"20\",\"itemKeyId\":15,\"startTime\":\"2016-05-31T21:10:00\",\"endTime\":\"2019-03-28T15:19:00\",\"validateCount\":13,\"editTime\":\"2019-03-12T12:53:05.3815928\",\"updateStatus\":1,\"delFlag\":0,\"calendarId\":\"b306db7e1f924fdebade3813dd596f5d\"}]\n</code></pre>\n\n<p>Seems almost like JSON. I would have add \"{\" and \"}\" around it.</p>\n\n<p>With a little of workaround:</p>\n\n<pre><code>NSMutableData *finalData = [[NSMutableData alloc] initWithData:[@\"{\" dataUsingEncoding:NSUTF8StringEncoding]];\n[finalData appendData:unzippedData];\n[finalData appendData:[@\"}\" dataUsingEncoding:NSUTF8StringEncoding]];\nNSData *dictionary = [NSJSONSerialization JSONObjectWithData:finalData options:0 error:nil];\nNSLog(@\"dictionary: %@\", dictionary);\n</code></pre>\n\n<p>It's up to you to know why the syntax is strange, but with that you a \"usable\" <code>NSDictionary</code>.</p>\n"}], "owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 55122585, "answer_count": 2, "score": 0, "last_activity_date": 1552413100, "creation_date": 1552395683, "last_edit_date": 1552413100, "question_id": 55122138, "link": "https://stackoverflow.com/questions/55122138/unable-to-decode-gzipped-base64-nsstring", "title": "Unable to decode gzipped Base64 NSString", "body": "<p>So I'm trying to decode a base64 encoded string but I'm not having any luck..  <code>decodedString</code> is always null!  I've tried for hours and totally out of ideas. Even tried third party libraries.</p>\n\n<p>Code:</p>\n\n<pre><code>NSString *input = @\"H4sIAAAAAAAEALWSTW/TQBCG/0q15wTN7Je9voU2RFFUFCnuASGE9mMcTB0n9QcSQvx3xm6QWsSFAzev53l3Zp9dcb8+HFab9fZOFGJ/3Ny+bbvdrt+MX56ePp9OeDyKhSi3TJWr+z0zEtAtQS1RligLowowbxSAzqWdyA/7NUMP+7tVueb12FPXi5vi5uOP+XubuJoHkpjQOghBW5c5Dzpo0sZj8FYaztVtP6MSeHG+XIMKpJQEQQcgnSobrHVRxco6qY2WcgoOdHq4NkKzENV7fyKOrnx3brneXNeHoavjY+PbxD+jb6hNfg7BQlCqh7Kesb+eNkfjZM65R/o+zxUpwxAzTyoinyL5hLnPJBkbK6h8YPTSnb9SHGbcGcgQfJDBWY0qhop5ixoJdRYUMZ6oedf44zzO5G1ftxxEqbSx4uenufVvr/9vile3MJndPbeaxPaD715YskswS4WlxAKhgCnASv+wKPMSTYHuuf7NN3XyA92ex3bgTdU/mB8vU/Iw+GHsOfpa2MvrFEGBTSEjrPiRVImCT8T7qJSMs5VJbPMX5JgDcAQDAAA=\";\n\nNSData *decodedData = [[NSData alloc] initWithBase64EncodedString:input options:0];\nNSString *decodedString = [[NSString alloc] initWithData:decodedData encoding:NSUTF8StringEncoding];\nNSLog(@\"Decode String Value: %@\", decodedString);\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11192040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8b9efa374a4974f863ea50bf7f1c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Egor Zyryanov", "link": "https://stackoverflow.com/users/11192040/egor-zyryanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1552419410, "last_edit_date": 1552419410, "creation_date": 1552403686, "answer_id": 55124910, "question_id": 55120978, "link": "https://stackoverflow.com/questions/55120978/why-xcode-returns-the-error-file-not-found-when-i-import-a-header-file-into-my/55124910#55124910", "title": "Why Xcode returns the error &quot;file not found&quot; when i import a header file into my unit test class?", "body": "<p>Simply create new schema for your test target. After that your project resources will be linked to your test target.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3825773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003939885121/picture?type=large", "display_name": "Yash Rathore", "link": "https://stackoverflow.com/users/3825773/yash-rathore"}, "is_accepted": false, "score": 2, "last_activity_date": 1593287567, "last_edit_date": 1593287567, "creation_date": 1558771744, "answer_id": 56303014, "question_id": 55120978, "link": "https://stackoverflow.com/questions/55120978/why-xcode-returns-the-error-file-not-found-when-i-import-a-header-file-into-my/56303014#56303014", "title": "Why Xcode returns the error &quot;file not found&quot; when i import a header file into my unit test class?", "body": "<p>In Xcode 10.1 when you import any file in test class, it will show an error &quot;File not found&quot;. Just add the <code>#import</code> and build the test target anyway; the error warning will resolve itself.</p>\n<p>In case of , add the pods separately for both target and test targets.</p>\n"}], "owner": {"reputation": 91, "user_id": 5025947, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c352bc5f6d61e40a38990fa824e341d?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Penteado", "link": "https://stackoverflow.com/users/5025947/fernando-penteado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1593287567, "creation_date": 1552391997, "question_id": 55120978, "link": "https://stackoverflow.com/questions/55120978/why-xcode-returns-the-error-file-not-found-when-i-import-a-header-file-into-my", "title": "Why Xcode returns the error &quot;file not found&quot; when i import a header file into my unit test class?", "body": "<p>I am trying to create an unit test for my Objective-C project, and I go through the following steps:</p>\n\n<ol>\n<li>File > New > Target</li>\n<li>Select iOS Unit Testing Bundle</li>\n<li>I select my project as 'Target to be tested'</li>\n<li>Xcode creates the .m file for the test</li>\n</ol>\n\n<p>When i import the class i want to test it highlights the line in red and show ViewController.h file not found</p>\n\n<p>What am I missing, why my test class is not able to import my other classes?</p>\n\n<p>I am using Xcode 10.1 and i have never had this problem before</p>\n\n<p>Thanks,</p>\n\n<p>FP</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "safearealayoutguide"], "comments": [{"owner": {"reputation": 85, "user_id": 4304998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab668bfee69fad07fdd260eeaa4b711?s=128&d=identicon&r=PG&f=1", "display_name": "ChooGoo", "link": "https://stackoverflow.com/users/4304998/choogoo"}, "edited": false, "score": 0, "creation_date": 1552380560, "post_id": 55115894, "comment_id": 96976209, "body": "If I understand you correctly, you need to pinch your glView to its superviews&#39;s safeArea. Like this [glView.leadingAnchor constraintEqualToAnchor:self.safeAreaLayoutGuide.leadingAnch&zwnj;&#8203;or].active = YES;"}], "answers": [{"tags": [], "owner": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "is_accepted": true, "score": 0, "last_activity_date": 1552380527, "creation_date": 1552380527, "answer_id": 55117333, "question_id": 55115894, "link": "https://stackoverflow.com/questions/55115894/how-to-fix-safearealayoutguide/55117333#55117333", "title": "How to fix SafeAreaLayoutGuide", "body": "<p>You need to have a fullscreen parent view. Then you can add the <code>OpenGLView</code> as subview and connect its constraints to the parent view's <code>safeAreaLayoutGuide</code>.</p>\n\n<pre><code>- (void)createGLView {\n\n    OpenGLView *glView = [[OpenGLView alloc] initWithFrame:self.appDelegate.initFrame];\n    [self.view addSubview:glView];\n\n    self.appDelegate.canvas = glView;\n\n    core_init_gl(1);\n\n    glView.backgroundColor = [UIColor redColor];\n    glView.translatesAutoresizingMaskIntoConstraints = NO;\n\n    [glView.leadingAnchor constraintEqualToAnchor:self.view.safeAreaLayoutGuide.leadingAnchor].active = YES;\n    [glView.trailingAnchor constraintEqualToAnchor:self.view.safeAreaLayoutGuide.trailingAnchor].active = YES;\n    [glView.topAnchor constraintEqualToAnchor:self.view.safeAreaLayoutGuide.topAnchor].active = YES;\n    [glView.bottomAnchor constraintEqualToAnchor:self.view.safeAreaLayoutGuide.bottomAnchor].active = YES;\n\n    int w = self.appDelegate.screenWidthPixels;\n    int h = self.appDelegate.screenHeightPixels;\n    tealeaf_canvas_resize(w, h);\n\n    NSLOG(@\"{tealeaf} Created GLView (%d, %d)\", w, h);\n}\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 7485670, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--yNCjG4y1uU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r49uqQ64fBfDP1y_K5z5xCim1nHQ/mo/photo.jpg?sz=128", "display_name": "The Keeper", "link": "https://stackoverflow.com/users/7485670/the-keeper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 55117333, "answer_count": 1, "score": 1, "last_activity_date": 1552382946, "creation_date": 1552374606, "last_edit_date": 1552382946, "question_id": 55115894, "link": "https://stackoverflow.com/questions/55115894/how-to-fix-safearealayoutguide", "title": "How to fix SafeAreaLayoutGuide", "body": "<p>I am making a game with canvas. The game is clipped because of the top notch, I've tried <code>SafeAreaLayoutGuide</code> but nothing happened. Please look at the code below and let me know what I am doing wrong.</p>\n\n<pre><code>-(void) createGLView {\n    //create our openglview and size it correctly\n    OpenGLView *glView = [[OpenGLView alloc] initWithFrame:self.appDelegate.initFrame];\n\n    self.view = glView;\n    self.appDelegate.canvas = glView;\n\n    core_init_gl(1);\n\n    glView.backgroundColor = [UIColor redColor];\n    glView.translatesAutoresizingMaskIntoConstraints = NO;\n\n    [glView.leadingAnchor constraintEqualToAnchor:glView.safeAreaLayoutGuide.leadingAnchor].active = YES;\n    [glView.trailingAnchor constraintEqualToAnchor:glView.safeAreaLayoutGuide.trailingAnchor].active = YES;\n    [glView.topAnchor constraintEqualToAnchor:glView.safeAreaLayoutGuide.topAnchor].active = YES;\n    [glView.bottomAnchor constraintEqualToAnchor:glView.safeAreaLayoutGuide.bottomAnchor].active = YES;\n\n    int w = self.appDelegate.screenWidthPixels;\n    int h = self.appDelegate.screenHeightPixels;\n    tealeaf_canvas_resize(w, h);\n\n    NSLOG(@\"{tealeaf} Created GLView (%d, %d)\", w, h);\n}\n</code></pre>\n\n<p>The red color goes inside the top notch. I mean full screen. How to solve this?</p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1552360334, "post_id": 55113565, "comment_id": 96969383, "body": "What is the exact value of <code>dateWithTime</code>? Please put that in your question."}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1552360832, "post_id": 55113565, "comment_id": 96969480, "body": "already edit the question. the date i stated in the dateWithTime."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1552361040, "post_id": 55113565, "comment_id": 96969527, "body": "Start by changing the <code>-</code> to <code>&#47;</code> to match the string. Try changing <code>am</code> to <code>AM</code> to match the string. If none of those work, set the formatter&#39;s locale to the special locale of <code>en_US_POSIX</code> (which you should do either way)."}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1552363463, "post_id": 55113565, "comment_id": 96969998, "body": "thanks you so much. By setting thing locale does work."}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1552362017, "post_id": 55113715, "comment_id": 96969729, "body": "You don&#39;t want <code>en_US</code>, you want <code>en_US_POSIX</code>."}], "tags": [], "owner": {"reputation": 1286, "user_id": 5336761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9f93cdc39ba97cd77b077eea55f034?s=128&d=identicon&r=PG&f=1", "display_name": "Pooja Kamath", "link": "https://stackoverflow.com/users/5336761/pooja-kamath"}, "is_accepted": true, "score": 2, "last_activity_date": 1552362182, "last_edit_date": 1552362182, "creation_date": 1552361435, "answer_id": 55113715, "question_id": 55113565, "link": "https://stackoverflow.com/questions/55113565/nsdate-returning-null-when-debugging-in-phone/55113715#55113715", "title": "NSDate returning NULL when debugging in phone", "body": "<p>Try setting the locale for the date formatter</p>\n\n<pre><code>fmt.locale = [[NSLocale alloc] initWithLocaleIdentifier:@\"en_US\"];\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>For en_US_POSIX locale you can use:</p>\n\n<pre><code> fmt.locale = [[NSLocale alloc] initWithLocaleIdentifier:@\"en_US_POSIX\"];\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1552363747, "accepted_answer_id": 55113715, "answer_count": 1, "score": -2, "last_activity_date": 1552362182, "creation_date": 1552360253, "last_edit_date": 1552360778, "question_id": 55113565, "link": "https://stackoverflow.com/questions/55113565/nsdate-returning-null-when-debugging-in-phone", "closed_reason": "Duplicate", "title": "NSDate returning NULL when debugging in phone", "body": "<p>This NSDate able to get the show when i debugging in simulator from xcode. But when I debugging in iphone6 it show NULL.</p>\n\n<pre><code>NSString *dateWithTime = [NSString stringWithFormat:@\"2019/03/18 09:30 AM\"];\n\n    NSDateFormatter *fmt = [[NSDateFormatter alloc] init];\n    fmt.dateFormat = @\"yyyy-MM-dd hh:mm a\";\n    [fmt setAMSymbol:@\"am\"];\n    [fmt setPMSymbol:@\"pm\"];\n\n    fmt.timeZone = [NSTimeZone systemTimeZone];\n    NSDate *localDate = [fmt dateFromString:dateWithTime];\n    NSLog(@\"DATE -- %@ \", [fmt stringFromDate:localDate]);\n</code></pre>\n\n<p>No idea is it because the phone timezone not using am/pm or any other causes. </p>\n\n<p>Kindly please help me answer it.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1552360748, "post_id": 55113293, "comment_id": 96969459, "body": "What if you say <code>WithID</code> instead (note the caps)?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552364611, "post_id": 55113293, "comment_id": 96970247, "body": "Do you see the error on the declaration or when you try to call the function from an Objective-C file?  I pasted the declaration into a Swift file and did not get an error."}, {"owner": {"reputation": 945, "user_id": 2630823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0B9Xk.png?s=128&g=1", "display_name": "robinkunde", "link": "https://stackoverflow.com/users/2630823/robinkunde"}, "edited": false, "score": 0, "creation_date": 1552367348, "post_id": 55113293, "comment_id": 96970948, "body": "I can&#39;t reproduce this in Xcode 10.1/Swift 4.2."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 0, "creation_date": 1552367971, "post_id": 55113293, "comment_id": 96971107, "body": "The error message makes me wonder if this method is part of a protocol implementation. Is that the case? If so, and if the protocol is <code>@objc</code>, the method selectors are going to be constrained by the protocol, and you won&#39;t be able to change them."}, {"owner": {"reputation": 11, "user_id": 11188395, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y1bAFIb6qfs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0Roa4rASPNC56qoAaID4wWm3mow/mo/photo.jpg?sz=128", "display_name": "Shah Martinez", "link": "https://stackoverflow.com/users/11188395/shah-martinez"}, "edited": false, "score": 0, "creation_date": 1552415601, "post_id": 55113293, "comment_id": 96998528, "body": "Turns out the methods WERE part of a protocol and that I needed to rename them there. Problem solved"}], "owner": {"reputation": 11, "user_id": 11188395, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y1bAFIb6qfs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0Roa4rASPNC56qoAaID4wWm3mow/mo/photo.jpg?sz=128", "display_name": "Shah Martinez", "link": "https://stackoverflow.com/users/11188395/shah-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552358272, "creation_date": 1552358272, "question_id": 55113293, "link": "https://stackoverflow.com/questions/55113293/error-objective-c-method-provided-by-method-does-not-match-the-requirem", "title": "Error &#39;Objective-C method &#39;:&#39; provided by method &#39; &#39; does not match the requirement&#39;s selector when I try to rename using @objc(newName)", "body": "<p>I have a method </p>\n\n<pre><code>public func presentSomeView(with viewId: String? = nil, from viewController: UIViewController, completion: ((UIViewController) -&gt; ())? = nil)\n</code></pre>\n\n<p>I am trying to have the Objective-C API be </p>\n\n<pre><code>presentSomeViewWithId: from: completion:\n</code></pre>\n\n<p>Instead, the default is:</p>\n\n<pre><code>presentSomeViewWith: from: completion:\n</code></pre>\n\n<p>To try to fix this, I have written:</p>\n\n<pre><code>@objc(presentSomeViewWithId:from:completion:) \npublic func presentSomeView(with viewId: String? = nil, from viewController: UIViewController, completion: ((UIViewController) -&gt; ())? = nil)\n</code></pre>\n\n<p>Xcode presents the following <strong><em>\"Fix-It\"</em></strong> error:</p>\n\n<pre><code>Objective-C method 'presentSomeViewWithId:from:completion:' provided by method 'presentSomeView(with:from:completion:)' does not match the requirement's selector ('presentSomeViewWith:from:completion:')\n\nReplace 'presentSomeViewWithId:from:completion:' with 'presentSomeViewWith:from:completion:'\n</code></pre>\n\n<p>What am I missing here?  I've searched everywhere and by all suggestions, this <strong><em>should</em></strong> work.</p>\n"}, {"tags": ["ios", "objective-c", "twitterkit"], "comments": [{"owner": {"reputation": 1666, "user_id": 2081663, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/736adb8e46653f06db563482a79a4376?s=128&d=identicon&r=PG", "display_name": "Ben Avery", "link": "https://stackoverflow.com/users/2081663/ben-avery"}, "edited": false, "score": 0, "creation_date": 1552346331, "post_id": 55110908, "comment_id": 96966170, "body": "Doesn&#39;t work in what way? Can you give us a little more detail?"}, {"owner": {"reputation": 1, "user_id": 8811401, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--ZX-zMl7dBU/AAAAAAAAAAI/AAAAAAAAG6E/K9-z7yEGwOI/photo.jpg?sz=128", "display_name": "Bodia Deshko", "link": "https://stackoverflow.com/users/8811401/bodia-deshko"}, "reply_to_user": {"reputation": 1666, "user_id": 2081663, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/736adb8e46653f06db563482a79a4376?s=128&d=identicon&r=PG", "display_name": "Ben Avery", "link": "https://stackoverflow.com/users/2081663/ben-avery"}, "edited": false, "score": 0, "creation_date": 1552468834, "post_id": 55110908, "comment_id": 97016828, "body": "how to follow user from app after login in twitter, cant call this API <a href=\"https://api.twitter.com/1.1/friendships/create.json\" rel=\"nofollow noreferrer\">api.twitter.com/1.1/friendships/create.json</a>&quot; from Twitter documentation <a href=\"https://developer.twitter.com/en/docs/accounts-and-users/follow-search-get-users/api-reference/post-friendships-create\" rel=\"nofollow noreferrer\">developer.twitter.com/en/docs/accounts-and-users/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 8035213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q4AF3.png?s=128&g=1", "display_name": "Madhu_Nani", "link": "https://stackoverflow.com/users/8035213/madhu-nani"}, "edited": false, "score": 0, "creation_date": 1552491134, "post_id": 55110908, "comment_id": 97031873, "body": "Here is the Twitter documentation user to follow <a href=\"https://developer.twitter.com/en/docs/accounts-and-users/follow-search-get-users/api-reference/post-friendships-create\" rel=\"nofollow noreferrer\">developer.twitter.com/en/docs/accounts-and-users/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 2081663, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/736adb8e46653f06db563482a79a4376?s=128&d=identicon&r=PG", "display_name": "Ben Avery", "link": "https://stackoverflow.com/users/2081663/ben-avery"}, "is_accepted": false, "score": 0, "last_activity_date": 1552601284, "creation_date": 1552601284, "answer_id": 55172743, "question_id": 55110908, "link": "https://stackoverflow.com/questions/55110908/twitter-follow-to-certain-user/55172743#55172743", "title": "Twitter - Follow to certain user", "body": "<p>You don't appear to have any authentication information in your request. </p>\n\n<p>If you look at the twitter documentation it gives you a curl example </p>\n\n<pre><code>--url 'https://api.twitter.com/1.1/friendships/create.json?user_id=USER_ID_TO_FOLLOW&amp;follow=true' \n--header 'authorization: OAuth oauth_consumer_key=\"YOUR_CONSUMER_KEY\", oauth_nonce=\"AUTO_GENERATED_NONCE\", oauth_signature=\"AUTO_GENERATED_SIGNATURE\", oauth_signature_method=\"HMAC-SHA1\", oauth_timestamp=\"AUTO_GENERATED_TIMESTAMP\", oauth_token=\"USERS_ACCESS_TOKEN\", oauth_version=\"1.0\"' \n--header 'content-type: application/json' \n</code></pre>\n\n<p>the important information you are missing is here \n<code>--header 'authorization: OAuth oauth_consumer_key=\"YOUR_CONSUMER_KEY\", oauth_nonce=\"AUTO_GENERATED_NONCE\", oauth_signature=\"AUTO_GENERATED_SIGNATURE\", oauth_signature_method=\"HMAC-SHA1\", oauth_timestamp=\"AUTO_GENERATED_TIMESTAMP\", oauth_token=\"USERS_ACCESS_TOKEN\", oauth_version=\"1.0\"'</code></p>\n\n<p>You can append that information by adding each header field like so </p>\n\n<p><code>urlRequest.addValue(\"oauth_consumer_key\", forHTTPHeaderField: \"YOUR_CONSUMER_KEY\")</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8811401, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--ZX-zMl7dBU/AAAAAAAAAAI/AAAAAAAAG6E/K9-z7yEGwOI/photo.jpg?sz=128", "display_name": "Bodia Deshko", "link": "https://stackoverflow.com/users/8811401/bodia-deshko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1552601284, "creation_date": 1552340838, "question_id": 55110908, "link": "https://stackoverflow.com/questions/55110908/twitter-follow-to-certain-user", "title": "Twitter - Follow to certain user", "body": "<p>I am developing the iOS app where user can login from twitter and follow certain users.But following doesn't work.</p>\n\n<pre><code>- (void)executeFollowRequestWithComplition:(nonnull SuccessResultBlock)complition {\n    NSURLSessionConfiguration *defaultSessionConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];\n    NSURLSession *defaultSession = [NSURLSession sessionWithConfiguration:defaultSessionConfiguration];\n\n    NSURL *url = [NSURL URLWithString:@\"https://api.twitter.com/1.1/friendships/create.json\"];\n    NSMutableURLRequest *urlRequest = [NSMutableURLRequest requestWithURL:url];\n\n    NSString *postParams = [NSString stringWithFormat:@\"screen_name=%@&amp;follow=true\", twitterName];\n\n    [urlRequest setHTTPMethod:@\"POST\"];\n    [urlRequest setHTTPBody:[postParams dataUsingEncoding:NSUTF8StringEncoding]];\n\n    NSURLSessionDataTask *dataTask = [defaultSession dataTaskWithRequest:urlRequest completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n         ANSPerformBlock(complition, (error == nil), error)\n    }];\n\n    [dataTask resume];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "cocoa", "nsarray"], "comments": [{"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1552314690, "post_id": 55104092, "comment_id": 96951065, "body": "Do you mean you want to find the element whose name property is equal to &quot;somestar&quot; without looping over the array and breaking when you find it?"}, {"owner": {"reputation": 1029, "user_id": 6194597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ad1da3ba0dfa777698c9f28fdd23a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor Isack", "link": "https://stackoverflow.com/users/6194597/gregor-isack"}, "reply_to_user": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1552314717, "post_id": 55104092, "comment_id": 96951084, "body": "Yes, you&#39;re right!"}, {"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1552315077, "post_id": 55104092, "comment_id": 96951324, "body": "I am not sure this is feasible, I&#39;ll think about it twice. It would have been better if you had a NSDictionary&lt;String *, Galaxy *&gt; instead of NSArray where the key would be the name of the star, and the value would be the Galaxy object. It is like creating an index in a database to facilite the lookup of data based on that index."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1552316349, "post_id": 55104092, "comment_id": 96952186, "body": "See the &quot;Finding Objects in an Array&quot; section of the <code>NSArray</code> documentation."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552317465, "post_id": 55104092, "comment_id": 96952877, "body": "You are looking for that <a href=\"https://developer.apple.com/documentation/foundation/nsarray/1408043-indexofobjectpassingtest?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsarray/&hellip;</a> Using it like this: <code>NSUInteger index = [matches indexOfObjectPassingTest:^BOOL(Galaxy * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) { return [obj name] == @&quot;somestar&quot;;}];</code>"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552323143, "post_id": 55104092, "comment_id": 96956458, "body": "Fo one liners you need &quot;kvc collection operators&quot; <a href=\"https://nshipster.com/kvc-collection-operators/\" rel=\"nofollow noreferrer\">nshipster.com/kvc-collection-operators</a>  [[star activeStars] valueForKeyPath:@&quot;name&quot;]; however if you need to filter the correct answer is above"}], "owner": {"reputation": 1029, "user_id": 6194597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ad1da3ba0dfa777698c9f28fdd23a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor Isack", "link": "https://stackoverflow.com/users/6194597/gregor-isack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1552326609, "answer_count": 0, "score": 0, "last_activity_date": 1552332659, "creation_date": 1552314425, "last_edit_date": 1552332659, "question_id": 55104092, "link": "https://stackoverflow.com/questions/55104092/convert-nsarray-to-specific-object-type-without-loop", "closed_reason": "Duplicate", "title": "Convert NSArray to specific object type without loop", "body": "<p>I'm trying to cast an object in an <code>NSArray</code>; the below loop clearly explains what I'm trying to achieve, but can I do it without a loop?</p>\n\n<pre><code>NSArray* inputs = [star activeStars];\nfor (Galaxy* object in inputs) {\n    HBLogDebug(@\"%@\",object.name);\n}\n</code></pre>\n\n<p>So I could perform searching in one line like below:</p>\n\n<pre><code>int foundInt = [inputs indexOfObject:@\"somestar\"];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avurlasset", "avassetdownloadtask"], "answers": [{"tags": [], "owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "is_accepted": true, "score": 1, "last_activity_date": 1552546766, "last_edit_date": 1552546766, "creation_date": 1552545365, "answer_id": 55156322, "question_id": 55102764, "link": "https://stackoverflow.com/questions/55102764/is-it-possible-to-pause-and-resume-avassetdownloadtask/55156322#55156322", "title": "is it possible to &quot;Pause&quot; and &quot;Resume&quot; AVAssetDownloadTask?", "body": "<p>in here you can use the state of <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiontask/1411565-suspend\" rel=\"nofollow noreferrer\"><code>suspend</code></a> </p>\n\n<blockquote>\n  <p>A task, while suspended, produces no network traffic and is not subject to timeouts. A download task can continue transferring data at a later time. All other tasks must start over when resumed.</p>\n</blockquote>\n\n<p>if you want to find your current task state use <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiontask/1409888-state?language=objc\" rel=\"nofollow noreferrer\"><code>state</code></a>  property, it will return the current state , the states are following </p>\n\n<pre><code> /* \nNSURLSessionTaskStateRunning = 0,                     \nNSURLSessionTaskStateSuspended = 1,\nNSURLSessionTaskStateCanceling = 2,                   \nNSURLSessionTaskStateCompleted = 3,  \n</code></pre>\n\n<p>for e.g you can use as like</p>\n\n<pre><code> NSURL *assetURL = [NSURL URLWithString:@\"https://a4i6y2k6.stackpathcdn.com/vistvorigin/smil:4b0d690b7b3bc8ac5da2049f50c80794c762423e.smil/playlist.m3u8\"];\n\nAVURLAsset *hlsAsset = [AVURLAsset assetWithURL:assetURL];\n\nif (@available(iOS 10.0, *)) {\n\n    AVAssetDownloadTask *avAssetDownloadTask = [avAssetDownloadSession assetDownloadTaskWithURLAsset:hlsAsset assetTitle:@\"downloadedMedia\" assetArtworkData:nil options:nil];\n    if(avAssetDownloadTask.state ==  1){\n        // Start task and begin download\n        [avAssetDownloadTask resume];\n    }else{\n        [avAssetDownloadTask cancel];\n    }\n\n\n} else {\n    // Fallback on earlier versions\n}\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<p>if you want to perform in KVO pattern , please see this <a href=\"https://stackoverflow.com/questions/26145915/how-to-determine-when-nsurlsessiontasks-request-begins\">SO past answer</a></p>\n"}], "owner": {"reputation": 2773, "user_id": 3766168, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8As2n.jpg?s=128&g=1", "display_name": "Code cracker", "link": "https://stackoverflow.com/users/3766168/code-cracker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 1, "accepted_answer_id": 55156322, "answer_count": 1, "score": 2, "last_activity_date": 1552546766, "creation_date": 1552310413, "question_id": 55102764, "link": "https://stackoverflow.com/questions/55102764/is-it-possible-to-pause-and-resume-avassetdownloadtask", "title": "is it possible to &quot;Pause&quot; and &quot;Resume&quot; AVAssetDownloadTask?", "body": "<p>so far i found only two options for downloading video either \"Resume\" or \"cancel\"/\"Suspend\". is there any possible way to pause downloading video in middle and resume the download from where it stopped. I am using below code to download and store the video.</p>\n\n<pre><code>  // Create new background session configuration.\n    NSURLSessionConfiguration *urlSessionConfiguration = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@\"assetDowloadConfigIdentifier\"];\n    AVAssetDownloadURLSession *avAssetDownloadSession = [AVAssetDownloadURLSession sessionWithConfiguration:urlSessionConfiguration assetDownloadDelegate:self delegateQueue:[NSOperationQueue mainQueue]];\n\n    NSURL *assetURL = [NSURL URLWithString:@\"https://a4i6y2k6.stackpathcdn.com/vistvorigin/smil:4b0d690b7b3bc8ac5da2049f50c80794c762423e.smil/playlist.m3u8\"];\n\n    AVURLAsset *hlsAsset = [AVURLAsset assetWithURL:assetURL];\n\n   if (@available(iOS 10.0, *)) {\n\n        AVAssetDownloadTask *avAssetDownloadTask = [avAssetDownloadSession assetDownloadTaskWithURLAsset:hlsAsset assetTitle:@\"downloadedMedia\" assetArtworkData:nil options:nil];\n\n        if([command isEqualToString:@\"resume\"]){\n            // Start task and begin download\n            [avAssetDownloadTask resume];\n        }else{\n            [avAssetDownloadTask cancel];\n        }\n\n    } else {\n        // Fallback on earlier versions\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview", "zooming"], "answers": [{"tags": [], "owner": {"reputation": 791, "user_id": 5366426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2c96e1ee3fa34f96a58d965ba2c8ce?s=128&d=identicon&r=PG&f=1", "display_name": "Sapana Ranipa", "link": "https://stackoverflow.com/users/5366426/sapana-ranipa"}, "is_accepted": true, "score": 1, "last_activity_date": 1552561152, "creation_date": 1552561152, "answer_id": 55160763, "question_id": 55101879, "link": "https://stackoverflow.com/questions/55101879/wkwebview-not-allow-to-zoom-some-website-after-loading/55160763#55160763", "title": "WkWebView not allow to zoom some website after loading", "body": "<p>Here i evaluate Javascript for zooming functionality, and here you need to add this in <strong>didFinishNavigation</strong> method. so using this you can fix this issue.</p>\n\n<pre><code>bool isAllowZoom = false;\n\n-(void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation\n{\n   if(isAllowZoom){\n        NSString *javascript = @\"var meta = document.createElement('meta');meta.setAttribute('name', 'viewport');meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes');document.getElementsByTagName('head')[0].appendChild(meta);\";\n       [webView evaluateJavaScript:javascript completionHandler:nil];\n    }\n    else\n    {\n        NSString *javascript = @\"var meta = document.createElement('meta');meta.setAttribute('name', 'viewport');meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');document.getElementsByTagName('head')[0].appendChild(meta);\";\n        [webView evaluateJavaScript:javascript completionHandler:nil];\n    }\n}\n</code></pre>\n\n<p>Thanks, may be this will help you.</p>\n"}, {"tags": [], "owner": {"reputation": 5107, "user_id": 1667476, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AdrvM.jpg?s=128&g=1", "display_name": "Suraj K Thomas", "link": "https://stackoverflow.com/users/1667476/suraj-k-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1572525296, "creation_date": 1572525296, "answer_id": 58643465, "question_id": 55101879, "link": "https://stackoverflow.com/questions/55101879/wkwebview-not-allow-to-zoom-some-website-after-loading/58643465#58643465", "title": "WkWebView not allow to zoom some website after loading", "body": "<blockquote>\n  <p>updated Sapana Ranipa answer on swift 4 on Xcode 11 , iOS 12 ,13</p>\n</blockquote>\n\n<pre><code>let isAllowZoom: Bool = false\n\n  func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {\n        print(\"didFinish navigation\")\n        self.activityIndicatorwbweb.stopAnimating()\n\n        if(isAllowZoom){\n          let javascript = \"var meta = document.createElement('meta');meta.setAttribute('name', 'viewport');meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=yes');document.getElementsByTagName('head')[0].appendChild(meta);\"\n            webViewWB.evaluateJavaScript(javascript, completionHandler: nil)\n        }\n        else\n        {\n\n             let javascript = \"var meta = document.createElement('meta');meta.setAttribute('name', 'viewport');meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');document.getElementsByTagName('head')[0].appendChild(meta);\"\n             webViewWB.evaluateJavaScript(javascript, completionHandler: nil)\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 5366426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2c96e1ee3fa34f96a58d965ba2c8ce?s=128&d=identicon&r=PG&f=1", "display_name": "Sapana Ranipa", "link": "https://stackoverflow.com/users/5366426/sapana-ranipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 55160763, "answer_count": 2, "score": 1, "last_activity_date": 1572525296, "creation_date": 1552307362, "question_id": 55101879, "link": "https://stackoverflow.com/questions/55101879/wkwebview-not-allow-to-zoom-some-website-after-loading", "title": "WkWebView not allow to zoom some website after loading", "body": "<p>Here i added programmatically my WkWebView in to main view, then after i added this delegate for WkWebView</p>\n\n<pre><code>self.wkWebView.UIDelegate = self;\nself.wkWebView.navigationDelegate = self;\nwkWebView.scrollView.delegate = self;\n</code></pre>\n\n<p>and then loading website one by one and checking zoom functionality, it's zooming for some website and not zooming for other website</p>\n\n<p>If i am loading <strong><a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">http://www.google.com</a></strong> - then it's allow to me for zooming\nand if i am loading <strong><a href=\"https://www.42gears.com\" rel=\"nofollow noreferrer\">https://www.42gears.com</a></strong> &amp; <strong><a href=\"https://www.facebook.com\" rel=\"nofollow noreferrer\">https://www.facebook.com</a></strong> - then it's not allow to zooming functionality (This all website's zooming is working in safari, but not working in WKWebView)</p>\n\n<p>Note : i am checking in iPhone and i am working with Objective-C</p>\n\n<p>Please help me, Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "cryptlib"], "comments": [{"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1552324526, "post_id": 55099049, "comment_id": 96957223, "body": "does encryptedData has content after StringEncryption?"}, {"owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "reply_to_user": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1552380973, "post_id": 55099049, "comment_id": 96976432, "body": "Yes, I think the issue is due to encoding of the NSString"}, {"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1552469549, "post_id": 55099049, "comment_id": 97017258, "body": "Try to encode text and decode it in one function. Use the same Text you encoded in your Website. Just to make sure there is no issue on URLTask"}], "owner": {"reputation": 460, "user_id": 1947444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fdbeab273572981182c78761e93c351?s=128&d=identicon&r=PG", "display_name": "astric mobiles", "link": "https://stackoverflow.com/users/1947444/astric-mobiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552332672, "creation_date": 1552297495, "last_edit_date": 1552332672, "question_id": 55099049, "link": "https://stackoverflow.com/questions/55099049/why-is-the-decrytedtext-null", "title": "Why is the decrytedText NULL?", "body": "<p>My app receives encrypted data from a GET request. I'm having a problem decrypting the data. I'm using the cross-platform CryptLib Library, <a href=\"https://github.com/Pakhee/Cross-platform-AES-encryption\" rel=\"nofollow noreferrer\">CryptLib</a>.  Followed the documentation in the CryptLib.m but nothing seems to work.  If anyone has some knowledge of CryptLib, some guidance would be much appreciated, Please see my code below.</p>\n\n<p>Code</p>\n\n<pre><code>[[[NSURLSession sharedSession] dataTaskWithRequest:request completionHandler:\n  ^(NSData * _Nullable encryptedData,\n    NSURLResponse * _Nullable response,\n    NSError * _Nullable error) {\n      //has data\n      NSString *jsonData = [[NSString alloc] initWithData:encryptedData encoding:NSUTF8StringEncoding];\n      NSLog(@\"Data received: %@\", jsonData);\n\n\n      NSString *key = @\"3HS5UtP7hEc5Jsqg7P4KDQEH2y95v92Z\";\n      NSString *iv = @\"ZkjH27Rh63RQtH8y\";\n\n    //Decrypted data is NULL!\n      encryptedData = [[StringEncryption alloc] decrypt:encryptedData  key:key iv:iv];\n      NSString * decryptedText = [[NSString alloc] initWithData:encryptedData encoding:NSUTF8StringEncoding];\n      NSLog(@\"decrypted data:: %@\", decryptedText); //print the decrypted text\n\n\n  }] resume];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "factory-pattern", "swift-protocols"], "answers": [{"comments": [{"owner": {"reputation": 2599, "user_id": 421797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc46813813af061cc28b442faaefce0d?s=128&d=identicon&r=PG", "display_name": "horseshoe7", "link": "https://stackoverflow.com/users/421797/horseshoe7"}, "edited": false, "score": 0, "creation_date": 1552295964, "post_id": 55098577, "comment_id": 96940200, "body": "how to I add to the array?  I do not want to add an instance of a class.  I want to register a class."}, {"owner": {"reputation": 1244, "user_id": 4050529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nRtJkjiHdns/AAAAAAAAAAI/AAAAAAAACck/JzK0WnIWAcg/photo.jpg?sz=128", "display_name": "JIE WANG", "link": "https://stackoverflow.com/users/4050529/jie-wang"}, "reply_to_user": {"reputation": 2599, "user_id": 421797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc46813813af061cc28b442faaefce0d?s=128&d=identicon&r=PG", "display_name": "horseshoe7", "link": "https://stackoverflow.com/users/421797/horseshoe7"}, "edited": false, "score": 0, "creation_date": 1552296438, "post_id": 55098577, "comment_id": 96940463, "body": "@horseshoe7 can you provide more code, how do you want to register a class?"}, {"owner": {"reputation": 2599, "user_id": 421797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc46813813af061cc28b442faaefce0d?s=128&d=identicon&r=PG", "display_name": "horseshoe7", "link": "https://stackoverflow.com/users/421797/horseshoe7"}, "edited": false, "score": 0, "creation_date": 1552296537, "post_id": 55098577, "comment_id": 96940522, "body": "``` class MySubclassImplementingProtocol: UIViewController, URLNavigation { /*... */  }  // elsewhere... self.registeredTypes.append(MySubclassImplementingProtocol.s&zwnj;&#8203;elf) ```"}, {"owner": {"reputation": 2599, "user_id": 421797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc46813813af061cc28b442faaefce0d?s=128&d=identicon&r=PG", "display_name": "horseshoe7", "link": "https://stackoverflow.com/users/421797/horseshoe7"}, "edited": false, "score": 0, "creation_date": 1552296574, "post_id": 55098577, "comment_id": 96940539, "body": "I&#39;m hoping you have Objective-C experience and can see how I&#39;m probably thinking in an objective-C way, so you&#39;ll know how to &#39;translate&#39;."}], "tags": [], "owner": {"reputation": 1244, "user_id": 4050529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nRtJkjiHdns/AAAAAAAAAAI/AAAAAAAACck/JzK0WnIWAcg/photo.jpg?sz=128", "display_name": "JIE WANG", "link": "https://stackoverflow.com/users/4050529/jie-wang"}, "is_accepted": true, "score": 1, "last_activity_date": 1552297128, "last_edit_date": 1552297128, "creation_date": 1552295915, "answer_id": 55098577, "question_id": 55098075, "link": "https://stackoverflow.com/questions/55098075/how-do-i-keep-a-reference-to-a-class-object-conforming-to-a-protocol-in-swift/55098577#55098577", "title": "how do I keep a reference to a class object conforming to a protocol in Swift", "body": "<p>You can do like this.</p>\n\n<p><code>var registeredTypes: [(UIViewController &amp; URLNavigation).Type]</code>.</p>\n"}], "owner": {"reputation": 2599, "user_id": 421797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dc46813813af061cc28b442faaefce0d?s=128&d=identicon&r=PG", "display_name": "horseshoe7", "link": "https://stackoverflow.com/users/421797/horseshoe7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 55098577, "answer_count": 1, "score": 0, "last_activity_date": 1552297128, "creation_date": 1552294032, "question_id": 55098075, "link": "https://stackoverflow.com/questions/55098075/how-do-i-keep-a-reference-to-a-class-object-conforming-to-a-protocol-in-swift", "title": "how do I keep a reference to a class object conforming to a protocol in Swift", "body": "<p>Perhaps I'm still thinking in an Objective-C kind of way.  I'd like to register classes to be used in a factory pattern.  The classes conform to a protocol such as:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>protocol URLNavigation: class {\n  static func canHandle(url: URL) -&gt; Bool\n  static func instantiate(with url: URL) -&gt; UIViewController?\n  var url: URL? { get set }\n}\n</code></pre>\n\n<p>and then in my Factory class have something like:</p>\n\n<p><code>var registeredTypes: [UIViewController.self &amp; URLNavigation]</code></p>\n\n<p>But I know the line above is incorrect.  I'm trying to keep a references to class objects that will be used to instantiate instances of those classes.</p>\n\n<p>And am also wondering how I would instantiate these using an element in this 'registeredTypes' array.</p>\n\n<p>I hope it's clear what I'm trying to accomplish.  Perhaps there's another approach?</p>\n"}, {"tags": ["ios", "objective-c", "share", "share-extension"], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 861071, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a0dfc8d544d1bf6c0aa046f2605bf605?s=128&d=identicon&r=PG", "display_name": "optimusPrime", "link": "https://stackoverflow.com/users/861071/optimusprime"}, "edited": false, "score": 0, "creation_date": 1552881513, "post_id": 55196085, "comment_id": 97164612, "body": "Thanks for your reply. I am doing it in objective C. And I see the difference in the value in the &#39;data&#39; argument with 11 vs 12. Seems very unusual. Has anyone experienced this ?"}], "tags": [], "owner": {"reputation": 146, "user_id": 8486572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OFRX4.jpg?s=128&g=1", "display_name": "Rishi Indolia", "link": "https://stackoverflow.com/users/8486572/rishi-indolia"}, "is_accepted": false, "score": 0, "last_activity_date": 1552734592, "last_edit_date": 1592644375, "creation_date": 1552734592, "answer_id": 55196085, "question_id": 55098046, "link": "https://stackoverflow.com/questions/55098046/ios-share-extension-the-loaditemfortypeidentifier-call-returns-file-url-in-ios/55196085#55196085", "title": "iOS Share extension - the loadItemForTypeIdentifier call returns file url in iOS11 and file content in iOS12", "body": "<h1>Yes you will get both thing (file path or data) on device also. You did not need to add any check on iOS version.</h1>\n<h2>Please flow my code. It is in swift but you can understand it.</h2>\n<pre><code>func share() {\nlet inputItem = extensionContext!.inputItems.first! as! NSExtensionItem\nlet attachment = inputItem.attachments!.first as! NSItemProvider\nif attachment.hasItemConformingToTypeIdentifier( kUTTypeImage as String) {\n    attachment.loadItem(forTypeIdentifier: kUTTypeImage as String, options: [:]) { (data, error) in\n        var image: UIImage?\n        if let someURl = data as? URL {\n            image = UIImage(contentsOfFile: someURl.path)\n        }else if let someImage = data as? UIImage {\n            image = someImage\n        }\n        \n        if let someImage = image {\n            guard let compressedImagePath = FileManager.default.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent(&quot;shareImage.jpg&quot;, isDirectory: false) else {\n                return\n            }\n            \n            let compressedImageData = UIImageJPEGRepresentation(someImage, 1)\n            guard (try? compressedImageData?.write(to: compressedImagePath)) != nil else {\n                return\n            }\n            \n        }else{\n            print(&quot;bad share data&quot;)\n        }\n    }\n    \n}\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 249, "user_id": 861071, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a0dfc8d544d1bf6c0aa046f2605bf605?s=128&d=identicon&r=PG", "display_name": "optimusPrime", "link": "https://stackoverflow.com/users/861071/optimusprime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552734592, "creation_date": 1552293908, "last_edit_date": 1552406412, "question_id": 55098046, "link": "https://stackoverflow.com/questions/55098046/ios-share-extension-the-loaditemfortypeidentifier-call-returns-file-url-in-ios", "title": "iOS Share extension - the loadItemForTypeIdentifier call returns file url in iOS11 and file content in iOS12", "body": "<p>I see different behavior on iOS 11 vs 12.</p>\n\n<p>On iOS 11 - I get the filepath of files shared in completion handler.</p>\n\n<p>On iOS 12 - I get a URL domain error. But if i handle it based on the type (eg: UIImage), then I get the file content.</p>\n\n<p>Is this behaviour only on simulator or on device as well ?</p>\n\n<p>Do we need to handle this per iOS version ?</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "edited": false, "score": 0, "creation_date": 1552286665, "post_id": 55096378, "comment_id": 96936287, "body": "blocks should be copied and not strongly retained.  I don&#39;t know what problems it causes if you use <code>strong</code> instead of <code>copy</code>, but it might be the cause of your issues."}, {"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "reply_to_user": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "edited": false, "score": 0, "creation_date": 1552555881, "post_id": 55096378, "comment_id": 97057201, "body": "@JonRose this is system generated <code>strong</code> property I&#39;ve not changed it and some time ago the same code was working fine even if I creating a new project for another app it&#39;s working fine."}], "owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1552321722, "creation_date": 1552286175, "last_edit_date": 1552321722, "question_id": 55096378, "link": "https://stackoverflow.com/questions/55096378/objective-c-notification-service-extension-getting-crash-on-iphone-6s-or-newer", "title": "Objective C : Notification Service Extension getting crash on iPhone 6S or Newer Device but working below iPhone 6", "body": "<p>I have created an iOS Notification Service Extension and It was working properly previously on all devices even on iPhone 6s and 6S+. But suddenly from some time ago, it is now crashing on iPhone 6S or Newer device in all iOS version tested on iOS 11 and 12 both. We can say it is crashing on iPhones in which 3d touch available. and the debugger says issue in memory allocation issue 12 MB allowed and it is allocating more than 12 MB. But the same App is working fine in iPhone 6S or older device in all iOS version tested on iOS 11 and 12 both.</p>\n\n<p><strong>NotificationService.h</strong></p>\n\n<pre><code>#import &lt;UserNotifications/UserNotifications.h&gt;\n\nAPI_AVAILABLE(ios(10.0))\n@interface NotificationService : UNNotificationServiceExtension &lt;UNUserNotificationCenterDelegate&gt;\n\n@end\n</code></pre>\n\n<p><strong>NotificationService.m</strong></p>\n\n<pre><code>#import \"NotificationService.h\"\n\n@interface NotificationService ()\n\n@property (nonatomic, strong) void (^contentHandler)(UNNotificationContent *contentToDeliver);\n@property (nonatomic, strong) UNMutableNotificationContent *bestAttemptContent;\n\n@end\n\n@implementation NotificationService\n\n- (void)didReceiveNotificationRequest:(UNNotificationRequest *)request withContentHandler:(void (^)(UNNotificationContent * _Nonnull))contentHandler {\n\n    self.contentHandler = contentHandler;\n    self.bestAttemptContent = [request.content mutableCopy];\n\nNSLog(@\"Here I want to modify my payload title but app crashes before \\\"didReceiveNotificationRequest\\\" called and allocing more than 12 MB memory on iPhone 6S or Newer Device\");\n\n}\n\n- (void)serviceExtensionTimeWillExpire {\n    //    [self.downloadTask cancel];\n    NSLog(@\"serviceExtensionTimeWillExpire\");\n    self.contentHandler(self.bestAttemptContent);\n}\n</code></pre>\n\n<p>Can anybody let me know how to resolve this?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "protocols"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1552282632, "post_id": 55095606, "comment_id": 96935097, "body": "Yes. What is your question?"}, {"owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1552282770, "post_id": 55095606, "comment_id": 96935127, "body": "I want to add <code>HomeHeaderCell</code> as parameter, but it says error. I want to solve that error."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1552282874, "post_id": 55095606, "comment_id": 96935149, "body": "No, is says <i>Expected a type</i> (there is no one). Did you try to add <code>@class HomeHeaderCell;</code> above the protocol?"}], "answers": [{"comments": [{"owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "edited": false, "score": 0, "creation_date": 1552286012, "post_id": 55095982, "comment_id": 96936055, "body": "This way <code>HomeHeaderCellDelegate</code> will not specified!"}], "tags": [], "owner": {"reputation": 9, "user_id": 11182466, "user_type": "registered", "profile_image": "https://graph.facebook.com/109929013503618/picture?type=large", "display_name": "Mr.yang", "link": "https://stackoverflow.com/users/11182466/mr-yang"}, "is_accepted": false, "score": 0, "last_activity_date": 1552283931, "creation_date": 1552283931, "answer_id": 55095982, "question_id": 55095606, "link": "https://stackoverflow.com/questions/55095606/protocol-function-with-self-type/55095982#55095982", "title": "Protocol function with Self type", "body": "<p>you can do it </p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\nNS_ASSUME_NONNULL_BEGIN\n@protocol HomeHeaderCellDelegate;\n\n@interface HomeHeaderCell : UITableViewCell\n@property (nonatomic, weak) id &lt;HomeHeaderCellDelegate&gt; delegate;\n@end\n\n@protocol HomeHeaderCellDelegate &lt;NSObject&gt;\n- (void)didTapMoreLessMenuButton:(HomeHeaderCell *)cell;\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 977, "user_id": 1688105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cd16e6cc0027842f85025f70a68549?s=128&d=identicon&r=PG", "display_name": "justMartin", "link": "https://stackoverflow.com/users/1688105/justmartin"}, "edited": false, "score": 0, "creation_date": 1552641726, "post_id": 55096102, "comment_id": 97096371, "body": "While your answer is correct, what about an explanation why this is necessary? It&#39;s called an forward-declaration to tell the compiler there will be a class defined sometime later. While the protocol is defined, the HomeHeaderCell is not known to the compiler. It basically says, &#39;This is OK, class implementation will follow&#39;"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 2, "last_activity_date": 1552642308, "last_edit_date": 1552642308, "creation_date": 1552284611, "answer_id": 55096102, "question_id": 55095606, "link": "https://stackoverflow.com/questions/55095606/protocol-function-with-self-type/55096102#55096102", "title": "Protocol function with Self type", "body": "<p>The compiler needs to know that the class <code>HomeHeaderCell</code> is declared somewhere.</p>\n\n<p>Actually you have to <strong>import</strong> the class with an <code>@import</code> statement but in this case you need only the type but not the implementation details. The <code>@class</code> directive is a forward reference which confirms the type but avoids circular reference issues.</p>\n\n<p>Add <code>@class</code> under the import line, by the way use the modern <code>@import</code> statement.</p>\n\n<pre><code>@import UIKit;\n@class HomeHeaderCell;\n</code></pre>\n"}], "owner": {"reputation": 9581, "user_id": 4742830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ba70b0962fb392c3bb7ea4c6703aabae?s=128&d=identicon&r=PG", "display_name": "appiconhero.co", "link": "https://stackoverflow.com/users/4742830/appiconhero-co"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55096102, "answer_count": 2, "score": 0, "last_activity_date": 1552642308, "creation_date": 1552281634, "last_edit_date": 1552332695, "question_id": 55095606, "link": "https://stackoverflow.com/questions/55095606/protocol-function-with-self-type", "title": "Protocol function with Self type", "body": "<p>Here is the code:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@protocol HomeHeaderCellDelegate &lt;NSObject&gt;\n- (void)didTapMoreLessMenuButton:(HomeHeaderCell *)cell;\n@end\n\n@interface HomeHeaderCell : UITableViewCell\n\n@property (weak, nonatomic) IBOutlet UIView *secondMenuRowView;\n@property (weak, nonatomic) IBOutlet UIButton *moreLessMenuButton;\n@property (weak, nonatomic) IBOutlet NSLayoutConstraint *secondMenuRowViewHeightConstraint;\n@property (weak, nonatomic) IBOutlet UIButton *askButton;\n@property (weak, nonatomic) IBOutlet UIButton *contactButton;\n@property (weak, nonatomic) IBOutlet UIButton *benchmarkButton;\n@property (weak, nonatomic) IBOutlet UIButton *buySellButton;\n@property (weak, nonatomic) IBOutlet UIButton *marketButton;\n\n@property (nonatomic, weak) id &lt;HomeHeaderCellDelegate&gt; delegate;\n@property BOOL isFullMenu;\n\n- (void)toggleHeight;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>This line has error</p>\n\n<pre><code>- (void)didTapMoreLessMenuButton:(HomeHeaderCell *)cell;\n</code></pre>\n\n<p>it says:</p>\n\n<blockquote>\n  <p>Expected a type</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "xcode", "firebase", "google-tag-manager"], "comments": [{"owner": {"reputation": 53, "user_id": 9694815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "MMSmmsbd", "link": "https://stackoverflow.com/users/9694815/mmsmmsbd"}, "edited": false, "score": 0, "creation_date": 1552875273, "post_id": 55095579, "comment_id": 97163500, "body": "hi, anyone have any answer?"}, {"owner": {"reputation": 53, "user_id": 9694815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "MMSmmsbd", "link": "https://stackoverflow.com/users/9694815/mmsmmsbd"}, "edited": false, "score": 0, "creation_date": 1552889577, "post_id": 55095579, "comment_id": 97166042, "body": "ok, previously  I manually added Googletag manager into the project. Now I have installed through pod and included GTM-XXXXXXX.json file inside container folder. I guess now its loading the container properly"}], "owner": {"reputation": 53, "user_id": 9694815, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "MMSmmsbd", "link": "https://stackoverflow.com/users/9694815/mmsmmsbd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552281362, "creation_date": 1552281362, "question_id": 55095579, "link": "https://stackoverflow.com/questions/55095579/google-tag-manger-for-ios-not-loading-container", "title": "Google tag manger for ios not loading container", "body": "<p>I am trying to add google tag manager in my xcode project which will track firebase events in ios.\nI've created a tag container and added in my project. (In Project directory > Supporting files)</p>\n\n<p><a href=\"https://i.stack.imgur.com/hupgM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hupgM.png\" alt=\"enter image description here\"></a></p>\n\n<p>in appdelegate file , code for opening the container:</p>\n\n<pre><code>[TAGContainerOpener openContainerWithId:@\"GTM-TH3QM6P\"   // Update with your Container ID.\n                             tagManager:self.tagManager\n                               openType:kTAGOpenTypePreferFresh\n                                timeout:&amp;timeout\n                               notifier:self];\n</code></pre>\n\n<p>When I run , getting:</p>\n\n<pre><code>GoogleTagManager verbose: Loading default container from GTM-TH3QM6P\nGoogleTagManager warning: Error reading resource from binary container file: Last tag: 116 should be 124\nGoogleTagManager debug: Resource not on disk\nGoogleTagManager verbose: scheduleTask: containerId=GTM-TH3QM6P delay=0.000000\nGoogleTagManager warning: Error when loading resources from url: https://www.googletagmanager.com/r?id=GTM-TH3QM6P&amp;v=i107577340 status code = 403\n</code></pre>\n\n<p>Whats the error here. Its saying: \"Last tag: 116 should be 124\" and <a href=\"https://www.googletagmanager.com/r?id=GTM-TH3QM6P&amp;v=i107577340\" rel=\"nofollow noreferrer\">https://www.googletagmanager.com/r?id=GTM-TH3QM6P&amp;v=i107577340</a> link is not working, what should I change actually.\nI have tried adding container binary as \"GTM-XXXXXXX.json\" also, but can't load that also.</p>\n\n<p>Any help would be appreciated.\nThanks.</p>\n"}, {"tags": ["ios", "objective-c", "core-location"], "comments": [{"owner": {"reputation": 280, "user_id": 3008827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mp2vK.jpg?s=128&g=1", "display_name": "Nahash", "link": "https://stackoverflow.com/users/3008827/nahash"}, "edited": false, "score": 0, "creation_date": 1552316777, "post_id": 55092112, "comment_id": 96952444, "body": "This Apple documentation might help you:  <a href=\"https://developer.apple.com/documentation/coremotion?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/coremotion?language=objc</a>"}], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1552268332, "post_id": 55092192, "comment_id": 96932522, "body": "Do you know at what speed (velocity) the change is made. Is it when speed more than 0 or 1?"}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1552744289, "post_id": 55092192, "comment_id": 97132293, "body": "Thanks used core motion and seems to work but have to wait till I fly again to see for aure"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1552250420, "creation_date": 1552250420, "answer_id": 55092192, "question_id": 55092112, "link": "https://stackoverflow.com/questions/55092112/ios-core-location-heading-and-course-changing/55092192#55092192", "title": "iOS core location heading and course changing", "body": "<p>This is all well documented by Apple. The location manager uses your direction of motion to determine heading, and ignores phone attitude, if you are moving quickly. If you want the phone attitude independently you must use Core Motion instead. </p>\n"}], "owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 55092192, "answer_count": 1, "score": -4, "last_activity_date": 1552316727, "creation_date": 1552249967, "last_edit_date": 1552251427, "question_id": 55092112, "link": "https://stackoverflow.com/questions/55092112/ios-core-location-heading-and-course-changing", "title": "iOS core location heading and course changing", "body": "<p>I am working on an app in which I show the location and direction a plane is heading when flying.  I also want to then show labels of the cities one is flying by using augmented reality.  I have everything set up and it was working ok when sitting still or driving in a car but when I used it on a plane something weird happened.\nWhen sitting at the gate with the door open or closed the heading of the location icon shows the correct direction when the device is in landscape mode (home button to right). If I rotate the device to the right the plane icon rotates to the right the appropriate amount.  Same with left.  This is important because when I rotate the phone to the right or left and open the camera for augmented reality the correct cities show up in the correct place.  This works completely fine even when we are taxiing on the runway.\nHowever when we take off the function changes. Now no matter what way I change the rotation of the device the plane icon always points in the direction the plane is moving.\nI am trying to figure out why this happens and was wondering if this is because at the slower speed sitting still or taxiing core location is using HEADING whereas when we take off enough information is being gather to use COURSE information.\nI don't thing this is happening because I am in a faraday cage because it wouldn't work when at the gate or taxiing.\nIf it is in fact using Heading/Course information how do I compensate so the city labels are where they are supposed to be instead of constantly moving to the front of the plane?\nam getting the user latitude, longitude and altitude and the correct heading to the cities so all that is working fine.  It is just heading/course problem.  </p>\n\n<p>Here is some code just to show I have these things going.</p>\n\n<pre><code>locationManager = [[CLLocationManager alloc] init];\n\n    locationManager.delegate = self;\n    locationManager.desiredAccuracy = kCLLocationAccuracyKilometer;\n    locationManager.distanceFilter = kCLDistanceFilterNone;\n    [locationManager startUpdatingLocation];\n    [locationManager startUpdatingHeading];\n</code></pre>\n\n<p>Can I use gyroscope to tell what direction the phone is pointing and add it to the heading/course to get the labels in the correct place if the speed is above a certain amount?<br>\nHas anyone ran into the problem and solved it?</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1552251612, "post_id": 55091818, "comment_id": 96929281, "body": "The error is clear. You are attempting to access a property named <code>WebViewController</code> in your <code>MainViewController</code> class. There is no such property. What you probably want to do is have a property (or local variable) with a type of <code>WebViewController </code> in your <code>MainViewController</code> class. Then you can access the <code>URL</code> property of that property (or local variable)."}, {"owner": {"reputation": 743, "user_id": 997153, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/100003210864166/picture?type=large", "display_name": "Dave", "link": "https://stackoverflow.com/users/997153/dave"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1552254253, "post_id": 55091818, "comment_id": 96929893, "body": "Thank you for your answer  I have been away from XCode for awhile and am trying to get back into it after working with Android."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1552254733, "post_id": 55091818, "comment_id": 96930002, "body": "FYI - Don&#39;t confuse a programming language (Objective-C), an editor (Xcode), and an OS (Android). Those are three independent concepts. Your issue is specific to a given programming language."}], "owner": {"reputation": 743, "user_id": 997153, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/100003210864166/picture?type=large", "display_name": "Dave", "link": "https://stackoverflow.com/users/997153/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552247967, "creation_date": 1552247967, "question_id": 55091818, "link": "https://stackoverflow.com/questions/55091818/cant-get-program-to-recognize-controller-h-file", "title": "Can&#39;t get program to recognize controller.h file", "body": "<p>I created a new project in IOS using XCode and cannot get my code to recognize the controller WebViewController using the self command. Below is my code:</p>\n\n<pre><code>   #import \"MainViewController.h\"\n   #import \"WebViewController.h\"\n\n    @interface MainViewController ()\n    @property (weak, nonatomic) IBOutlet UIImageView *imageview;\n    @end\n\n   @implementation MainViewController\n\n   - (instancetype)initWithNibName:(NSString *)nibNameOrNil bundle: \n   (NSBundle *)nibBundleOrNil\n                     bundle: (NSBundle *)nibBundleOrNil\n   {\n     self = [super initWithNibName:nibNameOrNil bundle:nibNameOrNil];    \n     return self;\n    }\n\n   - (IBAction)getWebpage: (id) sender\n    {\n    self.WebViewController.URL = // error message here\n      @\"http://www.mywebsite.com\";\n\n     }\n</code></pre>\n\n<p>Below is the contents of the WebViewController.h file.</p>\n\n<pre><code>  #import &lt;UIKit/UIKit.h&gt;\n  @interface WebViewController: UIViewController\n  @property (nonatomic) NSURL *URL;\n  @end\n</code></pre>\n\n<p>The error message is \"Property WebViewController not found on object of type MainViewController.\"  I have used this command many times on other projects so why is it not working on this project?    What am I missing?  Both files are listed in my project navigator list.</p>\n"}, {"tags": ["objective-c", "multithreading", "thread-safety", "pthreads", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1552245943, "post_id": 55088872, "comment_id": 96927618, "body": "<i>so it must be crashing somewhere</i> No. BTW: Working with GCD you shouldn&#39;t use lock and synchronise, but serial Qs for access serialisation."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1552249629, "post_id": 55088872, "comment_id": 96928733, "body": "... or use reader-writer pattern with a private (i.e., non-global) concurrent dispatch queue, \u201creads\u201d using <code>sync</code> and \u201cwrites\u201d using <code>async</code> with a barrier."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1552429303, "post_id": 55088872, "comment_id": 97004657, "body": "You can <b>NEVER</b> determine thread safety through code of this nature.  The documentation says, point blank, that NSMutableSet is not thread safe, therefore it is never thread safe!   Likewise, whether Person is thread safe is an implementation detail.  Not that <code>atomic</code> does not mean thread safe."}], "answers": [{"comments": [{"owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "edited": false, "score": 0, "creation_date": 1552234793, "post_id": 55089716, "comment_id": 96924128, "body": "Confirming this answer I do not get any crash with the above code"}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 4, "last_activity_date": 1552245068, "last_edit_date": 1552245068, "creation_date": 1552234446, "answer_id": 55089716, "question_id": 55088872, "link": "https://stackoverflow.com/questions/55088872/why-it-is-crashing-while-modifying-nsmutableset-inside-multiple-threads-however/55089716#55089716", "title": "Why it is crashing while modifying NSMutableSet inside multiple threads, however modifying custom object Person inside same threads does not crash?", "body": "<p>First, let\u2019s be clear, that none of this is thread-safe. Synchronization is needed if you\u2019re really going to do this from multiple threads.</p>\n\n<p>Second, you also should hesitate to ever draw conclusions from your inability to produce a particular crash. They are notoriously difficult to manifest. Plus, you are testing a very narrow set of behaviors, never testing whether reads are successful, whether the objects returned are internally consistent, etc. </p>\n\n<p>With respect to adding the same object repeatedly to a set, this is not a great test because subsequent adds undoubtedly determine that the object is already in the set and therefore practically no mutation is happening. </p>\n\n<p>With your custom object example, all you\u2019re doing is mutating a single pointer, but never using it. Plus certain hardware features are going to make it hard to manifest any problem, anyway. It doesn\u2019t mean that you don\u2019t need synchronization, but only that it\u2019s going to be exceeding difficult to manifest the problem. </p>\n\n<p>Besides, synchronization of a custom object like a \u201cperson\u201d generally needs to happen at a higher level of abstraction (e.g. if changing a person\u2019s full name, contemporaneous reads really should wait for all three properties, first, middle, and last name, to finish, or else they you may catch it in some indeterminate state).</p>\n\n<p>Bottom line, you really should synchronize your interaction with the mutable set and your mutable person object if you\u2019re going to access them from multiple threads.</p>\n\n<hr>\n\n<p>I\u2019d suggest you investigate the thread sanitizer (TSAN, to its friends). So, in Xcode, go to \u201cEditor\u201d \u00bb \u201cScheme\u201d \u00bb \u201cEdit Scheme...\u201d and turn on thread sanitizer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/su2tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/su2tf.png\" alt=\"enter image description here\"></a></p>\n\n<p>This will help you identify unsafe access from multiple threads. For more information, see the <a href=\"https://developer.apple.com/videos/play/wwdc2016/412/\" rel=\"nofollow noreferrer\">Thread Sanitizer and Static Analyzer</a> video.</p>\n\n<p>But as Apple advises in the above video, \u201cthere\u2019s no such thing as a \u2018benign\u2019 race.\u201d</p>\n"}], "owner": {"reputation": 594, "user_id": 1569133, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/ad4f4781ddbb60e68ba0f3131b625adb?s=128&d=identicon&r=PG", "display_name": "Sukhpal Singh", "link": "https://stackoverflow.com/users/1569133/sukhpal-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 55089716, "answer_count": 1, "score": 1, "last_activity_date": 1552245068, "creation_date": 1552229331, "question_id": 55088872, "link": "https://stackoverflow.com/questions/55088872/why-it-is-crashing-while-modifying-nsmutableset-inside-multiple-threads-however", "title": "Why it is crashing while modifying NSMutableSet inside multiple threads, however modifying custom object Person inside same threads does not crash?", "body": "<p>Below is the code.  Inside the block I tried 3 cases. Only one case at a time rest are commented. </p>\n\n<pre><code>set = [[NSMutableSet alloc] init];\nPerson* p = [[Person alloc] init];\n\ndispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0);\nfor (int index = 0; index &lt; 100; index++) {\n    dispatch_async(queue, ^{\n\n            //Case 1: adding constant value each time\n            //[self-&gt;set addObject:@\"0\"];\n\n            //Case 2: adding new value on each call.\n            [self-&gt;set addObject:[NSNumber numberWithInt:index]];\n\n            //Case 3: Modifying custom object\n             // p.firstname = [NSString stringWithFormat:@\"%d\", index];\n    });\n\n}\n</code></pre>\n\n<p>I know if I put a lock/@syncronize inside block it works fine. </p>\n\n<p><strong>Question 1</strong>: Why case one runs without any problem even when I tried with index range from 0 to 100000. Mutable set is not thread safe so it must be crashing somewhere. So why it works without synchronisation?</p>\n\n<p><strong>Question 2</strong>: As case 1 runs fine every time so case 2 also should run fine as same set is being modified. But it crashes on every run.</p>\n\n<p><strong>Question 3</strong>: Case 3 is not crashing even I am putting new value each time as in case second.</p>\n\n<p>Note: all properties are nonatomic.</p>\n\n<p><strong>Case 2 crash logs :</strong></p>\n\n<pre><code>**malloc: *** **error for object 0x6000028e9260: pointer being freed was not allocated****\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "core-plot", "appkit"], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1552463216, "post_id": 55132474, "comment_id": 97013850, "body": "I looked at the view hierarchy, but there is no view in front of the plot view. Everything else works as expected. I added a picture of the view hierarchy to my question."}, {"owner": {"reputation": 27316, "user_id": 144143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0050751b5f2d45775f603907622de6dc?s=128&d=identicon&r=PG", "display_name": "Eric Skroch", "link": "https://stackoverflow.com/users/144143/eric-skroch"}, "reply_to_user": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1552609393, "post_id": 55132474, "comment_id": 97086671, "body": "Core Plot sets the cursor rect on the hosting view. Check for anything else in the view hierarchy that might be capturing the cursor or overwriting the Core Plot settings."}, {"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1552750005, "post_id": 55132474, "comment_id": 97134116, "body": "I found that <code>initWithFrame</code> of <code>CPTGraphHostingView</code> does not get called in my second app, so the hand cursers are always <code>nil</code>. It gets called in my first app. So far I have no idea why. I then subclassed <code>CPTGraphHostingView</code> and loaded the cursors from <code>NSCursor</code> in <code>awakeFromNib</code>. This works. Do you think there will be some side effects from <code>initWithFrame</code> not getting called? You do some additional initialisation there. This issue is discussed in Apple&#39;s docs for &quot;Creating a Custom View&quot;."}, {"owner": {"reputation": 27316, "user_id": 144143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0050751b5f2d45775f603907622de6dc?s=128&d=identicon&r=PG", "display_name": "Eric Skroch", "link": "https://stackoverflow.com/users/144143/eric-skroch"}, "reply_to_user": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1552819565, "post_id": 55132474, "comment_id": 97148563, "body": "That should work. You may also want to set <code>allowPinchScaling</code> to <code>YES</code> to enable pinch gestures on a trackpad."}, {"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1552824098, "post_id": 55132474, "comment_id": 97149679, "body": "This is a good advice, thank you. If you update your answer accordingly I can accept it."}], "tags": [], "owner": {"reputation": 27316, "user_id": 144143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0050751b5f2d45775f603907622de6dc?s=128&d=identicon&r=PG", "display_name": "Eric Skroch", "link": "https://stackoverflow.com/users/144143/eric-skroch"}, "is_accepted": false, "score": 1, "last_activity_date": 1552435575, "creation_date": 1552435575, "answer_id": 55132474, "question_id": 55088598, "link": "https://stackoverflow.com/questions/55088598/core-plot-cursor-does-not-adjust-over-cptgraphhostingview/55132474#55132474", "title": "Core Plot: Cursor does not adjust over CPTGraphHostingView", "body": "<p>Check that there aren't any other invisible views obscuring the Core Plot hosting view. Does everything else in the second app (layout, appearance, etc.) work the way you expect?</p>\n"}, {"tags": [], "owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "is_accepted": true, "score": 0, "last_activity_date": 1556948521, "creation_date": 1556948521, "answer_id": 55979833, "question_id": 55088598, "link": "https://stackoverflow.com/questions/55088598/core-plot-cursor-does-not-adjust-over-cptgraphhostingview/55979833#55979833", "title": "Core Plot: Cursor does not adjust over CPTGraphHostingView", "body": "<p>Since <code>initWithFrame</code> of <code>CPTGraphHostingView</code> does not get called in my second app, the hand cursers are always <code>nil</code> and cannot be adjusted. This is from Apple's docs for \"<a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CocoaViewsGuide/SubclassingNSView/SubclassingNSView.html\" rel=\"nofollow noreferrer\">Creating a Custom View</a>\":</p>\n\n<blockquote>\n  <p>View instances that are created in Interface Builder don't call\n  initWithFrame: when their nib files are loaded, which often causes\n  confusion. Remember that Interface Builder archives an object when it\n  saves a nib file, so the view instance will already have been created\n  and initWithFrame: will already have been called.</p>\n  \n  <p>The awakeFromNib method provides an opportunity to provide\n  initialization of a view when it is created as a result of a nib file\n  being loaded. When a nib file that contains a view object is loaded,\n  each view instance receives an awakeFromNib message when all the\n  objects have been unarchived. This provides the object an opportunity\n  to initialize any attributes that are not archived with the object in\n  Interface Builder.</p>\n</blockquote>\n\n<p>So I subclassed <code>CPTGraphHostingView</code> and loaded the cursors from <code>NSCursor</code> in <code>awakeFromNib</code>, using the advice from Eric Skroch:</p>\n\n<p>MyGraphHostingView.h:</p>\n\n<pre><code>#import &lt;CorePlot/CorePlot.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface MyGraphHostingView : CPTGraphHostingView\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>MyGraphHostingView.m:</p>\n\n<pre><code>#import \"MyGraphHostingView.h\"\n\n@implementation MyGraphHostingView\n\n-(void)awakeFromNib\n{\n    [super awakeFromNib];\n\n    if (!self.closedHandCursor) {\n        self.closedHandCursor  = [NSCursor closedHandCursor];\n    }\n    if (!self.openHandCursor) {\n        self.openHandCursor    = [NSCursor openHandCursor];\n    }\n    self.allowPinchScaling = YES;\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 55979833, "answer_count": 2, "score": 0, "last_activity_date": 1556948521, "creation_date": 1552227531, "last_edit_date": 1556701428, "question_id": 55088598, "link": "https://stackoverflow.com/questions/55088598/core-plot-cursor-does-not-adjust-over-cptgraphhostingview", "title": "Core Plot: Cursor does not adjust over CPTGraphHostingView", "body": "<p>I use Core Plot in two macOS apps (first one is old, second one is new). Each of them has a <code>CPTGraphHostingView</code> where some plots are displayed. I can click, hold and drag to change the visible area.</p>\n\n<p>In the first app, when I hoover over the plot, the cursor changes to an open hand. It also changes to a closed hand when I drag. This is what I want, and this is the behaviour in all the sample apps of Core Plot.</p>\n\n<p>In the second app, the cursor always stays the same (arrow).</p>\n\n<p><strong>Edit</strong>: Here is a screenshot of the view hierarchy in Xcode (views behind the plot view are hidden). There is no view in front of the <code>CPTGraphHostingView</code>, just a few controls are higher in the view hierarchy, but they are positioned around the plot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XSBAD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSBAD.png\" alt=\"view hierachy\"></a></p>\n\n<p>I was not able to find any difference between my two apps (or the second app and the example apps) that could cause this. Both apps compile with Xcode 10.1 and Core Plot release-2.3 branch. </p>\n\n<p>What should I look for?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "properties"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1552216255, "post_id": 55086861, "comment_id": 96919034, "body": "Ask yourself: What does each line do and when? See <a href=\"https://stackoverflow.com/questions/9830317/objective-c-set-default-value-for-a-property\">Objective-C set default value for a property</a>."}], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 8843496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d101322dee900fb85122ede197d2c5f1?s=128&d=identicon&r=PG&f=1", "display_name": "kroko", "link": "https://stackoverflow.com/users/8843496/kroko"}, "edited": false, "score": 0, "creation_date": 1552215310, "post_id": 55086921, "comment_id": 96918822, "body": "I want to focus on propery observer"}], "tags": [], "owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "is_accepted": false, "score": 0, "last_activity_date": 1552216396, "last_edit_date": 1552216396, "creation_date": 1552215145, "answer_id": 55086921, "question_id": 55086861, "link": "https://stackoverflow.com/questions/55086861/convert-a-swift-property-observer-into-objc/55086921#55086921", "title": "Convert a Swift Property Observer Into ObjC", "body": "<p>Nope!</p>\n\n<p>In the swift code the bottomColor is a variable that initiate with <code>gray</code> and every time it changes (setting another color to it) fires the <code>updateColors</code> but in objective-c code the method just fires the <code>updateColors</code> if the parameter not equals to <code>[UIColor grayColor]</code></p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>You can implement swift code in objective-c by this way:</p>\n\n<p>\u2022 override the setter and implement the setter yourself.<br>\n\u2022 set the <code>bottomColor = [UIColor grayColor]</code> in init.</p>\n\n<pre><code>- (void)setBottomColor:(UIColor *)bottomColor\n{\n    _bottomColor = bottomColor;\n    [self updateColors];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": false, "score": 3, "last_activity_date": 1552216448, "creation_date": 1552216448, "answer_id": 55087083, "question_id": 55086861, "link": "https://stackoverflow.com/questions/55086861/convert-a-swift-property-observer-into-objc/55087083#55087083", "title": "Convert a Swift Property Observer Into ObjC", "body": "<p>The two codes are not the same.</p>\n\n<p>In Swift, the property observer is called whenever a value is set. It doesn't matter whether the new value is equal to the old value or not. So this code will print \"Hello\" exactly twice:</p>\n\n<pre><code>class A {\n    var a: Int = 10 {\n        didSet {\n            print(\"Hello\")\n        }\n    }\n}\n\nlet a = A()\na.a = 10\na.a = 10\n</code></pre>\n\n<p>To convert a property observer to Objective-C, you don't need to check if the value is same as before, just do:</p>\n\n<pre><code>- (void)setBottomColor:(UIColor *)bottomColor\n{\n    _bottomColor = bottomColor;\n    [self updateColors];\n}\n</code></pre>\n\n<p><code>bottomColor</code> should be set to <code>[UIColor gray]</code> in the <code>init</code>.</p>\n"}], "owner": {"reputation": 291, "user_id": 8843496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d101322dee900fb85122ede197d2c5f1?s=128&d=identicon&r=PG&f=1", "display_name": "kroko", "link": "https://stackoverflow.com/users/8843496/kroko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552332715, "creation_date": 1552214622, "last_edit_date": 1552332715, "question_id": 55086861, "link": "https://stackoverflow.com/questions/55086861/convert-a-swift-property-observer-into-objc", "title": "Convert a Swift Property Observer Into ObjC", "body": "<p>Does this piece of ObjC code have the same result as the Swift?</p>\n\n<pre><code>var bottomColor = UIColor.gray {\n    didSet {\n        self.updateColors()\n    }\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>- (void)setBottomColor:(UIColor *)bottomColor\n{\n    bottomColor = [[UIColor grayColor];\n    if (_bottomColor != bottomColor) {\n        _bottomColor = bottomColor;\n        [self updateColors];\n    }\n}\n</code></pre>\n\n<p>If not, how can I correctly translate the Swift?</p>\n"}, {"tags": ["ios", "objective-c", "delegates", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1552194286, "post_id": 55084530, "comment_id": 96914640, "body": "Can you explain &quot;How to know first 2 cell must have image &quot; ? DO you mean, you want to check if the first 2 cells already have image or not ?"}, {"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "reply_to_user": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1552194587, "post_id": 55084530, "comment_id": 96914683, "body": "Yes I want to check cellForItemAtIndexPath 0 and 1 has image."}], "answers": [{"comments": [{"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552198479, "post_id": 55084845, "comment_id": 96915268, "body": "Still no. I want to check cellForItemAtIndexPath 0 and 1 has image."}, {"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552199027, "post_id": 55084845, "comment_id": 96915353, "body": "This will not have collectionView object outside delegate method"}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552199091, "post_id": 55084845, "comment_id": 96915360, "body": "you can set outlet for your collectionView and access to it every where you want in your class"}, {"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552207363, "post_id": 55084845, "comment_id": 96916972, "body": "Now it always returning 1."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552207716, "post_id": 55084845, "comment_id": 96917049, "body": "even when imageView has an image ?"}, {"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "edited": false, "score": 0, "creation_date": 1552207780, "post_id": 55084845, "comment_id": 96917067, "body": "Yes on both case."}, {"owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "reply_to_user": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1552207790, "post_id": 55084845, "comment_id": 96917071, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/189760/discussion-between-nagarjun-and-arash-etemad\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "is_accepted": false, "score": 1, "last_activity_date": 1552206576, "last_edit_date": 1552206576, "creation_date": 1552196906, "answer_id": 55084845, "question_id": 55084530, "link": "https://stackoverflow.com/questions/55084530/how-to-check-uicollectionview-has-image/55084845#55084845", "title": "How to check UICollectionView has image", "body": "<p>You can check if there is an image in <code>UIImageView</code> or not by this way:</p>\n\n<pre><code>-(BOOL) checkImages {\n    for (int i=0, i&lt;2 , i++) {\n        NSIndexPath *indexPath = [NSIndexPath indexPathForItem:i inSection:0];\n        ADRPhotoCollectionViewCell *cell = [collectionView cellForItemAtIndexPath:indexPath];\n        if (cell.imageView.image == nil || CGSizeEqualToSize(cell.imageView.image.size, CGSizeZero)) {\n            //there isn't any image or the image is empty\n            return NO;\n        }\n    }\n    return YES;\n}\n</code></pre>\n"}], "owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552206576, "creation_date": 1552193528, "last_edit_date": 1552193981, "question_id": 55084530, "link": "https://stackoverflow.com/questions/55084530/how-to-check-uicollectionview-has-image", "title": "How to check UICollectionView has image", "body": "<p>I have 4 UICollectionViewCell in which I want to make first 2 cell to have image in it mandatory. Sample code is as below. Below is a usecase:</p>\n\n<p>There are 4 UICollectionViewCell if I click on each cell will open camera and we can either take a photo or select image from image gallery. How to know first 2 cell must have image. Looking for condition to check this logic.</p>\n\n<pre><code>- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {\n\n    Image *image = (Image *)self.defect.imageSet[indexPath.item];\n    ADRPhotoCollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:NSStringFromClass([ADRPhotoCollectionViewCell class]) forIndexPath:indexPath];\n    cell.image = image.thumbnailImage ? image.thumbnailImage : nil;\n    cell.photoType = [self.defect defectPhotoTypeForIndex:indexPath];\n    return cell;\n}\n\n#pragma mark - UICollectionViewDelegate\n\n- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {\n\n   Image *image = self.defect.imageSet[indexPath.item];\n\n    if (self.selectedImage != image) {\n\n       [self updateAnnotatedImage];\n        self.selectedImage = image;\n       [self.jotController clearAll];\n       [self updateUserInterface];\n\n    if (image.thumbnailImage) {\n        [self transitionImage:YES];\n    } else {\n        self.imageView.image = nil;\n        [self showCameraPicker];\n    }\n\n} else if (!image.thumbnailImage) {\n      //clicked the + to add a new image\n      [self showCameraPicker];\n  }\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 2, "last_activity_date": 1552144509, "last_edit_date": 1552144509, "creation_date": 1552144002, "answer_id": 55078678, "question_id": 55078573, "link": "https://stackoverflow.com/questions/55078573/literal-list-array-of-class-types/55078678#55078678", "title": "literal list/array of class types", "body": "<pre><code>NSArray *classes = @[[NSArray class], [NSDictionary class], [NSSet class]];\nid inputObject = [NSSet new];\n\nfor (Class class in classes) {\n    if ([inputObject isKindOfClass: class]) {\n        return true;\n    }\n}\nreturn false;\n</code></pre>\n\n<p>You generally want <code>isKindOfClass</code>, which also checks whether the type is a subclass of the given type. If you want to know that it's exactly the same class, you can use <code>isMemberOfClass</code>, but you can often be surprised. For example:</p>\n\n<pre><code>[[NSSet new] isMemberOfClass:[NSSet class]] == false\n</code></pre>\n\n<p>!!!!</p>\n\n<p>Why is an NSSet not an NSSet? Because NSSet is a class cluster, and in this case the \"real\" type is an internal implementation subclass called __NSSetI. That kind of thing happens a lot in Objective-C, so you usually mean <code>isKindOfClass</code> unless you have a very special need.</p>\n"}], "owner": {"reputation": 6499, "user_id": 27497, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f623764e63da9994c282afefb3778cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Rafe", "link": "https://stackoverflow.com/users/27497/rafe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552167959, "creation_date": 1552143290, "last_edit_date": 1552167959, "question_id": 55078573, "link": "https://stackoverflow.com/questions/55078573/literal-list-array-of-class-types", "title": "literal list/array of class types", "body": "<p>In objective c, how can you declare a list that contains types? What I'm wanting to do is have a list of specific class types, and then check if a particular object's class is in that list.</p>\n\n<p>pseudo code:</p>\n\n<pre><code>SET class_list TO [MyClass1, MyClass2, MyClass3]\nSET input_class_type TO class of input_object\nFOR each current_class_type in class_list\n   IF input_class_type is same class type as current_class_type\n      return TRUE\nEND LOOP\nreturn FALSE\n</code></pre>\n"}, {"tags": ["objective-c", "filter", "core-image"], "comments": [{"owner": {"reputation": 8137, "user_id": 7014451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c88303e9efdb9b80cfe1bbb61f9a69ae?s=128&d=identicon&r=PG&f=1", "display_name": "dfd", "link": "https://stackoverflow.com/users/7014451/dfd"}, "edited": false, "score": 0, "creation_date": 1552175659, "post_id": 55077075, "comment_id": 96911914, "body": "While I use Swift, I can read Obj-C. <code>valueForKey:@&quot;outputImage&quot;</code> - if the syntax is correct, is it null? What line is things crashing on?"}], "answers": [{"tags": [], "owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1552302172, "creation_date": 1552302172, "answer_id": 55100385, "question_id": 55077075, "link": "https://stackoverflow.com/questions/55077075/cirandomgenerator-filter-can-not-be-applied-to-a-filter/55100385#55100385", "title": "CIRandomGenerator filter can not be applied to a filter", "body": "<p><code>CIRandomGenerator</code> generates an image with infinite extent. You need to crop the result before you can render it into a <code>CGImage</code>, e.g.:</p>\n\n<pre><code>CIImage *outputImage = [[filter outputImage] imageByCroppingToRect: CGRectMake(0, 0, 500, 500)];\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10027518, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p4QonpnuOh8/AAAAAAAAAAI/AAAAAAAAAD8/vuotIaC3eUs/photo.jpg?sz=128", "display_name": "DavidJ", "link": "https://stackoverflow.com/users/10027518/davidj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552302172, "creation_date": 1552132438, "last_edit_date": 1552149083, "question_id": 55077075, "link": "https://stackoverflow.com/questions/55077075/cirandomgenerator-filter-can-not-be-applied-to-a-filter", "title": "CIRandomGenerator filter can not be applied to a filter", "body": "<p>My code returns null when i try to apply CIRandomGenerator.\nThe application just crashes when i enter in the filter page, i am coding using objective c.</p>\n\n<pre><code>if([filterName isEqualToString:@\"CIRandomGenerator\"]){\n        // parameters\n  [filter  setValue:[[CIFilter filterWithName:@\"CIRandomGenerator\"] valueForKey:@\"outputImage\"] forKey:@\"inputImage\"];\n\n\n CIContext *context = [CIContext contextWithOptions:nil];\n    CIImage *outputImage = [filter outputImage];\n    CGImageRef cgImage = [context createCGImage:outputImage fromRect:[outputImage extent]];\n\n    UIImage *result = [UIImage imageWithCGImage:cgImage];\n\n    CGImageRelease(cgImage);\n\n    return result;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552131707, "post_id": 55076870, "comment_id": 96900385, "body": "What do you return in <code>numberOfRows(in section:)</code>?  You will need to return 1 in the case where your array is empty and return an appropriate, empty, cell in <code>cellForRow</code>"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552131896, "post_id": 55076870, "comment_id": 96900438, "body": "it return my array.count so I think array is empty so it return 0 or nil , and I also check with return 1 but it still not working for me Paulw !!"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1552132051, "post_id": 55076870, "comment_id": 96900472, "body": "You need to return 1 and then check if the array is empty in <code>cellForRow</code> and return the required cell. If you are returning 1 and returning an appropriate cell are you sure your tableview is actually appearing? Have you set its constraints correctly?"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552132175, "post_id": 55076870, "comment_id": 96900493, "body": "Yes Constraints is Perfect !! wait I will do in cellForRow that you tell me ! thank you"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552132828, "post_id": 55076870, "comment_id": 96900667, "body": "Hii, I try your solution and return cell but it not visible in tableview but I check in Debug View Hierarchy there it shows empty cell !! Now what should i do ?"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1552133121, "post_id": 55076870, "comment_id": 96900744, "body": "Hey Paulw, it&#39;s Working Thank You so much for your help !!"}], "owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552133461, "creation_date": 1552130823, "last_edit_date": 1552133461, "question_id": 55076870, "link": "https://stackoverflow.com/questions/55076870/how-to-show-empty-blank-cell-in-tableview-objective-c-ios", "title": "How to show Empty/Blank cell in TableView Objective C iOS", "body": "<p>if the array is empty means tableview has no data then it should display blank cell in my case it not display blank cell ! My tableview separator is Default And I have attached DataSource And Delegate of Tableview!! </p>\n\n<p>I have check this two lines is not in my code</p>\n\n<pre><code>1. self.tableView.tableFooterView.frame = CGRectZero;\n2. self.tableView.tableFooterView = [[UIView alloc]initWithFrame:CGRectZero];\n</code></pre>\n\n<p>But it display this if there is no data</p>\n\n<p><img src=\"https://i.stack.imgur.com/ffbRG.png\" width=\"320\"> </p>\n\n<p>And in this case I want this types of empty or blank cell in TableView !</p>\n\n<p><img src=\"https://i.stack.imgur.com/HvA5z.png\" width=\"320\"> </p>\n"}, {"tags": ["objective-c", "objective-c++"], "comments": [{"owner": {"reputation": 2445, "user_id": 288405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acea97b0bc1f223b24db816ab3dd8e46?s=128&d=identicon&r=PG", "display_name": "Mattie", "link": "https://stackoverflow.com/users/288405/mattie"}, "edited": false, "score": 3, "creation_date": 1552100683, "post_id": 55073403, "comment_id": 96894685, "body": "Is that closure invoked synchronously? The \u201ccompletion\u201d label implies it is asynchronous."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 4, "creation_date": 1552101717, "post_id": 55073403, "comment_id": 96894814, "body": "A <code>__block NSString *</code> is just an <code>NSString *</code> that can be manipulated from inside a block. That wouldn&#39;t need any converting, so the problem is something else. The error you&#39;re getting suggests that you&#39;ve actually assigned a block to the <code>vals</code> variable instead of a string. Could you post some working code that we can run directly and reproduce the issue? As written above, it looks like <code>vals</code> would be likely to be <code>nil</code> at the time you call <code>-UTF8String</code> on it, since if the <code>completion</code> block is called asynchronously, it probably won&#39;t have run by the time your function returns."}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 3, "creation_date": 1552112604, "post_id": 55073403, "comment_id": 96896491, "body": "The above won&#39;t compile; no semicolon after the variable assignment in the block.  But at runtime, the vals object is being set to a block instance, not an NSString, and it&#39;s obviously being changed after the variable is initially set to nil.  So something is going on separate from the posted code."}], "owner": {"reputation": 1, "user_id": 6058178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e1fe5ed371e8b2f64bae5a9a03dce0?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Lu", "link": "https://stackoverflow.com/users/6058178/yang-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552101351, "creation_date": 1552098197, "last_edit_date": 1552101351, "question_id": 55073403, "link": "https://stackoverflow.com/questions/55073403/converting-block-nsstring-to-nsstring-and-eventually-to-stdstring", "title": "Converting __block NSString to NSString (and eventually to std::string)", "body": "<pre><code>+(std::string)somefunc{\n    __block NSString *vals = nil;\n    [[Something somecall] completion:^(some params){vals=@\"yay\"}];\n    return std::string([vals UTF8String]);\n}\n</code></pre>\n\n<p>This function call throws an error \"-[__NSMallocBlock__ UTF8String]: unrecognized selector sent to instance 0x------\"</p>\n\n<p>Based on the way I've converted NSStrings in the past, I'm assuming this is something to do with my need to declare the NSString as a __block to modify it inside the []. But I could not find an answer anywhere.</p>\n\n<p>What is the \"best\" way to convert it?</p>\n"}, {"tags": ["objective-c", "nsdictionary", "cgaffinetransform", "cgrect", "cgpoint"], "comments": [{"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 1, "creation_date": 1552196249, "post_id": 55069753, "comment_id": 96914925, "body": "It&#39;s better to save <code>Width</code>, <code>Height</code> and <code>Rotation</code> value into UserDefaults."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 1, "creation_date": 1552453587, "post_id": 55069753, "comment_id": 97010238, "body": "Could you show the code for rotate, scale and pan the image? If you use <code>CGAffineTransform</code> to make them, I don&#39;t think you need to save the frame."}, {"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1552598659, "post_id": 55069753, "comment_id": 97083711, "body": "@trungduc updated."}], "answers": [{"comments": [{"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552676005, "post_id": 55178337, "comment_id": 97116250, "body": "This example makes a ton of sense now, seeing that I tried to concat rotation and scale... so applying just the final transformation and saving that looks like it is working for you. I tried to simplify my code down , but I am still having some issues with the coordinates being off. Wondering if that&#39;s because the gesture code is in my object (UIImageView in your case) class, and not the superview itself. I am basing it off of the superview frame, so I dont see why that would be an issue."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552677302, "post_id": 55178337, "comment_id": 97116824, "body": "@WrightsCS I\u2019m not sure what you are talking about. Could you explain a little bit about \u201cthe coordinates being off\u201d? I dont think that handle gestures in the object class will lead to any issue. If you want me to handle everything inside object class, I will try to make it"}, {"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552679758, "post_id": 55178337, "comment_id": 97117958, "body": "See the updated image in the original question, slightly larger images and frame is a little off, but I checked the transform and center strings when saved and when retrieved, and they are the same, so not sure why the difference!"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552711966, "post_id": 55178337, "comment_id": 97125065, "body": "@WrightsCS Updated repo by moving gestures implementation to object class. You can check it again. I think that your problem maybe because original frames before applying transform are different."}, {"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552754263, "post_id": 55178337, "comment_id": 97135512, "body": "would you suggest applying the original frame before applying the transform? I have tried that, as well as setting the center and a few other things. Its a bit annoying but hopefully get it figured out!"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552754456, "post_id": 55178337, "comment_id": 97135570, "body": "@WrightsCS Did you try updated repo? I moved gestures to object class. Maybe it can help you figure out."}, {"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552755241, "post_id": 55178337, "comment_id": 97135813, "body": "Also, do you think auto layout would have some adverse affect?"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 1, "creation_date": 1552755368, "post_id": 55178337, "comment_id": 97135861, "body": "Yes, of course. In my opinion, you shouldnt use autolayout in this case. I think auto layout is the reason for your problem"}, {"owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 0, "creation_date": 1552757217, "post_id": 55178337, "comment_id": 97136360, "body": "The Canvas view (the gray area), sits on top of the main view. The canvas has constraints to the main view, but inside the canvas there are no constraints. Do you think the outside constraints to the main view are affecting this? I don&#39;t see why they would, but I need these constraints and I have set <code>translatesAutoresizingMaskIntoConstraints</code> false on the object as well as the canvas view. I guess my only other option would be to set the frames manually on the main subviews, which would be a PITA!"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "edited": false, "score": 1, "creation_date": 1552798619, "post_id": 55178337, "comment_id": 97144622, "body": "@WrightsCS I think you still can you constraints for canvas view. But try to call <code>layoutIfNeeded</code> before applying center and transform for objects inside to make sure canvas&#39;s frame won&#39;t be changed after (Which can lead to the problem)"}], "tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 4, "last_activity_date": 1552638190, "creation_date": 1552638190, "answer_id": 55178337, "question_id": 55069753, "link": "https://stackoverflow.com/questions/55069753/restoring-cgrect-with-transform-values-from-nsdictionary/55178337#55178337", "title": "Restoring CGRect with Transform values from NSDictionary", "body": "<p>According to <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622459-transform?language=objc\" rel=\"nofollow noreferrer\">Apple document for UIView's transform property</a></p>\n\n<blockquote>\n  <p>When the value of this property is anything other than the identity transform, the value in the frame property is undefined and should be ignored.</p>\n</blockquote>\n\n<p>That's the reason why you can't get <code>frame</code> after changing <code>transform</code>.</p>\n\n<p>As I understand, after rotating, scaling or panning you want to save current state to restore later. In my opinion, all you need to do it is saving <code>transform</code> and <code>center</code> of <code>UIImageView</code> each time they are changed. You don't need <code>frame</code> in this case.</p>\n\n<p>For example, <code>_transformTarget</code> is your <code>UIImageView</code>, to save its current state you can use below method (<em>Instead of saving in a <code>NSDictionary</code>, I use <code>NSUserDefaults</code>. You can change it to <code>NSDictionary</code></em>)</p>\n\n<pre><code>- (void)saveCurrentState {\n    [[NSUserDefaults standardUserDefaults] setObject:NSStringFromCGAffineTransform(_transformTarget.transform) forKey:@\"_transformTarget.transform\"];\n    [[NSUserDefaults standardUserDefaults] setObject:NSStringFromCGPoint(_transformTarget.center) forKey:@\"_transformTarget.center\"];\n}\n</code></pre>\n\n<p>At the end of each handling gesture method, save current state by using <code>saveCurrentState</code>.</p>\n\n<pre><code>- (void)handlePanGesture:(UIPanGestureRecognizer*)gesture {\n    CGPoint translation = [gesture translationInView:self.view];\n    CGPoint newCenter = CGPointMake(_transformTarget.center.x + translation.x, _transformTarget.center.y + translation.y);\n\n    if (CGRectContainsPoint(self.view.frame, newCenter)) {\n        _transformTarget.center = newCenter;\n        [gesture setTranslation:CGPointZero inView:self.view];\n\n        [self saveCurrentState];  // Save current state when center is changed\n    }\n}\n\n- (void)handleRotationGesture:(UIRotationGestureRecognizer*)gesture {\n    _transformTarget.transform = CGAffineTransformRotate(_transformTarget.transform, gesture.rotation);\n    gesture.rotation = 0;\n\n    [self saveCurrentState];  // Save current state when transform is changed\n}\n\n- (void)handlePinchGesture:(UIPinchGestureRecognizer*)gesture {\n    _transformTarget.transform = CGAffineTransformScale(_transformTarget.transform, gesture.scale, gesture.scale);\n    gesture.scale = 1;\n\n    [self saveCurrentState];  // Save current state when transform is changed\n}\n</code></pre>\n\n<p>Now, the information about <code>UIImageView</code> is saved every time it's changed. At the next time user comes back, get info about <code>center</code> and <code>transform</code> from your dictionary and set them again.</p>\n\n<pre><code>- (void)restoreFromSavedState {\n    NSString *transformString = [[NSUserDefaults standardUserDefaults] objectForKey:@\"_transformTarget.transform\"];\n    CGAffineTransform transform = transformString ? CGAffineTransformFromString(transformString) : CGAffineTransformIdentity;\n\n    NSString *centerString = [[NSUserDefaults standardUserDefaults] objectForKey:@\"_transformTarget.center\"];\n    CGPoint center = centerString ? CGPointFromString(centerString) : self.view.center;\n\n    _transformTarget.center = center;\n    _transformTarget.transform = transform;\n}\n</code></pre>\n\n<h1>Result</h1>\n\n<p><img src=\"https://media.giphy.com/media/ZxyDWNVap5xiyvUX9b/giphy.gif\" alt=\"\"></p>\n\n<p>For more detail, you can take a look at my sample repo\n<a href=\"https://github.com/trungducc/stackoverflow/tree/restore-view-transform\" rel=\"nofollow noreferrer\">https://github.com/trungducc/stackoverflow/tree/restore-view-transform</a></p>\n"}], "owner": {"reputation": 49821, "user_id": 171206, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bbbb4c18890bc97b5b6ee999c0e6a86d?s=128&d=identicon&r=PG", "display_name": "WrightsCS", "link": "https://stackoverflow.com/users/171206/wrightscs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 55178337, "answer_count": 1, "score": 2, "last_activity_date": 1552679833, "creation_date": 1552073202, "last_edit_date": 1552679833, "question_id": 55069753, "link": "https://stackoverflow.com/questions/55069753/restoring-cgrect-with-transform-values-from-nsdictionary", "title": "Restoring CGRect with Transform values from NSDictionary", "body": "<p>I need to be able to save the frame after transformation of a <code>UIImageView</code>. In the below example, the original frame is when the image is added to the superview. The user then has the ability to rotate, scale and pan the image anywhere in the gray area (superview).</p>\n\n<p>I take these images and save their coordinates to an NSDictionary (which is not the problem). The problem is that if I get the frame after the rotation, the frame is completely off. I need to be able to store the new frame with transform in the dictionary, so that when the user comes back to this view and the images are loaded, the frames and saved transformations are just like they intended.</p>\n\n<h2>Panning</h2>\n\n<pre><code>CGPoint translation = [gestureRecognizer translationInView:[object superview]];\nif (CGRectContainsPoint(self.frame, CGPointMake([object center].x + translation.x,  [object center].y + translation.y))) {\n    [object setCenter:CGPointMake([object center].x + translation.x, [object center].y + translation.y)];\n    [gestureRecognizer setTranslation:CGPointZero inView:[object superview]];\n}\n</code></pre>\n\n<h2>Rotating</h2>\n\n<pre><code>self.transformRotation = CGAffineTransformRotate([[gestureRecognizer view] transform], [gestureRecognizer rotation]);\n\n[gestureRecognizer view].transform = self.transformRotation;\nif ( [gestureRecognizer rotation] != 0 ) {\n    self.rotate = [gestureRecognizer rotation];\n}\n[gestureRecognizer setRotation:0];\n</code></pre>\n\n<h2>Scaling</h2>\n\n<pre><code>self.transformScale = CGAffineTransformScale([[gestureRecognizer view] transform], [gestureRecognizer scale], [gestureRecognizer scale]);\n[gestureRecognizer view].transform = self.transformScale;\nif ( [gestureRecognizer scale] != 1 ) {\n    self.scale = [gestureRecognizer scale];\n}\n[gestureRecognizer setScale:1];\n</code></pre>\n\n<p>Using the Center point of the view keeps the image closer to the original location when it was saved, the first time it is loaded. Each time it is saved after that the position is the same, because the transform did not change during that session.</p>\n\n<pre><code>- (CGPoint)centerOnCanvas {\n    CGPoint originalCenter = self.center;\n    return originalCenter;\n}\n\n- (CGRect)frameOnCanvas {\n    return CGRectMake(\n        self.preTransformedFrame.origin.x,\n        self.preTransformedFrame.origin.y,\n        self.preTransformedFrame.size.width,\n        self.preTransformedFrame.size.height\n    );\n}\n\n- (CGRect)preTransformedFrame {\n    CGAffineTransform currentTransform = self.transform;\n    self.transform = CGAffineTransformIdentity;\n    CGRect originalFrame = self.bounds;\n    self.transform = currentTransform;\n    return originalFrame;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/w9Zhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w9Zhl.png\" alt=\"enter image description here\"></a></p>\n\n<h2>UPDATE: Slightly off and a little larger than the original</h2>\n\n<p><a href=\"https://i.stack.imgur.com/87Yrj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87Yrj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "date", "nsdateformatter"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1552067145, "post_id": 55067396, "comment_id": 96884265, "body": "Just use <code>H:mm</code> and it will automatically show one or two digits, as needed."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1552067597, "post_id": 55067396, "comment_id": 96884476, "body": "Unrelated, but I\u2019m curious why you\u2019re asking. If this was for the UI, you\u2019d generally not use <code>dateFormat</code> at all, and instead set <code>timeStyle</code> to <code>.short</code> and honor the user\u2019s preferences for 12/24 hour clocks. But if it wasn\u2019t for the UI, e.g. for exchanging with some web service, then for ISO 8601/RFC 3999 dates, two digit hour format is preferred."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 5, "last_activity_date": 1552066606, "creation_date": 1552066606, "answer_id": 55068284, "question_id": 55067396, "link": "https://stackoverflow.com/questions/55067396/remove-leading-zero-with-date-formatter-objc/55068284#55068284", "title": "Remove leading zero with date formatter objc", "body": "<p>Just use <code>H:m</code> and it will parse time strings such as <code>9:1</code>, <code>09:05</code>, <code>12:1</code>, or <code>12:07</code>, etc.</p>\n\n<p>If you want to create a time string from an <code>NSDate</code> then use <code>H:mm</code>. This will give <code>9:15</code> or <code>12:15</code>, etc.</p>\n"}], "owner": {"reputation": 23, "user_id": 8455829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744f86deef75a0b1579e3eaec54e5561?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/8455829/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 55068284, "answer_count": 1, "score": 0, "last_activity_date": 1552066606, "creation_date": 1552063187, "last_edit_date": 1552063523, "question_id": 55067396, "link": "https://stackoverflow.com/questions/55067396/remove-leading-zero-with-date-formatter-objc", "title": "Remove leading zero with date formatter objc", "body": "<p>I set date format to <code>@\"HH:mm\"</code>\nThis works if the hour is double digits. but if the hour is a single digit, I need to set format to <code>@\"H:mm\"</code> so it displays <code>9:00</code>, rather than <code>09:00</code>. How can I parse NSDate or automatically detect which format I need to use?</p>\n"}, {"tags": ["objective-c", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3230253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637e1cf27bb3441b699f8c44b36423c2?s=128&d=identicon&r=PG&f=1", "display_name": "user3230253", "link": "https://stackoverflow.com/users/3230253/user3230253"}, "is_accepted": false, "score": 0, "last_activity_date": 1552289518, "creation_date": 1552289518, "answer_id": 55097057, "question_id": 55066635, "link": "https://stackoverflow.com/questions/55066635/react-native-bridge-interaction-from-react-to-ios/55097057#55097057", "title": "React Native bridge (interaction from react to iOS)", "body": "<p>Managed to find the answer.  I was searching for the wrong thing (newbie mistake).  Here is a link that helped me: <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios.html\" rel=\"nofollow noreferrer\">https://facebook.github.io/react-native/docs/native-modules-ios.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 3230253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637e1cf27bb3441b699f8c44b36423c2?s=128&d=identicon&r=PG&f=1", "display_name": "user3230253", "link": "https://stackoverflow.com/users/3230253/user3230253"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1552289518, "creation_date": 1552060117, "last_edit_date": 1552118399, "question_id": 55066635, "link": "https://stackoverflow.com/questions/55066635/react-native-bridge-interaction-from-react-to-ios", "title": "React Native bridge (interaction from react to iOS)", "body": "<p>I'm currently learning <code>React Native</code> and I've created a small app where I can send events from my <code>Objective-C</code> code to the <code>React</code> side of things.</p>\n\n<p>I'm struggling to understand how to asynchronously send events from React to a listener on the <code>Objective</code>C side.\nI feel I've probably misunderstood a critical part about the Bridging as I'm struggling to search for the correct thing (if it even exists).  Could someone please pointe in the right direction or if this is even feasible.</p>\n"}, {"tags": ["objective-c", "swift", "lldb"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1552071518, "post_id": 55066222, "comment_id": 96886255, "body": "Given that Swift globals aren&#39;t visible in ObjC even in normal code, I would not be surprised if this was totally impossible. (Adding <code>@objc</code> to the Swift expression doesn&#39;t even parse.)"}, {"owner": {"reputation": 20083, "user_id": 2465073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f7ba796598ce99fe9d17b66c119b00?s=128&d=identicon&r=PG", "display_name": "Jim Ingham", "link": "https://stackoverflow.com/users/2465073/jim-ingham"}, "edited": false, "score": 0, "creation_date": 1552329557, "post_id": 55066222, "comment_id": 96959612, "body": "Swift Int&#39;s are structs not classes.  I don&#39;t think you can access swift structs in ObjC in compiled code, so you won&#39;t be able to in the debugger either.  Objects could be made to work though I wouldn&#39;t be surprised if they don&#39;t work out of the box."}, {"owner": {"reputation": 270, "user_id": 569591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deea421f48d4fe384e65f52bf33005bc?s=128&d=identicon&r=PG", "display_name": "343max", "link": "https://stackoverflow.com/users/569591/343max"}, "edited": false, "score": 0, "creation_date": 1552476241, "post_id": 55066222, "comment_id": 97021483, "body": "I used Ints because I hoped they would make a good, simple example. In my initial setup I was trying to access objects."}], "answers": [{"tags": [], "owner": {"reputation": 270, "user_id": 569591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deea421f48d4fe384e65f52bf33005bc?s=128&d=identicon&r=PG", "display_name": "343max", "link": "https://stackoverflow.com/users/569591/343max"}, "is_accepted": true, "score": 1, "last_activity_date": 1553430316, "creation_date": 1553430316, "answer_id": 55323778, "question_id": 55066222, "link": "https://stackoverflow.com/questions/55066222/how-can-i-access-a-swift-convenience-variable-from-objc-in-lldb/55323778#55323778", "title": "How can I access a swift convenience variable from objc in lldb?", "body": "<p>It's possible to create a \"temporary context\" that will be evaluated and then passed in as a variable to the expression by putting it in backticks.</p>\n\n<p>So this is going to work for breakpoints in swift code:</p>\n\n<pre><code>(lldb) expression -l swift -- var $answerSwift = 42\n(lldb) expression -o -l objc -- `$answerSwift`\n42\n</code></pre>\n\n<p>When I have a breakpoint in swift code I tried to set an objc var like this:</p>\n\n<pre><code>(lldb) expression -l objc -- id $label = (id)self.label\nerror: use of undeclared identifier 'self'\n</code></pre>\n\n<p>The objc context can't access the swift variable <code>self</code>, so it fails.</p>\n\n<p>But when putting <code>self.label</code> in backticks to create the temporary swift context I can assign it to the objc variable:</p>\n\n<pre><code>(lldb) expression -l objc -- id $label = (id)`self.label`\n(lldb) expression -l objc -O -- $label\n&lt;UILabel: 0x7f8030c03c40; frame = (44 44; 42 21); text = 'Label'; opaque = NO; autoresize = RM+BM; userInteractionEnabled = NO; layer = &lt;_UILabelLayer: 0x6000019b35c0&gt;&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 270, "user_id": 569591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deea421f48d4fe384e65f52bf33005bc?s=128&d=identicon&r=PG", "display_name": "343max", "link": "https://stackoverflow.com/users/569591/343max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 55323778, "answer_count": 1, "score": 3, "last_activity_date": 1553430316, "creation_date": 1552058520, "question_id": 55066222, "link": "https://stackoverflow.com/questions/55066222/how-can-i-access-a-swift-convenience-variable-from-objc-in-lldb", "title": "How can I access a swift convenience variable from objc in lldb?", "body": "<p>I'm trying to set some convenience variable in a swift context and to access it from a ObjC context.</p>\n\n<pre><code>(lldb) expression -l swift -- var $answerSwift = 42\n(lldb) expression -o -l swift -- $answerSwift\n42\n(lldb) expression -o -l objc -- $answerSwift\nerror: use of undeclared identifier '$answerSwift'\n</code></pre>\n\n<p>The other way around works perfectly fine:</p>\n\n<pre><code>(lldb) expression -l objc -- int $answerObjc = 42\n(lldb) expression -o -l swift -- $answerObjc\n42\n</code></pre>\n\n<p>How can I move a value from the swift scope (?) to the objC scope?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552051677, "post_id": 55064168, "comment_id": 96876316, "body": "&quot;Unexpected character &#255; at line 1&quot; What&#39;s the line? Also, could it be a format or encoding issue?"}, {"owner": {"reputation": 101, "user_id": 2489997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/744f9391c1787a8bc7ad033d3e8fed0d?s=128&d=identicon&r=PG", "display_name": "TheLinuxEvangelist", "link": "https://stackoverflow.com/users/2489997/thelinuxevangelist"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1552051799, "post_id": 55064168, "comment_id": 96876382, "body": "Its the first line of the .strings file. I checked the strings file using <code>plutil -lint</code>. There are no errors. I tried building by emptying the strings file. It still gives me the same error"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2489997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/744f9391c1787a8bc7ad033d3e8fed0d?s=128&d=identicon&r=PG", "display_name": "TheLinuxEvangelist", "link": "https://stackoverflow.com/users/2489997/thelinuxevangelist"}, "is_accepted": true, "score": 0, "last_activity_date": 1552331952, "creation_date": 1552331952, "answer_id": 55108906, "question_id": 55064168, "link": "https://stackoverflow.com/questions/55064168/nslocalizedstringfromtableinbundle-gives-property-list-error-when-calling-within/55108906#55108906", "title": "NSLocalizedStringFromTableInBundle gives property list error when calling within NSObject class", "body": "<p>I was able to find a workaround by making thee method, containing the erratic code, a static method instead of a class method.</p>\n\n<p>Though it's still not clear why the class method didn't work. </p>\n"}], "owner": {"reputation": 101, "user_id": 2489997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/744f9391c1787a8bc7ad033d3e8fed0d?s=128&d=identicon&r=PG", "display_name": "TheLinuxEvangelist", "link": "https://stackoverflow.com/users/2489997/thelinuxevangelist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 55108906, "answer_count": 1, "score": 0, "last_activity_date": 1552331952, "creation_date": 1552051530, "question_id": 55064168, "link": "https://stackoverflow.com/questions/55064168/nslocalizedstringfromtableinbundle-gives-property-list-error-when-calling-within", "title": "NSLocalizedStringFromTableInBundle gives property list error when calling within NSObject class", "body": "<p>I have created my own localizable string files for a few languages (<code>XYZLocalizable.strings</code>) and added them to the bundle. I am able to fetch strings in a UIViewController class using the following line:</p>\n\n<p><code>NSLocalizedStringFromTableInBundle(@\"xyz_plugin_title\", @\"XYZLocalizable\", [XYZPluginDelegate bundle], nil);</code></p>\n\n<p>But the whole build fails if I add this line in a NSObject class:</p>\n\n<pre><code>@interface XYZStringResourceUtil : NSObject\n\n+ (NSString *) getLocalizedString:(NSString *) stringKey;\n.\n.\n\n@end\n\n@implementation XYZStringResourceUtil\n\n+ (NSString *) getLocalizedString:(NSString *) stringKey {\n    NSLocalizedStringFromTableInBundle(stringKey, @\"XYZLocalizable\", [XYZPluginDelegate bundle], nil);\n}\n.\n.\n\n@end\n</code></pre>\n\n<p>The error that I get is:</p>\n\n<pre><code>../DerivedData/XXXXXX/Build/Intermediates.noindex/YYYY.build/Debug-iphonesimulator/ZZZZZ.build/Localization/en.lproj/XYZLocalizable.strings: Unexpected character \u00ff at line 1\n../DerivedData/XXXXXX/Build/Intermediates.noindex/YYYY.build/Debug-iphonesimulator/ZZZZZ.build/Localization/en.lproj/XYZLocalizable.strings: Property List error: Unexpected character \u00ff at line 1 / JSON error: JSON text did not start with array or object and option to allow fragments not set.\n</code></pre>\n\n<p>Strangely, the error pops up even if I delete the <code>.strings</code> file from the disk. The build only passes when I remove the line from the NSObject class.</p>\n\n<p>Does <code>NSLocalizedStringFromTableInBundle</code> have any restrictions on where it can be used?</p>\n\n<p>I have already wasted quite a few days trying to find the root cause of this build failure and fix it. I would really appreciate if someone could help fix this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "nsstring", "nsdate", "nsdateformatter"], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 3, "last_activity_date": 1552038101, "creation_date": 1552038101, "answer_id": 55060463, "question_id": 55060247, "link": "https://stackoverflow.com/questions/55060247/month-changes-while-convert-nsstring-to-nsdate/55060463#55060463", "title": "Month changes while convert NSString to NSDate", "body": "<p>The date format is wrong, just a typo:</p>\n\n<ul>\n<li><code>mm</code> is minute</li>\n<li><p><code>MM</code> is month</p>\n\n<pre><code>[dateFormat setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55060463, "answer_count": 1, "score": -1, "last_activity_date": 1552038101, "creation_date": 1552037390, "question_id": 55060247, "link": "https://stackoverflow.com/questions/55060247/month-changes-while-convert-nsstring-to-nsdate", "title": "Month changes while convert NSString to NSDate", "body": "<p>Here is my code:  </p>\n\n<pre><code>NSString *date = [NSString stringWithFormat:@\"%@\",[[NSUserDefaults standardUserDefaults] stringForKey:@\"start_date\"]];\nNSString *time = [NSString stringWithFormat:@\"%@\",[[NSUserDefaults standardUserDefaults] stringForKey:@\"start_time\"]];  \nNSString *dateAndTime = [NSString stringWithFormat:@\"%@ %@\",date,time];  \n</code></pre>\n\n<p>Here My <strong>date is : 2019-03-14</strong> and my <strong>time is : 18:40:00</strong> and <strong>dateAndTime is: 2019-03-14 18:40:00</strong>  </p>\n\n<p>Now when I convert <code>NSString</code> to <code>NSDate</code> it gives different month.<br>\nHere is my buggy code :</p>\n\n<pre><code>// convert to date\n    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];\n    //dateFormat.dateFormat = @\"dd MMM YYYY HH:mm:ss\";\n    [dateFormat setDateFormat:@\"yyyy-mm-dd HH:mm:ss\"];\n    NSDate *dateTime = [dateFormat dateFromString:dateAndTime];\n    NSLog(@\"dateTime : %@\",dateTime);  \n</code></pre>\n\n<p>Now the o/p is <strong>2019-01-14 13:10:00 +0000</strong><br>\nHere time and month both changed.  </p>\n\n<p>So What is wrong with my code?</p>\n\n<p>Thanks in advance.  </p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 629, "user_id": 11023101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad89074e2ae9f32199c79ed480264962?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh R Patel", "link": "https://stackoverflow.com/users/11023101/nilesh-r-patel"}, "edited": false, "score": 0, "creation_date": 1552034723, "post_id": 55058196, "comment_id": 96867444, "body": "let&#39;s try this - <a href=\"https://gabrielghe.github.io/swift/2016/03/20/swipable-uitableviewcell\" rel=\"nofollow noreferrer\">gabrielghe.github.io/swift/2016/03/20/swipable-uitableviewce&zwnj;&#8203;ll</a>"}, {"owner": {"reputation": 422, "user_id": 723236, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xOBxR.png?s=128&g=1", "display_name": "IBG", "link": "https://stackoverflow.com/users/723236/ibg"}, "reply_to_user": {"reputation": 629, "user_id": 11023101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad89074e2ae9f32199c79ed480264962?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh R Patel", "link": "https://stackoverflow.com/users/11023101/nilesh-r-patel"}, "edited": false, "score": 0, "creation_date": 1552035545, "post_id": 55058196, "comment_id": 96867838, "body": "Sorry for the broad question. I was asking about scrollViews. This has nothing to do with UITableViewCells or swipes."}], "owner": {"reputation": 422, "user_id": 723236, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xOBxR.png?s=128&g=1", "display_name": "IBG", "link": "https://stackoverflow.com/users/723236/ibg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552035370, "creation_date": 1552028188, "last_edit_date": 1552035370, "question_id": 55058196, "link": "https://stackoverflow.com/questions/55058196/ios-add-two-finger-gesture-on-scrollview-with-scrollviewdidzoom-and-touchesmov", "title": "iOS - add two-finger gesture on scrollview with scrollViewDidZoom and touchesMoved", "body": "<p>I'm working on adding a two-finger gesture to pan on a custom 3D view that is in a <code>UIScrollView</code>. The inner workings isn't made by me and is just calculation of points and how to plot them to the 3D view. My main concern is the <code>scrollViewDidZoom</code> and <code>touchesMoved</code> functions conflicting with the approaches I've tried.</p>\n\n<p>I've tried counting the <code>touches</code> of the <code>touchesMoved</code> function, but it's not very stable.</p>\n\n<p>I've tried adding a <code>UIPanGestureRecognizer</code> but it conflicts with the <code>scrollViewDidZoom</code>. Also, since I'm using a custom one, the <code>minimumNumberOfTouches</code> and <code>maximumNumberOfTouches</code> property is not working as expected.</p>\n\n<p>I want to know how to add a two-finger gesture that won't conflict with the existing gestures in the view.</p>\n\n<p>This is written in Obj-c hence the tag, but answers in Swift are welcomed.</p>\n\n<p>This is an excerpt of the code. It's not revealing much, but basically I want to have better control of the <code>panMode</code> bool. </p>\n\n<pre><code>- (UIView*)viewForZoomingInScrollView:(UIScrollView*)scrollView {\n    return zoomDummyView;\n}\n\n- (void)scrollViewDidZoom:(UIScrollView*)scrollView {\n\n    if ([scrollView zoomScale] != 3.0f)\n    {\n        //do calculation on zooming\n    }\n}\n\n- (void)touchesBegan:(NSSet*)touches withEvent:(UIEvent*)event {\n\n    [super touchesBegan:touches withEvent:event];\n\n    NSArray* array = [touches allObjects];\n\n    //this is what I've tried so far - check count of touches and then use the bool to denote pan mode or not\n\n    panMode = array.count &gt; 1 ? true : false\n\n    for ( int i = 0; i &lt; [array count]; ++i )\n    {\n        //do point calculation    \n    }\n}\n\n- (void)touchesMoved:(NSSet*)touches withEvent:(UIEvent*)event {\n\n    [super touchesMoved:touches withEvent:event];\n\n\n    NSArray* array = [touches allObjects];\n    for ( int i = 0; i &lt; [array count]; ++i )\n    {\n        //some point calculation\n\n    // simulation of mouse control for the 3D view, as you can see panMode is used to indicate movement between tilt and pan.\n\n        input.isLeftButtonDown = !panMode; // for tilt mode\n        input.isRightButtonDown = false;\n        input.isMiddleButtonDown = panMode; // for pan mode\n        input.isSideButton1Down = false;\n        input.isSideButton2Down = false;\n\n        //input simulation\n    }\n}\n\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 7066, "user_id": 1041122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/W5vl3.jpg?s=128&g=1", "display_name": "Julian F. Weinert", "link": "https://stackoverflow.com/users/1041122/julian-f-weinert"}, "edited": false, "score": 0, "creation_date": 1552004621, "post_id": 55054930, "comment_id": 96859275, "body": "Please post some code so we know what you actually did. Sounds like you&#39;re using an instance variable for the VC that gets released. You need to keep a strong reference to it. But without any code that&#39;s really hard to tell"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 7066, "user_id": 1041122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/W5vl3.jpg?s=128&g=1", "display_name": "Julian F. Weinert", "link": "https://stackoverflow.com/users/1041122/julian-f-weinert"}, "edited": false, "score": 0, "creation_date": 1552004914, "post_id": 55054930, "comment_id": 96859346, "body": "Its got nothing to do with variables because all infomation is displayed correctly on the view controller when it modals over. It is worth noting that whenever the app reverts, it always goes back to the viewcontroller represented in the tab bar that was last used. Ill post code when i have internet access on my laptop later today."}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 7066, "user_id": 1041122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/W5vl3.jpg?s=128&g=1", "display_name": "Julian F. Weinert", "link": "https://stackoverflow.com/users/1041122/julian-f-weinert"}, "edited": false, "score": 0, "creation_date": 1552005422, "post_id": 55054930, "comment_id": 96859448, "body": "Oh wait. I think I have just discovered the source of the bug. I have a album cover flow view controller set to modal in upon rotation. It would appear that a slight rotation of the phone, say from straight up in the air to flat, is enougth to partially trigger the modal, not enougth to switch to the cover flow, but enougth to close all viewcontrollers down to the tab controller views, looks like I will need to rethink the modal trigger."}], "answers": [{"tags": [], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "is_accepted": true, "score": 0, "last_activity_date": 1552183427, "creation_date": 1552183427, "answer_id": 55083812, "question_id": 55054930, "link": "https://stackoverflow.com/questions/55054930/modal-viewcontroller-disappears-unexpectedly/55083812#55083812", "title": "Modal viewcontroller disappears unexpectedly", "body": "<p>Solved, check the comments for more details.</p>\n"}], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55083812, "answer_count": 1, "score": -3, "last_activity_date": 1552183427, "creation_date": 1552004417, "last_edit_date": 1552019324, "question_id": 55054930, "link": "https://stackoverflow.com/questions/55054930/modal-viewcontroller-disappears-unexpectedly", "title": "Modal viewcontroller disappears unexpectedly", "body": "<p>This question is one that I cant really give an example of as its very hard to capture on camera but it can be explained as this. I have a tabbed view app. Its a music player. Anyway, inside the tabs are tables and upon selecting a song from the table to play the app modals over (pushing or other transition types have the same effect here) to the now playing screen. Half the time that works fine, however the other half of the time it modals over for half a second then jumps back to the previous view controller for no reason. </p>\n\n<p><strong>Can anyone explain what may cause this to happen, or what my next steps should be?</strong> </p>\n\n<p>This can also happen when selecting say an album and causing it to modal to songs in the album or whatever. It will unexpectedly jump back to the album view, likewise for playlists and so on, once again. This happens only half the time. </p>\n"}, {"tags": ["objective-c", "clang", "llvm-clang", "automated-refactoring", "libtooling"], "comments": [{"owner": {"reputation": 433, "user_id": 5520012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEdkJ.png?s=128&g=1", "display_name": "Booo", "link": "https://stackoverflow.com/users/5520012/booo"}, "edited": false, "score": 0, "creation_date": 1552092643, "post_id": 55050555, "comment_id": 96893456, "body": "How about using AST Matcher + replacement ?"}, {"owner": {"reputation": 325, "user_id": 1932547, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcab8cfc79767a04c8984239b2de9fd3?s=128&d=identicon&r=PG", "display_name": "Andrespch", "link": "https://stackoverflow.com/users/1932547/andrespch"}, "reply_to_user": {"reputation": 433, "user_id": 5520012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEdkJ.png?s=128&g=1", "display_name": "Booo", "link": "https://stackoverflow.com/users/5520012/booo"}, "edited": false, "score": 0, "creation_date": 1552125999, "post_id": 55050555, "comment_id": 96899105, "body": "this is what I&#39;ve tried so far, but I run into issues when using this strategy since the compiler fails to resolve the dependencies, so I was wondering if there is a way I can get the AST for the current source file without having to provide knowledge to the compiler about the sub-properties contained in my class, specially since I just need to restructure the tree, and regenerate the code. I&#39;m hoping there is a parameter that will allow me to get the AST without much complication. Any ideas @boq?"}, {"owner": {"reputation": 433, "user_id": 5520012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEdkJ.png?s=128&g=1", "display_name": "Booo", "link": "https://stackoverflow.com/users/5520012/booo"}, "edited": false, "score": 0, "creation_date": 1552135715, "post_id": 55050555, "comment_id": 96901411, "body": "not really... the interesting question to me is why Clang failed parsing your headers. Maybe this post is useful ? <a href=\"https://stackoverflow.com/a/45239905/5520012\">stackoverflow.com/a/45239905/5520012</a>"}, {"owner": {"reputation": 325, "user_id": 1932547, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcab8cfc79767a04c8984239b2de9fd3?s=128&d=identicon&r=PG", "display_name": "Andrespch", "link": "https://stackoverflow.com/users/1932547/andrespch"}, "reply_to_user": {"reputation": 433, "user_id": 5520012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEdkJ.png?s=128&g=1", "display_name": "Booo", "link": "https://stackoverflow.com/users/5520012/booo"}, "edited": false, "score": 0, "creation_date": 1552408994, "post_id": 55050555, "comment_id": 96994880, "body": "Thanks @boq, it does feel like that that I need, unfortunately, I can&#39;t seem to find a way to access that API from the class I&#39;m using <code>ClangTool</code>. I&#39;m trying to guide myself using this tutorial <a href=\"http://clang.llvm.org/docs/LibASTMatchersTutorial.html\" rel=\"nofollow noreferrer\">clang.llvm.org/docs/LibASTMatchersTutorial.html</a> but it hadn&#39;t been very helpful so far!"}], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 1932547, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcab8cfc79767a04c8984239b2de9fd3?s=128&d=identicon&r=PG", "display_name": "Andrespch", "link": "https://stackoverflow.com/users/1932547/andrespch"}, "is_accepted": true, "score": 0, "last_activity_date": 1553853880, "last_edit_date": 1553853880, "creation_date": 1553853138, "answer_id": 55414692, "question_id": 55050555, "link": "https://stackoverflow.com/questions/55050555/get-ast-nodes-of-objective-c-class-without-resolving-dependencies/55414692#55414692", "title": "Get AST Nodes of objective-C class without resolving dependencies", "body": "<p>After doing more research I deveoped the understanding that what I was trying to do is not even possible as <code>LibTooling</code> based tools <code>need syntactic and semantic information about a program</code>. This information can be provided via a <code>compile_commands.json</code> file like stated on the documentation: </p>\n\n<pre><code>Clang Tooling needs a compilation database to figure out specific build options for each file. Currently it can create a compilation database from the compile_commands.json file\n</code></pre>\n\n<p>For Xcode projects, this file can be generated like this: </p>\n\n<p><code>xcodebuild -project PROJECT_NAME.xcodeproj | xcpretty -r json-compilation-database --output compile_commands.json</code></p>\n\n<p>you will need to install the <code>xcpretty</code> gem. (<code>gem install xcpretty</code>)</p>\n\n<p>Source: <a href=\"https://clang.llvm.org/docs/HowToSetupToolingForLLVM.html\" rel=\"nofollow noreferrer\">https://clang.llvm.org/docs/HowToSetupToolingForLLVM.html</a></p>\n"}], "owner": {"reputation": 325, "user_id": 1932547, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dcab8cfc79767a04c8984239b2de9fd3?s=128&d=identicon&r=PG", "display_name": "Andrespch", "link": "https://stackoverflow.com/users/1932547/andrespch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 55414692, "answer_count": 1, "score": 0, "last_activity_date": 1553853880, "creation_date": 1551983325, "last_edit_date": 1552071581, "question_id": 55050555, "link": "https://stackoverflow.com/questions/55050555/get-ast-nodes-of-objective-c-class-without-resolving-dependencies", "title": "Get AST Nodes of objective-C class without resolving dependencies", "body": "<p>I am trying to create a refactoring tool that would allow me to get a syntax tree from an objective-c class so that I can change the structure of the class and output a different version of it that matches my criteria. I am looking at Clang's Libtooling to generate an AST and then take it from there, the issue I'm having is that I need to somehow make sure I provice all paths to all possible headers that are being imported from this source, and that's something I'd like to avoid. </p>\n\n<p>I am wondering if there is a way to generate the AST for a class without having to for example provide paths for the framework containing the class definitions of the properties that the class I wanna refactor hold. </p>\n\n<p>Ideally I would be able to get nodes in raw text of my source file containing things like properties, functions, etc... this way I'd be able to traverse that tree and change its structure to later on regenerate my source in the desired way. </p>\n"}, {"tags": ["objective-c", "cocoa"], "comments": [{"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551991681, "post_id": 55050367, "comment_id": 96854948, "body": "this is very little for us to know why your next button doesn&#39;t work. Verify if your IBAction is wired and method gets called. Also check if actions in your child sheet work."}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551992046, "post_id": 55050367, "comment_id": 96855110, "body": "<a href=\"https://stackoverflow.com/questions/38886877/how-to-perform-ibaction-before-dismiss-sheetviewcontroller-from-same-uibutton\" title=\"how to perform ibaction before dismiss sheetviewcontroller from same uibutton\">stackoverflow.com/questions/38886877/&hellip;</a>"}, {"owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "reply_to_user": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552000473, "post_id": 55050367, "comment_id": 96858108, "body": "@MarekH I have checked that the prepareSavePanel method has been called, but the save panel just doesn&#39;t show up."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1552006376, "post_id": 55050367, "comment_id": 96859667, "body": "Present sheets after another, not on top of another. Is the document new (no <code>fileURL</code>)? Which object is <code>self</code>? Is &quot;nothing happens&quot; &quot;does not save&quot; or &quot;does not display a save panel&quot;?"}, {"owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1552018016, "post_id": 55050367, "comment_id": 96862099, "body": "@Willeke This document is new. self is a subclass of NSDocument. It is &quot;does not display a save panel&quot; (the prepareSavePanel is called)"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552032428, "post_id": 55050367, "comment_id": 96866460, "body": "Also try presentViewControllerAsModalWindow if it makes a change. Little experimenting might uncover the issue. Can you post minimum project (github) where you can reproduce the issue?"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552033765, "post_id": 55050367, "comment_id": 96867011, "body": "Are you creating savePanel by yourself or you expect NSDocument to show it by calling saveDocument?. Confused what doesn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 5072, "user_id": 105728, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d3e75d0e66131200a466ba77f2e3a7f7?s=128&d=identicon&r=PG", "display_name": "Aaron Vegh", "link": "https://stackoverflow.com/users/105728/aaron-vegh"}, "is_accepted": false, "score": 0, "last_activity_date": 1582123307, "creation_date": 1582123307, "answer_id": 60302842, "question_id": 55050367, "link": "https://stackoverflow.com/questions/55050367/cocoa-how-to-display-a-nssavepanel-modal-window-in-front-of-another-modal-view/60302842#60302842", "title": "cocoa - How to display a NSSavePanel modal window in front of another modal view", "body": "<p>I was just dealing with this problem myself. I was calling back from a secondary controller to my main document class with the data to be saved, and trying to call <code>save()</code> was not showing the modal dialog. Turns out I had to explicitly call back to the main thread to ensure the UI is shown:</p>\n\n<pre><code>newServerWindowController?.saveNewDocument = { remote in\n    DispatchQueue.main.async {\n        guard let newDoc = self.document else { return }\n        newDoc.remote = remote\n        newDoc.save(self)\n        self.windowController?.update()\n    }\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582123307, "creation_date": 1551982576, "question_id": 55050367, "link": "https://stackoverflow.com/questions/55050367/cocoa-how-to-display-a-nssavepanel-modal-window-in-front-of-another-modal-view", "title": "cocoa - How to display a NSSavePanel modal window in front of another modal view", "body": "<p>I'm developing a macOS document-based application using cocoa. I want to make a behavior like the start-up of XCode, namely: in a window, begin a modal view whose controller is called <code>viewController</code> by <code>presentViewControllerAsSheet:</code>, and after click the 'Next' button, show NSSavePanel by running <code>[self saveDocument:self]</code>.</p>\n\n<p>My code is:</p>\n\n<pre><code>self.viewController = [[ViewController alloc] initWithNibName:@\"ViewController\" bundle:nil]\n[self.contentViewController presentViewControllerAsSheet:viewController;\n//...some set ups about the NSButton on the view.\n//And in the method to handle the Next Button being clicked:\n[self saveDocument:self];\n</code></pre>\n\n<p>After I run the application, when I click the 'Next' Button, nothing happens.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1551981848, "post_id": 55050171, "comment_id": 96850321, "body": "When you say &quot;SwiftObject,&quot; what do you mean? And what do you mean when you say you can&#39;t &quot;use autorelease block&quot; with them?"}, {"owner": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1552025993, "post_id": 55050171, "comment_id": 96864084, "body": "SwiftObject it is Swift native object. See that answer and WWDC 14 <a href=\"https://stackoverflow.com/a/25880106/3527461\">stackoverflow.com/a/25880106/3527461</a> @RobNapier"}], "answers": [{"comments": [{"owner": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "edited": false, "score": 0, "creation_date": 1552026363, "post_id": 55050363, "comment_id": 96864210, "body": "No! It is not correct! According this answer <a href=\"https://stackoverflow.com/a/25880106/3527461\">stackoverflow.com/a/25880106/3527461</a> and WDDC 14, we don&#39;t get some benefirt if use autorelease pool with Swift Native Object. And autorelease pool it is not only release / retain!  Autorelease pool also invoke drain() function, that need to help to minimize the peak memory footprint. And therefore we need to use autoreleasepool in some situation."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "edited": false, "score": 0, "creation_date": 1552055724, "post_id": 55050363, "comment_id": 96878453, "body": "I think you&#39;re misunderstanding that answer and the discussions at WWDC.You don&#39;t get the benefits in pure Swift types because you don&#39;t have the cost. The <code>-drain</code> method just sends the pending <code>-release</code> messages to all the objects that had previously received <code>-autorelease</code> messages. Swift objects typically do not receive <code>-autorelease</code> messages (though in some cases they do, because they contain internal NSObject subclasses; and in those cases, they participate in the autorelease pool via their internal NSObject subclasses)."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "edited": false, "score": 0, "creation_date": 1552055857, "post_id": 55050363, "comment_id": 96878516, "body": "Note how in the linked slides, the statement is &quot;Working with Objective-C? Still have to manage autorelease pools.&quot; When you&#39;re not working with ObjC, you don&#39;t need to manage autorelease pools (generally, unless you&#39;re implicitly working with ObjC under the covers)."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "edited": false, "score": 0, "creation_date": 1552055951, "post_id": 55050363, "comment_id": 96878576, "body": "Do you have an example of Swift code where you high-water mark is rising in a way that you believe the autorelease pool would address? You should add that example to the question so we can talk through it and how the high-water mark works in Swift."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 1, "last_activity_date": 1551982548, "creation_date": 1551982548, "answer_id": 55050363, "question_id": 55050171, "link": "https://stackoverflow.com/questions/55050171/why-swiftobjects-dont-work-with-autorelease-pool-block/55050363#55050363", "title": "Why SwiftObjects don&#39;t work with autorelease pool block?", "body": "<p>By \"SwiftObject\" I assume you mean \"a Swift object that is not bridged to Objective-C.\"</p>\n\n<p>For those objects, there's little need for an autorelease pool. The concept of autorelease was created to simplify certain manual retain counting situations, most importantly, when you return a value, but you don't want to force the caller to call <code>-release</code> on it because that would be a hassle. So you schedule a <code>-release</code> to be called \"at some future time,\" an \"auto-release.\"</p>\n\n<p>But with ARC, this isn't really necessary. The compiler is happy to do the tedious work of adding extra <code>release</code> calls in all the places they'd be needed, and the optimizer is happy to take them back out from all the places they aren't really needed. Since you cannot create manual retain-counted code in Swift, there's no particular need to have special language support for a convenience system like autorelease.</p>\n\n<p>This isn't to say that non-ObjC Swift objects won't wind up on the autorelease pool; they still can (though generally because of some kind of implicit bridging). But the programmer doesn't need to worry about it.</p>\n"}], "owner": {"reputation": 50, "user_id": 3527461, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001005681870/picture?type=large", "display_name": "Stanislav Kramarenko", "link": "https://stackoverflow.com/users/3527461/stanislav-kramarenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1552026524, "creation_date": 1551981755, "last_edit_date": 1552026524, "question_id": 55050171, "link": "https://stackoverflow.com/questions/55050171/why-swiftobjects-dont-work-with-autorelease-pool-block", "title": "Why SwiftObjects don&#39;t work with autorelease pool block?", "body": "<p>I know, that i can use autorelease block in swift with NSObject and other subclass, but why i can't use it with SwiftObject(see links and stop minus me =))? What fundamental difference between SwiftObject and NSObject? How SwiftObject work with ARC, if autoreleasepool does not work?</p>\n\n<p>Links:</p>\n\n<ol>\n<li><p>stackoverflow.com/a/25880106/3527461</p></li>\n<li><p><a href=\"https://devstreaming-cdn.apple.com/videos/wwdc/2014/418xxtihju1a7v4/418/418_improving_your_app_with_instruments.pdf\" rel=\"nofollow noreferrer\">https://devstreaming-cdn.apple.com/videos/wwdc/2014/418xxtihju1a7v4/418/418_improving_your_app_with_instruments.pdf</a></p></li>\n</ol>\n"}, {"tags": ["objective-c", "xcode", "phphotolibrary", "phlivephoto", "apple-live-photos"], "comments": [{"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552032593, "post_id": 55046473, "comment_id": 96866519, "body": "Can you post full error"}, {"owner": {"reputation": 355, "user_id": 5427353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80ab7ce62786990dcad1c4126b04f5b?s=128&d=identicon&r=PG", "display_name": "Bhavik Rathod", "link": "https://stackoverflow.com/users/5427353/bhavik-rathod"}, "reply_to_user": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552287354, "post_id": 55046473, "comment_id": 96936539, "body": "Printing description of error is already added in question at the end"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552294942, "post_id": 55046473, "comment_id": 96939677, "body": "Add breakpoint to catch the exception, debug from there"}, {"owner": {"reputation": 355, "user_id": 5427353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80ab7ce62786990dcad1c4126b04f5b?s=128&d=identicon&r=PG", "display_name": "Bhavik Rathod", "link": "https://stackoverflow.com/users/5427353/bhavik-rathod"}, "reply_to_user": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552384492, "post_id": 55046473, "comment_id": 96978688, "body": "how and where exactly, everything is working fine only success is getting <code>false</code> and error is <code>NSCocoaErrorDomain</code>"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1552388074, "post_id": 55046473, "comment_id": 96980994, "body": "How about googling &quot;How to add exception breakpoint XCode&quot;?"}], "owner": {"reputation": 355, "user_id": 5427353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e80ab7ce62786990dcad1c4126b04f5b?s=128&d=identicon&r=PG", "display_name": "Bhavik Rathod", "link": "https://stackoverflow.com/users/5427353/bhavik-rathod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551969756, "creation_date": 1551969756, "question_id": 55046473, "link": "https://stackoverflow.com/questions/55046473/ios-not-able-to-save-mov-jpg-as-livephoto-showing-error-nscocoaerrordoma", "title": "iOS - Not able to save .MOV &amp; .jpg as LivePhoto - Showing Error NSCocoaErrorDomain Code=-1 [Objective C]", "body": "<p>I want to create live photo programatically with mixture of jpg and MOV. below is my code for implementation</p>\n\n<p>These are links for files\njpg File - <a href=\"http://18.220.72.107/hd_wallpapers/images/animation/43625_wallpaper-2.jpg\" rel=\"nofollow noreferrer\">http://18.220.72.107/hd_wallpapers/images/animation/43625_wallpaper-2.jpg</a></p>\n\n<p>MOV File - <a href=\"http://18.220.72.107/hd_wallpapers/images/animation/43625_wallpaper-2.MOV\" rel=\"nofollow noreferrer\">http://18.220.72.107/hd_wallpapers/images/animation/43625_wallpaper-2.MOV</a></p>\n\n<p>My MOV and JPG are coming from server. same code is working for Items placed in local files. </p>\n\n<pre><code>        NSData *urlData = [NSData dataWithContentsOfURL:url];\n\n    if ( urlData )\n    {\n        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n        NSString  *documentsDirectory = [paths objectAtIndex:0];\n\n        NSString  *movFilePath = [NSString stringWithFormat:@\"%@/%@\", documentsDirectory,@\"thefile.MOV\"];\n\n        NSData* imgData = [NSData dataWithContentsOfURL:jpegURL];\n\n        if(imgData){\n\n        NSString  *jpegFilePath = [NSString stringWithFormat:@\"%@/%@\", documentsDirectory,@\"thefile.jpg\"];\n\n                [imgData writeToFile:jpegFilePath atomically:YES];\n                [urlData writeToFile:movFilePath atomically:YES];\n\n                NSURL* jpgFileUrl = [NSURL fileURLWithPath:jpegFilePath];\n                NSURL* movFileUrl = [NSURL fileURLWithPath:movFilePath];\n\n                [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n\n                    PHAssetCreationRequest* request = [PHAssetCreationRequest creationRequestForAsset];\n\n                    [request addResourceWithType:PHAssetResourceTypePhoto fileURL:jpgFileUrl options:nil];\n                   [request addResourceWithType:PHAssetResourceTypePairedVideo fileURL:movFileUrl options:nil];\n\n\n                } completionHandler:^(BOOL success, NSError * _Nullable error) {\n                    if (success) {\n\n                    } else {\n\n                    }\n                }];\n        }\n    }\n</code></pre>\n\n<p>Whenever code execute it throws <code>Error Domain=NSCocoaErrorDomain Code=-1</code> </p>\n"}, {"tags": ["objective-c", "ffmpeg"], "comments": [{"owner": {"reputation": 61761, "user_id": 5726027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15e6b3536ef969cf3a9828a0542aac2?s=128&d=identicon&r=PG", "display_name": "Gyan", "link": "https://stackoverflow.com/users/5726027/gyan"}, "edited": false, "score": 0, "creation_date": 1551979836, "post_id": 55044731, "comment_id": 96849341, "body": "Try <code>av_index_search_timestamp(_videoStream, pts, AVSEEK_FLAG_BACKWARD);</code> with a pts greater than a demuxed or expected current pts. If successful, stream index value (&gt;= 0) will be returned. Then do a avio_seek to the frame with that index entry. Then continue with av_read_frame."}], "owner": {"reputation": 31, "user_id": 11066743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be34476591b28834b8de0ca68ec2a318?s=128&d=identicon&r=PG&f=1", "display_name": "je42", "link": "https://stackoverflow.com/users/11066743/je42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551964532, "creation_date": 1551964532, "question_id": 55044731, "link": "https://stackoverflow.com/questions/55044731/ffmpeg-jump-to-most-recent-frame", "title": "FFmpeg jump to most recent frame", "body": "<p>I am looking for some help with dropping/skipping FFmpeg frames. The project I am working on streams live video which when the app goes into the background, upon returning to an active state the video stream spends a long time catching up by fast forwarding itself to the current frame. This isn't ideal and what I am aiming to achieve is have the app immediately jump to the most recent frame.</p>\n\n<p>What I need to do is drop the amount of frames that are being fast-forwarded in order to catch up to the most recent frame. Is this possible? Here is my current code which decodes the frames:</p>\n\n<pre><code>- (NSArray *) decodeFrames: (CGFloat) minDuration\n{\n    NSMutableArray *result = [NSMutableArray array];\n\n    @synchronized (lock) {\n\n        if([_reading integerValue] != 1){\n\n            _reading = [NSNumber numberWithInt:1];\n\n            @synchronized (_seekPosition) {\n                if([_seekPosition integerValue] != -1 &amp;&amp; _seekPosition){\n                    [self seekDecoder:[_seekPosition longLongValue]];\n                    _seekPosition = [NSNumber numberWithInt:-1];\n                }\n            }\n\n            if (_videoStream == -1 &amp;&amp;\n                _audioStream == -1)\n                return nil;\n\n            AVPacket packet;\n\n            CGFloat decodedDuration = 0;\n\n            CGFloat totalDuration = [TimeHelper calculateTimeDifference];\n\n            do {\n\n                BOOL finished = NO;\n                int count = 0;\n\n\n                while (!finished) {\n\n                    if (av_read_frame(_formatCtx, &amp;packet) &lt; 0) {\n                        _isEOF = YES;\n                        [self endOfFileReached];\n                        break;\n                    }\n\n                    [self frameRead];\n\n                    if (packet.stream_index ==_videoStream) {\n\n                        int pktSize = packet.size;\n\n                        while (pktSize &gt; 0) {\n\n                            int gotframe = 0;\n                            int len = avcodec_decode_video2(_videoCodecCtx,\n                                                            _videoFrame,\n                                                            &amp;gotframe,\n                                                            &amp;packet);\n\n                            if (len &lt; 0) {\n                                LoggerVideo(0, @\"decode video error, skip packet\");\n                                break;\n                            }\n\n                            if (gotframe) {\n\n\n                                    if (!_disableDeinterlacing &amp;&amp;\n                                        _videoFrame-&gt;interlaced_frame) {\n\n                                        avpicture_deinterlace((AVPicture*)_videoFrame,\n                                                              (AVPicture*)_videoFrame,\n                                                              _videoCodecCtx-&gt;pix_fmt,\n                                                              _videoCodecCtx-&gt;width,\n                                                              _videoCodecCtx-&gt;height);\n                                    }\n\n                                    KxVideoFrame *frame = [self handleVideoFrame];\n                                    if (frame) {\n\n                                        [result addObject:frame];\n                                        _position = frame.position;\n                                        decodedDuration += frame.duration;\n                                        if (decodedDuration &gt; minDuration)\n                                            finished = YES;\n                            }\n\n\n\n                            } else {\n                                count++;\n                            }\n\n                            if (0 == len)\n                                break;\n\n                            pktSize -= len;\n                        }\n                    }\n                    av_free_packet(&amp;packet);\n                }\n            } while (totalDuration &gt; 0);\n            _reading = [NSNumber numberWithInt:0];\n            return result;\n        }\n\n    }\n\n    return result;\n</code></pre>\n"}, {"tags": ["objective-c", "objective-c-blocks"], "comments": [{"owner": {"reputation": 6583, "user_id": 2015023, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b436c40d6ac76cd76ce05aadb9fbebcf?s=128&d=identicon&r=PG", "display_name": "Mobile Ben", "link": "https://stackoverflow.com/users/2015023/mobile-ben"}, "edited": false, "score": 1, "creation_date": 1552001435, "post_id": 55044299, "comment_id": 96858406, "body": "Another thing you can also do if you want it to be &quot;less confusing&quot; is do <code>__strong typeof(weakSelf) strongSelf = weakSelf;</code>. I do this for added clarity."}], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 6, "last_activity_date": 1551965182, "last_edit_date": 1551965182, "creation_date": 1551964299, "answer_id": 55044641, "question_id": 55044299, "link": "https://stackoverflow.com/questions/55044299/block-didn-t-capture-self-in-typeof-why/55044641#55044641", "title": "Block didn\u2019t capture self in typeof,why?", "body": "<p><code>typeof</code> is not a function, it's a keyword and isn't used at runtime at all. All <code>__strong typeof(self)</code> is doing here is telling the compiler how to evaluate the symbol <code>strongSelf</code>. It doesn't cause any runtime code to be generated, because it doesn't matter at runtime what that type actually is. All those decisions are made at compile-time.</p>\n\n<p>This is the same as defining something as <code>int x;</code> The runtime does not in any way have a reference to \"int\". It's just a C type.</p>\n\n<p><code>typeof</code> is technically a C extension, but Clang supports it as a keyword when in a gcc compatibility mode, which is the default. For more on the extension, see the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Typeof.html\" rel=\"nofollow noreferrer\">GCC documentation</a>.</p>\n"}], "owner": {"reputation": 3473, "user_id": 6144118, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/XRQ9M.jpg?s=128&g=1", "display_name": "\u65e0\u591c\u4e4b\u661f\u8fb0", "link": "https://stackoverflow.com/users/6144118/%e6%97%a0%e5%a4%9c%e4%b9%8b%e6%98%9f%e8%be%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 55044641, "answer_count": 1, "score": 4, "last_activity_date": 1551965182, "creation_date": 1551963262, "question_id": 55044299, "link": "https://stackoverflow.com/questions/55044299/block-didn-t-capture-self-in-typeof-why", "title": "Block didn\u2019t capture self in typeof,why?", "body": "<p>For this:</p>\n\n<pre><code>self.block = ^{\n    self.view.backgroundColor = [UIColor greenColor];\n};\n</code></pre>\n\n<p>There is a retain cycle obviously.</p>\n\n<p>However,there is no retain cycle if the <code>self</code> is in the <code>typeof</code>:</p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\nself.block = ^{\n    __strong typeof(self) strongSelf = weakSelf;\n    strongSelf.view.backgroundColor = [UIColor greenColor];\n};\n</code></pre>\n\n<p>The self's <code>dealloc</code> is called even though the <code>self</code> is in the block.That means the block didn't capture <code>self</code> here.</p>\n\n<p>Why?</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview", "ios-autolayout"], "answers": [{"comments": [{"owner": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "edited": false, "score": 0, "creation_date": 1551968938, "post_id": 55046052, "comment_id": 96842699, "body": "beat me to it by 6 min haha."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "reply_to_user": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "edited": false, "score": 0, "creation_date": 1551969014, "post_id": 55046052, "comment_id": 96842744, "body": "@agibson007 - that&#39;s happened to me more than once :)"}, {"owner": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "edited": false, "score": 0, "creation_date": 1551969071, "post_id": 55046052, "comment_id": 96842780, "body": "I will leave mine since it is swift but I will upvote since you beat me"}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": false, "score": 1, "last_activity_date": 1551968929, "last_edit_date": 1551968929, "creation_date": 1551968498, "answer_id": 55046052, "question_id": 55041861, "link": "https://stackoverflow.com/questions/55041861/resizing-a-multi-line-uilabel-within-a-uiscrollview-breaks-scrolling-why/55046052#55046052", "title": "Resizing a multi line UILabel within a UIScrollView breaks scrolling. Why?", "body": "<p>The problem is here:</p>\n\n<pre><code>- (void)viewDidLayoutSubviews {\n    [super viewDidLayoutSubviews];\n\n    // Setting the ContentOffset will stop scrolling \n    [self.scrollView setContentOffset:CGPointMake(0, 0)];\n}\n</code></pre>\n\n<p>Changing <code>self.labelWidthConstraint.constant</code> when scrolling the scroll view <strong><em>triggers</em></strong> <code>viewDidLayoutSubviews</code>! So, as soon as you start scrolling, your code immediately resets <code>.contentOffset</code> to <code>0,0</code>.</p>\n\n<p>I don't know why you would want to be calling <code>setContentOffset</code> anyway, certainly not in <code>viewDidLayoutSubviews</code>.</p>\n\n<p>Doing a quick test, after removing the <code>viewDidLayoutSubviews</code> code...</p>\n\n<p>I called <code>[self.scrollView setContentOffset:CGPointMake(0, 0)];</code> at the end of <code>viewDidload</code> (and also tried in <code>viewDidAppear</code>)... the scrolling (and constraint constant updating) continues to work fine.</p>\n\n<p>I also added a button that calls <code>[self.scrollView setContentOffset:CGPointMake(0, 0)];</code> when tapped... the scrolling (and constraint constant updating) continues to work fine.</p>\n"}, {"tags": [], "owner": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "is_accepted": true, "score": 1, "last_activity_date": 1551968876, "creation_date": 1551968876, "answer_id": 55046166, "question_id": 55041861, "link": "https://stackoverflow.com/questions/55041861/resizing-a-multi-line-uilabel-within-a-uiscrollview-breaks-scrolling-why/55046166#55046166", "title": "Resizing a multi line UILabel within a UIScrollView breaks scrolling. Why?", "body": "<p>The issue appears to be that when the label constraints are changed it triggers viewDidLayoutSubviews which then sets the UIScrollView to not scroll since set contentOffset is then called over and over.  You could overcome this if you are only wanting to set the UIScrollView to CGPoint.zero on the initial layout by using a bool as a flag.  Apparently since UILabel needs a redraw on size changes it triggers viewDidLayoutSubviews.  Here is an example in Swift.</p>\n\n<pre><code>import UIKit\n\nclass ViewController: UIViewController {\n\n    lazy var scrollView : UIScrollView = {\n        let sv = UIScrollView(frame: self.view.bounds)\n        sv.translatesAutoresizingMaskIntoConstraints = false\n        sv.delegate = self\n        return sv\n    }()\n\n    lazy var contentView : UIView = {\n        let v = UIView(frame: CGRect(x: 0, y: 0, width: self.view.bounds.width * 4, height: self.view.bounds.height))\n        v.translatesAutoresizingMaskIntoConstraints = false\n        return v\n    }()\n\n    lazy var label : UILabel = {\n        let lbl = UILabel(frame: CGRect(x: 0, y: 0, width: self.view.bounds.width, height: 50))\n        lbl.numberOfLines = 0\n        lbl.text = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s\"\n        lbl.minimumScaleFactor = 0.5\n        lbl.adjustsFontSizeToFitWidth = true\n        lbl.font = UIFont.systemFont(ofSize: 22)\n        lbl.translatesAutoresizingMaskIntoConstraints = false\n        return lbl\n    }()\n\n    var widthConstraint : NSLayoutConstraint?\n    var heightConstraint : NSLayoutConstraint?\n    var startingHeight : CGFloat = 0\n    var startingWidth : CGFloat = 0\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        //first scrollview\n        self.view.addSubview(scrollView)\n        pinToAllSides(target: scrollView)\n\n        //now content view\n        self.scrollView.addSubview(contentView)\n        contentView.widthAnchor.constraint(equalTo: self.view.widthAnchor, multiplier: 2).isActive = true\n        contentView.heightAnchor.constraint(equalTo: self.scrollView.heightAnchor, multiplier: 1).isActive = true\n        contentView.backgroundColor = .green\n        pinToAllSides(target: contentView)\n        scrollView.layoutIfNeeded()\n\n        //now the label\n        self.scrollView.addSubview(label)\n        label.leadingAnchor.constraint(equalTo: self.scrollView.leadingAnchor, constant: 20).isActive = true\n        label.topAnchor.constraint(equalTo: self.scrollView.topAnchor, constant: 60).isActive = true\n        label.backgroundColor = .red\n        widthConstraint = NSLayoutConstraint(item: label, attribute: .width, relatedBy: .equal, toItem: nil, attribute: .notAnAttribute, multiplier: 1, constant: self.view.bounds.width/2)\n\n        heightConstraint = NSLayoutConstraint(item: label, attribute: .height, relatedBy: .equal, toItem: nil, attribute: .notAnAttribute, multiplier: 1, constant: 300)\n        if let wc = widthConstraint,\n            let hc = heightConstraint{\n            startingHeight = hc.constant\n            startingWidth = wc.constant\n            label.addConstraint(wc)\n            label.addConstraint(hc)\n        }\n\n    }\n\n    func pinToAllSides(target:UIView){\n        guard let superview = target.superview else{\n            return\n        }\n        target.leadingAnchor.constraint(equalTo: superview.leadingAnchor).isActive = true\n        target.trailingAnchor.constraint(equalTo: superview.trailingAnchor).isActive = true\n        target.topAnchor.constraint(equalTo: superview.topAnchor).isActive = true\n        target.bottomAnchor.constraint(equalTo: superview.bottomAnchor).isActive = true\n    }\n\n    var hasHappenedOnce : Bool = false\n    override func viewDidLayoutSubviews() {\n        super.viewDidLayoutSubviews()\n        if hasHappenedOnce == false{\n            hasHappenedOnce = true\n            self.scrollView.contentOffset = .zero\n        }\n    }\n}\n\nextension ViewController : UIScrollViewDelegate{\n\n    func scrollViewDidScroll(_ scrollView: UIScrollView) {\n        //hopefully it is laggy due to simulator but for the label i would ditch constraints myself\n        self.widthConstraint?.constant = max(startingWidth, self.scrollView.contentOffset.x * 1.1 + startingWidth)\n\n        let height = startingHeight - self.scrollView.contentOffset.x\n        self.heightConstraint?.constant = height\n        label.updateConstraints()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15039, "user_id": 777861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0a8add4df8f2840ec57bdbd29bcb050d?s=128&d=identicon&r=PG", "display_name": "Andrei Herford", "link": "https://stackoverflow.com/users/777861/andrei-herford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 55046166, "answer_count": 2, "score": 0, "last_activity_date": 1551968929, "creation_date": 1551955425, "question_id": 55041861, "link": "https://stackoverflow.com/questions/55041861/resizing-a-multi-line-uilabel-within-a-uiscrollview-breaks-scrolling-why", "title": "Resizing a multi line UILabel within a UIScrollView breaks scrolling. Why?", "body": "<p>I use the following setup:</p>\n\n<ul>\n<li>The ViewControllers view holds a <code>UIScrollView</code> with Top, Leading, Trailing and Bottom constraints to match the VCs size</li>\n<li>The ScrollView contains two subviews:\n\n<ul>\n<li>A <code>UIView</code> to define the content size of the scroll view. It has the same height as the ScrollView but twice its width. Thus only horizontal scrolling is possible.</li>\n<li>A <code>UILabel</code> with some long text with a Height and Width constraint to set a fixed size and a Top and Leading constraint to the ScrollView to set a fixed position.</li>\n</ul></li>\n<li>The width of the Label is changed when the ScrollView scrolls.</li>\n</ul>\n\n<p><strong>Problem:</strong> If the Label is set to use more than one line AND the ScrollViews <code>contenOffset</code> property is set manually the ScrollView stops scrolling.</p>\n\n<pre><code>ViewController View\n+---------------------+\n|+-------------------+| \n||ScrollView         ||\n||+------------------||--------------------+\n|||UIView to define  || content size       |\n|||                  ||                    |\n|||                  ||                    |\n|||  [MultiLine]     ||                    |\n|||  [  Label  ]     ||                    |\n|||                  ||                    |\n||+------------------||--------------------+\n|+-------------------+|\n+---------------------+\n\n\n- (void)viewDidLayoutSubviews {\n    [super viewDidLayoutSubviews];\n\n    // Setting the ContentOffset will stop scrolling \n    //[self.scrollView setContentOffset:CGPointMake(0, 0)];\n}\n\n- (void)scrollViewDidScroll:(UIScrollView *)scrollView {\n    // Resize Label when scrolling\n    self.labelWidthConstraint.constant = MAX (50, 50 + self.scrollView.contentOffset.x);\n}\n</code></pre>\n\n<p>Resizing the label using this code works fine if </p>\n\n<ul>\n<li>the label is set use <strong>one line</strong>. In this case setting the setting the content offset does NOT do any harm. <strong>OR</strong></li>\n<li>the content offset is not changes (not even set to <code>(0, 0)</code>). In this case setting the label to multi line does NOT do any harm</li>\n</ul>\n\n<p>Setting the content offset AND using multi line at the same time <strong>DOES NOT</strong> work. The scroll cannot be scrolled any more.</p>\n\n<p><strong>Why is this?</strong> Any idea what might cause this and how to solve it?</p>\n"}, {"tags": ["objective-c", "download", "upload", "in-app-purchase", "user-data"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 3419192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/LXtQK.jpg?s=128&g=1", "display_name": "Bentley", "link": "https://stackoverflow.com/users/3419192/bentley"}, "edited": false, "score": 0, "creation_date": 1551955781, "post_id": 55041445, "comment_id": 96834730, "body": "I have edited the question, please check again. Thank you."}], "tags": [], "owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "is_accepted": false, "score": 0, "last_activity_date": 1551954295, "creation_date": 1551954295, "answer_id": 55041445, "question_id": 55041129, "link": "https://stackoverflow.com/questions/55041129/upload-download-data-using-apple-hosted-content-in-objective-c/55041445#55041445", "title": "Upload/download data using Apple hosted content in Objective C", "body": "<p>You can not store customize data for store hosted in Apple server. You can only store the data in your own server and map it with mapping the <code>original_transaction_id</code> from Apple in app purchase <a href=\"https://developer.apple.com/library/archive/releasenotes/General/ValidateAppStoreReceipt/Chapters/ReceiptFields.html\" rel=\"nofollow noreferrer\">receipt</a>.</p>\n"}], "owner": {"reputation": 143, "user_id": 3419192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/LXtQK.jpg?s=128&g=1", "display_name": "Bentley", "link": "https://stackoverflow.com/users/3419192/bentley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551955714, "creation_date": 1551953442, "last_edit_date": 1551955714, "question_id": 55041129, "link": "https://stackoverflow.com/questions/55041129/upload-download-data-using-apple-hosted-content-in-objective-c", "title": "Upload/download data using Apple hosted content in Objective C", "body": "<p>I am developing an app with Non-Consumable in-app purchase, and using Apple content hosting. But I don't have an imaging about upload/download data with Apple hosted content.\nI have configured in-app purchase hosted content package, and uploaded to Apple store.</p>\n\n<p>This is my code for restore function.</p>\n\n<pre><code>- (void)buyProduct:(SKProduct *)product {\n\n    SKPayment * payment = [SKPayment paymentWithProduct:product];\n    [[SKPaymentQueue defaultQueue] addPayment:payment];\n}\n\n- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {\n    for (SKPaymentTransaction * transaction in transactions) {\n        switch (transaction.transactionState)\n        {\n            case SKPaymentTransactionStatePurchased:\n                [self completeTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateFailed:\n                [self failedTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateRestored:\n                [self restoreTransaction:transaction];\n            default:\n                break;\n        }\n    };\n}\n\n- (void)restoreTransaction:(SKPaymentTransaction *)transaction {\n    [self provideContentForProductIdentifier:transaction.originalTransaction.payment.productIdentifier];\n    [[SKPaymentQueue defaultQueue] finishTransaction:transaction];\n}\n\n- (void)restorePuchased {\n    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];\n}\n</code></pre>\n\n<p>I want to upload/download user's data like: name, date of birth, city,... for restore in case delete and reinstall.</p>\n\n<p>In the in-app purchase hosted package has the \"ContentInfo.plist\" file, but it just stores ContentVersion and IAPProductIdentifier. Can it store user's data like name, date of birth, etc,...? And how to upload/download this package to Apple hosted content server?</p>\n\n<p>I have added parameters (UserInfo, UserWeight, UserHealthIndicators) like the image\n<a href=\"https://i.stack.imgur.com/qNYqj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qNYqj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can I upload/download these parameters using \"objectforkey\" like</p>\n\n<pre><code>NSString *pathToYourContent = @\"\"; // Path of file\nNSString *contentInfoPath = [pathToYourContent \nstringByAppendingPathComponent:@\"ContentInfo.plist\"];\nNSDictionary *contentInfo = [NSDictionary dictionaryWithContentsOfFile:contentInfoPath];\n\nNSString *userInfo = [contentInfo objectForKey:@\"UserInfo\"];\n</code></pre>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["objective-c", "mopub", "mmf"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1551952801, "post_id": 55040809, "comment_id": 96832748, "body": "Isn&#39;t <code>complete</code> supposed to return something? To be honest, using similar macros is just bad practice."}, {"owner": {"reputation": 1, "user_id": 10585681, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1p38aEKH3PU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC2AC1_VOgmabjtVwHGTOm6usgZ0Q/mo/photo.jpg?sz=128", "display_name": "user10585681", "link": "https://stackoverflow.com/users/10585681/user10585681"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1551953346, "post_id": 55040809, "comment_id": 96833081, "body": "yes.but that is SDK code.that sdk code  run correctly in a new xCode project create by myself. but there is error in a Xcode-project builded by MMF2(clickTeam fusion)."}, {"owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "edited": false, "score": 0, "creation_date": 1551953895, "post_id": 55040809, "comment_id": 96833477, "body": "What is return type of your <code>complete</code>, is it a <code>void</code>? you should return something from it."}], "owner": {"reputation": 1, "user_id": 10585681, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1p38aEKH3PU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC2AC1_VOgmabjtVwHGTOm6usgZ0Q/mo/photo.jpg?sz=128", "display_name": "user10585681", "link": "https://stackoverflow.com/users/10585681/user10585681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1584610879, "creation_date": 1551952510, "last_edit_date": 1584610879, "question_id": 55040809, "link": "https://stackoverflow.com/questions/55040809/objective-c-expanded-from-macro", "title": "objective-c: Expanded from macro", "body": "<p>in Mopub-SDK for iOS.there is an error in calling \"mp_safe_block\" method.</p>\n\n<p><strong>Macro definition:</strong></p>\n\n<pre><code>// Macros for dispatching asynchronously to the main queue\n#define mp_safe_block(block, ...) block ? block(__VA_ARGS__) : nil\n</code></pre>\n\n<p><strong>Called as:</strong></p>\n\n<pre><code>mp_safe_block(complete, NSError.sdkInitializationInProgress, nil);\n</code></pre>\n\n<p><strong>Error message:</strong></p>\n\n<blockquote>\n  <p>Left operand to ? is void, but right operand is of type 'nullptr_t'</p>\n</blockquote>\n\n<p>maybe this error has nothing to do with the SDK itself. how to fix it ?</p>\n\n<p>PS:\nthat sdk code run correctly in a new xCode project created by myself. but there is an error in a Xcode-project builded by MMF2(clickTeam fusion)\nand this xCode-project version is too old. I updateded setting of Xcode.but it still an error.</p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter"], "comments": [{"owner": {"reputation": 1371, "user_id": 726739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YU0K7.jpg?s=128&g=1", "display_name": "jaydev", "link": "https://stackoverflow.com/users/726739/jaydev"}, "edited": false, "score": 0, "creation_date": 1551951520, "post_id": 55040428, "comment_id": 96831927, "body": "my issue is year is not including in sorting , sorting happending with dat and month only"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 3, "creation_date": 1551951628, "post_id": 55040428, "comment_id": 96832009, "body": "What is the format of  <code>scheduleStart</code>?"}, {"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 1, "creation_date": 1551951716, "post_id": 55040428, "comment_id": 96832063, "body": "You are getting Date string from same Dictionary Objects - <code>obj1</code>. Is this typo?"}, {"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1551951744, "post_id": 55040428, "comment_id": 96832086, "body": "Please take a look at: <a href=\"https://stackoverflow.com/a/4355025/4061501\">sorting an NSArray of NSDates</a>"}, {"owner": {"reputation": 1371, "user_id": 726739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YU0K7.jpg?s=128&g=1", "display_name": "jaydev", "link": "https://stackoverflow.com/users/726739/jaydev"}, "reply_to_user": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 1, "creation_date": 1551952016, "post_id": 55040428, "comment_id": 96832250, "body": "Thanks @LalKrishna yes it was typo mistake  obj1."}], "answers": [{"tags": [], "owner": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "is_accepted": false, "score": 0, "last_activity_date": 1551952478, "creation_date": 1551952478, "answer_id": 55040803, "question_id": 55040428, "link": "https://stackoverflow.com/questions/55040428/sort-array-of-dates-with-date-month-and-year-in-objective-c/55040803#55040803", "title": "Sort array of dates with date month and year in objective c", "body": "<p>The problem is for <code>d1</code> you are using <code>obj1</code> and for <code>d2</code> you also use <code>obj1</code>. So just a typo as Lal Krishna wrote. Here's the fixed version:</p>\n\n<pre><code>NSArray *sortedArray = [arrClassSehedule sortedArrayUsingComparator:^NSComparisonResult(NSDictionary *obj1, NSDictionary *obj2) {\n    NSDate *d1 = [appSharedData.CommanFormatForConditional dateFromString:[obj1 objectForKey:@\"scheduleStart\"]];\n    NSDate *d2 = [appSharedData.CommanFormatForConditional dateFromString:[obj2 objectForKey:@\"scheduleStart\"]];\n    return [d1 compare:d2];\n}];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "is_accepted": true, "score": 0, "last_activity_date": 1551953689, "creation_date": 1551953689, "answer_id": 55041221, "question_id": 55040428, "link": "https://stackoverflow.com/questions/55040428/sort-array-of-dates-with-date-month-and-year-in-objective-c/55041221#55041221", "title": "Sort array of dates with date month and year in objective c", "body": "<p>It seems like a typo. </p>\n\n<p>Please replace the code with</p>\n\n<pre><code> NSDate *d2 = [appSharedData.CommanFormatForConditional dateFromString: [obj2 objectForKey:@\"scheduleStart\"]];\n</code></pre>\n"}], "owner": {"reputation": 1371, "user_id": 726739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YU0K7.jpg?s=128&g=1", "display_name": "jaydev", "link": "https://stackoverflow.com/users/726739/jaydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 55041221, "answer_count": 2, "score": 1, "last_activity_date": 1551953689, "creation_date": 1551951315, "last_edit_date": 1551952352, "question_id": 55040428, "link": "https://stackoverflow.com/questions/55040428/sort-array-of-dates-with-date-month-and-year-in-objective-c", "title": "Sort array of dates with date month and year in objective c", "body": "<p>I want to sort an array with a date but the date has only sort with date and month, and not sorting with year my code:</p>\n\n<pre><code>NSArray *sortedArray = [arrClassSehedule sortedArrayUsingComparator:^NSComparisonResult(NSDictionary *obj1, NSDictionary *obj2) {\n    NSDate *d1 = [appSharedData.CommanFormatForConditional dateFromString: [obj1 objectForKey:@\"scheduleStart\"]];\n    NSDate *d2 = [appSharedData.CommanFormatForConditional dateFromString: [obj1 objectForKey:@\"scheduleStart\"]];\n    return [d1 compare: d2];\n}];\n</code></pre>\n\n<p>It's not sorting properly by date.</p>\n"}, {"tags": ["ios", "objective-c", "voip", "jitsi"], "owner": {"reputation": 9847, "user_id": 656600, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3aseC.png?s=128&g=1", "display_name": "rptwsthi", "link": "https://stackoverflow.com/users/656600/rptwsthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551942454, "creation_date": 1551942454, "question_id": 55037921, "link": "https://stackoverflow.com/questions/55037921/jitsi-on-ios-9-call-get-disconnected-after-some-seconds-of-conectiveity", "title": "Jitsi On iOS 9 call get disconnected after some seconds of conectiveity", "body": "<h2>Description</h2>\n\n<p>In my system I initiate call procedure form web and send a connect information to client using XMPP message. Once client receive message it joins the room that web created and call get stablished, all this work fine with my iphone 7 and iPad Mini iPod 5th gen  first gen. </p>\n\n<p>But after few second for connectivity on my iPad Mini (iOS 9.1.3) or iPod (IOS 9.1.1) call automatically disconnects.</p>\n\n<h2>Current behavior</h2>\n\n<p>Call automatically disconnect after few seconds of activity. Check following log for more details </p>\n\n<pre><code>2019-03-07 12:01:43.695 GoSession[255:124762] GSChatManager: xmppStream:didReceiveMessage: message = &lt;message xmlns=\"jabber:client\" from=\"5c480cfbcdf3060cb68d67c6@xmpp.my.domain.path/7v37be3o1f\" to=\"5c480d7ecdf3060cb68d67cc@xmpp.my.domain.path\" type=\"chat\"&gt;&lt;body&gt;[{\"messageText\":\"ROOM_NAME\",\"messageType\":\"call\",\"senderID\":\"5c480cfbcdf3060cb68d67c6\",\"receiverID\":\"5c480d7ecdf3060cb68d67cc\"}]&lt;/body&gt;&lt;/message&gt;\n2019-03-07 12:01:43.696 GoSession[255:124762] Recieved Call Action Notifiation: NSConcreteNotification 0x17f41740 {name = kNotificationCallUpdates; object = &lt;Message: 0x17dc20c0&gt;}\n2019-03-07 12:01:46.586 GoSession[255:124762] -[JitsiCallViewViewController conferenceWillJoin:] \nData:{\n    url = \"https://video.my.domain.path/ROOM_NAME?jwt=SECRET_KEY#config.startWithVideoMuted=1&amp;config.startWithAudioMuted=0\";\n}\n2019-03-07 12:02:06.239 GoSession[255:124762] -[JitsiCallViewViewController conferenceJoined:] \nData:{\n    url = \"https://video.my.domain.path/ROOM_NAME?jwt=SECRET_KEY#config.startWithVideoMuted=1&amp;config.startWithAudioMuted=0\";\n    user = \"{\\\"_jid\\\":\\\"ROOM_NAME@conference.video.my.domain.path/7c010afb\\\",\\\"_id\\\":\\\"7c010afb\\\",\\\"isSelf\\\":false,\\\"myID\\\":\\\"6bb2321b\\\"}\";\n}\n2019-03-07 12:02:06.476 GoSession[255:124762] -[JitsiCallViewViewController conferenceJoined:] \nData:{\n    url = \"https://video.my.domain.path/ROOM_NAME?jwt=SECRET_KEY#config.startWithVideoMuted=1&amp;config.startWithAudioMuted=0\";\n}\n\n2019-03-07 12:02:09.145 GoSession[255:124982] [VideoTrackAdapter] Adapter created for track mixedlabelvideo0\n2019-03-07 12:02:09.842 GoSession[255:127535] candidate:2131708102 1 udp 2122260223 192.168.0.100 58595 typ host generation 0 &lt;- candidate\n2019-03-07 12:02:09.846 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:2131708102 1 udp 2122260223 192.168.0.100 58595 typ host generation 0\n(null)\n2019-03-07 12:02:09.849 GoSession[255:127535] candidate:2131708102 1 udp 2122260223 192.168.0.100 64917 typ host generation 0 &lt;- candidate\n2019-03-07 12:02:09.865 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:2131708102 1 udp 2122260223 192.168.0.100 64917 typ host generation 0\n(null)\n2019-03-07 12:02:09.866 GoSession[255:127535] candidate:831304758 1 tcp 1518280447 192.168.0.100 9 typ host tcptype active generation 0 &lt;- candidate\n2019-03-07 12:02:09.873 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:831304758 1 tcp 1518280447 192.168.0.100 9 typ host tcptype active generation 0\n(null)\n2019-03-07 12:02:09.873 GoSession[255:127535] candidate:831304758 1 tcp 1518280447 192.168.0.100 9 typ host tcptype active generation 0 &lt;- candidate\n2019-03-07 12:02:09.876 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:831304758 1 tcp 1518280447 192.168.0.100 9 typ host tcptype active generation 0\n(null)\n2019-03-07 12:02:09.877 GoSession[255:127535] candidate:4266086002 1 udp 1686052607 103.121.115.140 58595 typ srflx raddr 192.168.0.100 rport 58595 generation 0 &lt;- candidate\n2019-03-07 12:02:09.882 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:4266086002 1 udp 1686052607 103.121.115.140 58595 typ srflx raddr 192.168.0.100 rport 58595 generation 0\n(null)\n2019-03-07 12:02:09.884 GoSession[255:127535] candidate:4266086002 1 udp 1686052607 103.121.115.140 64917 typ srflx raddr 192.168.0.100 rport 64917 generation 0 &lt;- candidate\n2019-03-07 12:02:09.886 GoSession[255:127535] addICECandidateresult: RTCIceCandidate:\n\n0\ncandidate:4266086002 1 udp 1686052607 103.121.115.140 64917 typ srflx raddr 192.168.0.100 rport 64917 generation 0\n(null)\n2019-03-07 12:02:12.146 GoSession[255:124762] [VideoTrackAdapter] Mute event for 8 7560A823-DAD3-4760-9369-F7726AB351DC mixedlabelvideo0\n2019-03-07 12:02:12.474 [error][tid:com.facebook.react.JavaScript] '[JitsiConference.js]', '&lt;n&gt;: ', 'Failed to accept incoming Jingle session', { code: '',\n  reason: 'item-not-found',\n  msg: 'No participant found for: ROOM_NAME@conference.video.my.domain.path/6bb2321b',\n  session: 'JingleSessionPC[p2p=false,initiator=false,sid=du2th86f1h07d]' }\n2019-03-07 12:02:13.472 GoSession[255:124982] [VideoTrackAdapter] Adapter created for track ae4ac347-45f9-4ceb-a89e-9ac66f1bd10b-1\n2019-03-07 12:02:16.508 GoSession[255:124762] [VideoTrackAdapter] Mute event for 9 210366F3-B228-4739-B813-A05096F0F92A ae4ac347-45f9-4ceb-a89e-9ac66f1bd10b-1\n2019-03-07 12:02:50:685 GoSession[255:124762] GSChatManager: xmppStream:didReceiveIQ: iq = &lt;iq xmlns=\"jabber:client\" type=\"get\" id=\"723-4451\" from=\"xmpp.my.domain.path\" to=\"5c480d7ecdf3060cb68d67cc@xmpp.my.domain.path/ag9bbenlq0\"&gt;&lt;ping xmlns=\"urn:xmpp:ping\"&gt;&lt;/ping&gt;&lt;/iq&gt;\n2019-03-07 12:02:50:688 GoSession[255:124762] GSChatManager: xmppStream:didSendIQ:, IQ = &lt;iq type=\"error\" to=\"xmpp.my.domain.path\" id=\"723-4451\"&gt;&lt;ping xmlns=\"urn:xmpp:ping\"&gt;&lt;/ping&gt;&lt;error type=\"cancel\" code=\"501\"&gt;&lt;feature-not-implemented xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"&gt;&lt;/feature-not-implemented&gt;&lt;/error&gt;&lt;/iq&gt;\n\n\n\n\n\nREJECTION LOG\n2019-03-07 12:03:25.492 GoSession[255:124762] -[JitsiCallViewViewController conferenceFailed:] \nData:{\n    error = \"conference.setup_failed\";\n    url = \"https://video.my.domain.path/ROOM_NAME?jwt=SECRET_KEY#config.startWithVideoMuted=1&amp;config.startWithAudioMuted=0\";\n    user = self;\n}\n2019-03-07 12:03:25.665 GoSession[255:127887] [VideoTrackAdapter] Adapter removed for track mixedlabelvideo0\n2019-03-07 12:03:25.743 GoSession[255:127887] [VideoTrackAdapter] Adapter removed for track ae4ac347-45f9-4ceb-a89e-9ac66f1bd10b-1\n2019-03-07 12:03:26.003 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: PARTICIPANT_JOINED_SOUND'\n2019-03-07 12:03:26.030 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: PARTICIPANT_LEFT_SOUND'\n2019-03-07 12:03:26.054 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: RECORDING_OFF_SOUND'\n2019-03-07 12:03:26.086 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: RECORDING_ON_SOUND'\n2019-03-07 12:03:26.117 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: OUTGOING_CALL_EXPIRED_SOUND_ID'\n2019-03-07 12:03:26.142 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: OUTGOING_CALL_REJECTED_SOUND_ID'\n2019-03-07 12:03:26.189 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: OUTGOING_CALL_RINGING_SOUND_ID'\n2019-03-07 12:03:26.215 [error][tid:com.facebook.react.JavaScript] '[__filename]', '&lt;l&gt;: ', '_REMOVE_AUDIO_ELEMENT: no sound for id: OUTGOING_CALL_START_SOUND_ID'\n2019-03-07 12:03:27.314 GoSession[255:124981] 12:03:27.314 ERROR:    [worker_thread 0x0x17ed8b80] AVAudioSession.mm:692: -[AVAudioSession setActive:withOptions:error:]: Deactivating an audio session that has running I/O. All I/O should be stopped or paused prior to deactivating the audio session.\n2019-03-07 12:03:32.243 GoSession[255:124762] GSChatManager: xmppStream:didReceiveMessage: message = &lt;message xmlns=\"jabber:client\" from=\"5c480cfbcdf3060cb68d67c6@xmpp.my.domain.path/7v37be3o1f\" to=\"5c480d7ecdf3060cb68d67cc@xmpp.my.domain.path\" type=\"chat\"&gt;&lt;body&gt;[{\"messageText\":\"ROOM_NAME\",\"messageType\":\"cut\",\"senderID\":\"5c480cfbcdf3060cb68d67c6\",\"receiverID\":\"5c480d7ecdf3060cb68d67cc\"}]&lt;/body&gt;&lt;/message&gt;\n2019-03-07 12:03:32.244 GoSession[255:124762] Recieved Call Action Notifiation: NSConcreteNotification 0x17ff76d0 {name = kNotificationCallUpdates; object = &lt;Message: 0x17d20860&gt;}\n</code></pre>\n\n<h2>Expected Behavior</h2>\n\n<p>Call should remain active unless either of calling party disconnect those.</p>\n\n<h2>Possible Solution</h2>\n\n<p>I think this have something to do with device capabilities, so better resource management will be helpful.</p>\n\n<h2>Steps to reproduce</h2>\n\n<ol>\n<li>Launch application on an iPad mini first gen, or ipod 5th gen</li>\n<li>Connect a call</li>\n<li>Leave it open for about 60-12 sec</li>\n</ol>\n\n<p>This will automatically disconnect the call.</p>\n\n<h1>Environment details</h1>\n\n<p>Device: iPOD 5th Gen, iPad Mini\niOS: 9.1.1, 9.1.3\nInternet : 40 Mbps Wifi Connection\nOne calling end is Web.</p>\n"}, {"tags": ["ios", "objective-c", "screen-orientation"], "comments": [{"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1551940539, "post_id": 55037418, "comment_id": 96826388, "body": "<b>ViewController</b> orientation automatically changed with <b>Device orientation</b> so the device orientation is your <b>ViewController orientation</b>."}, {"owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "reply_to_user": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1551940705, "post_id": 55037418, "comment_id": 96826446, "body": "No.  I Manually sets the orientation of a view controller."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1551940997, "post_id": 55037418, "comment_id": 96826541, "body": "could you share your code about setting orientation of view controllers ?"}, {"owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "reply_to_user": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1551941135, "post_id": 55037418, "comment_id": 96826602, "body": "@ArashEtemad updated"}], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 2714702, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/BomCK.jpg?s=128&g=1", "display_name": "Vizllx", "link": "https://stackoverflow.com/users/2714702/vizllx"}, "is_accepted": false, "score": 0, "last_activity_date": 1552023437, "last_edit_date": 1552023437, "creation_date": 1551942344, "answer_id": 55037895, "question_id": 55037418, "link": "https://stackoverflow.com/questions/55037418/how-to-detect-current-orientation-of-a-view-controller-ios/55037895#55037895", "title": "How to detect current orientation of a view controller iOS?", "body": "<p>As said, you want to check the current orientation set in your root/ top most  VC.</p>\n\n<p>So you can detect with this code:- </p>\n\n<pre><code>if (topViewController.responds(to: Selector((\"canRotate\")))) else{\n        // view is set to portrait \n        return .portrait;\n    }\n    // // view is set to landscape \n    return .allButUpsideDown;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "is_accepted": false, "score": 0, "last_activity_date": 1551943679, "creation_date": 1551943679, "answer_id": 55038241, "question_id": 55037418, "link": "https://stackoverflow.com/questions/55037418/how-to-detect-current-orientation-of-a-view-controller-ios/55038241#55038241", "title": "How to detect current orientation of a view controller iOS?", "body": "<p>You can set orientation of each view controller by:</p>\n\n<pre><code>class YourViewController: UIViewController {\n\n    var _orientations = UIInterfaceOrientationMask.landscape\n    override var supportedInterfaceOrientations : UIInterfaceOrientationMask {\n    get { return self._orientations }\n    set { self._orientations = newValue }\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n    }\n\n    //...\n}\n</code></pre>\n\n<p>and then read this property everywhere you want like:</p>\n\n<pre><code>let vc = YourViewController()\nprint(vc._orientation)\n</code></pre>\n"}], "owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552023437, "creation_date": 1551940282, "last_edit_date": 1551941096, "question_id": 55037418, "link": "https://stackoverflow.com/questions/55037418/how-to-detect-current-orientation-of-a-view-controller-ios", "title": "How to detect current orientation of a view controller iOS?", "body": "<p>In my application manually sets the orientation according to view controller. Besides this view controllers, I need to detect current orientation of the most top view controller(<strong>Not the Device orientation</strong>). Is it possible?</p>\n\n<p>This is how I set the orientation.</p>\n\n<pre><code>-(BOOL)shouldAutorotate {\n    return YES;\n}\n\n-(UIInterfaceOrientationMask)supportedInterfaceOrientations {\n    return UIInterfaceOrientationMaskPortrait;\n}\n\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation\n{\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "virtual-memory"], "comments": [{"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1551948408, "post_id": 55037264, "comment_id": 96829968, "body": "You need to upload code here. Without required info, no one will understand what you are talking about"}, {"owner": {"reputation": 2989, "user_id": 1494133, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Qp0h6.jpg?s=128&g=1", "display_name": "Nativ", "link": "https://stackoverflow.com/users/1494133/nativ"}, "edited": false, "score": 0, "creation_date": 1617625044, "post_id": 55037264, "comment_id": 118347518, "body": "It might be related to how OSX manages the memory, I&#39;m not sure but maybe the phys_footprint contains the internal and compressed memory sizes as well."}], "owner": {"reputation": 795, "user_id": 2293677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa2I1.jpg?s=128&g=1", "display_name": "foogry", "link": "https://stackoverflow.com/users/2293677/foogry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551939686, "creation_date": 1551939686, "question_id": 55037264, "link": "https://stackoverflow.com/questions/55037264/whats-the-different-between-task-basic-info-resident-size-and-task-basic-info", "title": "What&#39;s the different between task_basic_info.resident_size and task_basic_info. phys_footprint?", "body": "<p>Is phys_footprint means the total memory alloc by App,resident_size means the resident part of memory alloc by App?I found some times resident_size is bigger than phys_footprint,that's why?</p>\n"}, {"tags": ["ios", "objective-c", "linkedin-api"], "owner": {"reputation": 11, "user_id": 11163687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946e17e6fd7895f44e80e67235ee554f?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/11163687/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551944035, "creation_date": 1551939320, "last_edit_date": 1551944035, "question_id": 55037183, "link": "https://stackoverflow.com/questions/55037183/linkedin-session-always-return-nil-or-invalid-session", "title": "Linkedin Session always return nil or invalid session", "body": "<p>I am trying to fetch LinkedIn session through SDK but it always returns <code>nil</code>. I got success authentication but the session object is always <code>nil</code>. How can I fix this?</p>\n\n<pre><code>[LISDKSessionManager createSessionWithAuth:[NSArray arrayWithObjects:LISDK_BASIC_PROFILE_PERMISSION, LISDK_EMAILADDRESS_PERMISSION, nil]\n                                         state:@\"some state\"\n                        showGoToAppStoreDialog:YES\n                                  successBlock:^(NSString *returnState) {\n\n                                      NSLog(@\"%s\",\"success called!\");\n                                      LISDKSession *session = [[LISDKSessionManager sharedInstance] session];\n                                      NSLog(@\"value=%@ isvalid=%@\",[session value],[session isValid] ? @\"YES\" : @\"NO\");\n                                      NSMutableString *text = [[NSMutableString alloc] initWithString:[session.accessToken description]];\n                                      [text appendString:[NSString stringWithFormat:@\",state=\\\"%@\\\"\",returnState]];\n                                      NSLog(@\"Response label text %@\",text);\n                                      //_responseLabel.text = text;\n                                      //self.lastError = nil;\n                                      // retain cycle here?\n                                     // [self updateControlsWithResponseLabel:NO];\n\n                                  }\n                                    errorBlock:^(NSError *error) {\n                                        NSLog(@\"%s %@\",\"error called! \", [error description]);\n                                       // self.lastError = error;\n                                        //  _responseLabel.text = [error description];\n                                       // [self updateControlsWithResponseLabel:YES];\n                                    }\n     ];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ejabberd", "xmppframework"], "comments": [{"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1551949387, "post_id": 55037051, "comment_id": 96830567, "body": "The resource and the domain will be handled by the XMPP framework once you assign the JIDString."}, {"owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "reply_to_user": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1551952390, "post_id": 55037051, "comment_id": 96832499, "body": "@SachinVas But I want to assign to same resource when ever I connect to xmpp server. Is this also handled in  the XMPP framework?"}, {"owner": {"reputation": 1285, "user_id": 211453, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/16e23ad799639e30ef87c145b6df84ce?s=128&d=identicon&r=PG", "display_name": "Wojtek", "link": "https://stackoverflow.com/users/211453/wojtek"}, "edited": false, "score": 0, "creation_date": 1551972549, "post_id": 55037051, "comment_id": 96844993, "body": "Why do you need same resource to use push notifications? For example with Tigase Push component for Tigase XMPP Server there is no such limitation (vide <a href=\"https://docs.tigase.net/tigase-push/1.0.0/Tigase_Push_Notifications_Guide/html/\" rel=\"nofollow noreferrer\">docs.tigase.net/tigase-push/1.0.0/&hellip;</a>); whats more Tigase Swift library for iOS (<a href=\"https://docs.tigase.net/tigase-swift/snapshot/Tigase_Swift_Guide/html/\" rel=\"nofollow noreferrer\">docs.tigase.net/tigase-swift/snapshot/Tigase_Swift_Guide/ht&zwnj;&#8203;ml</a>) supports setting resource"}, {"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1552033182, "post_id": 55037051, "comment_id": 96866764, "body": "You can assign a different resource, just look at the overloaded init methods."}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 6634586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTWSi.jpg?s=128&g=1", "display_name": "G.Kumar", "link": "https://stackoverflow.com/users/6634586/g-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1553240108, "creation_date": 1553240108, "answer_id": 55294854, "question_id": 55037051, "link": "https://stackoverflow.com/questions/55037051/how-can-i-set-resource-in-xmpp-framework-in-ios/55294854#55294854", "title": "How can I set Resource in XMPP Framework in iOS", "body": "<p>You can set a resource by changing the init method of XMPPJID to</p>\n\n<pre><code>[xmppStream setMyJID:[XMPPJID jidWithString:myJID resource:resourceId]];\n</code></pre>\n\n<p>This is an overloaded method in XMPPJID</p>\n"}], "owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 55294854, "answer_count": 1, "score": 0, "last_activity_date": 1553240108, "creation_date": 1551938635, "last_edit_date": 1553232193, "question_id": 55037051, "link": "https://stackoverflow.com/questions/55037051/how-can-i-set-resource-in-xmpp-framework-in-ios", "title": "How can I set Resource in XMPP Framework in iOS", "body": "<p>I am creating a chat app using ejabberd in iOS &amp; android. The application also have  offline push notification. To do this I need to connect to same resource every time I login. In android , I can do this as follows</p>\n\n<pre><code> XMPPTCPConnectionConfiguration.Builder confBuilder = XMPPTCPConnectionConfiguration.builder()\n            .setServiceName(serviceName)\n            .setUsernameAndPassword(jidParts[0], password)\n            .setConnectTimeout(3000)\n            // .setDebuggerEnabled(true)\n            .setResource(\"xxxxx\")\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.required);\n</code></pre>\n\n<p>But in IOS , I can't <code>setResource</code> because I don't know how to set this on iOS.\nthe login code is as follows</p>\n\n<pre><code> - (BOOL)connect:(NSString *)myJID withPassword:(NSString *)myPassword auth:(AuthMethod)auth hostname:(NSString *)hostname port:(int)port\n{\n    if (![xmppStream isDisconnected]) {\n        [self disconnect];\n    }\n\n    if (myJID == nil || myPassword == nil) {\n        return NO;\n    }\n\n    NSLog(@\"Connect using JID %@\", myJID);\n\n    [xmppStream setMyJID:[XMPPJID jidWithString:myJID]];\n    username = myJID;\n    password = myPassword;\n    authMethod = auth;\n\n    xmppStream.hostName = (hostname ? hostname : [username componentsSeparatedByString:@\"@\"][1]);\n    if(port){\n        xmppStream.hostPort = port;\n    }\n\n    NSError *error = nil;\n    if (port == 5223) {\n        self.xmppReconnect.usesOldSchoolSecureConnect = YES;\n        if (![xmppStream oldSchoolSecureConnectWithTimeout:30 error:&amp;error])\n        {\n            DDLogError(@\"Error connecting: %@\", error);\n            if (self.delegate){\n                [self.delegate onLoginError:error];\n            }\n\n            return NO;\n        }\n    } else {\n        if (![xmppStream connectWithTimeout:30 error:&amp;error])\n        {\n            DDLogError(@\"Error connecting: %@\", error);\n            if (self.delegate){\n                [self.delegate onLoginError:error];\n            }\n\n            return NO;\n        }\n    }\n\n    return YES;\n}\n</code></pre>\n\n<p>How can I ad resource in above code?</p>\n"}, {"tags": ["objective-c", "swift", "casting", "selector"], "comments": [{"owner": {"reputation": 3788, "user_id": 463439, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/38b6b494ee3ce4d0c3802358cc5ee2e6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/463439/bryan"}, "edited": false, "score": 0, "creation_date": 1551925697, "post_id": 55035008, "comment_id": 96822581, "body": "The Selector approach does work fine in a Playground. I&#39;d just like confirmation that there isn&#39;t something more complex happening in the Swift-ObjC interaction, since Swift wants a concrete type for the selector (Foo.) and Objective-C doesn&#39;t care."}], "answers": [{"comments": [{"owner": {"reputation": 3788, "user_id": 463439, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/38b6b494ee3ce4d0c3802358cc5ee2e6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/463439/bryan"}, "edited": false, "score": 0, "creation_date": 1551925470, "post_id": 55035049, "comment_id": 96822534, "body": "yep, thanks. I don&#39;t have the ability to add a protocol in this case, which is what I put in the original post. That&#39;s why I&#39;m looking to typecast. Rearchitecting the app from the ground up isn&#39;t doable---it&#39;s hundreds of thousands of lines of code. Foo and Bar in this case are auto-generated from Core Data and a complicated process; they aren&#39;t written by hand."}, {"owner": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 0, "creation_date": 1551926207, "post_id": 55035049, "comment_id": 96822703, "body": "<code>var specialProperty { get set }</code> ?? Btw <code>item</code> is immutable"}, {"owner": {"reputation": 3788, "user_id": 463439, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/38b6b494ee3ce4d0c3802358cc5ee2e6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/463439/bryan"}, "edited": false, "score": 0, "creation_date": 1551927914, "post_id": 55035049, "comment_id": 96823067, "body": "Hmm. Given that &quot;Foo.h/m&quot; and &quot;Bar.h/m&quot; are created by Core Data and the actual source doesn&#39;t exist (auto-generated by Xcode during build), I thought I wouldn&#39;t be able to declare that the classes adopt a protocol. What I CAN do is add a separate Swift file that declares the &quot;Special&quot; protocol and then uses an extension to declare that Foo and Bar adopt Special. Less than ideal, because I have to update my protocol whenever I add/remove/change properties for Foo and Bar in Core Data, but it does work."}], "tags": [], "owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "is_accepted": true, "score": 4, "last_activity_date": 1551925194, "creation_date": 1551925194, "answer_id": 55035049, "question_id": 55035008, "link": "https://stackoverflow.com/questions/55035008/swift-typecasting-objects-that-have-identical-selectors/55035049#55035049", "title": "Swift: Typecasting Objects That Have Identical Selectors", "body": "<p>The correct approach to this, in both Objective C and Swift, is to use a protocol:</p>\n\n<pre><code>protocol Special {\n    var specialProperty { get set }\n}\n\nclass Foo: NSObject, Special {\n    var specialProperty: String = \"hello\"\n}\n\nclass Bar: NSObject, Special {\n    var specialProperty: String = \"goodbye\"\n}\n\nlet collection: [Special] = ...\n\nfor item in collection {\n    item.specialProperty = \"new value\" \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 6138463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TU1C.png?s=128&g=1", "display_name": "Govind Prajapati", "link": "https://stackoverflow.com/users/6138463/govind-prajapati"}, "is_accepted": false, "score": 3, "last_activity_date": 1551929675, "creation_date": 1551929675, "answer_id": 55035640, "question_id": 55035008, "link": "https://stackoverflow.com/questions/55035008/swift-typecasting-objects-that-have-identical-selectors/55035640#55035640", "title": "Swift: Typecasting Objects That Have Identical Selectors", "body": "<p>I think you can consider this approach as well</p>\n\n<pre><code>let collection: [AnyObject] // Assume this contains Foo and Bar instances.\n\nfor item in collection \n{\n    guard let aFoo = item as? Foo else {\n    guard let aBar = item as? Bar else { continue } \n\n\u00a0   aBar.specialProperty = \"New value\"\n\n    continue\n    } \n\n    aFoo.specialProperty = \"New value\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 957, "user_id": 6138463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TU1C.png?s=128&g=1", "display_name": "Govind Prajapati", "link": "https://stackoverflow.com/users/6138463/govind-prajapati"}, "edited": false, "score": 0, "creation_date": 1551932497, "post_id": 55035822, "comment_id": 96824070, "body": "This is exactly what I suggested in my answer but using &#39;guard&#39;."}, {"owner": {"reputation": 3788, "user_id": 463439, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/38b6b494ee3ce4d0c3802358cc5ee2e6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/463439/bryan"}, "edited": false, "score": 0, "creation_date": 1551934071, "post_id": 55035822, "comment_id": 96824475, "body": "This does not work. Foo is not convertible to Bar and Bar is not convertible to Foo."}, {"owner": {"reputation": 121, "user_id": 6180219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e79009c1211f9954f6c4c9a158b5f8?s=128&d=identicon&r=PG&f=1", "display_name": "LiLi Kazine", "link": "https://stackoverflow.com/users/6180219/lili-kazine"}, "edited": false, "score": 0, "creation_date": 1551934476, "post_id": 55035822, "comment_id": 96824575, "body": "There must be a misunderstanding. I&#39;m not converting between Foo and Bar, I&#39;m converting an item to Foo or Bar. The code above I have tested, it definitely works out.@Bryan"}], "tags": [], "owner": {"reputation": 121, "user_id": 6180219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e79009c1211f9954f6c4c9a158b5f8?s=128&d=identicon&r=PG&f=1", "display_name": "LiLi Kazine", "link": "https://stackoverflow.com/users/6180219/lili-kazine"}, "is_accepted": false, "score": 0, "last_activity_date": 1551931060, "creation_date": 1551931060, "answer_id": 55035822, "question_id": 55035008, "link": "https://stackoverflow.com/questions/55035008/swift-typecasting-objects-that-have-identical-selectors/55035822#55035822", "title": "Swift: Typecasting Objects That Have Identical Selectors", "body": "<p>Besides using protocol, I believe it can also be done using optional cast </p>\n\n<pre><code>for item in collection \n{\n    if let foo = item  as? Foo\n    {\n        // only when casting to Foo successfully\n        foo.specialProperty\n    } \n    if let bar = item  as? Bar\n    {\n        // only when casting to Bar successfully\n        bar.specialProperty\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 3788, "user_id": 463439, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/38b6b494ee3ce4d0c3802358cc5ee2e6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/463439/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55035049, "answer_count": 3, "score": 0, "last_activity_date": 1551931060, "creation_date": 1551924860, "last_edit_date": 1551925619, "question_id": 55035008, "link": "https://stackoverflow.com/questions/55035008/swift-typecasting-objects-that-have-identical-selectors", "title": "Swift: Typecasting Objects That Have Identical Selectors", "body": "<h1>The Situation</h1>\n\n<p>Suppose I have two classes:</p>\n\n<pre><code>class Foo: NSObject {\n    var specialProperty: String = \"hello\"\n}\n\nclass Bar: NSObject {\n    var specialProperty: String = \"goodbye\"\n}\n</code></pre>\n\n<p>Now suppose I'm working with a collection that I <strong>KNOW</strong> contains only <code>Foo</code> and <code>Bar</code> instances. I know that <strong>every</strong> object in the array will respond to the <code>specialProperty</code> selector, so in Objective-C I could just cast, like this:</p>\n\n<pre><code>for id thing in arrayOfThings\n{\n    NSLog(@\"specialProperty: %@\", ((Foo *)thing).specialProperty);\n}\n</code></pre>\n\n<p>How can I approach this in Swift? I cannot add a common superclass to <code>Foo</code> and <code>Bar</code>, nor can I add a protocol to them. In reality, <code>Foo</code> and <code>Bar</code> are <code>NSManagedObject</code> subclasses that represent model items in my app.</p>\n\n<hr>\n\n<h1>Selector?</h1>\n\n<p>I have considered this approach:</p>\n\n<pre><code>let collection: [AnyObject] // Assume this contains Foo and Bar instances.\nlet sel: Selector = #selector(setter: Foo.specialProperty)\n\nfor item in collection \n{\n    if item.respondsToSelector(sel) \n    {\n        instance.perform(sel, with: \"new value\")\n    } \n}\n</code></pre>\n\n<p>Will calling <code>sel</code> on instances of <code>Bar</code> work, even though I told Swift the type for the selector was <code>Foo.</code>? It seems like it should because the Objective-C selector mechanism doesn't care what the class of the Object is; that's not part of the selector signature. But I'm unsure if there's something in the Swift-ObjectiveC interaction that I'm overlooking.</p>\n\n<hr>\n\n<h1>Context</h1>\n\n<p>I am migrating this app from Objective-C.</p>\n"}]